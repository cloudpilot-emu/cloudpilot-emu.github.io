(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{78:(K,Se,_)=>{"use strict";var S=_(8447);K.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var W="abcdefghijklmnopqrst",R=W.split(""),f={},P=0;P<R.length;++P)f[R[P]]=R[P];var D=Object.assign({},f),F="";for(var N in D)F+=N;return W!==F}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var W=Object.preventExtensions({1:2});try{Object.assign(W,"xy")}catch{return"y"===W[1]}return!1}()?S:Object.assign}},158:(K,Se,_)=>{"use strict";var S=_(8344),k=_(5712);if(_(1459)()||_(6497)()){var L=Symbol.iterator;K.exports=function(me){return null!=me&&typeof me[L]<"u"?me[L]():S(me)?Array.prototype[L].call(me):void 0}}else{var W=_(7638),R=_(6837),f=_(2521),P=f("%Map%",!0),D=f("%Set%",!0),F=_(3463),N=F("Array.prototype.push"),H=F("String.prototype.charCodeAt"),O=F("String.prototype.slice"),T=function(me){var de=0;return{next:function(){var X,U=de>=me.length;return U||(X=me[de],de+=1),{done:U,value:X}}}},ie=function(me,de){if(W(me)||S(me))return T(me);if(R(me)){var De=0;return{next:function(){var X=function(me,de){if(de+1>=me.length)return de+1;var U=H(me,de);if(U<55296||U>56319)return de+1;var X=H(me,de+1);return X<56320||X>57343?de+1:de+2}(me,De),Ve=O(me,De,X);return De=X,{done:X>me.length,value:Ve}}}}return de&&typeof me["_es6-shim iterator_"]<"u"?me["_es6-shim iterator_"]():void 0};if(P||D){var ce=_(5217),be=_(9116),Q=F("Map.prototype.forEach",!0),Z=F("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var Y=F("Map.prototype.iterator",!0),ge=F("Set.prototype.iterator",!0);var Ie=F("Map.prototype.@@iterator",!0)||F("Map.prototype._es6-shim iterator_",!0),Ye=F("Set.prototype.@@iterator",!0)||F("Set.prototype._es6-shim iterator_",!0);K.exports=function(me){return function(me){if(ce(me)){if(Y)return k(Y(me));if(Ie)return Ie(me);if(Q){var de=[];return Q(me,function(U,X){N(de,[X,U])}),T(de)}}if(be(me)){if(ge)return k(ge(me));if(Ye)return Ye(me);if(Z){var De=[];return Z(me,function(U){N(De,U)}),T(De)}}}(me)||ie(me)}}else K.exports=function(me){if(null!=me)return ie(me,!0)}}},159:K=>{"use strict";K.exports=Number.isNaN||function(_){return _!=_}},362:K=>{"use strict";var Se=typeof BigInt<"u"&&BigInt;K.exports=function(){return"function"==typeof Se&&"function"==typeof BigInt&&"bigint"==typeof Se(42)&&"bigint"==typeof BigInt(42)}},497:(K,Se,_)=>{"use strict";var S=_(159);K.exports=function(L){return S(L)||0===L?L:L<0?-1:1}},545:(K,Se,_)=>{"use strict";var S=_(592),k=_(6283),L=_(9831),W=_(9110),R=_(5796),f=k(W(),Object);S(f,{getPolyfill:W,implementation:L,shim:R}),K.exports=f},566:(K,Se,_)=>{"use strict";_.d(Se,{B:()=>W,G:()=>R});class k{constructor(P,D,F,N,H){this.id=D,this.name=F,this.disableScroll=H,this.priority=1e6*N+D,this.ctrl=P}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const P=this.ctrl.capture(this.name,this.id,this.priority);return P&&this.disableScroll&&this.ctrl.disableScroll(this.id),P}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(P,D,F,N){this.id=D,this.disable=F,this.disableScroll=N,this.ctrl=P}block(){if(this.ctrl){if(this.disable)for(const P of this.disable)this.ctrl.disableGesture(P,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const P of this.disable)this.ctrl.enableGesture(P,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const W="backdrop-no-scroll",R=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(P){var D;return new k(this,this.newID(),P.name,null!==(D=P.priority)&&void 0!==D?D:0,!!P.disableScroll)}createBlocker(P={}){return new L(this,this.newID(),P.disable,!!P.disableScroll)}start(P,D,F){return this.canStart(P)?(this.requestedStart.set(D,F),!0):(this.requestedStart.delete(D),!1)}capture(P,D,F){if(!this.start(P,D,F))return!1;const N=this.requestedStart;let H=-1e4;if(N.forEach(O=>{H=Math.max(H,O)}),H===F){this.capturedId=D,N.clear();const O=new CustomEvent("ionGestureCaptured",{detail:{gestureName:P}});return document.dispatchEvent(O),!0}return N.delete(D),!1}release(P){this.requestedStart.delete(P),this.capturedId===P&&(this.capturedId=void 0)}disableGesture(P,D){let F=this.disabledGestures.get(P);void 0===F&&(F=new Set,this.disabledGestures.set(P,F)),F.add(D)}enableGesture(P,D){const F=this.disabledGestures.get(P);void 0!==F&&F.delete(D)}disableScroll(P){this.disabledScroll.add(P),1===this.disabledScroll.size&&document.body.classList.add(W)}enableScroll(P){this.disabledScroll.delete(P),0===this.disabledScroll.size&&document.body.classList.remove(W)}canStart(P){return!(void 0!==this.capturedId||this.isDisabled(P))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(P){const D=this.disabledGestures.get(P);return!!(D&&D.size>0)}newID(){return this.gestureId++,this.gestureId}}},575:(K,Se,_)=>{"use strict";_.d(Se,{d:()=>k,w:()=>S});const S=typeof window<"u"?window:void 0,k=typeof document<"u"?document:void 0},592:(K,Se,_)=>{"use strict";var S=_(9209),k="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),L=Object.prototype.toString,W=Array.prototype.concat,R=_(1197),P=_(6652)(),D=function(N,H,O,I){if(H in N)if(!0===I){if(N[H]===O)return}else if(!function(N){return"function"==typeof N&&"[object Function]"===L.call(N)}(I)||!I())return;P?R(N,H,O,!0):R(N,H,O)},F=function(N,H){var O=arguments.length>2?arguments[2]:{},I=S(H);k&&(I=W.call(I,Object.getOwnPropertySymbols(H)));for(var T=0;T<I.length;T+=1)D(N,I[T],H[I[T]],O[I[T]])};F.supportsDescriptors=!!P,K.exports=F},603:(K,Se,_)=>{"use strict";var S=_(2521),k=_(840),L=_(3687),W=_(2375),R=_(8519),f=S("%WeakMap%",!0),P=k("WeakMap.prototype.get",!0),D=k("WeakMap.prototype.set",!0),F=k("WeakMap.prototype.has",!0),N=k("WeakMap.prototype.delete",!0);K.exports=f?function(){var O,I,T={assert:function(ie){if(!T.has(ie))throw new R("Side channel does not contain "+L(ie))},delete:function(ie){if(f&&ie&&("object"==typeof ie||"function"==typeof ie)){if(O)return N(O,ie)}else if(W&&I)return I.delete(ie);return!1},get:function(ie){return f&&ie&&("object"==typeof ie||"function"==typeof ie)&&O?P(O,ie):I&&I.get(ie)},has:function(ie){return f&&ie&&("object"==typeof ie||"function"==typeof ie)&&O?F(O,ie):!!I&&I.has(ie)},set:function(ie,ce){f&&ie&&("object"==typeof ie||"function"==typeof ie)?(O||(O=new f),D(O,ie,ce)):W&&(I||(I=W()),I.set(ie,ce))}};return T}:W},814:K=>{"use strict";K.exports=Function.prototype.apply},840:(K,Se,_)=>{"use strict";var S=_(2521),k=_(2282),L=k([S("%String.prototype.indexOf%")]);K.exports=function(R,f){var P=S(R,!!f);return"function"==typeof P&&L(R,".prototype.")>-1?k([P]):P}},863:(K,Se,_)=>{"use strict";var S=_(3687),k=_(8519),L=function(D,F,N){for(var O,H=D;null!=(O=H.next);H=O)if(O.key===F)return H.next=O.next,N||(O.next=D.next,D.next=O),O};K.exports=function(){var F,N={assert:function(H){if(!N.has(H))throw new k("Side channel does not contain "+S(H))},delete:function(H){var O=F&&F.next,I=function(D,F){if(D)return L(D,F,!0)}(F,H);return I&&O&&O===I&&(F=void 0),!!I},get:function(H){return function(D,F){if(D){var N=L(D,F);return N&&N.value}}(F,H)},has:function(H){return function(D,F){return!!D&&!!L(D,F)}(F,H)},set:function(H,O){F||(F={next:void 0}),function(D,F,N){var H=L(D,F);H?H.value=N:D.next={key:F,next:D.next,value:N}}(F,H,O)}};return N}},1051:function(K,Se){var _,k;void 0!==(k="function"==typeof(_=function(){"use strict";var L=Object.prototype.hasOwnProperty,W=Object.prototype.toString,R="boolean"==typeof(new RegExp).sticky;function f(U){return U&&"[object RegExp]"===W.call(U)}function P(U){return U&&"object"==typeof U&&!f(U)&&!Array.isArray(U)}function F(U){return new RegExp("|"+U).exec("").length-1}function N(U){return"("+U+")"}function H(U){return U.length?"(?:"+U.map(function(Ve){return"(?:"+Ve+")"}).join("|")+")":"(?!)"}function O(U){if("string"==typeof U)return"(?:"+function D(U){return U.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(U)+")";if(f(U)){if(U.ignoreCase)throw new Error("RegExp /i flag not allowed");if(U.global)throw new Error("RegExp /g flag is implied");if(U.sticky)throw new Error("RegExp /y flag is implied");if(U.multiline)throw new Error("RegExp /m flag is implied");return U.source}throw new Error("Not a pattern: "+U)}function I(U,X){return U.length>X?U:Array(X-U.length+1).join(" ")+U}function be(U,X){if(P(X)||(X={match:X}),X.include)throw new Error("Matching rules cannot also include states");var Ve={defaultType:U,lineBreaks:!!X.error||!!X.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var G in X)L.call(X,G)&&(Ve[G]=X[G]);if("string"==typeof Ve.type&&U!==Ve.type)throw new Error("Type transform cannot be a string (type '"+Ve.type+"' for token '"+U+"')");var ne=Ve.match;return Ve.match=Array.isArray(ne)?ne:ne?[ne]:[],Ve.match.sort(function(ae,ve){return f(ae)&&f(ve)?0:f(ve)?-1:f(ae)?1:ve.length-ae.length}),Ve}function Q(U){return Array.isArray(U)?function ce(U){for(var X=[],Ve=0;Ve<U.length;Ve++){var G=U[Ve];if(G.include)for(var ne=[].concat(G.include),ae=0;ae<ne.length;ae++)X.push({include:ne[ae]});else{if(!G.type)throw new Error("Rule has no type: "+JSON.stringify(G));X.push(be(G.type,G))}}return X}(U):function ie(U){for(var X=Object.getOwnPropertyNames(U),Ve=[],G=0;G<X.length;G++){var ne=X[G],ve=[].concat(U[ne]);if("include"!==ne){var Fe=[];ve.forEach(function(Ce){P(Ce)?(Fe.length&&Ve.push(be(ne,Fe)),Ve.push(be(ne,Ce)),Fe=[]):Fe.push(Ce)}),Fe.length&&Ve.push(be(ne,Fe))}else for(var Re=0;Re<ve.length;Re++)Ve.push({include:ve[Re]})}return Ve}(U)}var Z=be("error",{lineBreaks:!0,shouldThrow:!0});function Y(U,X){for(var Ve=null,G=Object.create(null),ne=!0,ae=null,ve=[],Re=[],Fe=0;Fe<U.length;Fe++)U[Fe].fallback&&(ne=!1);for(Fe=0;Fe<U.length;Fe++){var Ce=U[Fe];if(Ce.include)throw new Error("Inheritance is not allowed in stateless lexers");if(Ce.error||Ce.fallback){if(Ve)throw!Ce.fallback==!Ve.fallback?new Error("Multiple "+(Ce.fallback?"fallback":"error")+" rules not allowed (for token '"+Ce.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+Ce.defaultType+"')");Ve=Ce}var Je=Ce.match.slice();if(ne)for(;Je.length&&"string"==typeof Je[0]&&1===Je[0].length;)G[Je.shift().charCodeAt(0)]=Ce;if(Ce.pop||Ce.push||Ce.next){if(!X)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+Ce.defaultType+"')");if(Ce.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+Ce.defaultType+"')")}if(0!==Je.length){ne=!1,ve.push(Ce);for(var Te=0;Te<Je.length;Te++){var He=Je[Te];if(f(He))if(null===ae)ae=He.unicode;else if(ae!==He.unicode&&!1===Ce.fallback)throw new Error("If one rule is /u then all must be")}var vt=H(Je.map(O)),ht=new RegExp(vt);if(ht.test(""))throw new Error("RegExp matches empty string: "+ht);if(F(vt)>0)throw new Error("RegExp has capture groups: "+ht+"\nUse (?: \u2026 ) instead");if(!Ce.lineBreaks&&ht.test("\n"))throw new Error("Rule should declare lineBreaks: "+ht);Re.push(N(vt))}}var ot=Ve&&Ve.fallback,Dt=R&&!ot?"ym":"gm",Ke=R||ot?"":"|";return!0===ae&&(Dt+="u"),{regexp:new RegExp(H(Re)+Ke,Dt),groups:ve,fast:G,error:Ve||Z}}function Ie(U,X,Ve){var G=U&&(U.push||U.next);if(G&&!Ve[G])throw new Error("Missing state '"+G+"' (in token '"+U.defaultType+"' of state '"+X+"')");if(U&&U.pop&&1!=+U.pop)throw new Error("pop must be 1 (in token '"+U.defaultType+"' of state '"+X+"')")}var we=function(U,X){this.startState=X,this.states=U,this.buffer="",this.stack=[],this.reset()};we.prototype.reset=function(U,X){return this.buffer=U||"",this.index=0,this.line=X?X.line:1,this.col=X?X.col:1,this.queuedToken=X?X.queuedToken:null,this.queuedText=X?X.queuedText:"",this.queuedThrow=X?X.queuedThrow:null,this.setState(X?X.state:this.startState),this.stack=X&&X.stack?X.stack.slice():[],this},we.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},we.prototype.setState=function(U){if(U&&this.state!==U){this.state=U;var X=this.states[U];this.groups=X.groups,this.error=X.error,this.re=X.regexp,this.fast=X.fast}},we.prototype.popState=function(){this.setState(this.stack.pop())},we.prototype.pushState=function(U){this.stack.push(this.state),this.setState(U)};var me=R?function(U,X){return U.exec(X)}:function(U,X){var Ve=U.exec(X);return 0===Ve[0].length?null:Ve};function de(){return this.value}if(we.prototype._getGroup=function(U){for(var X=this.groups.length,Ve=0;Ve<X;Ve++)if(void 0!==U[Ve+1])return this.groups[Ve];throw new Error("Cannot find token type for matched text")},we.prototype.next=function(){var U=this.index;if(this.queuedGroup){var X=this._token(this.queuedGroup,this.queuedText,U);return this.queuedGroup=null,this.queuedText="",X}var Ve=this.buffer;if(U!==Ve.length){if(ve=this.fast[Ve.charCodeAt(U)])return this._token(ve,Ve.charAt(U),U);var G=this.re;G.lastIndex=U;var ne=me(G,Ve),ae=this.error;if(null==ne)return this._token(ae,Ve.slice(U,Ve.length),U);var ve=this._getGroup(ne),Re=ne[0];return ae.fallback&&ne.index!==U?(this.queuedGroup=ve,this.queuedText=Re,this._token(ae,Ve.slice(U,ne.index),U)):this._token(ve,Re,U)}},we.prototype._token=function(U,X,Ve){var G=0;if(U.lineBreaks){var ne=/\n/g,ae=1;if("\n"===X)G=1;else for(;ne.exec(X);)G++,ae=ne.lastIndex}var ve={type:"function"==typeof U.type&&U.type(X)||U.defaultType,value:"function"==typeof U.value?U.value(X):X,text:X,toString:de,offset:Ve,lineBreaks:G,line:this.line,col:this.col},Re=X.length;if(this.index+=Re,this.line+=G,0!==G?this.col=Re-ae+1:this.col+=Re,U.shouldThrow)throw new Error(this.formatError(ve,"invalid syntax"));return U.pop?this.popState():U.push?this.pushState(U.push):U.next&&this.setState(U.next),ve},typeof Symbol<"u"&&Symbol.iterator){var De=function(U){this.lexer=U};De.prototype.next=function(){var U=this.lexer.next();return{value:U,done:!U}},De.prototype[Symbol.iterator]=function(){return this},we.prototype[Symbol.iterator]=function(){return new De(this)}}return we.prototype.formatError=function(U,X){if(null==U){var Ve=this.buffer.slice(this.index);U={text:Ve,offset:this.index,lineBreaks:-1===Ve.indexOf("\n")?0:1,line:this.line,col:this.col}}var ne=Math.max(U.line-2,1),ve=String(U.line+2).length,Re=function T(U,X){for(var Ve=U.length,G=0;;){var ne=U.lastIndexOf("\n",Ve-1);if(-1===ne||(Ve=ne,++G===X)||0===Ve)break}return U.substring(G<X?0:Ve+1).split("\n")}(this.buffer,this.line-U.line+2+1).slice(0,5),Fe=[];Fe.push(X+" at line "+U.line+" col "+U.col+":"),Fe.push("");for(var Ce=0;Ce<Re.length;Ce++){var Je=Re[Ce],wt=ne+Ce;Fe.push(I(String(wt),ve)+"  "+Je),wt===U.line&&Fe.push(I("",ve+U.col+1)+"^")}return Fe.join("\n")},we.prototype.clone=function(){return new we(this.states,this.state)},we.prototype.has=function(U){return!0},{compile:function ge(U){var X=Y(Q(U));return new we({start:X},"start")},states:function Ye(U,X){var Ve=U.$all?Q(U.$all):[];delete U.$all;var G=Object.getOwnPropertyNames(U);X||(X=G[0]);for(var ne=Object.create(null),ae=0;ae<G.length;ae++)ne[ve=G[ae]]=Q(U[ve]).concat(Ve);for(ae=0;ae<G.length;ae++)for(var Re=ne[ve=G[ae]],Fe=Object.create(null),Ce=0;Ce<Re.length;Ce++){var Je=Re[Ce];if(Je.include){var wt=[Ce,1];if(Je.include!==ve&&!Fe[Je.include]){Fe[Je.include]=!0;var Te=ne[Je.include];if(!Te)throw new Error("Cannot include nonexistent state '"+Je.include+"' (in state '"+ve+"')");for(var He=0;He<Te.length;He++){var vt=Te[He];-1===Re.indexOf(vt)&&wt.push(vt)}}Re.splice.apply(Re,wt),Ce--}}var ht=Object.create(null);for(ae=0;ae<G.length;ae++){var ve;ht[ve=G[ae]]=Y(ne[ve],!0)}for(ae=0;ae<G.length;ae++){var Ct=G[ae],ot=ht[Ct],Dt=ot.groups;for(Ce=0;Ce<Dt.length;Ce++)Ie(Dt[Ce],Ct,ht);var Ke=Object.getOwnPropertyNames(ot.fast);for(Ce=0;Ce<Ke.length;Ce++)Ie(ot.fast[Ke[Ce]],Ct,ht)}return new we(ht,X)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function te(U){for(var X=typeof Map<"u",Ve=X?new Map:Object.create(null),G=Object.getOwnPropertyNames(U),ne=0;ne<G.length;ne++){var ae=G[ne],ve=U[ae];(Array.isArray(ve)?ve:[ve]).forEach(function(Fe){if("string"!=typeof Fe)throw new Error("keyword must be string (in keyword '"+ae+"')");X?Ve.set(Fe,ae):Ve[Fe]=ae})}return function(Fe){return X?Ve.get(Fe):Ve[Fe]}}}})?_.apply(Se,[]):_)&&(K.exports=k)},1080:(K,Se,_)=>{"use strict";let S;function k(){return S}function L(e){const t=S;return S=e,t}const R=Symbol("NotFound");function P(e){return e===R||"\u0275NotFound"===e?.name}function D(e,t){return Object.is(e,t)}Error;let F=null,N=!1,H=1;const I=Symbol("SIGNAL");function T(e){const t=F;return F=e,t}const Q={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Z(e){if(N)throw new Error("");if(null===F)return;F.consumerOnSignalRead(e);const t=F.producersTail;if(void 0!==t&&t.producer===e)return;let n;const r=F.recomputing;if(r&&(n=void 0!==t?t.nextProducer:F.producers,void 0!==n&&n.producer===e))return F.producersTail=n,void(n.lastReadVersion=e.version);const o=e.consumersTail;if(void 0!==o&&o.consumer===F&&(!r||function ve(e,t){const n=t.producersTail;if(void 0!==n){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(o,F)))return;const i=G(F),s={producer:e,consumer:F,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};F.producersTail=s,void 0!==t?t.nextProducer=s:F.producers=s,i&&X(e,s)}function ge(e){if((!G(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==H)){if(!e.producerMustRecompute(e)&&!De(e))return void we(e);e.producerRecomputeValue(e),we(e)}}function Ie(e){if(void 0===e.consumers)return;const t=N;N=!0;try{for(let n=e.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||te(r)}}finally{N=t}}function Ye(){return!1!==F?.consumerAllowSignalWrites}function te(e){e.dirty=!0,Ie(e),e.consumerMarkedDirty?.(e)}function we(e){e.dirty=!1,e.lastCleanEpoch=H}function me(e){return e&&(e.producersTail=void 0,e.recomputing=!0),T(e)}function de(e,t){if(T(t),!e)return;e.recomputing=!1;const n=e.producersTail;let r=void 0!==n?n.nextProducer:e.producers;if(void 0!==r){if(G(e))do{r=Ve(r)}while(void 0!==r);void 0!==n?n.nextProducer=void 0:e.producers=void 0}}function De(e){for(let t=e.producers;void 0!==t;t=t.nextProducer){const n=t.producer,r=t.lastReadVersion;if(r!==n.version||(ge(n),r!==n.version))return!0}return!1}function U(e){if(G(e)){let t=e.producers;for(;void 0!==t;)t=Ve(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function X(e,t){const n=e.consumersTail,r=G(e);if(void 0!==n?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;void 0!==o;o=o.nextProducer)X(o.producer,o)}function Ve(e){const t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==r?r.prevConsumer=o:t.consumersTail=o,void 0!==o)o.nextConsumer=r;else if(t.consumers=r,!G(t)){let i=t.producers;for(;void 0!==i;)i=Ve(i)}return n}function G(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}const Fe=Symbol("UNSET"),Ce=Symbol("COMPUTING"),Je=Symbol("ERRORED"),wt={...Q,value:Fe,dirty:!0,error:null,equal:D,kind:"computed",producerMustRecompute:e=>e.value===Fe||e.value===Ce,producerRecomputeValue(e){if(e.value===Ce)throw new Error("");const t=e.value;e.value=Ce;const n=me(e);let r,o=!1;try{r=e.computation(),T(null),o=t!==Fe&&t!==Je&&r!==Je&&e.equal(t,r)}catch(i){r=Je,e.error=i}finally{de(e,n)}o?e.value=t:(e.value=r,e.version++)}};let He=function Te(){throw new Error};function vt(e){He(e)}function ot(e,t){const n=Object.create(Dn);n.value=e,void 0!==t&&(n.equal=t);const r=()=>function Ke(e){return Z(e),e.value}(n);return r[I]=n,[r,s=>_t(n,s),s=>function $t(e,t){Ye()||vt(e),_t(e,t(e.value))}(n,s)]}function _t(e,t){Ye()||vt(e),e.equal(e.value,t)||(e.value=t,function Wt(e){e.version++,function Y(){H++}(),Ie(e)}(e))}const Dn={...Q,equal:D,value:void 0,kind:"signal"};function Nt(e){return"function"==typeof e}function Ze(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ne=Ze(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ze(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ct{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Nt(r))try{r()}catch(i){t=i instanceof Ne?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{xn(i)}catch(s){t=t??[],s instanceof Ne?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ne(t)}}add(t){var n;if(t&&t!==this)if(this.closed)xn(t);else{if(t instanceof ct){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ze(n,t)}remove(t){const{_finalizers:n}=this;n&&ze(n,t),t instanceof ct&&t._removeParent(this)}}ct.EMPTY=(()=>{const e=new ct;return e.closed=!0,e})();const Xt=ct.EMPTY;function pn(e){return e instanceof ct||e&&"closed"in e&&Nt(e.remove)&&Nt(e.add)&&Nt(e.unsubscribe)}function xn(e){Nt(e)?e():e.unsubscribe()}const sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sn={setTimeout(e,t,...n){const{delegate:r}=Sn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Sn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function cr(e){Sn.setTimeout(()=>{const{onUnhandledError:t}=sn;if(!t)throw e;t(e)})}function mr(){}const to=Fo("C",void 0,void 0);function Fo(e,t,n){return{kind:e,value:t,error:n}}let no=null;function Jt(e){if(sn.useDeprecatedSynchronousErrorHandling){const t=!no;if(t&&(no={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=no;if(no=null,n)throw r}}else e()}class Ae extends ct{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,pn(t)&&t.add(this)):this.destination=Er}static create(t,n,r){return new In(t,n,r)}next(t){this.isStopped?zr(function Gr(e){return Fo("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?zr(function Co(e){return Fo("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?zr(to,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function qt(e,t){return Oe.call(e,t)}class Zn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){en(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){en(r)}else en(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){en(n)}}}class In extends Ae{constructor(t,n,r){let o;if(super(),Nt(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&sn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&qt(t.next,i),error:t.error&&qt(t.error,i),complete:t.complete&&qt(t.complete,i)}):o=t}this.destination=new Zn(o)}}function en(e){sn.useDeprecatedSynchronousErrorHandling?function si(e){sn.useDeprecatedSynchronousErrorHandling&&no&&(no.errorThrown=!0,no.error=e)}(e):cr(e)}function zr(e,t){const{onStoppedNotification:n}=sn;n&&Sn.setTimeout(()=>n(e,t))}const Er={closed:!0,next:mr,error:function vo(e){throw e},complete:mr},co="function"==typeof Symbol&&Symbol.observable||"@@observable";function ro(e){return e}function Dr(e){return 0===e.length?ro:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Tn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function yo(e){return e&&e instanceof Ae||function ai(e){return e&&Nt(e.next)&&Nt(e.error)&&Nt(e.complete)}(e)&&pn(e)}(n)?n:new In(n,r,o);return Jt(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=So(r))((o,i)=>{const s=new In({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[co](){return this}pipe(...n){return Dr(n)(this)}toPromise(n){return new(n=So(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function So(e){var t;return null!==(t=e??sn.Promise)&&void 0!==t?t:Promise}const Wo=Ze(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let jn=(()=>{class e extends Tn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Lo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Wo}next(n){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Xt:(this.currentObservers=null,i.push(n),new ct(()=>{this.currentObservers=null,ze(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new Tn;return n.source=this,n}}return e.create=(t,n)=>new Lo(t,n),e})();class Lo extends jn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Xt}}class Ir extends jn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const qo="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Pe extends Error{code;constructor(t,n){super(Wr(t,n)),this.code=t}}function Wr(e,t){return`${function fr(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const zn=globalThis;function gn(e){for(let t in e)if(e[t]===gn)return t;throw Error("")}function li(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $r(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map($r).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function Ri(e,t){return e?t?`${e} ${t}`:e:t||""}const Us=gn({__forward_ref__:gn});function Vn(e){return e.__forward_ref__=Vn,e.toString=function(){return $r(this())},e}function Vt(e){return _r(e)?e():e}function _r(e){return"function"==typeof e&&e.hasOwnProperty(Us)&&e.__forward_ref__===Vn}function Qe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Un(e){return{providers:e.providers||[],imports:e.imports||[]}}function ms(e){return function xl(e,t){return e.hasOwnProperty(t)&&e[t]||null}(e,vs)}function Ni(e){return e&&e.hasOwnProperty(Hs)?e[Hs]:null}const vs=gn({\u0275prov:gn}),Hs=gn({\u0275inj:gn});class tt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Qe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _i(e){return e&&!!e.\u0275providers}const Zi=gn({\u0275cmp:gn}),Ki=gn({\u0275dir:gn}),Ws=gn({\u0275pipe:gn}),Ss=gn({\u0275mod:gn}),ci=gn({\u0275fac:gn}),Jo=gn({__NG_ELEMENT_ID__:gn}),bi=gn({__NG_ENV_ID__:gn});function Gt(e){return"string"==typeof e?e:null==e?"":String(e)}const wo=gn({ngErrorCode:gn}),ws=gn({ngErrorMessage:gn}),Pi=gn({ngTokenPath:gn});function Yi(e,t){return Ys("",-200,t)}function Ds(e,t){throw new Pe(-201,!1)}function Ys(e,t,n){const r=new Pe(t,e);return r[wo]=t,r[ws]=e,n&&(r[Pi]=n),r}let Eo;function Qs(){return Eo}function oo(e){const t=Eo;return Eo=e,t}function Xi(e,t,n){const r=ms(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==t?t:void Ds()}const $o={};class ya{injector;constructor(t){this.injector=t}retrieve(t,n){const r=ui(n)||0;try{return this.injector.get(t,8&r?null:$o,r)}catch(o){if(P(o))return o;throw o}}}function Js(e,t=0){const n=k();if(void 0===n)throw new Pe(-203,!1);if(null===n)return Xi(e,void 0,t);{const r=function _a(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(t),o=n.retrieve(e,r);if(P(o)){if(r.optional)return null;throw o}return o}}function se(e,t=0){return(Qs()||Js)(Vt(e),t)}function Le(e,t){return se(e,ui(t))}function ui(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ts(e){const t=[];for(let n=0;n<e.length;n++){const r=Vt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Pe(900,!1);let o,i=0;for(let s=0;s<r.length;s++){const a=r[s],l=cl(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(se(o,i))}else t.push(se(r))}return t}function cl(e){return e.__NG_DI_FLAG__}function h(e,t){return e.hasOwnProperty(ci)?e[ci]:null}function A(e,t){e.forEach(n=>Array.isArray(n)?A(n,t):t(n))}function ee(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function J(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ye(e,t,n){let r=dt(e,t);return r>=0?e[1|r]=n:(r=~r,function qe(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function je(e,t){const n=dt(e,t);if(n>=0)return e[1|n]}function dt(e,t){return function ut(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const At={},gt=[],xt=new tt(""),ur=new tt("",-1),Zt=new tt("");class Kt{get(t,n=$o){if(n===$o){const o=Ys("",-201);throw o.name="\u0275NotFound",o}return n}}function $n(e){return e[Ss]||null}function St(e){return e[Zi]||null}function hn(e){return e[Ki]||null}function Nn(e){return e[Ws]||null}function $(e){return{\u0275providers:e}}function Be(...e){return{\u0275providers:Pt(0,e),\u0275fromNgModule:!0}}function Pt(e,...t){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return A(t,s=>{const a=s;mn(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&on(o,i),n}function on(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Zr(o,i=>{t(i,r)})}}function mn(e,t,n,r){if(!(e=Vt(e)))return!1;let o=null,i=Ni(e);const s=!i&&St(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=Ni(l),!i)return!1;o=l}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)mn(c,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;r.add(o);try{A(i.imports,d=>{mn(d,t,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&on(c,t)}if(!a){const c=h(o)||(()=>new o);t({provide:o,useFactory:c,deps:gt},o),t({provide:Zt,useValue:o,multi:!0},o),t({provide:xt,useValue:()=>se(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;Zr(l,d=>{t(d,c)})}}}return o!==e&&void 0!==e.providers}function Zr(e,t){for(let n of e)_i(n)&&(n=n.\u0275providers),Array.isArray(n)?Zr(n,t):t(n)}const dn=gn({provide:String,useValue:gn});function Tr(e){return null!==e&&"object"==typeof e&&dn in e}function kt(e){return"function"==typeof e}const nr=new tt(""),Ar={},hr={};let ir;function g(){return void 0===ir&&(ir=new Kt),ir}class B{}class _e extends B{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,ba(t,s=>this.processProvider(s)),this.records.set(ur,jr(void 0,this)),o.has("environment")&&this.records.set(B,jr(void 0,this));const i=this.records.get(nr);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Zt,gt,{self:!0}))}retrieve(t,n){const r=ui(n)||0;try{return this.get(t,$o,r)}catch(o){if(P(o))return o;throw o}}destroy(){Bn(this),this._destroyed=!0;const t=T(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),T(t)}}onDestroy(t){return Bn(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Bn(this);const n=L(this),r=oo(void 0);try{return t()}finally{L(n),oo(r)}}get(t,n=$o,r){if(Bn(this),t.hasOwnProperty(bi))return t[bi](this);const o=ui(r),s=L(this),a=oo(void 0);try{if(!(4&o)){let c=this.records.get(t);if(void 0===c){const d=function Rl(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(t)&&ms(t);c=d&&this.injectableDefInScope(d)?jr(st(t),Ar):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c,o)}return(2&o?g():this.parent).get(t,n=8&o&&n===$o?null:n)}catch(l){const c=function ma(e){return e[wo]}(l);throw-200===c||-201===c?new Pe(c,null):l}finally{oo(a),L(s)}}resolveInjectorInitializers(){const t=T(null),n=L(this),r=oo(void 0);try{const i=this.get(xt,gt,{self:!0});for(const s of i)s()}finally{L(n),oo(r),T(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push($r(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let n=kt(t=Vt(t))?t:Vt(t&&t.provide);const r=function An(e){return Tr(e)?jr(void 0,e.useValue):jr(Wn(e),Ar)}(t);if(!kt(t)&&!0===t.multi){let o=this.records.get(n);o||(o=jr(void 0,Ar,!0),o.factory=()=>Ts(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){const o=T(null);try{if(n.value===hr)throw Yi($r(t));return n.value===Ar&&(n.value=hr,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function kl(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{T(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Vt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function st(e){const t=ms(e),n=null!==t?t.factory:h(e);if(null!==n)return n;if(e instanceof tt)throw new Pe(204,!1);if(e instanceof Function)return function zt(e){if(e.length>0)throw new Pe(204,!1);const n=function ja(e){return(e?.[vs]??null)||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Pe(204,!1)}function Wn(e,t,n){let r;if(kt(e)){const o=Vt(e);return h(o)||st(o)}if(Tr(e))r=()=>Vt(e.useValue);else if(function pr(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ts(e.deps||[]));else if(function Br(e){return!(!e||!e.useExisting)}(e))r=(o,i)=>se(Vt(e.useExisting),void 0!==i&&8&i?8:void 0);else{const o=Vt(e&&(e.useClass||e.provide));if(!function Ha(e){return!!e.deps}(e))return h(o)||st(o);r=()=>new o(...Ts(e.deps))}return r}function Bn(e){if(e.destroyed)throw new Pe(205,!1)}function jr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ba(e,t){for(const n of e)Array.isArray(n)?ba(n,t):n&&_i(n)?ba(n.\u0275providers,t):t(n)}function Bo(e,t){let n;e instanceof _e?(Bn(e),n=e):n=new ya(e);const o=L(n),i=oo(void 0);try{return t()}finally{L(o),oo(i)}}function _c(){return void 0!==Qs()||null!=k()}function Yr(e){return Array.isArray(e)&&"object"==typeof e[1]}function di(e){return Array.isArray(e)&&!0===e[1]}function Of(e){return!!(4&e.flags)}function wa(e){return e.componentOffset>-1}function Ll(e){return!(1&~e.flags)}function $i(e){return!!e.template}function qa(e){return!!(512&e[2])}function Ea(e){return!(256&~e[2])}function Ro(e){for(;Array.isArray(e);)e=e[0];return e}function $l(e,t){return Ro(t[e])}function _o(e,t){return Ro(t[e.index])}function Bl(e,t){return e.data[t]}function pl(e,t){return e[t]}function fi(e,t){const n=t[e];return Yr(n)?n:n[0]}function ld(e){return!(128&~e[2])}function ti(e,t){return null==t?null:e[t]}function jf(e){e[17]=0}function Vf(e){1024&e[2]||(e[2]|=1024,ld(e)&&jl(e))}function au(e){return!!(9216&e[2]||e[24]?.dirty)}function cd(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),au(e)&&jl(e)}function jl(e){e[10].changeDetectionScheduler?.notify(0);let t=Da(e);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,ld(t));)t=Da(t)}function lu(e,t){if(Ea(e))throw new Pe(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function Da(e){const t=e[3];return di(t)?t[3]:t}function Hf(e){return e[7]??=[]}function Gf(e){return e.cleanup??=[]}const vn={lFrame:Vr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let fd=!1;function Wf(){vn.lFrame.elementDepthCount--}function pd(){return vn.bindingsEnabled}function qf(){return null!==vn.skipHydrationRootTNode}function Zf(e){return vn.skipHydrationRootTNode===e}function Kf(){vn.skipHydrationRootTNode=null}function et(){return vn.lFrame.lView}function _n(){return vn.lFrame.tView}function ft(e){return vn.lFrame.contextLView=e,e[8]}function pt(e){return vn.lFrame.contextLView=null,e}function bn(){let e=ag();for(;null!==e&&64===e.type;)e=e.parent;return e}function ag(){return vn.lFrame.currentTNode}function Za(e,t){const n=vn.lFrame;n.currentTNode=e,n.isParent=t}function Ul(){return vn.lFrame.isParent}function lg(){vn.lFrame.isParent=!1}function As(){return fd}function Qt(e){const t=fd;return fd=e,t}function Ci(){const e=vn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ka(){return vn.lFrame.bindingIndex}function Bi(){return vn.lFrame.bindingIndex++}function Ya(e){const t=vn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Qn(e,t){const n=vn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Xr(t)}function Xr(e){vn.lFrame.currentDirectiveIndex=e}function br(){return vn.lFrame.currentQueryIndex}function No(e){vn.lFrame.currentQueryIndex=e}function ji(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[5]:null}function Si(e,t,n){if(4&n){let o=t,i=e;for(;!(o=o.parent,null!==o||1&n||(o=ji(i),null===o||(i=i[14],10&o.type))););if(null===o)return!1;t=o,e=i}const r=vn.lFrame=wi();return r.currentTNode=t,r.lView=e,!0}function Do(e){const t=wi(),n=e[1];vn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function wi(){const e=vn.lFrame,t=null===e?null:e.child;return null===t?Vr(e):t}function Vr(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function tn(){const e=vn.lFrame;return vn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ei=tn;function Cn(){const e=tn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qn(){return vn.lFrame.selectedIndex}function Rt(e){vn.lFrame.selectedIndex=e}function er(){const e=vn.lFrame;return Bl(e.tView,e.selectedIndex)}let kn=!0;function Kn(){return kn}function Yn(e){kn=e}let Oo={elements:void 0};function uu(e,t=null,n=null,r){const o=Ec(e,t,n,r);return o.resolveInjectorInitializers(),o}function Ec(e,t=null,n=null,r,o=new Set){const i=[n||gt,Be(e)];return r=r||("object"==typeof e?void 0:$r(e)),new _e(i,t||g(),r||null,o)}class Ur{static THROW_IF_NOT_FOUND=$o;static NULL=new Kt;static create(t,n){if(Array.isArray(t))return uu({name:""},n,t,"");{const r=t.name??"";return uu({name:r},t.parent,t.providers,r)}}static \u0275prov=Qe({token:Ur,providedIn:"any",factory:()=>se(ur)});static __NG_ELEMENT_ID__=-1}const ni=new tt("");let Vi=(()=>class e{static __NG_ELEMENT_ID__=o_;static __NG_ENV_ID__=n=>n})();class fg extends Vi{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ea(this._lView)}onDestroy(t){const n=this._lView;return lu(n,t),()=>function ud(e,t){if(null===e[21])return;const n=e[21].indexOf(t);-1!==n&&e[21].splice(n,1)}(n,t)}}function o_(){return new fg(et())}class hd{_console=console;handleError(t){this._console.error("ERROR",t)}}const Xa=new tt("",{providedIn:"root",factory:()=>{const e=Le(B);let t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(hd),t.handleError(n))}}}),WL={provide:xt,useValue:()=>{Le(hd)},multi:!0};function Di(e,t){const[n,r,o]=ot(e,t?.equal),i=n;return i.set=r,i.update=o,i.asReadonly=i_.bind(i),i}function i_(){const e=this[I];if(void 0===e.readonlyFn){const t=()=>this();t[I]=e,e.readonlyFn=t}return e.readonlyFn}class gd{}const XD=new tt("",{providedIn:"root",factory:()=>!1}),QD=new tt(""),JD=new tt("");let s_=(()=>class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=ZL})();function ZL(){return new s_(et(),bn())}let Dc=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ir(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Tn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})(),pg=(()=>{class e{internalPendingTasks=Le(Dc);scheduler=Le(gd);errorHandler=Le(Xa);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})();function Yf(...e){}let eI=(()=>{class e{static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new KL})}return e})();class KL{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const r=this.queues.get(t.zone);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[n,r]of this.queues)t||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(const r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let tI=null;function Ic(){return tI}class XL{}let a_=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(JL),providedIn:"platform"})}return e})();const QL=new tt("");let JL=(()=>{class e extends a_{_location;_history;_doc=Le(ni);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ic().getBaseHref(this._doc)}onPopState(n){const r=Ic().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ic().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function l_(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function nI(e){const t=e.search(/#|\?|$/);return"/"===e[t-1]?e.slice(0,t-1)+e.slice(t):e}function Hl(e){return e&&"?"!==e[0]?`?${e}`:e}let hl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(oI),providedIn:"root"})}return e})();const rI=new tt("");let oI=(()=>{class e extends hl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Le(ni).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return l_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Hl(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Hl(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Hl(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(se(a_),se(rI,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Tc=(()=>{class e{_subject=new jn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function n$(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(nI(iI(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hl(r))}normalize(n){return e.stripTrailingSlash(function t$(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,iI(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hl(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Hl;static joinWithSlash=l_;static stripTrailingSlash=nI;static \u0275fac=function(r){return new(r||e)(se(hl))};static \u0275prov=Qe({token:e,factory:()=>function e$(){return new Tc(se(hl))}(),providedIn:"root"})}return e})();function iI(e){return e.replace(/\/index.html$/,"")}function sI(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class aI{}var M=_(1890);function lI(e){return Nt(e?.lift)}function ri(e){return t=>{if(lI(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vo(e,t,n,r,o){return new r$(e,t,n,r,o)}class r$ extends Ae{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function rr(e,t){return ri((n,r)=>{let o=0;n.subscribe(Vo(r,i=>{r.next(e.call(t,i,o++))}))})}function Gl(e){return{toString:e}.toString()}class m${previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function dI(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const Ji=(()=>{const e=()=>fI;return e.ngInherit=!0,e})();function fI(e){return e.type.prototype.ngOnChanges&&(e.setInput=y$),v$}function v$(){const e=hI(this),t=e?.current;if(t){const n=e.previous;if(n===At)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function y$(e,t,n,r,o){const i=this.declaredInputs[r],s=hI(e)||function _$(e,t){return e[pI]=t}(e,{previous:At,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new m$(c&&c.currentValue,n,l===At),dI(e,t,o,n)}const pI="__ngSimpleChanges__";function hI(e){return e[pI]||null}const du=[],Nr=function(e,t=null,n){for(let r=0;r<du.length;r++)(0,du[r])(e,t,n)};function gI(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=d&&(e.destroyHooks??=[]).push(n,d)}}function gg(e,t,n){mI(e,t,3,n)}function mg(e,t,n,r){(3&e[2])===n&&mI(e,t,n,r)}function d_(e,t){let n=e[2];(3&n)===t&&(n&=16383,n+=1,e[2]=n)}function mI(e,t,n,r){const i=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[17]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[17]+=65536),(a<i||-1==i)&&(E$(e,n,t,l),e[17]=(4294901760&e[17])+l+2),l++}function vI(e,t){Nr(4,e,t);const n=T(null);try{t.call(e)}finally{T(n),Nr(5,e,t)}}function E$(e,t,n,r){const o=n[r]<0,i=n[r+1],a=e[o?-n[r]:n[r]];o?e[2]>>14<e[17]>>16&&(3&e[2])===t&&(e[2]+=16384,vI(a,i)):vI(a,i)}class Qf{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}}function _I(e){return 3===e||4===e||6===e}function bI(e){return 64===e.charCodeAt(0)}function Cd(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||CI(e,n,o,0,-1===n||2===n?t[++r]:null)}}return e}function CI(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n)return void(null!==o&&(e[i+1]=o));i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}function p_(e){return-1!==e}function Jf(e){return 32767&e}function ep(e,t){let n=function A$(e){return e>>16}(e),r=t;for(;n>0;)r=r[14],n--;return r}let h_=!0;function vg(e){const t=h_;return h_=e,t}let M$=0;const gl={};function yg(e,t){const n=EI(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,g_(r.data,e),g_(t,null),g_(r.blueprint,null));const o=_g(e,t),i=e.injectorIndex;if(p_(o)){const s=Jf(o),a=ep(o,t),l=a[1].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function g_(e,t){e.push(0,0,0,0,0,0,0,0,t)}function EI(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function _g(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=kI(o),null===r)return-1;if(n++,o=o[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function m_(e,t,n){!function x$(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jo)&&(r=n[Jo]),null==r&&(r=n[Jo]=M$++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function DI(e,t,n){if(8&n||void 0!==e)return e;Ds()}function II(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const o=e[9],i=oo(void 0);try{return o?o.get(t,r,8&n):Xi(t,r,8&n)}finally{oo(i)}}return DI(r,0,n)}function TI(e,t,n,r=0,o){if(null!==e){if(2048&t[2]&&!(2&r)){const s=function P$(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[2]&&!qa(s);){const a=AI(i,s,n,2|r,gl);if(a!==gl)return a;let l=i.parent;if(!l){const c=s[20];if(c){const d=c.get(n,gl,r);if(d!==gl)return d}l=kI(s),s=s[14]}i=l}return o}(e,t,n,r,gl);if(s!==gl)return s}const i=AI(e,t,n,r,gl);if(i!==gl)return i}return II(t,n,r,o)}function AI(e,t,n,r,o){const i=function N$(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Jo)?e[Jo]:void 0;return"number"==typeof t?t>=0?255&t:O$:t}(n);if("function"==typeof i){if(!Si(t,e,r))return 1&r?DI(o,0,r):II(t,n,r,o);try{let s;if(s=i(r),null!=s||8&r)return s;Ds()}finally{Ei()}}else if("number"==typeof i){let s=null,a=EI(e,t),l=-1,c=1&r?t[15][5]:null;for((-1===a||4&r)&&(l=-1===a?_g(e,t):t[a+8],-1!==l&&xI(r,!1)?(s=t[1],a=Jf(l),t=ep(l,t)):a=-1);-1!==a;){const d=t[1];if(MI(i,a,d.data)){const p=R$(a,t,n,s,r,c);if(p!==gl)return p}l=t[a+8],-1!==l&&xI(r,t[1].data[a+8]===c)&&MI(i,a,t)?(s=d,a=Jf(l),t=ep(l,t)):a=-1}}return o}function R$(e,t,n,r,o,i){const s=t[1],a=s.data[e+8],d=bg(a,s,n,null==r?wa(a)&&h_:r!=s&&!!(3&a.type),1&o&&i===a);return null!==d?tp(t,s,d,a,o):gl}function bg(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,d=i>>20,m=o?a+d:e.directiveEnd;for(let C=r?a:a+d;C<m;C++){const x=s[C];if(C<l&&n===x||C>=l&&x.type===n)return C}if(o){const C=s[l];if(C&&$i(C)&&C.type===n)return l}return null}function tp(e,t,n,r,o){let i=e[n];const s=t.data;if(i instanceof Qf){const a=i;if(a.resolving)throw function un(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Gt(e)}(s[n]),Yi();const l=vg(a.canSeeViewProviders);a.resolving=!0;const p=a.injectImpl?oo(a.injectImpl):null;Si(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function w$(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=fI(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,s[n],t)}finally{null!==p&&oo(p),vg(l),a.resolving=!1,Ei()}}return i}function MI(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function xI(e,t){return!(2&e||1&e&&t)}class Io{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return TI(this._tNode,this._lView,t,ui(r),n)}}function O$(){return new Io(bn(),et())}function Qr(e){return Gl(()=>{const t=e.prototype.constructor,n=t[ci]||v_(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[ci]||v_(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function v_(e){return _r(e)?()=>{const t=v_(Vt(e));return t&&t()}:h(e)}function kI(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[5]:null}function zl(e){return function k$(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(_I(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(bn(),e)}function H$(){return Sd(bn(),et())}function Sd(e,t){return new rt(_o(e,t))}let rt=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=H$})();function FI(e){return e instanceof rt?e.nativeElement:e}function G$(){return this._results[Symbol.iterator]()}class z${_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new jn}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function w(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function v(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=G$}function np(e){return!(128&~e.flags)}var Sg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Sg||{});const wg=new Map;let Z$=0;function b_(e){wg.delete(e[19])}const S_="__ngContext__";function xs(e,t){Yr(t)?(e[S_]=t[19],function Y$(e){wg.set(e[19],e)}(t)):e[S_]=t}function qI(e){return KI(e[12])}function ZI(e){return KI(e[4])}function KI(e){for(;null!==e&&!di(e);)e=e[4];return e}let w_;const op=new tt("",{providedIn:"root",factory:()=>yB}),yB="ng",n1=new tt(""),Dg=new tt("",{providedIn:"platform",factory:()=>"unknown"}),r1=new tt("",{providedIn:"root",factory:()=>function Mc(){if(void 0!==w_)return w_;if(typeof document<"u")return document;throw new Pe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),IB=new tt("",{providedIn:"root",factory:()=>!1}),xB=new tt("");function Mg(e){return!(32&~e.flags)}function A1(e,t){const n=e.contentQueries;if(null!==n){const r=T(null);try{for(let o=0;o<n.length;o+=2){const s=n[o+1];if(-1!==s){const a=e.data[s];No(n[o]),a.contentQueries(2,t[s],s)}}}finally{T(r)}}}function j_(e,t,n){No(0);const r=T(null);try{t(e,n)}finally{T(r)}}function V_(e,t,n){if(Of(t)){const r=T(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{T(r)}}}var Wl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Wl||{});let Og;function Td(e){return function M1(){if(void 0===Og&&(Og=null,zn.trustedTypes))try{Og=zn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Og}()?.createHTML(e)||e}class pu{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qo})`}}class n3 extends pu{getTypeName(){return"HTML"}}class r3 extends pu{getTypeName(){return"Style"}}class o3 extends pu{getTypeName(){return"Script"}}class i3 extends pu{getTypeName(){return"URL"}}class s3 extends pu{getTypeName(){return"ResourceURL"}}function ta(e){return e instanceof pu?e.changingThisBreaksApplicationSecurity:e}function ml(e,t){const n=function a3(e){return e instanceof pu&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${qo})`)}return n===t}class p3{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Td(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class h3{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Td(t),n}}const m3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fg(e){return(e=String(e)).match(m3)?e:"unsafe:"+e}function ql(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ap(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const O1=ql("area,br,col,hr,img,wbr"),P1=ql("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),F1=ql("rp,rt"),H_=ap(O1,ap(P1,ql("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ap(F1,ql("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ap(F1,P1)),G_=ql("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),L1=ap(G_,ql("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ql("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),v3=ql("script,style,template");class y3{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,o=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)o.push(n),n=C3(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=b3(n);if(i){n=i;break}n=o.pop()}return this.buf.join("")}startElement(t){const n=$1(t).toLowerCase();if(!H_.hasOwnProperty(n))return this.sanitizedSomething=!0,!v3.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!L1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;G_[a]&&(l=Fg(l)),this.buf.push(" ",s,'="',j1(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=$1(t).toLowerCase();H_.hasOwnProperty(n)&&!O1.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(j1(t))}}function b3(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw B1(t);return t}function C3(e){const t=e.firstChild;if(t&&function _3(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw B1(t);return t}function $1(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function B1(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const S3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w3=/([^\#-~ |!])/g;function j1(e){return e.replace(/&/g,"&amp;").replace(S3,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(w3,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Lg;function V1(e,t){let n=null;try{Lg=Lg||function N1(e){const t=new h3(e);return function g3(){try{return!!(new window.DOMParser).parseFromString(Td(""),"text/html")}catch{return!1}}()?new p3(t):t}(e);let r=t?String(t):"";n=Lg.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=Lg.getInertBodyElement(r)}while(r!==i);return Td((new y3).sanitizeChildren(z_(n)||n))}finally{if(n){const r=z_(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function z_(e){return"content"in e&&function E3(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ks=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ks||{});const k3=/^>|^->|<!--|-->|--!>|<!-$/g,R3=/(<|>)/g;function vl(e){return e instanceof Function?e():e}function z3(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}const J1="ng-template";function W3(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==z3(t[o+1].toLowerCase(),n,0))return!0}else if(Z_(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===n)return!0}return!1}function Z_(e){return 4===e.type&&e.value!==J1}function q3(e,t,n){return t===(4!==e.type||n?e.value:J1)}function Z3(e,t,n){let r=4;const o=e.attrs,i=null!==o?function X3(e){for(let t=0;t<e.length;t++)if(_I(e[t]))return t;return e.length}(o):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!q3(e,l,n)||""===l&&1===t.length){if(Qa(r))return!1;s=!0}}else if(8&r){if(null===o||!W3(e,o,l,n)){if(Qa(r))return!1;s=!0}}else{const c=t[++a],d=K3(l,o,Z_(e),n);if(-1===d){if(Qa(r))return!1;s=!0;continue}if(""!==c){let p;if(p=d>i?"":o[d+1].toLowerCase(),2&r&&c!==p){if(Qa(r))return!1;s=!0}}}}else{if(!s&&!Qa(r)&&!Qa(l))return!1;if(s&&Qa(l))continue;s=!1,r=l|1&r}}return Qa(r)||s}function Qa(e){return!(1&e)}function K3(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Q3(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function eT(e,t,n=!1){for(let r=0;r<t.length;r++)if(Z3(e,t[r],n))return!0;return!1}function J3(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function tT(e,t){return e?":not("+t.trim()+")":t}function ej(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Qa(s)&&(t+=tT(i,o),o=""),r=s,i=i||!Qa(r);n++}return""!==o&&(t+=tT(i,o)),t}const xr={};function Y_(e,t){return e.createComment(function z1(e){return e.replace(k3,t=>t.replace(R3,"\u200b$1\u200b"))}(t))}function jg(e,t,n){return e.createElement(t,n)}function hu(e,t,n,r,o){e.insertBefore(t,n,r,o)}function rT(e,t,n){e.appendChild(t,n)}function oT(e,t,n,r,o){null!==r?hu(e,t,n,r,o):rT(e,t,n)}function sT(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&function T$(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{const i=o,s=n[++r];bI(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}}(e,t,r),null!==o&&function oj(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,o),null!==i&&function rj(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function X_(e,t,n,r,o,i,s,a,l,c,d){const p=26+r,m=p+o,C=function ij(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:xr);return n}(p,m),x="function"==typeof c?c():c;return C[1]={type:e,blueprint:C,template:n,queries:null,viewQuery:a,declTNode:t,data:C.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:d}}function Vg(e,t,n,r,o,i,s,a,l,c,d){const p=t.blueprint.slice();return p[0]=o,p[2]=1228|r,(null!==c||e&&2048&e[2])&&(p[2]|=2048),jf(p),p[3]=p[14]=e,p[8]=n,p[10]=s||e&&e[10],p[11]=a||e&&e[11],p[9]=l||e&&e[9]||null,p[5]=i,p[19]=function K$(){return Z$++}(),p[6]=d,p[20]=c,p[15]=2==t.type?e[15]:p,p}function Q_(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function up(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function J_(e,t){return e[12]?e[13][4]=t:e[12]=t,e[13]=t,t}function ue(e=1){lT(_n(),et(),qn()+e,!1)}function lT(e,t,n,r){if(!r)if(3&~t[2]){const i=e.preOrderHooks;null!==i&&mg(t,i,0,n)}else{const i=e.preOrderCheckHooks;null!==i&&gg(t,i,n)}Rt(n)}var Ug=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ug||{});function dp(e,t,n,r){const o=T(null);try{const[i,s,a]=e.inputs[n];let l=null;0!==(s&Ug.SignalBased)&&(l=t[i][I]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==a&&(r=a.call(t,r)),null!==e.setInput?e.setInput(t,l,r,n,i):dI(t,l,i,r)}finally{T(o)}}var kc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(kc||{});function tb(e,t){return undefined(e,t)}function Md(e,t,n,r,o){if(null!=r){let i,s=!1;di(r)?i=r:Yr(r)&&(s=!0,r=r[0]);const a=Ro(r);0===e&&null!==n?null==o?rT(t,n,a):hu(t,n,a,o||null,!0):1===e&&null!==n?hu(t,n,a,o||null,!0):2===e?function cp(e,t,n){e.removeChild(null,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function pj(e,t,n,r,o){const i=n[7];i!==Ro(n)&&Md(t,e,r,i,o);for(let a=10;a<n.length;a++){const l=n[a];Gg(l[1],l,e,t,r,i)}}(t,e,i,n,o)}}function uT(e,t){t[10].changeDetectionScheduler?.notify(9),Gg(e,t,t[11],2,null,null)}function nb(e,t){const n=e[9],r=n.indexOf(t);n.splice(r,1)}function fp(e,t){if(Ea(t))return;const n=t[11];n.destroyNode&&Gg(e,t,n,3,null,null),function cj(e){let t=e[12];if(!t)return rb(e[1],e);for(;t;){let n=null;if(Yr(t))n=t[12];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Yr(t)&&rb(t[1],t),t=t[3];null===t&&(t=e),Yr(t)&&rb(t[1],t),n=t&&t[4]}t=n}}(t)}function rb(e,t){if(Ea(t))return;const n=T(null);try{t[2]&=-129,t[2]|=256,t[24]&&U(t[24]),function dj(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Qf)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Nr(4,a,l);try{l.call(a)}finally{Nr(5,a,l)}}else{Nr(4,o,i);try{i.call(o)}finally{Nr(5,o,i)}}}}}(e,t),function uj(e,t){const n=e.cleanup,r=t[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[7]=null);const o=t[21];if(null!==o){t[21]=null;for(let s=0;s<o.length;s++)(0,o[s])()}const i=t[23];if(null!==i){t[23]=null;for(const s of i)s.destroy()}}(e,t),1===t[1].type&&t[11].destroy();const r=t[16];if(null!==r&&di(t[3])){r!==t[3]&&nb(r,t);const o=t[18];null!==o&&o.detachView(e)}b_(t)}finally{T(n)}}function ob(e,t,n){return function dT(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[0];if(wa(r)){const{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Wl.None||o===Wl.Emulated)return null}return _o(r,n)}(e,t.parent,n)}function fT(e,t,n){return hT(e,t,n)}let hT=function pT(e,t,n){return 40&e.type?_o(e,n):null};function sb(e,t,n,r){const o=ob(e,r,t),i=t[11],a=fT(r.parent||t[5],r,t);if(null!=o)if(Array.isArray(n))for(let l=0;l<n.length;l++)oT(i,o,n[l],a,!1);else oT(i,o,n,a,!1)}function gu(e,t){if(null!==t){const n=t.type;if(3&n)return _o(t,e);if(4&n)return Hg(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return gu(e,r);{const o=e[t.index];return di(o)?Hg(-1,o):Ro(o)}}if(128&n)return gu(e,t.next);if(32&n)return tb(t,e)()||Ro(e[t.index]);{const r=mT(e,t);return null!==r?Array.isArray(r)?r[0]:gu(Da(e[15]),r):gu(e,t.next)}}return null}function mT(e,t){return null!==t?e[15][5].projection[t.projection]:null}function Hg(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return gu(r,o)}return t[7]}function ab(e,t,n,r,o,i,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],l=n.type;if(s&&0===t&&(a&&xs(Ro(a),r),n.flags|=2),!Mg(n))if(8&l)ab(e,t,n.child,r,o,i,!1),Md(t,e,o,a,i);else if(32&l){const c=tb(n,r);let d;for(;d=c();)Md(t,e,o,d,i);Md(t,e,o,a,i)}else 16&l?vT(e,t,r,n,o,i):Md(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Gg(e,t,n,r,o,i){ab(n,r,e.firstChild,t,o,i,!1)}function vT(e,t,n,r,o,i){const s=n[15],l=s[5].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Md(t,e,o,l[c],i);else{let c=l;const d=s[3];np(r)&&(c.flags|=128),ab(e,t,c,d,o,i,!0)}}function yT(e,t,n,r,o){const i=qn(),s=2&r;try{Rt(-1),s&&t.length>26&&lT(e,t,26,!1),Nr(s?2:0,o,n),n(r,o)}finally{Rt(i),Nr(s?3:1,o,n)}}function zg(e,t,n){(function _j(e,t,n){const r=n.directiveStart,o=n.directiveEnd;wa(n)&&function sj(e,t,n){const r=_o(t,e),o=function aT(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=X_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(n),i=e[10].rendererFactory,s=J_(e,Vg(e,o,null,Q_(n),r,t,null,i.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||yg(n,t);const i=n.initialInputs;for(let s=r;s<o;s++){const a=e.data[s],l=tp(t,e,s,n);xs(l,t),null!==i&&wj(0,s-r,l,a,0,i),$i(a)&&(fi(n.index,t)[8]=tp(t,e,s,n))}})(e,t,n),!(64&~n.flags)&&function bj(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function Ge(){return vn.lFrame.currentDirectiveIndex}();try{Rt(i);for(let a=r;a<o;a++){const l=e.data[a],c=t[a];Xr(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Cj(l,c)}}finally{Rt(-1),Xr(s)}}(e,t,n)}function xd(e,t,n=_o){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}let _T=()=>null;function lb(e,t,n,r,o,i){Kg(e,t[1],t,n,r)?wa(e)&&function bT(e,t){const n=fi(t,e);16&n[2]||(n[2]|=64)}(t,e.index):(3&e.type&&(n=function yj(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),function cb(e,t,n,r,o,i){if(3&e.type){const s=_o(e,t);r=null!=i?i(r,e.value||"",n):r,o.setProperty(s,n,r)}}(e,t,n,r,o,i))}function Cj(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ub(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let o=0;o<n.length;o++){const i=n[o];eT(t,i.selectors,!1)&&(r??=[],$i(i)?r.unshift(i):r.push(i))}return r}function wj(e,t,n,r,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;a+=2)dp(r,n,s[a],s[a+1])}function qg(e,t,n,r,o){const i=26+n,s=t[1],a=o(s,t,e,r,n);t[i]=a,Za(e,!0);const l=2===e.type;return l?(sT(t[11],a,e),(0===function rg(){return vn.lFrame.elementDepthCount}()||Ll(e))&&xs(a,t),function og(){vn.lFrame.elementDepthCount++}()):xs(a,t),Kn()&&(!l||!Mg(e))&&sb(s,t,a,e),e}function Zg(e){let t=e;return Ul()?lg():(t=t.parent,Za(t,!1)),t}function Kg(e,t,n,r,o){const i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r];let a=!1;if(s)for(let l=0;l<s.length;l+=2){const c=s[l];dp(t.data[c],n[c],s[l+1],o),a=!0}if(i)for(const l of i)dp(t.data[l],n[l],r,o),a=!0;return a}function Dj(e,t){const n=fi(t,e),r=n[1];!function Ij(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[0];null!==o&&null===n[6]&&(n[6]=null),Nr(18),Yg(r,n,n[8]),Nr(19,n[8])}function Yg(e,t,n){Do(t);try{const r=e.viewQuery;null!==r&&j_(1,r,n);const o=e.template;null!==o&&yT(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[18]?.finishViewCreation(e),e.staticContentQueries&&A1(e,t),e.staticViewQueries&&j_(2,e.viewQuery,n);const i=e.components;null!==i&&function Tj(e,t){for(let n=0;n<t.length;n++)Dj(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Cn()}}function kd(e,t,n,r){const o=T(null);try{const i=t.tView,l=Vg(e,i,n,4096&e[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=e[t.index];const d=e[18];return null!==d&&(l[18]=d.createEmbeddedView(i)),Yg(i,l,n),l}finally{T(o)}}function mu(e,t){return!t||null===t.firstChild||np(e)}function pp(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=t[n.index];null!==i&&r.push(Ro(i)),di(i)&&Mj(i,r);const s=n.type;if(8&s)pp(e,t,n.child,r);else if(32&s){const a=tb(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=mT(t,n);if(Array.isArray(a))r.push(...a);else{const l=Da(t[15]);pp(l[1],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Mj(e,t){for(let n=10;n<e.length;n++){const r=e[n],o=r[1].firstChild;null!==o&&pp(r[1],r,o,t)}e[7]!==e[0]&&t.push(e[7])}function ET(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let DT=[];const Nj={...Q,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{jl(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},Pj={...Q,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Da(e.lView);for(;t&&!IT(t[1]);)t=Da(t);t&&Vf(t)},consumerOnSignalRead(){this.lView[24]=this}};function IT(e){return 2!==e.type}function TT(e){if(null===e[23])return;let t=!0;for(;t;){let n=!1;for(const r of e[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[2])}}function Xg(e,t=0){const r=e[10].rendererFactory;r.begin?.();try{!function Lj(e,t){const n=As();try{Qt(!0),fb(e,t);let r=0;for(;au(e);){if(100===r)throw new Pe(103,!1);r++,fb(e,1)}}finally{Qt(n)}}(e,t)}finally{r.end?.()}}function AT(e,t,n,r){if(Ea(t))return;const o=t[2];Do(t);let a=!0,l=null,c=null;IT(e)?(c=function xj(e){return e[24]??function kj(e){const t=DT.pop()??Object.create(Nj);return t.lView=e,t}(e)}(t),l=me(c)):null===function ie(){return F}()?(a=!1,c=function Oj(e){const t=e[24]??Object.create(Pj);return t.lView=e,t}(t),l=me(c)):t[24]&&(U(t[24]),t[24]=null);try{jf(t),function dg(e){return vn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&yT(e,t,n,2,r);const d=!(3&~o);if(d){const C=e.preOrderCheckHooks;null!==C&&gg(t,C,null)}else{const C=e.preOrderHooks;null!==C&&mg(t,C,0,null),d_(t,0)}if(function Bj(e){for(let t=qI(e);null!==t;t=ZI(t)){if(!(2&t[2]))continue;const n=t[9];for(let r=0;r<n.length;r++)Vf(n[r])}}(t),TT(t),MT(t,0),null!==e.contentQueries&&A1(e,t),d){const C=e.contentCheckHooks;null!==C&&gg(t,C)}else{const C=e.contentHooks;null!==C&&mg(t,C,1),d_(t,1)}!function Vj(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Rt(~o);else{const i=o,s=n[++r],a=n[++r];Qn(s,i);const l=t[i];Nr(24,l),a(2,l),Nr(25,l)}}}finally{Rt(-1)}}(e,t);const p=e.components;null!==p&&kT(t,p,0);const m=e.viewQuery;if(null!==m&&j_(2,m,r),d){const C=e.viewCheckHooks;null!==C&&gg(t,C)}else{const C=e.viewHooks;null!==C&&mg(t,C,2),d_(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const C of t[22])C();t[22]=null}ET(t),t[2]&=-73}catch(d){throw jl(t),d}finally{null!==c&&(de(c,l),a&&function Rj(e){e.lView[24]!==e&&(e.lView=null,DT.push(e))}(c)),Cn()}}function MT(e,t){for(let n=qI(e);null!==n;n=ZI(n))for(let r=10;r<n.length;r++)xT(n[r],t)}function jj(e,t,n){Nr(18);const r=fi(t,e);xT(r,n),Nr(19,r[8])}function xT(e,t){ld(e)&&fb(e,t)}function fb(e,t){const r=e[1],o=e[2],i=e[24];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!De(i)),s||=!1,i&&(i.dirty=!1),e[2]&=-9217,s)AT(r,e,r.template,e[8]);else if(8192&o){const a=T(null);try{TT(e),MT(e,1);const l=r.components;null!==l&&kT(e,l,1),ET(e)}finally{T(a)}}}function kT(e,t,n){for(let r=0;r<t.length;r++)jj(e,t[r],n)}function Rd(e,t){const n=As()?64:1088;for(e[10].changeDetectionScheduler?.notify(t);e;){e[2]|=n;const r=Da(e);if(qa(e)&&!r)return e;e=r}return null}function RT(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Nd(e,t,n,r=!0){const o=t[1];if(function Uj(e,t,n,r){const o=10+r,i=n.length;r>0&&(n[o-1][4]=t),r<i-10?(t[4]=n[o],ee(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[16];null!==s&&n!==s&&OT(s,t);const a=t[18];null!==a&&a.insertView(e),cd(t),t[2]|=128}(o,t,e,n),r){const s=Hg(n,e),a=t[11],l=a.parentNode(e[7]);null!==l&&function lj(e,t,n,r,o,i){r[0]=o,r[5]=t,Gg(e,r,n,1,o,i)}(o,e[5],a,t,l,s)}const i=t[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function hp(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[16];null!==o&&o!==e&&nb(o,r),t>0&&(e[n-1][4]=r[4]);const i=J(e,10+t);!function cT(e,t){uT(e,t),t[0]=null,t[5]=null}(r[1],r);const s=i[18];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function OT(e,t){const n=e[9],r=t[3];(Yr(r)||t[15]!==r[3][15])&&(e[2]|=2),null===n?e[9]=[t]:n.push(t)}class gp{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[1];return pp(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return Ea(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(di(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(hp(t,r),J(n,r))}this._attachedToViewContainer=!1}fp(this._lView[1],this._lView)}onDestroy(t){lu(this._lView,t)}markForCheck(){Rd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){cd(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Xg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=qa(this._lView),n=this._lView[16];null!==n&&!t&&nb(n,this._lView),uT(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=t;const n=qa(this._lView),r=this._lView[16];null!==r&&!n&&OT(r,this._lView),cd(this._lView)}}let Ja=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Hj;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const i=kd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new gp(i)}})();function Hj(){return Qg(bn(),et())}function Qg(e,t){return 4&e.type?new Ja(t,e,Sd(e,t)):null}function vu(e,t,n,r,o){let i=e.data[t];if(null===i)i=function vb(e,t,n,r,o){const i=ag(),s=Ul(),l=e.data[t]=function Qj(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return qf()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return function Xj(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,l,i,s),l}(e,t,n,r,o),function On(){return vn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function cu(){const e=vn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Za(i,!0),i}let OV=class{},iA=class{};class PV{resolveComponentFactory(t){throw new Pe(917,!1)}}let sm=class{static NULL=new PV};class Eb{}let Zl=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function FV(){const e=et(),n=fi(bn().index,e);return(Yr(n)?n:e)[11]}()})(),LV=(()=>{class e{static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>null})}return e})();const Ib={};class Pd{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const o=this.injector.get(t,Ib,r);return o!==Ib||n===Ib?o:this.parentInjector.get(t,n,r)}}function lm(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Ri(o,a):2==i&&(r=Ri(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function y(e,t=0){const n=et();return null===n?se(e,t):TI(bn(),n,Vt(e),t)}function lA(e,t,n,r,o){const i=null===r?null:{"":-1},s=o(e,n);if(null!==s){let a=s,l=null,c=null;for(const d of s)if(null!==d.resolveHostDirectives){[a,l,c]=d.resolveHostDirectives(s);break}!function HV(e,t,n,r,o,i,s){const a=r.length;let l=!1;for(let m=0;m<a;m++){const C=r[m];!l&&$i(C)&&(l=!0,UV(e,n,m)),m_(yg(n,t),e,C.type)}!function KV(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,a);for(let m=0;m<a;m++){const C=r[m];C.providersResolver&&C.providersResolver(C)}let c=!1,d=!1,p=up(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){const C=r[m];if(n.mergedAttrs=Cd(n.mergedAttrs,C.hostAttrs),zV(e,n,t,p,C),ZV(p,C,o),null!==s&&s.has(C)){const[V,he]=s.get(C);n.directiveToIndex.set(C.type,[p,V+n.directiveStart,he+n.directiveStart])}else(null===i||!i.has(C))&&n.directiveToIndex.set(C.type,p);null!==C.contentQueries&&(n.flags|=4),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(n.flags|=64);const x=C.type.prototype;!c&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),p++}!function GV(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const o=e.data[r];if(null!==n&&n.has(o)){const i=n.get(o);uA(0,t,i,r),uA(1,t,i,r),fA(t,r,!0)}else cA(0,t,o,r),cA(1,t,o,r),fA(t,r,!1)}}(e,n,i)}(e,t,n,a,i,l,c)}null!==i&&null!==r&&function VV(e,t,n){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new Pe(-301,!1);r.push(t[o],i)}}(n,r,i)}function UV(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function cA(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){let s;s=0===e?t.inputs??={}:t.outputs??={},s[i]??=[],s[i].push(r),dA(t,i)}}function uA(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){const s=o[i];let a;a=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),dA(t,s)}}function dA(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function fA(e,t,n){const{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(null===r||!n&&null===o||n&&null===i||Z_(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!n&&o.hasOwnProperty(l)){const c=o[l];for(const d of c)if(d===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){const c=i[l];for(let d=0;d<c.length;d+=2)if(c[d]===t){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function zV(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=h(o.type)),s=new Qf(i,$i(o),y,null);e.blueprint[r]=s,n[r]=s,function WV(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function qV(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(e,t,r,up(e,n,o.hostVars,xr),o)}function ZV(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;$i(t)&&(n[""]=e)}}function Tb(e,t,n,r,o,i,s,a){const l=t[1],c=l.consts,p=vu(l,e,n,r,ti(c,s));return i&&lA(l,t,p,ti(c,a),o),p.mergedAttrs=Cd(p.mergedAttrs,p.attrs),null!==p.attrs&&lm(p,p.attrs,!1),null!==p.mergedAttrs&&lm(p,p.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,p),p}function Ab(e,t){gI(e,t),Of(t)&&e.queries.elementEnd(t)}function cm(e){return!!function Mb(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function yl(e,t,n){return e[t]=n}function ao(e,t,n){return n!==xr&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function bu(e,t,n,r){const o=ao(e,t,n);return ao(e,t+1,r)||o}function Ip(e,t,n){return function r(o){Rd(wa(e)?fi(e.index,t):t,5);const s=t[8];let a=hA(t,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=hA(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function hA(e,t,n,r){const o=T(null);try{return Nr(6,t,n),!1!==n(r)}catch(i){return function db(e,t){const n=e[9];if(!n)return;let r;try{r=n.get(Xa,null)}catch{r=null}r?.(t)}(e,i),!1}finally{Nr(7,t,n),T(o)}}function gA(e,t,n,r,o,i,s,a){const l=Ll(e);let c=!1,d=null;if(!r&&l&&(d=function JV(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=t[7],l=o[i+2];return a&&a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(t,n,i,e.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0;else{const p=_o(e,n),m=r?r(p):p,C=o.listen(m,i,a);mA(r?V=>r(Ro(V[e.index])):e.index,t,n,i,a,C,!1)}return c}function mA(e,t,n,r,o,i,s){const a=t.firstCreatePass?Gf(t):null,l=Hf(n),c=l.length;l.push(o,i),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function dm(e,t,n,r,o,i){const a=t[1],p=t[n][a.data[n].outputs[r]].subscribe(i);mA(e.index,a,t,o,i,p,!0)}const Nc=Symbol("BINDING");class vA extends sm{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=St(t);return new Tp(n,this.ngModule)}}class Tp extends iA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function aU(e){return Object.keys(e).map(t=>{const[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:0!==(r&Ug.SignalBased)};return o&&(i.transform=o),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function lU(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function tj(e){return e.map(ej).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){Nr(22);const a=T(null);try{const l=this.componentDef,c=function pU(e,t,n,r){const o=e?["ng-version","20.3.0"]:function nj(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Qa(o))break;o=i}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let i=null,s=null,a=0;if(n)for(const d of n)a+=d[Nc].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){const p=r[d];if("function"!=typeof p)for(const m of p.bindings){a+=m[Nc].requiredVars;const C=d+1;m.create&&(m.targetIdx=C,(i??=[]).push(m)),m.update&&(m.targetIdx=C,(s??=[]).push(m))}}const l=[t];if(r)for(const d of r){const m=hn("function"==typeof d?d:d.type);l.push(m)}return X_(0,null,function hU(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(i,s),1,a,l,null,null,null,[o],null)}(r,l,s,i),d=function cU(e,t,n){let r=t instanceof B?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new Pd(n,r):n}(l,o||this.ngModule,t),p=function uU(e){const t=e.get(Eb,null);if(null===t)throw new Pe(407,!1);return{rendererFactory:t,sanitizer:e.get(LV,null),changeDetectionScheduler:e.get(gd,null),ngReflect:!1}}(d),m=p.rendererFactory.createRenderer(null,l),C=r?function gj(e,t,n,r){const i=r.get(IB,!1)||n===Wl.ShadowDom,s=e.selectRootElement(t,i);return function mj(e){_T(e)}(s),s}(m,r,l.encapsulation,d):function dU(e,t){const n=function fU(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return jg(t,n,"svg"===n?"svg":"math"===n?"math":null)}(l,m),x=s?.some(yA)||i?.some(Ee=>"function"!=typeof Ee&&Ee.bindings.some(yA)),V=Vg(null,c,null,512|Q_(l),null,null,p,m,d,null,null);V[26]=C,Do(V);let he=null;try{const Ee=Tb(26,V,2,"#host",()=>c.directiveRegistry,!0,0);C&&(sT(m,C,Ee),xs(C,V)),zg(c,V,Ee),V_(c,Ee,V),Ab(c,Ee),void 0!==n&&function mU(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i&&i.length?Array.from(i):null)}}(Ee,this.ngContentSelectors,n),he=fi(Ee.index,V),V[8]=he[8],Yg(c,V,null)}catch(Ee){throw null!==he&&b_(he),b_(V),Ee}finally{Nr(23),Cn()}return new gU(this.componentType,V,!!x)}finally{T(a)}}}function yA(e){const t=e[Nc].kind;return"input"===t||"twoWay"===t}class gU extends OV{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Bl(n[1],26),this.location=Sd(this._tNode,n),this.instance=fi(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new gp(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Kg(r,o[1],o,t,n),this.previousInputValues.set(t,n),Rd(fi(r.index,o),1)}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let es=(()=>class e{static __NG_ELEMENT_ID__=vU})();function vU(){return CA(bn(),et())}const yU=es,_A=class extends yU{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Sd(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const t=_g(this._hostTNode,this._hostLView);if(p_(t)){const n=ep(t,this._hostLView),r=Jf(t);return new Io(n[1].data[r+8],n)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=bA(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(a,o,mu(this._hostTNode,null)),a}createComponent(t,n,r,o,i,s,a){const l=t&&!function Xf(e){return"function"==typeof e}(t);let c;if(l)c=n;else{const he=n||{};c=he.index,r=he.injector,o=he.projectableNodes,i=he.environmentInjector||he.ngModuleRef,s=he.directives,a=he.bindings}const d=l?t:new Tp(St(t)),p=r||this.parentInjector;if(!i&&null==d.ngModule){const Ee=(l?p:this.parentInjector).get(B,null);Ee&&(i=Ee)}St(d.componentType??{});const V=d.create(p,o,null,i,s,a);return this.insertImpl(V.hostView,c,mu(this._hostTNode,null)),V}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function ng(e){return di(e[3])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[3],c=new _A(l,l[5],l[3]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;return Nd(s,o,i,r),t.attachToViewContainerRef(),ee(xb(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=bA(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=hp(this._lContainer,n);r&&(J(xb(this._lContainer),n),fp(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=hp(this._lContainer,n);return r&&null!=J(xb(this._lContainer),n)?new gp(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function bA(e){return e[8]}function xb(e){return e[8]||(e[8]=[])}function CA(e,t){let n;const r=t[e.index];return di(r)?n=r:(n=RT(r,t,null,e),t[e.index]=n,J_(t,n)),SA(n,t,e,r),new _A(n,e,t)}let SA=function EA(e,t,n,r){if(e[7])return;let o;o=8&n.type?Ro(r):function _U(e,t){const n=e[11],r=n.createComment(""),o=_o(t,e),i=n.parentNode(o);return hu(n,i,r,n.nextSibling(o),!1),r}(t,n),e[7]=o};class Rb{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new Rb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nb{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Nb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==$b(t,n).matches&&this.queries[n].setDirty()}}class DA{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function IU(e){return e.split(",").map(t=>t.trim())}(t):t}}class Ob{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Ob(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pb{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Pb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,SU(n,i)),this.matchTNodeWithReadOption(t,n,bg(n,t,i,!1,!1))}else r===Ja?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,bg(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===rt||o===es||o===Ja&&4&n.type)this.addMatch(n.index,-2);else{const i=bg(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function SU(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function EU(e,t,n,r){return-1===n?function wU(e,t){return 11&e.type?Sd(e,t):4&e.type?Qg(e,t):null}(t,e):-2===n?function DU(e,t,n){return n===rt?Sd(t,e):n===Ja?Qg(t,e):n===es?CA(t,e):void 0}(e,t,r):tp(e,e[1],n,t)}function IA(e,t,n,r){const o=t[18].queries[r];if(null===o.matches){const i=e.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:EU(t,i[c],s[l+1],n.metadata.read))}o.matches=a}return o.matches}function Fb(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=IA(e,t,o,n);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(s[a/2]);else{const c=i[a+1],d=t[-l];for(let p=10;p<d.length;p++){const m=d[p];m[16]===m[3]&&Fb(m[1],m,c,r)}if(null!==d[9]){const p=d[9];for(let m=0;m<p.length;m++){const C=p[m];Fb(C[1],C,c,r)}}}}}return r}function TA(e,t,n){const r=new z$(!(4&~n));return function zf(e,t,n,r){const o=Hf(t);o.push(n),e.firstCreatePass&&Gf(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[18]??=new Nb).queries.push(new Rb(r))-1}function xA(e,t,n){null===e.queries&&(e.queries=new Ob),e.queries.track(new Pb(t,n))}function $b(e,t){return e.queries.getByIndex(t)}function kA(e,t){const n=e[1],r=$b(n,t);return r.crossesNgTemplate?Fb(n,e,t,[]):IA(n,e,r,t)}const FA=new Set;function Ii(e){FA.has(e)||(FA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let Cu=class{},LA=class{};class Vb extends Cu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new vA(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;const i=$n(t);this._bootstrapComponents=vl(i.bootstrap),this._r3Injector=Ec(t,n,[{provide:Cu,useValue:this},{provide:sm,useValue:this.componentFactoryResolver},...r],$r(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $A extends LA{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Vb(this.moduleType,t,[])}}class BU extends Cu{injector;componentFactoryResolver=new vA(this);instance=null;constructor(t){super();const n=new _e([...t.providers,{provide:Cu,useValue:this},{provide:sm,useValue:this.componentFactoryResolver}],t.parent||g(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function fm(e,t,n=null){return new BU({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let jU=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Pt(0,n.type),o=r.length>0?fm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Qe({token:e,providedIn:"environment",factory:()=>new e(se(B))})}return e})();function Xe(e){return Gl(()=>{const t=jA(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Sg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(jU).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Wl.Emulated,styles:e.styles||gt,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Ii("NgStandalone"),VA(n);const r=e.dependencies;return n.directiveDefs=pm(r,BA),n.pipeDefs=pm(r,Nn),n.id=function GU(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function BA(e){return St(e)||hn(e)}function Uo(e){return Gl(()=>({type:e.type,bootstrap:e.bootstrap||gt,declarations:e.declarations||gt,imports:e.imports||gt,exports:e.exports||gt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function VU(e,t){if(null==e)return At;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=Ug.None,l=null),n[i]=[r,a,l],t[i]=s}return n}function UU(e){if(null==e)return At;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ut(e){return Gl(()=>{const t=jA(e);return VA(t),t})}function pi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function jA(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||At,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||gt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:VU(e.inputs,t),outputs:UU(e.outputs),debugInfo:null}}function VA(e){e.features?.forEach(t=>t(e))}function pm(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const o of n){const i=t(o);null!==i&&r.push(i)}return r}:null}function Pn(e){let t=function UA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if($i(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Pe(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const s=e;s.inputs=Ub(e.inputs),s.declaredInputs=Ub(e.declaredInputs),s.outputs=Ub(e.outputs);const a=o.hostBindings;a&&KU(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&qU(e,l),c&&ZU(e,c),zU(e,o),li(e.outputs,o.outputs),$i(o)&&o.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===Pn&&(n=!1)}}t=Object.getPrototypeOf(t)}!function WU(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Cd(o.hostAttrs,n=Cd(n,o.hostAttrs))}}(r)}function zU(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Ub(e){return e===At?{}:e===gt?[]:e}function qU(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function ZU(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function KU(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function qA(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=Cd(e.mergedAttrs,e.attrs);const d=e.tView=X_(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),d.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Za(e,!1);const l=KA(n,t,e,r);Kn()&&sb(n,t,l,e),xs(l,t);const c=RT(l,t,l,e);t[r+26]=c,J_(t,c)}function Su(e,t,n,r,o,i,s,a,l,c,d){const p=n+26;let m;if(t.firstCreatePass){if(m=vu(t,p,4,s||null,a||null),null!=c){const C=ti(t.consts,c);m.localNames=[];for(let x=0;x<C.length;x+=2)m.localNames.push(C[x],-1)}}else m=t.data[p];return qA(m,e,t,n,r,o,i,l),null!=c&&xd(e,m,d),m}function nn(e,t,n,r,o,i,s,a){const l=et(),c=_n();return function nH(e,t,n,r,o,i,s,a,l,c,d){const p=n+26;let m;t.firstCreatePass?(m=vu(t,p,4,s||null,a||null),pd()&&lA(t,e,m,ti(t.consts,c),ub),gI(t,m)):m=t.data[p],qA(m,e,t,n,r,o,i,l),Ll(m)&&zg(t,e,m),null!=c&&xd(e,m,d)}(l,c,e,t,n,r,o,ti(c.consts,i),void 0,s,a),nn}let KA=function YA(e,t,n,r){return Yn(!0),t[11].createComment("")};var Gb=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Gb||{});const kp=new tt(""),tM=!1,yn=class lH extends jn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,_c()&&(this.destroyRef=Le(Vi,{optional:!0})??void 0,this.pendingTasks=Le(Dc,{optional:!0})??void 0)}emit(t){const n=T(null);try{super.next(t)}finally{T(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof ct&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function nM(e){let t,n;function r(){e=Yf;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function rM(e){return queueMicrotask(()=>e()),()=>{e=Yf}}const zb="isAngularZone",vm=zb+"_ID";let cH=0;class We{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new yn(!1);onMicrotaskEmpty=new yn(!1);onStable=new yn(!1);onError=new yn(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=tM}=t;if(typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function fH(e){const t=()=>{!function dH(e){function t(){nM(()=>{e.callbackScheduled=!1,qb(e),e.isCheckStableRunning=!0,Wb(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),qb(e))}(e)},n=cH++;e._inner=e._inner.fork({name:"angular",properties:{[zb]:!0,[vm]:n,[vm+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(function pH(e){return sM(e,"__ignore_ng_zone__")}(l))return r.invokeTask(i,s,a,l);try{return oM(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),iM(e)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return oM(e),r.invoke(i,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function hH(e){return sM(e,"__scheduler_tick__")}(l)&&t(),iM(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,qb(e),Wb(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(zb)}static assertInAngularZone(){if(!We.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new Pe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,uH,Yf,Yf);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const uH={};function Wb(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function qb(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function oM(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function iM(e){e._nesting--,Wb(e)}class Zb{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new yn;onMicrotaskEmpty=new yn;onStable=new yn;onError=new yn;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function sM(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}let aM=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})();const lM=[0,1,2,3];let mH=(()=>{class e{ngZone=Le(We);scheduler=Le(gd);errorHandler=Le(hd,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Le(kp,{optional:!0})}execute(){const n=this.sequences.size>0;n&&Nr(16),this.executing=!0;for(const r of lM)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[r])(o.pipelinedValue),o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Nr(17)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),jl(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Gb.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})();class cM{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(n=>n!==this))}}function Kb(e,t){const n=t?.injector??Le(Ur);return Ii("NgAfterNextRender"),function uM(e,t,n,r){const o=t.get(aM);o.impl??=t.get(mH);const i=t.get(kp,null,{optional:!0}),s=!0!==n?.manualCleanup?t.get(Vi):null,a=t.get(s_,null,{optional:!0}),l=new cM(o.impl,function yH(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(l),l}(e,n,t,!0)}let _M=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const OM=new tt(""),Sm=new tt("");let oC,nC=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,o){this._ngZone=n,this.registry=r,_c()&&(this._destroyRef=Le(Vi,{optional:!0})??void 0),oC||(function CG(e){oC=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static \u0275fac=function(r){return new(r||e)(se(We),se(rC),se(Sm))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})(),rC=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return oC?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Op(e){return!!e&&"function"==typeof e.then}function PM(e){return!!e&&"function"==typeof e.subscribe}const iC=new tt("");function sC(e){return $([{provide:iC,multi:!0,useValue:e}])}let FM=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Le(iC,{optional:!0})??[];injector=Le(Ur);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=Bo(this.injector,o);if(Op(i))n.push(i);else if(PM(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const LM=new tt("");function $M(e,t){return Array.isArray(t)?t.reduce($M,e):{...e,...t}}let Aa=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Le(Xa);afterRenderManager=Le(aM);zonelessEnabled=Le(XD);rootEffectScheduler=Le(eI);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new jn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Le(Dc);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(rr(n=>!n))}constructor(){Le(kp,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Le(B);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Ur.NULL){return this._injector.get(We).run(()=>{Nr(10);const s=n instanceof iA;if(!this._injector.get(FM).done)throw new Pe(405,"");let l;l=s?n:this._injector.get(sm).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const c=function wG(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Cu),p=l.create(o,[],r||l.selector,c),m=p.location.nativeElement,C=p.injector.get(OM,null);return C?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),wm(this.components,p),C?.unregisterApplication(m)}),this._loadComponent(p),Nr(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Nr(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Gb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Pe(101,!1);const n=T(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,T(n),this.afterTick.next(),Nr(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Eb,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Nr(14),this.synchronizeOnce(),Nr(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews)(r||au(o))&&(Xg(o,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>au(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;wm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(LM,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Pe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function na(e,t,n,r){const o=et();return ao(o,Bi(),t)&&(_n(),function Sj(e,t,n,r,o,i){const s=_o(e,t);!function Wg(e,t,n,r,o,i,s){if(null==i)e.removeAttribute(t,o,n);else{const a=null==s?Gt(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}(t[11],s,i,e.value,n,r,o)}(er(),o,e,t,n,r)),na}const ZM=new tt("",{providedIn:"root",factory:()=>!1}),s4=new tt("",{providedIn:"root",factory:()=>a4}),a4=4e3;function Wd(e,t,n,r,o,i,s,a){Ii("NgControlFlow");const l=et(),c=_n();return Su(l,c,e,t,n,r,o,ti(c.consts,i),256,s,a),yC}function yC(e,t,n,r,o,i,s,a){Ii("NgControlFlow");const l=et(),c=_n();return Su(l,c,e,t,n,r,o,ti(c.consts,i),512,s,a),yC}function qd(e,t){Ii("NgControlFlow");const n=et(),r=Bi(),o=n[r]!==xr?n[r]:-1,i=-1!==o?Mm(n,26+o):void 0;if(ao(n,r,e)){const a=T(null);try{if(void 0!==i&&function pb(e,t){const n=hp(e,t);return void 0!==n&&fp(n[1],n),n}(i,0),-1!==e){const l=26+e,c=Mm(n,l),d=function _C(e,t){return Bl(e,t)}(n[1],l),p=null;Nd(c,kd(n,d,t,{dehydratedView:p}),0,mu(d,p))}}finally{T(a)}}else if(void 0!==i){const a=function NT(e,t){const n=10+t;if(n<e.length)return e[n]}(i,0);void 0!==a&&(a[8]=t)}}function Mm(e,t){return e[t]}function fe(e,t,n){const r=et();return ao(r,Bi(),t)&&(_n(),lb(er(),r,e,t,r[11],n)),fe}function bC(e,t,n,r,o){Kg(t,e,n,o?"class":"style",r)}function j(e,t,n,r){const o=et(),i=o[1],s=e+26,a=i.firstCreatePass?Tb(s,o,2,t,ub,pd(),n,r):i.data[s];if(qg(a,o,e,t,CC),Ll(a)){const l=o[1];zg(l,o,a),V_(l,a,o)}return null!=r&&xd(o,a),j}function z(){const e=_n(),n=Zg(bn());return e.firstCreatePass&&Ab(e,n),Zf(n)&&Kf(),Wf(),null!=n.classesWithoutHost&&function D$(e){return!!(8&e.flags)}(n)&&bC(e,n,et(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function I$(e){return!!(16&e.flags)}(n)&&bC(e,n,et(),n.stylesWithoutHost,!1),z}function nt(e,t,n,r){return j(e,t,n,r),z(),nt}function xm(e,t,n,r){const o=et(),i=o[1],s=e+26,a=i.firstCreatePass?function pA(e,t,n,r,o,i){const s=t.consts,l=vu(t,e,n,r,ti(s,o));if(l.mergedAttrs=Cd(l.mergedAttrs,l.attrs),null!=i){const c=ti(s,i);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return null!==l.attrs&&lm(l,l.attrs,!1),null!==l.mergedAttrs&&lm(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,2,t,n,r):i.data[s];return qg(a,o,e,t,CC),null!=r&&xd(o,a),xm}function km(){return Zf(Zg(bn()))&&Kf(),Wf(),km}typeof document<"u"&&document;let CC=(e,t,n,r,o)=>(Yn(!0),jg(t[11],r,function Yt(){return vn.lFrame.currentNamespace}()));function Lc(e,t,n){const r=et(),o=r[1],i=e+26,s=o.firstCreatePass?Tb(i,r,8,"ng-container",ub,pd(),t,n):o.data[i];if(qg(s,r,e,"ng-container",wC),Ll(s)){const a=r[1];zg(a,r,s),V_(a,s,r)}return null!=n&&xd(r,s),Lc}function Kl(){const e=_n(),n=Zg(bn());return e.firstCreatePass&&Ab(e,n),Kl}let wC=(e,t,n,r,o)=>(Yn(!0),Y_(t[11],""));function wn(){return et()}const Nm="en-US";let fx=Nm;function $e(e,t,n){const r=et(),o=_n(),i=bn();return function TC(e,t,n,r,o,i,s){let a=!0,l=null;if((3&r.type||s)&&(l??=Ip(r,t,i),gA(r,e,t,s,n,o,i,l)&&(a=!1)),a){const c=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let p=0;p<d.length;p+=2){const m=d[p],C=d[p+1];l??=Ip(r,t,i),dm(r,t,m,C,o,l)}if(c&&c.length)for(const p of c)l??=Ip(r,t,i),dm(r,t,p,o,o,l)}}(o,r,r[11],i,e,t,n),$e}function IC(e,t,n){const r=et(),o=_n(),i=bn();return(3&i.type||n)&&gA(i,o,r,n,r[11],e,t,Ip(i,r,t)),IC}function it(e=1){return function ho(e){return(vn.lFrame.contextLView=function Uf(e,t){for(;e>0;)t=t[14],e--;return t}(e,vn.lFrame.contextLView))[8]}(e)}function Ez(e,t){let n=null;const r=function Y3(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?eT(e,i,!0):J3(r,i))return o}else n=o}return n}function bt(e){const t=et()[15][5];if(!t.projection){const r=t.projection=function Ue(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),o=r.slice();let i=t.child;for(;null!==i;){if(128!==i.type){const s=e?Ez(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function yt(e,t=0,n,r,o,i){const s=et(),a=_n(),l=r?e+1:null;null!==l&&Su(s,a,l,r,o,i,null,n);const c=vu(a,26+e,16,null,n||null);null===c.projection&&(c.projection=t),lg();const p=!s[6]||qf();null===s[15][5].projection[c.projection]&&null!==l?function Dz(e,t,n){const r=26+n,o=t.data[r],i=e[r];Nd(i,kd(e,o,void 0,{dehydratedView:null}),0,mu(o,null))}(s,a,l):p&&!Mg(c)&&function fj(e,t,n){vT(t[11],0,t,n,ob(e,n,t),fT(n.parent||t[5],n,t))}(a,s,c)}function Mu(e,t,n,r){!function MA(e,t,n,r){const o=_n();if(o.firstCreatePass){const i=bn();xA(o,new DA(t,n,r),i.index),function TU(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return TA(o,et(),n)}(e,t,n,r)}function Yl(e,t,n){!function AA(e,t,n){const r=_n();return r.firstCreatePass&&(xA(r,new DA(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),TA(r,et(),t)}(e,t,n)}function ns(e){const t=et(),n=_n(),r=br();No(r+1);const o=$b(n,r);if(e.dirty&&function tg(e){return!(4&~e[2])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=kA(t,r);e.reset(i,FI),e.notifyOnChanges()}return!0}return!1}function rs(){return function Lb(e,t){return e[18].queries[t].queryList}(et(),br())}function ra(e){return pl(function cg(){return vn.lFrame.contextLView}(),26+e)}function Lm(e,t){return e<<17|t<<2}function xu(e){return e>>17&32767}function AC(e){return 2|e}function Kd(e){return(131068&e)>>2}function MC(e,t){return-131069&e|t<<2}function xC(e){return 1|e}function kx(e,t,n,r){const o=e[n+1],i=null===t;let s=r?xu(o):Kd(o),a=!1;for(;0!==s&&(!1===a||i);){const c=e[s+1];Oz(e[s],t)&&(a=!0,e[s+1]=r?xC(c):AC(c)),s=r?xu(c):Kd(c)}a&&(e[n+1]=r?AC(o):xC(o))}function Oz(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&dt(e,t)>=0}function ku(e,t,n){return $x(e,t,n,!1),ku}function oa(e,t){return $x(e,t,null,!0),oa}function $x(e,t,n,r){const o=et(),i=_n(),s=Ya(2);i.firstUpdatePass&&function Vx(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[qn()],s=function jx(e,t){return t>=e.expandoStartIndex}(e,n);(function zx(e,t){return!!(e.flags&(t?8:16))})(i,r)&&null===t&&!s&&(t=!1),t=function zz(e,t,n,r){const o=function Jn(e){const t=vn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Vp(n=kC(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=kC(o,e,t,n,r),null===i){let l=function Wz(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Kd(r))return e[xu(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=kC(null,e,t,l[1],r),l=Vp(l,t.attrs,r),function qz(e,t,n,r){e[xu(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else i=function Zz(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Vp(r,e[i].hostAttrs,n);return Vp(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function Rz(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=xu(s),l=Kd(s);e[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||dt(n,d)>0)&&(c=!0)):d=n,o)if(0!==l){const m=xu(e[a+1]);e[r+1]=Lm(m,a),0!==m&&(e[m+1]=MC(e[m+1],r)),e[a+1]=function xz(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Lm(a,0),0!==a&&(e[a+1]=MC(e[a+1],r)),a=r;else e[r+1]=Lm(l,0),0===a?a=r:e[l+1]=MC(e[l+1],r),l=r;c&&(e[r+1]=AC(e[r+1])),kx(e,d,r,!0),kx(e,d,r,!1),function Nz(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&dt(i,t)>=0&&(n[r+1]=xC(n[r+1]))}(t,d,e,r,i),s=Lm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}(i,e,s,r),t!==xr&&ao(o,s,t)&&function Hx(e,t,n,r,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],d=function kz(e){return!(1&~e)}(c)?Gx(l,t,n,o,Kd(c),s):void 0;$m(d)||($m(i)||function Mz(e){return!(2&~e)}(c)&&(i=Gx(l,null,n,o,a,s)),function hj(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:kc.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=kc.Important),e.setStyle(n,r,o,i))}}(r,s,$l(qn(),n),o,i))}(i,i.data[qn()],o,o[11],e,o[s+1]=function Qz(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=$r(ta(e)))),e}(t,n),r,s)}function kC(e,t,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],r=Vp(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Vp(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ye(e,s,!!n||t[++i]))}return void 0===e?null:e}function Gx(e,t,n,r,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),d=c?l[1]:l,p=null===d;let m=n[o+1];m===xr&&(m=p?gt:void 0);let C=p?je(m,r):d===r?m:void 0;if(c&&!$m(C)&&(C=je(l,r)),$m(C)&&(a=C,s))return a;const x=e[o+1];o=s?xu(x):Kd(x)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=je(l,r))}return a}function $m(e){return void 0!==e}function xe(e,t=""){const n=et(),r=_n(),o=e+26,i=r.firstCreatePass?vu(r,o,1,t,null):r.data[o],s=Wx(r,n,i,t,e);n[o]=s,Kn()&&sb(r,n,s,i),Za(i,!1)}let Wx=(e,t,n,r,o)=>(Yn(!0),function K_(e,t){return e.createText(t)}(t[11],r));function Zx(e,t,n,r=""){return ao(e,Bi(),n)?t+Gt(n)+r:xr}function Yx(e,t,n,r,o,i,s,a=""){const c=function um(e,t,n,r,o){const i=bu(e,t,n,r);return ao(e,t+2,o)||i}(e,Ka(),n,o,s);return Ya(3),c?t+Gt(n)+r+Gt(o)+i+Gt(s)+a:xr}function Ps(e){return hi("",e),Ps}function hi(e,t,n){const r=et(),o=Zx(r,e,t,n);return o!==xr&&Xl(r,qn(),o),hi}function Up(e,t,n,r,o){const i=et(),s=function Kx(e,t,n,r,o,i=""){const a=bu(e,Ka(),n,o);return Ya(2),a?t+Gt(n)+r+Gt(o)+i:xr}(i,e,t,n,r,o);return s!==xr&&Xl(i,qn(),s),Up}function RC(e,t,n,r,o,i,s){const a=et(),l=Yx(a,e,t,n,r,o,i,s);return l!==xr&&Xl(a,qn(),l),RC}function Xl(e,t,n){const r=$l(t,e);!function nT(e,t,n){e.setValue(t,n)}(e[11],r,n)}function Hp(e){return ao(et(),Bi(),e)?Gt(e):xr}function NC(e,t,n=""){return Zx(et(),e,t,n)}function OC(e,t,n,r,o){if(e=Vt(e),Array.isArray(e))for(let i=0;i<e.length;i++)OC(e[i],t,n,r,o);else{const i=_n(),s=et(),a=bn();let l=kt(e)?e:Vt(e.provide);const c=Wn(e),d=1048575&a.providerIndexes,p=a.directiveStart,m=a.providerIndexes>>20;if(kt(e)||!e.multi){const C=new Qf(c,o,y,null),x=FC(l,t,o?d:d+m,p);-1===x?(m_(yg(a,s),i,l),PC(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(C),s.push(C)):(n[x]=C,s[x]=C)}else{const C=FC(l,t,d+m,p),x=FC(l,t,d,d+m),he=x>=0&&n[x];if(o&&!he||!o&&!(C>=0&&n[C])){m_(yg(a,s),i,l);const Ee=function g6(e,t,n,r,o){const s=new Qf(e,n,y,null);return s.multi=[],s.index=t,s.componentProviders=0,fk(s,o,r&&!n),s}(o?h6:p6,n.length,o,r,c);!o&&he&&(n[x].providerFactory=Ee),PC(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(Ee),s.push(Ee)}else PC(i,e,C>-1?C:x,fk(n[o?x:C],c,!o&&r));!o&&r&&he&&n[x].componentProviders++}}}function PC(e,t,n,r){const o=kt(t),i=function Rr(e){return!!e.useClass}(t);if(o||i){const l=(i?Vt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function fk(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function FC(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function p6(e,t,n,r,o){return LC(this.multi,[])}function h6(e,t,n,r,o){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=tp(r,r[1],this.providerFactory.index,o);s=l.slice(0,a),LC(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],LC(i,s);return s}function LC(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Cr(e,t=[]){return n=>{n.providersResolver=(r,o)=>function f6(e,t,n){const r=_n();if(r.firstCreatePass){const o=$i(e);OC(n,r.data,r.blueprint,o,!0),OC(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}function mk(e,t,n,r,o,i){const s=t+n;return ao(e,s,o)?yl(e,s+1,i?r.call(i,o):r(o)):function Gp(e,t){const n=e[t];return n===xr?void 0:n}(e,s+1)}function $c(e,t){const n=_n();let r;const o=e+26;n.firstCreatePass?(r=function A6(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=h(r.type)),a=oo(y);try{const l=vg(!1),c=i();return vg(l),function ad(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,et(),o,c),c}finally{oo(a)}}function Bc(e,t,n){const r=e+26,o=et(),i=pl(o,r);return function zp(e,t){return e[1].data[t].pure}(o,r)?mk(o,Ci(),t,i.transform,n,i):i.transform(n)}class a5{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let l5=(()=>{class e{compileModuleSync(n){return new $A(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=vl($n(n).declarations).reduce((s,a)=>{const l=St(a);return l&&s.push(new Tp(l)),s},[]);return new a5(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),u5=(()=>{class e{zone=Le(We);changeDetectionScheduler=Le(gd);applicationRef=Le(Aa);applicationErrorHandler=Le(Xa);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function $k({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new We({...UC(),scheduleInRootZone:n}),[{provide:We,useFactory:e},{provide:xt,multi:!0,useFactory:()=>{const r=Le(u5,{optional:!0});return()=>r.initialize()}},{provide:xt,multi:!0,useFactory:()=>{const r=Le(f5);return()=>{r.initialize()}}},!0===t?{provide:QD,useValue:!0}:[],{provide:JD,useValue:n??tM},{provide:Xa,useFactory:()=>{const r=Le(We),o=Le(B);let i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(hd),i.handleError(s))})}}}]}function UC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let f5=(()=>{class e{subscription=new ct;initialized=!1;zone=Le(We);pendingTasks=Le(Dc);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vk=(()=>{class e{applicationErrorHandler=Le(Xa);appRef=Le(Aa);taskService=Le(Dc);ngZone=Le(We);zonelessEnabled=Le(XD);tracing=Le(kp,{optional:!0});disableScheduling=Le(QD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ct;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vm):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Le(JD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Zb||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const o=this.useMicrotaskScheduler?rM:nM;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,rM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Vc=new tt("",{providedIn:"root",factory:()=>Le(Vc,{optional:!0,skipSelf:!0})||function p5(){return typeof $localize<"u"&&$localize.locale||Nm}()}),Gm=Symbol("InputSignalNode#UNSET"),zk={...Dn,transformFn:void 0,applyValueToInputSignal(e,t){_t(e,t)}};function Wk(e,t){const n=Object.create(zk);function r(){if(Z(n),n.value===Gm)throw new Pe(-950,null);return n.value}return n.value=e,n.transformFn=t?.transform,r[I]=n,r}function qk(e,t){return Wk(e,t)}new tt("").__NG_ELEMENT_ID__=e=>{const t=bn();if(null===t)throw new Pe(204,!1);if(2&t.type)return t.value;if(8&e)return null;throw new Pe(204,!1)};const E5=(qk.required=function w5(e){return Wk(Gm,e)},qk),Wm=new tt(""),M5=new tt("");function qp(e){return!e.moduleRef}let Jk;function eR(){Jk=x5}function x5(e,t){const n=e.injector.get(Aa);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Pe(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}let tR=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){const o=r?.scheduleInRootZone,s=r?.ignoreChangesOutsideZone,a=[$k({ngZoneFactory:()=>function gH(e="zone.js",t){return"noop"===e?new Zb:"zone.js"===e?new We(t):e}(r?.ngZone,{...UC({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:s}),{provide:gd,useExisting:Vk},WL],l=function $U(e,t,n){return new Vb(e,t,n,!1)}(n.moduleType,this.injector,a);return eR(),function Qk(e){const t=qp(e)?e.r3Injector:e.moduleRef.injector,n=t.get(We);return n.run(()=>{qp(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(Xa);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),qp(e)){const i=()=>t.destroy(),s=e.platformInjector.get(Wm);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{const i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Wm);s.add(i),e.moduleRef.onDestroy(()=>{wm(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return function k5(e,t,n){try{const r=n();return Op(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}(r,n,()=>{const i=t.get(Dc),s=i.add(),a=t.get(FM);return a.runInitializers(),a.donePromise.then(()=>{if(function V4(e){"string"==typeof e&&(fx=e.toLowerCase().replace(/_/g,"-"))}(t.get(Vc,Nm)||Nm),!t.get(M5,!0))return qp(e)?t.get(Aa):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(qp(e)){const d=t.get(Aa);return void 0!==e.rootComponent&&d.bootstrap(e.rootComponent),d}return Jk?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{i.remove(s)})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const o=$M({},r);return eR(),function D5(e,t,n){const r=new $A(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Wm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(se(Ur))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Jd=null;function nR(e,t,n=[]){const r=`Platform: ${t}`,o=new tt(r);return(i=[])=>{let s=qm();if(!s){const a=[...n,...i,{provide:o,useValue:!0}];s=e?.(a)??function R5(e){if(qm())throw new Pe(400,!1);(function SG(){!function ht(e){He=e}(()=>{throw new Pe(600,"")})})(),Jd=e;const t=e.get(tR);return function oR(e){const t=e.get(n1,null);Bo(e,()=>{t?.forEach(n=>n())})}(e),t}(function rR(e=[],t){return Ur.create({name:t,providers:[{provide:nr,useValue:"platform"},{provide:Wm,useValue:new Set([()=>Jd=null])},...e]})}(a,r))}return function N5(){const t=qm();if(!t)throw new Pe(401,!1);return t}()}}function qm(){return Jd?.get(tR)??null}let mt=(()=>class e{static __NG_ELEMENT_ID__=P5})();function P5(e){return function F5(e,t,n){if(wa(e)&&!n){const r=fi(e.index,t);return new gp(r,r)}return 175&e.type?new gp(t[15],t):null}(bn(),et(),!(16&~e))}class sR{constructor(){}supports(t){return cm(t)}create(t){return new $5(t)}}const L5=(e,t)=>t;class $5{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||L5}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<lR(r,o,i)?n:r,a=lR(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,d=l-o;if(c!=d){for(let m=0;m<c;m++){const C=m<i.length?i[m]:i[m]=0,x=C+m;d<=x&&x<c&&(i[m]=C+1)}i[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!cm(t))throw new Pe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function XV(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new B5(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new aR),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class B5{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}}class j5{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class aR{map=new Map;put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new j5,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lR(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function uR(){return new qC([new sR])}let qC=(()=>{class e{factories;static \u0275prov=Qe({token:e,providedIn:"root",factory:uR});constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{const r=Le(e,{optional:!0,skipSelf:!0});return e.create(n,r||uR())}}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Pe(901,!1)}}return e})();const z5=nR(null,"core",[]);let W5=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(se(Aa))};static \u0275mod=Uo({type:e});static \u0275inj=Un({})}return e})();function IR(e){const t=St(e);if(!t)return null;const n=new Tp(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}const TR="browser";function tf(e){return e===TR}let C8=(()=>{class e{static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new S8(Le(ni),window)})}return e})();class S8{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo({...n,left:t[0],top:t[1]})}scrollToAnchor(t,n){const r=function w8(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Wr(2400,!1))}}scrollToElement(t,n){const r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo({...n,left:o-s[0],top:i-s[1]})}}function Jr(e){return function eW(e){const t=T(null);try{return e()}finally{T(t)}}(e)}function Ui(e,t){return function Re(e,t){const n=Object.create(wt);n.computation=e,void 0!==t&&(n.equal=t);const r=()=>{if(ge(n),Z(n),n.value===Je)throw n.error;return n.value};return r[I]=n,r}(e,t?.equal)}Error,Error;let WR=(()=>{class e extends hl{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=l_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Hl(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Hl(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(se(a_),se(rI,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class n9{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jl=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new n9(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),rN(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{rN(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(es),y(Ja),y(qC))};static \u0275dir=Ut({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function rN(e,t){e.context.$implicit=t.item}let Ao=(()=>{class e{_viewContainer;_context=new r9;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){oN(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){oN(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(es),y(Ja))};static \u0275dir=Ut({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class r9{$implicit=null;ngIf=null}function oN(e,t){if(e&&!e.createEmbeddedView)throw new Pe(2020,!1)}class uS{_viewContainerRef;_templateRef;_created=!1;constructor(t,n){this._viewContainerRef=t,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let pv=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),iN=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(n,r,o){this.ngSwitch=o,o._addCase(),this._view=new uS(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||e)(y(es),y(Ja),y(pv,9))};static \u0275dir=Ut({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})(),sN=(()=>{class e{constructor(n,r,o){o._addDefault(new uS(n,r))}static \u0275fac=function(r){return new(r||e)(y(es),y(Ja),y(pv,9))};static \u0275dir=Ut({type:e,selectors:[["","ngSwitchDefault",""]]})}return e})(),ec=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Uo({type:e});static \u0275inj=Un({})}return e})();const hS=new tt("");let cN=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new Pe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(se(hS),se(We))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class uN{_doc;constructor(t){this._doc=t}manager}const gS="ng-app-id";function dN(e){for(const t of e)t.remove()}function fN(e,t){const n=t.createElement("style");return n.textContent=e,n}function mS(e,t){const n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}let pN=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,function A9(e,t,n,r){const o=e.head?.querySelectorAll(`style[${gS}="${t}"],link[${gS}="${t}"]`);if(o)for(const i of o)i.removeAttribute(gS),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const o of n)this.addUsage(o,this.inline,fN);r?.forEach(o=>this.addUsage(o,this.external,mS))}removeStyles(n,r){for(const o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){const i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){const o=r.get(n);o&&(o.usage--,o.usage<=0&&(dN(o.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])dN(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:o}]of this.inline)o.push(this.addElement(n,fN(r,this.doc)));for(const[r,{elements:o}]of this.external)o.push(this.addElement(n,mS(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(se(ni),se(op),se(r1,8),se(Dg))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const vS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yS=/%COMP%/g,O9=new tt("",{providedIn:"root",factory:()=>!0});function gN(e,t){return t.map(n=>n.replace(yS,e))}let mN=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,o,i,s,a,l,c=null,d,p,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=d,this.maxAnimationTimeout=p,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new _S(n,s,l,this.platformIsServer,this.tracingService,this.registry=function wc(){return Oo}(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(n,r);return o instanceof yN?o.applyToHost(n):o instanceof bS&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Wl.Emulated:i=new yN(l,c,r,this.appId,d,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Wl.ShadowDom:return new $9(l,c,n,r,s,a,this.nonce,p,m,this.registry,this.maxAnimationTimeout);default:i=new bS(l,c,r,d,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(se(cN),se(pN),se(op),se(O9),se(ni),se(Dg),se(We),se(r1),se(ZM),se(s4),se(kp,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class _S{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i,s,a){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(vS[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(vN(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(vN(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){const{elements:r}=this.registry;r?r.animate(n,()=>n.remove(),this.maxAnimationTimeout):n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Pe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=vS[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=vS[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(kc.DashCase|kc.Important)?t.style.setProperty(n,r,o&kc.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&kc.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if("string"==typeof t&&!(t=Ic().getGlobalEventTarget(this.doc,t)))throw new Pe(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&n.preventDefault()}}}function vN(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class $9 extends _S{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,l,c,d,p){super(t,i,s,l,c,d,p),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=o.styles;m=gN(o.id,m);for(const x of m){const V=document.createElement("style");a&&V.setAttribute("nonce",a),V.textContent=x,this.shadowRoot.appendChild(V)}const C=o.getExternalStyles?.();if(C)for(const x of C){const V=mS(x,i);a&&V.setAttribute("nonce",a),this.shadowRoot.appendChild(V)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class bS extends _S{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,n,r,o,i,s,a,l,c,d,p,m){super(t,i,s,a,l,c,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this._animationDisabled=d;let C=r.styles;this.styles=m?gN(m,C):C,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements)return void this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}}class yN extends bS{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,l,c,d,p,m){const C=o+"-"+r.id;super(t,n,r,i,s,a,l,c,d,p,m,C),this.contentAttr=function P9(e){return"_ngcontent-%COMP%".replace(yS,e)}(C),this.hostAttr=function F9(e){return"_nghost-%COMP%".replace(yS,e)}(C)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class CS extends XL{supportsDOMEvents=!0;static makeCurrent(){!function YL(e){tI??=e}(new CS)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function B9(){return Jp=Jp||document.head.querySelector("base"),Jp?Jp.getAttribute("href"):null}();return null==n?null:function j9(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Jp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return sI(document.cookie,t)}}let Jp=null,U9=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})(),H9=(()=>{class e extends uN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(se(ni))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const _N=["alt","control","meta","shift"],G9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z9={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let W9=(()=>{class e extends uN{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o,i){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ic().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_N.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=G9[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),_N.forEach(s=>{s!==o&&(0,z9[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||e)(se(ni))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const Y9=nR(z5,"browser",[{provide:Dg,useValue:TR},{provide:n1,useValue:function q9(){CS.makeCurrent()},multi:!0},{provide:ni,useFactory:function K9(){return function vB(e){w_=e}(document),document}}]),SN=[{provide:Sm,useClass:class V9{addToWindow(t){zn.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new Pe(5103,!1);return i},zn.getAllAngularTestabilities=()=>t.getAllTestabilities(),zn.getAllAngularRootElements=()=>t.getAllRootElements(),zn.frameworkStabilizers||(zn.frameworkStabilizers=[]),zn.frameworkStabilizers.push(r=>{const o=zn.getAllAngularTestabilities();let i=o.length;const s=function(){i--,0==i&&r()};o.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Ic().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}}},{provide:OM,useClass:nC,deps:[We,rC,Sm]},{provide:nC,useClass:nC,deps:[We,rC,Sm]}],wN=[{provide:nr,useValue:"root"},{provide:hd,useFactory:function Z9(){return new hd}},{provide:hS,useClass:H9,multi:!0,deps:[ni]},{provide:hS,useClass:W9,multi:!0,deps:[ni]},mN,pN,cN,{provide:Eb,useExisting:mN},{provide:aI,useClass:U9},[]];let X9=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Uo({type:e});static \u0275inj=Un({providers:[...wN,...SN],imports:[ec,W5]})}return e})(),Q9=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(se(ni))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let SS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:function(r){let o=null;return o=r?new(r||e):se(r7),o},providedIn:"root"})}return e})(),r7=(()=>{class e extends SS{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case ks.NONE:return r;case ks.HTML:return ml(r,"HTML")?ta(r):V1(this._doc,String(r)).toString();case ks.STYLE:return ml(r,"Style")?ta(r):r;case ks.SCRIPT:if(ml(r,"Script"))return ta(r);throw new Pe(5200,!1);case ks.URL:return ml(r,"URL")?ta(r):Fg(String(r));case ks.RESOURCE_URL:if(ml(r,"ResourceURL"))return ta(r);throw new Pe(5201,!1);default:throw new Pe(5202,!1)}}bypassSecurityTrustHtml(n){return function l3(e){return new n3(e)}(n)}bypassSecurityTrustStyle(n){return function c3(e){return new r3(e)}(n)}bypassSecurityTrustScript(n){return function u3(e){return new o3(e)}(n)}bypassSecurityTrustUrl(n){return function d3(e){return new i3(e)}(n)}bypassSecurityTrustResourceUrl(n){return function f3(e){return new s3(e)}(n)}static \u0275fac=function(r){return new(r||e)(se(ni))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const rf="safari"in window,bo=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,IN=bo&&!navigator.userAgent.match(/(crios)|(fxios)/i),_l=!!navigator.userAgent.match(/pwashell/i),wS=(rf||bo||!!navigator.userAgent.match(/Safari/)&&navigator.userAgent.match(/Chrome/),!!navigator.userAgent.match(/android/i)),o7=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;function hv(e){return e+"-preview"}function ES(e){return localStorage.getItem(hv(e))}function DS(e,t){localStorage.setItem(hv(e),t)}const TN="DYNAMIC_FONTS";function AN(){return!!sf()&&"1"===(ES(TN)??"1")}function sf(){return bo}function MN(){sf()&&(AN()?document.documentElement.style.removeProperty("--ion-dynamic-font"):document.documentElement.style.setProperty("--ion-dynamic-font","initial"))}const xN="cp-indicator-fix-portrait",kN="cp-indicator-fix-landscape",RN="cloudpilot-indicator-fix-mode";let gv;function NN(){return function i7(e){return localStorage.getItem(hv(e))??localStorage.getItem(e)}(RN)??"none"}function IS(){return IN&&!navigator?.standalone}function ON(e){if(!IS())return;gv||(gv=document.createElement("style"),gv.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${xN} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${kN} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(gv)),void 0!==e?DS(RN,e):e=NN();const t=document.documentElement.classList;t.toggle(xN,"all"===e||"portrait"===e),t.toggle(kN,"all"===e||"landscape"===e)}const mv="cloudpilot-session";function PN(){!function s7(e){localStorage.removeItem(hv(e))}(mv)}var fn=_(6784),f7=_(3028),af=_.n(f7);let vv,yv;function FN(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const n=t.split("&").map(r=>r.split("="));for(const[r,o]of n)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function LN(){return void 0!==yv}class $N{constructor(){this.requestEvent=new fn.J}dispatchRequest(t){if(t){try{t=new(af())(t).toString()}catch(n){return void console.error(`invalid URL: ${t}`,n)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let TS=(()=>{var e;class t{constructor(){this.installation=new $N,this.import=new $N,vv&&this.installation.dispatchRequest(vv),yv&&this.import.dispatchRequest(yv)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function oe(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function Hc(e){return this instanceof Hc?(this.v=e,this):new Hc(e)}function UN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function kS(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const NS=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function HN(e){return Nt(e?.then)}function GN(e){return Nt(e[co])}function zN(e){return Symbol.asyncIterator&&Nt(e?.[Symbol.asyncIterator])}function WN(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const qN=function j7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ZN(e){return Nt(e?.[qN])}function KN(e){return function VN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(C){return function(x){return Promise.resolve(x).then(C,p)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(C,x){r[C]&&(o[C]=function(V){return new Promise(function(he,Ee){i.push([C,V,he,Ee])>1||l(C,V)})},x&&(o[C]=x(o[C])))}function l(C,x){try{!function c(C){C.value instanceof Hc?Promise.resolve(C.value.v).then(d,p):m(i[0][2],C)}(r[C](x))}catch(V){m(i[0][3],V)}}function d(C){l("next",C)}function p(C){l("throw",C)}function m(C,x){C(x),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Hc(n.read());if(o)return yield Hc(void 0);yield yield Hc(r)}}finally{n.releaseLock()}})}function YN(e){return Nt(e?.getReader)}function Fs(e){if(e instanceof Tn)return e;if(null!=e){if(GN(e))return function V7(e){return new Tn(t=>{const n=e[co]();if(Nt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(NS(e))return function U7(e){return new Tn(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(HN(e))return function H7(e){return new Tn(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,cr)})}(e);if(zN(e))return XN(e);if(ZN(e))return function G7(e){return new Tn(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(YN(e))return function z7(e){return XN(KN(e))}(e)}throw WN(e)}function XN(e){return new Tn(t=>{(function W7(e,t){var n,r,o,i;return function BN(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(p){s(p)}}function l(d){try{c(r.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=UN(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function tc(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Ai(e,t,n=1/0){return Nt(t)?Ai((r,o)=>rr((i,s)=>t(r,i,o,s))(Fs(e(r,o))),n):("number"==typeof t&&(n=t),ri((r,o)=>function q7(e,t,n,r,o,i,s,a){const l=[];let c=0,d=0,p=!1;const m=()=>{p&&!l.length&&!c&&t.complete()},C=V=>c<r?x(V):l.push(V),x=V=>{i&&t.next(V),c++;let he=!1;Fs(n(V,d++)).subscribe(Vo(t,Ee=>{o?.(Ee),i?C(Ee):t.next(Ee)},()=>{he=!0},void 0,()=>{if(he)try{for(c--;l.length&&c<r;){const Ee=l.shift();s?tc(t,s,()=>x(Ee)):x(Ee)}m()}catch(Ee){t.error(Ee)}}))};return e.subscribe(Vo(t,C,()=>{p=!0,m()})),()=>{a?.()}}(r,o,e,n)))}function lf(e,t){return Nt(t)?Ai(e,t,1):Ai(e,1)}function Ra(e,t){return ri((n,r)=>{let o=0;n.subscribe(Vo(r,i=>e.call(t,i,o++)&&r.next(i)))})}function th(e){return ri((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function gi(e,t){return ri((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(Vo(r,l=>{o?.unsubscribe();let c=0;const d=i++;Fs(e(l,d)).subscribe(o=Vo(r,p=>r.next(t?t(l,p,d,c++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function QN(e){return e&&Nt(e.schedule)}function OS(e){return e[e.length-1]}function JN(e){return Nt(OS(e))?e.pop():void 0}function nh(e){return QN(OS(e))?e.pop():void 0}function eO(e,t=0){return ri((n,r)=>{n.subscribe(Vo(r,o=>tc(r,e,()=>r.next(o),t),()=>tc(r,e,()=>r.complete(),t),o=>tc(r,e,()=>r.error(o),t)))})}function tO(e,t=0){return ri((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function nO(e,t){if(!e)throw new Error("Iterable cannot be null");return new Tn(n=>{tc(n,t,()=>{const r=e[Symbol.asyncIterator]();tc(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function ii(e,t){return t?function eq(e,t){if(null!=e){if(GN(e))return function K7(e,t){return Fs(e).pipe(tO(t),eO(t))}(e,t);if(NS(e))return function X7(e,t){return new Tn(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(HN(e))return function Y7(e,t){return Fs(e).pipe(tO(t),eO(t))}(e,t);if(zN(e))return nO(e,t);if(ZN(e))return function Q7(e,t){return new Tn(n=>{let r;return tc(n,t,()=>{r=e[qN](),tc(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>Nt(r?.return)&&r.return()})}(e,t);if(YN(e))return function J7(e,t){return nO(KN(e),t)}(e,t)}throw WN(e)}(e,t):Fs(e)}function cn(...e){return ii(e,nh(e))}class _v{}class bv{}class nl{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof nl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new nl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof nl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(t,n){const r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class tq{encodeKey(t){return rO(t)}encodeValue(t){return rO(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const rq=/%(\d[a-f0-9])/gi,oq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rO(e){return encodeURIComponent(e).replace(rq,(t,n)=>oq[n]??t)}function Cv(e){return`${e}`}class Gc{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new tq,t.fromString){if(t.fromObject)throw new Pe(2805,!1);this.map=function nq(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(Cv):[Cv(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Gc({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Cv(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(Cv(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class iq{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function oO(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function iO(e){return typeof Blob<"u"&&e instanceof Blob}function sO(e){return typeof FormData<"u"&&e instanceof FormData}const rh="Content-Type",PS="X-Request-URL",aO="text/plain",lO="application/json",cO=`${lO}, ${aO}, */*`;class oh{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){let i;if(this.url=n,this.method=t.toUpperCase(),function sq(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),"number"==typeof i.timeout){if(i.timeout<1||!Number.isInteger(i.timeout))throw new Pe(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new nl,this.context??=new iq,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Gc,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||oO(this.body)||iO(this.body)||sO(this.body)||function aq(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Gc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sO(this.body)?null:iO(this.body)?this.body.type||null:oO(this.body)?null:"string"==typeof this.body?aO:this.body instanceof Gc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?lO:null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,l=t.mode||this.mode,c=t.redirect||this.redirect,d=t.credentials||this.credentials,p=t.referrer||this.referrer,m=t.integrity||this.integrity,C=t.transferCache??this.transferCache,x=t.timeout??this.timeout,V=void 0!==t.body?t.body:this.body,he=t.withCredentials??this.withCredentials,Ee=t.reportProgress??this.reportProgress;let ke=t.headers||this.headers,Tt=t.params||this.params;const Lt=t.context??this.context;return void 0!==t.setHeaders&&(ke=Object.keys(t.setHeaders).reduce((Mt,Rn)=>Mt.set(Rn,t.setHeaders[Rn]),ke)),t.setParams&&(Tt=Object.keys(t.setParams).reduce((Mt,Rn)=>Mt.set(Rn,t.setParams[Rn]),Tt)),new oh(n,r,V,{params:Tt,headers:ke,context:Lt,reportProgress:Ee,responseType:o,withCredentials:he,transferCache:C,keepalive:i,cache:a,priority:s,timeout:x,mode:l,redirect:c,credentials:d,referrer:p,integrity:m})}}var zc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(zc||{});class FS{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new nl,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}}class wv extends FS{constructor(t={}){super(t)}type=zc.ResponseHeader;clone(t={}){return new wv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ih extends FS{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=zc.Response;clone(t={}){return new ih({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}}class Nu extends FS{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function LS(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}let $S=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof oh)i=n;else{let l,c;l=o.headers instanceof nl?o.headers:new nl(o.headers),o.params&&(c=o.params instanceof Gc?o.params:new Gc({fromObject:o.params})),i=new oh(n,r,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}const s=cn(i).pipe(lf(l=>this.handler.handle(l)));if(n instanceof oh||"events"===o.observe)return s;const a=s.pipe(Ra(l=>l instanceof ih));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(rr(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Pe(2806,!1);return l.body}));case"blob":return a.pipe(rr(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Pe(2807,!1);return l.body}));case"text":return a.pipe(rr(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Pe(2808,!1);return l.body}));default:return a.pipe(rr(l=>l.body))}case"response":return a;default:throw new Pe(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Gc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,LS(o,r))}post(n,r,o={}){return this.request("POST",n,LS(o,r))}put(n,r,o={}){return this.request("PUT",n,LS(o,r))}static \u0275fac=function(r){return new(r||e)(se(_v))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const fO=new tt("");function pO(e,t){return t(e)}function pq(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const gq=new tt(""),sh=new tt(""),mq=new tt(""),hO=new tt("",{providedIn:"root",factory:()=>!0});function vq(){let e=null;return(t,n)=>{null===e&&(e=(Le(gq,{optional:!0})??[]).reduceRight(pq,pO));const r=Le(pg);if(Le(hO)){const i=r.add();return e(t,n).pipe(th(i))}return e(t,n)}}let gO=(()=>{class e extends _v{backend;injector;chain=null;pendingTasks=Le(pg);contributeToStability=Le(hO);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(sh),...this.injector.get(mq,[])]));this.chain=r.reduceRight((o,i)=>function hq(e,t,n){return(r,o)=>Bo(n,()=>t(r,i=>e(i,o)))}(o,i,this.injector),pO)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(th(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(se(bv),se(B))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const Cq=/^\)\]\}',?\n/,Sq=RegExp(`^${PS}:`,"m");let vO=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Pe(-2800,!1);const r=this.xhrFactory;return cn(null).pipe(gi(()=>new Tn(i=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((he,Ee)=>s.setRequestHeader(he,Ee.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",cO),!n.headers.has(rh)){const he=n.detectContentTypeHeader();null!==he&&s.setRequestHeader(rh,he)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){const he=n.responseType.toLowerCase();s.responseType="json"!==he?he:"text"}const a=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const he=s.statusText||"OK",Ee=new nl(s.getAllResponseHeaders()),ke=function wq(e){return"responseURL"in e&&e.responseURL?e.responseURL:Sq.test(e.getAllResponseHeaders())?e.getResponseHeader(PS):null}(s)||n.url;return l=new wv({headers:Ee,status:s.status,statusText:he,url:ke}),l},d=()=>{let{headers:he,status:Ee,statusText:ke,url:Tt}=c(),Lt=null;204!==Ee&&(Lt=typeof s.response>"u"?s.responseText:s.response),0===Ee&&(Ee=Lt?200:0);let Mt=Ee>=200&&Ee<300;if("json"===n.responseType&&"string"==typeof Lt){const Rn=Lt;Lt=Lt.replace(Cq,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(Ln){Lt=Rn,Mt&&(Mt=!1,Lt={error:Ln,text:Lt})}}Mt?(i.next(new ih({body:Lt,headers:he,status:Ee,statusText:ke,url:Tt||void 0})),i.complete()):i.error(new Nu({error:Lt,headers:he,status:Ee,statusText:ke,url:Tt||void 0}))},p=he=>{const{url:Ee}=c(),ke=new Nu({error:he,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Ee||void 0});i.error(ke)};let m=p;n.timeout&&(m=he=>{const{url:Ee}=c(),ke=new Nu({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:Ee||void 0});i.error(ke)});let C=!1;const x=he=>{C||(i.next(c()),C=!0);let Ee={type:zc.DownloadProgress,loaded:he.loaded};he.lengthComputable&&(Ee.total=he.total),"text"===n.responseType&&s.responseText&&(Ee.partialText=s.responseText),i.next(Ee)},V=he=>{let Ee={type:zc.UploadProgress,loaded:he.loaded};he.lengthComputable&&(Ee.total=he.total),i.next(Ee)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",m),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",x),null!==a&&s.upload&&s.upload.addEventListener("progress",V)),s.send(a),i.next({type:zc.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",m),n.reportProgress&&(s.removeEventListener("progress",x),null!==a&&s.upload&&s.upload.removeEventListener("progress",V)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(se(aI))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const VS=new tt(""),yO=new tt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_O=new tt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bO{}let Iq=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=sI(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(se(ni),se(yO))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();function Tq(e,t){const n=e.url.toLowerCase();if(!Le(VS)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=Le(bO).getToken(),o=Le(_O);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var Wc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Wc||{});function Ou(e,t){return{\u0275kind:e,\u0275providers:t}}function Aq(...e){const t=[$S,vO,gO,{provide:_v,useExisting:gO},{provide:bv,useFactory:()=>Le(fO,{optional:!0})??Le(vO)},{provide:sh,useValue:Tq,multi:!0},{provide:VS,useValue:!0},{provide:bO,useClass:Iq}];for(const n of e)t.push(...n.\u0275providers);return $(t)}const CO=new tt(""),{isArray:kq}=Array,{getPrototypeOf:Rq,prototype:Nq,keys:Oq}=Object;function SO(e){if(1===e.length){const t=e[0];if(kq(t))return{args:t,keys:null};if(function Pq(e){return e&&"object"==typeof e&&Rq(e)===Nq}(t)){const n=Oq(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:Fq}=Array;function US(e){return rr(t=>function Lq(e,t){return Fq(t)?e(...t):e(t)}(e,t))}function wO(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Ev(...e){const t=nh(e),n=JN(e),{args:r,keys:o}=SO(e);if(0===r.length)return ii([],t);const i=new Tn(function $q(e,t,n=ro){return r=>{EO(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)EO(t,()=>{const c=ii(e[l],t);let d=!1;c.subscribe(Vo(r,p=>{i[l]=p,d||(d=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>wO(o,s):ro));return n?i.pipe(US(n)):i}function EO(e,t,n){e?tc(n,e,t):t()}const Dv=Ze(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function cf(e=1/0){return Ai(ro,e)}function HS(...e){return function Bq(){return cf(1)}()(ii(e,nh(e)))}function GS(e){return new Tn(t=>{Fs(e()).subscribe(t)})}function Iv(e,t){const n=Nt(e)?e:()=>e,r=o=>o.error(n());return new Tn(t?o=>t.schedule(r,0,o):r)}const Na=new Tn(e=>e.complete());function zS(){return ri((e,t)=>{let n=null;e._refCount++;const r=Vo(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class DO extends Tn{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,lI(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ct;const n=this.getSubject();t.add(this.source.subscribe(Vo(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ct.EMPTY)}return t}refCount(){return zS()(this)}}function uf(e){return e<=0?()=>Na:ri((t,n)=>{let r=0;t.subscribe(Vo(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Tv(e){return ri((t,n)=>{let r=!1;t.subscribe(Vo(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function IO(e=Uq){return ri((t,n)=>{let r=!1;t.subscribe(Vo(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Uq(){return new Dv}function qc(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ra((o,i)=>e(o,i,r)):ro,uf(1),n?Tv(t):IO(()=>new Dv))}function Hi(e,t,n){const r=Nt(e)||t||n?{next:e,error:t,complete:n}:e;return r?ri((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Vo(i,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),i.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),i.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),i.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ro}function Pu(e){return ri((t,n)=>{let i,r=null,o=!1;r=t.subscribe(Vo(n,void 0,void 0,s=>{i=Fs(e(s,Pu(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function WS(e){return e<=0?()=>Na:ri((t,n)=>{let r=[];t.subscribe(Vo(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function qS(e){return ri((t,n)=>{Fs(e).subscribe(Vo(n,()=>n.complete(),mr)),!n.closed&&t.subscribe(n)})}const Fn="primary",ah=Symbol("RouteTitle");class Wq{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function df(e){return new Wq(e)}function qq(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=e[i];if(":"===s[0])o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function bl(e,t){const n=e?ZS(e):void 0,r=t?ZS(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!TO(e[o],t[o]))return!1;return!0}function ZS(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function TO(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}return e===t}function AO(e){return e.length>0?e[e.length-1]:null}function nc(e){return function xq(e){return!!e&&(e instanceof Tn||Nt(e.lift)&&Nt(e.subscribe))}(e)?e:Op(e)?ii(Promise.resolve(e)):cn(e)}const Kq={exact:function kO(e,t,n){if(!Lu(e.segments,t.segments)||!Av(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!kO(e.children[r],t.children[r],n))return!1;return!0},subset:RO},MO={exact:function Yq(e,t){return bl(e,t)},subset:function Xq(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>TO(e[n],t[n]))},ignored:()=>!0};function xO(e,t,n){return Kq[n.paths](e.root,t.root,n.matrixParams)&&MO[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function RO(e,t,n){return NO(e,t,t.segments,n)}function NO(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Lu(o,n)||t.hasChildren()||!Av(o,n,r))}if(e.segments.length===n.length){if(!Lu(e.segments,n)||!Av(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!RO(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!(Lu(e.segments,o)&&Av(e.segments,o,r)&&e.children[Fn])&&NO(e.children[Fn],t,i,r)}}function Av(e,t,n){return t.every((r,o)=>MO[n](e[o].parameters,r.parameters))}class Fu{root;queryParams;fragment;_queryParamMap;constructor(t=new Fr([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=df(this.queryParams),this._queryParamMap}toString(){return eZ.serialize(this)}}class Fr{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xv(this)}}class lh{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=df(this.parameters),this._parameterMap}toString(){return FO(this)}}function Lu(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let ff=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>new Mv,providedIn:"root"})}return e})();class Mv{parse(t){const n=new dZ(t);return new Fu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${ch(t.root,!0)}`,r=function rZ(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${kv(n)}=${kv(o)}`).join("&"):`${kv(n)}=${kv(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function tZ(e){return encodeURI(e)}(t.fragment)}`:""}`}}const eZ=new Mv;function xv(e){return e.segments.map(t=>FO(t)).join("/")}function ch(e,t){if(!e.hasChildren())return xv(e);if(t){const n=e.children[Fn]?ch(e.children[Fn],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Fn&&r.push(`${o}:${ch(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Jq(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===Fn&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Fn&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===Fn?[ch(e.children[Fn],!1)]:[`${o}:${ch(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Fn]?`${xv(e)}/${n[0]}`:`${xv(e)}/(${n.join("//")})`}}function OO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kv(e){return OO(e).replace(/%3B/gi,";")}function KS(e){return OO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rv(e){return decodeURIComponent(e)}function PO(e){return Rv(e.replace(/\+/g,"%20"))}function FO(e){return`${KS(e.path)}${function nZ(e){return Object.entries(e).map(([t,n])=>`;${KS(t)}=${KS(n)}`).join("")}(e.parameters)}`}const oZ=/^[^\/()?;#]+/;function YS(e){const t=e.match(oZ);return t?t[0]:""}const iZ=/^[^\/()?;=#]+/,aZ=/^[^=?&#]+/,cZ=/^[^&#]+/;class dZ{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fr([],{}):new Fr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Fn]=new Fr(t,n)),r}parseSegment(){const t=YS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Pe(4009,!1);return this.capture(t),new lh(Rv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function sZ(e){const t=e.match(iZ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=YS(this.remaining);o&&(r=o,this.capture(r))}t[Rv(n)]=Rv(r)}parseQueryParam(t){const n=function lZ(e){const t=e.match(aZ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function uZ(e){const t=e.match(cZ);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=PO(n),i=PO(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=YS(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Pe(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Fn);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[Fn]:new Fr([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Pe(4011,!1)}}function LO(e){return e.segments.length>0?new Fr([],{[Fn]:e}):e}function $O(e){const t={};for(const[r,o]of Object.entries(e.children)){const i=$O(o);if(r===Fn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function fZ(e){if(1===e.numberOfChildren&&e.children[Fn]){const t=e.children[Fn];return new Fr(e.segments.concat(t.segments),t.children)}return e}(new Fr(e.segments,t))}function $u(e){return e instanceof Fu}function BO(e){let t;const o=LO(function n(i){const s={};for(const l of i.children){const c=n(l);s[l.outlet]=c}const a=new Fr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function jO(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return XS(o,o,o,n,r);const i=function hZ(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new UO(!0,0,e);let t=0,n=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new UO(n,t,r)}(t);if(i.toRoot())return XS(o,o,new Fr([],{}),n,r);const s=function gZ(e,t,n){if(e.isAbsolute)return new Ov(t,!0,0);if(!n)return new Ov(t,!1,NaN);if(null===n.parent)return new Ov(n,!0,0);const r=Nv(e.commands[0])?0:1;return function mZ(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Pe(4005,!1);o=r.segments.length}return new Ov(r,!1,o-i)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?dh(s.segmentGroup,s.index,i.commands):HO(s.segmentGroup,s.index,i.commands);return XS(o,s.segmentGroup,a,n,r)}function Nv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function uh(e){return"object"==typeof e&&null!=e&&e.outlets}function XS(e,t,n,r,o){let s,i={};r&&Object.entries(r).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=e===t?n:VO(e,t,n);const a=LO($O(s));return new Fu(a,i,o)}function VO(e,t,n){const r={};return Object.entries(e.children).forEach(([o,i])=>{r[o]=i===t?n:VO(i,t,n)}),new Fr(e.segments,r)}class UO{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Nv(r[0]))throw new Pe(4003,!1);const o=r.find(uh);if(o&&o!==AO(r))throw new Pe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ov{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function HO(e,t,n){if(e??=new Fr([],{}),0===e.segments.length&&e.hasChildren())return dh(e,t,n);const r=function yZ(e,t,n){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;const s=e.segments[o],a=n[r];if(uh(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!zO(l,c,s))return i;r+=2}else{if(!zO(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new Fr(e.segments.slice(0,r.pathIndex),{});return i.children[Fn]=new Fr(e.segments.slice(r.pathIndex),e.children),dh(i,0,o)}return r.match&&0===o.length?new Fr(e.segments,{}):r.match&&!e.hasChildren()?QS(e,t,n):r.match?dh(e,0,o):QS(e,t,n)}function dh(e,t,n){if(0===n.length)return new Fr(e.segments,{});{const r=function vZ(e){return uh(e[0])?e[0].outlets:{[Fn]:e}}(n),o={};if(Object.keys(r).some(i=>i!==Fn)&&e.children[Fn]&&1===e.numberOfChildren&&0===e.children[Fn].segments.length){const i=dh(e.children[Fn],t,n);return new Fr(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=HO(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new Fr(e.segments,o)}}function QS(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const i=n[o];if(uh(i)){const l=_Z(i.outlets);return new Fr(r,l)}if(0===o&&Nv(n[0])){r.push(new lh(e.segments[t].path,GO(n[0]))),o++;continue}const s=uh(i)?i.outlets[Fn]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Nv(a)?(r.push(new lh(s,GO(a))),o+=2):(r.push(new lh(s,{})),o++)}return new Fr(r,{})}function _Z(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=QS(new Fr([],{}),0,r))}),t}function GO(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function zO(e,t,n){return e==n.path&&bl(t,n.parameters)}const fh="imperative";var ar=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ar||{});class Cl{id;url;constructor(t,n){this.id=t,this.url=n}}class ph extends Cl{type=ar.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rc extends Cl{urlAfterRedirects;type=ar.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ls=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Ls||{}),Pv=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Pv||{});class Bu extends Cl{reason;code;type=ar.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pf extends Cl{reason;code;type=ar.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}}class JS extends Cl{error;target;type=ar.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WO extends Cl{urlAfterRedirects;state;type=ar.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bZ extends Cl{urlAfterRedirects;state;type=ar.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CZ extends Cl{urlAfterRedirects;state;shouldActivate;type=ar.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class SZ extends Cl{urlAfterRedirects;state;type=ar.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wZ extends Cl{urlAfterRedirects;state;type=ar.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EZ{route;type=ar.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DZ{route;type=ar.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IZ{snapshot;type=ar.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TZ{snapshot;type=ar.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AZ{snapshot;type=ar.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MZ{snapshot;type=ar.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qO{routerEvent;position;anchor;type=ar.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class e0{}class Fv{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function rl(e){return e.outlet||Fn}function hf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class FZ{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return hf(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ju(this.rootInjector)}}let ju=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new FZ(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(se(B))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class ZO{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=t0(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=t0(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=n0(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return n0(t,this._root).map(n=>n.value)}}function t0(e,t){if(e===t.value)return t;for(const n of t.children){const r=t0(e,n);if(r)return r}return null}function n0(e,t){if(e===t.value)return[t];for(const n of t.children){const r=n0(e,n);if(r.length)return r.unshift(t),r}return[]}class ol{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function gf(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class KO extends ZO{snapshot;constructor(t,n){super(t),this.snapshot=n,r0(this,t)}toString(){return this.snapshot.toString()}}function YO(e){const t=function LZ(e){const i=new $v([],{},{},"",{},Fn,e,null,{});return new XO("",new ol(i,[]))}(e),n=new Ir([new lh("",{})]),r=new Ir({}),o=new Ir({}),i=new Ir({}),s=new Ir(""),a=new oc(n,r,i,s,o,Fn,e,t.root);return a.snapshot=t.root,new KO(new ol(a,[]),t)}class oc{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(rr(c=>c[ah]))??cn(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(rr(t=>df(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(rr(t=>df(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lv(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&JO(o)&&(r.resolve[ah]=o.title),r}class $v{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ah]}constructor(t,n,r,o,i,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=df(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=df(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XO extends ZO{url;constructor(t,n){super(n),this.url=t,r0(this,n)}toString(){return QO(this._root)}}function r0(e,t){t.value._routerState=e,t.children.forEach(n=>r0(e,n))}function QO(e){const t=e.children.length>0?` { ${e.children.map(QO).join(", ")} } `:"";return`${e.value}${t}`}function o0(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,bl(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),bl(t.params,n.params)||e.paramsSubject.next(n.params),function Zq(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!bl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),bl(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function s0(e,t){const n=bl(e.params,t.params)&&function Qq(e,t){return Lu(e,t)&&e.every((n,r)=>bl(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||s0(e.parent,t.parent))}function JO(e){return"string"==typeof e.title||null===e.title}const $Z=new tt("");let eP=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Fn;activateEvents=new yn;deactivateEvents=new yn;attachEvents=new yn;detachEvents=new yn;routerOutletData=E5(void 0);parentContexts=Le(ju);location=Le(es);changeDetector=Le(mt);inputBinder=Le(Bv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Pe(4013,!1);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new BZ(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ji]})}return e})();class BZ{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===oc?this.route:t===ju?this.childContexts:t===$Z?this.outletData:this.parent.get(t,n)}}const Bv=new tt("");let tP=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=Ev([r.queryParams,r.params,r.data]).pipe(gi(([i,s,a],l)=>(a={...i,...s,...a},0===l?cn(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=IR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})(),nP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Xe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){1&r&&nt(0,"router-outlet")},dependencies:[eP],encapsulation:2})}return e})();function a0(e){const t=e.children&&e.children.map(a0),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Fn&&(n.component=nP),n}function hh(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function VZ(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return hh(e,r,o);return hh(e,r)})}(e,t,n);return new ol(r,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>hh(e,a)),s}}const r=function UZ(e){return new oc(new Ir(e.url),new Ir(e.params),new Ir(e.queryParams),new Ir(e.fragment),new Ir(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>hh(e,i));return new ol(r,o)}}class l0{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const rP="ngNavigationCancelingError";function jv(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=$u(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=oP(!1,Ls.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function oP(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[rP]=!0,n.cancellationCode=t,n}function iP(e){return!!e&&e[rP]}class zZ{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),o0(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=gf(n);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=gf(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=gf(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=gf(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new MZ(i.value.snapshot))}),t.children.length&&this.forwardEvent(new TZ(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o0(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),o0(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}}class sP{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vv{component;route;constructor(t,n){this.component=t,this.route=n}}function WZ(e,t,n){const r=e._root;return gh(r,t?t._root:null,n,[r.value])}function mf(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function fa(e){return null!==ms(e)}(e)?t.get(e):e:r}function gh(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=gf(t);return e.children.forEach(s=>{(function ZZ(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function KZ(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Lu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Lu(e.url,t.url)||!bl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s0(e,t)||!bl(e.queryParams,t.queryParams);default:return!s0(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new sP(r)):(i.data=s.data,i._resolvedData=s._resolvedData),gh(e,t,i.component?a?a.children:null:n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Vv(a.outlet.component,s))}else s&&mh(t,a,o),o.canActivateChecks.push(new sP(r)),gh(e,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>mh(a,n.getContext(s),o)),o}function mh(e,t,n){const r=gf(e),o=e.value;Object.entries(r).forEach(([i,s])=>{mh(s,o.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new Vv(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function vh(e){return"function"==typeof e}function aP(e){return e instanceof Dv||"EmptyError"===e?.name}const Uv=Symbol("INITIAL_VALUE");function vf(){return gi(e=>Ev(e.map(t=>t.pipe(uf(1),function Vq(...e){const t=nh(e);return ri((n,r)=>{(t?HS(e,n,t):HS(e,n)).subscribe(r)})}(Uv)))).pipe(rr(t=>{for(const n of t)if(!0!==n){if(n===Uv)return Uv;if(!1===n||nK(n))return n}return!0}),Ra(t=>t!==Uv),uf(1)))}function nK(e){return $u(e)||e instanceof l0}function lP(e){return function xo(...e){return Dr(e)}(Hi(t=>{if("boolean"!=typeof t)throw jv(0,t)}),rr(t=>!0===t))}class c0{segmentGroup;constructor(t){this.segmentGroup=t||null}}class u0 extends Error{urlTree;constructor(t){super(),this.urlTree=t}}function yf(e){return Iv(new c0(e))}function pK(e){return Iv(new Pe(4e3,!1))}class gK{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return cn(r);if(o.numberOfChildren>1||!o.children[Fn])return pK();o=o.children[Fn]}}applyRedirectCommands(t,n,r,o,i){return function mK(e,t,n){if("string"==typeof e)return cn(e);const r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,params:c,data:d,title:p}=t;return nc(Bo(n,()=>r({params:c,data:d,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,title:p})))}(n,o,i).pipe(rr(s=>{if(s instanceof Fu)throw new u0(s);const a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if("/"===s[0])throw new u0(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){const i=this.createSegmentGroup(t,n.root,r,o);return new Fu(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){const i=this.createSegments(t,n.segments,r,o);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,o)}),new Fr(i,s)}createSegments(t,n,r,o){return n.map(i=>":"===i.path[0]?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new Pe(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const d0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vK(e,t,n,r,o){const i=cP(e,t,n);return i.matched?(r=function kZ(e,t){return e.providers&&!e._injector&&(e._injector=fm(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function fK(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?cn(o.map(s=>{const a=mf(s,e);return nc(function tK(e){return e&&vh(e.canMatch)}(a)?a.canMatch(t,n):Bo(e,()=>a(t,n)))})).pipe(vf(),lP()):cn(!0)}(r,t,n).pipe(rr(s=>!0===s?i:{...d0}))):cn(i)}function cP(e,t,n){if("**"===t.path)return function yK(e){return{matched:!0,parameters:e.length>0?AO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...d0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||qq)(n,e,t);if(!o)return{...d0};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function uP(e,t,n,r){return n.length>0&&function CK(e,t,n){return n.some(r=>Hv(e,t,r)&&rl(r)!==Fn)}(e,n,r)?{segmentGroup:new Fr(t,bK(r,new Fr(n,e.children))),slicedSegments:[]}:0===n.length&&function SK(e,t,n){return n.some(r=>Hv(e,t,r))}(e,n,r)?{segmentGroup:new Fr(e.segments,_K(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Fr(e.segments,e.children),slicedSegments:n}}function _K(e,t,n,r){const o={};for(const i of n)if(Hv(e,t,i)&&!r[rl(i)]){const s=new Fr([],{});o[rl(i)]=s}return{...r,...o}}function bK(e,t){const n={};n[Fn]=t;for(const r of e)if(""===r.path&&rl(r)!==Fn){const o=new Fr([],{});n[rl(r)]=o}return n}function Hv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class EK{}class TK{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new gK(this.urlSerializer,this.urlTree)}noMatchError(t){return new Pe(4002,`'${t.segmentGroup}'`)}recognize(){const t=uP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(rr(({children:n,rootSnapshot:r})=>{const o=new ol(r,n),i=new XO("",o),s=function pZ(e,t,n=null,r=null){return jO(BO(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){const n=new $v([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Fn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Fn,n).pipe(rr(r=>({children:r,rootSnapshot:n})),Pu(r=>{if(r instanceof u0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof c0?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(rr(s=>s instanceof ol?[s]:[]))}processChildren(t,n,r,o){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ii(i).pipe(lf(s=>{const a=r.children[s],l=function PZ(e,t){const n=e.filter(r=>rl(r)===t);return n.push(...e.filter(r=>rl(r)!==t)),n}(n,s);return this.processSegmentGroup(t,l,a,s,o)}),function Gq(e,t){return ri(function Hq(e,t,n,r,o){return(i,s)=>{let a=n,l=t,c=0;i.subscribe(Vo(s,d=>{const p=c++;l=a?e(l,d,p):(a=!0,d),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Tv(null),function zq(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ra((o,i)=>e(o,i,r)):ro,WS(1),n?Tv(t):IO(()=>new Dv))}(),Ai(s=>{if(null===s)return yf(r);const a=dP(s);return function AK(e){e.sort((t,n)=>t.value.outlet===Fn?-1:n.value.outlet===Fn?1:t.value.outlet.localeCompare(n.value.outlet))}(a),cn(a)}))}processSegment(t,n,r,o,i,s,a){return ii(n).pipe(lf(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,o,i,s,a).pipe(Pu(c=>{if(c instanceof c0)return cn(null);throw c}))),qc(l=>!!l),Pu(l=>{if(aP(l))return function wK(e,t,n){return 0===t.length&&!e.children[n]}(r,o,i)?cn(new EK):yf(r);throw l}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,l){return rl(r)===s||s!==Fn&&Hv(o,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,l):yf(o):yf(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){const{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=cP(n,o,i);if(!l)return yf(n);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const C=new $v(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fP(o),rl(o),o.component??o._loadedComponent??null,o,pP(o)),x=Lv(C,a,this.paramsInheritanceStrategy);return C.params=Object.freeze(x.params),C.data=Object.freeze(x.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,p,C,t).pipe(gi(he=>this.applyRedirects.lineralizeSegments(o,he)),Ai(he=>this.processSegment(t,r,n,he.concat(m),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){const a=vK(n,r,o,t);return"**"===r.path&&(n.children={}),a.pipe(gi(l=>l.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(gi(({routes:c})=>{const d=r._loadedInjector??t,{parameters:p,consumedSegments:m,remainingSegments:C}=l,x=new $v(m,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,fP(r),rl(r),r.component??r._loadedComponent??null,r,pP(r)),V=Lv(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(V.params),x.data=Object.freeze(V.data);const{segmentGroup:he,slicedSegments:Ee}=uP(n,m,C,c);if(0===Ee.length&&he.hasChildren())return this.processChildren(d,c,he,x).pipe(rr(Tt=>new ol(x,Tt)));if(0===c.length&&0===Ee.length)return cn(new ol(x,[]));const ke=rl(r)===i;return this.processSegment(d,c,he,Ee,ke?Fn:i,!0,x).pipe(rr(Tt=>new ol(x,Tt instanceof ol?[Tt]:[])))})):yf(n)))}getChildConfig(t,n,r){return n.children?cn({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?cn({routes:n._loadedRoutes,injector:n._loadedInjector}):function dK(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?cn(!0):cn(o.map(s=>{const a=mf(s,e);return nc(function XZ(e){return e&&vh(e.canLoad)}(a)?a.canLoad(t,n):Bo(e,()=>a(t,n)))})).pipe(vf(),lP())}(t,n,r).pipe(Ai(o=>o?this.configLoader.loadChildren(t,n).pipe(Hi(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function hK(){return Iv(oP(!1,Ls.GuardRejected))}())):cn({routes:[],injector:t})}}function MK(e){const t=e.value.routeConfig;return t&&""===t.path}function dP(e){const t=[],n=new Set;for(const r of e){if(!MK(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=dP(r.children);t.push(new ol(r.value,o))}return t.filter(r=>!n.has(r))}function fP(e){return e.data||{}}function pP(e){return e.resolve||{}}function hP(e){const t=e.children.map(n=>hP(n)).flat();return[e,...t]}function f0(e){return gi(t=>{const n=e(t);return n?ii(n).pipe(rr(()=>t)):cn(t)})}let gP=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Fn);return r}getResolvedTitleForRoute(n){return n.data[ah]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(PK),providedIn:"root"})}return e})(),PK=(()=>{class e extends gP{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(se(Q9))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _f=new tt("",{providedIn:"root",factory:()=>({})}),Gv=new tt("");let p0=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Le(l5);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return cn(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=nc(Bo(n,()=>r.loadComponent())).pipe(rr(mP),gi(vP),Hi(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),th(()=>{this.componentLoaders.delete(r)})),i=new DO(o,()=>new jn).pipe(zS());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return cn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function FK(e,t,n,r){return nc(Bo(n,()=>e.loadChildren())).pipe(rr(mP),gi(vP),Ai(o=>o instanceof LA||Array.isArray(o)?cn(o):ii(t.compileModuleAsync(o))),rr(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(n).injector,s=i.get(Gv,[],{optional:!0,self:!0}).flat()),{routes:s.map(a0),injector:i}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(th(()=>{this.childrenLoaders.delete(r)})),s=new DO(i,()=>new jn).pipe(zS());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function mP(e){return function LK(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}function vP(e){return cn(e)}let h0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le($K),providedIn:"root"})}return e})(),$K=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const yP=new tt(""),_P=new tt("");function BK(e,t,n){const r=e.get(_P),o=e.get(ni);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function jK(e){return new Promise(t=>{Kb({read:()=>setTimeout(t)},{injector:e})})}(e)));a.ready.catch(c=>{});const{onViewTransitionCreated:l}=r;return l&&Bo(e,()=>l({transition:a,from:t,to:n})),s}const bP=new tt("");let g0=(()=>{class e{currentNavigation=Di(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new jn;transitionAbortWithErrorSubject=new jn;configLoader=Le(p0);environmentInjector=Le(B);destroyRef=Le(Vi);urlSerializer=Le(ff);rootContexts=Le(ju);location=Le(Tc);inputBindingEnabled=null!==Le(Bv,{optional:!0});titleStrategy=Le(gP);options=Le(_f,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Le(h0);createViewTransition=Le(yP,{optional:!0});navigationErrorHandler=Le(bP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>cn(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new DZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new EZ(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;Jr(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(n){return this.transitions=new Ir(null),this.transitions.pipe(Ra(r=>null!==r),gi(r=>{let o=!1;return cn(r).pipe(gi(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ls.SupersededByNewNavigation),Na;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:"string"==typeof i.extras.browserUrl?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>i.abortController.abort()});const s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(i.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new pf(i.id,this.urlSerializer.serialize(i.rawUrl),"",Pv.IgnoredSameUrlNavigation)),i.resolve(!1),Na;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return cn(i).pipe(gi(l=>(this.events.next(new ph(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Na:Promise.resolve(l))),function xK(e,t,n,r,o,i){return Ai(s=>function DK(e,t,n,r,o,i,s="emptyOnly"){return new TK(e,t,n,r,o,s,i).recognize()}(e,t,n,r,s.extractedUrl,o,i).pipe(rr(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Hi(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=l.urlAfterRedirects,d));const c=new WO(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){const{id:l,extractedUrl:c,source:d,restoredState:p,extras:m}=i,C=new ph(l,this.urlSerializer.serialize(c),d,p);this.events.next(C);const x=YO(this.rootComponentType).snapshot;return this.currentTransition=r={...i,targetSnapshot:x,urlAfterRedirects:c,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(V=>(V.finalUrl=c,V)),cn(r)}return this.events.next(new pf(i.id,this.urlSerializer.serialize(i.extractedUrl),"",Pv.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Na}),Hi(i=>{const s=new bZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),rr(i=>(this.currentTransition=r={...i,guards:WZ(i.targetSnapshot,i.currentSnapshot,this.rootContexts)},r)),function rK(e,t){return Ai(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?cn({...n,guardsResult:!0}):function oK(e,t,n,r){return ii(e).pipe(Ai(o=>function uK(e,t,n,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?cn(i.map(a=>{const l=hf(t)??o,c=mf(a,l);return nc(function eK(e){return e&&vh(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):Bo(l,()=>c(e,t,n,r))).pipe(qc())})).pipe(vf()):cn(!0)}(o.component,o.route,n,t,r)),qc(o=>!0!==o,!0))}(s,r,o,e).pipe(Ai(a=>a&&function YZ(e){return"boolean"==typeof e}(a)?function iK(e,t,n,r){return ii(t).pipe(lf(o=>HS(function aK(e,t){return null!==e&&t&&t(new IZ(e)),cn(!0)}(o.route.parent,r),function sK(e,t){return null!==e&&t&&t(new AZ(e)),cn(!0)}(o.route,r),function cK(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function qZ(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>GS(()=>cn(s.guards.map(l=>{const c=hf(s.node)??n,d=mf(l,c);return nc(function JZ(e){return e&&vh(e.canActivateChild)}(d)?d.canActivateChild(r,e):Bo(c,()=>d(r,e))).pipe(qc())})).pipe(vf())));return cn(i).pipe(vf())}(e,o.path,n),function lK(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return cn(!0);const o=r.map(i=>GS(()=>{const s=hf(t)??n,a=mf(i,s);return nc(function QZ(e){return e&&vh(e.canActivate)}(a)?a.canActivate(t,e):Bo(s,()=>a(t,e))).pipe(qc())}));return cn(o).pipe(vf())}(e,o.route,n))),qc(o=>!0!==o,!0))}(r,i,e,t):cn(a)),rr(a=>({...n,guardsResult:a})))})}(this.environmentInjector,i=>this.events.next(i)),Hi(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&"boolean"!=typeof i.guardsResult)throw jv(0,i.guardsResult);const s=new CZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),Ra(i=>!!i.guardsResult||(this.cancelNavigationTransition(i,"",Ls.GuardRejected),!1)),f0(i=>{if(0!==i.guards.canActivateChecks.length)return cn(i).pipe(Hi(s=>{const a=new SZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),gi(s=>{let a=!1;return cn(s).pipe(function kK(e,t){return Ai(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return cn(n);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of hP(l))s.add(c);let a=0;return ii(s).pipe(lf(l=>i.has(l)?function RK(e,t,n,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!JO(o)&&(i[ah]=o.title),GS(()=>(e.data=Lv(e,e.parent,n).resolve,function NK(e,t,n,r){const o=ZS(e);if(0===o.length)return cn({});const i={};return ii(o).pipe(Ai(s=>function OK(e,t,n,r){const o=hf(t)??r,i=mf(e,o);return nc(i.resolve?i.resolve(t,n):Bo(o,()=>i(t,n)))}(e[s],t,n,r).pipe(qc(),Hi(a=>{if(a instanceof l0)throw jv(new Mv,a);i[s]=a}))),WS(1),rr(()=>i),Pu(s=>aP(s)?Na:Iv(s)))}(i,e,t,r).pipe(rr(s=>(e._resolvedData=s,e.data={...e.data,...s},null)))))}(l,r,e,t):(l.data=Lv(l,l.parent,e).resolve,cn(void 0))),Hi(()=>a++),WS(1),Ai(l=>a===s.size?cn(n):Na))})}(this.paramsInheritanceStrategy,this.environmentInjector),Hi({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ls.NoDataFromResolver)}}))}),Hi(s=>{const a=new wZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),f0(i=>{const s=a=>{const l=[];if(a.routeConfig?.loadComponent){const c=hf(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Hi(d=>{a.component=d}),rr(()=>{})))}for(const c of a.children)l.push(...s(c));return l};return Ev(s(i.targetSnapshot.root)).pipe(Tv(null),uf(1))}),f0(()=>this.afterPreactivation()),gi(()=>{const{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?ii(a).pipe(rr(()=>r)):cn(r)}),rr(i=>{const s=function jZ(e,t,n){const r=hh(e,t._root,n?n._root:void 0);return new KO(r,t)}(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r={...i,targetRouterState:s},this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Hi(()=>{this.events.next(new e0)}),((e,t,n,r)=>rr(o=>(new zZ(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),uf(1),qS(new Tn(i=>{const s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ra(()=>!o&&!r.targetRouterState),Hi(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ls.Aborted)}))),Hi({next:i=>{o=!0,this.lastSuccessfulNavigation=Jr(this.currentNavigation),this.events.next(new rc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),qS(this.transitionAbortWithErrorSubject.pipe(Hi(i=>{throw i}))),th(()=>{o||this.cancelNavigationTransition(r,"",Ls.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Pu(i=>{if(this.destroyed)return r.resolve(!1),Na;if(o=!0,iP(i))this.events.next(new Bu(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),function HZ(e){return iP(e)&&$u(e.url)}(i)?this.events.next(new Fv(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{const s=new JS(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{const a=Bo(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(a instanceof l0))throw this.events.next(s),i;{const{message:l,cancellationCode:c}=jv(0,a);this.events.next(new Bu(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Fv(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Na}))}))}cancelNavigationTransition(n,r,o){const i=new Bu(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Jr(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function VK(e){return e!==fh}let CP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(HK),providedIn:"root"})}return e})();class UK{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let HK=(()=>{class e extends UK{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(e)))(o||e)}})();static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),SP=(()=>{class e{urlSerializer=Le(ff);options=Le(_f,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Le(Tc);urlHandlingStrategy=Le(h0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fu;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){const i=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Fu?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=YO(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(GK),providedIn:"root"})}return e})(),GK=(()=>{class e extends SP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof ph?this.updateStateMemento():n instanceof pf?this.commitTransition(r):n instanceof WO?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof e0?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Bu&&n.code!==Ls.SupersededByNewNavigation&&n.code!==Ls.Redirect?this.restoreHistory(r):n instanceof JS?this.restoreHistory(r,!0):n instanceof rc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){const{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){const a=this.browserPageId,l={...s,...this.generateNgRouterState(o,a)};this.location.replaceState(n,"",l)}else{const a={...s,...this.generateNgRouterState(o,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&0===i&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(e)))(o||e)}})();static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wP(e,t){e.events.pipe(Ra(n=>n instanceof rc||n instanceof Bu||n instanceof JS||n instanceof pf),rr(n=>n instanceof rc||n instanceof pf?0:n instanceof Bu&&(n.code===Ls.Redirect||n.code===Ls.SupersededByNewNavigation)?2:1),Ra(n=>2!==n),uf(1)).subscribe(()=>{t()})}const zK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mi=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Le(_M);stateManager=Le(SP);options=Le(_f,{optional:!0})||{};pendingTasks=Le(Dc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Le(g0);urlSerializer=Le(ff);location=Le(Tc);urlHandlingStrategy=Le(h0);injector=Le(B);_events=new jn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Le(CP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Le(Gv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Le(Bv,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ct;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=Jr(this.navigationTransitions.currentNavigation);if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof Bu&&r.code!==Ls.Redirect&&r.code!==Ls.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof rc)this.navigated=!0;else if(r instanceof Fv){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||VK(o.source),...s};this.scheduleNavigation(a,fh,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function xZ(e){return!(e instanceof e0||e instanceof Fv)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(l=>{this.disposed||this.injector.get(Xa)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Jr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(a0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let p,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...i};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}null!==d&&(d=this.removeEmptyProps(d));try{p=BO(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),p=this.currentUrlTree.root}return jO(p,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=$u(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,fh,null,r)}navigate(n,r={skipLocationChange:!1}){return function qK(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Pe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...zK}:!1===r?{...WK}:r,$u(n))return xO(this.currentUrlTree,n,o);const i=this.parseUrl(n);return xO(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,m)=>{a=p,l=m});const d=this.pendingTasks.add();return wP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var XK=_(7510),QK=_.n(XK),q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e.te2="Tungsten-E2",e.frankene2="Franken-E2",e}(q||{});function EP(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const n=t.getPointer(e.GetCurrentEntryContent()),r=e.GetCurrentEntrySize();return n>0&&r>0?t.HEAPU8.subarray(n,n+r):void 0}},e)}function m0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}let JK=0;const DP=[q.palmPilot,q.pilot,q.iii,q.palmVx,q.palmV,q.palmVII,q.palmVIIEZ,q.palmVIIx,q.iiixe,q.iiix,q.iiie,q.m500,q.m505,q.m515,q.m520,q.iiic,q.m100,q.m105,q.m125,q.m130,q.i705,q.i710,q.handera330,q.handera330c,q.pegS300,q.pegS320,q.pegS500c,q.pegT400,q.pegN600c,q.pegT600c,q.pegN700c,q.pegT650c,q.pegNR70,q.acerS11,q.lp168];function jt(){return(e,t,n)=>{const r=n.value;return n.value=function(o,i){return this.guard(()=>r.call(this,o,i))},n}}function IP(e){switch(e){case 0:return q.te2;case 1:return q.frankene2;default:return}}class Ft{constructor(t){this.module=t,this.fatalErrorEvent=new fn.J,this.pwmUpdateEvent=new fn.J,this.proxyDisconnectEvent=new fn.J,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((n,r)=>this.pwmUpdateEvent.dispatch({frequency:n,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(()=>this.proxyDisconnectEvent.dispatch(),"v")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,M.A)(function*(){const n=JK++;return new Ft(yield QK()({print:r=>console.log(`${n}: ${r}`),printErr:r=>console.warn(`${n}: ${r}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}enableLogging(t){this.cloudpilot.EnableLogging(t)}getRomInfo(t){const n=this.copyIn(t);try{return this.getRomInfoCloudpilot(n,t.length)||this.getRomInfoUarm(n,t.length)}finally{this.cloudpilot.Free(n)}}initializeSession(t,n){const r=this.copyIn(t),o=this.cloudpilot.InitializeSession(r,t.length,n);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),n=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(n,n+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,n){this.cloudpilot.QueuePenMove(t,n)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t){this.cloudpilot.QueueKeyboardEvent(t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const n=this.copyIn(t),r=this.cloudpilot.InstallDb(n,t.length);return this.cloudpilot.Free(n),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),n=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((n>>>13)+(n%8192==0?0:1)))}loadMemory(t){const n=this.getMemory32();if((()=>{if(t.length!==n.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==n[n.length-o])return!1;if(4294967295===n[n.length-o])break}return!0})())return n.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const n=this.copyIn(t),r=this.cloudpilot.LoadState(n,t.length);return this.cloudpilot.Free(n),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var n=this;return(0,M.A)(function*(){const r=n.guard(()=>n.cloudpilot.StartBackup());try{return yield t(n.wrap(r))}finally{n.module.destroy(r)}})()}getArchive(t){const n=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),n)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.IsSuspended()?this.cloudpilot.GetSuspendContext().GetKind():void 0}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){t&&this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,n){const r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+n)}withZipfileWalker(t,n){var r=this;return(0,M.A)(function*(){const o=r.guard(()=>{const i=r.copyIn(t),s=new r.module.ZipfileWalker(t.length,i);return r.cloudpilot.Free(i),s});try{return yield n(EP(r.wrap(o),r.module))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(t,n){const r=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return n(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(t){if("cloudpilot"===t.engine&&t.nand)throw new Error("cloudpilot image cannot have nand");const n=this.copyIn(t.rom),r=t.memory&&this.copyIn(t.memory),o=t.savestate&&this.copyIn(t.savestate),i=t.nand&&this.copyIn(t.nand);let s,a;if(void 0!==t.metadata){const l=(new TextEncoder).encode(JSON.stringify(t.metadata));a=l.length,s=this.copyIn(l)}try{switch(t.engine){case"cloudpilot":return this.serializeSessionImageCloudpilot(t.deviceId,{rom:n,romLength:t.rom.length,memory:r,memoryLength:t.memory?.length,savestate:o,savestateLength:t.savestate?.length,metadata:s,metadataLength:a});case"uarm":return this.serializeSessionImageUarm(t.deviceId,{rom:n,romLength:t.rom.length,nand:i,nandLength:t.nand?.length,memory:r,memoryLength:t.memory?.length,savestate:o,savestateLength:t.savestate?.length,metadata:s,metadataLength:a});default:throw new Error("unreachable")}}finally{[n,i,r,o,s].forEach(l=>this.freeBuffer(l))}}deserializeSessionImage(t){if(!t)return;const n=function YK(e){if(!(e.length<4))switch(new DataView(e.buffer,e.byteOffset).getUint32(0,!0)){case 538247427:return"cloudpilot";case 427821081:return"uarm";default:return}}(t);if(void 0===n)return;const r=this.copyIn(t);try{switch(n){case"cloudpilot":return this.deserializeSessionImageCloudpilot(r,t.length);case"uarm":return this.deserializeSessionImageUarm(r,t.length);default:return}}finally{this.cloudpilot.Free(r)}}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const n=this.copyIn(t.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(n,32);return this.cloudpilot.Free(n),r}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,n){return this.cloudpilot.AllocateCard(t,n>>>9)}decompressCard(t,n){const r=this.copyIn(n);let o;try{for(o=new this.module.GunzipContext(r,n.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(t){const n=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==n)return this.module.HEAPU32.subarray(n>>>2,n+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const n=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===n)return;const r=m0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(n,n+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()||void 0}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}remountFailed(){return this.cloudpilot.RemountFailed()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const n=new this.module.SkinLoader(t);try{const r=this.module.getPointer(n.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+n.GetSize()))}finally{this.module.destroy(n)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(n){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(n instanceof Error?n:new Error("unknown error")),n}}getRomInfoCloudpilot(t,n){const r=new this.module.RomInfo(t,n);try{return r.IsValid()?{engine:"cloudpilot",cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:DP.filter(r.Supports.bind(r))}:void 0}finally{this.module.destroy(r)}}getRomInfoUarm(t,n){const r=new this.module.RomInfo5(t,n);if(!r.IsValid())return;const o=r.GetDeviceType(),i=IP(o);if(void 0!==i)try{return r.IsValid()?{engine:"uarm",romName:r.GetRomName(),cardName:r.GetCardName(),manufacturer:r.GetManufacturer(),companyId:r.GetCompanyId(),halId:r.GetHalId(),deviceType:o,recommendedRamSize:r.GetRecommendedRamSize(),supportedDevices:[i]}:void 0}finally{this.module.destroy(r)}}deserializeSessionImageCloudpilot(t,n){const r=new this.module.SessionImage;try{if(!r.Deserialize(t,n))return;const o=r.GetDeviceId();if(!DP.includes(o))throw new Error(`unsupported device ${o}`);const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize());if(!i)throw new Error("invalid session image: no ROM or memory");let l;const c=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(c)try{l={engine:"cloudpilot",...JSON.parse((new TextDecoder).decode(c))}}catch(d){console.warn("ignoring invalid metadata",d)}return{engine:"cloudpilot",deviceId:o,rom:i,memory:s,savestate:a,metadata:l,version:r.GetVersion()}}catch(o){console.error(o)}finally{this.module.destroy(r)}}deserializeSessionImageUarm(t,n){const r=new this.module.SessionFile5;try{if(!r.Deserialize(n,t))return;const o=IP(r.GetDeviceId());if(void 0===o)throw new Error(`unsupported uARM device ${o}`);const i=this.copyOut(r.GetNor(),r.GetNorSize()),s=this.copyOut(r.GetMemory(),r.GetMemorySize()),a=this.copyOut(r.GetNand(),r.GetNandSize()),l=this.copyOut(r.GetSavestate(),r.GetSavestateSize());if(!i)throw new Error("invalid session image: no ROM or memory");const c=this.copyOut(r.GetMetadata(),r.GetMetadataSize());let d;if(c)try{d={engine:"uarm",...JSON.parse((new TextDecoder).decode(c))}}catch(p){console.warn("invalid metadata",p)}return{engine:"uarm",deviceId:o,rom:i,memory:s,nand:a,savestate:l,metadata:d,version:r.GetVersion()}}finally{this.module.destroy(r)}}serializeSessionImageCloudpilot(t,{rom:n,romLength:r,memory:o,memoryLength:i,savestate:s,savestateLength:a,metadata:l,metadataLength:c}){const d=new this.module.SessionImage;try{return d.SetDeviceId(t),d.SetRomImage(n,r),o&&d.SetMemoryImage(o,i??0),s&&d.SetSavestate(s,a??0),l&&d.SetMetadata(l,c??0),d.Serialize()?this.copyOut(d.GetSerializedImage(),d.GetSerializedImageSize()):void 0}finally{this.module.destroy(d)}}serializeSessionImageUarm(t,{rom:n,romLength:r,memory:o,memoryLength:i,nand:s,nandLength:a,savestate:l,savestateLength:c,metadata:d,metadataLength:p}){const m=new this.module.SessionFile5;try{return m.SetDeviceId(function eY(e){switch(e){case q.te2:return 0;case q.frankene2:return 1;default:return-1}}(t)),m.SetNor(r,n),o&&m.SetMemory(i??0,o),s&&m.SetNand(a??0,s),l&&m.SetSavestate(c??0,l),d&&m.SetMetadata(p??0,d),m.Serialize()?this.copyOut(m.GetSerializedSession(),m.GetSerializedSessionSize()):void 0}finally{this.module.destroy(m)}}copyIn(t){const n=this.cloudpilot.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}copyIn32(t){const n=this.cloudpilot.Malloc(t.length<<2),r=this.module.getPointer(n);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+t.length).set(t),n}copyOut(t,n){const r=this.module.getPointer(t);return r>0&&n>0?this.module.HEAPU8.subarray(r,r+n).slice():void 0}wrap(t){return new Proxy(t,{get:(n,r)=>{const o=n[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(n,i))}})}wrapTransport(t){const n=new fn.J;return t.SetRequestTransferCallback(this.module.addFunction(()=>n.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const r=t.RxBytesPending();return this.copyOut(t.Receive(),r)},Send:(r,o)=>{const i=r&&this.copyIn(r);t.Send(r?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:n},t))}}oe([jt()],Ft.prototype,"enableLogging",null),oe([jt()],Ft.prototype,"getRomInfo",null),oe([jt()],Ft.prototype,"initializeSession",null),oe([jt()],Ft.prototype,"cyclesPerSecond",null),oe([jt()],Ft.prototype,"runEmulation",null),oe([jt()],Ft.prototype,"getFrame",null),oe([jt()],Ft.prototype,"isScreenDirty",null),oe([jt()],Ft.prototype,"markScreenClean",null),oe([jt()],Ft.prototype,"minRamForDevice",null),oe([jt()],Ft.prototype,"framebufferSizeForDevice",null),oe([jt()],Ft.prototype,"totalMemorySizeForDevice",null),oe([jt()],Ft.prototype,"queuePenMove",null),oe([jt()],Ft.prototype,"queuePenUp",null),oe([jt()],Ft.prototype,"queueButtonDown",null),oe([jt()],Ft.prototype,"queueButtonUp",null),oe([jt()],Ft.prototype,"queueKeyboardEvent",null),oe([jt()],Ft.prototype,"isPowerOff",null),oe([jt()],Ft.prototype,"isUiInitialized",null),oe([jt()],Ft.prototype,"isSetupComplete",null),oe([jt()],Ft.prototype,"getOSVersion",null),oe([jt()],Ft.prototype,"reset",null),oe([jt()],Ft.prototype,"resetNoExtensions",null),oe([jt()],Ft.prototype,"resetHard",null),oe([jt()],Ft.prototype,"installDb",null),oe([jt()],Ft.prototype,"getPalette2bitMapping",null),oe([jt()],Ft.prototype,"getMemory",null),oe([jt()],Ft.prototype,"getMemory32",null),oe([jt()],Ft.prototype,"getDirtyPages",null),oe([jt()],Ft.prototype,"loadMemory",null),oe([jt()],Ft.prototype,"getRomImage",null),oe([jt()],Ft.prototype,"getSavestate",null),oe([jt()],Ft.prototype,"saveState",null),oe([jt()],Ft.prototype,"loadState",null),oe([jt()],Ft.prototype,"getHotsyncName",null),oe([jt()],Ft.prototype,"setClockFactor",null),oe([jt()],Ft.prototype,"setHotsyncName",null),oe([jt()],Ft.prototype,"setClipboardIntegration",null),oe([jt()],Ft.prototype,"getClipboardIntegration",null),oe([jt()],Ft.prototype,"isSuspended",null),oe([jt()],Ft.prototype,"getSuspendKind",null),oe([jt()],Ft.prototype,"cancelSuspend",null),oe([jt()],Ft.prototype,"getSuspendContextClipboardCopy",null),oe([jt()],Ft.prototype,"getSuspendContextClipboardPaste",null),oe([jt()],Ft.prototype,"setNetworkRedirection",null),oe([jt()],Ft.prototype,"getNetworkRedirection",null),oe([jt()],Ft.prototype,"getSuspendContextNetworkConnect",null),oe([jt()],Ft.prototype,"getSuspendContextNetworkRpc",null),oe([jt()],Ft.prototype,"getSuspendContextSerialSync",null),oe([jt()],Ft.prototype,"copyBuffer",null),oe([jt()],Ft.prototype,"freeBuffer",null),oe([jt()],Ft.prototype,"setHotsyncNameManagement",null),oe([jt()],Ft.prototype,"resolveBuffer",null),oe([jt()],Ft.prototype,"serializeSessionImage",null),oe([jt()],Ft.prototype,"deserializeSessionImage",null),oe([jt()],Ft.prototype,"launchAppByName",null),oe([jt()],Ft.prototype,"launchAppByDbHeader",null),oe([jt()],Ft.prototype,"clearExternalStorage",null),oe([jt()],Ft.prototype,"allocateCard",null),oe([jt()],Ft.prototype,"decompressCard",null),oe([jt()],Ft.prototype,"getCardData",null),oe([jt()],Ft.prototype,"getCardDirtyPages",null),oe([jt()],Ft.prototype,"getMountedKey",null),oe([jt()],Ft.prototype,"mountCard",null),oe([jt()],Ft.prototype,"removeCard",null),oe([jt()],Ft.prototype,"remountCards",null),oe([jt()],Ft.prototype,"remountFailed",null),oe([jt()],Ft.prototype,"getCardSupportLevel",null),oe([jt()],Ft.prototype,"loadSkin",null);const v0="application/wasm";function TP(e){return y0.apply(this,arguments)}function y0(){return(y0=(0,M.A)(function*(e){const t=yield fetch(e);if(!t.ok)throw new Error(`request for ${e} failed with ${t.status}: ${t.statusText}`);const n=t.headers.get("Content-Type")??"no mime type";if(n!==v0&&console.warn(`response for ${e} has wrong mime type: expected ${v0}, got ${n}`),n===v0&&WebAssembly.compileStreaming)return WebAssembly.compileStreaming(t);const r=yield t.arrayBuffer();return WebAssembly.compile(r)})).apply(this,arguments)}class AP{}let oY=(()=>{class e{preload(n,r){return r().pipe(Pu(()=>cn(null)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iY=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Ra(n=>n instanceof rc),lf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=fm(i.providers,n,`Route: ${i.path}`));const s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return ii(o).pipe(cf())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):cn(null);const i=o.pipe(Ai(s=>null===s?cn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?ii([i,this.loader.loadComponent(n,r)]).pipe(cf()):i})}static \u0275fac=function(r){return new(r||e)(se(Mi),se(B),se(AP),se(p0))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const _0=new tt("");let MP=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=fh;restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ph?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof rc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof pf&&n.code===Pv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof qO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){var o=this;this.zone.runOutsideAngular((0,M.A)(function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),o.zone.run(()=>{o.transitions.events.next(new qO(n,"popstate"===o.lastSource?o.store[o.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function aA(){throw new Error("invalid")}()};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();function Sl(e,t){return{\u0275kind:e,\u0275providers:t}}function kP(){const e=Le(Ur);return t=>{const n=e.get(Aa);if(t!==n.components[0])return;const r=e.get(Mi),o=e.get(RP);1===e.get(b0)&&r.initialNavigation(),e.get(NP,null,{optional:!0})?.setUpPreloading(),e.get(_0,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const RP=new tt("",{factory:()=>new jn}),b0=new tt("",{providedIn:"root",factory:()=>1}),NP=new tt("");function cY(e){return Sl(0,[{provide:NP,useExisting:iY},{provide:AP,useExisting:e}])}function dY(e){return Ii("NgRouterViewTransitions"),Sl(9,[{provide:yP,useValue:BK},{provide:_P,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const fY=[Tc,{provide:ff,useClass:Mv},Mi,ju,{provide:oc,useFactory:function xP(e){return e.routerState.root},deps:[Mi]},p0,[]];let zv=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[fY,[],{provide:Gv,multi:!0,useValue:n},[],r?.errorHandler?{provide:bP,useValue:r.errorHandler}:[],{provide:_f,useValue:r||{}},r?.useHash?{provide:hl,useClass:WR}:{provide:hl,useClass:oI},{provide:_0,useFactory:()=>{const e=Le(C8),t=Le(We),n=Le(_f),r=Le(g0),o=Le(ff);return n.scrollOffset&&e.setOffset(n.scrollOffset),new MP(o,r,e,t,n)}},r?.preloadingStrategy?cY(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?mY(r):[],r?.bindToComponentInputs?Sl(8,[tP,{provide:Bv,useExisting:tP}]).\u0275providers:[],r?.enableViewTransitions?dY().\u0275providers:[],[{provide:OP,useFactory:kP},{provide:LM,multi:!0,useExisting:OP}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Gv,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Uo({type:e});static \u0275inj=Un({})}return e})();function mY(e){return["disabled"===e.initialNavigation?Sl(3,[sC(()=>{Le(Mi).setUpLocationChangeListener()}),{provide:b0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Sl(2,[{provide:xB,useValue:!0},{provide:b0,useValue:0},sC(()=>{const t=Le(Ur);return t.get(QL,Promise.resolve()).then(()=>new Promise(r=>{const o=t.get(Mi),i=t.get(RP);wP(o,()=>{r(!0)}),t.get(g0).afterPreactivation=()=>(r(!0),i.closed?cn(void 0):i),o.initialNavigation()}))})]).\u0275providers:[]]}const OP=new tt("");var yY=_(5886);const PP=e=>LP(e),LP=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=_Y(e),t.forEach(n=>e.document.documentElement.classList.add(`plt-${n}`))),t},_Y=e=>{const t=yY.c.get("platform");return Object.keys(UP).filter(n=>{const r=t?.[n];return"function"==typeof r?r(e):UP[n](e)})},C0=e=>!!(Vu(e,/iPad/i)||Vu(e,/Macintosh/i)&&Wv(e)),$P=e=>Vu(e,/android|sink/i),Wv=e=>MY(e,"(any-pointer:coarse)"),BP=e=>jP(e)||VP(e),jP=e=>!!(e.cordova||e.phonegap||e.PhoneGap),VP=e=>{const t=e.Capacitor;return!!(t?.isNative||t?.isNativePlatform&&t.isNativePlatform())},Vu=(e,t)=>t.test(e.navigator.userAgent),MY=(e,t)=>{var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},UP={ipad:C0,iphone:e=>Vu(e,/iPhone/i),ios:e=>Vu(e,/iPhone|iPod/i)||C0(e),android:$P,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return r>390&&r<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return C0(e)||(e=>$P(e)&&!Vu(e,/mobile/i))(e)||r>460&&r<820&&o>780&&o<1400},cordova:jP,capacitor:VP,electron:e=>Vu(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:Wv,mobileweb:e=>Wv(e)&&!BP(e),desktop:e=>!Wv(e),hybrid:BP};var _h=_(3112);const FY=["addListener","removeListener"],LY=["addEventListener","removeEventListener"],$Y=["on","off"];function qv(e,t,n,r){if(Nt(n)&&(r=n,n=void 0),r)return qv(e,t,n).pipe(US(r));const[o,i]=function VY(e){return Nt(e.addEventListener)&&Nt(e.removeEventListener)}(e)?LY.map(s=>a=>e[s](t,a,n)):function BY(e){return Nt(e.addListener)&&Nt(e.removeListener)}(e)?FY.map(HP(e,t)):function jY(e){return Nt(e.on)&&Nt(e.off)}(e)?$Y.map(HP(e,t)):[];if(!o&&NS(e))return Ai(s=>qv(s,t,n))(Fs(e));if(!o)throw new TypeError("Invalid event target");return new Tn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function HP(e,t){return n=>r=>e[n](t,r)}function GP(e,t=ro){return e=e??UY,ri((n,r)=>{let o,i=!0;n.subscribe(Vo(r,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function UY(e,t){return e===t}let zP=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(y(Zl),y(rt))};static \u0275dir=Ut({type:e})}return e})(),Uu=(()=>{class e extends zP{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(e)))(o||e)}})();static \u0275dir=Ut({type:e,features:[Pn]})}return e})();const $s=new tt(""),zY={provide:$s,useExisting:Vn(()=>S0),multi:!0},qY=new tt("");let S0=(()=>{class e extends zP{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function WY(){const e=Ic()?Ic().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(y(Zl),y(rt),y(qY,8))};static \u0275dir=Ut({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&$e("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Cr([zY]),Pn]})}return e})();function w0(e){return null==e||0===E0(e)}function E0(e){return null==e?null:Array.isArray(e)||"string"==typeof e?e.length:e instanceof Set?e.size:null}const mi=new tt(""),Zc=new tt(""),ZY=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class bh{static min(t){return qP(t)}static max(t){return ZP(t)}static required(t){return function KP(e){return w0(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function YP(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function XP(e){return w0(e.value)||ZY.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function QP(e){return t=>{const n=t.value?.length??E0(t.value);return null===n||0===n?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}(t)}static maxLength(t){return JP(t)}static pattern(t){return function eF(e){if(!e)return Zv;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(w0(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return sF(t)}static composeAsync(t){return aF(t)}}function qP(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function ZP(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function JP(e){return t=>{const n=t.value?.length??E0(t.value);return null!==n&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function Zv(e){return null}function tF(e){return null!=e}function nF(e){return Op(e)?ii(e):e}function rF(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function oF(e,t){return t.map(n=>n(e))}function iF(e){return e.map(t=>function KY(e){return!e.validate}(t)?t:n=>t.validate(n))}function sF(e){if(!e)return null;const t=e.filter(tF);return 0==t.length?null:function(n){return rF(oF(n,t))}}function D0(e){return null!=e?sF(iF(e)):null}function aF(e){if(!e)return null;const t=e.filter(tF);return 0==t.length?null:function(n){return function HY(...e){const t=JN(e),{args:n,keys:r}=SO(e),o=new Tn(i=>{const{length:s}=n;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let p=!1;Fs(n[d]).subscribe(Vo(i,m=>{p||(p=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!p)&&(c||i.next(r?wO(r,a):a),i.complete())}))}});return t?o.pipe(US(t)):o}(oF(n,t).map(nF)).pipe(rr(rF))}}function I0(e){return null!=e?aF(iF(e)):null}function lF(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function cF(e){return e._rawValidators}function uF(e){return e._rawAsyncValidators}function T0(e){return e?Array.isArray(e)?e:[e]:[]}function Kv(e,t){return Array.isArray(e)?e.includes(t):e===t}function dF(e,t){const n=T0(t);return T0(e).forEach(o=>{Kv(n,o)||n.push(o)}),n}function fF(e,t){return T0(t).filter(n=>!Kv(e,n))}class pF{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=D0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=I0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class is extends pF{name;get formDirective(){return null}get path(){return null}}class ic extends pF{_parent=null;name=null;valueAccessor=null}class hF{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let sc=(()=>{class e extends hF{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(ic,2))};static \u0275dir=Ut({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&oa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Pn]})}return e})(),ac=(()=>{class e extends hF{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(is,10))};static \u0275dir=Ut({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&oa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Pn]})}return e})();const Ch="VALID",Xv="INVALID",Cf="PENDING",Sh="DISABLED";class Sf{}class mF extends Sf{value;source;constructor(t,n){super(),this.value=t,this.source=n}}class x0 extends Sf{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}}class k0 extends Sf{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}}class Qv extends Sf{status;source;constructor(t,n){super(),this.status=t,this.source=n}}class vF extends Sf{source;constructor(t){super(),this.source=t}}class yF extends Sf{source;constructor(t){super(),this.source=t}}function R0(e){return(Jv(e)?e.validators:e)||null}function N0(e,t){return(Jv(t)?t.asyncValidators:e)||null}function Jv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class O0{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Jr(this.statusReactive)}set status(t){Jr(()=>this.statusReactive.set(t))}_status=Ui(()=>this.statusReactive());statusReactive=Di(void 0);get valid(){return this.status===Ch}get invalid(){return this.status===Xv}get pending(){return this.status==Cf}get disabled(){return this.status===Sh}get enabled(){return this.status!==Sh}errors;get pristine(){return Jr(this.pristineReactive)}set pristine(t){Jr(()=>this.pristineReactive.set(t))}_pristine=Ui(()=>this.pristineReactive());pristineReactive=Di(!0);get dirty(){return!this.pristine}get touched(){return Jr(this.touchedReactive)}set touched(t){Jr(()=>this.touchedReactive.set(t))}_touched=Ui(()=>this.touchedReactive());touchedReactive=Di(!1);get untouched(){return!this.touched}_events=new jn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(dF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(dF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fF(t,this._rawAsyncValidators))}hasValidator(t){return Kv(this._rawValidators,t)}hasAsyncValidator(t){return Kv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const n=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new k0(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&!1!==t.emitEvent&&this._events.next(new k0(!1,r))}markAsDirty(t={}){const n=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new x0(!1,r))}markAsPristine(t={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&!1!==t.emitEvent&&this._events.next(new x0(!0,r))}markAsPending(t={}){this.status=Cf;const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Qv(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:n})}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Sh,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new mF(this.value,r)),this._events.next(new Qv(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ch,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ch||this.status===Cf)&&this._runAsyncValidator(r,t.emitEvent)}const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new mF(this.value,n)),this._events.next(new Qv(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:n})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sh:Ch}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Cf,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==t};const r=nF(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Qv(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new yn,this.statusChanges=new yn}_calculateStatus(){return this._allControlsDisabled()?Sh:this.errors?Xv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cf)?Cf:this._anyControlsHaveStatus(Xv)?Xv:Ch}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new x0(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new k0(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Jv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function nX(e){return Array.isArray(e)?D0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function rX(e){return Array.isArray(e)?I0(e):e||null}(this._rawAsyncValidators)}}class Kc extends O0{constructor(t,n,r){super(R0(n),N0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function bF(e,t,n){e._forEachChild((r,o)=>{if(void 0===n[o])throw new Pe(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function _F(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Pe(1e3,"");if(!r[n])throw new Pe(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const ey=Kc,Hu=new tt("",{providedIn:"root",factory:()=>wh}),wh="always";function Eh(e,t,n=wh){P0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function sX(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&CF(e,t)})}(e,t),function lX(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function aX(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&CF(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function iX(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function ny(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),oy(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function ry(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function P0(e,t){const n=cF(e);null!==t.validator?e.setValidators(lF(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=uF(e);null!==t.asyncValidator?e.setAsyncValidators(lF(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();ry(t._rawValidators,o),ry(t._rawAsyncValidators,o)}function oy(e,t){let n=!1;if(null!==e){if(null!==t.validator){const o=cF(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=uF(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return ry(t._rawValidators,r),ry(t._rawAsyncValidators,r),n}function CF(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function EF(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function DF(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const Bs=class extends O0{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(R0(n),N0(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=DF(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){EF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){EF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){DF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Lr=Bs;Promise.resolve();let lc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();const B0=new tt(""),EX={provide:is,useExisting:Vn(()=>Oa)};let Oa=(()=>{class e extends is{callSetDisabledState;get submitted(){return Jr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Ui(()=>this._submittedReactive());_submittedReactive=Di(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new yn;constructor(n,r,o){super(),this.callSetDisabledState=o,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Eh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){ny(n.control||null,n,!1),function fX(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),function wF(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new vF(this.control)),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),!1!==r?.emitEvent&&this.form._events.next(new yF(this.form))}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,o=this.form.get(n.path);r!==o&&(ny(r||null,n),(e=>e instanceof Bs)(o)&&(Eh(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function SF(e,t){P0(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function cX(e,t){return oy(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){P0(this.form,this),this._oldForm&&oy(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(y(mi,10),y(Zc,10),y(Hu,8))};static \u0275dir=Ut({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&$e("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Cr([EX]),Pn,Ji]})}return e})();const TX={provide:ic,useExisting:Vn(()=>wl)};let wl=(()=>{class e extends ic{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new yn;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function $0(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(i=>{i.constructor===S0?n=i:function dX(e){return Object.getPrototypeOf(e.constructor)===Uu}(i)?r=i:o=i}),o||r||n||null}(0,i)}ngOnChanges(n){this._added||this._setUpControl(),function L0(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function ty(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(y(is,13),y(mi,10),y(Zc,10),y($s,10),y(B0,8))};static \u0275dir=Ut({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Cr([TX]),Pn,Ji]})}return e})();function FF(e){return"number"==typeof e?e:parseFloat(e)}let Gu=(()=>{class e{_validator=Zv;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zv,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,features:[Ji]})}return e})();const OX={provide:mi,useExisting:Vn(()=>U0),multi:!0};let U0=(()=>{class e extends Gu{max;inputName="max";normalizeInput=n=>FF(n);createValidator=n=>ZP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&na("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[Cr([OX]),Pn]})}return e})();const PX={provide:mi,useExisting:Vn(()=>H0),multi:!0};let H0=(()=>{class e extends Gu{min;inputName="min";normalizeInput=n=>FF(n);createValidator=n=>qP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&na("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[Cr([PX]),Pn]})}return e})();const jX={provide:mi,useExisting:Vn(()=>z0),multi:!0};let z0=(()=>{class e extends Gu{maxlength;inputName="maxlength";normalizeInput=n=>function PF(e){return"number"==typeof e?e:parseInt(e,10)}(n);createValidator=n=>JP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&na("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Cr([jX]),Pn]})}return e})(),VF=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Uo({type:e});static \u0275inj=Un({})}return e})(),zu=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Hu,useValue:n.callSetDisabledState??wh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Uo({type:e});static \u0275inj=Un({imports:[VF]})}return e})(),cy=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:B0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Hu,useValue:n.callSetDisabledState??wh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Uo({type:e});static \u0275inj=Un({imports:[VF]})}return e})();const HX=["tabsInner"];let GX=(()=>{class e{doc;_readyPromise;win;backButton=new jn;keyboardDidShow=new jn;keyboardDidHide=new jn;pause=new jn;resume=new jn;resize=new jn;constructor(n,r){this.doc=n,r.run(()=>{let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>r.run(()=>s(l))))},wf(this.pause,n,"pause",r),wf(this.resume,n,"resume",r),wf(this.backButton,n,"ionBackButton",r),wf(this.resize,this.win,"resize",r),wf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),wf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),PP(e).includes(t)))(this.win,n)}platforms(){return PP(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return zX(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(r){return new(r||e)(se(ni),se(We))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const zX=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},wf=(e,t,n,r)=>{t&&t.addEventListener(n,o=>{r.run(()=>{const i=o?.detail;e.next(i)})})};let Ef=(()=>{class e{location;serializer;router;topOutlet;direction=UF;animated=HF;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(n,r,o,i){this.location=r,this.serializer=o,this.router=i,i&&i.events.subscribe(s=>{if(s instanceof ph){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=this.guessAnimation=a<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,M.A)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,o,i){this.direction=n,this.animated=WX(n,r,o),this.animationBuilder=i}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const o=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=UF,this.animated=HF,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:o}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const o=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(o.queryParams={...r.queryParams}),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}static \u0275fac=function(r){return new(r||e)(se(GX),se(Tc),se(ff),se(Mi,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const WX=(e,t,n)=>{if(!1!==t){if(void 0!==n)return n;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},UF="auto",HF=void 0;let Th=(()=>{class e{get(n,r){const o=q0();return o?o.get(n,r):null}getBoolean(n,r){const o=q0();return!!o&&o.getBoolean(n,r)}getNumber(n,r){const o=q0();return o?o.getNumber(n,r):0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const W0=new tt("USERCONFIG"),q0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class GF{data;constructor(t={}){this.data=t,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(t){return this.data[t]}}const qX=new tt("IonModalToken");let Ah=(()=>{class e{zone=Le(We);applicationRef=Le(Aa);config=Le(W0);create(n,r,o){return new ZX(n,r,this.applicationRef,this.zone,o,this.config.useSetInputAPI??!1)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class ZX{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(t,n,r,o,i,s){this.environmentInjector=t,this.injector=n,this.applicationRef=r,this.zone=o,this.elementReferenceKey=i,this.enableSignalsSupport=s}attachViewToDom(t,n,r,o){return this.zone.run(()=>new Promise(i=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(KX(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,n,s,o,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(t,n){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(n);if(o){o.destroy(),this.elRefMap.delete(n);const i=this.elEventsMap.get(n);i&&(i(),this.elEventsMap.delete(n))}r()}))}}const KX=(e,t,n,r,o,i,s,a,l,c,d,p)=>{const m=XX(l);"ion-modal"===s.tagName.toLowerCase()&&m.push({provide:qX,useValue:s});const x=function _8(e,t){const n=St(e),r=t.elementInjector||g();return new Tp(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}(a,{environmentInjector:t,elementInjector:Ur.create({providers:m,parent:n})}),V=x.instance,he=x.location.nativeElement;if(l)if(d&&void 0!==V[d]&&console.error(`[Ionic Error]: ${d} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${d}" property from ${a.name}.`),!0===p&&void 0!==x.setInput){const{modal:ke,popover:Tt,...Lt}=l;for(const Mt in Lt)x.setInput(Mt,Lt[Mt]);void 0!==ke&&Object.assign(V,{modal:ke}),void 0!==Tt&&Object.assign(V,{popover:Tt})}else Object.assign(V,l);if(c)for(const ke of c)he.classList.add(ke);const Ee=zF(e,V,he);return s.appendChild(he),r.attachView(x.hostView),o.set(he,x),i.set(he,Ee),he},YX=[_h.L,_h.a,_h.b,_h.c,_h.d],zF=(e,t,n)=>e.run(()=>{const r=YX.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return n.addEventListener(o,i),()=>n.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),WF=new tt("NavParamsToken"),XX=e=>[{provide:WF,useValue:e},{provide:GF,useFactory:QX,deps:[WF]}],QX=e=>new GF(e),JX=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},eQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})};function uy(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&JX(n,o),i&&eQ(n,i),n}}const qF=(e,t)=>((e=e.filter(n=>n.stackId!==t.stackId)).push(t),e),K0=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},ZF=(e,t)=>!t||e.stackId!==t.stackId,uQ=(e,t)=>{if(!e)return;const n=KF(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},KF=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),YF=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class dQ{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(t,n,r,o,i,s){this.containerEl=n,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.tabsPrefix=void 0!==t?KF(t):void 0}createView(t,n){const r=K0(this.router,n),o=t?.location?.nativeElement,i=zF(this.zone,t.instance,o);return{id:this.nextId++,stackId:uQ(this.tabsPrefix,r),unlistenEvents:i,element:o,ref:t,url:r}}getExistingView(t){const n=K0(this.router,t),r=this.views.find(o=>o.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(t){const n=this.navCtrl.consumeTransition();let{direction:r,animation:o,animationBuilder:i}=n;const s=this.activeView,a=ZF(t,s);a&&(r="back",o=void 0);const l=this.views.slice();let c;const d=this.router;d.getCurrentNavigation?c=d.getCurrentNavigation():d.navigations?.value&&(c=d.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const p=this.views.includes(t),m=this.insertView(t,r);p||t.ref.changeDetectorRef.detectChanges();const C=t.animationBuilder;return void 0===i&&"back"===r&&!a&&void 0!==C&&(i=C),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>fQ(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:r,animation:o,tabSwitch:a})))))}canGoBack(t,n=this.getActiveStackId()){return this.getStack(n).length>t}pop(t,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=t)return Promise.resolve(!1);const o=r[r.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const n=this.getStack(t.stackId),r=n[n.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&XF(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const n=this.getStack(t);return n.length>0?n[n.length-1]:void 0}getRootUrl(t){const n=this.getStack(t);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(YF),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(n=>n.stackId===t)}insertView(t,n){return this.activeView=t,this.views=((e,t,n)=>"root"===n?qF(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):qF(e,t))(e,t))(this.views,t,n),this.views.slice()}transition(t,n,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=n?n.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),c.commit)?c.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var n=this;return(0,M.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=t();return r.finally(()=>n.runningTask=void 0),r})()}}const fQ=(e,t,n,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{XF(e,t,n,r,o),i()})}):Promise.resolve(),XF=(e,t,n,r,o)=>{o.run(()=>n.filter(i=>!t.includes(i)).forEach(YF)),t.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let QF=(()=>{class e{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new Ir(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Fn;stackWillChange=new yn;stackDidChange=new yn;activateEvents=new yn;deactivateEvents=new yn;parentContexts=Le(ju);location=Le(es);environmentInjector=Le(B);inputBinder=Le(JF,{optional:!0});supportsBindingToComponentInputs=!0;config=Le(Th);navCtrl=Le(Ef);set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}constructor(n,r,o,i,s,a,l,c){this.parentOutlet=c,this.nativeEl=i.nativeElement,this.name=n||Fn,this.tabsPrefix="true"===r?K0(s,l):void 0,this.stackCtrl=new dQ(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();n?.route&&this.activateWith(n.route,n.injector)}new Promise(n=>((e,t)=>{e.componentOnReady?e.componentOnReady().then(n=>t(n)):(e=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)})(()=>t(e))})(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route={...r.route}),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,i=this.stackCtrl.getExistingView(n);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,n)}else{const a=n._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Ir(null),d=this.createActivatedRouteProxy(c,n),p=new pQ(d,l,this.location.injector);o=this.activated=this.outletContent.createComponent(a.routeConfig.component??a.component,{index:this.outletContent.length,injector:p,environmentInjector:r??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,d),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:ZF(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const o=new oc;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(n,"paramMap"),o._queryParamMap=this.proxyObservable(n,"queryParamMap"),o.url=this.proxyObservable(n,"url"),o.params=this.proxyObservable(n,"params"),o.queryParams=this.proxyObservable(n,"queryParams"),o.fragment=this.proxyObservable(n,"fragment"),o.data=this.proxyObservable(n,"data"),o}proxyObservable(n,r){return n.pipe(Ra(o=>!!o),gi(o=>this.currentActivatedRoute$.pipe(Ra(i=>null!==i&&i.component===o),gi(i=>i&&i.activatedRoute[r]),GP())))}updateActivatedRouteProxy(n,r){const o=this.proxyMap.get(n);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}static \u0275fac=function(r){return new(r||e)(zl("name"),zl("tabs"),y(Tc),y(rt),y(Mi),y(We),y(oc),y(e,12))};static \u0275dir=Ut({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"],standalone:!1})}return e})();class pQ{route;childContexts;parent;constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===oc?this.route:t===ju?this.childContexts:this.parent.get(t,n)}}const JF=new tt("");let hQ=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=Ev([r.queryParams,r.params,r.data]).pipe(gi(([i,s,a],l)=>(a={...i,...s,...a},0===l?cn(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=IR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();function mQ(e){return e?.componentInputBindingEnabled?new hQ:null}const e2=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let dy=(()=>{class e{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(n,r){this.injector=n,this.elementRef=r}writeValue(n){this.elementRef.nativeElement.value=this.lastValue=n,Df(this.elementRef)}handleValueChange(n,r){n===this.elementRef.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Df(this.elementRef))}_handleBlurEvent(n){n===this.elementRef.nativeElement?(this.onTouched(),Df(this.elementRef)):n.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.elementRef.nativeElement.disabled=n}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let n;try{n=this.injector.get(ic)}catch{}if(!n)return;n.statusChanges&&(this.statusChanges=n.statusChanges.subscribe(()=>Df(this.elementRef)));const r=n.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Df(this.elementRef)}}})}static \u0275fac=function(r){return new(r||e)(y(Ur),y(rt))};static \u0275dir=Ut({type:e,hostBindings:function(r,o){1&r&&$e("ionBlur",function(s){return o._handleBlurEvent(s.target)})},standalone:!1})}return e})();const Df=e=>{e2(()=>{const t=e.nativeElement,n=null!=t.value&&t.value.toString().length>0,r=vQ(t);Y0(t,r);const o=t.closest("ion-item");o&&Y0(o,n?[...r,"item-has-value"]:r)})},vQ=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const o=t.item(r);null!==o&&yQ(o,"ng-")&&n.push(`ion-${o.substring(3)}`)}return n},Y0=(e,t)=>{const n=e.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...t)},yQ=(e,t)=>e.substring(0,t.length)===t,_Q=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let bQ=(()=>{let e=class fE{routerOutlet;navCtrl;config;r;z;el;constructor(n,r,o,i,s,a){this.routerOutlet=n,this.navCtrl=r,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(n){const r=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),n.preventDefault()):null!=r&&(this.navCtrl.navigateBack(r,{animation:this.routerAnimation}),n.preventDefault())}static \u0275fac=function(r){return new(r||fE)(y(QF,8),y(Ef),y(Th),y(rt),y(We),y(mt))};static \u0275dir=Ut({type:fE,hostBindings:function(r,o){1&r&&$e("click",function(s){return o.onClick(s)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},standalone:!1})};return e=oe([uy({inputs:_Q})],e),e})();const CQ=["animated","animation","root","rootParams","swipeGesture"],SQ=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let wQ=(()=>{let e=class pE{z;el;constructor(n,r,o,i,s,a){this.z=s,a.detach(),this.el=n.nativeElement,n.nativeElement.delegate=i.create(r,o),((e,t,n)=>{n.forEach(r=>e[r]=qv(t,r))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(r){return new(r||pE)(y(rt),y(B),y(Ur),y(Ah),y(We),y(mt))};static \u0275dir=Ut({type:pE,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},standalone:!1})};return e=oe([uy({inputs:CQ,methods:SQ})],e),e})(),IQ=(()=>{class e{navCtrl;tabsInner;ionTabsWillChange=new yn;ionTabsDidChange=new yn;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(n){this.navCtrl=n}ngAfterViewInit(){const n=this.tabs.length>0?this.tabs.first:void 0;n&&(this.hasTab=!0,this.setActiveTab(n.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(n){const r="string"==typeof n,o=r?n:n.detail.tab;if(this.hasTab)return this.setActiveTab(o),void this.tabSwitch();const i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||n.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}setActiveTab(n){const o=this.tabs.find(i=>i.tab===n);o?(this.leavingTab=this.selectedTab,this.selectedTab=o,this.ionTabsWillChange.emit({tab:n}),o.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${n}" does not exist`)}tabSwitch(){const{selectedTab:n,leavingTab:r}=this;this.tabBar&&n&&(this.tabBar.selectedTab=n.tab),r?.tab!==n?.tab&&r?.el&&(r.el.active=!1),n&&this.ionTabsDidChange.emit({tab:n.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(n=>{const r=n.el.getAttribute("slot");r!==this.tabBarSlot&&(this.tabBarSlot=r,this.relocateTabBar())})}relocateTabBar(){const n=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(n):this.tabsInner.nativeElement.after(n)}static \u0275fac=function(r){return new(r||e)(y(Ef))};static \u0275dir=Ut({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,o){if(1&r&&Yl(HX,7,rt),2&r){let i;ns(i=rs())&&(o.tabsInner=i.first)}},hostBindings:function(r,o){1&r&&$e("ionTabButtonClick",function(s){return o.select(s)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},standalone:!1})}return e})();class Mh{ctrl;constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,n,r){return this.ctrl.dismiss(t,n,r)}getTop(){return this.ctrl.getTop()}}class TQ{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,n){}retrieve(t){return null}shouldReuseRoute(t,n){if(t.routeConfig!==n.routeConfig)return!1;const r=t.params,o=n.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}_(7133),_(6780),_(9805),_(1393),_(5860);var AQ=_(9919),MQ=(_(6721),_(9335)),X0=_(3460),xh=(_(5989),_(7433));_(575),_(566),_(4896),_(5827);const xQ=AQ.i,kQ=function(){var e=(0,M.A)(function*(t,n){if(!(typeof window>"u"))return yield xQ(),(0,MQ.b)(JSON.parse('[["ion-menu_3",[[289,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[289,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[257,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[289,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[289,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[257,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[257,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[256,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[288,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[289,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16,"router-animation"]}]]],["ion-toast",[[289,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16,"html-attributes"],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[289,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}],[288,"ion-card-content"],[289,"ion-card-header",{"color":[513],"translucent":[4]}],[289,"ion-card-subtitle",{"color":[513]}],[289,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[289,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[288,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[256,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[305,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[289,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[288,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[256,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[289,"ion-reorder",null,[[2,"click","onClick"]]],[256,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[289,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[289,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[289,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[294,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16,"counter-formatter"],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[290,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[289,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[257,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16,"root-params"],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[256,"ion-nav-link",{"component":[1],"componentProps":[16,"component-props"],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}]]],["ion-tab_2",[[257,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[257,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[294,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16,"counter-formatter"],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[289,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[290,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[289,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}],[289,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[289,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[289,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[289,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16,"component-props"],"beforeLeave":[16,"before-leave"],"beforeEnter":[16,"before-enter"]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[257,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}]]],["ion-avatar_3",[[289,"ion-avatar"],[289,"ion-badge",{"color":[513]}],[257,"ion-thumbnail"]]],["ion-col_3",[[257,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[257,"ion-grid",{"fixed":[4]}],[257,"ion-row"]]],["ion-img",[[257,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-input-otp",[[294,"ion-input-otp",{"autocapitalize":[1],"color":[513],"disabled":[516],"fill":[1],"inputmode":[1],"length":[2],"pattern":[1],"readonly":[516],"separators":[1],"shape":[1],"size":[1],"type":[1],"value":[1032],"inputValues":[32],"hasFocus":[32],"previousInputValues":[32],"setFocus":[64]},null,{"value":["valueChanged"],"separators":["processSeparators"],"length":["processSeparators"]}]]],["ion-progress-bar",[[289,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[289,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16,"pin-formatter"],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[257,"ion-segment-content"]]],["ion-segment-view",[[289,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[289,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[257,"ion-text",{"color":[513]}]]],["ion-select-modal",[[290,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[289,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16,"format-options"],"readonly":[4],"isDateEnabled":[16,"is-date-enabled"],"showAdjacentDays":[4,"show-adjacent-days"],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16,"title-selected-dates-formatter"],"multiple":[4],"highlightedDates":[16,"highlighted-dates"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[290,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[288,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[290,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[290,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[289,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16,"component-props"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16,"presenting-element"],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},[[9,"resize","onWindowResize"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[289,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[257,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[289,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[289,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"component":[1],"componentProps":[16,"component-props"],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[289,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[289,"ion-item-divider",{"color":[513],"sticky":[4]}],[288,"ion-item-group"],[289,"ion-note",{"color":[513]}],[257,"ion-skeleton-text",{"animated":[4]}],[294,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[289,"ion-list-header",{"color":[513],"lines":[1]}],[289,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16,"router-animation"],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"isInteractive":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[288,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[256,"ion-app",{"setFocus":[64]}],[292,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[257,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16,"swipe-handler"],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[257,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[292,"ion-header",{"collapse":[1],"translucent":[4]}],[289,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[289,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[294,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[289,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"hasFocus":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[257,"ion-select-option",{"disabled":[4],"value":[8]}],[290,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[257,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[289,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[292,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[257,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[289,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"],"aria-checked":["onAriaChanged"],"aria-label":["onAriaChanged"]}],[257,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),n)});return function(n,r){return e.apply(this,arguments)}}();!function(){if(typeof window<"u"&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();const Et=["*"],RQ=["outletContent"],NQ=["outlet"],OQ=[[["","slot","top"]],"*",[["ion-tab"]]],PQ=["[slot=top]","*","ion-tab"];function FQ(e,t){if(1&e){const n=wn();j(0,"ion-router-outlet",5,1),$e("stackWillChange",function(o){return ft(n),pt(it().onStackWillChange(o))})("stackDidChange",function(o){return ft(n),pt(it().onStackDidChange(o))}),z()}}function LQ(e,t){1&e&&yt(0,2,["*ngIf","tabs.length > 0"])}let If=(()=>{class e extends dy{constructor(n,r){super(n,r)}writeValue(n){this.elementRef.nativeElement.checked=this.lastValue=n,Df(this.elementRef)}_handleIonChange(n){this.handleValueChange(n,n.checked)}static \u0275fac=function(r){return new(r||e)(y(Ur),y(rt))};static \u0275dir=Ut({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,o){1&r&&$e("ionChange",function(s){return o._handleIonChange(s.target)})},standalone:!1,features:[Cr([{provide:$s,useExisting:e,multi:!0}]),Pn]})}return e})(),Q0=(()=>{class e extends dy{el;constructor(n,r){super(n,r),this.el=r}handleInputEvent(n){this.handleValueChange(n,n.value)}registerOnChange(n){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName||"ION-INPUT-OTP"===this.el.nativeElement.tagName?r=>{n(""===r?null:parseFloat(r))}:n)}static \u0275fac=function(r){return new(r||e)(y(Ur),y(rt))};static \u0275dir=Ut({type:e,selectors:[["ion-input","type","number"],["ion-input-otp",3,"type","text"],["ion-range"]],hostBindings:function(r,o){1&r&&$e("ionInput",function(s){return o.handleInputEvent(s.target)})},standalone:!1,features:[Cr([{provide:$s,useExisting:e,multi:!0}]),Pn]})}return e})(),kh=(()=>{class e extends dy{constructor(n,r){super(n,r)}_handleChangeEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(Ur),y(rt))};static \u0275dir=Ut({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,o){1&r&&$e("ionChange",function(s){return o._handleChangeEvent(s.target)})},standalone:!1,features:[Cr([{provide:$s,useExisting:e,multi:!0}]),Pn]})}return e})(),cc=(()=>{class e extends dy{constructor(n,r){super(n,r)}_handleInputEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(Ur),y(rt))};static \u0275dir=Ut({type:e,selectors:[["ion-input",3,"type","number"],["ion-input-otp","type","text"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,o){1&r&&$e("ionInput",function(s){return o._handleInputEvent(s.target)})},standalone:!1,features:[Cr([{provide:$s,useExisting:e,multi:!0}]),Pn]})}return e})();const jQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)},configurable:!0})})},VQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},dr=(e,t,n)=>{n.forEach(r=>e[r]=qv(t,r))};function It(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&jQ(n,o),i&&VQ(n,i),n}}let t2=(()=>{let e=class yE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||yE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:yE,selectors:[["ion-app"]],standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({methods:["setFocus"]})],e),e})(),ss=(()=>{let e=class EE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||EE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:EE,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),as=(()=>{let e=class DE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||DE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:DE,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["collapse"]})],e),e})(),n2=(()=>{let e=class kE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||kE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:kE,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",errorText:"errorText",helperText:"helperText",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["alignment","checked","color","disabled","errorText","helperText","indeterminate","justify","labelPlacement","mode","name","required","value"]})],e),e})(),ls=(()=>{let e=class OE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(r){return new(r||OE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:OE,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),cs=(()=>{let e=class UE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||UE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:UE,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["collapse","mode","translucent"]})],e),e})(),zo=(()=>{let e=class HE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||HE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:HE,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),uc=(()=>{let e=class qE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(r){return new(r||qE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:qE,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Mo=(()=>{let e=class YE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||YE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:YE,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),fy=(()=>{let e=class JE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||JE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:JE,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),py=(()=>{let e=class eD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionSwipe"])}static \u0275fac=function(r){return new(r||eD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:eD,selectors:[["ion-item-options"]],inputs:{side:"side"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["side"]})],e),e})(),hy=(()=>{let e=class tD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionDrag"])}static \u0275fac=function(r){return new(r||tD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:tD,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Wu=(()=>{let e=class nD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||nD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:nD,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","mode","position"]})],e),e})(),sa=(()=>{let e=class rD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||rD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:rD,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),J0=(()=>{let e=class yD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}static \u0275fac=function(r){return new(r||yD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:yD,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),Rh=(()=>{let e=class xD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||xD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:xD,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",errorText:"errorText",expandedIcon:"expandedIcon",fill:"fill",helperText:"helperText",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",required:"required",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["cancelText","color","compareWith","disabled","errorText","expandedIcon","fill","helperText","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","required","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),Nh=(()=>{let e=class RD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||RD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:RD,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["disabled","value"]})],e),e})(),Oh=(()=>{let e=class OD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||OD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:OD,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","duration","name","paused"]})],e),e})(),r2=(()=>{let e=class FD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||FD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:FD,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["component","tab"],methods:["setActive"]})],e),e})(),gy=(()=>{let e=class LD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||LD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:LD,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),o2=(()=>{let e=class $D{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||$D)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:$D,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),us=(()=>{let e=class UD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||UD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:UD,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","size"]})],e),e})(),Ph=(()=>{let e=class GD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||GD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:GD,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",errorText:"errorText",helperText:"helperText",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["alignment","checked","color","disabled","enableOnOffLabels","errorText","helperText","justify","labelPlacement","mode","name","required","value"]})],e),e})(),ds=(()=>{let e=class zD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||zD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:zD,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","mode"]})],e),e})(),Fh=(()=>{class e extends QF{parentOutlet;outletContent;constructor(n,r,o,i,s,a,l,c){super(n,r,o,i,s,a,l,c),this.parentOutlet=c}static \u0275fac=function(r){return new(r||e)(zl("name"),zl("tabs"),y(Tc),y(rt),y(Mi),y(We),y(oc),y(e,12))};static \u0275cmp=Xe({type:e,selectors:[["ion-router-outlet"]],viewQuery:function(r,o){if(1&r&&Yl(RQ,7,es),2&r){let i;ns(i=rs())&&(o.outletContent=i.first)}},standalone:!1,features:[Pn],ngContentSelectors:Et,decls:3,vars:0,consts:[["outletContent",""]],template:function(r,o){1&r&&(bt(),Lc(0,null,0),yt(2),Kl())},encapsulation:2})}return e})(),i2=(()=>{class e extends IQ{outlet;tabBar;tabBars;tabs;static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(e)))(o||e)}})();static \u0275cmp=Xe({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,o,i){if(1&r&&(Mu(i,gy,5),Mu(i,gy,4),Mu(i,r2,4)),2&r){let s;ns(s=rs())&&(o.tabBar=s.first),ns(s=rs())&&(o.tabBars=s),ns(s=rs())&&(o.tabs=s)}},viewQuery:function(r,o){if(1&r&&Yl(NQ,5,Fh),2&r){let i;ns(i=rs())&&(o.outlet=i.first)}},standalone:!1,features:[Pn],ngContentSelectors:PQ,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(r,o){1&r&&(bt(OQ),yt(0),j(1,"div",2,0),nn(3,FQ,2,0,"ion-router-outlet",3)(4,LQ,1,0,"ng-content",4),z(),yt(5,1)),2&r&&(ue(3),fe("ngIf",0===o.tabs.length),ue(),fe("ngIf",o.tabs.length>0))},dependencies:[Ao,Fh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})}return e})(),s2=(()=>{class e extends bQ{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(y(Fh,8),y(Ef),y(Th),y(rt),y(We),y(mt))};static \u0275cmp=Xe({type:e,selectors:[["ion-back-button"]],standalone:!1,features:[Pn],ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})}return e})(),ew=(()=>{class e extends wQ{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(y(rt),y(B),y(Ur),y(Ah),y(We),y(mt))};static \u0275cmp=Xe({type:e,selectors:[["ion-nav"]],standalone:!1,features:[Pn],ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})}return e})();const eee={provide:mi,useExisting:Vn(()=>a2),multi:!0};let a2=(()=>{class e extends U0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&na("max",o._enabled?o.max:null)},standalone:!1,features:[Cr([eee]),Pn]})}return e})();const tee={provide:mi,useExisting:Vn(()=>l2),multi:!0};let l2=(()=>{class e extends H0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Qr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&na("min",o._enabled?o.min:null)},standalone:!1,features:[Cr([tee]),Pn]})}return e})(),tw=(()=>{class e extends Mh{constructor(){super(xh.a)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lh=(()=>{class e extends Mh{constructor(){super(xh.b)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fs=(()=>{class e extends Mh{constructor(){super(xh.l)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),js=(()=>{class e extends Mh{angularDelegate=Le(Ah);injector=Le(Ur);environmentInjector=Le(B);constructor(){super(xh.m)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class dc extends Mh{angularDelegate=Le(Ah);injector=Le(Ur);environmentInjector=Le(B);constructor(){super(xh.c)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const nee=(e,t,n)=>()=>{const r=t.defaultView;if(r&&typeof window<"u"){(0,X0.s)({...e,_zoneGate:i=>n.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return kQ(r,{exclude:["ion-tabs"],syncQueue:!0,raf:e2,jmp:i=>n.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}})}};let Yc=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:W0,useValue:n},{provide:iC,useFactory:nee,multi:!0,deps:[W0,ni,We]},Ah,{provide:JF,useFactory:mQ,deps:[Mi]}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Uo({type:e});static \u0275inj=Un({providers:[js,dc],imports:[ec]})}return e})();const ree=_.p+"wasm/uarm_web_optimized-0da8ca497db0a82e.wasm",oee=_.p+"wasm/cloudpilot_web-cecbb49bc52540e0.wasm";var nw=_(1051);function see(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var rw={exports:{}};!function(t,n){function o(l){var c=this,d=function a(){var l=4022871197;return function(d){d=String(d);for(var p=0;p<d.length;p++){var m=.02519603282416938*(l+=d.charCodeAt(p));m-=l=m>>>0,l=(m*=l)>>>0,l+=4294967296*(m-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var p=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=p-(c.c=0|p)},c.c=1,c.s0=d(" "),c.s1=d(" "),c.s2=d(" "),c.s0-=d(l),c.s0<0&&(c.s0+=1),c.s1-=d(l),c.s1<0&&(c.s1+=1),c.s2-=d(l),c.s2<0&&(c.s2+=1),d=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var d=new o(l),p=c&&c.state,m=d.next;return m.int32=function(){return 4294967296*d.next()|0},m.double=function(){return m()+11102230246251565e-32*(2097152*m()|0)},m.quick=m,p&&("object"==typeof p&&i(p,d),m.state=function(){return i(d,{})}),m}n&&n.exports?n.exports=s:this.alea=s}(0,rw);const lee=see(rw.exports),c2=nw.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),hee=new RegExp("(?<==)(?:true|false)"),gee=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),mee=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),vee=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),yee=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function ow(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function cee(e,t={}){const n=e.trim().replace(/[,]+$/,"");if(""===n)return"{}";if(!function uee(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(n))throw new TypeError("Unexpected input format");let r="";c2.reset(n);for(const o of c2)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}r+=o.value}return r.replace(/,([}\]])/g,"$1")}(t)):t}const u2=nw.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:hee,value:e=>"true"===e},NumericLiteral:{match:gee,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:mee,value:ow,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:vee,value:ow,type:()=>"StringLiteral"},UnquotedLiteral:{match:yee,value:ow,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const Cee=nw.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function bee(e){let t=null;const n=u2.reset(e),r={};Object.defineProperties(r,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function _ee(e){let t="";for(const n in e){const r=e[n];switch(typeof r){case"object":t+=` ${n}='${JSON.stringify(r)}'`;break;case"string":t+=` ${n}="${r}"`;break;case"number":case"boolean":t+=` ${n}=${r}`}}return t.slice(1)}(r)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(u2.reset(e))}});const o=[];for(const{type:i,value:s}of n)switch(i){case"AttributeName":t=s,r[t]=t;break;case"AttributeShorthand":"."===s[0]?o.push(s.slice(1)):"#"===s[0]&&(r.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),r[t]=s,t=null)}return o.length&&(r.class=o.join(" ")),r}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function See(e){const{type:t,level:n,raw:r,content:o,marker:i,tag:s}=e,a=Cee.reset(o);let l,c,d="",p=[];for(const{type:m,value:C}of a)switch(m){case"name":l=C;break;case"attrs":c=C;break;case"text":case"blockText":d=C,p="container"===n?this.lexer.blockTokens(C):this.lexer.inlineTokens(C)}return{type:t,raw:r,meta:{level:n,marker:i,tag:s,name:l},attrs:c,text:d,tokens:p}}function d2(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function Dee(e){const{meta:t,attrs:n,tokens:r=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=n?" "+n.toString():"",i+=d2(o)?" />":">",i+="container"===t.level?"\n":"",d2(o)||(i+="container"===t.level?this.parser.parse(r):this.parser.parseInline(r),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const Iee=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function Tee(e=Iee){return{extensions:e.map(({level:t,marker:n,tag:r,renderer:o})=>{const i=lee(n).int32(),s=`directive${function Eee(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(n)))?void 0:l.index},tokenizer(a){const l=function wee(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,n),c=a.match(new RegExp(l));if(c){const[d,p=""]=c;return See.call(this,{type:s,level:t,raw:d,content:p,marker:n,tag:r||("inline"===t?"span":"div")})}},renderer:o||Dee}})}}var qu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function f2(e){qu=e}var $h={exec:()=>null};function Sr(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(o,i)=>{let s="string"==typeof i?i:i.source;return s=s.replace(ps.caret,"$1"),n=n.replace(o,s),r},getRegex:()=>new RegExp(n,t)};return r}var ps={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},Bh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,sw=/(?:[*+-]|\d{1,9}[.)])/,p2=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,h2=Sr(p2).replace(/bull/g,sw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ree=Sr(p2).replace(/bull/g,sw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),aw=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,lw=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Oee=Sr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",lw).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Pee=Sr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,sw).getRegex(),my="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",cw=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Fee=Sr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",cw).replace("tag",my).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),g2=Sr(aw).replace("hr",Bh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",my).getRegex(),uw={blockquote:Sr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",g2).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Oee,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Bh,html:Fee,lheading:h2,list:Pee,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:g2,table:$h,text:/^[^\n]+/},m2=Sr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Bh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",my).getRegex(),$ee={...uw,lheading:Ree,table:m2,paragraph:Sr(aw).replace("hr",Bh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",m2).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",my).getRegex()},Bee={...uw,html:Sr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",cw).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:$h,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Sr(aw).replace("hr",Bh).replace("heading"," *#{1,6} *[^\n]").replace("lheading",h2).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},v2=/^( {2,}|\\)\n(?!\s*$)/,vy=/[\p{P}\p{S}]/u,dw=/[\s\p{P}\p{S}]/u,y2=/[^\s\p{P}\p{S}]/u,Hee=Sr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,dw).getRegex(),_2=/(?!~)[\p{P}\p{S}]/u,b2=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qee=Sr(b2,"u").replace(/punct/g,vy).getRegex(),Zee=Sr(b2,"u").replace(/punct/g,_2).getRegex(),C2="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Kee=Sr(C2,"gu").replace(/notPunctSpace/g,y2).replace(/punctSpace/g,dw).replace(/punct/g,vy).getRegex(),Yee=Sr(C2,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,_2).getRegex(),Xee=Sr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,y2).replace(/punctSpace/g,dw).replace(/punct/g,vy).getRegex(),Qee=Sr(/\\(punct)/,"gu").replace(/punct/g,vy).getRegex(),Jee=Sr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ete=Sr(cw).replace("(?:--\x3e|$)","--\x3e").getRegex(),tte=Sr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ete).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),yy=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,nte=Sr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",yy).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),S2=Sr(/^!?\[(label)\]\[(ref)\]/).replace("label",yy).replace("ref",lw).getRegex(),w2=Sr(/^!?\[(ref)\](?:\[\])?/).replace("ref",lw).getRegex(),fw={_backpedal:$h,anyPunctuation:Qee,autolink:Jee,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:v2,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:$h,emStrongLDelim:qee,emStrongRDelimAst:Kee,emStrongRDelimUnd:Xee,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:nte,nolink:w2,punctuation:Hee,reflink:S2,reflinkSearch:Sr("reflink|nolink(?!\\()","g").replace("reflink",S2).replace("nolink",w2).getRegex(),tag:tte,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:$h},ote={...fw,link:Sr(/^!?\[(label)\]\((.*?)\)/).replace("label",yy).getRegex(),reflink:Sr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",yy).getRegex()},pw={...fw,emStrongRDelimAst:Yee,emStrongLDelim:Zee,url:Sr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},ite={...pw,br:Sr(v2).replace("{2,}","*").getRegex(),text:Sr(pw.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},_y={normal:uw,gfm:$ee,pedantic:Bee},jh={normal:fw,gfm:pw,breaks:ite,pedantic:ote},ste={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},E2=e=>ste[e];function El(e,t){if(t){if(ps.escapeTest.test(e))return e.replace(ps.escapeReplace,E2)}else if(ps.escapeTestNoEncode.test(e))return e.replace(ps.escapeReplaceNoEncode,E2);return e}function D2(e){try{e=encodeURI(e).replace(ps.percentDecode,"%")}catch{return null}return e}function I2(e,t){let r=e.replace(ps.findPipe,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(ps.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(ps.slashPipe,"|");return r}function Vh(e,t,n){let r=e.length;if(0===r)return"";let o=0;for(;o<r;){let i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function T2(e,t,n,r,o){let i=t.href,s=t.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}var by=class{options;rules;lexer;constructor(e){this.options=e||qu}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Vh(n,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=function lte(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let o=r[1];return t.split("\n").map(i=>{let s=i.match(n.other.beginningSpace);if(null===s)return i;let[a]=s;return a.length>=o.length?i.slice(o.length):i}).join("\n")}(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=Vh(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Vh(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Vh(t[0],"\n").split("\n"),r="",o="",i=[];for(;n.length>0;){let l,s=!1,a=[];for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),s=!0;else{if(s)break;a.push(n[l])}n=n.slice(l);let c=a.join("\n"),d=c.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${c}`:c,o=o?`${o}\n${d}`:d;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,i,!0),this.lexer.state.top=p,0===n.length)break;let m=i.at(-1);if("code"===m?.type)break;if("blockquote"===m?.type){let C=m,x=C.raw+"\n"+n.join("\n"),V=this.blockquote(x);i[i.length-1]=V,r=r.substring(0,r.length-C.raw.length)+V.raw,o=o.substring(0,o.length-C.text.length)+V.text;break}if("list"===m?.type){let C=m,x=C.raw+"\n"+n.join("\n"),V=this.list(x);i[i.length-1]=V,r=r.substring(0,r.length-m.raw.length)+V.raw,o=o.substring(0,o.length-C.raw.length)+V.raw,n=x.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:r,tokens:i,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),s=!1;for(;e;){let l=!1,c="",d="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let p=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,Ee=>" ".repeat(3*Ee.length)),m=e.split("\n",1)[0],C=!p.trim(),x=0;if(this.options.pedantic?(x=2,d=p.trimStart()):C?x=t[1].length+1:(x=t[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,d=p.slice(x),x+=t[1].length),C&&this.rules.other.blankLine.test(m)&&(c+=m+"\n",e=e.substring(m.length+1),l=!0),!l){let Ee=this.rules.other.nextBulletRegex(x),ke=this.rules.other.hrRegex(x),Tt=this.rules.other.fencesBeginRegex(x),Lt=this.rules.other.headingBeginRegex(x),Mt=this.rules.other.htmlBeginRegex(x);for(;e;){let Ln,Rn=e.split("\n",1)[0];if(m=Rn,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),Ln=m):Ln=m.replace(this.rules.other.tabCharGlobal,"    "),Tt.test(m)||Lt.test(m)||Mt.test(m)||Ee.test(m)||ke.test(m))break;if(Ln.search(this.rules.other.nonSpaceChar)>=x||!m.trim())d+="\n"+Ln.slice(x);else{if(C||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Tt.test(p)||Lt.test(p)||ke.test(p))break;d+="\n"+m}!C&&!m.trim()&&(C=!0),c+=Rn+"\n",e=e.substring(Rn.length+1),p=Ln.slice(x)}}o.loose||(s?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let he,V=null;this.options.gfm&&(V=this.rules.other.listIsTask.exec(d),V&&(he="[ ] "!==V[0],d=d.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:c,task:!!V,checked:he,loose:!1,text:d,tokens:[]}),o.raw+=c}let a=o.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){let c=o.items[l].tokens.filter(p=>"space"===p.type),d=c.length>0&&c.some(p=>this.rules.other.anyLine.test(p.raw));o.loose=d}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=I2(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?i.align.push("right"):this.rules.other.tableAlignCenter.test(s)?i.align.push("center"):this.rules.other.tableAlignLeft.test(s)?i.align.push("left"):i.align.push(null);for(let s=0;s<n.length;s++)i.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:i.align[s]});for(let s of o)i.rows.push(I2(s,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Vh(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{let i=function ate(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===i)return;if(i>-1){let s=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],o=i[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r.slice(1):r.slice(1,-1)),T2(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!o){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return T2(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let i,s,o=[...r[0]].length-1,a=o,l=0,c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=c.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){a+=s;continue}if((r[5]||r[6])&&o%3&&!((o+s)%3)){l+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+l);let d=[...r[0]][0].length,p=e.slice(0,o+r.index+d+s);if(Math.min(o,s)%2){let C=p.slice(1,-1);return{type:"em",raw:p,text:C,tokens:this.lexer.inlineTokens(C)}}let m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return"@"===t[2]?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if("@"===t[2])n=t[0],r="mailto:"+n;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);n=t[0],r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],escaped:this.lexer.state.inRawBlock}}},fc=class WD{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||qu,this.options.tokenizer=this.options.tokenizer||new by,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:ps,block:_y.normal,inline:jh.normal};this.options.pedantic?(n.block=_y.pedantic,n.inline=jh.pedantic):this.options.gfm&&(n.block=_y.gfm,n.inline=this.options.breaks?jh.breaks:jh.gfm),this.tokenizer.rules=n}static get rules(){return{block:_y,inline:jh}}static lex(t,n){return new WD(n).lex(t)}static lexInline(t,n){return new WD(n).inlineTokens(t)}lex(t){t=t.replace(ps.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(ps.tabCharGlobal,"    ").replace(ps.spaceLine,""));t;){let o;if(this.options.extensions?.block?.some(s=>!!(o=s.call({lexer:this},t,n))&&(t=t.substring(o.raw.length),n.push(o),!0)))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let s=n.at(-1);1===o.raw.length&&void 0!==s?s.raw+="\n":n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let i=t;if(this.options.extensions?.startBlock){let l,s=1/0,a=t.slice(1);this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),"number"==typeof l&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(i=t.substring(0,s+1))}if(this.state.top&&(o=this.tokenizer.paragraph(i))){let s=n.at(-1);r&&"paragraph"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o),r=i.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let s=n.at(-1);"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,o=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(r));)a.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,s="";for(;t;){let a;if(i||(s=""),i=!1,this.options.extensions?.inline?.some(c=>!!(a=c.call({lexer:this},t,n))&&(t=t.substring(a.raw.length),n.push(a),!0)))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);let c=n.at(-1);"text"===a.type&&"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,r,s)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if(this.options.extensions?.startInline){let p,c=1/0,d=t.slice(1);this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},d),"number"==typeof p&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),"_"!==a.raw.slice(-1)&&(s=a.raw.slice(-1)),i=!0;let c=n.at(-1);"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return n}},Xc=class{options;parser;constructor(e){this.options=e||qu}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(ps.notSpaceStart)?.[0],o=e.replace(ps.endingNewline,"")+"\n";return r?'<pre><code class="language-'+El(r)+'">'+(n?o:El(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:El(o,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let s=0;s<e.items.length;s++)r+=this.listitem(e.items[s]);let o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+El(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let r="";for(let o=0;o<e.rows.length;o++){let i=e.rows[o];n="";for(let s=0;s<i.length;s++)n+=this.tablecell(i[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${El(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),o=D2(e);if(null===o)return r;let i='<a href="'+(e=o)+'"';return t&&(i+=' title="'+El(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let o=D2(e);if(null===o)return El(n);let i=`<img src="${e=o}" alt="${n}"`;return t&&(i+=` title="${El(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:El(e.text)}},hw=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},pc=class qD{options;renderer;textRenderer;constructor(t){this.options=t||qu,this.options.renderer=this.options.renderer||new Xc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new hw}static parse(t,n){return new qD(n).parse(t)}static parseInline(t,n){return new qD(n).parseInline(t)}parse(t,n=!0){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==l||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){r+=l||"";continue}}let s=i;switch(s.type){case"space":r+=this.renderer.space(s);continue;case"hr":r+=this.renderer.hr(s);continue;case"heading":r+=this.renderer.heading(s);continue;case"code":r+=this.renderer.code(s);continue;case"table":r+=this.renderer.table(s);continue;case"blockquote":r+=this.renderer.blockquote(s);continue;case"list":r+=this.renderer.list(s);continue;case"html":r+=this.renderer.html(s);continue;case"def":r+=this.renderer.def(s);continue;case"paragraph":r+=this.renderer.paragraph(s);continue;case"text":{let a=s,l=this.renderer.text(a);for(;o+1<t.length&&"text"===t[o+1].type;)a=t[++o],l+="\n"+this.renderer.text(a);r+=n?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==a||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}let s=i;switch(s.type){case"escape":case"text":r+=n.text(s);break;case"html":r+=n.html(s);break;case"link":r+=n.link(s);break;case"image":r+=n.image(s);break;case"strong":r+=n.strong(s);break;case"em":r+=n.em(s);break;case"codespan":r+=n.codespan(s);break;case"br":r+=n.br(s);break;case"del":r+=n.del(s);break;default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Cy=class{options;block;constructor(e){this.options=e||qu}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?fc.lex:fc.lexInline}provideParser(){return this.block?pc.parse:pc.parseInline}},Zu=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=pc;Renderer=Xc;TextRenderer=hw;Lexer=fc;Tokenizer=by;Hooks=Cy;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let o=r;for(let i of o.header)n=n.concat(this.walkTokens(i.tokens,t));for(let i of o.rows)for(let s of i)n=n.concat(this.walkTokens(s.tokens,t));break}case"list":n=n.concat(this.walkTokens(r.items,t));break;default:{let o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(i=>{let s=o[i].flat(1/0);n=n.concat(this.walkTokens(s,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let i=t.renderers[o.name];t.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");let i=t[o.level];i?i.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){let o=this.defaults.renderer||new Xc(this.defaults);for(let i in n.renderer){if(!(i in o))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=n.renderer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d||""}}r.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new by(this.defaults);for(let i in n.tokenizer){if(!(i in o))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=n.tokenizer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new Cy;for(let i in n.hooks){if(!(i in o))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=n.hooks[i],l=o[i];o[i]=Cy.passThroughHooks.has(i)?c=>{if(this.defaults.async)return Promise.resolve(a.call(o,c)).then(p=>l.call(o,p));let d=a.call(o,c);return l.call(o,d)}:(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(s){let a=[];return a.push(i.call(this,s)),o&&(a=a.concat(o.call(this,s))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return fc.lex(e,t??this.defaults)}parser(e,t){return pc.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);let s=o.hooks?o.hooks.provideLexer():e?fc.lex:fc.lexInline,a=o.hooks?o.hooks.provideParser():e?pc.parse:pc.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(l=>s(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>a(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(i);try{o.hooks&&(t=o.hooks.preprocess(t));let l=s(t,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=a(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return i(l)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let r="<p>An error occurred:</p><pre>"+El(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};function gr(e,t){return Zu.parse(e,t)}gr.options=gr.setOptions=function(e){return Zu.setOptions(e),f2(gr.defaults=Zu.defaults),gr},gr.getDefaults=function iw(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},gr.defaults=qu,gr.use=function(...e){return Zu.use(...e),f2(gr.defaults=Zu.defaults),gr},gr.walkTokens=function(e,t){return Zu.walkTokens(e,t)},gr.parseInline=Zu.parseInline,gr.Parser=pc,gr.parser=pc.parse,gr.Renderer=Xc,gr.TextRenderer=hw,gr.Lexer=fc,gr.lexer=fc.lex,gr.Tokenizer=by,gr.Hooks=Cy,gr.parse=gr;class gte extends ct{constructor(t,n){super()}schedule(t,n=0){return this}}const Sy={setInterval(e,t,...n){const{delegate:r}=Sy;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Sy;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},gw={now:()=>(gw.delegate||Date).now(),delegate:void 0};class Uh{constructor(t,n=Uh.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Uh.now=gw.now;const yte=new class vte extends Uh{constructor(t,n=Uh.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class mte extends gte{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return Sy.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Sy.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ze(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});class Ste extends jn{constructor(t=1/0,n=1/0,r=gw){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function mw(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new In({next:()=>{r.unsubscribe(),e()}});return Fs(t(...n)).subscribe(r)}const Dte=["*"];let A2=(()=>{var e;class t{constructor(){this._buttonClick$=new jn,this.copied=function fte(e,t){const r=t?.manualCleanup?null:t?.injector?.get(Vi)??Le(Vi),o=function pte(e=Object.is){return(t,n)=>1===t.kind&&1===n.kind&&e(t.value,n.value)}(t?.equal);let i,s;i=Di(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue},{equal:o});const a=e.subscribe({next:l=>i.set({kind:1,value:l}),error:l=>{i.set({kind:2,error:l}),s?.()},complete:()=>{s?.()}});if(t?.requireSync&&0===i().kind)throw new Pe(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Ui(()=>{const l=i();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new Pe(601,!1)}},{equal:t?.equal})}(this._buttonClick$.pipe(gi(()=>function hte(...e){const t=nh(e),n=function Z7(e,t){return"number"==typeof OS(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Fs(r[0]):cf(n)(ii(r,t)):Na}(cn(!0),function bte(e=0,t,n=yte){let r=-1;return null!=t&&(QN(t)?n=t:r=t),new Tn(o=>{let i=function _te(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(3e3).pipe(function Cte(e){return rr(()=>e)}(!1)))),GP(),function Ete(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function wte(e={}){const{connector:t=()=>new jn,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,d=!1,p=!1;const m=()=>{a?.unsubscribe(),a=void 0},C=()=>{m(),s=l=void 0,d=p=!1},x=()=>{const V=s;C(),V?.unsubscribe()};return ri((V,he)=>{c++,!p&&!d&&m();const Ee=l=l??t();he.add(()=>{c--,0===c&&!p&&!d&&(a=mw(x,o))}),Ee.subscribe(he),!s&&c>0&&(s=new In({next:ke=>Ee.next(ke),error:ke=>{p=!0,m(),a=mw(C,n,ke),Ee.error(ke)},complete:()=>{d=!0,m(),a=mw(C,r),Ee.complete()}}),Fs(V).subscribe(s))})(i)}}({connector:()=>new Ste(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1))),this.copiedText=Ui(()=>this.copied()?"Copied":"Copy")}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(o,i){1&o&&(xm(0,"button",0),IC("click",function(){return i.onCopyToClipboardClick()}),xe(1),km()),2&o&&(oa("copied",i.copied()),ue(),Ps(i.copiedText()))},encapsulation:2,changeDetection:0}))}return e(),t})();const Ate=new tt("CLIPBOARD_OPTIONS");var vw=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(vw||{});const M2=new tt("MARKED_EXTENSIONS"),x2=new tt("MARKED_OPTIONS"),xte=new tt("MERMAID_OPTIONS"),k2=new tt("SANITIZE");let yw=(()=>{var e;class t{get options(){return this._options}set options(r){this._options={...this.DEFAULT_MARKED_OPTIONS,...r}}get renderer(){return this.options.renderer}set renderer(r){this.options.renderer=r}constructor(r,o,i,s,a,l,c,d){this.clipboardOptions=r,this.extensions=o,this.mermaidOptions=s,this.platform=a,this.sanitize=l,this.http=c,this.sanitizer=d,this.DEFAULT_MARKED_OPTIONS={renderer:new Xc},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new jn,this.reload$=this._reload$.asObservable(),this.options=i}parse(r,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,d={...this.options,...o.markedOptions},p=d.renderer||this.renderer||new Xc;this.extensions&&(this.renderer=this.extendsRendererForExtensions(p)),l&&(this.renderer=this.extendsRendererForMermaid(p));const m=this.trimIndentation(r),C=i?this.decodeHtml(m):m,x=a?this.parseEmoji(C):C,V=this.parseMarked(x,d,s);return c?V:this.sanitizeHtml(V)}render(r,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:d,mermaidOptions:p}=o;l&&this.renderKatex(r,{...this.DEFAULT_KATEX_OPTIONS,...c}),d&&this.renderMermaid(r,{...this.DEFAULT_MERMAID_OPTIONS,...this.mermaidOptions,...p}),s&&this.renderClipboard(r,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),this.highlight(r)}reload(){this._reload$.next()}getSource(r){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(r,{responseType:"text"}).pipe(rr(o=>this.handleExtension(r,o)))}highlight(r){if(!tf(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;r||(r=document);const o=r.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(r)}decodeHtml(r){if(!tf(this.platform))return r;const o=document.createElement("textarea");return o.innerHTML=r,o.value}extendsRendererForExtensions(r){const o=r;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&gr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),r}extendsRendererForMermaid(r){const o=r;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return r;const i=r.code;return r.code=s=>"mermaid"===s.lang?`<div class="mermaid">${s.text}</div>`:i(s),o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,r}handleExtension(r,o){const i=r.lastIndexOf("://"),s=i>-1?r.substring(i+4):r,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),d=c>-1?l.substring(c+1):"";return d&&"md"!==d?"```"+d+"\n"+o+"\n```":o}parseMarked(r,o,i=!1){if(o.renderer){const s={...o.renderer};delete s.\u0275NgxMarkdownRendererExtendedForExtensions,delete s.\u0275NgxMarkdownRendererExtendedForMermaid,delete o.renderer,gr.use({renderer:s})}return i?gr.parseInline(r,o):gr.parse(r,o)}parseEmoji(r){if(!tf(this.platform))return r;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(r)}renderKatex(r,o){if(tf(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(r,o)}}renderClipboard(r,o,i){if(!tf(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=r.querySelectorAll("pre");for(let c=0;c<l.length;c++){const d=l.item(c),p=document.createElement("div");p.style.position="relative",d.parentNode.insertBefore(p,d),p.appendChild(d);const m=document.createElement("div");let C,x;if(m.classList.add("markdown-clipboard-toolbar"),m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.zIndex="1",p.insertAdjacentElement("beforeend",m),p.onmouseenter=()=>m.classList.add("hover"),p.onmouseleave=()=>m.classList.remove("hover"),s){const V=o.createComponent(s);C=V.hostView,V.changeDetectorRef.markForCheck()}else if(a)C=o.createEmbeddedView(a);else{const V=o.createComponent(A2);C=V.hostView,V.changeDetectorRef.markForCheck()}C.rootNodes.forEach(V=>{m.appendChild(V),x=new ClipboardJS(V,{text:()=>d.innerText})}),C.onDestroy(()=>x.destroy())}}renderMermaid(r,o=this.DEFAULT_MERMAID_OPTIONS){if(!tf(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=r.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(r){if(!r)return"";let o;return r.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}sanitizeHtml(r){var o=this;return(0,M.A)(function*(){return function kte(e){return"function"==typeof e}(o.sanitize)?o.sanitize(yield r):o.sanitize!==ks.NONE?o.sanitizer.sanitize(o.sanitize,r)??"":r})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Ate,8),se(M2,8),se(x2,8),se(xte,8),se(Dg),se(k2),se($S,8),se(SS))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac}))}return e(),t})(),_w=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(r){this._disableSanitizer=this.coerceBooleanProperty(r)}get inline(){return this._inline}set inline(r){this._inline=this.coerceBooleanProperty(r)}get clipboard(){return this._clipboard}set clipboard(r){this._clipboard=this.coerceBooleanProperty(r)}get emoji(){return this._emoji}set emoji(r){this._emoji=this.coerceBooleanProperty(r)}get katex(){return this._katex}set katex(r){this._katex=this.coerceBooleanProperty(r)}get mermaid(){return this._mermaid}set mermaid(r){this._mermaid=this.coerceBooleanProperty(r)}get lineHighlight(){return this._lineHighlight}set lineHighlight(r){this._lineHighlight=this.coerceBooleanProperty(r)}get lineNumbers(){return this._lineNumbers}set lineNumbers(r){this._lineNumbers=this.coerceBooleanProperty(r)}get commandLine(){return this._commandLine}set commandLine(r){this._commandLine=this.coerceBooleanProperty(r)}constructor(r,o,i){this.element=r,this.markdownService=o,this.viewContainerRef=i,this.error=new yn,this.load=new yn,this.ready=new yn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new jn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(qS(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(r){var o=this;return(0,M.A)(function*(i,s=!1){const a={decodeHtml:s,inline:o.inline,emoji:o.emoji,mermaid:o.mermaid,disableSanitizer:o.disableSanitizer},l={clipboard:o.clipboard,clipboardOptions:o.getClipboardOptions(),katex:o.katex,katexOptions:o.katexOptions,mermaid:o.mermaid,mermaidOptions:o.mermaidOptions},c=yield o.markdownService.parse(i,a);o.element.nativeElement.innerHTML=c,o.handlePlugins(),o.markdownService.render(o.element.nativeElement,l,o.viewContainerRef),o.ready.emit()}).apply(this,arguments)}coerceBooleanProperty(r){return null!=r&&"false"!=`${String(r)}`}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:r=>{this.render(r).then(()=>{this.load.emit(r)})},error:r=>this.error.emit(r)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,vw.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,vw.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(r){const o=r.match(/([A-Z])/g);if(!o)return r;let i=r.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(rt),y(yw),y(es))},this.\u0275cmp=Xe({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Ji],ngContentSelectors:Dte,decls:1,vars:0,template:function(o,i){1&o&&(bt(),yt(0))},encapsulation:2}))}return e(),t})();function Bte(e){return[yw,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],e?.mermaidOptions??[],e?.markedExtensions??[],Vte(e?.sanitize)??[]]}function Vte(e){return function jte(e){return null!=e&&null!=e.provide}(e)?e:{provide:k2,useValue:e??ks.HTML}}let bw=(()=>{var e;class t{static forRoot(r){return{ngModule:t,providers:[Bte(r)]}}static forChild(){return{ngModule:t}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({}))}return e(),t})(),R2=(()=>{var e;class t{constructor(){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-dummy"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(j(0,"div"),xe(1,"Dummy"),z())},encapsulation:2}))}return e(),t})(),N2=(()=>{var e;class t{constructor(r,o){this.linkApi=r,this.router=o}canActivate(r){return r.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!r.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(TS),se(Mi))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Hh=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({imports:[ec,bw.forChild(),Yc,zu,cy]}))}return e(),t})(),Ute=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({imports:[ec,zu,Yc,Hh,bw.forChild()]}))}return e(),t})(),Hte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({imports:[ec,zu,Yc,Hh]}))}return e(),t})(),Gte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({imports:[ec,zu,Yc,cy,Hh]}))}return e(),t})(),zte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({imports:[ec,zu,Yc,Hh,cy]}))}return e(),t})(),Wte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({imports:[ec,Yc,zu,cy,Hh]}))}return e(),t})();const qte=_.p+"assets/doc/about-0d56c8de99bbc738.md",O2=_.p+"assets/doc/CHANGELOG-a484e86e8e7ad2bf.md";function Zte(e,t){1&e&&(j(0,"div",5),nt(1,"ion-spinner"),z())}let Ku=(()=>{var e;class t{constructor(r){this.modalController=r,this.title="Help",this.loading=!0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(js))},this.\u0275cmp=Xe({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},standalone:!1,decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"load","src"],[1,"loader"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),z(),j(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.modalController.dismiss()}),xe(6,"Close"),z()()()(),j(7,"ion-content",2),nn(8,Zte,2,0,"div",3),j(9,"markdown",4),$e("load",function(){return i.loading=!1}),z()()),2&o&&(ue(3),Ps(i.title),ue(5),fe("ngIf",i.loading),ue(),fe("src",i.url))},dependencies:[Ao,_w,ss,as,ls,cs,Oh,us,ds],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}))}return e(),t})();function Xn(){return(e,t,n)=>{const r=n.value;let o=!1;return n.value=(0,M.A)(function*(...i){if(!o){o=!0;try{return yield r.apply(this,i)}finally{o=!1}}}),n}}const Yu="1.10.15-ab05434 (preview)",Xte=(new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked"),new Error("request for lock canceled"));class Jte{constructor(t,n=Xte){this._value=t,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,o)=>{const i={resolve:r,reject:o,weight:t,priority:n},s=F2(this._queue,a=>n<=a.priority);-1===s&&t<=this._value?this._dispatchItem(i):this._queue.splice(s+1,0,i)})}runExclusive(t){return function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(p){s(p)}}function l(d){try{c(r.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,arguments,void 0,function*(n,r=1,o=0){const[i,s]=yield this.acquire(r,o);try{return yield n(i)}finally{s()}})}waitForUnlock(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,n)?Promise.resolve():new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),function ene(e,t){const n=F2(e,r=>t.priority<=r.priority);e.splice(n+1,0,t)}(this._weightedWaiters[t-1],{resolve:r,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const n=this._value;this._value-=t.weight,t.resolve([n,this._newReleaser(t.weight)])}_newReleaser(t){let n=!1;return()=>{n||(n=!0,this.release(t))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];n&&(n.forEach(r=>r.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let n=this._value;n>0;n--){const r=this._weightedWaiters[n-1];if(!r)continue;const o=r.findIndex(i=>i.priority<=t);(-1===o?r:r.splice(0,o)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,n){return(0===this._queue.length||this._queue[0].priority<n)&&t<=this._value}}function F2(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}class Pa{constructor(t){this._semaphore=new Jte(1,t)}acquire(){return e=this,t=arguments,r=function*(t=0){const[,n]=yield this._semaphore.acquire(1,t);return n},new((n=void 0)||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(p){s(p)}}function l(d){try{c(r.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())});var e,t,n,r}runExclusive(t,n=0){return this._semaphore.runExclusive(()=>t(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}let hc=(()=>{var e;class t{constructor(){this._context=Di(void 0),this._session=Ui(()=>this._context()?.session),this._engine=Ui(()=>this._context()?.engine)}get session(){return this._session}get engine(){return this._engine}get context(){return this._context}setContext(r,o){this._context.set({session:r,engine:o})}clearContext(){this._context.set(void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var $2;class B2{constructor(t){this.markup=t}}class wr{constructor(t,n){this.alertController=t,this.emulationContext=n,this.emergencySaveEvent=new fn.J,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new B2(t)}errorMessage(t){var n=this;return(0,M.A)(function*(r,o="Close"){const i=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(r),buttons:[{text:o,role:"cancel"}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()}).apply(this,arguments)}message(t,n){var r=this;return(0,M.A)(function*(o,i,s={},a="Close"){const l=yield r.alertController.create({header:o,message:r.sanitizeMessage(i),backdropDismiss:!1,buttons:[{text:a,role:"cancel"},...Object.keys(s).map(c=>({text:c,handler:()=>{s[c](),l.dismiss()}}))],cssClass:"cpe-alert-message"});yield l.present(),yield l.onDidDismiss()}).apply(this,arguments)}messageWithChoice(t,n,r,o){var i=this;return(0,M.A)(function*(s,a,l,c,d={},p="Close"){const m=yield i.alertController.create({header:s,message:i.sanitizeMessage(a),backdropDismiss:!1,buttons:[{text:p,role:"cancel"},...Object.keys(d).map(C=>({text:C,handler:()=>{d[C](),m.dismiss()}}))],inputs:[{type:"checkbox",label:l,checked:!1,handler:C=>c=!0===C.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border cpe-alert-message"});return yield m.present(),yield m.onDidDismiss(),c}).apply(this,arguments)}updateAvailable(t){var n=this;return(0,M.A)(function*(){const r=yield n.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield r.present(),yield r.onDidDismiss()})()}fatalError(t){var n=this;return(0,M.A)(function*(r,o=!0){const i=!!n.emulationContext.session(),s=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${r}\n                <br/><br/>\n                Please close or reload this window.\n                ${i&&o?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...i&&o?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield s.present(),yield s.onDidDismiss()}).apply(this,arguments)}errorInNativeCode(t){var n=this;return(0,M.A)(function*(){const r=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}snapshotTimeout(){var t=this;return(0,M.A)(function*(){yield t.message("Timeout while saving state","Your browser's IndexedDB is either slow to respond or has crashed. You can either retry or reload CloudpilotEmu.",{Reload:()=>window.location.reload()},"Retry")})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new X0.I(t instanceof B2?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(n=>(this.sanitizeDiv.textContent=n,this.sanitizeDiv.innerHTML)).join("<br/>"))}static#e=$2=()=>(this.\u0275fac=function(n){return new(n||wr)(se(tw),se(hc))},this.\u0275prov=Qe({token:wr,factory:wr.\u0275fac,providedIn:"root"}))}$2(),oe([Xn()],wr.prototype,"updateAvailable",null),oe([Xn()],wr.prototype,"fatalError",null),oe([Xn()],wr.prototype,"errorInNativeCode",null),oe([Xn()],wr.prototype,"snapshotTimeout",null);const Tf=function one(){if(!_l)return 0;const e=navigator.userAgent.match(/cpe-native-api-(\d+)/);if(!e)return 0;const t=parseInt(e[1],10);return isNaN(t)?0:t}(),Cw=new fn.J;Tf>0&&(window.__cpeCallFromNative=e=>Cw.dispatch(e));let aa=(()=>{var e;class t{constructor(){this.netRpcResult=new fn.J,this.onNativeMessage=r=>{"netRpcResult"===r.type?this.netRpcResult.dispatch({sessionId:r.sessionId,rpcData:new Uint8Array(r.rpcData)}):console.error("unhandled native message",r)},Cw.addHandler(this.onNativeMessage)}ngOnDestroy(){Cw.removeHandler(this.onNativeMessage)}netOpenSession(){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netOpenSession"})}netCloseSession(r){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netCloseSession",sessionId:r})}netDispatchRpc(r,o){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netDispatchRpc",sessionId:r,rpcData:Array.from(o)}).then(i=>!!i)}clipboardRead(){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardRead"})}clipboardWrite(r){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardWrite",data:r})}isResumeFromBackground(){return void 0!==window.__cpeLastResume&&Date.now()-window.__cpeLastResume<=3e3}setWorkerRegistered(r){return(0,M.A)(function*(){Tf>2&&(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"setWorkerRegistered",workerRegistered:r}))})()}getWorkerFailed(){return(0,M.A)(function*(){return!(Tf<3||!(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"getWorkerFailed"})))})()}clearWorkerFailed(){Tf>2&&window.webkit.messageHandlers.nativeCall.postMessage({type:"clearWorkerFailed"})}assertNativeNetworkIntegrationSupported(){if(!t.supportsNativeNetworkIntegration())throw new Error("native network integration not supported")}assertNativeClipboardSupported(){if(!t.supportsNativeClipboard())throw new Error("native clipboard is not supported")}static supportsNativeNetworkIntegration(){return _l&&Tf>0}static supportsNativeClipboard(){return _l&&Tf>1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Ey=(()=>{var e;class t{constructor(r,o,i){var s=this;this.loadingController=r,this.alertService=o,this.nativeAppService=i,this.updateNativeAppRegistrationStatus=a=>this.updateNativeAppRegistrationStatusMutex.runExclusive(()=>this.nativeAppService.setWorkerRegistered(a)),this.register=()=>this.registerMutex.runExclusive((0,M.A)(function*(){if(s.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>s.reloadOnControllerChange&&window.location.reload()),yield new Promise(a=>setTimeout(a,3e3));try{s.setupRegistration(yield s.doRegister())}catch(a){console.error(a)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new Pa,this.updateNativeAppRegistrationStatusMutex=new Pa,this.updateAvailableEvent=new fn.J,this.register(),this.isEnabled()&&this.updateNativeAppRegistrationStatus(this.isRegistered())}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var r=this;return(0,M.A)(function*(){const o=yield r.loadingController.create();yield o.present();try{if(!(yield(yield navigator.serviceWorker.getRegistration())?.unregister()))throw new Error("failed to unregister worker");yield r.updateNativeAppRegistrationStatus(!1)}catch(i){return console.error(i),void(yield r.alertService.errorMessage("Failed to unregister service worker."))}finally{yield o.dismiss()}yield r.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var r=this;return(0,M.A)(function*(){r.registration&&r.registration.update()})()}activateUpdate(){var r=this;return(0,M.A)(function*(){r.registration?.waiting&&(yield(yield r.loadingController.create({message:"Updating..."})).present(),r.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}doRegister(){return(0,M.A)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(r){this.registration=r,r.waiting&&this.dispatchUpdate(),r.installing&&this.handleInstallingWorker(r.installing),r.addEventListener("updatefound",()=>r.installing&&this.handleInstallingWorker(r.installing))}handleInstallingWorker(r){let o=!1;r.addEventListener("statechange",()=>{"installed"!==r.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(fs),se(wr),se(aa))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const ane=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function j2(e){let t=-1;for(let n=0;n<e.length;n++)t=ane[255&(t^e[n])]^t>>>8;return~t}function Gh(e){switch(e){case q.i710:case q.m520:case q.te2:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case q.handera330:case q.handera330c:case q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case q.pegS300:case q.pegS320:case q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case q.pegT600c:case q.pegT400:case q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case q.pegN600c:case q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case q.pegNR70:case q.frankene2:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Sw(e){switch(e){case q.pilot:case q.palmPilot:case q.iii:case q.palmV:case q.palmVx:case q.iiix:case q.iiixe:case q.iiie:case q.m100:case q.m105:case q.m125:case q.m500:case q.palmVII:case q.palmVIIEZ:case q.palmVIIx:case q.i705:case q.handera330:case q.pegS300:case q.pegS320:case q.pegT400:case q.acerS11:return!1;default:return!0}}function V2(e){switch(e){case q.pilot:return"Pilot";case q.palmPilot:return"Palm Pilot";case q.iii:return"Palm III";case q.m500:return"Palm m500";case q.m505:return"Palm m505";case q.m515:return"Palm m515";case q.m520:return"Palm m520";case q.palmVx:return"Palm Vx";case q.iiix:return"Palm IIIx";case q.iiixe:return"Palm IIIxe";case q.iiie:return"Palm IIIe";case q.palmV:return"Palm V";case q.palmVII:return"Palm VII";case q.palmVIIEZ:return"Palm VII EZ";case q.palmVIIx:return"Palm VIIx";case q.iiic:return"Palm IIIc";case q.m100:return"Palm m100";case q.m105:return"Palm m105";case q.m125:return"Palm m125";case q.m130:return"Palm m130";case q.i705:return"Palm i705";case q.i710:return"Tungsten W";case q.handera330:return"Handera 330";case q.handera330c:return"Handera 330c";case q.pegS300:return"Sony PEG-S300";case q.pegS320:return"Sony PEG-S320";case q.pegT400:return"Sony PEG-T400 series";case q.pegN600c:return"Sony PEG-N600C series";case q.pegT600c:return"Sony PEG-T600C series";case q.pegN700c:return"Sony PEG-N700C series";case q.pegT650c:return"Sony PEG-T650C series";case q.pegNR70:return"Sony PEG-NR70 series";case q.pegS500c:return"Sony PEG-S500C series";case q.acerS11:return"Acer S1x series";case q.lp168:return"Legend P168";case q.te2:return"Tungsten E2";case q.frankene2:return"Tungsten E3";default:throw new Error("bad device ID")}}function ww(e){switch(e){case q.m500:case q.m505:case q.m515:case q.m520:case q.m125:case q.m130:case q.i705:case q.i710:case q.handera330:case q.handera330c:case q.te2:case q.frankene2:return"sdcard";case q.pegS300:case q.pegS500c:case q.pegS320:case q.pegT400:case q.pegN600c:case q.pegT600c:case q.pegN700c:case q.pegT650c:case q.pegNR70:case q.acerS11:return"memorystick";default:return"none"}}function Ew(e){switch(e){case q.te2:case q.frankene2:return"uarm";default:return"cloudpilot"}}function Dy(e){return"uarm"===Ew(e)?34603008:void 0}function U2(e){switch(e){case q.te2:case q.frankene2:return!0;default:return!1}}var dne=_(6243),fne=_.n(dne);const H2={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Dw;const pne=new Uint8Array(16),xi=[];for(let e=0;e<256;++e)xi.push((e+256).toString(16).slice(1));function gne(e,t,n){const r=(e=e||{}).random??e.rng?.()??function hne(){if(!Dw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Dw=crypto.getRandomValues.bind(crypto)}return Dw(pne)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)t[n+o]=r[o];return t}return function G2(e,t=0){return(xi[e[t+0]]+xi[e[t+1]]+xi[e[t+2]]+xi[e[t+3]]+"-"+xi[e[t+4]]+xi[e[t+5]]+"-"+xi[e[t+6]]+xi[e[t+7]]+"-"+xi[e[t+8]]+xi[e[t+9]]+"-"+xi[e[t+10]]+xi[e[t+11]]+xi[e[t+12]]+xi[e[t+13]]+xi[e[t+14]]+xi[e[t+15]]).toLowerCase()}(r)}const z2=function mne(e,t,n){return!H2.randomUUID||t||e?gne(e,t,n):H2.randomUUID()};let Xu=(()=>{var e;class t{constructor(r,o,i){this.alertService=r,this.nativeAppService=o,this.ngZone=i,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>{this.nativeAppService.isResumeFromBackground()?window.location.reload():this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1)},this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=s=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${s}.`),this.fatalInNativeCode=s=>this.fatalWithMessage(s.message,!0,!1),this.fatalWithMessage=(s,a=!0,l=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,a&&PN(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(s,l))}),this.fatalErrorEvent=new fn.J,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(wr),se(aa),se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Iy=(()=>{var e;class t{constructor(r){this.errorService=r,this.ownershipMmap=new Map}getOwner(r){return this.ownershipMmap.get(r)??"none"}claim(r,o){this.assertOwnership(r,"none"),this.ownershipMmap.set(r,o)}release(r,o){this.assertOwnership(r,o),this.ownershipMmap.delete(r)}assertOwnership(r,o){if(this.getOwner(r)===o)return;const i="none"===o?`Card already claimed for ${this.getOwner(r)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(r)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(r,o,i){this.assertOwnership(r,o),this.ownershipMmap.set(r,i)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Xu))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class Qu extends Error{constructor(t){super(t)}}const Qc="session",Af="rom",Jc="memory",gc="state",Ty="kvs",eu="memory-meta",Dl="storage",Fa="storage-card",zh="lock",tu="nand",Wh="session",Tw="memory",Z2="storage-meta",K2="storage-card";function Aw(){return(Aw=(0,M.A)(function*(e,t){function n(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(Wh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+n(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Mw(){return(Mw=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=t.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=n.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(n.put(r,"credentials"),n.delete("proxyCredentials"))})).apply(this,arguments)}function xw(){return(xw=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(Z2,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(Wh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(n.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function kw(){return(kw=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(Z2).name=K2})).apply(this,arguments)}function Rw(){return(Rw=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(K2).createIndex("storageId","storageId")})).apply(this,arguments)}function Nw(){return(Nw=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}function Ow(){return(Ow=(0,M.A)(function*(e,t){if(e.createObjectStore("nand"),!t)throw new Error("no version change transaction!");const r=t.objectStore(Wh).openCursor();return new Promise((o,i)=>{r.onsuccess=()=>{const s=r.result;if(!s)return void o();const a={engine:"cloudpilot",wasResetForcefully:!1,deviceOrientation:"portrait",hotsyncName:"",dontManageHotsyncName:!1,speed:1,...s.value};s.update(a),s.continue()},r.onerror=s=>i(s)})})).apply(this,arguments)}function lr(e){return new Promise((t,n)=>{!function Rne(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>n(new Qu(e.error?.message))})}function Y2(e){let t=255&e[0];t|=t<<8,t|=t<<16;const n=e.length;for(let r=0;r<n;r++)if(e[r]!==t)return e;return 255&e[0]}function Pw(e){const t=e[0],n=e.length;for(let r=1;r<n;r++)if(e[r]!==t)return e;return t}var X2;const Fw=new Error("page lock lost"),Q2=new Error("version mismatch"),J2=z2();function go(){return(e,t,n)=>{const r=n.value;return n.value=(0,M.A)(function*(...o){const i=this.errorService;try{return yield r.apply(this,o)}catch(s){throw console.error(s),s instanceof Qu?i?.fatalIDBDead():s===Q2?i?.fatalVersionMismatch():s===Fw?i?.fatalPageLockLost():s instanceof Error?i?.fatalBug(s?.message):i?.fatalBug("unknown reason"),s}}),n}}class tr{constructor(t,n,r){this.ngZone=t,this.errorService=n,this.storageCardContext=r,this.sessionChangeEvent=new fn.J,this.storageCardChangeEvent=new fn.J,this.sessionUpdateMutex=new Pa,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,{rom:n,memory:r,nand:o,state:i}){var s=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const a=fne()(n),l=yield s.newTransaction(Qc,Af,gc,Jc,eu,tu),c=l.objectStore(Qc),d=l.objectStore(Af);(yield lr(d.get(a)))||d.put(n,a);const{id:m,...C}=t,x=yield lr(c.add({...C,rom:a})),V=yield lr(c.get(x));return s.saveMemory(l,t.engine,V.id,r),s.saveNand(l,V.id,o),s.saveState(l,V.id,i),yield lr(l),V}))}getAllSessions(){var t=this;return(0,M.A)(function*(){const[n]=yield t.prepareObjectStore(Qc);return yield lr(n.getAll())})()}getSession(t){var n=this;return(0,M.A)(function*(){const[r]=yield n.prepareObjectStore(Qc);return yield lr(r.get(t))})()}deleteSession(t){var n=this;return(0,M.A)(function*(){const r=yield n.newTransaction(Qc,Af,gc,Jc,eu,tu),o=r.objectStore(Qc),i=r.objectStore(Af);(t=yield lr(o.get(t.id)))&&(o.delete(t.id),0===(yield lr(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),n.deleteMemory(r,t.id),n.deleteState(r,t.id),n.deleteNand(r,t.id),yield lr(r),n.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,n){var r=this;return this.sessionUpdateMutex.runExclusive((0,M.A)(function*(){const{id:o,rom:i,ram:s,device:a,engine:l,nand:c,...d}=n,[p,m]=yield r.prepareObjectStore(Qc),C=yield lr(p.get(t));if(!C)throw new Error(`no session with id ${t}`);const x={...C,...d};p.put(x),yield lr(m),r.sessionChangeEvent.dispatch([C.id,x])}))}updateSession(t){var n=this;return this.sessionUpdateMutex.runExclusive((0,M.A)(function*(){const[r,o]=yield n.prepareObjectStore(Qc),i=yield lr(r.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.engine!==t.engine)throw new Error("attempt to change session engine");if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");if(i.nand!==t.nand)throw new Error("attempt to change NAND size");r.put(t),yield lr(o),n.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,n){var r=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const o=yield r.newTransaction(Af,gc,Jc,eu,tu),i=o.objectStore(Af);return{rom:yield lr(i.get(t.rom)),memory:yield r.loadMemory(o,t.id,n),savestate:yield r.loadState(o,t.id),nand:yield r.loadNand(o,t.id,t.device)}}))}deleteStateForSession(t){var n=this;return(0,M.A)(function*(){const[r,o]=yield n.prepareObjectStore(gc);r.delete(t.id),yield lr(o)})()}addEmptyStorageCard(t){var n=this;return(0,M.A)(function*(){const[r]=yield n.prepareObjectStore(Fa),o=yield lr(r.add(t)),i=yield lr(r.get(o));return n.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,n){var r=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const o=yield r.newTransaction(Fa,Dl),i=o.objectStore(Fa),s=o.objectStore(Dl),a=yield lr(i.add(t));if("number"!=typeof a)throw new Error("invalid key");r.savePagedData(s,8192,Pw,a,0,new Uint8Array(n.buffer,n.byteOffset,n.byteLength));const l=yield lr(i.get(a));return yield lr(o),r.storageCardChangeEvent.dispatch(l.id),l}))}getAllStorageCards(){var t=this;return(0,M.A)(function*(){const[n]=yield t.prepareObjectStore(Fa);return lr(n.getAll())})()}getCard(t){var n=this;return(0,M.A)(function*(){const[r]=yield n.prepareObjectStore(Fa);return lr(r.get(t))})()}updateStorageCardPartial(t,n){var r=this;return(0,M.A)(function*(){const{storageId:o,size:i,id:s,...a}=n,[l,c]=yield r.prepareObjectStore(Fa),d=yield lr(l.get(t));if(!d)throw new Error(`no card with id ${t}`);const p={...d,...a};l.put(p),yield lr(c),r.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var n=this;return(0,M.A)(function*(){const r=yield n.newTransaction(Fa,Dl);n.storageCardContext.assertOwnership(t,"none");const o=r.objectStore(Fa),i=r.objectStore(Dl);o.delete(t),n.deletePagedData(i,t),yield lr(r),n.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,n,r){var o=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const i=yield o.newTransaction(Dl);o.storageCardContext.assertOwnership(t,r);const s=i.objectStore(Dl);yield o.loadPagedData(t,s,8192,0,n)}))}updateCardData(t,n,r,o){var i=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const s=yield i.newTransaction(Fa,Dl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Fa),l=s.objectStore(Dl),c=yield lr(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(n.length!==c.size>>>2)throw new Error("data size mismatch");const d=(c.size>>>13)+(c.size%8192>0?1:0);if((d>>>3)+(d%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let p=0;for(let m=0;m<r.length;m++)for(let C=1;C<256&&!(p>=d);C<<=1)r[m]&C&&l.put(n.subarray(2048*p,2048*(p+1)).slice(),[c.id,p]),p++;yield lr(s)}))}kvsGet(t){var n=this;return(0,M.A)(function*(){const[r]=yield n.prepareObjectStore(Ty);return lr(r.get(t))})()}kvsSet(t){var n=this;return(0,M.A)(function*(){const[r,o]=yield n.prepareObjectStore(Ty);for(const i of Object.keys(t))r.put(t[i],i);yield lr(o)})()}kvsLoad(){var t=this;return(0,M.A)(function*(){const[n]=yield t.prepareObjectStore(Ty);return new Promise((r,o)=>{const i={},s=n.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Qu(s.error?.message))})})()}kvsDelete(t){var n=this;return(0,M.A)(function*(){const[r,o]=yield n.prepareObjectStore(Ty);r.delete(t),yield lr(o)})()}acquireLock(t){var n=this;return(0,M.A)(function*(){if(n.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield lr(t.objectStore(zh).get(0)))!==J2)throw t.abort(),t.db.close(),Fw})()}newTransaction(...t){var n=this;return(0,M.A)(function*(){const r=(yield n.db).transaction([zh,...t],"readwrite",{durability:"relaxed"});return yield n.acquireLock(r),r})()}prepareObjectStore(t){var n=this;return(0,M.A)(function*(){const r=yield n.newTransaction(t);return[r.objectStore(t),r]})()}loadState(t,n){return lr(t.objectStore(gc).get(n))}saveState(t,n,r){const o=t.objectStore(gc);r?o.put(r,n):o.delete(n)}deleteState(t,n){t.objectStore(gc).delete(n)}loadMemory(t,n,r){return(0,M.A)(function*(){const o=t.objectStore(eu),i=yield lr(o.get(n));if(!i)return;const s=yield new Promise(function(){var a=(0,M.A)(function*(l,c){const d=t.objectStore(Jc),p=new Uint32Array(i.totalSize>>>2),m=d.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));m.onsuccess=()=>{const C=m.result;if(!C)return l(new Uint8Array(p.buffer));const x=C.value,[,V]=C.key;"number"==typeof x?p.subarray(256*V,256*(V+1)).fill(x|x<<8|x<<16|x<<24):p.subarray(256*V,256*(V+1)).set(1024===x.length?new Uint32Array(x.buffer):x),C.continue()},m.onerror=()=>c(new Qu(m.error?.message))});return function(l,c){return a.apply(this,arguments)}}());if(void 0!==i.crc32&&r&&i.crc32!==j2(s))throw new Error("snapshot CRC mismatch");return s})()}saveMemory(t,n,r,o){const i=t.objectStore(Jc),s=t.objectStore(eu);s.delete(r),o&&s.put({sessionId:r,totalSize:o.length}),this.savePagedData(i,1024,Y2,r,0,o)}deleteMemory(t,n){const r=t.objectStore(Jc),o=t.objectStore(eu);this.deletePagedData(r,n),o.delete(n)}saveNand(t,n,r){this.savePagedData(t.objectStore(tu),4224,Pw,n,255,r)}loadNand(t,n,r){var o=this;return(0,M.A)(function*(){const i=Dy(r);if(void 0===i)return;const s=new Uint8Array(i),a=new Uint32Array(s.buffer),l=t.objectStore(tu);return yield o.loadPagedData(n,l,4224,255,a),s})()}deleteNand(t,n){this.deletePagedData(t.objectStore(tu),n)}savePagedData(t,n,r,o,i,s){if(i=i|i<<8|i<<16|i<<24,t.delete(IDBKeyRange.bound([o,0],[o+1,0],!1,!0)),!s)return;const a=new Uint32Array(s.buffer,s.byteOffset,s.byteLength>>>2),l=n>>>2,c=(s.length/n|0)+(s.length%n===0?0:1),d=new Uint32Array(l);for(let p=0;p<c;p++){let m=a.subarray(p*l,(p+1)*l);p===c-1&&(d.set(m),m=d);const C=r(m);"number"==typeof C&&(0|C)===i||t.put("number"==typeof C?C:C.slice(),[o,p])}}loadPagedData(t,n,r,o,i){const s=r>>>2;return i.fill(o=o|o<<8|o<<16|o<<24),new Promise((a,l)=>{const c=n.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));c.onsuccess=()=>{const d=c.result;if(!d)return a();let p=d.value;const[,m]=d.key;if("number"==typeof p)i.subarray(m*s,(m+1)*s).fill(p);else{if((m+1)*s>i.length){if((m+1)*s>i.length+s)throw new Error("bad page index");p=p.subarray(0,s-(m+1)*s+i.length)}i.subarray(m*s,(m+1)*s).set(p)}d.continue()},c.onerror=()=>l(new Qu(c.error?.message))})}deletePagedData(t,n){t.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0))}initializeLock(t){return(0,M.A)(function*(){const n=t.transaction(zh,"readwrite");yield lr(n.objectStore(zh).put(J2,0))})()}setupDb(){var t=this;return(0,M.A)(function*(){const n=setTimeout(()=>bo&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(n),o&&void 0!==o.version&&o.version>10)throw Q2}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",10);s.onerror=()=>{i(new Qu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new Qu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,M.A)(function*(l){clearTimeout(n),l.oldVersion<1&&function wne(e){e.createObjectStore(Wh,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function Ene(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(Tw)&&e.deleteObjectStore(Tw),t.objectStore(Wh).clear(),e.createObjectStore("rom"),e.createObjectStore(Tw),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function Dne(e,t){return Aw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function Ine(e,t){return Mw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function Tne(e,t){return xw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function Ane(e,t){return kw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function Mne(e,t){return Rw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function xne(e,t){return Nw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<10&&(yield function kne(e,t){return Ow.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(r),r}finally{clearTimeout(n)}})()}requestPersistentStorage(){return(0,M.A)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}static#e=X2=()=>(this.\u0275fac=function(n){return new(n||tr)(se(We),se(Xu),se(Iy))},this.\u0275prov=Qe({token:tr,factory:tr.\u0275fac,providedIn:"root"}))}X2(),oe([go()],tr.prototype,"addSession",null),oe([go()],tr.prototype,"getAllSessions",null),oe([go()],tr.prototype,"getSession",null),oe([go()],tr.prototype,"deleteSession",null),oe([go()],tr.prototype,"updateSessionPartial",null),oe([go()],tr.prototype,"updateSession",null),oe([go()],tr.prototype,"loadSession",null),oe([go()],tr.prototype,"deleteStateForSession",null),oe([go()],tr.prototype,"addEmptyStorageCard",null),oe([go()],tr.prototype,"importStorageCard",null),oe([go()],tr.prototype,"getAllStorageCards",null),oe([go()],tr.prototype,"getCard",null),oe([go()],tr.prototype,"updateStorageCardPartial",null),oe([go()],tr.prototype,"deleteStorageCard",null),oe([go()],tr.prototype,"loadCardData",null),oe([go()],tr.prototype,"updateCardData",null),oe([go()],tr.prototype,"kvsGet",null),oe([go()],tr.prototype,"kvsSet",null),oe([go()],tr.prototype,"kvsLoad",null),oe([go()],tr.prototype,"kvsDelete",null),oe([go()],tr.prototype,"newTransaction",null),oe([go()],tr.prototype,"prepareObjectStore",null),oe([go()],tr.prototype,"initializeLock",null),oe([go()],tr.prototype,"setupDb",null);const eL={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,networkRedirectionMode:aa.supportsNativeNetworkIntegration()?"native":"proxy",proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Gi=(()=>{var e;class t{constructor(r){var o=this;this.storageService=r,this.set=i=>this.storageMutex.runExclusive((0,M.A)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new fn.J,this.mutex=new Pa,this.storageMutex=new Pa,this.initializationPromise=this.startInitialization().then(()=>this.migrate())}initialize(){var r=this;return(0,M.A)(function*(){return r.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialization(){var r=this;return(0,M.A)(function*(){const o=r;try{const i={...eL,...yield r.storageService.kvsLoad()};r.rawKvs=i,r.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,M.A)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),r.kvsProxy={...eL}}})()}migrate(){var r=this;return(0,M.A)(function*(){switch(r.kvs.networkRedirectionMode){case"native":aa.supportsNativeNetworkIntegration()||(yield r.set({networkRedirectionMode:"proxy",networkRedirection:!1}));break;case"proxy":break;default:yield r.set({networkRedirectionMode:"proxy"})}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const tL='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',Pne=`\n    You can install CloudpilotEmu as an app either from the\n    ${tL} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,Lne=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${tL} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let Ay=(()=>{var e;class t{constructor(r,o){var i=this;this.kvsService=r,this.alertService=o,this.serviceWorkerKeepalive=(0,M.A)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch(s){console.error(s)}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(bo||wS)&&"web"===this.installationMode}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(bo||wS||rf)&&"web"===this.installationMode&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,Object.prototype.hasOwnProperty.call(window,"onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return bo?Pne:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return bo?Lne:rf?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?"pwa":document.referrer.startsWith("android-app://")?"twa":window.matchMedia("(display-mode: standalone)").matches?"pwa":"web"}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Gi),se(wr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Bne(e,t){if(1&e){const n=wn();j(0,"ion-button",1),$e("click",function(){return ft(n),pt(it().onClick())}),nt(1,"ion-icon",2),z()}if(2&e){const n=it();ue(),fe("name",n.iconName)}}let My=(()=>{var e;class t{constructor(r){this.pwaService=r}onClick(){this.pwaService.install()}get iconName(){return bo?"logo-apple-appstore":wS?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Ay))},this.\u0275cmp=Xe({type:t,selectors:[["app-pwa-prompt"]],standalone:!1,decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(o,i){1&o&&nn(0,Bne,2,1,"ion-button",0),2&o&&fe("ngIf",i.show)},dependencies:[Ao,ss,zo],encapsulation:2}))}return e(),t})();var nL;function jne(e,t){1&e&&(j(0,"div",11),nt(1,"ion-spinner"),z())}function Vne(e,t){if(1&e){const n=wn();j(0,"div"),xe(1,"app cached for offline use"),z(),j(2,"a",9),$e("click",function(){return ft(n),pt(it().resetWorker())}),xe(3,"reset worker"),z()}}class qh{constructor(t,n){this.modalController=t,this.serviceWorkerService=n,this.loading=!0}get version(){return Yu}get url(){return qte}showChangelog(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:Ku,componentProps:{url:O2,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,M.A)(function*(){yield t.serviceWorkerService.reset()})()}static#e=nL=()=>(this.\u0275fac=function(n){return new(n||qh)(y(js),y(Ey))},this.\u0275cmp=Xe({type:qh,selectors:[["app-about"]],standalone:!1,decls:21,vars:7,consts:[[3,"translucent"],["slot","secondary"],[3,"fullscreen"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"load","src","disableSanitizer"],[1,"version"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,r){1&n&&(j(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),xe(3,"About"),z(),j(4,"ion-buttons",1),nt(5,"app-pwa-prompt"),z()()(),j(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),xe(10,"About"),z()()(),nn(11,jne,2,0,"div",5),j(12,"div",6)(13,"markdown",7),$e("load",function(){return r.loading=!1}),z()(),j(14,"div",8),xe(15),nt(16,"br"),j(17,"a",9),$e("click",function(){return r.showChangelog()}),xe(18,"Changelog"),z(),Wd(19,Vne,4,0),z(),nt(20,"img",10),z()),2&n&&(fe("translucent",!0),ue(6),fe("fullscreen",!0),ue(5),fe("ngIf",r.loading),ue(2),fe("src",r.url)("disableSanitizer",!0),ue(2),hi(" CloudpilotEmu version ",r.version," "),ue(4),qd(r.serviceWorkerAvailable?19:-1))},dependencies:[Ao,as,ls,cs,Oh,us,ds,My,_w],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:1em;margin-right:1em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}))}nL(),oe([Xn()],qh.prototype,"resetWorker",null);const Une=_.p+"assets/doc/emulation-43714ce6b9b92f30.md";function Hne(e,t){if(1&e){const n=wn();j(0,"ion-item",2),$e("click",function(){const o=ft(n).$implicit;return pt(it(2).onSelect(o))}),j(1,"div",3),xe(2),z()()}if(2&e){const n=t.$implicit,r=t.index,o=it(2);fe("detail",!1)("lines",r===o.sessions.length-1?"none":"full"),ue(2),Ps(n.name)}}function Gne(e,t){if(1&e&&(j(0,"ion-list"),nn(1,Hne,3,3,"ion-item",1),z()),2&e){const n=it();ue(),fe("ngForOf",n.sessions)}}let zne=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[1,"text-wrapper"]],template:function(o,i){1&o&&nn(0,Gne,2,1,"ion-list",0),2&o&&fe("ngIf",i.sessions)},dependencies:[Jl,Ao,Mo,sa],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}))}return e(),t})();var kr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(kr||{});function Zh(e){let t,n,r=!1;return o=>((!r||o!==t)&&(t=o,r=!0,n=e(o)),n)}function Wne(e){switch(e.engine){case"cloudpilot":return{name:"",deviceOrientation:kr.portrait,hotsyncName:"",dontManageHotsyncName:!1,speed:1,...e};case"uarm":return{name:"",deviceOrientation:kr.portrait,disableAudio:!1,maxHostLoad:1,targetMips:100,warnSlowdownThreshold:.5,...e};default:throw new Error("unreachable")}}function oL(e){switch(e.engine){case"cloudpilot":{const{engine:t,name:n,deviceOrientation:r,hotsyncName:o,dontManageHotsyncName:i,speed:s}=e;return{engine:t,name:n,deviceOrientation:r,hotsyncName:o,dontManageHotsyncName:i,speed:s}}case"uarm":{const{engine:t,name:n,deviceOrientation:r,targetMips:o,disableAudio:i,warnSlowdownThreshold:s,maxHostLoad:a}=e;return{engine:t,name:n,deviceOrientation:r,targetMips:o,disableAudio:i,warnSlowdownThreshold:s,maxHostLoad:a}}default:throw new Error("unreachable")}}function iL(e,t){if(e.engine!==t.engine)throw new Error("engine mismatch");return{...e,...t}}function sL(e,t){switch(e){case"cloudpilot":return{engine:e,name:t?.name??"",deviceOrientation:t?.deviceOrientation??kr.portrait,hotsyncName:t?.hotsyncName??"",dontManageHotsyncName:t?.dontManageHotsyncName??!1,speed:t?.speed??1};case"uarm":return{engine:e,name:t?.name??"",deviceOrientation:t?.deviceOrientation??kr.portrait,disableAudio:t?.disableAudio??!1,maxHostLoad:t?.maxHostLoad??1,targetMips:t?.targetMips??100,warnSlowdownThreshold:t?.warnSlowdownThreshold??.5};default:throw new Error("unreachable")}}function Mf(e,t){let n=e,r=1;for(;t(n);)n=`${e} (${r++})`;return n}function Ju(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function aL(e){return`${Ju(e.name)}.img`}function lL(e,t){return`backup_${Ju(e.name)}${t?"_with_rom":""}.zip`}function jw(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}function cL(e){switch(e.engine){case"cloudpilot":{const{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}case"uarm":{const{name:t,osVersion:n,deviceOrientation:r,disableAudio:o,targetMips:i,warnSlowdownThreshold:s,maxHostLoad:a}=e;return{name:t,osVersion:n,deviceOrientation:r,disableAudio:o,targetMips:i,warnSlowdownThreshold:s,maxHostLoad:a}}default:throw new Error("unreachable")}}const Kh=new tt("emulator lock"),xy=new tt("cloudpilot instance"),uL=new tt("uarm module");let Yh=(()=>{var e;class t{constructor(r){this.cloudpilot=r}ramSizeForDevice(r,o){var i=this;return(0,M.A)(function*(){switch(r){case q.te2:case q.frankene2:{const s=(yield i.cloudpilot).getRomInfo(o);if("uarm"!==s?.engine)throw new Error(`${r} is OS5, but ROM is invalid`);return s.recommendedRamSize}default:return(yield i.cloudpilot).minRamForDevice(r)}})()}serializeSessionImage(r){return this.cloudpilot.then(o=>o.serializeSessionImage(r))}deserializeSessionImage(r){return this.cloudpilot.then(o=>o.deserializeSessionImage(r))}deviceSupportsCard(r,o){var i=this;return(0,M.A)(function*(){const s=ww(r);if("none"===s)return!1;switch((yield i.cloudpilot).getCardSupportLevel(o)){case 2:return!0;case 1:return"sdcard"===s;default:return!1}})()}getRomInfo(r){return this.cloudpilot.then(o=>o.getRomInfo(r))}getCardSupportLevel(r){return this.cloudpilot.then(o=>o.getCardSupportLevel(r))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(xy))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var Xne=_(6778),xf=_.n(Xne);const Vw=524288;class Uw{constructor(t,n){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(n))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const r=new t.FSTools;this.chunkBufferPtr=r.Malloc(Vw),t.destroy(r)}static create(t,n){return(0,M.A)(function*(){return new Uw(yield xf()({print:r=>console.log(r),printErr:r=>console.warn(r),instantiateWasm:n}),t)})()}addEntry(t,n){var r=this;return(0,M.A)(function*(){if(!r.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${r.nativeContext.GetLastError()}`);const o=r.module.getPointer(r.chunkBufferPtr);for(let i=0;i<n.length;i+=Vw){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(n.length-i,Vw);if(r.module.HEAPU8.subarray(o,o+s).set(n.subarray(i,i+s)),!r.nativeContext.WriteData(r.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${r.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class Hw{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,M.A)(function*(){return new Hw(yield xf()({print:n=>console.log(n),printErr:n=>console.warn(n),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==n)return this.module.HEAPU32.subarray(n>>>2,n+t>>>2)}}class Gw{constructor(t,n){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(n>>>9)}static create(t,n){return(0,M.A)(function*(){const r=yield xf()({print:o=>console.log(o),printErr:o=>console.warn(o),instantiateWasm:n});return new Gw(r,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(n>>>2,n+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),n=m0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+n)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class ky{constructor(t,n){this.module=t,n&&this.initialize(n)}static create(t,n){return(0,M.A)(function*(){const r=yield xf()({print:o=>console.log(o),printErr:o=>console.warn(o),instantiateWasm:t});return new ky(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t.length);const r=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(r,r+t.length).set(t),this.module.destroy(n),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,M.A)(function*(){const n=t.getNativeContext();for(;0===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gunzip failed: ${n.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),n=t.GetUncompressedSize(),r=t.GetUncompressedData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class zw{constructor(t,n){this.module=t,void 0!==n&&this.initialize(n)}static create(t,n){return(0,M.A)(function*(){const r=yield xf()({print:o=>console.log(o),printErr:o=>console.warn(o),instantiateWasm:t});return new zw(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(n),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,M.A)(function*(){const n=t.getNativeContext();for(n.Continue();1===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gzip failed: ${n.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),n=t.GetGzipSize(),r=t.GetGzipData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const dL=new Map;class ere{constructor(t){let n=dL.get(t);n||(n=function tY(e){const t=TP(e);return(n,r)=>{t.then(o=>WebAssembly.instantiate(o,n)).then(o=>r(o))}}(t),dL.set(t,n)),this.instantiante=n}mkfs(t){var n=this;return(0,M.A)(function*(){const r=yield Hw.create(n.instantiante);if(r.mkfs(t))return r.getImage()})()}gunzip(t){var n=this;return(0,M.A)(function*(){const r=yield ky.create(n.instantiante,t);if(yield r.gunzip())return r.getDecompressedData()})()}createGunzipContext(t){return ky.create(this.instantiante,t)}createGzipContext(t){return zw.create(this.instantiante,t)}createFsckContext(t){return Gw.create(t,this.instantiante)}createZipContext(t){return Uw.create(t,this.instantiante)}createZipfileWalker(t){var n=this;return(0,M.A)(function*(){const r=yield xf()({print:a=>console.log(a),printErr:a=>console.warn(a),instantiateWasm:n.instantiante}),o=new r.FSTools,i=o.Malloc(t.length),s=r.getPointer(i);return r.HEAPU8.subarray(s,s+t.length).set(t),r.destroy(o),EP(new r.ZipfileWalker(t.length,i),r)})()}}const tre=_.p+"wasm/fstools_web-0a9aa5c041d6d048.wasm";let Ry=(()=>{var e;class t extends ere{constructor(){super(tre)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function nre(e,t){1&e&&(j(0,"p",9),xe(1,"ERROR: URL must be served via HTTPS."),z())}function rre(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(af())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let ore=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.continue()}continue(){this.onContinue(new(af())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const r=this.formGroup.get("url")?.value;if(!r)return!1;try{const o=new(af())(r);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new ey({url:new Lr("",rre)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},standalone:!1,decls:19,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","URL","labelPlacement","stacked","placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Enter download URL"),z(),j(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.continue()}),xe(6,"OK"),z()(),j(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),z()()()(),j(10,"ion-content",4)(11,"form",5),$e("keydown",function(a){return i.formKeyDown(a)}),j(12,"p"),xe(13,"Please enter the URL from which to download:"),z(),j(14,"ion-item",6),nt(15,"ion-input",7),z(),nn(16,nre,2,0,"p",8),j(17,"p"),xe(18,"Note that the remote server needs to support the CORS protocol."),z()()()),2&o&&(ue(5),fe("disabled",i.formGroup.invalid),ue(6),fe("formGroup",i.formGroup),ue(5),fe("ngIf",i.isMixedContent))},dependencies:[Ao,ss,as,ls,cs,uc,Mo,us,ds,cc,lc,sc,ac,Oa,wl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}))}return e(),t})(),ire=(()=>{var e;class t{constructor(r){this.kvs=r,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const r=this.kvs.kvs.credentials[this.origin];this.formGroup=new ey({username:new Lr(r?.username??""),password:new Lr(r?.password??"")})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Gi))},this.\u0275cmp=Xe({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},standalone:!1,decls:18,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","Username","labelPlacement","stacked","placeholder","Enter username","formControlName","username"],["label","Password","labelPlacement","stacked","placeholder","Enter password","formControlName","password","type","password"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Authenticate"),z(),j(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.saveAndContinue()}),xe(6,"OK"),z()(),j(7,"ion-buttons",2)(8,"ion-button",1),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),z()()()(),j(10,"ion-content",3)(11,"form",4),$e("keydown",function(a){return i.formKeyDown(a)}),j(12,"p"),xe(13,"The server requires authentication."),z(),j(14,"ion-item",5),nt(15,"ion-input",6),z(),j(16,"ion-item",5),nt(17,"ion-input",7),z()()()),2&o&&(ue(11),fe("formGroup",i.formGroup))},dependencies:[ss,as,ls,cs,uc,Mo,us,ds,cc,lc,sc,ac,Oa,wl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}))}return e(),t})(),fL=(()=>{var e;class t{constructor(r,o,i){this.loadingController=r,this.kvsService=o,this.modalController=i}fetch(r,o){var i=this;return(0,M.A)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(af())("string"==typeof r?r:r.url);let c,d,p=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===d?d=window.setTimeout(()=>c?.present(),s):c.present();const m=i.kvsService.kvs.credentials[l.origin],C=new AbortController,x=window.setTimeout(()=>C.abort(),a),V=yield fetch(r,{...i.requestInit(o),signal:C.signal,headers:{...o?.headers||{},...p&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(x),401===V.status){if(!p&&m){p=!0;continue}if(c?.dismiss(),clearTimeout(d),s=0,c=void 0,s=void 0,p=!0,yield i.authenticate(l.origin))continue}return V}finally{c&&(yield c.dismiss()),clearTimeout(d)}})()}requestInit(r){if(!r)return;const{timeout:o,loaderDelay:i,...s}=r;return s}authenticate(r){var o=this;return(0,M.A)(function*(){const i=yield new Promise(s=>o.modalController.create({component:ire,backdropDismiss:!1,componentProps:{origin:r,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(fs),se(Gi),se(js))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Il=(()=>{var e;class t{constructor(r,o,i,s,a){this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a}openFile(r){this.openFilesImpl(!1,o=>{o.length>0&&r(o[0])})}openFiles(r){this.openFilesImpl(!0,r)}openFromDrop(r,o){"drop"!==r.type||!r.dataTransfer?.files||o(Array.from(r.dataTransfer.files).map(this.readFile.bind(this)))}saveFile(r,o,i="application/octet-stream"){this.saveBlob(r,new Blob([o],{type:i}))}saveBlob(r,o){const i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=r,s.click()}openUrl(r,o){var i=this;return(0,M.A)(function*(){let s,a;try{s=new(af())(r)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${r}`))}try{if(a=yield i.fetchService.fetch(r,{loaderDelay:-1}),!a.ok)throw new Error("request failed")}catch(c){return console.log(c),void(yield i.alertService.errorMessage(`Download from ${r} failed.`))}const l=a.arrayBuffer().then(c=>new Uint8Array(c));o({name:s.pathname.replace(/.*\//,""),getContent:()=>l})})()}openFilesImpl(r,o){var i=this;return(0,M.A)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(r,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(r,o)})()}queryAndOpenFileRemote(r){var o=this;return(0,M.A)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:ore,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>r([s]))})()}openFilesLocal(r,o){var i=this;const s=rf||IN;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=r,this.input.type="file",bo&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,M.A)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(r){let o;const i=function(){var s=(0,M.A)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(r)}),o)});return function(){return s.apply(this,arguments)}}();return{name:r.name,getContent:i}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Lh),se(Gi),se(js),se(wr),se(fL))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class pL extends Error{constructor(t){super(t)}}let nu=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.nativeSupportService=r,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this._sessions=Di([]),this._loading=Di(!0),this.updateMutex=new Pa,this.updateSessionsFromStorage().then(()=>this._loading.set(!1)),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}get loading(){return this._loading}addSessionFromImage(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.loadingController.create({message:"Importing..."});yield s.present();try{return yield i.doAddSessionFromImage(r,o)}finally{yield s.dismiss()}})()}addSessionsFromArchive(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.fsTools.createZipfileWalker(r);if(-1===s.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const a=s.GetTotalEntries(),l=new Set(o._sessions().map(m=>m.name));let c=1,d=!1;const p=[];for(;0===s.GetState();)try{i.message=`Importing ${c++}/${a}...`;const m=/\.(bin|img)$/i.test(s.GetCurrentEntryName())?yield o.nativeSupportService.deserializeSessionImage(s.GetCurrentEntryContent()):void 0;if(!m)throw new pL(`${s.GetCurrentEntryName()} is not a valid session.`);const C=Mf(m.metadata?.name??s.GetCurrentEntryName(),x=>l.has(x));yield o.doAddSessionFromImage(m,{...sL(m.engine,m.metadata),name:C})}catch(m){if(!(m instanceof pL))throw m;p.push(s.GetCurrentEntryName()),d||(d=yield o.alertService.messageWithChoice("Error",m.message,"Skip further errors",d,{},"Continue"))}finally{s.Next()}p.length<=3&&p.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${p.join("<br>")}`):p.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${p.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${p.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(r,o,i,s){var a=this;return(0,M.A)(function*(){if(Ew(o)!==i.engine)throw new Error("settings do not match engine");if(s&&s?.length!==Dy(o))throw new Error("NAND size mismatch");const c={...i,id:-1,device:o,ram:(yield a.nativeSupportService.ramSizeForDevice(o,r))>>>20,rom:"",wasResetForcefully:!1,nand:Dy(o)},d=yield a.loadingController.create({message:"Importing..."});yield d.present();try{const p=yield a.storageService.addSession(c,{rom:r,nand:s});return yield a.updateSessionsFromStorage(),p}finally{d.dismiss()}})()}get sessions(){return this._sessions}deleteSession(r){var o=this;return(0,M.A)(function*(){yield o.storageService.deleteSession(r)})()}updateSession(r){var o=this;return(0,M.A)(function*(){yield o.storageService.updateSession(r)})()}saveSession(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(r);s?o.fileService.saveFile(aL(r),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of r){i.message=`Exporting ${l++}/${r.length}...`;const d=yield o.serializeSession(c);if(d){const p=Mf(c.name.replace(/[/\\]/,"_").substring(0,200),m=>a.has(m));a.add(p),yield s.addEntry(p+".img",d)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function qne(){return`${Ju("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(r,o,i,s,a){var l=this;return(0,M.A)(function*(){const c=yield l.loadingController.create({message:"Exporting..."});c.style.zIndex="10000000",yield c.present();try{const d={engine:r.engine,deviceId:r.device,metadata:cL(r),rom:o,memory:i,nand:s,savestate:a},p=yield l.nativeSupportService.serializeSessionImage(d);p&&l.fileService.saveFile(aL(r),p)}finally{c.dismiss()}})()}serializeSession(r){var o=this;return(0,M.A)(function*(){const{rom:i,memory:s,savestate:a,nand:l}=yield o.storageService.loadSession(r,!1);if(!i)throw new Error(`invalid ROM ${r.rom}`);const c={engine:r.engine,deviceId:r.device,metadata:cL(r),rom:i,memory:s,savestate:a,nand:l};return o.nativeSupportService.serializeSessionImage(c)})()}updateSessionsFromStorage(){var r=this;return(0,M.A)(function*(){r._sessions.set(yield r.updateMutex.runExclusive((0,M.A)(function*(){return(yield r.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}doAddSessionFromImage(r,o){var i=this;return(0,M.A)(function*(){if(o.engine!==r.engine)throw new Error("settings do not match session type");const s={...o,id:-1,device:r.deviceId,ram:yield i.getRamSizeForSession(r),rom:"",osVersion:r?.metadata?.osVersion,wasResetForcefully:!1},a=yield i.storageService.addSession(s,{rom:r.rom,memory:r.memory,state:r.savestate,nand:r.nand});return yield i.updateSessionsFromStorage(),a})()}getRamSizeForSession(r){var o=this;return(0,M.A)(function*(){return"uarm"===r.engine&&r.memory?r.memory?.length>=32<<20?32:16:(yield o.nativeSupportService.ramSizeForDevice(r.deviceId,r.rom))>>>20})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Yh),se(tr),se(fs),se(Ry),se(wr),se(Il))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function are(e,t){if(1&e&&(j(0,"ion-select-option",11),xe(1),z()),2&e){const n=t.$implicit;fe("value",n[0]),ue(),hi("",n[1]," ")}}function lre(e,t){if(1&e&&(j(0,"ion-select-option",11),xe(1),z()),2&e){const n=t.$implicit;fe("value",n[0]),ue(),hi("",n[1]," ")}}function cre(e,t){if(1&e){const n=wn();j(0,"ion-item",6)(1,"div",12)(2,"ion-input",13),$e("click",function(){return ft(n),pt(it().onNandClick())}),z(),j(3,"ion-button",1),$e("click",function(){return ft(n),pt(it().onNandClearClick())}),xe(4," Clear "),z()()()}if(2&e){const n=it();ue(2),fe("readonly",!0),ue(),fe("disabled",!n.formControlNand.value)}}function ure(e,t){if(1&e){const n=wn();j(0,"h1"),xe(1,"Performance"),z(),j(2,"ion-item",6)(3,"ion-toggle",14),xe(4,"Disable audio emulation"),z()(),j(5,"ion-item",6)(6,"ion-range",15),$e("ionInput",function(o){return ft(n),pt(it().onTargetMipsDrag(o))})("ionKnobMoveEnd",function(){return ft(n),pt(it().targetMipsTransient=void 0)}),z()(),j(7,"ion-item",6)(8,"ion-range",16),$e("ionInput",function(o){return ft(n),pt(it().onWarnSlowdownThresholdDrag(o))})("ionKnobMoveEnd",function(){return ft(n),pt(it().warnSlowdownThresholdTransient=void 0)}),z()(),j(9,"ion-item",6)(10,"ion-range",17),$e("ionInput",function(o){return ft(n),pt(it().onMaxHostLoadDrag(o))})("ionKnobMoveEnd",function(){return ft(n),pt(it().maxHostLoadTransient=void 0)}),z()()}if(2&e){const n=it();ue(6),fe("label",Hp(n.targetMipsLabel)),ue(2),fe("label",Hp(n.warnSlowdownThresholdLabel)),ue(2),fe("label",Hp(n.maxHostLoadLabel))}}function dre(e,t){if(1&e){const n=wn();j(0,"ion-item",6)(1,"ion-range",18),$e("ionInput",function(o){return ft(n),pt(it().onSpeedDrag(o))})("ionKnobMoveEnd",function(){return ft(n),pt(it().speedTransient=void 0)}),z()()}if(2&e){const n=it();ue(),fe("label",Hp(n.speedLabel))}}function fre(e,t){1&e&&(j(0,"ion-item",6),nt(1,"ion-input",21),z())}function pre(e,t){if(1&e&&(j(0,"h1"),xe(1,"Hotsync"),z(),j(2,"ion-item",6)(3,"ion-toggle",19),xe(4,"Manage hotsync name"),z()(),nn(5,fre,2,0,"ion-item",20)),2&e){const n=it();ue(5),fe("ngIf",n.showHotsyncNameInput)}}let hL=(()=>{var e;class t{constructor(r,o,i,s){this.sessionService=r,this.alertService=o,this.fileService=i,this.loadingController=s,this.memoizedDevicelist=Zh(a=>a.map(l=>[l,V2(l)])),this.validateNameUnique=a=>a.value!==this.settings.name&&this.sessionService.sessions().some(l=>l.name===a.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[kr.portrait,"Portrait"],[kr.landscape90,"Landscape 90\xb0"],[kr.landscape270,"Landscape 270\xb0"],[kr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get formControlTargetMips(){return this.formGroup.get("targetMips")}get formControlWarnSlowdownThreshold(){return this.formGroup.get("warnSlowdownThreshold")}get formControlMaxHostLoad(){return this.formGroup.get("maxHostLoad")}get formControlDisableAudioEmulation(){return this.formGroup.get("disableAudioEmulation")}get formControlNand(){return this.formGroup.get("nand")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get isCloudpilot(){return"cloudpilot"===this.settings.engine}get isUarm(){return"uarm"===this.settings.engine}get deviceList(){return this.memoizedDevicelist(this.availableDevices)}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.settings.name=this.formControlName.value,this.settings.deviceOrientation=this.formControlOrientation.value,this.saveCloudpilot(),this.saveUarm(),this.onSave(this.formControlDevice.value,this.nand))}onEnter(){this.save()}get speedValue(){const r=this.speedTransient??this.formControlSpeed.value??0;return r>=0?1+r:1/(1-r)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function lne(e){switch(e){case q.palmPilot:case q.pilot:case q.iii:case q.palmVII:case q.palmVx:case q.palmV:case q.palmVIIEZ:case q.palmVIIx:case q.iiic:case q.iiix:case q.iiixe:case q.iiie:case q.m100:case q.m105:case q.pegS300:case q.pegS500c:return 16;case q.m500:case q.m505:case q.m515:case q.m520:case q.m125:case q.m130:case q.i705:case q.i710:case q.handera330:case q.handera330c:case q.pegS320:case q.pegT400:case q.pegN600c:case q.pegT600c:case q.pegN700c:case q.acerS11:return 33;case q.pegT650c:case q.pegNR70:case q.lp168:return 66;case q.te2:case q.frankene2:return 100}}(this.formControlDevice.value))}MHz`)}get targetMipsValue(){return this.targetMipsTransient??this.formControlTargetMips.value??100}get targetMipsLabel(){return`Target speed: ${this.targetMipsValue} MIPS`}get warnSlowdownThresholdValue(){return this.warnSlowdownThresholdTransient??this.formControlWarnSlowdownThreshold.value??50}get warnSlowdownThresholdLabel(){return`Minimum speed: ${this.warnSlowdownThresholdValue}%`}get maxHostLoadValue(){return this.maxHostLoadTransient??this.formControlMaxHostLoad.value??100}get maxHostLoadLabel(){return`Load limit: ${this.maxHostLoadValue}%`}onSpeedDrag(r){this.speedTransient=r.detail?.value}onTargetMipsDrag(r){this.targetMipsTransient=r.detail?.value}onWarnSlowdownThresholdDrag(r){this.warnSlowdownThresholdTransient=r.detail?.value}onMaxHostLoadDrag(r){this.maxHostLoadTransient=r.detail?.value}onNandClick(){var r=this;this.fileService.openFile(function(){var o=(0,M.A)(function*(i){const s=yield r.loadingController.create();let a;yield s.present();try{a=yield i.getContent()}catch(l){return console.warn(l),void(yield r.alertService.errorMessage(`Unable to open ${i.name}.`))}finally{s.dismiss()}a.length===r.selectNandSize?(r.nand=a,r.formControlNand.setValue(i.name)):r.alertService.errorMessage(`${i.name} is not a valid NAND image.`)});return function(i){return o.apply(this,arguments)}}())}onNandClearClick(){this.nand=void 0,this.formControlNand.setValue(void 0)}createFormGroup(){this.formGroup=new ey({name:new Lr(this.settings.name,{validators:[bh.required,this.validateNameUnique]}),device:new Lr({value:this.device,disabled:1===this.availableDevices.length}),orientation:new Lr(this.settings.deviceOrientation),manageHotsyncName:new Lr("cloudpilot"===this.settings.engine&&!this.settings.dontManageHotsyncName),hotsyncName:new Lr("cloudpilot"===this.settings.engine?this.settings.hotsyncName:""),speed:new Lr("cloudpilot"===this.settings.engine?this.settings.speed>=1?this.settings.speed-1:1-1/this.settings.speed:0),targetMips:new Lr("uarm"===this.settings.engine?this.settings.targetMips:0),warnSlowdownThreshold:new Lr("uarm"===this.settings.engine?Math.round(100*this.settings.warnSlowdownThreshold):0),maxHostLoad:new Lr("uarm"===this.settings.engine?Math.round(100*this.settings.maxHostLoad):0),disableAudioEmulation:new Lr("uarm"===this.settings.engine&&this.settings.disableAudio),nand:new Lr})}saveCloudpilot(){"cloudpilot"===this.settings.engine&&(this.formControlManageHotsyncName.value?this.settings.dontManageHotsyncName?(this.settings.dontManageHotsyncName=!1,this.settings.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.settings.hotsyncName=this.formControlHotsyncName.value||this.settings.hotsyncName:this.settings.dontManageHotsyncName=!0,this.settings.speed=this.speedValue)}saveUarm(){"uarm"===this.settings.engine&&(this.settings.targetMips=this.targetMipsValue,this.settings.warnSlowdownThreshold=this.warnSlowdownThresholdValue/100,this.settings.maxHostLoad=this.maxHostLoadValue/100,this.settings.disableAudio=this.formControlDisableAudioEmulation.value)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(nu),y(wr),y(Il),y(fs))},this.\u0275cmp=Xe({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",settings:"settings",availableDevices:"availableDevices",device:"device",selectNandSize:"selectNandSize"},standalone:!1,decls:28,vars:12,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Session name","labelPlacement","stacked","placeholder","Enter session name","formControlName","name"],["label","Device type","labelPlacement","stacked","formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["label","Orientation","labelPlacement","stacked","formControlName","orientation"],[3,"value"],[1,"nand-container"],["label","NAND flash contents","labelPlacement","stacked","placeholder","blank","formControlName","nand","tabindex","-1",1,"input-nand",3,"click","readonly"],["labelPlacement","fixed","formControlName","disableAudioEmulation"],["labelPlacement","fixed","min","20","max","300","step","1","snaps","true","ticks","false","formControlName","targetMips",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","0","max","100","step","1","snaps","true","ticks","false","formControlName","warnSlowdownThreshold",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","10","max","100","step","1","snaps","true","ticks","false","formControlName","maxHostLoad",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],["label","Hotsync name","labelPlacement","stacked","placeholder","Enter hotsync name","formControlName","hotsyncName","maxlength","40"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Session settings"),z(),j(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.save()}),xe(6,"Save"),z()(),j(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),z()()()(),j(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),j(12,"h1"),xe(13,"Session"),z(),j(14,"ion-item",6),nt(15,"ion-input",7),z(),j(16,"h1"),xe(17,"Device"),z(),j(18,"ion-item",6)(19,"ion-select",8),nn(20,are,2,2,"ion-select-option",9),z()(),j(21,"ion-item",6)(22,"ion-select",10),nn(23,lre,2,2,"ion-select-option",9),z()(),Wd(24,cre,5,2,"ion-item",6),Wd(25,ure,11,6),Wd(26,dre,2,2,"ion-item",6),Wd(27,pre,6,1),z()()),2&o&&(ue(5),fe("disabled",i.formGroup.invalid),ue(5),oa("engine-uarm",i.isUarm)("engine-cloudpilot",i.isCloudpilot),ue(),fe("formGroup",i.formGroup),ue(9),fe("ngForOf",i.deviceList),ue(3),fe("ngForOf",i.orientations),ue(),qd(i.isUarm&&void 0!==i.selectNandSize?24:-1),ue(),qd(i.isUarm?25:-1),ue(),qd(i.isCloudpilot?26:-1),ue(),qd(i.isCloudpilot?27:-1))},dependencies:[Jl,Ao,ss,as,ls,cs,uc,Mo,J0,Rh,Nh,us,Ph,ds,If,Q0,kh,cc,lc,sc,ac,z0,Oa,wl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.engine-cloudpilot[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(label){min-width:7.5rem}.engine-uarm[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(label){min-width:11rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.nand-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.nand-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}.nand-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end}ion-toggle[_ngcontent-%COMP%]{padding-right:0}.input-nand[_ngcontent-%COMP%]     *{cursor:pointer!important}"]}))}return e(),t})();class gL{constructor(t,n){this.queue=new Array(t).fill(0),this.reset(n)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let n=0;n<this.size;n++)t+=this.queue[n];return t/this.size}}class hre{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const gre=[135,135,105],mre=[0,0,0],ru=new Array(16).fill(0).map((e,t)=>mre.map((n,r)=>Math.floor((t*n+(15-t)*gre[r])/15))).map(([e,t,n])=>4278190080|n<<16|t<<8|e),Ww=ru.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var qw=_(8081);const mL=new WeakMap,yre=e=>({...e,connect:({call:t})=>(0,M.A)(function*(){const{port1:n,port2:r}=new MessageChannel,o=yield t("connect",{port:n},[n]);return mL.set(r,o),r}),disconnect:({call:t})=>function(){var n=(0,M.A)(function*(r){const o=mL.get(r);if(void 0===o)throw new Error("The given port is not connected.");yield t("disconnect",{portId:o})});return function(r){return n.apply(this,arguments)}}(),isSupported:({call:t})=>()=>t("isSupported")}),Zw=new WeakMap,ed=new Map([[0,null]]),td=new Map([[0,null]]),Cre=(e=>{const t=yre(e);return n=>{const r=(e=>{if(Zw.has(e))return Zw.get(e);const t=new Map;return Zw.set(e,t),t})(n);n.addEventListener("message",({data:a})=>{const{id:l}=a;if(null!==l&&r.has(l)){const{reject:c,resolve:d}=r.get(l);r.delete(l),void 0===a.error?d(a.result):c(new Error(a.error.message))}}),(e=>"function"==typeof e.start)(n)&&n.start();const o=(a,l=null,c=[])=>new Promise((d,p)=>{const m=(0,qw.generateUniqueNumber)(r);r.set(m,{reject:p,resolve:d}),n.postMessage(null===l?{id:m,method:a}:{id:m,method:a,params:l},c)}),i=(a,l,c=[])=>{n.postMessage({id:null,method:a,params:l},c)};let s={};for(const[a,l]of Object.entries(t))s={...s,[a]:l({call:o,notify:i})};return{...s}}})({clearInterval:({call:e})=>t=>{"symbol"==typeof ed.get(t)&&(ed.set(t,null),e("clear",{timerId:t,timerType:"interval"}).then(()=>{ed.delete(t)}))},clearTimeout:({call:e})=>t=>{"symbol"==typeof td.get(t)&&(td.set(t,null),e("clear",{timerId:t,timerType:"timeout"}).then(()=>{td.delete(t)}))},setInterval:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,qw.generateUniqueNumber)(ed);ed.set(i,o);const s=()=>e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"interval"}).then(()=>{const a=ed.get(i);if(void 0===a)throw new Error("The timer is in an undefined state.");a===o&&(t(...r),ed.get(i)===o&&s())});return s(),i},setTimeout:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,qw.generateUniqueNumber)(td);return td.set(i,o),e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"timeout"}).then(()=>{const s=td.get(i);if(void 0===s)throw new Error("The timer is in an undefined state.");s===o&&(td.delete(i),t(...r))}),i}}),Ny=(()=>{let n=null;return()=>{if(null!==n)return n;const r=new Blob(['(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,u=r(i),c=a(u,i),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o(\'The handler of the method called "\'.concat(t,\'" returned an unexpected result.\'),e),a=(t,r)=>async({data:{id:a,method:i,params:u}})=>{const c=r[i];try{if(void 0===c)throw(e=>o(\'The requested method called "\'.concat(e,\'" is not supported.\'),n))(i);const r=void 0===u?c():c(u);if(void 0===r)throw(t=>o(\'The handler of the method called "\'.concat(t,\'" returned no required result.\'),e))(i);const l=r instanceof Promise?await r:r;if(null===a){if(void 0!==l.result)throw s(i)}else{if(void 0===l.result)throw s(i);const{result:e,transferables:r=[]}=l;t.postMessage({id:a,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:a})}};var i=r(455);const u=new Map,c=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),o=(0,i.generateUniqueNumber)(u);return u.set(o,()=>{n(),t.close(),u.delete(o)}),{result:o}},disconnect:({portId:e})=>{const r=u.get(e);if(void 0===r)throw(e=>o(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise(e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])})){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),l=(e,t,r=()=>!0)=>{const n=c(l,t,r),o=a(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},d=(e,t)=>r=>{const n=t.get(r);if(void 0===n)return Promise.resolve(!1);const[o,s]=n;return e(o),t.delete(r),s(!1),Promise.resolve(!0)},f=(e,t,r,n)=>(o,s,a)=>{const i=o+s-t.timeOrigin,u=i-t.now();return new Promise(t=>{e.set(a,[r(n,u,i,e,t,a),t])})},m=new Map,h=d(globalThis.clearTimeout,m),p=new Map,v=d(globalThis.clearTimeout,p),w=((e,t)=>{const r=(n,o,s,a)=>{const i=n-e.now();i>0?o.set(a,[t(r,i,n,o,s,a),s]):(o.delete(a),s(!0))};return r})(performance,globalThis.setTimeout),g=f(m,performance,globalThis.setTimeout,w),T=f(p,performance,globalThis.setTimeout,w);l(self,{clear:async({timerId:e,timerType:t})=>({result:await("interval"===t?h(e):v(e))}),set:async({delay:e,now:t,timerId:r,timerType:n})=>({result:await("interval"===n?g:T)(e,t,r)})})})()})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return n=(e=>{const t=new Worker(e);return Cre(t)})(o),setTimeout(()=>URL.revokeObjectURL(o)),n}})();class vL{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return 0}}class Ere{constructor(t,n=60){this.callback=t,this.fps=n}schedule(){if(void 0!==this.handle)return;const t=performance.now(),n=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((...e)=>Ny().setTimeout(...e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(n-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,Ny().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return 1}}class yL{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new fn.J,this.dispatchEvent=new fn.J,this.isSync=!1}bind(t){this.transport!==t&&(this.unbind(),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}unbind(){this.transport&&(this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),this.transport=void 0)}send(t,n){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,n),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class Ire{constructor(){this.timer=0}reset(){this.timer=0}exec(t){const n=performance.now();try{return t()}finally{this.timer+=performance.now()-n}}get(){return this.timer}}class Tre{constructor(t){this.cloudpilotInstance=t,this.materialize=()=>this.timed.exec(()=>{if(this.cloudpilotInstance.isSuspended())return this.state="idle",!1;switch(this.state){case"scheduled":break;case"materialized":this.mergeBack();break;default:throw new Error(`bad snapshot state in materialize: ${this.state}`)}if(!this.snapshotMemory)throw new Error("snapshot not initialized");this.materializeSnapshot(this.snapshotMemory,this.cloudpilotInstance.getDirtyPages(),this.cloudpilotInstance.getMemory32()),this.updateMemoryCrc(),this.size=this.snapshotMemory.pageCount*this.snapshotMemory.pageSize*4;const n=this.cloudpilotInstance.getMountedKey()||void 0;if(this.updateSnapshotStorage(n),this.snapshotStorage){if(void 0===this.storageKey)throw new Error("unreachable");const r=this.cloudpilotInstance.getCardDirtyPages(this.storageKey),o=this.cloudpilotInstance.getCardData(this.storageKey);if(void 0===r||void 0===o)throw new Error(`storage key ${this.storageKey} not registered`);this.materializeSnapshot(this.snapshotStorage,r,o),this.size+=this.snapshotStorage.pageCount*this.snapshotStorage.pageSize*4}return this.savestate=this.cloudpilotInstance.saveState()?this.cloudpilotInstance.getSavestate():void 0,this.size+=this.savestate?.length??0,this.state="materialized",!0}),this.snapshotSuccessEvent=new fn.J,this.snapshotReleaseEvent=new fn.J,this.state="idle",this.memoryCrcCheck=!1,this.timed=new Ire,this.timestampStart=0,this.size=0}initializeMemory(){const t=this.cloudpilotInstance.getMemory32(),n=t.length>>>8;this.snapshotMemory={pageSize:256,pageCount:0,pageCountTotal:n,pages:new Uint32Array(n),offsets:new Uint32Array(n),pageData:t}}schedule(t){if("idle"!==this.state)throw new Error("snapshot already in progress");return this.state="scheduled",this.memoryCrcCheck=t,this.timed.reset(),this.timestampStart=Date.now(),this}isIdle(){return"idle"===this.state}getStorageKey(){return this.storageKey}refresh(){return(0,M.A)(function*(){})()}release(t,n,r){try{this.timed.exec(()=>{const o=this.state;this.state="idle","materialized"===o&&(t||this.mergeBack())}),this.snapshotSuccessEvent.dispatch({size:this.size,timeBlocking:n+this.timed.get(),timeTotal:n+r+this.timed.get(),timestamp:this.timestampStart})}finally{this.snapshotReleaseEvent.dispatch()}}getSnapshotMemory(){if(!this.snapshotMemory)throw new Error("snapshot not initialized");if("materialized"!==this.state)throw new Error("snapshot not materialized");return this.snapshotMemory}getSnapshotNand(){}getSnapshotStorage(){if("materialized"!==this.state)throw new Error("snapshot not materialized");return this.snapshotStorage}getSavestate(){if("materialized"!==this.state||!this.savestate)throw new Error("snapshot not materialized");return this.savestate}getMemoryCrc(){return this.memoryCrc}mergeBackSnapshot(t,n){for(let r=0;r<t.pageCount;r++){const o=t.pages[r];n[o>>>3]|=1<<(7&o)}}mergeBack(){if(!this.snapshotMemory)throw new Error("snapshot not materialized");if(this.mergeBackSnapshot(this.snapshotMemory,this.cloudpilotInstance.getDirtyPages()),this.snapshotStorage){if(void 0===this.storageKey)throw new Error("unreachable");const t=this.cloudpilotInstance.getCardDirtyPages(this.storageKey);void 0===t?console.warn(`seems like storage ${this.storageKey} was ejected; nothing to merge back, changes are lost`):this.mergeBackSnapshot(this.snapshotStorage,t)}}materializeSnapshot(t,n,r){const{pageCountTotal:o,pageSize:i,pages:s,offsets:a}=t;let l=0,c=0;for(let d=0;d<n.length;d++){const p=n[d];if(n[d]=0,0!==p)for(let m=1;m<256&&!(c>=o);m<<=1)p&m&&(s[l]=c,a[l]=c*i,l++),c++;else c+=8}t.pageCount=l,t.pageData=r}updateMemoryCrc(){if(this.memoryCrcCheck){const t=this.cloudpilotInstance.getMemory32();this.memoryCrc=j2(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}else this.memoryCrc=void 0}updateSnapshotStorage(t){if(this.storageKey===t||(this.storageKey=t,this.snapshotStorage=void 0,void 0===t))return;const n=this.cloudpilotInstance.getCardData(t);if(!n)throw new Error(`storage key ${t} not registered`);const r=n.length>>>11;this.snapshotStorage={pageSize:2048,pageCount:0,pageCountTotal:r,pages:new Uint32Array(r),offsets:new Uint32Array(r),pageData:n}}}class Ore{constructor(t,n,r){this.cloudpilotInstance=t,this.clandestineExecute=n,this.settings=r,this.type="cloudpilot",this.onPwmUpdate=o=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(o):this.pendingPwmUpdates.push(o)},this.onSerialPortDispatch=()=>{this.processTimesliceNow()},this.onSchedule=o=>{this.cloudpilotInstance.isScreenDirty()&&this.newFrameEvent.dispatch(),this.pendingPwmUpdates.count()>0&&o-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=o),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(o)},0)),this.timePerFrameAverage.push(Math.max(0,o-this.timestampLastFrame)),this.timestampLastFrame=o,this.schedule()},this.onSnapshotRelease=()=>{0!==this.snapshotReleaseCallbacks.length&&(this.snapshotReleaseCallbacks.forEach(o=>o()),this.snapshotReleaseCallbacks=[])},this.pwmUpdateEvent=new fn.J,this.configuredHotsyncNameUpdateEvent=new fn.J,this.newFrameEvent=new fn.J,this.timesliceEvent=new fn.J,this.suspendEvent=new fn.J,this.snapshotEvent=new fn.J,this.palmosStateChangeEvent=new fn.J,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.suspended=!1,this.emulationSpeed=1,this.speedAverage=new gL(20),this.timePerFrameAverage=new gL(60),this.timestampLastFrame=0,this.frameCounter=0,this.clockEmulator=0,this.scheduler=new vL(o=>this.onSchedule(o)),this.serialPortIR=new yL,this.serialPortSerial=new yL,this.pendingPwmUpdates=new hre(10),this.lastPwmUpdateEvent=0,this.canvasTmp=document.createElement("canvas"),this.serialSyncStartedAt=0,this.lastSnapshotAt=0,this.snapshotReleaseCallbacks=[],this.snapshotContainer=new Tre(t),this.snapshotContainer.snapshotReleaseEvent.addHandler(this.onSnapshotRelease),t.clearExternalStorage(),this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial()),this.serialPortIR.dispatchEvent.addHandler(this.onSerialPortDispatch),this.serialPortSerial.dispatchEvent.addHandler(this.onSerialPortDispatch),t.pwmUpdateEvent.addHandler(this.onPwmUpdate)}supportsKeyboardIO(){return!0}shutdown(){this.serialPortIR.unbind(),this.serialPortSerial.unbind(),this.serialPortIR.dispatchEvent.removeHandler(this.onSerialPortDispatch),this.serialPortSerial.dispatchEvent.removeHandler(this.onSerialPortDispatch),this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate)}get fatalError(){return this.cloudpilotInstance.fatalErrorEvent}get snapshotSuccessEvent(){return this.snapshotContainer.snapshotSuccessEvent}penDown(t,n){this.cloudpilotInstance.queuePenMove(t,n)}penUp(){this.cloudpilotInstance.queuePenUp()}buttonDown(t){this.cloudpilotInstance.queueButtonDown(t)}buttonUp(t){this.cloudpilotInstance.queueButtonUp(t)}keyStroke(t){this.cloudpilotInstance.queueKeyboardEvent(t)}reset(){this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isLcdEnabled(){return!this.isPowerOff()}isUIInitialized(){return this.uiInitialized}isSuspended(){return this.suspended}isSlowdown(){return this.emulationSpeed<1}getDeviceId(){return this.deviceId??q.m515}openSession(t,n,r,o,i,s){var a=this;return(0,M.A)(function*(){if(r)throw new Error("Cloudpilot devices do not support NAND");let l=!1;if(a.cloudpilotInstance.clearExternalStorage(),s&&(yield s.load(a)),!a.cloudpilotInstance.initializeSession(t,n))return!1;o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(l=a.cloudpilotInstance.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),l||console.warn("failed to load memory"))),l&&i&&a.cloudpilotInstance.loadState(i),a.cloudpilotInstance.remountCards(),void 0===a.cloudpilotInstance.getMountedKey()&&s&&!a.cloudpilotInstance.remountFailed()&&a.cloudpilotInstance.mountCard(s.storageKey),a.deviceId=n,a.speedAverage.reset(1),a.powerOff=a.cloudpilotInstance.isPowerOff(),a.uiInitialized=a.cloudpilotInstance.isUiInitialized();const c=Gh(n);return a.canvasTmp.width=c.width,a.canvasTmp.height=c.height,a.snapshotContainer.initializeMemory(),!0})()}resume(){var t=this;return(0,M.A)(function*(){t.running||(t.clockEmulator=performance.now(),t.schedule(),t.running=!0,t.resetFPS())})()}stop(){var t=this;return(0,M.A)(function*(){t.running&&(t.scheduler.cancel(),void 0!==t.advanceEmulationHandle&&(window.clearTimeout(t.advanceEmulationHandle),t.advanceEmulationHandle=void 0),t.running=!1)})()}processTimesliceNow(){this.advanceEmulation(performance.now())}requestSnapshot(){var t=this;return(0,M.A)(function*(){return t.snapshotContainer.schedule(t.settings.memoryCrc)})()}waitForPendingSnapshot(){var t=this;return(0,M.A)(function*(){if(!t.snapshotContainer.isIdle())return new Promise(n=>t.snapshotReleaseCallbacks.push(n))})()}blitFrame(t){if(!this.cloudpilotInstance.isScreenDirty()||this.cloudpilotInstance.isPowerOff())return;const n=this.cloudpilotInstance.getFrame();if(!n.hasChanges)return;if(n.lines*n.scaleY===t.height&&n.lineWidth*n.scaleX===t.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const s=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const a=ru[15],l=ru[0];let c=0;for(let d=n.firstDirtyLine;d<=n.lastDirtyLine;d++){const p=d*n.bytesPerLine;for(let m=n.margin;m<n.lineWidth+n.margin;m++)s[c++]=n.buffer[p+(m>>>3)]&128>>>(7&m)?a:l}break}case 2:{const a=this.cloudpilotInstance.getPalette2bitMapping(),l=[ru[15&a],ru[a>>>4&15],ru[a>>>8&15],ru[a>>>12&15]];let c=0;for(let d=n.firstDirtyLine;d<=n.lastDirtyLine;d++){const p=d*n.bytesPerLine;for(let m=n.margin;m<n.lineWidth+n.margin;m++)s[c++]=l[n.buffer[p+(m>>>2)]>>6-2*(3&m)&3]}break}case 4:{let a=0;for(let l=n.firstDirtyLine;l<=n.lastDirtyLine;l++){const c=l*n.bytesPerLine;for(let d=n.margin;d<n.lineWidth+n.margin;d++)s[a++]=ru[n.buffer[c+(d>>>1)]>>>4-4*(1&d)&15]}break}case 24:{const a=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)s.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(a.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let l=0;for(let c=n.firstDirtyLine;c<=n.lastDirtyLine;c++){let d=c*(n.bytesPerLine>>>2)+n.margin;for(let p=0;p<n.lineWidth;p++)s[l++]=a[d++]}}}}}if(!this.imageData)return;const r=1!==n.scaleX||1!==n.scaleY,o=t.getContext("2d"),i=r?this.canvasTmp.getContext("2d"):void 0;if(!o||r&&!i)throw new Error("unable to retrieve rendering context");(r?i:o).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),r&&(o.imageSmoothingEnabled=!1,o.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.cloudpilotInstance.markScreenClean(),this.frameCounter++}updateSettings(t){this.settings=t}allocateCard(t,n){if(!this.cloudpilotInstance.allocateCard(t,n))throw new Error(`failed to allocate card "${t}" @ ${n} bytes`);const r=this.cloudpilotInstance.getCardData(t);if(!r)throw new Error(`failed to get card data for key ${t}`);return r}releaseCard(t){var n=this;return(0,M.A)(function*(){n.cloudpilotInstance.removeCard(t)||console.warn(`failed to release card for key ${t}`)})()}getMountedKey(){var t=this;return(0,M.A)(function*(){return t.cloudpilotInstance.getMountedKey()})()}getCardData(t){var n=this;return(0,M.A)(function*(){return n.cloudpilotInstance.getCardData(t)})()}mountCard(t){var n=this;return(0,M.A)(function*(){return n.cloudpilotInstance.mountCard(t)})()}getFullState(){var t=this;return(0,M.A)(function*(){if(void 0!==t.deviceId)return t.cloudpilotInstance.saveState(),{rom:t.cloudpilotInstance.getRomImage().slice(),memory:t.cloudpilotInstance.getMemory().slice(),savestate:t.cloudpilotInstance.getSavestate().slice()}})()}getSerialPortSerial(){return this.serialPortSerial}getSerialPortIR(){return this.serialPortIR}getStatistics(){return{type:"cloudpilot",hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getOSVersion(){return this.cloudpilotInstance.getOSVersion()}installDb(t){var n=this;return(0,M.A)(function*(){return n.cloudpilotInstance.installDb(t)})()}backup(t){var n=this;return(0,M.A)(function*(){return n.cloudpilotInstance.backup(function(){var r=(0,M.A)(function*(o){const i=[];for(o.Init(t);o.IsInProgress();){const a=o.GetCurrentDatabase();o.Save()||i.push(a),yield new Promise(l=>setTimeout(l,0))}const s=n.cloudpilotInstance.getArchive(o);return s?{archive:s,failedDatabases:i}:void 0});return function(o){return r.apply(this,arguments)}}())})()}schedule(){this.scheduler.cancel(),this.settings.schedulerKind!==this.scheduler.getKind()&&(this.scheduler=0===this.settings.schedulerKind?new vL(t=>this.onSchedule(t)):new Ere(t=>this.onSchedule(t))),this.clandestineExecute(()=>this.scheduler.schedule())}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const n=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=n<=this.emulationSpeed||t-n>=.05?n:this.emulationSpeed}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.settings.hotsyncName;void 0===t?this.configuredHotsyncNameUpdateEvent.dispatch(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}advanceEmulation(t){if(!this.isRunning||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const n=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.settings.speed),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i,c=Math.max(a,l);this.clockEmulator+=c,this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!n&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.suspendEvent.dispatch());const d=this.cloudpilotInstance.isPowerOff(),p=this.cloudpilotInstance.isUiInitialized();(d!==this.powerOff||p!==this.uiInitialized)&&(this.powerOff=d,this.uiInitialized=p,this.palmosStateChangeEvent.dispatch()),p&&!d&&this.settings.manageHotsyncName&&!r&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.settings.automaticSnapshotInterval>0&&t-this.lastSnapshotAt>this.settings.automaticSnapshotInterval&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotContainer.isIdle()&&this.snapshotEvent.dispatch(this.snapshotContainer.schedule(this.settings.memoryCrc)),this.lastSnapshotAt=t),this.timesliceEvent.dispatch(c)}}class Pre{constructor(t){this.dispatchMessage=t,this.nextRpcId=0,this.pendingCalls=new Map}call(t,n,r){return new Promise((o,i)=>{const s=this.nextRpcId++;this.pendingCalls.set(s,{resolve:o,reject:i}),this.dispatchMessage({type:"rpcCall",id:s,method:t,args:n},r)})}dispatchRpcMessage(t){switch(t.type){case"rpcSuccess":this.getContext(t.id).resolve(t.result);break;case"rpcError":this.getContext(t.id).reject(t.error)}}getContext(t){const n=this.pendingCalls.get(t);if(!n)throw new Error(`RPC failed: no context with ID ${t}`);return this.pendingCalls.delete(t),n}}function Kw(e){return e?[e.pagePool,e.scheduledPages]:[]}class Fre{constructor(t,n,r,o){if(this.rpcHost=r,this.dispatch=o,this.snapshotSuccessEvent=new fn.J,this.savestate=new Uint8Array,this.sdSize=0,t%1024!=0)throw new Error("invalid memory size");if(n%4224!=0)throw new Error("invalid NAND size");const i=t>>>10,s=new Uint32Array(i);for(let c=0;c<i;c++)s[c]=256*c;this.snapshotMemory={pageCount:0,pageCountTotal:i,offsets:s,pages:new Uint32Array,pageData:new Uint32Array,pageSize:256};const a=n/4224|0,l=new Uint32Array(a);for(let c=0;c<a;c++)l[c]=1056*c;this.snapshotNand={pageCount:0,pageCountTotal:a,offsets:l,pages:new Uint32Array,pageData:new Uint32Array,pageSize:1056}}schedule(t){if(this.uarmSnapshot)throw new Error("snapshot already pending");return t.memory&&this.updateSnapshot(this.snapshotMemory,t.memory),t.nand&&this.updateSnapshot(this.snapshotNand,t.nand),this.updateSnapshotSd(t),this.savestate=new Uint8Array(t.savestate),this.uarmSnapshot=t,this}materialize(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return!0}refresh(){var t=this;return(0,M.A)(function*(){if(!t.uarmSnapshot)throw new Error("no pending snapshot");const n=t.uarmSnapshot;t.uarmSnapshot=void 0,t.schedule(yield t.rpcHost.call("refreshSnapshot",n))})()}release(t,n,r){if(!this.uarmSnapshot)throw new Error("no pending snapshot");let o=1024*(this.uarmSnapshot.memory?.scheduledPageCount??0)+4224*(this.uarmSnapshot.nand?.scheduledPageCount??0)+this.uarmSnapshot.savestate.byteLength;this.uarmSnapshot.sd&&(o+=8192*this.uarmSnapshot.sd.snapshot.scheduledPageCount),this.dispatch({type:"returnSnapshot",snapshot:this.uarmSnapshot,success:t},[...Kw(this.uarmSnapshot.memory),...Kw(this.uarmSnapshot.nand),...Kw(this.uarmSnapshot.sd?.snapshot),this.uarmSnapshot.savestate]);const i=this.uarmSnapshot.time,s=i+r+n,a=this.uarmSnapshot.timestamp;this.uarmSnapshot=void 0,this.snapshotSuccessEvent.dispatch({size:o,timeBlocking:i,timeTotal:s,timestamp:a})}getStorageKey(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.sd?.key}getSnapshotMemory(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.memory?this.snapshotMemory:void 0}getSnapshotNand(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.nand?this.snapshotNand:void 0}getSnapshotStorage(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.sd?this.snapshotSd:void 0}getMemoryCrc(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.memory?.crc}getSavestate(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.savestate}updateSnapshot(t,n){t.pageCount=n.scheduledPageCount,t.pages=new Uint32Array(n.scheduledPages),t.pageData=new Uint32Array(n.pagePool)}updateSnapshotSd(t){if(t.sd){if(this.snapshotSd||(this.snapshotSd={pageCount:0,pageCountTotal:0,offsets:new Uint32Array,pages:new Uint32Array,pageData:new Uint32Array,pageSize:2048}),this.sdSize!==t.sd.size){this.snapshotSd.pageCountTotal=t.sd.size>>>13,t.sd.size>this.snapshotSd.pageCountTotal<<13&&this.snapshotSd.pageCountTotal++,this.snapshotSd.offsets=new Uint32Array(this.snapshotSd.pageCountTotal);for(let n=0;n<this.snapshotSd.pageCountTotal;n++)this.snapshotSd.offsets[n]=2048*n;this.sdSize=t.sd.size}this.updateSnapshot(this.snapshotSd,t.sd.snapshot)}}}class Yw{constructor(t,n,r){this.worker=t,this.settings=n,this.type="uarm",this.dispatchMessage=(o,i)=>{this.worker.postMessage(o,i)},this.onVisibilityChange=()=>{"hidden"===document.visibilityState?this.dispatchMessage({type:"setBackgrounded",backgrounded:!0}):this.dispatchMessage({type:"setBackgrounded",backgrounded:!1})},this.onMessage=o=>{const i=o.data;switch(i.type){case"ready":return this.fatal("duplicate ready event");case"rpcError":case"rpcSuccess":return this.rpcHost.dispatchRpcMessage(i);case"fatalError":return this.fatal(i.error);case"timeslice":{this.timesliceEvent.dispatch(i.sizeSeconds),this.currentIps=i.currentIps,this.currentIpsMax=i.currentIpsMax;const s=this.lcdEnabled;this.lcdEnabled=i.lcdEnabled,i.frame&&i.lcdEnabled?(this.returnPendingFrame(),this.pendingFrame=i.frame,this.newFrameEvent.dispatch()):!i.lcdEnabled&&(s??!0)&&this.newFrameEvent.dispatch(),this.lcdEnabled=i.lcdEnabled;break}case"snapshot":try{if(!this.snapshotContainer)throw new Error("Unreachable: emulator runs, but snapshots are not initialized");this.snapshotEvent.dispatch(this.snapshotContainer.schedule(i.snapshot))}catch(s){throw this.fatal(`${s}`),s}break;case"systemStateChanged":this.uiInitialized=i.uiInitialized,this.osVersion=i.osVersion,this.palmosStateChangeEvent.dispatch()}},this.newFrameEvent=new fn.J,this.timesliceEvent=new fn.J,this.suspendEvent=new fn.J,this.snapshotEvent=new fn.J,this.palmosStateChangeEvent=new fn.J,this.fatalError=new fn.J,this.snapshotSuccessEvent=new fn.J,this.running=!1,this.currentIps=0,this.currentIpsMax=0,this.card={state:0},this.pcmChannel=new MessageChannel,this.uiInitialized=!1,this.rpcHost=new Pre(this.dispatchMessage),r(()=>t.addEventListener("message",this.onMessage))}static create(t,n,r){return(0,M.A)(function*(){const o=new Worker(_.tu(new URL(_.p+_.u(9689),_.b)));return(yield new Promise((s,a)=>{const l=[],c=()=>l.forEach(([m,C])=>o.removeEventListener(m,C)),d=m=>{c(),a(m.error)},p=m=>{c(),"ready"===m.data.type?s(new Yw(o,n,r)):a(new Error("invalid message from worker"))};o.addEventListener("error",d),o.addEventListener("message",p,{once:!0}),l.push(["error",d],["message",p])})).initialize(t)})()}supportsKeyboardIO(){return!1}shutdown(){this.worker.removeEventListener("message",this.onMessage),this.worker.terminate(),document.removeEventListener("visibilitychange",this.onVisibilityChange)}getStatistics(){return{type:"uarm",currentSpeedMips:this.currentIps/1e6|0,currentMaxSpeedMips:this.currentIpsMax/1e6|0}}getPcmPort(){return this.pcmChannel.port1}enablePcmStreaming(){console.log("streaming enabled"),this.dispatchMessage({type:"setPcmStreaming",pcmStreaming:!0})}disablePcmStreaming(){console.log("streaming disabled"),this.dispatchMessage({type:"setPcmStreaming",pcmStreaming:!1})}penDown(t,n){this.dispatchMessage({type:"penDown",x:t,y:n})}penUp(){this.dispatchMessage({type:"penUp"})}buttonDown(t){this.dispatchMessage({type:"buttonDown",button:t})}buttonUp(t){this.dispatchMessage({type:"buttonUp",button:t})}keyStroke(t,n){}reset(){this.dispatchMessage({type:"reset",resetType:0})}resetNoExtensions(){this.dispatchMessage({type:"reset",resetType:1})}resetHard(){this.dispatchMessage({type:"reset",resetType:2})}isRunning(){return this.running}isPowerOff(){return!1}isLcdEnabled(){return this.lcdEnabled??!1}isUIInitialized(){return this.uiInitialized}isSlowdown(){return this.currentIps/1e6<this.settings.targetMips*this.settings.warnSlowdownThreshold}getOSVersion(){return this.osVersion??0}getDeviceId(){if(void 0===this.deviceId)throw new Error("not initialized");return this.deviceId}openSession(t,n,r,o,i,s){var a=this;return(0,M.A)(function*(){if(void 0!==a.deviceId)throw new Error("already initialized");a.deviceId=n,s&&(yield s.load(a));const l=1===a.card.state?[new Uint8Array(a.card.data.buffer),a.card.key]:void 0;if(!(yield a.rpcHost.call("openSession",{rom:t,nand:r,memory:o,state:i,card:l},[t.buffer,r?.buffer,o?.buffer,i?.buffer,1===a.card.state?a.card.data.buffer:void 0].filter(p=>void 0!==p))))return!1;const c=yield a.rpcHost.call("getMemorySize",void 0);a.snapshotContainer=new Fre(c.memory,c.nand,a.rpcHost,a.dispatchMessage),a.snapshotContainer.snapshotSuccessEvent.addHandler(p=>a.snapshotSuccessEvent.dispatch(p));const d=yield a.rpcHost.call("getSdCardState",void 0);return a.card=d.inserted?{state:2,key:d.key}:{state:0},!0})()}resume(){var t=this;return(0,M.A)(function*(){yield t.rpcHost.call("start",void 0),t.running=!0})()}stop(){var t=this;return(0,M.A)(function*(){yield t.rpcHost.call("stop",void 0),t.running=!1,t.returnPendingFrame()})()}processTimesliceNow(){console.log("processTimesliceNow not implemented for uARM")}requestSnapshot(){var t=this;return(0,M.A)(function*(){if(!t.snapshotContainer)throw new Error("emulator not initialized");return t.snapshotContainer.schedule(yield t.rpcHost.call("takeSnapshot",void 0))})()}waitForPendingSnapshot(){return this.rpcHost.call("waitForPendingSnapshot",void 0)}blitFrame(t){if(!this.pendingFrame)return;const n=new ImageData(new Uint8ClampedArray(this.pendingFrame),320);t.getContext("2d")?.putImageData(n,0,0),this.returnPendingFrame()}updateSettings(t){this.settings=t,this.dispatchMessage({type:"updateSettings",settings:t})}allocateCard(t,n){if(0!==this.card.state)throw new Error(`bad card state ${this.card.state}`);if(3&n)throw new Error(`invalid card size ${n}`);return this.card={state:1,key:t,data:new Uint32Array(n>>>2)},this.card.data}releaseCard(t){var n=this;return(0,M.A)(function*(){0!==n.card.state&&(yield n.rpcHost.call("sdCardEject",void 0),n.card={state:0})})()}mountCard(t){var n=this;return(0,M.A)(function*(){if(1!==n.card.state)throw new Error("no card allocated");if(n.card.key!==t)throw new Error(`wrong key: got ${t}, expected ${n.card.key}`);return(yield n.rpcHost.call("sdCardInsert",{data:n.card.data,key:n.card.key},[n.card.data.buffer]))?(n.card={state:2,key:t},!0):(n.card={state:0},!1)})()}getMountedKey(){var t=this;return(0,M.A)(function*(){return 2===t.card.state?t.card.key:void 0})()}getCardData(t){if(2!==this.card.state)throw new Error("no card mounted");if(this.card.key!==t)throw new Error(`invalid key: expected ${this.card.key}, got ${t}`);return this.rpcHost.call("getSdCardData",void 0)}getFullState(){var t=this;return(0,M.A)(function*(){return void 0===t.deviceId?void 0:t.rpcHost.call("getFullState",void 0)})()}installDb(t){return this.rpcHost.call("installDb",t)}backup(t){return this.rpcHost.call("backup",{includeRom:t})}initialize(t){var n=this;return(0,M.A)(function*(){return yield n.rpcHost.call("initialize",{module:t,settings:n.settings,pcmPort:n.pcmChannel.port2},[n.pcmChannel.port2]),document.addEventListener("visibilitychange",n.onVisibilityChange),n})()}fatal(t){this.fatalError.dispatch(t instanceof Error?t:new Error(t))}returnPendingFrame(){this.pendingFrame&&this.dispatchMessage({type:"returnFrame",frame:this.pendingFrame},[this.pendingFrame]),this.pendingFrame=void 0}}const $re={automaticSnapshotInterval:0,memoryCrc:!1,speed:1,hotsyncName:"",manageHotsyncName:!1,schedulerKind:0,networkIntegration:!1,clipboardIntegration:!1,disableAudio:!1,maxHostLoad:1,targetMips:100,warnSlowdownThreshold:.5,runInBackground:!1};class Bre{constructor(){this.onEngineNewFrameEvent=()=>{if(!this.engine)throw new Error("invalid state");this.engine.isLcdEnabled()?this.engine.blitFrame(this.canvas):this.clearCanvas(),this.newFrameEvent.dispatch(this.canvas)},this.onEngineTimesliceEvent=t=>this.onAfterAdvanceEmulation(t),this.onEngineSuspendEvent=()=>this.handleSuspend(),this.onEngineConfigureHotsyncNameEvent=t=>this.updateConfiguredHotsyncName(t),this.onSnapshotEvent=t=>this.handleSnapshot(t),this.onSnapshotSuccessEvent=t=>this.snapshotSuccessEvent.dispatch(t),this.onPalmosStateChangeEvent=()=>{this.handlePalmosStateChange(),this.palmosStateChangeEvent.dispatch()},this.onFatalError=t=>this.handleFatalInNativeCode(t),this.newFrameEvent=new fn.J,this.newSessionEvent=new fn.J,this.emulationStateChangeEvent=new fn.J,this.palmosStateChangeEvent=new fn.J,this.openSessionEvent=new fn.J,this.snapshotSuccessEvent=new fn.J,this.canvas=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.engineSettings={...$re},this.shouldRun=!1,this.blocked=!1}handlePointerMove(t,n,r){if(!this.engine?.isRunning())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)){if(r){const i=Gh(this.deviceId());t=this.transformSilkscreenX(t,i),n=this.transformSilkscreenY(n,i)}this.engine.penDown(Math.floor(t),Math.floor(n)),this.lastPenUpdate=o}}handlePointerUp(){this.engine?.isRunning()&&(this.engine&&this.penDown&&this.engine.penUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.engine?.isRunning()&&this.engine?.buttonDown(t)}handleButtonUp(t){this.engine?.isRunning()&&this.engine?.buttonUp(t)}handleKeyDown(t){this.engine?.isRunning()&&this.engine?.keyStroke(t)}reset(){this.engine?.reset()}resetNoExtensions(){this.engine?.resetNoExtensions()}resetHard(){this.engine?.resetHard()}isRunning(){return this.engine?.isRunning()??!1}isPowerOff(){return this.engine?.isPowerOff()??!1}isUiInitialized(){return this.engine?.isUIInitialized()??!1}getCanvas(){return this.canvas}getStatistics(){return this.engine?.getStatistics()}isSlowdown(){return this.engine?.isSlowdown()??!1}isSuspended(){return"cloudpilot"===this.engine?.type&&this.engine.isSuspended()}isBlocked(){return this.blocked}getSerialPortSerial(){return"cloudpilot"===this.engine?.type?this.engine.getSerialPortSerial():void 0}getSerialPortIR(){return"cloudpilot"===this.engine?.type?this.engine.getSerialPortIR():void 0}updateEngineSettings(t){this.engineSettings={...this.engineSettings,...t},this.engine?.updateSettings(this.engineSettings)}deviceId(){return this.engine?.getDeviceId()??q.m515}pwmUpdateEvent(){return"cloudpilot"===this.engine?.type?this.engine.pwmUpdateEvent:void 0}pcmPort(){return"uarm"===this.engine?.type?this.engine.getPcmPort():void 0}enablePcmStreaming(){"uarm"===this.engine?.type&&this.engine.enablePcmStreaming()}disablePcmStreaming(){"uarm"===this.engine?.type&&this.engine.disablePcmStreaming()}supportsKeyboardIO(){return this.engine?.supportsKeyboardIO()??!1}processTimesliceNow(){this.engine?.processTimesliceNow()}openSession(t,n,r,o,i,s){var a=this;return(0,M.A)(function*(){a.unbindEngineHandlers(a.engine),a.engine?.shutdown(),a.engine=void 0,a.shouldRun=!1;const l=yield a.createEngine(Ew(n));return l.updateSettings(a.engineSettings),!!(yield l.openSession(t,n,r,o,i,s))&&(a.bindEngineHandlers(l),a.engine=l,a.resetCanvas(),a.openSessionEvent.dispatch(),!0)})()}resetCanvas(){const t=Gh(this.deviceId());this.canvas.width=t.width,this.canvas.height=t.height,this.clearCanvas()}doResume(){var t=this;return(0,M.A)(function*(){t.shouldRun=!0,yield t.enforceRunState()})()}doStop(){var t=this;return(0,M.A)(function*(){t.shouldRun=!1,yield t.enforceRunState()})()}doBlock(){var t=this;return(0,M.A)(function*(){t.blocked=!0,yield t.enforceRunState()})()}doUnblock(){var t=this;return(0,M.A)(function*(){t.blocked=!1,yield t.enforceRunState()})()}clearCanvas(){const t=this.deviceId(),n=this.canvas.getContext("2d");if(!n)throw new Error("Unable to get rendering context. Get a new browser.");n.beginPath(),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=Sw(t)?"white":Ww[0],n.fill()}transformSilkscreenX(t,n){return void 0===n.silkscreenOvershoot?t:(t-n.width/2)/(n.width/(n.width+2*n.silkscreenOvershoot))+n.width/2}transformSilkscreenY(t,n){return void 0===n.siklscreenShift?t:t+n.siklscreenShift}requestSnapshot(){var t=this;return(0,M.A)(function*(){return yield t.engine?.requestSnapshot()})()}getOSVersion(){return this.engine?.getOSVersion()??0}enforceRunState(){var t=this;return(0,M.A)(function*(){t.engine&&(t.shouldRun&&!t.blocked?yield t.engine.resume():yield t.engine.stop(),t.emulationStateChangeEvent.dispatch(t.engine.isRunning()))})()}createEngine(t){var n=this;return(0,M.A)(function*(){switch(t){case"cloudpilot":return new Ore(yield n.getCloudpilotInstance(),n.clandestineExecute,n.engineSettings);case"uarm":return Yw.create(yield n.getUarmModule(),n.engineSettings,n.clandestineExecute);default:throw new Error("unreachable")}})()}bindEngineHandlers(t){t&&(t.newFrameEvent.addHandler(this.onEngineNewFrameEvent),t.suspendEvent.addHandler(this.onEngineSuspendEvent),t.timesliceEvent.addHandler(this.onEngineTimesliceEvent),t.snapshotEvent.addHandler(this.onSnapshotEvent),t.palmosStateChangeEvent.addHandler(this.onPalmosStateChangeEvent),t.fatalError.addHandler(this.onFatalError),t.snapshotSuccessEvent.addHandler(this.onSnapshotSuccessEvent),"cloudpilot"===t.type&&t.configuredHotsyncNameUpdateEvent.addHandler(this.onEngineConfigureHotsyncNameEvent))}unbindEngineHandlers(t){t&&(t.newFrameEvent.removeHandler(this.onEngineNewFrameEvent),t.suspendEvent.removeHandler(this.onEngineSuspendEvent),t.timesliceEvent.removeHandler(this.onEngineTimesliceEvent),t.snapshotEvent.removeHandler(this.onSnapshotEvent),t.palmosStateChangeEvent.removeHandler(this.onPalmosStateChangeEvent),t.fatalError.removeHandler(this.onFatalError),t.snapshotSuccessEvent.removeHandler(this.onSnapshotSuccessEvent),"cloudpilot"===t.type&&t.configuredHotsyncNameUpdateEvent.removeHandler(this.onEngineConfigureHotsyncNameEvent))}}class bL{constructor(t,n,r=window.document){this.timeoutRemaining=t,this.cb=n,this.document=r,this.onVisibilityChange=()=>{switch(this.tainted=!0,this.document.visibilityState){case"hidden":if("running"!==this.state)return;this.cancelTimeout(),this.update(),"finished"!==this.state&&(this.state="paused");break;case"visible":if("paused"!==this.state||this.timeoutRemaining<0)return;this.schedule(),this.state="running"}},this.onTimeout=()=>{this.handle=void 0,this.update(),this.timeoutRemaining>0&&"running"===this.state&&this.schedule()},this.state="created",this.timoutStartedAt=performance.now(),this.tainted=!1,this.accumulatedTimeout=0}start(){return this.setState("running"),this.schedule(),this.document.addEventListener("visibilitychange",this.onVisibilityChange),this}increase(t){return this.timeoutRemaining+=t,this}cancel(){return this.setState("finished"),this}isTainted(){return this.tainted}getAccumulatedTimeout(){return this.accumulatedTimeout}schedule(){void 0===this.handle&&(this.timoutStartedAt=performance.now(),this.handle=setTimeout(()=>this.onTimeout(),this.timeoutRemaining))}update(){if("running"!==this.state)return;const t=performance.now()-this.timoutStartedAt;this.timeoutRemaining-=t,this.accumulatedTimeout+=t,this.timeoutRemaining<=0&&(this.setState("finished"),this.cb())}cancelTimeout(){void 0!==this.handle&&(clearTimeout(this.handle),this.handle=void 0)}setState(t){if(t!==this.state){if("finished"===this.state||"created"===t)throw new Error(`invalid state transition: ${this.state} -> ${t}`);"finished"===t&&(this.cancelTimeout(),this.document.removeEventListener("visibilitychange",this.onVisibilityChange)),this.state=t}}}class Xw{constructor(){this.pages=[],this.nextPage=-1}clear(){this.pages=[],this.nextPage=-1}reset(){this.nextPage=this.pages.length-1}duplicate(t){if("number"==typeof t)return t;if(this.nextPage>=0){const r=this.pages[this.nextPage--];return r.set(t),r}const n=t.slice();return this.pages.push(n),n}}function Qw(e){return e?e.pageSize*e.pageCount*4:0}let Jw=(()=>{var e;class t{constructor(r,o,i,s,a){var l=this;this.storageService=r,this.errorService=o,this.alertService=i,this.loadingController=s,this.ngZone=a,this.storeSnapshot=(c,d)=>this.ngZone.runOutsideAngular((0,M.A)(function*(){if(l.snapshotInProgress)throw new Error("cannot happen: snapshot while snapshot is in progress");if(l.snapshotInProgress=!0,d!==l.sessionId)throw new Error(`bad snapshot: session ID mismatch: ${l.sessionId} vs ${d}`);try{yield l.storeSnapshotUnguarded(c)}finally{l.snapshotInProgress=!1}})),this.snapshotRequestEvent=new fn.J,this.sessionId=-1,this.consecutiveErrorCount=0,this.timeoutDeltaMsecPerKbStart=.5,this.timeoutDeltaMsecPerKb=.5,this.timeBlocking=0,this.timeBackground=0,this.snapshotInProgress=!1,this.clonePoolMemory=new Xw,this.clonePoolNand=new Xw,this.clonePoolStorage=new Xw}initialize(r){var o=this;return(0,M.A)(function*(){if(!o.errorService.hasFatalError()){if(o.snapshotInProgress)return void o.errorService.fatalBug("Attempt to reinitialize snapshots while snapshot is still in progress");o.sessionId=r.id,o.clonePoolMemory.clear(),o.clonePoolNand.clear(),o.clonePoolStorage.clear(),o.savestateClone=void 0,o.db=yield o.storageService.getDb()}})()}triggerSnapshot(){return new Promise((r,o)=>this.snapshotRequestEvent.dispatch(i=>{void 0!==i?o(i):r()}))}storeSnapshotUnguarded(r){var o=this;return(0,M.A)(function*(){for(o.timeBlocking=o.timeBackground=0,o.timeoutDeltaMsecPerKb=o.timeoutDeltaMsecPerKbStart;;)try{return r.release(yield o.attemptToStoreSnapshot(r),o.timeBlocking,o.timeBackground),o.consecutiveErrorCount=0,void o.hideLoader()}catch(i){if(o.hideLoader(),i instanceof bL){if(i.isTainted())continue;console.log(`snapshot timeout expired after ${i.getAccumulatedTimeout()} msec`),o.timeoutDeltaMsecPerKb>.5&&(yield o.alertService.snapshotTimeout(),yield o.showLoader()),o.timeoutDeltaMsecPerKb*=2,o.timeoutDeltaMsecPerKbStart=Math.min(2*o.timeoutDeltaMsecPerKbStart,4);continue}if(console.error("snapshot error",i),i===Fw)throw o.errorService.fatalPageLockLost(),i;if(++o.consecutiveErrorCount>3)throw o.errorService.fatalIDBDead(),i;yield r.refresh()}})()}attemptToStoreSnapshot(r){var o=this;return(0,M.A)(function*(){const i=o.db.transaction([Jc,eu,gc,Dl,Fa,tu,zh],"readwrite",{durability:"relaxed"});yield o.storageService.acquireLock(i);const s=yield lr(i.objectStore(Fa).getAll());return!!r.materialize()&&new Promise((a,l)=>{let c=!1,d=0;o.clonePoolMemory.reset(),o.clonePoolNand.reset(),o.clonePoolStorage.reset();const p=r.getSnapshotMemory(),m=r.getSnapshotNand(),C=r.getSnapshotStorage(),x=r.getSavestate(),V=r.getStorageKey(),he=r.getMemoryCrc(),Ee=Qw(p)+Qw(m)+Qw(C)+(x?.length??0),Tt=new bL(500+(o.timeoutDeltaMsecPerKb*Ee>>>10),()=>{c=!0,l(Tt);try{i.abort()}catch{}});i.oncomplete=()=>{Tt.cancel(),o.timeBackground+=performance.now()-d,a(!0)},i.onerror=()=>{Tt.cancel(),o.timeBackground+=performance.now()-d,l(new Error(i.error?.message))};try{const Lt=performance.now();if(p&&o.saveSnapshotMemory(i,p,he),m&&o.saveSnapshotOther(i,m,o.sessionId,tu,o.clonePoolNand),C&&void 0!==V){const Mt=s.find(Rn=>Rn.storageId===V);if(!Mt)throw new Error(`no storage card with key ${V}`);o.saveSnapshotOther(i,C,Mt.id,Dl,o.clonePoolStorage)}o.saveSavestate(i,x),Tt.start(),o.timeBlocking+=performance.now()-Lt,d=performance.now()}catch(Lt){throw c||(Tt.cancel(),i.abort()),Lt}})})()}saveSnapshotMemory(r,o,i){const{pageCount:s,pageSize:a,offsets:l,pageData:c,pageCountTotal:d,pages:p}=o,m=r.objectStore(Jc);r.objectStore(eu).put({sessionId:this.sessionId,totalSize:d*a<<2,crc32:i});for(let V=0;V<s;V++){const he=c.subarray(l[V],l[V]+a),Ee=this.clonePoolMemory.duplicate(Y2(he));m.put(Ee,[this.sessionId,p[V]])}}saveSnapshotOther(r,o,i,s,a){const{pageCount:l,pageSize:c,offsets:d,pageData:p,pages:m}=o,C=r.objectStore(s);for(let x=0;x<l;x++){const V=p.subarray(d[x],d[x]+c),he=a.duplicate(Pw(V));C.put(he,[i,m[x]])}}saveSavestate(r,o){const i=r.objectStore(gc);o?(this.savestateClone?this.savestateClone.set(o):this.savestateClone=o.slice(),i.put(this.savestateClone,this.sessionId)):i.delete(this.sessionId)}showLoader(){var r=this;return(0,M.A)(function*(){r.loader||(r.loader=yield r.loadingController.create({message:"Saving..."}),yield r.loader.present())})()}hideLoader(){this.loader&&(this.loader.dismiss(),this.loader=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr),se(Xu),se(wr),se(fs),se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Py=new Error("permission denied");let eE=(()=>{var e;class t{constructor(r,o,i){this.alertController=r,this.alertService=o,this.nativeAppService=i,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText||aa.supportsNativeClipboard()}handleSuspend(r){switch(r.getSuspendKind()){case 1:this.handleCopy(r);break;case 2:this.handlePaste(r)}}handleCopy(r){var o=this;return(0,M.A)(function*(){const i=r.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();if(aa.supportsNativeClipboard())try{yield o.nativeAppService.clipboardWrite(s),i.Resume()}catch(a){console.error(a),i.Cancel()}else{try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===Py)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}}})()}tryCopyDirect(r){var o=this;return(0,M.A)(function*(){try{yield navigator.clipboard.writeText(r)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?Py:i}})()}tryCopyWithInteraction(r){var o=this;return new Promise(function(){var i=(0,M.A)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,M.A)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(r),s(!0)}catch(d){a(d)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(r){var o=this;return(0,M.A)(function*(){const i=r.getSuspendContextClipboardPaste();if(aa.supportsNativeClipboard()){try{i.Resume(yield o.nativeAppService.clipboardRead())}catch(a){console.error(a),i.Resume("")}return}const s=yield o.tryPaste();i.Resume(s??""),void 0!==s&&(o.clipboardContent=s,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var r=this;return(0,M.A)(function*(){if(performance.now()-r.lastClipboardReadAt<3e3)return r.clipboardContent;try{return yield r.tryPasteDirect()}catch(o){if(o===Py)return void(yield r.msgPermissionDenied())}try{return yield r.tryPasteWithInteraction()}catch{return void(yield r.msgPasteFailed())}})()}tryPasteDirect(){var r=this;return(0,M.A)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield r.isPermissionDenied("clipboard-read"))?Py:o}})()}tryPasteWithInteraction(){var r=this;return new Promise(function(){var o=(0,M.A)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,M.A)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}isPermissionDenied(r){return(0,M.A)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:r}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tw),se(wr),se(aa))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class Gre{constructor(t){this.nativeAppService=t,this.onNetRpcResult=({sessionId:n,rpcData:r})=>n===this.sessionId&&this.rpcResultEvent.dispatch(r),this.rpcResultEvent=new fn.J,this.unexpectedCloseEvent=new fn.J}connect(){var t=this;return(0,M.A)(function*(){if(void 0!==t.sessionId)throw new Error("session already open");return t.sessionId=yield t.nativeAppService.netOpenSession(),t.nativeAppService.netRpcResult.addHandler(t.onNetRpcResult),!0})()}disconnect(){var t=this;return(0,M.A)(function*(){void 0!==t.sessionId&&(t.nativeAppService.netRpcResult.removeHandler(t.onNetRpcResult),yield t.nativeAppService.netCloseSession(t.sessionId),t.sessionId=void 0)})()}handleRpc(t){var n=this;return(0,M.A)(function*(){if(void 0===n.sessionId)throw new Error("no open session");return n.nativeAppService.netDispatchRpc(n.sessionId,t)})()}}const zre="https:"===window.location.protocol?8667:8666,Wre=/^[\da-z\-.]+$/i,qre=/^[\da-z\-.]+:\d+$/i;function tE(e){if(!e)return;const t=window.location.protocol;if(e.match(Wre))return`${t}//${e}:${zre}`;if(e.match(qre))return`${t}//${e}`;try{const n=new URL(e);if("https:"===n.protocol||"http:"===n.protocol)return n.toString().replace(/\/+$/,"")}catch{}}function Zre(e){return void 0!==tE(e.value)?null:{proxyAddress:"invalid"}}class Xre{constructor(t,n,r){this.proxyServer=t,this.alertService=n,this.fetchService=r,this.onSocketMessage=o=>{if(!(o.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),void this.unexpectedCloseEvent.dispatch(void 0);this.rpcResultEvent.dispatch(new Uint8Array(o.data))},this.onSocketError=o=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),this.unexpectedCloseEvent.dispatch(),console.error("ERROR: socket error",o)},this.onSocketClose=()=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.disconnect(),this.unexpectedCloseEvent.dispatch()},this.rpcResultEvent=new fn.J,this.unexpectedCloseEvent=new fn.J}connect(){var t=this;return(0,M.A)(function*(){const n=tE(t.proxyServer);if(!n)return yield t.alertService.errorMessage(`Invalid proxy address: ${t.proxyServer}`),!1;const r=yield t.handshake(500);switch(r.status){case"failed":return t.alertService.errorMessage("Failed to connect to proxy."),!1;case"version_mismatch":return yield t.alertService.proxyVersionMismatchError(),!1;case"success":break;default:throw new Error("unreachable")}const o=new WebSocket(`${n.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(r.token)}`);o.binaryType="arraybuffer";const i=setTimeout(()=>o.close(),5e3);let s,a,l;try{return yield new Promise((c,d)=>{s=()=>c(),l=p=>d(p),a=()=>d(new Error("connection timeout")),o.addEventListener("open",s),o.addEventListener("error",l),o.addEventListener("close",a)}),clearTimeout(i),o.addEventListener("error",t.onSocketError),o.addEventListener("message",t.onSocketMessage),o.addEventListener("close",t.onSocketClose),t.socket=o,!0}catch(c){return console.error("socket failed to connect",c),!1}finally{o.removeEventListener("open",s),o.removeEventListener("error",l),o.removeEventListener("close",a)}})()}disconnect(){var t=this;return(0,M.A)(function*(){t.socket&&(t.socket.removeEventListener("error",t.onSocketError),t.socket.removeEventListener("message",t.onSocketMessage),t.socket.removeEventListener("close",t.onSocketClose),t.socket.close(),t.socket=void 0)})()}handleRpc(t){var n=this;return(0,M.A)(function*(){return!!n.socket&&(n.socket.send(t),!0)})()}handshake(){var t=this;return(0,M.A)(function*(n=-1){const r=tE(t.proxyServer);if(!r)return{status:"failed"};try{const o=yield t.fetchService.fetch(`${r}/network-proxy/handshake`,{method:"POST",loaderDelay:n});if(!o.ok)return{status:"failed"};const i=yield o.json();return i.version<3||i.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:i.token}}catch{return{status:"failed"}}}).apply(this,arguments)}}let SL=(()=>{var e;class t{constructor(r,o,i,s){this.kvsService=r,this.alertService=o,this.fetchService=i,this.nativeAppService=s}createBackendProxy(r=this.kvsService.kvs.proxyServer){return new Xre(r,this.alertService,this.fetchService)}createBackend(){if(this.kvsService.kvs.networkRedirection)return"native"===this.kvsService.kvs.networkRedirectionMode&&aa.supportsNativeNetworkIntegration()?new Gre(this.nativeAppService):this.createBackendProxy()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Gi),se(wr),se(fL),se(aa))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),wL=(()=>{var e;class t{constructor(r,o){this.ngZone=r,this.backendFactory=o,this.onProxyDisconnect=()=>{this.reset()},this.onUnexpectedBackendClose=()=>this.reset(),this.onSessionResume=()=>this.resumeEvent.dispatch(),this.resumeEvent=new fn.J}initialize(r){this.cloudpilot=r,r.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}isConnected(){return void 0!==this.session}reset(){this.session&&(this.session.backend.unexpectedCloseEvent.removeHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.removeHandler(this.onSessionResume),this.session.terminate(),this.ngZone.run(()=>this.session=void 0))}handleSuspend(){if(this.cloudpilot)switch(this.cloudpilot.getSuspendKind()){case 4:this.createNewSession(),this.session?this.session.handleConnect().then(r=>r||this.reset()):4===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.session?this.session.handleRpc():3===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}createNewSession(){this.reset(),this.ngZone.run(()=>this.session=nE.create(this.backendFactory.createBackend(),this.cloudpilot)),this.session&&(this.session.backend.unexpectedCloseEvent.addHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.addHandler(this.onSessionResume))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(We),se(SL))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class nE{static create(t,n){if(n&&t)return new nE(t,n)}constructor(t,n){var r=this;this.backend=t,this.handleConnect=()=>this.mutex.runExclusive((0,M.A)(function*(){try{const o=yield r.backend.connect();return 4===r.cloudpilot?.getSuspendKind()&&(o?r.cloudpilot.getSuspendContextNetworkConnect().Resume():r.cloudpilot.getSuspendContextNetworkConnect().Cancel()),o}catch(o){return console.error("failed to connect to backend",o),4===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkConnect().Cancel(),!1}})),this.handleRpc=()=>this.mutex.runExclusive((0,M.A)(function*(){if(3!==r.cloudpilot?.getSuspendKind())return;const o=r.cloudpilot.getSuspendContextNetworkRpc(),i=r.cloudpilot.resolveBuffer(o.GetRequestData(),o.GetRequestSize());try{!(yield r.backend.handleRpc(i))&&3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}catch(s){console.error("failed to process rpc request",s),3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}})),this.disconnect=()=>{this.mutex.runExclusive((0,M.A)(function*(){r.backend&&(yield r.backend.disconnect())}))},this.onRpcResult=o=>{if(!this.cloudpilot)return;if(3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");const i=this.cloudpilot.copyBuffer(o);this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(i,o.length),this.cloudpilot.freeBuffer(i),this.resumeEvent.dispatch()},this.resumeEvent=new fn.J,this.mutex=new Pa,this.cloudpilot=n,t.rpcResultEvent.addHandler(this.onRpcResult)}terminate(){this.cloudpilot=void 0,this.backend.rpcResultEvent.removeHandler(this.onRpcResult),this.disconnect()}}let EL=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(r){this.engine=r,this.buttons.clear(),[6,7].forEach(o=>r.buttonUp(o))}engage(r){this.buttons.has(r)?this.buttons.get(r).timer=0:(this.buttons.set(r,{button:r,timer:0}),this.engine?.buttonDown(r))}tick(r){for(const[o,i]of this.buttons)i.timer+=1e3*r,i.timer>250&&(this.engine?.buttonUp(o),this.buttons.delete(o))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),DL=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(r=>this.hasRenderedResolve=r)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var Jre=_(2922),eoe=_.n(Jre);function toe(e){return{readonly:!!(1&e),hidden:!!(2&e),system:!!(4&e)}}function IL(e,t){const n=e.GetName(),r=e.GetModifiedTS();return{path:t,name:n,size:e.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:toe(e.GetAttributes())}}class rE{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,M.A)(function*(){return new rE(yield eoe()({print:n=>console.log(n),printErr:n=>console.warn(n),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),n=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==n)return this.module.HEAPU32.subarray(t>>>2,t+n>>>2)}getImageInSlot(t){const n=this.module.getPointer(this.vfsNative.GetImage(t)),r=this.vfsNative.GetSize(t);if(0!==n&&0!==r)return this.module.HEAPU32.subarray(n>>>2,n+r>>>2)}getDirtyPagesForSlot(t){const n=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===n)return;const r=m0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(n,n+r)}readdir(t){const n=new this.module.ReaddirContext(t);try{const r=[];for(;0===n.GetStatus();){const o=n.GetEntry();r.push(IL(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),n.Next()}if(2===n.GetStatus()){console.warn(`readdir failed: ${n.GetErrorDescription()}`);const o=n.GetError();return{error:0===o?2:o,reason:n.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(n)}}rename(t,n){return this.vfsNative.RenameFile(t,n)}chmod(t,n){let r=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(n.hidden,2),i(n.readonly,1),i(n.system,4),this.vfsNative.ChmodFile(t,r,o)}stat(t){const n=this.vfsNative.StatFile(t);return 0!==n?{result:n,entry:void 0}:{entry:IL(this.vfsNative.GetEntry(),t),result:n}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const n=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(n,n+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive(t){var n=this;return(0,M.A)(function*({files:r,directories:o,prefix:i}){const s=new n.module.ExportZipContext(i,25),a=[];try{for(r&&r.forEach(p=>s.AddFile(p)),o&&o.forEach(p=>s.AddDirectory(p));2!==s.GetState();){switch(s.Continue()){case-2:case-1:a.push(s.GetErrorItem())}2!==s.GetState()&&(yield new Promise(p=>setTimeout(p,0)))}let l;const c=n.module.getPointer(s.GetZipContent()),d=s.GetZipSize();return 0!==c&&0!==d&&(l=n.module.HEAPU8.subarray(c,c+d).slice()),{archive:l,failedItems:a}}finally{n.module.destroy(s)}}).apply(this,arguments)}deleteRecursive(t){var n=this;return(0,M.A)(function*(){const r=new n.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{n.module.destroy(r)}})()}writeFile(t,n){const r=this.copyIn(n);try{return this.vfsNative.WriteFile(t,n.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(t,n,r){var o=this;return(0,M.A)(function*(){const i=o.copyIn(n),s=new o.module.UnzipContext(25,t,i,n.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(0);case-3:return a(3);case-1:return a(2);case-2:return a(1);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,n,r,o,i){var s=this;return(0,M.A)(function*(){const a=new s.module.PasteContext(25,t,n);r.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return 0;case-2:return 2;case-1:return 1;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const n=this.vfsNative.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}}const noe=_.p+"wasm/vfs_web-46a89cac7e59fb52.wasm";var roe=_(9250),ooe=_.n(roe);function TL(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}let nd=(()=>{var e;class t{constructor(r,o,i,s,a){this.storageService=r,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new fn.J,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=rE.create(noe),this.directoryCache=new Map,this._bytesFree=Di(0),this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this._change=new yn,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(r){this.storageCardService=r,r.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),r.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(r){return("/"+r).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(r){return this.normalizePath(r).replace(/^\/+/,"").split("/")}dirname(r){return this.normalizePath(r).replace(/\/[^/]*$/,"")}isFilenameValid(r){return void 0===r||!/[/\\]/.test(r)}isEntryInClipboard(r){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(r.path)?this.clipboard.operation:void 0}activateCard(r){var o=this;return(0,M.A)(function*(){if(o.primaryCard?.id!==r){if(o.secondaryCard?.id===r)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${r} not mounted in VFS`)}})()}mountCardUnchecked(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(s.primaryCard?.id===r||s.secondaryCard?.id===r)throw new Error(`card ${r} already mounted in VFS`);s.storageCardContext.claim(r,"vfs"),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(r,c,"vfs"),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(r,"vfs"),!1)})()}releaseCard(r){var o=this;return(0,M.A)(function*(){let i;if(o.primaryCard?.id===r)i=o.primarySlot;else{if(o.secondaryCard?.id!==r)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(r,"vfs"),o.onReleaseCard.dispatch(r)})()}readdir(r){if(!this.vfsInstance)return[];const o=this.normalizePath(r);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(r);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.vfs;if(r=i.normalizePath(r),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(r);if(0===a)try{if(void 0!==o.attributes&&!ooe()(o.attributes,l.attributes)&&0!==(i.directoryCache.delete(i.dirname(r)),s.chmod(r,o.attributes)))return void(yield i.fatalError("Unable to write the updated file attributes."));if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(r)),s.rename(r,`${i.dirname(r)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to rename file."))}yield i.sync()}finally{i._change.emit()}else yield i.error(`The path ${r} is invalid. This is a bug in CloudpilotEmu.`)})()}saveFile(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(r.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${r.name}'.`));o.fileService.saveFile(r.name,a)}finally{yield i.dismiss(),o._change.emit()}})()}archiveFiles(r,o){var i=this;return(0,M.A)(function*(){if(0===r.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=r.filter(C=>C.isDirectory).map(C=>i.normalizePath(C.path)),c=r.filter(C=>!C.isDirectory).map(C=>i.normalizePath(C.path)),d=1===r.length?`${r[0].name}.zip`:function Kne(e){return`files_${Ju(e.name)}.zip`}(i.primaryCard),{archive:p,failedItems:m}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),p&&i.fileService.saveFile(d,p)}finally{yield s.dismiss()}})()}unlinkEntry(r){var o=this;return(0,M.A)(function*(){if(r.isDirectory)return;const s=(yield o.vfs).unlinkFile(r.path);if(0!==s)return console.error(`failed to unlink ${r.path}: ${s}`),void(yield o.error(`Failed to delete: ${r.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r.path)),o._change.emit()})()}deleteRecursive(r){var o=this;return(0,M.A)(function*(){const i=r.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss(),o._change.emit()}})()}mkdir(r){var o=this;return(0,M.A)(function*(){switch((yield o.vfs).mkdir(r)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${r}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r)),o._change.emit()})()}get bytesFree(){return this._bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const r=this.storageCardService.cards().find(o=>o.storageId===this.clipboard?.storageId);return!!r&&("clean"===r.status||"dirty"===r.status&&!!r.dontFsckAutomatically)}invalidateClipboardForCard(r){this.clipboard?.storageId===r.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(r,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(r),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${r}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this._change.emit())}unpackArchive(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(r,o);let d,p;switch(yield s.dismiss(),c){case 0:d="The archive was extracted successfully, but some entries were skipped.",p="Skipped entries";break;case 2:return void(yield i.fatalError("There was an error writing to the card."));case 3:d="No space left on card.",p="No space left";break;case 1:d="There was an error reading from the archive.",p="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,C=x=>x>1?`${x} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(p,`\n                    ${d}\n                    <br><br>\n                    The archive contains ${C(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(p,`\n                    ${d}\n                    <br><br>\n                    ${TL(C(l))} unpacked succesfully, but ${C(m)} could not be unpacked.\n                `))}finally{s.dismiss(),i._change.emit()}})()}paste(r){var o=this;return(0,M.A)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(r);switch(yield i.dismiss(),s){case 2:yield o.alertService.message("No space left","No space left on card.");break;case 1:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss(),o._change.emit()}})()}addFiles(r,o){var i=this;return(0,M.A)(function*(){if(0===r.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(r,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===r.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(r.length-a.length)} to card. ${TL(l(a.length))} could not be added.\n                `))}finally{s.dismiss(),i._change.emit()}})()}get change(){return this._change}addFilesUnchecked(r,o){var i=this;return(0,M.A)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,d=!1,p=!1,m=!1;e:for(let C=0;C<r.length;C++){const x=r[C],V=s.find(Ee=>Ee.name===x.name);if(V&&V.isDirectory){if(!p){const{overwrite:ke,rememberChoice:Tt}=yield i.overwriteFileDialog(x.name,"directory");m=ke,p=Tt}let Ee=!0;if(m&&(Ee=!(yield l.deleteRecursive([i.normalizePath(`${o}/${x.name}`)])).success),Ee){a.push(x.name);continue}}if(V&&!V.isDirectory){if(!c){const{overwrite:Ee,rememberChoice:ke}=yield i.overwriteFileDialog(x.name,"file");d=Ee,c=ke}if(!d){a.push(x.name);continue}}let he;try{he=yield x.getContent()}catch(Ee){console.warn(Ee),a.push(x.name),yield i.alertService.errorMessage(`Unable to open ${x.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${x.name}`),he)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...r.slice(C).map(Ee=>Ee.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(x.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var r=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,M.A)(function*(c){if(i)return o;const{overwrite:d,rememberChoice:p}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=d,i=p,o}),function(d){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,M.A)(function*(c){if(a)return s;const{overwrite:d,rememberChoice:p}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=d,a=p,s});return function(d){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(r,o){var i=this;return(0,M.A)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),r,{...i.collisionHandlers(),onInvalidEntry:(l=(0,M.A)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(d){return l.apply(this,arguments)})});var l;return 2!==a.result&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(r){var o=this;return(0,M.A)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(r)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return 1===a||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var r=this;return(0,M.A)(function*(){if(!r.clipboard||!r.primaryCard||!r.storageCardService)throw new Error("invalid state for paste");if(r.clipboard.storageId===r.primaryCard.storageId)return r.primarySlot;if(r.secondaryCard&&r.clipboard.storageId===r.secondaryCard.storageId)return r.secondarySlot;r.secondaryCard&&(yield r.releaseCard(r.secondaryCard.id));const o=r.storageCardService.cards().find(a=>a.storageId===r.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield r.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(r.storageCardContext.claim(o.id,"vfs"),yield r.storageService.loadCardData(o.id,s,"vfs"),!i.mountImage(r.secondarySlot))throw r.storageCardContext.release(o.id,"vfs"),new Error("unable to mount card");return r.secondaryCard=o,r.secondarySlot})()}overwriteFileDialog(r,o){var i=this;return(0,M.A)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${r}?`:`\n                     Do you want to overwrite the existing directory ${r}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(r){var o=this;return(0,M.A)(function*(){yield o.alertService.errorMessage(r)})()}fatalError(r){var o=this;return(0,M.A)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:"dirty"}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${r}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var r=this;return(0,M.A)(function*(o=r.primarySlot){const i=r.mountedCards[o];if(!i)return;const s=yield r.vfs,a=s.getImageInSlot(o),l=s.getDirtyPagesForSlot(o);!a||!l||(yield r.storageService.updateCardData(i.id,a,l,"vfs"),l.fill(0))}).apply(this,arguments)}activatePrimaryCard(){var r=this;return(0,M.A)(function*(){const o=yield r.vfs;o.switchSlot(r.primarySlot),r._bytesFree.set(o.bytesFree(r.primarySlot)),r.bytesTotal=o.bytesTotal(r.primarySlot),r.directoryCache.clear()})()}updateBytesFree(){var r=this;return(0,M.A)(function*(){r._bytesFree.set((yield r.vfs).bytesFree(r.primarySlot))})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(r){this.mountedCards[this.primarySlot]=r}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(r){this.mountedCards[this.secondarySlot]=r}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr),se(Iy),se(Il),se(fs),se(wr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class ioe{constructor(){this.lockEvent=new fn.J,this.unlockEvent=new fn.J,this.lockCount=0}lock(){this.lockCount++,1===this.lockCount&&this.lockEvent.dispatch()}unlock(){0!==this.lockCount&&0===--this.lockCount&&this.unlockEvent.dispatch()}isLocked(){return this.lockCount>0}runGuarded(t){var n=this;return(0,M.A)(function*(){n.lock();try{return yield t()}finally{n.unlock()}})()}}class Ly extends Error{constructor(t){super(t)}}function AL(){return z2().replace(/-/g,"")}let kf=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,p,m,C,x,V){this.sessionService=r,this.storageService=o,this.emulationContext=i,this.nativeSupportService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=d,this.fileService=p,this.vfsService=m,this.storageCardContext=C,this.fstools=x,this.emulatorLock=V,this.mountCardEvent=new fn.J,this.deleteCardEvent=new fn.J,this.loading=!0,this._cards=Di([]),this.updateMutex=new Pa,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}get cards(){return this._cards}createEmptyCard(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function soe(e){switch(e){case 0:return 4;case 1:return 8;case 2:return 16;case 3:return 32;case 4:return 64;case 5:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:AL(),name:r,size:4*l.length,status:"clean",dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(r,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const r=this.emulationContext.session()?.mountedCard;void 0!==r&&this.storageCardContext.release(r,"cloudpilot")}loadCardInEmulator(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(yield s.vfsService.releaseCard(r),void 0!==(yield o.getMountedKey()))throw new Error("attempt to mount a card while another card is mounted");const l=o.allocateCard(a.storageId,a.size);if(!l)throw new Error("unable to allocate card data");return s.storageCardContext.claim(r,"cloudpilot"),i?l.set(i):yield s.storageService.loadCardData(a.id,l,"cloudpilot"),a})()}ejectCurrentCard(){var r=this;return(0,M.A)(function*(){const o=r.emulationContext.context();if(!o)throw new Error("no running session");const i=o.session.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield r.storageService.getCard(i);if(!s)return console.warn(`no card with id ${i}`),void(yield r.storageService.updateSessionPartial(o.session.id,{mountedCard:void 0}));yield r.emulatorLock.runGuarded((0,M.A)(function*(){yield r.storageService.updateStorageCardPartial(i,{status:"dirty"}),yield r.snapshotService.triggerSnapshot(),yield r.storageService.updateSessionPartial(o.session.id,{mountedCard:void 0}),yield o.engine.releaseCard(s.storageId),r.storageCardContext.release(i,"cloudpilot")}))})()}checkCard(r){var o=this;return(0,M.A)(function*(){const i=o.mountedInSession(r.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(r.id)}const s=yield o.executeFsckAndUpdateCard(r.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${r.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(r.id,s):o.storageCardContext.release(r.id,"fstools"))}}})()}insertCard(r){return this.checkAndClaimCard(r,"insert")}browseCard(r){var o=this;return(0,M.A)(function*(){if("vfs"===o.storageCardContext.getOwner(r.id))return yield o.vfsService.activateCard(r.id),!0;const i=o.mountedInSession(r.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(r.id)}return o.checkAndClaimCard(r.id,"vfs")})()}updateCard(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status="dirty"),i.storageService.updateStorageCardPartial(r,o)})()}deleteCard(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o._cards().find(a=>a.id===r);yield o.vfsService.releaseCard(r),yield o.ejectCard(r),yield o.storageService.deleteStorageCard(r),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.getCard(r);if(!a)throw new Error(`no card with id ${r}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const d of r){c++;const p=yield o.getCard(d);if(!p)continue;i.message=`Exporting ${c}/${r.length}...`;const m=Mf(p.name,x=>a.has(x));a.add(m);const C=yield o.getCardData(p,m,l);C&&(yield s.addEntry(`${m}.img.gz`,C))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function Zne(){return`${Ju("cards")}.zip`}(),s.getContent())})()}getCard(r){var o=this;return(0,M.A)(function*(){return o.storageService.getCard(r)})()}mountedInSession(r){return this.sessionService.sessions().find(o=>o.mountedCard===r)}isLoading(){return this.loading}addAllCardsFromArchive(r){var o=this;return(0,M.A)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=bo?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.fstools.createZipfileWalker(r);if(-1===l.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const c=l.GetTotalEntries(),d=new Set(o.cards().map(V=>V.name)),p=yield o.fstools.createGunzipContext();let m=1,C=!1;const x=[];for(;0===l.GetState();){a.message=`Importing ${m++}/${c}...`;let V=l.GetCurrentEntryName();try{if(!i.test(V))throw new Ly(`${V} has the wrong suffix to be considered as a card image.`);let he=l.GetCurrentEntryContent();if(V.endsWith(".gz")&&he&&(p.initialize(he),he=(yield p.gunzip())?p.getDecompressedData():void 0,V=V.substring(0,V.length-3)),void 0===he)throw new Ly(`Failed to extract ${V}. ${s}`);if(0===(yield o.nativeSupportService.getCardSupportLevel(he.length)))throw new Ly(`${V} is not a valid card image.`);const Ee=Mf(V.replace(i,""),ke=>d.has(ke));yield o.doCreateCardFromImage(Ee,he,!1,!0)}catch(he){if(!(he instanceof Ly))throw he;x.push(V),C||(C=yield o.alertService.messageWithChoice("Error",he.message,"Skip further errors",C,{},"Continue"))}finally{l.Next()}}x.length<=3&&x.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${x.join("<br>")}`):x.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${x.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${x.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(r,o,i){var s=this;return(0,M.A)(function*(a,l,c,d=!1){const p={storageId:AL(),name:a,size:l.length,status:d?"dirty":"clean",dontFsckAutomatically:c},m=new Uint32Array(l.buffer,l.byteOffset,l.byteLength>>>2);if(d||c)yield s.storageService.importStorageCard(p,m);else{const[C,x]=yield s.fsckNewCard(m,p);yield s.storageService.importStorageCard(x,C)}}).apply(this,arguments)}getCardData(r,o,i){var s=this;return(0,M.A)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(r.size),i){const d=i.getBuffer();a=new Uint32Array(d.buffer,d.byteOffset,d.byteLength>>2)}const l=s.mountedInSession(r.id);let c;if(l&&l.id===s.emulationContext.session()?.id){const d=s.emulationContext.engine();if(!d)throw new Error("unreachable");c=yield d.getCardData(r.storageId),c&&(a?a.set(c):a=c)}return c||(a||(a=new Uint32Array(r.size>>>2)),yield s.storageService.loadCardData(r.id,a,s.storageCardContext.getOwner(r.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var r=this;return(0,M.A)(function*(){r._cards.set(yield r.updateMutex.runExclusive((0,M.A)(function*(){return(yield r.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}cardIsMounted(r){var o=this;return(0,M.A)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===r)})()}checkAndClaimCard(r,o){var i=this;return(0,M.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");let s=yield i.getCard(r);if(!s)throw new Error(`no card with id ${r}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if("dirty"===s.status){if(a=yield i.executeFsckAndUpdateCard(r),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(r,"fstools"),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(r),!s)throw new Error(`no card with id ${r}`)}switch(s.status){case"clean":break;case"unformatted":if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;break;case"dirty":return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case"unfixable":if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(r),yield i.mountCardInEmulator(r,a?.getImageData())):(yield i.mountCardForBrowsing(r,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(d){return i.errorService.fatalBug(d instanceof Error?d.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(r))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);yield o.vfsService.releaseCard(r),o.storageCardContext.claim(r,"fstools");const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),"fstools"),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(r,{status:"clean"}),o.storageCardContext.release(r,"fstools");break;case 3:yield o.storageService.updateStorageCardPartial(r,{status:"unformatted"}),o.storageCardContext.release(r,"fstools");break;case 2:yield o.storageService.updateStorageCardPartial(r,{status:"dirty"});break;case 4:yield o.storageService.updateStorageCardPartial(r,{status:"unfixable"}),o.storageCardContext.release(r,"fstools");break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(r,o){var i=this;return(0,M.A)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(r,o.getImageData(),o.getDirtyPages(),"fstools"),yield i.storageService.updateStorageCardPartial(r,{status:"clean"}),i.storageCardContext.release(r,"fstools")}finally{s.dismiss()}})()}fsckNewCard(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(r),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[r,{...o,status:"clean"}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:"clean"}]:[r,{...o,status:"dirty"}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[r,{...o,status:"unformatted"}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[r,{...o,status:"unfixable"}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(r){var o=this;return(0,M.A)(function*(){const i=o.mountedInSession(r),s=yield o.storageService.getCard(r);!i||!s||(i.id===o.emulationContext.session()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(r,{status:"dirty"})))})()}mountCardInEmulator(r,o){var i=this;return(0,M.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");const s=i.emulationContext.engine();if(!s)throw new Error("emulation engine not initialized");const a=yield i.loadingController.create({message:"Inserting..."});try{return yield a.present(),yield i.emulatorLock.runGuarded((0,M.A)(function*(){yield i.vfsService.releaseCard(r);const l=i.emulationContext.session();if(!l)throw new Error("no current session");if(void 0!==l.mountedCard)throw new Error("session already has a mounted card");const c=yield i.loadCardInEmulator(r,s,o);if(yield i.storageService.updateStorageCardPartial(r,{status:"dirty"}),yield i.storageService.updateSessionPartial(l.id,{mountedCard:r}),!(yield s.mountCard(c.storageId)))throw yield s.releaseCard(c.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(c),c}))}finally{a.dismiss()}})()}mountCardForBrowsing(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(r,o,i)}finally{a.dismiss()}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(nu),se(tr),se(hc),se(Yh),se(fs),se(Jw),se(wr),se(Xu),se(Il),se(nd),se(Iy),se(Ry),se(Kh))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),oE=(()=>{var e;class t{constructor(r,o){this.pwaService=r,this.clipboardService=o,this.injectStyles()}get runHidden(){return"pwa"!==this.pwaService.getInstallationMode()}get nativeNetworkIntegration(){return aa.supportsNativeNetworkIntegration()}get nativeClipboard(){return aa.supportsNativeClipboard()}featureStyle(r,o){return(o?"":`.feature-${r} { display: none }\n`)+(o?`.no-feature-${r} { display: none }`:"")}injectStyles(){const r=document.createElement("style");r.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",IS())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",_l)}\n            ${this.featureStyle("ios-not-native",bo&&!_l)}\n            ${this.featureStyle("ios-or-safari",bo&&!_l||rf)}\n            ${this.featureStyle("ios",bo)}\n            ${this.featureStyle("native-network",this.nativeNetworkIntegration)}\n            ${this.featureStyle("dynamic-font-size",sf())}\n        `,document.head.appendChild(r)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Ay),se(eE))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),ML=(()=>{var e;class t{constructor(r){this.zone=r,this.modalVisibilityChangeEvent=new fn.J,this.modalActive=!1,this.enabled=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}enable(){this.enabled||(this.enabled=!0,this.modalActive&&this.modalVisibilityChangeEvent.dispatch(!0))}update(){const r=document.querySelectorAll("ion-alert, ion-modal").length>0;r!==this.modalActive&&this.zone.run(()=>{this.modalActive=r,this.enabled&&this.modalVisibilityChangeEvent.dispatch(r)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),il=(()=>{var e;class t extends Bre{constructor(r,o,i,s,a,l,c,d,p,m,C,x,V,he,Ee,ke,Tt,Lt,Mt,Rn){var Ln;super(),Ln=this,this.storageService=r,this.ngZone=o,this.loadingController=i,this.emulationContext=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.clipboardService=d,this.kvsService=p,this.networkService=m,this.buttonService=C,this.bootstrapService=x,this.storageCardService=V,this.storageCardContext=he,this.sessionsService=Ee,this.featureService=ke,this.cloudpilotPromise=Lt,this.uarmModulePromise=Mt,this.switchSession=(mo,Vs={})=>this.mutex.runExclusive((0,M.A)(function*(){if(mo===Ln.emulationContext.session()?.id)return!0;let Tl;yield Ln.stopUnchecked(),yield Ln.bootstrapService.hasRendered(),(Vs.showLoader??1)&&(Tl=yield Ln.loadingController.create({message:"Loading..."}),yield Tl.present());try{const jy=yield Ln.storageService.getSession(mo);if(!jy)throw new Error(`invalid session ${mo}`);if(Ln.emulationContext.clearContext(),!(yield Ln.restoreSession(jy)))return Ln.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;if(!Ln.engine)throw new Error("engine failed to initialize");Ln.emulationContext.setContext(jy,Ln.engine),yield Ln.sessionsService.updateSession({...jy,lastLaunch:Date.now()}),function d7(e){DS(mv,e+"")}(mo)}finally{Tl&&(yield Tl.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,M.A)(function*(){yield Ln.kvsService.mutex.runExclusive(()=>Ln.updateSettings()),yield Ln.doResume()})),this.pause=()=>this.mutex.runExclusive(()=>this.doStop()),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.block=()=>this.mutex.runExclusive(()=>this.doBlock()),this.unblock=()=>this.mutex.runExclusive(()=>this.doUnblock()),this.onSessionChange=([mo,Vs])=>{const Tl=this.emulationContext.context();mo===Tl?.session?.id&&(void 0!==Tl?.session?.mountedCard&&void 0===Vs&&this.storageCardContext.release(Tl.session.mountedCard,"cloudpilot"),void 0===Vs?(PN(),this.stop()):(Tl&&this.emulationContext.setContext(Vs,Tl.engine),this.updateSettings()))},this.onEmergencySave=()=>this.mutex.runExclusive((0,M.A)(function*(){const mo=Ln.emulationContext.session();if(!mo||!Ln.engine)return;const Vs=yield Ln.engine.getFullState();Vs&&Ln.sessionsService.emergencySaveSession(mo,Vs.rom,Vs.memory,Vs.nand,Vs.savestate)})),this.clandestineExecute=mo=>this.ngZone.runOutsideAngular(mo),this.mutex=new Pa,this.isDirty=!1,r.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.stop),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),Lt.then(mo=>{this.cloudpilotInstance=mo,this.networkService.initialize(mo),this.networkService.resumeEvent.addHandler(()=>this.processTimesliceNow())}),this.snapshotService.snapshotRequestEvent.addHandler(mo=>this.mutex.runExclusive(()=>this.snapshotNow()).then(()=>mo()).catch(mo)),Rn.lockEvent.addHandler(()=>{this.block()}),Rn.unlockEvent.addHandler(()=>{this.unblock()}),Tt.modalVisibilityChangeEvent.addHandler(mo=>mo?void Rn.lock():void Rn.unlock()),this.newFrameEvent.addHandler(()=>Tt.enable());const ua=function u7(){const e=ES(mv);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==ua&&!LN()&&(this.bootstrapCompletePromise=this.recoverStoredSession(ua))}bootstrapComplete(){return this.bootstrapCompletePromise}waitForPendingSnapshot(){var r=this;return(0,M.A)(function*(){return r.engine?.waitForPendingSnapshot()})()}flush(){return this.mutex.waitForUnlock()}updateConfiguredHotsyncName(r){const o=this.emulationContext.session();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:r})}handleFatalInNativeCode(r){this.errorService.fatalInNativeCode(r)}handlePalmosStateChange(){this.isDirty=!0}onAfterAdvanceEmulation(r){const o=this.emulationContext.session(),i=this.getOSVersion();this.isUiInitialized()&&o&&o.osVersion!==i&&this.storageService.updateSessionPartial(o.id,{osVersion:i}),this.buttonService.tick(r),this.isDirty&&(this.ngZone.run(()=>{}),this.isDirty=!1)}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.networkService.handleSuspend())}handleSnapshot(r){const o=this.emulationContext.session();if(!o)throw new Error("unreachable: handleSnapshot without session");this.snapshotService.storeSnapshot(r,o.id)}getCloudpilotInstance(){return this.cloudpilotPromise}getUarmModule(){return this.uarmModulePromise}snapshotNow(){var r=this;return(0,M.A)(function*(){if(!r.engine)return;if(r.isRunning()){const s=new Error("Immediate snapshot request while emulator is running");throw r.errorService.fatalBug(s.message),s}const o=r.emulationContext.session();if(!o)throw new Error("unreachable: emulator running w/o session");yield r.engine.waitForPendingSnapshot();const i=yield r.requestSnapshot();i?(yield r.snapshotService.storeSnapshot(i,o.id),yield r.engine.waitForPendingSnapshot()):console.warn("failed to take snapshot")})()}stopUnchecked(){var r=this;return(0,M.A)(function*(){r.emulationContext.session()&&(yield r.doStop(),yield r.snapshotNow(),r.storageCardService.onEmulatorStop(),r.emulationContext.clearContext())})()}updateSettings(){const r=this.emulationContext.session();if(!r)return;const o=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.updateEngineSettings({..."cloudpilot"===r.engine?{speed:r.speed,manageHotsyncName:r.dontManageHotsyncName,hotsyncName:r.hotsyncName,schedulerKind:this.kvsService.kvs.runHidden&&this.featureService.runHidden?1:0,clipboardIntegration:o,networkIntegration:this.kvsService.kvs.networkRedirection}:{disableAudio:r.disableAudio,targetMips:r.targetMips,warnSlowdownThreshold:r.warnSlowdownThreshold,maxHostLoad:r.maxHostLoad,runInBackground:this.kvsService.kvs.runHidden},memoryCrc:this.kvsService.kvs.snapshotIntegrityCheck&&true})}recoverStoredSession(r){var o=this;return(0,M.A)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,M.A)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(r,{showLoader:!1})}catch(a){bo&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience."),console.error(a)}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(r){var o=this;return(0,M.A)(function*(){const{rom:i,memory:s,savestate:a,nand:l}=yield o.storageService.loadSession(r,o.kvsService.kvs.snapshotIntegrityCheck);if(!i)throw new Error(`invalid ROM ${r.rom}`);const c=void 0!==r.mountedCard?yield o.storageService.getCard(r.mountedCard):void 0,d=void 0!==c?{storageKey:c?.storageId,load:p=>o.storageCardService.loadCardInEmulator(c.id,p).then(()=>{})}:void 0;if(!(yield o.openSession(i,r.device,l,s,a,d)))return!1;if(!o.engine)throw new Error("engine failed to initialize");return o.networkService.reset(),o.buttonService.reset(o.engine),o.updateEngineSettings({automaticSnapshotInterval:1e3}),yield o.snapshotService.initialize(r),!0})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr),se(We),se(fs),se(hc),se(Jw),se(Xu),se(wr),se(eE),se(Gi),se(wL),se(EL),se(DL),se(kf),se(Iy),se(nu),se(oE),se(ML),se(xy),se(uL),se(Kh))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),coe=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.loadingController=r,this.emulationService=o,this.fileService=i,this.emulationContext=s,this.emulatorLock=a,this.alertService=l}saveBackup(r){var o=this;return(0,M.A)(function*(){const i=o.emulationContext.session();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."}),{failedDatabases:a,archive:l}=yield o.emulatorLock.runGuarded((0,M.A)(function*(){yield s.present(),yield o.emulationService.flush(),yield o.emulationService.waitForPendingSnapshot();try{const c=o.emulationContext.engine();if(!c)throw new Error("emulator not running");return(yield c.backup(r))??{failedDatabases:void 0,archive:void 0}}finally{yield s.dismiss()}}));l?void 0!==a&&a.length>0?yield o.alertService.message("Backup complete",`\n                    ${jw(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(lL(i,r),l)},"Cancel"):o.fileService.saveFile(lL(i,r),l):yield o.alertService.errorMessage("Backup failed.")})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(fs),se(il),se(Il),se(hc),se(Kh),se(wr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const iE=window.AudioContext||window.webkitAudioContext;function xL(e,t=500){return new Promise((n,r)=>{setTimeout(()=>r(new Error("timeout")),t),e.then(n,r)})}class uoe{constructor(t){var n=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,M.A)(function*(){return n.initializeAudioUnguarded()})),this.updateState=()=>{this.mutex.runExclusive((0,M.A)(function*(){if(!n.audio||(n.audio.gainNode.gain.value=n.shouldMute()?0:n.gain(),n.shouldRun()?n.emulationService.enablePcmStreaming():n.emulationService.disablePcmStreaming(),n.isRunning()===n.shouldRun()))return;const r=n.audio.context.state;switch(r){case"interrupted":break;case"closed":return void console.warn("audio context closed unexpectedly, no more audio will be played")}if(n.shouldRun())try{yield xL(n.audio.context.resume()),console.log("resume audio context")}catch(o){console.error(`failed to resume audio from state ${r}`,o)}else try{yield xL(n.audio.context.suspend()),console.log("suspend audio context")}catch(o){console.error(`failed to suspend audio from state ${r}`,o)}}))},this.onPwmUpdate=function(){var r=(0,M.A)(function*(o){n.pendingPwmUpdate=o,n.applyPwmUpdate()});return function(o){return r.apply(this,arguments)}}(),this.onContextStateChange=()=>{if(this.audio)switch(console.log(`audio context state change ${this.oldAudioState} -> ${this.audio.context.state}`),this.oldAudioState=this.audio.context.state,this.audio.context.state){case"suspended":"interrupted"===this.oldAudioState&&this.shouldRun()&&this.updateState(),this.emulationService.disablePcmStreaming();break;case"running":this.emulationService.enablePcmStreaming(),this.audio.gainNode.gain.value=this.shouldMute()?0:this.gain()}},this.mutex=new Pa,this.muted=!1,this.workletBound=!1,this.oldAudioState="[new]",this.bind(),this.emulationService.openSessionEvent.addHandler(()=>this.bind()),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.palmosStateChangeEvent.addHandler(()=>this.updateState()),document.addEventListener("visibilitychange",()=>{bo&&"visible"===document.visibilityState?setTimeout(()=>this.updateState(),500):this.updateState()}),window.__cpeAudioDriver=this}isInitialized(){return void 0!==this.audio}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}reactivateRequired(){return(this.audio??!1)&&("suspended"===this.audio?.context.state||"interrupted"===this.audio?.context.state)&&this.shouldRun()}reactivate(){this.mute(!1),this.updateState()}shouldRun(){return this.gain()>0&&("hidden"!==document.visibilityState||this.runHidden())}shouldMute(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||this.muted}bind(){this.unbind(),this.pwmUpdateEvent=this.emulationService.pwmUpdateEvent(),this.pwmUpdateEvent?.addHandler(this.onPwmUpdate),this.emulationService.pcmPort()&&this.bindWorkletNode()}unbind(){this.pwmUpdateEvent?.removeHandler(this.onPwmUpdate),this.disconnectPwmSource(),this.pwmUpdateEvent=void 0,this.unbindWorkletNode()}registerWorklet(t){return(0,M.A)(function*(){const n=window.Worker;window.Worker=class{constructor(o){this.ready=t.audioWorklet.addModule(o)}};const r=new Worker(_.tu(new URL(_.p+_.u(9193),_.b)));window.Worker=n,yield r.ready})()}initializeAudioUnguarded(){var t=this;return(0,M.A)(function*(){if(t.audio)return!0;let n;try{n=t.createAudioContext()}catch(i){return console.error("web audio not available",i),!1}try{n.destination.channelCount=2}catch(i){console.warn("audio driver: failed to set channel count",i)}yield t.registerWorklet(n);const r=new AudioWorkletNode(n,"pcm-processor",{channelCount:2,numberOfOutputs:1,outputChannelCount:[2],processorOptions:{sampleRateTo:n.sampleRate}}),o=n.createGain();return o.channelInterpretation="speakers",o.gain.value=t.gain(),o.connect(n.destination),t.audio={context:n,gainNode:o,workletNode:r},n.addEventListener("statechange",t.onContextStateChange),t.updateState(),t.applyPwmUpdate(),t.bindWorkletNode(),console.log(`audio initialised at ${n.sampleRate}Hz`),!0})()}createAudioContext(){try{return new iE({sampleRate:44100,latencyHint:"interactive"})}catch(t){console.warn("failed to request context at 44100Hz , latency interactive",t)}try{return new iE({latencyHint:"interactive"})}catch(t){console.warn("failed to request context at arbitrary rate, latency interactive",t)}try{return new iE}catch(t){throw console.error("failed to request context at arbitrary rate and latency",t),t}}isRunning(){return"running"===this.audio?.context.state}applyPwmUpdate(){if(!this.audio||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:n}=this.pendingPwmUpdate,r=this.audio.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||n<=0||t>=r)return void this.disconnectPwmSource();const o=this.audio.context.createBuffer(1,Math.round(r/t),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<n?1:0;const s=this.audio.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectPwmSource(),s.connect(this.audio.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectPwmSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}dispatchPcmControlMessage(t,n){this.audio?.workletNode.port.postMessage(t,n)}bindWorkletNode(){if(this.workletBound||!this.audio)return;const t=this.emulationService.pcmPort();t&&(this.audio.workletNode.connect(this.audio.gainNode),this.dispatchPcmControlMessage({type:"setStreamMessagePort",port:t},[t]),this.shouldRun()?this.emulationService.enablePcmStreaming():this.emulationService.disablePcmStreaming(),this.workletBound=!0,console.log("bound worklet"))}unbindWorkletNode(){this.workletBound&&(this.audio?.workletNode.disconnect(),this.dispatchPcmControlMessage({type:"reset"}),this.emulationService.disablePcmStreaming(),this.workletBound=!1,console.log("unbound worklet"))}}let $y=(()=>{var e;class t extends uoe{constructor(r,o,i){super(r),this.kvs=o,this.featureService=i,this.activated=!1}activate(){this.activated=!0,this.updateState()}suspend(){this.activated=!1,this.updateState()}shouldRun(){return super.shouldRun()&&this.activated}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(il),se(Gi),se(oE))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),RL=(()=>{var e;class t{constructor(r,o){this.emulationService=r,this.ngZone=o,this.onInterval=()=>{this.emulationService.isSlowdown()?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.onOpenSession=()=>{this.reset()},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged),this.emulationService.openSessionEvent.addHandler(this.onOpenSession)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(il),se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const sE=q.m515,foe=Ww[2],poe=Ww[0],sl="rgba(0,0,0,0.2)";function NL(e){const t=Gh(e),n=(0===t.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:n},o=l=>({frameDevice:l,frameCanvas:l*n}),i=l=>({frameDevice:l,frameCanvas:r.frameCanvas+l*n}),s=o(t.silkscreenHeight>0?1:0),a=o(function voe(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:n,borderWidth:r,height:o(2*r.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),radiusDpadSelect:{frameCanvas:a.frameCanvas/5,frameDevice:a.frameDevice/5},angleDpad:Math.PI/2-Math.atan((t.width-4*a.frameDevice)/a.frameDevice)}}class yoe{constructor(t){this.skinLoader=t,this.layout=NL(sE),this.dpad=!1,this.onResize=new fn.J}get width(){switch(this.getOrientation()){case kr.portrait:case kr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case kr.portrait:case kr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.setupTransformation(),this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,n=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case kr.landscape90:{const p=c;c=this.layout.height.frameDevice-l,l=p;break}case kr.landscape270:{const p=c;c=l,l=this.layout.width.frameDevice-p;break}case kr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const d=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(n)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=d&&(c=d-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=d)return;return[l,c]}isSilkscreen(t){const[,n]=t;return!this.isButtons(t)&&n>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,n]){if(t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice)return 3;if(t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice)return 2;if(t>=2*this.layout.buttonWidth.frameDevice){if(this.dpad){const r={x:this.layout.screenWidth.frameDevice/2,y:this.layout.buttonTop.frameDevice+this.layout.buttonHeight.frameDevice/2},o={x:Math.abs(t-r.x),y:Math.abs(n-r.y)},i=Math.tan(this.layout.angleDpad);return o.x**2+o.y**2<=this.layout.radiusDpadSelect.frameDevice**2?16:n<r.y&&o.y/o.x>=i?4:n>r.y&&o.y/o.x>=i?5:t<r.x&&o.y/o.x<i?14:15}return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4}return t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t){var n=this;return(0,M.A)(function*(r,o=n.ctx?.canvas){if(!o)return;n.dpad=r,n.layout=NL(n.getDeviceId()),n.onResize.dispatch(),o.width=n.width,o.height=n.height;const i=o.getContext("2d");if(!i)throw new Error("canvas not supported - get a new browser");n.ctx=i,n.setupTransformation(),n.fillCanvasRect(0,0,n.layout.width.frameCanvas,n.layout.height.frameCanvas,n.frameColor()),n.fillRect(0,0,n.layout.screenWidth.frameDevice,n.layout.screenHeight.frameDevice+n.layout.silkscreenHeight.frameDevice+n.layout.separatorHeight.frameDevice+n.layout.buttonHeight.frameDevice,n.backgroundColor()),n.drawEmulationCanvas(),yield Promise.all([n.drawSilkscreen(),n.drawButtons()])}).apply(this,arguments)}drawButtons(){var t=this;return(0,M.A)(function*(n=[]){if(t.ctx)if(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),n.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,sl),n.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,sl),n.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,sl),n.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,sl),t.dpad){const r={x:t.layout.borderWidth.frameCanvas+t.layout.screenWidth.frameCanvas/2,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas/2},o={x:t.layout.borderWidth.frameCanvas+2*t.layout.buttonWidth.frameCanvas,y:t.layout.buttonTop.frameCanvas},i={x:t.layout.borderWidth.frameCanvas+t.layout.screenWidth.frameCanvas-2*t.layout.buttonWidth.frameCanvas,y:t.layout.buttonTop.frameCanvas},s={x:o.x,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas},a={x:i.x,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas},l=t.layout.radiusDpadSelect.frameCanvas,c=t.layout.angleDpad;n.includes(4)&&(t.ctx.beginPath(),t.ctx.moveTo(o.x,o.y),t.ctx.lineTo(i.x,i.y),t.ctx.lineTo(r.x+l*Math.cos(c),r.y-l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,-c,c-Math.PI,!0),t.ctx.lineTo(o.x,o.y),t.ctx.fillStyle=sl,t.ctx.fill()),n.includes(5)&&(t.ctx.beginPath(),t.ctx.moveTo(s.x,s.y),t.ctx.lineTo(a.x,a.y),t.ctx.lineTo(r.x+l*Math.cos(c),r.y+l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,c,Math.PI-c,!1),t.ctx.lineTo(s.x,s.y),t.ctx.fillStyle=sl,t.ctx.fill()),n.includes(14)&&(t.ctx.beginPath(),t.ctx.moveTo(o.x,o.y),t.ctx.lineTo(s.x,s.y),t.ctx.lineTo(r.x-l*Math.cos(c),r.y+l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,Math.PI-c,Math.PI+c,!1),t.ctx.lineTo(o.x,o.y),t.ctx.fillStyle=sl,t.ctx.fill()),n.includes(15)&&(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(a.x,a.y),t.ctx.lineTo(r.x+l*Math.cos(c),r.y+l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,c,-c,!0),t.ctx.lineTo(i.x,i.y),t.ctx.fillStyle=sl,t.ctx.fill()),n.includes(16)&&(t.ctx.beginPath(),t.ctx.arc(r.x,r.y,l,0,2*Math.PI),t.ctx.fillStyle=sl,t.ctx.fill())}else n.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,sl),n.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,sl)}).apply(this,arguments)}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx.resetTransform(),this.getOrientation()){case kr.portrait:case void 0:break;case kr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case kr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case kr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,M.A)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,foe),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,n,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case q.pegT600c:case q.pegT650c:return"silkscreen/clie-t600.svg";case q.pegN700c:case q.pegN600c:return"silkscreen/clie-n610.svg";case q.pegS320:case q.pegS300:return"silkscreen/clie-s300.svg";case q.pegS500c:return"silkscreen/clie-s500.svg";case q.pegT400:return"silkscreen/clie-t415.svg";case q.acerS11:return"silkscreen/acer-s10.svg";case q.palmPilot:case q.pilot:case q.iii:case q.palmVII:return"silkscreen/pilot.svg";case q.m500:return"silkscreen/m500.svg";case q.m505:case q.m515:case q.m520:return"silkscreen/m515.svg";case q.iiic:return"silkscreen/iiic.svg";case q.m100:case q.m105:case q.m125:return"silkscreen/m100.svg";case q.m130:return"silkscreen/m130.svg";case q.i710:case q.te2:return"silkscreen/tungstenw.svg";case q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case q.acerS11:return"hard-buttons/acer-s10.svg";case q.pegNR70:return"hard-buttons/clie-nr70.svg";case q.pegN700c:return"hard-buttons/clie-n700.svg";case q.pegN600c:return"hard-buttons/clie-n610.svg";case q.pegS300:return"hard-buttons/clie-s300.svg";case q.pegS500c:return"hard-buttons/clie-s500.svg";case q.pegS320:return"hard-buttons/clie-s320.svg";case q.pegT400:case q.pegT600c:case q.pegT650c:return"hard-buttons/clie-t415.svg";case q.pilot:case q.palmPilot:return"hard-buttons/pilot.svg";case q.m500:return"hard-buttons/m500.svg";case q.m505:case q.m515:case q.m520:return"hard-buttons/m515.svg";case q.iiic:return"hard-buttons/iiic.svg";case q.m100:case q.m105:return"hard-buttons/m100.svg";case q.m125:return"hard-buttons/m125.svg";case q.m130:return"hard-buttons/m130.svg";case q.i710:case q.te2:case q.frankene2:return"hard-buttons/tungstenw.svg";case q.iii:case q.iiix:case q.iiixe:case q.palmVII:case q.palmVIIEZ:case q.palmVIIx:return"hard-buttons/iiix.svg";case q.iiie:return"hard-buttons/iiie.svg";case q.i705:return"hard-buttons/i705.svg";case q.handera330:return"hard-buttons/handera330.svg";case q.handera330c:return"hard-buttons/handera330c.svg";case q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return Sw(this.getDeviceId())?"white":poe}frameColor(){return Sw(this.getDeviceId())?"white":"#ccc"}}function boe(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(),r.src=e})}class Soe{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const n=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,boe((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),r=function _oe(e,t){let n,r;const o=document.createElement("canvas");return function(){var i=(0,M.A)(function*(s,a){if(n===s&&r===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(rf||bo)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),n=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(n.then(([,o])=>o),n.then(([o])=>o));return this.images.set(t,r),r}}let By=(()=>{var e;class t extends yoe{constructor(r,o){super(new Soe(r)),this.kvsService=o,this.statisticsVisible=!1}initialize(r){var o=this;return(0,M.A)(function*(i,s=o.session){o.session=s,yield o.initWithCanvas(void 0!==o.session&&U2(o.session.device)&&!o.kvsService.kvs.dontEmulateDPad,i)}).apply(this,arguments)}clearStatistics(){var r=this;return(0,M.A)(function*(){r.statisticsVisible=!1,r.layout.silkscreenHeight.frameCanvas>0?yield r.drawSilkscreen():yield r.drawEmulationCanvas()})()}updateStatistics(r,o){var i=this;return(0,M.A)(function*(){yield i.clearStatistics(),i.drawStatistics(r,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=r,i.statisticsVisible=!0})()}screenshot(){return new Promise((r,o)=>{if(!this.ctx)return;const i=document.createElement("canvas");i.width=this.width/devicePixelRatio,i.height=this.height/devicePixelRatio;const s=i.getContext("2d");if(!s)throw new Error("unable to create intermediate canvas");s.imageSmoothingQuality="high",s.drawImage(this.ctx.canvas,0,0,i.width,i.height),i.toBlob(a=>a?r(a):o(new Error("unable to create screenshot")))})}getDeviceId(){return this.session?.device??sE}getOrientation(){return this.session?.deviceOrientation??kr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(r,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function woe(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Gh(this.session?.device??sE).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...r||o?[]:["collecting statistics..."],...r?[`last snapshot          : ${new Date(r.timestamp).toLocaleTimeString()}`,`snapshot size          : ${r.size>>>10} kB`,`snapshot time total    : ${r.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${r.timeBlocking.toFixed(2)} msec`]:[],..."cloudpilot"===o?.type?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[],..."uarm"===o?.type?[`current MIPS           : ${o.currentSpeedMips.toFixed(2)}`,`current MIPS limit     : ${o.currentMaxSpeedMips.toFixed(2)}`,`current load           : ${(o.currentSpeedMips/o.currentMaxSpeedMips*100).toFixed(2)}%`]:[]].forEach((c,d)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*d)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(xy),se(Gi))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Eoe(e,t){if(1&e){const n=wn();j(0,"ion-item",4),$e("click",function(){return ft(n),pt(it().power())}),j(1,"ion-label"),xe(2,"Power"),z(),nt(3,"ion-icon",5),z()}if(2&e){const n=it();fe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Doe(e,t){if(1&e){const n=wn();j(0,"ion-item",4),$e("click",function(){return ft(n),pt(it().hotsync())}),j(1,"ion-label"),xe(2,"Hotsync"),z(),nt(3,"ion-icon",6),z()}if(2&e){const n=it();fe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Ioe(e,t){if(1&e){const n=wn();j(0,"ion-item",4),$e("click",function(){return ft(n),pt(it().reset())}),j(1,"ion-label"),xe(2,"Reset"),z(),nt(3,"ion-icon",7),z()}if(2&e){const n=it();fe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Toe(e,t){if(1&e){const n=wn();j(0,"ion-item",8),$e("click",function(){return ft(n),pt(it().insertCard())}),j(1,"ion-label"),xe(2),z(),nt(3,"ion-icon",9),z()}if(2&e){const n=it();fe("detail",!1),ue(2),hi("Insert ",n.hasMemorystick?"stick":"SD card")}}function Aoe(e,t){if(1&e){const n=wn();j(0,"ion-item",8),$e("click",function(){return ft(n),pt(it().ejectCard())}),j(1,"ion-label"),xe(2),z(),nt(3,"ion-icon",10),z()}if(2&e){const n=it();fe("detail",!1),ue(2),hi("Eject ",n.hasMemorystick?"stick":"SD card")}}function Moe(e,t){if(1&e){const n=wn();j(0,"ion-item",8),$e("click",function(){return ft(n),pt(it().mute(!1))}),j(1,"ion-label"),xe(2),z(),nt(3,"ion-icon",11),z()}if(2&e){const n=it();fe("detail",!1),ue(2),hi("",n.audioRequiresReactivate?"Reactivate":n.isInitialized?"Unmute":"Enable"," audio")}}function xoe(e,t){if(1&e){const n=wn();j(0,"ion-item",8),$e("click",function(){return ft(n),pt(it().mute(!0))}),j(1,"ion-label"),xe(2,"Mute audio"),z(),nt(3,"ion-icon",12),z()}2&e&&fe("detail",!1)}function koe(e,t){if(1&e){const n=wn();j(0,"ion-item",4),$e("click",function(){return ft(n),pt(it().backup())}),j(1,"ion-label"),xe(2,"Save backup"),z(),nt(3,"ion-icon",13),z()}if(2&e){const n=it();fe("detail",!1)("disabled",n.backupDisabled)}}function Roe(e,t){if(1&e){const n=wn();j(0,"ion-item",8),$e("click",function(){return ft(n),pt(it().rotate())}),j(1,"ion-label"),xe(2,"Rotate"),z(),nt(3,"ion-icon",14),z()}2&e&&fe("detail",!1)}function Noe(e,t){if(1&e){const n=wn();j(0,"ion-item",8),$e("click",function(){return ft(n),pt(it().editSettings())}),j(1,"ion-label"),xe(2,"Settings"),z(),nt(3,"ion-icon",15),z()}2&e&&fe("detail",!1)}function Ooe(e,t){if(1&e){const n=wn();j(0,"ion-item",8),$e("click",function(){return ft(n),pt(it().saveScreenshot())}),j(1,"ion-label"),xe(2,"Save screenshot"),z(),nt(3,"ion-icon",16),z()}2&e&&fe("detail",!1)}function Poe(e){switch(e){case kr.portrait:case void 0:return kr.landscape90;case kr.landscape90:return kr.portrait180;case kr.portrait180:return kr.landscape270;case kr.landscape270:return kr.portrait;default:throw new Error("cannot happen")}}let Loe=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,p,m,C,x,V,he,Ee,ke,Tt,Lt,Mt,Rn){this.emulationService=r,this.emulationContext=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=d,this.modalController=p,this.sessionService=m,this.performanceWatchdogService=C,this.canvasDisplayService=x,this.nativeSupportService=V,this.storageCardService=he,this.alertService=Ee,this.alertController=ke,this.storageService=Tt,this.errorService=Lt,this.loadingController=Mt,this.fileService=Rn,this.showHelp=()=>{}}reset(){var r=this;return(0,M.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>r.emulationService.reset()},{text:"No extensions",handler:()=>r.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>r.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var r=this;return(0,M.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>r.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>r.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isInitialized(){return this.audioService.isInitialized()}get isAudioOff(){return this.kvsService.kvs.volume<=0}get audioRequiresReactivate(){return this.audioService.reactivateRequired()}mute(r){r?this.audioService.mute(!0):this.audioService.reactivateRequired()?this.audioService.reactivate():this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const r=this.emulationContext.session();return!!r&&function cne(e){switch(e){case q.i705:case q.i710:case q.pegNR70:case q.pegT650c:case q.lp168:case q.frankene2:case q.te2:return!0;default:return!1}}(r.device)}get hotsyncDisabled(){const r=this.emulationContext.session();return!!r&&function une(e){switch(e){case q.frankene2:case q.te2:return!0;default:return!1}}(r.device)}get hasActiveSession(){return!!this.emulationContext.session()}get supportsStorageCard(){const r=this.emulationContext.session();return!!r&&"none"!==ww(r.device)}get hasMemorystick(){const r=this.emulationContext.session();return!!r&&"memorystick"===ww(r.device)}get hasMountedCard(){return void 0!==this.emulationContext.session()?.mountedCard}editSettings(){var r=this;return(0,M.A)(function*(){const o=r.emulationContext.session();if(!o)return;const i=oL(o),s={...i},a=yield r.modalController.create({component:hL,backdropDismiss:!1,componentProps:{settings:i,availableDevices:[o.device],device:o.device,onSave:(l=(0,M.A)(function*(){const c=iL(o,i);(function Foe(e,t){if("cloudpilot"===e.engine&&"cloudpilot"===t.engine)return e.speed!==t.speed;if("uarm"===e.engine&&"uarm"===t.engine)return e.targetMips!==t.targetMips||e.maxHostLoad!==t.maxHostLoad||e.warnSlowdownThreshold!==t.warnSlowdownThreshold;throw new Error("unreachable")})(s,i)&&r.performanceWatchdogService.reset(),s.deviceOrientation!==i.deviceOrientation&&(r.canvasDisplayService.initialize(void 0,c),r.canvasDisplayService.updateEmulationCanvas()),yield r.sessionService.updateSession(c),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield r.popoverController.dismiss(),yield a.present()})()}rotate(){var r=this;return(0,M.A)(function*(){const o=r.emulationContext.session();if(!o)return;yield r.storageService.updateSessionPartial(o.id,{deviceOrientation:Poe(o.deviceOrientation)});const i=r.emulationContext.session();yield r.canvasDisplayService.initialize(void 0,i),r.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var r=this;return(0,M.A)(function*(){r.popoverController.dismiss();const o=r.emulationContext.session()?.device;if(void 0===o)return;const i=(yield Promise.all(r.storageCardService.cards().map(a=>r.nativeSupportService.deviceSupportsCard(o,a.size).then(l=>[a,l])))).filter(([a,l])=>l&&!r.storageCardService.mountedInSession(a.id)).map(([a])=>a);0!==i.length?yield(yield r.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>r.storageCardService.insertCard(a)}],inputs:i.map((a,l)=>({label:a.name,type:"radio",value:a.id,checked:0===l})),backdropDismiss:!1})).present():r.alertService.message("No image available",`There is no ${r.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var r=this;return(0,M.A)(function*(){try{yield r.storageCardService.ejectCurrentCard()}catch(o){r.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}r.popoverController.dismiss()})()}saveScreenshot(){var r=this;return(0,M.A)(function*(){const o=yield r.loadingController.create();try{yield o.present();const i=r.emulationContext.session();if(!i)return;const s=yield r.canvasDisplayService.screenshot();if(!s)throw new Error("screenshot is undefined");r.fileService.saveBlob(function Yne(e){return`${Ju(e.name)}.png`}(i),s)}catch(i){console.error(i),r.alertService.errorMessage("Failed to create screenshot.")}finally{yield o.dismiss()}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(il),y(hc),y(coe),y(EL),y(Lh),y(dc),y($y),y(Gi),y(js),y(nu),y(RL),y(By),y(Yh),y(kf),y(wr),y(tw),y(tr),y(Xu),y(fs),y(Il))},this.\u0275cmp=Xe({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},standalone:!1,decls:16,vars:12,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"],["lines","full","button","",3,"click","detail","disabled"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"],["name","camera-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list"),nn(1,Eoe,4,2,"ion-item",0)(2,Doe,4,2,"ion-item",0)(3,Ioe,4,2,"ion-item",0)(4,Toe,4,2,"ion-item",1)(5,Aoe,4,2,"ion-item",1)(6,Moe,4,2,"ion-item",1)(7,xoe,4,1,"ion-item",1)(8,koe,4,2,"ion-item",0)(9,Roe,4,1,"ion-item",1)(10,Noe,4,1,"ion-item",1)(11,Ooe,4,1,"ion-item",1),j(12,"ion-item",2),$e("click",function(){return i.help()}),j(13,"ion-label"),xe(14,"Help"),z(),nt(15,"ion-icon",3),z()()),2&o&&(ue(),fe("ngIf",i.hasActiveSession&&!i.powerDisabled),ue(),fe("ngIf",i.hasActiveSession&&!i.hotsyncDisabled),ue(),fe("ngIf",i.hasActiveSession),ue(),fe("ngIf",i.supportsStorageCard&&!i.hasMountedCard),ue(),fe("ngIf",i.supportsStorageCard&&i.hasMountedCard),ue(),fe("ngIf",(i.isMuted||i.audioRequiresReactivate)&&!i.isAudioOff),ue(),fe("ngIf",!i.isMuted&&!i.isAudioOff&&!i.audioRequiresReactivate),ue(),fe("ngIf",i.hasActiveSession),ue(),fe("ngIf",i.hasActiveSession),ue(),fe("ngIf",i.hasActiveSession),ue(),fe("ngIf",i.hasActiveSession),ue(),fe("detail",!1))},dependencies:[Ao,zo,Mo,Wu,sa],encapsulation:2}))}return e(),t})();class $oe{constructor(t,n){this.emulationService=t,this.canvasDisplayService=n,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const d=this.canvasDisplayService.determineButton(c);d===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):d!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=d,this.handleButtonDown(d));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&!r.ctrlKey&&!r.metaKey&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0,this.dpad=!1}bind(t,n,r=window){this.dpad=n,this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,n,r,o){t.addEventListener(n,r,o)}removeEventListener(t,n,r,o){t.removeEventListener(n,r,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey||!this.emulationService.supportsKeyboardIO()}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t)){switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":return 0;case"ArrowLeft":return this.dpad?14:0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":return 3;case"ArrowRight":return this.dpad?15:3}if(this.dpad)switch(t.key){case"Enter":case" ":return 16}}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let Boe=(()=>{var e;class t extends $oe{constructor(r,o,i,s){super(r,o),this.modalWatcher=i,this.ngZone=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.ngZone.run(()=>{})}addEventListener(r,o,i,s){this.ngZone.runOutsideAngular(()=>r.addEventListener(o,i,s))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(il),se(By),se(ML),se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function OL(e){return/\.(prc|pdb|pqa)$/i.test(e)}class PL extends Error{}class Goe{constructor(t,n,r,o,i){this.fstools=t,this.alertService=n,this.snapshotService=r,this.files=o,this.emulationContext=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,M.A)(function*(){for(const n of t.files){let r;try{r=yield n.getContent()}catch(o){console.warn(o),t.filesFail.push(n.name);continue}if(/\.zip/i.test(n.name)&&r.length<33554432)try{yield t.installZip(n)}catch{t.filesFail.push(n.name)}else OL(n.name)?yield t.installOne(n.name,r):t.filesFail.push(n.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,n){var r=this;return(0,M.A)(function*(){const o=yield r.emulationContext.engine();if(!o)throw new Error("emulator not running");const i=yield o.installDb(n);switch(i){case 2:r.filesRequireReset.push(t),r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case 1:r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case-7:throw new PL("DB installation not currently possible");default:r.filesFail.push(t),yield r.reportError(t,i)}if(2===i||1===i)try{const s=function Hoe(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(n);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${t} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,t)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var n=this;return(0,M.A)(function*(){const r=yield n.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===r.GetState();){const i=r.GetCurrentEntryName().replace(/^.*\//,"");if(!OL(r.GetCurrentEntryName())){r.Next();continue}const s=r.GetCurrentEntryContent();s?(yield n.installOne(i,s),o++):n.filesFail.push(i),r.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,n){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function Uoe(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(n)}.`)}errorDialog(t,n){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,n,"Skip any remaining errors",!1,{},"Continue").then(r=>{this.skipErrors=r})}}let zoe=(()=>{var e;class t{constructor(r,o,i,s,a,l,c){this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.fstools=a,this.emulationContext=l,this.emulatorLock=c}installFiles(r){var o=this;return(0,M.A)(function*(){try{yield o.installFilesUnguarded(r)}catch(i){if(i instanceof PL)return void o.alertService.errorMessage("Installation is not currently possible. Navigate to the PalmOS launcher and try again.");throw i}})()}installFilesUnguarded(r){var o=this;return(0,M.A)(function*(){const[i,s,a]=yield o.emulatorLock.runGuarded((0,M.A)(function*(){const d=yield o.loadingController.create({message:"Installing..."});yield d.present(),yield o.emulationService.flush(),yield o.emulationService.waitForPendingSnapshot();try{return yield new Goe(o.fstools,o.alertService,o.snapshotService,r,o.emulationContext).run()}finally{d.dismiss()}})),l=[o.messageSuccess(i),o.messageFailed(a),o.messageRequireReset(s)].filter(d=>!!d).join("<br/><br/>");let c;c=0===a.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",o.alertService.message(c,l,s.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(r){switch(r.length){case 0:return;case 1:return`Installation of ${r[0]} successful.`;default:return`Installation of ${r.length} items successful.`}}messageFailed(r){return r.length>0?`Installation of  ${jw(r)} failed.`:void 0}messageRequireReset(r){return r.length>0?`${jw(r)} require a device reset.`:void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(il),se(fs),se(Jw),se(wr),se(Ry),se(hc),se(Kh))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),aE=(()=>{var e;class t{constructor(r,o,i){this.router=r,this.canvasDisplayService=o,this.emulationContext=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=function Woe(e){const t=document.querySelectorAll(e);for(let n=0;n<t.length;n++){const r=t[n].getBoundingClientRect();if(r.height>0)return r.height}return 0}("ion-header");this.useSmallUI=void 0!==a&&this.canvasArea(window.innerHeight-a-(s?56:50)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationContext.session()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(r,o){let i,s;return r=Math.min(r,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/r>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=r,i=r/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Mi),y(By),y(hc))},this.\u0275cmp=Xe({type:t,selectors:[["app-tabs"]],standalone:!1,decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(o,i){1&o&&(j(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),nt(4,"ion-icon",3),j(5,"ion-label"),xe(6,"Emulator"),z()(),j(7,"ion-tab-button",4),nt(8,"ion-icon",5),j(9,"ion-label"),xe(10,"Sessions"),z()(),j(11,"ion-tab-button",6),nt(12,"ion-icon",7),j(13,"ion-label"),xe(14,"Cards"),z()(),j(15,"ion-tab-button",8),nt(16,"ion-icon",9),j(17,"ion-label"),xe(18,"Settings"),z()(),j(19,"ion-tab-button",10),nt(20,"ion-icon",11),j(21,"ion-label"),xe(22,"About"),z()()()()()),2&o&&(ue(2),oa("small-ui",i.smallUI)("disabled",i.isLocked()))},dependencies:[zo,Wu,gy,o2,i2],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px;position:absolute;bottom:1px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}))}return e(),t})(),lE=(()=>{var e;class t{constructor(){this.onDragOver=r=>{r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=r=>{r.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(r)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(r){this.currentClient=r}unregisterClient(r){r===this.currentClient&&(this.currentClient=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const qoe=["*"];function Zoe(e,t){1&e&&nt(0,"div",2)}let Koe=0,FL=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new yn,this.triggerId="breadcrumb-trigger-"+Koe++}handleClick(r){this.disabled||(r.preventDefault(),this.trigger.emit(this.triggerId))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(o,i){1&o&&$e("click",function(a){return i.handleClick(a)}),2&o&&(na("id",i.triggerId),oa("disabled",i.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},standalone:!1,ngContentSelectors:qoe,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(o,i){1&o&&(bt(),j(0,"div",0),yt(1),z(),nn(2,Zoe,1,0,"div",1)),2&o&&(ue(2),fe("ngIf",!i.disabled))},dependencies:[Ao],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}))}return e(),t})();var LL;const Yoe=["canvas"];function Xoe(e,t){1&e&&nt(0,"div",11),2&e&&ku("width",it().iosPlaceholderWidth)}function Qoe(e,t){if(1&e){const n=wn();j(0,"ion-button",12),$e("click",function(){return ft(n),pt(it().navigation.lock())}),nt(1,"ion-icon",13),z()}}function Joe(e,t){if(1&e){const n=wn();j(0,"ion-button",12),$e("click",function(){return ft(n),pt(it().navigation.unlock())}),nt(1,"ion-icon",14),z()}}function eie(e,t){if(1&e){const n=wn();j(0,"ion-button",12),$e("click",function(o){return ft(n),pt(it().openContextMenu(o))}),nt(1,"ion-icon",15),z()}}function tie(e,t){if(1&e){const n=wn();j(0,"ion-button",12),$e("click",function(){return ft(n),pt(it().showGameModeHint())}),nt(1,"ion-icon",16),z()}}function nie(e,t){if(1&e){const n=wn();j(0,"ion-button",12),$e("click",function(){return ft(n),pt(it().showProxyConnectedHint())}),nt(1,"ion-icon",17),z()}}function rie(e,t){if(1&e){const n=wn();j(0,"ion-button",12),$e("click",function(){return ft(n),pt(it().showSlowdowndHint())}),nt(1,"ion-icon",18),z()}}function oie(e,t){if(1&e){const n=wn();j(0,"ion-button",12),$e("click",function(o){return ft(n),pt(it().openContextMenu(o))}),nt(1,"ion-icon",15),z()}}function iie(e,t){if(1&e){const n=wn();j(0,"div",19),xe(1," The device was reset forcefully. How do you want to boot? "),j(2,"ion-button",20),$e("click",function(){return ft(n),pt(it().bootAfterForcefulReset())}),xe(3,"Normal boot"),z(),j(4,"ion-button",20),$e("click",function(){return ft(n),pt(it().bootAfterForcefulResetNoExtensions())}),xe(5,"No extensions"),z(),j(6,"ion-button",20),$e("click",function(){return ft(n),pt(it().bootAfterForcefulResetHardReset())}),xe(7,"Hard reset"),z()()}}function sie(e,t){1&e&&(j(0,"div",19)(1,"div"),xe(2,"No session selected"),z()())}class la{constructor(t,n,r,o,i,s,a,l,c,d,p,m,C,x,V,he,Ee,ke,Tt,Lt){var Mt=this;this.emulationService=t,this.emulationContext=n,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=d,this.installlationService=p,this.networkService=m,this.navigation=C,this.linkApi=x,this.performanceWatchdogService=V,this.dragDropService=he,this.sessionService=Ee,this.loadingController=ke,this.audioService=Tt,this.config=Lt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,M.A)(function*(){yield Mt.emulationService.bootstrapComplete(),Mt.bootstrapComplete=!0,Mt.audioService.activate();const Rn=Mt.emulationContext.session();Rn&&!Rn.wasResetForcefully&&(yield Mt.launchEmulator()),Mt.linkApi.installation.requestEvent.addHandler(Mt.handleLinkApiInstallationRequest),Mt.handleLinkApiInstallationRequest(),Mt.dragDropService.registerClient(Mt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.audioService.suspend(),this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.emulationService.snapshotSuccessEvent.removeHandler(this.onSnapshotSuccess),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onNewFrame=Rn=>{this.canvasDisplayService.updateEmulationCanvas(Rn)},this.onSnapshotSuccess=Rn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Rn,this.emulationService.getStatistics())},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Rn=this.linkApi.installation.receivePendingUrl();Rn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationContext.session()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Rn} ?`,{OK:()=>this.fileService.openUrl(Rn,ua=>this.installlationService.installFiles([ua]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Rn} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new Pa}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t){var n=this;return(0,M.A)(function*(r,o="trigger"){(yield n.popoverController.create({component:Loe,event:r,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:o})).present()}).apply(this,arguments)}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:Ku,componentProps:{url:Une}})).present()})()}showGameModeHint(){var t=this;return(0,M.A)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,M.A)(function*(){"native"===t.kvsService.kvs.networkRedirectionMode?yield t.alertService.message("Network session","PalmOS has opened a network session."):yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,M.A)(function*(){"cloudpilot"===t.emulationContext.engine()?.type&&(yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")),"uarm"===t.emulationContext.engine()?.type&&(yield t.alertService.message("Slow emulation","\n                Your host is too slow to run your virtual device at the configured minimum\n                speed.\n        "))})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,M.A)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,M.A)(function*(){yield t.clearForcefulReset(),yield t.emulationContext.engine()?.resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,M.A)(function*(){yield t.clearForcefulReset(),yield t.emulationContext.engine()?.resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.networkService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationContext.session()&&!this.emulationContext.session()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var n=this;return(0,M.A)(function*(){(yield n.popoverController.create({component:zne,componentProps:{sessions:n.sessionService.sessions().filter(o=>o.id!==n.emulationContext.session()?.id),onSelect:o=>n.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.sessions()}clearForcefulReset(){var t=this;return(0,M.A)(function*(){const n=t.emulationContext.session();n&&(yield t.storageService.updateSessionPartial(n.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationContext.session()?.name??"No session":""}launchEmulator(){var t=this;return(0,M.A)(function*(){const n=t.emulationContext.session();n&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,n).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.emulationService.snapshotSuccessEvent.addHandler(t.onSnapshotSuccess),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement,U2(n.device)&&!t.kvsService.kvs.dontEmulateDPad))})()}switchSession(t){var n=this;return(0,M.A)(function*(){const r=yield n.loadingController.create();yield r.present();try{if(n.lastTitle=n.title,n.switching=!0,yield n.emulationService.pause(),!(yield n.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield n.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield n.launchEmulator())}finally{r.dismiss(),n.switching=!1}})()}static#e=LL=()=>(this.\u0275fac=function(n){return new(n||la)(y(il),y(hc),y(tr),y(Boe),y(By),y(Gi),y(dc),y(js),y(wr),y(Il),y(zoe),y(wL),y(aE),y(TS),y(RL),y(lE),y(nu),y(fs),y($y),y(Th))},this.\u0275cmp=Xe({type:la,selectors:[["app-emulation"]],viewQuery:function(n,r){if(1&n&&Yl(Yoe,5),2&n){let o;ns(o=rs())&&(r.canvasRef=o.first)}},standalone:!1,decls:23,vars:23,consts:[["canvas",""],[3,"trigger","disabled"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"click","disabled"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(n,r){if(1&n){const o=wn();j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",1),$e("trigger",function(s){return ft(o),pt(r.onBreadcrumbTrigger(s))}),nn(4,Xoe,1,2,"div",2),xe(5),z()(),j(6,"ion-buttons",3)(7,"ion-button",4),$e("click",function(){return ft(o),pt(r.installFiles())}),nt(8,"ion-icon",5),z(),nn(9,Qoe,2,0,"ion-button",6)(10,Joe,2,0,"ion-button",6),z(),j(11,"ion-buttons",7),nn(12,eie,2,0,"ion-button",6)(13,tie,2,0,"ion-button",6)(14,nie,2,0,"ion-button",6)(15,rie,2,0,"ion-button",6)(16,oie,2,0,"ion-button",6),z()()(),j(17,"ion-content",8),$e("contextmenu",function(s){return ft(o),pt(r.onContextMenu(s))}),j(18,"div",9),$e("touchstart",function(s){return ft(o),pt(r.cancelIfEmulationActive(s))})("touchmove",function(s){return ft(o),pt(r.cancelIfEmulationActive(s))}),nt(19,"canvas",null,0),z(),nn(21,iie,8,0,"div",10)(22,sie,3,0,"div",10),z()}if(2&n){let o,i;ue(3),fe("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.emulationContext.session()||0===r.sessions.length),ue(),fe("ngIf","ios"===r.config.get("mode")),ue(),hi(" ",r.title),ue(2),fe("disabled",r.installFileDisabled),ue(2),fe("ngIf",!r.navigation.isLocked()),ue(),fe("ngIf",r.navigation.isLocked()),ue(2),fe("ngIf","ios"===r.config.get("mode")),ue(),fe("ngIf",r.eventHandlingService.isGameMode()),ue(),fe("ngIf",r.networkService.isConnected()),ue(),fe("ngIf",r.performanceWatchdogService.isSlowdownDetected()),ue(),fe("ngIf","ios"!==r.config.get("mode")),ue(),oa("locked",r.navigation.isLocked()),ue(),ku("display",!r.emulationContext.session()||null!=(o=r.emulationContext.session())&&o.wasResetForcefully?"none":void 0),ue(),ku("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationContext.session()?"block":"none"),ue(2),fe("ngIf",null!=(i=r.emulationContext.session())&&i.wasResetForcefully?"none":void 0),ue(),fe("ngIf",!r.emulationContext.session()&&r.bootstrapComplete&&!r.switching)}},dependencies:[Ao,ss,as,ls,cs,zo,us,ds,FL],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{cursor:default;text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc,#eee)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}))}LL(),oe([Xn()],la.prototype,"openContextMenu",null),oe([Xn()],la.prototype,"showHelp",null),oe([Xn()],la.prototype,"showGameModeHint",null),oe([Xn()],la.prototype,"showProxyConnectedHint",null),oe([Xn()],la.prototype,"showSlowdowndHint",null),oe([Xn()],la.prototype,"bootAfterForcefulReset",null),oe([Xn()],la.prototype,"bootAfterForcefulResetNoExtensions",null),oe([Xn()],la.prototype,"bootAfterForcefulResetHardReset",null),oe([Xn()],la.prototype,"onBreadcrumbTrigger",null);const aie=_.p+"assets/doc/sessions-868d7e6c0550348b.md";let lie=(()=>{var e;class t{constructor(){this.sessionCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),$e("click",function(){return null==i.onExport?null:i.onExport()}),nt(2,"ion-icon",1),xe(3," Export "),z(),j(4,"ion-item",0),$e("click",function(){return null==i.onDelete?null:i.onDelete()}),nt(5,"ion-icon",2),xe(6," Delete "),z(),j(7,"ion-item",3),$e("click",function(){return null==i.onHelp?null:i.onHelp()}),nt(8,"ion-icon",4),xe(9," Help "),z()()),2&o&&(ue(),fe("detail",!1)("disabled",0===i.sessionCount),ue(3),fe("detail",!1)("disabled",0===i.sessionCount),ue(3),fe("detail",!1))},dependencies:[zo,Mo,sa],encapsulation:2}))}return e(),t})(),uie=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onEdit()}),nt(2,"ion-icon",1),xe(3," Edit "),z(),j(4,"ion-item",0),$e("click",function(){return i.onSave()}),nt(5,"ion-icon",2),xe(6," Export "),z(),j(7,"ion-item",0),$e("click",function(){return i.onReset()}),nt(8,"ion-icon",3),xe(9," Reset "),z(),j(10,"ion-item",4),$e("click",function(){return i.onDelete()}),nt(11,"ion-icon",5),xe(12," Delete "),z()()),2&o&&(ue(),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1))},dependencies:[zo,Mo,sa],encapsulation:2}))}return e(),t})();const die=["slidingItem"];function fie(e,t){if(1&e&&(j(0,"span"),xe(1),z()),2&e){const n=it();ue(),hi(", OS ",n.decodeVersion(null==n.session?null:n.session.osVersion))}}function pie(e,t){1&e&&nt(0,"ion-icon",16)}function hie(e,t){1&e&&nt(0,"ion-icon",17)}let gie=(()=>{var e;class t{constructor(r){this.popoverController=r,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new yn,this.resetSession=new yn,this.edit=new yn,this.save=new yn,this.selectItem=new yn,this.interaction=new yn}get device(){return this.session?V2(this.session.device):""}onContextmenu(r){var o=this;return(0,M.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:uie,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(r){if(void 0===r)return"";const o=function cie(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(r);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(dc))},this.\u0275cmp=Xe({type:t,selectors:[["app-session-item"]],viewQuery:function(o,i){if(1&o&&Yl(die,5),2&o){let s;ns(s=rs())&&(i.slidingItem=s.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},standalone:!1,decls:21,vars:12,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=wn();j(0,"ion-item-sliding",1,0),$e("contextmenu",function(l){return ft(s),pt(i.onContextmenu(l))})("ionDrag",function(){return ft(s),pt(i.interaction.emit())}),j(2,"ion-item-options",2)(3,"ion-item-option",3),$e("click",function(){return ft(s),ra(1).close(),pt(i.edit.emit(i.session))}),nt(4,"ion-icon",4),z(),j(5,"ion-item-option",5),$e("click",function(){return ft(s),ra(1).close(),pt(i.save.emit(i.session))}),nt(6,"ion-icon",6),z()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),$e("click",function(){return ft(s),ra(1).close(),pt(i.resetSession.emit(i.session))}),nt(9,"ion-icon",9),z(),j(10,"ion-item-option",10),$e("click",function(){return ft(s),ra(1).close(),pt(i.delete.emit(i.session))}),nt(11,"ion-icon",11),z()(),j(12,"ion-item",12),$e("click",function(){return ft(s),pt(i.selectItem.emit())}),j(13,"ion-label")(14,"h2"),xe(15),z(),j(16,"p"),xe(17),nn(18,fie,2,1,"span",13),z()(),nn(19,pie,1,0,"ion-icon",14)(20,hie,1,0,"ion-icon",15),z()()}2&o&&(fe("disabled",i.selecting),ue(12),fe("color",i.color),ue(),oa("in-item-color",i.selected)("selecting",i.selecting),ue(2),Ps(null==i.session?null:i.session.name),ue(2),Up(" ",i.device,", ",null==i.session?null:i.session.ram,"MB RAM"),ue(),fe("ngIf",null==i.session?null:i.session.osVersion),ue(),fe("ngIf",i.selecting&&!i.selectedForExport),ue(),fe("ngIf",i.selecting&&i.selectedForExport))},dependencies:[Ao,zo,Mo,fy,py,hy,Wu],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var $L;function mie(e,t){if(1&e){const n=wn();j(0,"ion-toolbar")(1,"ion-title"),xe(2,"Sessions"),z(),j(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return ft(n),pt(it().importSession())}),nt(5,"ion-icon",9),z()(),j(6,"ion-buttons",10)(7,"ion-button",8),$e("click",function(o){return ft(n),pt(it().openActionMenu(o))}),nt(8,"ion-icon",11),z(),nt(9,"app-pwa-prompt"),z()()}}function vie(e,t){1&e&&(j(0,"ion-title"),xe(1,"Export"),z())}function yie(e,t){1&e&&(j(0,"ion-title"),xe(1,"Delete"),z())}function _ie(e,t){if(1&e){const n=wn();j(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return ft(n),pt(it(2).onSelectAll())}),xe(2,"Select all"),z()()}}function bie(e,t){if(1&e){const n=wn();j(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return ft(n),pt(it(2).selection.clear())}),xe(2,"Clear"),z()()}}function Cie(e,t){if(1&e){const n=wn();j(0,"ion-toolbar"),nn(1,vie,2,0,"ion-title",1)(2,yie,2,0,"ion-title",1),j(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return ft(n),pt(it().onSelectionDone())}),xe(5),z()(),nn(6,_ie,3,0,"ion-buttons",12)(7,bie,3,0,"ion-buttons",12),z()}if(2&e){const n=it();ue(),fe("ngIf","select-for-export"===n.mode),ue(),fe("ngIf","select-for-delete"===n.mode),ue(3),Ps(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),ue(),fe("ngIf",n.selection.size!==n.sessionCount),ue(),fe("ngIf",n.selection.size===n.sessionCount)}}function Sie(e,t){1&e&&(j(0,"ion-title",13),xe(1,"Sessions"),z())}function wie(e,t){1&e&&(j(0,"ion-title",13),xe(1,"Select for export"),z())}function Eie(e,t){1&e&&(j(0,"ion-title",13),xe(1,"Select for delete"),z())}function Die(e,t){1&e&&(j(0,"div",14),nt(1,"ion-spinner"),z())}function Iie(e,t){1&e&&(Lc(0),nt(1,"br")(2,"br"),xe(3," You can find a collection of compatible ROMs on "),j(4,"a",17),xe(5,"PalmDB"),z(),xe(6,". "),Kl())}function Tie(e,t){if(1&e&&(j(0,"div",15)(1,"div",16),xe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),nn(3,Iie,7,0,"ng-container",1),z()()),2&e){const n=it();ue(3),fe("ngIf",n.showPalmdbLink)}}function Aie(e,t){if(1&e){const n=wn();j(0,"app-session-item",19),$e("delete",function(){const o=ft(n).$implicit;return pt(it(2).deleteSession(o))})("selectItem",function(){const o=ft(n).$implicit,i=it(2);return pt("manage"===i.mode?i.launchSession(o):i.toggleSelection(o))})("edit",function(){const o=ft(n).$implicit;return pt(it(2).editSession(o))})("save",function(){const o=ft(n).$implicit;return pt(it(2).saveSession(o))})("resetSession",function(){const o=ft(n).$implicit;return pt(it(2).resetSession(o))})("interaction",function(){const o=ft(n).$implicit;return pt(it(2).lastSessionTouched=o.id)}),z()}if(2&e){const n=t.$implicit,r=it(2);fe("session",n)("selected",r.currentSessionId()===n.id)("touched",n.id===r.lastSessionTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function Mie(e,t){if(1&e&&(j(0,"ion-list"),nn(1,Aie,1,5,"app-session-item",18),z()),2&e){const n=it();ue(),fe("ngForOf",n.sessions)("ngForTrackBy",n.trackSessionBy)}}class al{constructor(t,n,r,o,i,s,a,l,c,d,p,m,C,x){this.sessionService=t,this.fileService=n,this.alertService=r,this.emulationService=o,this.emulationContext=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.nativeSupportService=d,this.dragDropService=p,this.popoverController=m,this.loadingController=C,this.cd=x,this.memoizedSessions=Zh(V=>[...V].sort((he,Ee)=>he.name.localeCompare(Ee.name))),this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const V=this.linkApi.import.receivePendingUrl();V&&this.alertService.message("Import request",`Do you want to import<br>${V} ?`,{OK:()=>this.fileService.openUrl(V,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.currentSessionOverride=Di(void 0),this.currentSessionId=Ui(()=>this.currentSessionOverride()??this.emulationContext.session()?.id)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.memoizedSessions(this.sessionService.sessions())}get sessionCount(){return this.sessionService.sessions().length}deleteSession(t){var n=this;return(0,M.A)(function*(){let r=!0;if(yield n.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{yield n.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var n=this;return(0,M.A)(function*(){const r=oL(t);void 0!==(yield n.editSettings(r,t.device))&&(yield n.sessionService.updateSession(iL(t,r)))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,n){return n.id}launchSession(t){var n=this;return(0,M.A)(function*(){n.lastSessionTouched=t.id,n.currentSessionOverride.set(t.id);const r=yield n.emulationService.switchSession(t.id);n.currentSessionOverride.set(void 0),r&&n.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var n=this;return(0,M.A)(function*(){const r=t.id===n.emulationContext.session()?.id;r&&(yield n.emulationService.stop()),yield n.storageService.deleteStateForSession(t),yield n.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),r&&(yield n.emulationService.switchSession(t.id)),yield n.alertService.message("Done",`Session ${t.name} has been reset.`)})()}showHelp(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:Ku,componentProps:{url:aie}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,M.A)(function*(){const n=new Map(t.sessionService.sessions().map(i=>[i.id,i])),r=Array.from(t.selection).map(i=>n.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(r);break;case"select-for-export":yield t.executeMassExport(r)}})()}onSelectAll(){this.sessionService.sessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,M.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:lie,event:r,componentProps:{sessionCount:n.sessionCount,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(bo&&_l)}executeMassExport(t){var n=this;return(0,M.A)(function*(){1===t.length&&(yield n.sessionService.saveSession(t[0])),t.length>1&&(yield n.sessionService.saveSessions(t))})()}executeMassDelete(t){var n=this;return(0,M.A)(function*(){if(1===t.length&&(yield n.deleteSession(t[0])),t.length>1){let r=!0;if(yield n.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield n.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var n=this;return(0,M.A)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void n.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let r;const o=yield n.loadingController.create();yield o.present();try{r=yield t.getContent()}catch(s){return console.warn(s),void(yield n.alertService.errorMessage(`Unable to open ${t.name}.`))}finally{o.dismiss()}if(t.name.endsWith(".zip")){let s=!1;return yield n.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>s=!0},"Cancel"),void(s&&(yield n.sessionService.addSessionsFromArchive(r)))}const i=yield n.nativeSupportService.deserializeSessionImage(r);if(i){const s={...sL(i.engine,i.metadata),name:n.disambiguateSessionName(i.metadata?.name??t.name)};if(void 0!==(yield n.editSettings(s,i.deviceId))){const a=yield n.sessionService.addSessionFromImage(i,s);n.lastSessionTouched=a.id}}else{const s=yield n.nativeSupportService.getRomInfo(r);if(!s)return void n.alertService.errorMessage("Not a valid session file or ROM image.");if(0===s.supportedDevices.length)return void n.alertService.errorMessage("No supported device for this ROM.");const a={...Wne({engine:s.engine,name:n.disambiguateSessionName(t.name)}),name:n.disambiguateSessionName(t.name)},[l,c]=(yield n.editSettings(a,s.supportedDevices[0],s.supportedDevices,Dy(s.supportedDevices[0])))??[];if(void 0!==l){const d=yield n.sessionService.addSessionFromRom(r,l,a,c);n.lastSessionTouched=d.id}}})()}editSettings(t,n,r=[n],o){return new Promise(i=>{let s;this.modalController.create({component:hL,backdropDismiss:!1,componentProps:{settings:t,availableDevices:r,device:n,selectNandSize:o,onSave:(a,l)=>{s.dismiss(),i([a,l])},onCancel:()=>{s.dismiss(),i(void 0)}}}).then(a=>{s=a,s.present()})})}disambiguateSessionName(t){const n=this.sessionService.sessions();return Mf(t,r=>n.some(o=>o.name===r))}static#e=$L=()=>(this.\u0275fac=function(n){return new(n||al)(y(nu),y(Il),y(wr),y(il),y(hc),y(tr),y(js),y(TS),y(Mi),y(Yh),y(lE),y(dc),y(fs),y(mt))},this.\u0275cmp=Xe({type:al,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectItem","edit","save","resetSession","interaction","session","selected","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(j(0,"ion-header",0),nn(1,mie,10,0,"ion-toolbar",1)(2,Cie,8,5,"ion-toolbar",1),z(),j(3,"ion-content",2),$e("contextmenu",function(i){return r.onContextMenu(i)}),j(4,"ion-header",3)(5,"ion-toolbar"),nn(6,Sie,2,0,"ion-title",4)(7,wie,2,0,"ion-title",4)(8,Eie,2,0,"ion-title",4),z()(),nn(9,Die,2,0,"div",5)(10,Tie,4,1,"div",6)(11,Mie,2,2,"ion-list",1),z()),2&n&&(fe("translucent",!0),ue(),fe("ngIf","manage"===r.mode),ue(),fe("ngIf","manage"!==r.mode),ue(),fe("fullscreen",!0),ue(3),fe("ngIf","manage"===r.mode),ue(),fe("ngIf","select-for-export"===r.mode),ue(),fe("ngIf","select-for-delete"===r.mode),ue(),fe("ngIf",r.sessionService.loading()),ue(),fe("ngIf",!r.sessionService.loading()&&0===r.sessionCount),ue(),fe("ngIf",!r.sessionService.loading()&&r.sessionCount>0))},dependencies:[Jl,Ao,ss,as,ls,cs,zo,sa,Oh,us,ds,My,gie],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}$L(),oe([Xn()],al.prototype,"deleteSession",null),oe([Xn()],al.prototype,"editSession",null),oe([Xn()],al.prototype,"saveSession",null),oe([Xn()],al.prototype,"launchSession",null),oe([Xn()],al.prototype,"resetSession",null),oe([Xn()],al.prototype,"onSelectionDone",null),oe([Xn()],al.prototype,"openActionMenu",null);const xie=["nav"],kie=()=>({}),Rie=e=>({selfReference:e});let Nie=(()=>{var e;class t{constructor(){this.navRoot=al}ionViewDidLeave(){var r=this;return(0,M.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave()})()}ionViewWillLeave(){var r=this;return(0,M.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave()})()}ionViewDidEnter(){var r=this;return(0,M.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-sessions-wrapper"]],viewQuery:function(o,i){if(1&o&&Yl(xie,5),2&o){let s;ns(s=rs())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:6,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&nt(0,"ion-nav",1,0),2&o&&fe("animated",!1)("root",i.navRoot)("rootParams",function gk(e,t,n,r){return mk(et(),Ci(),e,t,n,r)}(4,Rie,function hk(e,t,n){const r=Ci()+e,o=et();return o[r]===xr?yl(o,r,n?t.call(n):t()):function Dp(e,t){return e[t]}(o,r)}(3,kie)))},dependencies:[ew],encapsulation:2}))}return e(),t})();const Oie=_.p+"assets/doc/settings-a22d4120e0d9b8f0.md";function Pie(e,t){1&e&&(j(0,"ion-item",9)(1,"ion-toggle",19),xe(2,"Run when hidden"),z()())}function Fie(e,t){1&e&&(j(0,"ion-item",9)(1,"ion-toggle",20),xe(2,"Clipboard integration"),z()())}function Lie(e,t){if(1&e&&(j(0,"ion-select-option",23),xe(1),z()),2&e){const n=t.$implicit;fe("value",n[0]),ue(),hi("",n[1]," ")}}function $ie(e,t){if(1&e&&(j(0,"ion-item",9)(1,"ion-select",21),nn(2,Lie,2,2,"ion-select-option",22),z()()),2&e){const n=it();ue(2),fe("ngForOf",n.networkRedirectionModes)}}function Bie(e,t){if(1&e){const n=wn();j(0,"ion-item",9)(1,"div",24),nt(2,"ion-input",25),j(3,"ion-button",26),$e("click",function(o){ft(n);const i=it();return o.preventDefault(),o.stopPropagation(),pt(i.testProxyConnection())})("touchstart",function(o){ft(n);const i=it();return o.preventDefault(),o.stopPropagation(),pt(i.testProxyConnection())}),xe(4," Test "),z()()()}if(2&e){const n=it();ue(3),fe("disabled",!n.proxyServerValid)}}function jie(e,t){1&e&&(j(0,"ion-item",9)(1,"ion-toggle",27),xe(2,"Fixed font size"),z()())}function Vie(e,t){if(1&e&&(j(0,"ion-item",9)(1,"ion-select",28)(2,"ion-select-option",23),xe(3,"Off"),z(),j(4,"ion-select-option",23),xe(5,"Portrait"),z(),j(6,"ion-select-option",23),xe(7,"Landscape"),z(),j(8,"ion-select-option",23),xe(9,"Always"),z()()()),2&e){const n=it();ue(2),fe("value",n.indicatorFixNone),ue(2),fe("value",n.indicatorFixPortrait),ue(2),fe("value",n.indicatorFixLandscape),ue(2),fe("value",n.indicatorFixAll)}}function Uie(e,t){1&e&&(Lc(0),j(1,"h1"),xe(2,"Debug"),z(),j(3,"ion-item",9)(4,"ion-toggle",29),xe(5,"Snapshot validation (slow)"),z()(),Kl())}let Hie=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.modalController=r,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.networkBackendFactory=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,bo&&_l?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.networkRedirectionModes=[["native","Native"],["proxy","Proxy"]],this.onIndicatorFixModeChange=c=>ON(c),this.onFixedFontSizeChange=c=>function l7(e){sf()&&(DS(TN,e?"1":"0"),MN())}(!c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var r=this;return(0,M.A)(function*(){yield(yield r.modalController.create({component:Ku,componentProps:{url:Oie}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var r=this;return(0,M.A)(function*(){r.formGroup.get("networkRedirection")?.value&&"proxy"===r.formGroup.get("networkRedirectionMode")?.value&&!r.formGroup.get("proxyServer")?.valid&&(r.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),r.formGroup.get("networkRedirection").setValue(!1)),r.formGroup.get("networkRedirection")?.value||r.formGroup.get("proxyServer")?.setValue(r.kvsService.kvs.proxyServer),yield r.kvsService.set({volume:r.formGroup.get("volume").value,showStatistics:r.formGroup.get("showStatistics").value,clipboardIntegration:r.formGroup.get("clipboardIntegration")?.value,networkRedirection:r.formGroup.get("networkRedirection")?.value,networkRedirectionMode:r.featureService.nativeNetworkIntegration?r.formGroup.get("networkRedirectionMode")?.value??"proxy":"proxy",proxyServer:r.formGroup.get("proxyServer")?.value,runHidden:r.formGroup.get("runHidden")?.value,autoLockUI:r.formGroup.get("autoLockUI")?.value,enableRemoteInstall:r.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:r.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:r.formGroup.get("snapshotIntegrityCheck")?.value,dontEmulateDPad:!r.formGroup.get("emulateDPad")?.value}),r.mutexReleasePromise&&(yield r.mutexReleasePromise)()})()}testProxyConnection(){var r=this;return(0,M.A)(function*(){if(!r.connectionTestInProgress){r.connectionTestInProgress=!0;try{switch((yield r.networkBackendFactory.createBackendProxy(r.formGroup.get("proxyServer")?.value).handshake(0)).status){case"failed":r.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":r.alertService.proxyVersionMismatchError();break;default:r.alertService.message("Success","Connection to proxy successful.")}}finally{r.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value&&"native"!==this.formGroup.get("networkRedirectionMode")?.value}get showRedirectionMode(){return this.formGroup.get("networkRedirection")?.value&&this.featureService.nativeNetworkIntegration}get proxyServerValid(){const r=this.formGroup.get("proxyServer");return!(!r?.value||!r?.valid)}get showDebugOptions(){return true}get isIndicatorFixApplicable(){return IS()}get dynmicFontsSupprted(){return sf()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new ey({volume:new Lr(this.kvsService.kvs.volume),showStatistics:new Lr(this.kvsService.kvs.showStatistics),runHidden:new Lr(this.kvsService.kvs.runHidden),clipboardIntegration:new Lr(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Lr(this.kvsService.kvs.networkRedirection),networkRedirectionMode:new Lr(this.kvsService.kvs.networkRedirectionMode),proxyServer:new Lr(this.kvsService.kvs.proxyServer,{validators:[Zre]}),autoLockUI:new Lr(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Lr(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Lr(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Lr(this.kvsService.kvs.snapshotIntegrityCheck),indicatorFixMode:new Lr(NN()),fixedFontSize:new Lr(!AN()),emulateDPad:new Lr(!this.kvsService.kvs.dontEmulateDPad)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange),this.formGroup.get("fixedFontSize")?.valueChanges.subscribe(this.onFixedFontSizeChange)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(js),y(Gi),y(eE),y(wr),y(SL),y(oE))},this.\u0275cmp=Xe({type:t,selectors:[["app-settings"]],standalone:!1,decls:48,vars:10,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["label","Volume","labelPlacement","fixed","min","0","max","1","step","0.1","formControlName","volume"],["labelPlacement","fixed","formControlName","audioOnStart"],["lines","none",4,"ngIf"],["labelPlacement","fixed","formControlName","emulateDPad"],["labelPlacement","fixed","formControlName","networkRedirection"],["labelPlacement","fixed","formControlName","autoLockUI"],["labelPlacement","fixed","formControlName","showStatistics"],["labelPlacement","fixed","formControlName","enableRemoteInstall"],[4,"ngIf"],["labelPlacement","fixed","formControlName","runHidden"],["labelPlacement","fixed","formControlName","clipboardIntegration"],["formControlName","networkRedirectionMode","label","Redirection method",1,"redirection-mode-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"server-container"],["label","Proxy server","labelPlacement","stacked","placeholder","Proxy server host or URL","formControlName","proxyServer"],[1,"test-proxy-button",3,"click","touchstart","disabled"],["labelPlacement","fixed","formControlName","fixedFontSize"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],["labelPlacement","fixed","formControlName","snapshotIntegrityCheck"]],template:function(o,i){1&o&&(j(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),xe(3,"Settings"),z(),j(4,"ion-buttons",1)(5,"ion-button",2),$e("click",function(){return i.showHelp()}),nt(6,"ion-icon",3),z(),nt(7,"app-pwa-prompt"),z()()(),j(8,"ion-content",4)(9,"ion-header",5)(10,"ion-toolbar")(11,"ion-title",6),xe(12,"Settings"),z()()(),j(13,"div",7)(14,"form",8)(15,"h1"),xe(16,"Emulation"),z(),j(17,"ion-item",9),nt(18,"ion-range",10),z(),j(19,"ion-item",9)(20,"ion-toggle",11),xe(21,"Enable audio on start"),z()(),nn(22,Pie,3,0,"ion-item",12),j(23,"ion-item",9)(24,"ion-toggle",13),xe(25,"Emulate D-Pad"),z()(),j(26,"h1"),xe(27,"Host integration"),z(),nn(28,Fie,3,0,"ion-item",12),j(29,"ion-item",9)(30,"ion-toggle",14),xe(31,"Network redirection"),z()(),nn(32,$ie,3,1,"ion-item",12)(33,Bie,5,1,"ion-item",12),j(34,"h1"),xe(35,"User interface"),z(),j(36,"ion-item",9)(37,"ion-toggle",15),xe(38,"Auto-lock UI"),z()(),nn(39,jie,3,0,"ion-item",12),j(40,"ion-item",9)(41,"ion-toggle",16),xe(42,"Show statistics"),z()(),j(43,"ion-item",9)(44,"ion-toggle",17),xe(45,"Open from remote sources"),z()(),nn(46,Vie,10,4,"ion-item",12)(47,Uie,6,0,"ng-container",18),z()()()),2&o&&(fe("translucent",!0),ue(8),fe("fullscreen",!0),ue(6),fe("formGroup",i.formGroup),ue(8),fe("ngIf",i.featureRunHidden),ue(6),fe("ngIf",i.clipboardService.isSupported()),ue(4),fe("ngIf",i.showRedirectionMode),ue(),fe("ngIf",i.showProxyServer),ue(6),fe("ngIf",i.dynmicFontsSupprted),ue(7),fe("ngIf",i.isIndicatorFixApplicable),ue(),fe("ngIf",i.showDebugOptions))},dependencies:[Jl,Ao,lc,sc,ac,ss,as,ls,cs,zo,uc,Mo,J0,Rh,Nh,us,Ph,ds,If,Q0,kh,cc,My,Oa,wl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:2em}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}.test-proxy-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end;margin-right:12px}"]}))}return e(),t})();const Gie=_.p+"assets/doc/cards-75195154c07dfe52.md";let cE=(()=>{var e;class t{transform(r){return void 0!==r?`${Math.round(r/1024/1024)} MB`:""}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=pi({name:"cardSize",type:t,pure:!0,standalone:!1}))}return e(),t})();function zie(e,t){1&e&&(j(0,"div",12)(1,"b"),xe(2,"WARNING:"),z(),xe(3," This image cannot be used as a memory stick image. "),z())}let BL=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Kc({name:new Bs("",{nonNullable:!0,validators:[bh.required,this.validateNameUnique]}),size:new Bs({value:"dummy",disabled:!0}),checkAutomatically:new Bs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(kf))},this.\u0275cmp=Xe({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},standalone:!1,decls:23,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],["value","dummy"],["labelPlacement","fixed","formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),z(),j(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.save()}),xe(6,"Save"),z()(),j(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),z()()()(),j(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),j(12,"ion-item",6),nt(13,"ion-input",7),z(),j(14,"ion-item",6)(15,"ion-select",8)(16,"ion-select-option",9),xe(17),$c(18,"cardSize"),z()()(),j(19,"ion-item",6)(20,"ion-toggle",10),xe(21,"Check for errors automatically"),z()()(),nn(22,zie,4,0,"div",11),z()),2&o&&(ue(3),Ps(i.newCard?"New memory card":"Edit memory card"),ue(2),fe("disabled",i.formGroup.invalid),ue(6),fe("formGroup",i.formGroup),ue(6),hi("",Bc(18,5,null==i.card?null:i.card.size)," "),ue(5),fe("ngIf",!i.memoryStickSupported))},dependencies:[Ao,ss,as,ls,cs,uc,Mo,Rh,Nh,us,Ph,ds,If,kh,cc,lc,sc,ac,Oa,wl,cE],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}))}return e(),t})(),Wie=(()=>{var e;class t{constructor(){this.cardCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),$e("click",function(){return null==i.onExport?null:i.onExport()}),nt(2,"ion-icon",1),xe(3," Export "),z(),j(4,"ion-item",0),$e("click",function(){return null==i.onDelete?null:i.onDelete()}),nt(5,"ion-icon",2),xe(6," Delete "),z(),j(7,"ion-item",3),$e("click",function(){return null==i.onHelp?null:i.onHelp()}),nt(8,"ion-icon",4),xe(9," Help "),z()()),2&o&&(ue(),fe("detail",!1)("disabled",0===i.cardCount),ue(3),fe("detail",!1)("disabled",0===i.cardCount),ue(3),fe("detail",!1))},dependencies:[zo,Mo,sa],encapsulation:2}))}return e(),t})();function qie(e,t){if(1&e&&(j(0,"ion-select-option",11),xe(1),$c(2,"cardSize"),z()),2&e){const n=t.$implicit,r=it();fe("value",n),ue(),hi("",Bc(2,2,r.sizeBytes(n))," ")}}const Zie=[0,1,2,3,4,5];let Kie=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Kc({name:new Bs("",{nonNullable:!0,validators:[bh.required,this.validateNameUnique]}),size:new Bs(3,{nonNullable:!0}),checkAutomatically:new Bs(!0,{nonNullable:!0})})}get sizes(){return Zie}sizeBytes(r){return function aoe(e){switch(e){case 0:return 4046848;case 1:return 8110080;case 2:return 16220160;case 3:return 32473088;case 4:return 64978944;case 5:return 129990656;default:throw new Error(`bad card size ${e}`)}}(r)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(kf))},this.\u0275cmp=Xe({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},standalone:!1,decls:20,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["labelPlacement","fixed","formControlName","checkAutomatically"],[3,"value"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"New memory card"),z(),j(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.create()}),xe(6,"Create"),z()(),j(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),z()()()(),j(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),j(12,"ion-item",6),nt(13,"ion-input",7),z(),j(14,"ion-item",6)(15,"ion-select",8),nn(16,qie,3,4,"ion-select-option",9),z()(),j(17,"ion-item",6)(18,"ion-toggle",10),xe(19,"Check for errors automatically"),z()()()()),2&o&&(ue(5),fe("disabled",i.formGroup.invalid),ue(6),fe("formGroup",i.formGroup),ue(5),fe("ngForOf",i.sizes))},dependencies:[Jl,ss,as,ls,cs,uc,Mo,Rh,Nh,us,Ph,ds,If,kh,cc,lc,sc,ac,Oa,wl,cE],encapsulation:2}))}return e(),t})(),Yie=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onEdit()}),nt(2,"ion-icon",1),xe(3," Edit "),z(),j(4,"ion-item",0),$e("click",function(){return i.onSave()}),nt(5,"ion-icon",2),xe(6," Export "),z(),j(7,"ion-item",0),$e("click",function(){return i.onCheck()}),nt(8,"ion-icon",3),xe(9," Check "),z(),j(10,"ion-item",4),$e("click",function(){return i.onDelete()}),nt(11,"ion-icon",5),xe(12," Delete "),z()()),2&o&&(ue(),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1))},dependencies:[zo,Mo,sa],encapsulation:2}))}return e(),t})();function Xie(e,t){1&e&&nt(0,"ion-icon",15)}function Qie(e,t){1&e&&nt(0,"ion-icon",16)}let Jie=(()=>{var e;class t{constructor(r,o,i){this.storageCardService=r,this.popoverController=o,this.sessionService=i,this.touched=!1,this.interaction=new yn,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new yn,this.edit=new yn,this.check=new yn,this.delete=new yn,this.save=new yn}onContextmenu(r){var o=this;return(0,M.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Yie,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";this.sessionService.sessions();const r=this.storageCardService.mountedInSession(this.card?.id);if(r)return`attached to '${r.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case"dirty":return"needs check";case"clean":return"no errors";case"unformatted":return"no filesystem";case"unfixable":return"uncorrectable errors";default:throw new Error("unreachable")}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(kf),y(dc),y(nu))},this.\u0275cmp=Xe({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},standalone:!1,decls:21,vars:10,consts:[["slidingItem",""],[3,"contextmenu","ionDrag"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=wn();j(0,"ion-item-sliding",1,0),$e("contextmenu",function(l){return ft(s),pt(i.onContextmenu(l))})("ionDrag",function(){return ft(s),pt(i.interaction.emit(i.card))}),j(2,"ion-item-options",2)(3,"ion-item-option",3),$e("click",function(){return ft(s),ra(1).close(),pt(i.edit.emit(i.card))}),nt(4,"ion-icon",4),z(),j(5,"ion-item-option",5),$e("click",function(){return ft(s),ra(1).close(),pt(i.save.emit(i.card))}),nt(6,"ion-icon",6),z()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),$e("click",function(){return ft(s),ra(1).close(),pt(i.check.emit(i.card))}),nt(9,"ion-icon",9),z(),j(10,"ion-item-option",10),$e("click",function(){return ft(s),ra(1).close(),pt(i.delete.emit(i.card))}),nt(11,"ion-icon",11),z()(),j(12,"ion-item",12),$e("click",function(){return ft(s),i.selectCard.emit(),pt(i.interaction.emit())}),j(13,"ion-label")(14,"h2"),xe(15),z(),j(16,"p"),xe(17),$c(18,"cardSize"),z()(),nn(19,Xie,1,0,"ion-icon",13)(20,Qie,1,0,"ion-icon",14),z()()}2&o&&(ue(12),fe("color",i.color),ue(),oa("selecting",i.selecting),ue(2),Ps(null==i.card?null:i.card.name),ue(2),Up("",Bc(18,8,null==i.card?null:i.card.size),", ",i.status),ue(2),fe("ngIf",i.selecting&&!i.selectedForExport),ue(),fe("ngIf",i.selecting&&i.selectedForExport))},dependencies:[Ao,zo,Mo,fy,py,hy,Wu,cE],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var jL;function ese(e,t){if(1&e){const n=wn();j(0,"ion-toolbar")(1,"ion-title"),xe(2,"Memory cards"),z(),j(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return ft(n),pt(it().addCardImage())}),nt(5,"ion-icon",9),z()(),j(6,"ion-buttons",10)(7,"ion-button",8),$e("click",function(o){return ft(n),pt(it().openActionMenu(o))}),nt(8,"ion-icon",11),z(),nt(9,"app-pwa-prompt"),z()()}}function tse(e,t){1&e&&(j(0,"ion-title"),xe(1,"Export"),z())}function nse(e,t){1&e&&(j(0,"ion-title"),xe(1,"Delete"),z())}function rse(e,t){if(1&e){const n=wn();j(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return ft(n),pt(it(2).onSelectAll())}),xe(2,"Select all"),z()()}}function ose(e,t){if(1&e){const n=wn();j(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return ft(n),pt(it(2).selection.clear())}),xe(2,"Clear"),z()()}}function ise(e,t){if(1&e){const n=wn();j(0,"ion-toolbar"),nn(1,tse,2,0,"ion-title",1)(2,nse,2,0,"ion-title",1),j(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return ft(n),pt(it().onSelectionDone())}),xe(5),z()(),nn(6,rse,3,0,"ion-buttons",12)(7,ose,3,0,"ion-buttons",12),z()}if(2&e){const n=it();ue(),fe("ngIf","select-for-export"===n.mode),ue(),fe("ngIf","select-for-delete"===n.mode),ue(3),Ps(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),ue(),fe("ngIf",n.selection.size!==n.cards.length),ue(),fe("ngIf",n.selection.size===n.cards.length)}}function sse(e,t){1&e&&(j(0,"ion-title",13),xe(1,"Memory cards"),z())}function ase(e,t){1&e&&(j(0,"ion-title",13),xe(1,"Select for export"),z())}function lse(e,t){1&e&&(j(0,"ion-title",13),xe(1,"Select for delete"),z())}function cse(e,t){1&e&&(j(0,"div",14),nt(1,"ion-spinner"),z())}function use(e,t){1&e&&(j(0,"div",15)(1,"div",16),xe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),z()())}function dse(e,t){if(1&e){const n=wn();j(0,"app-storage-card",18),$e("delete",function(){const o=ft(n).$implicit;return pt(it(2).deleteCard(o))})("selectCard",function(){const o=ft(n).$implicit,i=it(2);return pt("manage"===i.mode?i.browseCard(o):i.toggleSelection(o))})("edit",function(){const o=ft(n).$implicit;return pt(it(2).editCard(o))})("check",function(){const o=ft(n).$implicit;return pt(it(2).checkCard(o))})("interaction",function(){const o=ft(n).$implicit;return pt(it(2).lastCardTouched=o.id)})("save",function(){const o=ft(n).$implicit;return pt(it(2).saveCard(o))}),z()}if(2&e){const n=t.$implicit,r=it(2);fe("card",n)("touched",n.id===r.lastCardTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function fse(e,t){if(1&e&&(j(0,"ion-list"),nn(1,dse,1,4,"app-storage-card",17),z()),2&e){const n=it();ue(),fe("ngForOf",n.cards)("ngForTrackBy",n.trackCardBy)}}class La{constructor(t,n,r,o,i,s,a,l,c,d,p){var m=this;this.actionSheetController=t,this.storageCardService=n,this.modalController=r,this.nativeSupportService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=d,this.cd=p,this.handleCardImport=function(){var C=(0,M.A)(function*(x){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(x.name))return void m.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");let V;const he=yield m.loadingController.create();yield he.present();try{V=yield x.getContent()}catch(Tt){return console.warn(Tt),void(yield m.alertService.errorMessage(`Unable to open ${x.name}".`))}finally{he.dismiss()}if(x.name.endsWith(".zip")){let Tt=!1;return yield m.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>Tt=!0},"Cancel"),void(Tt&&(yield m.storageCardService.addAllCardsFromArchive(V)))}if(/\.gz$/.test(x.name)){const Tt=yield m.loadingController.create({message:"Unpacking..."});yield Tt.present();try{V=yield m.fstools.gunzip(V)}finally{yield Tt.dismiss()}}const Ee=V?yield m.nativeSupportService.getCardSupportLevel(V.length):0;if(void 0===V||0===Ee)return void m.alertService.errorMessage("This is not a supported card image.");const ke=yield new Promise(function(){var Tt=(0,M.A)(function*(Lt){const Mt=yield m.modalController.create({component:BL,backdropDismiss:!1,componentProps:{card:{name:m.disambiguateName(x.name.replace(/\.gz$/,"")),size:V.length},cardSupportLevel:Ee,newCard:!0,onCancel:()=>{Mt.dismiss(),Lt(void 0)},onSave:Rn=>{Lt(Rn),Mt.dismiss()}}});yield Mt.present()});return function(Lt){return Tt.apply(this,arguments)}}());ke&&(yield m.storageCardService.createCardFromImage(ke.name,V,!!ke.dontFsckAutomatically))});return function(x){return C.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.cards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,M.A)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:Ku,componentProps:{url:Gie}})).present()})()}browseCard(t){var n=this;return(0,M.A)(function*(){(yield n.storageCardService.browseCard(t))&&n.onMountForBrowse(t)})()}editCard(t){var n=this;return(0,M.A)(function*(){const r=yield n.modalController.create({component:BL,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:yield n.nativeSupportService.getCardSupportLevel(t.size),onCancel:()=>r.dismiss(),onSave:(o=(0,M.A)(function*(i){yield n.storageCardService.updateCard(t.id,i),yield r.dismiss()}),function(s){return o.apply(this,arguments)})}});var o;yield r.present()})()}saveCard(t){var n=this;return(0,M.A)(function*(){const r=`${Ju(t.name.replace(/\.img$/,""))}.img`;yield(yield n.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!0)},{text:"Export uncompressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var n=this;return(0,M.A)(function*(){let r=!0;if(yield n.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{yield n.storageCardService.deleteCard(t.id)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,n){return n.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,M.A)(function*(){const n=t.mode;switch(t.mode="manage",n){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,M.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:Wie,event:r,componentProps:{cardCount:n.cards.length,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var n=this;return(0,M.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.saveCard(r));break}default:yield n.exportSelection(t)}})()}executeMassDelete(t){var n=this;return(0,M.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.deleteCard(r));break}default:{let r=!0;if(yield n.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield n.storageCardService.deleteCard(i)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var n=this;return(0,M.A)(function*(){const r=new Map(yield n.storageCardService.cards().map(i=>[i.id,i]));if(t.map(i=>r.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield n.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield n.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,M.A)(function*(){const n=yield t.modalController.create({component:Kie,backdropDismiss:!1,componentProps:{onCancel:()=>n.dismiss(),onCreate:(r=(0,M.A)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield n.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield n.present()})()}disambiguateName(t){const n=this.storageCardService.cards();return Mf(t,r=>n.some(o=>o.name===r))}static#e=jL=()=>(this.\u0275fac=function(n){return new(n||La)(y(Lh),y(kf),y(js),y(Yh),y(wr),y(Xu),y(Il),y(fs),y(Ry),y(dc),y(mt))},this.\u0275cmp=Xe({type:La,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectCard","edit","check","interaction","save","card","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(j(0,"ion-header",0),nn(1,ese,10,0,"ion-toolbar",1)(2,ise,8,5,"ion-toolbar",1),z(),j(3,"ion-content",2),$e("contextmenu",function(i){return r.onContextMenu(i)}),j(4,"ion-header",3)(5,"ion-toolbar"),nn(6,sse,2,0,"ion-title",4)(7,ase,2,0,"ion-title",4)(8,lse,2,0,"ion-title",4),z()(),nn(9,cse,2,0,"div",5)(10,use,3,0,"div",6)(11,fse,2,2,"ion-list",1),z()),2&n&&(fe("translucent",!0),ue(),fe("ngIf","manage"===r.mode),ue(),fe("ngIf","manage"!==r.mode),ue(),fe("fullscreen",!0),ue(3),fe("ngIf","manage"===r.mode),ue(),fe("ngIf","select-for-export"===r.mode),ue(),fe("ngIf","select-for-delete"===r.mode),ue(),fe("ngIf",r.storageCardService.isLoading()),ue(),fe("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),ue(),fe("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Jl,Ao,ss,as,ls,cs,zo,sa,Oh,us,ds,My,Jie],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}jL(),oe([Xn()],La.prototype,"addCardImage",null),oe([Xn()],La.prototype,"browseCard",null),oe([Xn()],La.prototype,"editCard",null),oe([Xn()],La.prototype,"saveCard",null),oe([Xn()],La.prototype,"checkCard",null),oe([Xn()],La.prototype,"deleteCard",null),oe([Xn()],La.prototype,"onSelectionDone",null),oe([Xn()],La.prototype,"openActionMenu",null);const pse=_.p+"assets/doc/card-browser-5a0261814255810d.md";function gse(e,t){1&e&&nt(0,"ion-icon",8)}function mse(e,t){1&e&&nt(0,"ion-icon",9)}function vse(e,t){1&e&&nt(0,"ion-icon",10)}function yse(e,t){if(1&e){const n=wn();j(0,"ion-item",2),$e("click",function(){const o=ft(n).index;return pt(it(2).onSelect(o))}),Lc(1,3),nn(2,gse,1,0,"ion-icon",4)(3,mse,1,0,"ion-icon",5)(4,vse,1,0,"ion-icon",6),Kl(),j(5,"div",7),xe(6),z()()}if(2&e){const n=t.$implicit,r=t.index,o=it(2);fe("detail",!1)("lines",r===o.entries.length-1?"none":"full"),ue(),fe("ngSwitch",o.entries.length),ue(),fe("ngSwitchCase",r+1),ue(),fe("ngSwitchCase",r+2),ue(3),Ps(n)}}function _se(e,t){if(1&e&&(j(0,"ion-list"),nn(1,yse,7,6,"ion-item",1),z()),2&e){const n=it();ue(),fe("ngForOf",n.entries)}}let bse=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(o,i){1&o&&nn(0,_se,2,1,"ion-list",0),2&o&&fe("ngIf",i.entries)},dependencies:[Jl,Ao,pv,iN,sN,zo,Mo,sa],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}))}return e(),t})(),Cse=(()=>{var e;class t{constructor(r){this.vfsService=r,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(nd))},this.\u0275cmp=Xe({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},standalone:!1,decls:19,vars:8,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onStartSelection()}),nt(2,"ion-icon",1),xe(3," Start selection "),z(),j(4,"ion-item",2),$e("click",function(){return i.onAddFiles()}),nt(5,"ion-icon",3),xe(6," Add files "),z(),j(7,"ion-item",2),$e("click",function(){return i.onCreateDirectry()}),nt(8,"ion-icon",4),xe(9," Add directory "),z(),j(10,"ion-item",2),$e("click",function(){return i.onExtractZipfile()}),nt(11,"ion-icon",5),xe(12," Extract zip "),z(),j(13,"ion-item",0),$e("click",function(){return i.onPaste()}),nt(14,"ion-icon",6),xe(15," Paste "),z(),j(16,"ion-item",7),$e("click",function(){return i.onHelp()}),nt(17,"ion-icon",8),xe(18," Help "),z()()),2&o&&(ue(),fe("detail",!1)("disabled",i.emptyDirectory),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1)("disabled",!i.vfsService.isClipboardPopulated()),ue(3),fe("detail",!1))},dependencies:[zo,Mo,sa],encapsulation:2}))}return e(),t})();var VL;class Rf{constructor(t,n){this.modalController=t,this.vfsService=n,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Kc({name:new Bs("",{nonNullable:!0,validators:[bh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new Bs(!1,{nonNullable:!0}),attrHidden:new Bs(!1,{nonNullable:!0}),attrSystem:new Bs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,M.A)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,M.A)(function*(){yield t.save()})()}save(){var t=this;return(0,M.A)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}static#e=VL=()=>(this.\u0275fac=function(n){return new(n||Rf)(y(js),y(nd))},this.\u0275cmp=Xe({type:Rf,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},standalone:!1,decls:29,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["labelPlacement","stacked","formControlName","name",3,"label","placeholder"],["labelPlacement","fixed","formControlName","attrReadonly"],["name","lock-closed-outline","size","small"],["labelPlacement","fixed","formControlName","attrHidden"],["name","eye-off-outline","size","small"],["labelPlacement","fixed","formControlName","attrSystem"],["name","cog-outline","size","small"]],template:function(n,r){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),z(),j(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return r.onSaveClick()}),xe(6,"Save"),z()(),j(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return r.onCancelClick()}),xe(9,"Cancel"),z()()()(),j(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return r.onEnter()}),j(12,"ion-item",6),nt(13,"ion-input",7),z(),j(14,"ion-item",6)(15,"h2"),xe(16,"Attributes"),z()(),j(17,"ion-item",6)(18,"ion-checkbox",8),nt(19,"ion-icon",9),xe(20,"Readonly"),z()(),j(21,"ion-item",6)(22,"ion-checkbox",10),nt(23,"ion-icon",11),xe(24,"Hidden"),z()(),j(25,"ion-item",6)(26,"ion-checkbox",12),nt(27,"ion-icon",13),xe(28,"System"),z()()()()),2&n&&(ue(3),hi("Edit ",r.subjectName.toLowerCase()),ue(2),fe("disabled",r.formGroup.invalid),ue(6),fe("formGroup",r.formGroup),ue(2),fe("label",NC("",r.subjectName," name"))("placeholder",NC("Enter ",r.subjectName.toLowerCase()," name")))},dependencies:[ss,as,n2,ls,cs,zo,uc,Mo,us,ds,If,cc,lc,sc,ac,Oa,wl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}))}VL(),oe([Xn()],Rf.prototype,"onSaveClick",null),oe([Xn()],Rf.prototype,"onEnter",null);let Sse=(()=>{var e;class t{constructor(r,o){this.el=r,this.zone=o;const i=r.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const r=this.el.nativeElement.querySelector("input");r&&(setTimeout(()=>r.focus(),100),this.observer?.disconnect())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(rt),y(We))},this.\u0275dir=Ut({type:t,selectors:[["","appAutofocus",""]],standalone:!1}))}return e(),t})(),wse=(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Kc({name:new Bs("",{nonNullable:!0,validators:[bh.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(nd),y(js))},this.\u0275cmp=Xe({type:t,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},standalone:!1,decls:14,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"click","disabled"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Directory name","labelPlacement","stacked","placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Create directory"),z(),j(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.onCreateClick()}),xe(6,"Create"),z()(),j(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancelClick()}),xe(9,"Cancel"),z()()()(),j(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),j(12,"ion-item",6),nt(13,"ion-input",7),z()()()),2&o&&(ue(5),fe("disabled",i.formGroup.invalid),ue(6),fe("formGroup",i.formGroup))},dependencies:[ss,as,ls,cs,uc,Mo,us,ds,cc,lc,sc,ac,Oa,wl,Sse],encapsulation:2}))}return e(),t})(),Ese=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},standalone:!1,decls:16,vars:5,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onEdit()}),nt(2,"ion-icon",1),xe(3," Edit "),z(),j(4,"ion-item",0),$e("click",function(){return i.onSave()}),nt(5,"ion-icon",2),xe(6," Save "),z(),j(7,"ion-item",0),$e("click",function(){return i.onCopy()}),nt(8,"ion-icon",3),xe(9," Copy "),z(),j(10,"ion-item",0),$e("click",function(){return i.onCut()}),nt(11,"ion-icon",4),xe(12," Cut "),z(),j(13,"ion-item",5),$e("click",function(){return i.onDelete()}),nt(14,"ion-icon",6),xe(15," Delete "),z()()),2&o&&(ue(),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1))},dependencies:[zo,Mo,sa],encapsulation:2}))}return e(),t})(),UL=(()=>{var e;class t{transform(r){return void 0===r?"":r<1024?`${r} bytes`:r<1048576?`${(r/1024).toFixed(1)} kB`:`${(r/1024/1024).toFixed(1)} MB`}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=pi({name:"fileSize",type:t,pure:!0,standalone:!1}))}return e(),t})();const Dse=["slidingItem"];function Ise(e,t){1&e&&nt(0,"ion-icon",24)}function Tse(e,t){1&e&&nt(0,"ion-icon",25)}function Ase(e,t){1&e&&nt(0,"ion-icon",26)}function Mse(e,t){1&e&&nt(0,"ion-icon",27)}function xse(e,t){1&e&&nt(0,"ion-icon",28)}function kse(e,t){1&e&&nt(0,"ion-icon",29)}function Rse(e,t){1&e&&nt(0,"ion-icon",30)}function Nse(e,t){1&e&&nt(0,"ion-icon",31)}function Ose(e,t){1&e&&nt(0,"ion-icon",32)}function Pse(e,t){if(1&e&&(Lc(0),xe(1),$c(2,"fileSize"),Kl()),2&e){const n=it();ue(),hi(" - ",Bc(2,1,null==n.entry?null:n.entry.size)," ")}}let Fse=(()=>{var e;class t{constructor(r,o,i){this.actionSheetController=r,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new yn,this.selectEntry=new yn,this.editEntry=new yn,this.copyEntry=new yn,this.cutEntry=new yn,this.deleteEntry=new yn,this.saveEntry=new yn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(r){r.selecting&&r.selecting.currentValue&&!r.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(r){var o=this;return(0,M.A)(function*(){o.selecting||(r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Ese,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var r=this;return(0,M.A)(function*(){const o=r.entry?.isDirectory?"directory":"file";(yield r.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>r.copyEntry.emit(r.entry)},{text:`Cut ${o}`,handler:()=>r.cutEntry.emit(r.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let r=0;return this.entry?.attributes.readonly&&(r+=1.7),this.entry?.attributes.hidden&&(r+=1.7),this.entry?.attributes.system&&(r+=1.7),(this.markedForCopy||this.markedForCut)&&(r+=1.7),0===r?"0":(r+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,r+"em")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Lh),y(dc),y(nd))},this.\u0275cmp=Xe({type:t,selectors:[["app-file-entry"]],viewQuery:function(o,i){if(1&o&&Yl(Dse,5),2&o){let s;ns(s=rs())&&(i.slidingItem=s.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},standalone:!1,features:[Ji],decls:29,vars:23,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color","detail"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=wn();j(0,"ion-item-sliding",1,0),$e("contextmenu",function(l){return ft(s),pt(i.onContextmenu(l))})("ionDrag",function(){return ft(s),pt(i.interaction.emit(i.entry))}),j(2,"ion-item-options",2)(3,"ion-item-option",3),$e("click",function(){return ft(s),ra(1).close(),pt(i.editEntry.emit(i.entry))}),nt(4,"ion-icon",4),z(),j(5,"ion-item-option",5),$e("click",function(){return ft(s),ra(1).close(),pt(i.saveEntry.emit(i.entry))}),nt(6,"ion-icon",6),z()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),$e("click",function(){return ft(s),ra(1).close(),pt(i.cutOrCopyEntry())}),nt(9,"ion-icon",9),z(),j(10,"ion-item-option",10),$e("click",function(){return ft(s),ra(1).close(),pt(i.deleteEntry.emit(i.entry))}),nt(11,"ion-icon",11),z()(),j(12,"ion-item",12),$e("click",function(){return ft(s),i.selectEntry.emit(),pt(i.interaction.emit())}),nn(13,Ise,1,0,"ion-icon",13)(14,Tse,1,0,"ion-icon",14),j(15,"div",15),nn(16,Ase,1,0,"ion-icon",16)(17,Mse,1,0,"ion-icon",17)(18,xse,1,0,"ion-icon",18)(19,kse,1,0,"ion-icon",19)(20,Rse,1,0,"ion-icon",20),z(),nn(21,Nse,1,0,"ion-icon",21)(22,Ose,1,0,"ion-icon",22),j(23,"ion-label")(24,"h2"),xe(25),z(),j(26,"p"),xe(27),nn(28,Pse,3,3,"ng-container",23),z()()()()}2&o&&(fe("disabled",i.selecting),ue(12),ku("opacity",i.touched?1:.99999),oa("is-directory",null==i.entry?null:i.entry.isDirectory),fe("color",i.color)("detail",(null==i.entry?null:i.entry.isDirectory)&&!i.selecting),ue(),fe("ngIf",null==i.entry?null:i.entry.isDirectory),ue(),fe("ngIf",!(null!=i.entry&&i.entry.isDirectory)),ue(2),fe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.readonly),ue(),fe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.hidden),ue(),fe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.system),ue(),fe("ngIf",i.markedForCopy),ue(),fe("ngIf",i.markedForCut),ue(),fe("ngIf",i.selecting&&!i.selected),ue(),fe("ngIf",i.selecting&&i.selected),ue(),ku("padding-right",i.safetyMargin),oa("selecting",i.selecting),ue(2),Ps(null==i.entry?null:i.entry.name),ue(2),hi(" ",null==i.entry?null:i.entry.lastModifiedLocalDate," "),ue(),fe("ngIf",!(null!=i.entry&&i.entry.isDirectory)))},dependencies:[Ao,zo,Mo,fy,py,hy,Wu,UL],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}))}return e(),t})();var HL;function Lse(e,t){if(1&e){const n=wn();j(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",7),$e("trigger",function(o){return ft(n),pt(it().openBreadcrumbMenu(o))}),xe(3),z()(),j(4,"ion-buttons",8),nt(5,"ion-back-button"),z(),j(6,"ion-buttons",9)(7,"ion-button",10),$e("click",function(o){return ft(n),pt(it().openContextMenu(o,"trigger"))}),nt(8,"ion-icon",11),z()()()}if(2&e){const n=it();ue(3),Ps(n.title)}}function $se(e,t){if(1&e){const n=wn();j(0,"ion-buttons",13)(1,"ion-button",10),$e("click",function(){return ft(n),pt(it(2).onSelectAll())}),xe(2,"Select all"),z()()}}function Bse(e,t){if(1&e){const n=wn();j(0,"ion-buttons",13)(1,"ion-button",10),$e("click",function(){return ft(n),pt(it(2).selection.clear())}),xe(2,"Clear"),z()()}}function jse(e,t){if(1&e){const n=wn();j(0,"ion-toolbar")(1,"ion-title"),xe(2,"Selection"),z(),j(3,"ion-buttons",9)(4,"ion-button",10),$e("click",function(){return ft(n),pt(it().onSelectionDone())}),xe(5),z()(),nn(6,$se,3,0,"ion-buttons",12)(7,Bse,3,0,"ion-buttons",12),z()}if(2&e){const n=it();ue(5),Ps(0===n.selection.size?"Cancel":"Done"),ue(),fe("ngIf",n.selection.size!==(null==n.entries?null:n.entries.length)),ue(),fe("ngIf",n.selection.size===(null==n.entries?null:n.entries.length))}}function Vse(e,t){if(1&e&&(j(0,"div",14)(1,"div",15),xe(2),z()()),2&e){const n=it();ue(2),hi("empty ",n.isRoot?"card":"directory")}}function Use(e,t){if(1&e){const n=wn();j(0,"app-file-entry",16),$e("selectEntry",function(){const o=ft(n).$implicit;return pt(it().onSelect(o))})("editEntry",function(){const o=ft(n).$implicit;return pt(it().onEditEntry(o))})("saveEntry",function(){const o=ft(n).$implicit;return pt(it().onSaveEntry(o))})("copyEntry",function(){const o=ft(n).$implicit;return pt(it().onCopyEntry(o))})("cutEntry",function(){const o=ft(n).$implicit;return pt(it().onCutEntry(o))})("deleteEntry",function(){const o=ft(n).$implicit;return pt(it().onDeleteEntry(o))})("interaction",function(){const o=ft(n).$implicit;return pt(it().lastEntryTouched=o.name)}),z()}if(2&e){const n=t.$implicit,r=it();fe("entry",n)("selecting","select"===r.mode)("selected",r.selection.has(n.name))("touched",n.name===r.lastEntryTouched)}}function Hse(e,t){if(1&e&&(j(0,"p"),xe(1),$c(2,"fileSize"),$c(3,"fileSize"),z()),2&e){const n=it(2);ue(),Up("",Bc(2,2,n.bytesFree())," free, ",Bc(3,4,n.bytesTotal)," total")}}function Gse(e,t){if(1&e&&(j(0,"p"),xe(1),$c(2,"fileSize"),z()),2&e){const n=it(2);ue(),RC(" ",Bc(2,3,n.bytesInFiles)," in ",n.fileCount," ",1===n.fileCount?"file":"files"," ")}}function zse(e,t){if(1&e&&(j(0,"ion-item",17)(1,"ion-label",18),nn(2,Hse,4,6,"p",1)(3,Gse,3,5,"p",1),z()()),2&e){const n=it();ue(2),fe("ngIf",n.isRoot),ue(),fe("ngIf",n.fileCount>0)}}const Wse=[];function qse(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class ca{constructor(t,n,r,o,i,s,a,l,c){this.vfsService=t,this.popoverController=n,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.loadingController=l,this.cd=c,this.memoizedEntries=Zh(d=>[...d].sort(qse)),this.bytesInFilesMemoized=Zh(d=>d?.reduce((p,m)=>p+(m.isDirectory?0:m.size),0)??0),this.fileCountMemoized=Zh(d=>d?.filter(p=>!p.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.subscriptions=[],t.change.subscribe(function hse(e,t,n){return()=>{const r=n();r!==t&&(e.markForCheck(),t=r)}}(c,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0))}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}handleDragDropEvent(t){this.fileService.openFromDrop(t,n=>this.vfsService.addFiles(n,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.bytesFree}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?this.memoizedEntries(this.vfsService.readdir(this.path)):Wse}trackEntryBy(t,n){return n.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var n=this;return(0,M.A)(function*(){yield(yield n.modalController.create({component:Rf,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var n=this;return(0,M.A)(function*(){n.path&&(t.isDirectory?yield n.vfsService.archiveFiles([t],n.path):yield n.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var n=this;return(0,M.A)(function*(){t.isDirectory?yield n.vfsService.deleteRecursive([t]):yield n.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:wse,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:r=>t.vfsService.mkdir(`${t.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,M.A)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:Ku,componentProps:{url:pse}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,M.A)(function*(){if(!t.entries)return;const n=Array.from(t.selection),r=new Map(t.entries.map(a=>[a.name,a])),o=n.every(a=>!r.get(a)?.isDirectory),i=n.every(a=>r.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,M.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.archiveFiles(n,t.path))})()}onDeleteSelection(){var t=this;return(0,M.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.deleteRecursive(n))})()}openBreadcrumbMenu(t){var n=this;return(0,M.A)(function*(){if(!n.card||!n.path)return;const r=[..."/"===n.path?[]:[...n.vfsService.splitPath(n.path).reverse().slice(1),n.card.name],"Memory cards"];(yield n.popoverController.create({component:bse,componentProps:{entries:r,onSelect:i=>n.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,n){var r=this;return(0,M.A)(function*(){(yield r.popoverController.create({component:Cse,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:t,dismissOnSelect:!0,arrow:!1,reference:n})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(n=>[n.name,n]));return Array.from(this.selection).map(n=>t.get(n)).filter(n=>!!n)}extractZipArchive(t){var n=this;return(0,M.A)(function*(){if(!/\.zip$/.test(t.name))return void(yield n.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported"));let r;const o=yield n.loadingController.create();yield o.present();try{r=yield t.getContent()}catch(i){return console.warn(i),void(yield n.alertService.errorMessage(`Unable to open ${t.name}.`))}finally{o.dismiss()}n.vfsService.unpackArchive(r,n.path||"/")})()}static#e=HL=()=>(this.\u0275fac=function(n){return new(n||ca)(y(nd),y(dc),y(Th),y(wr),y(Lh),y(js),y(Il),y(fs),y(mt))},this.\u0275cmp=Xe({type:ca,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},standalone:!1,decls:9,vars:8,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction","entry","selecting","selected","touched"],["lines","none",1,"metadata"],[1,"directory-stats"]],template:function(n,r){1&n&&(j(0,"ion-header",0),nn(1,Lse,9,1,"ion-toolbar",1)(2,jse,8,3,"ion-toolbar",1),z(),j(3,"ion-content",2),$e("contextmenu",function(i){return r.onContextMenu(i)}),j(4,"div",3),nn(5,Vse,3,1,"div",4),j(6,"ion-list"),nn(7,Use,1,4,"app-file-entry",5)(8,zse,4,2,"ion-item",6),z()()()),2&n&&(fe("translucent",!0),ue(),fe("ngIf","browse"===r.mode),ue(),fe("ngIf","select"===r.mode),ue(),fe("fullscreen",!0),ue(2),fe("ngIf",0===(null==r.entries?null:r.entries.length)),ue(2),fe("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),ue(),fe("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Jl,Ao,ss,as,ls,cs,zo,Mo,Wu,sa,us,ds,s2,FL,Fse,UL],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}.directory-stats[_ngcontent-%COMP%]{cursor:default}"],changeDetection:0}))}HL(),oe([Xn()],ca.prototype,"onSaveEntry",null),oe([Xn()],ca.prototype,"onDeleteEntry",null),oe([Xn()],ca.prototype,"onCreateDirectory",null),oe([Xn()],ca.prototype,"onPaste",null),oe([Xn()],ca.prototype,"onHelp",null),oe([Xn()],ca.prototype,"onSelectionDone",null),oe([Xn()],ca.prototype,"onSaveZip",null),oe([Xn()],ca.prototype,"onDeleteSelection",null);const Zse=["nav"],Kse=[{path:"tab",component:aE,children:[{path:"emulation",component:la},{path:"sessions",component:Nie},{path:"storage",component:(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(ca,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=La,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var r=this;return(0,M.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(r){var o=this;return(0,M.A)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent(r)})()}get animateNav(){return!o7}browseCard(r){this.currentlyBrowsingCard=r,this.nav?.push(ca,{card:r,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(r){r!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(nd),y(lE))},this.\u0275cmp=Xe({type:t,selectors:[["app-storage"]],viewQuery:function(o,i){if(1&o&&Yl(Zse,5),2&o){let s;ns(s=rs())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:3,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&nt(0,"ion-nav",1,0),2&o&&fe("animated",i.animateNav)("root",i.navRoot)("rootParams",i.navRootProps)},dependencies:[ew],encapsulation:2}))}return e(),t})()},{path:"settings",component:Hie},{path:"about",component:qh},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let Yse=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({imports:[zv.forChild(Kse),zv]}))}return e(),t})(),Xse=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({imports:[Yc,ec,zu,Yse,Hte,Gte,zte,Wte,Ute]}))}return e(),t})(),Qse=(()=>{var e;class t extends WR{pushState(r,o,i,s){this.replaceState(r,o,i,s)}static#e=e=()=>(this.\u0275fac=(()=>{let r;return function(i){return(r||(r=Qr(t)))(i||t)}})(),this.\u0275prov=Qe({token:t,factory:t.\u0275fac}))}return e(),t})();const Jse=[{path:"install",component:R2,canActivate:[N2]},{path:"import",component:R2,canActivate:[N2]},{path:"",component:aE}];let eae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Uo({type:t}),this.\u0275inj=Un({providers:[{provide:hl,useClass:Qse}],imports:[zv.forRoot(Jse,{preloadingStrategy:oY,useHash:!0}),Xse,zv]}))}return e(),t})(),GL=(()=>{var e;class t{constructor(r,o,i,s,a){var l=this;this.kvsService=r,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,M.A)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==Yu&&(yield l.kvsService.set({version:Yu,previousVersion:c,latestVersion:Yu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Yu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=Yu})),this.mutex=new Pa,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var r=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,M.A)(function*(){yield r.emulationService.bootstrapComplete(),r.alertService.updateAvailable(()=>r.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var r=this;return(0,M.A)(function*(){if(yield r.kvsService.initialize(),r.kvsService.kvs.previousVersion===Yu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield r.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var r=this;return(0,M.A)(function*(){yield(yield r.modalController.create({component:Ku,componentProps:{url:O2,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var r=this;setTimeout((0,M.A)(function*(){yield r.serviceWorkerService.update(),r.scheduleUpdateCheck()}),9e5)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Gi),se(il),se(wr),se(js),se(Ey))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),nae=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.kvsService=r,this.alertService=o,this.emulationService=i,this.pwaService=s,this.nativeAppService=a,this.serviceWorkerService=l}start(){var r=this;return(0,M.A)(function*(){yield r.handleiOSNativeAppServiceWorkerBug();const o=r.kvsService.kvs.infoId??0;r.kvsService.kvs.infoId=yield r.showInfo(o),"pwa"===r.pwaService.getInstallationMode()&&bo&&!_l&&(r.kvsService.kvs.ios174UpdateWarningId=yield r.showIOS174UpdateWarning(r.kvsService.kvs.ios174UpdateWarningId))})()}handleiOSNativeAppServiceWorkerBug(){var r=this;return(0,M.A)(function*(){if(!r.serviceWorkerService.isEnabled()||!(yield r.nativeAppService.getWorkerFailed()))return;let i=!1;yield r.alertService.message("App failed to load offline",'\n            It seems the app failed to load without internet. This is caused by an iOS bug.\n            <br><br>\n            You can fix by resetting the service worker now or by tapping\n            "reset worker" at the bottom of the "About" tab later.\n            ',{"Fix now":()=>i=!0},"Close"),i?yield r.serviceWorkerService.reset():r.nativeAppService.clearWorkerFailed()})()}showInfo(r){var o=this;return(0,M.A)(function*(){return 2===r&&bo&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(r){var o=this;return(0,M.A)(function*(){return(r??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Gi),se(wr),se(il),se(Ay),se(aa),se(Ey))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),rae=(()=>{var e;class t{constructor(r,o,i,s){this.pwaService=r,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var r=this;return(0,M.A)(function*(){r.bootstrapService.notifyHasRendered(),yield r.infoService.start(),r.pwaService.invite(),r.updateService.start()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Ay),y(GL),y(DL),y(nae))},this.\u0275cmp=Xe({type:t,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(j(0,"ion-app"),nt(1,"ion-router-outlet"),z())},dependencies:[t2,Fh],encapsulation:2}))}return e(),t})();const zL=["touchstart","click","keydown"];let oae=(()=>{var e;class t{constructor(r,o){this.kvsService=r,this.audioService=o,this.initialize()}initialize(){var r=this;return(0,M.A)(function*(){if(yield r.kvsService.initialize(),!r.kvsService.kvs.enableAudioOnFirstInteraction)return;bo&&_l&&r.audioService.initialize();const o=()=>{zL.forEach(i=>window.removeEventListener(i,o,!0)),r.audioService.initialize()};zL.forEach(i=>window.addEventListener(i,o,!0))})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Gi),se($y))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const iae=()=>{const e=new Xc;return e.link=function({href:t,tokens:n}){return`<a href="${t}" target="_blank" rel="external">${this.parser.parseInline(n)||t}</a>`},{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let sae=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr),se(il),se($y),se(nu),se(Gi),se(GL),se(oae),se(Ey))},this.\u0275mod=Uo({type:t,bootstrap:[rae]}),this.\u0275inj=Un({providers:[{provide:CP,useClass:TQ},{provide:Kh,useClass:ioe},{provide:xy,useFactory:()=>{const r=Ft.create(oee);return window.__cp_enableLogging=o=>r.then(i=>i.enableLogging(o)),r}},{provide:uL,useFactory:()=>TP(ree)},sC(()=>{return(o=Le(Gi)).initialize.bind(o)();var o}),Aq(Ou(Wc.LegacyInterceptors,[{provide:CO,useFactory:vq},{provide:sh,useExisting:CO,multi:!0}]))],imports:[X9,Yc.forRoot({innerHTMLTemplatesEnabled:!0}),eae,bw.forRoot({loader:$S,markedOptions:{provide:x2,useFactory:iae},markedExtensions:[{provide:M2,useFactory:Tee,multi:!0}]})]}))}return e(),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function a7(){sf()&&MN()}(),function p7(){vv=FN("#/install?"),yv=FN("#/import?")}(),function c7(){return!!ES(mv)}()&&!LN()||function h7(){return void 0!==vv}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),bo&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),ON()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),Y9().bootstrapModule(sae).then(e=>true).catch(e=>console.log(e))},1123:K=>{"use strict";K.exports=Error},1143:(K,Se,_)=>{"use strict";var S=_(6330),k=_(8519),L=Object;K.exports=S(function(){if(null==this||this!==L(this))throw new k("RegExp.prototype.flags getter called on non-object");var R="";return this.hasIndices&&(R+="d"),this.global&&(R+="g"),this.ignoreCase&&(R+="i"),this.multiline&&(R+="m"),this.dotAll&&(R+="s"),this.unicode&&(R+="u"),this.unicodeSets&&(R+="v"),this.sticky&&(R+="y"),R},"get flags",!0)},1197:(K,Se,_)=>{"use strict";var S=_(1963),k=_(4880),L=_(8519),W=_(9263);K.exports=function(f,P,D){if(!f||"object"!=typeof f&&"function"!=typeof f)throw new L("`obj` must be an object or a function`");if("string"!=typeof P&&"symbol"!=typeof P)throw new L("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new L("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new L("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new L("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new L("`loose`, if provided, must be a boolean");var F=arguments.length>3?arguments[3]:null,N=arguments.length>4?arguments[4]:null,H=arguments.length>5?arguments[5]:null,O=arguments.length>6&&arguments[6],I=!!W&&W(f,P);if(S)S(f,P,{configurable:null===H&&I?I.configurable:!H,enumerable:null===F&&I?I.enumerable:!F,value:D,writable:null===N&&I?I.writable:!N});else{if(!O&&(F||N||H))throw new k("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");f[P]=D}}},1393:(K,Se,_)=>{"use strict";_.r(Se),_.d(Se,{mdTransitionAnimation:()=>f});var S=_(7133),k=_(6780);_(9335),_(575),_(6721);const f=(P,D)=>{var F,N,H;const O="40px",T="back"===D.direction,ce=D.leavingEl,be=(0,k.g)(D.enteringEl),Q=be.querySelector("ion-toolbar"),Z=(0,S.c)();if(Z.addElement(be).fill("both").beforeRemoveClass("ion-page-invisible"),T?Z.duration((null!==(F=D.duration)&&void 0!==F?F:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(N=D.duration)&&void 0!==N?N:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${O})`,"translateY(0px)").fromTo("opacity",.01,1),Q){const Y=(0,S.c)();Y.addElement(Q),Z.addAnimation(Y)}if(ce&&T){Z.duration((null!==(H=D.duration)&&void 0!==H?H:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,S.c)();Y.addElement((0,k.g)(ce)).onFinish(ge=>{1===ge&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${O})`).fromTo("opacity",1,0),Z.addAnimation(Y)}return Z}},1459:(K,Se,_)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,k=_(6497);K.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&k()}},1516:K=>{"use strict";K.exports=Math.pow},1568:(K,Se,_)=>{"use strict";var S=_(3996),k=_(9364),L=_(8580);K.exports=S?function(R){return S(R)}:k?function(R){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new TypeError("getProto: not an object");return k(R)}:L?function(R){return L(R)}:null},1890:(K,Se,_)=>{"use strict";function S(L,W,R,f,P,D,F){try{var N=L[D](F),H=N.value}catch(O){return void R(O)}N.done?W(H):Promise.resolve(H).then(f,P)}function k(L){return function(){var W=this,R=arguments;return new Promise(function(f,P){var D=L.apply(W,R);function F(H){S(D,f,P,F,N,"next",H)}function N(H){S(D,f,P,F,N,"throw",H)}F(void 0)})}}_.d(Se,{A:()=>k})},1963:K=>{"use strict";var Se=Object.defineProperty||!1;if(Se)try{Se({},"a",{value:1})}catch{Se=!1}K.exports=Se},2090:(K,Se,_)=>{"use strict";var k=_(840)("SharedArrayBuffer.prototype.byteLength",!0);K.exports=k?function(W){if(!W||"object"!=typeof W)return!1;try{return k(W),!0}catch{return!1}}:function(W){return!1}},2136:K=>{"use strict";K.exports=Math.max},2179:(K,Se,_)=>{"use strict";var S=_(3889),k=_(5492)(),L=_(8519),W={assert:function(R,f){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");if(k.assert(R),!W.has(R,f))throw new L("`"+f+"` is not present on `O`")},get:function(R,f){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var P=k.get(R);return P&&P["$"+f]},has:function(R,f){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var P=k.get(R);return!!P&&S(P,"$"+f)},set:function(R,f,P){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var D=k.get(R);D||k.set(R,D={}),D["$"+f]=P}};Object.freeze&&Object.freeze(W),K.exports=W},2219:(K,Se,_)=>{"use strict";var k=_(840)("ArrayBuffer.prototype.byteLength",!0),L=_(3066);K.exports=function(R){return L(R)?k?k(R):R.byteLength:NaN}},2282:(K,Se,_)=>{"use strict";var S=_(7707),k=_(8519),L=_(7648),W=_(5124);K.exports=function(f){if(f.length<1||"function"!=typeof f[0])throw new k("a function is required");return W(S,L,f)}},2375:(K,Se,_)=>{"use strict";var S=_(2521),k=_(840),L=_(3687),W=_(8519),R=S("%Map%",!0),f=k("Map.prototype.get",!0),P=k("Map.prototype.set",!0),D=k("Map.prototype.has",!0),F=k("Map.prototype.delete",!0),N=k("Map.prototype.size",!0);K.exports=!!R&&function(){var O,I={assert:function(T){if(!I.has(T))throw new W("Side channel does not contain "+L(T))},delete:function(T){if(O){var ie=F(O,T);return 0===N(O)&&(O=void 0),ie}return!1},get:function(T){if(O)return f(O,T)},has:function(T){return!!O&&D(O,T)},set:function(T,ie){O||(O=new R),P(O,T,ie)}};return I}},2490:K=>{function Se(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}K.exports=function(S){return null!=S&&(Se(S)||function _(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&Se(S.slice(0,0))}(S)||!!S._isBuffer)}},2521:(K,Se,_)=>{"use strict";var S,k=_(7888),L=_(1123),W=_(2905),R=_(7718),f=_(3286),P=_(4880),D=_(8519),F=_(2781),N=_(7598),H=_(3116),O=_(2136),I=_(3462),T=_(1516),ie=_(5714),ce=_(497),be=Function,Q=function(ot){try{return be('"use strict"; return ('+ot+").constructor;")()}catch{}},Z=_(9263),Y=_(1963),ge=function(){throw new D},Ie=Z?function(){try{return ge}catch{try{return Z(arguments,"callee").get}catch{return ge}}}():ge,Ye=_(1459)(),te=_(1568),we=_(9364),me=_(3996),de=_(814),De=_(7648),U={},X=typeof Uint8Array>"u"||!te?S:te(Uint8Array),Ve={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":Ye&&te?te([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":L,"%eval%":eval,"%EvalError%":W,"%Float16Array%":typeof Float16Array>"u"?S:Float16Array,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":be,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ye&&te?te(te([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ye||!te?S:te((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":k,"%Object.getOwnPropertyDescriptor%":Z,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":R,"%ReferenceError%":f,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ye||!te?S:te((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ye&&te?te(""[Symbol.iterator]()):S,"%Symbol%":Ye?Symbol:S,"%SyntaxError%":P,"%ThrowTypeError%":Ie,"%TypedArray%":X,"%TypeError%":D,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":F,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet,"%Function.prototype.call%":De,"%Function.prototype.apply%":de,"%Object.defineProperty%":Y,"%Object.getPrototypeOf%":we,"%Math.abs%":N,"%Math.floor%":H,"%Math.max%":O,"%Math.min%":I,"%Math.pow%":T,"%Math.round%":ie,"%Math.sign%":ce,"%Reflect.getPrototypeOf%":me};if(te)try{null.error}catch(ot){var G=te(te(ot));Ve["%Error.prototype%"]=G}var ne=function ot(Dt){var Ke;if("%AsyncFunction%"===Dt)Ke=Q("async function () {}");else if("%GeneratorFunction%"===Dt)Ke=Q("function* () {}");else if("%AsyncGeneratorFunction%"===Dt)Ke=Q("async function* () {}");else if("%AsyncGenerator%"===Dt){var _t=ot("%AsyncGeneratorFunction%");_t&&(Ke=_t.prototype)}else if("%AsyncIteratorPrototype%"===Dt){var $t=ot("%AsyncGenerator%");$t&&te&&(Ke=te($t.prototype))}return Ve[Dt]=Ke,Ke},ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ve=_(7707),Re=_(3889),Fe=ve.call(De,Array.prototype.concat),Ce=ve.call(de,Array.prototype.splice),Je=ve.call(De,String.prototype.replace),wt=ve.call(De,String.prototype.slice),Te=ve.call(De,RegExp.prototype.exec),He=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vt=/\\(\\)?/g,Ct=function(Dt,Ke){var $t,_t=Dt;if(Re(ae,_t)&&(_t="%"+($t=ae[_t])[0]+"%"),Re(Ve,_t)){var En=Ve[_t];if(En===U&&(En=ne(_t)),typeof En>"u"&&!Ke)throw new D("intrinsic "+Dt+" exists, but is not available. Please file an issue!");return{alias:$t,name:_t,value:En}}throw new P("intrinsic "+Dt+" does not exist!")};K.exports=function(Dt,Ke){if("string"!=typeof Dt||0===Dt.length)throw new D("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ke)throw new D('"allowMissing" argument must be a boolean');if(null===Te(/^%?[^%]*%?$/,Dt))throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var _t=function(Dt){var Ke=wt(Dt,0,1),_t=wt(Dt,-1);if("%"===Ke&&"%"!==_t)throw new P("invalid intrinsic syntax, expected closing `%`");if("%"===_t&&"%"!==Ke)throw new P("invalid intrinsic syntax, expected opening `%`");var $t=[];return Je(Dt,He,function(En,Dn,Wt,Nt){$t[$t.length]=Wt?Je(Nt,vt,"$1"):Dn||En}),$t}(Dt),$t=_t.length>0?_t[0]:"",En=Ct("%"+$t+"%",Ke),Dn=En.name,Wt=En.value,Nt=!1,Ze=En.alias;Ze&&($t=Ze[0],Ce(_t,Fe([0,1],Ze)));for(var Ne=1,ze=!0;Ne<_t.length;Ne+=1){var ct=_t[Ne],Xt=wt(ct,0,1),pn=wt(ct,-1);if(('"'===Xt||"'"===Xt||"`"===Xt||'"'===pn||"'"===pn||"`"===pn)&&Xt!==pn)throw new P("property names with quotes must have matching quotes");if(("constructor"===ct||!ze)&&(Nt=!0),Re(Ve,Dn="%"+($t+="."+ct)+"%"))Wt=Ve[Dn];else if(null!=Wt){if(!(ct in Wt)){if(!Ke)throw new D("base intrinsic for "+Dt+" exists, but the property is not available.");return}if(Z&&Ne+1>=_t.length){var xn=Z(Wt,ct);Wt=(ze=!!xn)&&"get"in xn&&!("originalValue"in xn.get)?xn.get:Wt[ct]}else ze=Re(Wt,ct),Wt=Wt[ct];ze&&!Nt&&(Ve[Dn]=Wt)}}return Wt}},2634:()=>{},2781:K=>{"use strict";K.exports=URIError},2905:K=>{"use strict";K.exports=EvalError},2922:(K,Se,_)=>{var L,S=_(5e3).default,k=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(W={}){var f=W,P="object"==typeof window,D=typeof WorkerGlobalScope<"u",H=("object"==typeof process&&process.versions?.node&&process,"./this.program"),O=(g,B)=>{throw B};D&&(L=self.location.href);var ie,ce,I="";if(P||D){try{I=new URL(".",L).href}catch{}D&&(ce=g=>{var B=new XMLHttpRequest;return B.open("GET",g,!1),B.responseType="arraybuffer",B.send(null),new Uint8Array(B.response)}),ie=function(){var g=S(function*(B){var _e=yield fetch(B,{credentials:"same-origin"});if(_e.ok)return _e.arrayBuffer();throw new Error(_e.status+" : "+_e.url)});return function(_e){return g.apply(this,arguments)}}()}var Z,ge,be=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Ie(g,B){g||Ke(B)}function te(){if(!Y){var g=ur();0==g&&(g+=4);var B=ne[g>>2],_e=ne[g+4>>2];(34821223!=B||2310721022!=_e)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${Gr(g)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Gr(_e)} ${Gr(B)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var we,me,de,De,U,G,ne,Re,Ce=!1;function Je(){var g=de.buffer;De=new Int8Array(g),new Int16Array(g),f.HEAPU8=U=new Uint8Array(g),new Uint16Array(g),G=new Int32Array(g),f.HEAPU32=ne=new Uint32Array(g),new Float32Array(g),new Float64Array(g),Re=new BigInt64Array(g),new BigUint64Array(g)}var _t,ht=0,Ct=null;function Ke(g){f.onAbort?.(g),Q(g="Aborted("+g+")"),Y=!0,g+=". Build with -sASSERTIONS for more info.";var B=new WebAssembly.RuntimeError(g);throw me?.(B),B}function Wt(){return(Wt=S(function*(g){if(!Z)try{var B=yield ie(g);return new Uint8Array(B)}catch{}return function En(g){if(g==_t&&Z)return new Uint8Array(Z);if(ce)return ce(g);throw"both async and sync fetching of the wasm failed"}(g)})).apply(this,arguments)}function Ze(){return Ze=S(function*(g,B){try{var _e=yield function Dn(g){return Wt.apply(this,arguments)}(g);return yield WebAssembly.instantiate(_e,B)}catch(zt){Q(`failed to asynchronously prepare wasm: ${zt}`),Ke(zt)}}),Ze.apply(this,arguments)}function ze(){return ze=S(function*(g,B,_e){if(!g&&"function"==typeof WebAssembly.instantiateStreaming)try{var st=fetch(B,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(st,_e)}catch(An){Q(`wasm streaming compile failed: ${An}`),Q("falling back to ArrayBuffer instantiation")}return function Nt(g,B){return Ze.apply(this,arguments)}(B,_e)}),ze.apply(this,arguments)}function pn(){return pn=S(function*(){function g(An,Wn){return de=(St=An.exports).s,Je(),gs=St.Sa,function $n(g){f._main=fa=g.u,f._webidl_free=g.v,f._webidl_malloc=g.w,f._emscripten_bind_VoidPtr___destroy___0=Ni=g.x,f._emscripten_bind_FileEntry_GetName_0=vs=g.y,f._emscripten_bind_FileEntry_IsDirectory_0=Hs=g.z,f._emscripten_bind_FileEntry_GetSize_0=tt=g.A,f._emscripten_bind_FileEntry_GetModifiedTS_0=Gs=g.B,f._emscripten_bind_FileEntry_GetAttributes_0=Wi=g.C,f._emscripten_bind_FileEntry___destroy___0=Oi=g.D,f._emscripten_bind_Vfs_Vfs_0=Xo=g.E,f._emscripten_bind_Vfs_Malloc_1=pa=g.F,f._emscripten_bind_Vfs_Free_1=ys=g.G,f._emscripten_bind_Vfs_Nullptr_0=zs=g.H,f._emscripten_bind_Vfs_AllocateImage_1=Qo=g.I,f._emscripten_bind_Vfs_MountImage_1=_s=g.J,f._emscripten_bind_Vfs_UnmountImage_1=yi=g.K,f._emscripten_bind_Vfs_SwitchSlot_1=bs=g.L,f._emscripten_bind_Vfs_GetPendingImageSize_0=Cs=g.M,f._emscripten_bind_Vfs_GetSize_1=qi=g.N,f._emscripten_bind_Vfs_GetPendingImage_0=fo=g.O,f._emscripten_bind_Vfs_GetImage_1=_i=g.P,f._emscripten_bind_Vfs_GetDirtyPages_1=Zi=g.Q,f._emscripten_bind_Vfs_RenameFile_2=Ki=g.R,f._emscripten_bind_Vfs_ChmodFile_3=Ws=g.S,f._emscripten_bind_Vfs_StatFile_1=Ss=g.T,f._emscripten_bind_Vfs_UnlinkFile_1=ci=g.U,f._emscripten_bind_Vfs_Mkdir_1=Jo=g.V,f._emscripten_bind_Vfs_GetEntry_0=bi=g.W,f._emscripten_bind_Vfs_BytesFree_1=Gt=g.X,f._emscripten_bind_Vfs_BytesTotal_1=un=g.Y,f._emscripten_bind_Vfs_ReadFile_1=ha=g.Z,f._emscripten_bind_Vfs_GetCurrentFileSize_0=qs=g._,f._emscripten_bind_Vfs_GetCurrentFileContent_0=wo=g.$,f._emscripten_bind_Vfs_ReleaseCurrentFile_0=ws=g.aa,f._emscripten_bind_Vfs_WriteFile_3=Pi=g.ba,f._emscripten_bind_Vfs___destroy___0=Yi=g.ca,f._emscripten_bind_ReaddirContext_ReaddirContext_1=Es=g.da,f._emscripten_bind_ReaddirContext_Next_0=Va=g.ea,f._emscripten_bind_ReaddirContext_GetEntry_0=Zs=g.fa,f._emscripten_bind_ReaddirContext_GetStatus_0=Ds=g.ga,f._emscripten_bind_ReaddirContext_GetError_0=ga=g.ha,f._emscripten_bind_ReaddirContext_GetErrorDescription_0=Ks=g.ia,f._emscripten_bind_ReaddirContext___destroy___0=Ys=g.ja,f._emscripten_bind_ExportZipContext_ExportZipContext_2=ma=g.ka,f._emscripten_bind_ExportZipContext_AddFile_1=Xs=g.la,f._emscripten_bind_ExportZipContext_AddDirectory_1=Eo=g.ma,f._emscripten_bind_ExportZipContext_Continue_0=Qs=g.na,f._emscripten_bind_ExportZipContext_GetState_0=oo=g.oa,f._emscripten_bind_ExportZipContext_GetZipContent_0=Xi=g.pa,f._emscripten_bind_ExportZipContext_GetZipSize_0=va=g.qa,f._emscripten_bind_ExportZipContext_GetErrorItem_0=Ua=g.ra,f._emscripten_bind_ExportZipContext___destroy___0=$o=g.sa,f._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=Is=g.ta,f._emscripten_bind_DeleteRecursiveContext_AddFile_1=ya=g.ua,f._emscripten_bind_DeleteRecursiveContext_Continue_0=Js=g.va,f._emscripten_bind_DeleteRecursiveContext_GetState_0=se=g.wa,f._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=ea=g.xa,f._emscripten_bind_DeleteRecursiveContext___destroy___0=Le=g.ya,f._emscripten_bind_UnzipContext_UnzipContext_4=ui=g.za,f._emscripten_bind_UnzipContext_GetState_0=_a=g.Aa,f._emscripten_bind_UnzipContext_Continue_0=Ts=g.Ba,f._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=Fi=g.Ca,f._emscripten_bind_UnzipContext_GetCurrentEntry_0=cl=g.Da,f._emscripten_bind_UnzipContext_GetCollisionPath_0=h=g.Ea,f._emscripten_bind_UnzipContext_GetEntriesTotal_0=v=g.Fa,f._emscripten_bind_UnzipContext_GetEntriesSuccess_0=w=g.Ga,f._emscripten_bind_UnzipContext___destroy___0=A=g.Ha,f._emscripten_bind_PasteContext_PasteContext_3=ee=g.Ia,f._emscripten_bind_PasteContext_AddFile_1=J=g.Ja,f._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=Ue=g.Ka,f._emscripten_bind_PasteContext_GetState_0=pe=g.La,f._emscripten_bind_PasteContext_Continue_0=qe=g.Ma,f._emscripten_bind_PasteContext_ContinueWithOverwrite_0=ye=g.Na,f._emscripten_bind_PasteContext_GetCurrentEntry_0=je=g.Oa,f._emscripten_bind_PasteContext_GetCollisionPath_0=dt=g.Pa,f._emscripten_bind_PasteContext_GetEntriesSuccess_0=ut=g.Qa,f._emscripten_bind_PasteContext___destroy___0=At=g.Ra,gt=g.Ta,xt=g.Ua,ur=g.Va,Zt=g.Wa,f.___original_main=g.Xa}(St),function Dt(){if(ht--,f.monitorRunDependencies?.(ht),0==ht&&Ct){var B=Ct;Ct=null,B()}}(),St}!function ot(){ht++,f.monitorRunDependencies?.(ht)}();var _e=function ct(){return{a:an}}();if(f.instantiateWasm)return new Promise((An,Wn)=>{f.instantiateWasm(_e,(Bn,jr)=>{An(g(Bn))})});_t??=function $t(){return function T(g){return f.locateFile?f.locateFile(g,I):I+g}("vfs_web.wasm")}();var st=yield function Ne(g,B,_e){return ze.apply(this,arguments)}(Z,_t,_e);return function B(An){return g(An.instance)}(st)}),pn.apply(this,arguments)}class xn{name="ExitStatus";constructor(B){this.message=`Program terminated with exit(${B})`,this.status=B}}var gs,Yo,fa,Ni,vs,Hs,tt,Gs,Wi,Oi,Xo,pa,ys,zs,Qo,_s,yi,bs,Cs,qi,fo,_i,Zi,Ki,Ws,Ss,ci,Jo,bi,Gt,un,ha,qs,wo,ws,Pi,Yi,Es,Va,Zs,Ds,ga,Ks,Ys,ma,Xs,Eo,Qs,oo,Xi,va,Ua,$o,Is,ya,Js,se,ea,Le,ui,_a,Ts,Fi,cl,h,v,w,A,ee,J,Ue,pe,qe,ye,je,dt,ut,At,gt,xt,ur,Zt,sn=g=>{for(;g.length>0;)g.shift()(f)},Sn=[],cr=g=>Sn.push(g),mr=[],to=g=>mr.push(g),Co=!0,Gr=g=>"0x"+(g>>>=0).toString(16).padStart(8,"0"),Fo=typeof TextDecoder<"u"?new TextDecoder:void 0,no=(g,B=0,_e=NaN)=>{for(var st=B+_e,zt=B;g[zt]&&!(zt>=st);)++zt;if(zt-B>16&&g.buffer&&Fo)return Fo.decode(g.subarray(B,zt));for(var An="";B<zt;){var Wn=g[B++];if(128&Wn){var Bn=63&g[B++];if(192!=(224&Wn)){var jr=63&g[B++];if((Wn=224==(240&Wn)?(15&Wn)<<12|Bn<<6|jr:(7&Wn)<<18|Bn<<12|jr<<6|63&g[B++])<65536)An+=String.fromCharCode(Wn);else{var Ha=Wn-65536;An+=String.fromCharCode(55296|Ha>>10,56320|1023&Ha)}}else An+=String.fromCharCode((31&Wn)<<6|Bn)}else An+=String.fromCharCode(Wn)}return An},Jt=(g,B)=>g?no(U,g,B):"",qt=g=>g<-9007199254740992||g>9007199254740992?NaN:Number(g),en=0,Er=[0,31,60,91,121,152,182,213,244,274,305,335],co=[0,31,59,90,120,151,181,212,243,273,304,334],ro=g=>((g=>g%4==0&&(g%100!=0||g%400==0))(g.getFullYear())?Er:co)[g.getMonth()]+g.getDate()-1,Tn={},So=g=>{if(g instanceof xn||"unwind"==g)return ge;te(),g instanceof WebAssembly.RuntimeError&&Zt()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),O(0,g)},ai=()=>Co||en>0,yo=g=>{ge=g,ai()||(f.onExit?.(g),Y=!0),O(0,new xn(g))},Wo=(g,B)=>{ge=g,yo(g)},jn=Wo,vi=()=>performance.now(),Pe=(g,B,_e,st)=>{if(!(st>0))return 0;for(var zt=_e,An=_e+st-1,Wn=0;Wn<g.length;++Wn){var Bn=g.codePointAt(Wn);if(Bn<=127){if(_e>=An)break;B[_e++]=Bn}else if(Bn<=2047){if(_e+1>=An)break;B[_e++]=192|Bn>>6,B[_e++]=128|63&Bn}else if(Bn<=65535){if(_e+2>=An)break;B[_e++]=224|Bn>>12,B[_e++]=128|Bn>>6&63,B[_e++]=128|63&Bn}else{if(_e+3>=An)break;B[_e++]=240|Bn>>18,B[_e++]=128|Bn>>12&63,B[_e++]=128|Bn>>6&63,B[_e++]=128|63&Bn,Wn++}}return B[_e]=0,_e-zt},fr=(g,B,_e)=>Pe(g,U,B,_e),zn=()=>Date.now(),$r=(g,B)=>Math.ceil(g/B)*B,Ri=g=>{var _e=(g-de.buffer.byteLength+65535)/65536|0;try{return de.grow(_e),Je(),1}catch{}},Us={},Vt=()=>{if(!Vt.strings){var B={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:H||"./this.program"};for(var _e in Us)void 0===Us[_e]?delete B[_e]:B[_e]=Us[_e];var st=[];for(var _e in B)st.push(`${_e}=${B[_e]}`);Vt.strings=st}return Vt.strings},Me=g=>{for(var B=0,_e=0;_e<g.length;++_e){var st=g.charCodeAt(_e);st<=127?B++:st<=2047?B+=2:st>=55296&&st<=57343?(B+=4,++_e):B+=3}return B},Zo=[null,[],[]],Ko=(g,B)=>{var _e=Zo[g];0===B||10===B?((1===g?be:Q)(no(_e)),_e.length=0):_e.push(B)},$a=[],hs=(g,B)=>{g<128?B.push(g):B.push(g%128|128,g>>7)},Bt=[],yc=g=>{var B=Bt[g];return B||(Bt[g]=B=gs.get(g)),B},Qe=[],Un=(g,B)=>{gs.set(g,B),Bt[g]=gs.get(g)};f.noExitRuntime&&(Co=f.noExitRuntime),f.print&&(be=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(Z=f.wasmBinary),f.thisProgram&&(H=f.thisProgram),f.addFunction=(g,B)=>{var _e=(g=>(Yo||(Yo=new WeakMap,((g,B)=>{if(Yo)for(var _e=0;_e<0+B;_e++){var st=yc(_e);st&&Yo.set(st,_e)}})(0,gs.length)),Yo.get(g)||0))(g);if(_e)return _e;var st=(()=>{if(Qe.length)return Qe.pop();try{gs.grow(1)}catch(g){throw g instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":g}return gs.length-1})();try{Un(st,g)}catch(An){if(!(An instanceof TypeError))throw An;var zt=((g,B)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((g=>{for(var B={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},_e={parameters:[],results:"v"==g[0]?[]:[B[g[0]]]},st=1;st<g.length;++st)_e.parameters.push(B[g[st]]);return _e})(B),g);var _e=[1];((g,B)=>{var _e=g.slice(0,1),st=g.slice(1),zt={i:127,p:127,j:126,f:125,d:124,e:111};for(var An of(B.push(96),hs(st.length,B),st))B.push(zt[An]);"v"==_e?B.push(0):B.push(1,zt[_e])})(B,_e);var st=[0,97,115,109,1,0,0,0,1];hs(_e.length,st),st.push(..._e),st.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var zt=new WebAssembly.Module(new Uint8Array(st));return new WebAssembly.Instance(zt,{e:{f:g}}).exports.f})(g,B);Un(st,zt)}return Yo.set(g,st),st},f.UTF8ToString=Jt;var an={a:(g,B,_e,st)=>Ke(`Assertion failed: ${Jt(g)}, at: `+[B?Jt(B):"unknown filename",_e,st?Jt(st):"unknown function"]),e:function Zn(g,B){B=qt(B)},r:()=>Ke(""),k:()=>{Co=!1,en=0},q:function xo(g,B){g=qt(g);var _e=new Date(1e3*g);G[B>>2]=_e.getSeconds(),G[B+4>>2]=_e.getMinutes(),G[B+8>>2]=_e.getHours(),G[B+12>>2]=_e.getDate(),G[B+16>>2]=_e.getMonth(),G[B+20>>2]=_e.getFullYear()-1900,G[B+24>>2]=_e.getDay();var st=0|ro(_e);G[B+28>>2]=st,G[B+36>>2]=-60*_e.getTimezoneOffset();var zt=new Date(_e.getFullYear(),0,1),An=new Date(_e.getFullYear(),6,1).getTimezoneOffset(),Wn=zt.getTimezoneOffset(),Bn=0|(An!=Wn&&_e.getTimezoneOffset()==Math.min(Wn,An));G[B+32>>2]=Bn},b:function(g){var B=(()=>{var _e=new Date(G[g+20>>2]+1900,G[g+16>>2],G[g+12>>2],G[g+8>>2],G[g+4>>2],G[g>>2],0),st=G[g+32>>2],zt=_e.getTimezoneOffset(),An=new Date(_e.getFullYear(),0,1),Wn=new Date(_e.getFullYear(),6,1).getTimezoneOffset(),Bn=An.getTimezoneOffset(),jr=Math.min(Bn,Wn);if(st<0)G[g+32>>2]=+(Wn!=Bn&&jr==zt);else if(st>0!=(jr==zt)){var Ha=Math.max(Bn,Wn),kl=st>0?jr:Ha;_e.setTime(_e.getTime()+6e4*(kl-zt))}G[g+24>>2]=_e.getDay();var Rl=0|ro(_e);G[g+28>>2]=Rl,G[g>>2]=_e.getSeconds(),G[g+4>>2]=_e.getMinutes(),G[g+8>>2]=_e.getHours(),G[g+12>>2]=_e.getDate(),G[g+16>>2]=_e.getMonth(),G[g+20>>2]=_e.getYear();var ba=_e.getTime();return isNaN(ba)?-1:ba/1e3})();return BigInt(B)},l:(g,B)=>{if(Tn[g]&&(clearTimeout(Tn[g].id),delete Tn[g]),!B)return 0;var _e=setTimeout(()=>{delete Tn[g],(g=>{if(!Y)try{g(),(()=>{if(!ai())try{jn(ge)}catch(g){So(g)}})()}catch(B){So(B)}})(()=>gt(g,vi()))},B);return Tn[g]={id:_e,timeout_ms:B},0},c:(g,B,_e,st)=>{var zt=(new Date).getFullYear(),An=new Date(zt,0,1),Wn=new Date(zt,6,1),Bn=An.getTimezoneOffset(),jr=Wn.getTimezoneOffset(),Ha=Math.max(Bn,jr);ne[g>>2]=60*Ha,G[B>>2]=+(Bn!=jr);var kl=Bo=>{var _c=Bo>=0?"-":"+",od=Math.abs(Bo);return`UTC${_c}${String(Math.floor(od/60)).padStart(2,"0")}${String(od%60).padStart(2,"0")}`},Rl=kl(Bn),ba=kl(jr);jr<Bn?(fr(Rl,_e,17),fr(ba,st,17)):(fr(Rl,st,17),fr(ba,_e,17))},o:function gn(g,B,_e){if(B=qt(B),!(g=>g>=0&&g<=3)(g))return 28;var st;st=0===g?zn():vi();var zt=Math.round(1e3*st*1e3);return Re[_e>>3]=BigInt(zt),0},i:zn,p:g=>{var B=U.length,_e=2147483648;if((g>>>=0)>_e)return!1;for(var st=1;st<=4;st*=2){var zt=B*(1+.2/st);zt=Math.min(zt,g+100663296);var An=Math.min(_e,$r(Math.max(g,zt),65536));if(Ri(An))return!0}return!1},m:(g,B)=>{var _e=0,st=0;for(var zt of Vt()){var An=B+_e;ne[g+st>>2]=An,_e+=fr(zt,An,1/0)+1,st+=4}return 0},n:(g,B)=>{var _e=Vt();ne[g>>2]=_e.length;var st=0;for(var zt of _e)st+=Me(zt)+1;return ne[B>>2]=st,0},f:g=>52,h:(g,B,_e,st)=>52,d:function or(g,B,_e,st){return B=qt(B),70},g:(g,B,_e,st)=>{for(var zt=0,An=0;An<_e;An++){var Wn=ne[B>>2],Bn=ne[B+4>>2];B+=8;for(var jr=0;jr<Bn;jr++)Ko(g,U[Wn+jr]);zt+=Bn}return ne[st>>2]=zt,0},j:yo},St=yield function Xt(){return pn.apply(this,arguments)}();function $(){}function le(g){return(g||$).__cache__}function Be(g,B){var _e=le(B),st=_e[g];return st||((st=Object.create((B||$).prototype)).ptr=g,_e[g]=st)}(function b(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function Nn(){function g(){f.calledRun=!0,Y||(function Te(){Ce=!0,te(),sn($a),St.t()}(),function He(){te()}(),we?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function Hn(){var g=fa;try{var st=g(0,0);return Wo(st),st}catch(zt){return So(zt)}}(),function vt(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)cr(f.postRun.shift());sn(Sn)}())}ht>0?Ct=Nn:(function hn(){xt(),function Ye(){var g=ur();0==g&&(g+=4),ne[g>>2]=34821223,ne[g+4>>2]=2310721022,ne[0]=1668509029}()}(),function wt(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)to(f.preRun.shift());sn(mr)}(),ht>0?Ct=Nn:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),g()},1)):g(),te()))}(),($.prototype=Object.create($.prototype)).constructor=$,$.prototype.__class__=$,$.__cache__={},f.WrapperObject=$,f.getCache=le,f.wrapPointer=Be,f.castObject=function Pt(g,B){return Be(g.ptr,B)},f.NULL=Be(0),f.destroy=function on(g){if(!g.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";g.__destroy__(),delete le(g.__class__)[g.ptr]},f.compare=function mn(g,B){return g.ptr===B.ptr},f.getPointer=function Gn(g){return g.ptr},f.getClass=function Zr(g){return g.__class__};var dn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(dn.needed){for(var g=0;g<dn.temps.length;g++)f._webidl_free(dn.temps[g]);dn.temps.length=0,f._webidl_free(dn.buffer),dn.buffer=0,dn.size+=dn.needed,dn.needed=0}dn.buffer||(dn.size+=128,dn.buffer=f._webidl_malloc(dn.size),Ie(dn.buffer)),dn.pos=0},alloc(g,B){Ie(dn.buffer);var zt,st=g.length*B.BYTES_PER_ELEMENT;return st=$r(st,8),dn.pos+st>=dn.size?(Ie(st>0),dn.needed+=st,zt=f._webidl_malloc(st),dn.temps.push(zt)):(zt=dn.buffer+dn.pos,dn.pos+=st),zt},copy(g,B,_e){_e/=B.BYTES_PER_ELEMENT;for(var st=0;st<g.length;st++)B[_e+st]=g[st]}};function Tr(g){if("string"==typeof g){var B=(g=>{var st=Me(g)+1,zt=new Array(st);Pe(g,zt,0,zt.length);return zt})(g),_e=dn.alloc(B,De);return dn.copy(B,De,_e),_e}return g}function Br(){throw"cannot construct a VoidPtr, no constructor in IDL"}function pr(){throw"cannot construct a FileEntry, no constructor in IDL"}function kt(){this.ptr=Xo(),le(kt)[this.ptr]=this}function Rr(g){dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),this.ptr=Es(g),le(Rr)[this.ptr]=this}function nr(g,B){dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),B&&"object"==typeof B&&(B=B.ptr),this.ptr=ma(g,B),le(nr)[this.ptr]=this}function Ar(g){g&&"object"==typeof g&&(g=g.ptr),this.ptr=Is(g),le(Ar)[this.ptr]=this}function hr(g,B,_e,st){dn.prepare(),g&&"object"==typeof g&&(g=g.ptr),B=B&&"object"==typeof B?B.ptr:Tr(B),_e&&"object"==typeof _e&&(_e=_e.ptr),st&&"object"==typeof st&&(st=st.ptr),this.ptr=ui(g,B,_e,st),le(hr)[this.ptr]=this}function ir(g,B,_e){dn.prepare(),g&&"object"==typeof g&&(g=g.ptr),B=B&&"object"==typeof B?B.ptr:Tr(B),_e=_e&&"object"==typeof _e?_e.ptr:Tr(_e),this.ptr=ee(g,B,_e),le(ir)[this.ptr]=this}return(Br.prototype=Object.create($.prototype)).constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},f.VoidPtr=Br,Br.prototype.__destroy__=Br.prototype.__destroy__=function(){Ni(this.ptr)},(pr.prototype=Object.create($.prototype)).constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},f.FileEntry=pr,pr.prototype.GetName=pr.prototype.GetName=function(){return Jt(vs(this.ptr))},pr.prototype.IsDirectory=pr.prototype.IsDirectory=function(){return!!Hs(this.ptr)},pr.prototype.GetSize=pr.prototype.GetSize=function(){return tt(this.ptr)},pr.prototype.GetModifiedTS=pr.prototype.GetModifiedTS=function(){return Gs(this.ptr)},pr.prototype.GetAttributes=pr.prototype.GetAttributes=function(){return Wi(this.ptr)},pr.prototype.__destroy__=pr.prototype.__destroy__=function(){Oi(this.ptr)},(kt.prototype=Object.create($.prototype)).constructor=kt,kt.prototype.__class__=kt,kt.__cache__={},f.Vfs=kt,kt.prototype.Malloc=kt.prototype.Malloc=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(pa(this.ptr,g),Br)},kt.prototype.Free=kt.prototype.Free=function(g){g&&"object"==typeof g&&(g=g.ptr),ys(this.ptr,g)},kt.prototype.Nullptr=kt.prototype.Nullptr=function(){return Be(zs(this.ptr),Br)},kt.prototype.AllocateImage=kt.prototype.AllocateImage=function(g){g&&"object"==typeof g&&(g=g.ptr),Qo(this.ptr,g)},kt.prototype.MountImage=kt.prototype.MountImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),!!_s(this.ptr,g)},kt.prototype.UnmountImage=kt.prototype.UnmountImage=function(g){g&&"object"==typeof g&&(g=g.ptr),yi(this.ptr,g)},kt.prototype.SwitchSlot=kt.prototype.SwitchSlot=function(g){g&&"object"==typeof g&&(g=g.ptr),bs(this.ptr,g)},kt.prototype.GetPendingImageSize=kt.prototype.GetPendingImageSize=function(){return Cs(this.ptr)},kt.prototype.GetSize=kt.prototype.GetSize=function(g){return g&&"object"==typeof g&&(g=g.ptr),qi(this.ptr,g)},kt.prototype.GetPendingImage=kt.prototype.GetPendingImage=function(){return Be(fo(this.ptr),Br)},kt.prototype.GetImage=kt.prototype.GetImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(_i(this.ptr,g),Br)},kt.prototype.GetDirtyPages=kt.prototype.GetDirtyPages=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(Zi(this.ptr,g),Br)},kt.prototype.RenameFile=kt.prototype.RenameFile=function(g,B){var _e=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),B=B&&"object"==typeof B?B.ptr:Tr(B),Ki(_e,g,B)},kt.prototype.ChmodFile=kt.prototype.ChmodFile=function(g,B,_e){var st=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),B&&"object"==typeof B&&(B=B.ptr),_e&&"object"==typeof _e&&(_e=_e.ptr),Ws(st,g,B,_e)},kt.prototype.StatFile=kt.prototype.StatFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),Ss(B,g)},kt.prototype.UnlinkFile=kt.prototype.UnlinkFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),ci(B,g)},kt.prototype.Mkdir=kt.prototype.Mkdir=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),Jo(B,g)},kt.prototype.GetEntry=kt.prototype.GetEntry=function(){return Be(bi(this.ptr),pr)},kt.prototype.BytesFree=kt.prototype.BytesFree=function(g){return g&&"object"==typeof g&&(g=g.ptr),Gt(this.ptr,g)},kt.prototype.BytesTotal=kt.prototype.BytesTotal=function(g){return g&&"object"==typeof g&&(g=g.ptr),un(this.ptr,g)},kt.prototype.ReadFile=kt.prototype.ReadFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),!!ha(B,g)},kt.prototype.GetCurrentFileSize=kt.prototype.GetCurrentFileSize=function(){return qs(this.ptr)},kt.prototype.GetCurrentFileContent=kt.prototype.GetCurrentFileContent=function(){return Be(wo(this.ptr),Br)},kt.prototype.ReleaseCurrentFile=kt.prototype.ReleaseCurrentFile=function(){ws(this.ptr)},kt.prototype.WriteFile=kt.prototype.WriteFile=function(g,B,_e){var st=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),B&&"object"==typeof B&&(B=B.ptr),_e&&"object"==typeof _e&&(_e=_e.ptr),Pi(st,g,B,_e)},kt.prototype.__destroy__=kt.prototype.__destroy__=function(){Yi(this.ptr)},(Rr.prototype=Object.create($.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},f.ReaddirContext=Rr,Rr.prototype.Next=Rr.prototype.Next=function(){return Va(this.ptr)},Rr.prototype.GetEntry=Rr.prototype.GetEntry=function(){return Be(Zs(this.ptr),pr)},Rr.prototype.GetStatus=Rr.prototype.GetStatus=function(){return Ds(this.ptr)},Rr.prototype.GetError=Rr.prototype.GetError=function(){return ga(this.ptr)},Rr.prototype.GetErrorDescription=Rr.prototype.GetErrorDescription=function(){return Jt(Ks(this.ptr))},Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){Ys(this.ptr)},(nr.prototype=Object.create($.prototype)).constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},f.ExportZipContext=nr,nr.prototype.AddFile=nr.prototype.AddFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),Be(Xs(B,g),nr)},nr.prototype.AddDirectory=nr.prototype.AddDirectory=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),Be(Eo(B,g),nr)},nr.prototype.Continue=nr.prototype.Continue=function(){return Qs(this.ptr)},nr.prototype.GetState=nr.prototype.GetState=function(){return oo(this.ptr)},nr.prototype.GetZipContent=nr.prototype.GetZipContent=function(){return Be(Xi(this.ptr),Br)},nr.prototype.GetZipSize=nr.prototype.GetZipSize=function(){return va(this.ptr)},nr.prototype.GetErrorItem=nr.prototype.GetErrorItem=function(){return Jt(Ua(this.ptr))},nr.prototype.__destroy__=nr.prototype.__destroy__=function(){$o(this.ptr)},(Ar.prototype=Object.create($.prototype)).constructor=Ar,Ar.prototype.__class__=Ar,Ar.__cache__={},f.DeleteRecursiveContext=Ar,Ar.prototype.AddFile=Ar.prototype.AddFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),Be(ya(B,g),Ar)},Ar.prototype.Continue=Ar.prototype.Continue=function(){return Js(this.ptr)},Ar.prototype.GetState=Ar.prototype.GetState=function(){return se(this.ptr)},Ar.prototype.GetFailingPath=Ar.prototype.GetFailingPath=function(){return Jt(ea(this.ptr))},Ar.prototype.__destroy__=Ar.prototype.__destroy__=function(){Le(this.ptr)},(hr.prototype=Object.create($.prototype)).constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},f.UnzipContext=hr,hr.prototype.GetState=hr.prototype.GetState=function(){return _a(this.ptr)},hr.prototype.Continue=hr.prototype.Continue=function(){return Ts(this.ptr)},hr.prototype.ContinueWithOverwrite=hr.prototype.ContinueWithOverwrite=function(){return Fi(this.ptr)},hr.prototype.GetCurrentEntry=hr.prototype.GetCurrentEntry=function(){return Jt(cl(this.ptr))},hr.prototype.GetCollisionPath=hr.prototype.GetCollisionPath=function(){return Jt(h(this.ptr))},hr.prototype.GetEntriesTotal=hr.prototype.GetEntriesTotal=function(){return v(this.ptr)},hr.prototype.GetEntriesSuccess=hr.prototype.GetEntriesSuccess=function(){return w(this.ptr)},hr.prototype.__destroy__=hr.prototype.__destroy__=function(){A(this.ptr)},(ir.prototype=Object.create($.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},f.PasteContext=ir,ir.prototype.AddFile=ir.prototype.AddFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Tr(g),Be(J(B,g),ir)},ir.prototype.SetDeleteAfterCopy=ir.prototype.SetDeleteAfterCopy=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(Ue(this.ptr,g),ir)},ir.prototype.GetState=ir.prototype.GetState=function(){return pe(this.ptr)},ir.prototype.Continue=ir.prototype.Continue=function(){return qe(this.ptr)},ir.prototype.ContinueWithOverwrite=ir.prototype.ContinueWithOverwrite=function(){return ye(this.ptr)},ir.prototype.GetCurrentEntry=ir.prototype.GetCurrentEntry=function(){return Jt(je(this.ptr))},ir.prototype.GetCollisionPath=ir.prototype.GetCollisionPath=function(){return Jt(dt(this.ptr))},ir.prototype.GetEntriesSuccess=ir.prototype.GetEntriesSuccess=function(){return ut(this.ptr)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){At(this.ptr)},Ce?f:new Promise((g,B)=>{we=g,me=B})}));K.exports=k,K.exports.default=k},3016:(K,Se,_)=>{"use strict";var S=_(840),k=S("Object.prototype.toString"),L=_(1459)(),W=_(7653);if(L){var R=S("Symbol.prototype.toString"),f=W(/^Symbol\(.*\)$/);K.exports=function(F){if("symbol"==typeof F)return!0;if(!F||"object"!=typeof F||"[object Symbol]"!==k(F))return!1;try{return function(F){return"symbol"==typeof F.valueOf()&&f(R(F))}(F)}catch{return!1}}}else K.exports=function(F){return!1}},3028:(K,Se,_)=>{"use strict";var S=_(5979),k=_(7308),L=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,W=/[\n\r\t]/g,R=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f=/:\d+$/,P=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,D=/^[a-zA-Z]:/;function F(Z){return(Z||"").toString().replace(L,"")}var N=[["#","hash"],["?","query"],function(Y,ge){return I(ge.protocol)?Y.replace(/\\/g,"/"):Y},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],H={hash:1,query:1};function O(Z){var Y;Y=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var te,Ie={},Ye=typeof(Z=Z||Y.location||{});if("blob:"===Z.protocol)Ie=new ce(unescape(Z.pathname),{});else if("string"===Ye)for(te in Ie=new ce(Z,{}),H)delete Ie[te];else if("object"===Ye){for(te in Z)te in H||(Ie[te]=Z[te]);void 0===Ie.slashes&&(Ie.slashes=R.test(Z.href))}return Ie}function I(Z){return"file:"===Z||"ftp:"===Z||"http:"===Z||"https:"===Z||"ws:"===Z||"wss:"===Z}function T(Z,Y){Z=(Z=F(Z)).replace(W,""),Y=Y||{};var me,ge=P.exec(Z),Ie=ge[1]?ge[1].toLowerCase():"",Ye=!!ge[2],te=!!ge[3],we=0;return Ye?te?(me=ge[2]+ge[3]+ge[4],we=ge[2].length+ge[3].length):(me=ge[2]+ge[4],we=ge[2].length):te?(me=ge[3]+ge[4],we=ge[3].length):me=ge[4],"file:"===Ie?we>=2&&(me=me.slice(2)):I(Ie)?me=ge[4]:Ie?Ye&&(me=me.slice(2)):we>=2&&I(Y.protocol)&&(me=ge[4]),{protocol:Ie,slashes:Ye||I(Ie),slashesCount:we,rest:me}}function ce(Z,Y,ge){if(Z=(Z=F(Z)).replace(W,""),!(this instanceof ce))return new ce(Z,Y,ge);var Ie,Ye,te,we,me,de,De=N.slice(),U=typeof Y,X=this,Ve=0;for("object"!==U&&"string"!==U&&(ge=Y,Y=null),ge&&"function"!=typeof ge&&(ge=k.parse),Ie=!(Ye=T(Z||"",Y=O(Y))).protocol&&!Ye.slashes,X.slashes=Ye.slashes||Ie&&Y.slashes,X.protocol=Ye.protocol||Y.protocol||"",Z=Ye.rest,("file:"===Ye.protocol&&(2!==Ye.slashesCount||D.test(Z))||!Ye.slashes&&(Ye.protocol||Ye.slashesCount<2||!I(X.protocol)))&&(De[3]=[/(.*)/,"pathname"]);Ve<De.length;Ve++)"function"!=typeof(we=De[Ve])?(de=we[1],(te=we[0])!=te?X[de]=Z:"string"==typeof te?~(me="@"===te?Z.lastIndexOf(te):Z.indexOf(te))&&("number"==typeof we[2]?(X[de]=Z.slice(0,me),Z=Z.slice(me+we[2])):(X[de]=Z.slice(me),Z=Z.slice(0,me))):(me=te.exec(Z))&&(X[de]=me[1],Z=Z.slice(0,me.index)),X[de]=X[de]||Ie&&we[3]&&Y[de]||"",we[4]&&(X[de]=X[de].toLowerCase())):Z=we(Z,X);ge&&(X.query=ge(X.query)),Ie&&Y.slashes&&"/"!==X.pathname.charAt(0)&&(""!==X.pathname||""!==Y.pathname)&&(X.pathname=function ie(Z,Y){if(""===Z)return Y;for(var ge=(Y||"/").split("/").slice(0,-1).concat(Z.split("/")),Ie=ge.length,Ye=ge[Ie-1],te=!1,we=0;Ie--;)"."===ge[Ie]?ge.splice(Ie,1):".."===ge[Ie]?(ge.splice(Ie,1),we++):we&&(0===Ie&&(te=!0),ge.splice(Ie,1),we--);return te&&ge.unshift(""),("."===Ye||".."===Ye)&&ge.push(""),ge.join("/")}(X.pathname,Y.pathname)),"/"!==X.pathname.charAt(0)&&I(X.protocol)&&(X.pathname="/"+X.pathname),S(X.port,X.protocol)||(X.host=X.hostname,X.port=""),X.username=X.password="",X.auth&&(~(me=X.auth.indexOf(":"))?(X.username=X.auth.slice(0,me),X.username=encodeURIComponent(decodeURIComponent(X.username)),X.password=X.auth.slice(me+1),X.password=encodeURIComponent(decodeURIComponent(X.password))):X.username=encodeURIComponent(decodeURIComponent(X.auth)),X.auth=X.password?X.username+":"+X.password:X.username),X.origin="file:"!==X.protocol&&I(X.protocol)&&X.host?X.protocol+"//"+X.host:"null",X.href=X.toString()}ce.prototype={set:function be(Z,Y,ge){var Ie=this;switch(Z){case"query":"string"==typeof Y&&Y.length&&(Y=(ge||k.parse)(Y)),Ie[Z]=Y;break;case"port":Ie[Z]=Y,S(Y,Ie.protocol)?Y&&(Ie.host=Ie.hostname+":"+Y):(Ie.host=Ie.hostname,Ie[Z]="");break;case"hostname":Ie[Z]=Y,Ie.port&&(Y+=":"+Ie.port),Ie.host=Y;break;case"host":Ie[Z]=Y,f.test(Y)?(Y=Y.split(":"),Ie.port=Y.pop(),Ie.hostname=Y.join(":")):(Ie.hostname=Y,Ie.port="");break;case"protocol":Ie.protocol=Y.toLowerCase(),Ie.slashes=!ge;break;case"pathname":case"hash":if(Y){var Ye="pathname"===Z?"/":"#";Ie[Z]=Y.charAt(0)!==Ye?Ye+Y:Y}else Ie[Z]=Y;break;case"username":case"password":Ie[Z]=encodeURIComponent(Y);break;case"auth":var te=Y.indexOf(":");~te?(Ie.username=Y.slice(0,te),Ie.username=encodeURIComponent(decodeURIComponent(Ie.username)),Ie.password=Y.slice(te+1),Ie.password=encodeURIComponent(decodeURIComponent(Ie.password))):Ie.username=encodeURIComponent(decodeURIComponent(Y))}for(var we=0;we<N.length;we++){var me=N[we];me[4]&&(Ie[me[1]]=Ie[me[1]].toLowerCase())}return Ie.auth=Ie.password?Ie.username+":"+Ie.password:Ie.username,Ie.origin="file:"!==Ie.protocol&&I(Ie.protocol)&&Ie.host?Ie.protocol+"//"+Ie.host:"null",Ie.href=Ie.toString(),Ie},toString:function Q(Z){(!Z||"function"!=typeof Z)&&(Z=k.stringify);var Y,ge=this,Ie=ge.host,Ye=ge.protocol;Ye&&":"!==Ye.charAt(Ye.length-1)&&(Ye+=":");var te=Ye+(ge.protocol&&ge.slashes||I(ge.protocol)?"//":"");return ge.username?(te+=ge.username,ge.password&&(te+=":"+ge.password),te+="@"):ge.password?(te+=":"+ge.password,te+="@"):"file:"!==ge.protocol&&I(ge.protocol)&&!Ie&&"/"!==ge.pathname&&(te+="@"),(":"===Ie[Ie.length-1]||f.test(ge.hostname)&&!ge.port)&&(Ie+=":"),te+=Ie+ge.pathname,(Y="object"==typeof ge.query?Z(ge.query):ge.query)&&(te+="?"!==Y.charAt(0)?"?"+Y:Y),ge.hash&&(te+=ge.hash),te}},ce.extractProtocol=T,ce.location=O,ce.trimLeft=F,ce.qs=k,K.exports=ce},3066:(K,Se,_)=>{"use strict";var S=_(6283),k=_(840),W=_(2521)("%ArrayBuffer%",!0),R=k("ArrayBuffer.prototype.byteLength",!0),f=k("Object.prototype.toString"),P=!!W&&!R&&new W(0).slice,D=!!P&&S(P);K.exports=R||D?function(N){if(!N||"object"!=typeof N)return!1;try{return R?R(N):D(N,0),!0}catch{return!1}}:W?function(N){return"[object ArrayBuffer]"===f(N)}:function(N){return!1}},3112:(K,Se,_)=>{"use strict";_.d(Se,{L:()=>k,a:()=>L,b:()=>W,c:()=>R,d:()=>f,g:()=>Ve}),_(5886);const k="ionViewWillEnter",L="ionViewDidEnter",W="ionViewWillLeave",R="ionViewDidLeave",f="ionViewWillUnload",Ve=G=>G.classList.contains("ion-page")?G:G.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||G},3116:K=>{"use strict";K.exports=Math.floor},3286:K=>{"use strict";K.exports=ReferenceError},3460:(K,Se,_)=>{"use strict";_.d(Se,{E:()=>H,I:()=>D,a:()=>k,s:()=>F});var S=_(9335);const k=O=>{try{if(O instanceof D)return O.value;if(!R()||"string"!=typeof O||""===O)return O;if(O.includes("onload="))return"";const I=document.createDocumentFragment(),T=document.createElement("div");I.appendChild(T),T.innerHTML=O,P.forEach(Q=>{const Z=I.querySelectorAll(Q);for(let Y=Z.length-1;Y>=0;Y--){const ge=Z[Y];ge.parentNode?ge.parentNode.removeChild(ge):I.removeChild(ge);const Ie=W(ge);for(let Ye=0;Ye<Ie.length;Ye++)L(Ie[Ye])}});const ie=W(I);for(let Q=0;Q<ie.length;Q++)L(ie[Q]);const ce=document.createElement("div");ce.appendChild(I);const be=ce.querySelector("div");return null!==be?be.innerHTML:ce.innerHTML}catch(I){return(0,S.j)("sanitizeDOMString",I),""}},L=O=>{if(O.nodeType&&1!==O.nodeType)return;if(typeof NamedNodeMap<"u"&&!(O.attributes instanceof NamedNodeMap))return void O.remove();for(let T=O.attributes.length-1;T>=0;T--){const ie=O.attributes.item(T),ce=ie.name;if(!f.includes(ce.toLowerCase())){O.removeAttribute(ce);continue}const be=ie.value,Q=O[ce];(null!=be&&be.toLowerCase().includes("javascript:")||null!=Q&&Q.toLowerCase().includes("javascript:"))&&O.removeAttribute(ce)}const I=W(O);for(let T=0;T<I.length;T++)L(I[T])},W=O=>null!=O.children?O.children:O.childNodes,R=()=>{var O;const I=window,T=null===(O=I?.Ionic)||void 0===O?void 0:O.config;return!T||(T.get?T.get("sanitizerEnabled",!0):!0===T.sanitizerEnabled||void 0===T.sanitizerEnabled)},f=["class","id","href","src","name","slot"],P=["script","style","iframe","meta","link","object","embed"];class D{constructor(I){this.value=I}}const F=O=>{const I=window,T=I.Ionic;if(!T||!T.config||"Object"===T.config.constructor.name)return I.Ionic=I.Ionic||{},I.Ionic.config=Object.assign(Object.assign({},I.Ionic.config),O),I.Ionic.config},H=!1},3462:K=>{"use strict";K.exports=Math.min},3463:(K,Se,_)=>{"use strict";var S=_(2521),k=_(6283),L=k(S("String.prototype.indexOf"));K.exports=function(R,f){var P=S(R,!!f);return"function"==typeof P&&L(R,".prototype.")>-1?k(P):P}},3687:(K,Se,_)=>{var S="function"==typeof Map&&Map.prototype,k=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,L=S&&k&&"function"==typeof k.get?k.get:null,W=S&&Map.prototype.forEach,R="function"==typeof Set&&Set.prototype,f=Object.getOwnPropertyDescriptor&&R?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,P=R&&f&&"function"==typeof f.get?f.get:null,D=R&&Set.prototype.forEach,N="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,O="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,T="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ie=Boolean.prototype.valueOf,ce=Object.prototype.toString,be=Function.prototype.toString,Q=String.prototype.match,Z=String.prototype.slice,Y=String.prototype.replace,ge=String.prototype.toUpperCase,Ie=String.prototype.toLowerCase,Ye=RegExp.prototype.test,te=Array.prototype.concat,we=Array.prototype.join,me=Array.prototype.slice,de=Math.floor,De="function"==typeof BigInt?BigInt.prototype.valueOf:null,U=Object.getOwnPropertySymbols,X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ve="function"==typeof Symbol&&"object"==typeof Symbol.iterator,G="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,ae=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ae){return Ae.__proto__}:null);function ve(Ae,Oe){if(Ae===1/0||Ae===-1/0||Ae!=Ae||Ae&&Ae>-1e3&&Ae<1e3||Ye.call(/e/,Oe))return Oe;var qt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ae){var Zn=Ae<0?-de(-Ae):de(Ae);if(Zn!==Ae){var In=String(Zn),en=Z.call(Oe,In.length+1);return Y.call(In,qt,"$&_")+"."+Y.call(Y.call(en,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Y.call(Oe,qt,"$&_")}var Re=_(2634),Fe=Re.custom,Ce=En(Fe)?Fe:null,Je={__proto__:null,double:'"',single:"'"},wt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function Te(Ae,Oe,qt){var In=Je[qt.quoteStyle||Oe];return In+Ae+In}function He(Ae){return Y.call(String(Ae),/"/g,"&quot;")}function vt(Ae){return!G||!("object"==typeof Ae&&(G in Ae||typeof Ae[G]<"u"))}function ht(Ae){return"[object Array]"===Ze(Ae)&&vt(Ae)}function ot(Ae){return"[object RegExp]"===Ze(Ae)&&vt(Ae)}function En(Ae){if(Ve)return Ae&&"object"==typeof Ae&&Ae instanceof Symbol;if("symbol"==typeof Ae)return!0;if(!Ae||"object"!=typeof Ae||!X)return!1;try{return X.call(Ae),!0}catch{}return!1}K.exports=function Ae(Oe,qt,Zn,In){var en=qt||{};if(Nt(en,"quoteStyle")&&!Nt(Je,en.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Nt(en,"maxStringLength")&&("number"==typeof en.maxStringLength?en.maxStringLength<0&&en.maxStringLength!==1/0:null!==en.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var vo=!Nt(en,"customInspect")||en.customInspect;if("boolean"!=typeof vo&&"symbol"!==vo)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Nt(en,"indent")&&null!==en.indent&&"\t"!==en.indent&&!(parseInt(en.indent,10)===en.indent&&en.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Nt(en,"numericSeparator")&&"boolean"!=typeof en.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var zr=en.numericSeparator;if(typeof Oe>"u")return"undefined";if(null===Oe)return"null";if("boolean"==typeof Oe)return Oe?"true":"false";if("string"==typeof Oe)return cr(Oe,en);if("number"==typeof Oe){if(0===Oe)return 1/0/Oe>0?"0":"-0";var Er=String(Oe);return zr?ve(Oe,Er):Er}if("bigint"==typeof Oe){var co=String(Oe)+"n";return zr?ve(Oe,co):co}var ro=typeof en.depth>"u"?5:en.depth;if(typeof Zn>"u"&&(Zn=0),Zn>=ro&&ro>0&&"object"==typeof Oe)return ht(Oe)?"[Array]":"[Object]";var xo=function no(Ae,Oe){var qt;if("\t"===Ae.indent)qt="\t";else{if(!("number"==typeof Ae.indent&&Ae.indent>0))return null;qt=we.call(Array(Ae.indent+1)," ")}return{base:qt,prev:we.call(Array(Oe+1),qt)}}(en,Zn);if(typeof In>"u")In=[];else if(ze(In,Oe)>=0)return"[Circular]";function Dr(gn,li,$r){if(li&&(In=me.call(In)).push(li),$r){var Ri={depth:en.depth};return Nt(en,"quoteStyle")&&(Ri.quoteStyle=en.quoteStyle),Ae(gn,Ri,Zn+1,In)}return Ae(gn,en,Zn+1,In)}if("function"==typeof Oe&&!ot(Oe)){var Tn=function Ne(Ae){if(Ae.name)return Ae.name;var Oe=Q.call(be.call(Ae),/^function\s*([\w$]+)/);return Oe?Oe[1]:null}(Oe),So=si(Oe,Dr);return"[Function"+(Tn?": "+Tn:" (anonymous)")+"]"+(So.length>0?" { "+we.call(So,", ")+" }":"")}if(En(Oe)){var ai=Ve?Y.call(String(Oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):X.call(Oe);return"object"!=typeof Oe||Ve?ai:to(ai)}if(function Sn(Ae){return!(!Ae||"object"!=typeof Ae)&&(typeof HTMLElement<"u"&&Ae instanceof HTMLElement||"string"==typeof Ae.nodeName&&"function"==typeof Ae.getAttribute)}(Oe)){for(var yo="<"+Ie.call(String(Oe.nodeName)),Wo=Oe.attributes||[],jn=0;jn<Wo.length;jn++)yo+=" "+Wo[jn].name+"="+Te(He(Wo[jn].value),"double",en);return yo+=">",Oe.childNodes&&Oe.childNodes.length&&(yo+="..."),yo+"</"+Ie.call(String(Oe.nodeName))+">"}if(ht(Oe)){if(0===Oe.length)return"[]";var Lo=si(Oe,Dr);return xo&&!function Fo(Ae){for(var Oe=0;Oe<Ae.length;Oe++)if(ze(Ae[Oe],"\n")>=0)return!1;return!0}(Lo)?"["+Jt(Lo,xo)+"]":"[ "+we.call(Lo,", ")+" ]"}if(function Dt(Ae){return"[object Error]"===Ze(Ae)&&vt(Ae)}(Oe)){var Ir=si(Oe,Dr);return"cause"in Error.prototype||!("cause"in Oe)||ne.call(Oe,"cause")?0===Ir.length?"["+String(Oe)+"]":"{ ["+String(Oe)+"] "+we.call(Ir,", ")+" }":"{ ["+String(Oe)+"] "+we.call(te.call("[cause]: "+Dr(Oe.cause),Ir),", ")+" }"}if("object"==typeof Oe&&vo){if(Ce&&"function"==typeof Oe[Ce]&&Re)return Re(Oe,{depth:ro-Zn});if("symbol"!==vo&&"function"==typeof Oe.inspect)return Oe.inspect()}if(function ct(Ae){if(!L||!Ae||"object"!=typeof Ae)return!1;try{L.call(Ae);try{P.call(Ae)}catch{return!0}return Ae instanceof Map}catch{}return!1}(Oe)){var vi=[];return W&&W.call(Oe,function(gn,li){vi.push(Dr(li,Oe,!0)+" => "+Dr(gn,Oe))}),Gr("Map",L.call(Oe),vi,xo)}if(function xn(Ae){if(!P||!Ae||"object"!=typeof Ae)return!1;try{P.call(Ae);try{L.call(Ae)}catch{return!0}return Ae instanceof Set}catch{}return!1}(Oe)){var qo=[];return D&&D.call(Oe,function(gn){qo.push(Dr(gn,Oe))}),Gr("Set",P.call(Oe),qo,xo)}if(function Xt(Ae){if(!N||!Ae||"object"!=typeof Ae)return!1;try{N.call(Ae,N);try{O.call(Ae,O)}catch{return!0}return Ae instanceof WeakMap}catch{}return!1}(Oe))return Co("WeakMap");if(function sn(Ae){if(!O||!Ae||"object"!=typeof Ae)return!1;try{O.call(Ae,O);try{N.call(Ae,N)}catch{return!0}return Ae instanceof WeakSet}catch{}return!1}(Oe))return Co("WeakSet");if(function pn(Ae){if(!T||!Ae||"object"!=typeof Ae)return!1;try{return T.call(Ae),!0}catch{}return!1}(Oe))return Co("WeakRef");if(function _t(Ae){return"[object Number]"===Ze(Ae)&&vt(Ae)}(Oe))return to(Dr(Number(Oe)));if(function Dn(Ae){if(!Ae||"object"!=typeof Ae||!De)return!1;try{return De.call(Ae),!0}catch{}return!1}(Oe))return to(Dr(De.call(Oe)));if(function $t(Ae){return"[object Boolean]"===Ze(Ae)&&vt(Ae)}(Oe))return to(ie.call(Oe));if(function Ke(Ae){return"[object String]"===Ze(Ae)&&vt(Ae)}(Oe))return to(Dr(String(Oe)));if(typeof window<"u"&&Oe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Oe===globalThis||typeof global<"u"&&Oe===global)return"{ [object globalThis] }";if(!function Ct(Ae){return"[object Date]"===Ze(Ae)&&vt(Ae)}(Oe)&&!ot(Oe)){var Pe=si(Oe,Dr),fr=ae?ae(Oe)===Object.prototype:Oe instanceof Object||Oe.constructor===Object,Wr=Oe instanceof Object?"":"null prototype",zn=!fr&&G&&Object(Oe)===Oe&&G in Oe?Z.call(Ze(Oe),8,-1):Wr?"Object":"",zi=(fr||"function"!=typeof Oe.constructor?"":Oe.constructor.name?Oe.constructor.name+" ":"")+(zn||Wr?"["+we.call(te.call([],zn||[],Wr||[]),": ")+"] ":"");return 0===Pe.length?zi+"{}":xo?zi+"{"+Jt(Pe,xo)+"}":zi+"{ "+we.call(Pe,", ")+" }"}return String(Oe)};var Wt=Object.prototype.hasOwnProperty||function(Ae){return Ae in this};function Nt(Ae,Oe){return Wt.call(Ae,Oe)}function Ze(Ae){return ce.call(Ae)}function ze(Ae,Oe){if(Ae.indexOf)return Ae.indexOf(Oe);for(var qt=0,Zn=Ae.length;qt<Zn;qt++)if(Ae[qt]===Oe)return qt;return-1}function cr(Ae,Oe){if(Ae.length>Oe.maxStringLength){var qt=Ae.length-Oe.maxStringLength,Zn="... "+qt+" more character"+(qt>1?"s":"");return cr(Z.call(Ae,0,Oe.maxStringLength),Oe)+Zn}var In=wt[Oe.quoteStyle||"single"];return In.lastIndex=0,Te(Y.call(Y.call(Ae,In,"\\$1"),/[\x00-\x1f]/g,mr),"single",Oe)}function mr(Ae){var Oe=Ae.charCodeAt(0),qt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Oe];return qt?"\\"+qt:"\\x"+(Oe<16?"0":"")+ge.call(Oe.toString(16))}function to(Ae){return"Object("+Ae+")"}function Co(Ae){return Ae+" { ? }"}function Gr(Ae,Oe,qt,Zn){return Ae+" ("+Oe+") {"+(Zn?Jt(qt,Zn):we.call(qt,", "))+"}"}function Jt(Ae,Oe){if(0===Ae.length)return"";var qt="\n"+Oe.prev+Oe.base;return qt+we.call(Ae,","+qt)+"\n"+Oe.prev}function si(Ae,Oe){var qt=ht(Ae),Zn=[];if(qt){Zn.length=Ae.length;for(var In=0;In<Ae.length;In++)Zn[In]=Nt(Ae,In)?Oe(Ae[In],Ae):""}var vo,en="function"==typeof U?U(Ae):[];if(Ve){vo={};for(var zr=0;zr<en.length;zr++)vo["$"+en[zr]]=en[zr]}for(var Er in Ae)Nt(Ae,Er)&&(qt&&String(Number(Er))===Er&&Er<Ae.length||Ve&&vo["$"+Er]instanceof Symbol||(Ye.call(/[^\w$]/,Er)?Zn.push(Oe(Er,Ae)+": "+Oe(Ae[Er],Ae)):Zn.push(Er+": "+Oe(Ae[Er],Ae))));if("function"==typeof U)for(var co=0;co<en.length;co++)ne.call(Ae,en[co])&&Zn.push("["+Oe(en[co])+"]: "+Oe(Ae[en[co]],Ae));return Zn}},3889:(K,Se,_)=>{"use strict";var S=Function.prototype.call,k=Object.prototype.hasOwnProperty,L=_(7707);K.exports=L.call(S,k)},3933:K=>{"use strict";var _=Object.prototype.toString,S=Math.max,L=function(P,D){for(var F=[],N=0;N<P.length;N+=1)F[N]=P[N];for(var H=0;H<D.length;H+=1)F[H+P.length]=D[H];return F};K.exports=function(P){var D=this;if("function"!=typeof D||"[object Function]"!==_.apply(D))throw new TypeError("Function.prototype.bind called on incompatible "+D);for(var N,F=function(P){for(var F=[],N=1,H=0;N<P.length;N+=1,H+=1)F[H]=P[N];return F}(arguments),O=S(0,D.length-F.length),I=[],T=0;T<O;T++)I[T]="$"+T;if(N=Function("binder","return function ("+function(f){for(var D="",F=0;F<f.length;F+=1)D+=f[F],F+1<f.length&&(D+=",");return D}(I)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof N){var ce=D.apply(this,L(F,arguments));return Object(ce)===ce?ce:this}return D.apply(P,L(F,arguments))}),D.prototype){var ie=function(){};ie.prototype=D.prototype,N.prototype=new ie,ie.prototype=null}return N}},3948:(K,Se)=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});var _=[];_[0]=function(){return function(){}},_[1]=function(W,R){return typeof R>"u"?W:function(P){W(P,R)}};var L=function(){function W(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return W.prototype.addHandler=function(R,f){return this.isHandlerAttached(R,f)||(this._handlers.push(R),this._contexts.push(f),this._createDispatcher(),this._updateHasHandlers()),this},W.prototype.removeHandler=function(R,f){var P=this._getHandlerIndex(R,f);return typeof P<"u"&&(this._handlers.splice(P,1),this._contexts.splice(P,1),this._createDispatcher(),this._updateHasHandlers()),this},W.prototype.isHandlerAttached=function(R,f){return typeof this._getHandlerIndex(R,f)<"u"},W.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},W.prototype._getHandlerIndex=function(R,f){var D,P=this._handlers.length;for(D=0;D<P&&(this._handlers[D]!==R||this._contexts[D]!==f);D++);return D<P?D:void 0},W.prototype._createDispatcher=function(){this.dispatch=function S(W){return _[W]||(_[W]=function k(W){for(var R="return function dispatcher"+W+"(payload) {\n",f=[],P=[],D=0;D<W;D++)f.push("cb"+D),P.push("ctx"+D),R+="    cb"+D+"(payload, ctx"+D+");\n";return R+="};",new(Function.bind.apply(Function,[void 0].concat(f.concat(P),[R])))}(W)),_[W]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},W}();Se.default=L},3996:K=>{"use strict";K.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},4198:(K,Se,_)=>{"use strict";var S=_(1143),k=_(592).supportsDescriptors,L=Object.getOwnPropertyDescriptor;K.exports=function(){if(k&&"gim"===/a/gim.flags){var R=L(RegExp.prototype,"flags");if(R&&"function"==typeof R.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var f="",P={};if(Object.defineProperty(P,"hasIndices",{get:function(){f+="d"}}),Object.defineProperty(P,"sticky",{get:function(){f+="y"}}),R.get.call(P),"dy"===f)return R.get}}return S}},4880:K=>{"use strict";K.exports=SyntaxError},4896:(K,Se,_)=>{"use strict";_.r(Se),_.d(Se,{MENU_BACK_BUTTON_PRIORITY:()=>D,OVERLAY_BACK_BUTTON_PRIORITY:()=>P,blockHardwareBackButton:()=>R,shouldUseCloseWatcher:()=>W,startHardwareBackButton:()=>f});var S=_(1890),k=_(575),L=_(9335);const W=()=>L.e.get("experimentalCloseWatcher",!1)&&void 0!==k.w&&"CloseWatcher"in k.w,R=()=>{document.addEventListener("backbutton",()=>{})},f=()=>{const F=document;let N=!1;const H=()=>{if(N)return;let O=0,I=[];const T=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(be,Q){I.push({priority:be,handler:Q,id:O++})}}});F.dispatchEvent(T);const ie=function(){var be=(0,S.A)(function*(Q){try{if(Q?.handler){const Z=Q.handler(ce);null!=Z&&(yield Z)}}catch(Z){(0,L.j)("[ion-app] - Exception in startHardwareBackButton:",Z)}});return function(Z){return be.apply(this,arguments)}}(),ce=()=>{if(I.length>0){let be={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};I.forEach(Q=>{Q.priority>=be.priority&&(be=Q)}),N=!0,I=I.filter(Q=>Q.id!==be.id),ie(be).then(()=>N=!1)}};ce()};if(W()){let O;const I=()=>{O?.destroy(),O=new k.w.CloseWatcher,O.onclose=()=>{H(),I()}};I()}else F.addEventListener("backbutton",H)},P=100,D=99},5e3:K=>{function Se(S,k,L,W,R,f,P){try{var D=S[f](P),F=D.value}catch(N){return void L(N)}D.done?k(F):Promise.resolve(F).then(W,R)}K.exports=function _(S){return function(){var k=this,L=arguments;return new Promise(function(W,R){var f=S.apply(k,L);function P(F){Se(f,W,R,P,D,"next",F)}function D(F){Se(f,W,R,P,D,"throw",F)}P(void 0)})}},K.exports.__esModule=!0,K.exports.default=K.exports},5028:(K,Se,_)=>{"use strict";var S=_(2521),k=_(840),L=S("%WeakSet%",!0),W=k("WeakSet.prototype.has",!0);if(W){var R=k("WeakMap.prototype.has",!0);K.exports=function(P){if(!P||"object"!=typeof P)return!1;try{if(W(P,W),R)try{R(P,R)}catch{return!0}return P instanceof L}catch{}return!1}}else K.exports=function(P){return!1}},5124:(K,Se,_)=>{"use strict";var S=_(7707),k=_(814),L=_(7648),W=_(8963);K.exports=W||S.call(L,k)},5217:K=>{"use strict";var S,Se="function"==typeof Map&&Map.prototype?Map:null,_="function"==typeof Set&&Set.prototype?Set:null;Se||(S=function(R){return!1});var k=Se?Map.prototype.has:null,L=_?Set.prototype.has:null;!S&&!k&&(S=function(R){return!1}),K.exports=S||function(R){if(!R||"object"!=typeof R)return!1;try{if(k.call(R),L)try{L.call(R)}catch{return!0}return R instanceof Se}catch{}return!1}},5328:(K,Se,_)=>{"use strict";var S=_(6497);K.exports=function(){return S()&&!!Symbol.toStringTag}},5370:K=>{"use strict";var Se=function(){return"string"==typeof function(){}.name},_=Object.getOwnPropertyDescriptor;if(_)try{_([],"length")}catch{_=null}Se.functionsHaveConfigurableNames=function(){if(!Se()||!_)return!1;var L=_(function(){},"name");return!!L&&!!L.configurable};var S=Function.prototype.bind;Se.boundFunctionsHaveNames=function(){return Se()&&"function"==typeof S&&""!==function(){}.bind().name},K.exports=Se},5492:(K,Se,_)=>{"use strict";var S=_(8519),k=_(3687),L=_(863),W=_(2375),f=_(603)||W||L;K.exports=function(){var D,F={assert:function(N){if(!F.has(N))throw new S("Side channel does not contain "+k(N))},delete:function(N){return!!D&&D.delete(N)},get:function(N){return D&&D.get(N)},has:function(N){return!!D&&D.has(N)},set:function(N,H){D||(D=f()),D.set(N,H)}};return F}},5500:(K,Se,_)=>{"use strict";var S=_(840),k=S("Date.prototype.getDay"),W=S("Object.prototype.toString"),f=_(5328)();K.exports=function(D){return"object"==typeof D&&null!==D&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object Date]"===W(D))}},5557:(K,Se,_)=>{"use strict";var S=_(2521),k=_(1197),L=_(6652)(),W=_(9263),R=_(8519),f=S("%Math.floor%");K.exports=function(D,F){if("function"!=typeof D)throw new R("`fn` is not a function");if("number"!=typeof F||F<0||F>4294967295||f(F)!==F)throw new R("`length` must be a positive 32-bit integer");var N=arguments.length>2&&!!arguments[2],H=!0,O=!0;if("length"in D&&W){var I=W(D,"length");I&&!I.configurable&&(H=!1),I&&!I.writable&&(O=!1)}return(H||O||!N)&&(L?k(D,"length",F,!0,!0):k(D,"length",F)),D}},5712:(K,Se,_)=>{"use strict";var S=_(2179),k=_(4880),L="object"==typeof StopIteration?StopIteration:null;K.exports=function(R){if(!L)throw new k("this environment lacks StopIteration");S.set(R,"[[Done]]",!1);var f={next:function(){var D=S.get(this,"[[Iterator]]"),F=!!S.get(D,"[[Done]]");try{return{done:F,value:F?void 0:D.next()}}catch(N){if(S.set(D,"[[Done]]",!0),N!==L)throw N;return{done:!0,value:void 0}}}};return S.set(f,"[[Iterator]]",R),f}},5714:K=>{"use strict";K.exports=Math.round},5757:(K,Se,_)=>{"use strict";var S=_(5217),k=_(9116),L=_(9462),W=_(5028);K.exports=function(f){if(f&&"object"==typeof f){if(S(f))return"Map";if(k(f))return"Set";if(L(f))return"WeakMap";if(W(f))return"WeakSet"}return!1}},5796:(K,Se,_)=>{"use strict";var S=_(9110),k=_(592);K.exports=function(){var W=S();return k(Object,{is:W},{is:function(){return Object.is!==W}}),W}},5827:(K,Se,_)=>{"use strict";_.d(Se,{C:()=>R,a:()=>L,d:()=>W});var S=_(1890),k=_(6721);const L=function(){var f=(0,S.A)(function*(P,D,F,N,H,O){var I;if(P)return P.attachViewToDom(D,F,H,N);if(!(O||"string"==typeof F||F instanceof HTMLElement))throw new Error("framework delegate is missing");const T="string"==typeof F?null===(I=D.ownerDocument)||void 0===I?void 0:I.createElement(F):F;return N&&N.forEach(ie=>T.classList.add(ie)),H&&Object.assign(T,H),D.appendChild(T),yield new Promise(ie=>(0,k.c)(T,ie)),T});return function(D,F,N,H,O,I){return f.apply(this,arguments)}}(),W=(f,P)=>{if(P){if(f)return f.removeViewFromDom(P.parentElement,P);P.remove()}return Promise.resolve()},R=()=>{let f,P;return{attachViewToDom:function(){var N=(0,S.A)(function*(H,O,I={},T=[]){var ie,ce;let be;if(f=H,O){const Z="string"==typeof O?null===(ie=f.ownerDocument)||void 0===ie?void 0:ie.createElement(O):O;T.forEach(Y=>Z.classList.add(Y)),Object.assign(Z,I),f.appendChild(Z),be=Z,yield new Promise(Y=>(0,k.c)(Z,Y))}else if(f.children.length>0&&("ION-MODAL"===f.tagName||"ION-POPOVER"===f.tagName)&&!(be=f.children[0]).classList.contains("ion-delegate-host")){const Y=null===(ce=f.ownerDocument)||void 0===ce?void 0:ce.createElement("div");Y.classList.add("ion-delegate-host"),T.forEach(ge=>Y.classList.add(ge)),Y.append(...f.children),f.appendChild(Y),be=Y}const Q=document.querySelector("ion-app")||document.body;return P=document.createComment("ionic teleport"),f.parentNode.insertBefore(P,f),Q.appendChild(f),be??f});return function(O,I){return N.apply(this,arguments)}}(),removeViewFromDom:()=>(f&&P&&(P.parentNode.insertBefore(f,P),P.remove()),Promise.resolve())}}},5831:(K,Se,_)=>{"use strict";var R,S=_(840),k=_(5328)(),L=_(3889),W=_(9263);if(k){var f=S("RegExp.prototype.exec"),P={},D=function(){throw P},F={toString:D,valueOf:D};"symbol"==typeof Symbol.toPrimitive&&(F[Symbol.toPrimitive]=D),R=function(I){if(!I||"object"!=typeof I)return!1;var T=W(I,"lastIndex");if(!T||!L(T,"value"))return!1;try{f(I,F)}catch(ce){return ce===P}}}else{var N=S("Object.prototype.toString");R=function(I){return!(!I||"object"!=typeof I&&"function"!=typeof I)&&"[object RegExp]"===N(I)}}K.exports=R},5860:(K,Se,_)=>{"use strict";_.r(Se),_.d(Se,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>F});var S=_(566);const k=(I,T,ie,ce)=>{const be=!!L(I)&&{capture:!1,passive:!!ce.passive};let Q,Z;return I.__zone_symbol__addEventListener?(Q="__zone_symbol__addEventListener",Z="__zone_symbol__removeEventListener"):(Q="addEventListener",Z="removeEventListener"),I[Q](T,ie,be),()=>{I[Z](T,ie,be)}},L=I=>{if(void 0===W)try{const T=Object.defineProperty({},"passive",{get:()=>{W=!0}});I.addEventListener("optsTest",()=>{},T)}catch{W=!1}return!!W};let W;const P=I=>I instanceof Document?I:I.ownerDocument,F=I=>{let T=!1,ie=!1,ce=!0,be=!1;const Q=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},I),Z=Q.canStart,Y=Q.onWillStart,ge=Q.onStart,Ie=Q.onEnd,Ye=Q.notCaptured,te=Q.onMove,we=Q.threshold,me=Q.passive,de=Q.blurOnStart,De={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},U=((I,T,ie)=>{const ce=ie*(Math.PI/180),be="x"===I,Q=Math.cos(ce),Z=T*T;let Y=0,ge=0,Ie=!1,Ye=0;return{start(te,we){Y=te,ge=we,Ye=0,Ie=!0},detect(te,we){if(!Ie)return!1;const me=te-Y,de=we-ge,De=me*me+de*de;if(De<Z)return!1;const U=Math.sqrt(De),X=(be?me:de)/U;return Ye=X>Q?1:X<-Q?-1:0,Ie=!1,!0},isGesture:()=>0!==Ye,getDirection:()=>Ye}})(Q.direction,Q.threshold,Q.maxAngle),X=S.G.createGesture({name:I.gestureName,priority:I.gesturePriority,disableScroll:I.disableScroll}),ne=()=>{T&&(be=!1,te&&te(De))},ae=()=>!!X.capture()&&(T=!0,ce=!1,De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime,Y?Y(De).then(Re):Re(),!0),Re=()=>{de&&(()=>{if(typeof document<"u"){const Te=document.activeElement;Te?.blur&&Te.blur()}})(),ge&&ge(De),ce=!0},Fe=()=>{T=!1,ie=!1,be=!1,ce=!0,X.release()},Ce=Te=>{const He=T,vt=ce;if(Fe(),vt){if(N(De,Te),He)return void(Ie&&Ie(De));Ye&&Ye(De)}},Je=((I,T,ie,ce,be)=>{let Q,Z,Y,ge,Ie,Ye,te,we=0;const me=ve=>{we=Date.now()+2e3,T(ve)&&(!Z&&ie&&(Z=k(I,"touchmove",ie,be)),Y||(Y=k(ve.target,"touchend",De,be)),ge||(ge=k(ve.target,"touchcancel",De,be)))},de=ve=>{we>Date.now()||T(ve)&&(!Ye&&ie&&(Ye=k(P(I),"mousemove",ie,be)),te||(te=k(P(I),"mouseup",U,be)))},De=ve=>{X(),ce&&ce(ve)},U=ve=>{Ve(),ce&&ce(ve)},X=()=>{Z&&Z(),Y&&Y(),ge&&ge(),Z=Y=ge=void 0},Ve=()=>{Ye&&Ye(),te&&te(),Ye=te=void 0},G=()=>{X(),Ve()},ne=(ve=!0)=>{ve?(Q||(Q=k(I,"touchstart",me,be)),Ie||(Ie=k(I,"mousedown",de,be))):(Q&&Q(),Ie&&Ie(),Q=Ie=void 0,G())};return{enable:ne,stop:G,destroy:()=>{ne(!1),ce=ie=T=void 0}}})(Q.el,Te=>{const He=O(Te);return!(ie||!ce||(H(Te,De),De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime=He,De.velocityX=De.velocityY=De.deltaX=De.deltaY=0,De.event=Te,Z&&!1===Z(De))||(X.release(),!X.start()))&&(ie=!0,0===we?ae():(U.start(De.startX,De.startY),!0))},Te=>{T?!be&&ce&&(be=!0,N(De,Te),requestAnimationFrame(ne)):(N(De,Te),U.detect(De.currentX,De.currentY)&&(!U.isGesture()||!ae())&&wt())},Ce,{passive:me}),wt=()=>{Fe(),Je.stop(),Ye&&Ye(De)};return{enable(Te=!0){Te||(T&&Ce(void 0),Fe()),Je.enable(Te)},destroy(){X.destroy(),Je.destroy()}}},N=(I,T)=>{if(!T)return;const ie=I.currentX,ce=I.currentY,be=I.currentTime;H(T,I);const Q=I.currentX,Z=I.currentY,ge=(I.currentTime=O(T))-be;if(ge>0&&ge<100){const Ye=(Z-ce)/ge;I.velocityX=(Q-ie)/ge*.7+.3*I.velocityX,I.velocityY=.7*Ye+.3*I.velocityY}I.deltaX=Q-I.startX,I.deltaY=Z-I.startY,I.event=T},H=(I,T)=>{let ie=0,ce=0;if(I){const be=I.changedTouches;if(be&&be.length>0){const Q=be[0];ie=Q.clientX,ce=Q.clientY}else void 0!==I.pageX&&(ie=I.pageX,ce=I.pageY)}T.currentX=ie,T.currentY=ce},O=I=>I.timeStamp||Date.now()},5886:(K,Se,_)=>{"use strict";_.d(Se,{a:()=>H,c:()=>k,p:()=>N});class S{constructor(){this.m=new Map}reset(T){this.m=new Map(Object.entries(T))}get(T,ie){const ce=this.m.get(T);return void 0!==ce?ce:ie}getBoolean(T,ie=!1){const ce=this.m.get(T);return void 0===ce?ie:"string"==typeof ce?"true"===ce:!!ce}getNumber(T,ie){const ce=parseFloat(this.m.get(T));return isNaN(ce)?void 0!==ie?ie:NaN:ce}set(T,ie){this.m.set(T,ie)}}const k=new S;var F=function(I){return I.OFF="OFF",I.ERROR="ERROR",I.WARN="WARN",I}(F||{});const N=(I,...T)=>{const ie=k.get("logLevel",F.WARN);if([F.WARN].includes(ie))return console.warn(`[Ionic Warning]: ${I}`,...T)},H=(I,...T)=>{const ie=k.get("logLevel",F.ERROR);if([F.ERROR,F.WARN].includes(ie))return console.error(`[Ionic Error]: ${I}`,...T)}},5979:K=>{"use strict";K.exports=function(_,S){if(S=S.split(":")[0],!(_=+_))return!1;switch(S){case"http":case"ws":return 80!==_;case"https":case"wss":return 443!==_;case"ftp":return 21!==_;case"gopher":return 70!==_;case"file":return!1}return 0!==_}},5989:(K,Se,_)=>{"use strict";_.d(Se,{m:()=>I});var S=_(1890),k=_(575),L=_(4896),W=_(9335),R=_(6721),f=_(9919),P=_(7133);const D=T=>(0,P.c)().duration(T?400:300),F=T=>{let ie,ce;const be=T.width+8,Q=(0,P.c)(),Z=(0,P.c)();T.isEndSide?(ie=be+"px",ce="0px"):(ie=-be+"px",ce="0px"),Q.addElement(T.menuInnerEl).fromTo("transform",`translateX(${ie})`,`translateX(${ce})`);const ge="ios"===(0,f.b)(T),Ie=ge?.2:.25;return Z.addElement(T.backdropEl).fromTo("opacity",.01,Ie),D(ge).addAnimation([Q,Z])},N=T=>{let ie,ce;const be=(0,f.b)(T),Q=T.width;T.isEndSide?(ie=-Q+"px",ce=Q+"px"):(ie=Q+"px",ce=-Q+"px");const Z=(0,P.c)().addElement(T.menuInnerEl).fromTo("transform",`translateX(${ce})`,"translateX(0px)"),Y=(0,P.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${ie})`),ge=(0,P.c)().addElement(T.backdropEl).fromTo("opacity",.01,.32);return D("ios"===be).addAnimation([Z,Y,ge])},H=T=>{const ie=(0,f.b)(T),ce=T.width*(T.isEndSide?-1:1)+"px",be=(0,P.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${ce})`);return D("ios"===ie).addAnimation(be)},I=(()=>{const T=new Map,ie=[],ce=function(){var Fe=(0,S.A)(function*(Ce){const Je=yield Ye(Ce,!0);return!!Je&&Je.open()});return function(Je){return Fe.apply(this,arguments)}}(),be=function(){var Fe=(0,S.A)(function*(Ce){const Je=yield void 0!==Ce?Ye(Ce,!0):te();return void 0!==Je&&Je.close()});return function(Je){return Fe.apply(this,arguments)}}(),Q=function(){var Fe=(0,S.A)(function*(Ce){const Je=yield Ye(Ce,!0);return!!Je&&Je.toggle()});return function(Je){return Fe.apply(this,arguments)}}(),Z=function(){var Fe=(0,S.A)(function*(Ce,Je){const wt=yield Ye(Je);return wt&&(wt.disabled=!Ce),wt});return function(Je,wt){return Fe.apply(this,arguments)}}(),Y=function(){var Fe=(0,S.A)(function*(Ce,Je){const wt=yield Ye(Je);return wt&&(wt.swipeGesture=Ce),wt});return function(Je,wt){return Fe.apply(this,arguments)}}(),ge=function(){var Fe=(0,S.A)(function*(Ce){if(null!=Ce){const Je=yield Ye(Ce);return void 0!==Je&&Je.isOpen()}return void 0!==(yield te())});return function(Je){return Fe.apply(this,arguments)}}(),Ie=function(){var Fe=(0,S.A)(function*(Ce){const Je=yield Ye(Ce);return!!Je&&!Je.disabled});return function(Je){return Fe.apply(this,arguments)}}(),Ye=function(){var Fe=(0,S.A)(function*(Ce,Je=!1){if(yield Re(),"start"===Ce||"end"===Ce){const Te=ie.filter(vt=>vt.side===Ce&&!vt.disabled);if(Te.length>=1)return Te.length>1&&Je&&(0,W.f)(`menuController queried for a menu on the "${Ce}" side, but ${Te.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Te.map(vt=>vt.el)),Te[0].el;const He=ie.filter(vt=>vt.side===Ce);if(He.length>=1)return He.length>1&&Je&&(0,W.f)(`menuController queried for a menu on the "${Ce}" side, but ${He.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,He.map(vt=>vt.el)),He[0].el}else if(null!=Ce)return ve(Te=>Te.menuId===Ce);return ve(Te=>!Te.disabled)||(ie.length>0?ie[0].el:void 0)});return function(Je){return Fe.apply(this,arguments)}}(),te=function(){var Fe=(0,S.A)(function*(){return yield Re(),G()});return function(){return Fe.apply(this,arguments)}}(),we=function(){var Fe=(0,S.A)(function*(){return yield Re(),ne()});return function(){return Fe.apply(this,arguments)}}(),me=function(){var Fe=(0,S.A)(function*(){return yield Re(),ae()});return function(){return Fe.apply(this,arguments)}}(),de=(Fe,Ce)=>{T.set(Fe,Ce)},X=function(){var Fe=(0,S.A)(function*(Ce,Je,wt,Te){if(ae())return!1;if(Je){const He=yield te();He&&Ce.el!==He&&(yield He.setOpen(!1,!1))}return Ce._setOpen(Je,wt,Te)});return function(Je,wt,Te,He){return Fe.apply(this,arguments)}}(),G=()=>ve(Fe=>Fe._isOpen),ne=()=>ie.map(Fe=>Fe.el),ae=()=>ie.some(Fe=>Fe.isAnimating),ve=Fe=>{const Ce=ie.find(Fe);if(void 0!==Ce)return Ce.el},Re=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Fe=>new Promise(Ce=>(0,R.c)(Fe,Ce))));return de("reveal",H),de("push",N),de("overlay",F),null==k.d||k.d.addEventListener("ionBackButton",Fe=>{const Ce=G();Ce&&Fe.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>Ce.close())}),{registerAnimation:de,get:Ye,getMenus:we,getOpen:te,isEnabled:Ie,swipeGesture:Y,isAnimating:me,isOpen:ge,enable:Z,toggle:Q,close:be,open:ce,_getOpenSync:G,_createAnimation:(Fe,Ce)=>{const Je=T.get(Fe);if(!Je)throw new Error("animation not registered");return Je(Ce)},_register:Fe=>{ie.indexOf(Fe)<0&&ie.push(Fe)},_unregister:Fe=>{const Ce=ie.indexOf(Fe);Ce>-1&&ie.splice(Ce,1)},_setOpen:X}})()},6062:(K,Se,_)=>{"use strict";var S=_(7268),k=Object.prototype.toString,L=Object.prototype.hasOwnProperty;K.exports=function(F,N,H){if(!S(N))throw new TypeError("iterator must be a function");var O;arguments.length>=3&&(O=H),function P(D){return"[object Array]"===k.call(D)}(F)?function(F,N,H){for(var O=0,I=F.length;O<I;O++)L.call(F,O)&&(null==H?N(F[O],O,F):N.call(H,F[O],O,F))}(F,N,O):"string"==typeof F?function(F,N,H){for(var O=0,I=F.length;O<I;O++)null==H?N(F.charAt(O),O,F):N.call(H,F.charAt(O),O,F)}(F,N,O):function(F,N,H){for(var O in F)L.call(F,O)&&(null==H?N(F[O],O,F):N.call(H,F[O],O,F))}(F,N,O)}},6243:(K,Se,_)=>{var S,k,L,W,R;S=_(7031),k=_(8251).utf8,L=_(2490),W=_(8251).bin,(R=function(f,P){f.constructor==String?f=P&&"binary"===P.encoding?W.stringToBytes(f):k.stringToBytes(f):L(f)?f=Array.prototype.slice.call(f,0):!Array.isArray(f)&&f.constructor!==Uint8Array&&(f=f.toString());for(var D=S.bytesToWords(f),F=8*f.length,N=1732584193,H=-271733879,O=-1732584194,I=271733878,T=0;T<D.length;T++)D[T]=16711935&(D[T]<<8|D[T]>>>24)|4278255360&(D[T]<<24|D[T]>>>8);D[F>>>5]|=128<<F%32,D[14+(F+64>>>9<<4)]=F;var ie=R._ff,ce=R._gg,be=R._hh,Q=R._ii;for(T=0;T<D.length;T+=16){var Z=N,Y=H,ge=O,Ie=I;N=ie(N,H,O,I,D[T+0],7,-680876936),I=ie(I,N,H,O,D[T+1],12,-389564586),O=ie(O,I,N,H,D[T+2],17,606105819),H=ie(H,O,I,N,D[T+3],22,-1044525330),N=ie(N,H,O,I,D[T+4],7,-176418897),I=ie(I,N,H,O,D[T+5],12,1200080426),O=ie(O,I,N,H,D[T+6],17,-1473231341),H=ie(H,O,I,N,D[T+7],22,-45705983),N=ie(N,H,O,I,D[T+8],7,1770035416),I=ie(I,N,H,O,D[T+9],12,-1958414417),O=ie(O,I,N,H,D[T+10],17,-42063),H=ie(H,O,I,N,D[T+11],22,-1990404162),N=ie(N,H,O,I,D[T+12],7,1804603682),I=ie(I,N,H,O,D[T+13],12,-40341101),O=ie(O,I,N,H,D[T+14],17,-1502002290),N=ce(N,H=ie(H,O,I,N,D[T+15],22,1236535329),O,I,D[T+1],5,-165796510),I=ce(I,N,H,O,D[T+6],9,-1069501632),O=ce(O,I,N,H,D[T+11],14,643717713),H=ce(H,O,I,N,D[T+0],20,-373897302),N=ce(N,H,O,I,D[T+5],5,-701558691),I=ce(I,N,H,O,D[T+10],9,38016083),O=ce(O,I,N,H,D[T+15],14,-660478335),H=ce(H,O,I,N,D[T+4],20,-405537848),N=ce(N,H,O,I,D[T+9],5,568446438),I=ce(I,N,H,O,D[T+14],9,-1019803690),O=ce(O,I,N,H,D[T+3],14,-187363961),H=ce(H,O,I,N,D[T+8],20,1163531501),N=ce(N,H,O,I,D[T+13],5,-1444681467),I=ce(I,N,H,O,D[T+2],9,-51403784),O=ce(O,I,N,H,D[T+7],14,1735328473),N=be(N,H=ce(H,O,I,N,D[T+12],20,-1926607734),O,I,D[T+5],4,-378558),I=be(I,N,H,O,D[T+8],11,-2022574463),O=be(O,I,N,H,D[T+11],16,1839030562),H=be(H,O,I,N,D[T+14],23,-35309556),N=be(N,H,O,I,D[T+1],4,-1530992060),I=be(I,N,H,O,D[T+4],11,1272893353),O=be(O,I,N,H,D[T+7],16,-155497632),H=be(H,O,I,N,D[T+10],23,-1094730640),N=be(N,H,O,I,D[T+13],4,681279174),I=be(I,N,H,O,D[T+0],11,-358537222),O=be(O,I,N,H,D[T+3],16,-722521979),H=be(H,O,I,N,D[T+6],23,76029189),N=be(N,H,O,I,D[T+9],4,-640364487),I=be(I,N,H,O,D[T+12],11,-421815835),O=be(O,I,N,H,D[T+15],16,530742520),N=Q(N,H=be(H,O,I,N,D[T+2],23,-995338651),O,I,D[T+0],6,-198630844),I=Q(I,N,H,O,D[T+7],10,1126891415),O=Q(O,I,N,H,D[T+14],15,-1416354905),H=Q(H,O,I,N,D[T+5],21,-57434055),N=Q(N,H,O,I,D[T+12],6,1700485571),I=Q(I,N,H,O,D[T+3],10,-1894986606),O=Q(O,I,N,H,D[T+10],15,-1051523),H=Q(H,O,I,N,D[T+1],21,-2054922799),N=Q(N,H,O,I,D[T+8],6,1873313359),I=Q(I,N,H,O,D[T+15],10,-30611744),O=Q(O,I,N,H,D[T+6],15,-1560198380),H=Q(H,O,I,N,D[T+13],21,1309151649),N=Q(N,H,O,I,D[T+4],6,-145523070),I=Q(I,N,H,O,D[T+11],10,-1120210379),O=Q(O,I,N,H,D[T+2],15,718787259),H=Q(H,O,I,N,D[T+9],21,-343485551),N=N+Z>>>0,H=H+Y>>>0,O=O+ge>>>0,I=I+Ie>>>0}return S.endian([N,H,O,I])})._ff=function(f,P,D,F,N,H,O){var I=f+(P&D|~P&F)+(N>>>0)+O;return(I<<H|I>>>32-H)+P},R._gg=function(f,P,D,F,N,H,O){var I=f+(P&F|D&~F)+(N>>>0)+O;return(I<<H|I>>>32-H)+P},R._hh=function(f,P,D,F,N,H,O){var I=f+(P^D^F)+(N>>>0)+O;return(I<<H|I>>>32-H)+P},R._ii=function(f,P,D,F,N,H,O){var I=f+(D^(P|~F))+(N>>>0)+O;return(I<<H|I>>>32-H)+P},R._blocksize=16,R._digestsize=16,K.exports=function(f,P){if(null==f)throw new Error("Illegal argument "+f);var D=S.wordsToBytes(R(f,P));return P&&P.asBytes?D:P&&P.asString?W.bytesToString(D):S.bytesToHex(D)}},6283:(K,Se,_)=>{"use strict";var S=_(5557),k=_(1963),L=_(2282),W=_(9713);K.exports=function(f){var P=L(arguments),D=f.length-(arguments.length-1);return S(P,1+(D>0?D:0),!0)},k?k(K.exports,"apply",{value:W}):K.exports.apply=W},6321:K=>{"use strict";var Se=Object.prototype.toString;K.exports=function(S){var k=Se.call(S),L="[object Arguments]"===k;return L||(L="[object Array]"!==k&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===Se.call(S.callee)),L}},6330:(K,Se,_)=>{"use strict";var S=_(1197),k=_(6652)(),L=_(5370).functionsHaveConfigurableNames(),W=_(8519);K.exports=function(f,P){if("function"!=typeof f)throw new W("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||L)&&(k?S(f,"name",P,!0,!0):S(f,"name",P)),f}},6484:(K,Se,_)=>{"use strict";var S=_(840),k=S("Boolean.prototype.toString"),L=S("Object.prototype.toString"),f=_(5328)();K.exports=function(D){return"boolean"==typeof D||null!==D&&"object"==typeof D&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object Boolean]"===L(D))}},6497:K=>{"use strict";K.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var _={},S=Symbol("test"),k=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(k))return!1;for(var W in _[S]=42,_)return!1;if("function"==typeof Object.keys&&0!==Object.keys(_).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(_).length)return!1;var R=Object.getOwnPropertySymbols(_);if(1!==R.length||R[0]!==S||!Object.prototype.propertyIsEnumerable.call(_,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(_,S);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},6547:(K,Se,_)=>{"use strict";var S=_(6062),k=_(9819),L=_(6283),W=_(840),R=_(9263),f=_(1568),P=W("Object.prototype.toString"),D=_(5328)(),F=typeof globalThis>"u"?global:globalThis,N=k(),H=W("String.prototype.slice"),O=W("Array.prototype.indexOf",!0)||function(be,Q){for(var Z=0;Z<be.length;Z+=1)if(be[Z]===Q)return Z;return-1},I={__proto__:null};S(N,D&&R&&f?function(ce){var be=new F[ce];if(Symbol.toStringTag in be&&f){var Q=f(be),Z=R(Q,Symbol.toStringTag);if(!Z&&Q){var Y=f(Q);Z=R(Y,Symbol.toStringTag)}I["$"+ce]=L(Z.get)}}:function(ce){var be=new F[ce],Q=be.slice||be.set;Q&&(I["$"+ce]=L(Q))}),K.exports=function(be){if(!be||"object"!=typeof be)return!1;if(!D){var Q=H(P(be),8,-1);return O(N,Q)>-1?Q:"Object"===Q&&function(be){var Q=!1;return S(I,function(Z,Y){if(!Q)try{Z(be),Q=H(Y,1)}catch{}}),Q}(be)}return R?function(be){var Q=!1;return S(I,function(Z,Y){if(!Q)try{"$"+Z(be)===Y&&(Q=H(Y,1))}catch{}}),Q}(be):null}},6652:(K,Se,_)=>{"use strict";var S=_(1963),k=function(){return!!S};k.hasArrayLengthDefineBug=function(){if(!S)return null;try{return 1!==S([],"length",{value:1}).length}catch{return!0}},K.exports=k},6721:(K,Se,_)=>{"use strict";_.d(Se,{a:()=>ie,b:()=>f,c:()=>W,d:()=>Y,e:()=>ce,f:()=>F,g:()=>H,h:()=>R,i:()=>D,j:()=>Ye,k:()=>I,l:()=>be,m:()=>N,n:()=>T,o:()=>Z,p:()=>ge,q:()=>Q,r:()=>O,s:()=>Ie,t:()=>k});var S=_(9335);const k=(te,we=0)=>new Promise(me=>{L(te,we,me)}),L=(te,we=0,me)=>{let de,De;const U={passive:!0},Ve=()=>{de&&de()},G=ne=>{(void 0===ne||te===ne.target)&&(Ve(),me(ne))};return te&&(te.addEventListener("webkitTransitionEnd",G,U),te.addEventListener("transitionend",G,U),De=setTimeout(G,we+500),de=()=>{void 0!==De&&(clearTimeout(De),De=void 0),te.removeEventListener("webkitTransitionEnd",G,U),te.removeEventListener("transitionend",G,U)}),Ve},W=(te,we)=>{te.componentOnReady?te.componentOnReady().then(me=>we(me)):O(()=>we(te))},R=te=>void 0!==te.componentOnReady,f=(te,we=[])=>{const me={};return we.forEach(de=>{te.hasAttribute(de)&&(null!==te.getAttribute(de)&&(me[de]=te.getAttribute(de)),te.removeAttribute(de))}),me},P=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],D=(te,we)=>f(te,P),F=(te,we,me,de)=>te.addEventListener(we,me,de),N=(te,we,me,de)=>te.removeEventListener(we,me,de),H=(te,we=te)=>te.shadowRoot||we,O=te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te),I=te=>!!te.shadowRoot&&!!te.attachShadow,T=te=>{if(te.focus(),te.classList.contains("ion-focusable")){const we=te.closest("ion-app");we&&we.setFocus([te])}},ie=(te,we,me,de,De)=>{{let U=we.querySelector("input.aux-input");U||(U=we.ownerDocument.createElement("input"),U.type="hidden",U.classList.add("aux-input"),we.appendChild(U)),U.disabled=De,U.name=me,U.value=de||""}},ce=(te,we,me)=>Math.max(te,Math.min(we,me)),be=(te,we)=>{if(!te){const me="ASSERT: "+we;throw(0,S.j)(me),new Error(me)}},Q=te=>{if(te){const we=te.changedTouches;if(we&&we.length>0){const me=we[0];return{x:me.clientX,y:me.clientY}}if(void 0!==te.pageX)return{x:te.pageX,y:te.pageY}}return{x:0,y:0}},Z=te=>{const we="rtl"===document.dir;switch(te){case"start":return we;case"end":return!we;default:throw new Error(`"${te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Y=(te,we)=>{const me=te._original||te;return{_original:te,emit:ge(me.emit.bind(me),we)}},ge=(te,we=0)=>{let me;return(...de)=>{clearTimeout(me),me=setTimeout(te,we,...de)}},Ie=(te,we)=>{if(te??(te={}),we??(we={}),te===we)return!0;const me=Object.keys(te);if(me.length!==Object.keys(we).length)return!1;for(const de of me)if(!(de in we)||te[de]!==we[de])return!1;return!0},Ye=te=>"number"==typeof te&&!isNaN(te)&&isFinite(te)},6778:(K,Se,_)=>{var L,S=_(5e3).default,k=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(W={}){var f=W,P="object"==typeof window,D=typeof WorkerGlobalScope<"u",H=("object"==typeof process&&process.versions?.node&&process,"./this.program"),O=(b,$)=>{throw $};D&&(L=self.location.href);var ie,ce,I="";if(P||D){try{I=new URL(".",L).href}catch{}D&&(ce=b=>{var $=new XMLHttpRequest;return $.open("GET",b,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),ie=function(){var b=S(function*($){var le=yield fetch($,{credentials:"same-origin"});if(le.ok)return le.arrayBuffer();throw new Error(le.status+" : "+le.url)});return function(le){return b.apply(this,arguments)}}()}var Z,ge,be=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Ie(b,$){b||Ke($)}function te(){if(!Y){var b=ui();0==b&&(b+=4);var $=ne[b>>2],le=ne[b+4>>2];(34821223!=$||2310721022!=le)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${Gr(b)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Gr(le)} ${Gr($)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var we,me,de,De,U,G,ne,ve,Re,Ce=!1;function Je(){var b=de.buffer;De=new Int8Array(b),new Int16Array(b),f.HEAPU8=U=new Uint8Array(b),new Uint16Array(b),G=new Int32Array(b),f.HEAPU32=ne=new Uint32Array(b),new Float32Array(b),ve=new Float64Array(b),Re=new BigInt64Array(b),new BigUint64Array(b)}var _t,ht=0,Ct=null;function Ke(b){f.onAbort?.(b),Q(b="Aborted("+b+")"),Y=!0,b+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(b);throw me?.($),$}function Wt(){return(Wt=S(function*(b){if(!Z)try{var $=yield ie(b);return new Uint8Array($)}catch{}return function En(b){if(b==_t&&Z)return new Uint8Array(Z);if(ce)return ce(b);throw"both async and sync fetching of the wasm failed"}(b)})).apply(this,arguments)}function Ze(){return Ze=S(function*(b,$){try{var le=yield function Dn(b){return Wt.apply(this,arguments)}(b);return yield WebAssembly.instantiate(le,$)}catch(Pt){Q(`failed to asynchronously prepare wasm: ${Pt}`),Ke(Pt)}}),Ze.apply(this,arguments)}function ze(){return ze=S(function*(b,$,le){if(!b&&"function"==typeof WebAssembly.instantiateStreaming)try{var Be=fetch($,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(Be,le)}catch(on){Q(`wasm streaming compile failed: ${on}`),Q("falling back to ArrayBuffer instantiation")}return function Nt(b,$){return Ze.apply(this,arguments)}($,le)}),ze.apply(this,arguments)}function pn(){return pn=S(function*(){function b(on,mn){return de=(w=on.exports).v,Je(),qr=w.xa,function h(b){f._main=Hs=b.x,f._webidl_free=b.y,f._webidl_malloc=b.z,f._emscripten_bind_VoidPtr___destroy___0=Wi=b.A,f._emscripten_bind_FSTools_FSTools_0=Oi=b.B,f._emscripten_bind_FSTools_Malloc_1=Xo=b.C,f._emscripten_bind_FSTools_Free_1=pa=b.D,f._emscripten_bind_FSTools_Nullptr_0=ys=b.E,f._emscripten_bind_FSTools___destroy___0=zs=b.F,f._emscripten_bind_MkfsContext_MkfsContext_0=Qo=b.G,f._emscripten_bind_MkfsContext_Mkfs_2=_s=b.H,f._emscripten_bind_MkfsContext_GetImage_0=yi=b.I,f._emscripten_bind_MkfsContext_GetImageSize_0=bs=b.J,f._emscripten_bind_MkfsContext___destroy___0=Cs=b.K,f._emscripten_bind_FsckContext_FsckContext_1=qi=b.L,f._emscripten_bind_FsckContext_GetImage_0=fo=b.M,f._emscripten_bind_FsckContext_GetDirtyPages_0=_i=b.N,f._emscripten_bind_FsckContext_GetImageSize_0=Zi=b.O,f._emscripten_bind_FsckContext_Fsck_0=Ki=b.P,f._emscripten_bind_FsckContext_GetResult_0=Ws=b.Q,f._emscripten_bind_FsckContext___destroy___0=Ss=b.R,f._emscripten_bind_GunzipContext_GunzipContext_3=ci=b.S,f._emscripten_bind_GunzipContext_GetState_0=Jo=b.T,f._emscripten_bind_GunzipContext_Continue_0=bi=b.U,f._emscripten_bind_GunzipContext_GetUncompressedData_0=Gt=b.V,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=un=b.W,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=ha=b.X,f._emscripten_bind_GunzipContext_GetError_0=qs=b.Y,f._emscripten_bind_GunzipContext___destroy___0=wo=b.Z,f._emscripten_bind_GzipContext_GzipContext_3=ws=b._,f._emscripten_bind_GzipContext_SetFilename_1=Pi=b.$,f._emscripten_bind_GzipContext_SetMtime_1=Yi=b.aa,f._emscripten_bind_GzipContext_Continue_0=Es=b.ba,f._emscripten_bind_GzipContext_GetState_0=Va=b.ca,f._emscripten_bind_GzipContext_GetGzipData_0=Zs=b.da,f._emscripten_bind_GzipContext_GetGzipSize_0=Ds=b.ea,f._emscripten_bind_GzipContext_GetError_0=ga=b.fa,f._emscripten_bind_GzipContext___destroy___0=Ks=b.ga,f._emscripten_bind_CreateZipContext_CreateZipContext_0=Ys=b.ha,f._emscripten_bind_CreateZipContext_Initialize_1=ma=b.ia,f._emscripten_bind_CreateZipContext_AddEntry_1=Xs=b.ja,f._emscripten_bind_CreateZipContext_WriteData_2=Eo=b.ka,f._emscripten_bind_CreateZipContext_GetZipData_0=Qs=b.la,f._emscripten_bind_CreateZipContext_GetZipDataSize_0=oo=b.ma,f._emscripten_bind_CreateZipContext_GetLastError_0=Xi=b.na,f._emscripten_bind_CreateZipContext___destroy___0=va=b.oa,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=Ua=b.pa,f._emscripten_bind_ZipfileWalker_GetState_0=$o=b.qa,f._emscripten_bind_ZipfileWalker_Next_0=Is=b.ra,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=ya=b.sa,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Js=b.ta,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=se=b.ua,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ea=b.va,f._emscripten_bind_ZipfileWalker___destroy___0=Le=b.wa,ui=b.ya,_a=b.za,Ts=b.Aa,Fi=b.Ba,f.___original_main=b.Ca}(w),function Dt(){if(ht--,f.monitorRunDependencies?.(ht),0==ht&&Ct){var $=Ct;Ct=null,$()}}(),w}!function ot(){ht++,f.monitorRunDependencies?.(ht)}();var le=function ct(){return{a:v}}();if(f.instantiateWasm)return new Promise((on,mn)=>{f.instantiateWasm(le,(Gn,Zr)=>{on(b(Gn))})});_t??=function $t(){return function T(b){return f.locateFile?f.locateFile(b,I):I+b}("fstools_web.wasm")}();var Be=yield function Ne(b,$,le){return ze.apply(this,arguments)}(Z,_t,le);return function $(on){return b(on.instance)}(Be)}),pn.apply(this,arguments)}class xn{name="ExitStatus";constructor($){this.message=`Program terminated with exit(${$})`,this.status=$}}var qr,Un,sn=b=>{for(;b.length>0;)b.shift()(f)},Sn=[],cr=b=>Sn.push(b),mr=[],to=b=>mr.push(b),Co=!0,Gr=b=>"0x"+(b>>>=0).toString(16).padStart(8,"0"),Fo=typeof TextDecoder<"u"?new TextDecoder:void 0,no=(b,$=0,le=NaN)=>{for(var Be=$+le,Pt=$;b[Pt]&&!(Pt>=Be);)++Pt;if(Pt-$>16&&b.buffer&&Fo)return Fo.decode(b.subarray($,Pt));for(var on="";$<Pt;){var mn=b[$++];if(128&mn){var Gn=63&b[$++];if(192!=(224&mn)){var Zr=63&b[$++];if((mn=224==(240&mn)?(15&mn)<<12|Gn<<6|Zr:(7&mn)<<18|Gn<<12|Zr<<6|63&b[$++])<65536)on+=String.fromCharCode(mn);else{var dn=mn-65536;on+=String.fromCharCode(55296|dn>>10,56320|1023&dn)}}else on+=String.fromCharCode((31&mn)<<6|Gn)}else on+=String.fromCharCode(mn)}return on},Jt=(b,$)=>b?no(U,b,$):"",qt=b=>b<-9007199254740992||b>9007199254740992?NaN:Number(b),In={varargs:void 0,getStr:b=>Jt(b)},zr=0,xo=[0,31,60,91,121,152,182,213,244,274,305,335],Dr=[0,31,59,90,120,151,181,212,243,273,304,334],Tn=b=>((b=>b%4==0&&(b%100!=0||b%400==0))(b.getFullYear())?xo:Dr)[b.getMonth()]+b.getDate()-1,yo={},Wo=b=>{if(b instanceof xn||"unwind"==b)return ge;te(),b instanceof WebAssembly.RuntimeError&&Fi()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),O(0,b)},jn=()=>Co||zr>0,Lo=b=>{ge=b,jn()||(f.onExit?.(b),Y=!0),O(0,new xn(b))},Ir=(b,$)=>{ge=b,Lo(b)},vi=Ir,zn=(b,$,le,Be)=>{if(!(Be>0))return 0;for(var Pt=le,on=le+Be-1,mn=0;mn<b.length;++mn){var Gn=b.codePointAt(mn);if(Gn<=127){if(le>=on)break;$[le++]=Gn}else if(Gn<=2047){if(le+1>=on)break;$[le++]=192|Gn>>6,$[le++]=128|63&Gn}else if(Gn<=65535){if(le+2>=on)break;$[le++]=224|Gn>>12,$[le++]=128|Gn>>6&63,$[le++]=128|63&Gn}else{if(le+3>=on)break;$[le++]=240|Gn>>18,$[le++]=128|Gn>>12&63,$[le++]=128|Gn>>6&63,$[le++]=128|63&Gn,mn++}}return $[le]=0,le-Pt},ki=(b,$,le)=>zn(b,U,$,le),gn=[],Vn=(b,$)=>Math.ceil(b/$)*$,Vt=b=>{var le=(b-de.buffer.byteLength+65535)/65536|0;try{return de.grow(le),Je(),1}catch{}},Me={},Ht=()=>{if(!Ht.strings){var $={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:H||"./this.program"};for(var le in Me)void 0===Me[le]?delete $[le]:$[le]=Me[le];var Be=[];for(var le in $)Be.push(`${le}=${$[le]}`);Ht.strings=Be}return Ht.strings},or=b=>{for(var $=0,le=0;le<b.length;++le){var Be=b.charCodeAt(le);Be<=127?$++:Be<=2047?$+=2:Be>=55296&&Be<=57343?($+=4,++le):$+=3}return $},$a=[null,[],[]],hs=(b,$)=>{var le=$a[b];0===$||10===$?((1===b?be:Q)(no(le)),le.length=0):le.push($)},uo=[],Bt=(b,$)=>{b<128?$.push(b):$.push(b%128|128,b>>7)},Yo=[],Qe=b=>{var $=Yo[b];return $||(Yo[b]=$=qr.get(b)),$},fa=[],ja=(b,$)=>{qr.set(b,$),Yo[b]=qr.get(b)};f.noExitRuntime&&(Co=f.noExitRuntime),f.print&&(be=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(Z=f.wasmBinary),f.thisProgram&&(H=f.thisProgram),f.addFunction=(b,$)=>{var le=(b=>(Un||(Un=new WeakMap,((b,$)=>{if(Un)for(var le=0;le<0+$;le++){var Be=Qe(le);Be&&Un.set(Be,le)}})(0,qr.length)),Un.get(b)||0))(b);if(le)return le;var Be=(()=>{if(fa.length)return fa.pop();try{qr.grow(1)}catch(b){throw b instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":b}return qr.length-1})();try{ja(Be,b)}catch(on){if(!(on instanceof TypeError))throw on;var Pt=((b,$)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((b=>{for(var $={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},le={parameters:[],results:"v"==b[0]?[]:[$[b[0]]]},Be=1;Be<b.length;++Be)le.parameters.push($[b[Be]]);return le})($),b);var le=[1];((b,$)=>{var le=b.slice(0,1),Be=b.slice(1),Pt={i:127,p:127,j:126,f:125,d:124,e:111};for(var on of($.push(96),Bt(Be.length,$),Be))$.push(Pt[on]);"v"==le?$.push(0):$.push(1,Pt[le])})($,le);var Be=[0,97,115,109,1,0,0,0,1];Bt(le.length,Be),Be.push(...le),Be.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Pt=new WebAssembly.Module(new Uint8Array(Be));return new WebAssembly.Instance(Pt,{e:{f:b}}).exports.f})(b,$);ja(Be,Pt)}return Un.set(b,Be),Be},f.UTF8ToString=Jt;var Hs,Wi,Oi,Xo,pa,ys,zs,Qo,_s,yi,bs,Cs,qi,fo,_i,Zi,Ki,Ws,Ss,ci,Jo,bi,Gt,un,ha,qs,wo,ws,Pi,Yi,Es,Va,Zs,Ds,ga,Ks,Ys,ma,Xs,Eo,Qs,oo,Xi,va,Ua,$o,Is,ya,Js,se,ea,Le,ui,_a,Ts,Fi,vs={46212:()=>{throw new Error("terminated")}},v={b:(b,$,le,Be)=>Ke(`Assertion failed: ${Jt(b)}, at: `+[$?Jt($):"unknown filename",le,Be?Jt(Be):"unknown function"]),f:function Zn(b,$){$=qt($)},h:function en(b,$,le,Be){In.varargs=Be},i:()=>Ke(""),k:()=>{Co=!1,zr=0},n:function co(b,$){b=qt(b);var le=new Date(1e3*b);G[$>>2]=le.getUTCSeconds(),G[$+4>>2]=le.getUTCMinutes(),G[$+8>>2]=le.getUTCHours(),G[$+12>>2]=le.getUTCDate(),G[$+16>>2]=le.getUTCMonth(),G[$+20>>2]=le.getUTCFullYear()-1900,G[$+24>>2]=le.getUTCDay();var Be=Date.UTC(le.getUTCFullYear(),0,1,0,0,0,0),Pt=(le.getTime()-Be)/864e5|0;G[$+28>>2]=Pt},o:function So(b,$){b=qt(b);var le=new Date(1e3*b);G[$>>2]=le.getSeconds(),G[$+4>>2]=le.getMinutes(),G[$+8>>2]=le.getHours(),G[$+12>>2]=le.getDate(),G[$+16>>2]=le.getMonth(),G[$+20>>2]=le.getFullYear()-1900,G[$+24>>2]=le.getDay();var Be=0|Tn(le);G[$+28>>2]=Be,G[$+36>>2]=-60*le.getTimezoneOffset();var Pt=new Date(le.getFullYear(),0,1),on=new Date(le.getFullYear(),6,1).getTimezoneOffset(),mn=Pt.getTimezoneOffset(),Gn=0|(on!=mn&&le.getTimezoneOffset()==Math.min(mn,on));G[$+32>>2]=Gn},p:function(b){var $=(()=>{var le=new Date(G[b+20>>2]+1900,G[b+16>>2],G[b+12>>2],G[b+8>>2],G[b+4>>2],G[b>>2],0),Be=G[b+32>>2],Pt=le.getTimezoneOffset(),on=new Date(le.getFullYear(),0,1),mn=new Date(le.getFullYear(),6,1).getTimezoneOffset(),Gn=on.getTimezoneOffset(),Zr=Math.min(Gn,mn);if(Be<0)G[b+32>>2]=+(mn!=Gn&&Zr==Pt);else if(Be>0!=(Zr==Pt)){var dn=Math.max(Gn,mn),Tr=Be>0?Zr:dn;le.setTime(le.getTime()+6e4*(Tr-Pt))}G[b+24>>2]=le.getDay();var Br=0|Tn(le);G[b+28>>2]=Br,G[b>>2]=le.getSeconds(),G[b+4>>2]=le.getMinutes(),G[b+8>>2]=le.getHours(),G[b+12>>2]=le.getDate(),G[b+16>>2]=le.getMonth(),G[b+20>>2]=le.getYear();var pr=le.getTime();return isNaN(pr)?-1:pr/1e3})();return BigInt($)},l:(b,$)=>{if(yo[b]&&(clearTimeout(yo[b].id),delete yo[b]),!$)return 0;var le=setTimeout(()=>{delete yo[b],(b=>{if(!Y)try{b(),(()=>{if(!jn())try{vi(ge)}catch(b){Wo(b)}})()}catch($){Wo($)}})(()=>_a(b,performance.now()))},$);return yo[b]={id:le,timeout_ms:$},0},q:(b,$,le,Be)=>{var Pt=(new Date).getFullYear(),on=new Date(Pt,0,1),mn=new Date(Pt,6,1),Gn=on.getTimezoneOffset(),Zr=mn.getTimezoneOffset(),dn=Math.max(Gn,Zr);ne[b>>2]=60*dn,G[$>>2]=+(Gn!=Zr);var Tr=kt=>{var Rr=kt>=0?"-":"+",nr=Math.abs(kt);return`UTC${Rr}${String(Math.floor(nr/60)).padStart(2,"0")}${String(nr%60).padStart(2,"0")}`},Br=Tr(Gn),pr=Tr(Zr);Zr<Gn?(ki(Br,le,17),ki(pr,Be,17)):(ki(Br,Be,17),ki(pr,le,17))},a:(b,$,le)=>((b,$,le)=>{var Be=((b,$)=>{gn.length=0;for(var le;le=U[b++];){var Be=105!=le;$+=(Be&=112!=le)&&$%8?4:0,gn.push(112==le?ne[$>>2]:106==le?Re[$>>3]:105==le?G[$>>2]:ve[$>>3]),$+=Be?8:4}return gn})($,le);return vs[b](...Be)})(b,$,le),d:()=>Date.now(),m:b=>{var $=U.length,le=2147483648;if((b>>>=0)>le)return!1;for(var Be=1;Be<=4;Be*=2){var Pt=$*(1+.2/Be);Pt=Math.min(Pt,b+100663296);var on=Math.min(le,Vn(Math.max(b,Pt),65536));if(Vt(on))return!0}return!1},s:(b,$)=>{var le=0,Be=0;for(var Pt of Ht()){var on=$+le;ne[b+Be>>2]=on,le+=ki(Pt,on,1/0)+1,Be+=4}return 0},t:(b,$)=>{var le=Ht();ne[b>>2]=le.length;var Be=0;for(var Pt of le)Be+=or(Pt)+1;return ne[$>>2]=Be,0},u:vi,e:b=>52,c:(b,$,le,Be)=>52,r:function Al(b,$,le,Be){return $=qt($),70},g:(b,$,le,Be)=>{for(var Pt=0,on=0;on<le;on++){var mn=ne[$>>2],Gn=ne[$+4>>2];$+=8;for(var Zr=0;Zr<Gn;Zr++)hs(b,U[mn+Zr]);Pt+=Gn}return ne[Be>>2]=Pt,0},j:Lo},w=yield function Xt(){return pn.apply(this,arguments)}();function pe(){}function qe(b){return(b||pe).__cache__}function ye(b,$){var le=qe($),Be=le[b];return Be||((Be=Object.create(($||pe).prototype)).ptr=b,le[b]=Be)}(function Ue(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function J(){function b(){f.calledRun=!0,Y||(function Te(){Ce=!0,te(),sn(uo),w.w()}(),function He(){te()}(),we?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function A(){var b=Hs;try{var Be=b(0,0);return Ir(Be),Be}catch(Pt){return Wo(Pt)}}(),function vt(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)cr(f.postRun.shift());sn(Sn)}())}ht>0?Ct=J:(function ee(){Ts(),function Ye(){var b=ui();0==b&&(b+=4),ne[b>>2]=34821223,ne[b+4>>2]=2310721022,ne[0]=1668509029}()}(),function wt(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)to(f.preRun.shift());sn(mr)}(),ht>0?Ct=J:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),b()},1)):b(),te()))}(),(pe.prototype=Object.create(pe.prototype)).constructor=pe,pe.prototype.__class__=pe,pe.__cache__={},f.WrapperObject=pe,f.getCache=qe,f.wrapPointer=ye,f.castObject=function je(b,$){return ye(b.ptr,$)},f.NULL=ye(0),f.destroy=function dt(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete qe(b.__class__)[b.ptr]},f.compare=function ut(b,$){return b.ptr===$.ptr},f.getPointer=function At(b){return b.ptr},f.getClass=function gt(b){return b.__class__};var xt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(xt.needed){for(var b=0;b<xt.temps.length;b++)f._webidl_free(xt.temps[b]);xt.temps.length=0,f._webidl_free(xt.buffer),xt.buffer=0,xt.size+=xt.needed,xt.needed=0}xt.buffer||(xt.size+=128,xt.buffer=f._webidl_malloc(xt.size),Ie(xt.buffer)),xt.pos=0},alloc(b,$){Ie(xt.buffer);var Pt,Be=b.length*$.BYTES_PER_ELEMENT;return Be=Vn(Be,8),xt.pos+Be>=xt.size?(Ie(Be>0),xt.needed+=Be,Pt=f._webidl_malloc(Be),xt.temps.push(Pt)):(Pt=xt.buffer+xt.pos,xt.pos+=Be),Pt},copy(b,$,le){le/=$.BYTES_PER_ELEMENT;for(var Be=0;Be<b.length;Be++)$[le+Be]=b[Be]}};function ur(b){if("string"==typeof b){var $=(b=>{var Be=or(b)+1,Pt=new Array(Be);zn(b,Pt,0,Pt.length);return Pt})(b),le=xt.alloc($,De);return xt.copy($,De,le),le}return b}function Zt(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Kt(){this.ptr=Oi(),qe(Kt)[this.ptr]=this}function $n(){this.ptr=Qo(),qe($n)[this.ptr]=this}function an(b){b&&"object"==typeof b&&(b=b.ptr),this.ptr=qi(b),qe(an)[this.ptr]=this}function St(b,$,le){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),le&&"object"==typeof le&&(le=le.ptr),this.ptr=ci(b,$,le),qe(St)[this.ptr]=this}function Hn(b,$,le){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),le&&"object"==typeof le&&(le=le.ptr),this.ptr=ws(b,$,le),qe(Hn)[this.ptr]=this}function hn(){this.ptr=Ys(),qe(hn)[this.ptr]=this}function Nn(b,$){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),this.ptr=Ua(b,$),qe(Nn)[this.ptr]=this}return(Zt.prototype=Object.create(pe.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},f.VoidPtr=Zt,Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){Wi(this.ptr)},(Kt.prototype=Object.create(pe.prototype)).constructor=Kt,Kt.prototype.__class__=Kt,Kt.__cache__={},f.FSTools=Kt,Kt.prototype.Malloc=Kt.prototype.Malloc=function(b){return b&&"object"==typeof b&&(b=b.ptr),ye(Xo(this.ptr,b),Zt)},Kt.prototype.Free=Kt.prototype.Free=function(b){b&&"object"==typeof b&&(b=b.ptr),pa(this.ptr,b)},Kt.prototype.Nullptr=Kt.prototype.Nullptr=function(){return ye(ys(this.ptr),Zt)},Kt.prototype.__destroy__=Kt.prototype.__destroy__=function(){zs(this.ptr)},($n.prototype=Object.create(pe.prototype)).constructor=$n,$n.prototype.__class__=$n,$n.__cache__={},f.MkfsContext=$n,$n.prototype.Mkfs=$n.prototype.Mkfs=function(b,$){var le=this.ptr;return xt.prepare(),b&&"object"==typeof b&&(b=b.ptr),$=$&&"object"==typeof $?$.ptr:ur($),!!_s(le,b,$)},$n.prototype.GetImage=$n.prototype.GetImage=function(){return ye(yi(this.ptr),Zt)},$n.prototype.GetImageSize=$n.prototype.GetImageSize=function(){return bs(this.ptr)},$n.prototype.__destroy__=$n.prototype.__destroy__=function(){Cs(this.ptr)},(an.prototype=Object.create(pe.prototype)).constructor=an,an.prototype.__class__=an,an.__cache__={},f.FsckContext=an,an.prototype.GetImage=an.prototype.GetImage=function(){return ye(fo(this.ptr),Zt)},an.prototype.GetDirtyPages=an.prototype.GetDirtyPages=function(){return ye(_i(this.ptr),Zt)},an.prototype.GetImageSize=an.prototype.GetImageSize=function(){return Zi(this.ptr)},an.prototype.Fsck=an.prototype.Fsck=function(){return Ki(this.ptr)},an.prototype.GetResult=an.prototype.GetResult=function(){return Ws(this.ptr)},an.prototype.__destroy__=an.prototype.__destroy__=function(){Ss(this.ptr)},(St.prototype=Object.create(pe.prototype)).constructor=St,St.prototype.__class__=St,St.__cache__={},f.GunzipContext=St,St.prototype.GetState=St.prototype.GetState=function(){return Jo(this.ptr)},St.prototype.Continue=St.prototype.Continue=function(){return bi(this.ptr)},St.prototype.GetUncompressedData=St.prototype.GetUncompressedData=function(){return ye(Gt(this.ptr),Zt)},St.prototype.ReleaseUncompressedData=St.prototype.ReleaseUncompressedData=function(){return ye(un(this.ptr),Zt)},St.prototype.GetUncompressedSize=St.prototype.GetUncompressedSize=function(){return ha(this.ptr)},St.prototype.GetError=St.prototype.GetError=function(){return Jt(qs(this.ptr))},St.prototype.__destroy__=St.prototype.__destroy__=function(){wo(this.ptr)},(Hn.prototype=Object.create(pe.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},f.GzipContext=Hn,Hn.prototype.SetFilename=Hn.prototype.SetFilename=function(b){var $=this.ptr;return xt.prepare(),b=b&&"object"==typeof b?b.ptr:ur(b),ye(Pi($,b),Hn)},Hn.prototype.SetMtime=Hn.prototype.SetMtime=function(b){return b&&"object"==typeof b&&(b=b.ptr),ye(Yi(this.ptr,b),Hn)},Hn.prototype.Continue=Hn.prototype.Continue=function(){return Es(this.ptr)},Hn.prototype.GetState=Hn.prototype.GetState=function(){return Va(this.ptr)},Hn.prototype.GetGzipData=Hn.prototype.GetGzipData=function(){return ye(Zs(this.ptr),Zt)},Hn.prototype.GetGzipSize=Hn.prototype.GetGzipSize=function(){return Ds(this.ptr)},Hn.prototype.GetError=Hn.prototype.GetError=function(){return Jt(ga(this.ptr))},Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){Ks(this.ptr)},(hn.prototype=Object.create(pe.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},f.CreateZipContext=hn,hn.prototype.Initialize=hn.prototype.Initialize=function(b){return b&&"object"==typeof b&&(b=b.ptr),!!ma(this.ptr,b)},hn.prototype.AddEntry=hn.prototype.AddEntry=function(b){var $=this.ptr;return xt.prepare(),b=b&&"object"==typeof b?b.ptr:ur(b),!!Xs($,b)},hn.prototype.WriteData=hn.prototype.WriteData=function(b,$){return b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),!!Eo(this.ptr,b,$)},hn.prototype.GetZipData=hn.prototype.GetZipData=function(){return ye(Qs(this.ptr),Zt)},hn.prototype.GetZipDataSize=hn.prototype.GetZipDataSize=function(){return oo(this.ptr)},hn.prototype.GetLastError=hn.prototype.GetLastError=function(){return Jt(Xi(this.ptr))},hn.prototype.__destroy__=hn.prototype.__destroy__=function(){va(this.ptr)},(Nn.prototype=Object.create(pe.prototype)).constructor=Nn,Nn.prototype.__class__=Nn,Nn.__cache__={},f.ZipfileWalker=Nn,Nn.prototype.GetState=Nn.prototype.GetState=function(){return $o(this.ptr)},Nn.prototype.Next=Nn.prototype.Next=function(){return Is(this.ptr)},Nn.prototype.GetTotalEntries=Nn.prototype.GetTotalEntries=function(){return ya(this.ptr)},Nn.prototype.GetCurrentEntrySize=Nn.prototype.GetCurrentEntrySize=function(){return Js(this.ptr)},Nn.prototype.GetCurrentEntryName=Nn.prototype.GetCurrentEntryName=function(){return Jt(se(this.ptr))},Nn.prototype.GetCurrentEntryContent=Nn.prototype.GetCurrentEntryContent=function(){return ye(ea(this.ptr),Zt)},Nn.prototype.__destroy__=Nn.prototype.__destroy__=function(){Le(this.ptr)},Ce?f:new Promise((b,$)=>{we=b,me=$})}));K.exports=k,K.exports.default=k},6780:(K,Se,_)=>{"use strict";_.d(Se,{b:()=>f,c:()=>P,d:()=>D,e:()=>X,g:()=>ne,l:()=>De,s:()=>Ve,t:()=>ce,w:()=>U});var S=_(1890),k=_(9335),L=_(6721);const f="ionViewWillLeave",P="ionViewDidLeave",D="ionViewWillUnload",F=ae=>{ae.tabIndex=-1,ae.focus()},N=ae=>null!==ae.offsetParent,O="ion-last-focus",ie_saveViewFocus=Re=>{if(k.e.get("focusManagerPriority",!1)){const Ce=document.activeElement;null!==Ce&&Re?.contains(Ce)&&Ce.setAttribute(O,"true")}},ie_setViewFocus=Re=>{const Fe=k.e.get("focusManagerPriority",!1);if(Array.isArray(Fe)&&!Re.contains(document.activeElement)){const Ce=Re.querySelector(`[${O}]`);if(Ce&&N(Ce))return void F(Ce);for(const Je of Fe)switch(Je){case"content":const wt=Re.querySelector('main, [role="main"]');if(wt&&N(wt))return void F(wt);break;case"heading":const Te=Re.querySelector('h1, [role="heading"][aria-level="1"]');if(Te&&N(Te))return void F(Te);break;case"banner":const He=Re.querySelector('header, [role="banner"]');if(He&&N(He))return void F(He);break;default:(0,k.f)(`Unrecognized focus manager priority value ${Je}`)}F(Re)}},ce=ae=>new Promise((ve,Re)=>{(0,k.w)(()=>{be(ae),Q(ae).then(Fe=>{Fe.animation&&Fe.animation.destroy(),Z(ae),ve(Fe)},Fe=>{Z(ae),Re(Fe)})})}),be=ae=>{const ve=ae.enteringEl,Re=ae.leavingEl;ie_saveViewFocus(Re),G(ve,Re,ae.direction),ae.showGoBack?ve.classList.add("can-go-back"):ve.classList.remove("can-go-back"),Ve(ve,!1),ve.style.setProperty("pointer-events","none"),Re&&(Ve(Re,!1),Re.style.setProperty("pointer-events","none"))},Q=function(){var ae=(0,S.A)(function*(ve){const Re=yield Y(ve);return Re&&k.B.isBrowser?ge(Re,ve):Ie(ve)});return function(Re){return ae.apply(this,arguments)}}(),Z=ae=>{const ve=ae.enteringEl,Re=ae.leavingEl;ve.classList.remove("ion-page-invisible"),ve.style.removeProperty("pointer-events"),void 0!==Re&&(Re.classList.remove("ion-page-invisible"),Re.style.removeProperty("pointer-events")),ie_setViewFocus(ve)},Y=function(){var ae=(0,S.A)(function*(ve){return ve.leavingEl&&ve.animated&&0!==ve.duration?ve.animationBuilder?ve.animationBuilder:"ios"===ve.mode?(yield Promise.resolve().then(_.bind(_,9805))).iosTransitionAnimation:(yield Promise.resolve().then(_.bind(_,1393))).mdTransitionAnimation:void 0});return function(Re){return ae.apply(this,arguments)}}(),ge=function(){var ae=(0,S.A)(function*(ve,Re){yield Ye(Re,!0);const Fe=ve(Re.baseEl,Re);me(Re.enteringEl,Re.leavingEl);const Ce=yield we(Fe,Re);return Re.progressCallback&&Re.progressCallback(void 0),Ce&&de(Re.enteringEl,Re.leavingEl),{hasCompleted:Ce,animation:Fe}});return function(Re,Fe){return ae.apply(this,arguments)}}(),Ie=function(){var ae=(0,S.A)(function*(ve){const Re=ve.enteringEl,Fe=ve.leavingEl,Ce=k.e.get("focusManagerPriority",!1);return yield Ye(ve,Ce),me(Re,Fe),de(Re,Fe),{hasCompleted:!0}});return function(Re){return ae.apply(this,arguments)}}(),Ye=function(){var ae=(0,S.A)(function*(ve,Re){(void 0!==ve.deepWait?ve.deepWait:Re)&&(yield Promise.all([X(ve.enteringEl),X(ve.leavingEl)])),yield te(ve.viewIsReady,ve.enteringEl)});return function(Re,Fe){return ae.apply(this,arguments)}}(),te=function(){var ae=(0,S.A)(function*(ve,Re){ve&&(yield ve(Re))});return function(Re,Fe){return ae.apply(this,arguments)}}(),we=(ae,ve)=>{const Re=ve.progressCallback,Fe=new Promise(Ce=>{ae.onFinish(Je=>Ce(1===Je))});return Re?(ae.progressStart(!0),Re(ae)):ae.play(),Fe},me=(ae,ve)=>{De(ve,f),De(ae,"ionViewWillEnter")},de=(ae,ve)=>{De(ae,"ionViewDidEnter"),De(ve,P)},De=(ae,ve)=>{if(ae){const Re=new CustomEvent(ve,{bubbles:!1,cancelable:!1});ae.dispatchEvent(Re)}},U=()=>new Promise(ae=>(0,L.r)(()=>(0,L.r)(()=>ae()))),X=function(){var ae=(0,S.A)(function*(ve){const Re=ve;if(Re){if(null!=Re.componentOnReady){if(null!=(yield Re.componentOnReady()))return}else if(null!=Re.__registerHost)return void(yield new Promise(Ce=>(0,L.r)(Ce)));yield Promise.all(Array.from(Re.children).map(X))}});return function(Re){return ae.apply(this,arguments)}}(),Ve=(ae,ve)=>{ve?(ae.setAttribute("aria-hidden","true"),ae.classList.add("ion-page-hidden")):(ae.hidden=!1,ae.removeAttribute("aria-hidden"),ae.classList.remove("ion-page-hidden"))},G=(ae,ve,Re)=>{void 0!==ae&&(ae.style.zIndex="back"===Re?"99":"101"),void 0!==ve&&(ve.style.zIndex="100")},ne=ae=>ae.classList.contains("ion-page")?ae:ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ae},6784:(K,Se,_)=>{"use strict";var k=_(3948);Se.J=k.default},6837:(K,Se,_)=>{"use strict";var S=_(840),k=S("String.prototype.valueOf"),W=S("Object.prototype.toString"),f=_(5328)();K.exports=function(D){return"string"==typeof D||!(!D||"object"!=typeof D)&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object String]"===W(D))}},6959:(K,Se,_)=>{"use strict";var S=_(6837),k=_(8979),L=_(6484),W=_(3016),R=_(7671);K.exports=function(P){return null==P||"object"!=typeof P&&"function"!=typeof P?null:S(P)?"String":k(P)?"Number":L(P)?"Boolean":W(P)?"Symbol":R(P)?"BigInt":void 0}},6969:(K,Se,_)=>{"use strict";var S=_(592),k=_(6283),L=_(8447),W=_(78),R=_(7100),f=k.apply(W()),P=function(F,N){return f(Object,arguments)};S(P,{getPolyfill:W,implementation:L,shim:R}),K.exports=P},6998:K=>{"use strict";K.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},7031:K=>{var Se,_;Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K.exports=_={rotl:function(S,k){return S<<k|S>>>32-k},rotr:function(S,k){return S<<32-k|S>>>k},endian:function(S){if(S.constructor==Number)return 16711935&_.rotl(S,8)|4278255360&_.rotl(S,24);for(var k=0;k<S.length;k++)S[k]=_.endian(S[k]);return S},randomBytes:function(S){for(var k=[];S>0;S--)k.push(Math.floor(256*Math.random()));return k},bytesToWords:function(S){for(var k=[],L=0,W=0;L<S.length;L++,W+=8)k[W>>>5]|=S[L]<<24-W%32;return k},wordsToBytes:function(S){for(var k=[],L=0;L<32*S.length;L+=8)k.push(S[L>>>5]>>>24-L%32&255);return k},bytesToHex:function(S){for(var k=[],L=0;L<S.length;L++)k.push((S[L]>>>4).toString(16)),k.push((15&S[L]).toString(16));return k.join("")},hexToBytes:function(S){for(var k=[],L=0;L<S.length;L+=2)k.push(parseInt(S.substr(L,2),16));return k},bytesToBase64:function(S){for(var k=[],L=0;L<S.length;L+=3)for(var W=S[L]<<16|S[L+1]<<8|S[L+2],R=0;R<4;R++)k.push(8*L+6*R<=8*S.length?Se.charAt(W>>>6*(3-R)&63):"=");return k.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var k=[],L=0,W=0;L<S.length;W=++L%4)0!=W&&k.push((Se.indexOf(S.charAt(L-1))&Math.pow(2,-2*W+8)-1)<<2*W|Se.indexOf(S.charAt(L))>>>6-2*W);return k}}},7057:(K,Se,_)=>{"use strict";var S=_(592),k=_(6283),L=_(1143),W=_(4198),R=_(8436),f=k(W());S(f,{getPolyfill:W,implementation:L,shim:R}),K.exports=f},7100:(K,Se,_)=>{"use strict";var S=_(592),k=_(78);K.exports=function(){var W=k();return S(Object,{assign:W},{assign:function(){return Object.assign!==W}}),W}},7133:(K,Se,_)=>{"use strict";_.d(Se,{c:()=>P});var S=_(9335),k=_(575);let L;const R=(D,F,N)=>{const H=F.startsWith("animation")?(D=>(void 0===L&&(L=void 0===D.style.animationName&&void 0!==D.style.webkitAnimationName?"-webkit-":""),L))(D):"";D.style.setProperty(H+F,N)},f=(D=[],F)=>{if(void 0!==F){const N=Array.isArray(F)?F:[F];return[...D,...N]}return D},P=D=>{let F,N,H,O,I,T,Z,de,De,U,ne,ie=[],ce=[],be=[],Q=!1,Y={},ge=[],Ie=[],Ye={},te=0,we=!1,me=!1,X=!0,Ve=!1,G=!0,ae=!1;const ve=D,Re=[],Fe=[],Ce=[],Je=[],wt=[],Te=[],He=[],vt=[],ht=[],Ct=[],ot=[],Dt="function"==typeof AnimationEffect||void 0!==k.w&&"function"==typeof k.w.AnimationEffect,Ke="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Dt,_t=()=>ot,Nt=(Me,Ot)=>{const Ht=Ot.findIndex(vr=>vr.c===Me);Ht>-1&&Ot.splice(Ht,1)},Ne=(Me,Ot)=>((Ot?.oneTimeCallback?Fe:Re).push({c:Me,o:Ot}),ne),ct=()=>{Ke&&(ot.forEach(Me=>{Me.cancel()}),ot.length=0)},Xt=()=>{Te.forEach(Me=>{Me?.parentNode&&Me.parentNode.removeChild(Me)}),Te.length=0},si=()=>void 0!==I?I:Z?Z.getFill():"both",Ae=()=>void 0!==de?de:void 0!==T?T:Z?Z.getDirection():"normal",Oe=()=>we?"linear":void 0!==H?H:Z?Z.getEasing():"linear",qt=()=>me?0:void 0!==De?De:void 0!==N?N:Z?Z.getDuration():0,Zn=()=>void 0!==O?O:Z?Z.getIterations():1,In=()=>void 0!==U?U:void 0!==F?F:Z?Z.getDelay():0,Lo=()=>{0!==te&&(te--,0===te&&((()=>{ht.forEach(or=>or()),Ct.forEach(or=>or());const Me=X?1:0,Ot=ge,Ht=Ie,vr=Ye;Je.forEach(or=>{const Zo=or.classList;Ot.forEach(Ko=>Zo.add(Ko)),Ht.forEach(Ko=>Zo.remove(Ko));for(const Ko in vr)vr.hasOwnProperty(Ko)&&R(or,Ko,vr[Ko])}),De=void 0,de=void 0,U=void 0,Re.forEach(or=>or.c(Me,ne)),Fe.forEach(or=>or.c(Me,ne)),Fe.length=0,G=!0,X&&(Ve=!0),X=!0})(),Z&&Z.animationFinish()))},vi=()=>{(()=>{He.forEach(vr=>vr()),vt.forEach(vr=>vr());const Me=ce,Ot=be,Ht=Y;Je.forEach(vr=>{const or=vr.classList;Me.forEach(Zo=>or.add(Zo)),Ot.forEach(Zo=>or.remove(Zo));for(const Zo in Ht)Ht.hasOwnProperty(Zo)&&R(vr,Zo,Ht[Zo])})})(),ie.length>0&&Ke&&(Je.forEach(Me=>{const Ot=Me.animate(ie,{id:ve,delay:In(),duration:qt(),easing:Oe(),iterations:Zn(),fill:si(),direction:Ae()});Ot.pause(),ot.push(Ot)}),ot.length>0&&(ot[0].onfinish=()=>{Lo()})),Q=!0},qo=Me=>{Me=Math.min(Math.max(Me,0),.9999),Ke&&ot.forEach(Ot=>{Ot.currentTime=Ot.effect.getComputedTiming().delay+qt()*Me,Ot.pause()})},Pe=Me=>{ot.forEach(Ot=>{Ot.effect.updateTiming({delay:In(),duration:qt(),easing:Oe(),iterations:Zn(),fill:si(),direction:Ae()})}),void 0!==Me&&qo(Me)},fr=(Me=!1,Ot=!0,Ht)=>(Me&&wt.forEach(vr=>{vr.update(Me,Ot,Ht)}),Ke&&Pe(Ht),ne),zi=()=>{Q&&(Ke?ot.forEach(Me=>{Me.pause()}):Je.forEach(Me=>{R(Me,"animation-play-state","paused")}),ae=!0)},da=Me=>new Promise(Ot=>{Me?.sync&&(me=!0,Ne(()=>me=!1,{oneTimeCallback:!0})),Q||vi(),Ve&&(Ke&&(qo(0),Pe()),Ve=!1),G&&(te=wt.length+1,G=!1);const Ht=()=>{Nt(vr,Fe),Ot()},vr=()=>{Nt(Ht,Ce),Ot()};Ne(vr,{oneTimeCallback:!0}),(Me=>{Ce.push({c:Me,o:{oneTimeCallback:!0}})})(Ht),wt.forEach(or=>{or.play()}),Ke?(ot.forEach(Me=>{Me.play()}),(0===ie.length||0===Je.length)&&Lo()):Lo(),ae=!1}),Vn=(Me,Ot)=>{const Ht=ie[0];return void 0===Ht||void 0!==Ht.offset&&0!==Ht.offset?ie=[{offset:0,[Me]:Ot},...ie]:Ht[Me]=Ot,ne};return ne={parentAnimation:Z,elements:Je,childAnimations:wt,id:ve,animationFinish:Lo,from:Vn,to:(Me,Ot)=>{const Ht=ie[ie.length-1];return void 0===Ht||void 0!==Ht.offset&&1!==Ht.offset?ie=[...ie,{offset:1,[Me]:Ot}]:Ht[Me]=Ot,ne},fromTo:(Me,Ot,Ht)=>Vn(Me,Ot).to(Me,Ht),parent:Me=>(Z=Me,ne),play:da,pause:()=>(wt.forEach(Me=>{Me.pause()}),zi(),ne),stop:()=>{wt.forEach(Me=>{Me.stop()}),Q&&(ct(),Q=!1),we=!1,me=!1,G=!0,de=void 0,De=void 0,U=void 0,te=0,Ve=!1,X=!0,ae=!1,Ce.forEach(Me=>Me.c(0,ne)),Ce.length=0},destroy:Me=>(wt.forEach(Ot=>{Ot.destroy(Me)}),(Me=>{ct(),Me&&Xt()})(Me),Je.length=0,wt.length=0,ie.length=0,Re.length=0,Fe.length=0,Q=!1,G=!0,ne),keyframes:Me=>{const Ot=ie!==Me;return ie=Me,Ot&&(Me=>{Ke&&_t().forEach(Ot=>{const Ht=Ot.effect;if(Ht.setKeyframes)Ht.setKeyframes(Me);else{const vr=new KeyframeEffect(Ht.target,Me,Ht.getTiming());Ot.effect=vr}})})(ie),ne},addAnimation:Me=>{if(null!=Me)if(Array.isArray(Me))for(const Ot of Me)Ot.parent(ne),wt.push(Ot);else Me.parent(ne),wt.push(Me);return ne},addElement:Me=>{if(null!=Me)if(1===Me.nodeType)Je.push(Me);else if(Me.length>=0)for(let Ot=0;Ot<Me.length;Ot++)Je.push(Me[Ot]);else(0,S.j)("createAnimation - Invalid addElement value.");return ne},update:fr,fill:Me=>(I=Me,fr(!0),ne),direction:Me=>(T=Me,fr(!0),ne),iterations:Me=>(O=Me,fr(!0),ne),duration:Me=>(!Ke&&0===Me&&(Me=1),N=Me,fr(!0),ne),easing:Me=>(H=Me,fr(!0),ne),delay:Me=>(F=Me,fr(!0),ne),getWebAnimations:_t,getKeyframes:()=>ie,getFill:si,getDirection:Ae,getDelay:In,getIterations:Zn,getEasing:Oe,getDuration:qt,afterAddRead:Me=>(ht.push(Me),ne),afterAddWrite:Me=>(Ct.push(Me),ne),afterClearStyles:(Me=[])=>{for(const Ot of Me)Ye[Ot]="";return ne},afterStyles:(Me={})=>(Ye=Me,ne),afterRemoveClass:Me=>(Ie=f(Ie,Me),ne),afterAddClass:Me=>(ge=f(ge,Me),ne),beforeAddRead:Me=>(He.push(Me),ne),beforeAddWrite:Me=>(vt.push(Me),ne),beforeClearStyles:(Me=[])=>{for(const Ot of Me)Y[Ot]="";return ne},beforeStyles:(Me={})=>(Y=Me,ne),beforeRemoveClass:Me=>(be=f(be,Me),ne),beforeAddClass:Me=>(ce=f(ce,Me),ne),onFinish:Ne,isRunning:()=>0!==te&&!ae,progressStart:(Me=!1,Ot)=>(wt.forEach(Ht=>{Ht.progressStart(Me,Ot)}),zi(),we=Me,Q||vi(),fr(!1,!0,Ot),ne),progressStep:Me=>(wt.forEach(Ot=>{Ot.progressStep(Me)}),qo(Me),ne),progressEnd:(Me,Ot,Ht)=>(we=!1,wt.forEach(vr=>{vr.progressEnd(Me,Ot,Ht)}),void 0!==Ht&&(De=Ht),Ve=!1,X=!0,0===Me?(de="reverse"===Ae()?"normal":"reverse","reverse"===de&&(X=!1),Ke?(fr(),qo(1-Ot)):(U=(1-Ot)*qt()*-1,fr(!1,!1))):1===Me&&(Ke?(fr(),qo(Ot)):(U=Ot*qt()*-1,fr(!1,!1))),void 0!==Me&&!Z&&da(),ne)}}},7268:K=>{"use strict";var S,k,Se=Function.prototype.toString,_="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof _&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw k}}),k={},_(function(){throw 42},null,S)}catch(be){be!==k&&(_=null)}else _=null;var L=/^\s*class\b/,W=function(Q){try{var Z=Se.call(Q);return L.test(Z)}catch{return!1}},R=function(Q){try{return!W(Q)&&(Se.call(Q),!0)}catch{return!1}},f=Object.prototype.toString,I="function"==typeof Symbol&&!!Symbol.toStringTag,T=!(0 in[,]),ie=function(){return!1};if("object"==typeof document){var ce=document.all;f.call(ce)===f.call(document.all)&&(ie=function(Q){if((T||!Q)&&(typeof Q>"u"||"object"==typeof Q))try{var Z=f.call(Q);return("[object HTMLAllCollection]"===Z||"[object HTML document.all class]"===Z||"[object HTMLCollection]"===Z||"[object Object]"===Z)&&null==Q("")}catch{}return!1})}K.exports=_?function(Q){if(ie(Q))return!0;if(!Q||"function"!=typeof Q&&"object"!=typeof Q)return!1;try{_(Q,null,S)}catch(Z){if(Z!==k)return!1}return!W(Q)&&R(Q)}:function(Q){if(ie(Q))return!0;if(!Q||"function"!=typeof Q&&"object"!=typeof Q)return!1;if(I)return R(Q);if(W(Q))return!1;var Z=f.call(Q);return!("[object Function]"!==Z&&"[object GeneratorFunction]"!==Z&&!/^\[object HTML/.test(Z))&&R(Q)}},7308:(K,Se)=>{"use strict";var _=Object.prototype.hasOwnProperty;function k(f){try{return decodeURIComponent(f.replace(/\+/g," "))}catch{return null}}function L(f){try{return encodeURIComponent(f)}catch{return null}}Se.stringify=function R(f,P){P=P||"";var F,N,D=[];for(N in"string"!=typeof P&&(P="?"),f)if(_.call(f,N)){if(!(F=f[N])&&(null==F||isNaN(F))&&(F=""),N=L(N),F=L(F),null===N||null===F)continue;D.push(N+"="+F)}return D.length?P+D.join("&"):""},Se.parse=function W(f){for(var F,P=/([^=?#&]+)=?([^&]*)/g,D={};F=P.exec(f);){var N=k(F[1]),H=k(F[2]);null===N||null===H||N in D||(D[N]=H)}return D}},7433:(K,Se,_)=>{"use strict";_.d(Se,{B:()=>ot,F:()=>Nt,G:()=>Dt,O:()=>Ke,a:()=>be,b:()=>Q,c:()=>Ie,d:()=>_t,e:()=>$t,f:()=>Re,g:()=>Ce,h:()=>Te,i:()=>vt,j:()=>te,k:()=>we,l:()=>Z,m:()=>Y,n:()=>N,o:()=>ae,q:()=>H,s:()=>Ct});var S=_(1890),k=_(575),L=_(6721),W=_(4896),R=_(9335),f=_(9919),P=_(5827),D=_(566);const F='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',N=(Ze,Ne)=>{const ze=Ze.querySelector(F);O(ze,Ne??Ze)},H=(Ze,Ne)=>{const ze=Array.from(Ze.querySelectorAll(F));O(ze.length>0?ze[ze.length-1]:null,Ne??Ze)},O=(Ze,Ne)=>{let ze=Ze;const ct=Ze?.shadowRoot;if(ct&&(ze=ct.querySelector(F)||Ze),ze){const Xt=ze.closest("ion-radio-group");Xt?Xt.setFocus():(0,L.n)(ze)}else Ne.focus()};let I=0,T=0;const ie=new WeakMap,ce=Ze=>({create:Ne=>me(Ze,Ne),dismiss:(Ne,ze,ct)=>Ve(document,Ne,ze,Ze,ct),getTop:()=>(0,S.A)(function*(){return ae(document,Ze)})()}),be=ce("ion-alert"),Q=ce("ion-action-sheet"),Z=ce("ion-loading"),Y=ce("ion-modal"),Ie=ce("ion-popover"),te=Ze=>{typeof document<"u"&&X(document);const Ne=I++;Ze.overlayIndex=Ne},we=Ze=>(Ze.hasAttribute("id")||(Ze.id="ion-overlay-"+ ++T),Ze.id),me=(Ze,Ne)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ze).then(()=>{const ze=document.createElement(Ze);return ze.classList.add("overlay-hidden"),Object.assign(ze,Object.assign(Object.assign({},Ne),{hasController:!0})),Je(document).appendChild(ze),new Promise(ct=>(0,L.c)(ze,ct))}):Promise.resolve(),De=(Ze,Ne)=>{let ze=Ze;const ct=Ze?.shadowRoot;ct&&(ze=ct.querySelector(F)||Ze),ze?(0,L.n)(ze):Ne.focus()},X=Ze=>{0===I&&(I=1,Ze.addEventListener("focus",Ne=>{((Ze,Ne)=>{const ze=ae(Ne,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),ct=Ze.target;ze&&ct&&!ze.classList.contains(Nt)&&(ze.shadowRoot?(()=>{if(ze.contains(ct))ze.lastFocus=ct;else if("ION-TOAST"===ct.tagName)De(ze.lastFocus,ze);else{const xn=ze.lastFocus;N(ze),xn===Ne.activeElement&&H(ze),ze.lastFocus=Ne.activeElement}})():(()=>{if(ze===ct)ze.lastFocus=void 0;else if("ION-TOAST"===ct.tagName)De(ze.lastFocus,ze);else{const xn=(0,L.g)(ze);if(!xn.contains(ct))return;const sn=xn.querySelector(".ion-overlay-wrapper");if(!sn)return;if(sn.contains(ct)||ct===xn.querySelector("ion-backdrop"))ze.lastFocus=ct;else{const Sn=ze.lastFocus;N(sn,ze),Sn===Ne.activeElement&&H(sn,ze),ze.lastFocus=Ne.activeElement}}})())})(Ne,Ze)},!0),Ze.addEventListener("ionBackButton",Ne=>{const ze=ae(Ze);ze?.backdropDismiss&&Ne.detail.register(W.OVERLAY_BACK_BUTTON_PRIORITY,()=>{ze.dismiss(void 0,ot)})}),(0,W.shouldUseCloseWatcher)()||Ze.addEventListener("keydown",Ne=>{if("Escape"===Ne.key){const ze=ae(Ze);ze?.backdropDismiss&&ze.dismiss(void 0,ot)}}))},Ve=(Ze,Ne,ze,ct,Xt)=>{const pn=ae(Ze,ct,Xt);return pn?pn.dismiss(Ne,ze):Promise.reject("overlay does not exist")},ne=(Ze,Ne)=>((Ze,Ne)=>(void 0===Ne&&(Ne="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ze.querySelectorAll(Ne)).filter(ze=>ze.overlayIndex>0)))(Ze,Ne).filter(ze=>!(Ze=>Ze.classList.contains("overlay-hidden"))(ze)),ae=(Ze,Ne,ze)=>{const ct=ne(Ze,Ne);return void 0===ze?ct[ct.length-1]:ct.find(Xt=>Xt.id===ze)},ve=(Ze=!1)=>{const ze=Je(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ze&&(Ze?ze.setAttribute("aria-hidden","true"):ze.removeAttribute("aria-hidden"))},Re=function(){var Ze=(0,S.A)(function*(Ne,ze,ct,Xt,pn){var xn,sn;if(Ne.presented)return;"ION-TOAST"!==Ne.el.tagName&&(ve(!0),document.body.classList.add(D.B)),Dn(Ne.el),En(Ne.el),Ne.presented=!0,Ne.willPresent.emit(),null===(xn=Ne.willPresentShorthand)||void 0===xn||xn.emit();const Sn=(0,f.b)(Ne),cr=Ne.enterAnimation?Ne.enterAnimation:R.e.get(ze,"ios"===Sn?ct:Xt);(yield wt(Ne,cr,Ne.el,pn))&&(Ne.didPresent.emit(),null===(sn=Ne.didPresentShorthand)||void 0===sn||sn.emit()),"ION-TOAST"!==Ne.el.tagName&&Fe(Ne.el),Ne.keyboardClose&&(null===document.activeElement||!Ne.el.contains(document.activeElement))&&Ne.el.focus(),Ne.el.removeAttribute("aria-hidden")});return function(ze,ct,Xt,pn,xn){return Ze.apply(this,arguments)}}(),Fe=function(){var Ze=(0,S.A)(function*(Ne){let ze=document.activeElement;if(!ze)return;const ct=ze?.shadowRoot;ct&&(ze=ct.querySelector(F)||ze),yield Ne.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&ze.focus()});return function(ze){return Ze.apply(this,arguments)}}(),Ce=function(){var Ze=(0,S.A)(function*(Ne,ze,ct,Xt,pn,xn,sn){var Sn,cr;if(!Ne.presented)return!1;const to=(void 0!==k.d?ne(k.d):[]).filter(Gr=>"ION-TOAST"!==Gr.tagName);1===to.length&&to[0].id===Ne.el.id&&(ve(!1),document.body.classList.remove(D.B)),Ne.presented=!1;try{En(Ne.el),Ne.el.style.setProperty("pointer-events","none"),Ne.willDismiss.emit({data:ze,role:ct}),null===(Sn=Ne.willDismissShorthand)||void 0===Sn||Sn.emit({data:ze,role:ct});const Gr=(0,f.b)(Ne),Fo=Ne.leaveAnimation?Ne.leaveAnimation:R.e.get(Xt,"ios"===Gr?pn:xn);ct!==Dt&&(yield wt(Ne,Fo,Ne.el,sn)),Ne.didDismiss.emit({data:ze,role:ct}),null===(cr=Ne.didDismissShorthand)||void 0===cr||cr.emit({data:ze,role:ct}),(ie.get(Ne)||[]).forEach(Jt=>Jt.destroy()),ie.delete(Ne),Ne.el.classList.add("overlay-hidden"),Ne.el.style.removeProperty("pointer-events"),void 0!==Ne.el.lastFocus&&(Ne.el.lastFocus=void 0)}catch(Gr){(0,R.j)(`[${Ne.el.tagName.toLowerCase()}] - `,Gr)}return Ne.el.remove(),Wt(),!0});return function(ze,ct,Xt,pn,xn,sn,Sn){return Ze.apply(this,arguments)}}(),Je=Ze=>Ze.querySelector("ion-app")||Ze.body,wt=function(){var Ze=(0,S.A)(function*(Ne,ze,ct,Xt){ct.classList.remove("overlay-hidden");const xn=ze(Ne.el,Xt);(!Ne.animated||!R.e.getBoolean("animated",!0))&&xn.duration(0),Ne.keyboardClose&&xn.beforeAddWrite(()=>{const Sn=ct.ownerDocument.activeElement;Sn?.matches("input,ion-input, ion-textarea")&&Sn.blur()});const sn=ie.get(Ne)||[];return ie.set(Ne,[...sn,xn]),yield xn.play(),!0});return function(ze,ct,Xt,pn){return Ze.apply(this,arguments)}}(),Te=(Ze,Ne)=>{let ze;const ct=new Promise(Xt=>ze=Xt);return He(Ze,Ne,Xt=>{ze(Xt.detail)}),ct},He=(Ze,Ne,ze)=>{const ct=Xt=>{(0,L.m)(Ze,Ne,ct),ze(Xt)};(0,L.f)(Ze,Ne,ct)},vt=Ze=>"cancel"===Ze||Ze===ot,ht=Ze=>Ze(),Ct=(Ze,Ne)=>{if("function"==typeof Ze)return R.e.get("_zoneGate",ht)(()=>{try{return Ze(Ne)}catch(ct){throw ct}})},ot="backdrop",Dt="gesture",Ke=39,_t=Ze=>{let ze,Ne=!1;const ct=(0,P.C)(),Xt=(sn=!1)=>{if(ze&&!sn)return{delegate:ze,inline:Ne};const{el:Sn,hasController:cr,delegate:mr}=Ze;return Ne=null!==Sn.parentNode&&!cr,ze=Ne?mr||ct:mr,{inline:Ne,delegate:ze}};return{attachViewToDom:function(){var sn=(0,S.A)(function*(Sn){const{delegate:cr}=Xt(!0);if(cr)return yield cr.attachViewToDom(Ze.el,Sn);const{hasController:mr}=Ze;if(mr&&void 0!==Sn)throw new Error("framework delegate is missing");return null});return function(cr){return sn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:sn}=Xt();sn&&void 0!==Ze.el&&sn.removeViewFromDom(Ze.el.parentElement,Ze.el)}}},$t=()=>{let Ze;const Ne=()=>{Ze&&(Ze(),Ze=void 0)};return{addClickListener:(ct,Xt)=>{Ne();const pn=void 0!==Xt?document.getElementById(Xt):null;pn?Ze=((sn,Sn)=>{const cr=()=>{Sn.present()};return sn.addEventListener("click",cr),()=>{sn.removeEventListener("click",cr)}})(pn,ct):(0,R.f)(`[${ct.tagName.toLowerCase()}] - A trigger element with the ID "${Xt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ct)},removeClickListener:Ne}},En=Ze=>{void 0!==k.d&&(0,f.a)("android")&&Ze.setAttribute("aria-hidden","true")},Dn=Ze=>{var Ne;if(void 0===k.d)return;const ze=ne(k.d);for(let ct=ze.length-1;ct>=0;ct--){const Xt=ze[ct],pn=null!==(Ne=ze[ct+1])&&void 0!==Ne?Ne:Ze;(pn.hasAttribute("aria-hidden")||"ION-TOAST"!==pn.tagName)&&Xt.setAttribute("aria-hidden","true")}},Wt=()=>{if(void 0===k.d)return;const Ze=ne(k.d);for(let Ne=Ze.length-1;Ne>=0;Ne--){const ze=Ze[Ne];if(ze.removeAttribute("aria-hidden"),"ION-TOAST"!==ze.tagName)break}},Nt="ion-disable-focus-trap"},7510:(K,Se,_)=>{var L,S=_(5e3).default,k=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(W={}){var f=W,P="object"==typeof window,D=typeof WorkerGlobalScope<"u",H=("object"==typeof process&&process.versions?.node&&process,"./this.program"),O=(u,E)=>{throw E};D&&(L=self.location.href);var ie,ce,I="";if(P||D){try{I=new URL(".",L).href}catch{}D&&(ce=u=>{var E=new XMLHttpRequest;return E.open("GET",u,!1),E.responseType="arraybuffer",E.send(null),new Uint8Array(E.response)}),ie=function(){var u=S(function*(E){var re=yield fetch(E,{credentials:"same-origin"});if(re.ok)return re.arrayBuffer();throw new Error(re.status+" : "+re.url)});return function(re){return u.apply(this,arguments)}}()}var Z,ge,be=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Ie(u,E){u||Ke(E)}function te(){if(!Y){var u=_n();0==u&&(u+=4);var E=ne[u>>2],re=ne[u+4>>2];(34821223!=E||2310721022!=re)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${Gr(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Gr(re)} ${Gr(E)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var we,me,de,De,U,G,ne,ve,Re,Ce=!1;function Je(){var u=de.buffer;De=new Int8Array(u),new Int16Array(u),f.HEAPU8=U=new Uint8Array(u),new Uint16Array(u),G=new Int32Array(u),f.HEAPU32=ne=new Uint32Array(u),new Float32Array(u),ve=new Float64Array(u),Re=new BigInt64Array(u),new BigUint64Array(u)}var _t,ht=0,Ct=null;function Ke(u){f.onAbort?.(u),Q(u="Aborted("+u+")"),Y=!0,u+=". Build with -sASSERTIONS for more info.";var E=new WebAssembly.RuntimeError(u);throw me?.(E),E}function Wt(){return(Wt=S(function*(u){if(!Z)try{var E=yield ie(u);return new Uint8Array(E)}catch{}return function En(u){if(u==_t&&Z)return new Uint8Array(Z);if(ce)return ce(u);throw"both async and sync fetching of the wasm failed"}(u)})).apply(this,arguments)}function Ze(){return Ze=S(function*(u,E){try{var re=yield function Dn(u){return Wt.apply(this,arguments)}(u);return yield WebAssembly.instantiate(re,E)}catch(Yt){Q(`failed to asynchronously prepare wasm: ${Yt}`),Ke(Yt)}}),Ze.apply(this,arguments)}function ze(){return ze=S(function*(u,E,re){if(!u&&"function"==typeof WebAssembly.instantiateStreaming)try{var at=fetch(E,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(at,re)}catch(kn){Q(`wasm streaming compile failed: ${kn}`),Q("falling back to ArrayBuffer instantiation")}return function Nt(u,E){return Ze.apply(this,arguments)}(E,re)}),ze.apply(this,arguments)}function pn(){return pn=S(function*(){function u(kn,Kn){return de=(Ul=kn.exports).u,Je(),qr=Ul.Dd,function cu(u){f._main=tt=u.w,f._webidl_free=u.x,f._webidl_malloc=u.y,f._emscripten_bind_VoidPtr___destroy___0=Oi=u.z,f._emscripten_bind_Cloudpilot_Cloudpilot_0=Xo=u.A,f._emscripten_bind_Cloudpilot_Malloc_1=pa=u.B,f._emscripten_bind_Cloudpilot_Free_1=ys=u.C,f._emscripten_bind_Cloudpilot_Nullptr_0=zs=u.D,f._emscripten_bind_Cloudpilot_EnableLogging_1=Qo=u.E,f._emscripten_bind_Cloudpilot_InitializeSession_3=_s=u.F,f._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=yi=u.G,f._emscripten_bind_Cloudpilot_RunEmulation_1=bs=u.H,f._emscripten_bind_Cloudpilot_SetClockFactor_1=Cs=u.I,f._emscripten_bind_Cloudpilot_CopyFrame_0=qi=u.J,f._emscripten_bind_Cloudpilot_IsScreenDirty_0=fo=u.K,f._emscripten_bind_Cloudpilot_MarkScreenClean_0=_i=u.L,f._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=Zi=u.M,f._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=Ki=u.N,f._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=Ws=u.O,f._emscripten_bind_Cloudpilot_QueuePenMove_2=Ss=u.P,f._emscripten_bind_Cloudpilot_QueuePenUp_0=ci=u.Q,f._emscripten_bind_Cloudpilot_QueueButtonDown_1=Jo=u.R,f._emscripten_bind_Cloudpilot_QueueButtonUp_1=bi=u.S,f._emscripten_bind_Cloudpilot_QueueKeyboardEvent_1=Gt=u.T,f._emscripten_bind_Cloudpilot_IsPowerOff_0=un=u.U,f._emscripten_bind_Cloudpilot_IsUIInitialized_0=ha=u.V,f._emscripten_bind_Cloudpilot_GetOSVersion_0=qs=u.W,f._emscripten_bind_Cloudpilot_IsSetupComplete_0=wo=u.X,f._emscripten_bind_Cloudpilot_Reset_0=ws=u.Y,f._emscripten_bind_Cloudpilot_ResetNoExtensions_0=Pi=u.Z,f._emscripten_bind_Cloudpilot_ResetHard_0=Yi=u._,f._emscripten_bind_Cloudpilot_InstallDb_2=Es=u.$,f._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=Va=u.aa,f._emscripten_bind_Cloudpilot_GetMemoryPtr_0=Zs=u.ba,f._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=Ds=u.ca,f._emscripten_bind_Cloudpilot_GetMemorySize_0=ga=u.da,f._emscripten_bind_Cloudpilot_ImportMemoryImage_2=Ks=u.ea,f._emscripten_bind_Cloudpilot_GetRomPtr_0=Ys=u.fa,f._emscripten_bind_Cloudpilot_GetRomSize_0=ma=u.ga,f._emscripten_bind_Cloudpilot_GetSavestatePtr_0=Xs=u.ha,f._emscripten_bind_Cloudpilot_GetSavestateSize_0=Eo=u.ia,f._emscripten_bind_Cloudpilot_SaveState_0=Qs=u.ja,f._emscripten_bind_Cloudpilot_LoadState_2=oo=u.ka,f._emscripten_bind_Cloudpilot_GetHotsyncName_0=Xi=u.la,f._emscripten_bind_Cloudpilot_SetHotsyncName_1=va=u.ma,f._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=Ua=u.na,f._emscripten_bind_Cloudpilot_StartBackup_0=$o=u.oa,f._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=Is=u.pa,f._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=ya=u.qa,f._emscripten_bind_Cloudpilot_IsSuspended_0=Js=u.ra,f._emscripten_bind_Cloudpilot_GetSuspendContext_0=se=u.sa,f._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=ea=u.ta,f._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=Le=u.ua,f._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=ui=u.va,f._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=_a=u.wa,f._emscripten_bind_Cloudpilot_LaunchAppByName_1=Ts=u.xa,f._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=Fi=u.ya,f._emscripten_bind_Cloudpilot_ClearExternalStorage_0=cl=u.za,f._emscripten_bind_Cloudpilot_AllocateCard_2=h=u.Aa,f._emscripten_bind_Cloudpilot_AdoptCard_3=v=u.Ba,f._emscripten_bind_Cloudpilot_MountCard_1=w=u.Ca,f._emscripten_bind_Cloudpilot_RemoveCard_1=A=u.Da,f._emscripten_bind_Cloudpilot_GetCardData_1=ee=u.Ea,f._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=J=u.Fa,f._emscripten_bind_Cloudpilot_GetCardSize_1=Ue=u.Ga,f._emscripten_bind_Cloudpilot_RemountCards_0=pe=u.Ha,f._emscripten_bind_Cloudpilot_GetSupportLevel_1=qe=u.Ia,f._emscripten_bind_Cloudpilot_GetMountedKey_0=ye=u.Ja,f._emscripten_bind_Cloudpilot_GetTransportIR_0=je=u.Ka,f._emscripten_bind_Cloudpilot_GetTransportSerial_0=dt=u.La,f._emscripten_bind_Cloudpilot___destroy___0=ut=u.Ma,f._emscripten_bind_RomInfo_RomInfo_2=At=u.Na,f._emscripten_bind_RomInfo_IsValid_0=gt=u.Oa,f._emscripten_bind_RomInfo_CardVersion_0=xt=u.Pa,f._emscripten_bind_RomInfo_CardName_0=ur=u.Qa,f._emscripten_bind_RomInfo_RomVersion_0=Zt=u.Ra,f._emscripten_bind_RomInfo_RomVersionString_0=Kt=u.Sa,f._emscripten_bind_RomInfo_Supports_1=$n=u.Ta,f._emscripten_bind_RomInfo___destroy___0=an=u.Ua,f._emscripten_bind_Frame_GetLineWidth_0=St=u.Va,f._emscripten_bind_Frame_GetBpp_0=Hn=u.Wa,f._emscripten_bind_Frame_GetLines_0=hn=u.Xa,f._emscripten_bind_Frame_GetMargin_0=Nn=u.Ya,f._emscripten_bind_Frame_GetBytesPerLine_0=b=u.Za,f._emscripten_bind_Frame_GetFirstDirtyLine_0=$=u._a,f._emscripten_bind_Frame_GetLastDirtyLine_0=le=u.$a,f._emscripten_bind_Frame_GetHasChanges_0=Be=u.ab,f._emscripten_bind_Frame_GetBuffer_0=Pt=u.bb,f._emscripten_bind_Frame_GetBufferSize_0=on=u.cb,f._emscripten_bind_Frame_GetScaleX_0=mn=u.db,f._emscripten_bind_Frame_GetScaleY_0=Gn=u.eb,f._emscripten_bind_Frame___destroy___0=Zr=u.fb,f._emscripten_bind_DbBackup_Init_1=dn=u.gb,f._emscripten_bind_DbBackup_IsInProgress_0=Tr=u.hb,f._emscripten_bind_DbBackup_IsDone_0=Br=u.ib,f._emscripten_bind_DbBackup_GetCurrentDatabase_0=pr=u.jb,f._emscripten_bind_DbBackup_Save_0=kt=u.kb,f._emscripten_bind_DbBackup_Skip_0=Rr=u.lb,f._emscripten_bind_DbBackup_GetArchivePtr_0=nr=u.mb,f._emscripten_bind_DbBackup_GetArchiveSize_0=Ar=u.nb,f._emscripten_bind_DbBackup___destroy___0=hr=u.ob,f._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=ir=u.pb,f._emscripten_bind_SuspendContextClipboardCopy_Resume_0=g=u.qb,f._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=B=u.rb,f._emscripten_bind_SuspendContextClipboardCopy___destroy___0=_e=u.sb,f._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=st=u.tb,f._emscripten_bind_SuspendContextClipboardPaste_Resume_1=zt=u.ub,f._emscripten_bind_SuspendContextClipboardPaste___destroy___0=An=u.vb,f._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=Wn=u.wb,f._emscripten_bind_SuspendContextNetworkConnect_Resume_0=Bn=u.xb,f._emscripten_bind_SuspendContextNetworkConnect___destroy___0=jr=u.yb,f._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=Ha=u.zb,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=kl=u.Ab,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=Rl=u.Bb,f._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=ba=u.Cb,f._emscripten_bind_SuspendContextNetworkRpc___destroy___0=Bo=u.Db,f._emscripten_bind_SuspendContextSerialSync_Cancel_0=_c=u.Eb,f._emscripten_bind_SuspendContextSerialSync_Resume_0=od=u.Fb,f._emscripten_bind_SuspendContextSerialSync___destroy___0=io=u.Gb,f._emscripten_bind_SuspendContext_GetKind_0=lt=u.Hb,f._emscripten_bind_SuspendContext_Cancel_0=ln=u.Ib,f._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=so=u.Jb,f._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=ei=u.Kb,f._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=ko=u.Lb,f._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=ul=u.Mb,f._emscripten_bind_SuspendContext_AsContextSerialSync_0=bc=u.Nb,f._emscripten_bind_SuspendContext___destroy___0=sr=u.Ob,f._emscripten_bind_SessionImage_SessionImage_0=Mr=u.Pb,f._emscripten_bind_SessionImage_GetDeviceId_0=Qi=u.Qb,f._emscripten_bind_SessionImage_SetDeviceId_1=Mn=u.Rb,f._emscripten_bind_SessionImage_GetRomImage_0=dl=u.Sb,f._emscripten_bind_SessionImage_GetRomImageSize_0=ou=u.Tb,f._emscripten_bind_SessionImage_SetRomImage_2=Nl=u.Ub,f._emscripten_bind_SessionImage_GetMemoryImage_0=po=u.Vb,f._emscripten_bind_SessionImage_GetMemoryImageSize_0=Ga=u.Wb,f._emscripten_bind_SessionImage_SetMemoryImage_2=Ol=u.Xb,f._emscripten_bind_SessionImage_GetMetadata_0=Ca=u.Yb,f._emscripten_bind_SessionImage_GetMetadataSize_0=Cc=u.Zb,f._emscripten_bind_SessionImage_SetMetadata_2=Nf=u._b,f._emscripten_bind_SessionImage_GetSavestate_0=za=u.$b,f._emscripten_bind_SessionImage_GetSavestateSize_0=id=u.ac,f._emscripten_bind_SessionImage_SetSavestate_2=fl=u.bc,f._emscripten_bind_SessionImage_GetVersion_0=Li=u.cc,f._emscripten_bind_SessionImage_Serialize_0=Pl=u.dc,f._emscripten_bind_SessionImage_GetSerializedImage_0=rn=u.ec,f._emscripten_bind_SessionImage_GetSerializedImageSize_0=sd=u.fc,f._emscripten_bind_SessionImage_Deserialize_2=Wa=u.gc,f._emscripten_bind_SessionImage___destroy___0=Sa=u.hc,f._emscripten_bind_SkinLoader_SkinLoader_1=iu=u.ic,f._emscripten_bind_SkinLoader_GetData_0=Fl=u.jc,f._emscripten_bind_SkinLoader_GetSize_0=Kr=u.kc,f._emscripten_bind_SkinLoader___destroy___0=Yr=u.lc,f._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=di=u.mc,f._emscripten_bind_EmTransportSerialBuffer_Receive_0=Of=u.nc,f._emscripten_bind_EmTransportSerialBuffer_Send_3=wa=u.oc,f._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=Ll=u.pc,f._emscripten_bind_EmTransportSerialBuffer_Rts_0=$i=u.qc,f._emscripten_bind_EmTransportSerialBuffer_Dtr_0=qa=u.rc,f._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=Vy=u.sc,f._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=Uy=u.tc,f._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=Ea=u.uc,f._emscripten_bind_EmTransportSerialBuffer_GetParity_0=Pf=u.vc,f._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=Hy=u.wc,f._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=Xh=u.xc,f._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=su=u.yc,f._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=Gy=u.zc,f._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=zy=u.Ac,f._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=Wy=u.Bc,f._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=qy=u.Cc,f._emscripten_bind_EmTransportSerialBuffer___destroy___0=Zy=u.Dc,f._emscripten_bind_GunzipContext_GunzipContext_3=Ky=u.Ec,f._emscripten_bind_GunzipContext_GetState_0=Qh=u.Fc,f._emscripten_bind_GunzipContext_Continue_0=Yy=u.Gc,f._emscripten_bind_GunzipContext_GetUncompressedData_0=Xy=u.Hc,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=Qy=u.Ic,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=Jy=u.Jc,f._emscripten_bind_GunzipContext_GetError_0=Ff=u.Kc,f._emscripten_bind_GunzipContext___destroy___0=Lf=u.Lc,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=e_=u.Mc,f._emscripten_bind_ZipfileWalker_GetState_0=t_=u.Nc,f._emscripten_bind_ZipfileWalker_Next_0=n_=u.Oc,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=$f=u.Pc,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Bf=u.Qc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=Ro=u.Rc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=Jh=u.Sc,f._emscripten_bind_ZipfileWalker___destroy___0=$l=u.Tc,f._emscripten_bind_SessionFile5_SessionFile5_0=_o=u.Uc,f._emscripten_bind_SessionFile5_IsSessionFile_2=eg=u.Vc,f._emscripten_bind_SessionFile5_GetDeviceId_0=Bl=u.Wc,f._emscripten_bind_SessionFile5_SetDeviceId_1=pl=u.Xc,f._emscripten_bind_SessionFile5_GetMetadata_0=ad=u.Yc,f._emscripten_bind_SessionFile5_GetMetadataSize_0=fi=u.Zc,f._emscripten_bind_SessionFile5_SetMetadata_2=tg=u._c,f._emscripten_bind_SessionFile5_GetNor_0=ld=u.$c,f._emscripten_bind_SessionFile5_GetNorSize_0=ng=u.ad,f._emscripten_bind_SessionFile5_SetNor_2=ti=u.bd,f._emscripten_bind_SessionFile5_GetNand_0=jf=u.cd,f._emscripten_bind_SessionFile5_GetNandSize_0=Vf=u.dd,f._emscripten_bind_SessionFile5_SetNand_2=Uf=u.ed,f._emscripten_bind_SessionFile5_GetMemory_0=au=u.fd,f._emscripten_bind_SessionFile5_GetMemorySize_0=cd=u.gd,f._emscripten_bind_SessionFile5_SetMemory_2=jl=u.hd,f._emscripten_bind_SessionFile5_GetSavestate_0=lu=u.id,f._emscripten_bind_SessionFile5_GetSavestateSize_0=ud=u.jd,f._emscripten_bind_SessionFile5_SetSavestate_2=Da=u.kd,f._emscripten_bind_SessionFile5_GetRamSize_0=Hf=u.ld,f._emscripten_bind_SessionFile5_SetRamSize_1=Gf=u.md,f._emscripten_bind_SessionFile5_Serialize_0=zf=u.nd,f._emscripten_bind_SessionFile5_GetSerializedSession_0=vn=u.od,f._emscripten_bind_SessionFile5_GetSerializedSessionSize_0=Vl=u.pd,f._emscripten_bind_SessionFile5_GetVersion_0=dd=u.qd,f._emscripten_bind_SessionFile5_Deserialize_2=fd=u.rd,f._emscripten_bind_SessionFile5___destroy___0=rg=u.sd,f._emscripten_bind_RomInfo5_RomInfo5_2=og=u.td,f._emscripten_bind_RomInfo5_IsValid_0=Wf=u.ud,f._emscripten_bind_RomInfo5_GetCardName_0=pd=u.vd,f._emscripten_bind_RomInfo5_GetManufacturer_0=qf=u.wd,f._emscripten_bind_RomInfo5_GetRomName_0=Zf=u.xd,f._emscripten_bind_RomInfo5_GetCompanyId_0=ig=u.yd,f._emscripten_bind_RomInfo5_GetHalId_0=r_=u.zd,f._emscripten_bind_RomInfo5_GetDeviceType_0=sg=u.Ad,f._emscripten_bind_RomInfo5_GetRecommendedRamSize_0=Kf=u.Bd,f._emscripten_bind_RomInfo5___destroy___0=et=u.Cd,_n=u.Ed,ft=u.Fd,pt=u.Gd,bn=u.Hd,f.___original_main=u.Id}(Ul),function Dt(){if(ht--,f.monitorRunDependencies?.(ht),0==ht&&Ct){var E=Ct;Ct=null,E()}}(),Ul}!function ot(){ht++,f.monitorRunDependencies?.(ht)}();var re=function ct(){return{a:Za}}();if(f.instantiateWasm)return new Promise((kn,Kn)=>{f.instantiateWasm(re,(Yn,Oo)=>{kn(u(Yn))})});_t??=function $t(){return function T(u){return f.locateFile?f.locateFile(u,I):I+u}("cloudpilot_web.wasm")}();var at=yield function Ne(u,E,re){return ze.apply(this,arguments)}(Z,_t,re);return function E(kn){return u(kn.instance)}(at)}),pn.apply(this,arguments)}class xn{name="ExitStatus";constructor(E){this.message=`Program terminated with exit(${E})`,this.status=E}}var qr,Un,sn=u=>{for(;u.length>0;)u.shift()(f)},Sn=[],cr=u=>Sn.push(u),mr=[],to=u=>mr.push(u),Co=!0,Gr=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),Fo=typeof TextDecoder<"u"?new TextDecoder:void 0,no=(u,E=0,re=NaN)=>{for(var at=E+re,Yt=E;u[Yt]&&!(Yt>=at);)++Yt;if(Yt-E>16&&u.buffer&&Fo)return Fo.decode(u.subarray(E,Yt));for(var kn="";E<Yt;){var Kn=u[E++];if(128&Kn){var Yn=63&u[E++];if(192!=(224&Kn)){var Oo=63&u[E++];if((Kn=224==(240&Kn)?(15&Kn)<<12|Yn<<6|Oo:(7&Kn)<<18|Yn<<12|Oo<<6|63&u[E++])<65536)kn+=String.fromCharCode(Kn);else{var Sc=Kn-65536;kn+=String.fromCharCode(55296|Sc>>10,56320|1023&Sc)}}else kn+=String.fromCharCode((31&Kn)<<6|Yn)}else kn+=String.fromCharCode(Kn)}return kn},Jt=(u,E)=>u?no(U,u,E):"",qt=u=>u<-9007199254740992||u>9007199254740992?NaN:Number(u),en=0,Er=[0,31,60,91,121,152,182,213,244,274,305,335],co=[0,31,59,90,120,151,181,212,243,273,304,334],ro=u=>((u=>u%4==0&&(u%100!=0||u%400==0))(u.getFullYear())?Er:co)[u.getMonth()]+u.getDate()-1,Tn={},So=u=>{if(u instanceof xn||"unwind"==u)return ge;te(),u instanceof WebAssembly.RuntimeError&&bn()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),O(0,u)},ai=()=>Co||en>0,yo=u=>{ge=u,ai()||(f.onExit?.(u),Y=!0),O(0,new xn(u))},Wo=(u,E)=>{ge=u,yo(u)},jn=Wo,vi=()=>performance.now(),Pe=(u,E,re,at)=>{if(!(at>0))return 0;for(var Yt=re,kn=re+at-1,Kn=0;Kn<u.length;++Kn){var Yn=u.codePointAt(Kn);if(Yn<=127){if(re>=kn)break;E[re++]=Yn}else if(Yn<=2047){if(re+1>=kn)break;E[re++]=192|Yn>>6,E[re++]=128|63&Yn}else if(Yn<=65535){if(re+2>=kn)break;E[re++]=224|Yn>>12,E[re++]=128|Yn>>6&63,E[re++]=128|63&Yn}else{if(re+3>=kn)break;E[re++]=240|Yn>>18,E[re++]=128|Yn>>12&63,E[re++]=128|Yn>>6&63,E[re++]=128|63&Yn,Kn++}}return E[re]=0,re-Yt},fr=(u,E,re)=>Pe(u,U,E,re),zn=()=>Date.now(),li=[],Vn=(u,E)=>Math.ceil(u/E)*E,Vt=u=>{var re=(u-de.buffer.byteLength+65535)/65536|0;try{return de.grow(re),Je(),1}catch{}},Me={},Ht=()=>{if(!Ht.strings){var E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:H||"./this.program"};for(var re in Me)void 0===Me[re]?delete E[re]:E[re]=Me[re];var at=[];for(var re in E)at.push(`${re}=${E[re]}`);Ht.strings=at}return Ht.strings},or=u=>{for(var E=0,re=0;re<u.length;++re){var at=u.charCodeAt(re);at<=127?E++:at<=2047?E+=2:at>=55296&&at<=57343?(E+=4,++re):E+=3}return E},$a=[null,[],[]],hs=(u,E)=>{var re=$a[u];0===E||10===E?((1===u?be:Q)(no(re)),re.length=0):re.push(E)},uo=[],Bt=(u,E)=>{u<128?E.push(u):E.push(u%128|128,u>>7)},Yo=[],Qe=u=>{var E=Yo[u];return E||(Yo[u]=E=qr.get(u)),E},fa=[],ja=(u,E)=>{qr.set(u,E),Yo[u]=qr.get(u)};f.noExitRuntime&&(Co=f.noExitRuntime),f.print&&(be=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(Z=f.wasmBinary),f.thisProgram&&(H=f.thisProgram),f.addFunction=(u,E)=>{var re=(u=>(Un||(Un=new WeakMap,((u,E)=>{if(Un)for(var re=0;re<0+E;re++){var at=Qe(re);at&&Un.set(at,re)}})(0,qr.length)),Un.get(u)||0))(u);if(re)return re;var at=(()=>{if(fa.length)return fa.pop();try{qr.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return qr.length-1})();try{ja(at,u)}catch(kn){if(!(kn instanceof TypeError))throw kn;var Yt=((u,E)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var E={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},re={parameters:[],results:"v"==u[0]?[]:[E[u[0]]]},at=1;at<u.length;++at)re.parameters.push(E[u[at]]);return re})(E),u);var re=[1];((u,E)=>{var re=u.slice(0,1),at=u.slice(1),Yt={i:127,p:127,j:126,f:125,d:124,e:111};for(var kn of(E.push(96),Bt(at.length,E),at))E.push(Yt[kn]);"v"==re?E.push(0):E.push(1,Yt[re])})(E,re);var at=[0,97,115,109,1,0,0,0,1];Bt(re.length,at),at.push(...re),at.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Yt=new WebAssembly.Module(new Uint8Array(at));return new WebAssembly.Instance(Yt,{e:{f:u}}).exports.f})(u,E);ja(at,Yt)}return Un.set(u,at),at},f.UTF8ToString=Jt;var tt,Oi,Xo,pa,ys,zs,Qo,_s,yi,bs,Cs,qi,fo,_i,Zi,Ki,Ws,Ss,ci,Jo,bi,Gt,un,ha,qs,wo,ws,Pi,Yi,Es,Va,Zs,Ds,ga,Ks,Ys,ma,Xs,Eo,Qs,oo,Xi,va,Ua,$o,Is,ya,Js,se,ea,Le,ui,_a,Ts,Fi,cl,h,v,w,A,ee,J,Ue,pe,qe,ye,je,dt,ut,At,gt,xt,ur,Zt,Kt,$n,an,St,Hn,hn,Nn,b,$,le,Be,Pt,on,mn,Gn,Zr,dn,Tr,Br,pr,kt,Rr,nr,Ar,hr,ir,g,B,_e,st,zt,An,Wn,Bn,jr,Ha,kl,Rl,ba,Bo,_c,od,io,lt,ln,so,ei,ko,ul,bc,sr,Mr,Qi,Mn,dl,ou,Nl,po,Ga,Ol,Ca,Cc,Nf,za,id,fl,Li,Pl,rn,sd,Wa,Sa,iu,Fl,Kr,Yr,di,Of,wa,Ll,$i,qa,Vy,Uy,Ea,Pf,Hy,Xh,su,Gy,zy,Wy,qy,Zy,Ky,Qh,Yy,Xy,Qy,Jy,Ff,Lf,e_,t_,n_,$f,Bf,Ro,Jh,$l,_o,eg,Bl,pl,ad,fi,tg,ld,ng,ti,jf,Vf,Uf,au,cd,jl,lu,ud,Da,Hf,Gf,zf,vn,Vl,dd,fd,rg,og,Wf,pd,qf,Zf,ig,r_,sg,Kf,et,_n,ft,pt,bn,vs={429680:u=>{qr.grow(65536);for(let E=0;E<=65535;E++)qr.set(qr.length-65535-1+E,qr.get(ne[(u>>>2)+E]));return qr.length-65535-1}},Za={a:(u,E,re,at)=>Ke(`Assertion failed: ${Jt(u)}, at: `+[E?Jt(E):"unknown filename",re,at?Jt(at):"unknown function"]),s:function Hs(u){const E=new Error(Jt(u));throw E.isAssert=!0,E},c:function Zn(u,E){E=qt(E)},h:()=>Ke(""),j:()=>{Co=!1,en=0},p:function xo(u,E){u=qt(u);var re=new Date(1e3*u);G[E>>2]=re.getSeconds(),G[E+4>>2]=re.getMinutes(),G[E+8>>2]=re.getHours(),G[E+12>>2]=re.getDate(),G[E+16>>2]=re.getMonth(),G[E+20>>2]=re.getFullYear()-1900,G[E+24>>2]=re.getDay();var at=0|ro(re);G[E+28>>2]=at,G[E+36>>2]=-60*re.getTimezoneOffset();var Yt=new Date(re.getFullYear(),0,1),kn=new Date(re.getFullYear(),6,1).getTimezoneOffset(),Kn=Yt.getTimezoneOffset(),Yn=0|(kn!=Kn&&re.getTimezoneOffset()==Math.min(Kn,kn));G[E+32>>2]=Yn},q:function(u){var E=(()=>{var re=new Date(G[u+20>>2]+1900,G[u+16>>2],G[u+12>>2],G[u+8>>2],G[u+4>>2],G[u>>2],0),at=G[u+32>>2],Yt=re.getTimezoneOffset(),kn=new Date(re.getFullYear(),0,1),Kn=new Date(re.getFullYear(),6,1).getTimezoneOffset(),Yn=kn.getTimezoneOffset(),Oo=Math.min(Yn,Kn);if(at<0)G[u+32>>2]=+(Kn!=Yn&&Oo==Yt);else if(at>0!=(Oo==Yt)){var Sc=Math.max(Yn,Kn),wc=at>0?Oo:Sc;re.setTime(re.getTime()+6e4*(wc-Yt))}G[u+24>>2]=re.getDay();var uu=0|ro(re);G[u+28>>2]=uu,G[u>>2]=re.getSeconds(),G[u+4>>2]=re.getMinutes(),G[u+8>>2]=re.getHours(),G[u+12>>2]=re.getDate(),G[u+16>>2]=re.getMonth(),G[u+20>>2]=re.getYear();var Ec=re.getTime();return isNaN(Ec)?-1:Ec/1e3})();return BigInt(E)},k:(u,E)=>{if(Tn[u]&&(clearTimeout(Tn[u].id),delete Tn[u]),!E)return 0;var re=setTimeout(()=>{delete Tn[u],(u=>{if(!Y)try{u(),(()=>{if(!ai())try{jn(ge)}catch(u){So(u)}})()}catch(E){So(E)}})(()=>ft(u,vi()))},E);return Tn[u]={id:re,timeout_ms:E},0},r:(u,E,re,at)=>{var Yt=(new Date).getFullYear(),kn=new Date(Yt,0,1),Kn=new Date(Yt,6,1),Yn=kn.getTimezoneOffset(),Oo=Kn.getTimezoneOffset(),Sc=Math.max(Yn,Oo);ne[u>>2]=60*Sc,G[E>>2]=+(Yn!=Oo);var wc=Ur=>{var ni=Ur>=0?"-":"+",Vi=Math.abs(Ur);return`UTC${ni}${String(Math.floor(Vi/60)).padStart(2,"0")}${String(Vi%60).padStart(2,"0")}`},uu=wc(Yn),Ec=wc(Oo);Oo<Yn?(fr(uu,re,17),fr(Ec,at,17)):(fr(uu,at,17),fr(Ec,re,17))},n:function gn(u,E,re){if(E=qt(E),!(u=>u>=0&&u<=3)(u))return 28;var at;at=0===u?zn():vi();var Yt=Math.round(1e3*at*1e3);return Re[re>>3]=BigInt(Yt),0},t:(u,E,re)=>((u,E,re)=>{var at=((u,E)=>{li.length=0;for(var re;re=U[u++];){var at=105!=re;E+=(at&=112!=re)&&E%8?4:0,li.push(112==re?ne[E>>2]:106==re?Re[E>>3]:105==re?G[E>>2]:ve[E>>3]),E+=at?8:4}return li})(E,re);return vs[u](...at)})(u,E,re),g:zn,o:u=>{var E=U.length,re=2147483648;if((u>>>=0)>re)return!1;for(var at=1;at<=4;at*=2){var Yt=E*(1+.2/at);Yt=Math.min(Yt,u+100663296);var kn=Math.min(re,Vn(Math.max(u,Yt),65536));if(Vt(kn))return!0}return!1},l:(u,E)=>{var re=0,at=0;for(var Yt of Ht()){var kn=E+re;ne[u+at>>2]=kn,re+=fr(Yt,kn,1/0)+1,at+=4}return 0},m:(u,E)=>{var re=Ht();ne[u>>2]=re.length;var at=0;for(var Yt of re)at+=or(Yt)+1;return ne[E>>2]=at,0},d:u=>52,f:(u,E,re,at)=>52,b:function Al(u,E,re,at){return E=qt(E),70},e:(u,E,re,at)=>{for(var Yt=0,kn=0;kn<re;kn++){var Kn=ne[E>>2],Yn=ne[E+4>>2];E+=8;for(var Oo=0;Oo<Yn;Oo++)hs(u,U[Kn+Oo]);Yt+=Yn}return ne[at>>2]=Yt,0},i:yo},Ul=yield function Xt(){return pn.apply(this,arguments)}();function yr(){}function As(u){return(u||yr).__cache__}function Qt(u,E){var re=As(E),at=re[u];return at||((at=Object.create((E||yr).prototype)).ptr=u,re[u]=at)}(function ZD(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function ug(){function u(){f.calledRun=!0,Y||(function Te(){Ce=!0,te(),sn(uo),Ul.v()}(),function He(){te()}(),we?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function lg(){var u=tt;try{var at=u(0,0);return Wo(at),at}catch(Yt){return So(Yt)}}(),function vt(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)cr(f.postRun.shift());sn(Sn)}())}ht>0?Ct=ug:(function cg(){pt(),function Ye(){var u=_n();0==u&&(u+=4),ne[u>>2]=34821223,ne[u+4>>2]=2310721022,ne[0]=1668509029}()}(),function wt(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)to(f.preRun.shift());sn(mr)}(),ht>0?Ct=ug:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),u()},1)):u(),te()))}(),(yr.prototype=Object.create(yr.prototype)).constructor=yr,yr.prototype.__class__=yr,yr.__cache__={},f.WrapperObject=yr,f.getCache=As,f.wrapPointer=Qt,f.castObject=function Ci(u,E){return Qt(u.ptr,E)},f.NULL=Qt(0),f.destroy=function Ka(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete As(u.__class__)[u.ptr]},f.compare=function dg(u,E){return u.ptr===E.ptr},f.getPointer=function Bi(u){return u.ptr},f.getClass=function Ya(u){return u.__class__};var On={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(On.needed){for(var u=0;u<On.temps.length;u++)f._webidl_free(On.temps[u]);On.temps.length=0,f._webidl_free(On.buffer),On.buffer=0,On.size+=On.needed,On.needed=0}On.buffer||(On.size+=128,On.buffer=f._webidl_malloc(On.size),Ie(On.buffer)),On.pos=0},alloc(u,E){Ie(On.buffer);var Yt,at=u.length*E.BYTES_PER_ELEMENT;return at=Vn(at,8),On.pos+at>=On.size?(Ie(at>0),On.needed+=at,Yt=f._webidl_malloc(at),On.temps.push(Yt)):(Yt=On.buffer+On.pos,On.pos+=at),Yt},copy(u,E,re){re/=E.BYTES_PER_ELEMENT;for(var at=0;at<u.length;at++)E[re+at]=u[at]}};function jo(u){if("string"==typeof u){var E=(u=>{var at=or(u)+1,Yt=new Array(at);Pe(u,Yt,0,Yt.length);return Yt})(u),re=On.alloc(E,De);return On.copy(E,De,re),re}return u}function Qn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ge(){this.ptr=Xo(),As(Ge)[this.ptr]=this}function Xr(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=At(u,E),As(Xr)[this.ptr]=this}function Jn(){throw"cannot construct a Frame, no constructor in IDL"}function br(){throw"cannot construct a DbBackup, no constructor in IDL"}function No(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function ji(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Si(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Do(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function wi(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function Vr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function tn(){this.ptr=Mr(),As(tn)[this.ptr]=this}function Ei(u){On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),this.ptr=iu(u),As(Ei)[this.ptr]=this}function Cn(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function ho(u,E,re){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),re&&"object"==typeof re&&(re=re.ptr),this.ptr=Ky(u,E,re),As(ho)[this.ptr]=this}function qn(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=e_(u,E),As(qn)[this.ptr]=this}function Rt(){this.ptr=_o(),As(Rt)[this.ptr]=this}function er(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=og(u,E),As(er)[this.ptr]=this}return(Qn.prototype=Object.create(yr.prototype)).constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},f.VoidPtr=Qn,Qn.prototype.__destroy__=Qn.prototype.__destroy__=function(){Oi(this.ptr)},(Ge.prototype=Object.create(yr.prototype)).constructor=Ge,Ge.prototype.__class__=Ge,Ge.__cache__={},f.Cloudpilot=Ge,Ge.prototype.Malloc=Ge.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),Qt(pa(this.ptr,u),Qn)},Ge.prototype.Free=Ge.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),ys(this.ptr,u)},Ge.prototype.Nullptr=Ge.prototype.Nullptr=function(){return Qt(zs(this.ptr),Qn)},Ge.prototype.EnableLogging=Ge.prototype.EnableLogging=function(u){u&&"object"==typeof u&&(u=u.ptr),Qo(this.ptr,u)},Ge.prototype.InitializeSession=Ge.prototype.InitializeSession=function(u,E,re){var at=this.ptr;return On.prepare(),u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),re=re&&"object"==typeof re?re.ptr:jo(re),!!_s(at,u,E,re)},Ge.prototype.GetCyclesPerSecond=Ge.prototype.GetCyclesPerSecond=function(){return yi(this.ptr)},Ge.prototype.RunEmulation=Ge.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),bs(this.ptr,u)},Ge.prototype.SetClockFactor=Ge.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),Cs(this.ptr,u)},Ge.prototype.CopyFrame=Ge.prototype.CopyFrame=function(){return Qt(qi(this.ptr),Jn)},Ge.prototype.IsScreenDirty=Ge.prototype.IsScreenDirty=function(){return!!fo(this.ptr)},Ge.prototype.MarkScreenClean=Ge.prototype.MarkScreenClean=function(){_i(this.ptr)},Ge.prototype.MinMemoryForDevice=Ge.prototype.MinMemoryForDevice=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),Zi(E,u)},Ge.prototype.FramebufferSizeForDevice=Ge.prototype.FramebufferSizeForDevice=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),Ki(E,u)},Ge.prototype.TotalMemoryForDevice=Ge.prototype.TotalMemoryForDevice=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),Ws(E,u)},Ge.prototype.QueuePenMove=Ge.prototype.QueuePenMove=function(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Ss(this.ptr,u,E)},Ge.prototype.QueuePenUp=Ge.prototype.QueuePenUp=function(){ci(this.ptr)},Ge.prototype.QueueButtonDown=Ge.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),Jo(this.ptr,u)},Ge.prototype.QueueButtonUp=Ge.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),bi(this.ptr,u)},Ge.prototype.QueueKeyboardEvent=Ge.prototype.QueueKeyboardEvent=function(u){u&&"object"==typeof u&&(u=u.ptr),Gt(this.ptr,u)},Ge.prototype.IsPowerOff=Ge.prototype.IsPowerOff=function(){return!!un(this.ptr)},Ge.prototype.IsUIInitialized=Ge.prototype.IsUIInitialized=function(){return!!ha(this.ptr)},Ge.prototype.GetOSVersion=Ge.prototype.GetOSVersion=function(){return qs(this.ptr)},Ge.prototype.IsSetupComplete=Ge.prototype.IsSetupComplete=function(){return!!wo(this.ptr)},Ge.prototype.Reset=Ge.prototype.Reset=function(){ws(this.ptr)},Ge.prototype.ResetNoExtensions=Ge.prototype.ResetNoExtensions=function(){Pi(this.ptr)},Ge.prototype.ResetHard=Ge.prototype.ResetHard=function(){Yi(this.ptr)},Ge.prototype.InstallDb=Ge.prototype.InstallDb=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Es(this.ptr,u,E)},Ge.prototype.GetPalette2bitMapping=Ge.prototype.GetPalette2bitMapping=function(){return Va(this.ptr)},Ge.prototype.GetMemoryPtr=Ge.prototype.GetMemoryPtr=function(){return Qt(Zs(this.ptr),Qn)},Ge.prototype.GetDirtyPagesPtr=Ge.prototype.GetDirtyPagesPtr=function(){return Qt(Ds(this.ptr),Qn)},Ge.prototype.GetMemorySize=Ge.prototype.GetMemorySize=function(){return ga(this.ptr)},Ge.prototype.ImportMemoryImage=Ge.prototype.ImportMemoryImage=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!Ks(this.ptr,u,E)},Ge.prototype.GetRomPtr=Ge.prototype.GetRomPtr=function(){return Qt(Ys(this.ptr),Qn)},Ge.prototype.GetRomSize=Ge.prototype.GetRomSize=function(){return ma(this.ptr)},Ge.prototype.GetSavestatePtr=Ge.prototype.GetSavestatePtr=function(){return Qt(Xs(this.ptr),Qn)},Ge.prototype.GetSavestateSize=Ge.prototype.GetSavestateSize=function(){return Eo(this.ptr)},Ge.prototype.SaveState=Ge.prototype.SaveState=function(){return!!Qs(this.ptr)},Ge.prototype.LoadState=Ge.prototype.LoadState=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!oo(this.ptr,u,E)},Ge.prototype.GetHotsyncName=Ge.prototype.GetHotsyncName=function(){return Jt(Xi(this.ptr))},Ge.prototype.SetHotsyncName=Ge.prototype.SetHotsyncName=function(u){var E=this.ptr;On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),va(E,u)},Ge.prototype.RegisterPwmHandler=Ge.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),Ua(this.ptr,u)},Ge.prototype.StartBackup=Ge.prototype.StartBackup=function(){return Qt($o(this.ptr),br)},Ge.prototype.SetClipboardIntegration=Ge.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),Is(this.ptr,u)},Ge.prototype.GetClipboardIntegration=Ge.prototype.GetClipboardIntegration=function(){return!!ya(this.ptr)},Ge.prototype.IsSuspended=Ge.prototype.IsSuspended=function(){return!!Js(this.ptr)},Ge.prototype.GetSuspendContext=Ge.prototype.GetSuspendContext=function(){return Qt(se(this.ptr),Vr)},Ge.prototype.SetNetworkRedirection=Ge.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),ea(this.ptr,u)},Ge.prototype.GetNetworkRedirection=Ge.prototype.GetNetworkRedirection=function(){return!!Le(this.ptr)},Ge.prototype.RegisterProxyDisconnectHandler=Ge.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),ui(this.ptr,u)},Ge.prototype.SetHotsyncNameManagement=Ge.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),_a(this.ptr,u)},Ge.prototype.LaunchAppByName=Ge.prototype.LaunchAppByName=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),!!Ts(E,u)},Ge.prototype.LaunchAppByDbHeader=Ge.prototype.LaunchAppByDbHeader=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!Fi(this.ptr,u,E)},Ge.prototype.ClearExternalStorage=Ge.prototype.ClearExternalStorage=function(){cl(this.ptr)},Ge.prototype.AllocateCard=Ge.prototype.AllocateCard=function(u,E){var re=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),E&&"object"==typeof E&&(E=E.ptr),!!h(re,u,E)},Ge.prototype.AdoptCard=Ge.prototype.AdoptCard=function(u,E,re){var at=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),E&&"object"==typeof E&&(E=E.ptr),re&&"object"==typeof re&&(re=re.ptr),!!v(at,u,E,re)},Ge.prototype.MountCard=Ge.prototype.MountCard=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),!!w(E,u)},Ge.prototype.RemoveCard=Ge.prototype.RemoveCard=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),!!A(E,u)},Ge.prototype.GetCardData=Ge.prototype.GetCardData=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),Qt(ee(E,u),Qn)},Ge.prototype.GetCardDirtyPages=Ge.prototype.GetCardDirtyPages=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),Qt(J(E,u),Qn)},Ge.prototype.GetCardSize=Ge.prototype.GetCardSize=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),Ue(E,u)},Ge.prototype.RemountCards=Ge.prototype.RemountCards=function(){pe(this.ptr)},Ge.prototype.GetSupportLevel=Ge.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),qe(this.ptr,u)},Ge.prototype.GetMountedKey=Ge.prototype.GetMountedKey=function(){return Jt(ye(this.ptr))},Ge.prototype.GetTransportIR=Ge.prototype.GetTransportIR=function(){return Qt(je(this.ptr),Cn)},Ge.prototype.GetTransportSerial=Ge.prototype.GetTransportSerial=function(){return Qt(dt(this.ptr),Cn)},Ge.prototype.__destroy__=Ge.prototype.__destroy__=function(){ut(this.ptr)},(Xr.prototype=Object.create(yr.prototype)).constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},f.RomInfo=Xr,Xr.prototype.IsValid=Xr.prototype.IsValid=function(){return!!gt(this.ptr)},Xr.prototype.CardVersion=Xr.prototype.CardVersion=function(){return xt(this.ptr)},Xr.prototype.CardName=Xr.prototype.CardName=function(){return Jt(ur(this.ptr))},Xr.prototype.RomVersion=Xr.prototype.RomVersion=function(){return Zt(this.ptr)},Xr.prototype.RomVersionString=Xr.prototype.RomVersionString=function(){return Jt(Kt(this.ptr))},Xr.prototype.Supports=Xr.prototype.Supports=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),!!$n(E,u)},Xr.prototype.__destroy__=Xr.prototype.__destroy__=function(){an(this.ptr)},(Jn.prototype=Object.create(yr.prototype)).constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},f.Frame=Jn,Jn.prototype.GetLineWidth=Jn.prototype.GetLineWidth=function(){return St(this.ptr)},Jn.prototype.GetBpp=Jn.prototype.GetBpp=function(){return Hn(this.ptr)},Jn.prototype.GetLines=Jn.prototype.GetLines=function(){return hn(this.ptr)},Jn.prototype.GetMargin=Jn.prototype.GetMargin=function(){return Nn(this.ptr)},Jn.prototype.GetBytesPerLine=Jn.prototype.GetBytesPerLine=function(){return b(this.ptr)},Jn.prototype.GetFirstDirtyLine=Jn.prototype.GetFirstDirtyLine=function(){return $(this.ptr)},Jn.prototype.GetLastDirtyLine=Jn.prototype.GetLastDirtyLine=function(){return le(this.ptr)},Jn.prototype.GetHasChanges=Jn.prototype.GetHasChanges=function(){return!!Be(this.ptr)},Jn.prototype.GetBuffer=Jn.prototype.GetBuffer=function(){return Qt(Pt(this.ptr),Qn)},Jn.prototype.GetBufferSize=Jn.prototype.GetBufferSize=function(){return on(this.ptr)},Jn.prototype.GetScaleX=Jn.prototype.GetScaleX=function(){return mn(this.ptr)},Jn.prototype.GetScaleY=Jn.prototype.GetScaleY=function(){return Gn(this.ptr)},Jn.prototype.__destroy__=Jn.prototype.__destroy__=function(){Zr(this.ptr)},(br.prototype=Object.create(yr.prototype)).constructor=br,br.prototype.__class__=br,br.__cache__={},f.DbBackup=br,br.prototype.Init=br.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!dn(this.ptr,u)},br.prototype.IsInProgress=br.prototype.IsInProgress=function(){return!!Tr(this.ptr)},br.prototype.IsDone=br.prototype.IsDone=function(){return!!Br(this.ptr)},br.prototype.GetCurrentDatabase=br.prototype.GetCurrentDatabase=function(){return Jt(pr(this.ptr))},br.prototype.Save=br.prototype.Save=function(){return!!kt(this.ptr)},br.prototype.Skip=br.prototype.Skip=function(){Rr(this.ptr)},br.prototype.GetArchivePtr=br.prototype.GetArchivePtr=function(){return Qt(nr(this.ptr),Qn)},br.prototype.GetArchiveSize=br.prototype.GetArchiveSize=function(){return Ar(this.ptr)},br.prototype.__destroy__=br.prototype.__destroy__=function(){hr(this.ptr)},(No.prototype=Object.create(yr.prototype)).constructor=No,No.prototype.__class__=No,No.__cache__={},f.SuspendContextClipboardCopy=No,No.prototype.Cancel=No.prototype.Cancel=function(){ir(this.ptr)},No.prototype.Resume=No.prototype.Resume=function(){g(this.ptr)},No.prototype.GetClipboardContent=No.prototype.GetClipboardContent=function(){return Jt(B(this.ptr))},No.prototype.__destroy__=No.prototype.__destroy__=function(){_e(this.ptr)},(ji.prototype=Object.create(yr.prototype)).constructor=ji,ji.prototype.__class__=ji,ji.__cache__={},f.SuspendContextClipboardPaste=ji,ji.prototype.Cancel=ji.prototype.Cancel=function(){st(this.ptr)},ji.prototype.Resume=ji.prototype.Resume=function(u){var E=this.ptr;On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),zt(E,u)},ji.prototype.__destroy__=ji.prototype.__destroy__=function(){An(this.ptr)},(Si.prototype=Object.create(yr.prototype)).constructor=Si,Si.prototype.__class__=Si,Si.__cache__={},f.SuspendContextNetworkConnect=Si,Si.prototype.Cancel=Si.prototype.Cancel=function(){Wn(this.ptr)},Si.prototype.Resume=Si.prototype.Resume=function(){Bn(this.ptr)},Si.prototype.__destroy__=Si.prototype.__destroy__=function(){jr(this.ptr)},(Do.prototype=Object.create(yr.prototype)).constructor=Do,Do.prototype.__class__=Do,Do.__cache__={},f.SuspendContextNetworkRpc=Do,Do.prototype.Cancel=Do.prototype.Cancel=function(){Ha(this.ptr)},Do.prototype.GetRequestSize=Do.prototype.GetRequestSize=function(){return kl(this.ptr)},Do.prototype.GetRequestData=Do.prototype.GetRequestData=function(){return Qt(Rl(this.ptr),Qn)},Do.prototype.ReceiveResponse=Do.prototype.ReceiveResponse=function(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),ba(this.ptr,u,E)},Do.prototype.__destroy__=Do.prototype.__destroy__=function(){Bo(this.ptr)},(wi.prototype=Object.create(yr.prototype)).constructor=wi,wi.prototype.__class__=wi,wi.__cache__={},f.SuspendContextSerialSync=wi,wi.prototype.Cancel=wi.prototype.Cancel=function(){_c(this.ptr)},wi.prototype.Resume=wi.prototype.Resume=function(){od(this.ptr)},wi.prototype.__destroy__=wi.prototype.__destroy__=function(){io(this.ptr)},(Vr.prototype=Object.create(yr.prototype)).constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},f.SuspendContext=Vr,Vr.prototype.GetKind=Vr.prototype.GetKind=function(){return lt(this.ptr)},Vr.prototype.Cancel=Vr.prototype.Cancel=function(){ln(this.ptr)},Vr.prototype.AsContextClipboardCopy=Vr.prototype.AsContextClipboardCopy=function(){return Qt(so(this.ptr),No)},Vr.prototype.AsContextClipboardPaste=Vr.prototype.AsContextClipboardPaste=function(){return Qt(ei(this.ptr),ji)},Vr.prototype.AsContextNetworkConnect=Vr.prototype.AsContextNetworkConnect=function(){return Qt(ko(this.ptr),Si)},Vr.prototype.AsContextNetworkRpc=Vr.prototype.AsContextNetworkRpc=function(){return Qt(ul(this.ptr),Do)},Vr.prototype.AsContextSerialSync=Vr.prototype.AsContextSerialSync=function(){return Qt(bc(this.ptr),wi)},Vr.prototype.__destroy__=Vr.prototype.__destroy__=function(){sr(this.ptr)},(tn.prototype=Object.create(yr.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},f.SessionImage=tn,tn.prototype.GetDeviceId=tn.prototype.GetDeviceId=function(){return Jt(Qi(this.ptr))},tn.prototype.SetDeviceId=tn.prototype.SetDeviceId=function(u){var E=this.ptr;return On.prepare(),u=u&&"object"==typeof u?u.ptr:jo(u),Qt(Mn(E,u),tn)},tn.prototype.GetRomImage=tn.prototype.GetRomImage=function(){return Qt(dl(this.ptr),Qn)},tn.prototype.GetRomImageSize=tn.prototype.GetRomImageSize=function(){return ou(this.ptr)},tn.prototype.SetRomImage=tn.prototype.SetRomImage=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Nl(this.ptr,u,E),tn)},tn.prototype.GetMemoryImage=tn.prototype.GetMemoryImage=function(){return Qt(po(this.ptr),Qn)},tn.prototype.GetMemoryImageSize=tn.prototype.GetMemoryImageSize=function(){return Ga(this.ptr)},tn.prototype.SetMemoryImage=tn.prototype.SetMemoryImage=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Ol(this.ptr,u,E),tn)},tn.prototype.GetMetadata=tn.prototype.GetMetadata=function(){return Qt(Ca(this.ptr),Qn)},tn.prototype.GetMetadataSize=tn.prototype.GetMetadataSize=function(){return Cc(this.ptr)},tn.prototype.SetMetadata=tn.prototype.SetMetadata=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Nf(this.ptr,u,E),tn)},tn.prototype.GetSavestate=tn.prototype.GetSavestate=function(){return Qt(za(this.ptr),Qn)},tn.prototype.GetSavestateSize=tn.prototype.GetSavestateSize=function(){return id(this.ptr)},tn.prototype.SetSavestate=tn.prototype.SetSavestate=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(fl(this.ptr,u,E),tn)},tn.prototype.GetVersion=tn.prototype.GetVersion=function(){return Li(this.ptr)},tn.prototype.Serialize=tn.prototype.Serialize=function(){return!!Pl(this.ptr)},tn.prototype.GetSerializedImage=tn.prototype.GetSerializedImage=function(){return Qt(rn(this.ptr),Qn)},tn.prototype.GetSerializedImageSize=tn.prototype.GetSerializedImageSize=function(){return sd(this.ptr)},tn.prototype.Deserialize=tn.prototype.Deserialize=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!Wa(this.ptr,u,E)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){Sa(this.ptr)},(Ei.prototype=Object.create(yr.prototype)).constructor=Ei,Ei.prototype.__class__=Ei,Ei.__cache__={},f.SkinLoader=Ei,Ei.prototype.GetData=Ei.prototype.GetData=function(){return Qt(Fl(this.ptr),Qn)},Ei.prototype.GetSize=Ei.prototype.GetSize=function(){return Kr(this.ptr)},Ei.prototype.__destroy__=Ei.prototype.__destroy__=function(){Yr(this.ptr)},(Cn.prototype=Object.create(yr.prototype)).constructor=Cn,Cn.prototype.__class__=Cn,Cn.__cache__={},f.EmTransportSerialBuffer=Cn,Cn.prototype.RxBytesPending=Cn.prototype.RxBytesPending=function(){return di(this.ptr)},Cn.prototype.Receive=Cn.prototype.Receive=function(){return Qt(Of(this.ptr),Qn)},Cn.prototype.Send=Cn.prototype.Send=function(u,E,re){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),re&&"object"==typeof re&&(re=re.ptr),wa(this.ptr,u,E,re)},Cn.prototype.IsOpen=Cn.prototype.IsOpen=function(){return!!Ll(this.ptr)},Cn.prototype.Rts=Cn.prototype.Rts=function(){return $i(this.ptr)},Cn.prototype.Dtr=Cn.prototype.Dtr=function(){return!!qa(this.ptr)},Cn.prototype.IsBreak=Cn.prototype.IsBreak=function(){return!!Vy(this.ptr)},Cn.prototype.BufferSize=Cn.prototype.BufferSize=function(){return Uy(this.ptr)},Cn.prototype.GetBaud=Cn.prototype.GetBaud=function(){return Ea(this.ptr)},Cn.prototype.GetParity=Cn.prototype.GetParity=function(){return Pf(this.ptr)},Cn.prototype.GetStopBits=Cn.prototype.GetStopBits=function(){return Hy(this.ptr)},Cn.prototype.GetDataBits=Cn.prototype.GetDataBits=function(){return Xh(this.ptr)},Cn.prototype.GetHwrHandshake=Cn.prototype.GetHwrHandshake=function(){return su(this.ptr)},Cn.prototype.GetModeSync=Cn.prototype.GetModeSync=function(){return!!Gy(this.ptr)},Cn.prototype.SetModeSync=Cn.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),zy(this.ptr,u)},Cn.prototype.IsFrameComplete=Cn.prototype.IsFrameComplete=function(){return!!Wy(this.ptr)},Cn.prototype.SetRequestTransferCallback=Cn.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),qy(this.ptr,u)},Cn.prototype.__destroy__=Cn.prototype.__destroy__=function(){Zy(this.ptr)},(ho.prototype=Object.create(yr.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},f.GunzipContext=ho,ho.prototype.GetState=ho.prototype.GetState=function(){return Qh(this.ptr)},ho.prototype.Continue=ho.prototype.Continue=function(){return Yy(this.ptr)},ho.prototype.GetUncompressedData=ho.prototype.GetUncompressedData=function(){return Qt(Xy(this.ptr),Qn)},ho.prototype.ReleaseUncompressedData=ho.prototype.ReleaseUncompressedData=function(){return Qt(Qy(this.ptr),Qn)},ho.prototype.GetUncompressedSize=ho.prototype.GetUncompressedSize=function(){return Jy(this.ptr)},ho.prototype.GetError=ho.prototype.GetError=function(){return Jt(Ff(this.ptr))},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){Lf(this.ptr)},(qn.prototype=Object.create(yr.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},f.ZipfileWalker=qn,qn.prototype.GetState=qn.prototype.GetState=function(){return t_(this.ptr)},qn.prototype.Next=qn.prototype.Next=function(){return n_(this.ptr)},qn.prototype.GetTotalEntries=qn.prototype.GetTotalEntries=function(){return $f(this.ptr)},qn.prototype.GetCurrentEntrySize=qn.prototype.GetCurrentEntrySize=function(){return Bf(this.ptr)},qn.prototype.GetCurrentEntryName=qn.prototype.GetCurrentEntryName=function(){return Jt(Ro(this.ptr))},qn.prototype.GetCurrentEntryContent=qn.prototype.GetCurrentEntryContent=function(){return Qt(Jh(this.ptr),Qn)},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){$l(this.ptr)},(Rt.prototype=Object.create(yr.prototype)).constructor=Rt,Rt.prototype.__class__=Rt,Rt.__cache__={},f.SessionFile5=Rt,Rt.prototype.IsSessionFile=Rt.prototype.IsSessionFile=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!eg(this.ptr,u,E)},Rt.prototype.GetDeviceId=Rt.prototype.GetDeviceId=function(){return Bl(this.ptr)},Rt.prototype.SetDeviceId=Rt.prototype.SetDeviceId=function(u){return u&&"object"==typeof u&&(u=u.ptr),Qt(pl(this.ptr,u),Rt)},Rt.prototype.GetMetadata=Rt.prototype.GetMetadata=function(){return Qt(ad(this.ptr),Qn)},Rt.prototype.GetMetadataSize=Rt.prototype.GetMetadataSize=function(){return fi(this.ptr)},Rt.prototype.SetMetadata=Rt.prototype.SetMetadata=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(tg(this.ptr,u,E),Rt)},Rt.prototype.GetNor=Rt.prototype.GetNor=function(){return Qt(ld(this.ptr),Qn)},Rt.prototype.GetNorSize=Rt.prototype.GetNorSize=function(){return ng(this.ptr)},Rt.prototype.SetNor=Rt.prototype.SetNor=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(ti(this.ptr,u,E),Rt)},Rt.prototype.GetNand=Rt.prototype.GetNand=function(){return Qt(jf(this.ptr),Qn)},Rt.prototype.GetNandSize=Rt.prototype.GetNandSize=function(){return Vf(this.ptr)},Rt.prototype.SetNand=Rt.prototype.SetNand=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Uf(this.ptr,u,E),Rt)},Rt.prototype.GetMemory=Rt.prototype.GetMemory=function(){return Qt(au(this.ptr),Qn)},Rt.prototype.GetMemorySize=Rt.prototype.GetMemorySize=function(){return cd(this.ptr)},Rt.prototype.SetMemory=Rt.prototype.SetMemory=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(jl(this.ptr,u,E),Rt)},Rt.prototype.GetSavestate=Rt.prototype.GetSavestate=function(){return Qt(lu(this.ptr),Qn)},Rt.prototype.GetSavestateSize=Rt.prototype.GetSavestateSize=function(){return ud(this.ptr)},Rt.prototype.SetSavestate=Rt.prototype.SetSavestate=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Da(this.ptr,u,E),Rt)},Rt.prototype.GetRamSize=Rt.prototype.GetRamSize=function(){return Hf(this.ptr)},Rt.prototype.SetRamSize=Rt.prototype.SetRamSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),Qt(Gf(this.ptr,u),Rt)},Rt.prototype.Serialize=Rt.prototype.Serialize=function(){return!!zf(this.ptr)},Rt.prototype.GetSerializedSession=Rt.prototype.GetSerializedSession=function(){return Qt(vn(this.ptr),Qn)},Rt.prototype.GetSerializedSessionSize=Rt.prototype.GetSerializedSessionSize=function(){return Vl(this.ptr)},Rt.prototype.GetVersion=Rt.prototype.GetVersion=function(){return dd(this.ptr)},Rt.prototype.Deserialize=Rt.prototype.Deserialize=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!fd(this.ptr,u,E)},Rt.prototype.__destroy__=Rt.prototype.__destroy__=function(){rg(this.ptr)},(er.prototype=Object.create(yr.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},f.RomInfo5=er,er.prototype.IsValid=er.prototype.IsValid=function(){return!!Wf(this.ptr)},er.prototype.GetCardName=er.prototype.GetCardName=function(){return Jt(pd(this.ptr))},er.prototype.GetManufacturer=er.prototype.GetManufacturer=function(){return Jt(qf(this.ptr))},er.prototype.GetRomName=er.prototype.GetRomName=function(){return Jt(Zf(this.ptr))},er.prototype.GetCompanyId=er.prototype.GetCompanyId=function(){return ig(this.ptr)},er.prototype.GetHalId=er.prototype.GetHalId=function(){return r_(this.ptr)},er.prototype.GetDeviceType=er.prototype.GetDeviceType=function(){return sg(this.ptr)},er.prototype.GetRecommendedRamSize=er.prototype.GetRecommendedRamSize=function(){return Kf(this.ptr)},er.prototype.__destroy__=er.prototype.__destroy__=function(){et(this.ptr)},Ce?f:new Promise((u,E)=>{we=u,me=E})}));K.exports=k,K.exports.default=k},7598:K=>{"use strict";K.exports=Math.abs},7638:K=>{var Se={}.toString;K.exports=Array.isArray||function(_){return"[object Array]"==Se.call(_)}},7648:K=>{"use strict";K.exports=Function.prototype.call},7653:(K,Se,_)=>{"use strict";var S=_(840),k=_(5831),L=S("RegExp.prototype.exec"),W=_(8519);K.exports=function(f){if(!k(f))throw new W("`regex` must be a RegExp");return function(D){return null!==L(f,D)}}},7671:(K,Se,_)=>{"use strict";if(_(362)()){var k=BigInt.prototype.valueOf;K.exports=function(R){return!(null===R||typeof R>"u"||"boolean"==typeof R||"string"==typeof R||"number"==typeof R||"symbol"==typeof R||"function"==typeof R)&&("bigint"==typeof R||function(R){try{return k.call(R),!0}catch{}return!1}(R))}}else K.exports=function(R){return!1}},7707:(K,Se,_)=>{"use strict";var S=_(3933);K.exports=Function.prototype.bind||S},7718:K=>{"use strict";K.exports=RangeError},7888:K=>{"use strict";K.exports=Object},7935:(K,Se,_)=>{"use strict";var S;if(!Object.keys){var k=Object.prototype.hasOwnProperty,L=Object.prototype.toString,W=_(6321),R=Object.prototype.propertyIsEnumerable,f=!R.call({toString:null},"toString"),P=R.call(function(){},"prototype"),D=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],F=function(I){var T=I.constructor;return T&&T.prototype===I},N={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},H=function(){if(typeof window>"u")return!1;for(var I in window)try{if(!N["$"+I]&&k.call(window,I)&&null!==window[I]&&"object"==typeof window[I])try{F(window[I])}catch{return!0}}catch{return!0}return!1}();S=function(T){var ie=null!==T&&"object"==typeof T,ce="[object Function]"===L.call(T),be=W(T),Q=ie&&"[object String]"===L.call(T),Z=[];if(!ie&&!ce&&!be)throw new TypeError("Object.keys called on a non-object");var Y=P&&ce;if(Q&&T.length>0&&!k.call(T,0))for(var ge=0;ge<T.length;++ge)Z.push(String(ge));if(be&&T.length>0)for(var Ie=0;Ie<T.length;++Ie)Z.push(String(Ie));else for(var Ye in T)(!Y||"prototype"!==Ye)&&k.call(T,Ye)&&Z.push(String(Ye));if(f)for(var te=function(I){if(typeof window>"u"||!H)return F(I);try{return F(I)}catch{return!1}}(T),we=0;we<D.length;++we)(!te||"constructor"!==D[we])&&k.call(T,D[we])&&Z.push(D[we]);return Z}}K.exports=S},8081:function(K,Se){!function(_){"use strict";var O,L=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,W=536870912,R=2*W,P=new WeakMap,F=function(O,I){return function(T){var ie=I.get(T),ce=void 0===ie?T.size:ie<R?ie+1:0;if(!T.has(ce))return O(T,ce);if(T.size<W){for(;T.has(ce);)ce=Math.floor(Math.random()*R);return O(T,ce)}if(T.size>L)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;T.has(ce);)ce=Math.floor(Math.random()*L);return O(T,ce)}}((O=P,function(I,T){return O.set(I,T),T}),P),N=function(O){return function(I){var T=O(I);return I.add(T),T}}(F);_.addUniqueNumber=N,_.generateUniqueNumber=F}(Se)},8251:K=>{var Se={utf8:{stringToBytes:function(_){return Se.bin.stringToBytes(unescape(encodeURIComponent(_)))},bytesToString:function(_){return decodeURIComponent(escape(Se.bin.bytesToString(_)))}},bin:{stringToBytes:function(_){for(var S=[],k=0;k<_.length;k++)S.push(255&_.charCodeAt(k));return S},bytesToString:function(_){for(var S=[],k=0;k<_.length;k++)S.push(String.fromCharCode(_[k]));return S.join("")}}};K.exports=Se},8344:(K,Se,_)=>{"use strict";var S=_(5328)(),L=_(840)("Object.prototype.toString"),W=function(D){return!(S&&D&&"object"==typeof D&&Symbol.toStringTag in D)&&"[object Arguments]"===L(D)},R=function(D){return!!W(D)||null!==D&&"object"==typeof D&&"length"in D&&"number"==typeof D.length&&D.length>=0&&"[object Array]"!==L(D)&&"callee"in D&&"[object Function]"===L(D.callee)},f=function(){return W(arguments)}();W.isLegacyArguments=R,K.exports=f?W:R},8436:(K,Se,_)=>{"use strict";var S=_(592).supportsDescriptors,k=_(4198),L=_(9263),W=Object.defineProperty,R=_(1123),f=_(1568),P=/a/;K.exports=function(){if(!S||!f)throw new R("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var F=k(),N=f(P),H=L(N,"flags");return(!H||H.get!==F)&&W(N,"flags",{configurable:!0,enumerable:!1,get:F}),F}},8447:(K,Se,_)=>{"use strict";var S=_(9209),k=_(6497)(),L=_(840),W=_(7888),R=L("Array.prototype.push"),f=L("Object.prototype.propertyIsEnumerable"),P=k?W.getOwnPropertySymbols:null;K.exports=function(F,N){if(null==F)throw new TypeError("target must be an object");var H=W(F);if(1===arguments.length)return H;for(var O=1;O<arguments.length;++O){var I=W(arguments[O]),T=S(I),ie=k&&(W.getOwnPropertySymbols||P);if(ie)for(var ce=ie(I),be=0;be<ce.length;++be){var Q=ce[be];f(I,Q)&&R(T,Q)}for(var Z=0;Z<T.length;++Z){var Y=T[Z];f(I,Y)&&(H[Y]=I[Y])}}return H}},8519:K=>{"use strict";K.exports=TypeError},8580:(K,Se,_)=>{"use strict";var L,S=_(2282),k=_(9263);try{L=[].__proto__===Array.prototype}catch(P){if(!P||"object"!=typeof P||!("code"in P)||"ERR_PROTO_ACCESS"!==P.code)throw P}var W=!!L&&k&&k(Object.prototype,"__proto__"),R=Object,f=R.getPrototypeOf;K.exports=W&&"function"==typeof W.get?S([W.get]):"function"==typeof f&&function(D){return f(null==D?D:R(D))}},8963:K=>{"use strict";K.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},8979:(K,Se,_)=>{"use strict";var S=_(840),k=S("Number.prototype.toString"),W=S("Object.prototype.toString"),f=_(5328)();K.exports=function(D){return"number"==typeof D||!(!D||"object"!=typeof D)&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object Number]"===W(D))}},8996:(K,Se,_)=>{var S={"./ion-accordion_2.entry.js":[7518,2076,7518],"./ion-action-sheet.entry.js":[1981,2076,1981],"./ion-alert.entry.js":[1603,2076,1603],"./ion-app_8.entry.js":[2273,2076,2273],"./ion-avatar_3.entry.js":[9642,9642],"./ion-back-button.entry.js":[2095,2076,2095],"./ion-backdrop.entry.js":[2335,2335],"./ion-breadcrumb_2.entry.js":[8221,2076,8221],"./ion-button_2.entry.js":[7184,7184],"./ion-card_5.entry.js":[8759,8759],"./ion-checkbox.entry.js":[4248,4248],"./ion-chip.entry.js":[9863,9863],"./ion-col_3.entry.js":[1769,1769],"./ion-datetime-button.entry.js":[2569,6948,2569],"./ion-datetime_3.entry.js":[6534,6948,2076,6534],"./ion-fab_3.entry.js":[5458,2076,5458],"./ion-img.entry.js":[654,654],"./ion-infinite-scroll_2.entry.js":[6034,2076,6034],"./ion-input-otp.entry.js":[381,2076,381],"./ion-input-password-toggle.entry.js":[5196,2076,5196],"./ion-input.entry.js":[761,2076,761],"./ion-item-option_3.entry.js":[6492,2076,6492],"./ion-item_8.entry.js":[9557,2076,9557],"./ion-loading.entry.js":[8353,2076,8353],"./ion-menu_3.entry.js":[1024,2076,1024],"./ion-modal.entry.js":[9160,2076,9160],"./ion-nav_2.entry.js":[393,2076,393],"./ion-picker-column-option.entry.js":[8442,8442],"./ion-picker-column.entry.js":[3110,2076,3110],"./ion-picker.entry.js":[5575,5575],"./ion-popover.entry.js":[6772,2076,6772],"./ion-progress-bar.entry.js":[4810,4810],"./ion-radio_2.entry.js":[4639,2076,4639],"./ion-range.entry.js":[628,2076,628],"./ion-refresher_2.entry.js":[852,2076,852],"./ion-reorder_2.entry.js":[1479,2076,1479],"./ion-ripple-effect.entry.js":[4065,4065],"./ion-route_4.entry.js":[7971,7971],"./ion-searchbar.entry.js":[3184,2076,3184],"./ion-segment-content.entry.js":[4312,4312],"./ion-segment-view.entry.js":[4540,4540],"./ion-segment_2.entry.js":[469,2076,469],"./ion-select-modal.entry.js":[7101,7101],"./ion-select_3.entry.js":[8471,2076,8471],"./ion-spinner.entry.js":[388,2076,388],"./ion-split-pane.entry.js":[2392,2392],"./ion-tab-bar_2.entry.js":[6059,2076,6059],"./ion-tab_2.entry.js":[5427,5427],"./ion-text.entry.js":[198,198],"./ion-textarea.entry.js":[1735,2076,1735],"./ion-toast.entry.js":[5129,2076,7510],"./ion-toggle.entry.js":[5297,2076,5297]};function k(L){if(!_.o(S,L))return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+L+"'");throw f.code="MODULE_NOT_FOUND",f});var W=S[L],R=W[0];return Promise.all(W.slice(1).map(_.e)).then(()=>_(R))}k.keys=()=>Object.keys(S),k.id=8996,K.exports=k},9110:(K,Se,_)=>{"use strict";var S=_(9831);K.exports=function(){return"function"==typeof Object.is?Object.is:S}},9116:K=>{"use strict";var S,Se="function"==typeof Map&&Map.prototype?Map:null,_="function"==typeof Set&&Set.prototype?Set:null;_||(S=function(R){return!1});var k=Se?Map.prototype.has:null,L=_?Set.prototype.has:null;!S&&!L&&(S=function(R){return!1}),K.exports=S||function(R){if(!R||"object"!=typeof R)return!1;try{if(L.call(R),k)try{k.call(R)}catch{return!0}return R instanceof _}catch{}return!1}},9209:(K,Se,_)=>{"use strict";var S=Array.prototype.slice,k=_(6321),L=Object.keys,W=L?function(P){return L(P)}:_(7935),R=Object.keys;W.shim=function(){if(Object.keys){var P=function(){var D=Object.keys(arguments);return D&&D.length===arguments.length}(1,2);P||(Object.keys=function(F){return k(F)?R(S.call(F)):R(F)})}else Object.keys=W;return Object.keys||W},K.exports=W},9250:(K,Se,_)=>{"use strict";var S=_(6969),k=_(3463),L=_(7057),W=_(2521),R=_(158),f=_(5492),P=_(545),D=_(8344),F=_(7638),N=_(3066),H=_(5500),O=_(5831),I=_(2090),T=_(9209),ie=_(6959),ce=_(5757),be=_(6547),Q=_(2219),Z=k("SharedArrayBuffer.prototype.byteLength",!0),Y=k("Date.prototype.getTime"),ge=Object.getPrototypeOf,Ie=k("Object.prototype.toString"),Ye=W("%Set%",!0),te=k("Map.prototype.has",!0),we=k("Map.prototype.get",!0),me=k("Map.prototype.size",!0),de=k("Set.prototype.add",!0),De=k("Set.prototype.delete",!0),U=k("Set.prototype.has",!0),X=k("Set.prototype.size",!0);function Ve(Te,He,vt,ht){for(var ot,Ct=R(Te);(ot=Ct.next())&&!ot.done;)if(Re(He,ot.value,vt,ht))return De(Te,ot.value),!0;return!1}function G(Te){return typeof Te>"u"?null:"object"!=typeof Te?"symbol"!=typeof Te&&("string"!=typeof Te&&"number"!=typeof Te||+Te==+Te):void 0}function ne(Te,He,vt,ht,Ct,ot){var Dt=G(vt);if(null!=Dt)return Dt;var Ke=we(He,Dt),_t=S({},Ct,{strict:!1});return!(typeof Ke>"u"&&!te(He,Dt)||!Re(ht,Ke,_t,ot))&&!te(Te,Dt)&&Re(ht,Ke,_t,ot)}function ae(Te,He,vt){var ht=G(vt);return ht??(U(He,ht)&&!U(Te,ht))}function ve(Te,He,vt,ht,Ct,ot){for(var Ke,_t,Dt=R(Te);(Ke=Dt.next())&&!Ke.done;)if(Re(vt,_t=Ke.value,Ct,ot)&&Re(ht,we(He,_t),Ct,ot))return De(Te,_t),!0;return!1}function Re(Te,He,vt,ht){var Ct=vt||{};if(Ct.strict?P(Te,He):Te===He)return!0;if(ie(Te)!==ie(He))return!1;if(!Te||!He||"object"!=typeof Te&&"object"!=typeof He)return Ct.strict?P(Te,He):Te==He;var $t,Ke=ht.has(Te),_t=ht.has(He);if(Ke&&_t){if(ht.get(Te)===ht.get(He))return!0}else $t={};return Ke||ht.set(Te,$t),_t||ht.set(He,$t),function wt(Te,He,vt,ht){var Ct,ot;if(typeof Te!=typeof He||null==Te||null==He||Ie(Te)!==Ie(He)||D(Te)!==D(He))return!1;if(F(Te)!==F(He))return!1;var _t=Te instanceof Error,$t=He instanceof Error;if(_t!==$t||(_t||$t)&&(Te.name!==He.name||Te.message!==He.message))return!1;var En=O(Te),Dn=O(He);if(En!==Dn||(En||Dn)&&(Te.source!==He.source||L(Te)!==L(He)))return!1;var Wt=H(Te),Nt=H(He);if(Wt!==Nt||(Wt||Nt)&&Y(Te)!==Y(He)||vt.strict&&ge&&ge(Te)!==ge(He))return!1;var Ze=be(Te),Ne=be(He);if(Ze!==Ne)return!1;if(Ze||Ne){if(Te.length!==He.length)return!1;for(Ct=0;Ct<Te.length;Ct++)if(Te[Ct]!==He[Ct])return!1;return!0}var ze=Fe(Te),ct=Fe(He);if(ze!==ct)return!1;if(ze||ct){if(Te.length!==He.length)return!1;for(Ct=0;Ct<Te.length;Ct++)if(Te[Ct]!==He[Ct])return!1;return!0}var Xt=N(Te),pn=N(He);if(Xt!==pn)return!1;if(Xt||pn)return Q(Te)===Q(He)&&"function"==typeof Uint8Array&&Re(new Uint8Array(Te),new Uint8Array(He),vt,ht);var xn=I(Te),sn=I(He);if(xn!==sn)return!1;if(xn||sn)return Z(Te)===Z(He)&&"function"==typeof Uint8Array&&Re(new Uint8Array(Te),new Uint8Array(He),vt,ht);if(typeof Te!=typeof He)return!1;var Sn=T(Te),cr=T(He);if(Sn.length!==cr.length)return!1;for(Sn.sort(),cr.sort(),Ct=Sn.length-1;Ct>=0;Ct--)if(Sn[Ct]!=cr[Ct])return!1;for(Ct=Sn.length-1;Ct>=0;Ct--)if(!Re(Te[ot=Sn[Ct]],He[ot],vt,ht))return!1;var mr=ce(Te),to=ce(He);return mr===to&&("Set"===mr||"Set"===to?function Ce(Te,He,vt,ht){if(X(Te)!==X(He))return!1;for(var Dt,Ke,_t,Ct=R(Te),ot=R(He);(Dt=Ct.next())&&!Dt.done;)if(Dt.value&&"object"==typeof Dt.value)_t||(_t=new Ye),de(_t,Dt.value);else if(!U(He,Dt.value)){if(vt.strict||!ae(Te,He,Dt.value))return!1;_t||(_t=new Ye),de(_t,Dt.value)}if(_t){for(;(Ke=ot.next())&&!Ke.done;)if(Ke.value&&"object"==typeof Ke.value){if(!Ve(_t,Ke.value,vt.strict,ht))return!1}else if(!vt.strict&&!U(Te,Ke.value)&&!Ve(_t,Ke.value,vt.strict,ht))return!1;return 0===X(_t)}return!0}(Te,He,vt,ht):"Map"!==mr||function Je(Te,He,vt,ht){if(me(Te)!==me(He))return!1;for(var Dt,Ke,_t,$t,En,Dn,Ct=R(Te),ot=R(He);(Dt=Ct.next())&&!Dt.done;)if(En=Dt.value[1],($t=Dt.value[0])&&"object"==typeof $t)_t||(_t=new Ye),de(_t,$t);else if(typeof(Dn=we(He,$t))>"u"&&!te(He,$t)||!Re(En,Dn,vt,ht)){if(vt.strict||!ne(Te,He,$t,En,vt,ht))return!1;_t||(_t=new Ye),de(_t,$t)}if(_t){for(;(Ke=ot.next())&&!Ke.done;)if(Dn=Ke.value[1],($t=Ke.value[0])&&"object"==typeof $t){if(!ve(_t,Te,$t,Dn,vt,ht))return!1}else if(!(vt.strict||Te.has($t)&&Re(we(Te,$t),Dn,vt,ht)||ve(_t,Te,$t,Dn,S({},vt,{strict:!1}),ht)))return!1;return 0===X(_t)}return!0}(Te,He,vt,ht))}(Te,He,Ct,ht)}function Fe(Te){return!(!Te||"object"!=typeof Te||"number"!=typeof Te.length||"function"!=typeof Te.copy||"function"!=typeof Te.slice||Te.length>0&&"number"!=typeof Te[0]||!(Te.constructor&&Te.constructor.isBuffer&&Te.constructor.isBuffer(Te)))}K.exports=function(He,vt,ht){return Re(He,vt,ht,f())}},9263:(K,Se,_)=>{"use strict";var S=_(9817);if(S)try{S([],"length")}catch{S=null}K.exports=S},9335:(K,Se,_)=>{"use strict";_.d(Se,{B:()=>Q,F:()=>Le,a:()=>xn,b:()=>ea,c:()=>Hs,d:()=>ll,e:()=>R,f:()=>I,g:()=>vs,h:()=>$a,i:()=>ma,j:()=>T,k:()=>Sn,l:()=>f,m:()=>D,n:()=>P,o:()=>ja,q:()=>xl,r:()=>de,t:()=>ie,w:()=>sn});var S=_(1890);class W{constructor(){this.m=new Map}reset(v){this.m=new Map(Object.entries(v))}get(v,w){const A=this.m.get(v);return void 0!==A?A:w}getBoolean(v,w=!1){const A=this.m.get(v);return void 0===A?w:"string"==typeof A?"true"===A:!!A}getNumber(v,w){const A=parseFloat(this.m.get(v));return isNaN(A)?void 0!==w?w:NaN:A}set(v,w){this.m.set(v,w)}}const R=new W,f=h=>{try{const v=h.sessionStorage.getItem(H);return null!==v?JSON.parse(v):{}}catch{return{}}},P=(h,v)=>{try{h.sessionStorage.setItem(H,JSON.stringify(v))}catch{return}},D=h=>{const v={};return h.location.search.slice(1).split("&").map(w=>w.split("=")).map(([w,A])=>{try{return[decodeURIComponent(w),decodeURIComponent(A)]}catch{return["",""]}}).filter(([w])=>F(w,N)).map(([w,A])=>[w.slice(N.length),A]).forEach(([w,A])=>{v[w]=A}),v},F=(h,v)=>h.substr(0,v.length)===v,N="ionic:",H="ionic-persist-config";var O=function(h){return h.OFF="OFF",h.ERROR="ERROR",h.WARN="WARN",h}(O||{});const I=(h,...v)=>{const w=R.get("logLevel",O.WARN);if([O.WARN].includes(w))return console.warn(`[Ionic Warning]: ${h}`,...v)},T=(h,...v)=>{const w=R.get("logLevel",O.ERROR);if([O.ERROR,O.WARN].includes(w))return console.error(`[Ionic Error]: ${h}`,...v)},ie=(h,...v)=>console.error(`<${h.tagName.toLowerCase()}> must be used inside ${v.join(" or ")}.`);var ce=Object.defineProperty,Q={isBrowser:!0},ge=(h=>(h.Undefined="undefined",h.Null="null",h.String="string",h.Number="number",h.SpecialNumber="number",h.Boolean="boolean",h.BigInt="bigint",h))(ge||{}),Ie=(h=>(h.Array="array",h.Date="date",h.Map="map",h.Object="object",h.RegularExpression="regexp",h.Set="set",h.Channel="channel",h.Symbol="symbol",h))(Ie||{}),Ye="type",te="value",we="serialized:",me=h=>{if(h.__stencil__getHostRef)return h.__stencil__getHostRef()},de=(h,v)=>{h.__stencil__getHostRef=()=>v,v.$lazyInstance$=h},U=(h,v)=>v in h,X=(h,v)=>(0,console.error)(h,v),Ve=new Map,ne=new Map,ae=[],wt="s-id",Te="sty-id",ht="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ct="http://www.w3.org/1999/xlink",ot=typeof window<"u"?window:{},Ke={$flags$:0,$resourcesUrl$:"",jmp:h=>h(),raf:h=>requestAnimationFrame(h),ael:(h,v,w,A)=>h.addEventListener(v,w,A),rel:(h,v,w,A)=>h.removeEventListener(v,w,A),ce:(h,v)=>new CustomEvent(h,v)},$t=(()=>{var h;let v=!1;try{null==(h=ot.document)||h.addEventListener("e",null,Object.defineProperty({},"passive",{get(){v=!0}}))}catch{}return v})(),Dn=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Wt=!!Dn&&!!ot.document&&Object.getOwnPropertyDescriptor(ot.document.adoptedStyleSheets,"length").writable,Nt=!1,Ze=[],Ne=[],ze=(h,v)=>w=>{h.push(w),Nt||(Nt=!0,v&&4&Ke.$flags$?pn(Xt):Ke.raf(Xt))},ct=h=>{for(let v=0;v<h.length;v++)try{h[v](performance.now())}catch(w){X(w)}h.length=0},Xt=()=>{ct(Ze),ct(Ne),(Nt=Ze.length>0)&&Ke.raf(Xt)},pn=h=>Promise.resolve(void 0).then(h),xn=ze(Ze,!1),sn=ze(Ne,!0),Sn=h=>{const v=new URL(h,Ke.$resourcesUrl$);return v.origin!==ot.location.origin?v.href:v.pathname},mr=h=>"object"==(h=typeof h)||"function"===h;function to(h){var v,w,A;return null!=(A=null==(w=null==(v=h.head)?void 0:v.querySelector('meta[name="csp-nonce"]'))?void 0:w.getAttribute("content"))?A:void 0}var Gr=class rd{static fromLocalValue(v){const w=v[Ye],A=te in v?v[te]:void 0;switch(w){case"string":case"boolean":return A;case"bigint":return BigInt(A);case"undefined":return;case"null":return null;case"number":return"NaN"===A?NaN:"-0"===A?-0:"Infinity"===A?1/0:"-Infinity"===A?-1/0:A;case"array":return A.map(ye=>rd.fromLocalValue(ye));case"date":return new Date(A);case"map":const ee=new Map;for(const[ye,je]of A){const dt="object"==typeof ye&&null!==ye?rd.fromLocalValue(ye):ye,ut=rd.fromLocalValue(je);ee.set(dt,ut)}return ee;case"object":const J={};for(const[ye,je]of A)J[ye]=rd.fromLocalValue(je);return J;case"regexp":const{pattern:Ue,flags:pe}=A;return new RegExp(Ue,pe);case"set":const qe=new Set;for(const ye of A)qe.add(rd.fromLocalValue(ye));return qe;case"symbol":return Symbol(A);default:throw new Error(`Unsupported type: ${w}`)}}static fromLocalValueArray(v){return v.map(w=>rd.fromLocalValue(w))}static isLocalValueObject(v){if("object"!=typeof v||null===v||!v.hasOwnProperty(Ye))return!1;const w=v[Ye];return!!Object.values({...ge,...Ie}).includes(w)&&("null"===w||"undefined"===w||v.hasOwnProperty(te))}};((h,v)=>{for(var w in v)ce(h,w,{get:v[w],enumerable:!0})})({},{err:()=>Jt,map:()=>si,ok:()=>no,unwrap:()=>Ae,unwrapErr:()=>Oe});var no=h=>({isOk:!0,isErr:!1,value:h}),Jt=h=>({isOk:!1,isErr:!0,value:h});function si(h,v){if(h.isOk){const w=v(h.value);return w instanceof Promise?w.then(A=>no(A)):no(w)}if(h.isErr)return Jt(h.value);throw"should never get here"}var In,Ae=h=>{if(h.isOk)return h.value;throw h.value},Oe=h=>{if(h.isErr)return h.value;throw h.value};function en(h){const w=this.attachShadow({mode:"open",delegatesFocus:!!(16&h.$flags$)});void 0===In&&(In=null),In&&(Wt?w.adoptedStyleSheets.push(In):w.adoptedStyleSheets=[...w.adoptedStyleSheets,In])}var vo=h=>{const v=_r(h,"childNodes");h.tagName&&h.tagName.includes("-")&&h["s-cr"]&&"SLOT-FB"!==h.tagName&&Er(v,h.tagName).forEach(A=>{1===A.nodeType&&"SLOT-FB"===A.tagName&&(A.hidden=!!co(A,Dr(A),!1).length)});let w=0;for(w=0;w<v.length;w++){const A=v[w];1===A.nodeType&&_r(A,"childNodes").length&&vo(A)}},zr=h=>{const v=[];for(let w=0;w<h.length;w++){const A=h[w]["s-nr"]||void 0;A&&A.isConnected&&v.push(A)}return v};function Er(h,v,w){let J,A=0,ee=[];for(;A<h.length;A++){if(J=h[A],J["s-sr"]&&(!v||J["s-hn"]===v)&&(void 0===w||Dr(J)===w)&&(ee.push(J),typeof w<"u"))return ee;ee=[...ee,...Er(J.childNodes,v,w)]}return ee}var co=(h,v,w=!0)=>{const A=[];(w&&h["s-sr"]||!h["s-sr"])&&A.push(h);let ee=h;for(;ee=ee.nextSibling;)Dr(ee)===v&&(w||!ee["s-sr"])&&A.push(ee);return A},ro=(h,v)=>1===h.nodeType?null===h.getAttribute("slot")&&""===v||h.getAttribute("slot")===v:h["s-sn"]===v||""===v,xo=(h,v,w,A)=>{if(h["s-ol"]&&h["s-ol"].isConnected)return;const ee=document.createTextNode("");if(ee["s-nr"]=h,!v["s-cr"]||!v["s-cr"].parentNode)return;const J=v["s-cr"].parentNode,Ue=_r(J,w?"prepend":"appendChild");if(typeof A<"u"){ee["s-oo"]=A;const pe=_r(J,"childNodes"),qe=[ee];pe.forEach(ye=>{ye["s-nr"]&&qe.push(ye)}),qe.sort((ye,je)=>!ye["s-oo"]||ye["s-oo"]<(je["s-oo"]||0)?-1:!je["s-oo"]||je["s-oo"]<ye["s-oo"]?1:0),qe.forEach(ye=>Ue.call(J,ye))}else Ue.call(J,ee);h["s-ol"]=ee,h["s-sh"]=v["s-hn"]},Dr=h=>"string"==typeof h["s-sn"]?h["s-sn"]:1===h.nodeType&&h.getAttribute("slot")||void 0;function Tn(h){if(h.assignedElements||h.assignedNodes||!h["s-sr"])return;const v=w=>function(A){const ee=[],J=this["s-sn"];A?.flatten&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const Ue=this["s-cr"].parentElement;return(Ue.__childNodes?Ue.childNodes:zr(Ue.childNodes)).forEach(qe=>{J===Dr(qe)&&ee.push(qe)}),w?ee.filter(qe=>1===qe.nodeType):ee}.bind(h);h.assignedElements=v(!0),h.assignedNodes=v(!1)}function So(h){h.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1,composed:!1}))}function ai(h,v){var w;if(!(v=v||(null==(w=h["s-ol"])?void 0:w.parentElement)))return{slotNode:null,slotName:""};const A=h["s-sn"]=Dr(h)||"";return{slotNode:Er(_r(v,"childNodes"),v.tagName,A)[0],slotName:A}}var Wo=h=>{const v=h.cloneNode;h.cloneNode=function(w){const ee=this.shadowRoot&&true,J=v.call(this,!!ee&&w);if(!ee&&w){let pe,qe,Ue=0;const ye=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"],je=this.__childNodes||this.childNodes;for(;Ue<je.length;Ue++)pe=je[Ue]["s-nr"],qe=ye.every(dt=>!je[Ue][dt]),pe&&(J.__appendChild?J.__appendChild(pe.cloneNode(!0)):J.appendChild(pe.cloneNode(!0))),qe&&J.appendChild(je[Ue].cloneNode(!0))}return J}},jn=h=>{h.__appendChild=h.appendChild,h.appendChild=function(v){const{slotName:w,slotNode:A}=ai(v,this);if(A){xo(v,A);const ee=co(A,w),J=ee[ee.length-1],Ue=_r(J,"parentNode"),pe=_r(Ue,"insertBefore")(v,J.nextSibling);return So(A),vo(this),pe}return this.__appendChild(v)}},Lo=h=>{h.__removeChild=h.removeChild,h.removeChild=function(v){return v&&typeof v["s-sn"]<"u"&&Er(this.__childNodes||this.childNodes,this.tagName,v["s-sn"])&&v.isConnected?(v.remove(),void vo(this)):this.__removeChild(v)}},Ir=h=>{h.__prepend=h.prepend,h.prepend=function(...v){v.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w));const A=(w["s-sn"]=Dr(w))||"",J=Er(_r(this,"childNodes"),this.tagName,A)[0];if(J){xo(w,J,!0);const pe=co(J,A)[0],qe=_r(pe,"parentNode"),ye=_r(qe,"insertBefore")(w,_r(pe,"nextSibling"));return So(J),ye}return 1===w.nodeType&&w.getAttribute("slot")&&(w.hidden=!0),h.__prepend(w)})}},vi=h=>{h.__append=h.append,h.append=function(...v){v.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w)),this.appendChild(w)})}},qo=h=>{const v=h.insertAdjacentHTML;h.insertAdjacentHTML=function(w,A){if("afterbegin"!==w&&"beforeend"!==w)return v.call(this,w,A);const ee=this.ownerDocument.createElement("_");let J;if(ee.innerHTML=A,"afterbegin"===w)for(;J=ee.firstChild;)this.prepend(J);else if("beforeend"===w)for(;J=ee.firstChild;)this.append(J)}},Pe=h=>{h.insertAdjacentText=function(v,w){this.insertAdjacentHTML(v,w)}},fr=h=>{h.__insertBefore||(h.__insertBefore=h.insertBefore,h.insertBefore=function(w,A){const{slotName:ee,slotNode:J}=ai(w,this),Ue=this.__childNodes?this.childNodes:zr(this.childNodes);if(J){let qe=!1;if(Ue.forEach(ye=>{if(ye!==A&&null!==A);else{if(qe=!0,null===A||ee!==A["s-sn"])return void this.appendChild(w);if(ee===A["s-sn"]){xo(w,J);const je=_r(A,"parentNode");_r(je,"insertBefore")(w,A),So(J)}}}),qe)return w}const pe=A?.__parentNode;return pe&&!this.isSameNode(pe)?this.appendChild(w):this.__insertBefore(w,A)})},Wr=h=>{const v=h.insertAdjacentElement;h.insertAdjacentElement=function(w,A){return"afterbegin"!==w&&"beforeend"!==w?v.call(this,w,A):"afterbegin"===w?(this.prepend(A),A):("beforeend"===w&&this.append(A),A)}},zn=h=>{Vt("textContent",h),Object.defineProperty(h,"textContent",{get:function(){let v="";return(this.__childNodes?this.childNodes:zr(this.childNodes)).forEach(A=>v+=A.textContent||""),v},set:function(v){(this.__childNodes?this.childNodes:zr(this.childNodes)).forEach(A=>{A["s-ol"]&&A["s-ol"].remove(),A.remove()}),this.insertAdjacentHTML("beforeend",v)}})},ki=h=>{class v extends Array{item(A){return this[A]}}Vt("children",h),Object.defineProperty(h,"children",{get(){return this.childNodes.filter(w=>1===w.nodeType)}}),Object.defineProperty(h,"childElementCount",{get(){return this.children.length}}),Vt("firstChild",h),Object.defineProperty(h,"firstChild",{get(){return this.childNodes[0]}}),Vt("lastChild",h),Object.defineProperty(h,"lastChild",{get(){return this.childNodes[this.childNodes.length-1]}}),Vt("childNodes",h),Object.defineProperty(h,"childNodes",{get(){const w=new v;return w.push(...zr(this.__childNodes)),w}})},zi=h=>{!h||void 0!==h.__nextSibling||!globalThis.Node||(gn(h),$r(h),da(h),h.nodeType===Node.ELEMENT_NODE&&(li(h),Ri(h)))},gn=h=>{!h||h.__nextSibling||(Vt("nextSibling",h),Object.defineProperty(h,"nextSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.childNodes,A=w?.indexOf(this);return w&&A>-1?w[A+1]:this.__nextSibling}}))},li=h=>{!h||h.__nextElementSibling||(Vt("nextElementSibling",h),Object.defineProperty(h,"nextElementSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.children,A=w?.indexOf(this);return w&&A>-1?w[A+1]:this.__nextElementSibling}}))},$r=h=>{!h||h.__previousSibling||(Vt("previousSibling",h),Object.defineProperty(h,"previousSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.childNodes,A=w?.indexOf(this);return w&&A>-1?w[A-1]:this.__previousSibling}}))},Ri=h=>{!h||h.__previousElementSibling||(Vt("previousElementSibling",h),Object.defineProperty(h,"previousElementSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.children,A=w?.indexOf(this);return w&&A>-1?w[A-1]:this.__previousElementSibling}}))},da=h=>{!h||h.__parentNode||(Vt("parentNode",h),Object.defineProperty(h,"parentNode",{get:function(){var v;return(null==(v=this["s-ol"])?void 0:v.parentNode)||this.__parentNode},set:function(v){this.__parentNode=v}}))},Us=["children","nextElementSibling","previousElementSibling"],Vn=["childNodes","firstChild","lastChild","nextSibling","previousSibling","textContent","parentNode"];function Vt(h,v){if(!globalThis.Node||!globalThis.Element)return;let w;Us.includes(h)?w=Object.getOwnPropertyDescriptor(Element.prototype,h):Vn.includes(h)&&(w=Object.getOwnPropertyDescriptor(Node.prototype,h)),w||(w=Object.getOwnPropertyDescriptor(v,h)),w&&Object.defineProperty(v,"__"+h,w)}function _r(h,v){if("__"+v in h){const w=h["__"+v];return"function"!=typeof w?w:w.bind(h)}return"function"!=typeof h[v]?h[v]:h[v].bind(h)}var Ht=new WeakMap,vr=(h,v,w)=>{let A=ne.get(h);Dn&&w?(A=A||new CSSStyleSheet,"string"==typeof A?A=v:A.replaceSync(v)):A=v,ne.set(h,A)},or=(h,v,w)=>{var A;const ee=Ko(v,w),J=ne.get(ee);if(!ot.document)return ee;if(h=11===h.nodeType?h:ot.document,J)if("string"==typeof J){let pe,Ue=Ht.get(h=h.head||h);if(Ue||Ht.set(h,Ue=new Set),!Ue.has(ee)){if(h.host&&(pe=h.querySelector(`[${Te}="${ee}"]`)))pe.innerHTML=J;else{pe=ot.document.createElement("style"),pe.innerHTML=J;const qe=null!=(A=Ke.$nonce$)?A:to(ot.document);if(null!=qe&&pe.setAttribute("nonce",qe),!(1&v.$flags$))if("HEAD"===h.nodeName){const ye=h.querySelectorAll("link[rel=preconnect]"),je=ye.length>0?ye[ye.length-1].nextSibling:h.querySelector("style");h.insertBefore(pe,je?.parentNode===h?je:null)}else if("host"in h)if(Dn){const ye=new CSSStyleSheet;ye.replaceSync(J),Wt?h.adoptedStyleSheets.unshift(ye):h.adoptedStyleSheets=[ye,...h.adoptedStyleSheets]}else{const ye=h.querySelector("style");ye?ye.innerHTML=J+ye.innerHTML:h.prepend(pe)}else h.append(pe);1&v.$flags$&&h.insertBefore(pe,null)}4&v.$flags$&&(pe.innerHTML+=ht),Ue&&Ue.add(ee)}}else h.adoptedStyleSheets.includes(J)||(Wt?h.adoptedStyleSheets.push(J):h.adoptedStyleSheets=[...h.adoptedStyleSheets,J]);return ee},Ko=(h,v)=>"sc-"+(v&&32&h.$flags$?h.$tagName$+"-"+v:h.$tagName$),mc=h=>h.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),$a=(h,v,...w)=>{let A=null,ee=null,J=null,Ue=!1,pe=!1;const qe=[],ye=dt=>{for(let ut=0;ut<dt.length;ut++)A=dt[ut],Array.isArray(A)?ye(A):null!=A&&"boolean"!=typeof A&&((Ue="function"!=typeof h&&!mr(A))&&(A=String(A)),Ue&&pe?qe[qe.length-1].$text$+=A:qe.push(Ue?hs(null,A):A),pe=Ue)};if(ye(w),v){v.key&&(ee=v.key),v.name&&(J=v.name);{const dt=v.className||v.class;dt&&(v.class="object"!=typeof dt?dt:Object.keys(dt).filter(ut=>dt[ut]).join(" "))}}if("function"==typeof h)return h(null===v?{}:v,qe,uo);const je=hs(h,null);return je.$attrs$=v,qe.length>0&&(je.$children$=qe),je.$key$=ee,je.$name$=J,je},hs=(h,v)=>({$flags$:0,$tag$:h,$text$:v,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ll={},uo={forEach:(h,v)=>h.map(Bt).forEach(v),map:(h,v)=>h.map(Bt).map(v).map(gs)},Bt=h=>({vattrs:h.$attrs$,vchildren:h.$children$,vkey:h.$key$,vname:h.$name$,vtag:h.$tag$,vtext:h.$text$}),gs=h=>{if("function"==typeof h.vtag){const w={...h.vattrs};return h.vkey&&(w.key=h.vkey),h.vname&&(w.name=h.vname),$a(h.vtag,w,...h.vchildren||[])}const v=hs(h.vtag,h.vtext);return v.$attrs$=h.vattrs,v.$children$=h.vchildren,v.$key$=h.vkey,v.$name$=h.vname,v},Ba=(h,v,w,A,ee,J,Ue,pe=[])=>{let qe,ye,je,dt;const ut=ee["s-sc"];if(1===J.nodeType){if(qe=J.getAttribute("c-id"),qe&&(ye=qe.split("."),ye[0]===Ue||"0"===ye[0])){je=qr({$flags$:0,$hostId$:ye[0],$nodeId$:ye[1],$depth$:ye[2],$index$:ye[3],$tag$:J.tagName.toLowerCase(),$elm$:J,$attrs$:{class:J.className||""}}),v.push(je),J.removeAttribute("c-id"),h.$children$||(h.$children$=[]),ut&&ye[0]===Ue&&(J["s-si"]=ut,je.$attrs$.class+=" "+ut);const gt=je.$elm$.getAttribute("s-sn");"string"==typeof gt&&("slot-fb"===je.$tag$&&(Qe(gt,ye[2],je,J,h,v,w,A,pe),ut&&J.classList.add(ut)),je.$elm$["s-sn"]=gt,je.$elm$.removeAttribute("s-sn")),void 0!==je.$index$&&(h.$children$[je.$index$]=je),h=je,A&&"0"===je.$depth$&&(A[je.$index$]=je.$elm$)}if(J.shadowRoot)for(dt=J.shadowRoot.childNodes.length-1;dt>=0;dt--)Ba(h,v,w,A,ee,J.shadowRoot.childNodes[dt],Ue,pe);const At=J.__childNodes||J.childNodes;for(dt=At.length-1;dt>=0;dt--)Ba(h,v,w,A,ee,At[dt],Ue,pe)}else if(8===J.nodeType)ye=J.nodeValue.split("."),(ye[1]===Ue||"0"===ye[1])&&(qe=ye[0],je=qr({$hostId$:ye[1],$nodeId$:ye[2],$depth$:ye[3],$index$:ye[4]||"0",$elm$:J,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),"t"===qe?(je.$elm$=Un(J,3),je.$elm$&&3===je.$elm$.nodeType&&(je.$text$=je.$elm$.textContent,v.push(je),J.remove(),Ue===je.$hostId$&&(h.$children$||(h.$children$=[]),h.$children$[je.$index$]=je),A&&"0"===je.$depth$&&(A[je.$index$]=je.$elm$))):"c"===qe?(je.$elm$=Un(J,8),je.$elm$&&8===je.$elm$.nodeType&&(v.push(je),J.remove())):je.$hostId$===Ue&&("s"===qe?Qe(J["s-sn"]=ye[5]||"",ye[2],je,J,h,v,w,A,pe):"r"===qe&&(A?J.remove():(ee["s-cr"]=J,J["s-cn"]=!0))));else if(h&&"style"===h.$tag$){const At=hs(null,J.textContent);At.$elm$=J,At.$index$="0",h.$children$=[At]}else 3===J.nodeType&&!J.wholeText.trim()&&!J["s-nr"]&&J.remove();return h},Yo=(h,v)=>{if(1===h.nodeType){const w=h[wt]||h.getAttribute(wt);w&&v.set(w,h);let A=0;if(h.shadowRoot)for(;A<h.shadowRoot.childNodes.length;A++)Yo(h.shadowRoot.childNodes[A],v);const ee=h.__childNodes||h.childNodes;for(A=0;A<ee.length;A++)Yo(ee[A],v)}else if(8===h.nodeType){const w=h.nodeValue.split(".");"o"===w[0]&&(v.set(w[1]+"."+w[2],h),h.nodeValue="",h["s-en"]=w[3])}},qr=h=>({$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null,...h});function Qe(h,v,w,A,ee,J,Ue,pe,qe){A["s-sr"]=!0,w.$name$=h||null,w.$tag$="slot";const ye=ee?.$elm$?ee.$elm$["s-id"]||ee.$elm$.getAttribute("s-id"):"";if(pe&&ot.document){const je=w.$elm$=ot.document.createElement(w.$tag$);w.$name$&&w.$elm$.setAttribute("name",h),ee.$elm$.shadowRoot&&ye&&ye!==w.$hostId$?_r(ee.$elm$,"insertBefore")(je,_r(ee.$elm$,"children")[0]):_r(_r(A,"parentNode"),"insertBefore")(je,A),Ml(qe,v,h,A,w.$hostId$),A.remove(),"0"===w.$depth$&&(pe[w.$index$]=w.$elm$)}else{const je=w.$elm$,dt=ye&&ye!==w.$hostId$&&ee.$elm$.shadowRoot;Ml(qe,v,h,A,dt?ye:w.$hostId$),Tn(A),dt&&ee.$elm$.insertBefore(je,ee.$elm$.children[0])}J.push(w),Ue.push(w),ee.$children$||(ee.$children$=[]),ee.$children$[w.$index$]=w}var Ml=(h,v,w,A,ee)=>{var J,Ue;let pe=A.nextSibling;if(h[v]=h[v]||[],pe&&(null==(J=pe.nodeValue)||!J.startsWith("s.")))do{pe&&((pe.getAttribute&&pe.getAttribute("slot")||pe["s-sn"])===w||""===w&&!pe["s-sn"]&&(!pe.getAttribute||!pe.getAttribute("slot"))&&(8===pe.nodeType||3===pe.nodeType))&&(pe["s-sn"]=w,h[v].push({slot:A,node:pe,hostId:ee})),pe=pe?.nextSibling}while(pe&&(null==(Ue=pe.nodeValue)||!Ue.startsWith("s.")))},Un=(h,v)=>{let w=h;do{w=w.nextSibling}while(w&&(w.nodeType!==v||!w.nodeValue));return w},ms=h=>{const v=(h=>h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(h);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${v}))(${v}\\b)`,"g")};ms("::slotted"),ms(":host"),ms(":host-context");var xl=h=>ae.push(h),ja=h=>{var v;return null==(v=me(h))?void 0:v.$modeName$},Ni=(h,v,w)=>{if("string"==typeof h&&h.startsWith(we))return function qt(h){return"string"==typeof h&&h.startsWith(we)?Gr.fromLocalValue(JSON.parse(atob(h.slice(11)))):h}(h);if("string"==typeof h&&(16&v||8&v)&&(h.startsWith("{")&&h.endsWith("}")||h.startsWith("[")&&h.endsWith("]")))try{return JSON.parse(h)}catch{}return null==h||mr(h)?h:4&v?"false"!==h&&(""===h||!!h):2&v?"string"==typeof h?parseFloat(h):"number"==typeof h?h:NaN:1&v?String(h):h},vs=h=>{var v;return null==(v=me(h))?void 0:v.$hostElement$},Hs=(h,v,w)=>{const A=vs(h);return{emit:ee=>tt(A,v,{bubbles:!!(4&w),composed:!!(2&w),cancelable:!!(1&w),detail:ee})}},tt=(h,v,w)=>{const A=Ke.ce(v,w);return h.dispatchEvent(A),A},Gs=(h,v,w,A,ee,J,Ue)=>{if(w===A)return;let pe=U(h,v),qe=v.toLowerCase();if("class"===v){const ye=h.classList,je=Oi(w);let dt=Oi(A);if((h["s-si"]||h["s-sc"])&&Ue){const ut=h["s-sc"]||h["s-si"];dt.push(ut),je.forEach(At=>{At.startsWith(ut)&&dt.push(At)}),dt=[...new Set(dt)].filter(At=>At),ye.add(...dt)}else ye.remove(...je.filter(ut=>ut&&!dt.includes(ut))),ye.add(...dt.filter(ut=>ut&&!je.includes(ut)))}else if("style"===v){for(const ye in w)(!A||null==A[ye])&&(ye.includes("-")?h.style.removeProperty(ye):h.style[ye]="");for(const ye in A)(!w||A[ye]!==w[ye])&&(ye.includes("-")?h.style.setProperty(ye,A[ye]):h.style[ye]=A[ye])}else if("key"!==v)if("ref"===v)A&&A(h);else if(pe||"o"!==v[0]||"n"!==v[1]){const ye=mr(A);if((pe||ye&&null!==A)&&!ee)try{if(h.tagName.includes("-"))h[v]!==A&&(h[v]=A);else{const dt=A??"";"list"===v?pe=!1:(null==w||h[v]!=dt)&&("function"==typeof h.__lookupSetter__(v)?h[v]=dt:h.setAttribute(v,dt))}}catch{}let je=!1;qe!==(qe=qe.replace(/^xlink\:?/,""))&&(v=qe,je=!0),null==A||!1===A?(!1!==A||""===h.getAttribute(v))&&(je?h.removeAttributeNS(Ct,v):h.removeAttribute(v)):(!pe||4&J||ee)&&!ye&&1===h.nodeType&&(A=!0===A?"":A,je?h.setAttributeNS(Ct,v,A):h.setAttribute(v,A))}else if(v="-"===v[2]?v.slice(3):U(ot,qe)?qe.slice(2):qe[2]+v.slice(3),w||A){const ye=v.endsWith(Xo);v=v.replace(pa,""),w&&Ke.rel(h,v,w,ye),A&&Ke.ael(h,v,A,ye)}},Wi=/\s/,Oi=h=>("object"==typeof h&&h&&"baseVal"in h&&(h=h.baseVal),h&&"string"==typeof h?h.split(Wi):[]),Xo="Capture",pa=new RegExp(Xo+"$"),ys=(h,v,w,A)=>{const ee=11===v.$elm$.nodeType&&v.$elm$.host?v.$elm$.host:v.$elm$,J=h&&h.$attrs$||{},Ue=v.$attrs$||{};for(const pe of zs(Object.keys(J)))pe in Ue||Gs(ee,pe,J[pe],void 0,w,v.$flags$,A);for(const pe of zs(Object.keys(Ue)))Gs(ee,pe,J[pe],Ue[pe],w,v.$flags$,A)};function zs(h){return h.includes("ref")?[...h.filter(v=>"ref"!==v),"ref"]:h}var Qo,_s,yi,bs=!1,Cs=!1,qi=!1,fo=!1,_i=(h,v,w)=>{var A;const ee=v.$children$[w];let Ue,pe,qe,J=0;if(bs||(qi=!0,"slot"===ee.$tag$&&(ee.$flags$|=ee.$children$?2:1)),null!==ee.$text$)Ue=ee.$elm$=ot.document.createTextNode(ee.$text$);else if(1&ee.$flags$)Ue=ee.$elm$=ot.document.createTextNode(""),ys(null,ee,fo);else{if(fo||(fo="svg"===ee.$tag$),!ot.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(Ue=ee.$elm$=ot.document.createElementNS(fo?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!bs&&2&ee.$flags$?"slot-fb":ee.$tag$),fo&&"foreignObject"===ee.$tag$&&(fo=!1),ys(null,ee,fo),(h=>null!=h&&void 0!==h)(Qo)&&Ue["s-si"]!==Qo&&Ue.classList.add(Ue["s-si"]=Qo),ee.$children$)for(J=0;J<ee.$children$.length;++J)pe=_i(h,ee,J),pe&&Ue.appendChild(pe);"svg"===ee.$tag$?fo=!1:"foreignObject"===Ue.tagName&&(fo=!0)}return Ue["s-hn"]=yi,3&ee.$flags$&&(Ue["s-sr"]=!0,Ue["s-cr"]=_s,Ue["s-sn"]=ee.$name$||"",Ue["s-rf"]=null==(A=ee.$attrs$)?void 0:A.ref,Tn(Ue),qe=h&&h.$children$&&h.$children$[w],qe&&qe.$tag$===ee.$tag$&&h.$elm$&&Zi(h.$elm$),ws(_s,Ue,v.$elm$,h?.$elm$)),Ue},Zi=h=>{Ke.$flags$|=1;const v=h.closest(yi.toLowerCase());if(null!=v){const w=Array.from(v.__childNodes||v.childNodes).find(ee=>ee["s-cr"]),A=Array.from(h.__childNodes||h.childNodes);for(const ee of w?A.reverse():A)null!=ee["s-sh"]&&(wo(v,ee,w??null),ee["s-sh"]=void 0,qi=!0)}Ke.$flags$&=-2},Ki=(h,v)=>{Ke.$flags$|=1;const w=Array.from(h.__childNodes||h.childNodes);if(h["s-sr"]){let A=h;for(;A=A.nextSibling;)A&&A["s-sn"]===h["s-sn"]&&A["s-sh"]===yi&&w.push(A)}for(let A=w.length-1;A>=0;A--){const ee=w[A];ee["s-hn"]!==yi&&ee["s-ol"]&&(wo(bi(ee).parentNode,ee,bi(ee)),ee["s-ol"].remove(),ee["s-ol"]=void 0,ee["s-sh"]=void 0,qi=!0),v&&Ki(ee,v)}Ke.$flags$&=-2},Ws=(h,v,w,A,ee,J)=>{let pe,Ue=h["s-cr"]&&h["s-cr"].parentNode||h;for(Ue.shadowRoot&&Ue.tagName===yi&&(Ue=Ue.shadowRoot);ee<=J;++ee)A[ee]&&(pe=_i(null,w,ee),pe&&(A[ee].$elm$=pe,wo(Ue,pe,bi(v))))},Ss=(h,v,w)=>{for(let A=v;A<=w;++A){const ee=h[A];if(ee){const J=ee.$elm$;qs(ee),J&&(Cs=!0,J["s-ol"]?J["s-ol"].remove():Ki(J,!0),J.remove())}}},Jo=(h,v,w=!1)=>h.$tag$===v.$tag$&&("slot"===h.$tag$?h.$name$===v.$name$:w?(w&&!h.$key$&&v.$key$&&(h.$key$=v.$key$),!0):h.$key$===v.$key$),bi=h=>h&&h["s-ol"]||h,Gt=(h,v,w=!1)=>{const A=v.$elm$=h.$elm$,ee=h.$children$,J=v.$children$,Ue=v.$tag$,pe=v.$text$;let qe;null===pe?(fo="svg"===Ue||"foreignObject"!==Ue&&fo,"slot"===Ue&&!bs&&h.$name$!==v.$name$&&(v.$elm$["s-sn"]=v.$name$||"",Zi(v.$elm$.parentElement)),ys(h,v,fo,w),null!==ee&&null!==J?((h,v,w,A,ee=!1)=>{let xt,ur,J=0,Ue=0,pe=0,qe=0,ye=v.length-1,je=v[0],dt=v[ye],ut=A.length-1,At=A[0],gt=A[ut];for(;J<=ye&&Ue<=ut;)if(null==je)je=v[++J];else if(null==dt)dt=v[--ye];else if(null==At)At=A[++Ue];else if(null==gt)gt=A[--ut];else if(Jo(je,At,ee))Gt(je,At,ee),je=v[++J],At=A[++Ue];else if(Jo(dt,gt,ee))Gt(dt,gt,ee),dt=v[--ye],gt=A[--ut];else if(Jo(je,gt,ee))("slot"===je.$tag$||"slot"===gt.$tag$)&&Ki(je.$elm$.parentNode,!1),Gt(je,gt,ee),wo(h,je.$elm$,dt.$elm$.nextSibling),je=v[++J],gt=A[--ut];else if(Jo(dt,At,ee))("slot"===je.$tag$||"slot"===gt.$tag$)&&Ki(dt.$elm$.parentNode,!1),Gt(dt,At,ee),wo(h,dt.$elm$,je.$elm$),dt=v[--ye],At=A[++Ue];else{for(pe=-1,qe=J;qe<=ye;++qe)if(v[qe]&&null!==v[qe].$key$&&v[qe].$key$===At.$key$){pe=qe;break}pe>=0?(ur=v[pe],ur.$tag$!==At.$tag$?xt=_i(v&&v[Ue],w,pe):(Gt(ur,At,ee),v[pe]=void 0,xt=ur.$elm$),At=A[++Ue]):(xt=_i(v&&v[Ue],w,Ue),At=A[++Ue]),xt&&wo(bi(je.$elm$).parentNode,xt,bi(je.$elm$))}J>ye?Ws(h,null==A[ut+1]?null:A[ut+1].$elm$,w,A,Ue,ut):Ue>ut&&Ss(v,J,ye)})(A,ee,v,J,w):null!==J?(null!==h.$text$&&(A.textContent=""),Ws(A,null,v,J,0,J.length-1)):w||null===ee?w&&null!==ee&&null===J&&(v.$children$=ee):Ss(ee,0,ee.length-1),fo&&"svg"===Ue&&(fo=!1)):(qe=A["s-cr"])?qe.parentNode.textContent=pe:h.$text$!==pe&&(A.data=pe)},un=[],ha=h=>{let v,w,A;const ee=h.__childNodes||h.childNodes;for(const J of ee){if(J["s-sr"]&&(v=J["s-cr"])&&v.parentNode){w=v.parentNode.__childNodes||v.parentNode.childNodes;const Ue=J["s-sn"];for(A=w.length-1;A>=0;A--)if(v=w[A],!(v["s-cn"]||v["s-nr"]||v["s-hn"]===J["s-hn"]||v["s-sh"]&&v["s-sh"]===J["s-hn"]))if(ro(v,Ue)){let pe=un.find(qe=>qe.$nodeToRelocate$===v);Cs=!0,v["s-sn"]=v["s-sn"]||Ue,pe?(pe.$nodeToRelocate$["s-sh"]=J["s-hn"],pe.$slotRefNode$=J):(v["s-sh"]=J["s-hn"],un.push({$slotRefNode$:J,$nodeToRelocate$:v})),v["s-sr"]&&un.map(qe=>{ro(qe.$nodeToRelocate$,v["s-sn"])&&(pe=un.find(ye=>ye.$nodeToRelocate$===v),pe&&!qe.$slotRefNode$&&(qe.$slotRefNode$=pe.$slotRefNode$))})}else un.some(pe=>pe.$nodeToRelocate$===v)||un.push({$nodeToRelocate$:v})}1===J.nodeType&&ha(J)}},qs=h=>{h.$attrs$&&h.$attrs$.ref&&h.$attrs$.ref(null),h.$children$&&h.$children$.map(qs)},wo=(h,v,w)=>{if("string"==typeof v["s-sn"]&&v["s-sr"]&&v["s-cr"])ws(v["s-cr"],v,h,v.parentElement);else if("string"==typeof v["s-sn"]){11!==h.getRootNode().nodeType&&da(v),h.insertBefore(v,w);const{slotNode:A}=ai(v);return A&&So(A),v}return h.__insertBefore?h.__insertBefore(v,w):h?.insertBefore(v,w)};function ws(h,v,w,A){var ee,J;let Ue;if(h&&"string"==typeof v["s-sn"]&&v["s-sr"]&&h.parentNode&&h.parentNode["s-sc"]&&(Ue=v["s-si"]||h.parentNode["s-sc"])){const pe=v["s-sn"],qe=v["s-hn"];if(null==(ee=w.classList)||ee.add(Ue+"-s"),A&&null!=(J=A.classList)&&J.contains(Ue+"-s")){let ye=(A.__childNodes||A.childNodes)[0],je=!1;for(;ye;){if(ye["s-sn"]!==pe&&ye["s-hn"]===qe&&ye["s-sr"]){je=!0;break}ye=ye.nextSibling}je||A.classList.remove(Ue+"-s")}}}var Yi=(h,v)=>{if(v&&!h.$onRenderResolve$&&v["s-p"]){const w=v["s-p"].push(new Promise(A=>h.$onRenderResolve$=()=>{v["s-p"].splice(w-1,1),A()}))}},Es=(h,v)=>{if(h.$flags$|=16,4&h.$flags$)return void(h.$flags$|=512);Yi(h,h.$ancestorComponent$);const w=()=>Va(h,v);if(!v)return sn(w);queueMicrotask(()=>{w()})},Va=(h,v)=>{const w=h.$hostElement$,ee=h.$lazyInstance$;if(!ee)throw new Error(`Can't render component <${w.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let J;return v?(h.$flags$|=256,h.$queuedListeners$&&(h.$queuedListeners$.map(([Ue,pe])=>Eo(ee,Ue,pe,w)),h.$queuedListeners$=void 0),J=Eo(ee,"componentWillLoad",void 0,w)):J=Eo(ee,"componentWillUpdate",void 0,w),J=Zs(J,()=>Eo(ee,"componentWillRender",void 0,w)),Zs(J,()=>ga(h,ee,v))},Zs=(h,v)=>Ds(h)?h.then(v).catch(w=>{console.error(w),v()}):v(),Ds=h=>h instanceof Promise||h&&h.then&&"function"==typeof h.then,ga=function(){var h=(0,S.A)(function*(v,w,A){var ee;const J=v.$hostElement$,pe=J["s-rc"];A&&(h=>{const v=h.$cmpMeta$,w=h.$hostElement$,A=v.$flags$,J=or(w.shadowRoot?w.shadowRoot:w.getRootNode(),v,h.$modeName$);10&A&&(w["s-sc"]=J,w.classList.add(J+"-h"))})(v);Ks(v,w,J,A),pe&&(pe.map(ye=>ye()),J["s-rc"]=void 0);{const ye=null!=(ee=J["s-p"])?ee:[],je=()=>Ys(v);0===ye.length?je():(Promise.all(ye).then(je),v.$flags$|=4,ye.length=0)}});return function(w,A,ee){return h.apply(this,arguments)}}(),Ks=(h,v,w,A)=>{try{v=v.render&&v.render(),h.$flags$&=-17,h.$flags$|=2,((h,v,w=!1)=>{var A,ee,J,Ue,pe;const qe=h.$hostElement$,ye=h.$cmpMeta$,je=h.$vnode$||hs(null,null),ut=(h=>h&&h.$tag$===ll)(v)?v:$a(null,null,v);if(yi=qe.tagName,ye.$attrsToReflect$&&(ut.$attrs$=ut.$attrs$||{},ye.$attrsToReflect$.map(([At,gt])=>ut.$attrs$[gt]=qe[At])),w&&ut.$attrs$)for(const At of Object.keys(ut.$attrs$))qe.hasAttribute(At)&&!["key","ref","style","class"].includes(At)&&(ut.$attrs$[At]=qe[At]);if(ut.$tag$=null,ut.$flags$|=4,h.$vnode$=ut,ut.$elm$=je.$elm$=qe.shadowRoot||qe,Qo=qe["s-sc"],bs=!(!(1&ye.$flags$)||128&ye.$flags$),_s=qe["s-cr"],Cs=!1,Gt(je,ut,w),Ke.$flags$|=1,qi){ha(ut.$elm$);for(const At of un){const gt=At.$nodeToRelocate$;if(!gt["s-ol"]&&ot.document){const xt=ot.document.createTextNode("");xt["s-nr"]=gt,wo(gt.parentNode,gt["s-ol"]=xt,gt)}}for(const At of un){const gt=At.$nodeToRelocate$,xt=At.$slotRefNode$;if(xt){const ur=xt.parentNode;let Zt=xt.nextSibling;if(Zt&&1===Zt.nodeType){let an=null==(A=gt["s-ol"])?void 0:A.previousSibling;for(;an;){let St=null!=(ee=an["s-nr"])?ee:null;if(St&&St["s-sn"]===gt["s-sn"]&&ur===(St.__parentNode||St.parentNode)){for(St=St.nextSibling;St===gt||St?.["s-sr"];)St=St?.nextSibling;if(!St||!St["s-nr"]){Zt=St;break}}an=an.previousSibling}}(!Zt&&ur!==(gt.__parentNode||gt.parentNode)||(gt.__nextSibling||gt.nextSibling)!==Zt)&&gt!==Zt&&(wo(ur,gt,Zt),1===gt.nodeType&&"SLOT-FB"!==gt.tagName&&(gt.hidden=null!=(J=gt["s-ih"])&&J)),gt&&"function"==typeof xt["s-rf"]&&xt["s-rf"](xt)}else 1===gt.nodeType&&(w&&(gt["s-ih"]=null!=(Ue=gt.hidden)&&Ue),gt.hidden=!0)}}if(Cs&&vo(ut.$elm$),Ke.$flags$&=-2,un.length=0,2&ye.$flags$){const At=ut.$elm$.__childNodes||ut.$elm$.childNodes;for(const gt of At)gt["s-hn"]!==yi&&!gt["s-sh"]&&(w&&null==gt["s-ih"]&&(gt["s-ih"]=null!=(pe=gt.hidden)&&pe),gt.hidden=!0)}_s=void 0})(h,v,A)}catch(ee){X(ee,h.$hostElement$)}return null},Ys=h=>{const w=h.$hostElement$,ee=h.$lazyInstance$,J=h.$ancestorComponent$;Eo(ee,"componentDidRender",void 0,w),64&h.$flags$?Eo(ee,"componentDidUpdate",void 0,w):(h.$flags$|=64,Qs(w),Eo(ee,"componentDidLoad",void 0,w),h.$onReadyResolve$(w),J||Xs()),h.$onInstanceResolve$(w),h.$onRenderResolve$&&(h.$onRenderResolve$(),h.$onRenderResolve$=void 0),512&h.$flags$&&pn(()=>Es(h,!1)),h.$flags$&=-517},ma=h=>{var v;{const w=me(h),A=null==(v=w?.$hostElement$)?void 0:v.isConnected;return A&&2==(18&w.$flags$)&&Es(w,!1),A}},Xs=h=>{var v;pn(()=>tt(ot,"appload",{detail:{namespace:"ionic"}})),null!=(v=Ke.$orgLocNodes$)&&v.size&&Ke.$orgLocNodes$.clear()},Eo=(h,v,w,A)=>{if(h&&h[v])try{return h[v](w)}catch(ee){X(ee,A)}},Qs=h=>h.classList.add("hydrated"),Xi=(h,v,w,A)=>{const ee=me(h);if(!ee)return;if(!ee)throw new Error(`Couldn't find host element for "${A.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const J=ee.$hostElement$,Ue=ee.$instanceValues$.get(v),pe=ee.$flags$,qe=ee.$lazyInstance$;w=Ni(w,A.$members$[v][0]);const ye=Number.isNaN(Ue)&&Number.isNaN(w);if((!(8&pe)||void 0===Ue)&&w!==Ue&&!ye&&(ee.$instanceValues$.set(v,w),qe)){if(A.$watchers$&&128&pe){const dt=A.$watchers$[v];dt&&dt.map(ut=>{try{qe[ut](w,Ue,v)}catch(At){X(At,J)}})}if(2==(18&pe)){if(qe.componentShouldUpdate&&!1===qe.componentShouldUpdate(w,Ue,v))return;Es(ee,!1)}}},va=(h,v,w)=>{var A,ee;const J=h.prototype;if(v.$members$||v.$watchers$||h.watchers){h.watchers&&!v.$watchers$&&(v.$watchers$=h.watchers);const Ue=Object.entries(null!=(A=v.$members$)?A:{});if(Ue.map(([pe,[qe]])=>{if(31&qe||2&w&&32&qe){const{get:ye,set:je}=Object.getOwnPropertyDescriptor(J,pe)||{};ye&&(v.$members$[pe][0]|=2048),je&&(v.$members$[pe][0]|=4096),(1&w||!ye)&&Object.defineProperty(J,pe,{get(){{if(!(2048&v.$members$[pe][0]))return((h,v)=>me(this).$instanceValues$.get(v))(0,pe);const dt=me(this),ut=dt?dt.$lazyInstance$:J;return ut?ut[pe]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(J,pe,{set(dt){const ut=me(this);if(ut){if(je){const At=32&qe?this[pe]:ut.$hostElement$[pe];return typeof At>"u"&&ut.$instanceValues$.get(pe)?dt=ut.$instanceValues$.get(pe):!ut.$instanceValues$.get(pe)&&At&&ut.$instanceValues$.set(pe,At),je.apply(this,[Ni(dt,qe)]),void Xi(this,pe,dt=32&qe?this[pe]:ut.$hostElement$[pe],v)}{if(!(1&w&&4096&v.$members$[pe][0]))return Xi(this,pe,dt,v),void(1&w&&!ut.$lazyInstance$&&ut.$onReadyPromise$.then(()=>{4096&v.$members$[pe][0]&&ut.$lazyInstance$[pe]!==ut.$instanceValues$.get(pe)&&(ut.$lazyInstance$[pe]=dt)}));const At=()=>{const gt=ut.$lazyInstance$[pe];!ut.$instanceValues$.get(pe)&&gt&&ut.$instanceValues$.set(pe,gt),ut.$lazyInstance$[pe]=Ni(dt,qe),Xi(this,pe,ut.$lazyInstance$[pe],v)};ut.$lazyInstance$?At():ut.$onReadyPromise$.then(()=>At())}}}})}else 1&w&&64&qe&&Object.defineProperty(J,pe,{value(...ye){var je;const dt=me(this);return null==(je=dt?.$onInstancePromise$)?void 0:je.then(()=>{var ut;return null==(ut=dt.$lazyInstance$)?void 0:ut[pe](...ye)})}})}),1&w){const pe=new Map;J.attributeChangedCallback=function(qe,ye,je){Ke.jmp(()=>{var dt;const ut=pe.get(qe);if(this.hasOwnProperty(ut))je=this[ut],delete this[ut];else{if(J.hasOwnProperty(ut)&&"number"==typeof this[ut]&&this[ut]==je)return;if(null==ut){const gt=me(this),xt=gt?.$flags$;if(gt&&xt&&!(8&xt)&&128&xt&&je!==ye){const ur=gt.$lazyInstance$,Zt=null==(dt=v.$watchers$)?void 0:dt[qe];Zt?.forEach(Kt=>{null!=ur[Kt]&&ur[Kt].call(ur,je,ye,qe)})}return}}const At=Object.getOwnPropertyDescriptor(J,ut);(je=(null!==je||"boolean"!=typeof this[ut])&&je)!==this[ut]&&(!At.get||At.set)&&(this[ut]=je)})},h.observedAttributes=Array.from(new Set([...Object.keys(null!=(ee=v.$watchers$)?ee:{}),...Ue.filter(([qe,ye])=>15&ye[0]).map(([qe,ye])=>{var je;const dt=ye[1]||qe;return pe.set(dt,qe),512&ye[0]&&(null==(je=v.$attrsToReflect$)||je.push([qe,dt])),dt})]))}}return h},Ua=function(){var h=(0,S.A)(function*(v,w,A,ee){let J;if(!(32&w.$flags$)){if(w.$flags$|=32,A.$lazyBundleId$){const ye=((h,v)=>{const A=h.$tagName$.replace(/-/g,"_"),ee=h.$lazyBundleId$;if(!ee)return;const J=Ve.get(ee);return J?J[A]:_(8996)(`./${ee}.entry.js`).then(Ue=>(Ve.set(ee,Ue),Ue[A]),Ue=>{X(Ue,v.$hostElement$)})})(A,w);if(ye&&"then"in ye){const dt=()=>{};J=yield ye,dt()}else J=ye;if(!J)throw new Error(`Constructor for "${A.$tagName$}#${w.$modeName$}" was not found`);J.isProxied||(A.$watchers$=J.watchers,va(J,A,2),J.isProxied=!0);const je=()=>{};w.$flags$|=8;try{new J(w)}catch(dt){X(dt,v)}w.$flags$&=-9,w.$flags$|=128,je(),$o(w.$lazyInstance$,v)}else J=v.constructor,customElements.whenDefined(v.localName).then(()=>w.$flags$|=128);if(J&&J.style){let ye;"string"==typeof J.style?ye=J.style:"string"!=typeof J.style&&(w.$modeName$=(h=>ae.map(v=>v(h)).find(v=>!!v))(v),w.$modeName$&&(ye=J.style[w.$modeName$]));const je=Ko(A,w.$modeName$);if(!ne.has(je)){const dt=()=>{};vr(je,ye,!!(1&A.$flags$)),dt()}}}const Ue=w.$ancestorComponent$,pe=()=>Es(w,!0);Ue&&Ue["s-rc"]?Ue["s-rc"].push(pe):pe()});return function(w,A,ee,J){return h.apply(this,arguments)}}(),$o=(h,v)=>{Eo(h,"connectedCallback",void 0,v)},ya=h=>{if(!ot.document)return;const v=h["s-cr"]=ot.document.createComment("");v["s-cn"]=!0,wo(h,v,h.firstChild)},Js=(h,v)=>{Eo(h,"disconnectedCallback",void 0,v||h)},se=function(){var h=(0,S.A)(function*(v){if(!(1&Ke.$flags$)){const w=me(v);w?.$rmListeners$&&(w.$rmListeners$.map(A=>A()),w.$rmListeners$=void 0),w?.$lazyInstance$?Js(w.$lazyInstance$,v):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>Js(w.$lazyInstance$,v))}Ht.has(v)&&Ht.delete(v),v.shadowRoot&&Ht.has(v.shadowRoot)&&Ht.delete(v.shadowRoot)});return function(w){return h.apply(this,arguments)}}(),ea=(h,v={})=>{var w;if(!ot.document)return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");const ee=[],J=v.exclude||[],Ue=ot.customElements,pe=ot.document.head,qe=pe.querySelector("meta[charset]"),ye=ot.document.createElement("style"),je=[];let dt,ut=!0;Object.assign(Ke,v),Ke.$resourcesUrl$=new URL(v.resourcesUrl||"./",ot.document.baseURI).href,Ke.$flags$|=2,(()=>{if(!ot.document)return;const h=ot.document.querySelectorAll(`[${Te}]`);let v=0;for(;v<h.length;v++)vr(h[v].getAttribute(Te),mc(h[v].innerHTML),!0)})();let At=!1;if(h.map(gt=>{gt[1].map(xt=>{var ur;const Zt={$flags$:xt[0],$tagName$:xt[1],$members$:xt[2],$listeners$:xt[3]};4&Zt.$flags$&&(At=!0),Zt.$members$=xt[2],Zt.$listeners$=xt[3],Zt.$attrsToReflect$=[],Zt.$watchers$=null!=(ur=xt[4])?ur:{};const Kt=Zt.$tagName$,$n=class extends HTMLElement{constructor(an){if(super(an),this.hasRegisteredEventListeners=!1,((h,v)=>{const w={$flags$:0,$hostElement$:h,$cmpMeta$:v,$instanceValues$:new Map};w.$onInstancePromise$=new Promise(ee=>w.$onInstanceResolve$=ee),w.$onReadyPromise$=new Promise(ee=>w.$onReadyResolve$=ee),h["s-p"]=[],h["s-rc"]=[];const A=w;h.__stencil__getHostRef=()=>A})(an=this,Zt),1&Zt.$flags$)if(an.shadowRoot){if("open"!==an.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Zt.$tagName$}! Mode is set to ${an.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else en.call(an,Zt)}connectedCallback(){const an=me(this);an&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ui(this,an,Zt.$listeners$)),dt&&(clearTimeout(dt),dt=null),ut?je.push(this):Ke.jmp(()=>(h=>{if(!(1&Ke.$flags$)){const v=me(h);if(!v)return;const w=v.$cmpMeta$,A=()=>{};if(1&v.$flags$)ui(h,v,w.$listeners$),v?.$lazyInstance$?$o(v.$lazyInstance$,h):v?.$onReadyPromise$&&v.$onReadyPromise$.then(()=>$o(v.$lazyInstance$,h));else{let ee;if(v.$flags$|=1,ee=h.getAttribute(wt),ee){if(1&w.$flags$){const J=or(h.shadowRoot,w,h.getAttribute("s-mode"));h.classList.remove(J+"-h",J+"-s")}else if(2&w.$flags$){const J=Ko(w,h.getAttribute("s-mode"));h["s-sc"]=J}((h,v,w,A)=>{var ee,J,Ue;const qe=h.shadowRoot,ye=[],je=[],dt=[],ut=qe?[]:null,At=hs(v,null);let xt;At.$elm$=h,Object.entries((null==(ee=A.$cmpMeta$)?void 0:ee.$members$)||{}).forEach(([$,[le,Be]])=>{var Pt;if(!(31&le))return;const mn=h.getAttribute(Be||$);if(null!==mn){const Gn=Ni(mn,le);null==(Pt=A?.$instanceValues$)||Pt.set($,Gn)}});{const $=A.$cmpMeta$;$&&10&$.$flags$&&h["s-sc"]?(xt=h["s-sc"],h.classList.add(xt+"-h")):h["s-sc"]&&delete h["s-sc"]}ot.document&&(!Ke.$orgLocNodes$||!Ke.$orgLocNodes$.size)&&Yo(ot.document.body,Ke.$orgLocNodes$=new Map),h[wt]=w,h.removeAttribute(wt),A.$vnode$=Ba(At,ye,je,ut,h,h,w,dt);let ur=0;const Zt=ye.length;let Kt;for(;ur<Zt;ur++){Kt=ye[ur];const $=Kt.$hostId$+"."+Kt.$nodeId$,le=Ke.$orgLocNodes$.get($),Be=Kt.$elm$;if(qe){if(null!=(J=Kt.$tag$)&&J.toString().includes("-")&&"slot-fb"!==Kt.$tag$&&!Kt.$elm$.shadowRoot){const Pt=me(Kt.$elm$);if(Pt){const on=Ko(Pt.$cmpMeta$,Kt.$elm$.getAttribute("s-mode")),mn=ot.document.querySelector(`style[sty-id="${on}"]`);mn&&h.shadowRoot.append(mn.cloneNode(!0))}}}else Be["s-hn"]=v.toUpperCase(),"slot"===Kt.$tag$&&(Be["s-cr"]=h["s-cr"]);"slot"===Kt.$tag$&&(Kt.$name$=Kt.$elm$["s-sn"]||Kt.$elm$.name||null,Kt.$children$?(Kt.$flags$|=2,Kt.$elm$.childNodes.length||Kt.$children$.forEach(Pt=>{Kt.$elm$.appendChild(Pt.$elm$)})):Kt.$flags$|=1),le&&le.isConnected&&(le.parentElement.shadowRoot&&""===le["s-en"]&&le.parentNode.insertBefore(Be,le.nextSibling),le.parentNode.removeChild(le),qe||(Be["s-oo"]=parseInt(Kt.$nodeId$))),le&&!le["s-id"]&&Ke.$orgLocNodes$.delete($)}const $n=[],an=dt.length;let Hn,hn,Nn,b,St=0;for(;St<an;St++)if(Hn=dt[St],Hn&&Hn.length)for(Nn=Hn.length,hn=0;hn<Nn;hn++){if(b=Hn[hn],$n[b.hostId]||($n[b.hostId]=Ke.$orgLocNodes$.get(b.hostId)),!$n[b.hostId])continue;const $=$n[b.hostId];$.shadowRoot&&b.node.parentElement!==$&&$.appendChild(b.node),(!$.shadowRoot||!qe)&&(b.slot["s-cr"]||(b.slot["s-cr"]=$["s-cr"],b.slot["s-cr"]=!b.slot["s-cr"]&&$.shadowRoot?$:($.__childNodes||$.childNodes)[0]),xo(b.node,b.slot,!1,b.node["s-oo"]),null!=(Ue=b.node.parentElement)&&Ue.shadowRoot&&b.node.getAttribute&&b.node.getAttribute("slot")&&b.node.removeAttribute("slot"),zi(b.node))}if(xt&&je.length&&je.forEach($=>{$.$elm$.parentElement.classList.add(xt+"-s")}),qe){let $=0;const le=ut.length;if(le){for(;$<le;$++){const Be=ut[$];Be&&qe.appendChild(Be)}Array.from(h.childNodes).forEach(Be=>{"string"!=typeof Be["s-en"]&&"string"!=typeof Be["s-sn"]&&(1===Be.nodeType&&Be.slot&&Be.hidden?Be.removeAttribute("hidden"):(8===Be.nodeType&&!Be.nodeValue||3===Be.nodeType&&!Be.wholeText.trim())&&Be.parentNode.removeChild(Be))})}}A.$hostElement$=h})(h,w.$tagName$,ee,v)}ee||12&w.$flags$&&ya(h);{let J=h;for(;J=J.parentNode||J.host;)if(1===J.nodeType&&J.hasAttribute("s-id")&&J["s-p"]||J["s-p"]){Yi(v,v.$ancestorComponent$=J);break}}w.$members$&&Object.entries(w.$members$).map(([J,[Ue]])=>{if(31&Ue&&h.hasOwnProperty(J)){const pe=h[J];delete h[J],h[J]=pe}}),Ua(h,v,w)}A()}})(this)))}disconnectedCallback(){Ke.jmp(()=>se(this)),Ke.raf(()=>{var an;const St=me(this);if(!St)return;const Hn=je.findIndex(hn=>hn===this);Hn>-1&&je.splice(Hn,1),(null==(an=St?.$vnode$)?void 0:an.$elm$)instanceof Node&&!St.$vnode$.$elm$.isConnected&&delete St.$vnode$.$elm$})}componentOnReady(){var an;return null==(an=me(this))?void 0:an.$onReadyPromise$}};!(1&Zt.$flags$)&&256&Zt.$flags$&&(h=>{Wo(h),jn(h),vi(h),Ir(h),Wr(h),qo(h),Pe(h),fr(h),zn(h),ki(h),Lo(h)})($n.prototype),Zt.$lazyBundleId$=gt[0],!J.includes(Kt)&&!Ue.get(Kt)&&(ee.push(Kt),Ue.define(Kt,va($n,Zt,1)))})}),ee.length>0&&(At&&(ye.textContent+=ht),ye.textContent+=ee.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",ye.innerHTML.length)){ye.setAttribute("data-styles","");const gt=null!=(w=Ke.$nonce$)?w:to(ot.document);null!=gt&&ye.setAttribute("nonce",gt),pe.insertBefore(ye,qe?qe.nextSibling:pe.firstChild)}ut=!1,je.length?je.map(gt=>gt.connectedCallback()):Ke.jmp(()=>dt=setTimeout(Xs,30))},Le=(h,v)=>v,ui=(h,v,w,A)=>{w&&ot.document&&w.map(([ee,J,Ue])=>{const pe=Ts(ot.document,h,ee),qe=_a(v,Ue),ye=Fi(ee);Ke.ael(pe,J,qe,ye),(v.$rmListeners$=v.$rmListeners$||[]).push(()=>Ke.rel(pe,J,qe,ye))})},_a=(h,v)=>w=>{var A;try{256&h.$flags$?null==(A=h.$lazyInstance$)||A[v](w):(h.$queuedListeners$=h.$queuedListeners$||[]).push([v,w])}catch(ee){X(ee,h.$hostElement$)}},Ts=(h,v,w)=>4&w?h:8&w?ot:16&w?h.body:v,Fi=h=>$t?{passive:!!(1&h),capture:!!(2&h)}:!!(2&h)},9364:(K,Se,_)=>{"use strict";var S=_(7888);K.exports=S.getPrototypeOf||null},9462:K=>{"use strict";var S,Se="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,_="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Se||(S=function(R){return!1});var k=Se?Se.prototype.has:null,L=_?_.prototype.has:null;!S&&!k&&(S=function(R){return!1}),K.exports=S||function(R){if(!R||"object"!=typeof R)return!1;try{if(k.call(R,k),L)try{L.call(R,L)}catch{return!0}return R instanceof Se}catch{}return!1}},9713:(K,Se,_)=>{"use strict";var S=_(7707),k=_(814),L=_(5124);K.exports=function(){return L(S,k,arguments)}},9805:(K,Se,_)=>{"use strict";_.r(Se),_.d(Se,{iosTransitionAnimation:()=>T,shadow:()=>D});var S=_(7133),k=_(6780);_(9335),_(575),_(6721);const P=ce=>document.querySelector(`${ce}.ion-cloned-element`),D=ce=>ce.shadowRoot||ce,F=ce=>{const be="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs"),Q="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=be){const Z=be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Z?Z.querySelector(Q):null}return ce.querySelector(Q)},N=(ce,be)=>{const Q="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs");let Z=[];if(null!=Q){const Y=Q.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Y&&(Z=Y.querySelectorAll("ion-buttons"))}else Z=ce.querySelectorAll("ion-buttons");for(const Y of Z){const ge=Y.closest("ion-header"),Ie=ge&&!ge.classList.contains("header-collapse-condense-inactive"),Ye=Y.querySelector("ion-back-button"),te=Y.classList.contains("buttons-collapse");if(null!==Ye&&("start"===Y.slot||""===Y.slot)&&(te&&Ie&&be||!te))return Ye}return null},O=(ce,be,Q,Z,Y,ge,Ie,Ye,te)=>{var we,me;const de=be?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",De=be?"right":"left",U=be?"left":"right",X=be?"right":"left";let Ve=1,G=1,ne=`scale(${G})`;const ae="scale(1)";if(ge&&Ie){const Ne=(null===(we=ge.textContent)||void 0===we?void 0:we.trim())===(null===(me=Ye.textContent)||void 0===me?void 0:me.trim());Ve=te.width/Ie.width,G=(te.height-ie)/Ie.height,ne=Ne?`scale(${Ve}, ${G})`:`scale(${G})`}const Re=D(Z).querySelector("ion-icon").getBoundingClientRect(),Fe=be?Re.width/2-(Re.right-Y.right)+"px":Y.left-Re.width/2+"px",Ce=be?`-${window.innerWidth-Y.right}px`:`${Y.left}px`,Je=`${te.top}px`,wt=`${Y.top}px`,vt=Q?[{offset:0,transform:`translate3d(${Ce}, ${wt}, 0)`},{offset:1,transform:`translate3d(${Fe}, ${Je}, 0)`}]:[{offset:0,transform:`translate3d(${Fe}, ${Je}, 0)`},{offset:1,transform:`translate3d(${Ce}, ${wt}, 0)`}],ot=Q?[{offset:0,opacity:1,transform:ae},{offset:1,opacity:0,transform:ne}]:[{offset:0,opacity:0,transform:ne},{offset:1,opacity:1,transform:ae}],_t=Q?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],$t=(0,S.c)(),En=(0,S.c)(),Dn=(0,S.c)(),Wt=P("ion-back-button"),Nt=D(Wt).querySelector(".button-text"),Ze=D(Wt).querySelector("ion-icon");Wt.text=Z.text,Wt.mode=Z.mode,Wt.icon=Z.icon,Wt.color=Z.color,Wt.disabled=Z.disabled,Wt.style.setProperty("display","block"),Wt.style.setProperty("position","fixed"),En.addElement(Ze),$t.addElement(Nt),Dn.addElement(Wt),Dn.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).beforeAddWrite(()=>{Z.style.setProperty("display","none"),Wt.style.setProperty(De,de)}).afterAddWrite(()=>{Z.style.setProperty("display",""),Wt.style.setProperty("display","none"),Wt.style.removeProperty(De)}).keyframes(vt),$t.beforeStyles({"transform-origin":`${De} top`}).keyframes(ot),En.beforeStyles({"transform-origin":`${U} center`}).keyframes(_t),ce.addAnimation([$t,En,Dn])},I=(ce,be,Q,Z,Y,ge,Ie,Ye,te)=>{var we,me;const de=be?"right":"left",De=be?`calc(100% - ${Y.right}px)`:`${Y.left}px`,X=`${Y.top}px`;let G=be?`-${window.innerWidth-Ie.right-8}px`:`${Ie.x+8}px`,ne=.5;const ae="scale(1)";let ve=`scale(${ne})`;if(Ye&&te){G=be?`-${window.innerWidth-te.right-8}px`:te.x-8+"px";const ht=(null===(we=Ye.textContent)||void 0===we?void 0:we.trim())===(null===(me=Z.textContent)||void 0===me?void 0:me.trim());ne=te.height/(ge.height-ie),ve=ht?`scale(${te.width/ge.width}, ${ne})`:`scale(${ne})`}const Ce=Ie.top+Ie.height/2-Y.height*ne/2+"px",Te=Q?[{offset:0,opacity:0,transform:`translate3d(${G}, ${Ce}, 0) ${ve}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${X}, 0) ${ae}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${X}, 0) ${ae}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${G}, ${Ce}, 0) ${ve}`}],He=P("ion-title"),vt=(0,S.c)();He.innerText=Z.innerText,He.size=Z.size,He.color=Z.color,vt.addElement(He),vt.beforeStyles({"transform-origin":`${de} top`,height:`${Y.height}px`,display:"",position:"relative",[de]:De}).beforeAddWrite(()=>{Z.style.setProperty("opacity","0")}).afterAddWrite(()=>{Z.style.setProperty("opacity",""),He.style.setProperty("display","none")}).keyframes(Te),ce.addAnimation(vt)},T=(ce,be)=>{var Q;try{const Z="cubic-bezier(0.32,0.72,0,1)",Y="opacity",ge="transform",te="rtl"===ce.ownerDocument.dir,we=te?"-99.5%":"99.5%",me=te?"33%":"-33%",de=be.enteringEl,De=be.leavingEl,U="back"===be.direction,X=de.querySelector(":scope > ion-content"),Ve=de.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),G=de.querySelectorAll(":scope > ion-header > ion-toolbar"),ne=(0,S.c)(),ae=(0,S.c)();if(ne.addElement(de).duration((null!==(Q=be.duration)&&void 0!==Q?Q:0)||540).easing(be.easing||Z).fill("both").beforeRemoveClass("ion-page-invisible"),De&&null!=ce){const Ce=(0,S.c)();Ce.addElement(ce),ne.addAnimation(Ce)}if(X||0!==G.length||0!==Ve.length?(ae.addElement(X),ae.addElement(Ve)):ae.addElement(de.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(ae),U?ae.beforeClearStyles([Y]).fromTo("transform",`translateX(${me})`,"translateX(0%)").fromTo(Y,.8,1):ae.beforeClearStyles([Y]).fromTo("transform",`translateX(${we})`,"translateX(0%)"),X){const Ce=D(X).querySelector(".transition-effect");if(Ce){const Je=Ce.querySelector(".transition-cover"),wt=Ce.querySelector(".transition-shadow"),Te=(0,S.c)(),He=(0,S.c)(),vt=(0,S.c)();Te.addElement(Ce).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),He.addElement(Je).beforeClearStyles([Y]).fromTo(Y,0,.1),vt.addElement(wt).beforeClearStyles([Y]).fromTo(Y,.03,.7),Te.addAnimation([He,vt]),ae.addAnimation([Te])}}const ve=de.querySelector("ion-header.header-collapse-condense"),{forward:Re,backward:Fe}=((ce,be,Q,Z,Y)=>{const ge=N(Z,Q),Ie=F(Y),Ye=F(Z),te=N(Y,Q),we=null!==ge&&null!==Ie&&!Q,me=null!==Ye&&null!==te&&Q;if(we){const de=Ie.getBoundingClientRect(),De=ge.getBoundingClientRect(),U=D(ge).querySelector(".button-text"),X=U?.getBoundingClientRect(),G=D(Ie).querySelector(".toolbar-title").getBoundingClientRect();I(ce,be,Q,Ie,de,G,De,U,X),O(ce,be,Q,ge,De,U,X,Ie,G)}else if(me){const de=Ye.getBoundingClientRect(),De=te.getBoundingClientRect(),U=D(te).querySelector(".button-text"),X=U?.getBoundingClientRect(),G=D(Ye).querySelector(".toolbar-title").getBoundingClientRect();I(ce,be,Q,Ye,de,G,De,U,X),O(ce,be,Q,te,De,U,X,Ye,G)}return{forward:we,backward:me}})(ne,te,U,de,De);if(G.forEach(Ce=>{const Je=(0,S.c)();Je.addElement(Ce),ne.addAnimation(Je);const wt=(0,S.c)();wt.addElement(Ce.querySelector("ion-title"));const Te=(0,S.c)(),He=Array.from(Ce.querySelectorAll("ion-buttons,[menuToggle]")),vt=Ce.closest("ion-header"),ht=vt?.classList.contains("header-collapse-condense-inactive");let Ct;Ct=He.filter(U?$t=>{const En=$t.classList.contains("buttons-collapse");return En&&!ht||!En}:$t=>!$t.classList.contains("buttons-collapse")),Te.addElement(Ct);const ot=(0,S.c)();ot.addElement(Ce.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Dt=(0,S.c)();Dt.addElement(D(Ce).querySelector(".toolbar-background"));const Ke=(0,S.c)(),_t=Ce.querySelector("ion-back-button");if(_t&&Ke.addElement(_t),Je.addAnimation([wt,Te,ot,Dt,Ke]),Te.fromTo(Y,.01,1),ot.fromTo(Y,.01,1),U)ht||wt.fromTo("transform",`translateX(${me})`,"translateX(0%)").fromTo(Y,.01,1),ot.fromTo("transform",`translateX(${me})`,"translateX(0%)"),Ke.fromTo(Y,.01,1);else if(ve||wt.fromTo("transform",`translateX(${we})`,"translateX(0%)").fromTo(Y,.01,1),ot.fromTo("transform",`translateX(${we})`,"translateX(0%)"),Dt.beforeClearStyles([Y,"transform"]),vt?.translucent?Dt.fromTo("transform",te?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Dt.fromTo(Y,.01,"var(--opacity)"),Re||Ke.fromTo(Y,.01,1),_t&&!Re){const En=(0,S.c)();En.addElement(D(_t).querySelector(".button-text")).fromTo("transform",te?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Je.addAnimation(En)}}),De){const Ce=(0,S.c)(),Je=De.querySelector(":scope > ion-content"),wt=De.querySelectorAll(":scope > ion-header > ion-toolbar"),Te=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Je||0!==wt.length||0!==Te.length?(Ce.addElement(Je),Ce.addElement(Te)):Ce.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(Ce),U){Ce.beforeClearStyles([Y]).fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)");const He=(0,k.g)(De);ne.afterAddWrite(()=>{"normal"===ne.getDirection()&&He.style.setProperty("display","none")})}else Ce.fromTo("transform","translateX(0%)",`translateX(${me})`).fromTo(Y,1,.8);if(Je){const He=D(Je).querySelector(".transition-effect");if(He){const vt=He.querySelector(".transition-cover"),ht=He.querySelector(".transition-shadow"),Ct=(0,S.c)(),ot=(0,S.c)(),Dt=(0,S.c)();Ct.addElement(He).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ot.addElement(vt).beforeClearStyles([Y]).fromTo(Y,.1,0),Dt.addElement(ht).beforeClearStyles([Y]).fromTo(Y,.7,.03),Ct.addAnimation([ot,Dt]),Ce.addAnimation([Ct])}}wt.forEach(He=>{const vt=(0,S.c)();vt.addElement(He);const ht=(0,S.c)();ht.addElement(He.querySelector("ion-title"));const Ct=(0,S.c)(),ot=He.querySelectorAll("ion-buttons,[menuToggle]"),Dt=He.closest("ion-header"),Ke=Dt?.classList.contains("header-collapse-condense-inactive"),_t=Array.from(ot).filter(Ze=>{const Ne=Ze.classList.contains("buttons-collapse");return Ne&&!Ke||!Ne});Ct.addElement(_t);const $t=(0,S.c)(),En=He.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");En.length>0&&$t.addElement(En);const Dn=(0,S.c)();Dn.addElement(D(He).querySelector(".toolbar-background"));const Wt=(0,S.c)(),Nt=He.querySelector("ion-back-button");if(Nt&&Wt.addElement(Nt),vt.addAnimation([ht,Ct,$t,Wt,Dn]),ne.addAnimation(vt),Wt.fromTo(Y,.99,0),Ct.fromTo(Y,.99,0),$t.fromTo(Y,.99,0),U){if(Ke||ht.fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)").fromTo(Y,.99,0),$t.fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)"),Dn.beforeClearStyles([Y,"transform"]),Dt?.translucent?Dn.fromTo("transform","translateX(0px)",te?"translateX(-100%)":"translateX(100%)"):Dn.fromTo(Y,"var(--opacity)",0),Nt&&!Fe){const Ne=(0,S.c)();Ne.addElement(D(Nt).querySelector(".button-text")).fromTo("transform","translateX(0%)",`translateX(${(te?-124:124)+"px"})`),vt.addAnimation(Ne)}}else Ke||ht.fromTo("transform","translateX(0%)",`translateX(${me})`).fromTo(Y,.99,0).afterClearStyles([ge,Y]),$t.fromTo("transform","translateX(0%)",`translateX(${me})`).afterClearStyles([ge,Y]),Wt.afterClearStyles([Y]),ht.afterClearStyles([Y]),Ct.afterClearStyles([Y])})}return ne}catch(Z){throw Z}},ie=10},9817:K=>{"use strict";K.exports=Object.getOwnPropertyDescriptor},9819:(K,Se,_)=>{"use strict";var S=_(6998),k=typeof globalThis>"u"?global:globalThis;K.exports=function(){for(var W=[],R=0;R<S.length;R++)"function"==typeof k[S[R]]&&(W[W.length]=S[R]);return W}},9831:K=>{"use strict";var Se=function(_){return _!=_};K.exports=function(S,k){return 0===S&&0===k?1/S==1/k:!!(S===k||Se(S)&&Se(k))}},9919:(K,Se,_)=>{"use strict";_.d(Se,{a:()=>L,b:()=>we,i:()=>me});var S=_(9335);const L=(de,De)=>("string"==typeof de&&(De=de,de=void 0),(de=>W(de))(de).includes(De)),W=(de=window)=>{if(typeof de>"u")return[];de.Ionic=de.Ionic||{};let De=de.Ionic.platforms;return null==De&&(De=de.Ionic.platforms=R(de),De.forEach(U=>de.document.documentElement.classList.add(`plt-${U}`))),De},R=de=>{const De=S.e.get("platform");return Object.keys(Ye).filter(U=>{const X=De?.[U];return"function"==typeof X?X(de):Ye[U](de)})},P=de=>!!(ge(de,/iPad/i)||ge(de,/Macintosh/i)&&T(de)),N=de=>ge(de,/android|sink/i),T=de=>Ie(de,"(any-pointer:coarse)"),ce=de=>be(de)||Q(de),be=de=>!!(de.cordova||de.phonegap||de.PhoneGap),Q=de=>{const De=de.Capacitor;return!!(De?.isNative||De?.isNativePlatform&&De.isNativePlatform())},ge=(de,De)=>De.test(de.navigator.userAgent),Ie=(de,De)=>{var U;return null===(U=de.matchMedia)||void 0===U?void 0:U.call(de,De).matches},Ye={ipad:P,iphone:de=>ge(de,/iPhone/i),ios:de=>ge(de,/iPhone|iPod/i)||P(de),android:N,phablet:de=>{const De=de.innerWidth,U=de.innerHeight,X=Math.min(De,U),Ve=Math.max(De,U);return X>390&&X<520&&Ve>620&&Ve<800},tablet:de=>{const De=de.innerWidth,U=de.innerHeight,X=Math.min(De,U),Ve=Math.max(De,U);return P(de)||(de=>N(de)&&!ge(de,/mobile/i))(de)||X>460&&X<820&&Ve>780&&Ve<1400},cordova:be,capacitor:Q,electron:de=>ge(de,/electron/i),pwa:de=>{var De;return!!(null!==(De=de.matchMedia)&&void 0!==De&&De.call(de,"(display-mode: standalone)").matches||de.navigator.standalone)},mobile:T,mobileweb:de=>T(de)&&!ce(de),desktop:de=>!T(de),hybrid:ce};let te;const we=de=>de&&(0,S.o)(de)||te,me=(de={})=>{if(typeof window>"u")return;const De=window.document,U=window,X=U.Ionic=U.Ionic||{},Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,S.l)(U)),{persistConfig:!1}),X.config),(0,S.m)(U)),de);S.e.reset(Ve),S.e.getBoolean("persistConfig")&&(0,S.n)(U,Ve),W(U),X.config=S.e,X.mode=te=S.e.get("mode",De.documentElement.getAttribute("mode")||(L(U,"ios")?"ios":"md")),S.e.set("mode",te),De.documentElement.setAttribute("mode",te),De.documentElement.classList.add(te),S.e.getBoolean("_testing")&&S.e.set("animated",!1);const G=ae=>{var ve;return null===(ve=ae.tagName)||void 0===ve?void 0:ve.startsWith("ION-")},ne=ae=>["ios","md"].includes(ae);(0,S.q)(ae=>{for(;ae;){const ve=ae.mode||ae.getAttribute("mode");if(ve){if(ne(ve))return ve;G(ae)&&(0,S.f)('Invalid ionic mode: "'+ve+'", expected: "ios" or "md"')}ae=ae.parentElement}return te})}}},K=>{K(K.s=1080)}]);
//# sourceMappingURL=main.594465afbf3b6cfb.js.map