(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{78:(K,Se,_)=>{"use strict";var S=_(8447);K.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var z="abcdefghijklmnopqrst",R=z.split(""),f={},P=0;P<R.length;++P)f[R[P]]=R[P];var D=Object.assign({},f),F="";for(var N in D)F+=N;return z!==F}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var z=Object.preventExtensions({1:2});try{Object.assign(z,"xy")}catch{return"y"===z[1]}return!1}()?S:Object.assign}},158:(K,Se,_)=>{"use strict";var S=_(8344),k=_(5712);if(_(1459)()||_(6497)()){var L=Symbol.iterator;K.exports=function(me){return null!=me&&typeof me[L]<"u"?me[L]():S(me)?Array.prototype[L].call(me):void 0}}else{var z=_(7638),R=_(6837),f=_(2521),P=f("%Map%",!0),D=f("%Set%",!0),F=_(3463),N=F("Array.prototype.push"),H=F("String.prototype.charCodeAt"),O=F("String.prototype.slice"),T=function(me){var de=0;return{next:function(){var X,U=de>=me.length;return U||(X=me[de],de+=1),{done:U,value:X}}}},ie=function(me,de){if(z(me)||S(me))return T(me);if(R(me)){var De=0;return{next:function(){var X=function(me,de){if(de+1>=me.length)return de+1;var U=H(me,de);if(U<55296||U>56319)return de+1;var X=H(me,de+1);return X<56320||X>57343?de+1:de+2}(me,De),Ve=O(me,De,X);return De=X,{done:X>me.length,value:Ve}}}}return de&&typeof me["_es6-shim iterator_"]<"u"?me["_es6-shim iterator_"]():void 0};if(P||D){var ce=_(5217),be=_(9116),Q=F("Map.prototype.forEach",!0),Z=F("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var Y=F("Map.prototype.iterator",!0),ge=F("Set.prototype.iterator",!0);var Ie=F("Map.prototype.@@iterator",!0)||F("Map.prototype._es6-shim iterator_",!0),Ye=F("Set.prototype.@@iterator",!0)||F("Set.prototype._es6-shim iterator_",!0);K.exports=function(me){return function(me){if(ce(me)){if(Y)return k(Y(me));if(Ie)return Ie(me);if(Q){var de=[];return Q(me,function(U,X){N(de,[X,U])}),T(de)}}if(be(me)){if(ge)return k(ge(me));if(Ye)return Ye(me);if(Z){var De=[];return Z(me,function(U){N(De,U)}),T(De)}}}(me)||ie(me)}}else K.exports=function(me){if(null!=me)return ie(me,!0)}}},159:K=>{"use strict";K.exports=Number.isNaN||function(_){return _!=_}},362:K=>{"use strict";var Se=typeof BigInt<"u"&&BigInt;K.exports=function(){return"function"==typeof Se&&"function"==typeof BigInt&&"bigint"==typeof Se(42)&&"bigint"==typeof BigInt(42)}},497:(K,Se,_)=>{"use strict";var S=_(159);K.exports=function(L){return S(L)||0===L?L:L<0?-1:1}},545:(K,Se,_)=>{"use strict";var S=_(592),k=_(6283),L=_(9831),z=_(9110),R=_(5796),f=k(z(),Object);S(f,{getPolyfill:z,implementation:L,shim:R}),K.exports=f},566:(K,Se,_)=>{"use strict";_.d(Se,{B:()=>z,G:()=>R});class k{constructor(P,D,F,N,H){this.id=D,this.name=F,this.disableScroll=H,this.priority=1e6*N+D,this.ctrl=P}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const P=this.ctrl.capture(this.name,this.id,this.priority);return P&&this.disableScroll&&this.ctrl.disableScroll(this.id),P}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(P,D,F,N){this.id=D,this.disable=F,this.disableScroll=N,this.ctrl=P}block(){if(this.ctrl){if(this.disable)for(const P of this.disable)this.ctrl.disableGesture(P,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const P of this.disable)this.ctrl.enableGesture(P,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const z="backdrop-no-scroll",R=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(P){var D;return new k(this,this.newID(),P.name,null!==(D=P.priority)&&void 0!==D?D:0,!!P.disableScroll)}createBlocker(P={}){return new L(this,this.newID(),P.disable,!!P.disableScroll)}start(P,D,F){return this.canStart(P)?(this.requestedStart.set(D,F),!0):(this.requestedStart.delete(D),!1)}capture(P,D,F){if(!this.start(P,D,F))return!1;const N=this.requestedStart;let H=-1e4;if(N.forEach(O=>{H=Math.max(H,O)}),H===F){this.capturedId=D,N.clear();const O=new CustomEvent("ionGestureCaptured",{detail:{gestureName:P}});return document.dispatchEvent(O),!0}return N.delete(D),!1}release(P){this.requestedStart.delete(P),this.capturedId===P&&(this.capturedId=void 0)}disableGesture(P,D){let F=this.disabledGestures.get(P);void 0===F&&(F=new Set,this.disabledGestures.set(P,F)),F.add(D)}enableGesture(P,D){const F=this.disabledGestures.get(P);void 0!==F&&F.delete(D)}disableScroll(P){this.disabledScroll.add(P),1===this.disabledScroll.size&&document.body.classList.add(z)}enableScroll(P){this.disabledScroll.delete(P),0===this.disabledScroll.size&&document.body.classList.remove(z)}canStart(P){return!(void 0!==this.capturedId||this.isDisabled(P))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(P){const D=this.disabledGestures.get(P);return!!(D&&D.size>0)}newID(){return this.gestureId++,this.gestureId}}},575:(K,Se,_)=>{"use strict";_.d(Se,{d:()=>k,w:()=>S});const S=typeof window<"u"?window:void 0,k=typeof document<"u"?document:void 0},592:(K,Se,_)=>{"use strict";var S=_(9209),k="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),L=Object.prototype.toString,z=Array.prototype.concat,R=_(1197),P=_(6652)(),D=function(N,H,O,I){if(H in N)if(!0===I){if(N[H]===O)return}else if(!function(N){return"function"==typeof N&&"[object Function]"===L.call(N)}(I)||!I())return;P?R(N,H,O,!0):R(N,H,O)},F=function(N,H){var O=arguments.length>2?arguments[2]:{},I=S(H);k&&(I=z.call(I,Object.getOwnPropertySymbols(H)));for(var T=0;T<I.length;T+=1)D(N,I[T],H[I[T]],O[I[T]])};F.supportsDescriptors=!!P,K.exports=F},603:(K,Se,_)=>{"use strict";var S=_(2521),k=_(840),L=_(3687),z=_(2375),R=_(8519),f=S("%WeakMap%",!0),P=k("WeakMap.prototype.get",!0),D=k("WeakMap.prototype.set",!0),F=k("WeakMap.prototype.has",!0),N=k("WeakMap.prototype.delete",!0);K.exports=f?function(){var O,I,T={assert:function(ie){if(!T.has(ie))throw new R("Side channel does not contain "+L(ie))},delete:function(ie){if(f&&ie&&("object"==typeof ie||"function"==typeof ie)){if(O)return N(O,ie)}else if(z&&I)return I.delete(ie);return!1},get:function(ie){return f&&ie&&("object"==typeof ie||"function"==typeof ie)&&O?P(O,ie):I&&I.get(ie)},has:function(ie){return f&&ie&&("object"==typeof ie||"function"==typeof ie)&&O?F(O,ie):!!I&&I.has(ie)},set:function(ie,ce){f&&ie&&("object"==typeof ie||"function"==typeof ie)?(O||(O=new f),D(O,ie,ce)):z&&(I||(I=z()),I.set(ie,ce))}};return T}:z},814:K=>{"use strict";K.exports=Function.prototype.apply},840:(K,Se,_)=>{"use strict";var S=_(2521),k=_(2282),L=k([S("%String.prototype.indexOf%")]);K.exports=function(R,f){var P=S(R,!!f);return"function"==typeof P&&L(R,".prototype.")>-1?k([P]):P}},863:(K,Se,_)=>{"use strict";var S=_(3687),k=_(8519),L=function(D,F,N){for(var O,H=D;null!=(O=H.next);H=O)if(O.key===F)return H.next=O.next,N||(O.next=D.next,D.next=O),O};K.exports=function(){var F,N={assert:function(H){if(!N.has(H))throw new k("Side channel does not contain "+S(H))},delete:function(H){var O=F&&F.next,I=function(D,F){if(D)return L(D,F,!0)}(F,H);return I&&O&&O===I&&(F=void 0),!!I},get:function(H){return function(D,F){if(D){var N=L(D,F);return N&&N.value}}(F,H)},has:function(H){return function(D,F){return!!D&&!!L(D,F)}(F,H)},set:function(H,O){F||(F={next:void 0}),function(D,F,N){var H=L(D,F);H?H.value=N:D.next={key:F,next:D.next,value:N}}(F,H,O)}};return N}},1051:function(K,Se){var _,k;void 0!==(k="function"==typeof(_=function(){"use strict";var L=Object.prototype.hasOwnProperty,z=Object.prototype.toString,R="boolean"==typeof(new RegExp).sticky;function f(U){return U&&"[object RegExp]"===z.call(U)}function P(U){return U&&"object"==typeof U&&!f(U)&&!Array.isArray(U)}function F(U){return new RegExp("|"+U).exec("").length-1}function N(U){return"("+U+")"}function H(U){return U.length?"(?:"+U.map(function(Ve){return"(?:"+Ve+")"}).join("|")+")":"(?!)"}function O(U){if("string"==typeof U)return"(?:"+function D(U){return U.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(U)+")";if(f(U)){if(U.ignoreCase)throw new Error("RegExp /i flag not allowed");if(U.global)throw new Error("RegExp /g flag is implied");if(U.sticky)throw new Error("RegExp /y flag is implied");if(U.multiline)throw new Error("RegExp /m flag is implied");return U.source}throw new Error("Not a pattern: "+U)}function I(U,X){return U.length>X?U:Array(X-U.length+1).join(" ")+U}function be(U,X){if(P(X)||(X={match:X}),X.include)throw new Error("Matching rules cannot also include states");var Ve={defaultType:U,lineBreaks:!!X.error||!!X.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var G in X)L.call(X,G)&&(Ve[G]=X[G]);if("string"==typeof Ve.type&&U!==Ve.type)throw new Error("Type transform cannot be a string (type '"+Ve.type+"' for token '"+U+"')");var ne=Ve.match;return Ve.match=Array.isArray(ne)?ne:ne?[ne]:[],Ve.match.sort(function(ae,ve){return f(ae)&&f(ve)?0:f(ve)?-1:f(ae)?1:ve.length-ae.length}),Ve}function Q(U){return Array.isArray(U)?function ce(U){for(var X=[],Ve=0;Ve<U.length;Ve++){var G=U[Ve];if(G.include)for(var ne=[].concat(G.include),ae=0;ae<ne.length;ae++)X.push({include:ne[ae]});else{if(!G.type)throw new Error("Rule has no type: "+JSON.stringify(G));X.push(be(G.type,G))}}return X}(U):function ie(U){for(var X=Object.getOwnPropertyNames(U),Ve=[],G=0;G<X.length;G++){var ne=X[G],ve=[].concat(U[ne]);if("include"!==ne){var Fe=[];ve.forEach(function(Ce){P(Ce)?(Fe.length&&Ve.push(be(ne,Fe)),Ve.push(be(ne,Ce)),Fe=[]):Fe.push(Ce)}),Fe.length&&Ve.push(be(ne,Fe))}else for(var Re=0;Re<ve.length;Re++)Ve.push({include:ve[Re]})}return Ve}(U)}var Z=be("error",{lineBreaks:!0,shouldThrow:!0});function Y(U,X){for(var Ve=null,G=Object.create(null),ne=!0,ae=null,ve=[],Re=[],Fe=0;Fe<U.length;Fe++)U[Fe].fallback&&(ne=!1);for(Fe=0;Fe<U.length;Fe++){var Ce=U[Fe];if(Ce.include)throw new Error("Inheritance is not allowed in stateless lexers");if(Ce.error||Ce.fallback){if(Ve)throw!Ce.fallback==!Ve.fallback?new Error("Multiple "+(Ce.fallback?"fallback":"error")+" rules not allowed (for token '"+Ce.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+Ce.defaultType+"')");Ve=Ce}var Je=Ce.match.slice();if(ne)for(;Je.length&&"string"==typeof Je[0]&&1===Je[0].length;)G[Je.shift().charCodeAt(0)]=Ce;if(Ce.pop||Ce.push||Ce.next){if(!X)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+Ce.defaultType+"')");if(Ce.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+Ce.defaultType+"')")}if(0!==Je.length){ne=!1,ve.push(Ce);for(var Te=0;Te<Je.length;Te++){var He=Je[Te];if(f(He))if(null===ae)ae=He.unicode;else if(ae!==He.unicode&&!1===Ce.fallback)throw new Error("If one rule is /u then all must be")}var vt=H(Je.map(O)),ft=new RegExp(vt);if(ft.test(""))throw new Error("RegExp matches empty string: "+ft);if(F(vt)>0)throw new Error("RegExp has capture groups: "+ft+"\nUse (?: \u2026 ) instead");if(!Ce.lineBreaks&&ft.test("\n"))throw new Error("Rule should declare lineBreaks: "+ft);Re.push(N(vt))}}var ot=Ve&&Ve.fallback,Dt=R&&!ot?"ym":"gm",Ke=R||ot?"":"|";return!0===ae&&(Dt+="u"),{regexp:new RegExp(H(Re)+Ke,Dt),groups:ve,fast:G,error:Ve||Z}}function Ie(U,X,Ve){var G=U&&(U.push||U.next);if(G&&!Ve[G])throw new Error("Missing state '"+G+"' (in token '"+U.defaultType+"' of state '"+X+"')");if(U&&U.pop&&1!=+U.pop)throw new Error("pop must be 1 (in token '"+U.defaultType+"' of state '"+X+"')")}var we=function(U,X){this.startState=X,this.states=U,this.buffer="",this.stack=[],this.reset()};we.prototype.reset=function(U,X){return this.buffer=U||"",this.index=0,this.line=X?X.line:1,this.col=X?X.col:1,this.queuedToken=X?X.queuedToken:null,this.queuedText=X?X.queuedText:"",this.queuedThrow=X?X.queuedThrow:null,this.setState(X?X.state:this.startState),this.stack=X&&X.stack?X.stack.slice():[],this},we.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},we.prototype.setState=function(U){if(U&&this.state!==U){this.state=U;var X=this.states[U];this.groups=X.groups,this.error=X.error,this.re=X.regexp,this.fast=X.fast}},we.prototype.popState=function(){this.setState(this.stack.pop())},we.prototype.pushState=function(U){this.stack.push(this.state),this.setState(U)};var me=R?function(U,X){return U.exec(X)}:function(U,X){var Ve=U.exec(X);return 0===Ve[0].length?null:Ve};function de(){return this.value}if(we.prototype._getGroup=function(U){for(var X=this.groups.length,Ve=0;Ve<X;Ve++)if(void 0!==U[Ve+1])return this.groups[Ve];throw new Error("Cannot find token type for matched text")},we.prototype.next=function(){var U=this.index;if(this.queuedGroup){var X=this._token(this.queuedGroup,this.queuedText,U);return this.queuedGroup=null,this.queuedText="",X}var Ve=this.buffer;if(U!==Ve.length){if(ve=this.fast[Ve.charCodeAt(U)])return this._token(ve,Ve.charAt(U),U);var G=this.re;G.lastIndex=U;var ne=me(G,Ve),ae=this.error;if(null==ne)return this._token(ae,Ve.slice(U,Ve.length),U);var ve=this._getGroup(ne),Re=ne[0];return ae.fallback&&ne.index!==U?(this.queuedGroup=ve,this.queuedText=Re,this._token(ae,Ve.slice(U,ne.index),U)):this._token(ve,Re,U)}},we.prototype._token=function(U,X,Ve){var G=0;if(U.lineBreaks){var ne=/\n/g,ae=1;if("\n"===X)G=1;else for(;ne.exec(X);)G++,ae=ne.lastIndex}var ve={type:"function"==typeof U.type&&U.type(X)||U.defaultType,value:"function"==typeof U.value?U.value(X):X,text:X,toString:de,offset:Ve,lineBreaks:G,line:this.line,col:this.col},Re=X.length;if(this.index+=Re,this.line+=G,0!==G?this.col=Re-ae+1:this.col+=Re,U.shouldThrow)throw new Error(this.formatError(ve,"invalid syntax"));return U.pop?this.popState():U.push?this.pushState(U.push):U.next&&this.setState(U.next),ve},typeof Symbol<"u"&&Symbol.iterator){var De=function(U){this.lexer=U};De.prototype.next=function(){var U=this.lexer.next();return{value:U,done:!U}},De.prototype[Symbol.iterator]=function(){return this},we.prototype[Symbol.iterator]=function(){return new De(this)}}return we.prototype.formatError=function(U,X){if(null==U){var Ve=this.buffer.slice(this.index);U={text:Ve,offset:this.index,lineBreaks:-1===Ve.indexOf("\n")?0:1,line:this.line,col:this.col}}var ne=Math.max(U.line-2,1),ve=String(U.line+2).length,Re=function T(U,X){for(var Ve=U.length,G=0;;){var ne=U.lastIndexOf("\n",Ve-1);if(-1===ne||(Ve=ne,++G===X)||0===Ve)break}return U.substring(G<X?0:Ve+1).split("\n")}(this.buffer,this.line-U.line+2+1).slice(0,5),Fe=[];Fe.push(X+" at line "+U.line+" col "+U.col+":"),Fe.push("");for(var Ce=0;Ce<Re.length;Ce++){var Je=Re[Ce],wt=ne+Ce;Fe.push(I(String(wt),ve)+"  "+Je),wt===U.line&&Fe.push(I("",ve+U.col+1)+"^")}return Fe.join("\n")},we.prototype.clone=function(){return new we(this.states,this.state)},we.prototype.has=function(U){return!0},{compile:function ge(U){var X=Y(Q(U));return new we({start:X},"start")},states:function Ye(U,X){var Ve=U.$all?Q(U.$all):[];delete U.$all;var G=Object.getOwnPropertyNames(U);X||(X=G[0]);for(var ne=Object.create(null),ae=0;ae<G.length;ae++)ne[ve=G[ae]]=Q(U[ve]).concat(Ve);for(ae=0;ae<G.length;ae++)for(var Re=ne[ve=G[ae]],Fe=Object.create(null),Ce=0;Ce<Re.length;Ce++){var Je=Re[Ce];if(Je.include){var wt=[Ce,1];if(Je.include!==ve&&!Fe[Je.include]){Fe[Je.include]=!0;var Te=ne[Je.include];if(!Te)throw new Error("Cannot include nonexistent state '"+Je.include+"' (in state '"+ve+"')");for(var He=0;He<Te.length;He++){var vt=Te[He];-1===Re.indexOf(vt)&&wt.push(vt)}}Re.splice.apply(Re,wt),Ce--}}var ft=Object.create(null);for(ae=0;ae<G.length;ae++){var ve;ft[ve=G[ae]]=Y(ne[ve],!0)}for(ae=0;ae<G.length;ae++){var Ct=G[ae],ot=ft[Ct],Dt=ot.groups;for(Ce=0;Ce<Dt.length;Ce++)Ie(Dt[Ce],Ct,ft);var Ke=Object.getOwnPropertyNames(ot.fast);for(Ce=0;Ce<Ke.length;Ce++)Ie(ot.fast[Ke[Ce]],Ct,ft)}return new we(ft,X)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function te(U){for(var X=typeof Map<"u",Ve=X?new Map:Object.create(null),G=Object.getOwnPropertyNames(U),ne=0;ne<G.length;ne++){var ae=G[ne],ve=U[ae];(Array.isArray(ve)?ve:[ve]).forEach(function(Fe){if("string"!=typeof Fe)throw new Error("keyword must be string (in keyword '"+ae+"')");X?Ve.set(Fe,ae):Ve[Fe]=ae})}return function(Fe){return X?Ve.get(Fe):Ve[Fe]}}}})?_.apply(Se,[]):_)&&(K.exports=k)},1123:K=>{"use strict";K.exports=Error},1143:(K,Se,_)=>{"use strict";var S=_(6330),k=_(8519),L=Object;K.exports=S(function(){if(null==this||this!==L(this))throw new k("RegExp.prototype.flags getter called on non-object");var R="";return this.hasIndices&&(R+="d"),this.global&&(R+="g"),this.ignoreCase&&(R+="i"),this.multiline&&(R+="m"),this.dotAll&&(R+="s"),this.unicode&&(R+="u"),this.unicodeSets&&(R+="v"),this.sticky&&(R+="y"),R},"get flags",!0)},1197:(K,Se,_)=>{"use strict";var S=_(1963),k=_(4880),L=_(8519),z=_(9263);K.exports=function(f,P,D){if(!f||"object"!=typeof f&&"function"!=typeof f)throw new L("`obj` must be an object or a function`");if("string"!=typeof P&&"symbol"!=typeof P)throw new L("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new L("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new L("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new L("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new L("`loose`, if provided, must be a boolean");var F=arguments.length>3?arguments[3]:null,N=arguments.length>4?arguments[4]:null,H=arguments.length>5?arguments[5]:null,O=arguments.length>6&&arguments[6],I=!!z&&z(f,P);if(S)S(f,P,{configurable:null===H&&I?I.configurable:!H,enumerable:null===F&&I?I.enumerable:!F,value:D,writable:null===N&&I?I.writable:!N});else{if(!O&&(F||N||H))throw new k("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");f[P]=D}}},1393:(K,Se,_)=>{"use strict";_.r(Se),_.d(Se,{mdTransitionAnimation:()=>f});var S=_(7133),k=_(6780);_(9335),_(575),_(6721);const f=(P,D)=>{var F,N,H;const O="40px",T="back"===D.direction,ce=D.leavingEl,be=(0,k.g)(D.enteringEl),Q=be.querySelector("ion-toolbar"),Z=(0,S.c)();if(Z.addElement(be).fill("both").beforeRemoveClass("ion-page-invisible"),T?Z.duration((null!==(F=D.duration)&&void 0!==F?F:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(N=D.duration)&&void 0!==N?N:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${O})`,"translateY(0px)").fromTo("opacity",.01,1),Q){const Y=(0,S.c)();Y.addElement(Q),Z.addAnimation(Y)}if(ce&&T){Z.duration((null!==(H=D.duration)&&void 0!==H?H:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,S.c)();Y.addElement((0,k.g)(ce)).onFinish(ge=>{1===ge&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${O})`).fromTo("opacity",1,0),Z.addAnimation(Y)}return Z}},1459:(K,Se,_)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,k=_(6497);K.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&k()}},1516:K=>{"use strict";K.exports=Math.pow},1568:(K,Se,_)=>{"use strict";var S=_(3996),k=_(9364),L=_(8580);K.exports=S?function(R){return S(R)}:k?function(R){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new TypeError("getProto: not an object");return k(R)}:L?function(R){return L(R)}:null},1890:(K,Se,_)=>{"use strict";function S(L,z,R,f,P,D,F){try{var N=L[D](F),H=N.value}catch(O){return void R(O)}N.done?z(H):Promise.resolve(H).then(f,P)}function k(L){return function(){var z=this,R=arguments;return new Promise(function(f,P){var D=L.apply(z,R);function F(H){S(D,f,P,F,N,"next",H)}function N(H){S(D,f,P,F,N,"throw",H)}F(void 0)})}}_.d(Se,{A:()=>k})},1963:K=>{"use strict";var Se=Object.defineProperty||!1;if(Se)try{Se({},"a",{value:1})}catch{Se=!1}K.exports=Se},2090:(K,Se,_)=>{"use strict";var k=_(840)("SharedArrayBuffer.prototype.byteLength",!0);K.exports=k?function(z){if(!z||"object"!=typeof z)return!1;try{return k(z),!0}catch{return!1}}:function(z){return!1}},2136:K=>{"use strict";K.exports=Math.max},2179:(K,Se,_)=>{"use strict";var S=_(3889),k=_(5492)(),L=_(8519),z={assert:function(R,f){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");if(k.assert(R),!z.has(R,f))throw new L("`"+f+"` is not present on `O`")},get:function(R,f){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var P=k.get(R);return P&&P["$"+f]},has:function(R,f){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var P=k.get(R);return!!P&&S(P,"$"+f)},set:function(R,f,P){if(!R||"object"!=typeof R&&"function"!=typeof R)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var D=k.get(R);D||k.set(R,D={}),D["$"+f]=P}};Object.freeze&&Object.freeze(z),K.exports=z},2219:(K,Se,_)=>{"use strict";var k=_(840)("ArrayBuffer.prototype.byteLength",!0),L=_(3066);K.exports=function(R){return L(R)?k?k(R):R.byteLength:NaN}},2282:(K,Se,_)=>{"use strict";var S=_(7707),k=_(8519),L=_(7648),z=_(5124);K.exports=function(f){if(f.length<1||"function"!=typeof f[0])throw new k("a function is required");return z(S,L,f)}},2375:(K,Se,_)=>{"use strict";var S=_(2521),k=_(840),L=_(3687),z=_(8519),R=S("%Map%",!0),f=k("Map.prototype.get",!0),P=k("Map.prototype.set",!0),D=k("Map.prototype.has",!0),F=k("Map.prototype.delete",!0),N=k("Map.prototype.size",!0);K.exports=!!R&&function(){var O,I={assert:function(T){if(!I.has(T))throw new z("Side channel does not contain "+L(T))},delete:function(T){if(O){var ie=F(O,T);return 0===N(O)&&(O=void 0),ie}return!1},get:function(T){if(O)return f(O,T)},has:function(T){return!!O&&D(O,T)},set:function(T,ie){O||(O=new R),P(O,T,ie)}};return I}},2490:K=>{function Se(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}K.exports=function(S){return null!=S&&(Se(S)||function _(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&Se(S.slice(0,0))}(S)||!!S._isBuffer)}},2521:(K,Se,_)=>{"use strict";var S,k=_(7888),L=_(1123),z=_(2905),R=_(7718),f=_(3286),P=_(4880),D=_(8519),F=_(2781),N=_(7598),H=_(3116),O=_(2136),I=_(3462),T=_(1516),ie=_(5714),ce=_(497),be=Function,Q=function(ot){try{return be('"use strict"; return ('+ot+").constructor;")()}catch{}},Z=_(9263),Y=_(1963),ge=function(){throw new D},Ie=Z?function(){try{return ge}catch{try{return Z(arguments,"callee").get}catch{return ge}}}():ge,Ye=_(1459)(),te=_(1568),we=_(9364),me=_(3996),de=_(814),De=_(7648),U={},X=typeof Uint8Array>"u"||!te?S:te(Uint8Array),Ve={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":Ye&&te?te([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":L,"%eval%":eval,"%EvalError%":z,"%Float16Array%":typeof Float16Array>"u"?S:Float16Array,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":be,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ye&&te?te(te([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ye||!te?S:te((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":k,"%Object.getOwnPropertyDescriptor%":Z,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":R,"%ReferenceError%":f,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ye||!te?S:te((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ye&&te?te(""[Symbol.iterator]()):S,"%Symbol%":Ye?Symbol:S,"%SyntaxError%":P,"%ThrowTypeError%":Ie,"%TypedArray%":X,"%TypeError%":D,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":F,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet,"%Function.prototype.call%":De,"%Function.prototype.apply%":de,"%Object.defineProperty%":Y,"%Object.getPrototypeOf%":we,"%Math.abs%":N,"%Math.floor%":H,"%Math.max%":O,"%Math.min%":I,"%Math.pow%":T,"%Math.round%":ie,"%Math.sign%":ce,"%Reflect.getPrototypeOf%":me};if(te)try{null.error}catch(ot){var G=te(te(ot));Ve["%Error.prototype%"]=G}var ne=function ot(Dt){var Ke;if("%AsyncFunction%"===Dt)Ke=Q("async function () {}");else if("%GeneratorFunction%"===Dt)Ke=Q("function* () {}");else if("%AsyncGeneratorFunction%"===Dt)Ke=Q("async function* () {}");else if("%AsyncGenerator%"===Dt){var _t=ot("%AsyncGeneratorFunction%");_t&&(Ke=_t.prototype)}else if("%AsyncIteratorPrototype%"===Dt){var $t=ot("%AsyncGenerator%");$t&&te&&(Ke=te($t.prototype))}return Ve[Dt]=Ke,Ke},ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ve=_(7707),Re=_(3889),Fe=ve.call(De,Array.prototype.concat),Ce=ve.call(de,Array.prototype.splice),Je=ve.call(De,String.prototype.replace),wt=ve.call(De,String.prototype.slice),Te=ve.call(De,RegExp.prototype.exec),He=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,vt=/\\(\\)?/g,Ct=function(Dt,Ke){var $t,_t=Dt;if(Re(ae,_t)&&(_t="%"+($t=ae[_t])[0]+"%"),Re(Ve,_t)){var wn=Ve[_t];if(wn===U&&(wn=ne(_t)),typeof wn>"u"&&!Ke)throw new D("intrinsic "+Dt+" exists, but is not available. Please file an issue!");return{alias:$t,name:_t,value:wn}}throw new P("intrinsic "+Dt+" does not exist!")};K.exports=function(Dt,Ke){if("string"!=typeof Dt||0===Dt.length)throw new D("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ke)throw new D('"allowMissing" argument must be a boolean');if(null===Te(/^%?[^%]*%?$/,Dt))throw new P("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var _t=function(Dt){var Ke=wt(Dt,0,1),_t=wt(Dt,-1);if("%"===Ke&&"%"!==_t)throw new P("invalid intrinsic syntax, expected closing `%`");if("%"===_t&&"%"!==Ke)throw new P("invalid intrinsic syntax, expected opening `%`");var $t=[];return Je(Dt,He,function(wn,En,Wt,Nt){$t[$t.length]=Wt?Je(Nt,vt,"$1"):En||wn}),$t}(Dt),$t=_t.length>0?_t[0]:"",wn=Ct("%"+$t+"%",Ke),En=wn.name,Wt=wn.value,Nt=!1,Ze=wn.alias;Ze&&($t=Ze[0],Ce(_t,Fe([0,1],Ze)));for(var Ne=1,ze=!0;Ne<_t.length;Ne+=1){var ct=_t[Ne],Xt=wt(ct,0,1),pn=wt(ct,-1);if(('"'===Xt||"'"===Xt||"`"===Xt||'"'===pn||"'"===pn||"`"===pn)&&Xt!==pn)throw new P("property names with quotes must have matching quotes");if(("constructor"===ct||!ze)&&(Nt=!0),Re(Ve,En="%"+($t+="."+ct)+"%"))Wt=Ve[En];else if(null!=Wt){if(!(ct in Wt)){if(!Ke)throw new D("base intrinsic for "+Dt+" exists, but the property is not available.");return}if(Z&&Ne+1>=_t.length){var xn=Z(Wt,ct);Wt=(ze=!!xn)&&"get"in xn&&!("originalValue"in xn.get)?xn.get:Wt[ct]}else ze=Re(Wt,ct),Wt=Wt[ct];ze&&!Nt&&(Ve[En]=Wt)}}return Wt}},2634:()=>{},2781:K=>{"use strict";K.exports=URIError},2905:K=>{"use strict";K.exports=EvalError},2922:(K,Se,_)=>{var L,S=_(5e3).default,k=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(z={}){var f=z,P="object"==typeof window,D=typeof WorkerGlobalScope<"u",H=("object"==typeof process&&process.versions?.node&&process,"./this.program"),O=(g,B)=>{throw B};D&&(L=self.location.href);var ie,ce,I="";if(P||D){try{I=new URL(".",L).href}catch{}D&&(ce=g=>{var B=new XMLHttpRequest;return B.open("GET",g,!1),B.responseType="arraybuffer",B.send(null),new Uint8Array(B.response)}),ie=function(){var g=S(function*(B){var _e=yield fetch(B,{credentials:"same-origin"});if(_e.ok)return _e.arrayBuffer();throw new Error(_e.status+" : "+_e.url)});return function(_e){return g.apply(this,arguments)}}()}var Z,ge,be=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Ie(g,B){g||Ke(B)}function te(){if(!Y){var g=ur();0==g&&(g+=4);var B=ne[g>>2],_e=ne[g+4>>2];(34821223!=B||2310721022!=_e)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${Wr(g)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Wr(_e)} ${Wr(B)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var we,me,de,De,U,G,ne,Re,Ce=!1;function Je(){var g=de.buffer;De=new Int8Array(g),new Int16Array(g),f.HEAPU8=U=new Uint8Array(g),new Uint16Array(g),G=new Int32Array(g),f.HEAPU32=ne=new Uint32Array(g),new Float32Array(g),new Float64Array(g),Re=new BigInt64Array(g),new BigUint64Array(g)}var _t,ft=0,Ct=null;function Ke(g){f.onAbort?.(g),Q(g="Aborted("+g+")"),Y=!0,g+=". Build with -sASSERTIONS for more info.";var B=new WebAssembly.RuntimeError(g);throw me?.(B),B}function Wt(){return(Wt=S(function*(g){if(!Z)try{var B=yield ie(g);return new Uint8Array(B)}catch{}return function wn(g){if(g==_t&&Z)return new Uint8Array(Z);if(ce)return ce(g);throw"both async and sync fetching of the wasm failed"}(g)})).apply(this,arguments)}function Ze(){return Ze=S(function*(g,B){try{var _e=yield function En(g){return Wt.apply(this,arguments)}(g);return yield WebAssembly.instantiate(_e,B)}catch(zt){Q(`failed to asynchronously prepare wasm: ${zt}`),Ke(zt)}}),Ze.apply(this,arguments)}function ze(){return ze=S(function*(g,B,_e){if(!g&&"function"==typeof WebAssembly.instantiateStreaming)try{var it=fetch(B,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(it,_e)}catch(Tn){Q(`wasm streaming compile failed: ${Tn}`),Q("falling back to ArrayBuffer instantiation")}return function Nt(g,B){return Ze.apply(this,arguments)}(B,_e)}),ze.apply(this,arguments)}function pn(){return pn=S(function*(){function g(Tn,Wn){return de=(St=Tn.exports).s,Je(),vs=St.Sa,function $n(g){f._main=ga=g.u,f._webidl_free=g.v,f._webidl_malloc=g.w,f._emscripten_bind_VoidPtr___destroy___0=Fi=g.x,f._emscripten_bind_FileEntry_GetName_0=_s=g.y,f._emscripten_bind_FileEntry_IsDirectory_0=Ws=g.z,f._emscripten_bind_FileEntry_GetSize_0=tt=g.A,f._emscripten_bind_FileEntry_GetModifiedTS_0=qs=g.B,f._emscripten_bind_FileEntry_GetAttributes_0=Ki=g.C,f._emscripten_bind_FileEntry___destroy___0=Li=g.D,f._emscripten_bind_Vfs_Vfs_0=ei=g.E,f._emscripten_bind_Vfs_Malloc_1=ma=g.F,f._emscripten_bind_Vfs_Free_1=bs=g.G,f._emscripten_bind_Vfs_Nullptr_0=Zs=g.H,f._emscripten_bind_Vfs_AllocateImage_1=ti=g.I,f._emscripten_bind_Vfs_MountImage_1=Cs=g.J,f._emscripten_bind_Vfs_UnmountImage_1=Ci=g.K,f._emscripten_bind_Vfs_SwitchSlot_1=Ss=g.L,f._emscripten_bind_Vfs_GetPendingImageSize_0=ws=g.M,f._emscripten_bind_Vfs_GetSize_1=Yi=g.N,f._emscripten_bind_Vfs_GetPendingImage_0=ho=g.O,f._emscripten_bind_Vfs_GetImage_1=Si=g.P,f._emscripten_bind_Vfs_GetDirtyPages_1=Xi=g.Q,f._emscripten_bind_Vfs_RenameFile_2=Qi=g.R,f._emscripten_bind_Vfs_ChmodFile_3=Ks=g.S,f._emscripten_bind_Vfs_StatFile_1=Es=g.T,f._emscripten_bind_Vfs_UnlinkFile_1=fi=g.U,f._emscripten_bind_Vfs_Mkdir_1=ni=g.V,f._emscripten_bind_Vfs_GetEntry_0=wi=g.W,f._emscripten_bind_Vfs_BytesFree_1=Gt=g.X,f._emscripten_bind_Vfs_BytesTotal_1=un=g.Y,f._emscripten_bind_Vfs_ReadFile_1=va=g.Z,f._emscripten_bind_Vfs_GetCurrentFileSize_0=Ys=g._,f._emscripten_bind_Vfs_GetCurrentFileContent_0=Do=g.$,f._emscripten_bind_Vfs_ReleaseCurrentFile_0=Ds=g.aa,f._emscripten_bind_Vfs_WriteFile_3=$i=g.ba,f._emscripten_bind_Vfs___destroy___0=Ji=g.ca,f._emscripten_bind_ReaddirContext_ReaddirContext_1=Is=g.da,f._emscripten_bind_ReaddirContext_Next_0=Ga=g.ea,f._emscripten_bind_ReaddirContext_GetEntry_0=Xs=g.fa,f._emscripten_bind_ReaddirContext_GetStatus_0=Ts=g.ga,f._emscripten_bind_ReaddirContext_GetError_0=ya=g.ha,f._emscripten_bind_ReaddirContext_GetErrorDescription_0=Qs=g.ia,f._emscripten_bind_ReaddirContext___destroy___0=Js=g.ja,f._emscripten_bind_ExportZipContext_ExportZipContext_2=_a=g.ka,f._emscripten_bind_ExportZipContext_AddFile_1=ea=g.la,f._emscripten_bind_ExportZipContext_AddDirectory_1=Io=g.ma,f._emscripten_bind_ExportZipContext_Continue_0=ta=g.na,f._emscripten_bind_ExportZipContext_GetState_0=so=g.oa,f._emscripten_bind_ExportZipContext_GetZipContent_0=es=g.pa,f._emscripten_bind_ExportZipContext_GetZipSize_0=ba=g.qa,f._emscripten_bind_ExportZipContext_GetErrorItem_0=za=g.ra,f._emscripten_bind_ExportZipContext___destroy___0=jo=g.sa,f._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=As=g.ta,f._emscripten_bind_DeleteRecursiveContext_AddFile_1=Ca=g.ua,f._emscripten_bind_DeleteRecursiveContext_Continue_0=na=g.va,f._emscripten_bind_DeleteRecursiveContext_GetState_0=se=g.wa,f._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=ra=g.xa,f._emscripten_bind_DeleteRecursiveContext___destroy___0=Le=g.ya,f._emscripten_bind_UnzipContext_UnzipContext_4=pi=g.za,f._emscripten_bind_UnzipContext_GetState_0=Sa=g.Aa,f._emscripten_bind_UnzipContext_Continue_0=Ms=g.Ba,f._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=Bi=g.Ca,f._emscripten_bind_UnzipContext_GetCurrentEntry_0=fl=g.Da,f._emscripten_bind_UnzipContext_GetCollisionPath_0=h=g.Ea,f._emscripten_bind_UnzipContext_GetEntriesTotal_0=v=g.Fa,f._emscripten_bind_UnzipContext_GetEntriesSuccess_0=w=g.Ga,f._emscripten_bind_UnzipContext___destroy___0=A=g.Ha,f._emscripten_bind_PasteContext_PasteContext_3=ee=g.Ia,f._emscripten_bind_PasteContext_AddFile_1=J=g.Ja,f._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=Ue=g.Ka,f._emscripten_bind_PasteContext_GetState_0=pe=g.La,f._emscripten_bind_PasteContext_Continue_0=qe=g.Ma,f._emscripten_bind_PasteContext_ContinueWithOverwrite_0=ye=g.Na,f._emscripten_bind_PasteContext_GetCurrentEntry_0=je=g.Oa,f._emscripten_bind_PasteContext_GetCollisionPath_0=dt=g.Pa,f._emscripten_bind_PasteContext_GetEntriesSuccess_0=ut=g.Qa,f._emscripten_bind_PasteContext___destroy___0=At=g.Ra,gt=g.Ta,Mt=g.Ua,ur=g.Va,Zt=g.Wa,f.___original_main=g.Xa}(St),function Dt(){if(ft--,f.monitorRunDependencies?.(ft),0==ft&&Ct){var B=Ct;Ct=null,B()}}(),St}!function ot(){ft++,f.monitorRunDependencies?.(ft)}();var _e=function ct(){return{a:an}}();if(f.instantiateWasm)return new Promise((Tn,Wn)=>{f.instantiateWasm(_e,(Bn,Ur)=>{Tn(g(Bn))})});_t??=function $t(){return function T(g){return f.locateFile?f.locateFile(g,I):I+g}("vfs_web.wasm")}();var it=yield function Ne(g,B,_e){return ze.apply(this,arguments)}(Z,_t,_e);return function B(Tn){return g(Tn.instance)}(it)}),pn.apply(this,arguments)}class xn{name="ExitStatus";constructor(B){this.message=`Program terminated with exit(${B})`,this.status=B}}var vs,Jo,ga,Fi,_s,Ws,tt,qs,Ki,Li,ei,ma,bs,Zs,ti,Cs,Ci,Ss,ws,Yi,ho,Si,Xi,Qi,Ks,Es,fi,ni,wi,Gt,un,va,Ys,Do,Ds,$i,Ji,Is,Ga,Xs,Ts,ya,Qs,Js,_a,ea,Io,ta,so,es,ba,za,jo,As,Ca,na,se,ra,Le,pi,Sa,Ms,Bi,fl,h,v,w,A,ee,J,Ue,pe,qe,ye,je,dt,ut,At,gt,Mt,ur,Zt,sn=g=>{for(;g.length>0;)g.shift()(f)},Sn=[],cr=g=>Sn.push(g),mr=[],ro=g=>mr.push(g),wo=!0,Wr=g=>"0x"+(g>>>=0).toString(16).padStart(8,"0"),$o=typeof TextDecoder<"u"?new TextDecoder:void 0,oo=(g,B=0,_e=NaN)=>{for(var it=B+_e,zt=B;g[zt]&&!(zt>=it);)++zt;if(zt-B>16&&g.buffer&&$o)return $o.decode(g.subarray(B,zt));for(var Tn="";B<zt;){var Wn=g[B++];if(128&Wn){var Bn=63&g[B++];if(192!=(224&Wn)){var Ur=63&g[B++];if((Wn=224==(240&Wn)?(15&Wn)<<12|Bn<<6|Ur:(7&Wn)<<18|Bn<<12|Ur<<6|63&g[B++])<65536)Tn+=String.fromCharCode(Wn);else{var Wa=Wn-65536;Tn+=String.fromCharCode(55296|Wa>>10,56320|1023&Wa)}}else Tn+=String.fromCharCode((31&Wn)<<6|Bn)}else Tn+=String.fromCharCode(Wn)}return Tn},Jt=(g,B)=>g?oo(U,g,B):"",qt=g=>g<-9007199254740992||g>9007199254740992?NaN:Number(g),en=0,Dr=[0,31,60,91,121,152,182,213,244,274,305,335],fo=[0,31,59,90,120,151,181,212,243,273,304,334],io=g=>((g=>g%4==0&&(g%100!=0||g%400==0))(g.getFullYear())?Dr:fo)[g.getMonth()]+g.getDate()-1,In={},Eo=g=>{if(g instanceof xn||"unwind"==g)return ge;te(),g instanceof WebAssembly.RuntimeError&&Zt()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),O(0,g)},ui=()=>wo||en>0,bo=g=>{ge=g,ui()||(f.onExit?.(g),Y=!0),O(0,new xn(g))},Ko=(g,B)=>{ge=g,bo(g)},jn=Ko,bi=()=>performance.now(),Pe=(g,B,_e,it)=>{if(!(it>0))return 0;for(var zt=_e,Tn=_e+it-1,Wn=0;Wn<g.length;++Wn){var Bn=g.codePointAt(Wn);if(Bn<=127){if(_e>=Tn)break;B[_e++]=Bn}else if(Bn<=2047){if(_e+1>=Tn)break;B[_e++]=192|Bn>>6,B[_e++]=128|63&Bn}else if(Bn<=65535){if(_e+2>=Tn)break;B[_e++]=224|Bn>>12,B[_e++]=128|Bn>>6&63,B[_e++]=128|63&Bn}else{if(_e+3>=Tn)break;B[_e++]=240|Bn>>18,B[_e++]=128|Bn>>12&63,B[_e++]=128|Bn>>6&63,B[_e++]=128|63&Bn,Wn++}}return B[_e]=0,_e-zt},fr=(g,B,_e)=>Pe(g,U,B,_e),zn=()=>Date.now(),jr=(g,B)=>Math.ceil(g/B)*B,Pi=g=>{var _e=(g-de.buffer.byteLength+65535)/65536|0;try{return de.grow(_e),Je(),1}catch{}},zs={},Vt=()=>{if(!Vt.strings){var B={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:H||"./this.program"};for(var _e in zs)void 0===zs[_e]?delete B[_e]:B[_e]=zs[_e];var it=[];for(var _e in B)it.push(`${_e}=${B[_e]}`);Vt.strings=it}return Vt.strings},Me=g=>{for(var B=0,_e=0;_e<g.length;++_e){var it=g.charCodeAt(_e);it<=127?B++:it<=2047?B+=2:it>=55296&&it<=57343?(B+=4,++_e):B+=3}return B},Xo=[null,[],[]],Qo=(g,B)=>{var _e=Xo[g];0===B||10===B?((1===g?be:Q)(oo(_e)),_e.length=0):_e.push(B)},Va=[],ms=(g,B)=>{g<128?B.push(g):B.push(g%128|128,g>>7)},Bt=[],wc=g=>{var B=Bt[g];return B||(Bt[g]=B=vs.get(g)),B},Qe=[],Un=(g,B)=>{vs.set(g,B),Bt[g]=vs.get(g)};f.noExitRuntime&&(wo=f.noExitRuntime),f.print&&(be=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(Z=f.wasmBinary),f.thisProgram&&(H=f.thisProgram),f.addFunction=(g,B)=>{var _e=(g=>(Jo||(Jo=new WeakMap,((g,B)=>{if(Jo)for(var _e=0;_e<0+B;_e++){var it=wc(_e);it&&Jo.set(it,_e)}})(0,vs.length)),Jo.get(g)||0))(g);if(_e)return _e;var it=(()=>{if(Qe.length)return Qe.pop();try{vs.grow(1)}catch(g){throw g instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":g}return vs.length-1})();try{Un(it,g)}catch(Tn){if(!(Tn instanceof TypeError))throw Tn;var zt=((g,B)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((g=>{for(var B={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},_e={parameters:[],results:"v"==g[0]?[]:[B[g[0]]]},it=1;it<g.length;++it)_e.parameters.push(B[g[it]]);return _e})(B),g);var _e=[1];((g,B)=>{var _e=g.slice(0,1),it=g.slice(1),zt={i:127,p:127,j:126,f:125,d:124,e:111};for(var Tn of(B.push(96),ms(it.length,B),it))B.push(zt[Tn]);"v"==_e?B.push(0):B.push(1,zt[_e])})(B,_e);var it=[0,97,115,109,1,0,0,0,1];ms(_e.length,it),it.push(..._e),it.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var zt=new WebAssembly.Module(new Uint8Array(it));return new WebAssembly.Instance(zt,{e:{f:g}}).exports.f})(g,B);Un(it,zt)}return Jo.set(g,it),it},f.UTF8ToString=Jt;var an={a:(g,B,_e,it)=>Ke(`Assertion failed: ${Jt(g)}, at: `+[B?Jt(B):"unknown filename",_e,it?Jt(it):"unknown function"]),e:function Zn(g,B){B=qt(B)},r:()=>Ke(""),k:()=>{wo=!1,en=0},q:function Ro(g,B){g=qt(g);var _e=new Date(1e3*g);G[B>>2]=_e.getSeconds(),G[B+4>>2]=_e.getMinutes(),G[B+8>>2]=_e.getHours(),G[B+12>>2]=_e.getDate(),G[B+16>>2]=_e.getMonth(),G[B+20>>2]=_e.getFullYear()-1900,G[B+24>>2]=_e.getDay();var it=0|io(_e);G[B+28>>2]=it,G[B+36>>2]=-60*_e.getTimezoneOffset();var zt=new Date(_e.getFullYear(),0,1),Tn=new Date(_e.getFullYear(),6,1).getTimezoneOffset(),Wn=zt.getTimezoneOffset(),Bn=0|(Tn!=Wn&&_e.getTimezoneOffset()==Math.min(Wn,Tn));G[B+32>>2]=Bn},b:function(g){var B=(()=>{var _e=new Date(G[g+20>>2]+1900,G[g+16>>2],G[g+12>>2],G[g+8>>2],G[g+4>>2],G[g>>2],0),it=G[g+32>>2],zt=_e.getTimezoneOffset(),Tn=new Date(_e.getFullYear(),0,1),Wn=new Date(_e.getFullYear(),6,1).getTimezoneOffset(),Bn=Tn.getTimezoneOffset(),Ur=Math.min(Bn,Wn);if(it<0)G[g+32>>2]=+(Wn!=Bn&&Ur==zt);else if(it>0!=(Ur==zt)){var Wa=Math.max(Bn,Wn),Ol=it>0?Ur:Wa;_e.setTime(_e.getTime()+6e4*(Ol-zt))}G[g+24>>2]=_e.getDay();var Pl=0|io(_e);G[g+28>>2]=Pl,G[g>>2]=_e.getSeconds(),G[g+4>>2]=_e.getMinutes(),G[g+8>>2]=_e.getHours(),G[g+12>>2]=_e.getDate(),G[g+16>>2]=_e.getMonth(),G[g+20>>2]=_e.getYear();var wa=_e.getTime();return isNaN(wa)?-1:wa/1e3})();return BigInt(B)},l:(g,B)=>{if(In[g]&&(clearTimeout(In[g].id),delete In[g]),!B)return 0;var _e=setTimeout(()=>{delete In[g],(g=>{if(!Y)try{g(),(()=>{if(!ui())try{jn(ge)}catch(g){Eo(g)}})()}catch(B){Eo(B)}})(()=>gt(g,bi()))},B);return In[g]={id:_e,timeout_ms:B},0},c:(g,B,_e,it)=>{var zt=(new Date).getFullYear(),Tn=new Date(zt,0,1),Wn=new Date(zt,6,1),Bn=Tn.getTimezoneOffset(),Ur=Wn.getTimezoneOffset(),Wa=Math.max(Bn,Ur);ne[g>>2]=60*Wa,G[B>>2]=+(Bn!=Ur);var Ol=Vo=>{var Ec=Vo>=0?"-":"+",dd=Math.abs(Vo);return`UTC${Ec}${String(Math.floor(dd/60)).padStart(2,"0")}${String(dd%60).padStart(2,"0")}`},Pl=Ol(Bn),wa=Ol(Ur);Ur<Bn?(fr(Pl,_e,17),fr(wa,it,17)):(fr(Pl,it,17),fr(wa,_e,17))},o:function gn(g,B,_e){if(B=qt(B),!(g=>g>=0&&g<=3)(g))return 28;var it;it=0===g?zn():bi();var zt=Math.round(1e3*it*1e3);return Re[_e>>3]=BigInt(zt),0},i:zn,p:g=>{var B=U.length,_e=2147483648;if((g>>>=0)>_e)return!1;for(var it=1;it<=4;it*=2){var zt=B*(1+.2/it);zt=Math.min(zt,g+100663296);var Tn=Math.min(_e,jr(Math.max(g,zt),65536));if(Pi(Tn))return!0}return!1},m:(g,B)=>{var _e=0,it=0;for(var zt of Vt()){var Tn=B+_e;ne[g+it>>2]=Tn,_e+=fr(zt,Tn,1/0)+1,it+=4}return 0},n:(g,B)=>{var _e=Vt();ne[g>>2]=_e.length;var it=0;for(var zt of _e)it+=Me(zt)+1;return ne[B>>2]=it,0},f:g=>52,h:(g,B,_e,it)=>52,d:function or(g,B,_e,it){return B=qt(B),70},g:(g,B,_e,it)=>{for(var zt=0,Tn=0;Tn<_e;Tn++){var Wn=ne[B>>2],Bn=ne[B+4>>2];B+=8;for(var Ur=0;Ur<Bn;Ur++)Qo(g,U[Wn+Ur]);zt+=Bn}return ne[it>>2]=zt,0},j:bo},St=yield function Xt(){return pn.apply(this,arguments)}();function $(){}function le(g){return(g||$).__cache__}function Be(g,B){var _e=le(B),it=_e[g];return it||((it=Object.create((B||$).prototype)).ptr=g,_e[g]=it)}(function b(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function Rn(){function g(){f.calledRun=!0,Y||(function Te(){Ce=!0,te(),sn(Va),St.t()}(),function He(){te()}(),we?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function Hn(){var g=ga;try{var it=g(0,0);return Ko(it),it}catch(zt){return Eo(zt)}}(),function vt(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)cr(f.postRun.shift());sn(Sn)}())}ft>0?Ct=Rn:(function hn(){Mt(),function Ye(){var g=ur();0==g&&(g+=4),ne[g>>2]=34821223,ne[g+4>>2]=2310721022,ne[0]=1668509029}()}(),function wt(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)ro(f.preRun.shift());sn(mr)}(),ft>0?Ct=Rn:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),g()},1)):g(),te()))}(),($.prototype=Object.create($.prototype)).constructor=$,$.prototype.__class__=$,$.__cache__={},f.WrapperObject=$,f.getCache=le,f.wrapPointer=Be,f.castObject=function Pt(g,B){return Be(g.ptr,B)},f.NULL=Be(0),f.destroy=function on(g){if(!g.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";g.__destroy__(),delete le(g.__class__)[g.ptr]},f.compare=function mn(g,B){return g.ptr===B.ptr},f.getPointer=function Gn(g){return g.ptr},f.getClass=function Yr(g){return g.__class__};var dn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(dn.needed){for(var g=0;g<dn.temps.length;g++)f._webidl_free(dn.temps[g]);dn.temps.length=0,f._webidl_free(dn.buffer),dn.buffer=0,dn.size+=dn.needed,dn.needed=0}dn.buffer||(dn.size+=128,dn.buffer=f._webidl_malloc(dn.size),Ie(dn.buffer)),dn.pos=0},alloc(g,B){Ie(dn.buffer);var zt,it=g.length*B.BYTES_PER_ELEMENT;return it=jr(it,8),dn.pos+it>=dn.size?(Ie(it>0),dn.needed+=it,zt=f._webidl_malloc(it),dn.temps.push(zt)):(zt=dn.buffer+dn.pos,dn.pos+=it),zt},copy(g,B,_e){_e/=B.BYTES_PER_ELEMENT;for(var it=0;it<g.length;it++)B[_e+it]=g[it]}};function Ar(g){if("string"==typeof g){var B=(g=>{var it=Me(g)+1,zt=new Array(it);Pe(g,zt,0,zt.length);return zt})(g),_e=dn.alloc(B,De);return dn.copy(B,De,_e),_e}return g}function Vr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function pr(){throw"cannot construct a FileEntry, no constructor in IDL"}function xt(){this.ptr=ei(),le(xt)[this.ptr]=this}function Nr(g){dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),this.ptr=Is(g),le(Nr)[this.ptr]=this}function nr(g,B){dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),B&&"object"==typeof B&&(B=B.ptr),this.ptr=_a(g,B),le(nr)[this.ptr]=this}function Mr(g){g&&"object"==typeof g&&(g=g.ptr),this.ptr=As(g),le(Mr)[this.ptr]=this}function hr(g,B,_e,it){dn.prepare(),g&&"object"==typeof g&&(g=g.ptr),B=B&&"object"==typeof B?B.ptr:Ar(B),_e&&"object"==typeof _e&&(_e=_e.ptr),it&&"object"==typeof it&&(it=it.ptr),this.ptr=pi(g,B,_e,it),le(hr)[this.ptr]=this}function ir(g,B,_e){dn.prepare(),g&&"object"==typeof g&&(g=g.ptr),B=B&&"object"==typeof B?B.ptr:Ar(B),_e=_e&&"object"==typeof _e?_e.ptr:Ar(_e),this.ptr=ee(g,B,_e),le(ir)[this.ptr]=this}return(Vr.prototype=Object.create($.prototype)).constructor=Vr,Vr.prototype.__class__=Vr,Vr.__cache__={},f.VoidPtr=Vr,Vr.prototype.__destroy__=Vr.prototype.__destroy__=function(){Fi(this.ptr)},(pr.prototype=Object.create($.prototype)).constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},f.FileEntry=pr,pr.prototype.GetName=pr.prototype.GetName=function(){return Jt(_s(this.ptr))},pr.prototype.IsDirectory=pr.prototype.IsDirectory=function(){return!!Ws(this.ptr)},pr.prototype.GetSize=pr.prototype.GetSize=function(){return tt(this.ptr)},pr.prototype.GetModifiedTS=pr.prototype.GetModifiedTS=function(){return qs(this.ptr)},pr.prototype.GetAttributes=pr.prototype.GetAttributes=function(){return Ki(this.ptr)},pr.prototype.__destroy__=pr.prototype.__destroy__=function(){Li(this.ptr)},(xt.prototype=Object.create($.prototype)).constructor=xt,xt.prototype.__class__=xt,xt.__cache__={},f.Vfs=xt,xt.prototype.Malloc=xt.prototype.Malloc=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(ma(this.ptr,g),Vr)},xt.prototype.Free=xt.prototype.Free=function(g){g&&"object"==typeof g&&(g=g.ptr),bs(this.ptr,g)},xt.prototype.Nullptr=xt.prototype.Nullptr=function(){return Be(Zs(this.ptr),Vr)},xt.prototype.AllocateImage=xt.prototype.AllocateImage=function(g){g&&"object"==typeof g&&(g=g.ptr),ti(this.ptr,g)},xt.prototype.MountImage=xt.prototype.MountImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),!!Cs(this.ptr,g)},xt.prototype.UnmountImage=xt.prototype.UnmountImage=function(g){g&&"object"==typeof g&&(g=g.ptr),Ci(this.ptr,g)},xt.prototype.SwitchSlot=xt.prototype.SwitchSlot=function(g){g&&"object"==typeof g&&(g=g.ptr),Ss(this.ptr,g)},xt.prototype.GetPendingImageSize=xt.prototype.GetPendingImageSize=function(){return ws(this.ptr)},xt.prototype.GetSize=xt.prototype.GetSize=function(g){return g&&"object"==typeof g&&(g=g.ptr),Yi(this.ptr,g)},xt.prototype.GetPendingImage=xt.prototype.GetPendingImage=function(){return Be(ho(this.ptr),Vr)},xt.prototype.GetImage=xt.prototype.GetImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(Si(this.ptr,g),Vr)},xt.prototype.GetDirtyPages=xt.prototype.GetDirtyPages=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(Xi(this.ptr,g),Vr)},xt.prototype.RenameFile=xt.prototype.RenameFile=function(g,B){var _e=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),B=B&&"object"==typeof B?B.ptr:Ar(B),Qi(_e,g,B)},xt.prototype.ChmodFile=xt.prototype.ChmodFile=function(g,B,_e){var it=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),B&&"object"==typeof B&&(B=B.ptr),_e&&"object"==typeof _e&&(_e=_e.ptr),Ks(it,g,B,_e)},xt.prototype.StatFile=xt.prototype.StatFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),Es(B,g)},xt.prototype.UnlinkFile=xt.prototype.UnlinkFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),fi(B,g)},xt.prototype.Mkdir=xt.prototype.Mkdir=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),ni(B,g)},xt.prototype.GetEntry=xt.prototype.GetEntry=function(){return Be(wi(this.ptr),pr)},xt.prototype.BytesFree=xt.prototype.BytesFree=function(g){return g&&"object"==typeof g&&(g=g.ptr),Gt(this.ptr,g)},xt.prototype.BytesTotal=xt.prototype.BytesTotal=function(g){return g&&"object"==typeof g&&(g=g.ptr),un(this.ptr,g)},xt.prototype.ReadFile=xt.prototype.ReadFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),!!va(B,g)},xt.prototype.GetCurrentFileSize=xt.prototype.GetCurrentFileSize=function(){return Ys(this.ptr)},xt.prototype.GetCurrentFileContent=xt.prototype.GetCurrentFileContent=function(){return Be(Do(this.ptr),Vr)},xt.prototype.ReleaseCurrentFile=xt.prototype.ReleaseCurrentFile=function(){Ds(this.ptr)},xt.prototype.WriteFile=xt.prototype.WriteFile=function(g,B,_e){var it=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),B&&"object"==typeof B&&(B=B.ptr),_e&&"object"==typeof _e&&(_e=_e.ptr),$i(it,g,B,_e)},xt.prototype.__destroy__=xt.prototype.__destroy__=function(){Ji(this.ptr)},(Nr.prototype=Object.create($.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},f.ReaddirContext=Nr,Nr.prototype.Next=Nr.prototype.Next=function(){return Ga(this.ptr)},Nr.prototype.GetEntry=Nr.prototype.GetEntry=function(){return Be(Xs(this.ptr),pr)},Nr.prototype.GetStatus=Nr.prototype.GetStatus=function(){return Ts(this.ptr)},Nr.prototype.GetError=Nr.prototype.GetError=function(){return ya(this.ptr)},Nr.prototype.GetErrorDescription=Nr.prototype.GetErrorDescription=function(){return Jt(Qs(this.ptr))},Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){Js(this.ptr)},(nr.prototype=Object.create($.prototype)).constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},f.ExportZipContext=nr,nr.prototype.AddFile=nr.prototype.AddFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),Be(ea(B,g),nr)},nr.prototype.AddDirectory=nr.prototype.AddDirectory=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),Be(Io(B,g),nr)},nr.prototype.Continue=nr.prototype.Continue=function(){return ta(this.ptr)},nr.prototype.GetState=nr.prototype.GetState=function(){return so(this.ptr)},nr.prototype.GetZipContent=nr.prototype.GetZipContent=function(){return Be(es(this.ptr),Vr)},nr.prototype.GetZipSize=nr.prototype.GetZipSize=function(){return ba(this.ptr)},nr.prototype.GetErrorItem=nr.prototype.GetErrorItem=function(){return Jt(za(this.ptr))},nr.prototype.__destroy__=nr.prototype.__destroy__=function(){jo(this.ptr)},(Mr.prototype=Object.create($.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},f.DeleteRecursiveContext=Mr,Mr.prototype.AddFile=Mr.prototype.AddFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),Be(Ca(B,g),Mr)},Mr.prototype.Continue=Mr.prototype.Continue=function(){return na(this.ptr)},Mr.prototype.GetState=Mr.prototype.GetState=function(){return se(this.ptr)},Mr.prototype.GetFailingPath=Mr.prototype.GetFailingPath=function(){return Jt(ra(this.ptr))},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){Le(this.ptr)},(hr.prototype=Object.create($.prototype)).constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},f.UnzipContext=hr,hr.prototype.GetState=hr.prototype.GetState=function(){return Sa(this.ptr)},hr.prototype.Continue=hr.prototype.Continue=function(){return Ms(this.ptr)},hr.prototype.ContinueWithOverwrite=hr.prototype.ContinueWithOverwrite=function(){return Bi(this.ptr)},hr.prototype.GetCurrentEntry=hr.prototype.GetCurrentEntry=function(){return Jt(fl(this.ptr))},hr.prototype.GetCollisionPath=hr.prototype.GetCollisionPath=function(){return Jt(h(this.ptr))},hr.prototype.GetEntriesTotal=hr.prototype.GetEntriesTotal=function(){return v(this.ptr)},hr.prototype.GetEntriesSuccess=hr.prototype.GetEntriesSuccess=function(){return w(this.ptr)},hr.prototype.__destroy__=hr.prototype.__destroy__=function(){A(this.ptr)},(ir.prototype=Object.create($.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},f.PasteContext=ir,ir.prototype.AddFile=ir.prototype.AddFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Ar(g),Be(J(B,g),ir)},ir.prototype.SetDeleteAfterCopy=ir.prototype.SetDeleteAfterCopy=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(Ue(this.ptr,g),ir)},ir.prototype.GetState=ir.prototype.GetState=function(){return pe(this.ptr)},ir.prototype.Continue=ir.prototype.Continue=function(){return qe(this.ptr)},ir.prototype.ContinueWithOverwrite=ir.prototype.ContinueWithOverwrite=function(){return ye(this.ptr)},ir.prototype.GetCurrentEntry=ir.prototype.GetCurrentEntry=function(){return Jt(je(this.ptr))},ir.prototype.GetCollisionPath=ir.prototype.GetCollisionPath=function(){return Jt(dt(this.ptr))},ir.prototype.GetEntriesSuccess=ir.prototype.GetEntriesSuccess=function(){return ut(this.ptr)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){At(this.ptr)},Ce?f:new Promise((g,B)=>{we=g,me=B})}));K.exports=k,K.exports.default=k},3016:(K,Se,_)=>{"use strict";var S=_(840),k=S("Object.prototype.toString"),L=_(1459)(),z=_(7653);if(L){var R=S("Symbol.prototype.toString"),f=z(/^Symbol\(.*\)$/);K.exports=function(F){if("symbol"==typeof F)return!0;if(!F||"object"!=typeof F||"[object Symbol]"!==k(F))return!1;try{return function(F){return"symbol"==typeof F.valueOf()&&f(R(F))}(F)}catch{return!1}}}else K.exports=function(F){return!1}},3028:(K,Se,_)=>{"use strict";var S=_(5979),k=_(7308),L=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,z=/[\n\r\t]/g,R=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f=/:\d+$/,P=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,D=/^[a-zA-Z]:/;function F(Z){return(Z||"").toString().replace(L,"")}var N=[["#","hash"],["?","query"],function(Y,ge){return I(ge.protocol)?Y.replace(/\\/g,"/"):Y},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],H={hash:1,query:1};function O(Z){var Y;Y=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var te,Ie={},Ye=typeof(Z=Z||Y.location||{});if("blob:"===Z.protocol)Ie=new ce(unescape(Z.pathname),{});else if("string"===Ye)for(te in Ie=new ce(Z,{}),H)delete Ie[te];else if("object"===Ye){for(te in Z)te in H||(Ie[te]=Z[te]);void 0===Ie.slashes&&(Ie.slashes=R.test(Z.href))}return Ie}function I(Z){return"file:"===Z||"ftp:"===Z||"http:"===Z||"https:"===Z||"ws:"===Z||"wss:"===Z}function T(Z,Y){Z=(Z=F(Z)).replace(z,""),Y=Y||{};var me,ge=P.exec(Z),Ie=ge[1]?ge[1].toLowerCase():"",Ye=!!ge[2],te=!!ge[3],we=0;return Ye?te?(me=ge[2]+ge[3]+ge[4],we=ge[2].length+ge[3].length):(me=ge[2]+ge[4],we=ge[2].length):te?(me=ge[3]+ge[4],we=ge[3].length):me=ge[4],"file:"===Ie?we>=2&&(me=me.slice(2)):I(Ie)?me=ge[4]:Ie?Ye&&(me=me.slice(2)):we>=2&&I(Y.protocol)&&(me=ge[4]),{protocol:Ie,slashes:Ye||I(Ie),slashesCount:we,rest:me}}function ce(Z,Y,ge){if(Z=(Z=F(Z)).replace(z,""),!(this instanceof ce))return new ce(Z,Y,ge);var Ie,Ye,te,we,me,de,De=N.slice(),U=typeof Y,X=this,Ve=0;for("object"!==U&&"string"!==U&&(ge=Y,Y=null),ge&&"function"!=typeof ge&&(ge=k.parse),Ie=!(Ye=T(Z||"",Y=O(Y))).protocol&&!Ye.slashes,X.slashes=Ye.slashes||Ie&&Y.slashes,X.protocol=Ye.protocol||Y.protocol||"",Z=Ye.rest,("file:"===Ye.protocol&&(2!==Ye.slashesCount||D.test(Z))||!Ye.slashes&&(Ye.protocol||Ye.slashesCount<2||!I(X.protocol)))&&(De[3]=[/(.*)/,"pathname"]);Ve<De.length;Ve++)"function"!=typeof(we=De[Ve])?(de=we[1],(te=we[0])!=te?X[de]=Z:"string"==typeof te?~(me="@"===te?Z.lastIndexOf(te):Z.indexOf(te))&&("number"==typeof we[2]?(X[de]=Z.slice(0,me),Z=Z.slice(me+we[2])):(X[de]=Z.slice(me),Z=Z.slice(0,me))):(me=te.exec(Z))&&(X[de]=me[1],Z=Z.slice(0,me.index)),X[de]=X[de]||Ie&&we[3]&&Y[de]||"",we[4]&&(X[de]=X[de].toLowerCase())):Z=we(Z,X);ge&&(X.query=ge(X.query)),Ie&&Y.slashes&&"/"!==X.pathname.charAt(0)&&(""!==X.pathname||""!==Y.pathname)&&(X.pathname=function ie(Z,Y){if(""===Z)return Y;for(var ge=(Y||"/").split("/").slice(0,-1).concat(Z.split("/")),Ie=ge.length,Ye=ge[Ie-1],te=!1,we=0;Ie--;)"."===ge[Ie]?ge.splice(Ie,1):".."===ge[Ie]?(ge.splice(Ie,1),we++):we&&(0===Ie&&(te=!0),ge.splice(Ie,1),we--);return te&&ge.unshift(""),("."===Ye||".."===Ye)&&ge.push(""),ge.join("/")}(X.pathname,Y.pathname)),"/"!==X.pathname.charAt(0)&&I(X.protocol)&&(X.pathname="/"+X.pathname),S(X.port,X.protocol)||(X.host=X.hostname,X.port=""),X.username=X.password="",X.auth&&(~(me=X.auth.indexOf(":"))?(X.username=X.auth.slice(0,me),X.username=encodeURIComponent(decodeURIComponent(X.username)),X.password=X.auth.slice(me+1),X.password=encodeURIComponent(decodeURIComponent(X.password))):X.username=encodeURIComponent(decodeURIComponent(X.auth)),X.auth=X.password?X.username+":"+X.password:X.username),X.origin="file:"!==X.protocol&&I(X.protocol)&&X.host?X.protocol+"//"+X.host:"null",X.href=X.toString()}ce.prototype={set:function be(Z,Y,ge){var Ie=this;switch(Z){case"query":"string"==typeof Y&&Y.length&&(Y=(ge||k.parse)(Y)),Ie[Z]=Y;break;case"port":Ie[Z]=Y,S(Y,Ie.protocol)?Y&&(Ie.host=Ie.hostname+":"+Y):(Ie.host=Ie.hostname,Ie[Z]="");break;case"hostname":Ie[Z]=Y,Ie.port&&(Y+=":"+Ie.port),Ie.host=Y;break;case"host":Ie[Z]=Y,f.test(Y)?(Y=Y.split(":"),Ie.port=Y.pop(),Ie.hostname=Y.join(":")):(Ie.hostname=Y,Ie.port="");break;case"protocol":Ie.protocol=Y.toLowerCase(),Ie.slashes=!ge;break;case"pathname":case"hash":if(Y){var Ye="pathname"===Z?"/":"#";Ie[Z]=Y.charAt(0)!==Ye?Ye+Y:Y}else Ie[Z]=Y;break;case"username":case"password":Ie[Z]=encodeURIComponent(Y);break;case"auth":var te=Y.indexOf(":");~te?(Ie.username=Y.slice(0,te),Ie.username=encodeURIComponent(decodeURIComponent(Ie.username)),Ie.password=Y.slice(te+1),Ie.password=encodeURIComponent(decodeURIComponent(Ie.password))):Ie.username=encodeURIComponent(decodeURIComponent(Y))}for(var we=0;we<N.length;we++){var me=N[we];me[4]&&(Ie[me[1]]=Ie[me[1]].toLowerCase())}return Ie.auth=Ie.password?Ie.username+":"+Ie.password:Ie.username,Ie.origin="file:"!==Ie.protocol&&I(Ie.protocol)&&Ie.host?Ie.protocol+"//"+Ie.host:"null",Ie.href=Ie.toString(),Ie},toString:function Q(Z){(!Z||"function"!=typeof Z)&&(Z=k.stringify);var Y,ge=this,Ie=ge.host,Ye=ge.protocol;Ye&&":"!==Ye.charAt(Ye.length-1)&&(Ye+=":");var te=Ye+(ge.protocol&&ge.slashes||I(ge.protocol)?"//":"");return ge.username?(te+=ge.username,ge.password&&(te+=":"+ge.password),te+="@"):ge.password?(te+=":"+ge.password,te+="@"):"file:"!==ge.protocol&&I(ge.protocol)&&!Ie&&"/"!==ge.pathname&&(te+="@"),(":"===Ie[Ie.length-1]||f.test(ge.hostname)&&!ge.port)&&(Ie+=":"),te+=Ie+ge.pathname,(Y="object"==typeof ge.query?Z(ge.query):ge.query)&&(te+="?"!==Y.charAt(0)?"?"+Y:Y),ge.hash&&(te+=ge.hash),te}},ce.extractProtocol=T,ce.location=O,ce.trimLeft=F,ce.qs=k,K.exports=ce},3066:(K,Se,_)=>{"use strict";var S=_(6283),k=_(840),z=_(2521)("%ArrayBuffer%",!0),R=k("ArrayBuffer.prototype.byteLength",!0),f=k("Object.prototype.toString"),P=!!z&&!R&&new z(0).slice,D=!!P&&S(P);K.exports=R||D?function(N){if(!N||"object"!=typeof N)return!1;try{return R?R(N):D(N,0),!0}catch{return!1}}:z?function(N){return"[object ArrayBuffer]"===f(N)}:function(N){return!1}},3112:(K,Se,_)=>{"use strict";_.d(Se,{L:()=>k,a:()=>L,b:()=>z,c:()=>R,d:()=>f,g:()=>Ve}),_(5886);const k="ionViewWillEnter",L="ionViewDidEnter",z="ionViewWillLeave",R="ionViewDidLeave",f="ionViewWillUnload",Ve=G=>G.classList.contains("ion-page")?G:G.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||G},3116:K=>{"use strict";K.exports=Math.floor},3286:K=>{"use strict";K.exports=ReferenceError},3460:(K,Se,_)=>{"use strict";_.d(Se,{E:()=>H,I:()=>D,a:()=>k,s:()=>F});var S=_(9335);const k=O=>{try{if(O instanceof D)return O.value;if(!R()||"string"!=typeof O||""===O)return O;if(O.includes("onload="))return"";const I=document.createDocumentFragment(),T=document.createElement("div");I.appendChild(T),T.innerHTML=O,P.forEach(Q=>{const Z=I.querySelectorAll(Q);for(let Y=Z.length-1;Y>=0;Y--){const ge=Z[Y];ge.parentNode?ge.parentNode.removeChild(ge):I.removeChild(ge);const Ie=z(ge);for(let Ye=0;Ye<Ie.length;Ye++)L(Ie[Ye])}});const ie=z(I);for(let Q=0;Q<ie.length;Q++)L(ie[Q]);const ce=document.createElement("div");ce.appendChild(I);const be=ce.querySelector("div");return null!==be?be.innerHTML:ce.innerHTML}catch(I){return(0,S.j)("sanitizeDOMString",I),""}},L=O=>{if(O.nodeType&&1!==O.nodeType)return;if(typeof NamedNodeMap<"u"&&!(O.attributes instanceof NamedNodeMap))return void O.remove();for(let T=O.attributes.length-1;T>=0;T--){const ie=O.attributes.item(T),ce=ie.name;if(!f.includes(ce.toLowerCase())){O.removeAttribute(ce);continue}const be=ie.value,Q=O[ce];(null!=be&&be.toLowerCase().includes("javascript:")||null!=Q&&Q.toLowerCase().includes("javascript:"))&&O.removeAttribute(ce)}const I=z(O);for(let T=0;T<I.length;T++)L(I[T])},z=O=>null!=O.children?O.children:O.childNodes,R=()=>{var O;const I=window,T=null===(O=I?.Ionic)||void 0===O?void 0:O.config;return!T||(T.get?T.get("sanitizerEnabled",!0):!0===T.sanitizerEnabled||void 0===T.sanitizerEnabled)},f=["class","id","href","src","name","slot"],P=["script","style","iframe","meta","link","object","embed"];class D{constructor(I){this.value=I}}const F=O=>{const I=window,T=I.Ionic;if(!T||!T.config||"Object"===T.config.constructor.name)return I.Ionic=I.Ionic||{},I.Ionic.config=Object.assign(Object.assign({},I.Ionic.config),O),I.Ionic.config},H=!1},3462:K=>{"use strict";K.exports=Math.min},3463:(K,Se,_)=>{"use strict";var S=_(2521),k=_(6283),L=k(S("String.prototype.indexOf"));K.exports=function(R,f){var P=S(R,!!f);return"function"==typeof P&&L(R,".prototype.")>-1?k(P):P}},3687:(K,Se,_)=>{var S="function"==typeof Map&&Map.prototype,k=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,L=S&&k&&"function"==typeof k.get?k.get:null,z=S&&Map.prototype.forEach,R="function"==typeof Set&&Set.prototype,f=Object.getOwnPropertyDescriptor&&R?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,P=R&&f&&"function"==typeof f.get?f.get:null,D=R&&Set.prototype.forEach,N="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,O="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,T="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ie=Boolean.prototype.valueOf,ce=Object.prototype.toString,be=Function.prototype.toString,Q=String.prototype.match,Z=String.prototype.slice,Y=String.prototype.replace,ge=String.prototype.toUpperCase,Ie=String.prototype.toLowerCase,Ye=RegExp.prototype.test,te=Array.prototype.concat,we=Array.prototype.join,me=Array.prototype.slice,de=Math.floor,De="function"==typeof BigInt?BigInt.prototype.valueOf:null,U=Object.getOwnPropertySymbols,X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ve="function"==typeof Symbol&&"object"==typeof Symbol.iterator,G="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,ae=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ae){return Ae.__proto__}:null);function ve(Ae,Oe){if(Ae===1/0||Ae===-1/0||Ae!=Ae||Ae&&Ae>-1e3&&Ae<1e3||Ye.call(/e/,Oe))return Oe;var qt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ae){var Zn=Ae<0?-de(-Ae):de(Ae);if(Zn!==Ae){var Dn=String(Zn),en=Z.call(Oe,Dn.length+1);return Y.call(Dn,qt,"$&_")+"."+Y.call(Y.call(en,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Y.call(Oe,qt,"$&_")}var Re=_(2634),Fe=Re.custom,Ce=wn(Fe)?Fe:null,Je={__proto__:null,double:'"',single:"'"},wt={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function Te(Ae,Oe,qt){var Dn=Je[qt.quoteStyle||Oe];return Dn+Ae+Dn}function He(Ae){return Y.call(String(Ae),/"/g,"&quot;")}function vt(Ae){return!G||!("object"==typeof Ae&&(G in Ae||typeof Ae[G]<"u"))}function ft(Ae){return"[object Array]"===Ze(Ae)&&vt(Ae)}function ot(Ae){return"[object RegExp]"===Ze(Ae)&&vt(Ae)}function wn(Ae){if(Ve)return Ae&&"object"==typeof Ae&&Ae instanceof Symbol;if("symbol"==typeof Ae)return!0;if(!Ae||"object"!=typeof Ae||!X)return!1;try{return X.call(Ae),!0}catch{}return!1}K.exports=function Ae(Oe,qt,Zn,Dn){var en=qt||{};if(Nt(en,"quoteStyle")&&!Nt(Je,en.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Nt(en,"maxStringLength")&&("number"==typeof en.maxStringLength?en.maxStringLength<0&&en.maxStringLength!==1/0:null!==en.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var _o=!Nt(en,"customInspect")||en.customInspect;if("boolean"!=typeof _o&&"symbol"!==_o)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Nt(en,"indent")&&null!==en.indent&&"\t"!==en.indent&&!(parseInt(en.indent,10)===en.indent&&en.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Nt(en,"numericSeparator")&&"boolean"!=typeof en.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var qr=en.numericSeparator;if(typeof Oe>"u")return"undefined";if(null===Oe)return"null";if("boolean"==typeof Oe)return Oe?"true":"false";if("string"==typeof Oe)return cr(Oe,en);if("number"==typeof Oe){if(0===Oe)return 1/0/Oe>0?"0":"-0";var Dr=String(Oe);return qr?ve(Oe,Dr):Dr}if("bigint"==typeof Oe){var fo=String(Oe)+"n";return qr?ve(Oe,fo):fo}var io=typeof en.depth>"u"?5:en.depth;if(typeof Zn>"u"&&(Zn=0),Zn>=io&&io>0&&"object"==typeof Oe)return ft(Oe)?"[Array]":"[Object]";var Ro=function oo(Ae,Oe){var qt;if("\t"===Ae.indent)qt="\t";else{if(!("number"==typeof Ae.indent&&Ae.indent>0))return null;qt=we.call(Array(Ae.indent+1)," ")}return{base:qt,prev:we.call(Array(Oe+1),qt)}}(en,Zn);if(typeof Dn>"u")Dn=[];else if(ze(Dn,Oe)>=0)return"[Circular]";function Ir(gn,di,jr){if(di&&(Dn=me.call(Dn)).push(di),jr){var Pi={depth:en.depth};return Nt(en,"quoteStyle")&&(Pi.quoteStyle=en.quoteStyle),Ae(gn,Pi,Zn+1,Dn)}return Ae(gn,en,Zn+1,Dn)}if("function"==typeof Oe&&!ot(Oe)){var In=function Ne(Ae){if(Ae.name)return Ae.name;var Oe=Q.call(be.call(Ae),/^function\s*([\w$]+)/);return Oe?Oe[1]:null}(Oe),Eo=ci(Oe,Ir);return"[Function"+(In?": "+In:" (anonymous)")+"]"+(Eo.length>0?" { "+we.call(Eo,", ")+" }":"")}if(wn(Oe)){var ui=Ve?Y.call(String(Oe),/^(Symbol\(.*\))_[^)]*$/,"$1"):X.call(Oe);return"object"!=typeof Oe||Ve?ui:ro(ui)}if(function Sn(Ae){return!(!Ae||"object"!=typeof Ae)&&(typeof HTMLElement<"u"&&Ae instanceof HTMLElement||"string"==typeof Ae.nodeName&&"function"==typeof Ae.getAttribute)}(Oe)){for(var bo="<"+Ie.call(String(Oe.nodeName)),Ko=Oe.attributes||[],jn=0;jn<Ko.length;jn++)bo+=" "+Ko[jn].name+"="+Te(He(Ko[jn].value),"double",en);return bo+=">",Oe.childNodes&&Oe.childNodes.length&&(bo+="..."),bo+"</"+Ie.call(String(Oe.nodeName))+">"}if(ft(Oe)){if(0===Oe.length)return"[]";var Bo=ci(Oe,Ir);return Ro&&!function $o(Ae){for(var Oe=0;Oe<Ae.length;Oe++)if(ze(Ae[Oe],"\n")>=0)return!1;return!0}(Bo)?"["+Jt(Bo,Ro)+"]":"[ "+we.call(Bo,", ")+" ]"}if(function Dt(Ae){return"[object Error]"===Ze(Ae)&&vt(Ae)}(Oe)){var Tr=ci(Oe,Ir);return"cause"in Error.prototype||!("cause"in Oe)||ne.call(Oe,"cause")?0===Tr.length?"["+String(Oe)+"]":"{ ["+String(Oe)+"] "+we.call(Tr,", ")+" }":"{ ["+String(Oe)+"] "+we.call(te.call("[cause]: "+Ir(Oe.cause),Tr),", ")+" }"}if("object"==typeof Oe&&_o){if(Ce&&"function"==typeof Oe[Ce]&&Re)return Re(Oe,{depth:io-Zn});if("symbol"!==_o&&"function"==typeof Oe.inspect)return Oe.inspect()}if(function ct(Ae){if(!L||!Ae||"object"!=typeof Ae)return!1;try{L.call(Ae);try{P.call(Ae)}catch{return!0}return Ae instanceof Map}catch{}return!1}(Oe)){var bi=[];return z&&z.call(Oe,function(gn,di){bi.push(Ir(di,Oe,!0)+" => "+Ir(gn,Oe))}),Wr("Map",L.call(Oe),bi,Ro)}if(function xn(Ae){if(!P||!Ae||"object"!=typeof Ae)return!1;try{P.call(Ae);try{L.call(Ae)}catch{return!0}return Ae instanceof Set}catch{}return!1}(Oe)){var Yo=[];return D&&D.call(Oe,function(gn){Yo.push(Ir(gn,Oe))}),Wr("Set",P.call(Oe),Yo,Ro)}if(function Xt(Ae){if(!N||!Ae||"object"!=typeof Ae)return!1;try{N.call(Ae,N);try{O.call(Ae,O)}catch{return!0}return Ae instanceof WeakMap}catch{}return!1}(Oe))return wo("WeakMap");if(function sn(Ae){if(!O||!Ae||"object"!=typeof Ae)return!1;try{O.call(Ae,O);try{N.call(Ae,N)}catch{return!0}return Ae instanceof WeakSet}catch{}return!1}(Oe))return wo("WeakSet");if(function pn(Ae){if(!T||!Ae||"object"!=typeof Ae)return!1;try{return T.call(Ae),!0}catch{}return!1}(Oe))return wo("WeakRef");if(function _t(Ae){return"[object Number]"===Ze(Ae)&&vt(Ae)}(Oe))return ro(Ir(Number(Oe)));if(function En(Ae){if(!Ae||"object"!=typeof Ae||!De)return!1;try{return De.call(Ae),!0}catch{}return!1}(Oe))return ro(Ir(De.call(Oe)));if(function $t(Ae){return"[object Boolean]"===Ze(Ae)&&vt(Ae)}(Oe))return ro(ie.call(Oe));if(function Ke(Ae){return"[object String]"===Ze(Ae)&&vt(Ae)}(Oe))return ro(Ir(String(Oe)));if(typeof window<"u"&&Oe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Oe===globalThis||typeof global<"u"&&Oe===global)return"{ [object globalThis] }";if(!function Ct(Ae){return"[object Date]"===Ze(Ae)&&vt(Ae)}(Oe)&&!ot(Oe)){var Pe=ci(Oe,Ir),fr=ae?ae(Oe)===Object.prototype:Oe instanceof Object||Oe.constructor===Object,Zr=Oe instanceof Object?"":"null prototype",zn=!fr&&G&&Object(Oe)===Oe&&G in Oe?Z.call(Ze(Oe),8,-1):Zr?"Object":"",Zi=(fr||"function"!=typeof Oe.constructor?"":Oe.constructor.name?Oe.constructor.name+" ":"")+(zn||Zr?"["+we.call(te.call([],zn||[],Zr||[]),": ")+"] ":"");return 0===Pe.length?Zi+"{}":Ro?Zi+"{"+Jt(Pe,Ro)+"}":Zi+"{ "+we.call(Pe,", ")+" }"}return String(Oe)};var Wt=Object.prototype.hasOwnProperty||function(Ae){return Ae in this};function Nt(Ae,Oe){return Wt.call(Ae,Oe)}function Ze(Ae){return ce.call(Ae)}function ze(Ae,Oe){if(Ae.indexOf)return Ae.indexOf(Oe);for(var qt=0,Zn=Ae.length;qt<Zn;qt++)if(Ae[qt]===Oe)return qt;return-1}function cr(Ae,Oe){if(Ae.length>Oe.maxStringLength){var qt=Ae.length-Oe.maxStringLength,Zn="... "+qt+" more character"+(qt>1?"s":"");return cr(Z.call(Ae,0,Oe.maxStringLength),Oe)+Zn}var Dn=wt[Oe.quoteStyle||"single"];return Dn.lastIndex=0,Te(Y.call(Y.call(Ae,Dn,"\\$1"),/[\x00-\x1f]/g,mr),"single",Oe)}function mr(Ae){var Oe=Ae.charCodeAt(0),qt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Oe];return qt?"\\"+qt:"\\x"+(Oe<16?"0":"")+ge.call(Oe.toString(16))}function ro(Ae){return"Object("+Ae+")"}function wo(Ae){return Ae+" { ? }"}function Wr(Ae,Oe,qt,Zn){return Ae+" ("+Oe+") {"+(Zn?Jt(qt,Zn):we.call(qt,", "))+"}"}function Jt(Ae,Oe){if(0===Ae.length)return"";var qt="\n"+Oe.prev+Oe.base;return qt+we.call(Ae,","+qt)+"\n"+Oe.prev}function ci(Ae,Oe){var qt=ft(Ae),Zn=[];if(qt){Zn.length=Ae.length;for(var Dn=0;Dn<Ae.length;Dn++)Zn[Dn]=Nt(Ae,Dn)?Oe(Ae[Dn],Ae):""}var _o,en="function"==typeof U?U(Ae):[];if(Ve){_o={};for(var qr=0;qr<en.length;qr++)_o["$"+en[qr]]=en[qr]}for(var Dr in Ae)Nt(Ae,Dr)&&(qt&&String(Number(Dr))===Dr&&Dr<Ae.length||Ve&&_o["$"+Dr]instanceof Symbol||(Ye.call(/[^\w$]/,Dr)?Zn.push(Oe(Dr,Ae)+": "+Oe(Ae[Dr],Ae)):Zn.push(Dr+": "+Oe(Ae[Dr],Ae))));if("function"==typeof U)for(var fo=0;fo<en.length;fo++)ne.call(Ae,en[fo])&&Zn.push("["+Oe(en[fo])+"]: "+Oe(Ae[en[fo]],Ae));return Zn}},3889:(K,Se,_)=>{"use strict";var S=Function.prototype.call,k=Object.prototype.hasOwnProperty,L=_(7707);K.exports=L.call(S,k)},3933:K=>{"use strict";var _=Object.prototype.toString,S=Math.max,L=function(P,D){for(var F=[],N=0;N<P.length;N+=1)F[N]=P[N];for(var H=0;H<D.length;H+=1)F[H+P.length]=D[H];return F};K.exports=function(P){var D=this;if("function"!=typeof D||"[object Function]"!==_.apply(D))throw new TypeError("Function.prototype.bind called on incompatible "+D);for(var N,F=function(P){for(var F=[],N=1,H=0;N<P.length;N+=1,H+=1)F[H]=P[N];return F}(arguments),O=S(0,D.length-F.length),I=[],T=0;T<O;T++)I[T]="$"+T;if(N=Function("binder","return function ("+function(f){for(var D="",F=0;F<f.length;F+=1)D+=f[F],F+1<f.length&&(D+=",");return D}(I)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof N){var ce=D.apply(this,L(F,arguments));return Object(ce)===ce?ce:this}return D.apply(P,L(F,arguments))}),D.prototype){var ie=function(){};ie.prototype=D.prototype,N.prototype=new ie,ie.prototype=null}return N}},3948:(K,Se)=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});var _=[];_[0]=function(){return function(){}},_[1]=function(z,R){return typeof R>"u"?z:function(P){z(P,R)}};var L=function(){function z(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return z.prototype.addHandler=function(R,f){return this.isHandlerAttached(R,f)||(this._handlers.push(R),this._contexts.push(f),this._createDispatcher(),this._updateHasHandlers()),this},z.prototype.removeHandler=function(R,f){var P=this._getHandlerIndex(R,f);return typeof P<"u"&&(this._handlers.splice(P,1),this._contexts.splice(P,1),this._createDispatcher(),this._updateHasHandlers()),this},z.prototype.isHandlerAttached=function(R,f){return typeof this._getHandlerIndex(R,f)<"u"},z.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},z.prototype._getHandlerIndex=function(R,f){var D,P=this._handlers.length;for(D=0;D<P&&(this._handlers[D]!==R||this._contexts[D]!==f);D++);return D<P?D:void 0},z.prototype._createDispatcher=function(){this.dispatch=function S(z){return _[z]||(_[z]=function k(z){for(var R="return function dispatcher"+z+"(payload) {\n",f=[],P=[],D=0;D<z;D++)f.push("cb"+D),P.push("ctx"+D),R+="    cb"+D+"(payload, ctx"+D+");\n";return R+="};",new(Function.bind.apply(Function,[void 0].concat(f.concat(P),[R])))}(z)),_[z]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},z}();Se.default=L},3996:K=>{"use strict";K.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},4198:(K,Se,_)=>{"use strict";var S=_(1143),k=_(592).supportsDescriptors,L=Object.getOwnPropertyDescriptor;K.exports=function(){if(k&&"gim"===/a/gim.flags){var R=L(RegExp.prototype,"flags");if(R&&"function"==typeof R.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var f="",P={};if(Object.defineProperty(P,"hasIndices",{get:function(){f+="d"}}),Object.defineProperty(P,"sticky",{get:function(){f+="y"}}),R.get.call(P),"dy"===f)return R.get}}return S}},4494:(K,Se,_)=>{"use strict";let S;function k(){return S}function L(e){const t=S;return S=e,t}const R=Symbol("NotFound");function P(e){return e===R||"\u0275NotFound"===e?.name}function D(e,t){return Object.is(e,t)}Error;let F=null,N=!1,H=1;const I=Symbol("SIGNAL");function T(e){const t=F;return F=e,t}const Q={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Z(e){if(N)throw new Error("");if(null===F)return;F.consumerOnSignalRead(e);const t=F.producersTail;if(void 0!==t&&t.producer===e)return;let n;const r=F.recomputing;if(r&&(n=void 0!==t?t.nextProducer:F.producers,void 0!==n&&n.producer===e))return F.producersTail=n,void(n.lastReadVersion=e.version);const o=e.consumersTail;if(void 0!==o&&o.consumer===F&&(!r||function ve(e,t){const n=t.producersTail;if(void 0!==n){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(o,F)))return;const i=G(F),s={producer:e,consumer:F,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};F.producersTail=s,void 0!==t?t.nextProducer=s:F.producers=s,i&&X(e,s)}function ge(e){if((!G(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==H)){if(!e.producerMustRecompute(e)&&!De(e))return void we(e);e.producerRecomputeValue(e),we(e)}}function Ie(e){if(void 0===e.consumers)return;const t=N;N=!0;try{for(let n=e.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||te(r)}}finally{N=t}}function Ye(){return!1!==F?.consumerAllowSignalWrites}function te(e){e.dirty=!0,Ie(e),e.consumerMarkedDirty?.(e)}function we(e){e.dirty=!1,e.lastCleanEpoch=H}function me(e){return e&&(e.producersTail=void 0,e.recomputing=!0),T(e)}function de(e,t){if(T(t),!e)return;e.recomputing=!1;const n=e.producersTail;let r=void 0!==n?n.nextProducer:e.producers;if(void 0!==r){if(G(e))do{r=Ve(r)}while(void 0!==r);void 0!==n?n.nextProducer=void 0:e.producers=void 0}}function De(e){for(let t=e.producers;void 0!==t;t=t.nextProducer){const n=t.producer,r=t.lastReadVersion;if(r!==n.version||(ge(n),r!==n.version))return!0}return!1}function U(e){if(G(e)){let t=e.producers;for(;void 0!==t;)t=Ve(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function X(e,t){const n=e.consumersTail,r=G(e);if(void 0!==n?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;void 0!==o;o=o.nextProducer)X(o.producer,o)}function Ve(e){const t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==r?r.prevConsumer=o:t.consumersTail=o,void 0!==o)o.nextConsumer=r;else if(t.consumers=r,!G(t)){let i=t.producers;for(;void 0!==i;)i=Ve(i)}return n}function G(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}const Fe=Symbol("UNSET"),Ce=Symbol("COMPUTING"),Je=Symbol("ERRORED"),wt={...Q,value:Fe,dirty:!0,error:null,equal:D,kind:"computed",producerMustRecompute:e=>e.value===Fe||e.value===Ce,producerRecomputeValue(e){if(e.value===Ce)throw new Error("");const t=e.value;e.value=Ce;const n=me(e);let r,o=!1;try{r=e.computation(),T(null),o=t!==Fe&&t!==Je&&r!==Je&&e.equal(t,r)}catch(i){r=Je,e.error=i}finally{de(e,n)}o?e.value=t:(e.value=r,e.version++)}};let He=function Te(){throw new Error};function vt(e){He(e)}function ot(e,t){const n=Object.create(En);n.value=e,void 0!==t&&(n.equal=t);const r=()=>function Ke(e){return Z(e),e.value}(n);return r[I]=n,[r,s=>_t(n,s),s=>function $t(e,t){Ye()||vt(e),_t(e,t(e.value))}(n,s)]}function _t(e,t){Ye()||vt(e),e.equal(e.value,t)||(e.value=t,function Wt(e){e.version++,function Y(){H++}(),Ie(e)}(e))}const En={...Q,equal:D,value:void 0,kind:"signal"};function Nt(e){return"function"==typeof e}function Ze(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ne=Ze(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ze(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ct{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Nt(r))try{r()}catch(i){t=i instanceof Ne?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{xn(i)}catch(s){t=t??[],s instanceof Ne?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ne(t)}}add(t){var n;if(t&&t!==this)if(this.closed)xn(t);else{if(t instanceof ct){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ze(n,t)}remove(t){const{_finalizers:n}=this;n&&ze(n,t),t instanceof ct&&t._removeParent(this)}}ct.EMPTY=(()=>{const e=new ct;return e.closed=!0,e})();const Xt=ct.EMPTY;function pn(e){return e instanceof ct||e&&"closed"in e&&Nt(e.remove)&&Nt(e.add)&&Nt(e.unsubscribe)}function xn(e){Nt(e)?e():e.unsubscribe()}const sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sn={setTimeout(e,t,...n){const{delegate:r}=Sn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Sn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function cr(e){Sn.setTimeout(()=>{const{onUnhandledError:t}=sn;if(!t)throw e;t(e)})}function mr(){}const ro=$o("C",void 0,void 0);function $o(e,t,n){return{kind:e,value:t,error:n}}let oo=null;function Jt(e){if(sn.useDeprecatedSynchronousErrorHandling){const t=!oo;if(t&&(oo={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=oo;if(oo=null,n)throw r}}else e()}class Ae extends ct{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,pn(t)&&t.add(this)):this.destination=Dr}static create(t,n,r){return new Dn(t,n,r)}next(t){this.isStopped?qr(function Wr(e){return $o("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?qr(function wo(e){return $o("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?qr(ro,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function qt(e,t){return Oe.call(e,t)}class Zn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){en(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){en(r)}else en(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){en(n)}}}class Dn extends Ae{constructor(t,n,r){let o;if(super(),Nt(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&sn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&qt(t.next,i),error:t.error&&qt(t.error,i),complete:t.complete&&qt(t.complete,i)}):o=t}this.destination=new Zn(o)}}function en(e){sn.useDeprecatedSynchronousErrorHandling?function ci(e){sn.useDeprecatedSynchronousErrorHandling&&oo&&(oo.errorThrown=!0,oo.error=e)}(e):cr(e)}function qr(e,t){const{onStoppedNotification:n}=sn;n&&Sn.setTimeout(()=>n(e,t))}const Dr={closed:!0,next:mr,error:function _o(e){throw e},complete:mr},fo="function"==typeof Symbol&&Symbol.observable||"@@observable";function io(e){return e}function Ir(e){return 0===e.length?io:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let In=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function bo(e){return e&&e instanceof Ae||function ui(e){return e&&Nt(e.next)&&Nt(e.error)&&Nt(e.complete)}(e)&&pn(e)}(n)?n:new Dn(n,r,o);return Jt(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Eo(r))((o,i)=>{const s=new Dn({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[fo](){return this}pipe(...n){return Ir(n)(this)}toPromise(n){return new(n=Eo(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Eo(e){var t;return null!==(t=e??sn.Promise)&&void 0!==t?t:Promise}const Ko=Ze(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let jn=(()=>{class e extends In{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Bo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ko}next(n){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Xt:(this.currentObservers=null,i.push(n),new ct(()=>{this.currentObservers=null,ze(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new In;return n.source=this,n}}return e.create=(t,n)=>new Bo(t,n),e})();class Bo extends jn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Xt}}class Tr extends jn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const Yo="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Pe extends Error{code;constructor(t,n){super(Zr(t,n)),this.code=t}}function Zr(e,t){return`${function fr(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const zn=globalThis;function gn(e){for(let t in e)if(e[t]===gn)return t;throw Error("")}function di(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function jr(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(jr).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function Pi(e,t){return e?t?`${e} ${t}`:e:t||""}const zs=gn({__forward_ref__:gn});function Vn(e){return e.__forward_ref__=Vn,e.toString=function(){return jr(this())},e}function Vt(e){return _r(e)?e():e}function _r(e){return"function"==typeof e&&e.hasOwnProperty(zs)&&e.__forward_ref__===Vn}function Qe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Un(e){return{providers:e.providers||[],imports:e.imports||[]}}function ys(e){return function Nl(e,t){return e.hasOwnProperty(t)&&e[t]||null}(e,_s)}function Fi(e){return e&&e.hasOwnProperty(Ws)?e[Ws]:null}const _s=gn({\u0275prov:gn}),Ws=gn({\u0275inj:gn});class tt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Qe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Si(e){return e&&!!e.\u0275providers}const Xi=gn({\u0275cmp:gn}),Qi=gn({\u0275dir:gn}),Ks=gn({\u0275pipe:gn}),Es=gn({\u0275mod:gn}),fi=gn({\u0275fac:gn}),ni=gn({__NG_ELEMENT_ID__:gn}),wi=gn({__NG_ENV_ID__:gn});function Gt(e){return"string"==typeof e?e:null==e?"":String(e)}const Do=gn({ngErrorCode:gn}),Ds=gn({ngErrorMessage:gn}),$i=gn({ngTokenPath:gn});function Ji(e,t){return Js("",-200,t)}function Ts(e,t){throw new Pe(-201,!1)}function Js(e,t,n){const r=new Pe(t,e);return r[Do]=t,r[Ds]=e,n&&(r[$i]=n),r}let Io;function ta(){return Io}function so(e){const t=Io;return Io=e,t}function es(e,t,n){const r=ys(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==t?t:void Ts()}const jo={};class Ca{injector;constructor(t){this.injector=t}retrieve(t,n){const r=pi(n)||0;try{return this.injector.get(t,8&r?null:jo,r)}catch(o){if(P(o))return o;throw o}}}function na(e,t=0){const n=k();if(void 0===n)throw new Pe(-203,!1);if(null===n)return es(e,void 0,t);{const r=function Sa(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(t),o=n.retrieve(e,r);if(P(o)){if(r.optional)return null;throw o}return o}}function se(e,t=0){return(ta()||na)(Vt(e),t)}function Le(e,t){return se(e,pi(t))}function pi(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ms(e){const t=[];for(let n=0;n<e.length;n++){const r=Vt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Pe(900,!1);let o,i=0;for(let s=0;s<r.length;s++){const a=r[s],l=fl(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(se(o,i))}else t.push(se(r))}return t}function fl(e){return e.__NG_DI_FLAG__}function h(e,t){return e.hasOwnProperty(fi)?e[fi]:null}function A(e,t){e.forEach(n=>Array.isArray(n)?A(n,t):t(n))}function ee(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function J(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ye(e,t,n){let r=dt(e,t);return r>=0?e[1|r]=n:(r=~r,function qe(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function je(e,t){const n=dt(e,t);if(n>=0)return e[1|n]}function dt(e,t){return function ut(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const At={},gt=[],Mt=new tt(""),ur=new tt("",-1),Zt=new tt("");class Kt{get(t,n=jo){if(n===jo){const o=Js("",-201);throw o.name="\u0275NotFound",o}return n}}function $n(e){return e[Es]||null}function St(e){return e[Xi]||null}function hn(e){return e[Qi]||null}function Rn(e){return e[Ks]||null}function $(e){return{\u0275providers:e}}function Be(...e){return{\u0275providers:Pt(0,e),\u0275fromNgModule:!0}}function Pt(e,...t){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return A(t,s=>{const a=s;mn(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&on(o,i),n}function on(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Yr(o,i=>{t(i,r)})}}function mn(e,t,n,r){if(!(e=Vt(e)))return!1;let o=null,i=Fi(e);const s=!i&&St(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=Fi(l),!i)return!1;o=l}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)mn(c,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;r.add(o);try{A(i.imports,d=>{mn(d,t,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&on(c,t)}if(!a){const c=h(o)||(()=>new o);t({provide:o,useFactory:c,deps:gt},o),t({provide:Zt,useValue:o,multi:!0},o),t({provide:Mt,useValue:()=>se(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;Yr(l,d=>{t(d,c)})}}}return o!==e&&void 0!==e.providers}function Yr(e,t){for(let n of e)Si(n)&&(n=n.\u0275providers),Array.isArray(n)?Yr(n,t):t(n)}const dn=gn({provide:String,useValue:gn});function Ar(e){return null!==e&&"object"==typeof e&&dn in e}function xt(e){return"function"==typeof e}const nr=new tt(""),Mr={},hr={};let ir;function g(){return void 0===ir&&(ir=new Kt),ir}class B{}class _e extends B{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,wa(t,s=>this.processProvider(s)),this.records.set(ur,Ur(void 0,this)),o.has("environment")&&this.records.set(B,Ur(void 0,this));const i=this.records.get(nr);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Zt,gt,{self:!0}))}retrieve(t,n){const r=pi(n)||0;try{return this.get(t,jo,r)}catch(o){if(P(o))return o;throw o}}destroy(){Bn(this),this._destroyed=!0;const t=T(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),T(t)}}onDestroy(t){return Bn(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Bn(this);const n=L(this),r=so(void 0);try{return t()}finally{L(n),so(r)}}get(t,n=jo,r){if(Bn(this),t.hasOwnProperty(wi))return t[wi](this);const o=pi(r),s=L(this),a=so(void 0);try{if(!(4&o)){let c=this.records.get(t);if(void 0===c){const d=function Pl(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(t)&&ys(t);c=d&&this.injectableDefInScope(d)?Ur(it(t),Mr):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c,o)}return(2&o?g():this.parent).get(t,n=8&o&&n===jo?null:n)}catch(l){const c=function _a(e){return e[Do]}(l);throw-200===c||-201===c?new Pe(c,null):l}finally{so(a),L(s)}}resolveInjectorInitializers(){const t=T(null),n=L(this),r=so(void 0);try{const i=this.get(Mt,gt,{self:!0});for(const s of i)s()}finally{L(n),so(r),T(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(jr(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let n=xt(t=Vt(t))?t:Vt(t&&t.provide);const r=function Tn(e){return Ar(e)?Ur(void 0,e.useValue):Ur(Wn(e),Mr)}(t);if(!xt(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Ur(void 0,Mr,!0),o.factory=()=>Ms(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){const o=T(null);try{if(n.value===hr)throw Ji(jr(t));return n.value===Mr&&(n.value=hr,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function Ol(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{T(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Vt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function it(e){const t=ys(e),n=null!==t?t.factory:h(e);if(null!==n)return n;if(e instanceof tt)throw new Pe(204,!1);if(e instanceof Function)return function zt(e){if(e.length>0)throw new Pe(204,!1);const n=function Ha(e){return(e?.[_s]??null)||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Pe(204,!1)}function Wn(e,t,n){let r;if(xt(e)){const o=Vt(e);return h(o)||it(o)}if(Ar(e))r=()=>Vt(e.useValue);else if(function pr(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ms(e.deps||[]));else if(function Vr(e){return!(!e||!e.useExisting)}(e))r=(o,i)=>se(Vt(e.useExisting),void 0!==i&&8&i?8:void 0);else{const o=Vt(e&&(e.useClass||e.provide));if(!function Wa(e){return!!e.deps}(e))return h(o)||it(o);r=()=>new o(...Ms(e.deps))}return r}function Bn(e){if(e.destroyed)throw new Pe(205,!1)}function Ur(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function wa(e,t){for(const n of e)Array.isArray(n)?wa(n,t):n&&Si(n)?wa(n.\u0275providers,t):t(n)}function Vo(e,t){let n;e instanceof _e?(Bn(e),n=e):n=new Ca(e);const o=L(n),i=so(void 0);try{return t()}finally{L(o),so(i)}}function Ec(){return void 0!==ta()||null!=k()}function Qr(e){return Array.isArray(e)&&"object"==typeof e[1]}function hi(e){return Array.isArray(e)&&!0===e[1]}function Uf(e){return!!(4&e.flags)}function Ia(e){return e.componentOffset>-1}function jl(e){return!(1&~e.flags)}function Vi(e){return!!e.template}function Ya(e){return!!(512&e[2])}function Ta(e){return!(256&~e[2])}function Oo(e){for(;Array.isArray(e);)e=e[0];return e}function Vl(e,t){return Oo(t[e])}function Co(e,t){return Oo(t[e.index])}function Ul(e,t){return e.data[t]}function ml(e,t){return e[t]}function gi(e,t){const n=t[e];return Qr(n)?n:n[0]}function gd(e){return!(128&~e[2])}function oi(e,t){return null==t?null:e[t]}function Zf(e){e[17]=0}function Kf(e){1024&e[2]||(e[2]|=1024,gd(e)&&Hl(e))}function pu(e){return!!(9216&e[2]||e[24]?.dirty)}function md(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),pu(e)&&Hl(e)}function Hl(e){e[10].changeDetectionScheduler?.notify(0);let t=Aa(e);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,gd(t));)t=Aa(t)}function hu(e,t){if(Ta(e))throw new Pe(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function Aa(e){const t=e[3];return hi(t)?t[3]:t}function Xf(e){return e[7]??=[]}function Qf(e){return e.cleanup??=[]}const vn={lFrame:Hr(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let _d=!1;function ep(){vn.lFrame.elementDepthCount--}function bd(){return vn.bindingsEnabled}function tp(){return null!==vn.skipHydrationRootTNode}function np(e){return vn.skipHydrationRootTNode===e}function rp(){vn.skipHydrationRootTNode=null}function et(){return vn.lFrame.lView}function _n(){return vn.lFrame.tView}function pt(e){return vn.lFrame.contextLView=e,e[8]}function ht(e){return vn.lFrame.contextLView=null,e}function bn(){let e=gg();for(;null!==e&&64===e.type;)e=e.parent;return e}function gg(){return vn.lFrame.currentTNode}function Xa(e,t){const n=vn.lFrame;n.currentTNode=e,n.isParent=t}function zl(){return vn.lFrame.isParent}function mg(){vn.lFrame.isParent=!1}function xs(){return _d}function Qt(e){const t=_d;return _d=e,t}function Ei(){const e=vn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Qa(){return vn.lFrame.bindingIndex}function Ui(){return vn.lFrame.bindingIndex++}function Ja(e){const t=vn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Qn(e,t){const n=vn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Jr(t)}function Jr(e){vn.lFrame.currentDirectiveIndex=e}function br(){return vn.lFrame.currentQueryIndex}function Po(e){vn.lFrame.currentQueryIndex=e}function Hi(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[5]:null}function Di(e,t,n){if(4&n){let o=t,i=e;for(;!(o=o.parent,null!==o||1&n||(o=Hi(i),null===o||(i=i[14],10&o.type))););if(null===o)return!1;t=o,e=i}const r=vn.lFrame=Ii();return r.currentTNode=t,r.lView=e,!0}function To(e){const t=Ii(),n=e[1];vn.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ii(){const e=vn.lFrame,t=null===e?null:e.child;return null===t?Hr(e):t}function Hr(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function tn(){const e=vn.lFrame;return vn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ti=tn;function Cn(){const e=tn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qn(){return vn.lFrame.selectedIndex}function Rt(e){vn.lFrame.selectedIndex=e}function er(){const e=vn.lFrame;return Ul(e.tView,e.selectedIndex)}let kn=!0;function Kn(){return kn}function Yn(e){kn=e}let Fo={elements:void 0};function mu(e,t=null,n=null,r){const o=Mc(e,t,n,r);return o.resolveInjectorInitializers(),o}function Mc(e,t=null,n=null,r,o=new Set){const i=[n||gt,Be(e)];return r=r||("object"==typeof e?void 0:jr(e)),new _e(i,t||g(),r||null,o)}class Gr{static THROW_IF_NOT_FOUND=jo;static NULL=new Kt;static create(t,n){if(Array.isArray(t))return mu({name:""},n,t,"");{const r=t.name??"";return mu({name:r},t.parent,t.providers,r)}}static \u0275prov=Qe({token:Gr,providedIn:"any",factory:()=>se(ur)});static __NG_ELEMENT_ID__=-1}const ii=new tt("");let Gi=(()=>class e{static __NG_ELEMENT_ID__=f_;static __NG_ENV_ID__=n=>n})();class bg extends Gi{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Ta(this._lView)}onDestroy(t){const n=this._lView;return hu(n,t),()=>function vd(e,t){if(null===e[21])return;const n=e[21].indexOf(t);-1!==n&&e[21].splice(n,1)}(n,t)}}function f_(){return new bg(et())}class Cd{_console=console;handleError(t){this._console.error("ERROR",t)}}const el=new tt("",{providedIn:"root",factory:()=>{const e=Le(B);let t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(Cd),t.handleError(n))}}}),e$={provide:Mt,useValue:()=>{Le(Cd)},multi:!0};function Ai(e,t){const[n,r,o]=ot(e,t?.equal),i=n;return i.set=r,i.update=o,i.asReadonly=p_.bind(i),i}function p_(){const e=this[I];if(void 0===e.readonlyFn){const t=()=>this();t[I]=e,e.readonlyFn=t}return e.readonlyFn}class Sd{}const iI=new tt("",{providedIn:"root",factory:()=>!1}),sI=new tt(""),aI=new tt("");let h_=(()=>class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=n$})();function n$(){return new h_(et(),bn())}let xc=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Tr(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new In(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})(),Cg=(()=>{class e{internalPendingTasks=Le(xc);scheduler=Le(Sd);errorHandler=Le(el);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})();function op(...e){}let lI=(()=>{class e{static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new r$})}return e})();class r${dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const r=this.queues.get(t.zone);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[n,r]of this.queues)t||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(const r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let cI=null;function kc(){return cI}class i${}let g_=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(a$),providedIn:"platform"})}return e})();const s$=new tt("");let a$=(()=>{class e extends g_{_location;_history;_doc=Le(ii);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kc().getBaseHref(this._doc)}onPopState(n){const r=kc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=kc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function m_(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function uI(e){const t=e.search(/#|\?|$/);return"/"===e[t-1]?e.slice(0,t-1)+e.slice(t):e}function Wl(e){return e&&"?"!==e[0]?`?${e}`:e}let vl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(fI),providedIn:"root"})}return e})();const dI=new tt("");let fI=(()=>{class e extends vl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Le(ii).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return m_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Wl(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Wl(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Wl(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(se(g_),se(dI,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Rc=(()=>{class e{_subject=new jn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function u$(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(uI(pI(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Wl(r))}normalize(n){return e.stripTrailingSlash(function c$(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,pI(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wl(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Wl;static joinWithSlash=m_;static stripTrailingSlash=uI;static \u0275fac=function(r){return new(r||e)(se(vl))};static \u0275prov=Qe({token:e,factory:()=>function l$(){return new Rc(se(vl))}(),providedIn:"root"})}return e})();function pI(e){return e.replace(/\/index.html$/,"")}function hI(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class gI{}var M=_(1890);function mI(e){return Nt(e?.lift)}function si(e){return t=>{if(mI(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ho(e,t,n,r,o){return new d$(e,t,n,r,o)}class d$ extends Ae{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function rr(e,t){return si((n,r)=>{let o=0;n.subscribe(Ho(r,i=>{r.next(e.call(t,i,o++))}))})}function ql(e){return{toString:e}.toString()}class E${previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function _I(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const ns=(()=>{const e=()=>bI;return e.ngInherit=!0,e})();function bI(e){return e.type.prototype.ngOnChanges&&(e.setInput=I$),D$}function D$(){const e=SI(this),t=e?.current;if(t){const n=e.previous;if(n===At)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function I$(e,t,n,r,o){const i=this.declaredInputs[r],s=SI(e)||function T$(e,t){return e[CI]=t}(e,{previous:At,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new E$(c&&c.currentValue,n,l===At),_I(e,t,o,n)}const CI="__ngSimpleChanges__";function SI(e){return e[CI]||null}const vu=[],Or=function(e,t=null,n){for(let r=0;r<vu.length;r++)(0,vu[r])(e,t,n)};function wI(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=d&&(e.destroyHooks??=[]).push(n,d)}}function wg(e,t,n){EI(e,t,3,n)}function Eg(e,t,n,r){(3&e[2])===n&&EI(e,t,n,r)}function __(e,t){let n=e[2];(3&n)===t&&(n&=16383,n+=1,e[2]=n)}function EI(e,t,n,r){const i=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[17]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[17]+=65536),(a<i||-1==i)&&(R$(e,n,t,l),e[17]=(4294901760&e[17])+l+2),l++}function DI(e,t){Or(4,e,t);const n=T(null);try{t.call(e)}finally{T(n),Or(5,e,t)}}function R$(e,t,n,r){const o=n[r]<0,i=n[r+1],a=e[o?-n[r]:n[r]];o?e[2]>>14<e[17]>>16&&(3&e[2])===t&&(e[2]+=16384,DI(a,i)):DI(a,i)}class sp{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}}function TI(e){return 3===e||4===e||6===e}function AI(e){return 64===e.charCodeAt(0)}function Ad(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||MI(e,n,o,0,-1===n||2===n?t[++r]:null)}}return e}function MI(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n)return void(null!==o&&(e[i+1]=o));i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}function C_(e){return-1!==e}function ap(e){return 32767&e}function lp(e,t){let n=function F$(e){return e>>16}(e),r=t;for(;n>0;)r=r[14],n--;return r}let S_=!0;function Dg(e){const t=S_;return S_=e,t}let L$=0;const yl={};function Ig(e,t){const n=RI(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,w_(r.data,e),w_(t,null),w_(r.blueprint,null));const o=Tg(e,t),i=e.injectorIndex;if(C_(o)){const s=ap(o),a=lp(o,t),l=a[1].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function w_(e,t){e.push(0,0,0,0,0,0,0,0,t)}function RI(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Tg(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=BI(o),null===r)return-1;if(n++,o=o[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function E_(e,t,n){!function $$(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ni)&&(r=n[ni]),null==r&&(r=n[ni]=L$++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function NI(e,t,n){if(8&n||void 0!==e)return e;Ts()}function OI(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const o=e[9],i=so(void 0);try{return o?o.get(t,r,8&n):es(t,r,8&n)}finally{so(i)}}return NI(r,0,n)}function PI(e,t,n,r=0,o){if(null!==e){if(2048&t[2]&&!(2&r)){const s=function H$(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[2]&&!Ya(s);){const a=FI(i,s,n,2|r,yl);if(a!==yl)return a;let l=i.parent;if(!l){const c=s[20];if(c){const d=c.get(n,yl,r);if(d!==yl)return d}l=BI(s),s=s[14]}i=l}return o}(e,t,n,r,yl);if(s!==yl)return s}const i=FI(e,t,n,r,yl);if(i!==yl)return i}return OI(t,n,r,o)}function FI(e,t,n,r,o){const i=function V$(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ni)?e[ni]:void 0;return"number"==typeof t?t>=0?255&t:U$:t}(n);if("function"==typeof i){if(!Di(t,e,r))return 1&r?NI(o,0,r):OI(t,n,r,o);try{let s;if(s=i(r),null!=s||8&r)return s;Ts()}finally{Ti()}}else if("number"==typeof i){let s=null,a=RI(e,t),l=-1,c=1&r?t[15][5]:null;for((-1===a||4&r)&&(l=-1===a?Tg(e,t):t[a+8],-1!==l&&$I(r,!1)?(s=t[1],a=ap(l),t=lp(l,t)):a=-1);-1!==a;){const d=t[1];if(LI(i,a,d.data)){const p=j$(a,t,n,s,r,c);if(p!==yl)return p}l=t[a+8],-1!==l&&$I(r,t[1].data[a+8]===c)&&LI(i,a,t)?(s=d,a=ap(l),t=lp(l,t)):a=-1}}return o}function j$(e,t,n,r,o,i){const s=t[1],a=s.data[e+8],d=Ag(a,s,n,null==r?Ia(a)&&S_:r!=s&&!!(3&a.type),1&o&&i===a);return null!==d?cp(t,s,d,a,o):yl}function Ag(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,d=i>>20,m=o?a+d:e.directiveEnd;for(let C=r?a:a+d;C<m;C++){const x=s[C];if(C<l&&n===x||C>=l&&x.type===n)return C}if(o){const C=s[l];if(C&&Vi(C)&&C.type===n)return l}return null}function cp(e,t,n,r,o){let i=e[n];const s=t.data;if(i instanceof sp){const a=i;if(a.resolving)throw function un(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Gt(e)}(s[n]),Ji();const l=Dg(a.canSeeViewProviders);a.resolving=!0;const p=a.injectImpl?so(a.injectImpl):null;Di(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function k$(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=bI(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,s[n],t)}finally{null!==p&&so(p),Dg(l),a.resolving=!1,Ti()}}return i}function LI(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function $I(e,t){return!(2&e||1&e&&t)}class Ao{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return PI(this._tNode,this._lView,t,pi(r),n)}}function U$(){return new Ao(bn(),et())}function eo(e){return ql(()=>{const t=e.prototype.constructor,n=t[fi]||D_(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[fi]||D_(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function D_(e){return _r(e)?()=>{const t=D_(Vt(e));return t&&t()}:h(e)}function BI(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[5]:null}function Zl(e){return function B$(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(TI(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(bn(),e)}function X$(){return Md(bn(),et())}function Md(e,t){return new rt(Co(e,t))}let rt=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=X$})();function GI(e){return e instanceof rt?e.nativeElement:e}function Q$(){return this._results[Symbol.iterator]()}class J${_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new jn}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function w(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function v(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Q$}function up(e){return!(128&~e.flags)}var xg=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(xg||{});const kg=new Map;let nB=0;function A_(e){kg.delete(e[19])}const x_="__ngContext__";function Rs(e,t){Qr(t)?(e[x_]=t[19],function oB(e){kg.set(e[19],e)}(t)):e[x_]=t}function t1(e){return r1(e[12])}function n1(e){return r1(e[4])}function r1(e){for(;null!==e&&!hi(e);)e=e[4];return e}let k_;const fp=new tt("",{providedIn:"root",factory:()=>IB}),IB="ng",u1=new tt(""),Ng=new tt("",{providedIn:"platform",factory:()=>"unknown"}),d1=new tt("",{providedIn:"root",factory:()=>function Oc(){if(void 0!==k_)return k_;if(typeof document<"u")return document;throw new Pe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),OB=new tt("",{providedIn:"root",factory:()=>!1}),$B=new tt("");function Lg(e){return!(32&~e.flags)}function F1(e,t){const n=e.contentQueries;if(null!==n){const r=T(null);try{for(let o=0;o<n.length;o+=2){const s=n[o+1];if(-1!==s){const a=e.data[s];Po(n[o]),a.contentQueries(2,t[s],s)}}}finally{T(r)}}}function Z_(e,t,n){Po(0);const r=T(null);try{t(e,n)}finally{T(r)}}function K_(e,t,n){if(Uf(t)){const r=T(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{T(r)}}}var Kl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Kl||{});let Ug;function Od(e){return function L1(){if(void 0===Ug&&(Ug=null,zn.trustedTypes))try{Ug=zn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ug}()?.createHTML(e)||e}class _u{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Yo})`}}class u3 extends _u{getTypeName(){return"HTML"}}class d3 extends _u{getTypeName(){return"Style"}}class f3 extends _u{getTypeName(){return"Script"}}class p3 extends _u{getTypeName(){return"URL"}}class h3 extends _u{getTypeName(){return"ResourceURL"}}function oa(e){return e instanceof _u?e.changingThisBreaksApplicationSecurity:e}function _l(e,t){const n=function g3(e){return e instanceof _u&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Yo})`)}return n===t}class C3{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Od(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class S3{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=Od(t),n}}const E3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Gg(e){return(e=String(e)).match(E3)?e:"unsafe:"+e}function Yl(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function gp(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const U1=Yl("area,br,col,hr,img,wbr"),H1=Yl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),G1=Yl("rp,rt"),X_=gp(U1,gp(H1,Yl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gp(G1,Yl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gp(G1,H1)),Q_=Yl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),z1=gp(Q_,Yl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),D3=Yl("script,style,template");class I3{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,o=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)o.push(n),n=M3(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=A3(n);if(i){n=i;break}n=o.pop()}return this.buf.join("")}startElement(t){const n=W1(t).toLowerCase();if(!X_.hasOwnProperty(n))return this.sanitizedSomething=!0,!D3.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!z1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;Q_[a]&&(l=Gg(l)),this.buf.push(" ",s,'="',Z1(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=W1(t).toLowerCase();X_.hasOwnProperty(n)&&!U1.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Z1(t))}}function A3(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw q1(t);return t}function M3(e){const t=e.firstChild;if(t&&function T3(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw q1(t);return t}function W1(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function q1(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const x3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k3=/([^\#-~ |!])/g;function Z1(e){return e.replace(/&/g,"&amp;").replace(x3,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(k3,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zg;function K1(e,t){let n=null;try{zg=zg||function V1(e){const t=new S3(e);return function w3(){try{return!!(new window.DOMParser).parseFromString(Od(""),"text/html")}catch{return!1}}()?new C3(t):t}(e);let r=t?String(t):"";n=zg.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=zg.getInertBodyElement(r)}while(r!==i);return Od((new I3).sanitizeChildren(J_(n)||n))}finally{if(n){const r=J_(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function J_(e){return"content"in e&&function R3(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ns=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ns||{});const B3=/^>|^->|<!--|-->|--!>|<!-$/g,j3=/(<|>)/g;function bl(e){return e instanceof Function?e():e}function J3(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}const aT="ng-template";function ej(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==J3(t[o+1].toLowerCase(),n,0))return!0}else if(nb(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===n)return!0}return!1}function nb(e){return 4===e.type&&e.value!==aT}function tj(e,t,n){return t===(4!==e.type||n?e.value:aT)}function nj(e,t,n){let r=4;const o=e.attrs,i=null!==o?function ij(e){for(let t=0;t<e.length;t++)if(TI(e[t]))return t;return e.length}(o):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!tj(e,l,n)||""===l&&1===t.length){if(tl(r))return!1;s=!0}}else if(8&r){if(null===o||!ej(e,o,l,n)){if(tl(r))return!1;s=!0}}else{const c=t[++a],d=rj(l,o,nb(e),n);if(-1===d){if(tl(r))return!1;s=!0;continue}if(""!==c){let p;if(p=d>i?"":o[d+1].toLowerCase(),2&r&&c!==p){if(tl(r))return!1;s=!0}}}}else{if(!s&&!tl(r)&&!tl(l))return!1;if(s&&tl(l))continue;s=!1,r=l|1&r}}return tl(r)||s}function tl(e){return!(1&e)}function rj(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function sj(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function lT(e,t,n=!1){for(let r=0;r<t.length;r++)if(nj(e,t[r],n))return!0;return!1}function aj(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function cT(e,t){return e?":not("+t.trim()+")":t}function lj(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!tl(s)&&(t+=cT(i,o),o=""),r=s,i=i||!tl(r);n++}return""!==o&&(t+=cT(i,o)),t}const kr={};function ob(e,t){return e.createComment(function J1(e){return e.replace(B3,t=>t.replace(j3,"\u200b$1\u200b"))}(t))}function Zg(e,t,n){return e.createElement(t,n)}function bu(e,t,n,r,o){e.insertBefore(t,n,r,o)}function dT(e,t,n){e.appendChild(t,n)}function fT(e,t,n,r,o){null!==r?bu(e,t,n,r,o):dT(e,t,n)}function hT(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&function P$(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{const i=o,s=n[++r];AI(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}}(e,t,r),null!==o&&function fj(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,o),null!==i&&function dj(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function ib(e,t,n,r,o,i,s,a,l,c,d){const p=26+r,m=p+o,C=function pj(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:kr);return n}(p,m),x="function"==typeof c?c():c;return C[1]={type:e,blueprint:C,template:n,queries:null,viewQuery:a,declTNode:t,data:C.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:d}}function Kg(e,t,n,r,o,i,s,a,l,c,d){const p=t.blueprint.slice();return p[0]=o,p[2]=1228|r,(null!==c||e&&2048&e[2])&&(p[2]|=2048),Zf(p),p[3]=p[14]=e,p[8]=n,p[10]=s||e&&e[10],p[11]=a||e&&e[11],p[9]=l||e&&e[9]||null,p[5]=i,p[19]=function rB(){return nB++}(),p[6]=d,p[20]=c,p[15]=2==t.type?e[15]:p,p}function sb(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function yp(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function ab(e,t){return e[12]?e[13][4]=t:e[12]=t,e[13]=t,t}function ue(e=1){mT(_n(),et(),qn()+e,!1)}function mT(e,t,n,r){if(!r)if(3&~t[2]){const i=e.preOrderHooks;null!==i&&Eg(t,i,0,n)}else{const i=e.preOrderCheckHooks;null!==i&&wg(t,i,n)}Rt(n)}var Yg=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Yg||{});function _p(e,t,n,r){const o=T(null);try{const[i,s,a]=e.inputs[n];let l=null;0!==(s&Yg.SignalBased)&&(l=t[i][I]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==a&&(r=a.call(t,r)),null!==e.setInput?e.setInput(t,l,r,n,i):_I(t,l,i,r)}finally{T(o)}}var Fc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Fc||{});function cb(e,t){return undefined(e,t)}function Fd(e,t,n,r,o){if(null!=r){let i,s=!1;hi(r)?i=r:Qr(r)&&(s=!0,r=r[0]);const a=Oo(r);0===e&&null!==n?null==o?dT(t,n,a):bu(t,n,a,o||null,!0):1===e&&null!==n?bu(t,n,a,o||null,!0):2===e?function vp(e,t,n){e.removeChild(null,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function Cj(e,t,n,r,o){const i=n[7];i!==Oo(n)&&Fd(t,e,r,i,o);for(let a=10;a<n.length;a++){const l=n[a];Qg(l[1],l,e,t,r,i)}}(t,e,i,n,o)}}function yT(e,t){t[10].changeDetectionScheduler?.notify(9),Qg(e,t,t[11],2,null,null)}function ub(e,t){const n=e[9],r=n.indexOf(t);n.splice(r,1)}function bp(e,t){if(Ta(t))return;const n=t[11];n.destroyNode&&Qg(e,t,n,3,null,null),function vj(e){let t=e[12];if(!t)return db(e[1],e);for(;t;){let n=null;if(Qr(t))n=t[12];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Qr(t)&&db(t[1],t),t=t[3];null===t&&(t=e),Qr(t)&&db(t[1],t),n=t&&t[4]}t=n}}(t)}function db(e,t){if(Ta(t))return;const n=T(null);try{t[2]&=-129,t[2]|=256,t[24]&&U(t[24]),function _j(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof sp)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Or(4,a,l);try{l.call(a)}finally{Or(5,a,l)}}else{Or(4,o,i);try{i.call(o)}finally{Or(5,o,i)}}}}}(e,t),function yj(e,t){const n=e.cleanup,r=t[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[7]=null);const o=t[21];if(null!==o){t[21]=null;for(let s=0;s<o.length;s++)(0,o[s])()}const i=t[23];if(null!==i){t[23]=null;for(const s of i)s.destroy()}}(e,t),1===t[1].type&&t[11].destroy();const r=t[16];if(null!==r&&hi(t[3])){r!==t[3]&&ub(r,t);const o=t[18];null!==o&&o.detachView(e)}A_(t)}finally{T(n)}}function fb(e,t,n){return function _T(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[0];if(Ia(r)){const{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Kl.None||o===Kl.Emulated)return null}return Co(r,n)}(e,t.parent,n)}function bT(e,t,n){return ST(e,t,n)}let ST=function CT(e,t,n){return 40&e.type?Co(e,n):null};function hb(e,t,n,r){const o=fb(e,r,t),i=t[11],a=bT(r.parent||t[5],r,t);if(null!=o)if(Array.isArray(n))for(let l=0;l<n.length;l++)fT(i,o,n[l],a,!1);else fT(i,o,n,a,!1)}function Cu(e,t){if(null!==t){const n=t.type;if(3&n)return Co(t,e);if(4&n)return Xg(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Cu(e,r);{const o=e[t.index];return hi(o)?Xg(-1,o):Oo(o)}}if(128&n)return Cu(e,t.next);if(32&n)return cb(t,e)()||Oo(e[t.index]);{const r=ET(e,t);return null!==r?Array.isArray(r)?r[0]:Cu(Aa(e[15]),r):Cu(e,t.next)}}return null}function ET(e,t){return null!==t?e[15][5].projection[t.projection]:null}function Xg(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return Cu(r,o)}return t[7]}function gb(e,t,n,r,o,i,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Rs(Oo(a),r),n.flags|=2),!Lg(n))if(8&l)gb(e,t,n.child,r,o,i,!1),Fd(t,e,o,a,i);else if(32&l){const c=cb(n,r);let d;for(;d=c();)Fd(t,e,o,d,i);Fd(t,e,o,a,i)}else 16&l?DT(e,t,r,n,o,i):Fd(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Qg(e,t,n,r,o,i){gb(n,r,e.firstChild,t,o,i,!1)}function DT(e,t,n,r,o,i){const s=n[15],l=s[5].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Fd(t,e,o,l[c],i);else{let c=l;const d=s[3];up(r)&&(c.flags|=128),gb(e,t,c,d,o,i,!0)}}function IT(e,t,n,r,o){const i=qn(),s=2&r;try{Rt(-1),s&&t.length>26&&mT(e,t,26,!1),Or(s?2:0,o,n),n(r,o)}finally{Rt(i),Or(s?3:1,o,n)}}function Jg(e,t,n){(function Tj(e,t,n){const r=n.directiveStart,o=n.directiveEnd;Ia(n)&&function hj(e,t,n){const r=Co(t,e),o=function gT(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ib(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(n),i=e[10].rendererFactory,s=ab(e,Kg(e,o,null,sb(n),r,t,null,i.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Ig(n,t);const i=n.initialInputs;for(let s=r;s<o;s++){const a=e.data[s],l=cp(t,e,s,n);Rs(l,t),null!==i&&kj(0,s-r,l,a,0,i),Vi(a)&&(gi(n.index,t)[8]=cp(t,e,s,n))}})(e,t,n),!(64&~n.flags)&&function Aj(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function Ge(){return vn.lFrame.currentDirectiveIndex}();try{Rt(i);for(let a=r;a<o;a++){const l=e.data[a],c=t[a];Jr(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&Mj(l,c)}}finally{Rt(-1),Jr(s)}}(e,t,n)}function Ld(e,t,n=Co){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}let TT=()=>null;function mb(e,t,n,r,o,i){rm(e,t[1],t,n,r)?Ia(e)&&function AT(e,t){const n=gi(t,e);16&n[2]||(n[2]|=64)}(t,e.index):(3&e.type&&(n=function Ij(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),function vb(e,t,n,r,o,i){if(3&e.type){const s=Co(e,t);r=null!=i?i(r,e.value||"",n):r,o.setProperty(s,n,r)}}(e,t,n,r,o,i))}function Mj(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function yb(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let o=0;o<n.length;o++){const i=n[o];lT(t,i.selectors,!1)&&(r??=[],Vi(i)?r.unshift(i):r.push(i))}return r}function kj(e,t,n,r,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;a+=2)_p(r,n,s[a],s[a+1])}function tm(e,t,n,r,o){const i=26+n,s=t[1],a=o(s,t,e,r,n);t[i]=a,Xa(e,!0);const l=2===e.type;return l?(hT(t[11],a,e),(0===function dg(){return vn.lFrame.elementDepthCount}()||jl(e))&&Rs(a,t),function fg(){vn.lFrame.elementDepthCount++}()):Rs(a,t),Kn()&&(!l||!Lg(e))&&hb(s,t,a,e),e}function nm(e){let t=e;return zl()?mg():(t=t.parent,Xa(t,!1)),t}function rm(e,t,n,r,o){const i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r];let a=!1;if(s)for(let l=0;l<s.length;l+=2){const c=s[l];_p(t.data[c],n[c],s[l+1],o),a=!0}if(i)for(const l of i)_p(t.data[l],n[l],r,o),a=!0;return a}function Nj(e,t){const n=gi(t,e),r=n[1];!function Oj(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[0];null!==o&&null===n[6]&&(n[6]=null),Or(18),om(r,n,n[8]),Or(19,n[8])}function om(e,t,n){To(t);try{const r=e.viewQuery;null!==r&&Z_(1,r,n);const o=e.template;null!==o&&IT(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[18]?.finishViewCreation(e),e.staticContentQueries&&F1(e,t),e.staticViewQueries&&Z_(2,e.viewQuery,n);const i=e.components;null!==i&&function Pj(e,t){for(let n=0;n<t.length;n++)Nj(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Cn()}}function $d(e,t,n,r){const o=T(null);try{const i=t.tView,l=Kg(e,i,n,4096&e[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=e[t.index];const d=e[18];return null!==d&&(l[18]=d.createEmbeddedView(i)),om(i,l,n),l}finally{T(o)}}function Su(e,t){return!t||null===t.firstChild||up(e)}function Cp(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=t[n.index];null!==i&&r.push(Oo(i)),hi(i)&&Lj(i,r);const s=n.type;if(8&s)Cp(e,t,n.child,r);else if(32&s){const a=cb(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=ET(t,n);if(Array.isArray(a))r.push(...a);else{const l=Aa(t[15]);Cp(l[1],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function Lj(e,t){for(let n=10;n<e.length;n++){const r=e[n],o=r[1].firstChild;null!==o&&Cp(r[1],r,o,t)}e[7]!==e[0]&&t.push(e[7])}function RT(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let NT=[];const Vj={...Q,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Hl(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},Hj={...Q,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Aa(e.lView);for(;t&&!OT(t[1]);)t=Aa(t);t&&Kf(t)},consumerOnSignalRead(){this.lView[24]=this}};function OT(e){return 2!==e.type}function PT(e){if(null===e[23])return;let t=!0;for(;t;){let n=!1;for(const r of e[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[2])}}function im(e,t=0){const r=e[10].rendererFactory;r.begin?.();try{!function zj(e,t){const n=xs();try{Qt(!0),bb(e,t);let r=0;for(;pu(e);){if(100===r)throw new Pe(103,!1);r++,bb(e,1)}}finally{Qt(n)}}(e,t)}finally{r.end?.()}}function FT(e,t,n,r){if(Ta(t))return;const o=t[2];To(t);let a=!0,l=null,c=null;OT(e)?(c=function $j(e){return e[24]??function Bj(e){const t=NT.pop()??Object.create(Vj);return t.lView=e,t}(e)}(t),l=me(c)):null===function ie(){return F}()?(a=!1,c=function Uj(e){const t=e[24]??Object.create(Hj);return t.lView=e,t}(t),l=me(c)):t[24]&&(U(t[24]),t[24]=null);try{Zf(t),function _g(e){return vn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&IT(e,t,n,2,r);const d=!(3&~o);if(d){const C=e.preOrderCheckHooks;null!==C&&wg(t,C,null)}else{const C=e.preOrderHooks;null!==C&&Eg(t,C,0,null),__(t,0)}if(function qj(e){for(let t=t1(e);null!==t;t=n1(t)){if(!(2&t[2]))continue;const n=t[9];for(let r=0;r<n.length;r++)Kf(n[r])}}(t),PT(t),LT(t,0),null!==e.contentQueries&&F1(e,t),d){const C=e.contentCheckHooks;null!==C&&wg(t,C)}else{const C=e.contentHooks;null!==C&&Eg(t,C,1),__(t,1)}!function Kj(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Rt(~o);else{const i=o,s=n[++r],a=n[++r];Qn(s,i);const l=t[i];Or(24,l),a(2,l),Or(25,l)}}}finally{Rt(-1)}}(e,t);const p=e.components;null!==p&&BT(t,p,0);const m=e.viewQuery;if(null!==m&&Z_(2,m,r),d){const C=e.viewCheckHooks;null!==C&&wg(t,C)}else{const C=e.viewHooks;null!==C&&Eg(t,C,2),__(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const C of t[22])C();t[22]=null}RT(t),t[2]&=-73}catch(d){throw Hl(t),d}finally{null!==c&&(de(c,l),a&&function jj(e){e.lView[24]!==e&&(e.lView=null,NT.push(e))}(c)),Cn()}}function LT(e,t){for(let n=t1(e);null!==n;n=n1(n))for(let r=10;r<n.length;r++)$T(n[r],t)}function Zj(e,t,n){Or(18);const r=gi(t,e);$T(r,n),Or(19,r[8])}function $T(e,t){gd(e)&&bb(e,t)}function bb(e,t){const r=e[1],o=e[2],i=e[24];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!De(i)),s||=!1,i&&(i.dirty=!1),e[2]&=-9217,s)FT(r,e,r.template,e[8]);else if(8192&o){const a=T(null);try{PT(e),LT(e,1);const l=r.components;null!==l&&BT(e,l,1),RT(e)}finally{T(a)}}}function BT(e,t,n){for(let r=0;r<t.length;r++)Zj(e,t[r],n)}function Bd(e,t){const n=xs()?64:1088;for(e[10].changeDetectionScheduler?.notify(t);e;){e[2]|=n;const r=Aa(e);if(Ya(e)&&!r)return e;e=r}return null}function jT(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function jd(e,t,n,r=!0){const o=t[1];if(function Yj(e,t,n,r){const o=10+r,i=n.length;r>0&&(n[o-1][4]=t),r<i-10?(t[4]=n[o],ee(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[16];null!==s&&n!==s&&UT(s,t);const a=t[18];null!==a&&a.insertView(e),md(t),t[2]|=128}(o,t,e,n),r){const s=Xg(n,e),a=t[11],l=a.parentNode(e[7]);null!==l&&function mj(e,t,n,r,o,i){r[0]=o,r[5]=t,Qg(e,r,n,1,o,i)}(o,e[5],a,t,l,s)}const i=t[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function Sp(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[16];null!==o&&o!==e&&ub(o,r),t>0&&(e[n-1][4]=r[4]);const i=J(e,10+t);!function vT(e,t){yT(e,t),t[0]=null,t[5]=null}(r[1],r);const s=i[18];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function UT(e,t){const n=e[9],r=t[3];(Qr(r)||t[15]!==r[3][15])&&(e[2]|=2),null===n?e[9]=[t]:n.push(t)}class wp{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[1];return Cp(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return Ta(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(hi(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Sp(t,r),J(n,r))}this._attachedToViewContainer=!1}bp(this._lView[1],this._lView)}onDestroy(t){hu(this._lView,t)}markForCheck(){Bd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){md(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,im(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Ya(this._lView),n=this._lView[16];null!==n&&!t&&ub(n,this._lView),yT(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=t;const n=Ya(this._lView),r=this._lView[16];null!==r&&!n&&UT(r,this._lView),md(this._lView)}}let nl=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Xj;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const i=$d(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new wp(i)}})();function Xj(){return sm(bn(),et())}function sm(e,t){return 4&e.type?new nl(t,e,Md(e,t)):null}function wu(e,t,n,r,o){let i=e.data[t];if(null===i)i=function Db(e,t,n,r,o){const i=gg(),s=zl(),l=e.data[t]=function sV(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return tp()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return function iV(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,l,i,s),l}(e,t,n,r,o),function Nn(){return vn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function gu(){const e=vn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Xa(i,!0),i}let UV=class{},pA=class{};class HV{resolveComponentFactory(t){throw new Pe(917,!1)}}let hm=class{static NULL=new HV};class Rb{}let Xl=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function GV(){const e=et(),n=gi(bn().index,e);return(Qr(n)?n:e)[11]}()})(),zV=(()=>{class e{static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>null})}return e})();const Ob={};class Ud{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const o=this.injector.get(t,Ob,r);return o!==Ob||n===Ob?o:this.parentInjector.get(t,n,r)}}function mm(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Pi(o,a):2==i&&(r=Pi(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function y(e,t=0){const n=et();return null===n?se(e,t):PI(bn(),n,Vt(e),t)}function mA(e,t,n,r,o){const i=null===r?null:{"":-1},s=o(e,n);if(null!==s){let a=s,l=null,c=null;for(const d of s)if(null!==d.resolveHostDirectives){[a,l,c]=d.resolveHostDirectives(s);break}!function XV(e,t,n,r,o,i,s){const a=r.length;let l=!1;for(let m=0;m<a;m++){const C=r[m];!l&&Vi(C)&&(l=!0,YV(e,n,m)),E_(Ig(n,t),e,C.type)}!function rU(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,a);for(let m=0;m<a;m++){const C=r[m];C.providersResolver&&C.providersResolver(C)}let c=!1,d=!1,p=yp(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){const C=r[m];if(n.mergedAttrs=Ad(n.mergedAttrs,C.hostAttrs),JV(e,n,t,p,C),nU(p,C,o),null!==s&&s.has(C)){const[j,he]=s.get(C);n.directiveToIndex.set(C.type,[p,j+n.directiveStart,he+n.directiveStart])}else(null===i||!i.has(C))&&n.directiveToIndex.set(C.type,p);null!==C.contentQueries&&(n.flags|=4),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(n.flags|=64);const x=C.type.prototype;!c&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),p++}!function QV(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const o=e.data[r];if(null!==n&&n.has(o)){const i=n.get(o);yA(0,t,i,r),yA(1,t,i,r),bA(t,r,!0)}else vA(0,t,o,r),vA(1,t,o,r),bA(t,r,!1)}}(e,n,i)}(e,t,n,a,i,l,c)}null!==i&&null!==r&&function KV(e,t,n){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new Pe(-301,!1);r.push(t[o],i)}}(n,r,i)}function YV(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function vA(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){let s;s=0===e?t.inputs??={}:t.outputs??={},s[i]??=[],s[i].push(r),_A(t,i)}}function yA(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){const s=o[i];let a;a=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),_A(t,s)}}function _A(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function bA(e,t,n){const{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(null===r||!n&&null===o||n&&null===i||nb(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!n&&o.hasOwnProperty(l)){const c=o[l];for(const d of c)if(d===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){const c=i[l];for(let d=0;d<c.length;d+=2)if(c[d]===t){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function JV(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=h(o.type)),s=new sp(i,Vi(o),y,null);e.blueprint[r]=s,n[r]=s,function eU(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function tU(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(e,t,r,yp(e,n,o.hostVars,kr),o)}function nU(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Vi(t)&&(n[""]=e)}}function Pb(e,t,n,r,o,i,s,a){const l=t[1],c=l.consts,p=wu(l,e,n,r,oi(c,s));return i&&mA(l,t,p,oi(c,a),o),p.mergedAttrs=Ad(p.mergedAttrs,p.attrs),null!==p.attrs&&mm(p,p.attrs,!1),null!==p.mergedAttrs&&mm(p,p.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,p),p}function Fb(e,t){wI(e,t),Uf(t)&&e.queries.elementEnd(t)}function vm(e){return!!function Lb(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Cl(e,t,n){return e[t]=n}function co(e,t,n){return n!==kr&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function Iu(e,t,n,r){const o=co(e,t,n);return co(e,t+1,r)||o}function Op(e,t,n){return function r(o){Bd(Ia(e)?gi(e.index,t):t,5);const s=t[8];let a=SA(t,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=SA(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function SA(e,t,n,r){const o=T(null);try{return Or(6,t,n),!1!==n(r)}catch(i){return function _b(e,t){const n=e[9];if(!n)return;let r;try{r=n.get(el,null)}catch{r=null}r?.(t)}(e,i),!1}finally{Or(7,t,n),T(o)}}function wA(e,t,n,r,o,i,s,a){const l=jl(e);let c=!1,d=null;if(!r&&l&&(d=function aU(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=t[7],l=o[i+2];return a&&a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(t,n,i,e.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0;else{const p=Co(e,n),m=r?r(p):p,C=o.listen(m,i,a);EA(r?j=>r(Oo(j[e.index])):e.index,t,n,i,a,C,!1)}return c}function EA(e,t,n,r,o,i,s){const a=t.firstCreatePass?Qf(t):null,l=Xf(n),c=l.length;l.push(o,i),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function _m(e,t,n,r,o,i){const a=t[1],p=t[n][a.data[n].outputs[r]].subscribe(i);EA(e.index,a,t,o,i,p,!0)}const $c=Symbol("BINDING");class DA extends hm{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=St(t);return new Pp(n,this.ngModule)}}class Pp extends pA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function gU(e){return Object.keys(e).map(t=>{const[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:0!==(r&Yg.SignalBased)};return o&&(i.transform=o),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function mU(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function cj(e){return e.map(lj).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){Or(22);const a=T(null);try{const l=this.componentDef,c=function CU(e,t,n,r){const o=e?["ng-version","20.3.0"]:function uj(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!tl(o))break;o=i}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let i=null,s=null,a=0;if(n)for(const d of n)a+=d[$c].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){const p=r[d];if("function"!=typeof p)for(const m of p.bindings){a+=m[$c].requiredVars;const C=d+1;m.create&&(m.targetIdx=C,(i??=[]).push(m)),m.update&&(m.targetIdx=C,(s??=[]).push(m))}}const l=[t];if(r)for(const d of r){const m=hn("function"==typeof d?d:d.type);l.push(m)}return ib(0,null,function SU(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(i,s),1,a,l,null,null,null,[o],null)}(r,l,s,i),d=function vU(e,t,n){let r=t instanceof B?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new Ud(n,r):n}(l,o||this.ngModule,t),p=function yU(e){const t=e.get(Rb,null);if(null===t)throw new Pe(407,!1);return{rendererFactory:t,sanitizer:e.get(zV,null),changeDetectionScheduler:e.get(Sd,null),ngReflect:!1}}(d),m=p.rendererFactory.createRenderer(null,l),C=r?function wj(e,t,n,r){const i=r.get(OB,!1)||n===Kl.ShadowDom,s=e.selectRootElement(t,i);return function Ej(e){TT(e)}(s),s}(m,r,l.encapsulation,d):function _U(e,t){const n=function bU(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return Zg(t,n,"svg"===n?"svg":"math"===n?"math":null)}(l,m),x=s?.some(IA)||i?.some(Ee=>"function"!=typeof Ee&&Ee.bindings.some(IA)),j=Kg(null,c,null,512|sb(l),null,null,p,m,d,null,null);j[26]=C,To(j);let he=null;try{const Ee=Pb(26,j,2,"#host",()=>c.directiveRegistry,!0,0);C&&(hT(m,C,Ee),Rs(C,j)),Jg(c,j,Ee),K_(c,Ee,j),Fb(c,Ee),void 0!==n&&function EU(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i&&i.length?Array.from(i):null)}}(Ee,this.ngContentSelectors,n),he=gi(Ee.index,j),j[8]=he[8],om(c,j,null)}catch(Ee){throw null!==he&&A_(he),A_(j),Ee}finally{Or(23),Cn()}return new wU(this.componentType,j,!!x)}finally{T(a)}}}function IA(e){const t=e[$c].kind;return"input"===t||"twoWay"===t}class wU extends UV{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Ul(n[1],26),this.location=Md(this._tNode,n),this.instance=gi(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new wp(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;rm(r,o[1],o,t,n),this.previousInputValues.set(t,n),Bd(gi(r.index,o),1)}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let rs=(()=>class e{static __NG_ELEMENT_ID__=DU})();function DU(){return MA(bn(),et())}const IU=rs,TA=class extends IU{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Md(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){const t=Tg(this._hostTNode,this._hostLView);if(C_(t)){const n=lp(t,this._hostLView),r=ap(t);return new Ao(n[1].data[r+8],n)}return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=AA(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(a,o,Su(this._hostTNode,null)),a}createComponent(t,n,r,o,i,s,a){const l=t&&!function ip(e){return"function"==typeof e}(t);let c;if(l)c=n;else{const he=n||{};c=he.index,r=he.injector,o=he.projectableNodes,i=he.environmentInjector||he.ngModuleRef,s=he.directives,a=he.bindings}const d=l?t:new Pp(St(t)),p=r||this.parentInjector;if(!i&&null==d.ngModule){const Ee=(l?p:this.parentInjector).get(B,null);Ee&&(i=Ee)}St(d.componentType??{});const j=d.create(p,o,null,i,s,a);return this.insertImpl(j.hostView,c,Su(this._hostTNode,null)),j}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function ug(e){return hi(e[3])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[3],c=new TA(l,l[5],l[3]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;return jd(s,o,i,r),t.attachToViewContainerRef(),ee($b(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=AA(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Sp(this._lContainer,n);r&&(J($b(this._lContainer),n),bp(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Sp(this._lContainer,n);return r&&null!=J($b(this._lContainer),n)?new wp(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function AA(e){return e[8]}function $b(e){return e[8]||(e[8]=[])}function MA(e,t){let n;const r=t[e.index];return hi(r)?n=r:(n=jT(r,t,null,e),t[e.index]=n,ab(t,n)),xA(n,t,e,r),new TA(n,e,t)}let xA=function RA(e,t,n,r){if(e[7])return;let o;o=8&n.type?Oo(r):function TU(e,t){const n=e[11],r=n.createComment(""),o=Co(t,e),i=n.parentNode(o);return bu(n,i,r,n.nextSibling(o),!1),r}(t,n),e[7]=o};class jb{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new jb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vb{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Vb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Wb(t,n).matches&&this.queries[n].setDirty()}}class NA{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function OU(e){return e.split(",").map(t=>t.trim())}(t):t}}class Ub{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Ub(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Hb{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Hb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,xU(n,i)),this.matchTNodeWithReadOption(t,n,Ag(n,t,i,!1,!1))}else r===nl?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ag(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===rt||o===rs||o===nl&&4&n.type)this.addMatch(n.index,-2);else{const i=Ag(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function xU(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function RU(e,t,n,r){return-1===n?function kU(e,t){return 11&e.type?Md(e,t):4&e.type?sm(e,t):null}(t,e):-2===n?function NU(e,t,n){return n===rt?Md(t,e):n===nl?sm(t,e):n===rs?MA(t,e):void 0}(e,t,r):cp(e,e[1],n,t)}function OA(e,t,n,r){const o=t[18].queries[r];if(null===o.matches){const i=e.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:RU(t,i[c],s[l+1],n.metadata.read))}o.matches=a}return o.matches}function Gb(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=OA(e,t,o,n);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(s[a/2]);else{const c=i[a+1],d=t[-l];for(let p=10;p<d.length;p++){const m=d[p];m[16]===m[3]&&Gb(m[1],m,c,r)}if(null!==d[9]){const p=d[9];for(let m=0;m<p.length;m++){const C=p[m];Gb(C[1],C,c,r)}}}}}return r}function PA(e,t,n){const r=new J$(!(4&~n));return function Jf(e,t,n,r){const o=Xf(t);o.push(n),e.firstCreatePass&&Qf(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[18]??=new Vb).queries.push(new jb(r))-1}function $A(e,t,n){null===e.queries&&(e.queries=new Ub),e.queries.track(new Hb(t,n))}function Wb(e,t){return e.queries.getByIndex(t)}function BA(e,t){const n=e[1],r=Wb(n,t);return r.crossesNgTemplate?Gb(n,e,t,[]):OA(n,e,r,t)}const GA=new Set;function Mi(e){GA.has(e)||(GA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let Tu=class{},zA=class{};class Kb extends Tu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new DA(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;const i=$n(t);this._bootstrapComponents=bl(i.bootstrap),this._r3Injector=Mc(t,n,[{provide:Tu,useValue:this},{provide:hm,useValue:this.componentFactoryResolver},...r],jr(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class WA extends zA{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Kb(this.moduleType,t,[])}}class qU extends Tu{injector;componentFactoryResolver=new DA(this);instance=null;constructor(t){super();const n=new _e([...t.providers,{provide:Tu,useValue:this},{provide:hm,useValue:this.componentFactoryResolver}],t.parent||g(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function bm(e,t,n=null){return new qU({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let ZU=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Pt(0,n.type),o=r.length>0?bm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Qe({token:e,providedIn:"environment",factory:()=>new e(se(B))})}return e})();function Xe(e){return ql(()=>{const t=ZA(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(ZU).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Kl.Emulated,styles:e.styles||gt,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Mi("NgStandalone"),KA(n);const r=e.dependencies;return n.directiveDefs=Cm(r,qA),n.pipeDefs=Cm(r,Rn),n.id=function QU(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function qA(e){return St(e)||hn(e)}function Go(e){return ql(()=>({type:e.type,bootstrap:e.bootstrap||gt,declarations:e.declarations||gt,imports:e.imports||gt,exports:e.exports||gt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function KU(e,t){if(null==e)return At;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=Yg.None,l=null),n[i]=[r,a,l],t[i]=s}return n}function YU(e){if(null==e)return At;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ut(e){return ql(()=>{const t=ZA(e);return KA(t),t})}function mi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ZA(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||At,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||gt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:KU(e.inputs,t),outputs:YU(e.outputs),debugInfo:null}}function KA(e){e.features?.forEach(t=>t(e))}function Cm(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const o of n){const i=t(o);null!==i&&r.push(i)}return r}:null}function On(e){let t=function YA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Vi(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Pe(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const s=e;s.inputs=Yb(e.inputs),s.declaredInputs=Yb(e.declaredInputs),s.outputs=Yb(e.outputs);const a=o.hostBindings;a&&rH(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&tH(e,l),c&&nH(e,c),JU(e,o),di(e.outputs,o.outputs),Vi(o)&&o.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===On&&(n=!1)}}t=Object.getPrototypeOf(t)}!function eH(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Ad(o.hostAttrs,n=Ad(n,o.hostAttrs))}}(r)}function JU(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Yb(e){return e===At?{}:e===gt?[]:e}function tH(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function nH(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function rH(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function tM(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=Ad(e.mergedAttrs,e.attrs);const d=e.tView=ib(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),d.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Xa(e,!1);const l=rM(n,t,e,r);Kn()&&hb(n,t,l,e),Rs(l,t);const c=jT(l,t,l,e);t[r+26]=c,ab(t,c)}function Au(e,t,n,r,o,i,s,a,l,c,d){const p=n+26;let m;if(t.firstCreatePass){if(m=wu(t,p,4,s||null,a||null),null!=c){const C=oi(t.consts,c);m.localNames=[];for(let x=0;x<C.length;x+=2)m.localNames.push(C[x],-1)}}else m=t.data[p];return tM(m,e,t,n,r,o,i,l),null!=c&&Ld(e,m,d),m}function nn(e,t,n,r,o,i,s,a){const l=et(),c=_n();return function uH(e,t,n,r,o,i,s,a,l,c,d){const p=n+26;let m;t.firstCreatePass?(m=wu(t,p,4,s||null,a||null),bd()&&mA(t,e,m,oi(t.consts,c),yb),wI(t,m)):m=t.data[p],tM(m,e,t,n,r,o,i,l),jl(m)&&Jg(t,e,m),null!=c&&Ld(e,m,d)}(l,c,e,t,n,r,o,oi(c.consts,i),void 0,s,a),nn}let rM=function oM(e,t,n,r){return Yn(!0),t[11].createComment("")};var Qb=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Qb||{});const Bp=new tt(""),cM=!1,yn=class mH extends jn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Ec()&&(this.destroyRef=Le(Gi,{optional:!0})??void 0,this.pendingTasks=Le(xc,{optional:!0})??void 0)}emit(t){const n=T(null);try{super.next(t)}finally{T(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof ct&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function uM(e){let t,n;function r(){e=op;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function dM(e){return queueMicrotask(()=>e()),()=>{e=op}}const Jb="isAngularZone",Dm=Jb+"_ID";let vH=0;class We{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new yn(!1);onMicrotaskEmpty=new yn(!1);onStable=new yn(!1);onError=new yn(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=cM}=t;if(typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function bH(e){const t=()=>{!function _H(e){function t(){uM(()=>{e.callbackScheduled=!1,tC(e),e.isCheckStableRunning=!0,eC(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),tC(e))}(e)},n=vH++;e._inner=e._inner.fork({name:"angular",properties:{[Jb]:!0,[Dm]:n,[Dm+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(function CH(e){return hM(e,"__ignore_ng_zone__")}(l))return r.invokeTask(i,s,a,l);try{return fM(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),pM(e)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return fM(e),r.invoke(i,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function SH(e){return hM(e,"__scheduler_tick__")}(l)&&t(),pM(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,tC(e),eC(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Jb)}static assertInAngularZone(){if(!We.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new Pe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,yH,op,op);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const yH={};function eC(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function tC(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function fM(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pM(e){e._nesting--,eC(e)}class nC{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new yn;onMicrotaskEmpty=new yn;onStable=new yn;onError=new yn;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function hM(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}let gM=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})();const mM=[0,1,2,3];let EH=(()=>{class e{ngZone=Le(We);scheduler=Le(Sd);errorHandler=Le(Cd,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Le(Bp,{optional:!0})}execute(){const n=this.sequences.size>0;n&&Or(16),this.executing=!0;for(const r of mM)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[r])(o.pipelinedValue),o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Or(17)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),Hl(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Qb.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new e})}return e})();class vM{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(n=>n!==this))}}function rC(e,t){const n=t?.injector??Le(Gr);return Mi("NgAfterNextRender"),function yM(e,t,n,r){const o=t.get(gM);o.impl??=t.get(EH);const i=t.get(Bp,null,{optional:!0}),s=!0!==n?.manualCleanup?t.get(Gi):null,a=t.get(h_,null,{optional:!0}),l=new vM(o.impl,function IH(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(l),l}(e,n,t,!0)}let TM=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const UM=new tt(""),xm=new tt("");let fC,uC=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,o){this._ngZone=n,this.registry=r,Ec()&&(this._destroyRef=Le(Gi,{optional:!0})??void 0),fC||(function MG(e){fC=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static \u0275fac=function(r){return new(r||e)(se(We),se(dC),se(xm))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})(),dC=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return fC?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function Up(e){return!!e&&"function"==typeof e.then}function HM(e){return!!e&&"function"==typeof e.subscribe}const pC=new tt("");function hC(e){return $([{provide:pC,multi:!0,useValue:e}])}let GM=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Le(pC,{optional:!0})??[];injector=Le(Gr);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=Vo(this.injector,o);if(Up(i))n.push(i);else if(HM(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const zM=new tt("");function WM(e,t){return Array.isArray(t)?t.reduce(WM,e):{...e,...t}}let ka=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Le(el);afterRenderManager=Le(gM);zonelessEnabled=Le(iI);rootEffectScheduler=Le(lI);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new jn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Le(xc);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(rr(n=>!n))}constructor(){Le(Bp,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Le(B);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Gr.NULL){return this._injector.get(We).run(()=>{Or(10);const s=n instanceof pA;if(!this._injector.get(GM).done)throw new Pe(405,"");let l;l=s?n:this._injector.get(hm).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const c=function kG(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Tu),p=l.create(o,[],r||l.selector,c),m=p.location.nativeElement,C=p.injector.get(UM,null);return C?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),km(this.components,p),C?.unregisterApplication(m)}),this._loadComponent(p),Or(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Or(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Qb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Pe(101,!1);const n=T(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,T(n),this.afterTick.next(),Or(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Rb,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Or(14),this.synchronizeOnce(),Or(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews)(r||pu(o))&&(im(o,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>pu(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;km(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(zM,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>km(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Pe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function km(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ia(e,t,n,r){const o=et();return co(o,Ui(),t)&&(_n(),function xj(e,t,n,r,o,i){const s=Co(e,t);!function em(e,t,n,r,o,i,s){if(null==i)e.removeAttribute(t,o,n);else{const a=null==s?Gt(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}(t[11],s,i,e.value,n,r,o)}(er(),o,e,t,n,r)),ia}const nx=new tt("",{providedIn:"root",factory:()=>!1}),h4=new tt("",{providedIn:"root",factory:()=>g4}),g4=4e3;function Jd(e,t,n,r,o,i,s,a){Mi("NgControlFlow");const l=et(),c=_n();return Au(l,c,e,t,n,r,o,oi(c.consts,i),256,s,a),IC}function IC(e,t,n,r,o,i,s,a){Mi("NgControlFlow");const l=et(),c=_n();return Au(l,c,e,t,n,r,o,oi(c.consts,i),512,s,a),IC}function ef(e,t){Mi("NgControlFlow");const n=et(),r=Ui(),o=n[r]!==kr?n[r]:-1,i=-1!==o?Lm(n,26+o):void 0;if(co(n,r,e)){const a=T(null);try{if(void 0!==i&&function Cb(e,t){const n=Sp(e,t);return void 0!==n&&bp(n[1],n),n}(i,0),-1!==e){const l=26+e,c=Lm(n,l),d=function TC(e,t){return Ul(e,t)}(n[1],l),p=null;jd(c,$d(n,d,t,{dehydratedView:p}),0,Su(d,p))}}finally{T(a)}}else if(void 0!==i){const a=function VT(e,t){const n=10+t;if(n<e.length)return e[n]}(i,0);void 0!==a&&(a[8]=t)}}function Lm(e,t){return e[t]}function fe(e,t,n){const r=et();return co(r,Ui(),t)&&(_n(),mb(er(),r,e,t,r[11],n)),fe}function AC(e,t,n,r,o){rm(t,e,n,o?"class":"style",r)}function V(e,t,n,r){const o=et(),i=o[1],s=e+26,a=i.firstCreatePass?Pb(s,o,2,t,yb,bd(),n,r):i.data[s];if(tm(a,o,e,t,MC),jl(a)){const l=o[1];Jg(l,o,a),K_(l,a,o)}return null!=r&&Ld(o,a),V}function W(){const e=_n(),n=nm(bn());return e.firstCreatePass&&Fb(e,n),np(n)&&rp(),ep(),null!=n.classesWithoutHost&&function N$(e){return!!(8&e.flags)}(n)&&AC(e,n,et(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function O$(e){return!!(16&e.flags)}(n)&&AC(e,n,et(),n.stylesWithoutHost,!1),W}function nt(e,t,n,r){return V(e,t,n,r),W(),nt}function $m(e,t,n,r){const o=et(),i=o[1],s=e+26,a=i.firstCreatePass?function CA(e,t,n,r,o,i){const s=t.consts,l=wu(t,e,n,r,oi(s,o));if(l.mergedAttrs=Ad(l.mergedAttrs,l.attrs),null!=i){const c=oi(s,i);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return null!==l.attrs&&mm(l,l.attrs,!1),null!==l.mergedAttrs&&mm(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,2,t,n,r):i.data[s];return tm(a,o,e,t,MC),null!=r&&Ld(o,a),$m}function Bm(){return np(nm(bn()))&&rp(),ep(),Bm}typeof document<"u"&&document;let MC=(e,t,n,r,o)=>(Yn(!0),Zg(t[11],r,function Yt(){return vn.lFrame.currentNamespace}()));function Uc(e,t,n){const r=et(),o=r[1],i=e+26,s=o.firstCreatePass?Pb(i,r,8,"ng-container",yb,bd(),t,n):o.data[i];if(tm(s,r,e,"ng-container",kC),jl(s)){const a=r[1];Jg(a,r,s),K_(a,s,r)}return null!=n&&Ld(r,s),Uc}function Ql(){const e=_n(),n=nm(bn());return e.firstCreatePass&&Fb(e,n),Ql}let kC=(e,t,n,r,o)=>(Yn(!0),ob(t[11],""));function Mn(){return et()}const Vm="en-US";let bx=Vm;function $e(e,t,n){const r=et(),o=_n(),i=bn();return function PC(e,t,n,r,o,i,s){let a=!0,l=null;if((3&r.type||s)&&(l??=Op(r,t,i),wA(r,e,t,s,n,o,i,l)&&(a=!1)),a){const c=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let p=0;p<d.length;p+=2){const m=d[p],C=d[p+1];l??=Op(r,t,i),_m(r,t,m,C,o,l)}if(c&&c.length)for(const p of c)l??=Op(r,t,i),_m(r,t,p,o,o,l)}}(o,r,r[11],i,e,t,n),$e}function OC(e,t,n){const r=et(),o=_n(),i=bn();return(3&i.type||n)&&wA(i,o,r,n,r[11],e,t,Op(i,r,t)),OC}function st(e=1){return function mo(e){return(vn.lFrame.contextLView=function Yf(e,t){for(;e>0;)t=t[14],e--;return t}(e,vn.lFrame.contextLView))[8]}(e)}function Rz(e,t){let n=null;const r=function oj(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?lT(e,i,!0):aj(r,i))return o}else n=o}return n}function bt(e){const t=et()[15][5];if(!t.projection){const r=t.projection=function Ue(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),o=r.slice();let i=t.child;for(;null!==i;){if(128!==i.type){const s=e?Rz(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function yt(e,t=0,n,r,o,i){const s=et(),a=_n(),l=r?e+1:null;null!==l&&Au(s,a,l,r,o,i,null,n);const c=wu(a,26+e,16,null,n||null);null===c.projection&&(c.projection=t),mg();const p=!s[6]||tp();null===s[15][5].projection[c.projection]&&null!==l?function Nz(e,t,n){const r=26+n,o=t.data[r],i=e[r];jd(i,$d(e,o,void 0,{dehydratedView:null}),0,Su(o,null))}(s,a,l):p&&!Lg(c)&&function bj(e,t,n){DT(t[11],0,t,n,fb(e,n,t),bT(n.parent||t[5],n,t))}(a,s,c)}function Pu(e,t,n,r){!function LA(e,t,n,r){const o=_n();if(o.firstCreatePass){const i=bn();$A(o,new NA(t,n,r),i.index),function PU(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return PA(o,et(),n)}(e,t,n,r)}function Jl(e,t,n){!function FA(e,t,n){const r=_n();return r.firstCreatePass&&($A(r,new NA(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),PA(r,et(),t)}(e,t,n)}function is(e){const t=et(),n=_n(),r=br();Po(r+1);const o=Wb(n,r);if(e.dirty&&function cg(e){return!(4&~e[2])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=BA(t,r);e.reset(i,GI),e.notifyOnChanges()}return!0}return!1}function ss(){return function zb(e,t){return e[18].queries[t].queryList}(et(),br())}function sa(e){return ml(function vg(){return vn.lFrame.contextLView}(),26+e)}function zm(e,t){return e<<17|t<<2}function Fu(e){return e>>17&32767}function FC(e){return 2|e}function nf(e){return(131068&e)>>2}function LC(e,t){return-131069&e|t<<2}function $C(e){return 1|e}function Bx(e,t,n,r){const o=e[n+1],i=null===t;let s=r?Fu(o):nf(o),a=!1;for(;0!==s&&(!1===a||i);){const c=e[s+1];Uz(e[s],t)&&(a=!0,e[s+1]=r?$C(c):FC(c)),s=r?Fu(c):nf(c)}a&&(e[n+1]=r?FC(o):$C(o))}function Uz(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&dt(e,t)>=0}function Lu(e,t,n){return Wx(e,t,n,!1),Lu}function aa(e,t){return Wx(e,t,null,!0),aa}function Wx(e,t,n,r){const o=et(),i=_n(),s=Ja(2);i.firstUpdatePass&&function Kx(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[qn()],s=function Zx(e,t){return t>=e.expandoStartIndex}(e,n);(function Jx(e,t){return!!(e.flags&(t?8:16))})(i,r)&&null===t&&!s&&(t=!1),t=function Jz(e,t,n,r){const o=function Jn(e){const t=vn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Kp(n=BC(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=BC(o,e,t,n,r),null===i){let l=function e6(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==nf(r))return e[Fu(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=BC(null,e,t,l[1],r),l=Kp(l,t.attrs,r),function t6(e,t,n,r){e[Fu(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else i=function n6(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Kp(r,e[i].hostAttrs,n);return Kp(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function jz(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=Fu(s),l=nf(s);e[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||dt(n,d)>0)&&(c=!0)):d=n,o)if(0!==l){const m=Fu(e[a+1]);e[r+1]=zm(m,a),0!==m&&(e[m+1]=LC(e[m+1],r)),e[a+1]=function $z(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=zm(a,0),0!==a&&(e[a+1]=LC(e[a+1],r)),a=r;else e[r+1]=zm(l,0),0===a?a=r:e[l+1]=LC(e[l+1],r),l=r;c&&(e[r+1]=FC(e[r+1])),Bx(e,d,r,!0),Bx(e,d,r,!1),function Vz(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&dt(i,t)>=0&&(n[r+1]=$C(n[r+1]))}(t,d,e,r,i),s=zm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}(i,e,s,r),t!==kr&&co(o,s,t)&&function Xx(e,t,n,r,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],d=function Bz(e){return!(1&~e)}(c)?Qx(l,t,n,o,nf(c),s):void 0;Wm(d)||(Wm(i)||function Lz(e){return!(2&~e)}(c)&&(i=Qx(l,null,n,o,a,s)),function Sj(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Fc.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Fc.Important),e.setStyle(n,r,o,i))}}(r,s,Vl(qn(),n),o,i))}(i,i.data[qn()],o,o[11],e,o[s+1]=function s6(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=jr(oa(e)))),e}(t,n),r,s)}function BC(e,t,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],r=Kp(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Kp(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ye(e,s,!!n||t[++i]))}return void 0===e?null:e}function Qx(e,t,n,r,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),d=c?l[1]:l,p=null===d;let m=n[o+1];m===kr&&(m=p?gt:void 0);let C=p?je(m,r):d===r?m:void 0;if(c&&!Wm(C)&&(C=je(l,r)),Wm(C)&&(a=C,s))return a;const x=e[o+1];o=s?Fu(x):nf(x)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=je(l,r))}return a}function Wm(e){return void 0!==e}function xe(e,t=""){const n=et(),r=_n(),o=e+26,i=r.firstCreatePass?wu(r,o,1,t,null):r.data[o],s=ek(r,n,i,t,e);n[o]=s,Kn()&&hb(r,n,s,i),Xa(i,!1)}let ek=(e,t,n,r,o)=>(Yn(!0),function rb(e,t){return e.createText(t)}(t[11],r));function nk(e,t,n,r=""){return co(e,Ui(),n)?t+Gt(n)+r:kr}function ok(e,t,n,r,o,i,s,a=""){const c=function ym(e,t,n,r,o){const i=Iu(e,t,n,r);return co(e,t+2,o)||i}(e,Qa(),n,o,s);return Ja(3),c?t+Gt(n)+r+Gt(o)+i+Gt(s)+a:kr}function Ls(e){return vi("",e),Ls}function vi(e,t,n){const r=et(),o=nk(r,e,t,n);return o!==kr&&ec(r,qn(),o),vi}function Yp(e,t,n,r,o){const i=et(),s=function rk(e,t,n,r,o,i=""){const a=Iu(e,Qa(),n,o);return Ja(2),a?t+Gt(n)+r+Gt(o)+i:kr}(i,e,t,n,r,o);return s!==kr&&ec(i,qn(),s),Yp}function jC(e,t,n,r,o,i,s){const a=et(),l=ok(a,e,t,n,r,o,i,s);return l!==kr&&ec(a,qn(),l),jC}function ec(e,t,n){const r=Vl(t,e);!function uT(e,t,n){e.setValue(t,n)}(e[11],r,n)}function Xp(e){return co(et(),Ui(),e)?Gt(e):kr}function VC(e,t,n=""){return nk(et(),e,t,n)}function UC(e,t,n,r,o){if(e=Vt(e),Array.isArray(e))for(let i=0;i<e.length;i++)UC(e[i],t,n,r,o);else{const i=_n(),s=et(),a=bn();let l=xt(e)?e:Vt(e.provide);const c=Wn(e),d=1048575&a.providerIndexes,p=a.directiveStart,m=a.providerIndexes>>20;if(xt(e)||!e.multi){const C=new sp(c,o,y,null),x=GC(l,t,o?d:d+m,p);-1===x?(E_(Ig(a,s),i,l),HC(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(C),s.push(C)):(n[x]=C,s[x]=C)}else{const C=GC(l,t,d+m,p),x=GC(l,t,d,d+m),he=x>=0&&n[x];if(o&&!he||!o&&!(C>=0&&n[C])){E_(Ig(a,s),i,l);const Ee=function w6(e,t,n,r,o){const s=new sp(e,n,y,null);return s.multi=[],s.index=t,s.componentProviders=0,bk(s,o,r&&!n),s}(o?S6:C6,n.length,o,r,c);!o&&he&&(n[x].providerFactory=Ee),HC(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(Ee),s.push(Ee)}else HC(i,e,C>-1?C:x,bk(n[o?x:C],c,!o&&r));!o&&r&&he&&n[x].componentProviders++}}}function HC(e,t,n,r){const o=xt(t),i=function Nr(e){return!!e.useClass}(t);if(o||i){const l=(i?Vt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function bk(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function GC(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function C6(e,t,n,r,o){return zC(this.multi,[])}function S6(e,t,n,r,o){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=cp(r,r[1],this.providerFactory.index,o);s=l.slice(0,a),zC(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],zC(i,s);return s}function zC(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Cr(e,t=[]){return n=>{n.providersResolver=(r,o)=>function b6(e,t,n){const r=_n();if(r.firstCreatePass){const o=Vi(e);UC(n,r.data,r.blueprint,o,!0),UC(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}function Ek(e,t,n,r,o,i){const s=t+n;return co(e,s,o)?Cl(e,s+1,i?r.call(i,o):r(o)):function Qp(e,t){const n=e[t];return n===kr?void 0:n}(e,s+1)}function Hc(e,t){const n=_n();let r;const o=e+26;n.firstCreatePass?(r=function F6(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=h(r.type)),a=so(y);try{const l=Dg(!1),c=i();return Dg(l),function hd(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,et(),o,c),c}finally{so(a)}}function Gc(e,t,n){const r=e+26,o=et(),i=ml(o,r);return function Jp(e,t){return e[1].data[t].pure}(o,r)?Ek(o,Ei(),t,i.transform,n,i):i.transform(n)}class g5{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let m5=(()=>{class e{compileModuleSync(n){return new WA(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=bl($n(n).declarations).reduce((s,a)=>{const l=St(a);return l&&s.push(new Pp(l)),s},[]);return new g5(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),y5=(()=>{class e{zone=Le(We);changeDetectionScheduler=Le(Sd);applicationRef=Le(ka);applicationErrorHandler=Le(el);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wk({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new We({...YC(),scheduleInRootZone:n}),[{provide:We,useFactory:e},{provide:Mt,multi:!0,useFactory:()=>{const r=Le(y5,{optional:!0});return()=>r.initialize()}},{provide:Mt,multi:!0,useFactory:()=>{const r=Le(b5);return()=>{r.initialize()}}},!0===t?{provide:sI,useValue:!0}:[],{provide:aI,useValue:n??cM},{provide:el,useFactory:()=>{const r=Le(We),o=Le(B);let i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(Cd),i.handleError(s))})}}}]}function YC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let b5=(()=>{class e{subscription=new ct;initialized=!1;zone=Le(We);pendingTasks=Le(xc);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kk=(()=>{class e{applicationErrorHandler=Le(el);appRef=Le(ka);taskService=Le(xc);ngZone=Le(We);zonelessEnabled=Le(iI);tracing=Le(Bp,{optional:!0});disableScheduling=Le(sI,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ct;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Dm):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Le(aI,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof nC||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const o=this.useMicrotaskScheduler?dM:uM;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Dm+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dM(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Wc=new tt("",{providedIn:"root",factory:()=>Le(Wc,{optional:!0,skipSelf:!0})||function C5(){return typeof $localize<"u"&&$localize.locale||Vm}()}),Qm=Symbol("InputSignalNode#UNSET"),Jk={...En,transformFn:void 0,applyValueToInputSignal(e,t){_t(e,t)}};function eR(e,t){const n=Object.create(Jk);function r(){if(Z(n),n.value===Qm)throw new Pe(-950,null);return n.value}return n.value=e,n.transformFn=t?.transform,r[I]=n,r}function tR(e,t){return eR(e,t)}new tt("").__NG_ELEMENT_ID__=e=>{const t=bn();if(null===t)throw new Pe(204,!1);if(2&t.type)return t.value;if(8&e)return null;throw new Pe(204,!1)};const R5=(tR.required=function k5(e){return eR(Qm,e)},tR),ev=new tt(""),L5=new tt("");function th(e){return!e.moduleRef}let aR;function lR(){aR=$5}function $5(e,t){const n=e.injector.get(ka);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Pe(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}let cR=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){const o=r?.scheduleInRootZone,s=r?.ignoreChangesOutsideZone,a=[Wk({ngZoneFactory:()=>function wH(e="zone.js",t){return"noop"===e?new nC:"zone.js"===e?new We(t):e}(r?.ngZone,{...YC({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:s}),{provide:Sd,useExisting:Kk},e$],l=function WU(e,t,n){return new Kb(e,t,n,!1)}(n.moduleType,this.injector,a);return lR(),function sR(e){const t=th(e)?e.r3Injector:e.moduleRef.injector,n=t.get(We);return n.run(()=>{th(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(el);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),th(e)){const i=()=>t.destroy(),s=e.platformInjector.get(ev);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{const i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(ev);s.add(i),e.moduleRef.onDestroy(()=>{km(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return function B5(e,t,n){try{const r=n();return Up(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}(r,n,()=>{const i=t.get(xc),s=i.add(),a=t.get(GM);return a.runInitializers(),a.donePromise.then(()=>{if(function K4(e){"string"==typeof e&&(bx=e.toLowerCase().replace(/_/g,"-"))}(t.get(Wc,Vm)||Vm),!t.get(L5,!0))return th(e)?t.get(ka):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(th(e)){const d=t.get(ka);return void 0!==e.rootComponent&&d.bootstrap(e.rootComponent),d}return aR?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{i.remove(s)})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const o=WM({},r);return lR(),function N5(e,t,n){const r=new WA(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(ev,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(se(Gr))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),lf=null;function uR(e,t,n=[]){const r=`Platform: ${t}`,o=new tt(r);return(i=[])=>{let s=tv();if(!s){const a=[...n,...i,{provide:o,useValue:!0}];s=e?.(a)??function j5(e){if(tv())throw new Pe(400,!1);(function xG(){!function ft(e){He=e}(()=>{throw new Pe(600,"")})})(),lf=e;const t=e.get(cR);return function fR(e){const t=e.get(u1,null);Vo(e,()=>{t?.forEach(n=>n())})}(e),t}(function dR(e=[],t){return Gr.create({name:t,providers:[{provide:nr,useValue:"platform"},{provide:ev,useValue:new Set([()=>lf=null])},...e]})}(a,r))}return function V5(){const t=tv();if(!t)throw new Pe(401,!1);return t}()}}function tv(){return lf?.get(cR)??null}let mt=(()=>class e{static __NG_ELEMENT_ID__=H5})();function H5(e){return function G5(e,t,n){if(Ia(e)&&!n){const r=gi(e.index,t);return new wp(r,r)}return 175&e.type?new wp(t[15],t):null}(bn(),et(),!(16&~e))}class hR{constructor(){}supports(t){return vm(t)}create(t){return new W5(t)}}const z5=(e,t)=>t;class W5{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||z5}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<mR(r,o,i)?n:r,a=mR(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,d=l-o;if(c!=d){for(let m=0;m<c;m++){const C=m<i.length?i[m]:i[m]=0,x=C+m;d<=x&&x<c&&(i[m]=C+1)}i[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!vm(t))throw new Pe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function iU(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new q5(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new gR),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class q5{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}}class Z5{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class gR{map=new Map;put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new Z5,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mR(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function yR(){return new tS([new hR])}let tS=(()=>{class e{factories;static \u0275prov=Qe({token:e,providedIn:"root",factory:yR});constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{const r=Le(e,{optional:!0,skipSelf:!0});return e.create(n,r||yR())}}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Pe(901,!1)}}return e})();const J5=uR(null,"core",[]);let e8=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(se(ka))};static \u0275mod=Go({type:e});static \u0275inj=Un({})}return e})();function OR(e){const t=St(e);if(!t)return null;const n=new Pp(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}const PR="browser";function uf(e){return e===PR}let M8=(()=>{class e{static \u0275prov=Qe({token:e,providedIn:"root",factory:()=>new x8(Le(ii),window)})}return e})();class x8{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo({...n,left:t[0],top:t[1]})}scrollToAnchor(t,n){const r=function k8(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Zr(2400,!1))}}scrollToElement(t,n){const r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo({...n,left:o-s[0],top:i-s[1]})}}function to(e){return function lW(e){const t=T(null);try{return e()}finally{T(t)}}(e)}function zi(e,t){return function Re(e,t){const n=Object.create(wt);n.computation=e,void 0!==t&&(n.equal=t);const r=()=>{if(ge(n),Z(n),n.value===Je)throw n.error;return n.value};return r[I]=n,r}(e,t?.equal)}Error,Error;let eN=(()=>{class e extends vl{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=m_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Wl(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Wl(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(se(g_),se(dI,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class u9{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let nc=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new u9(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),dN(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{dN(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(rs),y(nl),y(tS))};static \u0275dir=Ut({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function dN(e,t){e.context.$implicit=t.item}let xo=(()=>{class e{_viewContainer;_context=new d9;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){fN(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){fN(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(rs),y(nl))};static \u0275dir=Ut({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class d9{$implicit=null;ngIf=null}function fN(e,t){if(e&&!e.createEmbeddedView)throw new Pe(2020,!1)}class yS{_viewContainerRef;_templateRef;_created=!1;constructor(t,n){this._viewContainerRef=t,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Cv=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),pN=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(n,r,o){this.ngSwitch=o,o._addCase(),this._view=new yS(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||e)(y(rs),y(nl),y(Cv,9))};static \u0275dir=Ut({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})(),hN=(()=>{class e{constructor(n,r,o){o._addDefault(new yS(n,r))}static \u0275fac=function(r){return new(r||e)(y(rs),y(nl),y(Cv,9))};static \u0275dir=Ut({type:e,selectors:[["","ngSwitchDefault",""]]})}return e})(),rc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Go({type:e});static \u0275inj=Un({})}return e})();const SS=new tt("");let vN=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new Pe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(se(SS),se(We))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class yN{_doc;constructor(t){this._doc=t}manager}const wS="ng-app-id";function _N(e){for(const t of e)t.remove()}function bN(e,t){const n=t.createElement("style");return n.textContent=e,n}function ES(e,t){const n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}let CN=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,function F9(e,t,n,r){const o=e.head?.querySelectorAll(`style[${wS}="${t}"],link[${wS}="${t}"]`);if(o)for(const i of o)i.removeAttribute(wS),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const o of n)this.addUsage(o,this.inline,bN);r?.forEach(o=>this.addUsage(o,this.external,ES))}removeStyles(n,r){for(const o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){const i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){const o=r.get(n);o&&(o.usage--,o.usage<=0&&(_N(o.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])_N(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:o}]of this.inline)o.push(this.addElement(n,bN(r,this.doc)));for(const[r,{elements:o}]of this.external)o.push(this.addElement(n,ES(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(se(ii),se(fp),se(d1,8),se(Ng))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const DS={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},IS=/%COMP%/g,U9=new tt("",{providedIn:"root",factory:()=>!0});function wN(e,t){return t.map(n=>n.replace(IS,e))}let EN=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,o,i,s,a,l,c=null,d,p,m=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=d,this.maxAnimationTimeout=p,this.tracingService=m,this.platformIsServer=!1,this.defaultRenderer=new TS(n,s,l,this.platformIsServer,this.tracingService,this.registry=function Ac(){return Fo}(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(n,r);return o instanceof IN?o.applyToHost(n):o instanceof AS&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Kl.Emulated:i=new IN(l,c,r,this.appId,d,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Kl.ShadowDom:return new W9(l,c,n,r,s,a,this.nonce,p,m,this.registry,this.maxAnimationTimeout);default:i=new AS(l,c,r,d,s,a,p,m,this.registry,this.animationDisabled,this.maxAnimationTimeout)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(se(vN),se(CN),se(fp),se(U9),se(ii),se(Ng),se(We),se(d1),se(nx),se(h4),se(Bp,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class TS{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i,s,a){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(DS[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(DN(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(DN(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){const{elements:r}=this.registry;r?r.animate(n,()=>n.remove(),this.maxAnimationTimeout):n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Pe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=DS[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=DS[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Fc.DashCase|Fc.Important)?t.style.setProperty(n,r,o&Fc.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Fc.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if("string"==typeof t&&!(t=kc().getGlobalEventTarget(this.doc,t)))throw new Pe(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&n.preventDefault()}}}function DN(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class W9 extends TS{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,l,c,d,p){super(t,i,s,l,c,d,p),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let m=o.styles;m=wN(o.id,m);for(const x of m){const j=document.createElement("style");a&&j.setAttribute("nonce",a),j.textContent=x,this.shadowRoot.appendChild(j)}const C=o.getExternalStyles?.();if(C)for(const x of C){const j=ES(x,i);a&&j.setAttribute("nonce",a),this.shadowRoot.appendChild(j)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class AS extends TS{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,n,r,o,i,s,a,l,c,d,p,m){super(t,i,s,a,l,c,p),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this._animationDisabled=d;let C=r.styles;this.styles=m?wN(m,C):C,this.styleUrls=r.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements)return void this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}}class IN extends AS{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,l,c,d,p,m){const C=o+"-"+r.id;super(t,n,r,i,s,a,l,c,d,p,m,C),this.contentAttr=function H9(e){return"_ngcontent-%COMP%".replace(IS,e)}(C),this.hostAttr=function G9(e){return"_nghost-%COMP%".replace(IS,e)}(C)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class MS extends i${supportsDOMEvents=!0;static makeCurrent(){!function o$(e){cI??=e}(new MS)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function q9(){return ah=ah||document.head.querySelector("base"),ah?ah.getAttribute("href"):null}();return null==n?null:function Z9(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){ah=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hI(document.cookie,t)}}let ah=null,Y9=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})(),X9=(()=>{class e extends yN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(se(ii))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const TN=["alt","control","meta","shift"],Q9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},J9={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let e7=(()=>{class e extends yN{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o,i){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kc().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),TN.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=Q9[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),TN.forEach(s=>{s!==o&&(0,J9[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||e)(se(ii))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const o7=uR(J5,"browser",[{provide:Ng,useValue:PR},{provide:u1,useValue:function t7(){MS.makeCurrent()},multi:!0},{provide:ii,useFactory:function r7(){return function DB(e){k_=e}(document),document}}]),xN=[{provide:xm,useClass:class K9{addToWindow(t){zn.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new Pe(5103,!1);return i},zn.getAllAngularTestabilities=()=>t.getAllTestabilities(),zn.getAllAngularRootElements=()=>t.getAllRootElements(),zn.frameworkStabilizers||(zn.frameworkStabilizers=[]),zn.frameworkStabilizers.push(r=>{const o=zn.getAllAngularTestabilities();let i=o.length;const s=function(){i--,0==i&&r()};o.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?kc().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}}},{provide:UM,useClass:uC,deps:[We,dC,xm]},{provide:uC,useClass:uC,deps:[We,dC,xm]}],kN=[{provide:nr,useValue:"root"},{provide:Cd,useFactory:function n7(){return new Cd}},{provide:SS,useClass:X9,multi:!0,deps:[ii]},{provide:SS,useClass:e7,multi:!0,deps:[ii]},EN,CN,vN,{provide:Rb,useExisting:EN},{provide:gI,useClass:Y9},[]];let i7=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Go({type:e});static \u0275inj=Un({providers:[...kN,...xN],imports:[rc,e8]})}return e})(),s7=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(se(ii))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let xS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:function(r){let o=null;return o=r?new(r||e):se(d7),o},providedIn:"root"})}return e})(),d7=(()=>{class e extends xS{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case Ns.NONE:return r;case Ns.HTML:return _l(r,"HTML")?oa(r):K1(this._doc,String(r)).toString();case Ns.STYLE:return _l(r,"Style")?oa(r):r;case Ns.SCRIPT:if(_l(r,"Script"))return oa(r);throw new Pe(5200,!1);case Ns.URL:return _l(r,"URL")?oa(r):Gg(String(r));case Ns.RESOURCE_URL:if(_l(r,"ResourceURL"))return oa(r);throw new Pe(5201,!1);default:throw new Pe(5202,!1)}}bypassSecurityTrustHtml(n){return function m3(e){return new u3(e)}(n)}bypassSecurityTrustStyle(n){return function v3(e){return new d3(e)}(n)}bypassSecurityTrustScript(n){return function y3(e){return new f3(e)}(n)}bypassSecurityTrustUrl(n){return function _3(e){return new p3(e)}(n)}bypassSecurityTrustResourceUrl(n){return function b3(e){return new h3(e)}(n)}static \u0275fac=function(r){return new(r||e)(se(ii))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ff="safari"in window,So=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,ON=So&&!navigator.userAgent.match(/(crios)|(fxios)/i),Sl=!!navigator.userAgent.match(/pwashell/i),kS=(ff||So||!!navigator.userAgent.match(/Safari/)&&navigator.userAgent.match(/Chrome/),!!navigator.userAgent.match(/android/i)),f7=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;function Sv(e){return e+"-preview"}function RS(e){return localStorage.getItem(Sv(e))}function NS(e,t){localStorage.setItem(Sv(e),t)}const PN="DYNAMIC_FONTS";function FN(){return!!pf()&&"1"===(RS(PN)??"1")}function pf(){return So}function LN(){pf()&&(FN()?document.documentElement.style.removeProperty("--ion-dynamic-font"):document.documentElement.style.setProperty("--ion-dynamic-font","initial"))}const $N="cp-indicator-fix-portrait",BN="cp-indicator-fix-landscape",jN="cloudpilot-indicator-fix-mode";let wv;function VN(){return function p7(e){return localStorage.getItem(Sv(e))??localStorage.getItem(e)}(jN)??"none"}function OS(){return ON&&!navigator?.standalone}function UN(e){if(!OS())return;wv||(wv=document.createElement("style"),wv.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${$N} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${BN} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(wv)),void 0!==e?NS(jN,e):e=VN();const t=document.documentElement.classList;t.toggle($N,"all"===e||"portrait"===e),t.toggle(BN,"all"===e||"landscape"===e)}const Ev="cloudpilot-session";function HN(){!function h7(e){localStorage.removeItem(Sv(e))}(Ev)}var fn=_(6784),b7=_(3028),hf=_.n(b7);let Dv,Iv;function GN(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const n=t.split("&").map(r=>r.split("="));for(const[r,o]of n)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function zN(){return void 0!==Iv}class WN{constructor(){this.requestEvent=new fn.J}dispatchRequest(t){if(t){try{t=new(hf())(t).toString()}catch(n){return void console.error(`invalid URL: ${t}`,n)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let PS=(()=>{var e;class t{constructor(){this.installation=new WN,this.import=new WN,Dv&&this.installation.dispatchRequest(Dv),Iv&&this.import.dispatchRequest(Iv)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function oe(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function Zc(e){return this instanceof Zc?(this.v=e,this):new Zc(e)}function YN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function BS(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const VS=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function XN(e){return Nt(e?.then)}function QN(e){return Nt(e[fo])}function JN(e){return Symbol.asyncIterator&&Nt(e?.[Symbol.asyncIterator])}function eO(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const tO=function Z7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nO(e){return Nt(e?.[tO])}function rO(e){return function KN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(C){return function(x){return Promise.resolve(x).then(C,p)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(C,x){r[C]&&(o[C]=function(j){return new Promise(function(he,Ee){i.push([C,j,he,Ee])>1||l(C,j)})},x&&(o[C]=x(o[C])))}function l(C,x){try{!function c(C){C.value instanceof Zc?Promise.resolve(C.value.v).then(d,p):m(i[0][2],C)}(r[C](x))}catch(j){m(i[0][3],j)}}function d(C){l("next",C)}function p(C){l("throw",C)}function m(C,x){C(x),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Zc(n.read());if(o)return yield Zc(void 0);yield yield Zc(r)}}finally{n.releaseLock()}})}function oO(e){return Nt(e?.getReader)}function $s(e){if(e instanceof In)return e;if(null!=e){if(QN(e))return function K7(e){return new In(t=>{const n=e[fo]();if(Nt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(VS(e))return function Y7(e){return new In(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(XN(e))return function X7(e){return new In(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,cr)})}(e);if(JN(e))return iO(e);if(nO(e))return function Q7(e){return new In(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(oO(e))return function J7(e){return iO(rO(e))}(e)}throw eO(e)}function iO(e){return new In(t=>{(function eq(e,t){var n,r,o,i;return function qN(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(p){s(p)}}function l(d){try{c(r.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=YN(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function oc(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function ki(e,t,n=1/0){return Nt(t)?ki((r,o)=>rr((i,s)=>t(r,i,o,s))($s(e(r,o))),n):("number"==typeof t&&(n=t),si((r,o)=>function tq(e,t,n,r,o,i,s,a){const l=[];let c=0,d=0,p=!1;const m=()=>{p&&!l.length&&!c&&t.complete()},C=j=>c<r?x(j):l.push(j),x=j=>{i&&t.next(j),c++;let he=!1;$s(n(j,d++)).subscribe(Ho(t,Ee=>{o?.(Ee),i?C(Ee):t.next(Ee)},()=>{he=!0},void 0,()=>{if(he)try{for(c--;l.length&&c<r;){const Ee=l.shift();s?oc(t,s,()=>x(Ee)):x(Ee)}m()}catch(Ee){t.error(Ee)}}))};return e.subscribe(Ho(t,C,()=>{p=!0,m()})),()=>{a?.()}}(r,o,e,n)))}function gf(e,t){return Nt(t)?ki(e,t,1):ki(e,1)}function Pa(e,t){return si((n,r)=>{let o=0;n.subscribe(Ho(r,i=>e.call(t,i,o++)&&r.next(i)))})}function ch(e){return si((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function yi(e,t){return si((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(Ho(r,l=>{o?.unsubscribe();let c=0;const d=i++;$s(e(l,d)).subscribe(o=Ho(r,p=>r.next(t?t(l,p,d,c++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function sO(e){return e&&Nt(e.schedule)}function US(e){return e[e.length-1]}function aO(e){return Nt(US(e))?e.pop():void 0}function uh(e){return sO(US(e))?e.pop():void 0}function lO(e,t=0){return si((n,r)=>{n.subscribe(Ho(r,o=>oc(r,e,()=>r.next(o),t),()=>oc(r,e,()=>r.complete(),t),o=>oc(r,e,()=>r.error(o),t)))})}function cO(e,t=0){return si((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function uO(e,t){if(!e)throw new Error("Iterable cannot be null");return new In(n=>{oc(n,t,()=>{const r=e[Symbol.asyncIterator]();oc(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function li(e,t){return t?function lq(e,t){if(null!=e){if(QN(e))return function rq(e,t){return $s(e).pipe(cO(t),lO(t))}(e,t);if(VS(e))return function iq(e,t){return new In(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(XN(e))return function oq(e,t){return $s(e).pipe(cO(t),lO(t))}(e,t);if(JN(e))return uO(e,t);if(nO(e))return function sq(e,t){return new In(n=>{let r;return oc(n,t,()=>{r=e[tO](),oc(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>Nt(r?.return)&&r.return()})}(e,t);if(oO(e))return function aq(e,t){return uO(rO(e),t)}(e,t)}throw eO(e)}(e,t):$s(e)}function cn(...e){return li(e,uh(e))}class Tv{}class Av{}class il{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof il?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new il;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof il?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(t,n){const r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class cq{encodeKey(t){return dO(t)}encodeValue(t){return dO(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const dq=/%(\d[a-f0-9])/gi,fq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dO(e){return encodeURIComponent(e).replace(dq,(t,n)=>fq[n]??t)}function Mv(e){return`${e}`}class Kc{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new cq,t.fromString){if(t.fromObject)throw new Pe(2805,!1);this.map=function uq(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(Mv):[Mv(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Kc({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Mv(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(Mv(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class pq{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function fO(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function pO(e){return typeof Blob<"u"&&e instanceof Blob}function hO(e){return typeof FormData<"u"&&e instanceof FormData}const dh="Content-Type",HS="X-Request-URL",gO="text/plain",mO="application/json",vO=`${mO}, ${gO}, */*`;class fh{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){let i;if(this.url=n,this.method=t.toUpperCase(),function hq(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),"number"==typeof i.timeout){if(i.timeout<1||!Number.isInteger(i.timeout))throw new Pe(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new il,this.context??=new pq,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Kc,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||fO(this.body)||pO(this.body)||hO(this.body)||function gq(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Kc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hO(this.body)?null:pO(this.body)?this.body.type||null:fO(this.body)?null:"string"==typeof this.body?gO:this.body instanceof Kc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?mO:null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,l=t.mode||this.mode,c=t.redirect||this.redirect,d=t.credentials||this.credentials,p=t.referrer||this.referrer,m=t.integrity||this.integrity,C=t.transferCache??this.transferCache,x=t.timeout??this.timeout,j=void 0!==t.body?t.body:this.body,he=t.withCredentials??this.withCredentials,Ee=t.reportProgress??this.reportProgress;let ke=t.headers||this.headers,Tt=t.params||this.params;const Lt=t.context??this.context;return void 0!==t.setHeaders&&(ke=Object.keys(t.setHeaders).reduce((kt,Fn)=>kt.set(Fn,t.setHeaders[Fn]),ke)),t.setParams&&(Tt=Object.keys(t.setParams).reduce((kt,Fn)=>kt.set(Fn,t.setParams[Fn]),Tt)),new fh(n,r,j,{params:Tt,headers:ke,context:Lt,reportProgress:Ee,responseType:o,withCredentials:he,transferCache:C,keepalive:i,cache:a,priority:s,timeout:x,mode:l,redirect:c,credentials:d,referrer:p,integrity:m})}}var Yc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Yc||{});class GS{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new il,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}}class kv extends GS{constructor(t={}){super(t)}type=Yc.ResponseHeader;clone(t={}){return new kv({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ph extends GS{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=Yc.Response;clone(t={}){return new ph({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}}class Bu extends GS{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function zS(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}let WS=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof fh)i=n;else{let l,c;l=o.headers instanceof il?o.headers:new il(o.headers),o.params&&(c=o.params instanceof Kc?o.params:new Kc({fromObject:o.params})),i=new fh(n,r,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}const s=cn(i).pipe(gf(l=>this.handler.handle(l)));if(n instanceof fh||"events"===o.observe)return s;const a=s.pipe(Pa(l=>l instanceof ph));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(rr(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Pe(2806,!1);return l.body}));case"blob":return a.pipe(rr(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Pe(2807,!1);return l.body}));case"text":return a.pipe(rr(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Pe(2808,!1);return l.body}));default:return a.pipe(rr(l=>l.body))}case"response":return a;default:throw new Pe(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Kc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,zS(o,r))}post(n,r,o={}){return this.request("POST",n,zS(o,r))}put(n,r,o={}){return this.request("PUT",n,zS(o,r))}static \u0275fac=function(r){return new(r||e)(se(Tv))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const bO=new tt("");function CO(e,t){return t(e)}function Cq(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const wq=new tt(""),hh=new tt(""),Eq=new tt(""),SO=new tt("",{providedIn:"root",factory:()=>!0});function Dq(){let e=null;return(t,n)=>{null===e&&(e=(Le(wq,{optional:!0})??[]).reduceRight(Cq,CO));const r=Le(Cg);if(Le(SO)){const i=r.add();return e(t,n).pipe(ch(i))}return e(t,n)}}let wO=(()=>{class e extends Tv{backend;injector;chain=null;pendingTasks=Le(Cg);contributeToStability=Le(SO);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(hh),...this.injector.get(Eq,[])]));this.chain=r.reduceRight((o,i)=>function Sq(e,t,n){return(r,o)=>Vo(n,()=>t(r,i=>e(i,o)))}(o,i,this.injector),CO)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(ch(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(se(Av),se(B))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const Mq=/^\)\]\}',?\n/,xq=RegExp(`^${HS}:`,"m");let DO=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Pe(-2800,!1);const r=this.xhrFactory;return cn(null).pipe(yi(()=>new In(i=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((he,Ee)=>s.setRequestHeader(he,Ee.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",vO),!n.headers.has(dh)){const he=n.detectContentTypeHeader();null!==he&&s.setRequestHeader(dh,he)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){const he=n.responseType.toLowerCase();s.responseType="json"!==he?he:"text"}const a=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const he=s.statusText||"OK",Ee=new il(s.getAllResponseHeaders()),ke=function kq(e){return"responseURL"in e&&e.responseURL?e.responseURL:xq.test(e.getAllResponseHeaders())?e.getResponseHeader(HS):null}(s)||n.url;return l=new kv({headers:Ee,status:s.status,statusText:he,url:ke}),l},d=()=>{let{headers:he,status:Ee,statusText:ke,url:Tt}=c(),Lt=null;204!==Ee&&(Lt=typeof s.response>"u"?s.responseText:s.response),0===Ee&&(Ee=Lt?200:0);let kt=Ee>=200&&Ee<300;if("json"===n.responseType&&"string"==typeof Lt){const Fn=Lt;Lt=Lt.replace(Mq,"");try{Lt=""!==Lt?JSON.parse(Lt):null}catch(Ln){Lt=Fn,kt&&(kt=!1,Lt={error:Ln,text:Lt})}}kt?(i.next(new ph({body:Lt,headers:he,status:Ee,statusText:ke,url:Tt||void 0})),i.complete()):i.error(new Bu({error:Lt,headers:he,status:Ee,statusText:ke,url:Tt||void 0}))},p=he=>{const{url:Ee}=c(),ke=new Bu({error:he,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Ee||void 0});i.error(ke)};let m=p;n.timeout&&(m=he=>{const{url:Ee}=c(),ke=new Bu({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:Ee||void 0});i.error(ke)});let C=!1;const x=he=>{C||(i.next(c()),C=!0);let Ee={type:Yc.DownloadProgress,loaded:he.loaded};he.lengthComputable&&(Ee.total=he.total),"text"===n.responseType&&s.responseText&&(Ee.partialText=s.responseText),i.next(Ee)},j=he=>{let Ee={type:Yc.UploadProgress,loaded:he.loaded};he.lengthComputable&&(Ee.total=he.total),i.next(Ee)};return s.addEventListener("load",d),s.addEventListener("error",p),s.addEventListener("timeout",m),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",x),null!==a&&s.upload&&s.upload.addEventListener("progress",j)),s.send(a),i.next({type:Yc.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",d),s.removeEventListener("timeout",m),n.reportProgress&&(s.removeEventListener("progress",x),null!==a&&s.upload&&s.upload.removeEventListener("progress",j)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(se(gI))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();const KS=new tt(""),IO=new tt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),TO=new tt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class AO{}let Oq=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=hI(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(se(ii),se(IO))};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();function Pq(e,t){const n=e.url.toLowerCase();if(!Le(KS)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=Le(AO).getToken(),o=Le(TO);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var Xc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Xc||{});function ju(e,t){return{\u0275kind:e,\u0275providers:t}}function Fq(...e){const t=[WS,DO,wO,{provide:Tv,useExisting:wO},{provide:Av,useFactory:()=>Le(bO,{optional:!0})??Le(DO)},{provide:hh,useValue:Pq,multi:!0},{provide:KS,useValue:!0},{provide:AO,useClass:Oq}];for(const n of e)t.push(...n.\u0275providers);return $(t)}const MO=new tt(""),{isArray:Bq}=Array,{getPrototypeOf:jq,prototype:Vq,keys:Uq}=Object;function xO(e){if(1===e.length){const t=e[0];if(Bq(t))return{args:t,keys:null};if(function Hq(e){return e&&"object"==typeof e&&jq(e)===Vq}(t)){const n=Uq(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:Gq}=Array;function YS(e){return rr(t=>function zq(e,t){return Gq(t)?e(...t):e(t)}(e,t))}function kO(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function Rv(...e){const t=uh(e),n=aO(e),{args:r,keys:o}=xO(e);if(0===r.length)return li([],t);const i=new In(function Wq(e,t,n=io){return r=>{RO(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)RO(t,()=>{const c=li(e[l],t);let d=!1;c.subscribe(Ho(r,p=>{i[l]=p,d||(d=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>kO(o,s):io));return n?i.pipe(YS(n)):i}function RO(e,t,n){e?oc(n,e,t):t()}const Nv=Ze(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function mf(e=1/0){return ki(io,e)}function XS(...e){return function qq(){return mf(1)}()(li(e,uh(e)))}function QS(e){return new In(t=>{$s(e()).subscribe(t)})}function Ov(e,t){const n=Nt(e)?e:()=>e,r=o=>o.error(n());return new In(t?o=>t.schedule(r,0,o):r)}const Fa=new In(e=>e.complete());function JS(){return si((e,t)=>{let n=null;e._refCount++;const r=Ho(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class NO extends In{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,mI(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ct;const n=this.getSubject();t.add(this.source.subscribe(Ho(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ct.EMPTY)}return t}refCount(){return JS()(this)}}function vf(e){return e<=0?()=>Fa:si((t,n)=>{let r=0;t.subscribe(Ho(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Pv(e){return si((t,n)=>{let r=!1;t.subscribe(Ho(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function OO(e=Yq){return si((t,n)=>{let r=!1;t.subscribe(Ho(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Yq(){return new Nv}function Qc(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Pa((o,i)=>e(o,i,r)):io,vf(1),n?Pv(t):OO(()=>new Nv))}function Wi(e,t,n){const r=Nt(e)||t||n?{next:e,error:t,complete:n}:e;return r?si((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Ho(i,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),i.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),i.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),i.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):io}function Vu(e){return si((t,n)=>{let i,r=null,o=!1;r=t.subscribe(Ho(n,void 0,void 0,s=>{i=$s(e(s,Vu(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function e0(e){return e<=0?()=>Fa:si((t,n)=>{let r=[];t.subscribe(Ho(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function t0(e){return si((t,n)=>{$s(e).subscribe(Ho(n,()=>n.complete(),mr)),!n.closed&&t.subscribe(n)})}const Pn="primary",gh=Symbol("RouteTitle");class eZ{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function yf(e){return new eZ(e)}function tZ(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=e[i];if(":"===s[0])o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function wl(e,t){const n=e?n0(e):void 0,r=t?n0(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!PO(e[o],t[o]))return!1;return!0}function n0(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function PO(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}return e===t}function FO(e){return e.length>0?e[e.length-1]:null}function ic(e){return function $q(e){return!!e&&(e instanceof In||Nt(e.lift)&&Nt(e.subscribe))}(e)?e:Up(e)?li(Promise.resolve(e)):cn(e)}const rZ={exact:function BO(e,t,n){if(!Hu(e.segments,t.segments)||!Fv(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!BO(e.children[r],t.children[r],n))return!1;return!0},subset:jO},LO={exact:function oZ(e,t){return wl(e,t)},subset:function iZ(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>PO(e[n],t[n]))},ignored:()=>!0};function $O(e,t,n){return rZ[n.paths](e.root,t.root,n.matrixParams)&&LO[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function jO(e,t,n){return VO(e,t,t.segments,n)}function VO(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Hu(o,n)||t.hasChildren()||!Fv(o,n,r))}if(e.segments.length===n.length){if(!Hu(e.segments,n)||!Fv(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!jO(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!(Hu(e.segments,o)&&Fv(e.segments,o,r)&&e.children[Pn])&&VO(e.children[Pn],t,i,r)}}function Fv(e,t,n){return t.every((r,o)=>LO[n](e[o].parameters,r.parameters))}class Uu{root;queryParams;fragment;_queryParamMap;constructor(t=new Lr([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=yf(this.queryParams),this._queryParamMap}toString(){return lZ.serialize(this)}}class Lr{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $v(this)}}class mh{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=yf(this.parameters),this._parameterMap}toString(){return GO(this)}}function Hu(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let _f=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>new Lv,providedIn:"root"})}return e})();class Lv{parse(t){const n=new _Z(t);return new Uu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${vh(t.root,!0)}`,r=function dZ(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Bv(n)}=${Bv(o)}`).join("&"):`${Bv(n)}=${Bv(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function cZ(e){return encodeURI(e)}(t.fragment)}`:""}`}}const lZ=new Lv;function $v(e){return e.segments.map(t=>GO(t)).join("/")}function vh(e,t){if(!e.hasChildren())return $v(e);if(t){const n=e.children[Pn]?vh(e.children[Pn],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Pn&&r.push(`${o}:${vh(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function aZ(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===Pn&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Pn&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===Pn?[vh(e.children[Pn],!1)]:[`${o}:${vh(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Pn]?`${$v(e)}/${n[0]}`:`${$v(e)}/(${n.join("//")})`}}function UO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bv(e){return UO(e).replace(/%3B/gi,";")}function r0(e){return UO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jv(e){return decodeURIComponent(e)}function HO(e){return jv(e.replace(/\+/g,"%20"))}function GO(e){return`${r0(e.path)}${function uZ(e){return Object.entries(e).map(([t,n])=>`;${r0(t)}=${r0(n)}`).join("")}(e.parameters)}`}const fZ=/^[^\/()?;#]+/;function o0(e){const t=e.match(fZ);return t?t[0]:""}const pZ=/^[^\/()?;=#]+/,gZ=/^[^=?&#]+/,vZ=/^[^&#]+/;class _Z{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lr([],{}):new Lr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Pn]=new Lr(t,n)),r}parseSegment(){const t=o0(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Pe(4009,!1);return this.capture(t),new mh(jv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function hZ(e){const t=e.match(pZ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=o0(this.remaining);o&&(r=o,this.capture(r))}t[jv(n)]=jv(r)}parseQueryParam(t){const n=function mZ(e){const t=e.match(gZ);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function yZ(e){const t=e.match(vZ);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=HO(n),i=HO(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=o0(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Pe(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Pn);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[Pn]:new Lr([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Pe(4011,!1)}}function zO(e){return e.segments.length>0?new Lr([],{[Pn]:e}):e}function WO(e){const t={};for(const[r,o]of Object.entries(e.children)){const i=WO(o);if(r===Pn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function bZ(e){if(1===e.numberOfChildren&&e.children[Pn]){const t=e.children[Pn];return new Lr(e.segments.concat(t.segments),t.children)}return e}(new Lr(e.segments,t))}function Gu(e){return e instanceof Uu}function qO(e){let t;const o=zO(function n(i){const s={};for(const l of i.children){const c=n(l);s[l.outlet]=c}const a=new Lr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function ZO(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return s0(o,o,o,n,r);const i=function SZ(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new YO(!0,0,e);let t=0,n=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new YO(n,t,r)}(t);if(i.toRoot())return s0(o,o,new Lr([],{}),n,r);const s=function wZ(e,t,n){if(e.isAbsolute)return new Uv(t,!0,0);if(!n)return new Uv(t,!1,NaN);if(null===n.parent)return new Uv(n,!0,0);const r=Vv(e.commands[0])?0:1;return function EZ(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Pe(4005,!1);o=r.segments.length}return new Uv(r,!1,o-i)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?_h(s.segmentGroup,s.index,i.commands):XO(s.segmentGroup,s.index,i.commands);return s0(o,s.segmentGroup,a,n,r)}function Vv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function yh(e){return"object"==typeof e&&null!=e&&e.outlets}function s0(e,t,n,r,o){let s,i={};r&&Object.entries(r).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=e===t?n:KO(e,t,n);const a=zO(WO(s));return new Uu(a,i,o)}function KO(e,t,n){const r={};return Object.entries(e.children).forEach(([o,i])=>{r[o]=i===t?n:KO(i,t,n)}),new Lr(e.segments,r)}class YO{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Vv(r[0]))throw new Pe(4003,!1);const o=r.find(yh);if(o&&o!==FO(r))throw new Pe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uv{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function XO(e,t,n){if(e??=new Lr([],{}),0===e.segments.length&&e.hasChildren())return _h(e,t,n);const r=function IZ(e,t,n){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;const s=e.segments[o],a=n[r];if(yh(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!JO(l,c,s))return i;r+=2}else{if(!JO(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new Lr(e.segments.slice(0,r.pathIndex),{});return i.children[Pn]=new Lr(e.segments.slice(r.pathIndex),e.children),_h(i,0,o)}return r.match&&0===o.length?new Lr(e.segments,{}):r.match&&!e.hasChildren()?a0(e,t,n):r.match?_h(e,0,o):a0(e,t,n)}function _h(e,t,n){if(0===n.length)return new Lr(e.segments,{});{const r=function DZ(e){return yh(e[0])?e[0].outlets:{[Pn]:e}}(n),o={};if(Object.keys(r).some(i=>i!==Pn)&&e.children[Pn]&&1===e.numberOfChildren&&0===e.children[Pn].segments.length){const i=_h(e.children[Pn],t,n);return new Lr(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=XO(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new Lr(e.segments,o)}}function a0(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const i=n[o];if(yh(i)){const l=TZ(i.outlets);return new Lr(r,l)}if(0===o&&Vv(n[0])){r.push(new mh(e.segments[t].path,QO(n[0]))),o++;continue}const s=yh(i)?i.outlets[Pn]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Vv(a)?(r.push(new mh(s,QO(a))),o+=2):(r.push(new mh(s,{})),o++)}return new Lr(r,{})}function TZ(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=a0(new Lr([],{}),0,r))}),t}function QO(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function JO(e,t,n){return e==n.path&&wl(t,n.parameters)}const bh="imperative";var ar=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ar||{});class El{id;url;constructor(t,n){this.id=t,this.url=n}}class Ch extends El{type=ar.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sc extends El{urlAfterRedirects;type=ar.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Bs=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Bs||{}),Hv=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Hv||{});class zu extends El{reason;code;type=ar.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bf extends El{reason;code;type=ar.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}}class l0 extends El{error;target;type=ar.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eP extends El{urlAfterRedirects;state;type=ar.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AZ extends El{urlAfterRedirects;state;type=ar.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MZ extends El{urlAfterRedirects;state;shouldActivate;type=ar.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xZ extends El{urlAfterRedirects;state;type=ar.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kZ extends El{urlAfterRedirects;state;type=ar.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RZ{route;type=ar.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NZ{route;type=ar.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OZ{snapshot;type=ar.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PZ{snapshot;type=ar.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FZ{snapshot;type=ar.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LZ{snapshot;type=ar.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tP{routerEvent;position;anchor;type=ar.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class c0{}class Gv{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function sl(e){return e.outlet||Pn}function Cf(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class GZ{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Cf(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Wu(this.rootInjector)}}let Wu=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new GZ(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(se(B))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class nP{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=u0(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=u0(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=d0(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return d0(t,this._root).map(n=>n.value)}}function u0(e,t){if(e===t.value)return t;for(const n of t.children){const r=u0(e,n);if(r)return r}return null}function d0(e,t){if(e===t.value)return[t];for(const n of t.children){const r=d0(e,n);if(r.length)return r.unshift(t),r}return[]}class al{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Sf(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class rP extends nP{snapshot;constructor(t,n){super(t),this.snapshot=n,f0(this,t)}toString(){return this.snapshot.toString()}}function oP(e){const t=function zZ(e){const i=new Wv([],{},{},"",{},Pn,e,null,{});return new iP("",new al(i,[]))}(e),n=new Tr([new mh("",{})]),r=new Tr({}),o=new Tr({}),i=new Tr({}),s=new Tr(""),a=new ac(n,r,i,s,o,Pn,e,t.root);return a.snapshot=t.root,new rP(new al(a,[]),t)}class ac{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(rr(c=>c[gh]))??cn(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(rr(t=>yf(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(rr(t=>yf(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zv(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&aP(o)&&(r.resolve[gh]=o.title),r}class Wv{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[gh]}constructor(t,n,r,o,i,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yf(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yf(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iP extends nP{url;constructor(t,n){super(n),this.url=t,f0(this,n)}toString(){return sP(this._root)}}function f0(e,t){t.value._routerState=e,t.children.forEach(n=>f0(e,n))}function sP(e){const t=e.children.length>0?` { ${e.children.map(sP).join(", ")} } `:"";return`${e.value}${t}`}function p0(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,wl(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),wl(t.params,n.params)||e.paramsSubject.next(n.params),function nZ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!wl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),wl(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function h0(e,t){const n=wl(e.params,t.params)&&function sZ(e,t){return Hu(e,t)&&e.every((n,r)=>wl(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||h0(e.parent,t.parent))}function aP(e){return"string"==typeof e.title||null===e.title}const WZ=new tt("");let lP=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Pn;activateEvents=new yn;deactivateEvents=new yn;attachEvents=new yn;detachEvents=new yn;routerOutletData=R5(void 0);parentContexts=Le(Wu);location=Le(rs);changeDetector=Le(mt);inputBinder=Le(qv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Pe(4013,!1);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new qZ(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ns]})}return e})();class qZ{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===ac?this.route:t===Wu?this.childContexts:t===WZ?this.outletData:this.parent.get(t,n)}}const qv=new tt("");let cP=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=Rv([r.queryParams,r.params,r.data]).pipe(yi(([i,s,a],l)=>(a={...i,...s,...a},0===l?cn(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=OR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})(),uP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Xe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){1&r&&nt(0,"router-outlet")},dependencies:[lP],encapsulation:2})}return e})();function g0(e){const t=e.children&&e.children.map(g0),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Pn&&(n.component=uP),n}function Sh(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function KZ(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Sh(e,r,o);return Sh(e,r)})}(e,t,n);return new al(r,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Sh(e,a)),s}}const r=function YZ(e){return new ac(new Tr(e.url),new Tr(e.params),new Tr(e.queryParams),new Tr(e.fragment),new Tr(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Sh(e,i));return new al(r,o)}}class m0{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const dP="ngNavigationCancelingError";function Zv(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Gu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=fP(!1,Bs.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function fP(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[dP]=!0,n.cancellationCode=t,n}function pP(e){return!!e&&e[dP]}class JZ{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),p0(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Sf(n);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Sf(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Sf(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Sf(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new LZ(i.value.snapshot))}),t.children.length&&this.forwardEvent(new PZ(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(p0(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),p0(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}}class hP{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kv{component;route;constructor(t,n){this.component=t,this.route=n}}function eK(e,t,n){const r=e._root;return wh(r,t?t._root:null,n,[r.value])}function wf(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function ga(e){return null!==ys(e)}(e)?t.get(e):e:r}function wh(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Sf(t);return e.children.forEach(s=>{(function nK(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function rK(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Hu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Hu(e.url,t.url)||!wl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!h0(e,t)||!wl(e.queryParams,t.queryParams);default:return!h0(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new hP(r)):(i.data=s.data,i._resolvedData=s._resolvedData),wh(e,t,i.component?a?a.children:null:n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Kv(a.outlet.component,s))}else s&&Eh(t,a,o),o.canActivateChecks.push(new hP(r)),wh(e,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Eh(a,n.getContext(s),o)),o}function Eh(e,t,n){const r=Sf(e),o=e.value;Object.entries(r).forEach(([i,s])=>{Eh(s,o.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new Kv(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Dh(e){return"function"==typeof e}function gP(e){return e instanceof Nv||"EmptyError"===e?.name}const Yv=Symbol("INITIAL_VALUE");function Ef(){return yi(e=>Rv(e.map(t=>t.pipe(vf(1),function Kq(...e){const t=uh(e);return si((n,r)=>{(t?XS(e,n,t):XS(e,n)).subscribe(r)})}(Yv)))).pipe(rr(t=>{for(const n of t)if(!0!==n){if(n===Yv)return Yv;if(!1===n||uK(n))return n}return!0}),Pa(t=>t!==Yv),vf(1)))}function uK(e){return Gu(e)||e instanceof m0}function mP(e){return function Ro(...e){return Ir(e)}(Wi(t=>{if("boolean"!=typeof t)throw Zv(0,t)}),rr(t=>!0===t))}class v0{segmentGroup;constructor(t){this.segmentGroup=t||null}}class y0 extends Error{urlTree;constructor(t){super(),this.urlTree=t}}function Df(e){return Ov(new v0(e))}function CK(e){return Ov(new Pe(4e3,!1))}class wK{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return cn(r);if(o.numberOfChildren>1||!o.children[Pn])return CK();o=o.children[Pn]}}applyRedirectCommands(t,n,r,o,i){return function EK(e,t,n){if("string"==typeof e)return cn(e);const r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,params:c,data:d,title:p}=t;return ic(Vo(n,()=>r({params:c,data:d,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,title:p})))}(n,o,i).pipe(rr(s=>{if(s instanceof Uu)throw new y0(s);const a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if("/"===s[0])throw new y0(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){const i=this.createSegmentGroup(t,n.root,r,o);return new Uu(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){const i=this.createSegments(t,n.segments,r,o);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,o)}),new Lr(i,s)}createSegments(t,n,r,o){return n.map(i=>":"===i.path[0]?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new Pe(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const _0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function DK(e,t,n,r,o){const i=vP(e,t,n);return i.matched?(r=function BZ(e,t){return e.providers&&!e._injector&&(e._injector=bm(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function bK(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?cn(o.map(s=>{const a=wf(s,e);return ic(function cK(e){return e&&Dh(e.canMatch)}(a)?a.canMatch(t,n):Vo(e,()=>a(t,n)))})).pipe(Ef(),mP()):cn(!0)}(r,t,n).pipe(rr(s=>!0===s?i:{..._0}))):cn(i)}function vP(e,t,n){if("**"===t.path)return function IK(e){return{matched:!0,parameters:e.length>0?FO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{..._0}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||tZ)(n,e,t);if(!o)return{..._0};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function yP(e,t,n,r){return n.length>0&&function MK(e,t,n){return n.some(r=>Xv(e,t,r)&&sl(r)!==Pn)}(e,n,r)?{segmentGroup:new Lr(t,AK(r,new Lr(n,e.children))),slicedSegments:[]}:0===n.length&&function xK(e,t,n){return n.some(r=>Xv(e,t,r))}(e,n,r)?{segmentGroup:new Lr(e.segments,TK(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Lr(e.segments,e.children),slicedSegments:n}}function TK(e,t,n,r){const o={};for(const i of n)if(Xv(e,t,i)&&!r[sl(i)]){const s=new Lr([],{});o[sl(i)]=s}return{...r,...o}}function AK(e,t){const n={};n[Pn]=t;for(const r of e)if(""===r.path&&sl(r)!==Pn){const o=new Lr([],{});n[sl(r)]=o}return n}function Xv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class RK{}class PK{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wK(this.urlSerializer,this.urlTree)}noMatchError(t){return new Pe(4002,`'${t.segmentGroup}'`)}recognize(){const t=yP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(rr(({children:n,rootSnapshot:r})=>{const o=new al(r,n),i=new iP("",o),s=function CZ(e,t,n=null,r=null){return ZO(qO(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){const n=new Wv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Pn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Pn,n).pipe(rr(r=>({children:r,rootSnapshot:n})),Vu(r=>{if(r instanceof y0)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof v0?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(rr(s=>s instanceof al?[s]:[]))}processChildren(t,n,r,o){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return li(i).pipe(gf(s=>{const a=r.children[s],l=function HZ(e,t){const n=e.filter(r=>sl(r)===t);return n.push(...e.filter(r=>sl(r)!==t)),n}(n,s);return this.processSegmentGroup(t,l,a,s,o)}),function Qq(e,t){return si(function Xq(e,t,n,r,o){return(i,s)=>{let a=n,l=t,c=0;i.subscribe(Ho(s,d=>{const p=c++;l=a?e(l,d,p):(a=!0,d),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Pv(null),function Jq(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Pa((o,i)=>e(o,i,r)):io,e0(1),n?Pv(t):OO(()=>new Nv))}(),ki(s=>{if(null===s)return Df(r);const a=_P(s);return function FK(e){e.sort((t,n)=>t.value.outlet===Pn?-1:n.value.outlet===Pn?1:t.value.outlet.localeCompare(n.value.outlet))}(a),cn(a)}))}processSegment(t,n,r,o,i,s,a){return li(n).pipe(gf(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,o,i,s,a).pipe(Vu(c=>{if(c instanceof v0)return cn(null);throw c}))),Qc(l=>!!l),Vu(l=>{if(gP(l))return function kK(e,t,n){return 0===t.length&&!e.children[n]}(r,o,i)?cn(new RK):Df(r);throw l}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,l){return sl(r)===s||s!==Pn&&Xv(o,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,l):Df(o):Df(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){const{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=vP(n,o,i);if(!l)return Df(n);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const C=new Wv(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bP(o),sl(o),o.component??o._loadedComponent??null,o,CP(o)),x=zv(C,a,this.paramsInheritanceStrategy);return C.params=Object.freeze(x.params),C.data=Object.freeze(x.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,p,C,t).pipe(yi(he=>this.applyRedirects.lineralizeSegments(o,he)),ki(he=>this.processSegment(t,r,n,he.concat(m),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){const a=DK(n,r,o,t);return"**"===r.path&&(n.children={}),a.pipe(yi(l=>l.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(yi(({routes:c})=>{const d=r._loadedInjector??t,{parameters:p,consumedSegments:m,remainingSegments:C}=l,x=new Wv(m,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bP(r),sl(r),r.component??r._loadedComponent??null,r,CP(r)),j=zv(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(j.params),x.data=Object.freeze(j.data);const{segmentGroup:he,slicedSegments:Ee}=yP(n,m,C,c);if(0===Ee.length&&he.hasChildren())return this.processChildren(d,c,he,x).pipe(rr(Tt=>new al(x,Tt)));if(0===c.length&&0===Ee.length)return cn(new al(x,[]));const ke=sl(r)===i;return this.processSegment(d,c,he,Ee,ke?Pn:i,!0,x).pipe(rr(Tt=>new al(x,Tt instanceof al?[Tt]:[])))})):Df(n)))}getChildConfig(t,n,r){return n.children?cn({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?cn({routes:n._loadedRoutes,injector:n._loadedInjector}):function _K(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?cn(!0):cn(o.map(s=>{const a=wf(s,e);return ic(function iK(e){return e&&Dh(e.canLoad)}(a)?a.canLoad(t,n):Vo(e,()=>a(t,n)))})).pipe(Ef(),mP())}(t,n,r).pipe(ki(o=>o?this.configLoader.loadChildren(t,n).pipe(Wi(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function SK(){return Ov(fP(!1,Bs.GuardRejected))}())):cn({routes:[],injector:t})}}function LK(e){const t=e.value.routeConfig;return t&&""===t.path}function _P(e){const t=[],n=new Set;for(const r of e){if(!LK(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=_P(r.children);t.push(new al(r.value,o))}return t.filter(r=>!n.has(r))}function bP(e){return e.data||{}}function CP(e){return e.resolve||{}}function SP(e){const t=e.children.map(n=>SP(n)).flat();return[e,...t]}function b0(e){return yi(t=>{const n=e(t);return n?li(n).pipe(rr(()=>t)):cn(t)})}let wP=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Pn);return r}getResolvedTitleForRoute(n){return n.data[gh]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(HK),providedIn:"root"})}return e})(),HK=(()=>{class e extends wP{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(se(s7))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const If=new tt("",{providedIn:"root",factory:()=>({})}),Qv=new tt("");let C0=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Le(m5);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return cn(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=ic(Vo(n,()=>r.loadComponent())).pipe(rr(EP),yi(DP),Wi(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ch(()=>{this.componentLoaders.delete(r)})),i=new NO(o,()=>new jn).pipe(JS());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return cn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function GK(e,t,n,r){return ic(Vo(n,()=>e.loadChildren())).pipe(rr(EP),yi(DP),ki(o=>o instanceof zA||Array.isArray(o)?cn(o):li(t.compileModuleAsync(o))),rr(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(n).injector,s=i.get(Qv,[],{optional:!0,self:!0}).flat()),{routes:s.map(g0),injector:i}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ch(()=>{this.childrenLoaders.delete(r)})),s=new NO(i,()=>new jn).pipe(JS());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EP(e){return function zK(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}function DP(e){return cn(e)}let S0=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(WK),providedIn:"root"})}return e})(),WK=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const IP=new tt(""),TP=new tt("");function qK(e,t,n){const r=e.get(TP),o=e.get(ii);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function ZK(e){return new Promise(t=>{rC({read:()=>setTimeout(t)},{injector:e})})}(e)));a.ready.catch(c=>{});const{onViewTransitionCreated:l}=r;return l&&Vo(e,()=>l({transition:a,from:t,to:n})),s}const AP=new tt("");let w0=(()=>{class e{currentNavigation=Ai(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new jn;transitionAbortWithErrorSubject=new jn;configLoader=Le(C0);environmentInjector=Le(B);destroyRef=Le(Gi);urlSerializer=Le(_f);rootContexts=Le(Wu);location=Le(Rc);inputBindingEnabled=null!==Le(qv,{optional:!0});titleStrategy=Le(wP);options=Le(If,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Le(S0);createViewTransition=Le(IP,{optional:!0});navigationErrorHandler=Le(AP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>cn(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new NZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new RZ(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;to(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(n){return this.transitions=new Tr(null),this.transitions.pipe(Pa(r=>null!==r),yi(r=>{let o=!1;return cn(r).pipe(yi(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Bs.SupersededByNewNavigation),Fa;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:"string"==typeof i.extras.browserUrl?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>i.abortController.abort()});const s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(i.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new bf(i.id,this.urlSerializer.serialize(i.rawUrl),"",Hv.IgnoredSameUrlNavigation)),i.resolve(!1),Fa;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return cn(i).pipe(yi(l=>(this.events.next(new Ch(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Fa:Promise.resolve(l))),function $K(e,t,n,r,o,i){return ki(s=>function NK(e,t,n,r,o,i,s="emptyOnly"){return new PK(e,t,n,r,o,s,i).recognize()}(e,t,n,r,s.extractedUrl,o,i).pipe(rr(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Wi(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=l.urlAfterRedirects,d));const c=new eP(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){const{id:l,extractedUrl:c,source:d,restoredState:p,extras:m}=i,C=new Ch(l,this.urlSerializer.serialize(c),d,p);this.events.next(C);const x=oP(this.rootComponentType).snapshot;return this.currentTransition=r={...i,targetSnapshot:x,urlAfterRedirects:c,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(j=>(j.finalUrl=c,j)),cn(r)}return this.events.next(new bf(i.id,this.urlSerializer.serialize(i.extractedUrl),"",Hv.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Fa}),Wi(i=>{const s=new AZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),rr(i=>(this.currentTransition=r={...i,guards:eK(i.targetSnapshot,i.currentSnapshot,this.rootContexts)},r)),function dK(e,t){return ki(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?cn({...n,guardsResult:!0}):function fK(e,t,n,r){return li(e).pipe(ki(o=>function yK(e,t,n,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?cn(i.map(a=>{const l=Cf(t)??o,c=wf(a,l);return ic(function lK(e){return e&&Dh(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):Vo(l,()=>c(e,t,n,r))).pipe(Qc())})).pipe(Ef()):cn(!0)}(o.component,o.route,n,t,r)),Qc(o=>!0!==o,!0))}(s,r,o,e).pipe(ki(a=>a&&function oK(e){return"boolean"==typeof e}(a)?function pK(e,t,n,r){return li(t).pipe(gf(o=>XS(function gK(e,t){return null!==e&&t&&t(new OZ(e)),cn(!0)}(o.route.parent,r),function hK(e,t){return null!==e&&t&&t(new FZ(e)),cn(!0)}(o.route,r),function vK(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function tK(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>QS(()=>cn(s.guards.map(l=>{const c=Cf(s.node)??n,d=wf(l,c);return ic(function aK(e){return e&&Dh(e.canActivateChild)}(d)?d.canActivateChild(r,e):Vo(c,()=>d(r,e))).pipe(Qc())})).pipe(Ef())));return cn(i).pipe(Ef())}(e,o.path,n),function mK(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return cn(!0);const o=r.map(i=>QS(()=>{const s=Cf(t)??n,a=wf(i,s);return ic(function sK(e){return e&&Dh(e.canActivate)}(a)?a.canActivate(t,e):Vo(s,()=>a(t,e))).pipe(Qc())}));return cn(o).pipe(Ef())}(e,o.route,n))),Qc(o=>!0!==o,!0))}(r,i,e,t):cn(a)),rr(a=>({...n,guardsResult:a})))})}(this.environmentInjector,i=>this.events.next(i)),Wi(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&"boolean"!=typeof i.guardsResult)throw Zv(0,i.guardsResult);const s=new MZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),Pa(i=>!!i.guardsResult||(this.cancelNavigationTransition(i,"",Bs.GuardRejected),!1)),b0(i=>{if(0!==i.guards.canActivateChecks.length)return cn(i).pipe(Wi(s=>{const a=new xZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),yi(s=>{let a=!1;return cn(s).pipe(function BK(e,t){return ki(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return cn(n);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of SP(l))s.add(c);let a=0;return li(s).pipe(gf(l=>i.has(l)?function jK(e,t,n,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!aP(o)&&(i[gh]=o.title),QS(()=>(e.data=zv(e,e.parent,n).resolve,function VK(e,t,n,r){const o=n0(e);if(0===o.length)return cn({});const i={};return li(o).pipe(ki(s=>function UK(e,t,n,r){const o=Cf(t)??r,i=wf(e,o);return ic(i.resolve?i.resolve(t,n):Vo(o,()=>i(t,n)))}(e[s],t,n,r).pipe(Qc(),Wi(a=>{if(a instanceof m0)throw Zv(new Lv,a);i[s]=a}))),e0(1),rr(()=>i),Vu(s=>gP(s)?Fa:Ov(s)))}(i,e,t,r).pipe(rr(s=>(e._resolvedData=s,e.data={...e.data,...s},null)))))}(l,r,e,t):(l.data=zv(l,l.parent,e).resolve,cn(void 0))),Wi(()=>a++),e0(1),ki(l=>a===s.size?cn(n):Fa))})}(this.paramsInheritanceStrategy,this.environmentInjector),Wi({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Bs.NoDataFromResolver)}}))}),Wi(s=>{const a=new kZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),b0(i=>{const s=a=>{const l=[];if(a.routeConfig?.loadComponent){const c=Cf(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Wi(d=>{a.component=d}),rr(()=>{})))}for(const c of a.children)l.push(...s(c));return l};return Rv(s(i.targetSnapshot.root)).pipe(Pv(null),vf(1))}),b0(()=>this.afterPreactivation()),yi(()=>{const{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?li(a).pipe(rr(()=>r)):cn(r)}),rr(i=>{const s=function ZZ(e,t,n){const r=Sh(e,t._root,n?n._root:void 0);return new rP(r,t)}(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r={...i,targetRouterState:s},this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Wi(()=>{this.events.next(new c0)}),((e,t,n,r)=>rr(o=>(new JZ(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),vf(1),t0(new In(i=>{const s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Pa(()=>!o&&!r.targetRouterState),Wi(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Bs.Aborted)}))),Wi({next:i=>{o=!0,this.lastSuccessfulNavigation=to(this.currentNavigation),this.events.next(new sc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),t0(this.transitionAbortWithErrorSubject.pipe(Wi(i=>{throw i}))),ch(()=>{o||this.cancelNavigationTransition(r,"",Bs.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Vu(i=>{if(this.destroyed)return r.resolve(!1),Fa;if(o=!0,pP(i))this.events.next(new zu(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),function XZ(e){return pP(e)&&Gu(e.url)}(i)?this.events.next(new Gv(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{const s=new l0(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{const a=Vo(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(a instanceof m0))throw this.events.next(s),i;{const{message:l,cancellationCode:c}=Zv(0,a);this.events.next(new zu(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new Gv(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Fa}))}))}cancelNavigationTransition(n,r,o){const i=new zu(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=to(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function KK(e){return e!==bh}let MP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(XK),providedIn:"root"})}return e})();class YK{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let XK=(()=>{class e extends YK{static \u0275fac=(()=>{let n;return function(o){return(n||(n=eo(e)))(o||e)}})();static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xP=(()=>{class e{urlSerializer=Le(_f);options=Le(If,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Le(Rc);urlHandlingStrategy=Le(S0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Uu;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){const i=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Uu?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=oP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:()=>Le(QK),providedIn:"root"})}return e})(),QK=(()=>{class e extends xP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ch?this.updateStateMemento():n instanceof bf?this.commitTransition(r):n instanceof eP?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof c0?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof zu&&n.code!==Bs.SupersededByNewNavigation&&n.code!==Bs.Redirect?this.restoreHistory(r):n instanceof l0?this.restoreHistory(r,!0):n instanceof sc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){const{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){const a=this.browserPageId,l={...s,...this.generateNgRouterState(o,a)};this.location.replaceState(n,"",l)}else{const a={...s,...this.generateNgRouterState(o,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&0===i&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=eo(e)))(o||e)}})();static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kP(e,t){e.events.pipe(Pa(n=>n instanceof sc||n instanceof zu||n instanceof l0||n instanceof bf),rr(n=>n instanceof sc||n instanceof bf?0:n instanceof zu&&(n.code===Bs.Redirect||n.code===Bs.SupersededByNewNavigation)?2:1),Pa(n=>2!==n),vf(1)).subscribe(()=>{t()})}const JK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ri=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Le(TM);stateManager=Le(xP);options=Le(If,{optional:!0})||{};pendingTasks=Le(xc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Le(w0);urlSerializer=Le(_f);location=Le(Rc);urlHandlingStrategy=Le(S0);injector=Le(B);_events=new jn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Le(MP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Le(Qv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Le(qv,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ct;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=to(this.navigationTransitions.currentNavigation);if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof zu&&r.code!==Bs.Redirect&&r.code!==Bs.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sc)this.navigated=!0;else if(r instanceof Gv){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||KK(o.source),...s};this.scheduleNavigation(a,bh,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function $Z(e){return!(e instanceof c0||e instanceof Gv)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(l=>{this.disposed||this.injector.get(el)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return to(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(g0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let p,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...i};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}null!==d&&(d=this.removeEmptyProps(d));try{p=qO(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),p=this.currentUrlTree.root}return ZO(p,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Gu(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,bh,null,r)}navigate(n,r={skipLocationChange:!1}){return function tY(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Pe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...JK}:!1===r?{...eY}:r,Gu(n))return $O(this.currentUrlTree,n,o);const i=this.parseUrl(n);return $O(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((p,m)=>{a=p,l=m});const d=this.pendingTasks.add();return kP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iY=_(7510),sY=_.n(iY),q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e.te2="Tungsten-E2",e.frankene2="Franken-E2",e}(q||{});function RP(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const n=t.getPointer(e.GetCurrentEntryContent()),r=e.GetCurrentEntrySize();return n>0&&r>0?t.HEAPU8.subarray(n,n+r):void 0}},e)}function E0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}let aY=0;const NP=[q.palmPilot,q.pilot,q.iii,q.palmVx,q.palmV,q.palmVII,q.palmVIIEZ,q.palmVIIx,q.iiixe,q.iiix,q.iiie,q.m500,q.m505,q.m515,q.m520,q.iiic,q.m100,q.m105,q.m125,q.m130,q.i705,q.i710,q.handera330,q.handera330c,q.pegS300,q.pegS320,q.pegS500c,q.pegT400,q.pegN600c,q.pegT600c,q.pegN700c,q.pegT650c,q.pegNR70,q.acerS11,q.lp168];function jt(){return(e,t,n)=>{const r=n.value;return n.value=function(o,i){return this.guard(()=>r.call(this,o,i))},n}}function OP(e){switch(e){case 0:return q.te2;case 1:return q.frankene2;default:return}}class Ft{constructor(t){this.module=t,this.fatalErrorEvent=new fn.J,this.pwmUpdateEvent=new fn.J,this.proxyDisconnectEvent=new fn.J,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((n,r)=>this.pwmUpdateEvent.dispatch({frequency:n,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(()=>this.proxyDisconnectEvent.dispatch(),"v")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,M.A)(function*(){const n=aY++;return new Ft(yield sY()({print:r=>console.log(`${n}: ${r}`),printErr:r=>console.warn(`${n}: ${r}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}enableLogging(t){this.cloudpilot.EnableLogging(t)}getRomInfo(t){const n=this.copyIn(t);try{return this.getRomInfoCloudpilot(n,t.length)||this.getRomInfoUarm(n,t.length)}finally{this.cloudpilot.Free(n)}}initializeSession(t,n){const r=this.copyIn(t),o=this.cloudpilot.InitializeSession(r,t.length,n);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),n=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(n,n+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,n){this.cloudpilot.QueuePenMove(t,n)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t){this.cloudpilot.QueueKeyboardEvent(t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const n=this.copyIn(t),r=this.cloudpilot.InstallDb(n,t.length);return this.cloudpilot.Free(n),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),n=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((n>>>13)+(n%8192==0?0:1)))}loadMemory(t){const n=this.getMemory32();if((()=>{if(t.length!==n.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==n[n.length-o])return!1;if(4294967295===n[n.length-o])break}return!0})())return n.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const n=this.copyIn(t),r=this.cloudpilot.LoadState(n,t.length);return this.cloudpilot.Free(n),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var n=this;return(0,M.A)(function*(){const r=n.guard(()=>n.cloudpilot.StartBackup());try{return yield t(n.wrap(r))}finally{n.module.destroy(r)}})()}getArchive(t){const n=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),n)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.IsSuspended()?this.cloudpilot.GetSuspendContext().GetKind():void 0}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){t&&this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,n){const r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+n)}withZipfileWalker(t,n){var r=this;return(0,M.A)(function*(){const o=r.guard(()=>{const i=r.copyIn(t),s=new r.module.ZipfileWalker(t.length,i);return r.cloudpilot.Free(i),s});try{return yield n(RP(r.wrap(o),r.module))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(t,n){const r=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return n(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(t){if("cloudpilot"===t.engine&&t.nand)throw new Error("cloudpilot image cannot have nand");const n=this.copyIn(t.rom),r=t.memory&&this.copyIn(t.memory),o=t.savestate&&this.copyIn(t.savestate),i=t.nand&&this.copyIn(t.nand);let s,a;if(void 0!==t.metadata){const l=(new TextEncoder).encode(JSON.stringify(t.metadata));a=l.length,s=this.copyIn(l)}try{switch(t.engine){case"cloudpilot":return this.serializeSessionImageCloudpilot(t.deviceId,{rom:n,romLength:t.rom.length,memory:r,memoryLength:t.memory?.length,savestate:o,savestateLength:t.savestate?.length,metadata:s,metadataLength:a});case"uarm":return this.serializeSessionImageUarm(t.deviceId,{rom:n,romLength:t.rom.length,nand:i,nandLength:t.nand?.length,memory:r,memoryLength:t.memory?.length,savestate:o,savestateLength:t.savestate?.length,metadata:s,metadataLength:a});default:throw new Error("unreachable")}}finally{[n,i,r,o,s].forEach(l=>this.freeBuffer(l))}}deserializeSessionImage(t){if(!t)return;const n=function oY(e){if(!(e.length<4))switch(new DataView(e.buffer,e.byteOffset).getUint32(0,!0)){case 538247427:return"cloudpilot";case 427821081:return"uarm";default:return}}(t);if(void 0===n)return;const r=this.copyIn(t);try{switch(n){case"cloudpilot":return this.deserializeSessionImageCloudpilot(r,t.length);case"uarm":return this.deserializeSessionImageUarm(r,t.length);default:return}}finally{this.cloudpilot.Free(r)}}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const n=this.copyIn(t.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(n,32);return this.cloudpilot.Free(n),r}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,n){return this.cloudpilot.AllocateCard(t,n>>>9)}decompressCard(t,n){const r=this.copyIn(n);let o;try{for(o=new this.module.GunzipContext(r,n.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(t){const n=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==n)return this.module.HEAPU32.subarray(n>>>2,n+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const n=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===n)return;const r=E0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(n,n+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()||void 0}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}remountFailed(){return this.cloudpilot.RemountFailed()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const n=new this.module.SkinLoader(t);try{const r=this.module.getPointer(n.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+n.GetSize()))}finally{this.module.destroy(n)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(n){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(n instanceof Error?n:new Error("unknown error")),n}}getRomInfoCloudpilot(t,n){const r=new this.module.RomInfo(t,n);try{return r.IsValid()?{engine:"cloudpilot",cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:NP.filter(r.Supports.bind(r))}:void 0}finally{this.module.destroy(r)}}getRomInfoUarm(t,n){const r=new this.module.RomInfo5(t,n);if(!r.IsValid())return;const o=r.GetDeviceType(),i=OP(o);if(void 0!==i)try{return r.IsValid()?{engine:"uarm",romName:r.GetRomName(),cardName:r.GetCardName(),manufacturer:r.GetManufacturer(),companyId:r.GetCompanyId(),halId:r.GetHalId(),deviceType:o,recommendedRamSize:r.GetRecommendedRamSize(),supportedDevices:[i]}:void 0}finally{this.module.destroy(r)}}deserializeSessionImageCloudpilot(t,n){const r=new this.module.SessionImage;try{if(!r.Deserialize(t,n))return;const o=r.GetDeviceId();if(!NP.includes(o))throw new Error(`unsupported device ${o}`);const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize());if(!i)throw new Error("invalid session image: no ROM or memory");let l;const c=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(c)try{l={engine:"cloudpilot",...JSON.parse((new TextDecoder).decode(c))}}catch(d){console.warn("ignoring invalid metadata",d)}return{engine:"cloudpilot",deviceId:o,rom:i,memory:s,savestate:a,metadata:l,version:r.GetVersion()}}catch(o){console.error(o)}finally{this.module.destroy(r)}}deserializeSessionImageUarm(t,n){const r=new this.module.SessionFile5;try{if(!r.Deserialize(n,t))return;const o=OP(r.GetDeviceId());if(void 0===o)throw new Error(`unsupported uARM device ${o}`);const i=this.copyOut(r.GetNor(),r.GetNorSize()),s=this.copyOut(r.GetMemory(),r.GetMemorySize()),a=this.copyOut(r.GetNand(),r.GetNandSize()),l=this.copyOut(r.GetSavestate(),r.GetSavestateSize());if(!i)throw new Error("invalid session image: no ROM or memory");const c=this.copyOut(r.GetMetadata(),r.GetMetadataSize());let d;if(c)try{d={engine:"uarm",...JSON.parse((new TextDecoder).decode(c))}}catch(p){console.warn("invalid metadata",p)}return{engine:"uarm",deviceId:o,rom:i,memory:s,nand:a,savestate:l,metadata:d,version:r.GetVersion()}}finally{this.module.destroy(r)}}serializeSessionImageCloudpilot(t,{rom:n,romLength:r,memory:o,memoryLength:i,savestate:s,savestateLength:a,metadata:l,metadataLength:c}){const d=new this.module.SessionImage;try{return d.SetDeviceId(t),d.SetRomImage(n,r),o&&d.SetMemoryImage(o,i??0),s&&d.SetSavestate(s,a??0),l&&d.SetMetadata(l,c??0),d.Serialize()?this.copyOut(d.GetSerializedImage(),d.GetSerializedImageSize()):void 0}finally{this.module.destroy(d)}}serializeSessionImageUarm(t,{rom:n,romLength:r,memory:o,memoryLength:i,nand:s,nandLength:a,savestate:l,savestateLength:c,metadata:d,metadataLength:p}){const m=new this.module.SessionFile5;try{return m.SetDeviceId(function lY(e){switch(e){case q.te2:return 0;case q.frankene2:return 1;default:return-1}}(t)),m.SetNor(r,n),o&&m.SetMemory(i??0,o),s&&m.SetNand(a??0,s),l&&m.SetSavestate(c??0,l),d&&m.SetMetadata(p??0,d),m.Serialize()?this.copyOut(m.GetSerializedSession(),m.GetSerializedSessionSize()):void 0}finally{this.module.destroy(m)}}copyIn(t){const n=this.cloudpilot.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}copyIn32(t){const n=this.cloudpilot.Malloc(t.length<<2),r=this.module.getPointer(n);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+t.length).set(t),n}copyOut(t,n){const r=this.module.getPointer(t);return r>0&&n>0?this.module.HEAPU8.subarray(r,r+n).slice():void 0}wrap(t){return new Proxy(t,{get:(n,r)=>{const o=n[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(n,i))}})}wrapTransport(t){const n=new fn.J;return t.SetRequestTransferCallback(this.module.addFunction(()=>n.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const r=t.RxBytesPending();return this.copyOut(t.Receive(),r)},Send:(r,o)=>{const i=r&&this.copyIn(r);t.Send(r?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:n},t))}}oe([jt()],Ft.prototype,"enableLogging",null),oe([jt()],Ft.prototype,"getRomInfo",null),oe([jt()],Ft.prototype,"initializeSession",null),oe([jt()],Ft.prototype,"cyclesPerSecond",null),oe([jt()],Ft.prototype,"runEmulation",null),oe([jt()],Ft.prototype,"getFrame",null),oe([jt()],Ft.prototype,"isScreenDirty",null),oe([jt()],Ft.prototype,"markScreenClean",null),oe([jt()],Ft.prototype,"minRamForDevice",null),oe([jt()],Ft.prototype,"framebufferSizeForDevice",null),oe([jt()],Ft.prototype,"totalMemorySizeForDevice",null),oe([jt()],Ft.prototype,"queuePenMove",null),oe([jt()],Ft.prototype,"queuePenUp",null),oe([jt()],Ft.prototype,"queueButtonDown",null),oe([jt()],Ft.prototype,"queueButtonUp",null),oe([jt()],Ft.prototype,"queueKeyboardEvent",null),oe([jt()],Ft.prototype,"isPowerOff",null),oe([jt()],Ft.prototype,"isUiInitialized",null),oe([jt()],Ft.prototype,"isSetupComplete",null),oe([jt()],Ft.prototype,"getOSVersion",null),oe([jt()],Ft.prototype,"reset",null),oe([jt()],Ft.prototype,"resetNoExtensions",null),oe([jt()],Ft.prototype,"resetHard",null),oe([jt()],Ft.prototype,"installDb",null),oe([jt()],Ft.prototype,"getPalette2bitMapping",null),oe([jt()],Ft.prototype,"getMemory",null),oe([jt()],Ft.prototype,"getMemory32",null),oe([jt()],Ft.prototype,"getDirtyPages",null),oe([jt()],Ft.prototype,"loadMemory",null),oe([jt()],Ft.prototype,"getRomImage",null),oe([jt()],Ft.prototype,"getSavestate",null),oe([jt()],Ft.prototype,"saveState",null),oe([jt()],Ft.prototype,"loadState",null),oe([jt()],Ft.prototype,"getHotsyncName",null),oe([jt()],Ft.prototype,"setClockFactor",null),oe([jt()],Ft.prototype,"setHotsyncName",null),oe([jt()],Ft.prototype,"setClipboardIntegration",null),oe([jt()],Ft.prototype,"getClipboardIntegration",null),oe([jt()],Ft.prototype,"isSuspended",null),oe([jt()],Ft.prototype,"getSuspendKind",null),oe([jt()],Ft.prototype,"cancelSuspend",null),oe([jt()],Ft.prototype,"getSuspendContextClipboardCopy",null),oe([jt()],Ft.prototype,"getSuspendContextClipboardPaste",null),oe([jt()],Ft.prototype,"setNetworkRedirection",null),oe([jt()],Ft.prototype,"getNetworkRedirection",null),oe([jt()],Ft.prototype,"getSuspendContextNetworkConnect",null),oe([jt()],Ft.prototype,"getSuspendContextNetworkRpc",null),oe([jt()],Ft.prototype,"getSuspendContextSerialSync",null),oe([jt()],Ft.prototype,"copyBuffer",null),oe([jt()],Ft.prototype,"freeBuffer",null),oe([jt()],Ft.prototype,"setHotsyncNameManagement",null),oe([jt()],Ft.prototype,"resolveBuffer",null),oe([jt()],Ft.prototype,"serializeSessionImage",null),oe([jt()],Ft.prototype,"deserializeSessionImage",null),oe([jt()],Ft.prototype,"launchAppByName",null),oe([jt()],Ft.prototype,"launchAppByDbHeader",null),oe([jt()],Ft.prototype,"clearExternalStorage",null),oe([jt()],Ft.prototype,"allocateCard",null),oe([jt()],Ft.prototype,"decompressCard",null),oe([jt()],Ft.prototype,"getCardData",null),oe([jt()],Ft.prototype,"getCardDirtyPages",null),oe([jt()],Ft.prototype,"getMountedKey",null),oe([jt()],Ft.prototype,"mountCard",null),oe([jt()],Ft.prototype,"removeCard",null),oe([jt()],Ft.prototype,"remountCards",null),oe([jt()],Ft.prototype,"remountFailed",null),oe([jt()],Ft.prototype,"getCardSupportLevel",null),oe([jt()],Ft.prototype,"loadSkin",null);const D0="application/wasm";function PP(e){return I0.apply(this,arguments)}function I0(){return(I0=(0,M.A)(function*(e){const t=yield fetch(e);if(!t.ok)throw new Error(`request for ${e} failed with ${t.status}: ${t.statusText}`);const n=t.headers.get("Content-Type")??"no mime type";if(n!==D0&&console.warn(`response for ${e} has wrong mime type: expected ${D0}, got ${n}`),n===D0&&WebAssembly.compileStreaming)return WebAssembly.compileStreaming(t);const r=yield t.arrayBuffer();return WebAssembly.compile(r)})).apply(this,arguments)}class FP{}let fY=(()=>{class e{preload(n,r){return r().pipe(Vu(()=>cn(null)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pY=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Pa(n=>n instanceof sc),gf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=bm(i.providers,n,`Route: ${i.path}`));const s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return li(o).pipe(mf())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):cn(null);const i=o.pipe(ki(s=>null===s?cn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?li([i,this.loader.loadComponent(n,r)]).pipe(mf()):i})}static \u0275fac=function(r){return new(r||e)(se(Ri),se(B),se(FP),se(C0))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const T0=new tt("");let LP=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=bh;restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ch?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof bf&&n.code===Hv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof tP&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){var o=this;this.zone.runOutsideAngular((0,M.A)(function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),o.zone.run(()=>{o.transitions.events.next(new tP(n,"popstate"===o.lastSource?o.store[o.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function gA(){throw new Error("invalid")}()};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();function Dl(e,t){return{\u0275kind:e,\u0275providers:t}}function BP(){const e=Le(Gr);return t=>{const n=e.get(ka);if(t!==n.components[0])return;const r=e.get(Ri),o=e.get(jP);1===e.get(A0)&&r.initialNavigation(),e.get(VP,null,{optional:!0})?.setUpPreloading(),e.get(T0,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const jP=new tt("",{factory:()=>new jn}),A0=new tt("",{providedIn:"root",factory:()=>1}),VP=new tt("");function vY(e){return Dl(0,[{provide:VP,useExisting:pY},{provide:FP,useExisting:e}])}function _Y(e){return Mi("NgRouterViewTransitions"),Dl(9,[{provide:IP,useValue:qK},{provide:TP,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const bY=[Rc,{provide:_f,useClass:Lv},Ri,Wu,{provide:ac,useFactory:function $P(e){return e.routerState.root},deps:[Ri]},C0,[]];let Jv=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[bY,[],{provide:Qv,multi:!0,useValue:n},[],r?.errorHandler?{provide:AP,useValue:r.errorHandler}:[],{provide:If,useValue:r||{}},r?.useHash?{provide:vl,useClass:eN}:{provide:vl,useClass:fI},{provide:T0,useFactory:()=>{const e=Le(M8),t=Le(We),n=Le(If),r=Le(w0),o=Le(_f);return n.scrollOffset&&e.setOffset(n.scrollOffset),new LP(o,r,e,t,n)}},r?.preloadingStrategy?vY(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?EY(r):[],r?.bindToComponentInputs?Dl(8,[cP,{provide:qv,useExisting:cP}]).\u0275providers:[],r?.enableViewTransitions?_Y().\u0275providers:[],[{provide:UP,useFactory:BP},{provide:zM,multi:!0,useExisting:UP}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Qv,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Go({type:e});static \u0275inj=Un({})}return e})();function EY(e){return["disabled"===e.initialNavigation?Dl(3,[hC(()=>{Le(Ri).setUpLocationChangeListener()}),{provide:A0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Dl(2,[{provide:$B,useValue:!0},{provide:A0,useValue:0},hC(()=>{const t=Le(Gr);return t.get(s$,Promise.resolve()).then(()=>new Promise(r=>{const o=t.get(Ri),i=t.get(jP);kP(o,()=>{r(!0)}),t.get(w0).afterPreactivation=()=>(r(!0),i.closed?cn(void 0):i),o.initialNavigation()}))})]).\u0275providers:[]]}const UP=new tt("");var IY=_(5886);const HP=e=>zP(e),zP=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=TY(e),t.forEach(n=>e.document.documentElement.classList.add(`plt-${n}`))),t},TY=e=>{const t=IY.c.get("platform");return Object.keys(YP).filter(n=>{const r=t?.[n];return"function"==typeof r?r(e):YP[n](e)})},M0=e=>!!(qu(e,/iPad/i)||qu(e,/Macintosh/i)&&ey(e)),WP=e=>qu(e,/android|sink/i),ey=e=>LY(e,"(any-pointer:coarse)"),qP=e=>ZP(e)||KP(e),ZP=e=>!!(e.cordova||e.phonegap||e.PhoneGap),KP=e=>{const t=e.Capacitor;return!!(t?.isNative||t?.isNativePlatform&&t.isNativePlatform())},qu=(e,t)=>t.test(e.navigator.userAgent),LY=(e,t)=>{var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},YP={ipad:M0,iphone:e=>qu(e,/iPhone/i),ios:e=>qu(e,/iPhone|iPod/i)||M0(e),android:WP,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return r>390&&r<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return M0(e)||(e=>WP(e)&&!qu(e,/mobile/i))(e)||r>460&&r<820&&o>780&&o<1400},cordova:ZP,capacitor:KP,electron:e=>qu(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:ey,mobileweb:e=>ey(e)&&!qP(e),desktop:e=>!ey(e),hybrid:qP};var Th=_(3112);const GY=["addListener","removeListener"],zY=["addEventListener","removeEventListener"],WY=["on","off"];function ty(e,t,n,r){if(Nt(n)&&(r=n,n=void 0),r)return ty(e,t,n).pipe(YS(r));const[o,i]=function KY(e){return Nt(e.addEventListener)&&Nt(e.removeEventListener)}(e)?zY.map(s=>a=>e[s](t,a,n)):function qY(e){return Nt(e.addListener)&&Nt(e.removeListener)}(e)?GY.map(XP(e,t)):function ZY(e){return Nt(e.on)&&Nt(e.off)}(e)?WY.map(XP(e,t)):[];if(!o&&VS(e))return ki(s=>ty(s,t,n))($s(e));if(!o)throw new TypeError("Invalid event target");return new In(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function XP(e,t){return n=>r=>e[n](t,r)}function QP(e,t=io){return e=e??YY,si((n,r)=>{let o,i=!0;n.subscribe(Ho(r,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function YY(e,t){return e===t}let JP=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(y(Xl),y(rt))};static \u0275dir=Ut({type:e})}return e})(),Zu=(()=>{class e extends JP{static \u0275fac=(()=>{let n;return function(o){return(n||(n=eo(e)))(o||e)}})();static \u0275dir=Ut({type:e,features:[On]})}return e})();const js=new tt(""),JY={provide:js,useExisting:Vn(()=>x0),multi:!0},tX=new tt("");let x0=(()=>{class e extends JP{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function eX(){const e=kc()?kc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(y(Xl),y(rt),y(tX,8))};static \u0275dir=Ut({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&$e("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Cr([JY]),On]})}return e})();function k0(e){return null==e||0===R0(e)}function R0(e){return null==e?null:Array.isArray(e)||"string"==typeof e?e.length:e instanceof Set?e.size:null}const _i=new tt(""),Jc=new tt(""),nX=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ah{static min(t){return tF(t)}static max(t){return nF(t)}static required(t){return function rF(e){return k0(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function oF(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function iF(e){return k0(e.value)||nX.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function sF(e){return t=>{const n=t.value?.length??R0(t.value);return null===n||0===n?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}(t)}static maxLength(t){return aF(t)}static pattern(t){return function lF(e){if(!e)return ny;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(k0(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return hF(t)}static composeAsync(t){return gF(t)}}function tF(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function nF(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function aF(e){return t=>{const n=t.value?.length??R0(t.value);return null!==n&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function ny(e){return null}function cF(e){return null!=e}function uF(e){return Up(e)?li(e):e}function dF(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function fF(e,t){return t.map(n=>n(e))}function pF(e){return e.map(t=>function rX(e){return!e.validate}(t)?t:n=>t.validate(n))}function hF(e){if(!e)return null;const t=e.filter(cF);return 0==t.length?null:function(n){return dF(fF(n,t))}}function N0(e){return null!=e?hF(pF(e)):null}function gF(e){if(!e)return null;const t=e.filter(cF);return 0==t.length?null:function(n){return function XY(...e){const t=aO(e),{args:n,keys:r}=xO(e),o=new In(i=>{const{length:s}=n;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let p=!1;$s(n[d]).subscribe(Ho(i,m=>{p||(p=!0,c--),a[d]=m},()=>l--,void 0,()=>{(!l||!p)&&(c||i.next(r?kO(r,a):a),i.complete())}))}});return t?o.pipe(YS(t)):o}(fF(n,t).map(uF)).pipe(rr(dF))}}function O0(e){return null!=e?gF(pF(e)):null}function mF(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function vF(e){return e._rawValidators}function yF(e){return e._rawAsyncValidators}function P0(e){return e?Array.isArray(e)?e:[e]:[]}function ry(e,t){return Array.isArray(e)?e.includes(t):e===t}function _F(e,t){const n=P0(t);return P0(e).forEach(o=>{ry(n,o)||n.push(o)}),n}function bF(e,t){return P0(t).filter(n=>!ry(e,n))}class CF{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=N0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=O0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class ls extends CF{name;get formDirective(){return null}get path(){return null}}class lc extends CF{_parent=null;name=null;valueAccessor=null}class SF{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let cc=(()=>{class e extends SF{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(lc,2))};static \u0275dir=Ut({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&aa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[On]})}return e})(),uc=(()=>{class e extends SF{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(ls,10))};static \u0275dir=Ut({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&aa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[On]})}return e})();const Mh="VALID",iy="INVALID",Af="PENDING",xh="DISABLED";class Mf{}class EF extends Mf{value;source;constructor(t,n){super(),this.value=t,this.source=n}}class $0 extends Mf{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}}class B0 extends Mf{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}}class sy extends Mf{status;source;constructor(t,n){super(),this.status=t,this.source=n}}class DF extends Mf{source;constructor(t){super(),this.source=t}}class IF extends Mf{source;constructor(t){super(),this.source=t}}function j0(e){return(ay(e)?e.validators:e)||null}function V0(e,t){return(ay(t)?t.asyncValidators:e)||null}function ay(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class U0{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return to(this.statusReactive)}set status(t){to(()=>this.statusReactive.set(t))}_status=zi(()=>this.statusReactive());statusReactive=Ai(void 0);get valid(){return this.status===Mh}get invalid(){return this.status===iy}get pending(){return this.status==Af}get disabled(){return this.status===xh}get enabled(){return this.status!==xh}errors;get pristine(){return to(this.pristineReactive)}set pristine(t){to(()=>this.pristineReactive.set(t))}_pristine=zi(()=>this.pristineReactive());pristineReactive=Ai(!0);get dirty(){return!this.pristine}get touched(){return to(this.touchedReactive)}set touched(t){to(()=>this.touchedReactive.set(t))}_touched=zi(()=>this.touchedReactive());touchedReactive=Ai(!1);get untouched(){return!this.touched}_events=new jn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(_F(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(_F(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(bF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(bF(t,this._rawAsyncValidators))}hasValidator(t){return ry(this._rawValidators,t)}hasAsyncValidator(t){return ry(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const n=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new B0(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&!1!==t.emitEvent&&this._events.next(new B0(!1,r))}markAsDirty(t={}){const n=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new $0(!1,r))}markAsPristine(t={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&!1!==t.emitEvent&&this._events.next(new $0(!0,r))}markAsPending(t={}){this.status=Af;const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new sy(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:n})}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=xh,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new EF(this.value,r)),this._events.next(new sy(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Mh,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mh||this.status===Af)&&this._runAsyncValidator(r,t.emitEvent)}const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new EF(this.value,n)),this._events.next(new sy(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:n})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xh:Mh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Af,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==t};const r=uF(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new sy(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new yn,this.statusChanges=new yn}_calculateStatus(){return this._allControlsDisabled()?xh:this.errors?iy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Af)?Af:this._anyControlsHaveStatus(iy)?iy:Mh}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new $0(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new B0(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ay(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function uX(e){return Array.isArray(e)?N0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function dX(e){return Array.isArray(e)?O0(e):e||null}(this._rawAsyncValidators)}}class eu extends U0{constructor(t,n,r){super(j0(n),V0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function AF(e,t,n){e._forEachChild((r,o)=>{if(void 0===n[o])throw new Pe(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function TF(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Pe(1e3,"");if(!r[n])throw new Pe(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const ly=eu,Ku=new tt("",{providedIn:"root",factory:()=>kh}),kh="always";function Rh(e,t,n=kh){H0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function hX(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&MF(e,t)})}(e,t),function mX(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function gX(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&MF(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function pX(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function uy(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),fy(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function dy(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function H0(e,t){const n=vF(e);null!==t.validator?e.setValidators(mF(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=yF(e);null!==t.asyncValidator?e.setAsyncValidators(mF(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();dy(t._rawValidators,o),dy(t._rawAsyncValidators,o)}function fy(e,t){let n=!1;if(null!==e){if(null!==t.validator){const o=vF(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=yF(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return dy(t._rawValidators,r),dy(t._rawAsyncValidators,r),n}function MF(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function RF(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function NF(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const Vs=class extends U0{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(j0(n),V0(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ay(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=NF(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){RF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){RF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){NF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},$r=Vs;Promise.resolve();let dc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();const q0=new tt(""),RX={provide:ls,useExisting:Vn(()=>La)};let La=(()=>{class e extends ls{callSetDisabledState;get submitted(){return to(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=zi(()=>this._submittedReactive());_submittedReactive=Ai(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new yn;constructor(n,r,o){super(),this.callSetDisabledState=o,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Rh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){uy(n.control||null,n,!1),function bX(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),function kF(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new DF(this.control)),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),!1!==r?.emitEvent&&this.form._events.next(new IF(this.form))}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,o=this.form.get(n.path);r!==o&&(uy(r||null,n),(e=>e instanceof Vs)(o)&&(Rh(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function xF(e,t){H0(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function vX(e,t){return fy(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){H0(this.form,this),this._oldForm&&fy(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(y(_i,10),y(Jc,10),y(Ku,8))};static \u0275dir=Ut({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&$e("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Cr([RX]),On,ns]})}return e})();const PX={provide:lc,useExisting:Vn(()=>Il)};let Il=(()=>{class e extends lc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new yn;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function W0(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(i=>{i.constructor===x0?n=i:function _X(e){return Object.getPrototypeOf(e.constructor)===Zu}(i)?r=i:o=i}),o||r||n||null}(0,i)}ngOnChanges(n){this._added||this._setUpControl(),function z0(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function cy(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(y(ls,13),y(_i,10),y(Jc,10),y(js,10),y(q0,8))};static \u0275dir=Ut({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Cr([PX]),On,ns]})}return e})();function GF(e){return"number"==typeof e?e:parseFloat(e)}let Yu=(()=>{class e{_validator=ny;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ny,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,features:[ns]})}return e})();const UX={provide:_i,useExisting:Vn(()=>Y0),multi:!0};let Y0=(()=>{class e extends Yu{max;inputName="max";normalizeInput=n=>GF(n);createValidator=n=>nF(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=eo(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ia("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[Cr([UX]),On]})}return e})();const HX={provide:_i,useExisting:Vn(()=>X0),multi:!0};let X0=(()=>{class e extends Yu{min;inputName="min";normalizeInput=n=>GF(n);createValidator=n=>tF(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=eo(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ia("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[Cr([HX]),On]})}return e})();const ZX={provide:_i,useExisting:Vn(()=>J0),multi:!0};let J0=(()=>{class e extends Yu{maxlength;inputName="maxlength";normalizeInput=n=>function HF(e){return"number"==typeof e?e:parseInt(e,10)}(n);createValidator=n=>aF(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=eo(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ia("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Cr([ZX]),On]})}return e})(),KF=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Go({type:e});static \u0275inj=Un({})}return e})(),Xu=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Ku,useValue:n.callSetDisabledState??kh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Go({type:e});static \u0275inj=Un({imports:[KF]})}return e})(),vy=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:q0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ku,useValue:n.callSetDisabledState??kh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Go({type:e});static \u0275inj=Un({imports:[KF]})}return e})();const XX=["tabsInner"];let QX=(()=>{class e{doc;_readyPromise;win;backButton=new jn;keyboardDidShow=new jn;keyboardDidHide=new jn;pause=new jn;resume=new jn;resize=new jn;constructor(n,r){this.doc=n,r.run(()=>{let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>r.run(()=>s(l))))},xf(this.pause,n,"pause",r),xf(this.resume,n,"resume",r),xf(this.backButton,n,"ionBackButton",r),xf(this.resize,this.win,"resize",r),xf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),xf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),HP(e).includes(t)))(this.win,n)}platforms(){return HP(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return JX(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(r){return new(r||e)(se(ii),se(We))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const JX=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},xf=(e,t,n,r)=>{t&&t.addEventListener(n,o=>{r.run(()=>{const i=o?.detail;e.next(i)})})};let kf=(()=>{class e{location;serializer;router;topOutlet;direction=YF;animated=XF;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(n,r,o,i){this.location=r,this.serializer=o,this.router=i,i&&i.events.subscribe(s=>{if(s instanceof Ch){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=this.guessAnimation=a<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,M.A)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,o,i){this.direction=n,this.animated=eQ(n,r,o),this.animationBuilder=i}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const o=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=YF,this.animated=XF,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:o}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const o=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(o.queryParams={...r.queryParams}),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}static \u0275fac=function(r){return new(r||e)(se(QX),se(Rc),se(_f),se(Ri,8))};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const eQ=(e,t,n)=>{if(!1!==t){if(void 0!==n)return n;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},YF="auto",XF=void 0;let Ph=(()=>{class e{get(n,r){const o=tw();return o?o.get(n,r):null}getBoolean(n,r){const o=tw();return!!o&&o.getBoolean(n,r)}getNumber(n,r){const o=tw();return o?o.getNumber(n,r):0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ew=new tt("USERCONFIG"),tw=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class QF{data;constructor(t={}){this.data=t,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(t){return this.data[t]}}const tQ=new tt("IonModalToken");let Fh=(()=>{class e{zone=Le(We);applicationRef=Le(ka);config=Le(ew);create(n,r,o){return new nQ(n,r,this.applicationRef,this.zone,o,this.config.useSetInputAPI??!1)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class nQ{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(t,n,r,o,i,s){this.environmentInjector=t,this.injector=n,this.applicationRef=r,this.zone=o,this.elementReferenceKey=i,this.enableSignalsSupport=s}attachViewToDom(t,n,r,o){return this.zone.run(()=>new Promise(i=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(rQ(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,n,s,o,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(t,n){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(n);if(o){o.destroy(),this.elRefMap.delete(n);const i=this.elEventsMap.get(n);i&&(i(),this.elEventsMap.delete(n))}r()}))}}const rQ=(e,t,n,r,o,i,s,a,l,c,d,p)=>{const m=iQ(l);"ion-modal"===s.tagName.toLowerCase()&&m.push({provide:tQ,useValue:s});const x=function T8(e,t){const n=St(e),r=t.elementInjector||g();return new Pp(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}(a,{environmentInjector:t,elementInjector:Gr.create({providers:m,parent:n})}),j=x.instance,he=x.location.nativeElement;if(l)if(d&&void 0!==j[d]&&console.error(`[Ionic Error]: ${d} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${d}" property from ${a.name}.`),!0===p&&void 0!==x.setInput){const{modal:ke,popover:Tt,...Lt}=l;for(const kt in Lt)x.setInput(kt,Lt[kt]);void 0!==ke&&Object.assign(j,{modal:ke}),void 0!==Tt&&Object.assign(j,{popover:Tt})}else Object.assign(j,l);if(c)for(const ke of c)he.classList.add(ke);const Ee=JF(e,j,he);return s.appendChild(he),r.attachView(x.hostView),o.set(he,x),i.set(he,Ee),he},oQ=[Th.L,Th.a,Th.b,Th.c,Th.d],JF=(e,t,n)=>e.run(()=>{const r=oQ.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return n.addEventListener(o,i),()=>n.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),e2=new tt("NavParamsToken"),iQ=e=>[{provide:e2,useValue:e},{provide:QF,useFactory:sQ,deps:[e2]}],sQ=e=>new QF(e),aQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},lQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})};function yy(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&aQ(n,o),i&&lQ(n,i),n}}const t2=(e,t)=>((e=e.filter(n=>n.stackId!==t.stackId)).push(t),e),rw=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},n2=(e,t)=>!t||e.stackId!==t.stackId,yQ=(e,t)=>{if(!e)return;const n=r2(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},r2=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),o2=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class _Q{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(t,n,r,o,i,s){this.containerEl=n,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.tabsPrefix=void 0!==t?r2(t):void 0}createView(t,n){const r=rw(this.router,n),o=t?.location?.nativeElement,i=JF(this.zone,t.instance,o);return{id:this.nextId++,stackId:yQ(this.tabsPrefix,r),unlistenEvents:i,element:o,ref:t,url:r}}getExistingView(t){const n=rw(this.router,t),r=this.views.find(o=>o.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(t){const n=this.navCtrl.consumeTransition();let{direction:r,animation:o,animationBuilder:i}=n;const s=this.activeView,a=n2(t,s);a&&(r="back",o=void 0);const l=this.views.slice();let c;const d=this.router;d.getCurrentNavigation?c=d.getCurrentNavigation():d.navigations?.value&&(c=d.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const p=this.views.includes(t),m=this.insertView(t,r);p||t.ref.changeDetectorRef.detectChanges();const C=t.animationBuilder;return void 0===i&&"back"===r&&!a&&void 0!==C&&(i=C),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>bQ(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:r,animation:o,tabSwitch:a})))))}canGoBack(t,n=this.getActiveStackId()){return this.getStack(n).length>t}pop(t,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=t)return Promise.resolve(!1);const o=r[r.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const n=this.getStack(t.stackId),r=n[n.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&i2(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const n=this.getStack(t);return n.length>0?n[n.length-1]:void 0}getRootUrl(t){const n=this.getStack(t);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(o2),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(n=>n.stackId===t)}insertView(t,n){return this.activeView=t,this.views=((e,t,n)=>"root"===n?t2(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):t2(e,t))(e,t))(this.views,t,n),this.views.slice()}transition(t,n,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=n?n.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),c.commit)?c.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var n=this;return(0,M.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=t();return r.finally(()=>n.runningTask=void 0),r})()}}const bQ=(e,t,n,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{i2(e,t,n,r,o),i()})}):Promise.resolve(),i2=(e,t,n,r,o)=>{o.run(()=>n.filter(i=>!t.includes(i)).forEach(o2)),t.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let s2=(()=>{class e{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new Tr(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Pn;stackWillChange=new yn;stackDidChange=new yn;activateEvents=new yn;deactivateEvents=new yn;parentContexts=Le(Wu);location=Le(rs);environmentInjector=Le(B);inputBinder=Le(a2,{optional:!0});supportsBindingToComponentInputs=!0;config=Le(Ph);navCtrl=Le(kf);set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}constructor(n,r,o,i,s,a,l,c){this.parentOutlet=c,this.nativeEl=i.nativeElement,this.name=n||Pn,this.tabsPrefix="true"===r?rw(s,l):void 0,this.stackCtrl=new _Q(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();n?.route&&this.activateWith(n.route,n.injector)}new Promise(n=>((e,t)=>{e.componentOnReady?e.componentOnReady().then(n=>t(n)):(e=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)})(()=>t(e))})(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route={...r.route}),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,i=this.stackCtrl.getExistingView(n);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,n)}else{const a=n._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Tr(null),d=this.createActivatedRouteProxy(c,n),p=new CQ(d,l,this.location.injector);o=this.activated=this.outletContent.createComponent(a.routeConfig.component??a.component,{index:this.outletContent.length,injector:p,environmentInjector:r??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,d),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:n2(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const o=new ac;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(n,"paramMap"),o._queryParamMap=this.proxyObservable(n,"queryParamMap"),o.url=this.proxyObservable(n,"url"),o.params=this.proxyObservable(n,"params"),o.queryParams=this.proxyObservable(n,"queryParams"),o.fragment=this.proxyObservable(n,"fragment"),o.data=this.proxyObservable(n,"data"),o}proxyObservable(n,r){return n.pipe(Pa(o=>!!o),yi(o=>this.currentActivatedRoute$.pipe(Pa(i=>null!==i&&i.component===o),yi(i=>i&&i.activatedRoute[r]),QP())))}updateActivatedRouteProxy(n,r){const o=this.proxyMap.get(n);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}static \u0275fac=function(r){return new(r||e)(Zl("name"),Zl("tabs"),y(Rc),y(rt),y(Ri),y(We),y(ac),y(e,12))};static \u0275dir=Ut({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"],standalone:!1})}return e})();class CQ{route;childContexts;parent;constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ac?this.route:t===Wu?this.childContexts:this.parent.get(t,n)}}const a2=new tt("");let SQ=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=Rv([r.queryParams,r.params,r.data]).pipe(yi(([i,s,a],l)=>(a={...i,...s,...a},0===l?cn(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=OR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();function EQ(e){return e?.componentInputBindingEnabled?new SQ:null}const l2=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let _y=(()=>{class e{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(n,r){this.injector=n,this.elementRef=r}writeValue(n){this.elementRef.nativeElement.value=this.lastValue=n,Rf(this.elementRef)}handleValueChange(n,r){n===this.elementRef.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Rf(this.elementRef))}_handleBlurEvent(n){n===this.elementRef.nativeElement?(this.onTouched(),Rf(this.elementRef)):n.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.elementRef.nativeElement.disabled=n}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let n;try{n=this.injector.get(lc)}catch{}if(!n)return;n.statusChanges&&(this.statusChanges=n.statusChanges.subscribe(()=>Rf(this.elementRef)));const r=n.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Rf(this.elementRef)}}})}static \u0275fac=function(r){return new(r||e)(y(Gr),y(rt))};static \u0275dir=Ut({type:e,hostBindings:function(r,o){1&r&&$e("ionBlur",function(s){return o._handleBlurEvent(s.target)})},standalone:!1})}return e})();const Rf=e=>{l2(()=>{const t=e.nativeElement,n=null!=t.value&&t.value.toString().length>0,r=DQ(t);ow(t,r);const o=t.closest("ion-item");o&&ow(o,n?[...r,"item-has-value"]:r)})},DQ=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const o=t.item(r);null!==o&&IQ(o,"ng-")&&n.push(`ion-${o.substring(3)}`)}return n},ow=(e,t)=>{const n=e.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...t)},IQ=(e,t)=>e.substring(0,t.length)===t,TQ=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let AQ=(()=>{let e=class bE{routerOutlet;navCtrl;config;r;z;el;constructor(n,r,o,i,s,a){this.routerOutlet=n,this.navCtrl=r,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(n){const r=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),n.preventDefault()):null!=r&&(this.navCtrl.navigateBack(r,{animation:this.routerAnimation}),n.preventDefault())}static \u0275fac=function(r){return new(r||bE)(y(s2,8),y(kf),y(Ph),y(rt),y(We),y(mt))};static \u0275dir=Ut({type:bE,hostBindings:function(r,o){1&r&&$e("click",function(s){return o.onClick(s)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},standalone:!1})};return e=oe([yy({inputs:TQ})],e),e})();const MQ=["animated","animation","root","rootParams","swipeGesture"],xQ=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let kQ=(()=>{let e=class CE{z;el;constructor(n,r,o,i,s,a){this.z=s,a.detach(),this.el=n.nativeElement,n.nativeElement.delegate=i.create(r,o),((e,t,n)=>{n.forEach(r=>e[r]=ty(t,r))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(r){return new(r||CE)(y(rt),y(B),y(Gr),y(Fh),y(We),y(mt))};static \u0275dir=Ut({type:CE,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},standalone:!1})};return e=oe([yy({inputs:MQ,methods:xQ})],e),e})(),OQ=(()=>{class e{navCtrl;tabsInner;ionTabsWillChange=new yn;ionTabsDidChange=new yn;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(n){this.navCtrl=n}ngAfterViewInit(){const n=this.tabs.length>0?this.tabs.first:void 0;n&&(this.hasTab=!0,this.setActiveTab(n.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(n){const r="string"==typeof n,o=r?n:n.detail.tab;if(this.hasTab)return this.setActiveTab(o),void this.tabSwitch();const i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||n.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}setActiveTab(n){const o=this.tabs.find(i=>i.tab===n);o?(this.leavingTab=this.selectedTab,this.selectedTab=o,this.ionTabsWillChange.emit({tab:n}),o.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${n}" does not exist`)}tabSwitch(){const{selectedTab:n,leavingTab:r}=this;this.tabBar&&n&&(this.tabBar.selectedTab=n.tab),r?.tab!==n?.tab&&r?.el&&(r.el.active=!1),n&&this.ionTabsDidChange.emit({tab:n.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(n=>{const r=n.el.getAttribute("slot");r!==this.tabBarSlot&&(this.tabBarSlot=r,this.relocateTabBar())})}relocateTabBar(){const n=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(n):this.tabsInner.nativeElement.after(n)}static \u0275fac=function(r){return new(r||e)(y(kf))};static \u0275dir=Ut({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,o){if(1&r&&Jl(XX,7,rt),2&r){let i;is(i=ss())&&(o.tabsInner=i.first)}},hostBindings:function(r,o){1&r&&$e("ionTabButtonClick",function(s){return o.select(s)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},standalone:!1})}return e})();class Lh{ctrl;constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,n,r){return this.ctrl.dismiss(t,n,r)}getTop(){return this.ctrl.getTop()}}class PQ{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,n){}retrieve(t){return null}shouldReuseRoute(t,n){if(t.routeConfig!==n.routeConfig)return!1;const r=t.params,o=n.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}_(7133),_(6780),_(9805),_(1393),_(5860);var FQ=_(9919),LQ=(_(6721),_(9335)),iw=_(3460),$h=(_(5989),_(7433));_(575),_(566),_(4896),_(5827);const $Q=FQ.i,BQ=function(){var e=(0,M.A)(function*(t,n){if(!(typeof window>"u"))return yield $Q(),(0,LQ.b)(JSON.parse('[["ion-menu_3",[[289,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[289,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[257,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[289,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[289,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[257,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[257,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[256,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[288,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[289,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16,"router-animation"]}]]],["ion-toast",[[289,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16,"html-attributes"],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[289,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}],[288,"ion-card-content"],[289,"ion-card-header",{"color":[513],"translucent":[4]}],[289,"ion-card-subtitle",{"color":[513]}],[289,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[289,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[288,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[256,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[305,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[289,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[288,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[256,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[289,"ion-reorder",null,[[2,"click","onClick"]]],[256,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[289,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[289,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[289,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[294,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16,"counter-formatter"],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[290,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[289,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[257,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16,"root-params"],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[256,"ion-nav-link",{"component":[1],"componentProps":[16,"component-props"],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}]]],["ion-tab_2",[[257,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[257,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[294,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16,"counter-formatter"],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[289,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[290,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[289,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}],[289,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[289,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[289,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[289,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16,"component-props"],"beforeLeave":[16,"before-leave"],"beforeEnter":[16,"before-enter"]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[257,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}]]],["ion-avatar_3",[[289,"ion-avatar"],[289,"ion-badge",{"color":[513]}],[257,"ion-thumbnail"]]],["ion-col_3",[[257,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[257,"ion-grid",{"fixed":[4]}],[257,"ion-row"]]],["ion-img",[[257,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-input-otp",[[294,"ion-input-otp",{"autocapitalize":[1],"color":[513],"disabled":[516],"fill":[1],"inputmode":[1],"length":[2],"pattern":[1],"readonly":[516],"separators":[1],"shape":[1],"size":[1],"type":[1],"value":[1032],"inputValues":[32],"hasFocus":[32],"previousInputValues":[32],"setFocus":[64]},null,{"value":["valueChanged"],"separators":["processSeparators"],"length":["processSeparators"]}]]],["ion-progress-bar",[[289,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[289,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16,"pin-formatter"],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[257,"ion-segment-content"]]],["ion-segment-view",[[289,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[289,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[257,"ion-text",{"color":[513]}]]],["ion-select-modal",[[290,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[289,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16,"format-options"],"readonly":[4],"isDateEnabled":[16,"is-date-enabled"],"showAdjacentDays":[4,"show-adjacent-days"],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16,"title-selected-dates-formatter"],"multiple":[4],"highlightedDates":[16,"highlighted-dates"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[290,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[288,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[290,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[290,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[289,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16,"component-props"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16,"presenting-element"],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},[[9,"resize","onWindowResize"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[289,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[257,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[289,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[289,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"component":[1],"componentProps":[16,"component-props"],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[289,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[289,"ion-item-divider",{"color":[513],"sticky":[4]}],[288,"ion-item-group"],[289,"ion-note",{"color":[513]}],[257,"ion-skeleton-text",{"animated":[4]}],[294,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[289,"ion-list-header",{"color":[513],"lines":[1]}],[289,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16,"router-animation"],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"isInteractive":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[288,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[256,"ion-app",{"setFocus":[64]}],[292,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[257,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16,"swipe-handler"],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[257,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[292,"ion-header",{"collapse":[1],"translucent":[4]}],[289,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[289,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[294,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[289,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"hasFocus":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[257,"ion-select-option",{"disabled":[4],"value":[8]}],[290,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[257,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[289,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[292,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[257,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[289,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"],"aria-checked":["onAriaChanged"],"aria-label":["onAriaChanged"]}],[257,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),n)});return function(n,r){return e.apply(this,arguments)}}();!function(){if(typeof window<"u"&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();const Et=["*"],jQ=["outletContent"],VQ=["outlet"],UQ=[[["","slot","top"]],"*",[["ion-tab"]]],HQ=["[slot=top]","*","ion-tab"];function GQ(e,t){if(1&e){const n=Mn();V(0,"ion-router-outlet",5,1),$e("stackWillChange",function(o){return pt(n),ht(st().onStackWillChange(o))})("stackDidChange",function(o){return pt(n),ht(st().onStackDidChange(o))}),W()}}function zQ(e,t){1&e&&yt(0,2,["*ngIf","tabs.length > 0"])}let Nf=(()=>{class e extends _y{constructor(n,r){super(n,r)}writeValue(n){this.elementRef.nativeElement.checked=this.lastValue=n,Rf(this.elementRef)}_handleIonChange(n){this.handleValueChange(n,n.checked)}static \u0275fac=function(r){return new(r||e)(y(Gr),y(rt))};static \u0275dir=Ut({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,o){1&r&&$e("ionChange",function(s){return o._handleIonChange(s.target)})},standalone:!1,features:[Cr([{provide:js,useExisting:e,multi:!0}]),On]})}return e})(),sw=(()=>{class e extends _y{el;constructor(n,r){super(n,r),this.el=r}handleInputEvent(n){this.handleValueChange(n,n.value)}registerOnChange(n){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName||"ION-INPUT-OTP"===this.el.nativeElement.tagName?r=>{n(""===r?null:parseFloat(r))}:n)}static \u0275fac=function(r){return new(r||e)(y(Gr),y(rt))};static \u0275dir=Ut({type:e,selectors:[["ion-input","type","number"],["ion-input-otp",3,"type","text"],["ion-range"]],hostBindings:function(r,o){1&r&&$e("ionInput",function(s){return o.handleInputEvent(s.target)})},standalone:!1,features:[Cr([{provide:js,useExisting:e,multi:!0}]),On]})}return e})(),Bh=(()=>{class e extends _y{constructor(n,r){super(n,r)}_handleChangeEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(Gr),y(rt))};static \u0275dir=Ut({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,o){1&r&&$e("ionChange",function(s){return o._handleChangeEvent(s.target)})},standalone:!1,features:[Cr([{provide:js,useExisting:e,multi:!0}]),On]})}return e})(),fc=(()=>{class e extends _y{constructor(n,r){super(n,r)}_handleInputEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(Gr),y(rt))};static \u0275dir=Ut({type:e,selectors:[["ion-input",3,"type","number"],["ion-input-otp","type","text"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,o){1&r&&$e("ionInput",function(s){return o._handleInputEvent(s.target)})},standalone:!1,features:[Cr([{provide:js,useExisting:e,multi:!0}]),On]})}return e})();const ZQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)},configurable:!0})})},KQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},dr=(e,t,n)=>{n.forEach(r=>e[r]=ty(t,r))};function It(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&ZQ(n,o),i&&KQ(n,i),n}}let c2=(()=>{let e=class IE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||IE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:IE,selectors:[["ion-app"]],standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({methods:["setFocus"]})],e),e})(),cs=(()=>{let e=class RE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||RE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:RE,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),us=(()=>{let e=class NE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||NE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:NE,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["collapse"]})],e),e})(),u2=(()=>{let e=class BE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||BE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:BE,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",errorText:"errorText",helperText:"helperText",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["alignment","checked","color","disabled","errorText","helperText","indeterminate","justify","labelPlacement","mode","name","required","value"]})],e),e})(),ds=(()=>{let e=class UE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(r){return new(r||UE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:UE,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),fs=(()=>{let e=class YE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||YE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:YE,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["collapse","mode","translucent"]})],e),e})(),qo=(()=>{let e=class XE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||XE)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:XE,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),pc=(()=>{let e=class tD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(r){return new(r||tD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:tD,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),ko=(()=>{let e=class oD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||oD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:oD,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),by=(()=>{let e=class aD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||aD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:aD,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),Cy=(()=>{let e=class lD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionSwipe"])}static \u0275fac=function(r){return new(r||lD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:lD,selectors:[["ion-item-options"]],inputs:{side:"side"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["side"]})],e),e})(),Sy=(()=>{let e=class cD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionDrag"])}static \u0275fac=function(r){return new(r||cD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:cD,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Qu=(()=>{let e=class uD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||uD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:uD,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","mode","position"]})],e),e})(),ca=(()=>{let e=class dD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||dD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:dD,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),aw=(()=>{let e=class ID{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}static \u0275fac=function(r){return new(r||ID)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:ID,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),jh=(()=>{let e=class $D{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||$D)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:$D,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",errorText:"errorText",expandedIcon:"expandedIcon",fill:"fill",helperText:"helperText",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",required:"required",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["cancelText","color","compareWith","disabled","errorText","expandedIcon","fill","helperText","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","required","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),Vh=(()=>{let e=class jD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||jD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:jD,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["disabled","value"]})],e),e})(),Uh=(()=>{let e=class UD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||UD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:UD,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","duration","name","paused"]})],e),e})(),d2=(()=>{let e=class GD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||GD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:GD,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["component","tab"],methods:["setActive"]})],e),e})(),wy=(()=>{let e=class zD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||zD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:zD,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),f2=(()=>{let e=class WD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||WD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:WD,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),ps=(()=>{let e=class YD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||YD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:YD,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","size"]})],e),e})(),Hh=(()=>{let e=class QD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,dr(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||QD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:QD,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",errorText:"errorText",helperText:"helperText",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["alignment","checked","color","disabled","enableOnOffLabels","errorText","helperText","justify","labelPlacement","mode","name","required","value"]})],e),e})(),hs=(()=>{let e=class JD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||JD)(y(mt),y(rt),y(We))};static \u0275cmp=Xe({type:JD,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=oe([It({inputs:["color","mode"]})],e),e})(),Gh=(()=>{class e extends s2{parentOutlet;outletContent;constructor(n,r,o,i,s,a,l,c){super(n,r,o,i,s,a,l,c),this.parentOutlet=c}static \u0275fac=function(r){return new(r||e)(Zl("name"),Zl("tabs"),y(Rc),y(rt),y(Ri),y(We),y(ac),y(e,12))};static \u0275cmp=Xe({type:e,selectors:[["ion-router-outlet"]],viewQuery:function(r,o){if(1&r&&Jl(jQ,7,rs),2&r){let i;is(i=ss())&&(o.outletContent=i.first)}},standalone:!1,features:[On],ngContentSelectors:Et,decls:3,vars:0,consts:[["outletContent",""]],template:function(r,o){1&r&&(bt(),Uc(0,null,0),yt(2),Ql())},encapsulation:2})}return e})(),p2=(()=>{class e extends OQ{outlet;tabBar;tabBars;tabs;static \u0275fac=(()=>{let n;return function(o){return(n||(n=eo(e)))(o||e)}})();static \u0275cmp=Xe({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,o,i){if(1&r&&(Pu(i,wy,5),Pu(i,wy,4),Pu(i,d2,4)),2&r){let s;is(s=ss())&&(o.tabBar=s.first),is(s=ss())&&(o.tabBars=s),is(s=ss())&&(o.tabs=s)}},viewQuery:function(r,o){if(1&r&&Jl(VQ,5,Gh),2&r){let i;is(i=ss())&&(o.outlet=i.first)}},standalone:!1,features:[On],ngContentSelectors:HQ,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(r,o){1&r&&(bt(UQ),yt(0),V(1,"div",2,0),nn(3,GQ,2,0,"ion-router-outlet",3)(4,zQ,1,0,"ng-content",4),W(),yt(5,1)),2&r&&(ue(3),fe("ngIf",0===o.tabs.length),ue(),fe("ngIf",o.tabs.length>0))},dependencies:[xo,Gh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})}return e})(),h2=(()=>{class e extends AQ{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(y(Gh,8),y(kf),y(Ph),y(rt),y(We),y(mt))};static \u0275cmp=Xe({type:e,selectors:[["ion-back-button"]],standalone:!1,features:[On],ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})}return e})(),lw=(()=>{class e extends kQ{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(y(rt),y(B),y(Gr),y(Fh),y(We),y(mt))};static \u0275cmp=Xe({type:e,selectors:[["ion-nav"]],standalone:!1,features:[On],ngContentSelectors:Et,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})}return e})();const lee={provide:_i,useExisting:Vn(()=>g2),multi:!0};let g2=(()=>{class e extends Y0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=eo(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ia("max",o._enabled?o.max:null)},standalone:!1,features:[Cr([lee]),On]})}return e})();const cee={provide:_i,useExisting:Vn(()=>m2),multi:!0};let m2=(()=>{class e extends X0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=eo(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ia("min",o._enabled?o.min:null)},standalone:!1,features:[Cr([cee]),On]})}return e})(),cw=(()=>{class e extends Lh{constructor(){super($h.a)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zh=(()=>{class e extends Lh{constructor(){super($h.b)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Us=(()=>{class e extends Lh{constructor(){super($h.l)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hs=(()=>{class e extends Lh{angularDelegate=Le(Fh);injector=Le(Gr);environmentInjector=Le(B);constructor(){super($h.m)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Qe({token:e,factory:e.\u0275fac})}return e})();class hc extends Lh{angularDelegate=Le(Fh);injector=Le(Gr);environmentInjector=Le(B);constructor(){super($h.c)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const uee=(e,t,n)=>()=>{const r=t.defaultView;if(r&&typeof window<"u"){(0,iw.s)({...e,_zoneGate:i=>n.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return BQ(r,{exclude:["ion-tabs"],syncQueue:!0,raf:l2,jmp:i=>n.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}})}};let tu=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:ew,useValue:n},{provide:pC,useFactory:uee,multi:!0,deps:[ew,ii,We]},Fh,{provide:a2,useFactory:EQ,deps:[Ri]}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Go({type:e});static \u0275inj=Un({providers:[Hs,hc],imports:[rc]})}return e})();const dee=_.p+"wasm/uarm_web_optimized-613c2434c05b1564.wasm",fee=_.p+"wasm/cloudpilot_web-6ac05829a1166205.wasm";var uw=_(1051);function hee(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var dw={exports:{}};!function(t,n){function o(l){var c=this,d=function a(){var l=4022871197;return function(d){d=String(d);for(var p=0;p<d.length;p++){var m=.02519603282416938*(l+=d.charCodeAt(p));m-=l=m>>>0,l=(m*=l)>>>0,l+=4294967296*(m-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var p=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=p-(c.c=0|p)},c.c=1,c.s0=d(" "),c.s1=d(" "),c.s2=d(" "),c.s0-=d(l),c.s0<0&&(c.s0+=1),c.s1-=d(l),c.s1<0&&(c.s1+=1),c.s2-=d(l),c.s2<0&&(c.s2+=1),d=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var d=new o(l),p=c&&c.state,m=d.next;return m.int32=function(){return 4294967296*d.next()|0},m.double=function(){return m()+11102230246251565e-32*(2097152*m()|0)},m.quick=m,p&&("object"==typeof p&&i(p,d),m.state=function(){return i(d,{})}),m}n&&n.exports?n.exports=s:this.alea=s}(0,dw);const mee=hee(dw.exports),v2=uw.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),See=new RegExp("(?<==)(?:true|false)"),wee=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),Eee=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),Dee=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),Iee=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function fw(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function vee(e,t={}){const n=e.trim().replace(/[,]+$/,"");if(""===n)return"{}";if(!function yee(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(n))throw new TypeError("Unexpected input format");let r="";v2.reset(n);for(const o of v2)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}r+=o.value}return r.replace(/,([}\]])/g,"$1")}(t)):t}const y2=uw.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:See,value:e=>"true"===e},NumericLiteral:{match:wee,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:Eee,value:fw,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:Dee,value:fw,type:()=>"StringLiteral"},UnquotedLiteral:{match:Iee,value:fw,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const Mee=uw.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function Aee(e){let t=null;const n=y2.reset(e),r={};Object.defineProperties(r,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function Tee(e){let t="";for(const n in e){const r=e[n];switch(typeof r){case"object":t+=` ${n}='${JSON.stringify(r)}'`;break;case"string":t+=` ${n}="${r}"`;break;case"number":case"boolean":t+=` ${n}=${r}`}}return t.slice(1)}(r)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(y2.reset(e))}});const o=[];for(const{type:i,value:s}of n)switch(i){case"AttributeName":t=s,r[t]=t;break;case"AttributeShorthand":"."===s[0]?o.push(s.slice(1)):"#"===s[0]&&(r.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),r[t]=s,t=null)}return o.length&&(r.class=o.join(" ")),r}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function xee(e){const{type:t,level:n,raw:r,content:o,marker:i,tag:s}=e,a=Mee.reset(o);let l,c,d="",p=[];for(const{type:m,value:C}of a)switch(m){case"name":l=C;break;case"attrs":c=C;break;case"text":case"blockText":d=C,p="container"===n?this.lexer.blockTokens(C):this.lexer.inlineTokens(C)}return{type:t,raw:r,meta:{level:n,marker:i,tag:s,name:l},attrs:c,text:d,tokens:p}}function _2(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function Nee(e){const{meta:t,attrs:n,tokens:r=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=n?" "+n.toString():"",i+=_2(o)?" />":">",i+="container"===t.level?"\n":"",_2(o)||(i+="container"===t.level?this.parser.parse(r):this.parser.parseInline(r),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const Oee=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function Pee(e=Oee){return{extensions:e.map(({level:t,marker:n,tag:r,renderer:o})=>{const i=mee(n).int32(),s=`directive${function Ree(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(n)))?void 0:l.index},tokenizer(a){const l=function kee(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,n),c=a.match(new RegExp(l));if(c){const[d,p=""]=c;return xee.call(this,{type:s,level:t,raw:d,content:p,marker:n,tag:r||("inline"===t?"span":"div")})}},renderer:o||Nee}})}}var Ju={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function b2(e){Ju=e}var Wh={exec:()=>null};function Sr(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(o,i)=>{let s="string"==typeof i?i:i.source;return s=s.replace(gs.caret,"$1"),n=n.replace(o,s),r},getRegex:()=>new RegExp(n,t)};return r}var gs={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},qh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,hw=/(?:[*+-]|\d{1,9}[.)])/,C2=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,S2=Sr(C2).replace(/bull/g,hw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),jee=Sr(C2).replace(/bull/g,hw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),gw=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,mw=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Uee=Sr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",mw).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Hee=Sr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,hw).getRegex(),Ey="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",vw=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Gee=Sr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",vw).replace("tag",Ey).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),w2=Sr(gw).replace("hr",qh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ey).getRegex(),yw={blockquote:Sr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",w2).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:Uee,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:qh,html:Gee,lheading:S2,list:Hee,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:w2,table:Wh,text:/^[^\n]+/},E2=Sr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ey).getRegex(),Wee={...yw,lheading:jee,table:E2,paragraph:Sr(gw).replace("hr",qh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",E2).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ey).getRegex()},qee={...yw,html:Sr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",vw).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Wh,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Sr(gw).replace("hr",qh).replace("heading"," *#{1,6} *[^\n]").replace("lheading",S2).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},D2=/^( {2,}|\\)\n(?!\s*$)/,Dy=/[\p{P}\p{S}]/u,_w=/[\s\p{P}\p{S}]/u,I2=/[^\s\p{P}\p{S}]/u,Xee=Sr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,_w).getRegex(),T2=/(?!~)[\p{P}\p{S}]/u,A2=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,tte=Sr(A2,"u").replace(/punct/g,Dy).getRegex(),nte=Sr(A2,"u").replace(/punct/g,T2).getRegex(),M2="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",rte=Sr(M2,"gu").replace(/notPunctSpace/g,I2).replace(/punctSpace/g,_w).replace(/punct/g,Dy).getRegex(),ote=Sr(M2,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,T2).getRegex(),ite=Sr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,I2).replace(/punctSpace/g,_w).replace(/punct/g,Dy).getRegex(),ste=Sr(/\\(punct)/,"gu").replace(/punct/g,Dy).getRegex(),ate=Sr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),lte=Sr(vw).replace("(?:--\x3e|$)","--\x3e").getRegex(),cte=Sr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",lte).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Iy=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,ute=Sr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Iy).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),x2=Sr(/^!?\[(label)\]\[(ref)\]/).replace("label",Iy).replace("ref",mw).getRegex(),k2=Sr(/^!?\[(ref)\](?:\[\])?/).replace("ref",mw).getRegex(),bw={_backpedal:Wh,anyPunctuation:ste,autolink:ate,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:D2,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Wh,emStrongLDelim:tte,emStrongRDelimAst:rte,emStrongRDelimUnd:ite,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:ute,nolink:k2,punctuation:Xee,reflink:x2,reflinkSearch:Sr("reflink|nolink(?!\\()","g").replace("reflink",x2).replace("nolink",k2).getRegex(),tag:cte,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Wh},fte={...bw,link:Sr(/^!?\[(label)\]\((.*?)\)/).replace("label",Iy).getRegex(),reflink:Sr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Iy).getRegex()},Cw={...bw,emStrongRDelimAst:ote,emStrongLDelim:nte,url:Sr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},pte={...Cw,br:Sr(D2).replace("{2,}","*").getRegex(),text:Sr(Cw.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ty={normal:yw,gfm:Wee,pedantic:qee},Zh={normal:bw,gfm:Cw,breaks:pte,pedantic:fte},hte={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},R2=e=>hte[e];function Tl(e,t){if(t){if(gs.escapeTest.test(e))return e.replace(gs.escapeReplace,R2)}else if(gs.escapeTestNoEncode.test(e))return e.replace(gs.escapeReplaceNoEncode,R2);return e}function N2(e){try{e=encodeURI(e).replace(gs.percentDecode,"%")}catch{return null}return e}function O2(e,t){let r=e.replace(gs.findPipe,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(gs.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(gs.slashPipe,"|");return r}function Kh(e,t,n){let r=e.length;if(0===r)return"";let o=0;for(;o<r;){let i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function P2(e,t,n,r,o){let i=t.href,s=t.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}var Ay=class{options;rules;lexer;constructor(e){this.options=e||Ju}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Kh(n,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=function mte(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let o=r[1];return t.split("\n").map(i=>{let s=i.match(n.other.beginningSpace);if(null===s)return i;let[a]=s;return a.length>=o.length?i.slice(o.length):i}).join("\n")}(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=Kh(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Kh(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Kh(t[0],"\n").split("\n"),r="",o="",i=[];for(;n.length>0;){let l,s=!1,a=[];for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),s=!0;else{if(s)break;a.push(n[l])}n=n.slice(l);let c=a.join("\n"),d=c.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${c}`:c,o=o?`${o}\n${d}`:d;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,i,!0),this.lexer.state.top=p,0===n.length)break;let m=i.at(-1);if("code"===m?.type)break;if("blockquote"===m?.type){let C=m,x=C.raw+"\n"+n.join("\n"),j=this.blockquote(x);i[i.length-1]=j,r=r.substring(0,r.length-C.raw.length)+j.raw,o=o.substring(0,o.length-C.text.length)+j.text;break}if("list"===m?.type){let C=m,x=C.raw+"\n"+n.join("\n"),j=this.list(x);i[i.length-1]=j,r=r.substring(0,r.length-m.raw.length)+j.raw,o=o.substring(0,o.length-C.raw.length)+j.raw,n=x.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:r,tokens:i,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),s=!1;for(;e;){let l=!1,c="",d="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let p=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,Ee=>" ".repeat(3*Ee.length)),m=e.split("\n",1)[0],C=!p.trim(),x=0;if(this.options.pedantic?(x=2,d=p.trimStart()):C?x=t[1].length+1:(x=t[2].search(this.rules.other.nonSpaceChar),x=x>4?1:x,d=p.slice(x),x+=t[1].length),C&&this.rules.other.blankLine.test(m)&&(c+=m+"\n",e=e.substring(m.length+1),l=!0),!l){let Ee=this.rules.other.nextBulletRegex(x),ke=this.rules.other.hrRegex(x),Tt=this.rules.other.fencesBeginRegex(x),Lt=this.rules.other.headingBeginRegex(x),kt=this.rules.other.htmlBeginRegex(x);for(;e;){let Ln,Fn=e.split("\n",1)[0];if(m=Fn,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),Ln=m):Ln=m.replace(this.rules.other.tabCharGlobal,"    "),Tt.test(m)||Lt.test(m)||kt.test(m)||Ee.test(m)||ke.test(m))break;if(Ln.search(this.rules.other.nonSpaceChar)>=x||!m.trim())d+="\n"+Ln.slice(x);else{if(C||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||Tt.test(p)||Lt.test(p)||ke.test(p))break;d+="\n"+m}!C&&!m.trim()&&(C=!0),c+=Fn+"\n",e=e.substring(Fn.length+1),p=Ln.slice(x)}}o.loose||(s?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let he,j=null;this.options.gfm&&(j=this.rules.other.listIsTask.exec(d),j&&(he="[ ] "!==j[0],d=d.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:c,task:!!j,checked:he,loose:!1,text:d,tokens:[]}),o.raw+=c}let a=o.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){let c=o.items[l].tokens.filter(p=>"space"===p.type),d=c.length>0&&c.some(p=>this.rules.other.anyLine.test(p.raw));o.loose=d}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=O2(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?i.align.push("right"):this.rules.other.tableAlignCenter.test(s)?i.align.push("center"):this.rules.other.tableAlignLeft.test(s)?i.align.push("left"):i.align.push(null);for(let s=0;s<n.length;s++)i.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:i.align[s]});for(let s of o)i.rows.push(O2(s,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Kh(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{let i=function gte(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===i)return;if(i>-1){let s=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],o=i[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r.slice(1):r.slice(1,-1)),P2(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!o){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return P2(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let i,s,o=[...r[0]].length-1,a=o,l=0,c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=c.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){a+=s;continue}if((r[5]||r[6])&&o%3&&!((o+s)%3)){l+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+l);let d=[...r[0]][0].length,p=e.slice(0,o+r.index+d+s);if(Math.min(o,s)%2){let C=p.slice(1,-1);return{type:"em",raw:p,text:C,tokens:this.lexer.inlineTokens(C)}}let m=p.slice(2,-2);return{type:"strong",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return"@"===t[2]?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if("@"===t[2])n=t[0],r="mailto:"+n;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);n=t[0],r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],escaped:this.lexer.state.inRawBlock}}},gc=class eI{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Ju,this.options.tokenizer=this.options.tokenizer||new Ay,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:gs,block:Ty.normal,inline:Zh.normal};this.options.pedantic?(n.block=Ty.pedantic,n.inline=Zh.pedantic):this.options.gfm&&(n.block=Ty.gfm,n.inline=this.options.breaks?Zh.breaks:Zh.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ty,inline:Zh}}static lex(t,n){return new eI(n).lex(t)}static lexInline(t,n){return new eI(n).inlineTokens(t)}lex(t){t=t.replace(gs.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(gs.tabCharGlobal,"    ").replace(gs.spaceLine,""));t;){let o;if(this.options.extensions?.block?.some(s=>!!(o=s.call({lexer:this},t,n))&&(t=t.substring(o.raw.length),n.push(o),!0)))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let s=n.at(-1);1===o.raw.length&&void 0!==s?s.raw+="\n":n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let i=t;if(this.options.extensions?.startBlock){let l,s=1/0,a=t.slice(1);this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),"number"==typeof l&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(i=t.substring(0,s+1))}if(this.state.top&&(o=this.tokenizer.paragraph(i))){let s=n.at(-1);r&&"paragraph"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o),r=i.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let s=n.at(-1);"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,o=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(r));)a.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,s="";for(;t;){let a;if(i||(s=""),i=!1,this.options.extensions?.inline?.some(c=>!!(a=c.call({lexer:this},t,n))&&(t=t.substring(a.raw.length),n.push(a),!0)))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);let c=n.at(-1);"text"===a.type&&"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,r,s)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if(this.options.extensions?.startInline){let p,c=1/0,d=t.slice(1);this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},d),"number"==typeof p&&p>=0&&(c=Math.min(c,p))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),"_"!==a.raw.slice(-1)&&(s=a.raw.slice(-1)),i=!0;let c=n.at(-1);"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return n}},nu=class{options;parser;constructor(e){this.options=e||Ju}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(gs.notSpaceStart)?.[0],o=e.replace(gs.endingNewline,"")+"\n";return r?'<pre><code class="language-'+Tl(r)+'">'+(n?o:Tl(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:Tl(o,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let s=0;s<e.items.length;s++)r+=this.listitem(e.items[s]);let o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+Tl(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let r="";for(let o=0;o<e.rows.length;o++){let i=e.rows[o];n="";for(let s=0;s<i.length;s++)n+=this.tablecell(i[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Tl(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),o=N2(e);if(null===o)return r;let i='<a href="'+(e=o)+'"';return t&&(i+=' title="'+Tl(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let o=N2(e);if(null===o)return Tl(n);let i=`<img src="${e=o}" alt="${n}"`;return t&&(i+=` title="${Tl(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Tl(e.text)}},Sw=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},mc=class tI{options;renderer;textRenderer;constructor(t){this.options=t||Ju,this.options.renderer=this.options.renderer||new nu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Sw}static parse(t,n){return new tI(n).parse(t)}static parseInline(t,n){return new tI(n).parseInline(t)}parse(t,n=!0){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==l||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){r+=l||"";continue}}let s=i;switch(s.type){case"space":r+=this.renderer.space(s);continue;case"hr":r+=this.renderer.hr(s);continue;case"heading":r+=this.renderer.heading(s);continue;case"code":r+=this.renderer.code(s);continue;case"table":r+=this.renderer.table(s);continue;case"blockquote":r+=this.renderer.blockquote(s);continue;case"list":r+=this.renderer.list(s);continue;case"html":r+=this.renderer.html(s);continue;case"def":r+=this.renderer.def(s);continue;case"paragraph":r+=this.renderer.paragraph(s);continue;case"text":{let a=s,l=this.renderer.text(a);for(;o+1<t.length&&"text"===t[o+1].type;)a=t[++o],l+="\n"+this.renderer.text(a);r+=n?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==a||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}let s=i;switch(s.type){case"escape":case"text":r+=n.text(s);break;case"html":r+=n.html(s);break;case"link":r+=n.link(s);break;case"image":r+=n.image(s);break;case"strong":r+=n.strong(s);break;case"em":r+=n.em(s);break;case"codespan":r+=n.codespan(s);break;case"br":r+=n.br(s);break;case"del":r+=n.del(s);break;default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},My=class{options;block;constructor(e){this.options=e||Ju}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?gc.lex:gc.lexInline}provideParser(){return this.block?mc.parse:mc.parseInline}},ed=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=mc;Renderer=nu;TextRenderer=Sw;Lexer=gc;Tokenizer=Ay;Hooks=My;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let o=r;for(let i of o.header)n=n.concat(this.walkTokens(i.tokens,t));for(let i of o.rows)for(let s of i)n=n.concat(this.walkTokens(s.tokens,t));break}case"list":n=n.concat(this.walkTokens(r.items,t));break;default:{let o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(i=>{let s=o[i].flat(1/0);n=n.concat(this.walkTokens(s,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let i=t.renderers[o.name];t.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");let i=t[o.level];i?i.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){let o=this.defaults.renderer||new nu(this.defaults);for(let i in n.renderer){if(!(i in o))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=n.renderer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d||""}}r.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new Ay(this.defaults);for(let i in n.tokenizer){if(!(i in o))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=n.tokenizer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new My;for(let i in n.hooks){if(!(i in o))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=n.hooks[i],l=o[i];o[i]=My.passThroughHooks.has(i)?c=>{if(this.defaults.async)return Promise.resolve(a.call(o,c)).then(p=>l.call(o,p));let d=a.call(o,c);return l.call(o,d)}:(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(s){let a=[];return a.push(i.call(this,s)),o&&(a=a.concat(o.call(this,s))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return gc.lex(e,t??this.defaults)}parser(e,t){return mc.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);let s=o.hooks?o.hooks.provideLexer():e?gc.lex:gc.lexInline,a=o.hooks?o.hooks.provideParser():e?mc.parse:mc.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(l=>s(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>a(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(i);try{o.hooks&&(t=o.hooks.preprocess(t));let l=s(t,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=a(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return i(l)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let r="<p>An error occurred:</p><pre>"+Tl(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};function gr(e,t){return ed.parse(e,t)}gr.options=gr.setOptions=function(e){return ed.setOptions(e),b2(gr.defaults=ed.defaults),gr},gr.getDefaults=function pw(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},gr.defaults=Ju,gr.use=function(...e){return ed.use(...e),b2(gr.defaults=ed.defaults),gr},gr.walkTokens=function(e,t){return ed.walkTokens(e,t)},gr.parseInline=ed.parseInline,gr.Parser=mc,gr.parser=mc.parse,gr.Renderer=nu,gr.TextRenderer=Sw,gr.Lexer=gc,gr.lexer=gc.lex,gr.Tokenizer=Ay,gr.Hooks=My,gr.parse=gr;class wte extends ct{constructor(t,n){super()}schedule(t,n=0){return this}}const xy={setInterval(e,t,...n){const{delegate:r}=xy;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=xy;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},ww={now:()=>(ww.delegate||Date).now(),delegate:void 0};class Yh{constructor(t,n=Yh.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Yh.now=ww.now;const Ite=new class Dte extends Yh{constructor(t,n=Yh.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class Ete extends wte{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return xy.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&xy.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ze(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});class xte extends jn{constructor(t=1/0,n=1/0,r=ww){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function Ew(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Dn({next:()=>{r.unsubscribe(),e()}});return $s(t(...n)).subscribe(r)}const Nte=["*"];let F2=(()=>{var e;class t{constructor(){this._buttonClick$=new jn,this.copied=function bte(e,t){const r=t?.manualCleanup?null:t?.injector?.get(Gi)??Le(Gi),o=function Cte(e=Object.is){return(t,n)=>1===t.kind&&1===n.kind&&e(t.value,n.value)}(t?.equal);let i,s;i=Ai(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue},{equal:o});const a=e.subscribe({next:l=>i.set({kind:1,value:l}),error:l=>{i.set({kind:2,error:l}),s?.()},complete:()=>{s?.()}});if(t?.requireSync&&0===i().kind)throw new Pe(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),zi(()=>{const l=i();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new Pe(601,!1)}},{equal:t?.equal})}(this._buttonClick$.pipe(yi(()=>function Ste(...e){const t=uh(e),n=function nq(e,t){return"number"==typeof US(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?$s(r[0]):mf(n)(li(r,t)):Fa}(cn(!0),function Ate(e=0,t,n=Ite){let r=-1;return null!=t&&(sO(t)?n=t:r=t),new In(o=>{let i=function Tte(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(3e3).pipe(function Mte(e){return rr(()=>e)}(!1)))),QP(),function Rte(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function kte(e={}){const{connector:t=()=>new jn,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,d=!1,p=!1;const m=()=>{a?.unsubscribe(),a=void 0},C=()=>{m(),s=l=void 0,d=p=!1},x=()=>{const j=s;C(),j?.unsubscribe()};return si((j,he)=>{c++,!p&&!d&&m();const Ee=l=l??t();he.add(()=>{c--,0===c&&!p&&!d&&(a=Ew(x,o))}),Ee.subscribe(he),!s&&c>0&&(s=new Dn({next:ke=>Ee.next(ke),error:ke=>{p=!0,m(),a=Ew(C,n,ke),Ee.error(ke)},complete:()=>{d=!0,m(),a=Ew(C,r),Ee.complete()}}),$s(j).subscribe(s))})(i)}}({connector:()=>new xte(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1))),this.copiedText=zi(()=>this.copied()?"Copied":"Copy")}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(o,i){1&o&&($m(0,"button",0),OC("click",function(){return i.onCopyToClipboardClick()}),xe(1),Bm()),2&o&&(aa("copied",i.copied()),ue(),Ls(i.copiedText()))},encapsulation:2,changeDetection:0}))}return e(),t})();const Fte=new tt("CLIPBOARD_OPTIONS");var Dw=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(Dw||{});const L2=new tt("MARKED_EXTENSIONS"),$2=new tt("MARKED_OPTIONS"),$te=new tt("MERMAID_OPTIONS"),B2=new tt("SANITIZE");let Iw=(()=>{var e;class t{get options(){return this._options}set options(r){this._options={...this.DEFAULT_MARKED_OPTIONS,...r}}get renderer(){return this.options.renderer}set renderer(r){this.options.renderer=r}constructor(r,o,i,s,a,l,c,d){this.clipboardOptions=r,this.extensions=o,this.mermaidOptions=s,this.platform=a,this.sanitize=l,this.http=c,this.sanitizer=d,this.DEFAULT_MARKED_OPTIONS={renderer:new nu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new jn,this.reload$=this._reload$.asObservable(),this.options=i}parse(r,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,d={...this.options,...o.markedOptions},p=d.renderer||this.renderer||new nu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(p)),l&&(this.renderer=this.extendsRendererForMermaid(p));const m=this.trimIndentation(r),C=i?this.decodeHtml(m):m,x=a?this.parseEmoji(C):C,j=this.parseMarked(x,d,s);return c?j:this.sanitizeHtml(j)}render(r,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:d,mermaidOptions:p}=o;l&&this.renderKatex(r,{...this.DEFAULT_KATEX_OPTIONS,...c}),d&&this.renderMermaid(r,{...this.DEFAULT_MERMAID_OPTIONS,...this.mermaidOptions,...p}),s&&this.renderClipboard(r,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),this.highlight(r)}reload(){this._reload$.next()}getSource(r){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(r,{responseType:"text"}).pipe(rr(o=>this.handleExtension(r,o)))}highlight(r){if(!uf(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;r||(r=document);const o=r.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(r)}decodeHtml(r){if(!uf(this.platform))return r;const o=document.createElement("textarea");return o.innerHTML=r,o.value}extendsRendererForExtensions(r){const o=r;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&gr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),r}extendsRendererForMermaid(r){const o=r;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return r;const i=r.code;return r.code=s=>"mermaid"===s.lang?`<div class="mermaid">${s.text}</div>`:i(s),o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,r}handleExtension(r,o){const i=r.lastIndexOf("://"),s=i>-1?r.substring(i+4):r,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),d=c>-1?l.substring(c+1):"";return d&&"md"!==d?"```"+d+"\n"+o+"\n```":o}parseMarked(r,o,i=!1){if(o.renderer){const s={...o.renderer};delete s.\u0275NgxMarkdownRendererExtendedForExtensions,delete s.\u0275NgxMarkdownRendererExtendedForMermaid,delete o.renderer,gr.use({renderer:s})}return i?gr.parseInline(r,o):gr.parse(r,o)}parseEmoji(r){if(!uf(this.platform))return r;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(r)}renderKatex(r,o){if(uf(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(r,o)}}renderClipboard(r,o,i){if(!uf(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=r.querySelectorAll("pre");for(let c=0;c<l.length;c++){const d=l.item(c),p=document.createElement("div");p.style.position="relative",d.parentNode.insertBefore(p,d),p.appendChild(d);const m=document.createElement("div");let C,x;if(m.classList.add("markdown-clipboard-toolbar"),m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.zIndex="1",p.insertAdjacentElement("beforeend",m),p.onmouseenter=()=>m.classList.add("hover"),p.onmouseleave=()=>m.classList.remove("hover"),s){const j=o.createComponent(s);C=j.hostView,j.changeDetectorRef.markForCheck()}else if(a)C=o.createEmbeddedView(a);else{const j=o.createComponent(F2);C=j.hostView,j.changeDetectorRef.markForCheck()}C.rootNodes.forEach(j=>{m.appendChild(j),x=new ClipboardJS(j,{text:()=>d.innerText})}),C.onDestroy(()=>x.destroy())}}renderMermaid(r,o=this.DEFAULT_MERMAID_OPTIONS){if(!uf(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=r.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(r){if(!r)return"";let o;return r.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}sanitizeHtml(r){var o=this;return(0,M.A)(function*(){return function Bte(e){return"function"==typeof e}(o.sanitize)?o.sanitize(yield r):o.sanitize!==Ns.NONE?o.sanitizer.sanitize(o.sanitize,r)??"":r})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Fte,8),se(L2,8),se($2,8),se($te,8),se(Ng),se(B2),se(WS,8),se(xS))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac}))}return e(),t})(),Tw=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(r){this._disableSanitizer=this.coerceBooleanProperty(r)}get inline(){return this._inline}set inline(r){this._inline=this.coerceBooleanProperty(r)}get clipboard(){return this._clipboard}set clipboard(r){this._clipboard=this.coerceBooleanProperty(r)}get emoji(){return this._emoji}set emoji(r){this._emoji=this.coerceBooleanProperty(r)}get katex(){return this._katex}set katex(r){this._katex=this.coerceBooleanProperty(r)}get mermaid(){return this._mermaid}set mermaid(r){this._mermaid=this.coerceBooleanProperty(r)}get lineHighlight(){return this._lineHighlight}set lineHighlight(r){this._lineHighlight=this.coerceBooleanProperty(r)}get lineNumbers(){return this._lineNumbers}set lineNumbers(r){this._lineNumbers=this.coerceBooleanProperty(r)}get commandLine(){return this._commandLine}set commandLine(r){this._commandLine=this.coerceBooleanProperty(r)}constructor(r,o,i){this.element=r,this.markdownService=o,this.viewContainerRef=i,this.error=new yn,this.load=new yn,this.ready=new yn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new jn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(t0(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(r){var o=this;return(0,M.A)(function*(i,s=!1){const a={decodeHtml:s,inline:o.inline,emoji:o.emoji,mermaid:o.mermaid,disableSanitizer:o.disableSanitizer},l={clipboard:o.clipboard,clipboardOptions:o.getClipboardOptions(),katex:o.katex,katexOptions:o.katexOptions,mermaid:o.mermaid,mermaidOptions:o.mermaidOptions},c=yield o.markdownService.parse(i,a);o.element.nativeElement.innerHTML=c,o.handlePlugins(),o.markdownService.render(o.element.nativeElement,l,o.viewContainerRef),o.ready.emit()}).apply(this,arguments)}coerceBooleanProperty(r){return null!=r&&"false"!=`${String(r)}`}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:r=>{this.render(r).then(()=>{this.load.emit(r)})},error:r=>this.error.emit(r)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Dw.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Dw.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(r){const o=r.match(/([A-Z])/g);if(!o)return r;let i=r.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(rt),y(Iw),y(rs))},this.\u0275cmp=Xe({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[ns],ngContentSelectors:Nte,decls:1,vars:0,template:function(o,i){1&o&&(bt(),yt(0))},encapsulation:2}))}return e(),t})();function qte(e){return[Iw,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],e?.mermaidOptions??[],e?.markedExtensions??[],Kte(e?.sanitize)??[]]}function Kte(e){return function Zte(e){return null!=e&&null!=e.provide}(e)?e:{provide:B2,useValue:e??Ns.HTML}}let Aw=(()=>{var e;class t{static forRoot(r){return{ngModule:t,providers:[qte(r)]}}static forChild(){return{ngModule:t}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({}))}return e(),t})(),j2=(()=>{var e;class t{constructor(){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-dummy"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(V(0,"div"),xe(1,"Dummy"),W())},encapsulation:2}))}return e(),t})(),V2=(()=>{var e;class t{constructor(r,o){this.linkApi=r,this.router=o}canActivate(r){return r.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!r.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(PS),se(Ri))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Xh=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({imports:[rc,Aw.forChild(),tu,Xu,vy]}))}return e(),t})(),Yte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({imports:[rc,Xu,tu,Xh,Aw.forChild()]}))}return e(),t})(),Xte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({imports:[rc,Xu,tu,Xh]}))}return e(),t})(),Qte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({imports:[rc,Xu,tu,vy,Xh]}))}return e(),t})(),Jte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({imports:[rc,Xu,tu,Xh,vy]}))}return e(),t})(),ene=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({imports:[rc,tu,Xu,vy,Xh]}))}return e(),t})();const tne=_.p+"assets/doc/about-0d56c8de99bbc738.md",U2=_.p+"assets/doc/CHANGELOG-5028ff8b669396a2.md";function nne(e,t){1&e&&(V(0,"div",5),nt(1,"ion-spinner"),W())}let td=(()=>{var e;class t{constructor(r){this.modalController=r,this.title="Help",this.loading=!0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Hs))},this.\u0275cmp=Xe({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},standalone:!1,decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"load","src"],[1,"loader"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),W(),V(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.modalController.dismiss()}),xe(6,"Close"),W()()()(),V(7,"ion-content",2),nn(8,nne,2,0,"div",3),V(9,"markdown",4),$e("load",function(){return i.loading=!1}),W()()),2&o&&(ue(3),Ls(i.title),ue(5),fe("ngIf",i.loading),ue(),fe("src",i.url))},dependencies:[xo,Tw,cs,us,ds,fs,Uh,ps,hs],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}))}return e(),t})();function Xn(){return(e,t,n)=>{const r=n.value;let o=!1;return n.value=(0,M.A)(function*(...i){if(!o){o=!0;try{return yield r.apply(this,i)}finally{o=!1}}}),n}}const nd="1.10.15-5bc4cfd (preview)",ine=(new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked"),new Error("request for lock canceled"));class ane{constructor(t,n=ine){this._value=t,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,o)=>{const i={resolve:r,reject:o,weight:t,priority:n},s=G2(this._queue,a=>n<=a.priority);-1===s&&t<=this._value?this._dispatchItem(i):this._queue.splice(s+1,0,i)})}runExclusive(t){return function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(p){s(p)}}function l(d){try{c(r.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,arguments,void 0,function*(n,r=1,o=0){const[i,s]=yield this.acquire(r,o);try{return yield n(i)}finally{s()}})}waitForUnlock(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,n)?Promise.resolve():new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),function lne(e,t){const n=G2(e,r=>t.priority<=r.priority);e.splice(n+1,0,t)}(this._weightedWaiters[t-1],{resolve:r,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const n=this._value;this._value-=t.weight,t.resolve([n,this._newReleaser(t.weight)])}_newReleaser(t){let n=!1;return()=>{n||(n=!0,this.release(t))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];n&&(n.forEach(r=>r.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let n=this._value;n>0;n--){const r=this._weightedWaiters[n-1];if(!r)continue;const o=r.findIndex(i=>i.priority<=t);(-1===o?r:r.splice(0,o)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,n){return(0===this._queue.length||this._queue[0].priority<n)&&t<=this._value}}function G2(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}class $a{constructor(t){this._semaphore=new ane(1,t)}acquire(){return e=this,t=arguments,r=function*(t=0){const[,n]=yield this._semaphore.acquire(1,t);return n},new((n=void 0)||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(p){s(p)}}function l(d){try{c(r.throw(d))}catch(p){s(p)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())});var e,t,n,r}runExclusive(t,n=0){return this._semaphore.runExclusive(()=>t(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}let vc=(()=>{var e;class t{constructor(){this._context=Ai(void 0),this._session=zi(()=>this._context()?.session),this._engine=zi(()=>this._context()?.engine)}get session(){return this._session}get engine(){return this._engine}get context(){return this._context}setContext(r,o){this._context.set({session:r,engine:o})}clearContext(){this._context.set(void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var W2;class q2{constructor(t){this.markup=t}}class wr{constructor(t,n){this.alertController=t,this.emulationContext=n,this.emergencySaveEvent=new fn.J,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new q2(t)}errorMessage(t){var n=this;return(0,M.A)(function*(r,o="Close"){const i=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(r),buttons:[{text:o,role:"cancel"}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()}).apply(this,arguments)}message(t,n){var r=this;return(0,M.A)(function*(o,i,s={},a="Close"){const l=yield r.alertController.create({header:o,message:r.sanitizeMessage(i),backdropDismiss:!1,buttons:[{text:a,role:"cancel"},...Object.keys(s).map(c=>({text:c,handler:()=>{s[c](),l.dismiss()}}))],cssClass:"cpe-alert-message"});yield l.present(),yield l.onDidDismiss()}).apply(this,arguments)}messageWithChoice(t,n,r,o){var i=this;return(0,M.A)(function*(s,a,l,c,d={},p="Close"){const m=yield i.alertController.create({header:s,message:i.sanitizeMessage(a),backdropDismiss:!1,buttons:[{text:p,role:"cancel"},...Object.keys(d).map(C=>({text:C,handler:()=>{d[C](),m.dismiss()}}))],inputs:[{type:"checkbox",label:l,checked:!1,handler:C=>c=!0===C.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border cpe-alert-message"});return yield m.present(),yield m.onDidDismiss(),c}).apply(this,arguments)}updateAvailable(t){var n=this;return(0,M.A)(function*(){const r=yield n.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield r.present(),yield r.onDidDismiss()})()}fatalError(t){var n=this;return(0,M.A)(function*(r,o=!0){const i=!!n.emulationContext.session(),s=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${r}\n                <br/><br/>\n                Please close or reload this window.\n                ${i&&o?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...i&&o?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield s.present(),yield s.onDidDismiss()}).apply(this,arguments)}errorInNativeCode(t){var n=this;return(0,M.A)(function*(){const r=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}snapshotTimeout(){var t=this;return(0,M.A)(function*(){yield t.message("Timeout while saving state","Your browser's IndexedDB is either slow to respond or has crashed. You can either retry or reload CloudpilotEmu.",{Reload:()=>window.location.reload()},"Retry")})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new iw.I(t instanceof q2?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(n=>(this.sanitizeDiv.textContent=n,this.sanitizeDiv.innerHTML)).join("<br/>"))}static#e=W2=()=>(this.\u0275fac=function(n){return new(n||wr)(se(cw),se(vc))},this.\u0275prov=Qe({token:wr,factory:wr.\u0275fac,providedIn:"root"}))}W2(),oe([Xn()],wr.prototype,"updateAvailable",null),oe([Xn()],wr.prototype,"fatalError",null),oe([Xn()],wr.prototype,"errorInNativeCode",null),oe([Xn()],wr.prototype,"snapshotTimeout",null);const Of=function fne(){if(!Sl)return 0;const e=navigator.userAgent.match(/cpe-native-api-(\d+)/);if(!e)return 0;const t=parseInt(e[1],10);return isNaN(t)?0:t}(),Mw=new fn.J;Of>0&&(window.__cpeCallFromNative=e=>Mw.dispatch(e));let ua=(()=>{var e;class t{constructor(){this.netRpcResult=new fn.J,this.onNativeMessage=r=>{"netRpcResult"===r.type?this.netRpcResult.dispatch({sessionId:r.sessionId,rpcData:new Uint8Array(r.rpcData)}):console.error("unhandled native message",r)},Mw.addHandler(this.onNativeMessage)}ngOnDestroy(){Mw.removeHandler(this.onNativeMessage)}netOpenSession(){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netOpenSession"})}netCloseSession(r){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netCloseSession",sessionId:r})}netDispatchRpc(r,o){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netDispatchRpc",sessionId:r,rpcData:Array.from(o)}).then(i=>!!i)}clipboardRead(){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardRead"})}clipboardWrite(r){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardWrite",data:r})}isResumeFromBackground(){return void 0!==window.__cpeLastResume&&Date.now()-window.__cpeLastResume<=3e3}setWorkerRegistered(r){return(0,M.A)(function*(){Of>2&&(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"setWorkerRegistered",workerRegistered:r}))})()}getWorkerFailed(){return(0,M.A)(function*(){return!(Of<3||!(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"getWorkerFailed"})))})()}clearWorkerFailed(){Of>2&&window.webkit.messageHandlers.nativeCall.postMessage({type:"clearWorkerFailed"})}assertNativeNetworkIntegrationSupported(){if(!t.supportsNativeNetworkIntegration())throw new Error("native network integration not supported")}assertNativeClipboardSupported(){if(!t.supportsNativeClipboard())throw new Error("native clipboard is not supported")}static supportsNativeNetworkIntegration(){return Sl&&Of>0}static supportsNativeClipboard(){return Sl&&Of>1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Ry=(()=>{var e;class t{constructor(r,o,i){var s=this;this.loadingController=r,this.alertService=o,this.nativeAppService=i,this.updateNativeAppRegistrationStatus=a=>this.updateNativeAppRegistrationStatusMutex.runExclusive(()=>this.nativeAppService.setWorkerRegistered(a)),this.register=()=>this.registerMutex.runExclusive((0,M.A)(function*(){if(s.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>s.reloadOnControllerChange&&window.location.reload()),yield new Promise(a=>setTimeout(a,3e3));try{s.setupRegistration(yield s.doRegister())}catch(a){console.error(a)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new $a,this.updateNativeAppRegistrationStatusMutex=new $a,this.updateAvailableEvent=new fn.J,this.register(),this.isEnabled()&&this.updateNativeAppRegistrationStatus(this.isRegistered())}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var r=this;return(0,M.A)(function*(){const o=yield r.loadingController.create();yield o.present();try{if(!(yield(yield navigator.serviceWorker.getRegistration())?.unregister()))throw new Error("failed to unregister worker");yield r.updateNativeAppRegistrationStatus(!1)}catch(i){return console.error(i),void(yield r.alertService.errorMessage("Failed to unregister service worker."))}finally{yield o.dismiss()}yield r.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var r=this;return(0,M.A)(function*(){r.registration&&r.registration.update()})()}activateUpdate(){var r=this;return(0,M.A)(function*(){r.registration?.waiting&&(yield(yield r.loadingController.create({message:"Updating..."})).present(),r.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}doRegister(){return(0,M.A)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(r){this.registration=r,r.waiting&&this.dispatchUpdate(),r.installing&&this.handleInstallingWorker(r.installing),r.addEventListener("updatefound",()=>r.installing&&this.handleInstallingWorker(r.installing))}handleInstallingWorker(r){let o=!1;r.addEventListener("statechange",()=>{"installed"!==r.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Us),se(wr),se(ua))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var yc=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(yc||{});const gne=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Z2(e){let t=-1;for(let n=0;n<e.length;n++)t=gne[255&(t^e[n])]^t>>>8;return~t}var ru=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(ru||{});function Qh(e){switch(e){case q.i710:case q.m520:case q.te2:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case q.handera330:case q.handera330c:case q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case q.pegS300:case q.pegS320:case q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case q.pegT600c:case q.pegT400:case q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case q.pegN600c:case q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case q.pegNR70:case q.frankene2:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function xw(e){switch(e){case q.pilot:case q.palmPilot:case q.iii:case q.palmV:case q.palmVx:case q.iiix:case q.iiixe:case q.iiie:case q.m100:case q.m105:case q.m125:case q.m500:case q.palmVII:case q.palmVIIEZ:case q.palmVIIx:case q.i705:case q.handera330:case q.pegS300:case q.pegS320:case q.pegT400:case q.acerS11:return!1;default:return!0}}function K2(e){switch(e){case q.pilot:return"Pilot";case q.palmPilot:return"Palm Pilot";case q.iii:return"Palm III";case q.m500:return"Palm m500";case q.m505:return"Palm m505";case q.m515:return"Palm m515";case q.m520:return"Palm m520";case q.palmVx:return"Palm Vx";case q.iiix:return"Palm IIIx";case q.iiixe:return"Palm IIIxe";case q.iiie:return"Palm IIIe";case q.palmV:return"Palm V";case q.palmVII:return"Palm VII";case q.palmVIIEZ:return"Palm VII EZ";case q.palmVIIx:return"Palm VIIx";case q.iiic:return"Palm IIIc";case q.m100:return"Palm m100";case q.m105:return"Palm m105";case q.m125:return"Palm m125";case q.m130:return"Palm m130";case q.i705:return"Palm i705";case q.i710:return"Tungsten W";case q.handera330:return"Handera 330";case q.handera330c:return"Handera 330c";case q.pegS300:return"Sony PEG-S300";case q.pegS320:return"Sony PEG-S320";case q.pegT400:return"Sony PEG-T400 series";case q.pegN600c:return"Sony PEG-N600C series";case q.pegT600c:return"Sony PEG-T600C series";case q.pegN700c:return"Sony PEG-N700C series";case q.pegT650c:return"Sony PEG-T650C series";case q.pegNR70:return"Sony PEG-NR70 series";case q.pegS500c:return"Sony PEG-S500C series";case q.acerS11:return"Acer S1x series";case q.lp168:return"Legend P168";case q.te2:return"Tungsten E2";case q.frankene2:return"Tungsten E3";default:throw new Error("bad device ID")}}function kw(e){switch(e){case q.m500:case q.m505:case q.m515:case q.m520:case q.m125:case q.m130:case q.i705:case q.i710:case q.handera330:case q.handera330c:case q.te2:case q.frankene2:return ru.sdcard;case q.pegS300:case q.pegS500c:case q.pegS320:case q.pegT400:case q.pegN600c:case q.pegT600c:case q.pegN700c:case q.pegT650c:case q.pegNR70:case q.acerS11:return ru.memorystick;default:return ru.none}}function Rw(e){switch(e){case q.te2:case q.frankene2:return"uarm";default:return"cloudpilot"}}function Ny(e){return"uarm"===Rw(e)?34603008:void 0}function Y2(e){switch(e){case q.te2:case q.frankene2:return!0;default:return!1}}var _ne=_(6243),bne=_.n(_ne);const X2={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Nw;const Cne=new Uint8Array(16),Ni=[];for(let e=0;e<256;++e)Ni.push((e+256).toString(16).slice(1));function wne(e,t,n){const r=(e=e||{}).random??e.rng?.()??function Sne(){if(!Nw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Nw=crypto.getRandomValues.bind(crypto)}return Nw(Cne)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)t[n+o]=r[o];return t}return function Q2(e,t=0){return(Ni[e[t+0]]+Ni[e[t+1]]+Ni[e[t+2]]+Ni[e[t+3]]+"-"+Ni[e[t+4]]+Ni[e[t+5]]+"-"+Ni[e[t+6]]+Ni[e[t+7]]+"-"+Ni[e[t+8]]+Ni[e[t+9]]+"-"+Ni[e[t+10]]+Ni[e[t+11]]+Ni[e[t+12]]+Ni[e[t+13]]+Ni[e[t+14]]+Ni[e[t+15]]).toLowerCase()}(r)}const J2=function Ene(e,t,n){return!X2.randomUUID||t||e?wne(e,t,n):X2.randomUUID()};let rd=(()=>{var e;class t{constructor(r,o,i){this.alertService=r,this.nativeAppService=o,this.ngZone=i,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>{this.nativeAppService.isResumeFromBackground()?window.location.reload():this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1)},this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=s=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${s}.`),this.fatalInNativeCode=s=>this.fatalWithMessage(s.message,!0,!1),this.fatalWithMessage=(s,a=!0,l=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,a&&HN(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(s,l))}),this.fatalErrorEvent=new fn.J,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(wr),se(ua),se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var Br=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Br||{});let Oy=(()=>{var e;class t{constructor(r){this.errorService=r,this.ownershipMmap=new Map}getOwner(r){return this.ownershipMmap.get(r)??Br.none}claim(r,o){this.assertOwnership(r,Br.none),this.ownershipMmap.set(r,o)}release(r,o){this.assertOwnership(r,o),this.ownershipMmap.delete(r)}assertOwnership(r,o){if(this.getOwner(r)===o)return;const i=o===Br.none?`Card already claimed for ${this.getOwner(r)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(r)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(r,o,i){this.assertOwnership(r,o),this.ownershipMmap.set(r,i)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(rd))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class od extends Error{constructor(t){super(t)}}const ou="session",Pf="rom",iu="memory",_c="state",Py="kvs",su="memory-meta",Al="storage",Ba="storage-card",Jh="lock",au="nand",eg="session",Pw="memory",nL="storage-meta",rL="storage-card";function Fw(){return(Fw=(0,M.A)(function*(e,t){function n(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(eg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+n(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Lw(){return(Lw=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=t.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=n.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(n.put(r,"credentials"),n.delete("proxyCredentials"))})).apply(this,arguments)}function $w(){return($w=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(nL,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(eg).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(n.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Bw(){return(Bw=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(nL).name=rL})).apply(this,arguments)}function jw(){return(jw=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(rL).createIndex("storageId","storageId")})).apply(this,arguments)}function Vw(){return(Vw=(0,M.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}function Uw(){return(Uw=(0,M.A)(function*(e,t){if(e.createObjectStore("nand"),!t)throw new Error("no version change transaction!");const r=t.objectStore(eg).openCursor();return new Promise((o,i)=>{r.onsuccess=()=>{const s=r.result;if(!s)return void o();const a={engine:"cloudpilot",wasResetForcefully:!1,deviceOrientation:"portrait",hotsyncName:"",dontManageHotsyncName:!1,speed:1,...s.value};s.update(a),s.continue()},r.onerror=s=>i(s)})})).apply(this,arguments)}function lr(e){return new Promise((t,n)=>{!function jne(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>n(new od(e.error?.message))})}function oL(e){let t=255&e[0];t|=t<<8,t|=t<<16;const n=e.length;for(let r=0;r<n;r++)if(e[r]!==t)return e;return 255&e[0]}function Hw(e){const t=e[0],n=e.length;for(let r=1;r<n;r++)if(e[r]!==t)return e;return t}var iL;const Gw=new Error("page lock lost"),sL=new Error("version mismatch"),aL=J2();function vo(){return(e,t,n)=>{const r=n.value;return n.value=(0,M.A)(function*(...o){const i=this.errorService;try{return yield r.apply(this,o)}catch(s){throw console.error(s),s instanceof od?i?.fatalIDBDead():s===sL?i?.fatalVersionMismatch():s===Gw?i?.fatalPageLockLost():s instanceof Error?i?.fatalBug(s?.message):i?.fatalBug("unknown reason"),s}}),n}}class tr{constructor(t,n,r){this.ngZone=t,this.errorService=n,this.storageCardContext=r,this.sessionChangeEvent=new fn.J,this.storageCardChangeEvent=new fn.J,this.sessionUpdateMutex=new $a,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,{rom:n,memory:r,nand:o,state:i}){var s=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const a=bne()(n),l=yield s.newTransaction(ou,Pf,_c,iu,su,au),c=l.objectStore(ou),d=l.objectStore(Pf);(yield lr(d.get(a)))||d.put(n,a);const{id:m,...C}=t,x=yield lr(c.add({...C,rom:a})),j=yield lr(c.get(x));return s.saveMemory(l,t.engine,j.id,r),s.saveNand(l,j.id,o),s.saveState(l,j.id,i),yield lr(l),j}))}getAllSessions(){var t=this;return(0,M.A)(function*(){const[n]=yield t.prepareObjectStore(ou);return yield lr(n.getAll())})()}getSession(t){var n=this;return(0,M.A)(function*(){const[r]=yield n.prepareObjectStore(ou);return yield lr(r.get(t))})()}deleteSession(t){var n=this;return(0,M.A)(function*(){const r=yield n.newTransaction(ou,Pf,_c,iu,su,au),o=r.objectStore(ou),i=r.objectStore(Pf);(t=yield lr(o.get(t.id)))&&(o.delete(t.id),0===(yield lr(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),n.deleteMemory(r,t.id),n.deleteState(r,t.id),n.deleteNand(r,t.id),yield lr(r),n.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,n){var r=this;return this.sessionUpdateMutex.runExclusive((0,M.A)(function*(){const{id:o,rom:i,ram:s,device:a,engine:l,nand:c,...d}=n,[p,m]=yield r.prepareObjectStore(ou),C=yield lr(p.get(t));if(!C)throw new Error(`no session with id ${t}`);const x={...C,...d};p.put(x),yield lr(m),r.sessionChangeEvent.dispatch([C.id,x])}))}updateSession(t){var n=this;return this.sessionUpdateMutex.runExclusive((0,M.A)(function*(){const[r,o]=yield n.prepareObjectStore(ou),i=yield lr(r.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.engine!==t.engine)throw new Error("attempt to change session engine");if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");if(i.nand!==t.nand)throw new Error("attempt to change NAND size");r.put(t),yield lr(o),n.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,n){var r=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const o=yield r.newTransaction(Pf,_c,iu,su,au),i=o.objectStore(Pf);return{rom:yield lr(i.get(t.rom)),memory:yield r.loadMemory(o,t.id,n),savestate:yield r.loadState(o,t.id),nand:yield r.loadNand(o,t.id,t.device)}}))}deleteStateForSession(t){var n=this;return(0,M.A)(function*(){const[r,o]=yield n.prepareObjectStore(_c);r.delete(t.id),yield lr(o)})()}addEmptyStorageCard(t){var n=this;return(0,M.A)(function*(){const[r]=yield n.prepareObjectStore(Ba),o=yield lr(r.add(t)),i=yield lr(r.get(o));return n.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,n){var r=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const o=yield r.newTransaction(Ba,Al),i=o.objectStore(Ba),s=o.objectStore(Al),a=yield lr(i.add(t));if("number"!=typeof a)throw new Error("invalid key");r.savePagedData(s,8192,Hw,a,0,new Uint8Array(n.buffer,n.byteOffset,n.byteLength));const l=yield lr(i.get(a));return yield lr(o),r.storageCardChangeEvent.dispatch(l.id),l}))}getAllStorageCards(){var t=this;return(0,M.A)(function*(){const[n]=yield t.prepareObjectStore(Ba);return lr(n.getAll())})()}getCard(t){var n=this;return(0,M.A)(function*(){const[r]=yield n.prepareObjectStore(Ba);return lr(r.get(t))})()}updateStorageCardPartial(t,n){var r=this;return(0,M.A)(function*(){const{storageId:o,size:i,id:s,...a}=n,[l,c]=yield r.prepareObjectStore(Ba),d=yield lr(l.get(t));if(!d)throw new Error(`no card with id ${t}`);const p={...d,...a};l.put(p),yield lr(c),r.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var n=this;return(0,M.A)(function*(){const r=yield n.newTransaction(Ba,Al);n.storageCardContext.assertOwnership(t,Br.none);const o=r.objectStore(Ba),i=r.objectStore(Al);o.delete(t),n.deletePagedData(i,t),yield lr(r),n.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,n,r){var o=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const i=yield o.newTransaction(Al);o.storageCardContext.assertOwnership(t,r);const s=i.objectStore(Al);yield o.loadPagedData(t,s,8192,0,n)}))}updateCardData(t,n,r,o){var i=this;return this.ngZone.runOutsideAngular((0,M.A)(function*(){const s=yield i.newTransaction(Ba,Al);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Ba),l=s.objectStore(Al),c=yield lr(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(n.length!==c.size>>>2)throw new Error("data size mismatch");const d=(c.size>>>13)+(c.size%8192>0?1:0);if((d>>>3)+(d%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let p=0;for(let m=0;m<r.length;m++)for(let C=1;C<256&&!(p>=d);C<<=1)r[m]&C&&l.put(n.subarray(2048*p,2048*(p+1)).slice(),[c.id,p]),p++;yield lr(s)}))}kvsGet(t){var n=this;return(0,M.A)(function*(){const[r]=yield n.prepareObjectStore(Py);return lr(r.get(t))})()}kvsSet(t){var n=this;return(0,M.A)(function*(){const[r,o]=yield n.prepareObjectStore(Py);for(const i of Object.keys(t))r.put(t[i],i);yield lr(o)})()}kvsLoad(){var t=this;return(0,M.A)(function*(){const[n]=yield t.prepareObjectStore(Py);return new Promise((r,o)=>{const i={},s=n.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new od(s.error?.message))})})()}kvsDelete(t){var n=this;return(0,M.A)(function*(){const[r,o]=yield n.prepareObjectStore(Py);r.delete(t),yield lr(o)})()}acquireLock(t){var n=this;return(0,M.A)(function*(){if(n.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield lr(t.objectStore(Jh).get(0)))!==aL)throw t.abort(),t.db.close(),Gw})()}newTransaction(...t){var n=this;return(0,M.A)(function*(){const r=(yield n.db).transaction([Jh,...t],"readwrite",{durability:"relaxed"});return yield n.acquireLock(r),r})()}prepareObjectStore(t){var n=this;return(0,M.A)(function*(){const r=yield n.newTransaction(t);return[r.objectStore(t),r]})()}loadState(t,n){return lr(t.objectStore(_c).get(n))}saveState(t,n,r){const o=t.objectStore(_c);r?o.put(r,n):o.delete(n)}deleteState(t,n){t.objectStore(_c).delete(n)}loadMemory(t,n,r){return(0,M.A)(function*(){const o=t.objectStore(su),i=yield lr(o.get(n));if(!i)return;const s=yield new Promise(function(){var a=(0,M.A)(function*(l,c){const d=t.objectStore(iu),p=new Uint32Array(i.totalSize>>>2),m=d.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));m.onsuccess=()=>{const C=m.result;if(!C)return l(new Uint8Array(p.buffer));const x=C.value,[,j]=C.key;"number"==typeof x?p.subarray(256*j,256*(j+1)).fill(x|x<<8|x<<16|x<<24):p.subarray(256*j,256*(j+1)).set(1024===x.length?new Uint32Array(x.buffer):x),C.continue()},m.onerror=()=>c(new od(m.error?.message))});return function(l,c){return a.apply(this,arguments)}}());if(void 0!==i.crc32&&r&&i.crc32!==Z2(s))throw new Error("snapshot CRC mismatch");return s})()}saveMemory(t,n,r,o){const i=t.objectStore(iu),s=t.objectStore(su);s.delete(r),o&&s.put({sessionId:r,totalSize:o.length}),this.savePagedData(i,1024,oL,r,0,o)}deleteMemory(t,n){const r=t.objectStore(iu),o=t.objectStore(su);this.deletePagedData(r,n),o.delete(n)}saveNand(t,n,r){this.savePagedData(t.objectStore(au),4224,Hw,n,255,r)}loadNand(t,n,r){var o=this;return(0,M.A)(function*(){const i=Ny(r);if(void 0===i)return;const s=new Uint8Array(i),a=new Uint32Array(s.buffer),l=t.objectStore(au);return yield o.loadPagedData(n,l,4224,255,a),s})()}deleteNand(t,n){this.deletePagedData(t.objectStore(au),n)}savePagedData(t,n,r,o,i,s){if(i=i|i<<8|i<<16|i<<24,t.delete(IDBKeyRange.bound([o,0],[o+1,0],!1,!0)),!s)return;const a=new Uint32Array(s.buffer,s.byteOffset,s.byteLength>>>2),l=n>>>2,c=(s.length/n|0)+(s.length%n===0?0:1),d=new Uint32Array(l);for(let p=0;p<c;p++){let m=a.subarray(p*l,(p+1)*l);p===c-1&&(d.set(m),m=d);const C=r(m);"number"==typeof C&&(0|C)===i||t.put("number"==typeof C?C:C.slice(),[o,p])}}loadPagedData(t,n,r,o,i){const s=r>>>2;return i.fill(o=o|o<<8|o<<16|o<<24),new Promise((a,l)=>{const c=n.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));c.onsuccess=()=>{const d=c.result;if(!d)return a();let p=d.value;const[,m]=d.key;if("number"==typeof p)i.subarray(m*s,(m+1)*s).fill(p);else{if((m+1)*s>i.length){if((m+1)*s>i.length+s)throw new Error("bad page index");p=p.subarray(0,s-(m+1)*s+i.length)}i.subarray(m*s,(m+1)*s).set(p)}d.continue()},c.onerror=()=>l(new od(c.error?.message))})}deletePagedData(t,n){t.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0))}initializeLock(t){return(0,M.A)(function*(){const n=t.transaction(Jh,"readwrite");yield lr(n.objectStore(Jh).put(aL,0))})()}setupDb(){var t=this;return(0,M.A)(function*(){const n=setTimeout(()=>So&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(n),o&&void 0!==o.version&&o.version>10)throw sL}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",10);s.onerror=()=>{i(new od("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new od("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,M.A)(function*(l){clearTimeout(n),l.oldVersion<1&&function kne(e){e.createObjectStore(eg,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function Rne(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(Pw)&&e.deleteObjectStore(Pw),t.objectStore(eg).clear(),e.createObjectStore("rom"),e.createObjectStore(Pw),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function Nne(e,t){return Fw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function One(e,t){return Lw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function Pne(e,t){return $w.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function Fne(e,t){return Bw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function Lne(e,t){return jw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function $ne(e,t){return Vw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<10&&(yield function Bne(e,t){return Uw.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(r),r}finally{clearTimeout(n)}})()}requestPersistentStorage(){return(0,M.A)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}static#e=iL=()=>(this.\u0275fac=function(n){return new(n||tr)(se(We),se(rd),se(Oy))},this.\u0275prov=Qe({token:tr,factory:tr.\u0275fac,providedIn:"root"}))}iL(),oe([vo()],tr.prototype,"addSession",null),oe([vo()],tr.prototype,"getAllSessions",null),oe([vo()],tr.prototype,"getSession",null),oe([vo()],tr.prototype,"deleteSession",null),oe([vo()],tr.prototype,"updateSessionPartial",null),oe([vo()],tr.prototype,"updateSession",null),oe([vo()],tr.prototype,"loadSession",null),oe([vo()],tr.prototype,"deleteStateForSession",null),oe([vo()],tr.prototype,"addEmptyStorageCard",null),oe([vo()],tr.prototype,"importStorageCard",null),oe([vo()],tr.prototype,"getAllStorageCards",null),oe([vo()],tr.prototype,"getCard",null),oe([vo()],tr.prototype,"updateStorageCardPartial",null),oe([vo()],tr.prototype,"deleteStorageCard",null),oe([vo()],tr.prototype,"loadCardData",null),oe([vo()],tr.prototype,"updateCardData",null),oe([vo()],tr.prototype,"kvsGet",null),oe([vo()],tr.prototype,"kvsSet",null),oe([vo()],tr.prototype,"kvsLoad",null),oe([vo()],tr.prototype,"kvsDelete",null),oe([vo()],tr.prototype,"newTransaction",null),oe([vo()],tr.prototype,"prepareObjectStore",null),oe([vo()],tr.prototype,"initializeLock",null),oe([vo()],tr.prototype,"setupDb",null);const lL={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,networkRedirectionMode:ua.supportsNativeNetworkIntegration()?"native":"proxy",proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let qi=(()=>{var e;class t{constructor(r){var o=this;this.storageService=r,this.set=i=>this.storageMutex.runExclusive((0,M.A)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new fn.J,this.mutex=new $a,this.storageMutex=new $a,this.initializationPromise=this.startInitialization().then(()=>this.migrate())}initialize(){var r=this;return(0,M.A)(function*(){return r.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialization(){var r=this;return(0,M.A)(function*(){const o=r;try{const i={...lL,...yield r.storageService.kvsLoad()};r.rawKvs=i,r.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,M.A)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),r.kvsProxy={...lL}}})()}migrate(){var r=this;return(0,M.A)(function*(){switch(r.kvs.networkRedirectionMode){case"native":ua.supportsNativeNetworkIntegration()||(yield r.set({networkRedirectionMode:"proxy",networkRedirection:!1}));break;case"proxy":break;default:yield r.set({networkRedirectionMode:"proxy"})}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const cL='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',Hne=`\n    You can install CloudpilotEmu as an app either from the\n    ${cL} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,zne=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${cL} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let Fy=(()=>{var e;class t{constructor(r,o){var i=this;this.kvsService=r,this.alertService=o,this.serviceWorkerKeepalive=(0,M.A)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch(s){console.error(s)}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(So||kS)&&this.installationMode===yc.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(So||kS||ff)&&this.installationMode===yc.web&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,Object.prototype.hasOwnProperty.call(window,"onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return So?Hne:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return So?zne:ff?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?yc.pwa:document.referrer.startsWith("android-app://")?yc.twa:window.matchMedia("(display-mode: standalone)").matches?yc.pwa:yc.web}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(qi),se(wr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function qne(e,t){if(1&e){const n=Mn();V(0,"ion-button",1),$e("click",function(){return pt(n),ht(st().onClick())}),nt(1,"ion-icon",2),W()}if(2&e){const n=st();ue(),fe("name",n.iconName)}}let Ly=(()=>{var e;class t{constructor(r){this.pwaService=r}onClick(){this.pwaService.install()}get iconName(){return So?"logo-apple-appstore":kS?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Fy))},this.\u0275cmp=Xe({type:t,selectors:[["app-pwa-prompt"]],standalone:!1,decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(o,i){1&o&&nn(0,qne,2,1,"ion-button",0),2&o&&fe("ngIf",i.show)},dependencies:[xo,cs,qo],encapsulation:2}))}return e(),t})();var uL;function Zne(e,t){1&e&&(V(0,"div",11),nt(1,"ion-spinner"),W())}function Kne(e,t){if(1&e){const n=Mn();V(0,"div"),xe(1,"app cached for offline use"),W(),V(2,"a",9),$e("click",function(){return pt(n),ht(st().resetWorker())}),xe(3,"reset worker"),W()}}class tg{constructor(t,n){this.modalController=t,this.serviceWorkerService=n,this.loading=!0}get version(){return nd}get url(){return tne}showChangelog(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:td,componentProps:{url:U2,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,M.A)(function*(){yield t.serviceWorkerService.reset()})()}static#e=uL=()=>(this.\u0275fac=function(n){return new(n||tg)(y(Hs),y(Ry))},this.\u0275cmp=Xe({type:tg,selectors:[["app-about"]],standalone:!1,decls:21,vars:7,consts:[[3,"translucent"],["slot","secondary"],[3,"fullscreen"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"load","src","disableSanitizer"],[1,"version"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,r){1&n&&(V(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),xe(3,"About"),W(),V(4,"ion-buttons",1),nt(5,"app-pwa-prompt"),W()()(),V(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),xe(10,"About"),W()()(),nn(11,Zne,2,0,"div",5),V(12,"div",6)(13,"markdown",7),$e("load",function(){return r.loading=!1}),W()(),V(14,"div",8),xe(15),nt(16,"br"),V(17,"a",9),$e("click",function(){return r.showChangelog()}),xe(18,"Changelog"),W(),Jd(19,Kne,4,0),W(),nt(20,"img",10),W()),2&n&&(fe("translucent",!0),ue(6),fe("fullscreen",!0),ue(5),fe("ngIf",r.loading),ue(2),fe("src",r.url)("disableSanitizer",!0),ue(2),vi(" CloudpilotEmu version ",r.version," "),ue(4),ef(r.serviceWorkerAvailable?19:-1))},dependencies:[xo,us,ds,fs,Uh,ps,hs,Ly,Tw],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:1em;margin-right:1em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}))}uL(),oe([Xn()],tg.prototype,"resetWorker",null);const Yne=_.p+"assets/doc/emulation-43714ce6b9b92f30.md";function Xne(e,t){if(1&e){const n=Mn();V(0,"ion-item",2),$e("click",function(){const o=pt(n).$implicit;return ht(st(2).onSelect(o))}),V(1,"div",3),xe(2),W()()}if(2&e){const n=t.$implicit,r=t.index,o=st(2);fe("detail",!1)("lines",r===o.sessions.length-1?"none":"full"),ue(2),Ls(n.name)}}function Qne(e,t){if(1&e&&(V(0,"ion-list"),nn(1,Xne,3,3,"ion-item",1),W()),2&e){const n=st();ue(),fe("ngForOf",n.sessions)}}let Jne=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[1,"text-wrapper"]],template:function(o,i){1&o&&nn(0,Qne,2,1,"ion-list",0),2&o&&fe("ngIf",i.sessions)},dependencies:[nc,xo,ko,ca],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}))}return e(),t})();var Rr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Rr||{});function ng(e){let t,n,r=!1;return o=>((!r||o!==t)&&(t=o,r=!0,n=e(o)),n)}function ere(e){switch(e.engine){case"cloudpilot":return{name:"",deviceOrientation:Rr.portrait,hotsyncName:"",dontManageHotsyncName:!1,speed:1,...e};case"uarm":return{name:"",deviceOrientation:Rr.portrait,disableAudio:!1,maxHostLoad:1,targetMips:100,warnSlowdownThreshold:.5,...e};default:throw new Error("unreachable")}}function fL(e){switch(e.engine){case"cloudpilot":{const{engine:t,name:n,deviceOrientation:r,hotsyncName:o,dontManageHotsyncName:i,speed:s}=e;return{engine:t,name:n,deviceOrientation:r,hotsyncName:o,dontManageHotsyncName:i,speed:s}}case"uarm":{const{engine:t,name:n,deviceOrientation:r,targetMips:o,disableAudio:i,warnSlowdownThreshold:s,maxHostLoad:a}=e;return{engine:t,name:n,deviceOrientation:r,targetMips:o,disableAudio:i,warnSlowdownThreshold:s,maxHostLoad:a}}default:throw new Error("unreachable")}}function pL(e,t){if(e.engine!==t.engine)throw new Error("engine mismatch");return{...e,...t}}function hL(e,t){switch(e){case"cloudpilot":return{engine:e,name:t?.name??"",deviceOrientation:t?.deviceOrientation??Rr.portrait,hotsyncName:t?.hotsyncName??"",dontManageHotsyncName:t?.dontManageHotsyncName??!1,speed:t?.speed??1};case"uarm":return{engine:e,name:t?.name??"",deviceOrientation:t?.deviceOrientation??Rr.portrait,disableAudio:t?.disableAudio??!1,maxHostLoad:t?.maxHostLoad??1,targetMips:t?.targetMips??100,warnSlowdownThreshold:t?.warnSlowdownThreshold??.5};default:throw new Error("unreachable")}}function Ff(e,t){let n=e,r=1;for(;t(n);)n=`${e} (${r++})`;return n}function Lf(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function gL(e){return`${Lf(e.name)}.img`}function mL(e,t){return`backup_${Lf(e.name)}${t?"_with_rom":""}.zip`}function Zw(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}function vL(e){switch(e.engine){case"cloudpilot":{const{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}case"uarm":{const{name:t,osVersion:n,deviceOrientation:r,disableAudio:o,targetMips:i,warnSlowdownThreshold:s,maxHostLoad:a}=e;return{name:t,osVersion:n,deviceOrientation:r,disableAudio:o,targetMips:i,warnSlowdownThreshold:s,maxHostLoad:a}}default:throw new Error("unreachable")}}const rg=new tt("emulator lock"),$y=new tt("cloudpilot instance"),yL=new tt("uarm module");let og=(()=>{var e;class t{constructor(r){this.cloudpilot=r}ramSizeForDevice(r,o){var i=this;return(0,M.A)(function*(){switch(r){case q.te2:case q.frankene2:{const s=(yield i.cloudpilot).getRomInfo(o);if("uarm"!==s?.engine)throw new Error(`${r} is OS5, but ROM is invalid`);return s.recommendedRamSize}default:return(yield i.cloudpilot).minRamForDevice(r)}})()}serializeSessionImage(r){return this.cloudpilot.then(o=>o.serializeSessionImage(r))}deserializeSessionImage(r){return this.cloudpilot.then(o=>o.deserializeSessionImage(r))}deviceSupportsCard(r,o){var i=this;return(0,M.A)(function*(){const s=kw(r);if(s===ru.none)return!1;switch((yield i.cloudpilot).getCardSupportLevel(o)){case 2:return!0;case 1:return s===ru.sdcard;default:return!1}})()}getRomInfo(r){return this.cloudpilot.then(o=>o.getRomInfo(r))}getCardSupportLevel(r){return this.cloudpilot.then(o=>o.getCardSupportLevel(r))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se($y))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var ore=_(6778),$f=_.n(ore);const Kw=524288;class Yw{constructor(t,n){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(n))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const r=new t.FSTools;this.chunkBufferPtr=r.Malloc(Kw),t.destroy(r)}static create(t,n){return(0,M.A)(function*(){return new Yw(yield $f()({print:r=>console.log(r),printErr:r=>console.warn(r),instantiateWasm:n}),t)})()}addEntry(t,n){var r=this;return(0,M.A)(function*(){if(!r.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${r.nativeContext.GetLastError()}`);const o=r.module.getPointer(r.chunkBufferPtr);for(let i=0;i<n.length;i+=Kw){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(n.length-i,Kw);if(r.module.HEAPU8.subarray(o,o+s).set(n.subarray(i,i+s)),!r.nativeContext.WriteData(r.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${r.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class Xw{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,M.A)(function*(){return new Xw(yield $f()({print:n=>console.log(n),printErr:n=>console.warn(n),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==n)return this.module.HEAPU32.subarray(n>>>2,n+t>>>2)}}class Qw{constructor(t,n){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(n>>>9)}static create(t,n){return(0,M.A)(function*(){const r=yield $f()({print:o=>console.log(o),printErr:o=>console.warn(o),instantiateWasm:n});return new Qw(r,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(n>>>2,n+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),n=E0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+n)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class By{constructor(t,n){this.module=t,n&&this.initialize(n)}static create(t,n){return(0,M.A)(function*(){const r=yield $f()({print:o=>console.log(o),printErr:o=>console.warn(o),instantiateWasm:t});return new By(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t.length);const r=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(r,r+t.length).set(t),this.module.destroy(n),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,M.A)(function*(){const n=t.getNativeContext();for(;0===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gunzip failed: ${n.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),n=t.GetUncompressedSize(),r=t.GetUncompressedData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class Jw{constructor(t,n){this.module=t,void 0!==n&&this.initialize(n)}static create(t,n){return(0,M.A)(function*(){const r=yield $f()({print:o=>console.log(o),printErr:o=>console.warn(o),instantiateWasm:t});return new Jw(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(n),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,M.A)(function*(){const n=t.getNativeContext();for(n.Continue();1===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gzip failed: ${n.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),n=t.GetGzipSize(),r=t.GetGzipData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const _L=new Map;class are{constructor(t){let n=_L.get(t);n||(n=function cY(e){const t=PP(e);return(n,r)=>{t.then(o=>WebAssembly.instantiate(o,n)).then(o=>r(o))}}(t),_L.set(t,n)),this.instantiante=n}mkfs(t){var n=this;return(0,M.A)(function*(){const r=yield Xw.create(n.instantiante);if(r.mkfs(t))return r.getImage()})()}gunzip(t){var n=this;return(0,M.A)(function*(){const r=yield By.create(n.instantiante,t);if(yield r.gunzip())return r.getDecompressedData()})()}createGunzipContext(t){return By.create(this.instantiante,t)}createGzipContext(t){return Jw.create(this.instantiante,t)}createFsckContext(t){return Qw.create(t,this.instantiante)}createZipContext(t){return Yw.create(t,this.instantiante)}createZipfileWalker(t){var n=this;return(0,M.A)(function*(){const r=yield $f()({print:a=>console.log(a),printErr:a=>console.warn(a),instantiateWasm:n.instantiante}),o=new r.FSTools,i=o.Malloc(t.length),s=r.getPointer(i);return r.HEAPU8.subarray(s,s+t.length).set(t),r.destroy(o),RP(new r.ZipfileWalker(t.length,i),r)})()}}const lre=_.p+"wasm/fstools_web-0a9aa5c041d6d048.wasm";let jy=(()=>{var e;class t extends are{constructor(){super(lre)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function cre(e,t){1&e&&(V(0,"p",9),xe(1,"ERROR: URL must be served via HTTPS."),W())}function ure(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(hf())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let dre=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.continue()}continue(){this.onContinue(new(hf())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const r=this.formGroup.get("url")?.value;if(!r)return!1;try{const o=new(hf())(r);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new ly({url:new $r("",ure)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},standalone:!1,decls:19,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","URL","labelPlacement","stacked","placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Enter download URL"),W(),V(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.continue()}),xe(6,"OK"),W()(),V(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),W()()()(),V(10,"ion-content",4)(11,"form",5),$e("keydown",function(a){return i.formKeyDown(a)}),V(12,"p"),xe(13,"Please enter the URL from which to download:"),W(),V(14,"ion-item",6),nt(15,"ion-input",7),W(),nn(16,cre,2,0,"p",8),V(17,"p"),xe(18,"Note that the remote server needs to support the CORS protocol."),W()()()),2&o&&(ue(5),fe("disabled",i.formGroup.invalid),ue(6),fe("formGroup",i.formGroup),ue(5),fe("ngIf",i.isMixedContent))},dependencies:[xo,cs,us,ds,fs,pc,ko,ps,hs,fc,dc,cc,uc,La,Il],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}))}return e(),t})(),fre=(()=>{var e;class t{constructor(r){this.kvs=r,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const r=this.kvs.kvs.credentials[this.origin];this.formGroup=new ly({username:new $r(r?.username??""),password:new $r(r?.password??"")})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(qi))},this.\u0275cmp=Xe({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},standalone:!1,decls:18,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","Username","labelPlacement","stacked","placeholder","Enter username","formControlName","username"],["label","Password","labelPlacement","stacked","placeholder","Enter password","formControlName","password","type","password"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Authenticate"),W(),V(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.saveAndContinue()}),xe(6,"OK"),W()(),V(7,"ion-buttons",2)(8,"ion-button",1),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),W()()()(),V(10,"ion-content",3)(11,"form",4),$e("keydown",function(a){return i.formKeyDown(a)}),V(12,"p"),xe(13,"The server requires authentication."),W(),V(14,"ion-item",5),nt(15,"ion-input",6),W(),V(16,"ion-item",5),nt(17,"ion-input",7),W()()()),2&o&&(ue(11),fe("formGroup",i.formGroup))},dependencies:[cs,us,ds,fs,pc,ko,ps,hs,fc,dc,cc,uc,La,Il],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}))}return e(),t})(),bL=(()=>{var e;class t{constructor(r,o,i){this.loadingController=r,this.kvsService=o,this.modalController=i}fetch(r,o){var i=this;return(0,M.A)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(hf())("string"==typeof r?r:r.url);let c,d,p=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===d?d=window.setTimeout(()=>c?.present(),s):c.present();const m=i.kvsService.kvs.credentials[l.origin],C=new AbortController,x=window.setTimeout(()=>C.abort(),a),j=yield fetch(r,{...i.requestInit(o),signal:C.signal,headers:{...o?.headers||{},...p&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(x),401===j.status){if(!p&&m){p=!0;continue}if(c?.dismiss(),clearTimeout(d),s=0,c=void 0,s=void 0,p=!0,yield i.authenticate(l.origin))continue}return j}finally{c&&(yield c.dismiss()),clearTimeout(d)}})()}requestInit(r){if(!r)return;const{timeout:o,loaderDelay:i,...s}=r;return s}authenticate(r){var o=this;return(0,M.A)(function*(){const i=yield new Promise(s=>o.modalController.create({component:fre,backdropDismiss:!1,componentProps:{origin:r,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Us),se(qi),se(Hs))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),bc=(()=>{var e;class t{constructor(r,o,i,s,a){this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a}openFile(r){this.openFilesImpl(!1,o=>{o.length>0&&r(o[0])})}openFiles(r){this.openFilesImpl(!0,r)}openFromDrop(r,o){"drop"!==r.type||!r.dataTransfer?.files||o(Array.from(r.dataTransfer.files).map(this.readFile.bind(this)))}saveFile(r,o,i="application/octet-stream"){const s=new Blob([o],{type:i}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=r,l.click()}openUrl(r,o){var i=this;return(0,M.A)(function*(){let s,a;try{s=new(hf())(r)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${r}`))}try{if(a=yield i.fetchService.fetch(r,{loaderDelay:-1}),!a.ok)throw new Error("request failed")}catch(c){return console.log(c),void(yield i.alertService.errorMessage(`Download from ${r} failed.`))}const l=a.arrayBuffer().then(c=>new Uint8Array(c));o({name:s.pathname.replace(/.*\//,""),getContent:()=>l})})()}openFilesImpl(r,o){var i=this;return(0,M.A)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(r,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(r,o)})()}queryAndOpenFileRemote(r){var o=this;return(0,M.A)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:dre,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>r([s]))})()}openFilesLocal(r,o){var i=this;const s=ff||ON;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=r,this.input.type="file",So&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,M.A)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(r){let o;const i=function(){var s=(0,M.A)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(r)}),o)});return function(){return s.apply(this,arguments)}}();return{name:r.name,getContent:i}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(zh),se(qi),se(Hs),se(wr),se(bL))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class CL extends Error{constructor(t){super(t)}}let lu=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.nativeSupportService=r,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this._sessions=Ai([]),this._loading=Ai(!0),this.updateMutex=new $a,this.updateSessionsFromStorage().then(()=>this._loading.set(!1)),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}get loading(){return this._loading}addSessionFromImage(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.loadingController.create({message:"Importing..."});yield s.present();try{return yield i.doAddSessionFromImage(r,o)}finally{yield s.dismiss()}})()}addSessionsFromArchive(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.fsTools.createZipfileWalker(r);if(-1===s.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const a=s.GetTotalEntries(),l=new Set(o._sessions().map(m=>m.name));let c=1,d=!1;const p=[];for(;0===s.GetState();)try{i.message=`Importing ${c++}/${a}...`;const m=/\.(bin|img)$/i.test(s.GetCurrentEntryName())?yield o.nativeSupportService.deserializeSessionImage(s.GetCurrentEntryContent()):void 0;if(!m)throw new CL(`${s.GetCurrentEntryName()} is not a valid session.`);const C=Ff(m.metadata?.name??s.GetCurrentEntryName(),x=>l.has(x));yield o.doAddSessionFromImage(m,{...hL(m.engine,m.metadata),name:C})}catch(m){if(!(m instanceof CL))throw m;p.push(s.GetCurrentEntryName()),d||(d=yield o.alertService.messageWithChoice("Error",m.message,"Skip further errors",d,{},"Continue"))}finally{s.Next()}p.length<=3&&p.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${p.join("<br>")}`):p.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${p.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${p.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(r,o,i,s){var a=this;return(0,M.A)(function*(){if(Rw(o)!==i.engine)throw new Error("settings do not match engine");if(s&&s?.length!==Ny(o))throw new Error("NAND size mismatch");const c={...i,id:-1,device:o,ram:(yield a.nativeSupportService.ramSizeForDevice(o,r))>>>20,rom:"",wasResetForcefully:!1,nand:Ny(o)},d=yield a.loadingController.create({message:"Importing..."});yield d.present();try{const p=yield a.storageService.addSession(c,{rom:r,nand:s});return yield a.updateSessionsFromStorage(),p}finally{d.dismiss()}})()}get sessions(){return this._sessions}deleteSession(r){var o=this;return(0,M.A)(function*(){yield o.storageService.deleteSession(r)})()}updateSession(r){var o=this;return(0,M.A)(function*(){yield o.storageService.updateSession(r)})()}saveSession(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(r);s?o.fileService.saveFile(gL(r),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of r){i.message=`Exporting ${l++}/${r.length}...`;const d=yield o.serializeSession(c);if(d){const p=Ff(c.name.replace(/[/\\]/,"_").substring(0,200),m=>a.has(m));a.add(p),yield s.addEntry(p+".img",d)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function tre(){return`${Lf("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(r,o,i,s,a){var l=this;return(0,M.A)(function*(){const c=yield l.loadingController.create({message:"Exporting..."});c.style.zIndex="10000000",yield c.present();try{const d={engine:r.engine,deviceId:r.device,metadata:vL(r),rom:o,memory:i,nand:s,savestate:a},p=yield l.nativeSupportService.serializeSessionImage(d);p&&l.fileService.saveFile(gL(r),p)}finally{c.dismiss()}})()}serializeSession(r){var o=this;return(0,M.A)(function*(){const{rom:i,memory:s,savestate:a,nand:l}=yield o.storageService.loadSession(r,!1);if(!i)throw new Error(`invalid ROM ${r.rom}`);const c={engine:r.engine,deviceId:r.device,metadata:vL(r),rom:i,memory:s,savestate:a,nand:l};return o.nativeSupportService.serializeSessionImage(c)})()}updateSessionsFromStorage(){var r=this;return(0,M.A)(function*(){r._sessions.set(yield r.updateMutex.runExclusive((0,M.A)(function*(){return(yield r.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}doAddSessionFromImage(r,o){var i=this;return(0,M.A)(function*(){if(o.engine!==r.engine)throw new Error("settings do not match session type");const s={...o,id:-1,device:r.deviceId,ram:yield i.getRamSizeForSession(r),rom:"",osVersion:r?.metadata?.osVersion,wasResetForcefully:!1},a=yield i.storageService.addSession(s,{rom:r.rom,memory:r.memory,state:r.savestate,nand:r.nand});return yield i.updateSessionsFromStorage(),a})()}getRamSizeForSession(r){var o=this;return(0,M.A)(function*(){return"uarm"===r.engine&&r.memory?r.memory?.length>=32<<20?32:16:(yield o.nativeSupportService.ramSizeForDevice(r.deviceId,r.rom))>>>20})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(og),se(tr),se(Us),se(jy),se(wr),se(bc))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function hre(e,t){if(1&e&&(V(0,"ion-select-option",11),xe(1),W()),2&e){const n=t.$implicit;fe("value",n[0]),ue(),vi("",n[1]," ")}}function gre(e,t){if(1&e&&(V(0,"ion-select-option",11),xe(1),W()),2&e){const n=t.$implicit;fe("value",n[0]),ue(),vi("",n[1]," ")}}function mre(e,t){if(1&e){const n=Mn();V(0,"ion-item",6)(1,"div",12)(2,"ion-input",13),$e("click",function(){return pt(n),ht(st().onNandClick())}),W(),V(3,"ion-button",1),$e("click",function(){return pt(n),ht(st().onNandClearClick())}),xe(4," Clear "),W()()()}if(2&e){const n=st();ue(2),fe("readonly",!0),ue(),fe("disabled",!n.formControlNand.value)}}function vre(e,t){if(1&e){const n=Mn();V(0,"h1"),xe(1,"Performance"),W(),V(2,"ion-item",6)(3,"ion-toggle",14),xe(4,"Disable audio emulation"),W()(),V(5,"ion-item",6)(6,"ion-range",15),$e("ionInput",function(o){return pt(n),ht(st().onTargetMipsDrag(o))})("ionKnobMoveEnd",function(){return pt(n),ht(st().targetMipsTransient=void 0)}),W()(),V(7,"ion-item",6)(8,"ion-range",16),$e("ionInput",function(o){return pt(n),ht(st().onWarnSlowdownThresholdDrag(o))})("ionKnobMoveEnd",function(){return pt(n),ht(st().warnSlowdownThresholdTransient=void 0)}),W()(),V(9,"ion-item",6)(10,"ion-range",17),$e("ionInput",function(o){return pt(n),ht(st().onMaxHostLoadDrag(o))})("ionKnobMoveEnd",function(){return pt(n),ht(st().maxHostLoadTransient=void 0)}),W()()}if(2&e){const n=st();ue(6),fe("label",Xp(n.targetMipsLabel)),ue(2),fe("label",Xp(n.warnSlowdownThresholdLabel)),ue(2),fe("label",Xp(n.maxHostLoadLabel))}}function yre(e,t){if(1&e){const n=Mn();V(0,"ion-item",6)(1,"ion-range",18),$e("ionInput",function(o){return pt(n),ht(st().onSpeedDrag(o))})("ionKnobMoveEnd",function(){return pt(n),ht(st().speedTransient=void 0)}),W()()}if(2&e){const n=st();ue(),fe("label",Xp(n.speedLabel))}}function _re(e,t){1&e&&(V(0,"ion-item",6),nt(1,"ion-input",21),W())}function bre(e,t){if(1&e&&(V(0,"h1"),xe(1,"Hotsync"),W(),V(2,"ion-item",6)(3,"ion-toggle",19),xe(4,"Manage hotsync name"),W()(),nn(5,_re,2,0,"ion-item",20)),2&e){const n=st();ue(5),fe("ngIf",n.showHotsyncNameInput)}}let SL=(()=>{var e;class t{constructor(r,o,i,s){this.sessionService=r,this.alertService=o,this.fileService=i,this.loadingController=s,this.memoizedDevicelist=ng(a=>a.map(l=>[l,K2(l)])),this.validateNameUnique=a=>a.value!==this.settings.name&&this.sessionService.sessions().some(l=>l.name===a.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Rr.portrait,"Portrait"],[Rr.landscape90,"Landscape 90\xb0"],[Rr.landscape270,"Landscape 270\xb0"],[Rr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get formControlTargetMips(){return this.formGroup.get("targetMips")}get formControlWarnSlowdownThreshold(){return this.formGroup.get("warnSlowdownThreshold")}get formControlMaxHostLoad(){return this.formGroup.get("maxHostLoad")}get formControlDisableAudioEmulation(){return this.formGroup.get("disableAudioEmulation")}get formControlNand(){return this.formGroup.get("nand")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get isCloudpilot(){return"cloudpilot"===this.settings.engine}get isUarm(){return"uarm"===this.settings.engine}get deviceList(){return this.memoizedDevicelist(this.availableDevices)}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.settings.name=this.formControlName.value,this.settings.deviceOrientation=this.formControlOrientation.value,this.saveCloudpilot(),this.saveUarm(),this.onSave(this.formControlDevice.value,this.nand))}onEnter(){this.save()}get speedValue(){const r=this.speedTransient??this.formControlSpeed.value??0;return r>=0?1+r:1/(1-r)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function mne(e){switch(e){case q.palmPilot:case q.pilot:case q.iii:case q.palmVII:case q.palmVx:case q.palmV:case q.palmVIIEZ:case q.palmVIIx:case q.iiic:case q.iiix:case q.iiixe:case q.iiie:case q.m100:case q.m105:case q.pegS300:case q.pegS500c:return 16;case q.m500:case q.m505:case q.m515:case q.m520:case q.m125:case q.m130:case q.i705:case q.i710:case q.handera330:case q.handera330c:case q.pegS320:case q.pegT400:case q.pegN600c:case q.pegT600c:case q.pegN700c:case q.acerS11:return 33;case q.pegT650c:case q.pegNR70:case q.lp168:return 66;case q.te2:case q.frankene2:return 100}}(this.formControlDevice.value))}MHz`)}get targetMipsValue(){return this.targetMipsTransient??this.formControlTargetMips.value??100}get targetMipsLabel(){return`Target speed: ${this.targetMipsValue} MIPS`}get warnSlowdownThresholdValue(){return this.warnSlowdownThresholdTransient??this.formControlWarnSlowdownThreshold.value??50}get warnSlowdownThresholdLabel(){return`Minimum speed: ${this.warnSlowdownThresholdValue}%`}get maxHostLoadValue(){return this.maxHostLoadTransient??this.formControlMaxHostLoad.value??100}get maxHostLoadLabel(){return`Load limit: ${this.maxHostLoadValue}%`}onSpeedDrag(r){this.speedTransient=r.detail?.value}onTargetMipsDrag(r){this.targetMipsTransient=r.detail?.value}onWarnSlowdownThresholdDrag(r){this.warnSlowdownThresholdTransient=r.detail?.value}onMaxHostLoadDrag(r){this.maxHostLoadTransient=r.detail?.value}onNandClick(){var r=this;this.fileService.openFile(function(){var o=(0,M.A)(function*(i){const s=yield r.loadingController.create();let a;yield s.present();try{a=yield i.getContent()}catch(l){return console.warn(l),void(yield r.alertService.errorMessage(`Unable to open ${i.name}.`))}finally{s.dismiss()}a.length===r.selectNandSize?(r.nand=a,r.formControlNand.setValue(i.name)):r.alertService.errorMessage(`${i.name} is not a valid NAND image.`)});return function(i){return o.apply(this,arguments)}}())}onNandClearClick(){this.nand=void 0,this.formControlNand.setValue(void 0)}createFormGroup(){this.formGroup=new ly({name:new $r(this.settings.name,{validators:[Ah.required,this.validateNameUnique]}),device:new $r({value:this.device,disabled:1===this.availableDevices.length}),orientation:new $r(this.settings.deviceOrientation),manageHotsyncName:new $r("cloudpilot"===this.settings.engine&&!this.settings.dontManageHotsyncName),hotsyncName:new $r("cloudpilot"===this.settings.engine?this.settings.hotsyncName:""),speed:new $r("cloudpilot"===this.settings.engine?this.settings.speed>=1?this.settings.speed-1:1-1/this.settings.speed:0),targetMips:new $r("uarm"===this.settings.engine?this.settings.targetMips:0),warnSlowdownThreshold:new $r("uarm"===this.settings.engine?Math.round(100*this.settings.warnSlowdownThreshold):0),maxHostLoad:new $r("uarm"===this.settings.engine?Math.round(100*this.settings.maxHostLoad):0),disableAudioEmulation:new $r("uarm"===this.settings.engine&&this.settings.disableAudio),nand:new $r})}saveCloudpilot(){"cloudpilot"===this.settings.engine&&(this.formControlManageHotsyncName.value?this.settings.dontManageHotsyncName?(this.settings.dontManageHotsyncName=!1,this.settings.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.settings.hotsyncName=this.formControlHotsyncName.value||this.settings.hotsyncName:this.settings.dontManageHotsyncName=!0,this.settings.speed=this.speedValue)}saveUarm(){"uarm"===this.settings.engine&&(this.settings.targetMips=this.targetMipsValue,this.settings.warnSlowdownThreshold=this.warnSlowdownThresholdValue/100,this.settings.maxHostLoad=this.maxHostLoadValue/100,this.settings.disableAudio=this.formControlDisableAudioEmulation.value)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(lu),y(wr),y(bc),y(Us))},this.\u0275cmp=Xe({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",settings:"settings",availableDevices:"availableDevices",device:"device",selectNandSize:"selectNandSize"},standalone:!1,decls:28,vars:12,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Session name","labelPlacement","stacked","placeholder","Enter session name","formControlName","name"],["label","Device type","labelPlacement","stacked","formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["label","Orientation","labelPlacement","stacked","formControlName","orientation"],[3,"value"],[1,"nand-container"],["label","NAND flash contents","labelPlacement","stacked","placeholder","blank","formControlName","nand","tabindex","-1",1,"input-nand",3,"click","readonly"],["labelPlacement","fixed","formControlName","disableAudioEmulation"],["labelPlacement","fixed","min","20","max","300","step","1","snaps","true","ticks","false","formControlName","targetMips",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","0","max","100","step","1","snaps","true","ticks","false","formControlName","warnSlowdownThreshold",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","10","max","100","step","1","snaps","true","ticks","false","formControlName","maxHostLoad",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],["label","Hotsync name","labelPlacement","stacked","placeholder","Enter hotsync name","formControlName","hotsyncName","maxlength","40"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Session settings"),W(),V(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.save()}),xe(6,"Save"),W()(),V(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),W()()()(),V(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),V(12,"h1"),xe(13,"Session"),W(),V(14,"ion-item",6),nt(15,"ion-input",7),W(),V(16,"h1"),xe(17,"Device"),W(),V(18,"ion-item",6)(19,"ion-select",8),nn(20,hre,2,2,"ion-select-option",9),W()(),V(21,"ion-item",6)(22,"ion-select",10),nn(23,gre,2,2,"ion-select-option",9),W()(),Jd(24,mre,5,2,"ion-item",6),Jd(25,vre,11,6),Jd(26,yre,2,2,"ion-item",6),Jd(27,bre,6,1),W()()),2&o&&(ue(5),fe("disabled",i.formGroup.invalid),ue(5),aa("engine-uarm",i.isUarm)("engine-cloudpilot",i.isCloudpilot),ue(),fe("formGroup",i.formGroup),ue(9),fe("ngForOf",i.deviceList),ue(3),fe("ngForOf",i.orientations),ue(),ef(i.isUarm&&void 0!==i.selectNandSize?24:-1),ue(),ef(i.isUarm?25:-1),ue(),ef(i.isCloudpilot?26:-1),ue(),ef(i.isCloudpilot?27:-1))},dependencies:[nc,xo,cs,us,ds,fs,pc,ko,aw,jh,Vh,ps,Hh,hs,Nf,sw,Bh,fc,dc,cc,uc,J0,La,Il],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.engine-cloudpilot[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(label){min-width:7.5rem}.engine-uarm[_ngcontent-%COMP%]   ion-range[_ngcontent-%COMP%]::part(label){min-width:11rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.nand-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.nand-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}.nand-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end}ion-toggle[_ngcontent-%COMP%]{padding-right:0}.input-nand[_ngcontent-%COMP%]     *{cursor:pointer!important}"]}))}return e(),t})();var eE=_(8081);const wL=new WeakMap,Sre=e=>({...e,connect:({call:t})=>(0,M.A)(function*(){const{port1:n,port2:r}=new MessageChannel,o=yield t("connect",{port:n},[n]);return wL.set(r,o),r}),disconnect:({call:t})=>function(){var n=(0,M.A)(function*(r){const o=wL.get(r);if(void 0===o)throw new Error("The given port is not connected.");yield t("disconnect",{portId:o})});return function(r){return n.apply(this,arguments)}}(),isSupported:({call:t})=>()=>t("isSupported")}),tE=new WeakMap,id=new Map([[0,null]]),sd=new Map([[0,null]]),Dre=(e=>{const t=Sre(e);return n=>{const r=(e=>{if(tE.has(e))return tE.get(e);const t=new Map;return tE.set(e,t),t})(n);n.addEventListener("message",({data:a})=>{const{id:l}=a;if(null!==l&&r.has(l)){const{reject:c,resolve:d}=r.get(l);r.delete(l),void 0===a.error?d(a.result):c(new Error(a.error.message))}}),(e=>"function"==typeof e.start)(n)&&n.start();const o=(a,l=null,c=[])=>new Promise((d,p)=>{const m=(0,eE.generateUniqueNumber)(r);r.set(m,{reject:p,resolve:d}),n.postMessage(null===l?{id:m,method:a}:{id:m,method:a,params:l},c)}),i=(a,l,c=[])=>{n.postMessage({id:null,method:a,params:l},c)};let s={};for(const[a,l]of Object.entries(t))s={...s,[a]:l({call:o,notify:i})};return{...s}}})({clearInterval:({call:e})=>t=>{"symbol"==typeof id.get(t)&&(id.set(t,null),e("clear",{timerId:t,timerType:"interval"}).then(()=>{id.delete(t)}))},clearTimeout:({call:e})=>t=>{"symbol"==typeof sd.get(t)&&(sd.set(t,null),e("clear",{timerId:t,timerType:"timeout"}).then(()=>{sd.delete(t)}))},setInterval:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,eE.generateUniqueNumber)(id);id.set(i,o);const s=()=>e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"interval"}).then(()=>{const a=id.get(i);if(void 0===a)throw new Error("The timer is in an undefined state.");a===o&&(t(...r),id.get(i)===o&&s())});return s(),i},setTimeout:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,eE.generateUniqueNumber)(sd);return sd.set(i,o),e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"timeout"}).then(()=>{const s=sd.get(i);if(void 0===s)throw new Error("The timer is in an undefined state.");s===o&&(sd.delete(i),t(...r))}),i}}),Vy=(()=>{let n=null;return()=>{if(null!==n)return n;const r=new Blob(['(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,u=r(i),c=a(u,i),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o(\'The handler of the method called "\'.concat(t,\'" returned an unexpected result.\'),e),a=(t,r)=>async({data:{id:a,method:i,params:u}})=>{const c=r[i];try{if(void 0===c)throw(e=>o(\'The requested method called "\'.concat(e,\'" is not supported.\'),n))(i);const r=void 0===u?c():c(u);if(void 0===r)throw(t=>o(\'The handler of the method called "\'.concat(t,\'" returned no required result.\'),e))(i);const l=r instanceof Promise?await r:r;if(null===a){if(void 0!==l.result)throw s(i)}else{if(void 0===l.result)throw s(i);const{result:e,transferables:r=[]}=l;t.postMessage({id:a,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:a})}};var i=r(455);const u=new Map,c=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),o=(0,i.generateUniqueNumber)(u);return u.set(o,()=>{n(),t.close(),u.delete(o)}),{result:o}},disconnect:({portId:e})=>{const r=u.get(e);if(void 0===r)throw(e=>o(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise(e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])})){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),l=(e,t,r=()=>!0)=>{const n=c(l,t,r),o=a(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},d=(e,t)=>r=>{const n=t.get(r);if(void 0===n)return Promise.resolve(!1);const[o,s]=n;return e(o),t.delete(r),s(!1),Promise.resolve(!0)},f=(e,t,r,n)=>(o,s,a)=>{const i=o+s-t.timeOrigin,u=i-t.now();return new Promise(t=>{e.set(a,[r(n,u,i,e,t,a),t])})},m=new Map,h=d(globalThis.clearTimeout,m),p=new Map,v=d(globalThis.clearTimeout,p),w=((e,t)=>{const r=(n,o,s,a)=>{const i=n-e.now();i>0?o.set(a,[t(r,i,n,o,s,a),s]):(o.delete(a),s(!0))};return r})(performance,globalThis.setTimeout),g=f(m,performance,globalThis.setTimeout,w),T=f(p,performance,globalThis.setTimeout,w);l(self,{clear:async({timerId:e,timerType:t})=>({result:await("interval"===t?h(e):v(e))}),set:async({delay:e,now:t,timerId:r,timerType:n})=>({result:await("interval"===n?g:T)(e,t,r)})})})()})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return n=(e=>{const t=new Worker(e);return Dre(t)})(o),setTimeout(()=>URL.revokeObjectURL(o)),n}})();var ad=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(ad||{});class EL{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return ad.animationFrame}}class Are{constructor(t,n=60){this.callback=t,this.fps=n}schedule(){if(void 0!==this.handle)return;const t=performance.now(),n=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((...e)=>Vy().setTimeout(...e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(n-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,Vy().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return ad.timeout}}class DL{constructor(t,n){this.queue=new Array(t).fill(0),this.reset(n)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let n=0;n<this.size;n++)t+=this.queue[n];return t/this.size}}class Mre{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const xre=[135,135,105],kre=[0,0,0],cu=new Array(16).fill(0).map((e,t)=>kre.map((n,r)=>Math.floor((t*n+(15-t)*xre[r])/15))).map(([e,t,n])=>4278190080|n<<16|t<<8|e),nE=cu.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));class IL{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new fn.J,this.dispatchEvent=new fn.J,this.isSync=!1}bind(t){this.transport!==t&&(this.unbind(),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}unbind(){this.transport&&(this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),this.transport=void 0)}send(t,n){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,n),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class Nre{constructor(){this.timer=0}reset(){this.timer=0}exec(t){const n=performance.now();try{return t()}finally{this.timer+=performance.now()-n}}get(){return this.timer}}class Ore{constructor(t){this.cloudpilotInstance=t,this.materialize=()=>this.timed.exec(()=>{if(this.cloudpilotInstance.isSuspended())return this.state="idle",!1;switch(this.state){case"scheduled":break;case"materialized":this.mergeBack();break;default:throw new Error(`bad snapshot state in materialize: ${this.state}`)}if(!this.snapshotMemory)throw new Error("snapshot not initialized");this.materializeSnapshot(this.snapshotMemory,this.cloudpilotInstance.getDirtyPages(),this.cloudpilotInstance.getMemory32()),this.updateMemoryCrc(),this.size=this.snapshotMemory.pageCount*this.snapshotMemory.pageSize*4;const n=this.cloudpilotInstance.getMountedKey()||void 0;if(this.updateSnapshotStorage(n),this.snapshotStorage){if(void 0===this.storageKey)throw new Error("unreachable");const r=this.cloudpilotInstance.getCardDirtyPages(this.storageKey),o=this.cloudpilotInstance.getCardData(this.storageKey);if(void 0===r||void 0===o)throw new Error(`storage key ${this.storageKey} not registered`);this.materializeSnapshot(this.snapshotStorage,r,o),this.size+=this.snapshotStorage.pageCount*this.snapshotStorage.pageSize*4}return this.savestate=this.cloudpilotInstance.saveState()?this.cloudpilotInstance.getSavestate():void 0,this.size+=this.savestate?.length??0,this.state="materialized",!0}),this.snapshotSuccessEvent=new fn.J,this.snapshotReleaseEvent=new fn.J,this.state="idle",this.memoryCrcCheck=!1,this.timed=new Nre,this.timestampStart=0,this.size=0}initializeMemory(){const t=this.cloudpilotInstance.getMemory32(),n=t.length>>>8;this.snapshotMemory={pageSize:256,pageCount:0,pageCountTotal:n,pages:new Uint32Array(n),offsets:new Uint32Array(n),pageData:t}}schedule(t){if("idle"!==this.state)throw new Error("snapshot already in progress");return this.state="scheduled",this.memoryCrcCheck=t,this.timed.reset(),this.timestampStart=Date.now(),this}isIdle(){return"idle"===this.state}getStorageKey(){return this.storageKey}refresh(){return(0,M.A)(function*(){})()}release(t,n,r){try{this.timed.exec(()=>{const o=this.state;this.state="idle","materialized"===o&&(t||this.mergeBack())}),this.snapshotSuccessEvent.dispatch({size:this.size,timeBlocking:n+this.timed.get(),timeTotal:n+r+this.timed.get(),timestamp:this.timestampStart})}finally{this.snapshotReleaseEvent.dispatch()}}getSnapshotMemory(){if(!this.snapshotMemory)throw new Error("snapshot not initialized");if("materialized"!==this.state)throw new Error("snapshot not materialized");return this.snapshotMemory}getSnapshotNand(){}getSnapshotStorage(){if("materialized"!==this.state)throw new Error("snapshot not materialized");return this.snapshotStorage}getSavestate(){if("materialized"!==this.state||!this.savestate)throw new Error("snapshot not materialized");return this.savestate}getMemoryCrc(){return this.memoryCrc}mergeBackSnapshot(t,n){for(let r=0;r<t.pageCount;r++){const o=t.pages[r];n[o>>>3]|=1<<(7&o)}}mergeBack(){if(!this.snapshotMemory)throw new Error("snapshot not materialized");if(this.mergeBackSnapshot(this.snapshotMemory,this.cloudpilotInstance.getDirtyPages()),this.snapshotStorage){if(void 0===this.storageKey)throw new Error("unreachable");const t=this.cloudpilotInstance.getCardDirtyPages(this.storageKey);void 0===t?console.warn(`seems like storage ${this.storageKey} was ejected; nothing to merge back, changes are lost`):this.mergeBackSnapshot(this.snapshotStorage,t)}}materializeSnapshot(t,n,r){const{pageCountTotal:o,pageSize:i,pages:s,offsets:a}=t;let l=0,c=0;for(let d=0;d<n.length;d++){const p=n[d];if(n[d]=0,0!==p)for(let m=1;m<256&&!(c>=o);m<<=1)p&m&&(s[l]=c,a[l]=c*i,l++),c++;else c+=8}t.pageCount=l,t.pageData=r}updateMemoryCrc(){if(this.memoryCrcCheck){const t=this.cloudpilotInstance.getMemory32();this.memoryCrc=Z2(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}else this.memoryCrc=void 0}updateSnapshotStorage(t){if(this.storageKey===t||(this.storageKey=t,this.snapshotStorage=void 0,void 0===t))return;const n=this.cloudpilotInstance.getCardData(t);if(!n)throw new Error(`storage key ${t} not registered`);const r=n.length>>>11;this.snapshotStorage={pageSize:2048,pageCount:0,pageCountTotal:r,pages:new Uint32Array(r),offsets:new Uint32Array(r),pageData:n}}}class Vre{constructor(t,n,r){this.cloudpilotInstance=t,this.clandestineExecute=n,this.settings=r,this.type="cloudpilot",this.onPwmUpdate=o=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(o):this.pendingPwmUpdates.push(o)},this.onSerialPortDispatch=()=>{this.processTimesliceNow()},this.onSchedule=o=>{this.cloudpilotInstance.isScreenDirty()&&this.newFrameEvent.dispatch(),this.pendingPwmUpdates.count()>0&&o-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=o),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(o)},0)),this.timePerFrameAverage.push(Math.max(0,o-this.timestampLastFrame)),this.timestampLastFrame=o,this.schedule()},this.onSnapshotRelease=()=>{0!==this.snapshotReleaseCallbacks.length&&(this.snapshotReleaseCallbacks.forEach(o=>o()),this.snapshotReleaseCallbacks=[])},this.pwmUpdateEvent=new fn.J,this.configuredHotsyncNameUpdateEvent=new fn.J,this.newFrameEvent=new fn.J,this.timesliceEvent=new fn.J,this.suspendEvent=new fn.J,this.snapshotEvent=new fn.J,this.palmosStateChangeEvent=new fn.J,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.suspended=!1,this.emulationSpeed=1,this.speedAverage=new DL(20),this.timePerFrameAverage=new DL(60),this.timestampLastFrame=0,this.frameCounter=0,this.clockEmulator=0,this.scheduler=new EL(o=>this.onSchedule(o)),this.serialPortIR=new IL,this.serialPortSerial=new IL,this.pendingPwmUpdates=new Mre(10),this.lastPwmUpdateEvent=0,this.canvasTmp=document.createElement("canvas"),this.serialSyncStartedAt=0,this.lastSnapshotAt=0,this.snapshotReleaseCallbacks=[],this.snapshotContainer=new Ore(t),this.snapshotContainer.snapshotReleaseEvent.addHandler(this.onSnapshotRelease),t.clearExternalStorage(),this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial()),this.serialPortIR.dispatchEvent.addHandler(this.onSerialPortDispatch),this.serialPortSerial.dispatchEvent.addHandler(this.onSerialPortDispatch),t.pwmUpdateEvent.addHandler(this.onPwmUpdate)}supportsKeyboardIO(){return!0}shutdown(){this.serialPortIR.unbind(),this.serialPortSerial.unbind(),this.serialPortIR.dispatchEvent.removeHandler(this.onSerialPortDispatch),this.serialPortSerial.dispatchEvent.removeHandler(this.onSerialPortDispatch),this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate)}get fatalError(){return this.cloudpilotInstance.fatalErrorEvent}get snapshotSuccessEvent(){return this.snapshotContainer.snapshotSuccessEvent}penDown(t,n){this.cloudpilotInstance.queuePenMove(t,n)}penUp(){this.cloudpilotInstance.queuePenUp()}buttonDown(t){this.cloudpilotInstance.queueButtonDown(t)}buttonUp(t){this.cloudpilotInstance.queueButtonUp(t)}keyStroke(t){this.cloudpilotInstance.queueKeyboardEvent(t)}reset(){this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUIInitialized(){return this.uiInitialized}isSuspended(){return this.suspended}isSlowdown(){return this.emulationSpeed<1}getDeviceId(){return this.deviceId??q.m515}openSession(t,n,r,o,i,s){var a=this;return(0,M.A)(function*(){if(r)throw new Error("Cloudpilot devices do not support NAND");let l=!1;if(a.cloudpilotInstance.clearExternalStorage(),s&&(yield s.load(a)),!a.cloudpilotInstance.initializeSession(t,n))return!1;o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(l=a.cloudpilotInstance.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),l||console.warn("failed to load memory"))),l&&i&&a.cloudpilotInstance.loadState(i),a.cloudpilotInstance.remountCards(),void 0===a.cloudpilotInstance.getMountedKey()&&s&&!a.cloudpilotInstance.remountFailed()&&a.cloudpilotInstance.mountCard(s.storageKey),a.deviceId=n,a.speedAverage.reset(1),a.powerOff=a.cloudpilotInstance.isPowerOff(),a.uiInitialized=a.cloudpilotInstance.isUiInitialized();const c=Qh(n);return a.canvasTmp.width=c.width,a.canvasTmp.height=c.height,a.snapshotContainer.initializeMemory(),!0})()}resume(){var t=this;return(0,M.A)(function*(){t.running||(t.clockEmulator=performance.now(),t.schedule(),t.running=!0,t.resetFPS())})()}stop(){var t=this;return(0,M.A)(function*(){t.running&&(t.scheduler.cancel(),void 0!==t.advanceEmulationHandle&&(window.clearTimeout(t.advanceEmulationHandle),t.advanceEmulationHandle=void 0),t.running=!1)})()}processTimesliceNow(){this.advanceEmulation(performance.now())}requestSnapshot(){var t=this;return(0,M.A)(function*(){return t.snapshotContainer.schedule(t.settings.memoryCrc)})()}waitForPendingSnapshot(){var t=this;return(0,M.A)(function*(){if(!t.snapshotContainer.isIdle())return new Promise(n=>t.snapshotReleaseCallbacks.push(n))})()}blitFrame(t){if(!this.cloudpilotInstance.isScreenDirty()||this.cloudpilotInstance.isPowerOff())return;const n=this.cloudpilotInstance.getFrame();if(!n.hasChanges)return;if(n.lines*n.scaleY===t.height&&n.lineWidth*n.scaleX===t.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const s=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const a=cu[15],l=cu[0];let c=0;for(let d=n.firstDirtyLine;d<=n.lastDirtyLine;d++){const p=d*n.bytesPerLine;for(let m=n.margin;m<n.lineWidth+n.margin;m++)s[c++]=n.buffer[p+(m>>>3)]&128>>>(7&m)?a:l}break}case 2:{const a=this.cloudpilotInstance.getPalette2bitMapping(),l=[cu[15&a],cu[a>>>4&15],cu[a>>>8&15],cu[a>>>12&15]];let c=0;for(let d=n.firstDirtyLine;d<=n.lastDirtyLine;d++){const p=d*n.bytesPerLine;for(let m=n.margin;m<n.lineWidth+n.margin;m++)s[c++]=l[n.buffer[p+(m>>>2)]>>6-2*(3&m)&3]}break}case 4:{let a=0;for(let l=n.firstDirtyLine;l<=n.lastDirtyLine;l++){const c=l*n.bytesPerLine;for(let d=n.margin;d<n.lineWidth+n.margin;d++)s[a++]=cu[n.buffer[c+(d>>>1)]>>>4-4*(1&d)&15]}break}case 24:{const a=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)s.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(a.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let l=0;for(let c=n.firstDirtyLine;c<=n.lastDirtyLine;c++){let d=c*(n.bytesPerLine>>>2)+n.margin;for(let p=0;p<n.lineWidth;p++)s[l++]=a[d++]}}}}}if(!this.imageData)return;const r=1!==n.scaleX||1!==n.scaleY,o=t.getContext("2d"),i=r?this.canvasTmp.getContext("2d"):void 0;if(!o||r&&!i)throw new Error("unable to retrieve rendering context");(r?i:o).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),r&&(o.imageSmoothingEnabled=!1,o.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.cloudpilotInstance.markScreenClean(),this.frameCounter++}updateSettings(t){this.settings=t}allocateCard(t,n){if(!this.cloudpilotInstance.allocateCard(t,n))throw new Error(`failed to allocate card "${t}" @ ${n} bytes`);const r=this.cloudpilotInstance.getCardData(t);if(!r)throw new Error(`failed to get card data for key ${t}`);return r}releaseCard(t){var n=this;return(0,M.A)(function*(){n.cloudpilotInstance.removeCard(t)||console.warn(`failed to release card for key ${t}`)})()}getMountedKey(){var t=this;return(0,M.A)(function*(){return t.cloudpilotInstance.getMountedKey()})()}getCardData(t){var n=this;return(0,M.A)(function*(){return n.cloudpilotInstance.getCardData(t)})()}mountCard(t){var n=this;return(0,M.A)(function*(){return n.cloudpilotInstance.mountCard(t)})()}getFullState(){var t=this;return(0,M.A)(function*(){if(void 0!==t.deviceId)return t.cloudpilotInstance.saveState(),{rom:t.cloudpilotInstance.getRomImage().slice(),memory:t.cloudpilotInstance.getMemory().slice(),savestate:t.cloudpilotInstance.getSavestate().slice()}})()}getSerialPortSerial(){return this.serialPortSerial}getSerialPortIR(){return this.serialPortIR}getStatistics(){return{type:"cloudpilot",hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getOSVersion(){return this.cloudpilotInstance.getOSVersion()}installDb(t){var n=this;return(0,M.A)(function*(){return n.cloudpilotInstance.installDb(t)})()}backup(t){var n=this;return(0,M.A)(function*(){return n.cloudpilotInstance.backup(function(){var r=(0,M.A)(function*(o){const i=[];for(o.Init(t);o.IsInProgress();){const a=o.GetCurrentDatabase();o.Save()||i.push(a),yield new Promise(l=>setTimeout(l,0))}const s=n.cloudpilotInstance.getArchive(o);return s?{archive:s,failedDatabases:i}:void 0});return function(o){return r.apply(this,arguments)}}())})()}schedule(){this.scheduler.cancel(),this.settings.schedulerKind!==this.scheduler.getKind()&&(this.scheduler=this.settings.schedulerKind===ad.animationFrame?new EL(t=>this.onSchedule(t)):new Are(t=>this.onSchedule(t))),this.clandestineExecute(()=>this.scheduler.schedule())}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const n=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=n<=this.emulationSpeed||t-n>=.05?n:this.emulationSpeed}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.settings.hotsyncName;void 0===t?this.configuredHotsyncNameUpdateEvent.dispatch(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}advanceEmulation(t){if(!this.isRunning||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const n=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.settings.speed),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i,c=Math.max(a,l);this.clockEmulator+=c,this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!n&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.suspendEvent.dispatch());const d=this.cloudpilotInstance.isPowerOff(),p=this.cloudpilotInstance.isUiInitialized();(d!==this.powerOff||p!==this.uiInitialized)&&(this.powerOff=d,this.uiInitialized=p,this.palmosStateChangeEvent.dispatch()),p&&!d&&this.settings.manageHotsyncName&&!r&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.settings.automaticSnapshotInterval>0&&t-this.lastSnapshotAt>this.settings.automaticSnapshotInterval&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotContainer.isIdle()&&this.snapshotEvent.dispatch(this.snapshotContainer.schedule(this.settings.memoryCrc)),this.lastSnapshotAt=t),this.timesliceEvent.dispatch(c)}}class Ure{constructor(t){this.dispatchMessage=t,this.nextRpcId=0,this.pendingCalls=new Map}call(t,n,r){return new Promise((o,i)=>{const s=this.nextRpcId++;this.pendingCalls.set(s,{resolve:o,reject:i}),this.dispatchMessage({type:"rpcCall",id:s,method:t,args:n},r)})}dispatchRpcMessage(t){switch(t.type){case"rpcSuccess":this.getContext(t.id).resolve(t.result);break;case"rpcError":this.getContext(t.id).reject(t.error)}}getContext(t){const n=this.pendingCalls.get(t);if(!n)throw new Error(`RPC failed: no context with ID ${t}`);return this.pendingCalls.delete(t),n}}function rE(e){return e?[e.pagePool,e.scheduledPages]:[]}class Hre{constructor(t,n,r,o){if(this.rpcHost=r,this.dispatch=o,this.snapshotSuccessEvent=new fn.J,this.savestate=new Uint8Array,this.sdSize=0,t%1024!=0)throw new Error("invalid memory size");if(n%4224!=0)throw new Error("invalid NAND size");const i=t>>>10,s=new Uint32Array(i);for(let c=0;c<i;c++)s[c]=256*c;this.snapshotMemory={pageCount:0,pageCountTotal:i,offsets:s,pages:new Uint32Array,pageData:new Uint32Array,pageSize:256};const a=n/4224|0,l=new Uint32Array(a);for(let c=0;c<a;c++)l[c]=1056*c;this.snapshotNand={pageCount:0,pageCountTotal:a,offsets:l,pages:new Uint32Array,pageData:new Uint32Array,pageSize:1056}}schedule(t){if(this.uarmSnapshot)throw new Error("snapshot already pending");return t.memory&&this.updateSnapshot(this.snapshotMemory,t.memory),t.nand&&this.updateSnapshot(this.snapshotNand,t.nand),this.updateSnapshotSd(t),this.savestate=new Uint8Array(t.savestate),this.uarmSnapshot=t,this}materialize(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return!0}refresh(){var t=this;return(0,M.A)(function*(){if(!t.uarmSnapshot)throw new Error("no pending snapshot");const n=t.uarmSnapshot;t.uarmSnapshot=void 0,t.schedule(yield t.rpcHost.call("refreshSnapshot",n))})()}release(t,n,r){if(!this.uarmSnapshot)throw new Error("no pending snapshot");let o=1024*(this.uarmSnapshot.memory?.scheduledPageCount??0)+4224*(this.uarmSnapshot.nand?.scheduledPageCount??0)+this.uarmSnapshot.savestate.byteLength;this.uarmSnapshot.sd&&(o+=8192*this.uarmSnapshot.sd.snapshot.scheduledPageCount),this.dispatch({type:"returnSnapshot",snapshot:this.uarmSnapshot,success:t},[...rE(this.uarmSnapshot.memory),...rE(this.uarmSnapshot.nand),...rE(this.uarmSnapshot.sd?.snapshot),this.uarmSnapshot.savestate]);const i=this.uarmSnapshot.time,s=i+r+n,a=this.uarmSnapshot.timestamp;this.uarmSnapshot=void 0,this.snapshotSuccessEvent.dispatch({size:o,timeBlocking:i,timeTotal:s,timestamp:a})}getStorageKey(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.sd?.key}getSnapshotMemory(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.memory?this.snapshotMemory:void 0}getSnapshotNand(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.nand?this.snapshotNand:void 0}getSnapshotStorage(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.sd?this.snapshotSd:void 0}getMemoryCrc(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.uarmSnapshot.memory?.crc}getSavestate(){if(!this.uarmSnapshot)throw new Error("no pending snapshot");return this.savestate}updateSnapshot(t,n){t.pageCount=n.scheduledPageCount,t.pages=new Uint32Array(n.scheduledPages),t.pageData=new Uint32Array(n.pagePool)}updateSnapshotSd(t){if(t.sd){if(this.snapshotSd||(this.snapshotSd={pageCount:0,pageCountTotal:0,offsets:new Uint32Array,pages:new Uint32Array,pageData:new Uint32Array,pageSize:2048}),this.sdSize!==t.sd.size){this.snapshotSd.pageCountTotal=t.sd.size>>>13,t.sd.size>this.snapshotSd.pageCountTotal<<13&&this.snapshotSd.pageCountTotal++,this.snapshotSd.offsets=new Uint32Array(this.snapshotSd.pageCountTotal);for(let n=0;n<this.snapshotSd.pageCountTotal;n++)this.snapshotSd.offsets[n]=2048*n;this.sdSize=t.sd.size}this.updateSnapshot(this.snapshotSd,t.sd.snapshot)}}}class oE{constructor(t,n,r){this.worker=t,this.settings=n,this.type="uarm",this.dispatchMessage=(o,i)=>{this.worker.postMessage(o,i)},this.onVisibilityChange=()=>{"hidden"===document.visibilityState?this.dispatchMessage({type:"setBackgrounded",backgrounded:!0}):this.dispatchMessage({type:"setBackgrounded",backgrounded:!1})},this.onMessage=o=>{const i=o.data;switch(i.type){case"ready":return this.fatal("duplicate ready event");case"rpcError":case"rpcSuccess":return this.rpcHost.dispatchRpcMessage(i);case"fatalError":return this.fatal(i.error);case"timeslice":this.timesliceEvent.dispatch(i.sizeSeconds),this.currentIps=i.currentIps,this.currentIpsMax=i.currentIpsMax,i.frame&&(this.returnPendingFrame(),this.pendingFrame=i.frame,this.newFrameEvent.dispatch());break;case"snapshot":try{if(!this.snapshotContainer)throw new Error("Unreachable: emulator runs, but snapshots are not initialized");this.snapshotEvent.dispatch(this.snapshotContainer.schedule(i.snapshot))}catch(s){throw this.fatal(`${s}`),s}break;case"systemStateChanged":this.uiInitialized=i.uiInitialized,this.osVersion=i.osVersion,this.palmosStateChangeEvent.dispatch()}},this.newFrameEvent=new fn.J,this.timesliceEvent=new fn.J,this.suspendEvent=new fn.J,this.snapshotEvent=new fn.J,this.palmosStateChangeEvent=new fn.J,this.fatalError=new fn.J,this.snapshotSuccessEvent=new fn.J,this.running=!1,this.currentIps=0,this.currentIpsMax=0,this.card={state:0},this.pcmChannel=new MessageChannel,this.uiInitialized=!1,this.rpcHost=new Ure(this.dispatchMessage),r(()=>t.addEventListener("message",this.onMessage))}static create(t,n,r){return(0,M.A)(function*(){const o=new Worker(_.tu(new URL(_.p+_.u(9689),_.b)));return(yield new Promise((s,a)=>{const l=[],c=()=>l.forEach(([m,C])=>o.removeEventListener(m,C)),d=m=>{c(),a(m.error)},p=m=>{c(),"ready"===m.data.type?s(new oE(o,n,r)):a(new Error("invalid message from worker"))};o.addEventListener("error",d),o.addEventListener("message",p,{once:!0}),l.push(["error",d],["message",p])})).initialize(t)})()}supportsKeyboardIO(){return!1}shutdown(){this.worker.removeEventListener("message",this.onMessage),this.worker.terminate(),document.removeEventListener("visibilitychange",this.onVisibilityChange)}getStatistics(){return{type:"uarm",currentSpeedMips:this.currentIps/1e6|0,currentMaxSpeedMips:this.currentIpsMax/1e6|0}}getPcmPort(){return this.pcmChannel.port1}enablePcmStreaming(){console.log("streaming enabled"),this.dispatchMessage({type:"setPcmStreaming",pcmStreaming:!0})}disablePcmStreaming(){console.log("streaming disabled"),this.dispatchMessage({type:"setPcmStreaming",pcmStreaming:!1})}penDown(t,n){this.dispatchMessage({type:"penDown",x:t,y:n})}penUp(){this.dispatchMessage({type:"penUp"})}buttonDown(t){this.dispatchMessage({type:"buttonDown",button:t})}buttonUp(t){this.dispatchMessage({type:"buttonUp",button:t})}keyStroke(t,n){}reset(){this.dispatchMessage({type:"reset",resetType:0})}resetNoExtensions(){this.dispatchMessage({type:"reset",resetType:1})}resetHard(){this.dispatchMessage({type:"reset",resetType:2})}isRunning(){return this.running}isPowerOff(){return!1}isUIInitialized(){return this.uiInitialized}isSlowdown(){return this.currentIps/1e6<this.settings.targetMips*this.settings.warnSlowdownThreshold}getOSVersion(){return this.osVersion??0}getDeviceId(){if(void 0===this.deviceId)throw new Error("not initialized");return this.deviceId}openSession(t,n,r,o,i,s){var a=this;return(0,M.A)(function*(){if(void 0!==a.deviceId)throw new Error("already initialized");a.deviceId=n,s&&(yield s.load(a));const l=1===a.card.state?[new Uint8Array(a.card.data.buffer),a.card.key]:void 0;if(!(yield a.rpcHost.call("openSession",{rom:t,nand:r,memory:o,state:i,card:l},[t.buffer,r?.buffer,o?.buffer,i?.buffer,1===a.card.state?a.card.data.buffer:void 0].filter(p=>void 0!==p))))return!1;const c=yield a.rpcHost.call("getMemorySize",void 0);a.snapshotContainer=new Hre(c.memory,c.nand,a.rpcHost,a.dispatchMessage),a.snapshotContainer.snapshotSuccessEvent.addHandler(p=>a.snapshotSuccessEvent.dispatch(p));const d=yield a.rpcHost.call("getSdCardState",void 0);return a.card=d.inserted?{state:2,key:d.key}:{state:0},!0})()}resume(){var t=this;return(0,M.A)(function*(){yield t.rpcHost.call("start",void 0),t.running=!0})()}stop(){var t=this;return(0,M.A)(function*(){yield t.rpcHost.call("stop",void 0),t.running=!1,t.returnPendingFrame()})()}processTimesliceNow(){console.log("processTimesliceNow not implemented for uARM")}requestSnapshot(){var t=this;return(0,M.A)(function*(){if(!t.snapshotContainer)throw new Error("emulator not initialized");return t.snapshotContainer.schedule(yield t.rpcHost.call("takeSnapshot",void 0))})()}waitForPendingSnapshot(){return this.rpcHost.call("waitForPendingSnapshot",void 0)}blitFrame(t){if(!this.pendingFrame)return;const n=new ImageData(new Uint8ClampedArray(this.pendingFrame),320);t.getContext("2d")?.putImageData(n,0,0),this.returnPendingFrame()}updateSettings(t){this.settings=t,this.dispatchMessage({type:"updateSettings",settings:t})}allocateCard(t,n){if(0!==this.card.state)throw new Error(`bad card state ${this.card.state}`);if(3&n)throw new Error(`invalid card size ${n}`);return this.card={state:1,key:t,data:new Uint32Array(n>>>2)},this.card.data}releaseCard(t){var n=this;return(0,M.A)(function*(){0!==n.card.state&&(yield n.rpcHost.call("sdCardEject",void 0),n.card={state:0})})()}mountCard(t){var n=this;return(0,M.A)(function*(){if(1!==n.card.state)throw new Error("no card allocated");if(n.card.key!==t)throw new Error(`wrong key: got ${t}, expected ${n.card.key}`);return(yield n.rpcHost.call("sdCardInsert",{data:n.card.data,key:n.card.key},[n.card.data.buffer]))?(n.card={state:2,key:t},!0):(n.card={state:0},!1)})()}getMountedKey(){var t=this;return(0,M.A)(function*(){return 2===t.card.state?t.card.key:void 0})()}getCardData(t){if(2!==this.card.state)throw new Error("no card mounted");if(this.card.key!==t)throw new Error(`invalid key: expected ${this.card.key}, got ${t}`);return this.rpcHost.call("getSdCardData",void 0)}getFullState(){var t=this;return(0,M.A)(function*(){return void 0===t.deviceId?void 0:t.rpcHost.call("getFullState",void 0)})()}installDb(t){return this.rpcHost.call("installDb",t)}backup(t){return this.rpcHost.call("backup",{includeRom:t})}initialize(t){var n=this;return(0,M.A)(function*(){return yield n.rpcHost.call("initialize",{module:t,settings:n.settings,pcmPort:n.pcmChannel.port2},[n.pcmChannel.port2]),document.addEventListener("visibilitychange",n.onVisibilityChange),n})()}fatal(t){this.fatalError.dispatch(t instanceof Error?t:new Error(t))}returnPendingFrame(){this.pendingFrame&&this.dispatchMessage({type:"returnFrame",frame:this.pendingFrame},[this.pendingFrame]),this.pendingFrame=void 0}}const zre={automaticSnapshotInterval:0,memoryCrc:!1,speed:1,hotsyncName:"",manageHotsyncName:!1,schedulerKind:ad.animationFrame,networkIntegration:!1,clipboardIntegration:!1,disableAudio:!1,maxHostLoad:1,targetMips:100,warnSlowdownThreshold:.5,runInBackground:!1};class Wre{constructor(){this.onEngineNewFrameEvent=()=>{if(!this.engine)throw new Error("invalid state");this.engine.isPowerOff()?this.clearCanvas():this.engine.blitFrame(this.canvas),this.newFrameEvent.dispatch(this.canvas)},this.onEngineTimesliceEvent=t=>this.onAfterAdvanceEmulation(t),this.onEngineSuspendEvent=()=>this.handleSuspend(),this.onEngineConfigureHotsyncNameEvent=t=>this.updateConfiguredHotsyncName(t),this.onSnapshotEvent=t=>this.handleSnapshot(t),this.onSnapshotSuccessEvent=t=>this.snapshotSuccessEvent.dispatch(t),this.onPalmosStateChangeEvent=()=>{this.handlePalmosStateChange(),this.palmosStateChangeEvent.dispatch()},this.onFatalError=t=>this.handleFatalInNativeCode(t),this.newFrameEvent=new fn.J,this.newSessionEvent=new fn.J,this.emulationStateChangeEvent=new fn.J,this.palmosStateChangeEvent=new fn.J,this.openSessionEvent=new fn.J,this.snapshotSuccessEvent=new fn.J,this.canvas=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.engineSettings={...zre},this.shouldRun=!1,this.blocked=!1}handlePointerMove(t,n,r){if(!this.engine?.isRunning())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)){if(r){const i=Qh(this.deviceId());t=this.transformSilkscreenX(t,i),n=this.transformSilkscreenY(n,i)}this.engine.penDown(Math.floor(t),Math.floor(n)),this.lastPenUpdate=o}}handlePointerUp(){this.engine?.isRunning()&&(this.engine&&this.penDown&&this.engine.penUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.engine?.isRunning()&&this.engine?.buttonDown(t)}handleButtonUp(t){this.engine?.isRunning()&&this.engine?.buttonUp(t)}handleKeyDown(t){this.engine?.isRunning()&&this.engine?.keyStroke(t)}reset(){this.engine?.reset()}resetNoExtensions(){this.engine?.resetNoExtensions()}resetHard(){this.engine?.resetHard()}isRunning(){return this.engine?.isRunning()??!1}isPowerOff(){return this.engine?.isPowerOff()??!1}isUiInitialized(){return this.engine?.isUIInitialized()??!1}getCanvas(){return this.canvas}getStatistics(){return this.engine?.getStatistics()}isSlowdown(){return this.engine?.isSlowdown()??!1}isSuspended(){return"cloudpilot"===this.engine?.type&&this.engine.isSuspended()}isBlocked(){return this.blocked}getSerialPortSerial(){return"cloudpilot"===this.engine?.type?this.engine.getSerialPortSerial():void 0}getSerialPortIR(){return"cloudpilot"===this.engine?.type?this.engine.getSerialPortIR():void 0}updateEngineSettings(t){this.engineSettings={...this.engineSettings,...t},this.engine?.updateSettings(this.engineSettings)}deviceId(){return this.engine?.getDeviceId()??q.m515}pwmUpdateEvent(){return"cloudpilot"===this.engine?.type?this.engine.pwmUpdateEvent:void 0}pcmPort(){return"uarm"===this.engine?.type?this.engine.getPcmPort():void 0}enablePcmStreaming(){"uarm"===this.engine?.type&&this.engine.enablePcmStreaming()}disablePcmStreaming(){"uarm"===this.engine?.type&&this.engine.disablePcmStreaming()}supportsKeyboardIO(){return this.engine?.supportsKeyboardIO()??!1}processTimesliceNow(){this.engine?.processTimesliceNow()}openSession(t,n,r,o,i,s){var a=this;return(0,M.A)(function*(){a.unbindEngineHandlers(a.engine),a.engine?.shutdown(),a.engine=void 0,a.shouldRun=!1;const l=yield a.createEngine(Rw(n));return l.updateSettings(a.engineSettings),!!(yield l.openSession(t,n,r,o,i,s))&&(a.bindEngineHandlers(l),a.engine=l,a.resetCanvas(),a.openSessionEvent.dispatch(),!0)})()}resetCanvas(){const t=Qh(this.deviceId());this.canvas.width=t.width,this.canvas.height=t.height,this.clearCanvas()}doResume(){var t=this;return(0,M.A)(function*(){t.shouldRun=!0,yield t.enforceRunState()})()}doStop(){var t=this;return(0,M.A)(function*(){t.shouldRun=!1,yield t.enforceRunState()})()}doBlock(){var t=this;return(0,M.A)(function*(){t.blocked=!0,yield t.enforceRunState()})()}doUnblock(){var t=this;return(0,M.A)(function*(){t.blocked=!1,yield t.enforceRunState()})()}clearCanvas(){const t=this.deviceId(),n=this.canvas.getContext("2d");if(!n)throw new Error("Unable to get rendering context. Get a new browser.");n.beginPath(),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=xw(t)?"white":nE[0],n.fill()}transformSilkscreenX(t,n){return void 0===n.silkscreenOvershoot?t:(t-n.width/2)/(n.width/(n.width+2*n.silkscreenOvershoot))+n.width/2}transformSilkscreenY(t,n){return void 0===n.siklscreenShift?t:t+n.siklscreenShift}requestSnapshot(){var t=this;return(0,M.A)(function*(){return yield t.engine?.requestSnapshot()})()}getOSVersion(){return this.engine?.getOSVersion()??0}enforceRunState(){var t=this;return(0,M.A)(function*(){t.engine&&(t.shouldRun&&!t.blocked?yield t.engine.resume():yield t.engine.stop(),t.emulationStateChangeEvent.dispatch(t.engine.isRunning()))})()}createEngine(t){var n=this;return(0,M.A)(function*(){switch(t){case"cloudpilot":return new Vre(yield n.getCloudpilotInstance(),n.clandestineExecute,n.engineSettings);case"uarm":return oE.create(yield n.getUarmModule(),n.engineSettings,n.clandestineExecute);default:throw new Error("unreachable")}})()}bindEngineHandlers(t){t&&(t.newFrameEvent.addHandler(this.onEngineNewFrameEvent),t.suspendEvent.addHandler(this.onEngineSuspendEvent),t.timesliceEvent.addHandler(this.onEngineTimesliceEvent),t.snapshotEvent.addHandler(this.onSnapshotEvent),t.palmosStateChangeEvent.addHandler(this.onPalmosStateChangeEvent),t.fatalError.addHandler(this.onFatalError),t.snapshotSuccessEvent.addHandler(this.onSnapshotSuccessEvent),"cloudpilot"===t.type&&t.configuredHotsyncNameUpdateEvent.addHandler(this.onEngineConfigureHotsyncNameEvent))}unbindEngineHandlers(t){t&&(t.newFrameEvent.removeHandler(this.onEngineNewFrameEvent),t.suspendEvent.removeHandler(this.onEngineSuspendEvent),t.timesliceEvent.removeHandler(this.onEngineTimesliceEvent),t.snapshotEvent.removeHandler(this.onSnapshotEvent),t.palmosStateChangeEvent.removeHandler(this.onPalmosStateChangeEvent),t.fatalError.removeHandler(this.onFatalError),t.snapshotSuccessEvent.removeHandler(this.onSnapshotSuccessEvent),"cloudpilot"===t.type&&t.configuredHotsyncNameUpdateEvent.removeHandler(this.onEngineConfigureHotsyncNameEvent))}}class AL{constructor(t,n,r=window.document){this.timeoutRemaining=t,this.cb=n,this.document=r,this.onVisibilityChange=()=>{switch(this.tainted=!0,this.document.visibilityState){case"hidden":if("running"!==this.state)return;this.cancelTimeout(),this.update(),"finished"!==this.state&&(this.state="paused");break;case"visible":if("paused"!==this.state||this.timeoutRemaining<0)return;this.schedule(),this.state="running"}},this.onTimeout=()=>{this.handle=void 0,this.update(),this.timeoutRemaining>0&&"running"===this.state&&this.schedule()},this.state="created",this.timoutStartedAt=performance.now(),this.tainted=!1,this.accumulatedTimeout=0}start(){return this.setState("running"),this.schedule(),this.document.addEventListener("visibilitychange",this.onVisibilityChange),this}increase(t){return this.timeoutRemaining+=t,this}cancel(){return this.setState("finished"),this}isTainted(){return this.tainted}getAccumulatedTimeout(){return this.accumulatedTimeout}schedule(){void 0===this.handle&&(this.timoutStartedAt=performance.now(),this.handle=setTimeout(()=>this.onTimeout(),this.timeoutRemaining))}update(){if("running"!==this.state)return;const t=performance.now()-this.timoutStartedAt;this.timeoutRemaining-=t,this.accumulatedTimeout+=t,this.timeoutRemaining<=0&&(this.setState("finished"),this.cb())}cancelTimeout(){void 0!==this.handle&&(clearTimeout(this.handle),this.handle=void 0)}setState(t){if(t!==this.state){if("finished"===this.state||"created"===t)throw new Error(`invalid state transition: ${this.state} -> ${t}`);"finished"===t&&(this.cancelTimeout(),this.document.removeEventListener("visibilitychange",this.onVisibilityChange)),this.state=t}}}class iE{constructor(){this.pages=[],this.nextPage=-1}clear(){this.pages=[],this.nextPage=-1}reset(){this.nextPage=this.pages.length-1}duplicate(t){if("number"==typeof t)return t;if(this.nextPage>=0){const r=this.pages[this.nextPage--];return r.set(t),r}const n=t.slice();return this.pages.push(n),n}}function sE(e){return e?e.pageSize*e.pageCount*4:0}let aE=(()=>{var e;class t{constructor(r,o,i,s,a){var l=this;this.storageService=r,this.errorService=o,this.alertService=i,this.loadingController=s,this.ngZone=a,this.storeSnapshot=(c,d)=>this.ngZone.runOutsideAngular((0,M.A)(function*(){if(l.snapshotInProgress)throw new Error("cannot happen: snapshot while snapshot is in progress");if(l.snapshotInProgress=!0,d!==l.sessionId)throw new Error(`bad snapshot: session ID mismatch: ${l.sessionId} vs ${d}`);try{yield l.storeSnapshotUnguarded(c)}finally{l.snapshotInProgress=!1}})),this.snapshotRequestEvent=new fn.J,this.sessionId=-1,this.consecutiveErrorCount=0,this.timeoutDeltaMsecPerKbStart=.5,this.timeoutDeltaMsecPerKb=.5,this.timeBlocking=0,this.timeBackground=0,this.snapshotInProgress=!1,this.clonePoolMemory=new iE,this.clonePoolNand=new iE,this.clonePoolStorage=new iE}initialize(r){var o=this;return(0,M.A)(function*(){if(!o.errorService.hasFatalError()){if(o.snapshotInProgress)return void o.errorService.fatalBug("Attempt to reinitialize snapshots while snapshot is still in progress");o.sessionId=r.id,o.clonePoolMemory.clear(),o.clonePoolNand.clear(),o.clonePoolStorage.clear(),o.savestateClone=void 0,o.db=yield o.storageService.getDb()}})()}triggerSnapshot(){return new Promise((r,o)=>this.snapshotRequestEvent.dispatch(i=>{void 0!==i?o(i):r()}))}storeSnapshotUnguarded(r){var o=this;return(0,M.A)(function*(){for(o.timeBlocking=o.timeBackground=0,o.timeoutDeltaMsecPerKb=o.timeoutDeltaMsecPerKbStart;;)try{return r.release(yield o.attemptToStoreSnapshot(r),o.timeBlocking,o.timeBackground),o.consecutiveErrorCount=0,void o.hideLoader()}catch(i){if(o.hideLoader(),i instanceof AL){if(i.isTainted())continue;console.log(`snapshot timeout expired after ${i.getAccumulatedTimeout()} msec`),o.timeoutDeltaMsecPerKb>.5&&(yield o.alertService.snapshotTimeout(),yield o.showLoader()),o.timeoutDeltaMsecPerKb*=2,o.timeoutDeltaMsecPerKbStart=Math.min(2*o.timeoutDeltaMsecPerKbStart,4);continue}if(console.error("snapshot error",i),i===Gw)throw o.errorService.fatalPageLockLost(),i;if(++o.consecutiveErrorCount>3)throw o.errorService.fatalIDBDead(),i;yield r.refresh()}})()}attemptToStoreSnapshot(r){var o=this;return(0,M.A)(function*(){const i=o.db.transaction([iu,su,_c,Al,Ba,au,Jh],"readwrite",{durability:"relaxed"});yield o.storageService.acquireLock(i);const s=yield lr(i.objectStore(Ba).getAll());return!!r.materialize()&&new Promise((a,l)=>{let c=!1,d=0;o.clonePoolMemory.reset(),o.clonePoolNand.reset(),o.clonePoolStorage.reset();const p=r.getSnapshotMemory(),m=r.getSnapshotNand(),C=r.getSnapshotStorage(),x=r.getSavestate(),j=r.getStorageKey(),he=r.getMemoryCrc(),Ee=sE(p)+sE(m)+sE(C)+(x?.length??0),Tt=new AL(500+(o.timeoutDeltaMsecPerKb*Ee>>>10),()=>{c=!0,l(Tt);try{i.abort()}catch{}});i.oncomplete=()=>{Tt.cancel(),o.timeBackground+=performance.now()-d,a(!0)},i.onerror=()=>{Tt.cancel(),o.timeBackground+=performance.now()-d,l(new Error(i.error?.message))};try{const Lt=performance.now();if(p&&o.saveSnapshotMemory(i,p,he),m&&o.saveSnapshotOther(i,m,o.sessionId,au,o.clonePoolNand),C&&void 0!==j){const kt=s.find(Fn=>Fn.storageId===j);if(!kt)throw new Error(`no storage card with key ${j}`);o.saveSnapshotOther(i,C,kt.id,Al,o.clonePoolStorage)}o.saveSavestate(i,x),Tt.start(),o.timeBlocking+=performance.now()-Lt,d=performance.now()}catch(Lt){throw c||(Tt.cancel(),i.abort()),Lt}})})()}saveSnapshotMemory(r,o,i){const{pageCount:s,pageSize:a,offsets:l,pageData:c,pageCountTotal:d,pages:p}=o,m=r.objectStore(iu);r.objectStore(su).put({sessionId:this.sessionId,totalSize:d*a<<2,crc32:i});for(let j=0;j<s;j++){const he=c.subarray(l[j],l[j]+a),Ee=this.clonePoolMemory.duplicate(oL(he));m.put(Ee,[this.sessionId,p[j]])}}saveSnapshotOther(r,o,i,s,a){const{pageCount:l,pageSize:c,offsets:d,pageData:p,pages:m}=o,C=r.objectStore(s);for(let x=0;x<l;x++){const j=p.subarray(d[x],d[x]+c),he=a.duplicate(Hw(j));C.put(he,[i,m[x]])}}saveSavestate(r,o){const i=r.objectStore(_c);o?(this.savestateClone?this.savestateClone.set(o):this.savestateClone=o.slice(),i.put(this.savestateClone,this.sessionId)):i.delete(this.sessionId)}showLoader(){var r=this;return(0,M.A)(function*(){r.loader||(r.loader=yield r.loadingController.create({message:"Saving..."}),yield r.loader.present())})()}hideLoader(){this.loader&&(this.loader.dismiss(),this.loader=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr),se(rd),se(wr),se(Us),se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Hy=new Error("permission denied");let lE=(()=>{var e;class t{constructor(r,o,i){this.alertController=r,this.alertService=o,this.nativeAppService=i,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText||ua.supportsNativeClipboard()}handleSuspend(r){switch(r.getSuspendKind()){case 1:this.handleCopy(r);break;case 2:this.handlePaste(r)}}handleCopy(r){var o=this;return(0,M.A)(function*(){const i=r.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();if(ua.supportsNativeClipboard())try{yield o.nativeAppService.clipboardWrite(s),i.Resume()}catch(a){console.error(a),i.Cancel()}else{try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===Hy)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}}})()}tryCopyDirect(r){var o=this;return(0,M.A)(function*(){try{yield navigator.clipboard.writeText(r)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?Hy:i}})()}tryCopyWithInteraction(r){var o=this;return new Promise(function(){var i=(0,M.A)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,M.A)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(r),s(!0)}catch(d){a(d)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(r){var o=this;return(0,M.A)(function*(){const i=r.getSuspendContextClipboardPaste();if(ua.supportsNativeClipboard()){try{i.Resume(yield o.nativeAppService.clipboardRead())}catch(a){console.error(a),i.Resume("")}return}const s=yield o.tryPaste();i.Resume(s??""),void 0!==s&&(o.clipboardContent=s,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var r=this;return(0,M.A)(function*(){if(performance.now()-r.lastClipboardReadAt<3e3)return r.clipboardContent;try{return yield r.tryPasteDirect()}catch(o){if(o===Hy)return void(yield r.msgPermissionDenied())}try{return yield r.tryPasteWithInteraction()}catch{return void(yield r.msgPasteFailed())}})()}tryPasteDirect(){var r=this;return(0,M.A)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield r.isPermissionDenied("clipboard-read"))?Hy:o}})()}tryPasteWithInteraction(){var r=this;return new Promise(function(){var o=(0,M.A)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,M.A)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}isPermissionDenied(r){return(0,M.A)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:r}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(cw),se(wr),se(ua))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class Xre{constructor(t){this.nativeAppService=t,this.onNetRpcResult=({sessionId:n,rpcData:r})=>n===this.sessionId&&this.rpcResultEvent.dispatch(r),this.rpcResultEvent=new fn.J,this.unexpectedCloseEvent=new fn.J}connect(){var t=this;return(0,M.A)(function*(){if(void 0!==t.sessionId)throw new Error("session already open");return t.sessionId=yield t.nativeAppService.netOpenSession(),t.nativeAppService.netRpcResult.addHandler(t.onNetRpcResult),!0})()}disconnect(){var t=this;return(0,M.A)(function*(){void 0!==t.sessionId&&(t.nativeAppService.netRpcResult.removeHandler(t.onNetRpcResult),yield t.nativeAppService.netCloseSession(t.sessionId),t.sessionId=void 0)})()}handleRpc(t){var n=this;return(0,M.A)(function*(){if(void 0===n.sessionId)throw new Error("no open session");return n.nativeAppService.netDispatchRpc(n.sessionId,t)})()}}const Qre="https:"===window.location.protocol?8667:8666,Jre=/^[\da-z\-.]+$/i,eoe=/^[\da-z\-.]+:\d+$/i;function cE(e){if(!e)return;const t=window.location.protocol;if(e.match(Jre))return`${t}//${e}:${Qre}`;if(e.match(eoe))return`${t}//${e}`;try{const n=new URL(e);if("https:"===n.protocol||"http:"===n.protocol)return n.toString().replace(/\/+$/,"")}catch{}}function toe(e){return void 0!==cE(e.value)?null:{proxyAddress:"invalid"}}class ooe{constructor(t,n,r){this.proxyServer=t,this.alertService=n,this.fetchService=r,this.onSocketMessage=o=>{if(!(o.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),void this.unexpectedCloseEvent.dispatch(void 0);this.rpcResultEvent.dispatch(new Uint8Array(o.data))},this.onSocketError=o=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),this.unexpectedCloseEvent.dispatch(),console.error("ERROR: socket error",o)},this.onSocketClose=()=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.disconnect(),this.unexpectedCloseEvent.dispatch()},this.rpcResultEvent=new fn.J,this.unexpectedCloseEvent=new fn.J}connect(){var t=this;return(0,M.A)(function*(){const n=cE(t.proxyServer);if(!n)return yield t.alertService.errorMessage(`Invalid proxy address: ${t.proxyServer}`),!1;const r=yield t.handshake(500);switch(r.status){case"failed":return t.alertService.errorMessage("Failed to connect to proxy."),!1;case"version_mismatch":return yield t.alertService.proxyVersionMismatchError(),!1;case"success":break;default:throw new Error("unreachable")}const o=new WebSocket(`${n.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(r.token)}`);o.binaryType="arraybuffer";const i=setTimeout(()=>o.close(),5e3);let s,a,l;try{return yield new Promise((c,d)=>{s=()=>c(),l=p=>d(p),a=()=>d(new Error("connection timeout")),o.addEventListener("open",s),o.addEventListener("error",l),o.addEventListener("close",a)}),clearTimeout(i),o.addEventListener("error",t.onSocketError),o.addEventListener("message",t.onSocketMessage),o.addEventListener("close",t.onSocketClose),t.socket=o,!0}catch(c){return console.error("socket failed to connect",c),!1}finally{o.removeEventListener("open",s),o.removeEventListener("error",l),o.removeEventListener("close",a)}})()}disconnect(){var t=this;return(0,M.A)(function*(){t.socket&&(t.socket.removeEventListener("error",t.onSocketError),t.socket.removeEventListener("message",t.onSocketMessage),t.socket.removeEventListener("close",t.onSocketClose),t.socket.close(),t.socket=void 0)})()}handleRpc(t){var n=this;return(0,M.A)(function*(){return!!n.socket&&(n.socket.send(t),!0)})()}handshake(){var t=this;return(0,M.A)(function*(n=-1){const r=cE(t.proxyServer);if(!r)return{status:"failed"};try{const o=yield t.fetchService.fetch(`${r}/network-proxy/handshake`,{method:"POST",loaderDelay:n});if(!o.ok)return{status:"failed"};const i=yield o.json();return i.version<3||i.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:i.token}}catch{return{status:"failed"}}}).apply(this,arguments)}}let xL=(()=>{var e;class t{constructor(r,o,i,s){this.kvsService=r,this.alertService=o,this.fetchService=i,this.nativeAppService=s}createBackendProxy(r=this.kvsService.kvs.proxyServer){return new ooe(r,this.alertService,this.fetchService)}createBackend(){if(this.kvsService.kvs.networkRedirection)return"native"===this.kvsService.kvs.networkRedirectionMode&&ua.supportsNativeNetworkIntegration()?new Xre(this.nativeAppService):this.createBackendProxy()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(qi),se(wr),se(bL),se(ua))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),kL=(()=>{var e;class t{constructor(r,o){this.ngZone=r,this.backendFactory=o,this.onProxyDisconnect=()=>{this.reset()},this.onUnexpectedBackendClose=()=>this.reset(),this.onSessionResume=()=>this.resumeEvent.dispatch(),this.resumeEvent=new fn.J}initialize(r){this.cloudpilot=r,r.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}isConnected(){return void 0!==this.session}reset(){this.session&&(this.session.backend.unexpectedCloseEvent.removeHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.removeHandler(this.onSessionResume),this.session.terminate(),this.ngZone.run(()=>this.session=void 0))}handleSuspend(){if(this.cloudpilot)switch(this.cloudpilot.getSuspendKind()){case 4:this.createNewSession(),this.session?this.session.handleConnect().then(r=>r||this.reset()):4===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.session?this.session.handleRpc():3===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}createNewSession(){this.reset(),this.ngZone.run(()=>this.session=uE.create(this.backendFactory.createBackend(),this.cloudpilot)),this.session&&(this.session.backend.unexpectedCloseEvent.addHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.addHandler(this.onSessionResume))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(We),se(xL))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class uE{static create(t,n){if(n&&t)return new uE(t,n)}constructor(t,n){var r=this;this.backend=t,this.handleConnect=()=>this.mutex.runExclusive((0,M.A)(function*(){try{const o=yield r.backend.connect();return 4===r.cloudpilot?.getSuspendKind()&&(o?r.cloudpilot.getSuspendContextNetworkConnect().Resume():r.cloudpilot.getSuspendContextNetworkConnect().Cancel()),o}catch(o){return console.error("failed to connect to backend",o),4===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkConnect().Cancel(),!1}})),this.handleRpc=()=>this.mutex.runExclusive((0,M.A)(function*(){if(3!==r.cloudpilot?.getSuspendKind())return;const o=r.cloudpilot.getSuspendContextNetworkRpc(),i=r.cloudpilot.resolveBuffer(o.GetRequestData(),o.GetRequestSize());try{!(yield r.backend.handleRpc(i))&&3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}catch(s){console.error("failed to process rpc request",s),3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}})),this.disconnect=()=>{this.mutex.runExclusive((0,M.A)(function*(){r.backend&&(yield r.backend.disconnect())}))},this.onRpcResult=o=>{if(!this.cloudpilot)return;if(3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");const i=this.cloudpilot.copyBuffer(o);this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(i,o.length),this.cloudpilot.freeBuffer(i),this.resumeEvent.dispatch()},this.resumeEvent=new fn.J,this.mutex=new $a,this.cloudpilot=n,t.rpcResultEvent.addHandler(this.onRpcResult)}terminate(){this.cloudpilot=void 0,this.backend.rpcResultEvent.removeHandler(this.onRpcResult),this.disconnect()}}let RL=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(r){this.engine=r,this.buttons.clear(),[6,7].forEach(o=>r.buttonUp(o))}engage(r){this.buttons.has(r)?this.buttons.get(r).timer=0:(this.buttons.set(r,{button:r,timer:0}),this.engine?.buttonDown(r))}tick(r){for(const[o,i]of this.buttons)i.timer+=1e3*r,i.timer>250&&(this.engine?.buttonUp(o),this.buttons.delete(o))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),NL=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(r=>this.hasRenderedResolve=r)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var Er=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(Er||{}),soe=_(2922),aoe=_.n(soe),Ml=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(Ml||{}),ld=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(ld||{});function loe(e){return{readonly:!!(1&e),hidden:!!(2&e),system:!!(4&e)}}function OL(e,t){const n=e.GetName(),r=e.GetModifiedTS();return{path:t,name:n,size:e.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:loe(e.GetAttributes())}}class dE{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,M.A)(function*(){return new dE(yield aoe()({print:n=>console.log(n),printErr:n=>console.warn(n),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),n=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==n)return this.module.HEAPU32.subarray(t>>>2,t+n>>>2)}getImageInSlot(t){const n=this.module.getPointer(this.vfsNative.GetImage(t)),r=this.vfsNative.GetSize(t);if(0!==n&&0!==r)return this.module.HEAPU32.subarray(n>>>2,n+r>>>2)}getDirtyPagesForSlot(t){const n=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===n)return;const r=E0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(n,n+r)}readdir(t){const n=new this.module.ReaddirContext(t);try{const r=[];for(;0===n.GetStatus();){const o=n.GetEntry();r.push(OL(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),n.Next()}if(2===n.GetStatus()){console.warn(`readdir failed: ${n.GetErrorDescription()}`);const o=n.GetError();return{error:0===o?2:o,reason:n.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(n)}}rename(t,n){return this.vfsNative.RenameFile(t,n)}chmod(t,n){let r=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(n.hidden,2),i(n.readonly,1),i(n.system,4),this.vfsNative.ChmodFile(t,r,o)}stat(t){const n=this.vfsNative.StatFile(t);return 0!==n?{result:n,entry:void 0}:{entry:OL(this.vfsNative.GetEntry(),t),result:n}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const n=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(n,n+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive(t){var n=this;return(0,M.A)(function*({files:r,directories:o,prefix:i}){const s=new n.module.ExportZipContext(i,25),a=[];try{for(r&&r.forEach(p=>s.AddFile(p)),o&&o.forEach(p=>s.AddDirectory(p));2!==s.GetState();){switch(s.Continue()){case-2:case-1:a.push(s.GetErrorItem())}2!==s.GetState()&&(yield new Promise(p=>setTimeout(p,0)))}let l;const c=n.module.getPointer(s.GetZipContent()),d=s.GetZipSize();return 0!==c&&0!==d&&(l=n.module.HEAPU8.subarray(c,c+d).slice()),{archive:l,failedItems:a}}finally{n.module.destroy(s)}}).apply(this,arguments)}deleteRecursive(t){var n=this;return(0,M.A)(function*(){const r=new n.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{n.module.destroy(r)}})()}writeFile(t,n){const r=this.copyIn(n);try{return this.vfsNative.WriteFile(t,n.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(t,n,r){var o=this;return(0,M.A)(function*(){const i=o.copyIn(n),s=new o.module.UnzipContext(25,t,i,n.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(Ml.success);case-3:return a(Ml.cardFull);case-1:return a(Ml.ioError);case-2:return a(Ml.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,n,r,o,i){var s=this;return(0,M.A)(function*(){const a=new s.module.PasteContext(25,t,n);r.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return ld.success;case-2:return ld.cardFull;case-1:return ld.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const n=this.vfsNative.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}}const coe=_.p+"wasm/vfs_web-46a89cac7e59fb52.wasm";var uoe=_(9250),doe=_.n(uoe);function PL(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}let cd=(()=>{var e;class t{constructor(r,o,i,s,a){this.storageService=r,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new fn.J,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=dE.create(coe),this.directoryCache=new Map,this._bytesFree=Ai(0),this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this._change=new yn,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(r){this.storageCardService=r,r.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),r.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(r){return("/"+r).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(r){return this.normalizePath(r).replace(/^\/+/,"").split("/")}dirname(r){return this.normalizePath(r).replace(/\/[^/]*$/,"")}isFilenameValid(r){return void 0===r||!/[/\\]/.test(r)}isEntryInClipboard(r){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(r.path)?this.clipboard.operation:void 0}activateCard(r){var o=this;return(0,M.A)(function*(){if(o.primaryCard?.id!==r){if(o.secondaryCard?.id===r)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${r} not mounted in VFS`)}})()}mountCardUnchecked(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(s.primaryCard?.id===r||s.secondaryCard?.id===r)throw new Error(`card ${r} already mounted in VFS`);s.storageCardContext.claim(r,Br.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(r,c,Br.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(r,Br.vfs),!1)})()}releaseCard(r){var o=this;return(0,M.A)(function*(){let i;if(o.primaryCard?.id===r)i=o.primarySlot;else{if(o.secondaryCard?.id!==r)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(r,Br.vfs),o.onReleaseCard.dispatch(r)})()}readdir(r){if(!this.vfsInstance)return[];const o=this.normalizePath(r);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(r);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.vfs;if(r=i.normalizePath(r),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(r);if(0===a)try{if(void 0!==o.attributes&&!doe()(o.attributes,l.attributes)&&0!==(i.directoryCache.delete(i.dirname(r)),s.chmod(r,o.attributes)))return void(yield i.fatalError("Unable to write the updated file attributes."));if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(r)),s.rename(r,`${i.dirname(r)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to rename file."))}yield i.sync()}finally{i._change.emit()}else yield i.error(`The path ${r} is invalid. This is a bug in CloudpilotEmu.`)})()}saveFile(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(r.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${r.name}'.`));o.fileService.saveFile(r.name,a)}finally{yield i.dismiss(),o._change.emit()}})()}archiveFiles(r,o){var i=this;return(0,M.A)(function*(){if(0===r.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=r.filter(C=>C.isDirectory).map(C=>i.normalizePath(C.path)),c=r.filter(C=>!C.isDirectory).map(C=>i.normalizePath(C.path)),d=1===r.length?`${r[0].name}.zip`:function rre(e){return`files_${Lf(e.name)}.zip`}(i.primaryCard),{archive:p,failedItems:m}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),p&&i.fileService.saveFile(d,p)}finally{yield s.dismiss()}})()}unlinkEntry(r){var o=this;return(0,M.A)(function*(){if(r.isDirectory)return;const s=(yield o.vfs).unlinkFile(r.path);if(0!==s)return console.error(`failed to unlink ${r.path}: ${s}`),void(yield o.error(`Failed to delete: ${r.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r.path)),o._change.emit()})()}deleteRecursive(r){var o=this;return(0,M.A)(function*(){const i=r.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss(),o._change.emit()}})()}mkdir(r){var o=this;return(0,M.A)(function*(){switch((yield o.vfs).mkdir(r)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${r}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r)),o._change.emit()})()}get bytesFree(){return this._bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const r=this.storageCardService.cards().find(o=>o.storageId===this.clipboard?.storageId);return!!r&&(r.status===Er.clean||r.status===Er.dirty&&!!r.dontFsckAutomatically)}invalidateClipboardForCard(r){this.clipboard?.storageId===r.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(r,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(r),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${r}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this._change.emit())}unpackArchive(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(r,o);let d,p;switch(yield s.dismiss(),c){case Ml.success:d="The archive was extracted successfully, but some entries were skipped.",p="Skipped entries";break;case Ml.ioError:return void(yield i.fatalError("There was an error writing to the card."));case Ml.cardFull:d="No space left on card.",p="No space left";break;case Ml.zipfileError:d="There was an error reading from the archive.",p="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,C=x=>x>1?`${x} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(p,`\n                    ${d}\n                    <br><br>\n                    The archive contains ${C(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(p,`\n                    ${d}\n                    <br><br>\n                    ${PL(C(l))} unpacked succesfully, but ${C(m)} could not be unpacked.\n                `))}finally{s.dismiss(),i._change.emit()}})()}paste(r){var o=this;return(0,M.A)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(r);switch(yield i.dismiss(),s){case ld.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case ld.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss(),o._change.emit()}})()}addFiles(r,o){var i=this;return(0,M.A)(function*(){if(0===r.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(r,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===r.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(r.length-a.length)} to card. ${PL(l(a.length))} could not be added.\n                `))}finally{s.dismiss(),i._change.emit()}})()}get change(){return this._change}addFilesUnchecked(r,o){var i=this;return(0,M.A)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,d=!1,p=!1,m=!1;e:for(let C=0;C<r.length;C++){const x=r[C],j=s.find(Ee=>Ee.name===x.name);if(j&&j.isDirectory){if(!p){const{overwrite:ke,rememberChoice:Tt}=yield i.overwriteFileDialog(x.name,"directory");m=ke,p=Tt}let Ee=!0;if(m&&(Ee=!(yield l.deleteRecursive([i.normalizePath(`${o}/${x.name}`)])).success),Ee){a.push(x.name);continue}}if(j&&!j.isDirectory){if(!c){const{overwrite:Ee,rememberChoice:ke}=yield i.overwriteFileDialog(x.name,"file");d=Ee,c=ke}if(!d){a.push(x.name);continue}}let he;try{he=yield x.getContent()}catch(Ee){console.warn(Ee),a.push(x.name),yield i.alertService.errorMessage(`Unable to open ${x.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${x.name}`),he)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...r.slice(C).map(Ee=>Ee.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(x.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var r=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,M.A)(function*(c){if(i)return o;const{overwrite:d,rememberChoice:p}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=d,i=p,o}),function(d){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,M.A)(function*(c){if(a)return s;const{overwrite:d,rememberChoice:p}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=d,a=p,s});return function(d){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(r,o){var i=this;return(0,M.A)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),r,{...i.collisionHandlers(),onInvalidEntry:(l=(0,M.A)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(d){return l.apply(this,arguments)})});var l;return a.result!==Ml.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(r){var o=this;return(0,M.A)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(r)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===ld.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var r=this;return(0,M.A)(function*(){if(!r.clipboard||!r.primaryCard||!r.storageCardService)throw new Error("invalid state for paste");if(r.clipboard.storageId===r.primaryCard.storageId)return r.primarySlot;if(r.secondaryCard&&r.clipboard.storageId===r.secondaryCard.storageId)return r.secondarySlot;r.secondaryCard&&(yield r.releaseCard(r.secondaryCard.id));const o=r.storageCardService.cards().find(a=>a.storageId===r.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield r.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(r.storageCardContext.claim(o.id,Br.vfs),yield r.storageService.loadCardData(o.id,s,Br.vfs),!i.mountImage(r.secondarySlot))throw r.storageCardContext.release(o.id,Br.vfs),new Error("unable to mount card");return r.secondaryCard=o,r.secondarySlot})()}overwriteFileDialog(r,o){var i=this;return(0,M.A)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${r}?`:`\n                     Do you want to overwrite the existing directory ${r}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(r){var o=this;return(0,M.A)(function*(){yield o.alertService.errorMessage(r)})()}fatalError(r){var o=this;return(0,M.A)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:Er.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${r}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var r=this;return(0,M.A)(function*(o=r.primarySlot){const i=r.mountedCards[o];if(!i)return;const s=yield r.vfs,a=s.getImageInSlot(o),l=s.getDirtyPagesForSlot(o);!a||!l||(yield r.storageService.updateCardData(i.id,a,l,Br.vfs),l.fill(0))}).apply(this,arguments)}activatePrimaryCard(){var r=this;return(0,M.A)(function*(){const o=yield r.vfs;o.switchSlot(r.primarySlot),r._bytesFree.set(o.bytesFree(r.primarySlot)),r.bytesTotal=o.bytesTotal(r.primarySlot),r.directoryCache.clear()})()}updateBytesFree(){var r=this;return(0,M.A)(function*(){r._bytesFree.set((yield r.vfs).bytesFree(r.primarySlot))})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(r){this.mountedCards[this.primarySlot]=r}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(r){this.mountedCards[this.secondarySlot]=r}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr),se(Oy),se(bc),se(Us),se(wr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class foe{constructor(){this.lockEvent=new fn.J,this.unlockEvent=new fn.J,this.lockCount=0}lock(){this.lockCount++,1===this.lockCount&&this.lockEvent.dispatch()}unlock(){0!==this.lockCount&&0===--this.lockCount&&this.unlockEvent.dispatch()}isLocked(){return this.lockCount>0}runGuarded(t){var n=this;return(0,M.A)(function*(){n.lock();try{return yield t()}finally{n.unlock()}})()}}var Zo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Zo||{});class zy extends Error{constructor(t){super(t)}}function FL(){return J2().replace(/-/g,"")}let Bf=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,p,m,C,x,j){this.sessionService=r,this.storageService=o,this.emulationContext=i,this.nativeSupportService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=d,this.fileService=p,this.vfsService=m,this.storageCardContext=C,this.fstools=x,this.emulatorLock=j,this.mountCardEvent=new fn.J,this.deleteCardEvent=new fn.J,this.loading=!0,this._cards=Ai([]),this.updateMutex=new $a,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}get cards(){return this._cards}createEmptyCard(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function poe(e){switch(e){case Zo.mb4:return 4;case Zo.mb8:return 8;case Zo.mb16:return 16;case Zo.mb32:return 32;case Zo.mb64:return 64;case Zo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:FL(),name:r,size:4*l.length,status:Er.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(r,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const r=this.emulationContext.session()?.mountedCard;void 0!==r&&this.storageCardContext.release(r,Br.cloudpilot)}loadCardInEmulator(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(yield s.vfsService.releaseCard(r),void 0!==(yield o.getMountedKey()))throw new Error("attempt to mount a card while another card is mounted");const l=o.allocateCard(a.storageId,a.size);if(!l)throw new Error("unable to allocate card data");return s.storageCardContext.claim(r,Br.cloudpilot),i?l.set(i):yield s.storageService.loadCardData(a.id,l,Br.cloudpilot),a})()}ejectCurrentCard(){var r=this;return(0,M.A)(function*(){const o=r.emulationContext.context();if(!o)throw new Error("no running session");const i=o.session.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield r.storageService.getCard(i);if(!s)return console.warn(`no card with id ${i}`),void(yield r.storageService.updateSessionPartial(o.session.id,{mountedCard:void 0}));yield r.emulatorLock.runGuarded((0,M.A)(function*(){yield r.storageService.updateStorageCardPartial(i,{status:Er.dirty}),yield r.snapshotService.triggerSnapshot(),yield r.storageService.updateSessionPartial(o.session.id,{mountedCard:void 0}),yield o.engine.releaseCard(s.storageId),r.storageCardContext.release(i,Br.cloudpilot)}))})()}checkCard(r){var o=this;return(0,M.A)(function*(){const i=o.mountedInSession(r.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(r.id)}const s=yield o.executeFsckAndUpdateCard(r.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${r.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(r.id,s):o.storageCardContext.release(r.id,Br.fstools))}}})()}insertCard(r){return this.checkAndClaimCard(r,"insert")}browseCard(r){var o=this;return(0,M.A)(function*(){if(o.storageCardContext.getOwner(r.id)===Br.vfs)return yield o.vfsService.activateCard(r.id),!0;const i=o.mountedInSession(r.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(r.id)}return o.checkAndClaimCard(r.id,"vfs")})()}updateCard(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=Er.dirty),i.storageService.updateStorageCardPartial(r,o)})()}deleteCard(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o._cards().find(a=>a.id===r);yield o.vfsService.releaseCard(r),yield o.ejectCard(r),yield o.storageService.deleteStorageCard(r),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.getCard(r);if(!a)throw new Error(`no card with id ${r}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const d of r){c++;const p=yield o.getCard(d);if(!p)continue;i.message=`Exporting ${c}/${r.length}...`;const m=Ff(p.name,x=>a.has(x));a.add(m);const C=yield o.getCardData(p,m,l);C&&(yield s.addEntry(`${m}.img.gz`,C))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function nre(){return`${Lf("cards")}.zip`}(),s.getContent())})()}getCard(r){var o=this;return(0,M.A)(function*(){return o.storageService.getCard(r)})()}mountedInSession(r){return this.sessionService.sessions().find(o=>o.mountedCard===r)}isLoading(){return this.loading}addAllCardsFromArchive(r){var o=this;return(0,M.A)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=So?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.fstools.createZipfileWalker(r);if(-1===l.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const c=l.GetTotalEntries(),d=new Set(o.cards().map(j=>j.name)),p=yield o.fstools.createGunzipContext();let m=1,C=!1;const x=[];for(;0===l.GetState();){a.message=`Importing ${m++}/${c}...`;let j=l.GetCurrentEntryName();try{if(!i.test(j))throw new zy(`${j} has the wrong suffix to be considered as a card image.`);let he=l.GetCurrentEntryContent();if(j.endsWith(".gz")&&he&&(p.initialize(he),he=(yield p.gunzip())?p.getDecompressedData():void 0,j=j.substring(0,j.length-3)),void 0===he)throw new zy(`Failed to extract ${j}. ${s}`);if(0===(yield o.nativeSupportService.getCardSupportLevel(he.length)))throw new zy(`${j} is not a valid card image.`);const Ee=Ff(j.replace(i,""),ke=>d.has(ke));yield o.doCreateCardFromImage(Ee,he,!1,!0)}catch(he){if(!(he instanceof zy))throw he;x.push(j),C||(C=yield o.alertService.messageWithChoice("Error",he.message,"Skip further errors",C,{},"Continue"))}finally{l.Next()}}x.length<=3&&x.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${x.join("<br>")}`):x.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${x.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${x.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(r,o,i){var s=this;return(0,M.A)(function*(a,l,c,d=!1){const p={storageId:FL(),name:a,size:l.length,status:d?Er.dirty:Er.clean,dontFsckAutomatically:c},m=new Uint32Array(l.buffer,l.byteOffset,l.byteLength>>>2);if(d||c)yield s.storageService.importStorageCard(p,m);else{const[C,x]=yield s.fsckNewCard(m,p);yield s.storageService.importStorageCard(x,C)}}).apply(this,arguments)}getCardData(r,o,i){var s=this;return(0,M.A)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(r.size),i){const d=i.getBuffer();a=new Uint32Array(d.buffer,d.byteOffset,d.byteLength>>2)}const l=s.mountedInSession(r.id);let c;if(l&&l.id===s.emulationContext.session()?.id){const d=s.emulationContext.engine();if(!d)throw new Error("unreachable");c=yield d.getCardData(r.storageId),c&&(a?a.set(c):a=c)}return c||(a||(a=new Uint32Array(r.size>>>2)),yield s.storageService.loadCardData(r.id,a,s.storageCardContext.getOwner(r.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var r=this;return(0,M.A)(function*(){r._cards.set(yield r.updateMutex.runExclusive((0,M.A)(function*(){return(yield r.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}cardIsMounted(r){var o=this;return(0,M.A)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===r)})()}checkAndClaimCard(r,o){var i=this;return(0,M.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");let s=yield i.getCard(r);if(!s)throw new Error(`no card with id ${r}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===Er.dirty){if(a=yield i.executeFsckAndUpdateCard(r),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(r,Br.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(r),!s)throw new Error(`no card with id ${r}`)}switch(s.status){case Er.clean:break;case Er.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;break;case Er.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case Er.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(r),yield i.mountCardInEmulator(r,a?.getImageData())):(yield i.mountCardForBrowsing(r,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(d){return i.errorService.fatalBug(d instanceof Error?d.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(r){var o=this;return(0,M.A)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(r))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);yield o.vfsService.releaseCard(r),o.storageCardContext.claim(r,Br.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Br.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(r,{status:Er.clean}),o.storageCardContext.release(r,Br.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(r,{status:Er.unformatted}),o.storageCardContext.release(r,Br.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(r,{status:Er.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(r,{status:Er.unfixable}),o.storageCardContext.release(r,Br.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(r,o){var i=this;return(0,M.A)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(r,o.getImageData(),o.getDirtyPages(),Br.fstools),yield i.storageService.updateStorageCardPartial(r,{status:Er.clean}),i.storageCardContext.release(r,Br.fstools)}finally{s.dismiss()}})()}fsckNewCard(r,o){var i=this;return(0,M.A)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(r),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[r,{...o,status:Er.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:Er.clean}]:[r,{...o,status:Er.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[r,{...o,status:Er.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[r,{...o,status:Er.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(r){var o=this;return(0,M.A)(function*(){const i=o.mountedInSession(r),s=yield o.storageService.getCard(r);!i||!s||(i.id===o.emulationContext.session()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(r,{status:Er.dirty})))})()}mountCardInEmulator(r,o){var i=this;return(0,M.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");const s=i.emulationContext.engine();if(!s)throw new Error("emulation engine not initialized");const a=yield i.loadingController.create({message:"Inserting..."});try{return yield a.present(),yield i.emulatorLock.runGuarded((0,M.A)(function*(){yield i.vfsService.releaseCard(r);const l=i.emulationContext.session();if(!l)throw new Error("no current session");if(void 0!==l.mountedCard)throw new Error("session already has a mounted card");const c=yield i.loadCardInEmulator(r,s,o);if(yield i.storageService.updateStorageCardPartial(r,{status:Er.dirty}),yield i.storageService.updateSessionPartial(l.id,{mountedCard:r}),!(yield s.mountCard(c.storageId)))throw yield s.releaseCard(c.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(c),c}))}finally{a.dismiss()}})()}mountCardForBrowsing(r,o,i){var s=this;return(0,M.A)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(r,o,i)}finally{a.dismiss()}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(lu),se(tr),se(vc),se(og),se(Us),se(aE),se(wr),se(rd),se(bc),se(cd),se(Oy),se(jy),se(rg))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),fE=(()=>{var e;class t{constructor(r,o){this.pwaService=r,this.clipboardService=o,this.injectStyles()}get runHidden(){return this.pwaService.getInstallationMode()!==yc.pwa}get nativeNetworkIntegration(){return ua.supportsNativeNetworkIntegration()}get nativeClipboard(){return ua.supportsNativeClipboard()}featureStyle(r,o){return(o?"":`.feature-${r} { display: none }\n`)+(o?`.no-feature-${r} { display: none }`:"")}injectStyles(){const r=document.createElement("style");r.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",OS())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",Sl)}\n            ${this.featureStyle("ios-not-native",So&&!Sl)}\n            ${this.featureStyle("ios-or-safari",So&&!Sl||ff)}\n            ${this.featureStyle("ios",So)}\n            ${this.featureStyle("native-network",this.nativeNetworkIntegration)}\n            ${this.featureStyle("dynamic-font-size",pf())}\n        `,document.head.appendChild(r)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Fy),se(lE))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),LL=(()=>{var e;class t{constructor(r){this.zone=r,this.modalVisibilityChangeEvent=new fn.J,this.modalActive=!1,this.enabled=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}enable(){this.enabled||(this.enabled=!0,this.modalActive&&this.modalVisibilityChangeEvent.dispatch(!0))}update(){const r=document.querySelectorAll("ion-alert, ion-modal").length>0;r!==this.modalActive&&this.zone.run(()=>{this.modalActive=r,this.enabled&&this.modalVisibilityChangeEvent.dispatch(r)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),ll=(()=>{var e;class t extends Wre{constructor(r,o,i,s,a,l,c,d,p,m,C,x,j,he,Ee,ke,Tt,Lt,kt,Fn){var Ln;super(),Ln=this,this.storageService=r,this.ngZone=o,this.loadingController=i,this.emulationContext=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.clipboardService=d,this.kvsService=p,this.networkService=m,this.buttonService=C,this.bootstrapService=x,this.storageCardService=j,this.storageCardContext=he,this.sessionsService=Ee,this.featureService=ke,this.cloudpilotPromise=Lt,this.uarmModulePromise=kt,this.switchSession=(yo,Gs={})=>this.mutex.runExclusive((0,M.A)(function*(){if(yo===Ln.emulationContext.session()?.id)return!0;let xl;yield Ln.stopUnchecked(),yield Ln.bootstrapService.hasRendered(),(Gs.showLoader??1)&&(xl=yield Ln.loadingController.create({message:"Loading..."}),yield xl.present());try{const Zy=yield Ln.storageService.getSession(yo);if(!Zy)throw new Error(`invalid session ${yo}`);if(Ln.emulationContext.clearContext(),!(yield Ln.restoreSession(Zy)))return Ln.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;if(!Ln.engine)throw new Error("engine failed to initialize");Ln.emulationContext.setContext(Zy,Ln.engine),yield Ln.sessionsService.updateSession({...Zy,lastLaunch:Date.now()}),function _7(e){NS(Ev,e+"")}(yo)}finally{xl&&(yield xl.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,M.A)(function*(){yield Ln.kvsService.mutex.runExclusive(()=>Ln.updateSettings()),yield Ln.doResume()})),this.pause=()=>this.mutex.runExclusive(()=>this.doStop()),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.block=()=>this.mutex.runExclusive(()=>this.doBlock()),this.unblock=()=>this.mutex.runExclusive(()=>this.doUnblock()),this.onSessionChange=([yo,Gs])=>{const xl=this.emulationContext.context();yo===xl?.session?.id&&(void 0!==xl?.session?.mountedCard&&void 0===Gs&&this.storageCardContext.release(xl.session.mountedCard,Br.cloudpilot),void 0===Gs?(HN(),this.stop()):(xl&&this.emulationContext.setContext(Gs,xl.engine),this.updateSettings()))},this.onEmergencySave=()=>this.mutex.runExclusive((0,M.A)(function*(){const yo=Ln.emulationContext.session();if(!yo||!Ln.engine)return;const Gs=yield Ln.engine.getFullState();Gs&&Ln.sessionsService.emergencySaveSession(yo,Gs.rom,Gs.memory,Gs.nand,Gs.savestate)})),this.clandestineExecute=yo=>this.ngZone.runOutsideAngular(yo),this.mutex=new $a,this.isDirty=!1,r.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.stop),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),Lt.then(yo=>{this.cloudpilotInstance=yo,this.networkService.initialize(yo),this.networkService.resumeEvent.addHandler(()=>this.processTimesliceNow())}),this.snapshotService.snapshotRequestEvent.addHandler(yo=>this.snapshotNow().then(()=>yo()).catch(yo)),Fn.lockEvent.addHandler(()=>{this.block()}),Fn.unlockEvent.addHandler(()=>{this.unblock()}),Tt.modalVisibilityChangeEvent.addHandler(yo=>yo?void Fn.lock():void Fn.unlock()),this.newFrameEvent.addHandler(()=>Tt.enable());const pa=function y7(){const e=RS(Ev);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==pa&&!zN()&&(this.bootstrapCompletePromise=this.recoverStoredSession(pa))}bootstrapComplete(){return this.bootstrapCompletePromise}waitForPendingSnapshot(){var r=this;return(0,M.A)(function*(){return r.engine?.waitForPendingSnapshot()})()}updateConfiguredHotsyncName(r){const o=this.emulationContext.session();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:r})}handleFatalInNativeCode(r){this.errorService.fatalInNativeCode(r)}handlePalmosStateChange(){this.isDirty=!0}onAfterAdvanceEmulation(r){const o=this.emulationContext.session(),i=this.getOSVersion();this.isUiInitialized()&&o&&o.osVersion!==i&&this.storageService.updateSessionPartial(o.id,{osVersion:i}),this.buttonService.tick(r),this.isDirty&&(this.ngZone.run(()=>{}),this.isDirty=!1)}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.networkService.handleSuspend())}handleSnapshot(r){const o=this.emulationContext.session();if(!o)throw new Error("unreachable: handleSnapshot without session");this.snapshotService.storeSnapshot(r,o.id)}getCloudpilotInstance(){return this.cloudpilotPromise}getUarmModule(){return this.uarmModulePromise}snapshotNow(){var r=this;return(0,M.A)(function*(){if(!r.engine)return;if(r.isRunning()){const s=new Error("Immediate snapshot request while emulator is running");throw r.errorService.fatalBug(s.message),s}const o=r.emulationContext.session();if(!o)throw new Error("unreachable: emulator running w/o session");yield r.engine.waitForPendingSnapshot();const i=yield r.requestSnapshot();i?(yield r.snapshotService.storeSnapshot(i,o.id),yield r.engine?.waitForPendingSnapshot()):console.warn("failed to take snapshot")})()}stopUnchecked(){var r=this;return(0,M.A)(function*(){r.emulationContext.session()&&(yield r.doStop(),yield r.snapshotNow(),r.storageCardService.onEmulatorStop(),r.emulationContext.clearContext())})()}updateSettings(){const r=this.emulationContext.session();if(!r)return;const o=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.updateEngineSettings({..."cloudpilot"===r.engine?{speed:r.speed,manageHotsyncName:r.dontManageHotsyncName,hotsyncName:r.hotsyncName,schedulerKind:this.kvsService.kvs.runHidden&&this.featureService.runHidden?ad.timeout:ad.animationFrame,clipboardIntegration:o,networkIntegration:this.kvsService.kvs.networkRedirection}:{disableAudio:r.disableAudio,targetMips:r.targetMips,warnSlowdownThreshold:r.warnSlowdownThreshold,maxHostLoad:r.maxHostLoad,runInBackground:this.kvsService.kvs.runHidden},memoryCrc:this.kvsService.kvs.snapshotIntegrityCheck&&true})}recoverStoredSession(r){var o=this;return(0,M.A)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,M.A)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(r,{showLoader:!1})}catch(a){So&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience."),console.error(a)}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(r){var o=this;return(0,M.A)(function*(){const{rom:i,memory:s,savestate:a,nand:l}=yield o.storageService.loadSession(r,o.kvsService.kvs.snapshotIntegrityCheck);if(!i)throw new Error(`invalid ROM ${r.rom}`);const c=void 0!==r.mountedCard?yield o.storageService.getCard(r.mountedCard):void 0,d=void 0!==c?{storageKey:c?.storageId,load:p=>o.storageCardService.loadCardInEmulator(c.id,p).then(()=>{})}:void 0;if(!(yield o.openSession(i,r.device,l,s,a,d)))return!1;if(!o.engine)throw new Error("engine failed to initialize");return o.networkService.reset(),o.buttonService.reset(o.engine),o.updateEngineSettings({automaticSnapshotInterval:1e3}),yield o.snapshotService.initialize(r),!0})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr),se(We),se(Us),se(vc),se(aE),se(rd),se(wr),se(lE),se(qi),se(kL),se(RL),se(NL),se(Bf),se(Oy),se(lu),se(fE),se(LL),se($y),se(yL),se(rg))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),moe=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.loadingController=r,this.emulationService=o,this.fileService=i,this.emulationContext=s,this.emulatorLock=a,this.alertService=l}saveBackup(r){var o=this;return(0,M.A)(function*(){const i=o.emulationContext.session();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."}),{failedDatabases:a,archive:l}=yield o.emulatorLock.runGuarded((0,M.A)(function*(){yield s.present(),yield o.emulationService.waitForPendingSnapshot();try{const c=o.emulationContext.engine();if(!c)throw new Error("emulator not running");return(yield c.backup(r))??{failedDatabases:void 0,archive:void 0}}finally{yield s.dismiss()}}));l?void 0!==a&&a.length>0?yield o.alertService.message("Backup complete",`\n                    ${Zw(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(mL(i,r),l)},"Cancel"):o.fileService.saveFile(mL(i,r),l):yield o.alertService.errorMessage("Backup failed.")})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(Us),se(ll),se(bc),se(vc),se(rg),se(wr))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const pE=window.AudioContext||window.webkitAudioContext;function $L(e,t=500){return new Promise((n,r)=>{setTimeout(()=>r(new Error("timeout")),t),e.then(n,r)})}class voe{constructor(t){var n=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,M.A)(function*(){return n.initializeAudioUnguarded()})),this.updateState=()=>{this.mutex.runExclusive((0,M.A)(function*(){if(!n.audio||(n.audio.gainNode.gain.value=n.shouldMute()?0:n.gain(),n.shouldRun()?n.emulationService.enablePcmStreaming():n.emulationService.disablePcmStreaming(),n.isRunning()===n.shouldRun()))return;const r=n.audio.context.state;switch(r){case"interrupted":break;case"closed":return void console.warn("audio context closed unexpectedly, no more audio will be played")}if(n.shouldRun())try{yield $L(n.audio.context.resume()),console.log("resume audio context")}catch(o){console.error(`failed to resume audio from state ${r}`,o)}else try{yield $L(n.audio.context.suspend()),console.log("suspend audio context")}catch(o){console.error(`failed to suspend audio from state ${r}`,o)}}))},this.onPwmUpdate=function(){var r=(0,M.A)(function*(o){n.pendingPwmUpdate=o,n.applyPwmUpdate()});return function(o){return r.apply(this,arguments)}}(),this.onContextStateChange=()=>{if(this.audio)switch(console.log(`audio context state change ${this.oldAudioState} -> ${this.audio.context.state}`),this.oldAudioState=this.audio.context.state,this.audio.context.state){case"suspended":"interrupted"===this.oldAudioState&&this.shouldRun()&&this.updateState(),this.emulationService.disablePcmStreaming();break;case"running":this.emulationService.enablePcmStreaming(),this.audio.gainNode.gain.value=this.shouldMute()?0:this.gain()}},this.mutex=new $a,this.muted=!1,this.workletBound=!1,this.oldAudioState="[new]",this.bind(),this.emulationService.openSessionEvent.addHandler(()=>this.bind()),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.palmosStateChangeEvent.addHandler(()=>this.updateState()),document.addEventListener("visibilitychange",()=>{So&&"visible"===document.visibilityState?setTimeout(()=>this.updateState(),500):this.updateState()}),window.__cpeAudioDriver=this}isInitialized(){return void 0!==this.audio}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}reactivateRequired(){return(this.audio??!1)&&("suspended"===this.audio?.context.state||"interrupted"===this.audio?.context.state)&&this.shouldRun()}reactivate(){this.mute(!1),this.updateState()}shouldRun(){return this.gain()>0&&("hidden"!==document.visibilityState||this.runHidden())}shouldMute(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||this.muted}bind(){this.unbind(),this.pwmUpdateEvent=this.emulationService.pwmUpdateEvent(),this.pwmUpdateEvent?.addHandler(this.onPwmUpdate),this.emulationService.pcmPort()&&this.bindWorkletNode()}unbind(){this.pwmUpdateEvent?.removeHandler(this.onPwmUpdate),this.disconnectPwmSource(),this.pwmUpdateEvent=void 0,this.unbindWorkletNode()}registerWorklet(t){return(0,M.A)(function*(){const n=window.Worker;window.Worker=class{constructor(o){this.ready=t.audioWorklet.addModule(o)}};const r=new Worker(_.tu(new URL(_.p+_.u(9193),_.b)));window.Worker=n,yield r.ready})()}initializeAudioUnguarded(){var t=this;return(0,M.A)(function*(){if(t.audio)return!0;let n;try{n=t.createAudioContext()}catch(i){return console.error("web audio not available",i),!1}try{n.destination.channelCount=2}catch(i){console.warn("audio driver: failed to set channel count",i)}yield t.registerWorklet(n);const r=new AudioWorkletNode(n,"pcm-processor",{channelCount:2,numberOfOutputs:1,outputChannelCount:[2],processorOptions:{sampleRateTo:n.sampleRate}}),o=n.createGain();return o.channelInterpretation="speakers",o.gain.value=t.gain(),o.connect(n.destination),t.audio={context:n,gainNode:o,workletNode:r},n.addEventListener("statechange",t.onContextStateChange),t.updateState(),t.applyPwmUpdate(),t.bindWorkletNode(),console.log(`audio initialised at ${n.sampleRate}Hz`),!0})()}createAudioContext(){try{return new pE({sampleRate:44100,latencyHint:"interactive"})}catch(t){console.warn("failed to request context at 44100Hz , latency interactive",t)}try{return new pE({latencyHint:"interactive"})}catch(t){console.warn("failed to request context at arbitrary rate, latency interactive",t)}try{return new pE}catch(t){throw console.error("failed to request context at arbitrary rate and latency",t),t}}isRunning(){return"running"===this.audio?.context.state}applyPwmUpdate(){if(!this.audio||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:n}=this.pendingPwmUpdate,r=this.audio.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||n<=0||t>=r)return void this.disconnectPwmSource();const o=this.audio.context.createBuffer(1,Math.round(r/t),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<n?1:0;const s=this.audio.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectPwmSource(),s.connect(this.audio.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectPwmSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}dispatchPcmControlMessage(t,n){this.audio?.workletNode.port.postMessage(t,n)}bindWorkletNode(){if(this.workletBound||!this.audio)return;const t=this.emulationService.pcmPort();t&&(this.audio.workletNode.connect(this.audio.gainNode),this.dispatchPcmControlMessage({type:"setStreamMessagePort",port:t},[t]),this.shouldRun()?this.emulationService.enablePcmStreaming():this.emulationService.disablePcmStreaming(),this.workletBound=!0,console.log("bound worklet"))}unbindWorkletNode(){this.workletBound&&(this.audio?.workletNode.disconnect(),this.dispatchPcmControlMessage({type:"reset"}),this.emulationService.disablePcmStreaming(),this.workletBound=!1,console.log("unbound worklet"))}}let Wy=(()=>{var e;class t extends voe{constructor(r,o,i){super(r),this.kvs=o,this.featureService=i,this.activated=!1}activate(){this.activated=!0,this.updateState()}suspend(){this.activated=!1,this.updateState()}shouldRun(){return super.shouldRun()&&this.activated}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(ll),se(qi),se(fE))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),jL=(()=>{var e;class t{constructor(r,o){this.emulationService=r,this.ngZone=o,this.onInterval=()=>{this.emulationService.isSlowdown()?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.onOpenSession=()=>{this.reset()},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged),this.emulationService.openSessionEvent.addHandler(this.onOpenSession)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(ll),se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const hE=q.m515,_oe=nE[2],boe=nE[0],cl="rgba(0,0,0,0.2)";function VL(e){const t=Qh(e),n=(0===t.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:n},o=l=>({frameDevice:l,frameCanvas:l*n}),i=l=>({frameDevice:l,frameCanvas:r.frameCanvas+l*n}),s=o(t.silkscreenHeight>0?1:0),a=o(function Eoe(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:n,borderWidth:r,height:o(2*r.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),radiusDpadSelect:{frameCanvas:a.frameCanvas/5,frameDevice:a.frameDevice/5},angleDpad:Math.PI/2-Math.atan((t.width-4*a.frameDevice)/a.frameDevice)}}class Doe{constructor(t){this.skinLoader=t,this.layout=VL(hE),this.dpad=!1,this.onResize=new fn.J}get width(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.setupTransformation(),this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,n=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Rr.landscape90:{const p=c;c=this.layout.height.frameDevice-l,l=p;break}case Rr.landscape270:{const p=c;c=l,l=this.layout.width.frameDevice-p;break}case Rr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const d=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(n)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=d&&(c=d-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=d)return;return[l,c]}isSilkscreen(t){const[,n]=t;return!this.isButtons(t)&&n>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,n]){if(t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice)return 3;if(t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice)return 2;if(t>=2*this.layout.buttonWidth.frameDevice){if(this.dpad){const r={x:this.layout.screenWidth.frameDevice/2,y:this.layout.buttonTop.frameDevice+this.layout.buttonHeight.frameDevice/2},o={x:Math.abs(t-r.x),y:Math.abs(n-r.y)},i=Math.tan(this.layout.angleDpad);return o.x**2+o.y**2<=this.layout.radiusDpadSelect.frameDevice**2?16:n<r.y&&o.y/o.x>=i?4:n>r.y&&o.y/o.x>=i?5:t<r.x&&o.y/o.x<i?14:15}return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4}return t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t){var n=this;return(0,M.A)(function*(r,o=n.ctx?.canvas){if(!o)return;n.dpad=r,n.layout=VL(n.getDeviceId()),n.onResize.dispatch(),o.width=n.width,o.height=n.height;const i=o.getContext("2d");if(!i)throw new Error("canvas not supported - get a new browser");n.ctx=i,n.setupTransformation(),n.fillCanvasRect(0,0,n.layout.width.frameCanvas,n.layout.height.frameCanvas,n.frameColor()),n.fillRect(0,0,n.layout.screenWidth.frameDevice,n.layout.screenHeight.frameDevice+n.layout.silkscreenHeight.frameDevice+n.layout.separatorHeight.frameDevice+n.layout.buttonHeight.frameDevice,n.backgroundColor()),n.drawEmulationCanvas(),yield Promise.all([n.drawSilkscreen(),n.drawButtons()])}).apply(this,arguments)}drawButtons(){var t=this;return(0,M.A)(function*(n=[]){if(t.ctx)if(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),n.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,cl),n.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,cl),n.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,cl),n.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,cl),t.dpad){const r={x:t.layout.borderWidth.frameCanvas+t.layout.screenWidth.frameCanvas/2,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas/2},o={x:t.layout.borderWidth.frameCanvas+2*t.layout.buttonWidth.frameCanvas,y:t.layout.buttonTop.frameCanvas},i={x:t.layout.borderWidth.frameCanvas+t.layout.screenWidth.frameCanvas-2*t.layout.buttonWidth.frameCanvas,y:t.layout.buttonTop.frameCanvas},s={x:o.x,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas},a={x:i.x,y:t.layout.buttonTop.frameCanvas+t.layout.buttonHeight.frameCanvas},l=t.layout.radiusDpadSelect.frameCanvas,c=t.layout.angleDpad;n.includes(4)&&(t.ctx.beginPath(),t.ctx.moveTo(o.x,o.y),t.ctx.lineTo(i.x,i.y),t.ctx.lineTo(r.x+l*Math.cos(c),r.y-l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,-c,c-Math.PI,!0),t.ctx.lineTo(o.x,o.y),t.ctx.fillStyle=cl,t.ctx.fill()),n.includes(5)&&(t.ctx.beginPath(),t.ctx.moveTo(s.x,s.y),t.ctx.lineTo(a.x,a.y),t.ctx.lineTo(r.x+l*Math.cos(c),r.y+l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,c,Math.PI-c,!1),t.ctx.lineTo(s.x,s.y),t.ctx.fillStyle=cl,t.ctx.fill()),n.includes(14)&&(t.ctx.beginPath(),t.ctx.moveTo(o.x,o.y),t.ctx.lineTo(s.x,s.y),t.ctx.lineTo(r.x-l*Math.cos(c),r.y+l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,Math.PI-c,Math.PI+c,!1),t.ctx.lineTo(o.x,o.y),t.ctx.fillStyle=cl,t.ctx.fill()),n.includes(15)&&(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(a.x,a.y),t.ctx.lineTo(r.x+l*Math.cos(c),r.y+l*Math.sin(c)),t.ctx.arc(r.x,r.y,l,c,-c,!0),t.ctx.lineTo(i.x,i.y),t.ctx.fillStyle=cl,t.ctx.fill()),n.includes(16)&&(t.ctx.beginPath(),t.ctx.arc(r.x,r.y,l,0,2*Math.PI),t.ctx.fillStyle=cl,t.ctx.fill())}else n.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,cl),n.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,cl)}).apply(this,arguments)}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx.resetTransform(),this.getOrientation()){case Rr.portrait:case void 0:break;case Rr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Rr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Rr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,M.A)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,_oe),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,n,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case q.pegT600c:case q.pegT650c:return"silkscreen/clie-t600.svg";case q.pegN700c:case q.pegN600c:return"silkscreen/clie-n610.svg";case q.pegS320:case q.pegS300:return"silkscreen/clie-s300.svg";case q.pegS500c:return"silkscreen/clie-s500.svg";case q.pegT400:return"silkscreen/clie-t415.svg";case q.acerS11:return"silkscreen/acer-s10.svg";case q.palmPilot:case q.pilot:case q.iii:case q.palmVII:return"silkscreen/pilot.svg";case q.m500:return"silkscreen/m500.svg";case q.m505:case q.m515:case q.m520:return"silkscreen/m515.svg";case q.iiic:return"silkscreen/iiic.svg";case q.m100:case q.m105:case q.m125:return"silkscreen/m100.svg";case q.m130:return"silkscreen/m130.svg";case q.i710:case q.te2:return"silkscreen/tungstenw.svg";case q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case q.acerS11:return"hard-buttons/acer-s10.svg";case q.pegNR70:return"hard-buttons/clie-nr70.svg";case q.pegN700c:return"hard-buttons/clie-n700.svg";case q.pegN600c:return"hard-buttons/clie-n610.svg";case q.pegS300:return"hard-buttons/clie-s300.svg";case q.pegS500c:return"hard-buttons/clie-s500.svg";case q.pegS320:return"hard-buttons/clie-s320.svg";case q.pegT400:case q.pegT600c:case q.pegT650c:return"hard-buttons/clie-t415.svg";case q.pilot:case q.palmPilot:return"hard-buttons/pilot.svg";case q.m500:return"hard-buttons/m500.svg";case q.m505:case q.m515:case q.m520:return"hard-buttons/m515.svg";case q.iiic:return"hard-buttons/iiic.svg";case q.m100:case q.m105:return"hard-buttons/m100.svg";case q.m125:return"hard-buttons/m125.svg";case q.m130:return"hard-buttons/m130.svg";case q.i710:case q.te2:case q.frankene2:return"hard-buttons/tungstenw.svg";case q.iii:case q.iiix:case q.iiixe:case q.palmVII:case q.palmVIIEZ:case q.palmVIIx:return"hard-buttons/iiix.svg";case q.iiie:return"hard-buttons/iiie.svg";case q.i705:return"hard-buttons/i705.svg";case q.handera330:return"hard-buttons/handera330.svg";case q.handera330c:return"hard-buttons/handera330c.svg";case q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return xw(this.getDeviceId())?"white":boe}frameColor(){return xw(this.getDeviceId())?"white":"#ccc"}}function Toe(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(),r.src=e})}class Moe{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const n=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,Toe((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),r=function Ioe(e,t){let n,r;const o=document.createElement("canvas");return function(){var i=(0,M.A)(function*(s,a){if(n===s&&r===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(ff||So)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),n=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(n.then(([,o])=>o),n.then(([o])=>o));return this.images.set(t,r),r}}let qy=(()=>{var e;class t extends Doe{constructor(r,o){super(new Moe(r)),this.kvsService=o,this.statisticsVisible=!1}initialize(r){var o=this;return(0,M.A)(function*(i,s=o.session){o.session=s,yield o.initWithCanvas(void 0!==o.session&&Y2(o.session.device)&&!o.kvsService.kvs.dontEmulateDPad,i)}).apply(this,arguments)}clearStatistics(){var r=this;return(0,M.A)(function*(){r.statisticsVisible=!1,r.layout.silkscreenHeight.frameCanvas>0?yield r.drawSilkscreen():yield r.drawEmulationCanvas()})()}updateStatistics(r,o){var i=this;return(0,M.A)(function*(){yield i.clearStatistics(),i.drawStatistics(r,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=r,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??hE}getOrientation(){return this.session?.deviceOrientation??Rr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(r,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function xoe(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Qh(this.session?.device??hE).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...r||o?[]:["collecting statistics..."],...r?[`last snapshot          : ${new Date(r.timestamp).toLocaleTimeString()}`,`snapshot size          : ${r.size>>>10} kB`,`snapshot time total    : ${r.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${r.timeBlocking.toFixed(2)} msec`]:[],..."cloudpilot"===o?.type?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[],..."uarm"===o?.type?[`current MIPS           : ${o.currentSpeedMips.toFixed(2)}`,`current MIPS limit     : ${o.currentMaxSpeedMips.toFixed(2)}`,`current load           : ${(o.currentSpeedMips/o.currentMaxSpeedMips*100).toFixed(2)}%`]:[]].forEach((c,d)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*d)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se($y),se(qi))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function koe(e,t){if(1&e){const n=Mn();V(0,"ion-item",4),$e("click",function(){return pt(n),ht(st().power())}),V(1,"ion-label"),xe(2,"Power"),W(),nt(3,"ion-icon",5),W()}if(2&e){const n=st();fe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Roe(e,t){if(1&e){const n=Mn();V(0,"ion-item",4),$e("click",function(){return pt(n),ht(st().hotsync())}),V(1,"ion-label"),xe(2,"Hotsync"),W(),nt(3,"ion-icon",6),W()}if(2&e){const n=st();fe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Noe(e,t){if(1&e){const n=Mn();V(0,"ion-item",4),$e("click",function(){return pt(n),ht(st().reset())}),V(1,"ion-label"),xe(2,"Reset"),W(),nt(3,"ion-icon",7),W()}if(2&e){const n=st();fe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Ooe(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),$e("click",function(){return pt(n),ht(st().insertCard())}),V(1,"ion-label"),xe(2),W(),nt(3,"ion-icon",9),W()}if(2&e){const n=st();fe("detail",!1),ue(2),vi("Insert ",n.hasMemorystick?"stick":"SD card")}}function Poe(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),$e("click",function(){return pt(n),ht(st().ejectCard())}),V(1,"ion-label"),xe(2),W(),nt(3,"ion-icon",10),W()}if(2&e){const n=st();fe("detail",!1),ue(2),vi("Eject ",n.hasMemorystick?"stick":"SD card")}}function Foe(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),$e("click",function(){return pt(n),ht(st().mute(!1))}),V(1,"ion-label"),xe(2),W(),nt(3,"ion-icon",11),W()}if(2&e){const n=st();fe("detail",!1),ue(2),vi("",n.audioRequiresReactivate?"Reactivate":n.isInitialized?"Unmute":"Enable"," audio")}}function Loe(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),$e("click",function(){return pt(n),ht(st().mute(!0))}),V(1,"ion-label"),xe(2,"Mute audio"),W(),nt(3,"ion-icon",12),W()}2&e&&fe("detail",!1)}function $oe(e,t){if(1&e){const n=Mn();V(0,"ion-item",4),$e("click",function(){return pt(n),ht(st().backup())}),V(1,"ion-label"),xe(2,"Save backup"),W(),nt(3,"ion-icon",13),W()}if(2&e){const n=st();fe("detail",!1)("disabled",n.backupDisabled)}}function Boe(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),$e("click",function(){return pt(n),ht(st().rotate())}),V(1,"ion-label"),xe(2,"Rotate"),W(),nt(3,"ion-icon",14),W()}2&e&&fe("detail",!1)}function joe(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),$e("click",function(){return pt(n),ht(st().editSettings())}),V(1,"ion-label"),xe(2,"Settings"),W(),nt(3,"ion-icon",15),W()}2&e&&fe("detail",!1)}function Voe(e){switch(e){case Rr.portrait:case void 0:return Rr.landscape90;case Rr.landscape90:return Rr.portrait180;case Rr.portrait180:return Rr.landscape270;case Rr.landscape270:return Rr.portrait;default:throw new Error("cannot happen")}}let Hoe=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,p,m,C,x,j,he,Ee,ke,Tt,Lt){this.emulationService=r,this.emulationContext=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=d,this.modalController=p,this.sessionService=m,this.performanceWatchdogService=C,this.canvasDisplayService=x,this.nativeSupportService=j,this.storageCardService=he,this.alertService=Ee,this.alertController=ke,this.storageService=Tt,this.errorService=Lt,this.showHelp=()=>{}}reset(){var r=this;return(0,M.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>r.emulationService.reset()},{text:"No extensions",handler:()=>r.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>r.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var r=this;return(0,M.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>r.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>r.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isInitialized(){return this.audioService.isInitialized()}get isAudioOff(){return this.kvsService.kvs.volume<=0}get audioRequiresReactivate(){return this.audioService.reactivateRequired()}mute(r){r?this.audioService.mute(!0):this.audioService.reactivateRequired()?this.audioService.reactivate():this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const r=this.emulationContext.session();return!!r&&function vne(e){switch(e){case q.i705:case q.i710:case q.pegNR70:case q.pegT650c:case q.lp168:case q.frankene2:case q.te2:return!0;default:return!1}}(r.device)}get hotsyncDisabled(){const r=this.emulationContext.session();return!!r&&function yne(e){switch(e){case q.frankene2:case q.te2:return!0;default:return!1}}(r.device)}get hasActiveSession(){return!!this.emulationContext.session()}get supportsStorageCard(){const r=this.emulationContext.session();return!!r&&kw(r.device)!==ru.none}get hasMemorystick(){const r=this.emulationContext.session();return!!r&&kw(r.device)===ru.memorystick}get hasMountedCard(){return void 0!==this.emulationContext.session()?.mountedCard}editSettings(){var r=this;return(0,M.A)(function*(){const o=r.emulationContext.session();if(!o)return;const i=fL(o),s={...i},a=yield r.modalController.create({component:SL,backdropDismiss:!1,componentProps:{settings:i,availableDevices:[o.device],device:o.device,onSave:(l=(0,M.A)(function*(){const c=pL(o,i);(function Uoe(e,t){if("cloudpilot"===e.engine&&"cloudpilot"===t.engine)return e.speed!==t.speed;if("uarm"===e.engine&&"uarm"===t.engine)return e.targetMips!==t.targetMips||e.maxHostLoad!==t.maxHostLoad||e.warnSlowdownThreshold!==t.warnSlowdownThreshold;throw new Error("unreachable")})(s,i)&&r.performanceWatchdogService.reset(),s.deviceOrientation!==i.deviceOrientation&&(r.canvasDisplayService.initialize(void 0,c),r.canvasDisplayService.updateEmulationCanvas()),yield r.sessionService.updateSession(c),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield r.popoverController.dismiss(),yield a.present()})()}rotate(){var r=this;return(0,M.A)(function*(){const o=r.emulationContext.session();if(!o)return;yield r.storageService.updateSessionPartial(o.id,{deviceOrientation:Voe(o.deviceOrientation)});const i=r.emulationContext.session();yield r.canvasDisplayService.initialize(void 0,i),r.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var r=this;return(0,M.A)(function*(){r.popoverController.dismiss();const o=r.emulationContext.session()?.device;if(void 0===o)return;const i=(yield Promise.all(r.storageCardService.cards().map(a=>r.nativeSupportService.deviceSupportsCard(o,a.size).then(l=>[a,l])))).filter(([a,l])=>l&&!r.storageCardService.mountedInSession(a.id)).map(([a])=>a);0!==i.length?yield(yield r.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>r.storageCardService.insertCard(a)}],inputs:i.map((a,l)=>({label:a.name,type:"radio",value:a.id,checked:0===l})),backdropDismiss:!1})).present():r.alertService.message("No image available",`There is no ${r.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var r=this;return(0,M.A)(function*(){try{yield r.storageCardService.ejectCurrentCard()}catch(o){r.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}r.popoverController.dismiss()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(ll),y(vc),y(moe),y(RL),y(zh),y(hc),y(Wy),y(qi),y(Hs),y(lu),y(jL),y(qy),y(og),y(Bf),y(wr),y(cw),y(tr),y(rd))},this.\u0275cmp=Xe({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},standalone:!1,decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"],["lines","full","button","",3,"click","detail","disabled"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list"),nn(1,koe,4,2,"ion-item",0)(2,Roe,4,2,"ion-item",0)(3,Noe,4,2,"ion-item",0)(4,Ooe,4,2,"ion-item",1)(5,Poe,4,2,"ion-item",1)(6,Foe,4,2,"ion-item",1)(7,Loe,4,1,"ion-item",1)(8,$oe,4,2,"ion-item",0)(9,Boe,4,1,"ion-item",1)(10,joe,4,1,"ion-item",1),V(11,"ion-item",2),$e("click",function(){return i.help()}),V(12,"ion-label"),xe(13,"Help"),W(),nt(14,"ion-icon",3),W()()),2&o&&(ue(),fe("ngIf",i.hasActiveSession&&!i.powerDisabled),ue(),fe("ngIf",i.hasActiveSession&&!i.powerDisabled),ue(),fe("ngIf",i.hasActiveSession),ue(),fe("ngIf",i.supportsStorageCard&&!i.hasMountedCard),ue(),fe("ngIf",i.supportsStorageCard&&i.hasMountedCard),ue(),fe("ngIf",(i.isMuted||i.audioRequiresReactivate)&&!i.isAudioOff),ue(),fe("ngIf",!i.isMuted&&!i.isAudioOff&&!i.audioRequiresReactivate),ue(),fe("ngIf",i.hasActiveSession),ue(),fe("ngIf",i.hasActiveSession),ue(),fe("ngIf",i.hasActiveSession),ue(),fe("detail",!1))},dependencies:[xo,qo,ko,Qu,ca],encapsulation:2}))}return e(),t})();class Goe{constructor(t,n){this.emulationService=t,this.canvasDisplayService=n,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const d=this.canvasDisplayService.determineButton(c);d===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):d!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=d,this.handleButtonDown(d));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&!r.ctrlKey&&!r.metaKey&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0,this.dpad=!1}bind(t,n,r=window){this.dpad=n,this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,n,r,o){t.addEventListener(n,r,o)}removeEventListener(t,n,r,o){t.removeEventListener(n,r,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey||!this.emulationService.supportsKeyboardIO()}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t)){switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":return 0;case"ArrowLeft":return this.dpad?14:0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":return 3;case"ArrowRight":return this.dpad?15:3}if(this.dpad)switch(t.key){case"Enter":case" ":return 16}}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let zoe=(()=>{var e;class t extends Goe{constructor(r,o,i,s){super(r,o),this.modalWatcher=i,this.ngZone=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.ngZone.run(()=>{})}addEventListener(r,o,i,s){this.ngZone.runOutsideAngular(()=>r.addEventListener(o,i,s))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(ll),se(qy),se(LL),se(We))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function UL(e){return/\.(prc|pdb|pqa)$/i.test(e)}class HL extends Error{}class Yoe{constructor(t,n,r,o,i){this.fstools=t,this.alertService=n,this.snapshotService=r,this.files=o,this.emulationContext=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,M.A)(function*(){for(const n of t.files){let r;try{r=yield n.getContent()}catch(o){console.warn(o),t.filesFail.push(n.name);continue}if(/\.zip/i.test(n.name)&&r.length<33554432)try{yield t.installZip(n)}catch{t.filesFail.push(n.name)}else UL(n.name)?yield t.installOne(n.name,r):t.filesFail.push(n.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,n){var r=this;return(0,M.A)(function*(){const o=yield r.emulationContext.engine();if(!o)throw new Error("emulator not running");const i=yield o.installDb(n);switch(i){case 2:r.filesRequireReset.push(t),r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case 1:r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case-7:throw new HL("DB installation not currently possible");default:r.filesFail.push(t),yield r.reportError(t,i)}if(2===i||1===i)try{const s=function Koe(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(n);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${t} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,t)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var n=this;return(0,M.A)(function*(){const r=yield n.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===r.GetState();){const i=r.GetCurrentEntryName().replace(/^.*\//,"");if(!UL(r.GetCurrentEntryName())){r.Next();continue}const s=r.GetCurrentEntryContent();s?(yield n.installOne(i,s),o++):n.filesFail.push(i),r.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,n){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function Zoe(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(n)}.`)}errorDialog(t,n){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,n,"Skip any remaining errors",!1,{},"Continue").then(r=>{this.skipErrors=r})}}let Xoe=(()=>{var e;class t{constructor(r,o,i,s,a,l,c){this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.fstools=a,this.emulationContext=l,this.emulatorLock=c}installFiles(r){var o=this;return(0,M.A)(function*(){try{yield o.installFilesUnguarded(r)}catch(i){if(i instanceof HL)return void o.alertService.errorMessage("Installation is not currently possible. Navigate to the PalmOS launcher and try again.");throw i}})()}installFilesUnguarded(r){var o=this;return(0,M.A)(function*(){const[i,s,a]=yield o.emulatorLock.runGuarded((0,M.A)(function*(){const d=yield o.loadingController.create({message:"Installing..."});yield d.present(),yield o.emulationService.waitForPendingSnapshot();try{return yield new Yoe(o.fstools,o.alertService,o.snapshotService,r,o.emulationContext).run()}finally{d.dismiss()}})),l=[o.messageSuccess(i),o.messageFailed(a),o.messageRequireReset(s)].filter(d=>!!d).join("<br/><br/>");let c;c=0===a.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",o.alertService.message(c,l,s.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(r){switch(r.length){case 0:return;case 1:return`Installation of ${r[0]} successful.`;default:return`Installation of ${r.length} items successful.`}}messageFailed(r){return r.length>0?`Installation of  ${Zw(r)} failed.`:void 0}messageRequireReset(r){return r.length>0?`${Zw(r)} require a device reset.`:void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(ll),se(Us),se(aE),se(wr),se(jy),se(vc),se(rg))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),gE=(()=>{var e;class t{constructor(r,o,i){this.router=r,this.canvasDisplayService=o,this.emulationContext=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=function Qoe(e){const t=document.querySelectorAll(e);for(let n=0;n<t.length;n++){const r=t[n].getBoundingClientRect();if(r.height>0)return r.height}return 0}("ion-header");this.useSmallUI=void 0!==a&&this.canvasArea(window.innerHeight-a-(s?56:50)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationContext.session()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(r,o){let i,s;return r=Math.min(r,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/r>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=r,i=r/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Ri),y(qy),y(vc))},this.\u0275cmp=Xe({type:t,selectors:[["app-tabs"]],standalone:!1,decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(o,i){1&o&&(V(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),nt(4,"ion-icon",3),V(5,"ion-label"),xe(6,"Emulator"),W()(),V(7,"ion-tab-button",4),nt(8,"ion-icon",5),V(9,"ion-label"),xe(10,"Sessions"),W()(),V(11,"ion-tab-button",6),nt(12,"ion-icon",7),V(13,"ion-label"),xe(14,"Cards"),W()(),V(15,"ion-tab-button",8),nt(16,"ion-icon",9),V(17,"ion-label"),xe(18,"Settings"),W()(),V(19,"ion-tab-button",10),nt(20,"ion-icon",11),V(21,"ion-label"),xe(22,"About"),W()()()()()),2&o&&(ue(2),aa("small-ui",i.smallUI)("disabled",i.isLocked()))},dependencies:[qo,Qu,wy,f2,p2],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px;position:absolute;bottom:1px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}))}return e(),t})(),mE=(()=>{var e;class t{constructor(){this.onDragOver=r=>{r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=r=>{r.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(r)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(r){this.currentClient=r}unregisterClient(r){r===this.currentClient&&(this.currentClient=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Joe=["*"];function eie(e,t){1&e&&nt(0,"div",2)}let tie=0,GL=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new yn,this.triggerId="breadcrumb-trigger-"+tie++}handleClick(r){this.disabled||(r.preventDefault(),this.trigger.emit(this.triggerId))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(o,i){1&o&&$e("click",function(a){return i.handleClick(a)}),2&o&&(ia("id",i.triggerId),aa("disabled",i.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},standalone:!1,ngContentSelectors:Joe,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(o,i){1&o&&(bt(),V(0,"div",0),yt(1),W(),nn(2,eie,1,0,"div",1)),2&o&&(ue(2),fe("ngIf",!i.disabled))},dependencies:[xo],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}))}return e(),t})();var zL;const nie=["canvas"];function rie(e,t){1&e&&nt(0,"div",11),2&e&&Lu("width",st().iosPlaceholderWidth)}function oie(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),$e("click",function(){return pt(n),ht(st().navigation.lock())}),nt(1,"ion-icon",13),W()}}function iie(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),$e("click",function(){return pt(n),ht(st().navigation.unlock())}),nt(1,"ion-icon",14),W()}}function sie(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),$e("click",function(o){return pt(n),ht(st().openContextMenu(o))}),nt(1,"ion-icon",15),W()}}function aie(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),$e("click",function(){return pt(n),ht(st().showGameModeHint())}),nt(1,"ion-icon",16),W()}}function lie(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),$e("click",function(){return pt(n),ht(st().showProxyConnectedHint())}),nt(1,"ion-icon",17),W()}}function cie(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),$e("click",function(){return pt(n),ht(st().showSlowdowndHint())}),nt(1,"ion-icon",18),W()}}function uie(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),$e("click",function(o){return pt(n),ht(st().openContextMenu(o))}),nt(1,"ion-icon",15),W()}}function die(e,t){if(1&e){const n=Mn();V(0,"div",19),xe(1," The device was reset forcefully. How do you want to boot? "),V(2,"ion-button",20),$e("click",function(){return pt(n),ht(st().bootAfterForcefulReset())}),xe(3,"Normal boot"),W(),V(4,"ion-button",20),$e("click",function(){return pt(n),ht(st().bootAfterForcefulResetNoExtensions())}),xe(5,"No extensions"),W(),V(6,"ion-button",20),$e("click",function(){return pt(n),ht(st().bootAfterForcefulResetHardReset())}),xe(7,"Hard reset"),W()()}}function fie(e,t){1&e&&(V(0,"div",19)(1,"div"),xe(2,"No session selected"),W()())}class da{constructor(t,n,r,o,i,s,a,l,c,d,p,m,C,x,j,he,Ee,ke,Tt,Lt){var kt=this;this.emulationService=t,this.emulationContext=n,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=d,this.installlationService=p,this.networkService=m,this.navigation=C,this.linkApi=x,this.performanceWatchdogService=j,this.dragDropService=he,this.sessionService=Ee,this.loadingController=ke,this.audioService=Tt,this.config=Lt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,M.A)(function*(){yield kt.emulationService.bootstrapComplete(),kt.bootstrapComplete=!0,kt.audioService.activate();const Fn=kt.emulationContext.session();Fn&&!Fn.wasResetForcefully&&(yield kt.launchEmulator()),kt.linkApi.installation.requestEvent.addHandler(kt.handleLinkApiInstallationRequest),kt.handleLinkApiInstallationRequest(),kt.dragDropService.registerClient(kt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.audioService.suspend(),this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.emulationService.snapshotSuccessEvent.removeHandler(this.onSnapshotSuccess),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onNewFrame=Fn=>{this.canvasDisplayService.updateEmulationCanvas(Fn)},this.onSnapshotSuccess=Fn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Fn,this.emulationService.getStatistics())},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Fn=this.linkApi.installation.receivePendingUrl();Fn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationContext.session()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Fn} ?`,{OK:()=>this.fileService.openUrl(Fn,pa=>this.installlationService.installFiles([pa]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Fn} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new $a}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t){var n=this;return(0,M.A)(function*(r,o="trigger"){(yield n.popoverController.create({component:Hoe,event:r,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:o})).present()}).apply(this,arguments)}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:td,componentProps:{url:Yne}})).present()})()}showGameModeHint(){var t=this;return(0,M.A)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,M.A)(function*(){"native"===t.kvsService.kvs.networkRedirectionMode?yield t.alertService.message("Network session","PalmOS has opened a network session."):yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,M.A)(function*(){"cloudpilot"===t.emulationContext.engine()?.type&&(yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")),"uarm"===t.emulationContext.engine()?.type&&(yield t.alertService.message("Slow emulation","\n                Your host is too slow to run your virtual device at the configured minimum\n                speed.\n        "))})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,M.A)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,M.A)(function*(){yield t.clearForcefulReset(),yield t.emulationContext.engine()?.resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,M.A)(function*(){yield t.clearForcefulReset(),yield t.emulationContext.engine()?.resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.networkService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationContext.session()&&!this.emulationContext.session()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var n=this;return(0,M.A)(function*(){(yield n.popoverController.create({component:Jne,componentProps:{sessions:n.sessionService.sessions().filter(o=>o.id!==n.emulationContext.session()?.id),onSelect:o=>n.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.sessions()}clearForcefulReset(){var t=this;return(0,M.A)(function*(){const n=t.emulationContext.session();n&&(yield t.storageService.updateSessionPartial(n.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationContext.session()?.name??"No session":""}launchEmulator(){var t=this;return(0,M.A)(function*(){const n=t.emulationContext.session();n&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,n).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.emulationService.snapshotSuccessEvent.addHandler(t.onSnapshotSuccess),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement,Y2(n.device)&&!t.kvsService.kvs.dontEmulateDPad))})()}switchSession(t){var n=this;return(0,M.A)(function*(){const r=yield n.loadingController.create();yield r.present();try{if(n.lastTitle=n.title,n.switching=!0,yield n.emulationService.pause(),!(yield n.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield n.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield n.launchEmulator())}finally{r.dismiss(),n.switching=!1}})()}static#e=zL=()=>(this.\u0275fac=function(n){return new(n||da)(y(ll),y(vc),y(tr),y(zoe),y(qy),y(qi),y(hc),y(Hs),y(wr),y(bc),y(Xoe),y(kL),y(gE),y(PS),y(jL),y(mE),y(lu),y(Us),y(Wy),y(Ph))},this.\u0275cmp=Xe({type:da,selectors:[["app-emulation"]],viewQuery:function(n,r){if(1&n&&Jl(nie,5),2&n){let o;is(o=ss())&&(r.canvasRef=o.first)}},standalone:!1,decls:23,vars:23,consts:[["canvas",""],[3,"trigger","disabled"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"click","disabled"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(n,r){if(1&n){const o=Mn();V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",1),$e("trigger",function(s){return pt(o),ht(r.onBreadcrumbTrigger(s))}),nn(4,rie,1,2,"div",2),xe(5),W()(),V(6,"ion-buttons",3)(7,"ion-button",4),$e("click",function(){return pt(o),ht(r.installFiles())}),nt(8,"ion-icon",5),W(),nn(9,oie,2,0,"ion-button",6)(10,iie,2,0,"ion-button",6),W(),V(11,"ion-buttons",7),nn(12,sie,2,0,"ion-button",6)(13,aie,2,0,"ion-button",6)(14,lie,2,0,"ion-button",6)(15,cie,2,0,"ion-button",6)(16,uie,2,0,"ion-button",6),W()()(),V(17,"ion-content",8),$e("contextmenu",function(s){return pt(o),ht(r.onContextMenu(s))}),V(18,"div",9),$e("touchstart",function(s){return pt(o),ht(r.cancelIfEmulationActive(s))})("touchmove",function(s){return pt(o),ht(r.cancelIfEmulationActive(s))}),nt(19,"canvas",null,0),W(),nn(21,die,8,0,"div",10)(22,fie,3,0,"div",10),W()}if(2&n){let o,i;ue(3),fe("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.emulationContext.session()||0===r.sessions.length),ue(),fe("ngIf","ios"===r.config.get("mode")),ue(),vi(" ",r.title),ue(2),fe("disabled",r.installFileDisabled),ue(2),fe("ngIf",!r.navigation.isLocked()),ue(),fe("ngIf",r.navigation.isLocked()),ue(2),fe("ngIf","ios"===r.config.get("mode")),ue(),fe("ngIf",r.eventHandlingService.isGameMode()),ue(),fe("ngIf",r.networkService.isConnected()),ue(),fe("ngIf",r.performanceWatchdogService.isSlowdownDetected()),ue(),fe("ngIf","ios"!==r.config.get("mode")),ue(),aa("locked",r.navigation.isLocked()),ue(),Lu("display",!r.emulationContext.session()||null!=(o=r.emulationContext.session())&&o.wasResetForcefully?"none":void 0),ue(),Lu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationContext.session()?"block":"none"),ue(2),fe("ngIf",null!=(i=r.emulationContext.session())&&i.wasResetForcefully?"none":void 0),ue(),fe("ngIf",!r.emulationContext.session()&&r.bootstrapComplete&&!r.switching)}},dependencies:[xo,cs,us,ds,fs,qo,ps,hs,GL],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{cursor:default;text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc,#eee)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}))}zL(),oe([Xn()],da.prototype,"openContextMenu",null),oe([Xn()],da.prototype,"showHelp",null),oe([Xn()],da.prototype,"showGameModeHint",null),oe([Xn()],da.prototype,"showProxyConnectedHint",null),oe([Xn()],da.prototype,"showSlowdowndHint",null),oe([Xn()],da.prototype,"bootAfterForcefulReset",null),oe([Xn()],da.prototype,"bootAfterForcefulResetNoExtensions",null),oe([Xn()],da.prototype,"bootAfterForcefulResetHardReset",null),oe([Xn()],da.prototype,"onBreadcrumbTrigger",null);const pie=_.p+"assets/doc/sessions-868d7e6c0550348b.md";let hie=(()=>{var e;class t{constructor(){this.sessionCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),$e("click",function(){return null==i.onExport?null:i.onExport()}),nt(2,"ion-icon",1),xe(3," Export "),W(),V(4,"ion-item",0),$e("click",function(){return null==i.onDelete?null:i.onDelete()}),nt(5,"ion-icon",2),xe(6," Delete "),W(),V(7,"ion-item",3),$e("click",function(){return null==i.onHelp?null:i.onHelp()}),nt(8,"ion-icon",4),xe(9," Help "),W()()),2&o&&(ue(),fe("detail",!1)("disabled",0===i.sessionCount),ue(3),fe("detail",!1)("disabled",0===i.sessionCount),ue(3),fe("detail",!1))},dependencies:[qo,ko,ca],encapsulation:2}))}return e(),t})(),mie=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onEdit()}),nt(2,"ion-icon",1),xe(3," Edit "),W(),V(4,"ion-item",0),$e("click",function(){return i.onSave()}),nt(5,"ion-icon",2),xe(6," Export "),W(),V(7,"ion-item",0),$e("click",function(){return i.onReset()}),nt(8,"ion-icon",3),xe(9," Reset "),W(),V(10,"ion-item",4),$e("click",function(){return i.onDelete()}),nt(11,"ion-icon",5),xe(12," Delete "),W()()),2&o&&(ue(),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1))},dependencies:[qo,ko,ca],encapsulation:2}))}return e(),t})();const vie=["slidingItem"];function yie(e,t){if(1&e&&(V(0,"span"),xe(1),W()),2&e){const n=st();ue(),vi(", OS ",n.decodeVersion(null==n.session?null:n.session.osVersion))}}function _ie(e,t){1&e&&nt(0,"ion-icon",16)}function bie(e,t){1&e&&nt(0,"ion-icon",17)}let Cie=(()=>{var e;class t{constructor(r){this.popoverController=r,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new yn,this.resetSession=new yn,this.edit=new yn,this.save=new yn,this.selectItem=new yn,this.interaction=new yn}get device(){return this.session?K2(this.session.device):""}onContextmenu(r){var o=this;return(0,M.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:mie,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(r){if(void 0===r)return"";const o=function gie(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(r);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(hc))},this.\u0275cmp=Xe({type:t,selectors:[["app-session-item"]],viewQuery:function(o,i){if(1&o&&Jl(vie,5),2&o){let s;is(s=ss())&&(i.slidingItem=s.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},standalone:!1,decls:21,vars:12,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Mn();V(0,"ion-item-sliding",1,0),$e("contextmenu",function(l){return pt(s),ht(i.onContextmenu(l))})("ionDrag",function(){return pt(s),ht(i.interaction.emit())}),V(2,"ion-item-options",2)(3,"ion-item-option",3),$e("click",function(){return pt(s),sa(1).close(),ht(i.edit.emit(i.session))}),nt(4,"ion-icon",4),W(),V(5,"ion-item-option",5),$e("click",function(){return pt(s),sa(1).close(),ht(i.save.emit(i.session))}),nt(6,"ion-icon",6),W()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),$e("click",function(){return pt(s),sa(1).close(),ht(i.resetSession.emit(i.session))}),nt(9,"ion-icon",9),W(),V(10,"ion-item-option",10),$e("click",function(){return pt(s),sa(1).close(),ht(i.delete.emit(i.session))}),nt(11,"ion-icon",11),W()(),V(12,"ion-item",12),$e("click",function(){return pt(s),ht(i.selectItem.emit())}),V(13,"ion-label")(14,"h2"),xe(15),W(),V(16,"p"),xe(17),nn(18,yie,2,1,"span",13),W()(),nn(19,_ie,1,0,"ion-icon",14)(20,bie,1,0,"ion-icon",15),W()()}2&o&&(fe("disabled",i.selecting),ue(12),fe("color",i.color),ue(),aa("in-item-color",i.selected)("selecting",i.selecting),ue(2),Ls(null==i.session?null:i.session.name),ue(2),Yp(" ",i.device,", ",null==i.session?null:i.session.ram,"MB RAM"),ue(),fe("ngIf",null==i.session?null:i.session.osVersion),ue(),fe("ngIf",i.selecting&&!i.selectedForExport),ue(),fe("ngIf",i.selecting&&i.selectedForExport))},dependencies:[xo,qo,ko,by,Cy,Sy,Qu],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var WL;function Sie(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar")(1,"ion-title"),xe(2,"Sessions"),W(),V(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return pt(n),ht(st().importSession())}),nt(5,"ion-icon",9),W()(),V(6,"ion-buttons",10)(7,"ion-button",8),$e("click",function(o){return pt(n),ht(st().openActionMenu(o))}),nt(8,"ion-icon",11),W(),nt(9,"app-pwa-prompt"),W()()}}function wie(e,t){1&e&&(V(0,"ion-title"),xe(1,"Export"),W())}function Eie(e,t){1&e&&(V(0,"ion-title"),xe(1,"Delete"),W())}function Die(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return pt(n),ht(st(2).onSelectAll())}),xe(2,"Select all"),W()()}}function Iie(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return pt(n),ht(st(2).selection.clear())}),xe(2,"Clear"),W()()}}function Tie(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar"),nn(1,wie,2,0,"ion-title",1)(2,Eie,2,0,"ion-title",1),V(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return pt(n),ht(st().onSelectionDone())}),xe(5),W()(),nn(6,Die,3,0,"ion-buttons",12)(7,Iie,3,0,"ion-buttons",12),W()}if(2&e){const n=st();ue(),fe("ngIf","select-for-export"===n.mode),ue(),fe("ngIf","select-for-delete"===n.mode),ue(3),Ls(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),ue(),fe("ngIf",n.selection.size!==n.sessionCount),ue(),fe("ngIf",n.selection.size===n.sessionCount)}}function Aie(e,t){1&e&&(V(0,"ion-title",13),xe(1,"Sessions"),W())}function Mie(e,t){1&e&&(V(0,"ion-title",13),xe(1,"Select for export"),W())}function xie(e,t){1&e&&(V(0,"ion-title",13),xe(1,"Select for delete"),W())}function kie(e,t){1&e&&(V(0,"div",14),nt(1,"ion-spinner"),W())}function Rie(e,t){1&e&&(Uc(0),nt(1,"br")(2,"br"),xe(3," You can find a collection of compatible ROMs on "),V(4,"a",17),xe(5,"PalmDB"),W(),xe(6,". "),Ql())}function Nie(e,t){if(1&e&&(V(0,"div",15)(1,"div",16),xe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),nn(3,Rie,7,0,"ng-container",1),W()()),2&e){const n=st();ue(3),fe("ngIf",n.showPalmdbLink)}}function Oie(e,t){if(1&e){const n=Mn();V(0,"app-session-item",19),$e("delete",function(){const o=pt(n).$implicit;return ht(st(2).deleteSession(o))})("selectItem",function(){const o=pt(n).$implicit,i=st(2);return ht("manage"===i.mode?i.launchSession(o):i.toggleSelection(o))})("edit",function(){const o=pt(n).$implicit;return ht(st(2).editSession(o))})("save",function(){const o=pt(n).$implicit;return ht(st(2).saveSession(o))})("resetSession",function(){const o=pt(n).$implicit;return ht(st(2).resetSession(o))})("interaction",function(){const o=pt(n).$implicit;return ht(st(2).lastSessionTouched=o.id)}),W()}if(2&e){const n=t.$implicit,r=st(2);fe("session",n)("selected",r.currentSessionId()===n.id)("touched",n.id===r.lastSessionTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function Pie(e,t){if(1&e&&(V(0,"ion-list"),nn(1,Oie,1,5,"app-session-item",18),W()),2&e){const n=st();ue(),fe("ngForOf",n.sessions)("ngForTrackBy",n.trackSessionBy)}}class ul{constructor(t,n,r,o,i,s,a,l,c,d,p,m,C,x){this.sessionService=t,this.fileService=n,this.alertService=r,this.emulationService=o,this.emulationContext=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.nativeSupportService=d,this.dragDropService=p,this.popoverController=m,this.loadingController=C,this.cd=x,this.memoizedSessions=ng(j=>[...j].sort((he,Ee)=>he.name.localeCompare(Ee.name))),this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const j=this.linkApi.import.receivePendingUrl();j&&this.alertService.message("Import request",`Do you want to import<br>${j} ?`,{OK:()=>this.fileService.openUrl(j,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.currentSessionOverride=Ai(void 0),this.currentSessionId=zi(()=>this.currentSessionOverride()??this.emulationContext.session()?.id)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.memoizedSessions(this.sessionService.sessions())}get sessionCount(){return this.sessionService.sessions().length}deleteSession(t){var n=this;return(0,M.A)(function*(){let r=!0;if(yield n.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{yield n.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var n=this;return(0,M.A)(function*(){const r=fL(t);void 0!==(yield n.editSettings(r,t.device))&&(yield n.sessionService.updateSession(pL(t,r)))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,n){return n.id}launchSession(t){var n=this;return(0,M.A)(function*(){n.lastSessionTouched=t.id,n.currentSessionOverride.set(t.id);const r=yield n.emulationService.switchSession(t.id);n.currentSessionOverride.set(void 0),r&&n.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var n=this;return(0,M.A)(function*(){const r=t.id===n.emulationContext.session()?.id;r&&(yield n.emulationService.stop()),yield n.storageService.deleteStateForSession(t),yield n.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),r&&(yield n.emulationService.switchSession(t.id)),yield n.alertService.message("Done",`Session ${t.name} has been reset.`)})()}showHelp(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:td,componentProps:{url:pie}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,M.A)(function*(){const n=new Map(t.sessionService.sessions().map(i=>[i.id,i])),r=Array.from(t.selection).map(i=>n.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(r);break;case"select-for-export":yield t.executeMassExport(r)}})()}onSelectAll(){this.sessionService.sessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,M.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:hie,event:r,componentProps:{sessionCount:n.sessionCount,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(So&&Sl)}executeMassExport(t){var n=this;return(0,M.A)(function*(){1===t.length&&(yield n.sessionService.saveSession(t[0])),t.length>1&&(yield n.sessionService.saveSessions(t))})()}executeMassDelete(t){var n=this;return(0,M.A)(function*(){if(1===t.length&&(yield n.deleteSession(t[0])),t.length>1){let r=!0;if(yield n.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield n.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var n=this;return(0,M.A)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void n.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let r;const o=yield n.loadingController.create();yield o.present();try{r=yield t.getContent()}catch(s){return console.warn(s),void(yield n.alertService.errorMessage(`Unable to open ${t.name}.`))}finally{o.dismiss()}if(t.name.endsWith(".zip")){let s=!1;return yield n.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>s=!0},"Cancel"),void(s&&(yield n.sessionService.addSessionsFromArchive(r)))}const i=yield n.nativeSupportService.deserializeSessionImage(r);if(i){const s={...hL(i.engine,i.metadata),name:n.disambiguateSessionName(i.metadata?.name??t.name)};if(void 0!==(yield n.editSettings(s,i.deviceId))){const a=yield n.sessionService.addSessionFromImage(i,s);n.lastSessionTouched=a.id}}else{const s=yield n.nativeSupportService.getRomInfo(r);if(!s)return void n.alertService.errorMessage("Not a valid session file or ROM image.");if(0===s.supportedDevices.length)return void n.alertService.errorMessage("No supported device for this ROM.");const a={...ere({engine:s.engine,name:n.disambiguateSessionName(t.name)}),name:n.disambiguateSessionName(t.name)},[l,c]=(yield n.editSettings(a,s.supportedDevices[0],s.supportedDevices,Ny(s.supportedDevices[0])))??[];if(void 0!==l){const d=yield n.sessionService.addSessionFromRom(r,l,a,c);n.lastSessionTouched=d.id}}})()}editSettings(t,n,r=[n],o){return new Promise(i=>{let s;this.modalController.create({component:SL,backdropDismiss:!1,componentProps:{settings:t,availableDevices:r,device:n,selectNandSize:o,onSave:(a,l)=>{s.dismiss(),i([a,l])},onCancel:()=>{s.dismiss(),i(void 0)}}}).then(a=>{s=a,s.present()})})}disambiguateSessionName(t){const n=this.sessionService.sessions();return Ff(t,r=>n.some(o=>o.name===r))}static#e=WL=()=>(this.\u0275fac=function(n){return new(n||ul)(y(lu),y(bc),y(wr),y(ll),y(vc),y(tr),y(Hs),y(PS),y(Ri),y(og),y(mE),y(hc),y(Us),y(mt))},this.\u0275cmp=Xe({type:ul,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectItem","edit","save","resetSession","interaction","session","selected","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(V(0,"ion-header",0),nn(1,Sie,10,0,"ion-toolbar",1)(2,Tie,8,5,"ion-toolbar",1),W(),V(3,"ion-content",2),$e("contextmenu",function(i){return r.onContextMenu(i)}),V(4,"ion-header",3)(5,"ion-toolbar"),nn(6,Aie,2,0,"ion-title",4)(7,Mie,2,0,"ion-title",4)(8,xie,2,0,"ion-title",4),W()(),nn(9,kie,2,0,"div",5)(10,Nie,4,1,"div",6)(11,Pie,2,2,"ion-list",1),W()),2&n&&(fe("translucent",!0),ue(),fe("ngIf","manage"===r.mode),ue(),fe("ngIf","manage"!==r.mode),ue(),fe("fullscreen",!0),ue(3),fe("ngIf","manage"===r.mode),ue(),fe("ngIf","select-for-export"===r.mode),ue(),fe("ngIf","select-for-delete"===r.mode),ue(),fe("ngIf",r.sessionService.loading()),ue(),fe("ngIf",!r.sessionService.loading()&&0===r.sessionCount),ue(),fe("ngIf",!r.sessionService.loading()&&r.sessionCount>0))},dependencies:[nc,xo,cs,us,ds,fs,qo,ca,Uh,ps,hs,Ly,Cie],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}WL(),oe([Xn()],ul.prototype,"deleteSession",null),oe([Xn()],ul.prototype,"editSession",null),oe([Xn()],ul.prototype,"saveSession",null),oe([Xn()],ul.prototype,"launchSession",null),oe([Xn()],ul.prototype,"resetSession",null),oe([Xn()],ul.prototype,"onSelectionDone",null),oe([Xn()],ul.prototype,"openActionMenu",null);const Fie=["nav"],Lie=()=>({}),$ie=e=>({selfReference:e});let Bie=(()=>{var e;class t{constructor(){this.navRoot=ul}ionViewDidLeave(){var r=this;return(0,M.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave()})()}ionViewWillLeave(){var r=this;return(0,M.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave()})()}ionViewDidEnter(){var r=this;return(0,M.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-sessions-wrapper"]],viewQuery:function(o,i){if(1&o&&Jl(Fie,5),2&o){let s;is(s=ss())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:6,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&nt(0,"ion-nav",1,0),2&o&&fe("animated",!1)("root",i.navRoot)("rootParams",function wk(e,t,n,r){return Ek(et(),Ei(),e,t,n,r)}(4,$ie,function Sk(e,t,n){const r=Ei()+e,o=et();return o[r]===kr?Cl(o,r,n?t.call(n):t()):function Np(e,t){return e[t]}(o,r)}(3,Lie)))},dependencies:[lw],encapsulation:2}))}return e(),t})();const jie=_.p+"assets/doc/settings-3481d9e6fe535377.md";function Vie(e,t){1&e&&(V(0,"ion-item",9)(1,"ion-toggle",19),xe(2,"Run when hidden"),W()())}function Uie(e,t){1&e&&(V(0,"ion-item",9)(1,"ion-toggle",20),xe(2,"Clipboard integration"),W()())}function Hie(e,t){if(1&e&&(V(0,"ion-select-option",23),xe(1),W()),2&e){const n=t.$implicit;fe("value",n[0]),ue(),vi("",n[1]," ")}}function Gie(e,t){if(1&e&&(V(0,"ion-item",9)(1,"ion-select",21),nn(2,Hie,2,2,"ion-select-option",22),W()()),2&e){const n=st();ue(2),fe("ngForOf",n.networkRedirectionModes)}}function zie(e,t){if(1&e){const n=Mn();V(0,"ion-item",9)(1,"div",24),nt(2,"ion-input",25),V(3,"ion-button",26),$e("click",function(o){pt(n);const i=st();return o.preventDefault(),o.stopPropagation(),ht(i.testProxyConnection())})("touchstart",function(o){pt(n);const i=st();return o.preventDefault(),o.stopPropagation(),ht(i.testProxyConnection())}),xe(4," Test "),W()()()}if(2&e){const n=st();ue(3),fe("disabled",!n.proxyServerValid)}}function Wie(e,t){1&e&&(V(0,"ion-item",9)(1,"ion-toggle",27),xe(2,"Fixed font size"),W()())}function qie(e,t){if(1&e&&(V(0,"ion-item",9)(1,"ion-select",28)(2,"ion-select-option",23),xe(3,"Off"),W(),V(4,"ion-select-option",23),xe(5,"Portrait"),W(),V(6,"ion-select-option",23),xe(7,"Landscape"),W(),V(8,"ion-select-option",23),xe(9,"Always"),W()()()),2&e){const n=st();ue(2),fe("value",n.indicatorFixNone),ue(2),fe("value",n.indicatorFixPortrait),ue(2),fe("value",n.indicatorFixLandscape),ue(2),fe("value",n.indicatorFixAll)}}function Zie(e,t){1&e&&(Uc(0),V(1,"h1"),xe(2,"Debug"),W(),V(3,"ion-item",9)(4,"ion-toggle",29),xe(5,"Snapshot validation (slow)"),W()(),Ql())}let Kie=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.modalController=r,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.networkBackendFactory=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,So&&Sl?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.networkRedirectionModes=[["native","Native"],["proxy","Proxy"]],this.onIndicatorFixModeChange=c=>UN(c),this.onFixedFontSizeChange=c=>function m7(e){pf()&&(NS(PN,e?"1":"0"),LN())}(!c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var r=this;return(0,M.A)(function*(){yield(yield r.modalController.create({component:td,componentProps:{url:jie}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var r=this;return(0,M.A)(function*(){r.formGroup.get("networkRedirection")?.value&&"proxy"===r.formGroup.get("networkRedirectionMode")?.value&&!r.formGroup.get("proxyServer")?.valid&&(r.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),r.formGroup.get("networkRedirection").setValue(!1)),r.formGroup.get("networkRedirection")?.value||r.formGroup.get("proxyServer")?.setValue(r.kvsService.kvs.proxyServer),yield r.kvsService.set({volume:r.formGroup.get("volume").value,showStatistics:r.formGroup.get("showStatistics").value,clipboardIntegration:r.formGroup.get("clipboardIntegration")?.value,networkRedirection:r.formGroup.get("networkRedirection")?.value,networkRedirectionMode:r.featureService.nativeNetworkIntegration?r.formGroup.get("networkRedirectionMode")?.value??"proxy":"proxy",proxyServer:r.formGroup.get("proxyServer")?.value,runHidden:r.formGroup.get("runHidden")?.value,autoLockUI:r.formGroup.get("autoLockUI")?.value,enableRemoteInstall:r.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:r.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:r.formGroup.get("snapshotIntegrityCheck")?.value,dontEmulateDPad:!r.formGroup.get("emulateDPad")?.value}),r.mutexReleasePromise&&(yield r.mutexReleasePromise)()})()}testProxyConnection(){var r=this;return(0,M.A)(function*(){if(!r.connectionTestInProgress){r.connectionTestInProgress=!0;try{switch((yield r.networkBackendFactory.createBackendProxy(r.formGroup.get("proxyServer")?.value).handshake(0)).status){case"failed":r.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":r.alertService.proxyVersionMismatchError();break;default:r.alertService.message("Success","Connection to proxy successful.")}}finally{r.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value&&"native"!==this.formGroup.get("networkRedirectionMode")?.value}get showRedirectionMode(){return this.formGroup.get("networkRedirection")?.value&&this.featureService.nativeNetworkIntegration}get proxyServerValid(){const r=this.formGroup.get("proxyServer");return!(!r?.value||!r?.valid)}get showDebugOptions(){return true}get isIndicatorFixApplicable(){return OS()}get dynmicFontsSupprted(){return pf()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new ly({volume:new $r(this.kvsService.kvs.volume),showStatistics:new $r(this.kvsService.kvs.showStatistics),runHidden:new $r(this.kvsService.kvs.runHidden),clipboardIntegration:new $r(this.kvsService.kvs.clipboardIntegration),networkRedirection:new $r(this.kvsService.kvs.networkRedirection),networkRedirectionMode:new $r(this.kvsService.kvs.networkRedirectionMode),proxyServer:new $r(this.kvsService.kvs.proxyServer,{validators:[toe]}),autoLockUI:new $r(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new $r(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new $r(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new $r(this.kvsService.kvs.snapshotIntegrityCheck),indicatorFixMode:new $r(VN()),fixedFontSize:new $r(!FN()),emulateDPad:new $r(!this.kvsService.kvs.dontEmulateDPad)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange),this.formGroup.get("fixedFontSize")?.valueChanges.subscribe(this.onFixedFontSizeChange)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Hs),y(qi),y(lE),y(wr),y(xL),y(fE))},this.\u0275cmp=Xe({type:t,selectors:[["app-settings"]],standalone:!1,decls:48,vars:10,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["label","Volume","labelPlacement","fixed","min","0","max","1","step","0.1","formControlName","volume"],["labelPlacement","fixed","formControlName","audioOnStart"],["lines","none",4,"ngIf"],["labelPlacement","fixed","formControlName","emulateDPad"],["labelPlacement","fixed","formControlName","networkRedirection"],["labelPlacement","fixed","formControlName","autoLockUI"],["labelPlacement","fixed","formControlName","showStatistics"],["labelPlacement","fixed","formControlName","enableRemoteInstall"],[4,"ngIf"],["labelPlacement","fixed","formControlName","runHidden"],["labelPlacement","fixed","formControlName","clipboardIntegration"],["formControlName","networkRedirectionMode","label","Redirection method",1,"redirection-mode-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"server-container"],["label","Proxy server","labelPlacement","stacked","placeholder","Proxy server host or URL","formControlName","proxyServer"],[1,"test-proxy-button",3,"click","touchstart","disabled"],["labelPlacement","fixed","formControlName","fixedFontSize"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],["labelPlacement","fixed","formControlName","snapshotIntegrityCheck"]],template:function(o,i){1&o&&(V(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),xe(3,"Settings"),W(),V(4,"ion-buttons",1)(5,"ion-button",2),$e("click",function(){return i.showHelp()}),nt(6,"ion-icon",3),W(),nt(7,"app-pwa-prompt"),W()()(),V(8,"ion-content",4)(9,"ion-header",5)(10,"ion-toolbar")(11,"ion-title",6),xe(12,"Settings"),W()()(),V(13,"div",7)(14,"form",8)(15,"h1"),xe(16,"Emulation"),W(),V(17,"ion-item",9),nt(18,"ion-range",10),W(),V(19,"ion-item",9)(20,"ion-toggle",11),xe(21,"Enable audio on start"),W()(),nn(22,Vie,3,0,"ion-item",12),V(23,"ion-item",9)(24,"ion-toggle",13),xe(25,"Emulate D-Pad"),W()(),V(26,"h1"),xe(27,"Host integration"),W(),nn(28,Uie,3,0,"ion-item",12),V(29,"ion-item",9)(30,"ion-toggle",14),xe(31,"Network redirection"),W()(),nn(32,Gie,3,1,"ion-item",12)(33,zie,5,1,"ion-item",12),V(34,"h1"),xe(35,"User interface"),W(),V(36,"ion-item",9)(37,"ion-toggle",15),xe(38,"Auto-lock UI"),W()(),nn(39,Wie,3,0,"ion-item",12),V(40,"ion-item",9)(41,"ion-toggle",16),xe(42,"Show statistics"),W()(),V(43,"ion-item",9)(44,"ion-toggle",17),xe(45,"Open from remote sources"),W()(),nn(46,qie,10,4,"ion-item",12)(47,Zie,6,0,"ng-container",18),W()()()),2&o&&(fe("translucent",!0),ue(8),fe("fullscreen",!0),ue(6),fe("formGroup",i.formGroup),ue(8),fe("ngIf",i.featureRunHidden),ue(6),fe("ngIf",i.clipboardService.isSupported()),ue(4),fe("ngIf",i.showRedirectionMode),ue(),fe("ngIf",i.showProxyServer),ue(6),fe("ngIf",i.dynmicFontsSupprted),ue(7),fe("ngIf",i.isIndicatorFixApplicable),ue(),fe("ngIf",i.showDebugOptions))},dependencies:[nc,xo,dc,cc,uc,cs,us,ds,fs,qo,pc,ko,aw,jh,Vh,ps,Hh,hs,Nf,sw,Bh,fc,Ly,La,Il],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:2em}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}.test-proxy-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end;margin-right:12px}"]}))}return e(),t})();const Yie=_.p+"assets/doc/cards-75195154c07dfe52.md";let vE=(()=>{var e;class t{transform(r){return void 0!==r?`${Math.round(r/1024/1024)} MB`:""}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=mi({name:"cardSize",type:t,pure:!0,standalone:!1}))}return e(),t})();function Xie(e,t){1&e&&(V(0,"div",12)(1,"b"),xe(2,"WARNING:"),W(),xe(3," This image cannot be used as a memory stick image. "),W())}let qL=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new eu({name:new Vs("",{nonNullable:!0,validators:[Ah.required,this.validateNameUnique]}),size:new Vs({value:"dummy",disabled:!0}),checkAutomatically:new Vs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Bf))},this.\u0275cmp=Xe({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},standalone:!1,decls:23,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],["value","dummy"],["labelPlacement","fixed","formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),W(),V(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.save()}),xe(6,"Save"),W()(),V(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),W()()()(),V(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),V(12,"ion-item",6),nt(13,"ion-input",7),W(),V(14,"ion-item",6)(15,"ion-select",8)(16,"ion-select-option",9),xe(17),Hc(18,"cardSize"),W()()(),V(19,"ion-item",6)(20,"ion-toggle",10),xe(21,"Check for errors automatically"),W()()(),nn(22,Xie,4,0,"div",11),W()),2&o&&(ue(3),Ls(i.newCard?"New memory card":"Edit memory card"),ue(2),fe("disabled",i.formGroup.invalid),ue(6),fe("formGroup",i.formGroup),ue(6),vi("",Gc(18,5,null==i.card?null:i.card.size)," "),ue(5),fe("ngIf",!i.memoryStickSupported))},dependencies:[xo,cs,us,ds,fs,pc,ko,jh,Vh,ps,Hh,hs,Nf,Bh,fc,dc,cc,uc,La,Il,vE],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}))}return e(),t})(),Qie=(()=>{var e;class t{constructor(){this.cardCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),$e("click",function(){return null==i.onExport?null:i.onExport()}),nt(2,"ion-icon",1),xe(3," Export "),W(),V(4,"ion-item",0),$e("click",function(){return null==i.onDelete?null:i.onDelete()}),nt(5,"ion-icon",2),xe(6," Delete "),W(),V(7,"ion-item",3),$e("click",function(){return null==i.onHelp?null:i.onHelp()}),nt(8,"ion-icon",4),xe(9," Help "),W()()),2&o&&(ue(),fe("detail",!1)("disabled",0===i.cardCount),ue(3),fe("detail",!1)("disabled",0===i.cardCount),ue(3),fe("detail",!1))},dependencies:[qo,ko,ca],encapsulation:2}))}return e(),t})();function Jie(e,t){if(1&e&&(V(0,"ion-select-option",11),xe(1),Hc(2,"cardSize"),W()),2&e){const n=t.$implicit,r=st();fe("value",n),ue(),vi("",Gc(2,2,r.sizeBytes(n))," ")}}const ese=[Zo.mb4,Zo.mb8,Zo.mb16,Zo.mb32,Zo.mb64,Zo.mb128];let tse=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new eu({name:new Vs("",{nonNullable:!0,validators:[Ah.required,this.validateNameUnique]}),size:new Vs(Zo.mb32,{nonNullable:!0}),checkAutomatically:new Vs(!0,{nonNullable:!0})})}get sizes(){return ese}sizeBytes(r){return function hoe(e){switch(e){case Zo.mb4:return 4046848;case Zo.mb8:return 8110080;case Zo.mb16:return 16220160;case Zo.mb32:return 32473088;case Zo.mb64:return 64978944;case Zo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(r)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Bf))},this.\u0275cmp=Xe({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},standalone:!1,decls:20,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["labelPlacement","fixed","formControlName","checkAutomatically"],[3,"value"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"New memory card"),W(),V(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.create()}),xe(6,"Create"),W()(),V(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancel()}),xe(9,"Cancel"),W()()()(),V(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),V(12,"ion-item",6),nt(13,"ion-input",7),W(),V(14,"ion-item",6)(15,"ion-select",8),nn(16,Jie,3,4,"ion-select-option",9),W()(),V(17,"ion-item",6)(18,"ion-toggle",10),xe(19,"Check for errors automatically"),W()()()()),2&o&&(ue(5),fe("disabled",i.formGroup.invalid),ue(6),fe("formGroup",i.formGroup),ue(5),fe("ngForOf",i.sizes))},dependencies:[nc,cs,us,ds,fs,pc,ko,jh,Vh,ps,Hh,hs,Nf,Bh,fc,dc,cc,uc,La,Il,vE],encapsulation:2}))}return e(),t})(),nse=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onEdit()}),nt(2,"ion-icon",1),xe(3," Edit "),W(),V(4,"ion-item",0),$e("click",function(){return i.onSave()}),nt(5,"ion-icon",2),xe(6," Export "),W(),V(7,"ion-item",0),$e("click",function(){return i.onCheck()}),nt(8,"ion-icon",3),xe(9," Check "),W(),V(10,"ion-item",4),$e("click",function(){return i.onDelete()}),nt(11,"ion-icon",5),xe(12," Delete "),W()()),2&o&&(ue(),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1))},dependencies:[qo,ko,ca],encapsulation:2}))}return e(),t})();function rse(e,t){1&e&&nt(0,"ion-icon",15)}function ose(e,t){1&e&&nt(0,"ion-icon",16)}let ise=(()=>{var e;class t{constructor(r,o,i){this.storageCardService=r,this.popoverController=o,this.sessionService=i,this.touched=!1,this.interaction=new yn,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new yn,this.edit=new yn,this.check=new yn,this.delete=new yn,this.save=new yn}onContextmenu(r){var o=this;return(0,M.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:nse,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";this.sessionService.sessions();const r=this.storageCardService.mountedInSession(this.card?.id);if(r)return`attached to '${r.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Er.dirty:return"needs check";case Er.clean:return"no errors";case Er.unformatted:return"no filesystem";case Er.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Bf),y(hc),y(lu))},this.\u0275cmp=Xe({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},standalone:!1,decls:21,vars:10,consts:[["slidingItem",""],[3,"contextmenu","ionDrag"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Mn();V(0,"ion-item-sliding",1,0),$e("contextmenu",function(l){return pt(s),ht(i.onContextmenu(l))})("ionDrag",function(){return pt(s),ht(i.interaction.emit(i.card))}),V(2,"ion-item-options",2)(3,"ion-item-option",3),$e("click",function(){return pt(s),sa(1).close(),ht(i.edit.emit(i.card))}),nt(4,"ion-icon",4),W(),V(5,"ion-item-option",5),$e("click",function(){return pt(s),sa(1).close(),ht(i.save.emit(i.card))}),nt(6,"ion-icon",6),W()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),$e("click",function(){return pt(s),sa(1).close(),ht(i.check.emit(i.card))}),nt(9,"ion-icon",9),W(),V(10,"ion-item-option",10),$e("click",function(){return pt(s),sa(1).close(),ht(i.delete.emit(i.card))}),nt(11,"ion-icon",11),W()(),V(12,"ion-item",12),$e("click",function(){return pt(s),i.selectCard.emit(),ht(i.interaction.emit())}),V(13,"ion-label")(14,"h2"),xe(15),W(),V(16,"p"),xe(17),Hc(18,"cardSize"),W()(),nn(19,rse,1,0,"ion-icon",13)(20,ose,1,0,"ion-icon",14),W()()}2&o&&(ue(12),fe("color",i.color),ue(),aa("selecting",i.selecting),ue(2),Ls(null==i.card?null:i.card.name),ue(2),Yp("",Gc(18,8,null==i.card?null:i.card.size),", ",i.status),ue(2),fe("ngIf",i.selecting&&!i.selectedForExport),ue(),fe("ngIf",i.selecting&&i.selectedForExport))},dependencies:[xo,qo,ko,by,Cy,Sy,Qu,vE],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var ZL;function sse(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar")(1,"ion-title"),xe(2,"Memory cards"),W(),V(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return pt(n),ht(st().addCardImage())}),nt(5,"ion-icon",9),W()(),V(6,"ion-buttons",10)(7,"ion-button",8),$e("click",function(o){return pt(n),ht(st().openActionMenu(o))}),nt(8,"ion-icon",11),W(),nt(9,"app-pwa-prompt"),W()()}}function ase(e,t){1&e&&(V(0,"ion-title"),xe(1,"Export"),W())}function lse(e,t){1&e&&(V(0,"ion-title"),xe(1,"Delete"),W())}function cse(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return pt(n),ht(st(2).onSelectAll())}),xe(2,"Select all"),W()()}}function use(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",10)(1,"ion-button",8),$e("click",function(){return pt(n),ht(st(2).selection.clear())}),xe(2,"Clear"),W()()}}function dse(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar"),nn(1,ase,2,0,"ion-title",1)(2,lse,2,0,"ion-title",1),V(3,"ion-buttons",7)(4,"ion-button",8),$e("click",function(){return pt(n),ht(st().onSelectionDone())}),xe(5),W()(),nn(6,cse,3,0,"ion-buttons",12)(7,use,3,0,"ion-buttons",12),W()}if(2&e){const n=st();ue(),fe("ngIf","select-for-export"===n.mode),ue(),fe("ngIf","select-for-delete"===n.mode),ue(3),Ls(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),ue(),fe("ngIf",n.selection.size!==n.cards.length),ue(),fe("ngIf",n.selection.size===n.cards.length)}}function fse(e,t){1&e&&(V(0,"ion-title",13),xe(1,"Memory cards"),W())}function pse(e,t){1&e&&(V(0,"ion-title",13),xe(1,"Select for export"),W())}function hse(e,t){1&e&&(V(0,"ion-title",13),xe(1,"Select for delete"),W())}function gse(e,t){1&e&&(V(0,"div",14),nt(1,"ion-spinner"),W())}function mse(e,t){1&e&&(V(0,"div",15)(1,"div",16),xe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),W()())}function vse(e,t){if(1&e){const n=Mn();V(0,"app-storage-card",18),$e("delete",function(){const o=pt(n).$implicit;return ht(st(2).deleteCard(o))})("selectCard",function(){const o=pt(n).$implicit,i=st(2);return ht("manage"===i.mode?i.browseCard(o):i.toggleSelection(o))})("edit",function(){const o=pt(n).$implicit;return ht(st(2).editCard(o))})("check",function(){const o=pt(n).$implicit;return ht(st(2).checkCard(o))})("interaction",function(){const o=pt(n).$implicit;return ht(st(2).lastCardTouched=o.id)})("save",function(){const o=pt(n).$implicit;return ht(st(2).saveCard(o))}),W()}if(2&e){const n=t.$implicit,r=st(2);fe("card",n)("touched",n.id===r.lastCardTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function yse(e,t){if(1&e&&(V(0,"ion-list"),nn(1,vse,1,4,"app-storage-card",17),W()),2&e){const n=st();ue(),fe("ngForOf",n.cards)("ngForTrackBy",n.trackCardBy)}}class ja{constructor(t,n,r,o,i,s,a,l,c,d,p){var m=this;this.actionSheetController=t,this.storageCardService=n,this.modalController=r,this.nativeSupportService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=d,this.cd=p,this.handleCardImport=function(){var C=(0,M.A)(function*(x){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(x.name))return void m.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");let j;const he=yield m.loadingController.create();yield he.present();try{j=yield x.getContent()}catch(Tt){return console.warn(Tt),void(yield m.alertService.errorMessage(`Unable to open ${x.name}".`))}finally{he.dismiss()}if(x.name.endsWith(".zip")){let Tt=!1;return yield m.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>Tt=!0},"Cancel"),void(Tt&&(yield m.storageCardService.addAllCardsFromArchive(j)))}if(/\.gz$/.test(x.name)){const Tt=yield m.loadingController.create({message:"Unpacking..."});yield Tt.present();try{j=yield m.fstools.gunzip(j)}finally{yield Tt.dismiss()}}const Ee=j?yield m.nativeSupportService.getCardSupportLevel(j.length):0;if(void 0===j||0===Ee)return void m.alertService.errorMessage("This is not a supported card image.");const ke=yield new Promise(function(){var Tt=(0,M.A)(function*(Lt){const kt=yield m.modalController.create({component:qL,backdropDismiss:!1,componentProps:{card:{name:m.disambiguateName(x.name.replace(/\.gz$/,"")),size:j.length},cardSupportLevel:Ee,newCard:!0,onCancel:()=>{kt.dismiss(),Lt(void 0)},onSave:Fn=>{Lt(Fn),kt.dismiss()}}});yield kt.present()});return function(Lt){return Tt.apply(this,arguments)}}());ke&&(yield m.storageCardService.createCardFromImage(ke.name,j,!!ke.dontFsckAutomatically))});return function(x){return C.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.cards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,M.A)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:td,componentProps:{url:Yie}})).present()})()}browseCard(t){var n=this;return(0,M.A)(function*(){(yield n.storageCardService.browseCard(t))&&n.onMountForBrowse(t)})()}editCard(t){var n=this;return(0,M.A)(function*(){const r=yield n.modalController.create({component:qL,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:yield n.nativeSupportService.getCardSupportLevel(t.size),onCancel:()=>r.dismiss(),onSave:(o=(0,M.A)(function*(i){yield n.storageCardService.updateCard(t.id,i),yield r.dismiss()}),function(s){return o.apply(this,arguments)})}});var o;yield r.present()})()}saveCard(t){var n=this;return(0,M.A)(function*(){const r=`${Lf(t.name.replace(/\.img$/,""))}.img`;yield(yield n.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!0)},{text:"Export uncompressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var n=this;return(0,M.A)(function*(){let r=!0;if(yield n.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{yield n.storageCardService.deleteCard(t.id)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,n){return n.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,M.A)(function*(){const n=t.mode;switch(t.mode="manage",n){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,M.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:Qie,event:r,componentProps:{cardCount:n.cards.length,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var n=this;return(0,M.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.saveCard(r));break}default:yield n.exportSelection(t)}})()}executeMassDelete(t){var n=this;return(0,M.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.deleteCard(r));break}default:{let r=!0;if(yield n.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield n.storageCardService.deleteCard(i)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var n=this;return(0,M.A)(function*(){const r=new Map(yield n.storageCardService.cards().map(i=>[i.id,i]));if(t.map(i=>r.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield n.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield n.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,M.A)(function*(){const n=yield t.modalController.create({component:tse,backdropDismiss:!1,componentProps:{onCancel:()=>n.dismiss(),onCreate:(r=(0,M.A)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield n.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield n.present()})()}disambiguateName(t){const n=this.storageCardService.cards();return Ff(t,r=>n.some(o=>o.name===r))}static#e=ZL=()=>(this.\u0275fac=function(n){return new(n||ja)(y(zh),y(Bf),y(Hs),y(og),y(wr),y(rd),y(bc),y(Us),y(jy),y(hc),y(mt))},this.\u0275cmp=Xe({type:ja,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectCard","edit","check","interaction","save","card","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(V(0,"ion-header",0),nn(1,sse,10,0,"ion-toolbar",1)(2,dse,8,5,"ion-toolbar",1),W(),V(3,"ion-content",2),$e("contextmenu",function(i){return r.onContextMenu(i)}),V(4,"ion-header",3)(5,"ion-toolbar"),nn(6,fse,2,0,"ion-title",4)(7,pse,2,0,"ion-title",4)(8,hse,2,0,"ion-title",4),W()(),nn(9,gse,2,0,"div",5)(10,mse,3,0,"div",6)(11,yse,2,2,"ion-list",1),W()),2&n&&(fe("translucent",!0),ue(),fe("ngIf","manage"===r.mode),ue(),fe("ngIf","manage"!==r.mode),ue(),fe("fullscreen",!0),ue(3),fe("ngIf","manage"===r.mode),ue(),fe("ngIf","select-for-export"===r.mode),ue(),fe("ngIf","select-for-delete"===r.mode),ue(),fe("ngIf",r.storageCardService.isLoading()),ue(),fe("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),ue(),fe("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[nc,xo,cs,us,ds,fs,qo,ca,Uh,ps,hs,Ly,ise],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}ZL(),oe([Xn()],ja.prototype,"addCardImage",null),oe([Xn()],ja.prototype,"browseCard",null),oe([Xn()],ja.prototype,"editCard",null),oe([Xn()],ja.prototype,"saveCard",null),oe([Xn()],ja.prototype,"checkCard",null),oe([Xn()],ja.prototype,"deleteCard",null),oe([Xn()],ja.prototype,"onSelectionDone",null),oe([Xn()],ja.prototype,"openActionMenu",null);const _se=_.p+"assets/doc/card-browser-5a0261814255810d.md";function Cse(e,t){1&e&&nt(0,"ion-icon",8)}function Sse(e,t){1&e&&nt(0,"ion-icon",9)}function wse(e,t){1&e&&nt(0,"ion-icon",10)}function Ese(e,t){if(1&e){const n=Mn();V(0,"ion-item",2),$e("click",function(){const o=pt(n).index;return ht(st(2).onSelect(o))}),Uc(1,3),nn(2,Cse,1,0,"ion-icon",4)(3,Sse,1,0,"ion-icon",5)(4,wse,1,0,"ion-icon",6),Ql(),V(5,"div",7),xe(6),W()()}if(2&e){const n=t.$implicit,r=t.index,o=st(2);fe("detail",!1)("lines",r===o.entries.length-1?"none":"full"),ue(),fe("ngSwitch",o.entries.length),ue(),fe("ngSwitchCase",r+1),ue(),fe("ngSwitchCase",r+2),ue(3),Ls(n)}}function Dse(e,t){if(1&e&&(V(0,"ion-list"),nn(1,Ese,7,6,"ion-item",1),W()),2&e){const n=st();ue(),fe("ngForOf",n.entries)}}let Ise=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(o,i){1&o&&nn(0,Dse,2,1,"ion-list",0),2&o&&fe("ngIf",i.entries)},dependencies:[nc,xo,Cv,pN,hN,qo,ko,ca],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}))}return e(),t})(),Tse=(()=>{var e;class t{constructor(r){this.vfsService=r,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(cd))},this.\u0275cmp=Xe({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},standalone:!1,decls:19,vars:8,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onStartSelection()}),nt(2,"ion-icon",1),xe(3," Start selection "),W(),V(4,"ion-item",2),$e("click",function(){return i.onAddFiles()}),nt(5,"ion-icon",3),xe(6," Add files "),W(),V(7,"ion-item",2),$e("click",function(){return i.onCreateDirectry()}),nt(8,"ion-icon",4),xe(9," Add directory "),W(),V(10,"ion-item",2),$e("click",function(){return i.onExtractZipfile()}),nt(11,"ion-icon",5),xe(12," Extract zip "),W(),V(13,"ion-item",0),$e("click",function(){return i.onPaste()}),nt(14,"ion-icon",6),xe(15," Paste "),W(),V(16,"ion-item",7),$e("click",function(){return i.onHelp()}),nt(17,"ion-icon",8),xe(18," Help "),W()()),2&o&&(ue(),fe("detail",!1)("disabled",i.emptyDirectory),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1)("disabled",!i.vfsService.isClipboardPopulated()),ue(3),fe("detail",!1))},dependencies:[qo,ko,ca],encapsulation:2}))}return e(),t})();var KL;class jf{constructor(t,n){this.modalController=t,this.vfsService=n,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new eu({name:new Vs("",{nonNullable:!0,validators:[Ah.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new Vs(!1,{nonNullable:!0}),attrHidden:new Vs(!1,{nonNullable:!0}),attrSystem:new Vs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,M.A)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,M.A)(function*(){yield t.save()})()}save(){var t=this;return(0,M.A)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}static#e=KL=()=>(this.\u0275fac=function(n){return new(n||jf)(y(Hs),y(cd))},this.\u0275cmp=Xe({type:jf,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},standalone:!1,decls:29,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["labelPlacement","stacked","formControlName","name",3,"label","placeholder"],["labelPlacement","fixed","formControlName","attrReadonly"],["name","lock-closed-outline","size","small"],["labelPlacement","fixed","formControlName","attrHidden"],["name","eye-off-outline","size","small"],["labelPlacement","fixed","formControlName","attrSystem"],["name","cog-outline","size","small"]],template:function(n,r){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3),W(),V(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return r.onSaveClick()}),xe(6,"Save"),W()(),V(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return r.onCancelClick()}),xe(9,"Cancel"),W()()()(),V(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return r.onEnter()}),V(12,"ion-item",6),nt(13,"ion-input",7),W(),V(14,"ion-item",6)(15,"h2"),xe(16,"Attributes"),W()(),V(17,"ion-item",6)(18,"ion-checkbox",8),nt(19,"ion-icon",9),xe(20,"Readonly"),W()(),V(21,"ion-item",6)(22,"ion-checkbox",10),nt(23,"ion-icon",11),xe(24,"Hidden"),W()(),V(25,"ion-item",6)(26,"ion-checkbox",12),nt(27,"ion-icon",13),xe(28,"System"),W()()()()),2&n&&(ue(3),vi("Edit ",r.subjectName.toLowerCase()),ue(2),fe("disabled",r.formGroup.invalid),ue(6),fe("formGroup",r.formGroup),ue(2),fe("label",VC("",r.subjectName," name"))("placeholder",VC("Enter ",r.subjectName.toLowerCase()," name")))},dependencies:[cs,us,u2,ds,fs,qo,pc,ko,ps,hs,Nf,fc,dc,cc,uc,La,Il],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}))}KL(),oe([Xn()],jf.prototype,"onSaveClick",null),oe([Xn()],jf.prototype,"onEnter",null);let Ase=(()=>{var e;class t{constructor(r,o){this.el=r,this.zone=o;const i=r.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const r=this.el.nativeElement.querySelector("input");r&&(setTimeout(()=>r.focus(),100),this.observer?.disconnect())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(rt),y(We))},this.\u0275dir=Ut({type:t,selectors:[["","appAutofocus",""]],standalone:!1}))}return e(),t})(),Mse=(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new eu({name:new Vs("",{nonNullable:!0,validators:[Ah.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(cd),y(Hs))},this.\u0275cmp=Xe({type:t,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},standalone:!1,decls:14,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"click","disabled"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Directory name","labelPlacement","stacked","placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),xe(3,"Create directory"),W(),V(4,"ion-buttons",0)(5,"ion-button",1),$e("click",function(){return i.onCreateClick()}),xe(6,"Create"),W()(),V(7,"ion-buttons",2)(8,"ion-button",3),$e("click",function(){return i.onCancelClick()}),xe(9,"Cancel"),W()()()(),V(10,"ion-content",4)(11,"form",5),$e("keydown.enter",function(){return i.onEnter()}),V(12,"ion-item",6),nt(13,"ion-input",7),W()()()),2&o&&(ue(5),fe("disabled",i.formGroup.invalid),ue(6),fe("formGroup",i.formGroup))},dependencies:[cs,us,ds,fs,pc,ko,ps,hs,fc,dc,cc,uc,La,Il,Ase],encapsulation:2}))}return e(),t})(),xse=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Xe({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},standalone:!1,decls:16,vars:5,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),$e("click",function(){return i.onEdit()}),nt(2,"ion-icon",1),xe(3," Edit "),W(),V(4,"ion-item",0),$e("click",function(){return i.onSave()}),nt(5,"ion-icon",2),xe(6," Save "),W(),V(7,"ion-item",0),$e("click",function(){return i.onCopy()}),nt(8,"ion-icon",3),xe(9," Copy "),W(),V(10,"ion-item",0),$e("click",function(){return i.onCut()}),nt(11,"ion-icon",4),xe(12," Cut "),W(),V(13,"ion-item",5),$e("click",function(){return i.onDelete()}),nt(14,"ion-icon",6),xe(15," Delete "),W()()),2&o&&(ue(),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1),ue(3),fe("detail",!1))},dependencies:[qo,ko,ca],encapsulation:2}))}return e(),t})(),YL=(()=>{var e;class t{transform(r){return void 0===r?"":r<1024?`${r} bytes`:r<1048576?`${(r/1024).toFixed(1)} kB`:`${(r/1024/1024).toFixed(1)} MB`}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=mi({name:"fileSize",type:t,pure:!0,standalone:!1}))}return e(),t})();const kse=["slidingItem"];function Rse(e,t){1&e&&nt(0,"ion-icon",24)}function Nse(e,t){1&e&&nt(0,"ion-icon",25)}function Ose(e,t){1&e&&nt(0,"ion-icon",26)}function Pse(e,t){1&e&&nt(0,"ion-icon",27)}function Fse(e,t){1&e&&nt(0,"ion-icon",28)}function Lse(e,t){1&e&&nt(0,"ion-icon",29)}function $se(e,t){1&e&&nt(0,"ion-icon",30)}function Bse(e,t){1&e&&nt(0,"ion-icon",31)}function jse(e,t){1&e&&nt(0,"ion-icon",32)}function Vse(e,t){if(1&e&&(Uc(0),xe(1),Hc(2,"fileSize"),Ql()),2&e){const n=st();ue(),vi(" - ",Gc(2,1,null==n.entry?null:n.entry.size)," ")}}let Use=(()=>{var e;class t{constructor(r,o,i){this.actionSheetController=r,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new yn,this.selectEntry=new yn,this.editEntry=new yn,this.copyEntry=new yn,this.cutEntry=new yn,this.deleteEntry=new yn,this.saveEntry=new yn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(r){r.selecting&&r.selecting.currentValue&&!r.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(r){var o=this;return(0,M.A)(function*(){o.selecting||(r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:xse,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var r=this;return(0,M.A)(function*(){const o=r.entry?.isDirectory?"directory":"file";(yield r.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>r.copyEntry.emit(r.entry)},{text:`Cut ${o}`,handler:()=>r.cutEntry.emit(r.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let r=0;return this.entry?.attributes.readonly&&(r+=1.7),this.entry?.attributes.hidden&&(r+=1.7),this.entry?.attributes.system&&(r+=1.7),(this.markedForCopy||this.markedForCut)&&(r+=1.7),0===r?"0":(r+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,r+"em")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(zh),y(hc),y(cd))},this.\u0275cmp=Xe({type:t,selectors:[["app-file-entry"]],viewQuery:function(o,i){if(1&o&&Jl(kse,5),2&o){let s;is(s=ss())&&(i.slidingItem=s.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},standalone:!1,features:[ns],decls:29,vars:23,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color","detail"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Mn();V(0,"ion-item-sliding",1,0),$e("contextmenu",function(l){return pt(s),ht(i.onContextmenu(l))})("ionDrag",function(){return pt(s),ht(i.interaction.emit(i.entry))}),V(2,"ion-item-options",2)(3,"ion-item-option",3),$e("click",function(){return pt(s),sa(1).close(),ht(i.editEntry.emit(i.entry))}),nt(4,"ion-icon",4),W(),V(5,"ion-item-option",5),$e("click",function(){return pt(s),sa(1).close(),ht(i.saveEntry.emit(i.entry))}),nt(6,"ion-icon",6),W()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),$e("click",function(){return pt(s),sa(1).close(),ht(i.cutOrCopyEntry())}),nt(9,"ion-icon",9),W(),V(10,"ion-item-option",10),$e("click",function(){return pt(s),sa(1).close(),ht(i.deleteEntry.emit(i.entry))}),nt(11,"ion-icon",11),W()(),V(12,"ion-item",12),$e("click",function(){return pt(s),i.selectEntry.emit(),ht(i.interaction.emit())}),nn(13,Rse,1,0,"ion-icon",13)(14,Nse,1,0,"ion-icon",14),V(15,"div",15),nn(16,Ose,1,0,"ion-icon",16)(17,Pse,1,0,"ion-icon",17)(18,Fse,1,0,"ion-icon",18)(19,Lse,1,0,"ion-icon",19)(20,$se,1,0,"ion-icon",20),W(),nn(21,Bse,1,0,"ion-icon",21)(22,jse,1,0,"ion-icon",22),V(23,"ion-label")(24,"h2"),xe(25),W(),V(26,"p"),xe(27),nn(28,Vse,3,3,"ng-container",23),W()()()()}2&o&&(fe("disabled",i.selecting),ue(12),Lu("opacity",i.touched?1:.99999),aa("is-directory",null==i.entry?null:i.entry.isDirectory),fe("color",i.color)("detail",(null==i.entry?null:i.entry.isDirectory)&&!i.selecting),ue(),fe("ngIf",null==i.entry?null:i.entry.isDirectory),ue(),fe("ngIf",!(null!=i.entry&&i.entry.isDirectory)),ue(2),fe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.readonly),ue(),fe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.hidden),ue(),fe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.system),ue(),fe("ngIf",i.markedForCopy),ue(),fe("ngIf",i.markedForCut),ue(),fe("ngIf",i.selecting&&!i.selected),ue(),fe("ngIf",i.selecting&&i.selected),ue(),Lu("padding-right",i.safetyMargin),aa("selecting",i.selecting),ue(2),Ls(null==i.entry?null:i.entry.name),ue(2),vi(" ",null==i.entry?null:i.entry.lastModifiedLocalDate," "),ue(),fe("ngIf",!(null!=i.entry&&i.entry.isDirectory)))},dependencies:[xo,qo,ko,by,Cy,Sy,Qu,YL],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}))}return e(),t})();var XL;function Hse(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",7),$e("trigger",function(o){return pt(n),ht(st().openBreadcrumbMenu(o))}),xe(3),W()(),V(4,"ion-buttons",8),nt(5,"ion-back-button"),W(),V(6,"ion-buttons",9)(7,"ion-button",10),$e("click",function(o){return pt(n),ht(st().openContextMenu(o,"trigger"))}),nt(8,"ion-icon",11),W()()()}if(2&e){const n=st();ue(3),Ls(n.title)}}function Gse(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",13)(1,"ion-button",10),$e("click",function(){return pt(n),ht(st(2).onSelectAll())}),xe(2,"Select all"),W()()}}function zse(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",13)(1,"ion-button",10),$e("click",function(){return pt(n),ht(st(2).selection.clear())}),xe(2,"Clear"),W()()}}function Wse(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar")(1,"ion-title"),xe(2,"Selection"),W(),V(3,"ion-buttons",9)(4,"ion-button",10),$e("click",function(){return pt(n),ht(st().onSelectionDone())}),xe(5),W()(),nn(6,Gse,3,0,"ion-buttons",12)(7,zse,3,0,"ion-buttons",12),W()}if(2&e){const n=st();ue(5),Ls(0===n.selection.size?"Cancel":"Done"),ue(),fe("ngIf",n.selection.size!==(null==n.entries?null:n.entries.length)),ue(),fe("ngIf",n.selection.size===(null==n.entries?null:n.entries.length))}}function qse(e,t){if(1&e&&(V(0,"div",14)(1,"div",15),xe(2),W()()),2&e){const n=st();ue(2),vi("empty ",n.isRoot?"card":"directory")}}function Zse(e,t){if(1&e){const n=Mn();V(0,"app-file-entry",16),$e("selectEntry",function(){const o=pt(n).$implicit;return ht(st().onSelect(o))})("editEntry",function(){const o=pt(n).$implicit;return ht(st().onEditEntry(o))})("saveEntry",function(){const o=pt(n).$implicit;return ht(st().onSaveEntry(o))})("copyEntry",function(){const o=pt(n).$implicit;return ht(st().onCopyEntry(o))})("cutEntry",function(){const o=pt(n).$implicit;return ht(st().onCutEntry(o))})("deleteEntry",function(){const o=pt(n).$implicit;return ht(st().onDeleteEntry(o))})("interaction",function(){const o=pt(n).$implicit;return ht(st().lastEntryTouched=o.name)}),W()}if(2&e){const n=t.$implicit,r=st();fe("entry",n)("selecting","select"===r.mode)("selected",r.selection.has(n.name))("touched",n.name===r.lastEntryTouched)}}function Kse(e,t){if(1&e&&(V(0,"p"),xe(1),Hc(2,"fileSize"),Hc(3,"fileSize"),W()),2&e){const n=st(2);ue(),Yp("",Gc(2,2,n.bytesFree())," free, ",Gc(3,4,n.bytesTotal)," total")}}function Yse(e,t){if(1&e&&(V(0,"p"),xe(1),Hc(2,"fileSize"),W()),2&e){const n=st(2);ue(),jC(" ",Gc(2,3,n.bytesInFiles)," in ",n.fileCount," ",1===n.fileCount?"file":"files"," ")}}function Xse(e,t){if(1&e&&(V(0,"ion-item",17)(1,"ion-label",18),nn(2,Kse,4,6,"p",1)(3,Yse,3,5,"p",1),W()()),2&e){const n=st();ue(2),fe("ngIf",n.isRoot),ue(),fe("ngIf",n.fileCount>0)}}const Qse=[];function Jse(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class fa{constructor(t,n,r,o,i,s,a,l,c){this.vfsService=t,this.popoverController=n,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.loadingController=l,this.cd=c,this.memoizedEntries=ng(d=>[...d].sort(Jse)),this.bytesInFilesMemoized=ng(d=>d?.reduce((p,m)=>p+(m.isDirectory?0:m.size),0)??0),this.fileCountMemoized=ng(d=>d?.filter(p=>!p.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.subscriptions=[],t.change.subscribe(function bse(e,t,n){return()=>{const r=n();r!==t&&(e.markForCheck(),t=r)}}(c,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0))}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}handleDragDropEvent(t){this.fileService.openFromDrop(t,n=>this.vfsService.addFiles(n,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.bytesFree}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?this.memoizedEntries(this.vfsService.readdir(this.path)):Qse}trackEntryBy(t,n){return n.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var n=this;return(0,M.A)(function*(){yield(yield n.modalController.create({component:jf,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var n=this;return(0,M.A)(function*(){n.path&&(t.isDirectory?yield n.vfsService.archiveFiles([t],n.path):yield n.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var n=this;return(0,M.A)(function*(){t.isDirectory?yield n.vfsService.deleteRecursive([t]):yield n.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:Mse,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:r=>t.vfsService.mkdir(`${t.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,M.A)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,M.A)(function*(){yield(yield t.modalController.create({component:td,componentProps:{url:_se}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,M.A)(function*(){if(!t.entries)return;const n=Array.from(t.selection),r=new Map(t.entries.map(a=>[a.name,a])),o=n.every(a=>!r.get(a)?.isDirectory),i=n.every(a=>r.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,M.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.archiveFiles(n,t.path))})()}onDeleteSelection(){var t=this;return(0,M.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.deleteRecursive(n))})()}openBreadcrumbMenu(t){var n=this;return(0,M.A)(function*(){if(!n.card||!n.path)return;const r=[..."/"===n.path?[]:[...n.vfsService.splitPath(n.path).reverse().slice(1),n.card.name],"Memory cards"];(yield n.popoverController.create({component:Ise,componentProps:{entries:r,onSelect:i=>n.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,n){var r=this;return(0,M.A)(function*(){(yield r.popoverController.create({component:Tse,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:t,dismissOnSelect:!0,arrow:!1,reference:n})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(n=>[n.name,n]));return Array.from(this.selection).map(n=>t.get(n)).filter(n=>!!n)}extractZipArchive(t){var n=this;return(0,M.A)(function*(){if(!/\.zip$/.test(t.name))return void(yield n.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported"));let r;const o=yield n.loadingController.create();yield o.present();try{r=yield t.getContent()}catch(i){return console.warn(i),void(yield n.alertService.errorMessage(`Unable to open ${t.name}.`))}finally{o.dismiss()}n.vfsService.unpackArchive(r,n.path||"/")})()}static#e=XL=()=>(this.\u0275fac=function(n){return new(n||fa)(y(cd),y(hc),y(Ph),y(wr),y(zh),y(Hs),y(bc),y(Us),y(mt))},this.\u0275cmp=Xe({type:fa,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},standalone:!1,decls:9,vars:8,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction","entry","selecting","selected","touched"],["lines","none",1,"metadata"],[1,"directory-stats"]],template:function(n,r){1&n&&(V(0,"ion-header",0),nn(1,Hse,9,1,"ion-toolbar",1)(2,Wse,8,3,"ion-toolbar",1),W(),V(3,"ion-content",2),$e("contextmenu",function(i){return r.onContextMenu(i)}),V(4,"div",3),nn(5,qse,3,1,"div",4),V(6,"ion-list"),nn(7,Zse,1,4,"app-file-entry",5)(8,Xse,4,2,"ion-item",6),W()()()),2&n&&(fe("translucent",!0),ue(),fe("ngIf","browse"===r.mode),ue(),fe("ngIf","select"===r.mode),ue(),fe("fullscreen",!0),ue(2),fe("ngIf",0===(null==r.entries?null:r.entries.length)),ue(2),fe("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),ue(),fe("ngIf",r.isRoot||r.fileCount>0))},dependencies:[nc,xo,cs,us,ds,fs,qo,ko,Qu,ca,ps,hs,h2,GL,Use,YL],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}.directory-stats[_ngcontent-%COMP%]{cursor:default}"],changeDetection:0}))}XL(),oe([Xn()],fa.prototype,"onSaveEntry",null),oe([Xn()],fa.prototype,"onDeleteEntry",null),oe([Xn()],fa.prototype,"onCreateDirectory",null),oe([Xn()],fa.prototype,"onPaste",null),oe([Xn()],fa.prototype,"onHelp",null),oe([Xn()],fa.prototype,"onSelectionDone",null),oe([Xn()],fa.prototype,"onSaveZip",null),oe([Xn()],fa.prototype,"onDeleteSelection",null);const eae=["nav"],tae=[{path:"tab",component:gE,children:[{path:"emulation",component:da},{path:"sessions",component:Bie},{path:"storage",component:(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(fa,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=ja,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var r=this;return(0,M.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(r){var o=this;return(0,M.A)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent(r)})()}get animateNav(){return!f7}browseCard(r){this.currentlyBrowsingCard=r,this.nav?.push(fa,{card:r,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(r){r!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(cd),y(mE))},this.\u0275cmp=Xe({type:t,selectors:[["app-storage"]],viewQuery:function(o,i){if(1&o&&Jl(eae,5),2&o){let s;is(s=ss())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:3,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&nt(0,"ion-nav",1,0),2&o&&fe("animated",i.animateNav)("root",i.navRoot)("rootParams",i.navRootProps)},dependencies:[lw],encapsulation:2}))}return e(),t})()},{path:"settings",component:Kie},{path:"about",component:tg},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let nae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({imports:[Jv.forChild(tae),Jv]}))}return e(),t})(),rae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({imports:[tu,rc,Xu,nae,Xte,Qte,Jte,ene,Yte]}))}return e(),t})(),oae=(()=>{var e;class t extends eN{pushState(r,o,i,s){this.replaceState(r,o,i,s)}static#e=e=()=>(this.\u0275fac=(()=>{let r;return function(i){return(r||(r=eo(t)))(i||t)}})(),this.\u0275prov=Qe({token:t,factory:t.\u0275fac}))}return e(),t})();const iae=[{path:"install",component:j2,canActivate:[V2]},{path:"import",component:j2,canActivate:[V2]},{path:"",component:gE}];let sae=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Go({type:t}),this.\u0275inj=Un({providers:[{provide:vl,useClass:oae}],imports:[Jv.forRoot(iae,{preloadingStrategy:fY,useHash:!0}),rae,Jv]}))}return e(),t})(),QL=(()=>{var e;class t{constructor(r,o,i,s,a){var l=this;this.kvsService=r,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,M.A)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==nd&&(yield l.kvsService.set({version:nd,previousVersion:c,latestVersion:nd}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${nd}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=nd})),this.mutex=new $a,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var r=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,M.A)(function*(){yield r.emulationService.bootstrapComplete(),r.alertService.updateAvailable(()=>r.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var r=this;return(0,M.A)(function*(){if(yield r.kvsService.initialize(),r.kvsService.kvs.previousVersion===nd){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield r.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var r=this;return(0,M.A)(function*(){yield(yield r.modalController.create({component:td,componentProps:{url:U2,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var r=this;setTimeout((0,M.A)(function*(){yield r.serviceWorkerService.update(),r.scheduleUpdateCheck()}),9e5)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(qi),se(ll),se(wr),se(Hs),se(Ry))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),lae=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.kvsService=r,this.alertService=o,this.emulationService=i,this.pwaService=s,this.nativeAppService=a,this.serviceWorkerService=l}start(){var r=this;return(0,M.A)(function*(){yield r.handleiOSNativeAppServiceWorkerBug();const o=r.kvsService.kvs.infoId??0;r.kvsService.kvs.infoId=yield r.showInfo(o),r.pwaService.getInstallationMode()===yc.pwa&&So&&!Sl&&(r.kvsService.kvs.ios174UpdateWarningId=yield r.showIOS174UpdateWarning(r.kvsService.kvs.ios174UpdateWarningId))})()}handleiOSNativeAppServiceWorkerBug(){var r=this;return(0,M.A)(function*(){if(!r.serviceWorkerService.isEnabled()||!(yield r.nativeAppService.getWorkerFailed()))return;let i=!1;yield r.alertService.message("App failed to load offline",'\n            It seems the app failed to load without internet. This is caused by an iOS bug.\n            <br><br>\n            You can fix by resetting the service worker now or by tapping\n            "reset worker" at the bottom of the "About" tab later.\n            ',{"Fix now":()=>i=!0},"Close"),i?yield r.serviceWorkerService.reset():r.nativeAppService.clearWorkerFailed()})()}showInfo(r){var o=this;return(0,M.A)(function*(){return 2===r&&So&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(r){var o=this;return(0,M.A)(function*(){return(r??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(qi),se(wr),se(ll),se(Fy),se(ua),se(Ry))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),cae=(()=>{var e;class t{constructor(r,o,i,s){this.pwaService=r,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var r=this;return(0,M.A)(function*(){r.bootstrapService.notifyHasRendered(),yield r.infoService.start(),r.pwaService.invite(),r.updateService.start()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Fy),y(QL),y(NL),y(lae))},this.\u0275cmp=Xe({type:t,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(V(0,"ion-app"),nt(1,"ion-router-outlet"),W())},dependencies:[c2,Gh],encapsulation:2}))}return e(),t})();const JL=["touchstart","click","keydown"];let uae=(()=>{var e;class t{constructor(r,o){this.kvsService=r,this.audioService=o,this.initialize()}initialize(){var r=this;return(0,M.A)(function*(){if(yield r.kvsService.initialize(),!r.kvsService.kvs.enableAudioOnFirstInteraction)return;So&&Sl&&r.audioService.initialize();const o=()=>{JL.forEach(i=>window.removeEventListener(i,o,!0)),r.audioService.initialize()};JL.forEach(i=>window.addEventListener(i,o,!0))})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(qi),se(Wy))},this.\u0275prov=Qe({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const dae=()=>{const e=new nu;return e.link=function({href:t,tokens:n}){return`<a href="${t}" target="_blank" rel="external">${this.parser.parseInline(n)||t}</a>`},{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let fae=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(se(tr),se(ll),se(Wy),se(lu),se(qi),se(QL),se(uae),se(Ry))},this.\u0275mod=Go({type:t,bootstrap:[cae]}),this.\u0275inj=Un({providers:[{provide:MP,useClass:PQ},{provide:rg,useClass:foe},{provide:$y,useFactory:()=>{const r=Ft.create(fee);return window.__cp_enableLogging=o=>r.then(i=>i.enableLogging(o)),r}},{provide:yL,useFactory:()=>PP(dee)},hC(()=>{return(o=Le(qi)).initialize.bind(o)();var o}),Fq(ju(Xc.LegacyInterceptors,[{provide:MO,useFactory:Dq},{provide:hh,useExisting:MO,multi:!0}]))],imports:[i7,tu.forRoot({innerHTMLTemplatesEnabled:!0}),sae,Aw.forRoot({loader:WS,markedOptions:{provide:$2,useFactory:dae},markedExtensions:[{provide:L2,useFactory:Pee,multi:!0}]})]}))}return e(),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function g7(){pf()&&LN()}(),function C7(){Dv=GN("#/install?"),Iv=GN("#/import?")}(),function v7(){return!!RS(Ev)}()&&!zN()||function S7(){return void 0!==Dv}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),So&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),UN()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),o7().bootstrapModule(fae).then(e=>true).catch(e=>console.log(e))},4880:K=>{"use strict";K.exports=SyntaxError},4896:(K,Se,_)=>{"use strict";_.r(Se),_.d(Se,{MENU_BACK_BUTTON_PRIORITY:()=>D,OVERLAY_BACK_BUTTON_PRIORITY:()=>P,blockHardwareBackButton:()=>R,shouldUseCloseWatcher:()=>z,startHardwareBackButton:()=>f});var S=_(1890),k=_(575),L=_(9335);const z=()=>L.e.get("experimentalCloseWatcher",!1)&&void 0!==k.w&&"CloseWatcher"in k.w,R=()=>{document.addEventListener("backbutton",()=>{})},f=()=>{const F=document;let N=!1;const H=()=>{if(N)return;let O=0,I=[];const T=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(be,Q){I.push({priority:be,handler:Q,id:O++})}}});F.dispatchEvent(T);const ie=function(){var be=(0,S.A)(function*(Q){try{if(Q?.handler){const Z=Q.handler(ce);null!=Z&&(yield Z)}}catch(Z){(0,L.j)("[ion-app] - Exception in startHardwareBackButton:",Z)}});return function(Z){return be.apply(this,arguments)}}(),ce=()=>{if(I.length>0){let be={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};I.forEach(Q=>{Q.priority>=be.priority&&(be=Q)}),N=!0,I=I.filter(Q=>Q.id!==be.id),ie(be).then(()=>N=!1)}};ce()};if(z()){let O;const I=()=>{O?.destroy(),O=new k.w.CloseWatcher,O.onclose=()=>{H(),I()}};I()}else F.addEventListener("backbutton",H)},P=100,D=99},5e3:K=>{function Se(S,k,L,z,R,f,P){try{var D=S[f](P),F=D.value}catch(N){return void L(N)}D.done?k(F):Promise.resolve(F).then(z,R)}K.exports=function _(S){return function(){var k=this,L=arguments;return new Promise(function(z,R){var f=S.apply(k,L);function P(F){Se(f,z,R,P,D,"next",F)}function D(F){Se(f,z,R,P,D,"throw",F)}P(void 0)})}},K.exports.__esModule=!0,K.exports.default=K.exports},5028:(K,Se,_)=>{"use strict";var S=_(2521),k=_(840),L=S("%WeakSet%",!0),z=k("WeakSet.prototype.has",!0);if(z){var R=k("WeakMap.prototype.has",!0);K.exports=function(P){if(!P||"object"!=typeof P)return!1;try{if(z(P,z),R)try{R(P,R)}catch{return!0}return P instanceof L}catch{}return!1}}else K.exports=function(P){return!1}},5124:(K,Se,_)=>{"use strict";var S=_(7707),k=_(814),L=_(7648),z=_(8963);K.exports=z||S.call(L,k)},5217:K=>{"use strict";var S,Se="function"==typeof Map&&Map.prototype?Map:null,_="function"==typeof Set&&Set.prototype?Set:null;Se||(S=function(R){return!1});var k=Se?Map.prototype.has:null,L=_?Set.prototype.has:null;!S&&!k&&(S=function(R){return!1}),K.exports=S||function(R){if(!R||"object"!=typeof R)return!1;try{if(k.call(R),L)try{L.call(R)}catch{return!0}return R instanceof Se}catch{}return!1}},5328:(K,Se,_)=>{"use strict";var S=_(6497);K.exports=function(){return S()&&!!Symbol.toStringTag}},5370:K=>{"use strict";var Se=function(){return"string"==typeof function(){}.name},_=Object.getOwnPropertyDescriptor;if(_)try{_([],"length")}catch{_=null}Se.functionsHaveConfigurableNames=function(){if(!Se()||!_)return!1;var L=_(function(){},"name");return!!L&&!!L.configurable};var S=Function.prototype.bind;Se.boundFunctionsHaveNames=function(){return Se()&&"function"==typeof S&&""!==function(){}.bind().name},K.exports=Se},5492:(K,Se,_)=>{"use strict";var S=_(8519),k=_(3687),L=_(863),z=_(2375),f=_(603)||z||L;K.exports=function(){var D,F={assert:function(N){if(!F.has(N))throw new S("Side channel does not contain "+k(N))},delete:function(N){return!!D&&D.delete(N)},get:function(N){return D&&D.get(N)},has:function(N){return!!D&&D.has(N)},set:function(N,H){D||(D=f()),D.set(N,H)}};return F}},5500:(K,Se,_)=>{"use strict";var S=_(840),k=S("Date.prototype.getDay"),z=S("Object.prototype.toString"),f=_(5328)();K.exports=function(D){return"object"==typeof D&&null!==D&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object Date]"===z(D))}},5557:(K,Se,_)=>{"use strict";var S=_(2521),k=_(1197),L=_(6652)(),z=_(9263),R=_(8519),f=S("%Math.floor%");K.exports=function(D,F){if("function"!=typeof D)throw new R("`fn` is not a function");if("number"!=typeof F||F<0||F>4294967295||f(F)!==F)throw new R("`length` must be a positive 32-bit integer");var N=arguments.length>2&&!!arguments[2],H=!0,O=!0;if("length"in D&&z){var I=z(D,"length");I&&!I.configurable&&(H=!1),I&&!I.writable&&(O=!1)}return(H||O||!N)&&(L?k(D,"length",F,!0,!0):k(D,"length",F)),D}},5712:(K,Se,_)=>{"use strict";var S=_(2179),k=_(4880),L="object"==typeof StopIteration?StopIteration:null;K.exports=function(R){if(!L)throw new k("this environment lacks StopIteration");S.set(R,"[[Done]]",!1);var f={next:function(){var D=S.get(this,"[[Iterator]]"),F=!!S.get(D,"[[Done]]");try{return{done:F,value:F?void 0:D.next()}}catch(N){if(S.set(D,"[[Done]]",!0),N!==L)throw N;return{done:!0,value:void 0}}}};return S.set(f,"[[Iterator]]",R),f}},5714:K=>{"use strict";K.exports=Math.round},5757:(K,Se,_)=>{"use strict";var S=_(5217),k=_(9116),L=_(9462),z=_(5028);K.exports=function(f){if(f&&"object"==typeof f){if(S(f))return"Map";if(k(f))return"Set";if(L(f))return"WeakMap";if(z(f))return"WeakSet"}return!1}},5796:(K,Se,_)=>{"use strict";var S=_(9110),k=_(592);K.exports=function(){var z=S();return k(Object,{is:z},{is:function(){return Object.is!==z}}),z}},5827:(K,Se,_)=>{"use strict";_.d(Se,{C:()=>R,a:()=>L,d:()=>z});var S=_(1890),k=_(6721);const L=function(){var f=(0,S.A)(function*(P,D,F,N,H,O){var I;if(P)return P.attachViewToDom(D,F,H,N);if(!(O||"string"==typeof F||F instanceof HTMLElement))throw new Error("framework delegate is missing");const T="string"==typeof F?null===(I=D.ownerDocument)||void 0===I?void 0:I.createElement(F):F;return N&&N.forEach(ie=>T.classList.add(ie)),H&&Object.assign(T,H),D.appendChild(T),yield new Promise(ie=>(0,k.c)(T,ie)),T});return function(D,F,N,H,O,I){return f.apply(this,arguments)}}(),z=(f,P)=>{if(P){if(f)return f.removeViewFromDom(P.parentElement,P);P.remove()}return Promise.resolve()},R=()=>{let f,P;return{attachViewToDom:function(){var N=(0,S.A)(function*(H,O,I={},T=[]){var ie,ce;let be;if(f=H,O){const Z="string"==typeof O?null===(ie=f.ownerDocument)||void 0===ie?void 0:ie.createElement(O):O;T.forEach(Y=>Z.classList.add(Y)),Object.assign(Z,I),f.appendChild(Z),be=Z,yield new Promise(Y=>(0,k.c)(Z,Y))}else if(f.children.length>0&&("ION-MODAL"===f.tagName||"ION-POPOVER"===f.tagName)&&!(be=f.children[0]).classList.contains("ion-delegate-host")){const Y=null===(ce=f.ownerDocument)||void 0===ce?void 0:ce.createElement("div");Y.classList.add("ion-delegate-host"),T.forEach(ge=>Y.classList.add(ge)),Y.append(...f.children),f.appendChild(Y),be=Y}const Q=document.querySelector("ion-app")||document.body;return P=document.createComment("ionic teleport"),f.parentNode.insertBefore(P,f),Q.appendChild(f),be??f});return function(O,I){return N.apply(this,arguments)}}(),removeViewFromDom:()=>(f&&P&&(P.parentNode.insertBefore(f,P),P.remove()),Promise.resolve())}}},5831:(K,Se,_)=>{"use strict";var R,S=_(840),k=_(5328)(),L=_(3889),z=_(9263);if(k){var f=S("RegExp.prototype.exec"),P={},D=function(){throw P},F={toString:D,valueOf:D};"symbol"==typeof Symbol.toPrimitive&&(F[Symbol.toPrimitive]=D),R=function(I){if(!I||"object"!=typeof I)return!1;var T=z(I,"lastIndex");if(!T||!L(T,"value"))return!1;try{f(I,F)}catch(ce){return ce===P}}}else{var N=S("Object.prototype.toString");R=function(I){return!(!I||"object"!=typeof I&&"function"!=typeof I)&&"[object RegExp]"===N(I)}}K.exports=R},5860:(K,Se,_)=>{"use strict";_.r(Se),_.d(Se,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>F});var S=_(566);const k=(I,T,ie,ce)=>{const be=!!L(I)&&{capture:!1,passive:!!ce.passive};let Q,Z;return I.__zone_symbol__addEventListener?(Q="__zone_symbol__addEventListener",Z="__zone_symbol__removeEventListener"):(Q="addEventListener",Z="removeEventListener"),I[Q](T,ie,be),()=>{I[Z](T,ie,be)}},L=I=>{if(void 0===z)try{const T=Object.defineProperty({},"passive",{get:()=>{z=!0}});I.addEventListener("optsTest",()=>{},T)}catch{z=!1}return!!z};let z;const P=I=>I instanceof Document?I:I.ownerDocument,F=I=>{let T=!1,ie=!1,ce=!0,be=!1;const Q=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},I),Z=Q.canStart,Y=Q.onWillStart,ge=Q.onStart,Ie=Q.onEnd,Ye=Q.notCaptured,te=Q.onMove,we=Q.threshold,me=Q.passive,de=Q.blurOnStart,De={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},U=((I,T,ie)=>{const ce=ie*(Math.PI/180),be="x"===I,Q=Math.cos(ce),Z=T*T;let Y=0,ge=0,Ie=!1,Ye=0;return{start(te,we){Y=te,ge=we,Ye=0,Ie=!0},detect(te,we){if(!Ie)return!1;const me=te-Y,de=we-ge,De=me*me+de*de;if(De<Z)return!1;const U=Math.sqrt(De),X=(be?me:de)/U;return Ye=X>Q?1:X<-Q?-1:0,Ie=!1,!0},isGesture:()=>0!==Ye,getDirection:()=>Ye}})(Q.direction,Q.threshold,Q.maxAngle),X=S.G.createGesture({name:I.gestureName,priority:I.gesturePriority,disableScroll:I.disableScroll}),ne=()=>{T&&(be=!1,te&&te(De))},ae=()=>!!X.capture()&&(T=!0,ce=!1,De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime,Y?Y(De).then(Re):Re(),!0),Re=()=>{de&&(()=>{if(typeof document<"u"){const Te=document.activeElement;Te?.blur&&Te.blur()}})(),ge&&ge(De),ce=!0},Fe=()=>{T=!1,ie=!1,be=!1,ce=!0,X.release()},Ce=Te=>{const He=T,vt=ce;if(Fe(),vt){if(N(De,Te),He)return void(Ie&&Ie(De));Ye&&Ye(De)}},Je=((I,T,ie,ce,be)=>{let Q,Z,Y,ge,Ie,Ye,te,we=0;const me=ve=>{we=Date.now()+2e3,T(ve)&&(!Z&&ie&&(Z=k(I,"touchmove",ie,be)),Y||(Y=k(ve.target,"touchend",De,be)),ge||(ge=k(ve.target,"touchcancel",De,be)))},de=ve=>{we>Date.now()||T(ve)&&(!Ye&&ie&&(Ye=k(P(I),"mousemove",ie,be)),te||(te=k(P(I),"mouseup",U,be)))},De=ve=>{X(),ce&&ce(ve)},U=ve=>{Ve(),ce&&ce(ve)},X=()=>{Z&&Z(),Y&&Y(),ge&&ge(),Z=Y=ge=void 0},Ve=()=>{Ye&&Ye(),te&&te(),Ye=te=void 0},G=()=>{X(),Ve()},ne=(ve=!0)=>{ve?(Q||(Q=k(I,"touchstart",me,be)),Ie||(Ie=k(I,"mousedown",de,be))):(Q&&Q(),Ie&&Ie(),Q=Ie=void 0,G())};return{enable:ne,stop:G,destroy:()=>{ne(!1),ce=ie=T=void 0}}})(Q.el,Te=>{const He=O(Te);return!(ie||!ce||(H(Te,De),De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime=He,De.velocityX=De.velocityY=De.deltaX=De.deltaY=0,De.event=Te,Z&&!1===Z(De))||(X.release(),!X.start()))&&(ie=!0,0===we?ae():(U.start(De.startX,De.startY),!0))},Te=>{T?!be&&ce&&(be=!0,N(De,Te),requestAnimationFrame(ne)):(N(De,Te),U.detect(De.currentX,De.currentY)&&(!U.isGesture()||!ae())&&wt())},Ce,{passive:me}),wt=()=>{Fe(),Je.stop(),Ye&&Ye(De)};return{enable(Te=!0){Te||(T&&Ce(void 0),Fe()),Je.enable(Te)},destroy(){X.destroy(),Je.destroy()}}},N=(I,T)=>{if(!T)return;const ie=I.currentX,ce=I.currentY,be=I.currentTime;H(T,I);const Q=I.currentX,Z=I.currentY,ge=(I.currentTime=O(T))-be;if(ge>0&&ge<100){const Ye=(Z-ce)/ge;I.velocityX=(Q-ie)/ge*.7+.3*I.velocityX,I.velocityY=.7*Ye+.3*I.velocityY}I.deltaX=Q-I.startX,I.deltaY=Z-I.startY,I.event=T},H=(I,T)=>{let ie=0,ce=0;if(I){const be=I.changedTouches;if(be&&be.length>0){const Q=be[0];ie=Q.clientX,ce=Q.clientY}else void 0!==I.pageX&&(ie=I.pageX,ce=I.pageY)}T.currentX=ie,T.currentY=ce},O=I=>I.timeStamp||Date.now()},5886:(K,Se,_)=>{"use strict";_.d(Se,{a:()=>H,c:()=>k,p:()=>N});class S{constructor(){this.m=new Map}reset(T){this.m=new Map(Object.entries(T))}get(T,ie){const ce=this.m.get(T);return void 0!==ce?ce:ie}getBoolean(T,ie=!1){const ce=this.m.get(T);return void 0===ce?ie:"string"==typeof ce?"true"===ce:!!ce}getNumber(T,ie){const ce=parseFloat(this.m.get(T));return isNaN(ce)?void 0!==ie?ie:NaN:ce}set(T,ie){this.m.set(T,ie)}}const k=new S;var F=function(I){return I.OFF="OFF",I.ERROR="ERROR",I.WARN="WARN",I}(F||{});const N=(I,...T)=>{const ie=k.get("logLevel",F.WARN);if([F.WARN].includes(ie))return console.warn(`[Ionic Warning]: ${I}`,...T)},H=(I,...T)=>{const ie=k.get("logLevel",F.ERROR);if([F.ERROR,F.WARN].includes(ie))return console.error(`[Ionic Error]: ${I}`,...T)}},5979:K=>{"use strict";K.exports=function(_,S){if(S=S.split(":")[0],!(_=+_))return!1;switch(S){case"http":case"ws":return 80!==_;case"https":case"wss":return 443!==_;case"ftp":return 21!==_;case"gopher":return 70!==_;case"file":return!1}return 0!==_}},5989:(K,Se,_)=>{"use strict";_.d(Se,{m:()=>I});var S=_(1890),k=_(575),L=_(4896),z=_(9335),R=_(6721),f=_(9919),P=_(7133);const D=T=>(0,P.c)().duration(T?400:300),F=T=>{let ie,ce;const be=T.width+8,Q=(0,P.c)(),Z=(0,P.c)();T.isEndSide?(ie=be+"px",ce="0px"):(ie=-be+"px",ce="0px"),Q.addElement(T.menuInnerEl).fromTo("transform",`translateX(${ie})`,`translateX(${ce})`);const ge="ios"===(0,f.b)(T),Ie=ge?.2:.25;return Z.addElement(T.backdropEl).fromTo("opacity",.01,Ie),D(ge).addAnimation([Q,Z])},N=T=>{let ie,ce;const be=(0,f.b)(T),Q=T.width;T.isEndSide?(ie=-Q+"px",ce=Q+"px"):(ie=Q+"px",ce=-Q+"px");const Z=(0,P.c)().addElement(T.menuInnerEl).fromTo("transform",`translateX(${ce})`,"translateX(0px)"),Y=(0,P.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${ie})`),ge=(0,P.c)().addElement(T.backdropEl).fromTo("opacity",.01,.32);return D("ios"===be).addAnimation([Z,Y,ge])},H=T=>{const ie=(0,f.b)(T),ce=T.width*(T.isEndSide?-1:1)+"px",be=(0,P.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${ce})`);return D("ios"===ie).addAnimation(be)},I=(()=>{const T=new Map,ie=[],ce=function(){var Fe=(0,S.A)(function*(Ce){const Je=yield Ye(Ce,!0);return!!Je&&Je.open()});return function(Je){return Fe.apply(this,arguments)}}(),be=function(){var Fe=(0,S.A)(function*(Ce){const Je=yield void 0!==Ce?Ye(Ce,!0):te();return void 0!==Je&&Je.close()});return function(Je){return Fe.apply(this,arguments)}}(),Q=function(){var Fe=(0,S.A)(function*(Ce){const Je=yield Ye(Ce,!0);return!!Je&&Je.toggle()});return function(Je){return Fe.apply(this,arguments)}}(),Z=function(){var Fe=(0,S.A)(function*(Ce,Je){const wt=yield Ye(Je);return wt&&(wt.disabled=!Ce),wt});return function(Je,wt){return Fe.apply(this,arguments)}}(),Y=function(){var Fe=(0,S.A)(function*(Ce,Je){const wt=yield Ye(Je);return wt&&(wt.swipeGesture=Ce),wt});return function(Je,wt){return Fe.apply(this,arguments)}}(),ge=function(){var Fe=(0,S.A)(function*(Ce){if(null!=Ce){const Je=yield Ye(Ce);return void 0!==Je&&Je.isOpen()}return void 0!==(yield te())});return function(Je){return Fe.apply(this,arguments)}}(),Ie=function(){var Fe=(0,S.A)(function*(Ce){const Je=yield Ye(Ce);return!!Je&&!Je.disabled});return function(Je){return Fe.apply(this,arguments)}}(),Ye=function(){var Fe=(0,S.A)(function*(Ce,Je=!1){if(yield Re(),"start"===Ce||"end"===Ce){const Te=ie.filter(vt=>vt.side===Ce&&!vt.disabled);if(Te.length>=1)return Te.length>1&&Je&&(0,z.f)(`menuController queried for a menu on the "${Ce}" side, but ${Te.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Te.map(vt=>vt.el)),Te[0].el;const He=ie.filter(vt=>vt.side===Ce);if(He.length>=1)return He.length>1&&Je&&(0,z.f)(`menuController queried for a menu on the "${Ce}" side, but ${He.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,He.map(vt=>vt.el)),He[0].el}else if(null!=Ce)return ve(Te=>Te.menuId===Ce);return ve(Te=>!Te.disabled)||(ie.length>0?ie[0].el:void 0)});return function(Je){return Fe.apply(this,arguments)}}(),te=function(){var Fe=(0,S.A)(function*(){return yield Re(),G()});return function(){return Fe.apply(this,arguments)}}(),we=function(){var Fe=(0,S.A)(function*(){return yield Re(),ne()});return function(){return Fe.apply(this,arguments)}}(),me=function(){var Fe=(0,S.A)(function*(){return yield Re(),ae()});return function(){return Fe.apply(this,arguments)}}(),de=(Fe,Ce)=>{T.set(Fe,Ce)},X=function(){var Fe=(0,S.A)(function*(Ce,Je,wt,Te){if(ae())return!1;if(Je){const He=yield te();He&&Ce.el!==He&&(yield He.setOpen(!1,!1))}return Ce._setOpen(Je,wt,Te)});return function(Je,wt,Te,He){return Fe.apply(this,arguments)}}(),G=()=>ve(Fe=>Fe._isOpen),ne=()=>ie.map(Fe=>Fe.el),ae=()=>ie.some(Fe=>Fe.isAnimating),ve=Fe=>{const Ce=ie.find(Fe);if(void 0!==Ce)return Ce.el},Re=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Fe=>new Promise(Ce=>(0,R.c)(Fe,Ce))));return de("reveal",H),de("push",N),de("overlay",F),null==k.d||k.d.addEventListener("ionBackButton",Fe=>{const Ce=G();Ce&&Fe.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>Ce.close())}),{registerAnimation:de,get:Ye,getMenus:we,getOpen:te,isEnabled:Ie,swipeGesture:Y,isAnimating:me,isOpen:ge,enable:Z,toggle:Q,close:be,open:ce,_getOpenSync:G,_createAnimation:(Fe,Ce)=>{const Je=T.get(Fe);if(!Je)throw new Error("animation not registered");return Je(Ce)},_register:Fe=>{ie.indexOf(Fe)<0&&ie.push(Fe)},_unregister:Fe=>{const Ce=ie.indexOf(Fe);Ce>-1&&ie.splice(Ce,1)},_setOpen:X}})()},6062:(K,Se,_)=>{"use strict";var S=_(7268),k=Object.prototype.toString,L=Object.prototype.hasOwnProperty;K.exports=function(F,N,H){if(!S(N))throw new TypeError("iterator must be a function");var O;arguments.length>=3&&(O=H),function P(D){return"[object Array]"===k.call(D)}(F)?function(F,N,H){for(var O=0,I=F.length;O<I;O++)L.call(F,O)&&(null==H?N(F[O],O,F):N.call(H,F[O],O,F))}(F,N,O):"string"==typeof F?function(F,N,H){for(var O=0,I=F.length;O<I;O++)null==H?N(F.charAt(O),O,F):N.call(H,F.charAt(O),O,F)}(F,N,O):function(F,N,H){for(var O in F)L.call(F,O)&&(null==H?N(F[O],O,F):N.call(H,F[O],O,F))}(F,N,O)}},6243:(K,Se,_)=>{var S,k,L,z,R;S=_(7031),k=_(8251).utf8,L=_(2490),z=_(8251).bin,(R=function(f,P){f.constructor==String?f=P&&"binary"===P.encoding?z.stringToBytes(f):k.stringToBytes(f):L(f)?f=Array.prototype.slice.call(f,0):!Array.isArray(f)&&f.constructor!==Uint8Array&&(f=f.toString());for(var D=S.bytesToWords(f),F=8*f.length,N=1732584193,H=-271733879,O=-1732584194,I=271733878,T=0;T<D.length;T++)D[T]=16711935&(D[T]<<8|D[T]>>>24)|4278255360&(D[T]<<24|D[T]>>>8);D[F>>>5]|=128<<F%32,D[14+(F+64>>>9<<4)]=F;var ie=R._ff,ce=R._gg,be=R._hh,Q=R._ii;for(T=0;T<D.length;T+=16){var Z=N,Y=H,ge=O,Ie=I;N=ie(N,H,O,I,D[T+0],7,-680876936),I=ie(I,N,H,O,D[T+1],12,-389564586),O=ie(O,I,N,H,D[T+2],17,606105819),H=ie(H,O,I,N,D[T+3],22,-1044525330),N=ie(N,H,O,I,D[T+4],7,-176418897),I=ie(I,N,H,O,D[T+5],12,1200080426),O=ie(O,I,N,H,D[T+6],17,-1473231341),H=ie(H,O,I,N,D[T+7],22,-45705983),N=ie(N,H,O,I,D[T+8],7,1770035416),I=ie(I,N,H,O,D[T+9],12,-1958414417),O=ie(O,I,N,H,D[T+10],17,-42063),H=ie(H,O,I,N,D[T+11],22,-1990404162),N=ie(N,H,O,I,D[T+12],7,1804603682),I=ie(I,N,H,O,D[T+13],12,-40341101),O=ie(O,I,N,H,D[T+14],17,-1502002290),N=ce(N,H=ie(H,O,I,N,D[T+15],22,1236535329),O,I,D[T+1],5,-165796510),I=ce(I,N,H,O,D[T+6],9,-1069501632),O=ce(O,I,N,H,D[T+11],14,643717713),H=ce(H,O,I,N,D[T+0],20,-373897302),N=ce(N,H,O,I,D[T+5],5,-701558691),I=ce(I,N,H,O,D[T+10],9,38016083),O=ce(O,I,N,H,D[T+15],14,-660478335),H=ce(H,O,I,N,D[T+4],20,-405537848),N=ce(N,H,O,I,D[T+9],5,568446438),I=ce(I,N,H,O,D[T+14],9,-1019803690),O=ce(O,I,N,H,D[T+3],14,-187363961),H=ce(H,O,I,N,D[T+8],20,1163531501),N=ce(N,H,O,I,D[T+13],5,-1444681467),I=ce(I,N,H,O,D[T+2],9,-51403784),O=ce(O,I,N,H,D[T+7],14,1735328473),N=be(N,H=ce(H,O,I,N,D[T+12],20,-1926607734),O,I,D[T+5],4,-378558),I=be(I,N,H,O,D[T+8],11,-2022574463),O=be(O,I,N,H,D[T+11],16,1839030562),H=be(H,O,I,N,D[T+14],23,-35309556),N=be(N,H,O,I,D[T+1],4,-1530992060),I=be(I,N,H,O,D[T+4],11,1272893353),O=be(O,I,N,H,D[T+7],16,-155497632),H=be(H,O,I,N,D[T+10],23,-1094730640),N=be(N,H,O,I,D[T+13],4,681279174),I=be(I,N,H,O,D[T+0],11,-358537222),O=be(O,I,N,H,D[T+3],16,-722521979),H=be(H,O,I,N,D[T+6],23,76029189),N=be(N,H,O,I,D[T+9],4,-640364487),I=be(I,N,H,O,D[T+12],11,-421815835),O=be(O,I,N,H,D[T+15],16,530742520),N=Q(N,H=be(H,O,I,N,D[T+2],23,-995338651),O,I,D[T+0],6,-198630844),I=Q(I,N,H,O,D[T+7],10,1126891415),O=Q(O,I,N,H,D[T+14],15,-1416354905),H=Q(H,O,I,N,D[T+5],21,-57434055),N=Q(N,H,O,I,D[T+12],6,1700485571),I=Q(I,N,H,O,D[T+3],10,-1894986606),O=Q(O,I,N,H,D[T+10],15,-1051523),H=Q(H,O,I,N,D[T+1],21,-2054922799),N=Q(N,H,O,I,D[T+8],6,1873313359),I=Q(I,N,H,O,D[T+15],10,-30611744),O=Q(O,I,N,H,D[T+6],15,-1560198380),H=Q(H,O,I,N,D[T+13],21,1309151649),N=Q(N,H,O,I,D[T+4],6,-145523070),I=Q(I,N,H,O,D[T+11],10,-1120210379),O=Q(O,I,N,H,D[T+2],15,718787259),H=Q(H,O,I,N,D[T+9],21,-343485551),N=N+Z>>>0,H=H+Y>>>0,O=O+ge>>>0,I=I+Ie>>>0}return S.endian([N,H,O,I])})._ff=function(f,P,D,F,N,H,O){var I=f+(P&D|~P&F)+(N>>>0)+O;return(I<<H|I>>>32-H)+P},R._gg=function(f,P,D,F,N,H,O){var I=f+(P&F|D&~F)+(N>>>0)+O;return(I<<H|I>>>32-H)+P},R._hh=function(f,P,D,F,N,H,O){var I=f+(P^D^F)+(N>>>0)+O;return(I<<H|I>>>32-H)+P},R._ii=function(f,P,D,F,N,H,O){var I=f+(D^(P|~F))+(N>>>0)+O;return(I<<H|I>>>32-H)+P},R._blocksize=16,R._digestsize=16,K.exports=function(f,P){if(null==f)throw new Error("Illegal argument "+f);var D=S.wordsToBytes(R(f,P));return P&&P.asBytes?D:P&&P.asString?z.bytesToString(D):S.bytesToHex(D)}},6283:(K,Se,_)=>{"use strict";var S=_(5557),k=_(1963),L=_(2282),z=_(9713);K.exports=function(f){var P=L(arguments),D=f.length-(arguments.length-1);return S(P,1+(D>0?D:0),!0)},k?k(K.exports,"apply",{value:z}):K.exports.apply=z},6321:K=>{"use strict";var Se=Object.prototype.toString;K.exports=function(S){var k=Se.call(S),L="[object Arguments]"===k;return L||(L="[object Array]"!==k&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===Se.call(S.callee)),L}},6330:(K,Se,_)=>{"use strict";var S=_(1197),k=_(6652)(),L=_(5370).functionsHaveConfigurableNames(),z=_(8519);K.exports=function(f,P){if("function"!=typeof f)throw new z("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||L)&&(k?S(f,"name",P,!0,!0):S(f,"name",P)),f}},6484:(K,Se,_)=>{"use strict";var S=_(840),k=S("Boolean.prototype.toString"),L=S("Object.prototype.toString"),f=_(5328)();K.exports=function(D){return"boolean"==typeof D||null!==D&&"object"==typeof D&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object Boolean]"===L(D))}},6497:K=>{"use strict";K.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var _={},S=Symbol("test"),k=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(k))return!1;for(var z in _[S]=42,_)return!1;if("function"==typeof Object.keys&&0!==Object.keys(_).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(_).length)return!1;var R=Object.getOwnPropertySymbols(_);if(1!==R.length||R[0]!==S||!Object.prototype.propertyIsEnumerable.call(_,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(_,S);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},6547:(K,Se,_)=>{"use strict";var S=_(6062),k=_(9819),L=_(6283),z=_(840),R=_(9263),f=_(1568),P=z("Object.prototype.toString"),D=_(5328)(),F=typeof globalThis>"u"?global:globalThis,N=k(),H=z("String.prototype.slice"),O=z("Array.prototype.indexOf",!0)||function(be,Q){for(var Z=0;Z<be.length;Z+=1)if(be[Z]===Q)return Z;return-1},I={__proto__:null};S(N,D&&R&&f?function(ce){var be=new F[ce];if(Symbol.toStringTag in be&&f){var Q=f(be),Z=R(Q,Symbol.toStringTag);if(!Z&&Q){var Y=f(Q);Z=R(Y,Symbol.toStringTag)}I["$"+ce]=L(Z.get)}}:function(ce){var be=new F[ce],Q=be.slice||be.set;Q&&(I["$"+ce]=L(Q))}),K.exports=function(be){if(!be||"object"!=typeof be)return!1;if(!D){var Q=H(P(be),8,-1);return O(N,Q)>-1?Q:"Object"===Q&&function(be){var Q=!1;return S(I,function(Z,Y){if(!Q)try{Z(be),Q=H(Y,1)}catch{}}),Q}(be)}return R?function(be){var Q=!1;return S(I,function(Z,Y){if(!Q)try{"$"+Z(be)===Y&&(Q=H(Y,1))}catch{}}),Q}(be):null}},6652:(K,Se,_)=>{"use strict";var S=_(1963),k=function(){return!!S};k.hasArrayLengthDefineBug=function(){if(!S)return null;try{return 1!==S([],"length",{value:1}).length}catch{return!0}},K.exports=k},6721:(K,Se,_)=>{"use strict";_.d(Se,{a:()=>ie,b:()=>f,c:()=>z,d:()=>Y,e:()=>ce,f:()=>F,g:()=>H,h:()=>R,i:()=>D,j:()=>Ye,k:()=>I,l:()=>be,m:()=>N,n:()=>T,o:()=>Z,p:()=>ge,q:()=>Q,r:()=>O,s:()=>Ie,t:()=>k});var S=_(9335);const k=(te,we=0)=>new Promise(me=>{L(te,we,me)}),L=(te,we=0,me)=>{let de,De;const U={passive:!0},Ve=()=>{de&&de()},G=ne=>{(void 0===ne||te===ne.target)&&(Ve(),me(ne))};return te&&(te.addEventListener("webkitTransitionEnd",G,U),te.addEventListener("transitionend",G,U),De=setTimeout(G,we+500),de=()=>{void 0!==De&&(clearTimeout(De),De=void 0),te.removeEventListener("webkitTransitionEnd",G,U),te.removeEventListener("transitionend",G,U)}),Ve},z=(te,we)=>{te.componentOnReady?te.componentOnReady().then(me=>we(me)):O(()=>we(te))},R=te=>void 0!==te.componentOnReady,f=(te,we=[])=>{const me={};return we.forEach(de=>{te.hasAttribute(de)&&(null!==te.getAttribute(de)&&(me[de]=te.getAttribute(de)),te.removeAttribute(de))}),me},P=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],D=(te,we)=>f(te,P),F=(te,we,me,de)=>te.addEventListener(we,me,de),N=(te,we,me,de)=>te.removeEventListener(we,me,de),H=(te,we=te)=>te.shadowRoot||we,O=te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te),I=te=>!!te.shadowRoot&&!!te.attachShadow,T=te=>{if(te.focus(),te.classList.contains("ion-focusable")){const we=te.closest("ion-app");we&&we.setFocus([te])}},ie=(te,we,me,de,De)=>{{let U=we.querySelector("input.aux-input");U||(U=we.ownerDocument.createElement("input"),U.type="hidden",U.classList.add("aux-input"),we.appendChild(U)),U.disabled=De,U.name=me,U.value=de||""}},ce=(te,we,me)=>Math.max(te,Math.min(we,me)),be=(te,we)=>{if(!te){const me="ASSERT: "+we;throw(0,S.j)(me),new Error(me)}},Q=te=>{if(te){const we=te.changedTouches;if(we&&we.length>0){const me=we[0];return{x:me.clientX,y:me.clientY}}if(void 0!==te.pageX)return{x:te.pageX,y:te.pageY}}return{x:0,y:0}},Z=te=>{const we="rtl"===document.dir;switch(te){case"start":return we;case"end":return!we;default:throw new Error(`"${te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Y=(te,we)=>{const me=te._original||te;return{_original:te,emit:ge(me.emit.bind(me),we)}},ge=(te,we=0)=>{let me;return(...de)=>{clearTimeout(me),me=setTimeout(te,we,...de)}},Ie=(te,we)=>{if(te??(te={}),we??(we={}),te===we)return!0;const me=Object.keys(te);if(me.length!==Object.keys(we).length)return!1;for(const de of me)if(!(de in we)||te[de]!==we[de])return!1;return!0},Ye=te=>"number"==typeof te&&!isNaN(te)&&isFinite(te)},6778:(K,Se,_)=>{var L,S=_(5e3).default,k=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(z={}){var f=z,P="object"==typeof window,D=typeof WorkerGlobalScope<"u",H=("object"==typeof process&&process.versions?.node&&process,"./this.program"),O=(b,$)=>{throw $};D&&(L=self.location.href);var ie,ce,I="";if(P||D){try{I=new URL(".",L).href}catch{}D&&(ce=b=>{var $=new XMLHttpRequest;return $.open("GET",b,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),ie=function(){var b=S(function*($){var le=yield fetch($,{credentials:"same-origin"});if(le.ok)return le.arrayBuffer();throw new Error(le.status+" : "+le.url)});return function(le){return b.apply(this,arguments)}}()}var Z,ge,be=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Ie(b,$){b||Ke($)}function te(){if(!Y){var b=pi();0==b&&(b+=4);var $=ne[b>>2],le=ne[b+4>>2];(34821223!=$||2310721022!=le)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${Wr(b)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Wr(le)} ${Wr($)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var we,me,de,De,U,G,ne,ve,Re,Ce=!1;function Je(){var b=de.buffer;De=new Int8Array(b),new Int16Array(b),f.HEAPU8=U=new Uint8Array(b),new Uint16Array(b),G=new Int32Array(b),f.HEAPU32=ne=new Uint32Array(b),new Float32Array(b),ve=new Float64Array(b),Re=new BigInt64Array(b),new BigUint64Array(b)}var _t,ft=0,Ct=null;function Ke(b){f.onAbort?.(b),Q(b="Aborted("+b+")"),Y=!0,b+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(b);throw me?.($),$}function Wt(){return(Wt=S(function*(b){if(!Z)try{var $=yield ie(b);return new Uint8Array($)}catch{}return function wn(b){if(b==_t&&Z)return new Uint8Array(Z);if(ce)return ce(b);throw"both async and sync fetching of the wasm failed"}(b)})).apply(this,arguments)}function Ze(){return Ze=S(function*(b,$){try{var le=yield function En(b){return Wt.apply(this,arguments)}(b);return yield WebAssembly.instantiate(le,$)}catch(Pt){Q(`failed to asynchronously prepare wasm: ${Pt}`),Ke(Pt)}}),Ze.apply(this,arguments)}function ze(){return ze=S(function*(b,$,le){if(!b&&"function"==typeof WebAssembly.instantiateStreaming)try{var Be=fetch($,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(Be,le)}catch(on){Q(`wasm streaming compile failed: ${on}`),Q("falling back to ArrayBuffer instantiation")}return function Nt(b,$){return Ze.apply(this,arguments)}($,le)}),ze.apply(this,arguments)}function pn(){return pn=S(function*(){function b(on,mn){return de=(w=on.exports).v,Je(),Kr=w.xa,function h(b){f._main=Ws=b.x,f._webidl_free=b.y,f._webidl_malloc=b.z,f._emscripten_bind_VoidPtr___destroy___0=Ki=b.A,f._emscripten_bind_FSTools_FSTools_0=Li=b.B,f._emscripten_bind_FSTools_Malloc_1=ei=b.C,f._emscripten_bind_FSTools_Free_1=ma=b.D,f._emscripten_bind_FSTools_Nullptr_0=bs=b.E,f._emscripten_bind_FSTools___destroy___0=Zs=b.F,f._emscripten_bind_MkfsContext_MkfsContext_0=ti=b.G,f._emscripten_bind_MkfsContext_Mkfs_2=Cs=b.H,f._emscripten_bind_MkfsContext_GetImage_0=Ci=b.I,f._emscripten_bind_MkfsContext_GetImageSize_0=Ss=b.J,f._emscripten_bind_MkfsContext___destroy___0=ws=b.K,f._emscripten_bind_FsckContext_FsckContext_1=Yi=b.L,f._emscripten_bind_FsckContext_GetImage_0=ho=b.M,f._emscripten_bind_FsckContext_GetDirtyPages_0=Si=b.N,f._emscripten_bind_FsckContext_GetImageSize_0=Xi=b.O,f._emscripten_bind_FsckContext_Fsck_0=Qi=b.P,f._emscripten_bind_FsckContext_GetResult_0=Ks=b.Q,f._emscripten_bind_FsckContext___destroy___0=Es=b.R,f._emscripten_bind_GunzipContext_GunzipContext_3=fi=b.S,f._emscripten_bind_GunzipContext_GetState_0=ni=b.T,f._emscripten_bind_GunzipContext_Continue_0=wi=b.U,f._emscripten_bind_GunzipContext_GetUncompressedData_0=Gt=b.V,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=un=b.W,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=va=b.X,f._emscripten_bind_GunzipContext_GetError_0=Ys=b.Y,f._emscripten_bind_GunzipContext___destroy___0=Do=b.Z,f._emscripten_bind_GzipContext_GzipContext_3=Ds=b._,f._emscripten_bind_GzipContext_SetFilename_1=$i=b.$,f._emscripten_bind_GzipContext_SetMtime_1=Ji=b.aa,f._emscripten_bind_GzipContext_Continue_0=Is=b.ba,f._emscripten_bind_GzipContext_GetState_0=Ga=b.ca,f._emscripten_bind_GzipContext_GetGzipData_0=Xs=b.da,f._emscripten_bind_GzipContext_GetGzipSize_0=Ts=b.ea,f._emscripten_bind_GzipContext_GetError_0=ya=b.fa,f._emscripten_bind_GzipContext___destroy___0=Qs=b.ga,f._emscripten_bind_CreateZipContext_CreateZipContext_0=Js=b.ha,f._emscripten_bind_CreateZipContext_Initialize_1=_a=b.ia,f._emscripten_bind_CreateZipContext_AddEntry_1=ea=b.ja,f._emscripten_bind_CreateZipContext_WriteData_2=Io=b.ka,f._emscripten_bind_CreateZipContext_GetZipData_0=ta=b.la,f._emscripten_bind_CreateZipContext_GetZipDataSize_0=so=b.ma,f._emscripten_bind_CreateZipContext_GetLastError_0=es=b.na,f._emscripten_bind_CreateZipContext___destroy___0=ba=b.oa,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=za=b.pa,f._emscripten_bind_ZipfileWalker_GetState_0=jo=b.qa,f._emscripten_bind_ZipfileWalker_Next_0=As=b.ra,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=Ca=b.sa,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=na=b.ta,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=se=b.ua,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ra=b.va,f._emscripten_bind_ZipfileWalker___destroy___0=Le=b.wa,pi=b.ya,Sa=b.za,Ms=b.Aa,Bi=b.Ba,f.___original_main=b.Ca}(w),function Dt(){if(ft--,f.monitorRunDependencies?.(ft),0==ft&&Ct){var $=Ct;Ct=null,$()}}(),w}!function ot(){ft++,f.monitorRunDependencies?.(ft)}();var le=function ct(){return{a:v}}();if(f.instantiateWasm)return new Promise((on,mn)=>{f.instantiateWasm(le,(Gn,Yr)=>{on(b(Gn))})});_t??=function $t(){return function T(b){return f.locateFile?f.locateFile(b,I):I+b}("fstools_web.wasm")}();var Be=yield function Ne(b,$,le){return ze.apply(this,arguments)}(Z,_t,le);return function $(on){return b(on.instance)}(Be)}),pn.apply(this,arguments)}class xn{name="ExitStatus";constructor($){this.message=`Program terminated with exit(${$})`,this.status=$}}var Kr,Un,sn=b=>{for(;b.length>0;)b.shift()(f)},Sn=[],cr=b=>Sn.push(b),mr=[],ro=b=>mr.push(b),wo=!0,Wr=b=>"0x"+(b>>>=0).toString(16).padStart(8,"0"),$o=typeof TextDecoder<"u"?new TextDecoder:void 0,oo=(b,$=0,le=NaN)=>{for(var Be=$+le,Pt=$;b[Pt]&&!(Pt>=Be);)++Pt;if(Pt-$>16&&b.buffer&&$o)return $o.decode(b.subarray($,Pt));for(var on="";$<Pt;){var mn=b[$++];if(128&mn){var Gn=63&b[$++];if(192!=(224&mn)){var Yr=63&b[$++];if((mn=224==(240&mn)?(15&mn)<<12|Gn<<6|Yr:(7&mn)<<18|Gn<<12|Yr<<6|63&b[$++])<65536)on+=String.fromCharCode(mn);else{var dn=mn-65536;on+=String.fromCharCode(55296|dn>>10,56320|1023&dn)}}else on+=String.fromCharCode((31&mn)<<6|Gn)}else on+=String.fromCharCode(mn)}return on},Jt=(b,$)=>b?oo(U,b,$):"",qt=b=>b<-9007199254740992||b>9007199254740992?NaN:Number(b),Dn={varargs:void 0,getStr:b=>Jt(b)},qr=0,Ro=[0,31,60,91,121,152,182,213,244,274,305,335],Ir=[0,31,59,90,120,151,181,212,243,273,304,334],In=b=>((b=>b%4==0&&(b%100!=0||b%400==0))(b.getFullYear())?Ro:Ir)[b.getMonth()]+b.getDate()-1,bo={},Ko=b=>{if(b instanceof xn||"unwind"==b)return ge;te(),b instanceof WebAssembly.RuntimeError&&Bi()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),O(0,b)},jn=()=>wo||qr>0,Bo=b=>{ge=b,jn()||(f.onExit?.(b),Y=!0),O(0,new xn(b))},Tr=(b,$)=>{ge=b,Bo(b)},bi=Tr,zn=(b,$,le,Be)=>{if(!(Be>0))return 0;for(var Pt=le,on=le+Be-1,mn=0;mn<b.length;++mn){var Gn=b.codePointAt(mn);if(Gn<=127){if(le>=on)break;$[le++]=Gn}else if(Gn<=2047){if(le+1>=on)break;$[le++]=192|Gn>>6,$[le++]=128|63&Gn}else if(Gn<=65535){if(le+2>=on)break;$[le++]=224|Gn>>12,$[le++]=128|Gn>>6&63,$[le++]=128|63&Gn}else{if(le+3>=on)break;$[le++]=240|Gn>>18,$[le++]=128|Gn>>12&63,$[le++]=128|Gn>>6&63,$[le++]=128|63&Gn,mn++}}return $[le]=0,le-Pt},Oi=(b,$,le)=>zn(b,U,$,le),gn=[],Vn=(b,$)=>Math.ceil(b/$)*$,Vt=b=>{var le=(b-de.buffer.byteLength+65535)/65536|0;try{return de.grow(le),Je(),1}catch{}},Me={},Ht=()=>{if(!Ht.strings){var $={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:H||"./this.program"};for(var le in Me)void 0===Me[le]?delete $[le]:$[le]=Me[le];var Be=[];for(var le in $)Be.push(`${le}=${$[le]}`);Ht.strings=Be}return Ht.strings},or=b=>{for(var $=0,le=0;le<b.length;++le){var Be=b.charCodeAt(le);Be<=127?$++:Be<=2047?$+=2:Be>=55296&&Be<=57343?($+=4,++le):$+=3}return $},Va=[null,[],[]],ms=(b,$)=>{var le=Va[b];0===$||10===$?((1===b?be:Q)(oo(le)),le.length=0):le.push($)},po=[],Bt=(b,$)=>{b<128?$.push(b):$.push(b%128|128,b>>7)},Jo=[],Qe=b=>{var $=Jo[b];return $||(Jo[b]=$=Kr.get(b)),$},ga=[],Ha=(b,$)=>{Kr.set(b,$),Jo[b]=Kr.get(b)};f.noExitRuntime&&(wo=f.noExitRuntime),f.print&&(be=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(Z=f.wasmBinary),f.thisProgram&&(H=f.thisProgram),f.addFunction=(b,$)=>{var le=(b=>(Un||(Un=new WeakMap,((b,$)=>{if(Un)for(var le=0;le<0+$;le++){var Be=Qe(le);Be&&Un.set(Be,le)}})(0,Kr.length)),Un.get(b)||0))(b);if(le)return le;var Be=(()=>{if(ga.length)return ga.pop();try{Kr.grow(1)}catch(b){throw b instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":b}return Kr.length-1})();try{Ha(Be,b)}catch(on){if(!(on instanceof TypeError))throw on;var Pt=((b,$)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((b=>{for(var $={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},le={parameters:[],results:"v"==b[0]?[]:[$[b[0]]]},Be=1;Be<b.length;++Be)le.parameters.push($[b[Be]]);return le})($),b);var le=[1];((b,$)=>{var le=b.slice(0,1),Be=b.slice(1),Pt={i:127,p:127,j:126,f:125,d:124,e:111};for(var on of($.push(96),Bt(Be.length,$),Be))$.push(Pt[on]);"v"==le?$.push(0):$.push(1,Pt[le])})($,le);var Be=[0,97,115,109,1,0,0,0,1];Bt(le.length,Be),Be.push(...le),Be.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Pt=new WebAssembly.Module(new Uint8Array(Be));return new WebAssembly.Instance(Pt,{e:{f:b}}).exports.f})(b,$);Ha(Be,Pt)}return Un.set(b,Be),Be},f.UTF8ToString=Jt;var Ws,Ki,Li,ei,ma,bs,Zs,ti,Cs,Ci,Ss,ws,Yi,ho,Si,Xi,Qi,Ks,Es,fi,ni,wi,Gt,un,va,Ys,Do,Ds,$i,Ji,Is,Ga,Xs,Ts,ya,Qs,Js,_a,ea,Io,ta,so,es,ba,za,jo,As,Ca,na,se,ra,Le,pi,Sa,Ms,Bi,_s={46212:()=>{throw new Error("terminated")}},v={b:(b,$,le,Be)=>Ke(`Assertion failed: ${Jt(b)}, at: `+[$?Jt($):"unknown filename",le,Be?Jt(Be):"unknown function"]),f:function Zn(b,$){$=qt($)},h:function en(b,$,le,Be){Dn.varargs=Be},i:()=>Ke(""),k:()=>{wo=!1,qr=0},n:function fo(b,$){b=qt(b);var le=new Date(1e3*b);G[$>>2]=le.getUTCSeconds(),G[$+4>>2]=le.getUTCMinutes(),G[$+8>>2]=le.getUTCHours(),G[$+12>>2]=le.getUTCDate(),G[$+16>>2]=le.getUTCMonth(),G[$+20>>2]=le.getUTCFullYear()-1900,G[$+24>>2]=le.getUTCDay();var Be=Date.UTC(le.getUTCFullYear(),0,1,0,0,0,0),Pt=(le.getTime()-Be)/864e5|0;G[$+28>>2]=Pt},o:function Eo(b,$){b=qt(b);var le=new Date(1e3*b);G[$>>2]=le.getSeconds(),G[$+4>>2]=le.getMinutes(),G[$+8>>2]=le.getHours(),G[$+12>>2]=le.getDate(),G[$+16>>2]=le.getMonth(),G[$+20>>2]=le.getFullYear()-1900,G[$+24>>2]=le.getDay();var Be=0|In(le);G[$+28>>2]=Be,G[$+36>>2]=-60*le.getTimezoneOffset();var Pt=new Date(le.getFullYear(),0,1),on=new Date(le.getFullYear(),6,1).getTimezoneOffset(),mn=Pt.getTimezoneOffset(),Gn=0|(on!=mn&&le.getTimezoneOffset()==Math.min(mn,on));G[$+32>>2]=Gn},p:function(b){var $=(()=>{var le=new Date(G[b+20>>2]+1900,G[b+16>>2],G[b+12>>2],G[b+8>>2],G[b+4>>2],G[b>>2],0),Be=G[b+32>>2],Pt=le.getTimezoneOffset(),on=new Date(le.getFullYear(),0,1),mn=new Date(le.getFullYear(),6,1).getTimezoneOffset(),Gn=on.getTimezoneOffset(),Yr=Math.min(Gn,mn);if(Be<0)G[b+32>>2]=+(mn!=Gn&&Yr==Pt);else if(Be>0!=(Yr==Pt)){var dn=Math.max(Gn,mn),Ar=Be>0?Yr:dn;le.setTime(le.getTime()+6e4*(Ar-Pt))}G[b+24>>2]=le.getDay();var Vr=0|In(le);G[b+28>>2]=Vr,G[b>>2]=le.getSeconds(),G[b+4>>2]=le.getMinutes(),G[b+8>>2]=le.getHours(),G[b+12>>2]=le.getDate(),G[b+16>>2]=le.getMonth(),G[b+20>>2]=le.getYear();var pr=le.getTime();return isNaN(pr)?-1:pr/1e3})();return BigInt($)},l:(b,$)=>{if(bo[b]&&(clearTimeout(bo[b].id),delete bo[b]),!$)return 0;var le=setTimeout(()=>{delete bo[b],(b=>{if(!Y)try{b(),(()=>{if(!jn())try{bi(ge)}catch(b){Ko(b)}})()}catch($){Ko($)}})(()=>Sa(b,performance.now()))},$);return bo[b]={id:le,timeout_ms:$},0},q:(b,$,le,Be)=>{var Pt=(new Date).getFullYear(),on=new Date(Pt,0,1),mn=new Date(Pt,6,1),Gn=on.getTimezoneOffset(),Yr=mn.getTimezoneOffset(),dn=Math.max(Gn,Yr);ne[b>>2]=60*dn,G[$>>2]=+(Gn!=Yr);var Ar=xt=>{var Nr=xt>=0?"-":"+",nr=Math.abs(xt);return`UTC${Nr}${String(Math.floor(nr/60)).padStart(2,"0")}${String(nr%60).padStart(2,"0")}`},Vr=Ar(Gn),pr=Ar(Yr);Yr<Gn?(Oi(Vr,le,17),Oi(pr,Be,17)):(Oi(Vr,Be,17),Oi(pr,le,17))},a:(b,$,le)=>((b,$,le)=>{var Be=((b,$)=>{gn.length=0;for(var le;le=U[b++];){var Be=105!=le;$+=(Be&=112!=le)&&$%8?4:0,gn.push(112==le?ne[$>>2]:106==le?Re[$>>3]:105==le?G[$>>2]:ve[$>>3]),$+=Be?8:4}return gn})($,le);return _s[b](...Be)})(b,$,le),d:()=>Date.now(),m:b=>{var $=U.length,le=2147483648;if((b>>>=0)>le)return!1;for(var Be=1;Be<=4;Be*=2){var Pt=$*(1+.2/Be);Pt=Math.min(Pt,b+100663296);var on=Math.min(le,Vn(Math.max(b,Pt),65536));if(Vt(on))return!0}return!1},s:(b,$)=>{var le=0,Be=0;for(var Pt of Ht()){var on=$+le;ne[b+Be>>2]=on,le+=Oi(Pt,on,1/0)+1,Be+=4}return 0},t:(b,$)=>{var le=Ht();ne[b>>2]=le.length;var Be=0;for(var Pt of le)Be+=or(Pt)+1;return ne[$>>2]=Be,0},u:bi,e:b=>52,c:(b,$,le,Be)=>52,r:function kl(b,$,le,Be){return $=qt($),70},g:(b,$,le,Be)=>{for(var Pt=0,on=0;on<le;on++){var mn=ne[$>>2],Gn=ne[$+4>>2];$+=8;for(var Yr=0;Yr<Gn;Yr++)ms(b,U[mn+Yr]);Pt+=Gn}return ne[Be>>2]=Pt,0},j:Bo},w=yield function Xt(){return pn.apply(this,arguments)}();function pe(){}function qe(b){return(b||pe).__cache__}function ye(b,$){var le=qe($),Be=le[b];return Be||((Be=Object.create(($||pe).prototype)).ptr=b,le[b]=Be)}(function Ue(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function J(){function b(){f.calledRun=!0,Y||(function Te(){Ce=!0,te(),sn(po),w.w()}(),function He(){te()}(),we?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function A(){var b=Ws;try{var Be=b(0,0);return Tr(Be),Be}catch(Pt){return Ko(Pt)}}(),function vt(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)cr(f.postRun.shift());sn(Sn)}())}ft>0?Ct=J:(function ee(){Ms(),function Ye(){var b=pi();0==b&&(b+=4),ne[b>>2]=34821223,ne[b+4>>2]=2310721022,ne[0]=1668509029}()}(),function wt(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)ro(f.preRun.shift());sn(mr)}(),ft>0?Ct=J:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),b()},1)):b(),te()))}(),(pe.prototype=Object.create(pe.prototype)).constructor=pe,pe.prototype.__class__=pe,pe.__cache__={},f.WrapperObject=pe,f.getCache=qe,f.wrapPointer=ye,f.castObject=function je(b,$){return ye(b.ptr,$)},f.NULL=ye(0),f.destroy=function dt(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete qe(b.__class__)[b.ptr]},f.compare=function ut(b,$){return b.ptr===$.ptr},f.getPointer=function At(b){return b.ptr},f.getClass=function gt(b){return b.__class__};var Mt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Mt.needed){for(var b=0;b<Mt.temps.length;b++)f._webidl_free(Mt.temps[b]);Mt.temps.length=0,f._webidl_free(Mt.buffer),Mt.buffer=0,Mt.size+=Mt.needed,Mt.needed=0}Mt.buffer||(Mt.size+=128,Mt.buffer=f._webidl_malloc(Mt.size),Ie(Mt.buffer)),Mt.pos=0},alloc(b,$){Ie(Mt.buffer);var Pt,Be=b.length*$.BYTES_PER_ELEMENT;return Be=Vn(Be,8),Mt.pos+Be>=Mt.size?(Ie(Be>0),Mt.needed+=Be,Pt=f._webidl_malloc(Be),Mt.temps.push(Pt)):(Pt=Mt.buffer+Mt.pos,Mt.pos+=Be),Pt},copy(b,$,le){le/=$.BYTES_PER_ELEMENT;for(var Be=0;Be<b.length;Be++)$[le+Be]=b[Be]}};function ur(b){if("string"==typeof b){var $=(b=>{var Be=or(b)+1,Pt=new Array(Be);zn(b,Pt,0,Pt.length);return Pt})(b),le=Mt.alloc($,De);return Mt.copy($,De,le),le}return b}function Zt(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Kt(){this.ptr=Li(),qe(Kt)[this.ptr]=this}function $n(){this.ptr=ti(),qe($n)[this.ptr]=this}function an(b){b&&"object"==typeof b&&(b=b.ptr),this.ptr=Yi(b),qe(an)[this.ptr]=this}function St(b,$,le){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),le&&"object"==typeof le&&(le=le.ptr),this.ptr=fi(b,$,le),qe(St)[this.ptr]=this}function Hn(b,$,le){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),le&&"object"==typeof le&&(le=le.ptr),this.ptr=Ds(b,$,le),qe(Hn)[this.ptr]=this}function hn(){this.ptr=Js(),qe(hn)[this.ptr]=this}function Rn(b,$){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),this.ptr=za(b,$),qe(Rn)[this.ptr]=this}return(Zt.prototype=Object.create(pe.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},f.VoidPtr=Zt,Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){Ki(this.ptr)},(Kt.prototype=Object.create(pe.prototype)).constructor=Kt,Kt.prototype.__class__=Kt,Kt.__cache__={},f.FSTools=Kt,Kt.prototype.Malloc=Kt.prototype.Malloc=function(b){return b&&"object"==typeof b&&(b=b.ptr),ye(ei(this.ptr,b),Zt)},Kt.prototype.Free=Kt.prototype.Free=function(b){b&&"object"==typeof b&&(b=b.ptr),ma(this.ptr,b)},Kt.prototype.Nullptr=Kt.prototype.Nullptr=function(){return ye(bs(this.ptr),Zt)},Kt.prototype.__destroy__=Kt.prototype.__destroy__=function(){Zs(this.ptr)},($n.prototype=Object.create(pe.prototype)).constructor=$n,$n.prototype.__class__=$n,$n.__cache__={},f.MkfsContext=$n,$n.prototype.Mkfs=$n.prototype.Mkfs=function(b,$){var le=this.ptr;return Mt.prepare(),b&&"object"==typeof b&&(b=b.ptr),$=$&&"object"==typeof $?$.ptr:ur($),!!Cs(le,b,$)},$n.prototype.GetImage=$n.prototype.GetImage=function(){return ye(Ci(this.ptr),Zt)},$n.prototype.GetImageSize=$n.prototype.GetImageSize=function(){return Ss(this.ptr)},$n.prototype.__destroy__=$n.prototype.__destroy__=function(){ws(this.ptr)},(an.prototype=Object.create(pe.prototype)).constructor=an,an.prototype.__class__=an,an.__cache__={},f.FsckContext=an,an.prototype.GetImage=an.prototype.GetImage=function(){return ye(ho(this.ptr),Zt)},an.prototype.GetDirtyPages=an.prototype.GetDirtyPages=function(){return ye(Si(this.ptr),Zt)},an.prototype.GetImageSize=an.prototype.GetImageSize=function(){return Xi(this.ptr)},an.prototype.Fsck=an.prototype.Fsck=function(){return Qi(this.ptr)},an.prototype.GetResult=an.prototype.GetResult=function(){return Ks(this.ptr)},an.prototype.__destroy__=an.prototype.__destroy__=function(){Es(this.ptr)},(St.prototype=Object.create(pe.prototype)).constructor=St,St.prototype.__class__=St,St.__cache__={},f.GunzipContext=St,St.prototype.GetState=St.prototype.GetState=function(){return ni(this.ptr)},St.prototype.Continue=St.prototype.Continue=function(){return wi(this.ptr)},St.prototype.GetUncompressedData=St.prototype.GetUncompressedData=function(){return ye(Gt(this.ptr),Zt)},St.prototype.ReleaseUncompressedData=St.prototype.ReleaseUncompressedData=function(){return ye(un(this.ptr),Zt)},St.prototype.GetUncompressedSize=St.prototype.GetUncompressedSize=function(){return va(this.ptr)},St.prototype.GetError=St.prototype.GetError=function(){return Jt(Ys(this.ptr))},St.prototype.__destroy__=St.prototype.__destroy__=function(){Do(this.ptr)},(Hn.prototype=Object.create(pe.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},f.GzipContext=Hn,Hn.prototype.SetFilename=Hn.prototype.SetFilename=function(b){var $=this.ptr;return Mt.prepare(),b=b&&"object"==typeof b?b.ptr:ur(b),ye($i($,b),Hn)},Hn.prototype.SetMtime=Hn.prototype.SetMtime=function(b){return b&&"object"==typeof b&&(b=b.ptr),ye(Ji(this.ptr,b),Hn)},Hn.prototype.Continue=Hn.prototype.Continue=function(){return Is(this.ptr)},Hn.prototype.GetState=Hn.prototype.GetState=function(){return Ga(this.ptr)},Hn.prototype.GetGzipData=Hn.prototype.GetGzipData=function(){return ye(Xs(this.ptr),Zt)},Hn.prototype.GetGzipSize=Hn.prototype.GetGzipSize=function(){return Ts(this.ptr)},Hn.prototype.GetError=Hn.prototype.GetError=function(){return Jt(ya(this.ptr))},Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){Qs(this.ptr)},(hn.prototype=Object.create(pe.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},f.CreateZipContext=hn,hn.prototype.Initialize=hn.prototype.Initialize=function(b){return b&&"object"==typeof b&&(b=b.ptr),!!_a(this.ptr,b)},hn.prototype.AddEntry=hn.prototype.AddEntry=function(b){var $=this.ptr;return Mt.prepare(),b=b&&"object"==typeof b?b.ptr:ur(b),!!ea($,b)},hn.prototype.WriteData=hn.prototype.WriteData=function(b,$){return b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),!!Io(this.ptr,b,$)},hn.prototype.GetZipData=hn.prototype.GetZipData=function(){return ye(ta(this.ptr),Zt)},hn.prototype.GetZipDataSize=hn.prototype.GetZipDataSize=function(){return so(this.ptr)},hn.prototype.GetLastError=hn.prototype.GetLastError=function(){return Jt(es(this.ptr))},hn.prototype.__destroy__=hn.prototype.__destroy__=function(){ba(this.ptr)},(Rn.prototype=Object.create(pe.prototype)).constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},f.ZipfileWalker=Rn,Rn.prototype.GetState=Rn.prototype.GetState=function(){return jo(this.ptr)},Rn.prototype.Next=Rn.prototype.Next=function(){return As(this.ptr)},Rn.prototype.GetTotalEntries=Rn.prototype.GetTotalEntries=function(){return Ca(this.ptr)},Rn.prototype.GetCurrentEntrySize=Rn.prototype.GetCurrentEntrySize=function(){return na(this.ptr)},Rn.prototype.GetCurrentEntryName=Rn.prototype.GetCurrentEntryName=function(){return Jt(se(this.ptr))},Rn.prototype.GetCurrentEntryContent=Rn.prototype.GetCurrentEntryContent=function(){return ye(ra(this.ptr),Zt)},Rn.prototype.__destroy__=Rn.prototype.__destroy__=function(){Le(this.ptr)},Ce?f:new Promise((b,$)=>{we=b,me=$})}));K.exports=k,K.exports.default=k},6780:(K,Se,_)=>{"use strict";_.d(Se,{b:()=>f,c:()=>P,d:()=>D,e:()=>X,g:()=>ne,l:()=>De,s:()=>Ve,t:()=>ce,w:()=>U});var S=_(1890),k=_(9335),L=_(6721);const f="ionViewWillLeave",P="ionViewDidLeave",D="ionViewWillUnload",F=ae=>{ae.tabIndex=-1,ae.focus()},N=ae=>null!==ae.offsetParent,O="ion-last-focus",ie_saveViewFocus=Re=>{if(k.e.get("focusManagerPriority",!1)){const Ce=document.activeElement;null!==Ce&&Re?.contains(Ce)&&Ce.setAttribute(O,"true")}},ie_setViewFocus=Re=>{const Fe=k.e.get("focusManagerPriority",!1);if(Array.isArray(Fe)&&!Re.contains(document.activeElement)){const Ce=Re.querySelector(`[${O}]`);if(Ce&&N(Ce))return void F(Ce);for(const Je of Fe)switch(Je){case"content":const wt=Re.querySelector('main, [role="main"]');if(wt&&N(wt))return void F(wt);break;case"heading":const Te=Re.querySelector('h1, [role="heading"][aria-level="1"]');if(Te&&N(Te))return void F(Te);break;case"banner":const He=Re.querySelector('header, [role="banner"]');if(He&&N(He))return void F(He);break;default:(0,k.f)(`Unrecognized focus manager priority value ${Je}`)}F(Re)}},ce=ae=>new Promise((ve,Re)=>{(0,k.w)(()=>{be(ae),Q(ae).then(Fe=>{Fe.animation&&Fe.animation.destroy(),Z(ae),ve(Fe)},Fe=>{Z(ae),Re(Fe)})})}),be=ae=>{const ve=ae.enteringEl,Re=ae.leavingEl;ie_saveViewFocus(Re),G(ve,Re,ae.direction),ae.showGoBack?ve.classList.add("can-go-back"):ve.classList.remove("can-go-back"),Ve(ve,!1),ve.style.setProperty("pointer-events","none"),Re&&(Ve(Re,!1),Re.style.setProperty("pointer-events","none"))},Q=function(){var ae=(0,S.A)(function*(ve){const Re=yield Y(ve);return Re&&k.B.isBrowser?ge(Re,ve):Ie(ve)});return function(Re){return ae.apply(this,arguments)}}(),Z=ae=>{const ve=ae.enteringEl,Re=ae.leavingEl;ve.classList.remove("ion-page-invisible"),ve.style.removeProperty("pointer-events"),void 0!==Re&&(Re.classList.remove("ion-page-invisible"),Re.style.removeProperty("pointer-events")),ie_setViewFocus(ve)},Y=function(){var ae=(0,S.A)(function*(ve){return ve.leavingEl&&ve.animated&&0!==ve.duration?ve.animationBuilder?ve.animationBuilder:"ios"===ve.mode?(yield Promise.resolve().then(_.bind(_,9805))).iosTransitionAnimation:(yield Promise.resolve().then(_.bind(_,1393))).mdTransitionAnimation:void 0});return function(Re){return ae.apply(this,arguments)}}(),ge=function(){var ae=(0,S.A)(function*(ve,Re){yield Ye(Re,!0);const Fe=ve(Re.baseEl,Re);me(Re.enteringEl,Re.leavingEl);const Ce=yield we(Fe,Re);return Re.progressCallback&&Re.progressCallback(void 0),Ce&&de(Re.enteringEl,Re.leavingEl),{hasCompleted:Ce,animation:Fe}});return function(Re,Fe){return ae.apply(this,arguments)}}(),Ie=function(){var ae=(0,S.A)(function*(ve){const Re=ve.enteringEl,Fe=ve.leavingEl,Ce=k.e.get("focusManagerPriority",!1);return yield Ye(ve,Ce),me(Re,Fe),de(Re,Fe),{hasCompleted:!0}});return function(Re){return ae.apply(this,arguments)}}(),Ye=function(){var ae=(0,S.A)(function*(ve,Re){(void 0!==ve.deepWait?ve.deepWait:Re)&&(yield Promise.all([X(ve.enteringEl),X(ve.leavingEl)])),yield te(ve.viewIsReady,ve.enteringEl)});return function(Re,Fe){return ae.apply(this,arguments)}}(),te=function(){var ae=(0,S.A)(function*(ve,Re){ve&&(yield ve(Re))});return function(Re,Fe){return ae.apply(this,arguments)}}(),we=(ae,ve)=>{const Re=ve.progressCallback,Fe=new Promise(Ce=>{ae.onFinish(Je=>Ce(1===Je))});return Re?(ae.progressStart(!0),Re(ae)):ae.play(),Fe},me=(ae,ve)=>{De(ve,f),De(ae,"ionViewWillEnter")},de=(ae,ve)=>{De(ae,"ionViewDidEnter"),De(ve,P)},De=(ae,ve)=>{if(ae){const Re=new CustomEvent(ve,{bubbles:!1,cancelable:!1});ae.dispatchEvent(Re)}},U=()=>new Promise(ae=>(0,L.r)(()=>(0,L.r)(()=>ae()))),X=function(){var ae=(0,S.A)(function*(ve){const Re=ve;if(Re){if(null!=Re.componentOnReady){if(null!=(yield Re.componentOnReady()))return}else if(null!=Re.__registerHost)return void(yield new Promise(Ce=>(0,L.r)(Ce)));yield Promise.all(Array.from(Re.children).map(X))}});return function(Re){return ae.apply(this,arguments)}}(),Ve=(ae,ve)=>{ve?(ae.setAttribute("aria-hidden","true"),ae.classList.add("ion-page-hidden")):(ae.hidden=!1,ae.removeAttribute("aria-hidden"),ae.classList.remove("ion-page-hidden"))},G=(ae,ve,Re)=>{void 0!==ae&&(ae.style.zIndex="back"===Re?"99":"101"),void 0!==ve&&(ve.style.zIndex="100")},ne=ae=>ae.classList.contains("ion-page")?ae:ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ae},6784:(K,Se,_)=>{"use strict";var k=_(3948);Se.J=k.default},6837:(K,Se,_)=>{"use strict";var S=_(840),k=S("String.prototype.valueOf"),z=S("Object.prototype.toString"),f=_(5328)();K.exports=function(D){return"string"==typeof D||!(!D||"object"!=typeof D)&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object String]"===z(D))}},6959:(K,Se,_)=>{"use strict";var S=_(6837),k=_(8979),L=_(6484),z=_(3016),R=_(7671);K.exports=function(P){return null==P||"object"!=typeof P&&"function"!=typeof P?null:S(P)?"String":k(P)?"Number":L(P)?"Boolean":z(P)?"Symbol":R(P)?"BigInt":void 0}},6969:(K,Se,_)=>{"use strict";var S=_(592),k=_(6283),L=_(8447),z=_(78),R=_(7100),f=k.apply(z()),P=function(F,N){return f(Object,arguments)};S(P,{getPolyfill:z,implementation:L,shim:R}),K.exports=P},6998:K=>{"use strict";K.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},7031:K=>{var Se,_;Se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K.exports=_={rotl:function(S,k){return S<<k|S>>>32-k},rotr:function(S,k){return S<<32-k|S>>>k},endian:function(S){if(S.constructor==Number)return 16711935&_.rotl(S,8)|4278255360&_.rotl(S,24);for(var k=0;k<S.length;k++)S[k]=_.endian(S[k]);return S},randomBytes:function(S){for(var k=[];S>0;S--)k.push(Math.floor(256*Math.random()));return k},bytesToWords:function(S){for(var k=[],L=0,z=0;L<S.length;L++,z+=8)k[z>>>5]|=S[L]<<24-z%32;return k},wordsToBytes:function(S){for(var k=[],L=0;L<32*S.length;L+=8)k.push(S[L>>>5]>>>24-L%32&255);return k},bytesToHex:function(S){for(var k=[],L=0;L<S.length;L++)k.push((S[L]>>>4).toString(16)),k.push((15&S[L]).toString(16));return k.join("")},hexToBytes:function(S){for(var k=[],L=0;L<S.length;L+=2)k.push(parseInt(S.substr(L,2),16));return k},bytesToBase64:function(S){for(var k=[],L=0;L<S.length;L+=3)for(var z=S[L]<<16|S[L+1]<<8|S[L+2],R=0;R<4;R++)k.push(8*L+6*R<=8*S.length?Se.charAt(z>>>6*(3-R)&63):"=");return k.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var k=[],L=0,z=0;L<S.length;z=++L%4)0!=z&&k.push((Se.indexOf(S.charAt(L-1))&Math.pow(2,-2*z+8)-1)<<2*z|Se.indexOf(S.charAt(L))>>>6-2*z);return k}}},7057:(K,Se,_)=>{"use strict";var S=_(592),k=_(6283),L=_(1143),z=_(4198),R=_(8436),f=k(z());S(f,{getPolyfill:z,implementation:L,shim:R}),K.exports=f},7100:(K,Se,_)=>{"use strict";var S=_(592),k=_(78);K.exports=function(){var z=k();return S(Object,{assign:z},{assign:function(){return Object.assign!==z}}),z}},7133:(K,Se,_)=>{"use strict";_.d(Se,{c:()=>P});var S=_(9335),k=_(575);let L;const R=(D,F,N)=>{const H=F.startsWith("animation")?(D=>(void 0===L&&(L=void 0===D.style.animationName&&void 0!==D.style.webkitAnimationName?"-webkit-":""),L))(D):"";D.style.setProperty(H+F,N)},f=(D=[],F)=>{if(void 0!==F){const N=Array.isArray(F)?F:[F];return[...D,...N]}return D},P=D=>{let F,N,H,O,I,T,Z,de,De,U,ne,ie=[],ce=[],be=[],Q=!1,Y={},ge=[],Ie=[],Ye={},te=0,we=!1,me=!1,X=!0,Ve=!1,G=!0,ae=!1;const ve=D,Re=[],Fe=[],Ce=[],Je=[],wt=[],Te=[],He=[],vt=[],ft=[],Ct=[],ot=[],Dt="function"==typeof AnimationEffect||void 0!==k.w&&"function"==typeof k.w.AnimationEffect,Ke="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Dt,_t=()=>ot,Nt=(Me,Ot)=>{const Ht=Ot.findIndex(vr=>vr.c===Me);Ht>-1&&Ot.splice(Ht,1)},Ne=(Me,Ot)=>((Ot?.oneTimeCallback?Fe:Re).push({c:Me,o:Ot}),ne),ct=()=>{Ke&&(ot.forEach(Me=>{Me.cancel()}),ot.length=0)},Xt=()=>{Te.forEach(Me=>{Me?.parentNode&&Me.parentNode.removeChild(Me)}),Te.length=0},ci=()=>void 0!==I?I:Z?Z.getFill():"both",Ae=()=>void 0!==de?de:void 0!==T?T:Z?Z.getDirection():"normal",Oe=()=>we?"linear":void 0!==H?H:Z?Z.getEasing():"linear",qt=()=>me?0:void 0!==De?De:void 0!==N?N:Z?Z.getDuration():0,Zn=()=>void 0!==O?O:Z?Z.getIterations():1,Dn=()=>void 0!==U?U:void 0!==F?F:Z?Z.getDelay():0,Bo=()=>{0!==te&&(te--,0===te&&((()=>{ft.forEach(or=>or()),Ct.forEach(or=>or());const Me=X?1:0,Ot=ge,Ht=Ie,vr=Ye;Je.forEach(or=>{const Xo=or.classList;Ot.forEach(Qo=>Xo.add(Qo)),Ht.forEach(Qo=>Xo.remove(Qo));for(const Qo in vr)vr.hasOwnProperty(Qo)&&R(or,Qo,vr[Qo])}),De=void 0,de=void 0,U=void 0,Re.forEach(or=>or.c(Me,ne)),Fe.forEach(or=>or.c(Me,ne)),Fe.length=0,G=!0,X&&(Ve=!0),X=!0})(),Z&&Z.animationFinish()))},bi=()=>{(()=>{He.forEach(vr=>vr()),vt.forEach(vr=>vr());const Me=ce,Ot=be,Ht=Y;Je.forEach(vr=>{const or=vr.classList;Me.forEach(Xo=>or.add(Xo)),Ot.forEach(Xo=>or.remove(Xo));for(const Xo in Ht)Ht.hasOwnProperty(Xo)&&R(vr,Xo,Ht[Xo])})})(),ie.length>0&&Ke&&(Je.forEach(Me=>{const Ot=Me.animate(ie,{id:ve,delay:Dn(),duration:qt(),easing:Oe(),iterations:Zn(),fill:ci(),direction:Ae()});Ot.pause(),ot.push(Ot)}),ot.length>0&&(ot[0].onfinish=()=>{Bo()})),Q=!0},Yo=Me=>{Me=Math.min(Math.max(Me,0),.9999),Ke&&ot.forEach(Ot=>{Ot.currentTime=Ot.effect.getComputedTiming().delay+qt()*Me,Ot.pause()})},Pe=Me=>{ot.forEach(Ot=>{Ot.effect.updateTiming({delay:Dn(),duration:qt(),easing:Oe(),iterations:Zn(),fill:ci(),direction:Ae()})}),void 0!==Me&&Yo(Me)},fr=(Me=!1,Ot=!0,Ht)=>(Me&&wt.forEach(vr=>{vr.update(Me,Ot,Ht)}),Ke&&Pe(Ht),ne),Zi=()=>{Q&&(Ke?ot.forEach(Me=>{Me.pause()}):Je.forEach(Me=>{R(Me,"animation-play-state","paused")}),ae=!0)},ha=Me=>new Promise(Ot=>{Me?.sync&&(me=!0,Ne(()=>me=!1,{oneTimeCallback:!0})),Q||bi(),Ve&&(Ke&&(Yo(0),Pe()),Ve=!1),G&&(te=wt.length+1,G=!1);const Ht=()=>{Nt(vr,Fe),Ot()},vr=()=>{Nt(Ht,Ce),Ot()};Ne(vr,{oneTimeCallback:!0}),(Me=>{Ce.push({c:Me,o:{oneTimeCallback:!0}})})(Ht),wt.forEach(or=>{or.play()}),Ke?(ot.forEach(Me=>{Me.play()}),(0===ie.length||0===Je.length)&&Bo()):Bo(),ae=!1}),Vn=(Me,Ot)=>{const Ht=ie[0];return void 0===Ht||void 0!==Ht.offset&&0!==Ht.offset?ie=[{offset:0,[Me]:Ot},...ie]:Ht[Me]=Ot,ne};return ne={parentAnimation:Z,elements:Je,childAnimations:wt,id:ve,animationFinish:Bo,from:Vn,to:(Me,Ot)=>{const Ht=ie[ie.length-1];return void 0===Ht||void 0!==Ht.offset&&1!==Ht.offset?ie=[...ie,{offset:1,[Me]:Ot}]:Ht[Me]=Ot,ne},fromTo:(Me,Ot,Ht)=>Vn(Me,Ot).to(Me,Ht),parent:Me=>(Z=Me,ne),play:ha,pause:()=>(wt.forEach(Me=>{Me.pause()}),Zi(),ne),stop:()=>{wt.forEach(Me=>{Me.stop()}),Q&&(ct(),Q=!1),we=!1,me=!1,G=!0,de=void 0,De=void 0,U=void 0,te=0,Ve=!1,X=!0,ae=!1,Ce.forEach(Me=>Me.c(0,ne)),Ce.length=0},destroy:Me=>(wt.forEach(Ot=>{Ot.destroy(Me)}),(Me=>{ct(),Me&&Xt()})(Me),Je.length=0,wt.length=0,ie.length=0,Re.length=0,Fe.length=0,Q=!1,G=!0,ne),keyframes:Me=>{const Ot=ie!==Me;return ie=Me,Ot&&(Me=>{Ke&&_t().forEach(Ot=>{const Ht=Ot.effect;if(Ht.setKeyframes)Ht.setKeyframes(Me);else{const vr=new KeyframeEffect(Ht.target,Me,Ht.getTiming());Ot.effect=vr}})})(ie),ne},addAnimation:Me=>{if(null!=Me)if(Array.isArray(Me))for(const Ot of Me)Ot.parent(ne),wt.push(Ot);else Me.parent(ne),wt.push(Me);return ne},addElement:Me=>{if(null!=Me)if(1===Me.nodeType)Je.push(Me);else if(Me.length>=0)for(let Ot=0;Ot<Me.length;Ot++)Je.push(Me[Ot]);else(0,S.j)("createAnimation - Invalid addElement value.");return ne},update:fr,fill:Me=>(I=Me,fr(!0),ne),direction:Me=>(T=Me,fr(!0),ne),iterations:Me=>(O=Me,fr(!0),ne),duration:Me=>(!Ke&&0===Me&&(Me=1),N=Me,fr(!0),ne),easing:Me=>(H=Me,fr(!0),ne),delay:Me=>(F=Me,fr(!0),ne),getWebAnimations:_t,getKeyframes:()=>ie,getFill:ci,getDirection:Ae,getDelay:Dn,getIterations:Zn,getEasing:Oe,getDuration:qt,afterAddRead:Me=>(ft.push(Me),ne),afterAddWrite:Me=>(Ct.push(Me),ne),afterClearStyles:(Me=[])=>{for(const Ot of Me)Ye[Ot]="";return ne},afterStyles:(Me={})=>(Ye=Me,ne),afterRemoveClass:Me=>(Ie=f(Ie,Me),ne),afterAddClass:Me=>(ge=f(ge,Me),ne),beforeAddRead:Me=>(He.push(Me),ne),beforeAddWrite:Me=>(vt.push(Me),ne),beforeClearStyles:(Me=[])=>{for(const Ot of Me)Y[Ot]="";return ne},beforeStyles:(Me={})=>(Y=Me,ne),beforeRemoveClass:Me=>(be=f(be,Me),ne),beforeAddClass:Me=>(ce=f(ce,Me),ne),onFinish:Ne,isRunning:()=>0!==te&&!ae,progressStart:(Me=!1,Ot)=>(wt.forEach(Ht=>{Ht.progressStart(Me,Ot)}),Zi(),we=Me,Q||bi(),fr(!1,!0,Ot),ne),progressStep:Me=>(wt.forEach(Ot=>{Ot.progressStep(Me)}),Yo(Me),ne),progressEnd:(Me,Ot,Ht)=>(we=!1,wt.forEach(vr=>{vr.progressEnd(Me,Ot,Ht)}),void 0!==Ht&&(De=Ht),Ve=!1,X=!0,0===Me?(de="reverse"===Ae()?"normal":"reverse","reverse"===de&&(X=!1),Ke?(fr(),Yo(1-Ot)):(U=(1-Ot)*qt()*-1,fr(!1,!1))):1===Me&&(Ke?(fr(),Yo(Ot)):(U=Ot*qt()*-1,fr(!1,!1))),void 0!==Me&&!Z&&ha(),ne)}}},7268:K=>{"use strict";var S,k,Se=Function.prototype.toString,_="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof _&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw k}}),k={},_(function(){throw 42},null,S)}catch(be){be!==k&&(_=null)}else _=null;var L=/^\s*class\b/,z=function(Q){try{var Z=Se.call(Q);return L.test(Z)}catch{return!1}},R=function(Q){try{return!z(Q)&&(Se.call(Q),!0)}catch{return!1}},f=Object.prototype.toString,I="function"==typeof Symbol&&!!Symbol.toStringTag,T=!(0 in[,]),ie=function(){return!1};if("object"==typeof document){var ce=document.all;f.call(ce)===f.call(document.all)&&(ie=function(Q){if((T||!Q)&&(typeof Q>"u"||"object"==typeof Q))try{var Z=f.call(Q);return("[object HTMLAllCollection]"===Z||"[object HTML document.all class]"===Z||"[object HTMLCollection]"===Z||"[object Object]"===Z)&&null==Q("")}catch{}return!1})}K.exports=_?function(Q){if(ie(Q))return!0;if(!Q||"function"!=typeof Q&&"object"!=typeof Q)return!1;try{_(Q,null,S)}catch(Z){if(Z!==k)return!1}return!z(Q)&&R(Q)}:function(Q){if(ie(Q))return!0;if(!Q||"function"!=typeof Q&&"object"!=typeof Q)return!1;if(I)return R(Q);if(z(Q))return!1;var Z=f.call(Q);return!("[object Function]"!==Z&&"[object GeneratorFunction]"!==Z&&!/^\[object HTML/.test(Z))&&R(Q)}},7308:(K,Se)=>{"use strict";var _=Object.prototype.hasOwnProperty;function k(f){try{return decodeURIComponent(f.replace(/\+/g," "))}catch{return null}}function L(f){try{return encodeURIComponent(f)}catch{return null}}Se.stringify=function R(f,P){P=P||"";var F,N,D=[];for(N in"string"!=typeof P&&(P="?"),f)if(_.call(f,N)){if(!(F=f[N])&&(null==F||isNaN(F))&&(F=""),N=L(N),F=L(F),null===N||null===F)continue;D.push(N+"="+F)}return D.length?P+D.join("&"):""},Se.parse=function z(f){for(var F,P=/([^=?#&]+)=?([^&]*)/g,D={};F=P.exec(f);){var N=k(F[1]),H=k(F[2]);null===N||null===H||N in D||(D[N]=H)}return D}},7433:(K,Se,_)=>{"use strict";_.d(Se,{B:()=>ot,F:()=>Nt,G:()=>Dt,O:()=>Ke,a:()=>be,b:()=>Q,c:()=>Ie,d:()=>_t,e:()=>$t,f:()=>Re,g:()=>Ce,h:()=>Te,i:()=>vt,j:()=>te,k:()=>we,l:()=>Z,m:()=>Y,n:()=>N,o:()=>ae,q:()=>H,s:()=>Ct});var S=_(1890),k=_(575),L=_(6721),z=_(4896),R=_(9335),f=_(9919),P=_(5827),D=_(566);const F='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',N=(Ze,Ne)=>{const ze=Ze.querySelector(F);O(ze,Ne??Ze)},H=(Ze,Ne)=>{const ze=Array.from(Ze.querySelectorAll(F));O(ze.length>0?ze[ze.length-1]:null,Ne??Ze)},O=(Ze,Ne)=>{let ze=Ze;const ct=Ze?.shadowRoot;if(ct&&(ze=ct.querySelector(F)||Ze),ze){const Xt=ze.closest("ion-radio-group");Xt?Xt.setFocus():(0,L.n)(ze)}else Ne.focus()};let I=0,T=0;const ie=new WeakMap,ce=Ze=>({create:Ne=>me(Ze,Ne),dismiss:(Ne,ze,ct)=>Ve(document,Ne,ze,Ze,ct),getTop:()=>(0,S.A)(function*(){return ae(document,Ze)})()}),be=ce("ion-alert"),Q=ce("ion-action-sheet"),Z=ce("ion-loading"),Y=ce("ion-modal"),Ie=ce("ion-popover"),te=Ze=>{typeof document<"u"&&X(document);const Ne=I++;Ze.overlayIndex=Ne},we=Ze=>(Ze.hasAttribute("id")||(Ze.id="ion-overlay-"+ ++T),Ze.id),me=(Ze,Ne)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ze).then(()=>{const ze=document.createElement(Ze);return ze.classList.add("overlay-hidden"),Object.assign(ze,Object.assign(Object.assign({},Ne),{hasController:!0})),Je(document).appendChild(ze),new Promise(ct=>(0,L.c)(ze,ct))}):Promise.resolve(),De=(Ze,Ne)=>{let ze=Ze;const ct=Ze?.shadowRoot;ct&&(ze=ct.querySelector(F)||Ze),ze?(0,L.n)(ze):Ne.focus()},X=Ze=>{0===I&&(I=1,Ze.addEventListener("focus",Ne=>{((Ze,Ne)=>{const ze=ae(Ne,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),ct=Ze.target;ze&&ct&&!ze.classList.contains(Nt)&&(ze.shadowRoot?(()=>{if(ze.contains(ct))ze.lastFocus=ct;else if("ION-TOAST"===ct.tagName)De(ze.lastFocus,ze);else{const xn=ze.lastFocus;N(ze),xn===Ne.activeElement&&H(ze),ze.lastFocus=Ne.activeElement}})():(()=>{if(ze===ct)ze.lastFocus=void 0;else if("ION-TOAST"===ct.tagName)De(ze.lastFocus,ze);else{const xn=(0,L.g)(ze);if(!xn.contains(ct))return;const sn=xn.querySelector(".ion-overlay-wrapper");if(!sn)return;if(sn.contains(ct)||ct===xn.querySelector("ion-backdrop"))ze.lastFocus=ct;else{const Sn=ze.lastFocus;N(sn,ze),Sn===Ne.activeElement&&H(sn,ze),ze.lastFocus=Ne.activeElement}}})())})(Ne,Ze)},!0),Ze.addEventListener("ionBackButton",Ne=>{const ze=ae(Ze);ze?.backdropDismiss&&Ne.detail.register(z.OVERLAY_BACK_BUTTON_PRIORITY,()=>{ze.dismiss(void 0,ot)})}),(0,z.shouldUseCloseWatcher)()||Ze.addEventListener("keydown",Ne=>{if("Escape"===Ne.key){const ze=ae(Ze);ze?.backdropDismiss&&ze.dismiss(void 0,ot)}}))},Ve=(Ze,Ne,ze,ct,Xt)=>{const pn=ae(Ze,ct,Xt);return pn?pn.dismiss(Ne,ze):Promise.reject("overlay does not exist")},ne=(Ze,Ne)=>((Ze,Ne)=>(void 0===Ne&&(Ne="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ze.querySelectorAll(Ne)).filter(ze=>ze.overlayIndex>0)))(Ze,Ne).filter(ze=>!(Ze=>Ze.classList.contains("overlay-hidden"))(ze)),ae=(Ze,Ne,ze)=>{const ct=ne(Ze,Ne);return void 0===ze?ct[ct.length-1]:ct.find(Xt=>Xt.id===ze)},ve=(Ze=!1)=>{const ze=Je(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ze&&(Ze?ze.setAttribute("aria-hidden","true"):ze.removeAttribute("aria-hidden"))},Re=function(){var Ze=(0,S.A)(function*(Ne,ze,ct,Xt,pn){var xn,sn;if(Ne.presented)return;"ION-TOAST"!==Ne.el.tagName&&(ve(!0),document.body.classList.add(D.B)),En(Ne.el),wn(Ne.el),Ne.presented=!0,Ne.willPresent.emit(),null===(xn=Ne.willPresentShorthand)||void 0===xn||xn.emit();const Sn=(0,f.b)(Ne),cr=Ne.enterAnimation?Ne.enterAnimation:R.e.get(ze,"ios"===Sn?ct:Xt);(yield wt(Ne,cr,Ne.el,pn))&&(Ne.didPresent.emit(),null===(sn=Ne.didPresentShorthand)||void 0===sn||sn.emit()),"ION-TOAST"!==Ne.el.tagName&&Fe(Ne.el),Ne.keyboardClose&&(null===document.activeElement||!Ne.el.contains(document.activeElement))&&Ne.el.focus(),Ne.el.removeAttribute("aria-hidden")});return function(ze,ct,Xt,pn,xn){return Ze.apply(this,arguments)}}(),Fe=function(){var Ze=(0,S.A)(function*(Ne){let ze=document.activeElement;if(!ze)return;const ct=ze?.shadowRoot;ct&&(ze=ct.querySelector(F)||ze),yield Ne.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&ze.focus()});return function(ze){return Ze.apply(this,arguments)}}(),Ce=function(){var Ze=(0,S.A)(function*(Ne,ze,ct,Xt,pn,xn,sn){var Sn,cr;if(!Ne.presented)return!1;const ro=(void 0!==k.d?ne(k.d):[]).filter(Wr=>"ION-TOAST"!==Wr.tagName);1===ro.length&&ro[0].id===Ne.el.id&&(ve(!1),document.body.classList.remove(D.B)),Ne.presented=!1;try{wn(Ne.el),Ne.el.style.setProperty("pointer-events","none"),Ne.willDismiss.emit({data:ze,role:ct}),null===(Sn=Ne.willDismissShorthand)||void 0===Sn||Sn.emit({data:ze,role:ct});const Wr=(0,f.b)(Ne),$o=Ne.leaveAnimation?Ne.leaveAnimation:R.e.get(Xt,"ios"===Wr?pn:xn);ct!==Dt&&(yield wt(Ne,$o,Ne.el,sn)),Ne.didDismiss.emit({data:ze,role:ct}),null===(cr=Ne.didDismissShorthand)||void 0===cr||cr.emit({data:ze,role:ct}),(ie.get(Ne)||[]).forEach(Jt=>Jt.destroy()),ie.delete(Ne),Ne.el.classList.add("overlay-hidden"),Ne.el.style.removeProperty("pointer-events"),void 0!==Ne.el.lastFocus&&(Ne.el.lastFocus=void 0)}catch(Wr){(0,R.j)(`[${Ne.el.tagName.toLowerCase()}] - `,Wr)}return Ne.el.remove(),Wt(),!0});return function(ze,ct,Xt,pn,xn,sn,Sn){return Ze.apply(this,arguments)}}(),Je=Ze=>Ze.querySelector("ion-app")||Ze.body,wt=function(){var Ze=(0,S.A)(function*(Ne,ze,ct,Xt){ct.classList.remove("overlay-hidden");const xn=ze(Ne.el,Xt);(!Ne.animated||!R.e.getBoolean("animated",!0))&&xn.duration(0),Ne.keyboardClose&&xn.beforeAddWrite(()=>{const Sn=ct.ownerDocument.activeElement;Sn?.matches("input,ion-input, ion-textarea")&&Sn.blur()});const sn=ie.get(Ne)||[];return ie.set(Ne,[...sn,xn]),yield xn.play(),!0});return function(ze,ct,Xt,pn){return Ze.apply(this,arguments)}}(),Te=(Ze,Ne)=>{let ze;const ct=new Promise(Xt=>ze=Xt);return He(Ze,Ne,Xt=>{ze(Xt.detail)}),ct},He=(Ze,Ne,ze)=>{const ct=Xt=>{(0,L.m)(Ze,Ne,ct),ze(Xt)};(0,L.f)(Ze,Ne,ct)},vt=Ze=>"cancel"===Ze||Ze===ot,ft=Ze=>Ze(),Ct=(Ze,Ne)=>{if("function"==typeof Ze)return R.e.get("_zoneGate",ft)(()=>{try{return Ze(Ne)}catch(ct){throw ct}})},ot="backdrop",Dt="gesture",Ke=39,_t=Ze=>{let ze,Ne=!1;const ct=(0,P.C)(),Xt=(sn=!1)=>{if(ze&&!sn)return{delegate:ze,inline:Ne};const{el:Sn,hasController:cr,delegate:mr}=Ze;return Ne=null!==Sn.parentNode&&!cr,ze=Ne?mr||ct:mr,{inline:Ne,delegate:ze}};return{attachViewToDom:function(){var sn=(0,S.A)(function*(Sn){const{delegate:cr}=Xt(!0);if(cr)return yield cr.attachViewToDom(Ze.el,Sn);const{hasController:mr}=Ze;if(mr&&void 0!==Sn)throw new Error("framework delegate is missing");return null});return function(cr){return sn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:sn}=Xt();sn&&void 0!==Ze.el&&sn.removeViewFromDom(Ze.el.parentElement,Ze.el)}}},$t=()=>{let Ze;const Ne=()=>{Ze&&(Ze(),Ze=void 0)};return{addClickListener:(ct,Xt)=>{Ne();const pn=void 0!==Xt?document.getElementById(Xt):null;pn?Ze=((sn,Sn)=>{const cr=()=>{Sn.present()};return sn.addEventListener("click",cr),()=>{sn.removeEventListener("click",cr)}})(pn,ct):(0,R.f)(`[${ct.tagName.toLowerCase()}] - A trigger element with the ID "${Xt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ct)},removeClickListener:Ne}},wn=Ze=>{void 0!==k.d&&(0,f.a)("android")&&Ze.setAttribute("aria-hidden","true")},En=Ze=>{var Ne;if(void 0===k.d)return;const ze=ne(k.d);for(let ct=ze.length-1;ct>=0;ct--){const Xt=ze[ct],pn=null!==(Ne=ze[ct+1])&&void 0!==Ne?Ne:Ze;(pn.hasAttribute("aria-hidden")||"ION-TOAST"!==pn.tagName)&&Xt.setAttribute("aria-hidden","true")}},Wt=()=>{if(void 0===k.d)return;const Ze=ne(k.d);for(let Ne=Ze.length-1;Ne>=0;Ne--){const ze=Ze[Ne];if(ze.removeAttribute("aria-hidden"),"ION-TOAST"!==ze.tagName)break}},Nt="ion-disable-focus-trap"},7510:(K,Se,_)=>{var L,S=_(5e3).default,k=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(z={}){var f=z,P="object"==typeof window,D=typeof WorkerGlobalScope<"u",H=("object"==typeof process&&process.versions?.node&&process,"./this.program"),O=(u,E)=>{throw E};D&&(L=self.location.href);var ie,ce,I="";if(P||D){try{I=new URL(".",L).href}catch{}D&&(ce=u=>{var E=new XMLHttpRequest;return E.open("GET",u,!1),E.responseType="arraybuffer",E.send(null),new Uint8Array(E.response)}),ie=function(){var u=S(function*(E){var re=yield fetch(E,{credentials:"same-origin"});if(re.ok)return re.arrayBuffer();throw new Error(re.status+" : "+re.url)});return function(re){return u.apply(this,arguments)}}()}var Z,ge,be=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Ie(u,E){u||Ke(E)}function te(){if(!Y){var u=_n();0==u&&(u+=4);var E=ne[u>>2],re=ne[u+4>>2];(34821223!=E||2310721022!=re)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${Wr(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Wr(re)} ${Wr(E)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var we,me,de,De,U,G,ne,ve,Re,Ce=!1;function Je(){var u=de.buffer;De=new Int8Array(u),new Int16Array(u),f.HEAPU8=U=new Uint8Array(u),new Uint16Array(u),G=new Int32Array(u),f.HEAPU32=ne=new Uint32Array(u),new Float32Array(u),ve=new Float64Array(u),Re=new BigInt64Array(u),new BigUint64Array(u)}var _t,ft=0,Ct=null;function Ke(u){f.onAbort?.(u),Q(u="Aborted("+u+")"),Y=!0,u+=". Build with -sASSERTIONS for more info.";var E=new WebAssembly.RuntimeError(u);throw me?.(E),E}function Wt(){return(Wt=S(function*(u){if(!Z)try{var E=yield ie(u);return new Uint8Array(E)}catch{}return function wn(u){if(u==_t&&Z)return new Uint8Array(Z);if(ce)return ce(u);throw"both async and sync fetching of the wasm failed"}(u)})).apply(this,arguments)}function Ze(){return Ze=S(function*(u,E){try{var re=yield function En(u){return Wt.apply(this,arguments)}(u);return yield WebAssembly.instantiate(re,E)}catch(Yt){Q(`failed to asynchronously prepare wasm: ${Yt}`),Ke(Yt)}}),Ze.apply(this,arguments)}function ze(){return ze=S(function*(u,E,re){if(!u&&"function"==typeof WebAssembly.instantiateStreaming)try{var at=fetch(E,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(at,re)}catch(kn){Q(`wasm streaming compile failed: ${kn}`),Q("falling back to ArrayBuffer instantiation")}return function Nt(u,E){return Ze.apply(this,arguments)}(E,re)}),ze.apply(this,arguments)}function pn(){return pn=S(function*(){function u(kn,Kn){return de=(zl=kn.exports).u,Je(),Kr=zl.Dd,function gu(u){f._main=tt=u.w,f._webidl_free=u.x,f._webidl_malloc=u.y,f._emscripten_bind_VoidPtr___destroy___0=Li=u.z,f._emscripten_bind_Cloudpilot_Cloudpilot_0=ei=u.A,f._emscripten_bind_Cloudpilot_Malloc_1=ma=u.B,f._emscripten_bind_Cloudpilot_Free_1=bs=u.C,f._emscripten_bind_Cloudpilot_Nullptr_0=Zs=u.D,f._emscripten_bind_Cloudpilot_EnableLogging_1=ti=u.E,f._emscripten_bind_Cloudpilot_InitializeSession_3=Cs=u.F,f._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=Ci=u.G,f._emscripten_bind_Cloudpilot_RunEmulation_1=Ss=u.H,f._emscripten_bind_Cloudpilot_SetClockFactor_1=ws=u.I,f._emscripten_bind_Cloudpilot_CopyFrame_0=Yi=u.J,f._emscripten_bind_Cloudpilot_IsScreenDirty_0=ho=u.K,f._emscripten_bind_Cloudpilot_MarkScreenClean_0=Si=u.L,f._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=Xi=u.M,f._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=Qi=u.N,f._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=Ks=u.O,f._emscripten_bind_Cloudpilot_QueuePenMove_2=Es=u.P,f._emscripten_bind_Cloudpilot_QueuePenUp_0=fi=u.Q,f._emscripten_bind_Cloudpilot_QueueButtonDown_1=ni=u.R,f._emscripten_bind_Cloudpilot_QueueButtonUp_1=wi=u.S,f._emscripten_bind_Cloudpilot_QueueKeyboardEvent_1=Gt=u.T,f._emscripten_bind_Cloudpilot_IsPowerOff_0=un=u.U,f._emscripten_bind_Cloudpilot_IsUIInitialized_0=va=u.V,f._emscripten_bind_Cloudpilot_GetOSVersion_0=Ys=u.W,f._emscripten_bind_Cloudpilot_IsSetupComplete_0=Do=u.X,f._emscripten_bind_Cloudpilot_Reset_0=Ds=u.Y,f._emscripten_bind_Cloudpilot_ResetNoExtensions_0=$i=u.Z,f._emscripten_bind_Cloudpilot_ResetHard_0=Ji=u._,f._emscripten_bind_Cloudpilot_InstallDb_2=Is=u.$,f._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=Ga=u.aa,f._emscripten_bind_Cloudpilot_GetMemoryPtr_0=Xs=u.ba,f._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=Ts=u.ca,f._emscripten_bind_Cloudpilot_GetMemorySize_0=ya=u.da,f._emscripten_bind_Cloudpilot_ImportMemoryImage_2=Qs=u.ea,f._emscripten_bind_Cloudpilot_GetRomPtr_0=Js=u.fa,f._emscripten_bind_Cloudpilot_GetRomSize_0=_a=u.ga,f._emscripten_bind_Cloudpilot_GetSavestatePtr_0=ea=u.ha,f._emscripten_bind_Cloudpilot_GetSavestateSize_0=Io=u.ia,f._emscripten_bind_Cloudpilot_SaveState_0=ta=u.ja,f._emscripten_bind_Cloudpilot_LoadState_2=so=u.ka,f._emscripten_bind_Cloudpilot_GetHotsyncName_0=es=u.la,f._emscripten_bind_Cloudpilot_SetHotsyncName_1=ba=u.ma,f._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=za=u.na,f._emscripten_bind_Cloudpilot_StartBackup_0=jo=u.oa,f._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=As=u.pa,f._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=Ca=u.qa,f._emscripten_bind_Cloudpilot_IsSuspended_0=na=u.ra,f._emscripten_bind_Cloudpilot_GetSuspendContext_0=se=u.sa,f._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=ra=u.ta,f._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=Le=u.ua,f._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=pi=u.va,f._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=Sa=u.wa,f._emscripten_bind_Cloudpilot_LaunchAppByName_1=Ms=u.xa,f._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=Bi=u.ya,f._emscripten_bind_Cloudpilot_ClearExternalStorage_0=fl=u.za,f._emscripten_bind_Cloudpilot_AllocateCard_2=h=u.Aa,f._emscripten_bind_Cloudpilot_AdoptCard_3=v=u.Ba,f._emscripten_bind_Cloudpilot_MountCard_1=w=u.Ca,f._emscripten_bind_Cloudpilot_RemoveCard_1=A=u.Da,f._emscripten_bind_Cloudpilot_GetCardData_1=ee=u.Ea,f._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=J=u.Fa,f._emscripten_bind_Cloudpilot_GetCardSize_1=Ue=u.Ga,f._emscripten_bind_Cloudpilot_RemountCards_0=pe=u.Ha,f._emscripten_bind_Cloudpilot_GetSupportLevel_1=qe=u.Ia,f._emscripten_bind_Cloudpilot_GetMountedKey_0=ye=u.Ja,f._emscripten_bind_Cloudpilot_GetTransportIR_0=je=u.Ka,f._emscripten_bind_Cloudpilot_GetTransportSerial_0=dt=u.La,f._emscripten_bind_Cloudpilot___destroy___0=ut=u.Ma,f._emscripten_bind_RomInfo_RomInfo_2=At=u.Na,f._emscripten_bind_RomInfo_IsValid_0=gt=u.Oa,f._emscripten_bind_RomInfo_CardVersion_0=Mt=u.Pa,f._emscripten_bind_RomInfo_CardName_0=ur=u.Qa,f._emscripten_bind_RomInfo_RomVersion_0=Zt=u.Ra,f._emscripten_bind_RomInfo_RomVersionString_0=Kt=u.Sa,f._emscripten_bind_RomInfo_Supports_1=$n=u.Ta,f._emscripten_bind_RomInfo___destroy___0=an=u.Ua,f._emscripten_bind_Frame_GetLineWidth_0=St=u.Va,f._emscripten_bind_Frame_GetBpp_0=Hn=u.Wa,f._emscripten_bind_Frame_GetLines_0=hn=u.Xa,f._emscripten_bind_Frame_GetMargin_0=Rn=u.Ya,f._emscripten_bind_Frame_GetBytesPerLine_0=b=u.Za,f._emscripten_bind_Frame_GetFirstDirtyLine_0=$=u._a,f._emscripten_bind_Frame_GetLastDirtyLine_0=le=u.$a,f._emscripten_bind_Frame_GetHasChanges_0=Be=u.ab,f._emscripten_bind_Frame_GetBuffer_0=Pt=u.bb,f._emscripten_bind_Frame_GetBufferSize_0=on=u.cb,f._emscripten_bind_Frame_GetScaleX_0=mn=u.db,f._emscripten_bind_Frame_GetScaleY_0=Gn=u.eb,f._emscripten_bind_Frame___destroy___0=Yr=u.fb,f._emscripten_bind_DbBackup_Init_1=dn=u.gb,f._emscripten_bind_DbBackup_IsInProgress_0=Ar=u.hb,f._emscripten_bind_DbBackup_IsDone_0=Vr=u.ib,f._emscripten_bind_DbBackup_GetCurrentDatabase_0=pr=u.jb,f._emscripten_bind_DbBackup_Save_0=xt=u.kb,f._emscripten_bind_DbBackup_Skip_0=Nr=u.lb,f._emscripten_bind_DbBackup_GetArchivePtr_0=nr=u.mb,f._emscripten_bind_DbBackup_GetArchiveSize_0=Mr=u.nb,f._emscripten_bind_DbBackup___destroy___0=hr=u.ob,f._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=ir=u.pb,f._emscripten_bind_SuspendContextClipboardCopy_Resume_0=g=u.qb,f._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=B=u.rb,f._emscripten_bind_SuspendContextClipboardCopy___destroy___0=_e=u.sb,f._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=it=u.tb,f._emscripten_bind_SuspendContextClipboardPaste_Resume_1=zt=u.ub,f._emscripten_bind_SuspendContextClipboardPaste___destroy___0=Tn=u.vb,f._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=Wn=u.wb,f._emscripten_bind_SuspendContextNetworkConnect_Resume_0=Bn=u.xb,f._emscripten_bind_SuspendContextNetworkConnect___destroy___0=Ur=u.yb,f._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=Wa=u.zb,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=Ol=u.Ab,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=Pl=u.Bb,f._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=wa=u.Cb,f._emscripten_bind_SuspendContextNetworkRpc___destroy___0=Vo=u.Db,f._emscripten_bind_SuspendContextSerialSync_Cancel_0=Ec=u.Eb,f._emscripten_bind_SuspendContextSerialSync_Resume_0=dd=u.Fb,f._emscripten_bind_SuspendContextSerialSync___destroy___0=ao=u.Gb,f._emscripten_bind_SuspendContext_GetKind_0=lt=u.Hb,f._emscripten_bind_SuspendContext_Cancel_0=ln=u.Ib,f._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=lo=u.Jb,f._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=ri=u.Kb,f._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=No=u.Lb,f._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=pl=u.Mb,f._emscripten_bind_SuspendContext_AsContextSerialSync_0=Dc=u.Nb,f._emscripten_bind_SuspendContext___destroy___0=sr=u.Ob,f._emscripten_bind_SessionImage_SessionImage_0=xr=u.Pb,f._emscripten_bind_SessionImage_GetDeviceId_0=ts=u.Qb,f._emscripten_bind_SessionImage_SetDeviceId_1=An=u.Rb,f._emscripten_bind_SessionImage_GetRomImage_0=hl=u.Sb,f._emscripten_bind_SessionImage_GetRomImageSize_0=uu=u.Tb,f._emscripten_bind_SessionImage_SetRomImage_2=Fl=u.Ub,f._emscripten_bind_SessionImage_GetMemoryImage_0=go=u.Vb,f._emscripten_bind_SessionImage_GetMemoryImageSize_0=qa=u.Wb,f._emscripten_bind_SessionImage_SetMemoryImage_2=Ll=u.Xb,f._emscripten_bind_SessionImage_GetMetadata_0=Ea=u.Yb,f._emscripten_bind_SessionImage_GetMetadataSize_0=Ic=u.Zb,f._emscripten_bind_SessionImage_SetMetadata_2=Vf=u._b,f._emscripten_bind_SessionImage_GetSavestate_0=Za=u.$b,f._emscripten_bind_SessionImage_GetSavestateSize_0=fd=u.ac,f._emscripten_bind_SessionImage_SetSavestate_2=gl=u.bc,f._emscripten_bind_SessionImage_GetVersion_0=ji=u.cc,f._emscripten_bind_SessionImage_Serialize_0=$l=u.dc,f._emscripten_bind_SessionImage_GetSerializedImage_0=rn=u.ec,f._emscripten_bind_SessionImage_GetSerializedImageSize_0=pd=u.fc,f._emscripten_bind_SessionImage_Deserialize_2=Ka=u.gc,f._emscripten_bind_SessionImage___destroy___0=Da=u.hc,f._emscripten_bind_SkinLoader_SkinLoader_1=du=u.ic,f._emscripten_bind_SkinLoader_GetData_0=Bl=u.jc,f._emscripten_bind_SkinLoader_GetSize_0=Xr=u.kc,f._emscripten_bind_SkinLoader___destroy___0=Qr=u.lc,f._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=hi=u.mc,f._emscripten_bind_EmTransportSerialBuffer_Receive_0=Uf=u.nc,f._emscripten_bind_EmTransportSerialBuffer_Send_3=Ia=u.oc,f._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=jl=u.pc,f._emscripten_bind_EmTransportSerialBuffer_Rts_0=Vi=u.qc,f._emscripten_bind_EmTransportSerialBuffer_Dtr_0=Ya=u.rc,f._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=Ky=u.sc,f._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=Yy=u.tc,f._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=Ta=u.uc,f._emscripten_bind_EmTransportSerialBuffer_GetParity_0=Hf=u.vc,f._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=Xy=u.wc,f._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=ig=u.xc,f._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=fu=u.yc,f._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=Qy=u.zc,f._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=Jy=u.Ac,f._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=e_=u.Bc,f._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=t_=u.Cc,f._emscripten_bind_EmTransportSerialBuffer___destroy___0=n_=u.Dc,f._emscripten_bind_GunzipContext_GunzipContext_3=r_=u.Ec,f._emscripten_bind_GunzipContext_GetState_0=sg=u.Fc,f._emscripten_bind_GunzipContext_Continue_0=o_=u.Gc,f._emscripten_bind_GunzipContext_GetUncompressedData_0=i_=u.Hc,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=s_=u.Ic,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=a_=u.Jc,f._emscripten_bind_GunzipContext_GetError_0=Gf=u.Kc,f._emscripten_bind_GunzipContext___destroy___0=zf=u.Lc,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=l_=u.Mc,f._emscripten_bind_ZipfileWalker_GetState_0=c_=u.Nc,f._emscripten_bind_ZipfileWalker_Next_0=u_=u.Oc,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=Wf=u.Pc,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=qf=u.Qc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=Oo=u.Rc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=ag=u.Sc,f._emscripten_bind_ZipfileWalker___destroy___0=Vl=u.Tc,f._emscripten_bind_SessionFile5_SessionFile5_0=Co=u.Uc,f._emscripten_bind_SessionFile5_IsSessionFile_2=lg=u.Vc,f._emscripten_bind_SessionFile5_GetDeviceId_0=Ul=u.Wc,f._emscripten_bind_SessionFile5_SetDeviceId_1=ml=u.Xc,f._emscripten_bind_SessionFile5_GetMetadata_0=hd=u.Yc,f._emscripten_bind_SessionFile5_GetMetadataSize_0=gi=u.Zc,f._emscripten_bind_SessionFile5_SetMetadata_2=cg=u._c,f._emscripten_bind_SessionFile5_GetNor_0=gd=u.$c,f._emscripten_bind_SessionFile5_GetNorSize_0=ug=u.ad,f._emscripten_bind_SessionFile5_SetNor_2=oi=u.bd,f._emscripten_bind_SessionFile5_GetNand_0=Zf=u.cd,f._emscripten_bind_SessionFile5_GetNandSize_0=Kf=u.dd,f._emscripten_bind_SessionFile5_SetNand_2=Yf=u.ed,f._emscripten_bind_SessionFile5_GetMemory_0=pu=u.fd,f._emscripten_bind_SessionFile5_GetMemorySize_0=md=u.gd,f._emscripten_bind_SessionFile5_SetMemory_2=Hl=u.hd,f._emscripten_bind_SessionFile5_GetSavestate_0=hu=u.id,f._emscripten_bind_SessionFile5_GetSavestateSize_0=vd=u.jd,f._emscripten_bind_SessionFile5_SetSavestate_2=Aa=u.kd,f._emscripten_bind_SessionFile5_GetRamSize_0=Xf=u.ld,f._emscripten_bind_SessionFile5_SetRamSize_1=Qf=u.md,f._emscripten_bind_SessionFile5_Serialize_0=Jf=u.nd,f._emscripten_bind_SessionFile5_GetSerializedSession_0=vn=u.od,f._emscripten_bind_SessionFile5_GetSerializedSessionSize_0=Gl=u.pd,f._emscripten_bind_SessionFile5_GetVersion_0=yd=u.qd,f._emscripten_bind_SessionFile5_Deserialize_2=_d=u.rd,f._emscripten_bind_SessionFile5___destroy___0=dg=u.sd,f._emscripten_bind_RomInfo5_RomInfo5_2=fg=u.td,f._emscripten_bind_RomInfo5_IsValid_0=ep=u.ud,f._emscripten_bind_RomInfo5_GetCardName_0=bd=u.vd,f._emscripten_bind_RomInfo5_GetManufacturer_0=tp=u.wd,f._emscripten_bind_RomInfo5_GetRomName_0=np=u.xd,f._emscripten_bind_RomInfo5_GetCompanyId_0=pg=u.yd,f._emscripten_bind_RomInfo5_GetHalId_0=d_=u.zd,f._emscripten_bind_RomInfo5_GetDeviceType_0=hg=u.Ad,f._emscripten_bind_RomInfo5_GetRecommendedRamSize_0=rp=u.Bd,f._emscripten_bind_RomInfo5___destroy___0=et=u.Cd,_n=u.Ed,pt=u.Fd,ht=u.Gd,bn=u.Hd,f.___original_main=u.Id}(zl),function Dt(){if(ft--,f.monitorRunDependencies?.(ft),0==ft&&Ct){var E=Ct;Ct=null,E()}}(),zl}!function ot(){ft++,f.monitorRunDependencies?.(ft)}();var re=function ct(){return{a:Xa}}();if(f.instantiateWasm)return new Promise((kn,Kn)=>{f.instantiateWasm(re,(Yn,Fo)=>{kn(u(Yn))})});_t??=function $t(){return function T(u){return f.locateFile?f.locateFile(u,I):I+u}("cloudpilot_web.wasm")}();var at=yield function Ne(u,E,re){return ze.apply(this,arguments)}(Z,_t,re);return function E(kn){return u(kn.instance)}(at)}),pn.apply(this,arguments)}class xn{name="ExitStatus";constructor(E){this.message=`Program terminated with exit(${E})`,this.status=E}}var Kr,Un,sn=u=>{for(;u.length>0;)u.shift()(f)},Sn=[],cr=u=>Sn.push(u),mr=[],ro=u=>mr.push(u),wo=!0,Wr=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),$o=typeof TextDecoder<"u"?new TextDecoder:void 0,oo=(u,E=0,re=NaN)=>{for(var at=E+re,Yt=E;u[Yt]&&!(Yt>=at);)++Yt;if(Yt-E>16&&u.buffer&&$o)return $o.decode(u.subarray(E,Yt));for(var kn="";E<Yt;){var Kn=u[E++];if(128&Kn){var Yn=63&u[E++];if(192!=(224&Kn)){var Fo=63&u[E++];if((Kn=224==(240&Kn)?(15&Kn)<<12|Yn<<6|Fo:(7&Kn)<<18|Yn<<12|Fo<<6|63&u[E++])<65536)kn+=String.fromCharCode(Kn);else{var Tc=Kn-65536;kn+=String.fromCharCode(55296|Tc>>10,56320|1023&Tc)}}else kn+=String.fromCharCode((31&Kn)<<6|Yn)}else kn+=String.fromCharCode(Kn)}return kn},Jt=(u,E)=>u?oo(U,u,E):"",qt=u=>u<-9007199254740992||u>9007199254740992?NaN:Number(u),en=0,Dr=[0,31,60,91,121,152,182,213,244,274,305,335],fo=[0,31,59,90,120,151,181,212,243,273,304,334],io=u=>((u=>u%4==0&&(u%100!=0||u%400==0))(u.getFullYear())?Dr:fo)[u.getMonth()]+u.getDate()-1,In={},Eo=u=>{if(u instanceof xn||"unwind"==u)return ge;te(),u instanceof WebAssembly.RuntimeError&&bn()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),O(0,u)},ui=()=>wo||en>0,bo=u=>{ge=u,ui()||(f.onExit?.(u),Y=!0),O(0,new xn(u))},Ko=(u,E)=>{ge=u,bo(u)},jn=Ko,bi=()=>performance.now(),Pe=(u,E,re,at)=>{if(!(at>0))return 0;for(var Yt=re,kn=re+at-1,Kn=0;Kn<u.length;++Kn){var Yn=u.codePointAt(Kn);if(Yn<=127){if(re>=kn)break;E[re++]=Yn}else if(Yn<=2047){if(re+1>=kn)break;E[re++]=192|Yn>>6,E[re++]=128|63&Yn}else if(Yn<=65535){if(re+2>=kn)break;E[re++]=224|Yn>>12,E[re++]=128|Yn>>6&63,E[re++]=128|63&Yn}else{if(re+3>=kn)break;E[re++]=240|Yn>>18,E[re++]=128|Yn>>12&63,E[re++]=128|Yn>>6&63,E[re++]=128|63&Yn,Kn++}}return E[re]=0,re-Yt},fr=(u,E,re)=>Pe(u,U,E,re),zn=()=>Date.now(),di=[],Vn=(u,E)=>Math.ceil(u/E)*E,Vt=u=>{var re=(u-de.buffer.byteLength+65535)/65536|0;try{return de.grow(re),Je(),1}catch{}},Me={},Ht=()=>{if(!Ht.strings){var E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:H||"./this.program"};for(var re in Me)void 0===Me[re]?delete E[re]:E[re]=Me[re];var at=[];for(var re in E)at.push(`${re}=${E[re]}`);Ht.strings=at}return Ht.strings},or=u=>{for(var E=0,re=0;re<u.length;++re){var at=u.charCodeAt(re);at<=127?E++:at<=2047?E+=2:at>=55296&&at<=57343?(E+=4,++re):E+=3}return E},Va=[null,[],[]],ms=(u,E)=>{var re=Va[u];0===E||10===E?((1===u?be:Q)(oo(re)),re.length=0):re.push(E)},po=[],Bt=(u,E)=>{u<128?E.push(u):E.push(u%128|128,u>>7)},Jo=[],Qe=u=>{var E=Jo[u];return E||(Jo[u]=E=Kr.get(u)),E},ga=[],Ha=(u,E)=>{Kr.set(u,E),Jo[u]=Kr.get(u)};f.noExitRuntime&&(wo=f.noExitRuntime),f.print&&(be=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(Z=f.wasmBinary),f.thisProgram&&(H=f.thisProgram),f.addFunction=(u,E)=>{var re=(u=>(Un||(Un=new WeakMap,((u,E)=>{if(Un)for(var re=0;re<0+E;re++){var at=Qe(re);at&&Un.set(at,re)}})(0,Kr.length)),Un.get(u)||0))(u);if(re)return re;var at=(()=>{if(ga.length)return ga.pop();try{Kr.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return Kr.length-1})();try{Ha(at,u)}catch(kn){if(!(kn instanceof TypeError))throw kn;var Yt=((u,E)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var E={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},re={parameters:[],results:"v"==u[0]?[]:[E[u[0]]]},at=1;at<u.length;++at)re.parameters.push(E[u[at]]);return re})(E),u);var re=[1];((u,E)=>{var re=u.slice(0,1),at=u.slice(1),Yt={i:127,p:127,j:126,f:125,d:124,e:111};for(var kn of(E.push(96),Bt(at.length,E),at))E.push(Yt[kn]);"v"==re?E.push(0):E.push(1,Yt[re])})(E,re);var at=[0,97,115,109,1,0,0,0,1];Bt(re.length,at),at.push(...re),at.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Yt=new WebAssembly.Module(new Uint8Array(at));return new WebAssembly.Instance(Yt,{e:{f:u}}).exports.f})(u,E);Ha(at,Yt)}return Un.set(u,at),at},f.UTF8ToString=Jt;var tt,Li,ei,ma,bs,Zs,ti,Cs,Ci,Ss,ws,Yi,ho,Si,Xi,Qi,Ks,Es,fi,ni,wi,Gt,un,va,Ys,Do,Ds,$i,Ji,Is,Ga,Xs,Ts,ya,Qs,Js,_a,ea,Io,ta,so,es,ba,za,jo,As,Ca,na,se,ra,Le,pi,Sa,Ms,Bi,fl,h,v,w,A,ee,J,Ue,pe,qe,ye,je,dt,ut,At,gt,Mt,ur,Zt,Kt,$n,an,St,Hn,hn,Rn,b,$,le,Be,Pt,on,mn,Gn,Yr,dn,Ar,Vr,pr,xt,Nr,nr,Mr,hr,ir,g,B,_e,it,zt,Tn,Wn,Bn,Ur,Wa,Ol,Pl,wa,Vo,Ec,dd,ao,lt,ln,lo,ri,No,pl,Dc,sr,xr,ts,An,hl,uu,Fl,go,qa,Ll,Ea,Ic,Vf,Za,fd,gl,ji,$l,rn,pd,Ka,Da,du,Bl,Xr,Qr,hi,Uf,Ia,jl,Vi,Ya,Ky,Yy,Ta,Hf,Xy,ig,fu,Qy,Jy,e_,t_,n_,r_,sg,o_,i_,s_,a_,Gf,zf,l_,c_,u_,Wf,qf,Oo,ag,Vl,Co,lg,Ul,ml,hd,gi,cg,gd,ug,oi,Zf,Kf,Yf,pu,md,Hl,hu,vd,Aa,Xf,Qf,Jf,vn,Gl,yd,_d,dg,fg,ep,bd,tp,np,pg,d_,hg,rp,et,_n,pt,ht,bn,_s={429680:u=>{Kr.grow(65536);for(let E=0;E<=65535;E++)Kr.set(Kr.length-65535-1+E,Kr.get(ne[(u>>>2)+E]));return Kr.length-65535-1}},Xa={a:(u,E,re,at)=>Ke(`Assertion failed: ${Jt(u)}, at: `+[E?Jt(E):"unknown filename",re,at?Jt(at):"unknown function"]),s:function Ws(u){const E=new Error(Jt(u));throw E.isAssert=!0,E},c:function Zn(u,E){E=qt(E)},h:()=>Ke(""),j:()=>{wo=!1,en=0},p:function Ro(u,E){u=qt(u);var re=new Date(1e3*u);G[E>>2]=re.getSeconds(),G[E+4>>2]=re.getMinutes(),G[E+8>>2]=re.getHours(),G[E+12>>2]=re.getDate(),G[E+16>>2]=re.getMonth(),G[E+20>>2]=re.getFullYear()-1900,G[E+24>>2]=re.getDay();var at=0|io(re);G[E+28>>2]=at,G[E+36>>2]=-60*re.getTimezoneOffset();var Yt=new Date(re.getFullYear(),0,1),kn=new Date(re.getFullYear(),6,1).getTimezoneOffset(),Kn=Yt.getTimezoneOffset(),Yn=0|(kn!=Kn&&re.getTimezoneOffset()==Math.min(Kn,kn));G[E+32>>2]=Yn},q:function(u){var E=(()=>{var re=new Date(G[u+20>>2]+1900,G[u+16>>2],G[u+12>>2],G[u+8>>2],G[u+4>>2],G[u>>2],0),at=G[u+32>>2],Yt=re.getTimezoneOffset(),kn=new Date(re.getFullYear(),0,1),Kn=new Date(re.getFullYear(),6,1).getTimezoneOffset(),Yn=kn.getTimezoneOffset(),Fo=Math.min(Yn,Kn);if(at<0)G[u+32>>2]=+(Kn!=Yn&&Fo==Yt);else if(at>0!=(Fo==Yt)){var Tc=Math.max(Yn,Kn),Ac=at>0?Fo:Tc;re.setTime(re.getTime()+6e4*(Ac-Yt))}G[u+24>>2]=re.getDay();var mu=0|io(re);G[u+28>>2]=mu,G[u>>2]=re.getSeconds(),G[u+4>>2]=re.getMinutes(),G[u+8>>2]=re.getHours(),G[u+12>>2]=re.getDate(),G[u+16>>2]=re.getMonth(),G[u+20>>2]=re.getYear();var Mc=re.getTime();return isNaN(Mc)?-1:Mc/1e3})();return BigInt(E)},k:(u,E)=>{if(In[u]&&(clearTimeout(In[u].id),delete In[u]),!E)return 0;var re=setTimeout(()=>{delete In[u],(u=>{if(!Y)try{u(),(()=>{if(!ui())try{jn(ge)}catch(u){Eo(u)}})()}catch(E){Eo(E)}})(()=>pt(u,bi()))},E);return In[u]={id:re,timeout_ms:E},0},r:(u,E,re,at)=>{var Yt=(new Date).getFullYear(),kn=new Date(Yt,0,1),Kn=new Date(Yt,6,1),Yn=kn.getTimezoneOffset(),Fo=Kn.getTimezoneOffset(),Tc=Math.max(Yn,Fo);ne[u>>2]=60*Tc,G[E>>2]=+(Yn!=Fo);var Ac=Gr=>{var ii=Gr>=0?"-":"+",Gi=Math.abs(Gr);return`UTC${ii}${String(Math.floor(Gi/60)).padStart(2,"0")}${String(Gi%60).padStart(2,"0")}`},mu=Ac(Yn),Mc=Ac(Fo);Fo<Yn?(fr(mu,re,17),fr(Mc,at,17)):(fr(mu,at,17),fr(Mc,re,17))},n:function gn(u,E,re){if(E=qt(E),!(u=>u>=0&&u<=3)(u))return 28;var at;at=0===u?zn():bi();var Yt=Math.round(1e3*at*1e3);return Re[re>>3]=BigInt(Yt),0},t:(u,E,re)=>((u,E,re)=>{var at=((u,E)=>{di.length=0;for(var re;re=U[u++];){var at=105!=re;E+=(at&=112!=re)&&E%8?4:0,di.push(112==re?ne[E>>2]:106==re?Re[E>>3]:105==re?G[E>>2]:ve[E>>3]),E+=at?8:4}return di})(E,re);return _s[u](...at)})(u,E,re),g:zn,o:u=>{var E=U.length,re=2147483648;if((u>>>=0)>re)return!1;for(var at=1;at<=4;at*=2){var Yt=E*(1+.2/at);Yt=Math.min(Yt,u+100663296);var kn=Math.min(re,Vn(Math.max(u,Yt),65536));if(Vt(kn))return!0}return!1},l:(u,E)=>{var re=0,at=0;for(var Yt of Ht()){var kn=E+re;ne[u+at>>2]=kn,re+=fr(Yt,kn,1/0)+1,at+=4}return 0},m:(u,E)=>{var re=Ht();ne[u>>2]=re.length;var at=0;for(var Yt of re)at+=or(Yt)+1;return ne[E>>2]=at,0},d:u=>52,f:(u,E,re,at)=>52,b:function kl(u,E,re,at){return E=qt(E),70},e:(u,E,re,at)=>{for(var Yt=0,kn=0;kn<re;kn++){var Kn=ne[E>>2],Yn=ne[E+4>>2];E+=8;for(var Fo=0;Fo<Yn;Fo++)ms(u,U[Kn+Fo]);Yt+=Yn}return ne[at>>2]=Yt,0},i:bo},zl=yield function Xt(){return pn.apply(this,arguments)}();function yr(){}function xs(u){return(u||yr).__cache__}function Qt(u,E){var re=xs(E),at=re[u];return at||((at=Object.create((E||yr).prototype)).ptr=u,re[u]=at)}(function nI(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function yg(){function u(){f.calledRun=!0,Y||(function Te(){Ce=!0,te(),sn(po),zl.v()}(),function He(){te()}(),we?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function mg(){var u=tt;try{var at=u(0,0);return Ko(at),at}catch(Yt){return Eo(Yt)}}(),function vt(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)cr(f.postRun.shift());sn(Sn)}())}ft>0?Ct=yg:(function vg(){ht(),function Ye(){var u=_n();0==u&&(u+=4),ne[u>>2]=34821223,ne[u+4>>2]=2310721022,ne[0]=1668509029}()}(),function wt(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)ro(f.preRun.shift());sn(mr)}(),ft>0?Ct=yg:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),u()},1)):u(),te()))}(),(yr.prototype=Object.create(yr.prototype)).constructor=yr,yr.prototype.__class__=yr,yr.__cache__={},f.WrapperObject=yr,f.getCache=xs,f.wrapPointer=Qt,f.castObject=function Ei(u,E){return Qt(u.ptr,E)},f.NULL=Qt(0),f.destroy=function Qa(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete xs(u.__class__)[u.ptr]},f.compare=function _g(u,E){return u.ptr===E.ptr},f.getPointer=function Ui(u){return u.ptr},f.getClass=function Ja(u){return u.__class__};var Nn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Nn.needed){for(var u=0;u<Nn.temps.length;u++)f._webidl_free(Nn.temps[u]);Nn.temps.length=0,f._webidl_free(Nn.buffer),Nn.buffer=0,Nn.size+=Nn.needed,Nn.needed=0}Nn.buffer||(Nn.size+=128,Nn.buffer=f._webidl_malloc(Nn.size),Ie(Nn.buffer)),Nn.pos=0},alloc(u,E){Ie(Nn.buffer);var Yt,at=u.length*E.BYTES_PER_ELEMENT;return at=Vn(at,8),Nn.pos+at>=Nn.size?(Ie(at>0),Nn.needed+=at,Yt=f._webidl_malloc(at),Nn.temps.push(Yt)):(Yt=Nn.buffer+Nn.pos,Nn.pos+=at),Yt},copy(u,E,re){re/=E.BYTES_PER_ELEMENT;for(var at=0;at<u.length;at++)E[re+at]=u[at]}};function Uo(u){if("string"==typeof u){var E=(u=>{var at=or(u)+1,Yt=new Array(at);Pe(u,Yt,0,Yt.length);return Yt})(u),re=Nn.alloc(E,De);return Nn.copy(E,De,re),re}return u}function Qn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ge(){this.ptr=ei(),xs(Ge)[this.ptr]=this}function Jr(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=At(u,E),xs(Jr)[this.ptr]=this}function Jn(){throw"cannot construct a Frame, no constructor in IDL"}function br(){throw"cannot construct a DbBackup, no constructor in IDL"}function Po(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Hi(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Di(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function To(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Ii(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function Hr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function tn(){this.ptr=xr(),xs(tn)[this.ptr]=this}function Ti(u){Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),this.ptr=du(u),xs(Ti)[this.ptr]=this}function Cn(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function mo(u,E,re){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),re&&"object"==typeof re&&(re=re.ptr),this.ptr=r_(u,E,re),xs(mo)[this.ptr]=this}function qn(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=l_(u,E),xs(qn)[this.ptr]=this}function Rt(){this.ptr=Co(),xs(Rt)[this.ptr]=this}function er(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),this.ptr=fg(u,E),xs(er)[this.ptr]=this}return(Qn.prototype=Object.create(yr.prototype)).constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},f.VoidPtr=Qn,Qn.prototype.__destroy__=Qn.prototype.__destroy__=function(){Li(this.ptr)},(Ge.prototype=Object.create(yr.prototype)).constructor=Ge,Ge.prototype.__class__=Ge,Ge.__cache__={},f.Cloudpilot=Ge,Ge.prototype.Malloc=Ge.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),Qt(ma(this.ptr,u),Qn)},Ge.prototype.Free=Ge.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),bs(this.ptr,u)},Ge.prototype.Nullptr=Ge.prototype.Nullptr=function(){return Qt(Zs(this.ptr),Qn)},Ge.prototype.EnableLogging=Ge.prototype.EnableLogging=function(u){u&&"object"==typeof u&&(u=u.ptr),ti(this.ptr,u)},Ge.prototype.InitializeSession=Ge.prototype.InitializeSession=function(u,E,re){var at=this.ptr;return Nn.prepare(),u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),re=re&&"object"==typeof re?re.ptr:Uo(re),!!Cs(at,u,E,re)},Ge.prototype.GetCyclesPerSecond=Ge.prototype.GetCyclesPerSecond=function(){return Ci(this.ptr)},Ge.prototype.RunEmulation=Ge.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),Ss(this.ptr,u)},Ge.prototype.SetClockFactor=Ge.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),ws(this.ptr,u)},Ge.prototype.CopyFrame=Ge.prototype.CopyFrame=function(){return Qt(Yi(this.ptr),Jn)},Ge.prototype.IsScreenDirty=Ge.prototype.IsScreenDirty=function(){return!!ho(this.ptr)},Ge.prototype.MarkScreenClean=Ge.prototype.MarkScreenClean=function(){Si(this.ptr)},Ge.prototype.MinMemoryForDevice=Ge.prototype.MinMemoryForDevice=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),Xi(E,u)},Ge.prototype.FramebufferSizeForDevice=Ge.prototype.FramebufferSizeForDevice=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),Qi(E,u)},Ge.prototype.TotalMemoryForDevice=Ge.prototype.TotalMemoryForDevice=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),Ks(E,u)},Ge.prototype.QueuePenMove=Ge.prototype.QueuePenMove=function(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Es(this.ptr,u,E)},Ge.prototype.QueuePenUp=Ge.prototype.QueuePenUp=function(){fi(this.ptr)},Ge.prototype.QueueButtonDown=Ge.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),ni(this.ptr,u)},Ge.prototype.QueueButtonUp=Ge.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),wi(this.ptr,u)},Ge.prototype.QueueKeyboardEvent=Ge.prototype.QueueKeyboardEvent=function(u){u&&"object"==typeof u&&(u=u.ptr),Gt(this.ptr,u)},Ge.prototype.IsPowerOff=Ge.prototype.IsPowerOff=function(){return!!un(this.ptr)},Ge.prototype.IsUIInitialized=Ge.prototype.IsUIInitialized=function(){return!!va(this.ptr)},Ge.prototype.GetOSVersion=Ge.prototype.GetOSVersion=function(){return Ys(this.ptr)},Ge.prototype.IsSetupComplete=Ge.prototype.IsSetupComplete=function(){return!!Do(this.ptr)},Ge.prototype.Reset=Ge.prototype.Reset=function(){Ds(this.ptr)},Ge.prototype.ResetNoExtensions=Ge.prototype.ResetNoExtensions=function(){$i(this.ptr)},Ge.prototype.ResetHard=Ge.prototype.ResetHard=function(){Ji(this.ptr)},Ge.prototype.InstallDb=Ge.prototype.InstallDb=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Is(this.ptr,u,E)},Ge.prototype.GetPalette2bitMapping=Ge.prototype.GetPalette2bitMapping=function(){return Ga(this.ptr)},Ge.prototype.GetMemoryPtr=Ge.prototype.GetMemoryPtr=function(){return Qt(Xs(this.ptr),Qn)},Ge.prototype.GetDirtyPagesPtr=Ge.prototype.GetDirtyPagesPtr=function(){return Qt(Ts(this.ptr),Qn)},Ge.prototype.GetMemorySize=Ge.prototype.GetMemorySize=function(){return ya(this.ptr)},Ge.prototype.ImportMemoryImage=Ge.prototype.ImportMemoryImage=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!Qs(this.ptr,u,E)},Ge.prototype.GetRomPtr=Ge.prototype.GetRomPtr=function(){return Qt(Js(this.ptr),Qn)},Ge.prototype.GetRomSize=Ge.prototype.GetRomSize=function(){return _a(this.ptr)},Ge.prototype.GetSavestatePtr=Ge.prototype.GetSavestatePtr=function(){return Qt(ea(this.ptr),Qn)},Ge.prototype.GetSavestateSize=Ge.prototype.GetSavestateSize=function(){return Io(this.ptr)},Ge.prototype.SaveState=Ge.prototype.SaveState=function(){return!!ta(this.ptr)},Ge.prototype.LoadState=Ge.prototype.LoadState=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!so(this.ptr,u,E)},Ge.prototype.GetHotsyncName=Ge.prototype.GetHotsyncName=function(){return Jt(es(this.ptr))},Ge.prototype.SetHotsyncName=Ge.prototype.SetHotsyncName=function(u){var E=this.ptr;Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),ba(E,u)},Ge.prototype.RegisterPwmHandler=Ge.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),za(this.ptr,u)},Ge.prototype.StartBackup=Ge.prototype.StartBackup=function(){return Qt(jo(this.ptr),br)},Ge.prototype.SetClipboardIntegration=Ge.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),As(this.ptr,u)},Ge.prototype.GetClipboardIntegration=Ge.prototype.GetClipboardIntegration=function(){return!!Ca(this.ptr)},Ge.prototype.IsSuspended=Ge.prototype.IsSuspended=function(){return!!na(this.ptr)},Ge.prototype.GetSuspendContext=Ge.prototype.GetSuspendContext=function(){return Qt(se(this.ptr),Hr)},Ge.prototype.SetNetworkRedirection=Ge.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),ra(this.ptr,u)},Ge.prototype.GetNetworkRedirection=Ge.prototype.GetNetworkRedirection=function(){return!!Le(this.ptr)},Ge.prototype.RegisterProxyDisconnectHandler=Ge.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),pi(this.ptr,u)},Ge.prototype.SetHotsyncNameManagement=Ge.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),Sa(this.ptr,u)},Ge.prototype.LaunchAppByName=Ge.prototype.LaunchAppByName=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),!!Ms(E,u)},Ge.prototype.LaunchAppByDbHeader=Ge.prototype.LaunchAppByDbHeader=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!Bi(this.ptr,u,E)},Ge.prototype.ClearExternalStorage=Ge.prototype.ClearExternalStorage=function(){fl(this.ptr)},Ge.prototype.AllocateCard=Ge.prototype.AllocateCard=function(u,E){var re=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),E&&"object"==typeof E&&(E=E.ptr),!!h(re,u,E)},Ge.prototype.AdoptCard=Ge.prototype.AdoptCard=function(u,E,re){var at=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),E&&"object"==typeof E&&(E=E.ptr),re&&"object"==typeof re&&(re=re.ptr),!!v(at,u,E,re)},Ge.prototype.MountCard=Ge.prototype.MountCard=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),!!w(E,u)},Ge.prototype.RemoveCard=Ge.prototype.RemoveCard=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),!!A(E,u)},Ge.prototype.GetCardData=Ge.prototype.GetCardData=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),Qt(ee(E,u),Qn)},Ge.prototype.GetCardDirtyPages=Ge.prototype.GetCardDirtyPages=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),Qt(J(E,u),Qn)},Ge.prototype.GetCardSize=Ge.prototype.GetCardSize=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),Ue(E,u)},Ge.prototype.RemountCards=Ge.prototype.RemountCards=function(){pe(this.ptr)},Ge.prototype.GetSupportLevel=Ge.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),qe(this.ptr,u)},Ge.prototype.GetMountedKey=Ge.prototype.GetMountedKey=function(){return Jt(ye(this.ptr))},Ge.prototype.GetTransportIR=Ge.prototype.GetTransportIR=function(){return Qt(je(this.ptr),Cn)},Ge.prototype.GetTransportSerial=Ge.prototype.GetTransportSerial=function(){return Qt(dt(this.ptr),Cn)},Ge.prototype.__destroy__=Ge.prototype.__destroy__=function(){ut(this.ptr)},(Jr.prototype=Object.create(yr.prototype)).constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},f.RomInfo=Jr,Jr.prototype.IsValid=Jr.prototype.IsValid=function(){return!!gt(this.ptr)},Jr.prototype.CardVersion=Jr.prototype.CardVersion=function(){return Mt(this.ptr)},Jr.prototype.CardName=Jr.prototype.CardName=function(){return Jt(ur(this.ptr))},Jr.prototype.RomVersion=Jr.prototype.RomVersion=function(){return Zt(this.ptr)},Jr.prototype.RomVersionString=Jr.prototype.RomVersionString=function(){return Jt(Kt(this.ptr))},Jr.prototype.Supports=Jr.prototype.Supports=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),!!$n(E,u)},Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){an(this.ptr)},(Jn.prototype=Object.create(yr.prototype)).constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},f.Frame=Jn,Jn.prototype.GetLineWidth=Jn.prototype.GetLineWidth=function(){return St(this.ptr)},Jn.prototype.GetBpp=Jn.prototype.GetBpp=function(){return Hn(this.ptr)},Jn.prototype.GetLines=Jn.prototype.GetLines=function(){return hn(this.ptr)},Jn.prototype.GetMargin=Jn.prototype.GetMargin=function(){return Rn(this.ptr)},Jn.prototype.GetBytesPerLine=Jn.prototype.GetBytesPerLine=function(){return b(this.ptr)},Jn.prototype.GetFirstDirtyLine=Jn.prototype.GetFirstDirtyLine=function(){return $(this.ptr)},Jn.prototype.GetLastDirtyLine=Jn.prototype.GetLastDirtyLine=function(){return le(this.ptr)},Jn.prototype.GetHasChanges=Jn.prototype.GetHasChanges=function(){return!!Be(this.ptr)},Jn.prototype.GetBuffer=Jn.prototype.GetBuffer=function(){return Qt(Pt(this.ptr),Qn)},Jn.prototype.GetBufferSize=Jn.prototype.GetBufferSize=function(){return on(this.ptr)},Jn.prototype.GetScaleX=Jn.prototype.GetScaleX=function(){return mn(this.ptr)},Jn.prototype.GetScaleY=Jn.prototype.GetScaleY=function(){return Gn(this.ptr)},Jn.prototype.__destroy__=Jn.prototype.__destroy__=function(){Yr(this.ptr)},(br.prototype=Object.create(yr.prototype)).constructor=br,br.prototype.__class__=br,br.__cache__={},f.DbBackup=br,br.prototype.Init=br.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!dn(this.ptr,u)},br.prototype.IsInProgress=br.prototype.IsInProgress=function(){return!!Ar(this.ptr)},br.prototype.IsDone=br.prototype.IsDone=function(){return!!Vr(this.ptr)},br.prototype.GetCurrentDatabase=br.prototype.GetCurrentDatabase=function(){return Jt(pr(this.ptr))},br.prototype.Save=br.prototype.Save=function(){return!!xt(this.ptr)},br.prototype.Skip=br.prototype.Skip=function(){Nr(this.ptr)},br.prototype.GetArchivePtr=br.prototype.GetArchivePtr=function(){return Qt(nr(this.ptr),Qn)},br.prototype.GetArchiveSize=br.prototype.GetArchiveSize=function(){return Mr(this.ptr)},br.prototype.__destroy__=br.prototype.__destroy__=function(){hr(this.ptr)},(Po.prototype=Object.create(yr.prototype)).constructor=Po,Po.prototype.__class__=Po,Po.__cache__={},f.SuspendContextClipboardCopy=Po,Po.prototype.Cancel=Po.prototype.Cancel=function(){ir(this.ptr)},Po.prototype.Resume=Po.prototype.Resume=function(){g(this.ptr)},Po.prototype.GetClipboardContent=Po.prototype.GetClipboardContent=function(){return Jt(B(this.ptr))},Po.prototype.__destroy__=Po.prototype.__destroy__=function(){_e(this.ptr)},(Hi.prototype=Object.create(yr.prototype)).constructor=Hi,Hi.prototype.__class__=Hi,Hi.__cache__={},f.SuspendContextClipboardPaste=Hi,Hi.prototype.Cancel=Hi.prototype.Cancel=function(){it(this.ptr)},Hi.prototype.Resume=Hi.prototype.Resume=function(u){var E=this.ptr;Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),zt(E,u)},Hi.prototype.__destroy__=Hi.prototype.__destroy__=function(){Tn(this.ptr)},(Di.prototype=Object.create(yr.prototype)).constructor=Di,Di.prototype.__class__=Di,Di.__cache__={},f.SuspendContextNetworkConnect=Di,Di.prototype.Cancel=Di.prototype.Cancel=function(){Wn(this.ptr)},Di.prototype.Resume=Di.prototype.Resume=function(){Bn(this.ptr)},Di.prototype.__destroy__=Di.prototype.__destroy__=function(){Ur(this.ptr)},(To.prototype=Object.create(yr.prototype)).constructor=To,To.prototype.__class__=To,To.__cache__={},f.SuspendContextNetworkRpc=To,To.prototype.Cancel=To.prototype.Cancel=function(){Wa(this.ptr)},To.prototype.GetRequestSize=To.prototype.GetRequestSize=function(){return Ol(this.ptr)},To.prototype.GetRequestData=To.prototype.GetRequestData=function(){return Qt(Pl(this.ptr),Qn)},To.prototype.ReceiveResponse=To.prototype.ReceiveResponse=function(u,E){u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),wa(this.ptr,u,E)},To.prototype.__destroy__=To.prototype.__destroy__=function(){Vo(this.ptr)},(Ii.prototype=Object.create(yr.prototype)).constructor=Ii,Ii.prototype.__class__=Ii,Ii.__cache__={},f.SuspendContextSerialSync=Ii,Ii.prototype.Cancel=Ii.prototype.Cancel=function(){Ec(this.ptr)},Ii.prototype.Resume=Ii.prototype.Resume=function(){dd(this.ptr)},Ii.prototype.__destroy__=Ii.prototype.__destroy__=function(){ao(this.ptr)},(Hr.prototype=Object.create(yr.prototype)).constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},f.SuspendContext=Hr,Hr.prototype.GetKind=Hr.prototype.GetKind=function(){return lt(this.ptr)},Hr.prototype.Cancel=Hr.prototype.Cancel=function(){ln(this.ptr)},Hr.prototype.AsContextClipboardCopy=Hr.prototype.AsContextClipboardCopy=function(){return Qt(lo(this.ptr),Po)},Hr.prototype.AsContextClipboardPaste=Hr.prototype.AsContextClipboardPaste=function(){return Qt(ri(this.ptr),Hi)},Hr.prototype.AsContextNetworkConnect=Hr.prototype.AsContextNetworkConnect=function(){return Qt(No(this.ptr),Di)},Hr.prototype.AsContextNetworkRpc=Hr.prototype.AsContextNetworkRpc=function(){return Qt(pl(this.ptr),To)},Hr.prototype.AsContextSerialSync=Hr.prototype.AsContextSerialSync=function(){return Qt(Dc(this.ptr),Ii)},Hr.prototype.__destroy__=Hr.prototype.__destroy__=function(){sr(this.ptr)},(tn.prototype=Object.create(yr.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},f.SessionImage=tn,tn.prototype.GetDeviceId=tn.prototype.GetDeviceId=function(){return Jt(ts(this.ptr))},tn.prototype.SetDeviceId=tn.prototype.SetDeviceId=function(u){var E=this.ptr;return Nn.prepare(),u=u&&"object"==typeof u?u.ptr:Uo(u),Qt(An(E,u),tn)},tn.prototype.GetRomImage=tn.prototype.GetRomImage=function(){return Qt(hl(this.ptr),Qn)},tn.prototype.GetRomImageSize=tn.prototype.GetRomImageSize=function(){return uu(this.ptr)},tn.prototype.SetRomImage=tn.prototype.SetRomImage=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Fl(this.ptr,u,E),tn)},tn.prototype.GetMemoryImage=tn.prototype.GetMemoryImage=function(){return Qt(go(this.ptr),Qn)},tn.prototype.GetMemoryImageSize=tn.prototype.GetMemoryImageSize=function(){return qa(this.ptr)},tn.prototype.SetMemoryImage=tn.prototype.SetMemoryImage=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Ll(this.ptr,u,E),tn)},tn.prototype.GetMetadata=tn.prototype.GetMetadata=function(){return Qt(Ea(this.ptr),Qn)},tn.prototype.GetMetadataSize=tn.prototype.GetMetadataSize=function(){return Ic(this.ptr)},tn.prototype.SetMetadata=tn.prototype.SetMetadata=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Vf(this.ptr,u,E),tn)},tn.prototype.GetSavestate=tn.prototype.GetSavestate=function(){return Qt(Za(this.ptr),Qn)},tn.prototype.GetSavestateSize=tn.prototype.GetSavestateSize=function(){return fd(this.ptr)},tn.prototype.SetSavestate=tn.prototype.SetSavestate=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(gl(this.ptr,u,E),tn)},tn.prototype.GetVersion=tn.prototype.GetVersion=function(){return ji(this.ptr)},tn.prototype.Serialize=tn.prototype.Serialize=function(){return!!$l(this.ptr)},tn.prototype.GetSerializedImage=tn.prototype.GetSerializedImage=function(){return Qt(rn(this.ptr),Qn)},tn.prototype.GetSerializedImageSize=tn.prototype.GetSerializedImageSize=function(){return pd(this.ptr)},tn.prototype.Deserialize=tn.prototype.Deserialize=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!Ka(this.ptr,u,E)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){Da(this.ptr)},(Ti.prototype=Object.create(yr.prototype)).constructor=Ti,Ti.prototype.__class__=Ti,Ti.__cache__={},f.SkinLoader=Ti,Ti.prototype.GetData=Ti.prototype.GetData=function(){return Qt(Bl(this.ptr),Qn)},Ti.prototype.GetSize=Ti.prototype.GetSize=function(){return Xr(this.ptr)},Ti.prototype.__destroy__=Ti.prototype.__destroy__=function(){Qr(this.ptr)},(Cn.prototype=Object.create(yr.prototype)).constructor=Cn,Cn.prototype.__class__=Cn,Cn.__cache__={},f.EmTransportSerialBuffer=Cn,Cn.prototype.RxBytesPending=Cn.prototype.RxBytesPending=function(){return hi(this.ptr)},Cn.prototype.Receive=Cn.prototype.Receive=function(){return Qt(Uf(this.ptr),Qn)},Cn.prototype.Send=Cn.prototype.Send=function(u,E,re){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),re&&"object"==typeof re&&(re=re.ptr),Ia(this.ptr,u,E,re)},Cn.prototype.IsOpen=Cn.prototype.IsOpen=function(){return!!jl(this.ptr)},Cn.prototype.Rts=Cn.prototype.Rts=function(){return Vi(this.ptr)},Cn.prototype.Dtr=Cn.prototype.Dtr=function(){return!!Ya(this.ptr)},Cn.prototype.IsBreak=Cn.prototype.IsBreak=function(){return!!Ky(this.ptr)},Cn.prototype.BufferSize=Cn.prototype.BufferSize=function(){return Yy(this.ptr)},Cn.prototype.GetBaud=Cn.prototype.GetBaud=function(){return Ta(this.ptr)},Cn.prototype.GetParity=Cn.prototype.GetParity=function(){return Hf(this.ptr)},Cn.prototype.GetStopBits=Cn.prototype.GetStopBits=function(){return Xy(this.ptr)},Cn.prototype.GetDataBits=Cn.prototype.GetDataBits=function(){return ig(this.ptr)},Cn.prototype.GetHwrHandshake=Cn.prototype.GetHwrHandshake=function(){return fu(this.ptr)},Cn.prototype.GetModeSync=Cn.prototype.GetModeSync=function(){return!!Qy(this.ptr)},Cn.prototype.SetModeSync=Cn.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),Jy(this.ptr,u)},Cn.prototype.IsFrameComplete=Cn.prototype.IsFrameComplete=function(){return!!e_(this.ptr)},Cn.prototype.SetRequestTransferCallback=Cn.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),t_(this.ptr,u)},Cn.prototype.__destroy__=Cn.prototype.__destroy__=function(){n_(this.ptr)},(mo.prototype=Object.create(yr.prototype)).constructor=mo,mo.prototype.__class__=mo,mo.__cache__={},f.GunzipContext=mo,mo.prototype.GetState=mo.prototype.GetState=function(){return sg(this.ptr)},mo.prototype.Continue=mo.prototype.Continue=function(){return o_(this.ptr)},mo.prototype.GetUncompressedData=mo.prototype.GetUncompressedData=function(){return Qt(i_(this.ptr),Qn)},mo.prototype.ReleaseUncompressedData=mo.prototype.ReleaseUncompressedData=function(){return Qt(s_(this.ptr),Qn)},mo.prototype.GetUncompressedSize=mo.prototype.GetUncompressedSize=function(){return a_(this.ptr)},mo.prototype.GetError=mo.prototype.GetError=function(){return Jt(Gf(this.ptr))},mo.prototype.__destroy__=mo.prototype.__destroy__=function(){zf(this.ptr)},(qn.prototype=Object.create(yr.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},f.ZipfileWalker=qn,qn.prototype.GetState=qn.prototype.GetState=function(){return c_(this.ptr)},qn.prototype.Next=qn.prototype.Next=function(){return u_(this.ptr)},qn.prototype.GetTotalEntries=qn.prototype.GetTotalEntries=function(){return Wf(this.ptr)},qn.prototype.GetCurrentEntrySize=qn.prototype.GetCurrentEntrySize=function(){return qf(this.ptr)},qn.prototype.GetCurrentEntryName=qn.prototype.GetCurrentEntryName=function(){return Jt(Oo(this.ptr))},qn.prototype.GetCurrentEntryContent=qn.prototype.GetCurrentEntryContent=function(){return Qt(ag(this.ptr),Qn)},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){Vl(this.ptr)},(Rt.prototype=Object.create(yr.prototype)).constructor=Rt,Rt.prototype.__class__=Rt,Rt.__cache__={},f.SessionFile5=Rt,Rt.prototype.IsSessionFile=Rt.prototype.IsSessionFile=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!lg(this.ptr,u,E)},Rt.prototype.GetDeviceId=Rt.prototype.GetDeviceId=function(){return Ul(this.ptr)},Rt.prototype.SetDeviceId=Rt.prototype.SetDeviceId=function(u){return u&&"object"==typeof u&&(u=u.ptr),Qt(ml(this.ptr,u),Rt)},Rt.prototype.GetMetadata=Rt.prototype.GetMetadata=function(){return Qt(hd(this.ptr),Qn)},Rt.prototype.GetMetadataSize=Rt.prototype.GetMetadataSize=function(){return gi(this.ptr)},Rt.prototype.SetMetadata=Rt.prototype.SetMetadata=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(cg(this.ptr,u,E),Rt)},Rt.prototype.GetNor=Rt.prototype.GetNor=function(){return Qt(gd(this.ptr),Qn)},Rt.prototype.GetNorSize=Rt.prototype.GetNorSize=function(){return ug(this.ptr)},Rt.prototype.SetNor=Rt.prototype.SetNor=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(oi(this.ptr,u,E),Rt)},Rt.prototype.GetNand=Rt.prototype.GetNand=function(){return Qt(Zf(this.ptr),Qn)},Rt.prototype.GetNandSize=Rt.prototype.GetNandSize=function(){return Kf(this.ptr)},Rt.prototype.SetNand=Rt.prototype.SetNand=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Yf(this.ptr,u,E),Rt)},Rt.prototype.GetMemory=Rt.prototype.GetMemory=function(){return Qt(pu(this.ptr),Qn)},Rt.prototype.GetMemorySize=Rt.prototype.GetMemorySize=function(){return md(this.ptr)},Rt.prototype.SetMemory=Rt.prototype.SetMemory=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Hl(this.ptr,u,E),Rt)},Rt.prototype.GetSavestate=Rt.prototype.GetSavestate=function(){return Qt(hu(this.ptr),Qn)},Rt.prototype.GetSavestateSize=Rt.prototype.GetSavestateSize=function(){return vd(this.ptr)},Rt.prototype.SetSavestate=Rt.prototype.SetSavestate=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),Qt(Aa(this.ptr,u,E),Rt)},Rt.prototype.GetRamSize=Rt.prototype.GetRamSize=function(){return Xf(this.ptr)},Rt.prototype.SetRamSize=Rt.prototype.SetRamSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),Qt(Qf(this.ptr,u),Rt)},Rt.prototype.Serialize=Rt.prototype.Serialize=function(){return!!Jf(this.ptr)},Rt.prototype.GetSerializedSession=Rt.prototype.GetSerializedSession=function(){return Qt(vn(this.ptr),Qn)},Rt.prototype.GetSerializedSessionSize=Rt.prototype.GetSerializedSessionSize=function(){return Gl(this.ptr)},Rt.prototype.GetVersion=Rt.prototype.GetVersion=function(){return yd(this.ptr)},Rt.prototype.Deserialize=Rt.prototype.Deserialize=function(u,E){return u&&"object"==typeof u&&(u=u.ptr),E&&"object"==typeof E&&(E=E.ptr),!!_d(this.ptr,u,E)},Rt.prototype.__destroy__=Rt.prototype.__destroy__=function(){dg(this.ptr)},(er.prototype=Object.create(yr.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},f.RomInfo5=er,er.prototype.IsValid=er.prototype.IsValid=function(){return!!ep(this.ptr)},er.prototype.GetCardName=er.prototype.GetCardName=function(){return Jt(bd(this.ptr))},er.prototype.GetManufacturer=er.prototype.GetManufacturer=function(){return Jt(tp(this.ptr))},er.prototype.GetRomName=er.prototype.GetRomName=function(){return Jt(np(this.ptr))},er.prototype.GetCompanyId=er.prototype.GetCompanyId=function(){return pg(this.ptr)},er.prototype.GetHalId=er.prototype.GetHalId=function(){return d_(this.ptr)},er.prototype.GetDeviceType=er.prototype.GetDeviceType=function(){return hg(this.ptr)},er.prototype.GetRecommendedRamSize=er.prototype.GetRecommendedRamSize=function(){return rp(this.ptr)},er.prototype.__destroy__=er.prototype.__destroy__=function(){et(this.ptr)},Ce?f:new Promise((u,E)=>{we=u,me=E})}));K.exports=k,K.exports.default=k},7598:K=>{"use strict";K.exports=Math.abs},7638:K=>{var Se={}.toString;K.exports=Array.isArray||function(_){return"[object Array]"==Se.call(_)}},7648:K=>{"use strict";K.exports=Function.prototype.call},7653:(K,Se,_)=>{"use strict";var S=_(840),k=_(5831),L=S("RegExp.prototype.exec"),z=_(8519);K.exports=function(f){if(!k(f))throw new z("`regex` must be a RegExp");return function(D){return null!==L(f,D)}}},7671:(K,Se,_)=>{"use strict";if(_(362)()){var k=BigInt.prototype.valueOf;K.exports=function(R){return!(null===R||typeof R>"u"||"boolean"==typeof R||"string"==typeof R||"number"==typeof R||"symbol"==typeof R||"function"==typeof R)&&("bigint"==typeof R||function(R){try{return k.call(R),!0}catch{}return!1}(R))}}else K.exports=function(R){return!1}},7707:(K,Se,_)=>{"use strict";var S=_(3933);K.exports=Function.prototype.bind||S},7718:K=>{"use strict";K.exports=RangeError},7888:K=>{"use strict";K.exports=Object},7935:(K,Se,_)=>{"use strict";var S;if(!Object.keys){var k=Object.prototype.hasOwnProperty,L=Object.prototype.toString,z=_(6321),R=Object.prototype.propertyIsEnumerable,f=!R.call({toString:null},"toString"),P=R.call(function(){},"prototype"),D=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],F=function(I){var T=I.constructor;return T&&T.prototype===I},N={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},H=function(){if(typeof window>"u")return!1;for(var I in window)try{if(!N["$"+I]&&k.call(window,I)&&null!==window[I]&&"object"==typeof window[I])try{F(window[I])}catch{return!0}}catch{return!0}return!1}();S=function(T){var ie=null!==T&&"object"==typeof T,ce="[object Function]"===L.call(T),be=z(T),Q=ie&&"[object String]"===L.call(T),Z=[];if(!ie&&!ce&&!be)throw new TypeError("Object.keys called on a non-object");var Y=P&&ce;if(Q&&T.length>0&&!k.call(T,0))for(var ge=0;ge<T.length;++ge)Z.push(String(ge));if(be&&T.length>0)for(var Ie=0;Ie<T.length;++Ie)Z.push(String(Ie));else for(var Ye in T)(!Y||"prototype"!==Ye)&&k.call(T,Ye)&&Z.push(String(Ye));if(f)for(var te=function(I){if(typeof window>"u"||!H)return F(I);try{return F(I)}catch{return!1}}(T),we=0;we<D.length;++we)(!te||"constructor"!==D[we])&&k.call(T,D[we])&&Z.push(D[we]);return Z}}K.exports=S},8081:function(K,Se){!function(_){"use strict";var O,L=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,z=536870912,R=2*z,P=new WeakMap,F=function(O,I){return function(T){var ie=I.get(T),ce=void 0===ie?T.size:ie<R?ie+1:0;if(!T.has(ce))return O(T,ce);if(T.size<z){for(;T.has(ce);)ce=Math.floor(Math.random()*R);return O(T,ce)}if(T.size>L)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;T.has(ce);)ce=Math.floor(Math.random()*L);return O(T,ce)}}((O=P,function(I,T){return O.set(I,T),T}),P),N=function(O){return function(I){var T=O(I);return I.add(T),T}}(F);_.addUniqueNumber=N,_.generateUniqueNumber=F}(Se)},8251:K=>{var Se={utf8:{stringToBytes:function(_){return Se.bin.stringToBytes(unescape(encodeURIComponent(_)))},bytesToString:function(_){return decodeURIComponent(escape(Se.bin.bytesToString(_)))}},bin:{stringToBytes:function(_){for(var S=[],k=0;k<_.length;k++)S.push(255&_.charCodeAt(k));return S},bytesToString:function(_){for(var S=[],k=0;k<_.length;k++)S.push(String.fromCharCode(_[k]));return S.join("")}}};K.exports=Se},8344:(K,Se,_)=>{"use strict";var S=_(5328)(),L=_(840)("Object.prototype.toString"),z=function(D){return!(S&&D&&"object"==typeof D&&Symbol.toStringTag in D)&&"[object Arguments]"===L(D)},R=function(D){return!!z(D)||null!==D&&"object"==typeof D&&"length"in D&&"number"==typeof D.length&&D.length>=0&&"[object Array]"!==L(D)&&"callee"in D&&"[object Function]"===L(D.callee)},f=function(){return z(arguments)}();z.isLegacyArguments=R,K.exports=f?z:R},8436:(K,Se,_)=>{"use strict";var S=_(592).supportsDescriptors,k=_(4198),L=_(9263),z=Object.defineProperty,R=_(1123),f=_(1568),P=/a/;K.exports=function(){if(!S||!f)throw new R("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var F=k(),N=f(P),H=L(N,"flags");return(!H||H.get!==F)&&z(N,"flags",{configurable:!0,enumerable:!1,get:F}),F}},8447:(K,Se,_)=>{"use strict";var S=_(9209),k=_(6497)(),L=_(840),z=_(7888),R=L("Array.prototype.push"),f=L("Object.prototype.propertyIsEnumerable"),P=k?z.getOwnPropertySymbols:null;K.exports=function(F,N){if(null==F)throw new TypeError("target must be an object");var H=z(F);if(1===arguments.length)return H;for(var O=1;O<arguments.length;++O){var I=z(arguments[O]),T=S(I),ie=k&&(z.getOwnPropertySymbols||P);if(ie)for(var ce=ie(I),be=0;be<ce.length;++be){var Q=ce[be];f(I,Q)&&R(T,Q)}for(var Z=0;Z<T.length;++Z){var Y=T[Z];f(I,Y)&&(H[Y]=I[Y])}}return H}},8519:K=>{"use strict";K.exports=TypeError},8580:(K,Se,_)=>{"use strict";var L,S=_(2282),k=_(9263);try{L=[].__proto__===Array.prototype}catch(P){if(!P||"object"!=typeof P||!("code"in P)||"ERR_PROTO_ACCESS"!==P.code)throw P}var z=!!L&&k&&k(Object.prototype,"__proto__"),R=Object,f=R.getPrototypeOf;K.exports=z&&"function"==typeof z.get?S([z.get]):"function"==typeof f&&function(D){return f(null==D?D:R(D))}},8963:K=>{"use strict";K.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},8979:(K,Se,_)=>{"use strict";var S=_(840),k=S("Number.prototype.toString"),z=S("Object.prototype.toString"),f=_(5328)();K.exports=function(D){return"number"==typeof D||!(!D||"object"!=typeof D)&&(f?function(D){try{return k(D),!0}catch{return!1}}(D):"[object Number]"===z(D))}},8996:(K,Se,_)=>{var S={"./ion-accordion_2.entry.js":[7518,2076,7518],"./ion-action-sheet.entry.js":[1981,2076,1981],"./ion-alert.entry.js":[1603,2076,1603],"./ion-app_8.entry.js":[2273,2076,2273],"./ion-avatar_3.entry.js":[9642,9642],"./ion-back-button.entry.js":[2095,2076,2095],"./ion-backdrop.entry.js":[2335,2335],"./ion-breadcrumb_2.entry.js":[8221,2076,8221],"./ion-button_2.entry.js":[7184,7184],"./ion-card_5.entry.js":[8759,8759],"./ion-checkbox.entry.js":[4248,4248],"./ion-chip.entry.js":[9863,9863],"./ion-col_3.entry.js":[1769,1769],"./ion-datetime-button.entry.js":[2569,6948,2569],"./ion-datetime_3.entry.js":[6534,6948,2076,6534],"./ion-fab_3.entry.js":[5458,2076,5458],"./ion-img.entry.js":[654,654],"./ion-infinite-scroll_2.entry.js":[6034,2076,6034],"./ion-input-otp.entry.js":[381,2076,381],"./ion-input-password-toggle.entry.js":[5196,2076,5196],"./ion-input.entry.js":[761,2076,761],"./ion-item-option_3.entry.js":[6492,2076,6492],"./ion-item_8.entry.js":[9557,2076,9557],"./ion-loading.entry.js":[8353,2076,8353],"./ion-menu_3.entry.js":[1024,2076,1024],"./ion-modal.entry.js":[9160,2076,9160],"./ion-nav_2.entry.js":[393,2076,393],"./ion-picker-column-option.entry.js":[8442,8442],"./ion-picker-column.entry.js":[3110,2076,3110],"./ion-picker.entry.js":[5575,5575],"./ion-popover.entry.js":[6772,2076,6772],"./ion-progress-bar.entry.js":[4810,4810],"./ion-radio_2.entry.js":[4639,2076,4639],"./ion-range.entry.js":[628,2076,628],"./ion-refresher_2.entry.js":[852,2076,852],"./ion-reorder_2.entry.js":[1479,2076,1479],"./ion-ripple-effect.entry.js":[4065,4065],"./ion-route_4.entry.js":[7971,7971],"./ion-searchbar.entry.js":[3184,2076,3184],"./ion-segment-content.entry.js":[4312,4312],"./ion-segment-view.entry.js":[4540,4540],"./ion-segment_2.entry.js":[469,2076,469],"./ion-select-modal.entry.js":[7101,7101],"./ion-select_3.entry.js":[8471,2076,8471],"./ion-spinner.entry.js":[388,2076,388],"./ion-split-pane.entry.js":[2392,2392],"./ion-tab-bar_2.entry.js":[6059,2076,6059],"./ion-tab_2.entry.js":[5427,5427],"./ion-text.entry.js":[198,198],"./ion-textarea.entry.js":[1735,2076,1735],"./ion-toast.entry.js":[5129,2076,7510],"./ion-toggle.entry.js":[5297,2076,5297]};function k(L){if(!_.o(S,L))return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+L+"'");throw f.code="MODULE_NOT_FOUND",f});var z=S[L],R=z[0];return Promise.all(z.slice(1).map(_.e)).then(()=>_(R))}k.keys=()=>Object.keys(S),k.id=8996,K.exports=k},9110:(K,Se,_)=>{"use strict";var S=_(9831);K.exports=function(){return"function"==typeof Object.is?Object.is:S}},9116:K=>{"use strict";var S,Se="function"==typeof Map&&Map.prototype?Map:null,_="function"==typeof Set&&Set.prototype?Set:null;_||(S=function(R){return!1});var k=Se?Map.prototype.has:null,L=_?Set.prototype.has:null;!S&&!L&&(S=function(R){return!1}),K.exports=S||function(R){if(!R||"object"!=typeof R)return!1;try{if(L.call(R),k)try{k.call(R)}catch{return!0}return R instanceof _}catch{}return!1}},9209:(K,Se,_)=>{"use strict";var S=Array.prototype.slice,k=_(6321),L=Object.keys,z=L?function(P){return L(P)}:_(7935),R=Object.keys;z.shim=function(){if(Object.keys){var P=function(){var D=Object.keys(arguments);return D&&D.length===arguments.length}(1,2);P||(Object.keys=function(F){return k(F)?R(S.call(F)):R(F)})}else Object.keys=z;return Object.keys||z},K.exports=z},9250:(K,Se,_)=>{"use strict";var S=_(6969),k=_(3463),L=_(7057),z=_(2521),R=_(158),f=_(5492),P=_(545),D=_(8344),F=_(7638),N=_(3066),H=_(5500),O=_(5831),I=_(2090),T=_(9209),ie=_(6959),ce=_(5757),be=_(6547),Q=_(2219),Z=k("SharedArrayBuffer.prototype.byteLength",!0),Y=k("Date.prototype.getTime"),ge=Object.getPrototypeOf,Ie=k("Object.prototype.toString"),Ye=z("%Set%",!0),te=k("Map.prototype.has",!0),we=k("Map.prototype.get",!0),me=k("Map.prototype.size",!0),de=k("Set.prototype.add",!0),De=k("Set.prototype.delete",!0),U=k("Set.prototype.has",!0),X=k("Set.prototype.size",!0);function Ve(Te,He,vt,ft){for(var ot,Ct=R(Te);(ot=Ct.next())&&!ot.done;)if(Re(He,ot.value,vt,ft))return De(Te,ot.value),!0;return!1}function G(Te){return typeof Te>"u"?null:"object"!=typeof Te?"symbol"!=typeof Te&&("string"!=typeof Te&&"number"!=typeof Te||+Te==+Te):void 0}function ne(Te,He,vt,ft,Ct,ot){var Dt=G(vt);if(null!=Dt)return Dt;var Ke=we(He,Dt),_t=S({},Ct,{strict:!1});return!(typeof Ke>"u"&&!te(He,Dt)||!Re(ft,Ke,_t,ot))&&!te(Te,Dt)&&Re(ft,Ke,_t,ot)}function ae(Te,He,vt){var ft=G(vt);return ft??(U(He,ft)&&!U(Te,ft))}function ve(Te,He,vt,ft,Ct,ot){for(var Ke,_t,Dt=R(Te);(Ke=Dt.next())&&!Ke.done;)if(Re(vt,_t=Ke.value,Ct,ot)&&Re(ft,we(He,_t),Ct,ot))return De(Te,_t),!0;return!1}function Re(Te,He,vt,ft){var Ct=vt||{};if(Ct.strict?P(Te,He):Te===He)return!0;if(ie(Te)!==ie(He))return!1;if(!Te||!He||"object"!=typeof Te&&"object"!=typeof He)return Ct.strict?P(Te,He):Te==He;var $t,Ke=ft.has(Te),_t=ft.has(He);if(Ke&&_t){if(ft.get(Te)===ft.get(He))return!0}else $t={};return Ke||ft.set(Te,$t),_t||ft.set(He,$t),function wt(Te,He,vt,ft){var Ct,ot;if(typeof Te!=typeof He||null==Te||null==He||Ie(Te)!==Ie(He)||D(Te)!==D(He))return!1;if(F(Te)!==F(He))return!1;var _t=Te instanceof Error,$t=He instanceof Error;if(_t!==$t||(_t||$t)&&(Te.name!==He.name||Te.message!==He.message))return!1;var wn=O(Te),En=O(He);if(wn!==En||(wn||En)&&(Te.source!==He.source||L(Te)!==L(He)))return!1;var Wt=H(Te),Nt=H(He);if(Wt!==Nt||(Wt||Nt)&&Y(Te)!==Y(He)||vt.strict&&ge&&ge(Te)!==ge(He))return!1;var Ze=be(Te),Ne=be(He);if(Ze!==Ne)return!1;if(Ze||Ne){if(Te.length!==He.length)return!1;for(Ct=0;Ct<Te.length;Ct++)if(Te[Ct]!==He[Ct])return!1;return!0}var ze=Fe(Te),ct=Fe(He);if(ze!==ct)return!1;if(ze||ct){if(Te.length!==He.length)return!1;for(Ct=0;Ct<Te.length;Ct++)if(Te[Ct]!==He[Ct])return!1;return!0}var Xt=N(Te),pn=N(He);if(Xt!==pn)return!1;if(Xt||pn)return Q(Te)===Q(He)&&"function"==typeof Uint8Array&&Re(new Uint8Array(Te),new Uint8Array(He),vt,ft);var xn=I(Te),sn=I(He);if(xn!==sn)return!1;if(xn||sn)return Z(Te)===Z(He)&&"function"==typeof Uint8Array&&Re(new Uint8Array(Te),new Uint8Array(He),vt,ft);if(typeof Te!=typeof He)return!1;var Sn=T(Te),cr=T(He);if(Sn.length!==cr.length)return!1;for(Sn.sort(),cr.sort(),Ct=Sn.length-1;Ct>=0;Ct--)if(Sn[Ct]!=cr[Ct])return!1;for(Ct=Sn.length-1;Ct>=0;Ct--)if(!Re(Te[ot=Sn[Ct]],He[ot],vt,ft))return!1;var mr=ce(Te),ro=ce(He);return mr===ro&&("Set"===mr||"Set"===ro?function Ce(Te,He,vt,ft){if(X(Te)!==X(He))return!1;for(var Dt,Ke,_t,Ct=R(Te),ot=R(He);(Dt=Ct.next())&&!Dt.done;)if(Dt.value&&"object"==typeof Dt.value)_t||(_t=new Ye),de(_t,Dt.value);else if(!U(He,Dt.value)){if(vt.strict||!ae(Te,He,Dt.value))return!1;_t||(_t=new Ye),de(_t,Dt.value)}if(_t){for(;(Ke=ot.next())&&!Ke.done;)if(Ke.value&&"object"==typeof Ke.value){if(!Ve(_t,Ke.value,vt.strict,ft))return!1}else if(!vt.strict&&!U(Te,Ke.value)&&!Ve(_t,Ke.value,vt.strict,ft))return!1;return 0===X(_t)}return!0}(Te,He,vt,ft):"Map"!==mr||function Je(Te,He,vt,ft){if(me(Te)!==me(He))return!1;for(var Dt,Ke,_t,$t,wn,En,Ct=R(Te),ot=R(He);(Dt=Ct.next())&&!Dt.done;)if(wn=Dt.value[1],($t=Dt.value[0])&&"object"==typeof $t)_t||(_t=new Ye),de(_t,$t);else if(typeof(En=we(He,$t))>"u"&&!te(He,$t)||!Re(wn,En,vt,ft)){if(vt.strict||!ne(Te,He,$t,wn,vt,ft))return!1;_t||(_t=new Ye),de(_t,$t)}if(_t){for(;(Ke=ot.next())&&!Ke.done;)if(En=Ke.value[1],($t=Ke.value[0])&&"object"==typeof $t){if(!ve(_t,Te,$t,En,vt,ft))return!1}else if(!(vt.strict||Te.has($t)&&Re(we(Te,$t),En,vt,ft)||ve(_t,Te,$t,En,S({},vt,{strict:!1}),ft)))return!1;return 0===X(_t)}return!0}(Te,He,vt,ft))}(Te,He,Ct,ft)}function Fe(Te){return!(!Te||"object"!=typeof Te||"number"!=typeof Te.length||"function"!=typeof Te.copy||"function"!=typeof Te.slice||Te.length>0&&"number"!=typeof Te[0]||!(Te.constructor&&Te.constructor.isBuffer&&Te.constructor.isBuffer(Te)))}K.exports=function(He,vt,ft){return Re(He,vt,ft,f())}},9263:(K,Se,_)=>{"use strict";var S=_(9817);if(S)try{S([],"length")}catch{S=null}K.exports=S},9335:(K,Se,_)=>{"use strict";_.d(Se,{B:()=>Q,F:()=>Le,a:()=>xn,b:()=>ra,c:()=>Ws,d:()=>dl,e:()=>R,f:()=>I,g:()=>_s,h:()=>Va,i:()=>_a,j:()=>T,k:()=>Sn,l:()=>f,m:()=>D,n:()=>P,o:()=>Ha,q:()=>Nl,r:()=>de,t:()=>ie,w:()=>sn});var S=_(1890);class z{constructor(){this.m=new Map}reset(v){this.m=new Map(Object.entries(v))}get(v,w){const A=this.m.get(v);return void 0!==A?A:w}getBoolean(v,w=!1){const A=this.m.get(v);return void 0===A?w:"string"==typeof A?"true"===A:!!A}getNumber(v,w){const A=parseFloat(this.m.get(v));return isNaN(A)?void 0!==w?w:NaN:A}set(v,w){this.m.set(v,w)}}const R=new z,f=h=>{try{const v=h.sessionStorage.getItem(H);return null!==v?JSON.parse(v):{}}catch{return{}}},P=(h,v)=>{try{h.sessionStorage.setItem(H,JSON.stringify(v))}catch{return}},D=h=>{const v={};return h.location.search.slice(1).split("&").map(w=>w.split("=")).map(([w,A])=>{try{return[decodeURIComponent(w),decodeURIComponent(A)]}catch{return["",""]}}).filter(([w])=>F(w,N)).map(([w,A])=>[w.slice(N.length),A]).forEach(([w,A])=>{v[w]=A}),v},F=(h,v)=>h.substr(0,v.length)===v,N="ionic:",H="ionic-persist-config";var O=function(h){return h.OFF="OFF",h.ERROR="ERROR",h.WARN="WARN",h}(O||{});const I=(h,...v)=>{const w=R.get("logLevel",O.WARN);if([O.WARN].includes(w))return console.warn(`[Ionic Warning]: ${h}`,...v)},T=(h,...v)=>{const w=R.get("logLevel",O.ERROR);if([O.ERROR,O.WARN].includes(w))return console.error(`[Ionic Error]: ${h}`,...v)},ie=(h,...v)=>console.error(`<${h.tagName.toLowerCase()}> must be used inside ${v.join(" or ")}.`);var ce=Object.defineProperty,Q={isBrowser:!0},ge=(h=>(h.Undefined="undefined",h.Null="null",h.String="string",h.Number="number",h.SpecialNumber="number",h.Boolean="boolean",h.BigInt="bigint",h))(ge||{}),Ie=(h=>(h.Array="array",h.Date="date",h.Map="map",h.Object="object",h.RegularExpression="regexp",h.Set="set",h.Channel="channel",h.Symbol="symbol",h))(Ie||{}),Ye="type",te="value",we="serialized:",me=h=>{if(h.__stencil__getHostRef)return h.__stencil__getHostRef()},de=(h,v)=>{h.__stencil__getHostRef=()=>v,v.$lazyInstance$=h},U=(h,v)=>v in h,X=(h,v)=>(0,console.error)(h,v),Ve=new Map,ne=new Map,ae=[],wt="s-id",Te="sty-id",ft="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ct="http://www.w3.org/1999/xlink",ot=typeof window<"u"?window:{},Ke={$flags$:0,$resourcesUrl$:"",jmp:h=>h(),raf:h=>requestAnimationFrame(h),ael:(h,v,w,A)=>h.addEventListener(v,w,A),rel:(h,v,w,A)=>h.removeEventListener(v,w,A),ce:(h,v)=>new CustomEvent(h,v)},$t=(()=>{var h;let v=!1;try{null==(h=ot.document)||h.addEventListener("e",null,Object.defineProperty({},"passive",{get(){v=!0}}))}catch{}return v})(),En=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Wt=!!En&&!!ot.document&&Object.getOwnPropertyDescriptor(ot.document.adoptedStyleSheets,"length").writable,Nt=!1,Ze=[],Ne=[],ze=(h,v)=>w=>{h.push(w),Nt||(Nt=!0,v&&4&Ke.$flags$?pn(Xt):Ke.raf(Xt))},ct=h=>{for(let v=0;v<h.length;v++)try{h[v](performance.now())}catch(w){X(w)}h.length=0},Xt=()=>{ct(Ze),ct(Ne),(Nt=Ze.length>0)&&Ke.raf(Xt)},pn=h=>Promise.resolve(void 0).then(h),xn=ze(Ze,!1),sn=ze(Ne,!0),Sn=h=>{const v=new URL(h,Ke.$resourcesUrl$);return v.origin!==ot.location.origin?v.href:v.pathname},mr=h=>"object"==(h=typeof h)||"function"===h;function ro(h){var v,w,A;return null!=(A=null==(w=null==(v=h.head)?void 0:v.querySelector('meta[name="csp-nonce"]'))?void 0:w.getAttribute("content"))?A:void 0}var Wr=class ud{static fromLocalValue(v){const w=v[Ye],A=te in v?v[te]:void 0;switch(w){case"string":case"boolean":return A;case"bigint":return BigInt(A);case"undefined":return;case"null":return null;case"number":return"NaN"===A?NaN:"-0"===A?-0:"Infinity"===A?1/0:"-Infinity"===A?-1/0:A;case"array":return A.map(ye=>ud.fromLocalValue(ye));case"date":return new Date(A);case"map":const ee=new Map;for(const[ye,je]of A){const dt="object"==typeof ye&&null!==ye?ud.fromLocalValue(ye):ye,ut=ud.fromLocalValue(je);ee.set(dt,ut)}return ee;case"object":const J={};for(const[ye,je]of A)J[ye]=ud.fromLocalValue(je);return J;case"regexp":const{pattern:Ue,flags:pe}=A;return new RegExp(Ue,pe);case"set":const qe=new Set;for(const ye of A)qe.add(ud.fromLocalValue(ye));return qe;case"symbol":return Symbol(A);default:throw new Error(`Unsupported type: ${w}`)}}static fromLocalValueArray(v){return v.map(w=>ud.fromLocalValue(w))}static isLocalValueObject(v){if("object"!=typeof v||null===v||!v.hasOwnProperty(Ye))return!1;const w=v[Ye];return!!Object.values({...ge,...Ie}).includes(w)&&("null"===w||"undefined"===w||v.hasOwnProperty(te))}};((h,v)=>{for(var w in v)ce(h,w,{get:v[w],enumerable:!0})})({},{err:()=>Jt,map:()=>ci,ok:()=>oo,unwrap:()=>Ae,unwrapErr:()=>Oe});var oo=h=>({isOk:!0,isErr:!1,value:h}),Jt=h=>({isOk:!1,isErr:!0,value:h});function ci(h,v){if(h.isOk){const w=v(h.value);return w instanceof Promise?w.then(A=>oo(A)):oo(w)}if(h.isErr)return Jt(h.value);throw"should never get here"}var Dn,Ae=h=>{if(h.isOk)return h.value;throw h.value},Oe=h=>{if(h.isErr)return h.value;throw h.value};function en(h){const w=this.attachShadow({mode:"open",delegatesFocus:!!(16&h.$flags$)});void 0===Dn&&(Dn=null),Dn&&(Wt?w.adoptedStyleSheets.push(Dn):w.adoptedStyleSheets=[...w.adoptedStyleSheets,Dn])}var _o=h=>{const v=_r(h,"childNodes");h.tagName&&h.tagName.includes("-")&&h["s-cr"]&&"SLOT-FB"!==h.tagName&&Dr(v,h.tagName).forEach(A=>{1===A.nodeType&&"SLOT-FB"===A.tagName&&(A.hidden=!!fo(A,Ir(A),!1).length)});let w=0;for(w=0;w<v.length;w++){const A=v[w];1===A.nodeType&&_r(A,"childNodes").length&&_o(A)}},qr=h=>{const v=[];for(let w=0;w<h.length;w++){const A=h[w]["s-nr"]||void 0;A&&A.isConnected&&v.push(A)}return v};function Dr(h,v,w){let J,A=0,ee=[];for(;A<h.length;A++){if(J=h[A],J["s-sr"]&&(!v||J["s-hn"]===v)&&(void 0===w||Ir(J)===w)&&(ee.push(J),typeof w<"u"))return ee;ee=[...ee,...Dr(J.childNodes,v,w)]}return ee}var fo=(h,v,w=!0)=>{const A=[];(w&&h["s-sr"]||!h["s-sr"])&&A.push(h);let ee=h;for(;ee=ee.nextSibling;)Ir(ee)===v&&(w||!ee["s-sr"])&&A.push(ee);return A},io=(h,v)=>1===h.nodeType?null===h.getAttribute("slot")&&""===v||h.getAttribute("slot")===v:h["s-sn"]===v||""===v,Ro=(h,v,w,A)=>{if(h["s-ol"]&&h["s-ol"].isConnected)return;const ee=document.createTextNode("");if(ee["s-nr"]=h,!v["s-cr"]||!v["s-cr"].parentNode)return;const J=v["s-cr"].parentNode,Ue=_r(J,w?"prepend":"appendChild");if(typeof A<"u"){ee["s-oo"]=A;const pe=_r(J,"childNodes"),qe=[ee];pe.forEach(ye=>{ye["s-nr"]&&qe.push(ye)}),qe.sort((ye,je)=>!ye["s-oo"]||ye["s-oo"]<(je["s-oo"]||0)?-1:!je["s-oo"]||je["s-oo"]<ye["s-oo"]?1:0),qe.forEach(ye=>Ue.call(J,ye))}else Ue.call(J,ee);h["s-ol"]=ee,h["s-sh"]=v["s-hn"]},Ir=h=>"string"==typeof h["s-sn"]?h["s-sn"]:1===h.nodeType&&h.getAttribute("slot")||void 0;function In(h){if(h.assignedElements||h.assignedNodes||!h["s-sr"])return;const v=w=>function(A){const ee=[],J=this["s-sn"];A?.flatten&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const Ue=this["s-cr"].parentElement;return(Ue.__childNodes?Ue.childNodes:qr(Ue.childNodes)).forEach(qe=>{J===Ir(qe)&&ee.push(qe)}),w?ee.filter(qe=>1===qe.nodeType):ee}.bind(h);h.assignedElements=v(!0),h.assignedNodes=v(!1)}function Eo(h){h.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1,composed:!1}))}function ui(h,v){var w;if(!(v=v||(null==(w=h["s-ol"])?void 0:w.parentElement)))return{slotNode:null,slotName:""};const A=h["s-sn"]=Ir(h)||"";return{slotNode:Dr(_r(v,"childNodes"),v.tagName,A)[0],slotName:A}}var Ko=h=>{const v=h.cloneNode;h.cloneNode=function(w){const ee=this.shadowRoot&&true,J=v.call(this,!!ee&&w);if(!ee&&w){let pe,qe,Ue=0;const ye=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"],je=this.__childNodes||this.childNodes;for(;Ue<je.length;Ue++)pe=je[Ue]["s-nr"],qe=ye.every(dt=>!je[Ue][dt]),pe&&(J.__appendChild?J.__appendChild(pe.cloneNode(!0)):J.appendChild(pe.cloneNode(!0))),qe&&J.appendChild(je[Ue].cloneNode(!0))}return J}},jn=h=>{h.__appendChild=h.appendChild,h.appendChild=function(v){const{slotName:w,slotNode:A}=ui(v,this);if(A){Ro(v,A);const ee=fo(A,w),J=ee[ee.length-1],Ue=_r(J,"parentNode"),pe=_r(Ue,"insertBefore")(v,J.nextSibling);return Eo(A),_o(this),pe}return this.__appendChild(v)}},Bo=h=>{h.__removeChild=h.removeChild,h.removeChild=function(v){return v&&typeof v["s-sn"]<"u"&&Dr(this.__childNodes||this.childNodes,this.tagName,v["s-sn"])&&v.isConnected?(v.remove(),void _o(this)):this.__removeChild(v)}},Tr=h=>{h.__prepend=h.prepend,h.prepend=function(...v){v.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w));const A=(w["s-sn"]=Ir(w))||"",J=Dr(_r(this,"childNodes"),this.tagName,A)[0];if(J){Ro(w,J,!0);const pe=fo(J,A)[0],qe=_r(pe,"parentNode"),ye=_r(qe,"insertBefore")(w,_r(pe,"nextSibling"));return Eo(J),ye}return 1===w.nodeType&&w.getAttribute("slot")&&(w.hidden=!0),h.__prepend(w)})}},bi=h=>{h.__append=h.append,h.append=function(...v){v.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w)),this.appendChild(w)})}},Yo=h=>{const v=h.insertAdjacentHTML;h.insertAdjacentHTML=function(w,A){if("afterbegin"!==w&&"beforeend"!==w)return v.call(this,w,A);const ee=this.ownerDocument.createElement("_");let J;if(ee.innerHTML=A,"afterbegin"===w)for(;J=ee.firstChild;)this.prepend(J);else if("beforeend"===w)for(;J=ee.firstChild;)this.append(J)}},Pe=h=>{h.insertAdjacentText=function(v,w){this.insertAdjacentHTML(v,w)}},fr=h=>{h.__insertBefore||(h.__insertBefore=h.insertBefore,h.insertBefore=function(w,A){const{slotName:ee,slotNode:J}=ui(w,this),Ue=this.__childNodes?this.childNodes:qr(this.childNodes);if(J){let qe=!1;if(Ue.forEach(ye=>{if(ye!==A&&null!==A);else{if(qe=!0,null===A||ee!==A["s-sn"])return void this.appendChild(w);if(ee===A["s-sn"]){Ro(w,J);const je=_r(A,"parentNode");_r(je,"insertBefore")(w,A),Eo(J)}}}),qe)return w}const pe=A?.__parentNode;return pe&&!this.isSameNode(pe)?this.appendChild(w):this.__insertBefore(w,A)})},Zr=h=>{const v=h.insertAdjacentElement;h.insertAdjacentElement=function(w,A){return"afterbegin"!==w&&"beforeend"!==w?v.call(this,w,A):"afterbegin"===w?(this.prepend(A),A):("beforeend"===w&&this.append(A),A)}},zn=h=>{Vt("textContent",h),Object.defineProperty(h,"textContent",{get:function(){let v="";return(this.__childNodes?this.childNodes:qr(this.childNodes)).forEach(A=>v+=A.textContent||""),v},set:function(v){(this.__childNodes?this.childNodes:qr(this.childNodes)).forEach(A=>{A["s-ol"]&&A["s-ol"].remove(),A.remove()}),this.insertAdjacentHTML("beforeend",v)}})},Oi=h=>{class v extends Array{item(A){return this[A]}}Vt("children",h),Object.defineProperty(h,"children",{get(){return this.childNodes.filter(w=>1===w.nodeType)}}),Object.defineProperty(h,"childElementCount",{get(){return this.children.length}}),Vt("firstChild",h),Object.defineProperty(h,"firstChild",{get(){return this.childNodes[0]}}),Vt("lastChild",h),Object.defineProperty(h,"lastChild",{get(){return this.childNodes[this.childNodes.length-1]}}),Vt("childNodes",h),Object.defineProperty(h,"childNodes",{get(){const w=new v;return w.push(...qr(this.__childNodes)),w}})},Zi=h=>{!h||void 0!==h.__nextSibling||!globalThis.Node||(gn(h),jr(h),ha(h),h.nodeType===Node.ELEMENT_NODE&&(di(h),Pi(h)))},gn=h=>{!h||h.__nextSibling||(Vt("nextSibling",h),Object.defineProperty(h,"nextSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.childNodes,A=w?.indexOf(this);return w&&A>-1?w[A+1]:this.__nextSibling}}))},di=h=>{!h||h.__nextElementSibling||(Vt("nextElementSibling",h),Object.defineProperty(h,"nextElementSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.children,A=w?.indexOf(this);return w&&A>-1?w[A+1]:this.__nextElementSibling}}))},jr=h=>{!h||h.__previousSibling||(Vt("previousSibling",h),Object.defineProperty(h,"previousSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.childNodes,A=w?.indexOf(this);return w&&A>-1?w[A-1]:this.__previousSibling}}))},Pi=h=>{!h||h.__previousElementSibling||(Vt("previousElementSibling",h),Object.defineProperty(h,"previousElementSibling",{get:function(){var v;const w=null==(v=this["s-ol"])?void 0:v.parentNode.children,A=w?.indexOf(this);return w&&A>-1?w[A-1]:this.__previousElementSibling}}))},ha=h=>{!h||h.__parentNode||(Vt("parentNode",h),Object.defineProperty(h,"parentNode",{get:function(){var v;return(null==(v=this["s-ol"])?void 0:v.parentNode)||this.__parentNode},set:function(v){this.__parentNode=v}}))},zs=["children","nextElementSibling","previousElementSibling"],Vn=["childNodes","firstChild","lastChild","nextSibling","previousSibling","textContent","parentNode"];function Vt(h,v){if(!globalThis.Node||!globalThis.Element)return;let w;zs.includes(h)?w=Object.getOwnPropertyDescriptor(Element.prototype,h):Vn.includes(h)&&(w=Object.getOwnPropertyDescriptor(Node.prototype,h)),w||(w=Object.getOwnPropertyDescriptor(v,h)),w&&Object.defineProperty(v,"__"+h,w)}function _r(h,v){if("__"+v in h){const w=h["__"+v];return"function"!=typeof w?w:w.bind(h)}return"function"!=typeof h[v]?h[v]:h[v].bind(h)}var Ht=new WeakMap,vr=(h,v,w)=>{let A=ne.get(h);En&&w?(A=A||new CSSStyleSheet,"string"==typeof A?A=v:A.replaceSync(v)):A=v,ne.set(h,A)},or=(h,v,w)=>{var A;const ee=Qo(v,w),J=ne.get(ee);if(!ot.document)return ee;if(h=11===h.nodeType?h:ot.document,J)if("string"==typeof J){let pe,Ue=Ht.get(h=h.head||h);if(Ue||Ht.set(h,Ue=new Set),!Ue.has(ee)){if(h.host&&(pe=h.querySelector(`[${Te}="${ee}"]`)))pe.innerHTML=J;else{pe=ot.document.createElement("style"),pe.innerHTML=J;const qe=null!=(A=Ke.$nonce$)?A:ro(ot.document);if(null!=qe&&pe.setAttribute("nonce",qe),!(1&v.$flags$))if("HEAD"===h.nodeName){const ye=h.querySelectorAll("link[rel=preconnect]"),je=ye.length>0?ye[ye.length-1].nextSibling:h.querySelector("style");h.insertBefore(pe,je?.parentNode===h?je:null)}else if("host"in h)if(En){const ye=new CSSStyleSheet;ye.replaceSync(J),Wt?h.adoptedStyleSheets.unshift(ye):h.adoptedStyleSheets=[ye,...h.adoptedStyleSheets]}else{const ye=h.querySelector("style");ye?ye.innerHTML=J+ye.innerHTML:h.prepend(pe)}else h.append(pe);1&v.$flags$&&h.insertBefore(pe,null)}4&v.$flags$&&(pe.innerHTML+=ft),Ue&&Ue.add(ee)}}else h.adoptedStyleSheets.includes(J)||(Wt?h.adoptedStyleSheets.push(J):h.adoptedStyleSheets=[...h.adoptedStyleSheets,J]);return ee},Qo=(h,v)=>"sc-"+(v&&32&h.$flags$?h.$tagName$+"-"+v:h.$tagName$),Cc=h=>h.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Va=(h,v,...w)=>{let A=null,ee=null,J=null,Ue=!1,pe=!1;const qe=[],ye=dt=>{for(let ut=0;ut<dt.length;ut++)A=dt[ut],Array.isArray(A)?ye(A):null!=A&&"boolean"!=typeof A&&((Ue="function"!=typeof h&&!mr(A))&&(A=String(A)),Ue&&pe?qe[qe.length-1].$text$+=A:qe.push(Ue?ms(null,A):A),pe=Ue)};if(ye(w),v){v.key&&(ee=v.key),v.name&&(J=v.name);{const dt=v.className||v.class;dt&&(v.class="object"!=typeof dt?dt:Object.keys(dt).filter(ut=>dt[ut]).join(" "))}}if("function"==typeof h)return h(null===v?{}:v,qe,po);const je=ms(h,null);return je.$attrs$=v,qe.length>0&&(je.$children$=qe),je.$key$=ee,je.$name$=J,je},ms=(h,v)=>({$flags$:0,$tag$:h,$text$:v,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),dl={},po={forEach:(h,v)=>h.map(Bt).forEach(v),map:(h,v)=>h.map(Bt).map(v).map(vs)},Bt=h=>({vattrs:h.$attrs$,vchildren:h.$children$,vkey:h.$key$,vname:h.$name$,vtag:h.$tag$,vtext:h.$text$}),vs=h=>{if("function"==typeof h.vtag){const w={...h.vattrs};return h.vkey&&(w.key=h.vkey),h.vname&&(w.name=h.vname),Va(h.vtag,w,...h.vchildren||[])}const v=ms(h.vtag,h.vtext);return v.$attrs$=h.vattrs,v.$children$=h.vchildren,v.$key$=h.vkey,v.$name$=h.vname,v},Ua=(h,v,w,A,ee,J,Ue,pe=[])=>{let qe,ye,je,dt;const ut=ee["s-sc"];if(1===J.nodeType){if(qe=J.getAttribute("c-id"),qe&&(ye=qe.split("."),ye[0]===Ue||"0"===ye[0])){je=Kr({$flags$:0,$hostId$:ye[0],$nodeId$:ye[1],$depth$:ye[2],$index$:ye[3],$tag$:J.tagName.toLowerCase(),$elm$:J,$attrs$:{class:J.className||""}}),v.push(je),J.removeAttribute("c-id"),h.$children$||(h.$children$=[]),ut&&ye[0]===Ue&&(J["s-si"]=ut,je.$attrs$.class+=" "+ut);const gt=je.$elm$.getAttribute("s-sn");"string"==typeof gt&&("slot-fb"===je.$tag$&&(Qe(gt,ye[2],je,J,h,v,w,A,pe),ut&&J.classList.add(ut)),je.$elm$["s-sn"]=gt,je.$elm$.removeAttribute("s-sn")),void 0!==je.$index$&&(h.$children$[je.$index$]=je),h=je,A&&"0"===je.$depth$&&(A[je.$index$]=je.$elm$)}if(J.shadowRoot)for(dt=J.shadowRoot.childNodes.length-1;dt>=0;dt--)Ua(h,v,w,A,ee,J.shadowRoot.childNodes[dt],Ue,pe);const At=J.__childNodes||J.childNodes;for(dt=At.length-1;dt>=0;dt--)Ua(h,v,w,A,ee,At[dt],Ue,pe)}else if(8===J.nodeType)ye=J.nodeValue.split("."),(ye[1]===Ue||"0"===ye[1])&&(qe=ye[0],je=Kr({$hostId$:ye[1],$nodeId$:ye[2],$depth$:ye[3],$index$:ye[4]||"0",$elm$:J,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),"t"===qe?(je.$elm$=Un(J,3),je.$elm$&&3===je.$elm$.nodeType&&(je.$text$=je.$elm$.textContent,v.push(je),J.remove(),Ue===je.$hostId$&&(h.$children$||(h.$children$=[]),h.$children$[je.$index$]=je),A&&"0"===je.$depth$&&(A[je.$index$]=je.$elm$))):"c"===qe?(je.$elm$=Un(J,8),je.$elm$&&8===je.$elm$.nodeType&&(v.push(je),J.remove())):je.$hostId$===Ue&&("s"===qe?Qe(J["s-sn"]=ye[5]||"",ye[2],je,J,h,v,w,A,pe):"r"===qe&&(A?J.remove():(ee["s-cr"]=J,J["s-cn"]=!0))));else if(h&&"style"===h.$tag$){const At=ms(null,J.textContent);At.$elm$=J,At.$index$="0",h.$children$=[At]}else 3===J.nodeType&&!J.wholeText.trim()&&!J["s-nr"]&&J.remove();return h},Jo=(h,v)=>{if(1===h.nodeType){const w=h[wt]||h.getAttribute(wt);w&&v.set(w,h);let A=0;if(h.shadowRoot)for(;A<h.shadowRoot.childNodes.length;A++)Jo(h.shadowRoot.childNodes[A],v);const ee=h.__childNodes||h.childNodes;for(A=0;A<ee.length;A++)Jo(ee[A],v)}else if(8===h.nodeType){const w=h.nodeValue.split(".");"o"===w[0]&&(v.set(w[1]+"."+w[2],h),h.nodeValue="",h["s-en"]=w[3])}},Kr=h=>({$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null,...h});function Qe(h,v,w,A,ee,J,Ue,pe,qe){A["s-sr"]=!0,w.$name$=h||null,w.$tag$="slot";const ye=ee?.$elm$?ee.$elm$["s-id"]||ee.$elm$.getAttribute("s-id"):"";if(pe&&ot.document){const je=w.$elm$=ot.document.createElement(w.$tag$);w.$name$&&w.$elm$.setAttribute("name",h),ee.$elm$.shadowRoot&&ye&&ye!==w.$hostId$?_r(ee.$elm$,"insertBefore")(je,_r(ee.$elm$,"children")[0]):_r(_r(A,"parentNode"),"insertBefore")(je,A),Rl(qe,v,h,A,w.$hostId$),A.remove(),"0"===w.$depth$&&(pe[w.$index$]=w.$elm$)}else{const je=w.$elm$,dt=ye&&ye!==w.$hostId$&&ee.$elm$.shadowRoot;Rl(qe,v,h,A,dt?ye:w.$hostId$),In(A),dt&&ee.$elm$.insertBefore(je,ee.$elm$.children[0])}J.push(w),Ue.push(w),ee.$children$||(ee.$children$=[]),ee.$children$[w.$index$]=w}var Rl=(h,v,w,A,ee)=>{var J,Ue;let pe=A.nextSibling;if(h[v]=h[v]||[],pe&&(null==(J=pe.nodeValue)||!J.startsWith("s.")))do{pe&&((pe.getAttribute&&pe.getAttribute("slot")||pe["s-sn"])===w||""===w&&!pe["s-sn"]&&(!pe.getAttribute||!pe.getAttribute("slot"))&&(8===pe.nodeType||3===pe.nodeType))&&(pe["s-sn"]=w,h[v].push({slot:A,node:pe,hostId:ee})),pe=pe?.nextSibling}while(pe&&(null==(Ue=pe.nodeValue)||!Ue.startsWith("s.")))},Un=(h,v)=>{let w=h;do{w=w.nextSibling}while(w&&(w.nodeType!==v||!w.nodeValue));return w},ys=h=>{const v=(h=>h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(h);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${v}))(${v}\\b)`,"g")};ys("::slotted"),ys(":host"),ys(":host-context");var Nl=h=>ae.push(h),Ha=h=>{var v;return null==(v=me(h))?void 0:v.$modeName$},Fi=(h,v,w)=>{if("string"==typeof h&&h.startsWith(we))return function qt(h){return"string"==typeof h&&h.startsWith(we)?Wr.fromLocalValue(JSON.parse(atob(h.slice(11)))):h}(h);if("string"==typeof h&&(16&v||8&v)&&(h.startsWith("{")&&h.endsWith("}")||h.startsWith("[")&&h.endsWith("]")))try{return JSON.parse(h)}catch{}return null==h||mr(h)?h:4&v?"false"!==h&&(""===h||!!h):2&v?"string"==typeof h?parseFloat(h):"number"==typeof h?h:NaN:1&v?String(h):h},_s=h=>{var v;return null==(v=me(h))?void 0:v.$hostElement$},Ws=(h,v,w)=>{const A=_s(h);return{emit:ee=>tt(A,v,{bubbles:!!(4&w),composed:!!(2&w),cancelable:!!(1&w),detail:ee})}},tt=(h,v,w)=>{const A=Ke.ce(v,w);return h.dispatchEvent(A),A},qs=(h,v,w,A,ee,J,Ue)=>{if(w===A)return;let pe=U(h,v),qe=v.toLowerCase();if("class"===v){const ye=h.classList,je=Li(w);let dt=Li(A);if((h["s-si"]||h["s-sc"])&&Ue){const ut=h["s-sc"]||h["s-si"];dt.push(ut),je.forEach(At=>{At.startsWith(ut)&&dt.push(At)}),dt=[...new Set(dt)].filter(At=>At),ye.add(...dt)}else ye.remove(...je.filter(ut=>ut&&!dt.includes(ut))),ye.add(...dt.filter(ut=>ut&&!je.includes(ut)))}else if("style"===v){for(const ye in w)(!A||null==A[ye])&&(ye.includes("-")?h.style.removeProperty(ye):h.style[ye]="");for(const ye in A)(!w||A[ye]!==w[ye])&&(ye.includes("-")?h.style.setProperty(ye,A[ye]):h.style[ye]=A[ye])}else if("key"!==v)if("ref"===v)A&&A(h);else if(pe||"o"!==v[0]||"n"!==v[1]){const ye=mr(A);if((pe||ye&&null!==A)&&!ee)try{if(h.tagName.includes("-"))h[v]!==A&&(h[v]=A);else{const dt=A??"";"list"===v?pe=!1:(null==w||h[v]!=dt)&&("function"==typeof h.__lookupSetter__(v)?h[v]=dt:h.setAttribute(v,dt))}}catch{}let je=!1;qe!==(qe=qe.replace(/^xlink\:?/,""))&&(v=qe,je=!0),null==A||!1===A?(!1!==A||""===h.getAttribute(v))&&(je?h.removeAttributeNS(Ct,v):h.removeAttribute(v)):(!pe||4&J||ee)&&!ye&&1===h.nodeType&&(A=!0===A?"":A,je?h.setAttributeNS(Ct,v,A):h.setAttribute(v,A))}else if(v="-"===v[2]?v.slice(3):U(ot,qe)?qe.slice(2):qe[2]+v.slice(3),w||A){const ye=v.endsWith(ei);v=v.replace(ma,""),w&&Ke.rel(h,v,w,ye),A&&Ke.ael(h,v,A,ye)}},Ki=/\s/,Li=h=>("object"==typeof h&&h&&"baseVal"in h&&(h=h.baseVal),h&&"string"==typeof h?h.split(Ki):[]),ei="Capture",ma=new RegExp(ei+"$"),bs=(h,v,w,A)=>{const ee=11===v.$elm$.nodeType&&v.$elm$.host?v.$elm$.host:v.$elm$,J=h&&h.$attrs$||{},Ue=v.$attrs$||{};for(const pe of Zs(Object.keys(J)))pe in Ue||qs(ee,pe,J[pe],void 0,w,v.$flags$,A);for(const pe of Zs(Object.keys(Ue)))qs(ee,pe,J[pe],Ue[pe],w,v.$flags$,A)};function Zs(h){return h.includes("ref")?[...h.filter(v=>"ref"!==v),"ref"]:h}var ti,Cs,Ci,Ss=!1,ws=!1,Yi=!1,ho=!1,Si=(h,v,w)=>{var A;const ee=v.$children$[w];let Ue,pe,qe,J=0;if(Ss||(Yi=!0,"slot"===ee.$tag$&&(ee.$flags$|=ee.$children$?2:1)),null!==ee.$text$)Ue=ee.$elm$=ot.document.createTextNode(ee.$text$);else if(1&ee.$flags$)Ue=ee.$elm$=ot.document.createTextNode(""),bs(null,ee,ho);else{if(ho||(ho="svg"===ee.$tag$),!ot.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(Ue=ee.$elm$=ot.document.createElementNS(ho?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Ss&&2&ee.$flags$?"slot-fb":ee.$tag$),ho&&"foreignObject"===ee.$tag$&&(ho=!1),bs(null,ee,ho),(h=>null!=h&&void 0!==h)(ti)&&Ue["s-si"]!==ti&&Ue.classList.add(Ue["s-si"]=ti),ee.$children$)for(J=0;J<ee.$children$.length;++J)pe=Si(h,ee,J),pe&&Ue.appendChild(pe);"svg"===ee.$tag$?ho=!1:"foreignObject"===Ue.tagName&&(ho=!0)}return Ue["s-hn"]=Ci,3&ee.$flags$&&(Ue["s-sr"]=!0,Ue["s-cr"]=Cs,Ue["s-sn"]=ee.$name$||"",Ue["s-rf"]=null==(A=ee.$attrs$)?void 0:A.ref,In(Ue),qe=h&&h.$children$&&h.$children$[w],qe&&qe.$tag$===ee.$tag$&&h.$elm$&&Xi(h.$elm$),Ds(Cs,Ue,v.$elm$,h?.$elm$)),Ue},Xi=h=>{Ke.$flags$|=1;const v=h.closest(Ci.toLowerCase());if(null!=v){const w=Array.from(v.__childNodes||v.childNodes).find(ee=>ee["s-cr"]),A=Array.from(h.__childNodes||h.childNodes);for(const ee of w?A.reverse():A)null!=ee["s-sh"]&&(Do(v,ee,w??null),ee["s-sh"]=void 0,Yi=!0)}Ke.$flags$&=-2},Qi=(h,v)=>{Ke.$flags$|=1;const w=Array.from(h.__childNodes||h.childNodes);if(h["s-sr"]){let A=h;for(;A=A.nextSibling;)A&&A["s-sn"]===h["s-sn"]&&A["s-sh"]===Ci&&w.push(A)}for(let A=w.length-1;A>=0;A--){const ee=w[A];ee["s-hn"]!==Ci&&ee["s-ol"]&&(Do(wi(ee).parentNode,ee,wi(ee)),ee["s-ol"].remove(),ee["s-ol"]=void 0,ee["s-sh"]=void 0,Yi=!0),v&&Qi(ee,v)}Ke.$flags$&=-2},Ks=(h,v,w,A,ee,J)=>{let pe,Ue=h["s-cr"]&&h["s-cr"].parentNode||h;for(Ue.shadowRoot&&Ue.tagName===Ci&&(Ue=Ue.shadowRoot);ee<=J;++ee)A[ee]&&(pe=Si(null,w,ee),pe&&(A[ee].$elm$=pe,Do(Ue,pe,wi(v))))},Es=(h,v,w)=>{for(let A=v;A<=w;++A){const ee=h[A];if(ee){const J=ee.$elm$;Ys(ee),J&&(ws=!0,J["s-ol"]?J["s-ol"].remove():Qi(J,!0),J.remove())}}},ni=(h,v,w=!1)=>h.$tag$===v.$tag$&&("slot"===h.$tag$?h.$name$===v.$name$:w?(w&&!h.$key$&&v.$key$&&(h.$key$=v.$key$),!0):h.$key$===v.$key$),wi=h=>h&&h["s-ol"]||h,Gt=(h,v,w=!1)=>{const A=v.$elm$=h.$elm$,ee=h.$children$,J=v.$children$,Ue=v.$tag$,pe=v.$text$;let qe;null===pe?(ho="svg"===Ue||"foreignObject"!==Ue&&ho,"slot"===Ue&&!Ss&&h.$name$!==v.$name$&&(v.$elm$["s-sn"]=v.$name$||"",Xi(v.$elm$.parentElement)),bs(h,v,ho,w),null!==ee&&null!==J?((h,v,w,A,ee=!1)=>{let Mt,ur,J=0,Ue=0,pe=0,qe=0,ye=v.length-1,je=v[0],dt=v[ye],ut=A.length-1,At=A[0],gt=A[ut];for(;J<=ye&&Ue<=ut;)if(null==je)je=v[++J];else if(null==dt)dt=v[--ye];else if(null==At)At=A[++Ue];else if(null==gt)gt=A[--ut];else if(ni(je,At,ee))Gt(je,At,ee),je=v[++J],At=A[++Ue];else if(ni(dt,gt,ee))Gt(dt,gt,ee),dt=v[--ye],gt=A[--ut];else if(ni(je,gt,ee))("slot"===je.$tag$||"slot"===gt.$tag$)&&Qi(je.$elm$.parentNode,!1),Gt(je,gt,ee),Do(h,je.$elm$,dt.$elm$.nextSibling),je=v[++J],gt=A[--ut];else if(ni(dt,At,ee))("slot"===je.$tag$||"slot"===gt.$tag$)&&Qi(dt.$elm$.parentNode,!1),Gt(dt,At,ee),Do(h,dt.$elm$,je.$elm$),dt=v[--ye],At=A[++Ue];else{for(pe=-1,qe=J;qe<=ye;++qe)if(v[qe]&&null!==v[qe].$key$&&v[qe].$key$===At.$key$){pe=qe;break}pe>=0?(ur=v[pe],ur.$tag$!==At.$tag$?Mt=Si(v&&v[Ue],w,pe):(Gt(ur,At,ee),v[pe]=void 0,Mt=ur.$elm$),At=A[++Ue]):(Mt=Si(v&&v[Ue],w,Ue),At=A[++Ue]),Mt&&Do(wi(je.$elm$).parentNode,Mt,wi(je.$elm$))}J>ye?Ks(h,null==A[ut+1]?null:A[ut+1].$elm$,w,A,Ue,ut):Ue>ut&&Es(v,J,ye)})(A,ee,v,J,w):null!==J?(null!==h.$text$&&(A.textContent=""),Ks(A,null,v,J,0,J.length-1)):w||null===ee?w&&null!==ee&&null===J&&(v.$children$=ee):Es(ee,0,ee.length-1),ho&&"svg"===Ue&&(ho=!1)):(qe=A["s-cr"])?qe.parentNode.textContent=pe:h.$text$!==pe&&(A.data=pe)},un=[],va=h=>{let v,w,A;const ee=h.__childNodes||h.childNodes;for(const J of ee){if(J["s-sr"]&&(v=J["s-cr"])&&v.parentNode){w=v.parentNode.__childNodes||v.parentNode.childNodes;const Ue=J["s-sn"];for(A=w.length-1;A>=0;A--)if(v=w[A],!(v["s-cn"]||v["s-nr"]||v["s-hn"]===J["s-hn"]||v["s-sh"]&&v["s-sh"]===J["s-hn"]))if(io(v,Ue)){let pe=un.find(qe=>qe.$nodeToRelocate$===v);ws=!0,v["s-sn"]=v["s-sn"]||Ue,pe?(pe.$nodeToRelocate$["s-sh"]=J["s-hn"],pe.$slotRefNode$=J):(v["s-sh"]=J["s-hn"],un.push({$slotRefNode$:J,$nodeToRelocate$:v})),v["s-sr"]&&un.map(qe=>{io(qe.$nodeToRelocate$,v["s-sn"])&&(pe=un.find(ye=>ye.$nodeToRelocate$===v),pe&&!qe.$slotRefNode$&&(qe.$slotRefNode$=pe.$slotRefNode$))})}else un.some(pe=>pe.$nodeToRelocate$===v)||un.push({$nodeToRelocate$:v})}1===J.nodeType&&va(J)}},Ys=h=>{h.$attrs$&&h.$attrs$.ref&&h.$attrs$.ref(null),h.$children$&&h.$children$.map(Ys)},Do=(h,v,w)=>{if("string"==typeof v["s-sn"]&&v["s-sr"]&&v["s-cr"])Ds(v["s-cr"],v,h,v.parentElement);else if("string"==typeof v["s-sn"]){11!==h.getRootNode().nodeType&&ha(v),h.insertBefore(v,w);const{slotNode:A}=ui(v);return A&&Eo(A),v}return h.__insertBefore?h.__insertBefore(v,w):h?.insertBefore(v,w)};function Ds(h,v,w,A){var ee,J;let Ue;if(h&&"string"==typeof v["s-sn"]&&v["s-sr"]&&h.parentNode&&h.parentNode["s-sc"]&&(Ue=v["s-si"]||h.parentNode["s-sc"])){const pe=v["s-sn"],qe=v["s-hn"];if(null==(ee=w.classList)||ee.add(Ue+"-s"),A&&null!=(J=A.classList)&&J.contains(Ue+"-s")){let ye=(A.__childNodes||A.childNodes)[0],je=!1;for(;ye;){if(ye["s-sn"]!==pe&&ye["s-hn"]===qe&&ye["s-sr"]){je=!0;break}ye=ye.nextSibling}je||A.classList.remove(Ue+"-s")}}}var Ji=(h,v)=>{if(v&&!h.$onRenderResolve$&&v["s-p"]){const w=v["s-p"].push(new Promise(A=>h.$onRenderResolve$=()=>{v["s-p"].splice(w-1,1),A()}))}},Is=(h,v)=>{if(h.$flags$|=16,4&h.$flags$)return void(h.$flags$|=512);Ji(h,h.$ancestorComponent$);const w=()=>Ga(h,v);if(!v)return sn(w);queueMicrotask(()=>{w()})},Ga=(h,v)=>{const w=h.$hostElement$,ee=h.$lazyInstance$;if(!ee)throw new Error(`Can't render component <${w.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let J;return v?(h.$flags$|=256,h.$queuedListeners$&&(h.$queuedListeners$.map(([Ue,pe])=>Io(ee,Ue,pe,w)),h.$queuedListeners$=void 0),J=Io(ee,"componentWillLoad",void 0,w)):J=Io(ee,"componentWillUpdate",void 0,w),J=Xs(J,()=>Io(ee,"componentWillRender",void 0,w)),Xs(J,()=>ya(h,ee,v))},Xs=(h,v)=>Ts(h)?h.then(v).catch(w=>{console.error(w),v()}):v(),Ts=h=>h instanceof Promise||h&&h.then&&"function"==typeof h.then,ya=function(){var h=(0,S.A)(function*(v,w,A){var ee;const J=v.$hostElement$,pe=J["s-rc"];A&&(h=>{const v=h.$cmpMeta$,w=h.$hostElement$,A=v.$flags$,J=or(w.shadowRoot?w.shadowRoot:w.getRootNode(),v,h.$modeName$);10&A&&(w["s-sc"]=J,w.classList.add(J+"-h"))})(v);Qs(v,w,J,A),pe&&(pe.map(ye=>ye()),J["s-rc"]=void 0);{const ye=null!=(ee=J["s-p"])?ee:[],je=()=>Js(v);0===ye.length?je():(Promise.all(ye).then(je),v.$flags$|=4,ye.length=0)}});return function(w,A,ee){return h.apply(this,arguments)}}(),Qs=(h,v,w,A)=>{try{v=v.render&&v.render(),h.$flags$&=-17,h.$flags$|=2,((h,v,w=!1)=>{var A,ee,J,Ue,pe;const qe=h.$hostElement$,ye=h.$cmpMeta$,je=h.$vnode$||ms(null,null),ut=(h=>h&&h.$tag$===dl)(v)?v:Va(null,null,v);if(Ci=qe.tagName,ye.$attrsToReflect$&&(ut.$attrs$=ut.$attrs$||{},ye.$attrsToReflect$.map(([At,gt])=>ut.$attrs$[gt]=qe[At])),w&&ut.$attrs$)for(const At of Object.keys(ut.$attrs$))qe.hasAttribute(At)&&!["key","ref","style","class"].includes(At)&&(ut.$attrs$[At]=qe[At]);if(ut.$tag$=null,ut.$flags$|=4,h.$vnode$=ut,ut.$elm$=je.$elm$=qe.shadowRoot||qe,ti=qe["s-sc"],Ss=!(!(1&ye.$flags$)||128&ye.$flags$),Cs=qe["s-cr"],ws=!1,Gt(je,ut,w),Ke.$flags$|=1,Yi){va(ut.$elm$);for(const At of un){const gt=At.$nodeToRelocate$;if(!gt["s-ol"]&&ot.document){const Mt=ot.document.createTextNode("");Mt["s-nr"]=gt,Do(gt.parentNode,gt["s-ol"]=Mt,gt)}}for(const At of un){const gt=At.$nodeToRelocate$,Mt=At.$slotRefNode$;if(Mt){const ur=Mt.parentNode;let Zt=Mt.nextSibling;if(Zt&&1===Zt.nodeType){let an=null==(A=gt["s-ol"])?void 0:A.previousSibling;for(;an;){let St=null!=(ee=an["s-nr"])?ee:null;if(St&&St["s-sn"]===gt["s-sn"]&&ur===(St.__parentNode||St.parentNode)){for(St=St.nextSibling;St===gt||St?.["s-sr"];)St=St?.nextSibling;if(!St||!St["s-nr"]){Zt=St;break}}an=an.previousSibling}}(!Zt&&ur!==(gt.__parentNode||gt.parentNode)||(gt.__nextSibling||gt.nextSibling)!==Zt)&&gt!==Zt&&(Do(ur,gt,Zt),1===gt.nodeType&&"SLOT-FB"!==gt.tagName&&(gt.hidden=null!=(J=gt["s-ih"])&&J)),gt&&"function"==typeof Mt["s-rf"]&&Mt["s-rf"](Mt)}else 1===gt.nodeType&&(w&&(gt["s-ih"]=null!=(Ue=gt.hidden)&&Ue),gt.hidden=!0)}}if(ws&&_o(ut.$elm$),Ke.$flags$&=-2,un.length=0,2&ye.$flags$){const At=ut.$elm$.__childNodes||ut.$elm$.childNodes;for(const gt of At)gt["s-hn"]!==Ci&&!gt["s-sh"]&&(w&&null==gt["s-ih"]&&(gt["s-ih"]=null!=(pe=gt.hidden)&&pe),gt.hidden=!0)}Cs=void 0})(h,v,A)}catch(ee){X(ee,h.$hostElement$)}return null},Js=h=>{const w=h.$hostElement$,ee=h.$lazyInstance$,J=h.$ancestorComponent$;Io(ee,"componentDidRender",void 0,w),64&h.$flags$?Io(ee,"componentDidUpdate",void 0,w):(h.$flags$|=64,ta(w),Io(ee,"componentDidLoad",void 0,w),h.$onReadyResolve$(w),J||ea()),h.$onInstanceResolve$(w),h.$onRenderResolve$&&(h.$onRenderResolve$(),h.$onRenderResolve$=void 0),512&h.$flags$&&pn(()=>Is(h,!1)),h.$flags$&=-517},_a=h=>{var v;{const w=me(h),A=null==(v=w?.$hostElement$)?void 0:v.isConnected;return A&&2==(18&w.$flags$)&&Is(w,!1),A}},ea=h=>{var v;pn(()=>tt(ot,"appload",{detail:{namespace:"ionic"}})),null!=(v=Ke.$orgLocNodes$)&&v.size&&Ke.$orgLocNodes$.clear()},Io=(h,v,w,A)=>{if(h&&h[v])try{return h[v](w)}catch(ee){X(ee,A)}},ta=h=>h.classList.add("hydrated"),es=(h,v,w,A)=>{const ee=me(h);if(!ee)return;if(!ee)throw new Error(`Couldn't find host element for "${A.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const J=ee.$hostElement$,Ue=ee.$instanceValues$.get(v),pe=ee.$flags$,qe=ee.$lazyInstance$;w=Fi(w,A.$members$[v][0]);const ye=Number.isNaN(Ue)&&Number.isNaN(w);if((!(8&pe)||void 0===Ue)&&w!==Ue&&!ye&&(ee.$instanceValues$.set(v,w),qe)){if(A.$watchers$&&128&pe){const dt=A.$watchers$[v];dt&&dt.map(ut=>{try{qe[ut](w,Ue,v)}catch(At){X(At,J)}})}if(2==(18&pe)){if(qe.componentShouldUpdate&&!1===qe.componentShouldUpdate(w,Ue,v))return;Is(ee,!1)}}},ba=(h,v,w)=>{var A,ee;const J=h.prototype;if(v.$members$||v.$watchers$||h.watchers){h.watchers&&!v.$watchers$&&(v.$watchers$=h.watchers);const Ue=Object.entries(null!=(A=v.$members$)?A:{});if(Ue.map(([pe,[qe]])=>{if(31&qe||2&w&&32&qe){const{get:ye,set:je}=Object.getOwnPropertyDescriptor(J,pe)||{};ye&&(v.$members$[pe][0]|=2048),je&&(v.$members$[pe][0]|=4096),(1&w||!ye)&&Object.defineProperty(J,pe,{get(){{if(!(2048&v.$members$[pe][0]))return((h,v)=>me(this).$instanceValues$.get(v))(0,pe);const dt=me(this),ut=dt?dt.$lazyInstance$:J;return ut?ut[pe]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(J,pe,{set(dt){const ut=me(this);if(ut){if(je){const At=32&qe?this[pe]:ut.$hostElement$[pe];return typeof At>"u"&&ut.$instanceValues$.get(pe)?dt=ut.$instanceValues$.get(pe):!ut.$instanceValues$.get(pe)&&At&&ut.$instanceValues$.set(pe,At),je.apply(this,[Fi(dt,qe)]),void es(this,pe,dt=32&qe?this[pe]:ut.$hostElement$[pe],v)}{if(!(1&w&&4096&v.$members$[pe][0]))return es(this,pe,dt,v),void(1&w&&!ut.$lazyInstance$&&ut.$onReadyPromise$.then(()=>{4096&v.$members$[pe][0]&&ut.$lazyInstance$[pe]!==ut.$instanceValues$.get(pe)&&(ut.$lazyInstance$[pe]=dt)}));const At=()=>{const gt=ut.$lazyInstance$[pe];!ut.$instanceValues$.get(pe)&&gt&&ut.$instanceValues$.set(pe,gt),ut.$lazyInstance$[pe]=Fi(dt,qe),es(this,pe,ut.$lazyInstance$[pe],v)};ut.$lazyInstance$?At():ut.$onReadyPromise$.then(()=>At())}}}})}else 1&w&&64&qe&&Object.defineProperty(J,pe,{value(...ye){var je;const dt=me(this);return null==(je=dt?.$onInstancePromise$)?void 0:je.then(()=>{var ut;return null==(ut=dt.$lazyInstance$)?void 0:ut[pe](...ye)})}})}),1&w){const pe=new Map;J.attributeChangedCallback=function(qe,ye,je){Ke.jmp(()=>{var dt;const ut=pe.get(qe);if(this.hasOwnProperty(ut))je=this[ut],delete this[ut];else{if(J.hasOwnProperty(ut)&&"number"==typeof this[ut]&&this[ut]==je)return;if(null==ut){const gt=me(this),Mt=gt?.$flags$;if(gt&&Mt&&!(8&Mt)&&128&Mt&&je!==ye){const ur=gt.$lazyInstance$,Zt=null==(dt=v.$watchers$)?void 0:dt[qe];Zt?.forEach(Kt=>{null!=ur[Kt]&&ur[Kt].call(ur,je,ye,qe)})}return}}const At=Object.getOwnPropertyDescriptor(J,ut);(je=(null!==je||"boolean"!=typeof this[ut])&&je)!==this[ut]&&(!At.get||At.set)&&(this[ut]=je)})},h.observedAttributes=Array.from(new Set([...Object.keys(null!=(ee=v.$watchers$)?ee:{}),...Ue.filter(([qe,ye])=>15&ye[0]).map(([qe,ye])=>{var je;const dt=ye[1]||qe;return pe.set(dt,qe),512&ye[0]&&(null==(je=v.$attrsToReflect$)||je.push([qe,dt])),dt})]))}}return h},za=function(){var h=(0,S.A)(function*(v,w,A,ee){let J;if(!(32&w.$flags$)){if(w.$flags$|=32,A.$lazyBundleId$){const ye=((h,v)=>{const A=h.$tagName$.replace(/-/g,"_"),ee=h.$lazyBundleId$;if(!ee)return;const J=Ve.get(ee);return J?J[A]:_(8996)(`./${ee}.entry.js`).then(Ue=>(Ve.set(ee,Ue),Ue[A]),Ue=>{X(Ue,v.$hostElement$)})})(A,w);if(ye&&"then"in ye){const dt=()=>{};J=yield ye,dt()}else J=ye;if(!J)throw new Error(`Constructor for "${A.$tagName$}#${w.$modeName$}" was not found`);J.isProxied||(A.$watchers$=J.watchers,ba(J,A,2),J.isProxied=!0);const je=()=>{};w.$flags$|=8;try{new J(w)}catch(dt){X(dt,v)}w.$flags$&=-9,w.$flags$|=128,je(),jo(w.$lazyInstance$,v)}else J=v.constructor,customElements.whenDefined(v.localName).then(()=>w.$flags$|=128);if(J&&J.style){let ye;"string"==typeof J.style?ye=J.style:"string"!=typeof J.style&&(w.$modeName$=(h=>ae.map(v=>v(h)).find(v=>!!v))(v),w.$modeName$&&(ye=J.style[w.$modeName$]));const je=Qo(A,w.$modeName$);if(!ne.has(je)){const dt=()=>{};vr(je,ye,!!(1&A.$flags$)),dt()}}}const Ue=w.$ancestorComponent$,pe=()=>Is(w,!0);Ue&&Ue["s-rc"]?Ue["s-rc"].push(pe):pe()});return function(w,A,ee,J){return h.apply(this,arguments)}}(),jo=(h,v)=>{Io(h,"connectedCallback",void 0,v)},Ca=h=>{if(!ot.document)return;const v=h["s-cr"]=ot.document.createComment("");v["s-cn"]=!0,Do(h,v,h.firstChild)},na=(h,v)=>{Io(h,"disconnectedCallback",void 0,v||h)},se=function(){var h=(0,S.A)(function*(v){if(!(1&Ke.$flags$)){const w=me(v);w?.$rmListeners$&&(w.$rmListeners$.map(A=>A()),w.$rmListeners$=void 0),w?.$lazyInstance$?na(w.$lazyInstance$,v):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>na(w.$lazyInstance$,v))}Ht.has(v)&&Ht.delete(v),v.shadowRoot&&Ht.has(v.shadowRoot)&&Ht.delete(v.shadowRoot)});return function(w){return h.apply(this,arguments)}}(),ra=(h,v={})=>{var w;if(!ot.document)return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");const ee=[],J=v.exclude||[],Ue=ot.customElements,pe=ot.document.head,qe=pe.querySelector("meta[charset]"),ye=ot.document.createElement("style"),je=[];let dt,ut=!0;Object.assign(Ke,v),Ke.$resourcesUrl$=new URL(v.resourcesUrl||"./",ot.document.baseURI).href,Ke.$flags$|=2,(()=>{if(!ot.document)return;const h=ot.document.querySelectorAll(`[${Te}]`);let v=0;for(;v<h.length;v++)vr(h[v].getAttribute(Te),Cc(h[v].innerHTML),!0)})();let At=!1;if(h.map(gt=>{gt[1].map(Mt=>{var ur;const Zt={$flags$:Mt[0],$tagName$:Mt[1],$members$:Mt[2],$listeners$:Mt[3]};4&Zt.$flags$&&(At=!0),Zt.$members$=Mt[2],Zt.$listeners$=Mt[3],Zt.$attrsToReflect$=[],Zt.$watchers$=null!=(ur=Mt[4])?ur:{};const Kt=Zt.$tagName$,$n=class extends HTMLElement{constructor(an){if(super(an),this.hasRegisteredEventListeners=!1,((h,v)=>{const w={$flags$:0,$hostElement$:h,$cmpMeta$:v,$instanceValues$:new Map};w.$onInstancePromise$=new Promise(ee=>w.$onInstanceResolve$=ee),w.$onReadyPromise$=new Promise(ee=>w.$onReadyResolve$=ee),h["s-p"]=[],h["s-rc"]=[];const A=w;h.__stencil__getHostRef=()=>A})(an=this,Zt),1&Zt.$flags$)if(an.shadowRoot){if("open"!==an.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Zt.$tagName$}! Mode is set to ${an.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else en.call(an,Zt)}connectedCallback(){const an=me(this);an&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,pi(this,an,Zt.$listeners$)),dt&&(clearTimeout(dt),dt=null),ut?je.push(this):Ke.jmp(()=>(h=>{if(!(1&Ke.$flags$)){const v=me(h);if(!v)return;const w=v.$cmpMeta$,A=()=>{};if(1&v.$flags$)pi(h,v,w.$listeners$),v?.$lazyInstance$?jo(v.$lazyInstance$,h):v?.$onReadyPromise$&&v.$onReadyPromise$.then(()=>jo(v.$lazyInstance$,h));else{let ee;if(v.$flags$|=1,ee=h.getAttribute(wt),ee){if(1&w.$flags$){const J=or(h.shadowRoot,w,h.getAttribute("s-mode"));h.classList.remove(J+"-h",J+"-s")}else if(2&w.$flags$){const J=Qo(w,h.getAttribute("s-mode"));h["s-sc"]=J}((h,v,w,A)=>{var ee,J,Ue;const qe=h.shadowRoot,ye=[],je=[],dt=[],ut=qe?[]:null,At=ms(v,null);let Mt;At.$elm$=h,Object.entries((null==(ee=A.$cmpMeta$)?void 0:ee.$members$)||{}).forEach(([$,[le,Be]])=>{var Pt;if(!(31&le))return;const mn=h.getAttribute(Be||$);if(null!==mn){const Gn=Fi(mn,le);null==(Pt=A?.$instanceValues$)||Pt.set($,Gn)}});{const $=A.$cmpMeta$;$&&10&$.$flags$&&h["s-sc"]?(Mt=h["s-sc"],h.classList.add(Mt+"-h")):h["s-sc"]&&delete h["s-sc"]}ot.document&&(!Ke.$orgLocNodes$||!Ke.$orgLocNodes$.size)&&Jo(ot.document.body,Ke.$orgLocNodes$=new Map),h[wt]=w,h.removeAttribute(wt),A.$vnode$=Ua(At,ye,je,ut,h,h,w,dt);let ur=0;const Zt=ye.length;let Kt;for(;ur<Zt;ur++){Kt=ye[ur];const $=Kt.$hostId$+"."+Kt.$nodeId$,le=Ke.$orgLocNodes$.get($),Be=Kt.$elm$;if(qe){if(null!=(J=Kt.$tag$)&&J.toString().includes("-")&&"slot-fb"!==Kt.$tag$&&!Kt.$elm$.shadowRoot){const Pt=me(Kt.$elm$);if(Pt){const on=Qo(Pt.$cmpMeta$,Kt.$elm$.getAttribute("s-mode")),mn=ot.document.querySelector(`style[sty-id="${on}"]`);mn&&h.shadowRoot.append(mn.cloneNode(!0))}}}else Be["s-hn"]=v.toUpperCase(),"slot"===Kt.$tag$&&(Be["s-cr"]=h["s-cr"]);"slot"===Kt.$tag$&&(Kt.$name$=Kt.$elm$["s-sn"]||Kt.$elm$.name||null,Kt.$children$?(Kt.$flags$|=2,Kt.$elm$.childNodes.length||Kt.$children$.forEach(Pt=>{Kt.$elm$.appendChild(Pt.$elm$)})):Kt.$flags$|=1),le&&le.isConnected&&(le.parentElement.shadowRoot&&""===le["s-en"]&&le.parentNode.insertBefore(Be,le.nextSibling),le.parentNode.removeChild(le),qe||(Be["s-oo"]=parseInt(Kt.$nodeId$))),le&&!le["s-id"]&&Ke.$orgLocNodes$.delete($)}const $n=[],an=dt.length;let Hn,hn,Rn,b,St=0;for(;St<an;St++)if(Hn=dt[St],Hn&&Hn.length)for(Rn=Hn.length,hn=0;hn<Rn;hn++){if(b=Hn[hn],$n[b.hostId]||($n[b.hostId]=Ke.$orgLocNodes$.get(b.hostId)),!$n[b.hostId])continue;const $=$n[b.hostId];$.shadowRoot&&b.node.parentElement!==$&&$.appendChild(b.node),(!$.shadowRoot||!qe)&&(b.slot["s-cr"]||(b.slot["s-cr"]=$["s-cr"],b.slot["s-cr"]=!b.slot["s-cr"]&&$.shadowRoot?$:($.__childNodes||$.childNodes)[0]),Ro(b.node,b.slot,!1,b.node["s-oo"]),null!=(Ue=b.node.parentElement)&&Ue.shadowRoot&&b.node.getAttribute&&b.node.getAttribute("slot")&&b.node.removeAttribute("slot"),Zi(b.node))}if(Mt&&je.length&&je.forEach($=>{$.$elm$.parentElement.classList.add(Mt+"-s")}),qe){let $=0;const le=ut.length;if(le){for(;$<le;$++){const Be=ut[$];Be&&qe.appendChild(Be)}Array.from(h.childNodes).forEach(Be=>{"string"!=typeof Be["s-en"]&&"string"!=typeof Be["s-sn"]&&(1===Be.nodeType&&Be.slot&&Be.hidden?Be.removeAttribute("hidden"):(8===Be.nodeType&&!Be.nodeValue||3===Be.nodeType&&!Be.wholeText.trim())&&Be.parentNode.removeChild(Be))})}}A.$hostElement$=h})(h,w.$tagName$,ee,v)}ee||12&w.$flags$&&Ca(h);{let J=h;for(;J=J.parentNode||J.host;)if(1===J.nodeType&&J.hasAttribute("s-id")&&J["s-p"]||J["s-p"]){Ji(v,v.$ancestorComponent$=J);break}}w.$members$&&Object.entries(w.$members$).map(([J,[Ue]])=>{if(31&Ue&&h.hasOwnProperty(J)){const pe=h[J];delete h[J],h[J]=pe}}),za(h,v,w)}A()}})(this)))}disconnectedCallback(){Ke.jmp(()=>se(this)),Ke.raf(()=>{var an;const St=me(this);if(!St)return;const Hn=je.findIndex(hn=>hn===this);Hn>-1&&je.splice(Hn,1),(null==(an=St?.$vnode$)?void 0:an.$elm$)instanceof Node&&!St.$vnode$.$elm$.isConnected&&delete St.$vnode$.$elm$})}componentOnReady(){var an;return null==(an=me(this))?void 0:an.$onReadyPromise$}};!(1&Zt.$flags$)&&256&Zt.$flags$&&(h=>{Ko(h),jn(h),bi(h),Tr(h),Zr(h),Yo(h),Pe(h),fr(h),zn(h),Oi(h),Bo(h)})($n.prototype),Zt.$lazyBundleId$=gt[0],!J.includes(Kt)&&!Ue.get(Kt)&&(ee.push(Kt),Ue.define(Kt,ba($n,Zt,1)))})}),ee.length>0&&(At&&(ye.textContent+=ft),ye.textContent+=ee.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",ye.innerHTML.length)){ye.setAttribute("data-styles","");const gt=null!=(w=Ke.$nonce$)?w:ro(ot.document);null!=gt&&ye.setAttribute("nonce",gt),pe.insertBefore(ye,qe?qe.nextSibling:pe.firstChild)}ut=!1,je.length?je.map(gt=>gt.connectedCallback()):Ke.jmp(()=>dt=setTimeout(ea,30))},Le=(h,v)=>v,pi=(h,v,w,A)=>{w&&ot.document&&w.map(([ee,J,Ue])=>{const pe=Ms(ot.document,h,ee),qe=Sa(v,Ue),ye=Bi(ee);Ke.ael(pe,J,qe,ye),(v.$rmListeners$=v.$rmListeners$||[]).push(()=>Ke.rel(pe,J,qe,ye))})},Sa=(h,v)=>w=>{var A;try{256&h.$flags$?null==(A=h.$lazyInstance$)||A[v](w):(h.$queuedListeners$=h.$queuedListeners$||[]).push([v,w])}catch(ee){X(ee,h.$hostElement$)}},Ms=(h,v,w)=>4&w?h:8&w?ot:16&w?h.body:v,Bi=h=>$t?{passive:!!(1&h),capture:!!(2&h)}:!!(2&h)},9364:(K,Se,_)=>{"use strict";var S=_(7888);K.exports=S.getPrototypeOf||null},9462:K=>{"use strict";var S,Se="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,_="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Se||(S=function(R){return!1});var k=Se?Se.prototype.has:null,L=_?_.prototype.has:null;!S&&!k&&(S=function(R){return!1}),K.exports=S||function(R){if(!R||"object"!=typeof R)return!1;try{if(k.call(R,k),L)try{L.call(R,L)}catch{return!0}return R instanceof Se}catch{}return!1}},9713:(K,Se,_)=>{"use strict";var S=_(7707),k=_(814),L=_(5124);K.exports=function(){return L(S,k,arguments)}},9805:(K,Se,_)=>{"use strict";_.r(Se),_.d(Se,{iosTransitionAnimation:()=>T,shadow:()=>D});var S=_(7133),k=_(6780);_(9335),_(575),_(6721);const P=ce=>document.querySelector(`${ce}.ion-cloned-element`),D=ce=>ce.shadowRoot||ce,F=ce=>{const be="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs"),Q="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=be){const Z=be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Z?Z.querySelector(Q):null}return ce.querySelector(Q)},N=(ce,be)=>{const Q="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs");let Z=[];if(null!=Q){const Y=Q.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Y&&(Z=Y.querySelectorAll("ion-buttons"))}else Z=ce.querySelectorAll("ion-buttons");for(const Y of Z){const ge=Y.closest("ion-header"),Ie=ge&&!ge.classList.contains("header-collapse-condense-inactive"),Ye=Y.querySelector("ion-back-button"),te=Y.classList.contains("buttons-collapse");if(null!==Ye&&("start"===Y.slot||""===Y.slot)&&(te&&Ie&&be||!te))return Ye}return null},O=(ce,be,Q,Z,Y,ge,Ie,Ye,te)=>{var we,me;const de=be?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",De=be?"right":"left",U=be?"left":"right",X=be?"right":"left";let Ve=1,G=1,ne=`scale(${G})`;const ae="scale(1)";if(ge&&Ie){const Ne=(null===(we=ge.textContent)||void 0===we?void 0:we.trim())===(null===(me=Ye.textContent)||void 0===me?void 0:me.trim());Ve=te.width/Ie.width,G=(te.height-ie)/Ie.height,ne=Ne?`scale(${Ve}, ${G})`:`scale(${G})`}const Re=D(Z).querySelector("ion-icon").getBoundingClientRect(),Fe=be?Re.width/2-(Re.right-Y.right)+"px":Y.left-Re.width/2+"px",Ce=be?`-${window.innerWidth-Y.right}px`:`${Y.left}px`,Je=`${te.top}px`,wt=`${Y.top}px`,vt=Q?[{offset:0,transform:`translate3d(${Ce}, ${wt}, 0)`},{offset:1,transform:`translate3d(${Fe}, ${Je}, 0)`}]:[{offset:0,transform:`translate3d(${Fe}, ${Je}, 0)`},{offset:1,transform:`translate3d(${Ce}, ${wt}, 0)`}],ot=Q?[{offset:0,opacity:1,transform:ae},{offset:1,opacity:0,transform:ne}]:[{offset:0,opacity:0,transform:ne},{offset:1,opacity:1,transform:ae}],_t=Q?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],$t=(0,S.c)(),wn=(0,S.c)(),En=(0,S.c)(),Wt=P("ion-back-button"),Nt=D(Wt).querySelector(".button-text"),Ze=D(Wt).querySelector("ion-icon");Wt.text=Z.text,Wt.mode=Z.mode,Wt.icon=Z.icon,Wt.color=Z.color,Wt.disabled=Z.disabled,Wt.style.setProperty("display","block"),Wt.style.setProperty("position","fixed"),wn.addElement(Ze),$t.addElement(Nt),En.addElement(Wt),En.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).beforeAddWrite(()=>{Z.style.setProperty("display","none"),Wt.style.setProperty(De,de)}).afterAddWrite(()=>{Z.style.setProperty("display",""),Wt.style.setProperty("display","none"),Wt.style.removeProperty(De)}).keyframes(vt),$t.beforeStyles({"transform-origin":`${De} top`}).keyframes(ot),wn.beforeStyles({"transform-origin":`${U} center`}).keyframes(_t),ce.addAnimation([$t,wn,En])},I=(ce,be,Q,Z,Y,ge,Ie,Ye,te)=>{var we,me;const de=be?"right":"left",De=be?`calc(100% - ${Y.right}px)`:`${Y.left}px`,X=`${Y.top}px`;let G=be?`-${window.innerWidth-Ie.right-8}px`:`${Ie.x+8}px`,ne=.5;const ae="scale(1)";let ve=`scale(${ne})`;if(Ye&&te){G=be?`-${window.innerWidth-te.right-8}px`:te.x-8+"px";const ft=(null===(we=Ye.textContent)||void 0===we?void 0:we.trim())===(null===(me=Z.textContent)||void 0===me?void 0:me.trim());ne=te.height/(ge.height-ie),ve=ft?`scale(${te.width/ge.width}, ${ne})`:`scale(${ne})`}const Ce=Ie.top+Ie.height/2-Y.height*ne/2+"px",Te=Q?[{offset:0,opacity:0,transform:`translate3d(${G}, ${Ce}, 0) ${ve}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${X}, 0) ${ae}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${X}, 0) ${ae}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${G}, ${Ce}, 0) ${ve}`}],He=P("ion-title"),vt=(0,S.c)();He.innerText=Z.innerText,He.size=Z.size,He.color=Z.color,vt.addElement(He),vt.beforeStyles({"transform-origin":`${de} top`,height:`${Y.height}px`,display:"",position:"relative",[de]:De}).beforeAddWrite(()=>{Z.style.setProperty("opacity","0")}).afterAddWrite(()=>{Z.style.setProperty("opacity",""),He.style.setProperty("display","none")}).keyframes(Te),ce.addAnimation(vt)},T=(ce,be)=>{var Q;try{const Z="cubic-bezier(0.32,0.72,0,1)",Y="opacity",ge="transform",te="rtl"===ce.ownerDocument.dir,we=te?"-99.5%":"99.5%",me=te?"33%":"-33%",de=be.enteringEl,De=be.leavingEl,U="back"===be.direction,X=de.querySelector(":scope > ion-content"),Ve=de.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),G=de.querySelectorAll(":scope > ion-header > ion-toolbar"),ne=(0,S.c)(),ae=(0,S.c)();if(ne.addElement(de).duration((null!==(Q=be.duration)&&void 0!==Q?Q:0)||540).easing(be.easing||Z).fill("both").beforeRemoveClass("ion-page-invisible"),De&&null!=ce){const Ce=(0,S.c)();Ce.addElement(ce),ne.addAnimation(Ce)}if(X||0!==G.length||0!==Ve.length?(ae.addElement(X),ae.addElement(Ve)):ae.addElement(de.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(ae),U?ae.beforeClearStyles([Y]).fromTo("transform",`translateX(${me})`,"translateX(0%)").fromTo(Y,.8,1):ae.beforeClearStyles([Y]).fromTo("transform",`translateX(${we})`,"translateX(0%)"),X){const Ce=D(X).querySelector(".transition-effect");if(Ce){const Je=Ce.querySelector(".transition-cover"),wt=Ce.querySelector(".transition-shadow"),Te=(0,S.c)(),He=(0,S.c)(),vt=(0,S.c)();Te.addElement(Ce).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),He.addElement(Je).beforeClearStyles([Y]).fromTo(Y,0,.1),vt.addElement(wt).beforeClearStyles([Y]).fromTo(Y,.03,.7),Te.addAnimation([He,vt]),ae.addAnimation([Te])}}const ve=de.querySelector("ion-header.header-collapse-condense"),{forward:Re,backward:Fe}=((ce,be,Q,Z,Y)=>{const ge=N(Z,Q),Ie=F(Y),Ye=F(Z),te=N(Y,Q),we=null!==ge&&null!==Ie&&!Q,me=null!==Ye&&null!==te&&Q;if(we){const de=Ie.getBoundingClientRect(),De=ge.getBoundingClientRect(),U=D(ge).querySelector(".button-text"),X=U?.getBoundingClientRect(),G=D(Ie).querySelector(".toolbar-title").getBoundingClientRect();I(ce,be,Q,Ie,de,G,De,U,X),O(ce,be,Q,ge,De,U,X,Ie,G)}else if(me){const de=Ye.getBoundingClientRect(),De=te.getBoundingClientRect(),U=D(te).querySelector(".button-text"),X=U?.getBoundingClientRect(),G=D(Ye).querySelector(".toolbar-title").getBoundingClientRect();I(ce,be,Q,Ye,de,G,De,U,X),O(ce,be,Q,te,De,U,X,Ye,G)}return{forward:we,backward:me}})(ne,te,U,de,De);if(G.forEach(Ce=>{const Je=(0,S.c)();Je.addElement(Ce),ne.addAnimation(Je);const wt=(0,S.c)();wt.addElement(Ce.querySelector("ion-title"));const Te=(0,S.c)(),He=Array.from(Ce.querySelectorAll("ion-buttons,[menuToggle]")),vt=Ce.closest("ion-header"),ft=vt?.classList.contains("header-collapse-condense-inactive");let Ct;Ct=He.filter(U?$t=>{const wn=$t.classList.contains("buttons-collapse");return wn&&!ft||!wn}:$t=>!$t.classList.contains("buttons-collapse")),Te.addElement(Ct);const ot=(0,S.c)();ot.addElement(Ce.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Dt=(0,S.c)();Dt.addElement(D(Ce).querySelector(".toolbar-background"));const Ke=(0,S.c)(),_t=Ce.querySelector("ion-back-button");if(_t&&Ke.addElement(_t),Je.addAnimation([wt,Te,ot,Dt,Ke]),Te.fromTo(Y,.01,1),ot.fromTo(Y,.01,1),U)ft||wt.fromTo("transform",`translateX(${me})`,"translateX(0%)").fromTo(Y,.01,1),ot.fromTo("transform",`translateX(${me})`,"translateX(0%)"),Ke.fromTo(Y,.01,1);else if(ve||wt.fromTo("transform",`translateX(${we})`,"translateX(0%)").fromTo(Y,.01,1),ot.fromTo("transform",`translateX(${we})`,"translateX(0%)"),Dt.beforeClearStyles([Y,"transform"]),vt?.translucent?Dt.fromTo("transform",te?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Dt.fromTo(Y,.01,"var(--opacity)"),Re||Ke.fromTo(Y,.01,1),_t&&!Re){const wn=(0,S.c)();wn.addElement(D(_t).querySelector(".button-text")).fromTo("transform",te?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Je.addAnimation(wn)}}),De){const Ce=(0,S.c)(),Je=De.querySelector(":scope > ion-content"),wt=De.querySelectorAll(":scope > ion-header > ion-toolbar"),Te=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Je||0!==wt.length||0!==Te.length?(Ce.addElement(Je),Ce.addElement(Te)):Ce.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(Ce),U){Ce.beforeClearStyles([Y]).fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)");const He=(0,k.g)(De);ne.afterAddWrite(()=>{"normal"===ne.getDirection()&&He.style.setProperty("display","none")})}else Ce.fromTo("transform","translateX(0%)",`translateX(${me})`).fromTo(Y,1,.8);if(Je){const He=D(Je).querySelector(".transition-effect");if(He){const vt=He.querySelector(".transition-cover"),ft=He.querySelector(".transition-shadow"),Ct=(0,S.c)(),ot=(0,S.c)(),Dt=(0,S.c)();Ct.addElement(He).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ot.addElement(vt).beforeClearStyles([Y]).fromTo(Y,.1,0),Dt.addElement(ft).beforeClearStyles([Y]).fromTo(Y,.7,.03),Ct.addAnimation([ot,Dt]),Ce.addAnimation([Ct])}}wt.forEach(He=>{const vt=(0,S.c)();vt.addElement(He);const ft=(0,S.c)();ft.addElement(He.querySelector("ion-title"));const Ct=(0,S.c)(),ot=He.querySelectorAll("ion-buttons,[menuToggle]"),Dt=He.closest("ion-header"),Ke=Dt?.classList.contains("header-collapse-condense-inactive"),_t=Array.from(ot).filter(Ze=>{const Ne=Ze.classList.contains("buttons-collapse");return Ne&&!Ke||!Ne});Ct.addElement(_t);const $t=(0,S.c)(),wn=He.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");wn.length>0&&$t.addElement(wn);const En=(0,S.c)();En.addElement(D(He).querySelector(".toolbar-background"));const Wt=(0,S.c)(),Nt=He.querySelector("ion-back-button");if(Nt&&Wt.addElement(Nt),vt.addAnimation([ft,Ct,$t,Wt,En]),ne.addAnimation(vt),Wt.fromTo(Y,.99,0),Ct.fromTo(Y,.99,0),$t.fromTo(Y,.99,0),U){if(Ke||ft.fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)").fromTo(Y,.99,0),$t.fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)"),En.beforeClearStyles([Y,"transform"]),Dt?.translucent?En.fromTo("transform","translateX(0px)",te?"translateX(-100%)":"translateX(100%)"):En.fromTo(Y,"var(--opacity)",0),Nt&&!Fe){const Ne=(0,S.c)();Ne.addElement(D(Nt).querySelector(".button-text")).fromTo("transform","translateX(0%)",`translateX(${(te?-124:124)+"px"})`),vt.addAnimation(Ne)}}else Ke||ft.fromTo("transform","translateX(0%)",`translateX(${me})`).fromTo(Y,.99,0).afterClearStyles([ge,Y]),$t.fromTo("transform","translateX(0%)",`translateX(${me})`).afterClearStyles([ge,Y]),Wt.afterClearStyles([Y]),ft.afterClearStyles([Y]),Ct.afterClearStyles([Y])})}return ne}catch(Z){throw Z}},ie=10},9817:K=>{"use strict";K.exports=Object.getOwnPropertyDescriptor},9819:(K,Se,_)=>{"use strict";var S=_(6998),k=typeof globalThis>"u"?global:globalThis;K.exports=function(){for(var z=[],R=0;R<S.length;R++)"function"==typeof k[S[R]]&&(z[z.length]=S[R]);return z}},9831:K=>{"use strict";var Se=function(_){return _!=_};K.exports=function(S,k){return 0===S&&0===k?1/S==1/k:!!(S===k||Se(S)&&Se(k))}},9919:(K,Se,_)=>{"use strict";_.d(Se,{a:()=>L,b:()=>we,i:()=>me});var S=_(9335);const L=(de,De)=>("string"==typeof de&&(De=de,de=void 0),(de=>z(de))(de).includes(De)),z=(de=window)=>{if(typeof de>"u")return[];de.Ionic=de.Ionic||{};let De=de.Ionic.platforms;return null==De&&(De=de.Ionic.platforms=R(de),De.forEach(U=>de.document.documentElement.classList.add(`plt-${U}`))),De},R=de=>{const De=S.e.get("platform");return Object.keys(Ye).filter(U=>{const X=De?.[U];return"function"==typeof X?X(de):Ye[U](de)})},P=de=>!!(ge(de,/iPad/i)||ge(de,/Macintosh/i)&&T(de)),N=de=>ge(de,/android|sink/i),T=de=>Ie(de,"(any-pointer:coarse)"),ce=de=>be(de)||Q(de),be=de=>!!(de.cordova||de.phonegap||de.PhoneGap),Q=de=>{const De=de.Capacitor;return!!(De?.isNative||De?.isNativePlatform&&De.isNativePlatform())},ge=(de,De)=>De.test(de.navigator.userAgent),Ie=(de,De)=>{var U;return null===(U=de.matchMedia)||void 0===U?void 0:U.call(de,De).matches},Ye={ipad:P,iphone:de=>ge(de,/iPhone/i),ios:de=>ge(de,/iPhone|iPod/i)||P(de),android:N,phablet:de=>{const De=de.innerWidth,U=de.innerHeight,X=Math.min(De,U),Ve=Math.max(De,U);return X>390&&X<520&&Ve>620&&Ve<800},tablet:de=>{const De=de.innerWidth,U=de.innerHeight,X=Math.min(De,U),Ve=Math.max(De,U);return P(de)||(de=>N(de)&&!ge(de,/mobile/i))(de)||X>460&&X<820&&Ve>780&&Ve<1400},cordova:be,capacitor:Q,electron:de=>ge(de,/electron/i),pwa:de=>{var De;return!!(null!==(De=de.matchMedia)&&void 0!==De&&De.call(de,"(display-mode: standalone)").matches||de.navigator.standalone)},mobile:T,mobileweb:de=>T(de)&&!ce(de),desktop:de=>!T(de),hybrid:ce};let te;const we=de=>de&&(0,S.o)(de)||te,me=(de={})=>{if(typeof window>"u")return;const De=window.document,U=window,X=U.Ionic=U.Ionic||{},Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,S.l)(U)),{persistConfig:!1}),X.config),(0,S.m)(U)),de);S.e.reset(Ve),S.e.getBoolean("persistConfig")&&(0,S.n)(U,Ve),z(U),X.config=S.e,X.mode=te=S.e.get("mode",De.documentElement.getAttribute("mode")||(L(U,"ios")?"ios":"md")),S.e.set("mode",te),De.documentElement.setAttribute("mode",te),De.documentElement.classList.add(te),S.e.getBoolean("_testing")&&S.e.set("animated",!1);const G=ae=>{var ve;return null===(ve=ae.tagName)||void 0===ve?void 0:ve.startsWith("ION-")},ne=ae=>["ios","md"].includes(ae);(0,S.q)(ae=>{for(;ae;){const ve=ae.mode||ae.getAttribute("mode");if(ve){if(ne(ve))return ve;G(ae)&&(0,S.f)('Invalid ionic mode: "'+ve+'", expected: "ios" or "md"')}ae=ae.parentElement}return te})}}},K=>{K(K.s=4494)}]);
//# sourceMappingURL=main.482dbb85d6c091e7.js.map