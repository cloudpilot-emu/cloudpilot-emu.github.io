(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{78:(Z,we,_)=>{"use strict";var S=_(8447);Z.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var z="abcdefghijklmnopqrst",k=z.split(""),f={},O=0;O<k.length;++O)f[k[O]]=k[O];var E=Object.assign({},f),P="";for(var R in E)P+=R;return z!==P}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var z=Object.preventExtensions({1:2});try{Object.assign(z,"xy")}catch{return"y"===z[1]}return!1}()?S:Object.assign}},158:(Z,we,_)=>{"use strict";var S=_(8344),x=_(5712);if(_(1459)()||_(6497)()){var L=Symbol.iterator;Z.exports=function(ve){return null!=ve&&typeof ve[L]<"u"?ve[L]():S(ve)?Array.prototype[L].call(ve):void 0}}else{var z=_(7638),k=_(6837),f=_(2521),O=f("%Map%",!0),E=f("%Set%",!0),P=_(3463),R=P("Array.prototype.push"),H=P("String.prototype.charCodeAt"),N=P("String.prototype.slice"),T=function(ve){var ue=0;return{next:function(){var K,j=ue>=ve.length;return j||(K=ve[ue],ue+=1),{done:j,value:K}}}},ie=function(ve,ue){if(z(ve)||S(ve))return T(ve);if(k(ve)){var De=0;return{next:function(){var K=function(ve,ue){if(ue+1>=ve.length)return ue+1;var j=H(ve,ue);if(j<55296||j>56319)return ue+1;var K=H(ve,ue+1);return K<56320||K>57343?ue+1:ue+2}(ve,De),Ue=N(ve,De,K);return De=K,{done:K>ve.length,value:Ue}}}}return ue&&typeof ve["_es6-shim iterator_"]<"u"?ve["_es6-shim iterator_"]():void 0};if(O||E){var ce=_(5217),Ce=_(9116),X=P("Map.prototype.forEach",!0),W=P("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var Y=P("Map.prototype.iterator",!0),me=P("Set.prototype.iterator",!0);var Ie=P("Map.prototype.@@iterator",!0)||P("Map.prototype._es6-shim iterator_",!0),Xe=P("Set.prototype.@@iterator",!0)||P("Set.prototype._es6-shim iterator_",!0);Z.exports=function(ve){return function(ve){if(ce(ve)){if(Y)return x(Y(ve));if(Ie)return Ie(ve);if(X){var ue=[];return X(ve,function(j,K){R(ue,[K,j])}),T(ue)}}if(Ce(ve)){if(me)return x(me(ve));if(Xe)return Xe(ve);if(W){var De=[];return W(ve,function(j){R(De,j)}),T(De)}}}(ve)||ie(ve)}}else Z.exports=function(ve){if(null!=ve)return ie(ve,!0)}}},159:Z=>{"use strict";Z.exports=Number.isNaN||function(_){return _!=_}},362:Z=>{"use strict";var we=typeof BigInt<"u"&&BigInt;Z.exports=function(){return"function"==typeof we&&"function"==typeof BigInt&&"bigint"==typeof we(42)&&"bigint"==typeof BigInt(42)}},497:(Z,we,_)=>{"use strict";var S=_(159);Z.exports=function(L){return S(L)||0===L?L:L<0?-1:1}},545:(Z,we,_)=>{"use strict";var S=_(592),x=_(6283),L=_(9831),z=_(9110),k=_(5796),f=x(z(),Object);S(f,{getPolyfill:z,implementation:L,shim:k}),Z.exports=f},566:(Z,we,_)=>{"use strict";_.d(we,{B:()=>z,G:()=>k});class x{constructor(O,E,P,R,H){this.id=E,this.name=P,this.disableScroll=H,this.priority=1e6*R+E,this.ctrl=O}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const O=this.ctrl.capture(this.name,this.id,this.priority);return O&&this.disableScroll&&this.ctrl.disableScroll(this.id),O}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(O,E,P,R){this.id=E,this.disable=P,this.disableScroll=R,this.ctrl=O}block(){if(this.ctrl){if(this.disable)for(const O of this.disable)this.ctrl.disableGesture(O,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const O of this.disable)this.ctrl.enableGesture(O,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const z="backdrop-no-scroll",k=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(O){var E;return new x(this,this.newID(),O.name,null!==(E=O.priority)&&void 0!==E?E:0,!!O.disableScroll)}createBlocker(O={}){return new L(this,this.newID(),O.disable,!!O.disableScroll)}start(O,E,P){return this.canStart(O)?(this.requestedStart.set(E,P),!0):(this.requestedStart.delete(E),!1)}capture(O,E,P){if(!this.start(O,E,P))return!1;const R=this.requestedStart;let H=-1e4;if(R.forEach(N=>{H=Math.max(H,N)}),H===P){this.capturedId=E,R.clear();const N=new CustomEvent("ionGestureCaptured",{detail:{gestureName:O}});return document.dispatchEvent(N),!0}return R.delete(E),!1}release(O){this.requestedStart.delete(O),this.capturedId===O&&(this.capturedId=void 0)}disableGesture(O,E){let P=this.disabledGestures.get(O);void 0===P&&(P=new Set,this.disabledGestures.set(O,P)),P.add(E)}enableGesture(O,E){const P=this.disabledGestures.get(O);void 0!==P&&P.delete(E)}disableScroll(O){this.disabledScroll.add(O),1===this.disabledScroll.size&&document.body.classList.add(z)}enableScroll(O){this.disabledScroll.delete(O),0===this.disabledScroll.size&&document.body.classList.remove(z)}canStart(O){return!(void 0!==this.capturedId||this.isDisabled(O))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(O){const E=this.disabledGestures.get(O);return!!(E&&E.size>0)}newID(){return this.gestureId++,this.gestureId}}},575:(Z,we,_)=>{"use strict";_.d(we,{d:()=>x,w:()=>S});const S=typeof window<"u"?window:void 0,x=typeof document<"u"?document:void 0},592:(Z,we,_)=>{"use strict";var S=_(9209),x="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),L=Object.prototype.toString,z=Array.prototype.concat,k=_(1197),O=_(6652)(),E=function(R,H,N,I){if(H in R)if(!0===I){if(R[H]===N)return}else if(!function(R){return"function"==typeof R&&"[object Function]"===L.call(R)}(I)||!I())return;O?k(R,H,N,!0):k(R,H,N)},P=function(R,H){var N=arguments.length>2?arguments[2]:{},I=S(H);x&&(I=z.call(I,Object.getOwnPropertySymbols(H)));for(var T=0;T<I.length;T+=1)E(R,I[T],H[I[T]],N[I[T]])};P.supportsDescriptors=!!O,Z.exports=P},603:(Z,we,_)=>{"use strict";var S=_(2521),x=_(840),L=_(3687),z=_(2375),k=_(8519),f=S("%WeakMap%",!0),O=x("WeakMap.prototype.get",!0),E=x("WeakMap.prototype.set",!0),P=x("WeakMap.prototype.has",!0),R=x("WeakMap.prototype.delete",!0);Z.exports=f?function(){var N,I,T={assert:function(ie){if(!T.has(ie))throw new k("Side channel does not contain "+L(ie))},delete:function(ie){if(f&&ie&&("object"==typeof ie||"function"==typeof ie)){if(N)return R(N,ie)}else if(z&&I)return I.delete(ie);return!1},get:function(ie){return f&&ie&&("object"==typeof ie||"function"==typeof ie)&&N?O(N,ie):I&&I.get(ie)},has:function(ie){return f&&ie&&("object"==typeof ie||"function"==typeof ie)&&N?P(N,ie):!!I&&I.has(ie)},set:function(ie,ce){f&&ie&&("object"==typeof ie||"function"==typeof ie)?(N||(N=new f),E(N,ie,ce)):z&&(I||(I=z()),I.set(ie,ce))}};return T}:z},814:Z=>{"use strict";Z.exports=Function.prototype.apply},840:(Z,we,_)=>{"use strict";var S=_(2521),x=_(2282),L=x([S("%String.prototype.indexOf%")]);Z.exports=function(k,f){var O=S(k,!!f);return"function"==typeof O&&L(k,".prototype.")>-1?x([O]):O}},863:(Z,we,_)=>{"use strict";var S=_(3687),x=_(8519),L=function(E,P,R){for(var N,H=E;null!=(N=H.next);H=N)if(N.key===P)return H.next=N.next,R||(N.next=E.next,E.next=N),N};Z.exports=function(){var P,R={assert:function(H){if(!R.has(H))throw new x("Side channel does not contain "+S(H))},delete:function(H){var N=P&&P.next,I=function(E,P){if(E)return L(E,P,!0)}(P,H);return I&&N&&N===I&&(P=void 0),!!I},get:function(H){return function(E,P){if(E){var R=L(E,P);return R&&R.value}}(P,H)},has:function(H){return function(E,P){return!!E&&!!L(E,P)}(P,H)},set:function(H,N){P||(P={next:void 0}),function(E,P,R){var H=L(E,P);H?H.value=R:E.next={key:P,next:E.next,value:R}}(P,H,N)}};return R}},1051:function(Z,we){var _,x;void 0!==(x="function"==typeof(_=function(){"use strict";var L=Object.prototype.hasOwnProperty,z=Object.prototype.toString,k="boolean"==typeof(new RegExp).sticky;function f(j){return j&&"[object RegExp]"===z.call(j)}function O(j){return j&&"object"==typeof j&&!f(j)&&!Array.isArray(j)}function P(j){return new RegExp("|"+j).exec("").length-1}function R(j){return"("+j+")"}function H(j){return j.length?"(?:"+j.map(function(Ue){return"(?:"+Ue+")"}).join("|")+")":"(?!)"}function N(j){if("string"==typeof j)return"(?:"+function E(j){return j.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(j)+")";if(f(j)){if(j.ignoreCase)throw new Error("RegExp /i flag not allowed");if(j.global)throw new Error("RegExp /g flag is implied");if(j.sticky)throw new Error("RegExp /y flag is implied");if(j.multiline)throw new Error("RegExp /m flag is implied");return j.source}throw new Error("Not a pattern: "+j)}function I(j,K){return j.length>K?j:Array(K-j.length+1).join(" ")+j}function Ce(j,K){if(O(K)||(K={match:K}),K.include)throw new Error("Matching rules cannot also include states");var Ue={defaultType:j,lineBreaks:!!K.error||!!K.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var G in K)L.call(K,G)&&(Ue[G]=K[G]);if("string"==typeof Ue.type&&j!==Ue.type)throw new Error("Type transform cannot be a string (type '"+Ue.type+"' for token '"+j+"')");var ne=Ue.match;return Ue.match=Array.isArray(ne)?ne:ne?[ne]:[],Ue.match.sort(function(se,ye){return f(se)&&f(ye)?0:f(ye)?-1:f(se)?1:ye.length-se.length}),Ue}function X(j){return Array.isArray(j)?function ce(j){for(var K=[],Ue=0;Ue<j.length;Ue++){var G=j[Ue];if(G.include)for(var ne=[].concat(G.include),se=0;se<ne.length;se++)K.push({include:ne[se]});else{if(!G.type)throw new Error("Rule has no type: "+JSON.stringify(G));K.push(Ce(G.type,G))}}return K}(j):function ie(j){for(var K=Object.getOwnPropertyNames(j),Ue=[],G=0;G<K.length;G++){var ne=K[G],ye=[].concat(j[ne]);if("include"!==ne){var Le=[];ye.forEach(function(Se){O(Se)?(Le.length&&Ue.push(Ce(ne,Le)),Ue.push(Ce(ne,Se)),Le=[]):Le.push(Se)}),Le.length&&Ue.push(Ce(ne,Le))}else for(var Ne=0;Ne<ye.length;Ne++)Ue.push({include:ye[Ne]})}return Ue}(j)}var W=Ce("error",{lineBreaks:!0,shouldThrow:!0});function Y(j,K){for(var Ue=null,G=Object.create(null),ne=!0,se=null,ye=[],Ne=[],Le=0;Le<j.length;Le++)j[Le].fallback&&(ne=!1);for(Le=0;Le<j.length;Le++){var Se=j[Le];if(Se.include)throw new Error("Inheritance is not allowed in stateless lexers");if(Se.error||Se.fallback){if(Ue)throw!Se.fallback==!Ue.fallback?new Error("Multiple "+(Se.fallback?"fallback":"error")+" rules not allowed (for token '"+Se.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+Se.defaultType+"')");Ue=Se}var et=Se.match.slice();if(ne)for(;et.length&&"string"==typeof et[0]&&1===et[0].length;)G[et.shift().charCodeAt(0)]=Se;if(Se.pop||Se.push||Se.next){if(!K)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+Se.defaultType+"')");if(Se.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+Se.defaultType+"')")}if(0!==et.length){ne=!1,ye.push(Se);for(var Te=0;Te<et.length;Te++){var ze=et[Te];if(f(ze))if(null===se)se=ze.unicode;else if(se!==ze.unicode&&!1===Se.fallback)throw new Error("If one rule is /u then all must be")}var gt=H(et.map(N)),ft=new RegExp(gt);if(ft.test(""))throw new Error("RegExp matches empty string: "+ft);if(P(gt)>0)throw new Error("RegExp has capture groups: "+ft+"\nUse (?: \u2026 ) instead");if(!Se.lineBreaks&&ft.test("\n"))throw new Error("Rule should declare lineBreaks: "+ft);Ne.push(R(gt))}}var ot=Ue&&Ue.fallback,Et=k&&!ot?"ym":"gm",Ke=k||ot?"":"|";return!0===se&&(Et+="u"),{regexp:new RegExp(H(Ne)+Ke,Et),groups:ye,fast:G,error:Ue||W}}function Ie(j,K,Ue){var G=j&&(j.push||j.next);if(G&&!Ue[G])throw new Error("Missing state '"+G+"' (in token '"+j.defaultType+"' of state '"+K+"')");if(j&&j.pop&&1!=+j.pop)throw new Error("pop must be 1 (in token '"+j.defaultType+"' of state '"+K+"')")}var Ee=function(j,K){this.startState=K,this.states=j,this.buffer="",this.stack=[],this.reset()};Ee.prototype.reset=function(j,K){return this.buffer=j||"",this.index=0,this.line=K?K.line:1,this.col=K?K.col:1,this.queuedToken=K?K.queuedToken:null,this.queuedText=K?K.queuedText:"",this.queuedThrow=K?K.queuedThrow:null,this.setState(K?K.state:this.startState),this.stack=K&&K.stack?K.stack.slice():[],this},Ee.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},Ee.prototype.setState=function(j){if(j&&this.state!==j){this.state=j;var K=this.states[j];this.groups=K.groups,this.error=K.error,this.re=K.regexp,this.fast=K.fast}},Ee.prototype.popState=function(){this.setState(this.stack.pop())},Ee.prototype.pushState=function(j){this.stack.push(this.state),this.setState(j)};var ve=k?function(j,K){return j.exec(K)}:function(j,K){var Ue=j.exec(K);return 0===Ue[0].length?null:Ue};function ue(){return this.value}if(Ee.prototype._getGroup=function(j){for(var K=this.groups.length,Ue=0;Ue<K;Ue++)if(void 0!==j[Ue+1])return this.groups[Ue];throw new Error("Cannot find token type for matched text")},Ee.prototype.next=function(){var j=this.index;if(this.queuedGroup){var K=this._token(this.queuedGroup,this.queuedText,j);return this.queuedGroup=null,this.queuedText="",K}var Ue=this.buffer;if(j!==Ue.length){if(ye=this.fast[Ue.charCodeAt(j)])return this._token(ye,Ue.charAt(j),j);var G=this.re;G.lastIndex=j;var ne=ve(G,Ue),se=this.error;if(null==ne)return this._token(se,Ue.slice(j,Ue.length),j);var ye=this._getGroup(ne),Ne=ne[0];return se.fallback&&ne.index!==j?(this.queuedGroup=ye,this.queuedText=Ne,this._token(se,Ue.slice(j,ne.index),j)):this._token(ye,Ne,j)}},Ee.prototype._token=function(j,K,Ue){var G=0;if(j.lineBreaks){var ne=/\n/g,se=1;if("\n"===K)G=1;else for(;ne.exec(K);)G++,se=ne.lastIndex}var ye={type:"function"==typeof j.type&&j.type(K)||j.defaultType,value:"function"==typeof j.value?j.value(K):K,text:K,toString:ue,offset:Ue,lineBreaks:G,line:this.line,col:this.col},Ne=K.length;if(this.index+=Ne,this.line+=G,0!==G?this.col=Ne-se+1:this.col+=Ne,j.shouldThrow)throw new Error(this.formatError(ye,"invalid syntax"));return j.pop?this.popState():j.push?this.pushState(j.push):j.next&&this.setState(j.next),ye},typeof Symbol<"u"&&Symbol.iterator){var De=function(j){this.lexer=j};De.prototype.next=function(){var j=this.lexer.next();return{value:j,done:!j}},De.prototype[Symbol.iterator]=function(){return this},Ee.prototype[Symbol.iterator]=function(){return new De(this)}}return Ee.prototype.formatError=function(j,K){if(null==j){var Ue=this.buffer.slice(this.index);j={text:Ue,offset:this.index,lineBreaks:-1===Ue.indexOf("\n")?0:1,line:this.line,col:this.col}}var ne=Math.max(j.line-2,1),ye=String(j.line+2).length,Ne=function T(j,K){for(var Ue=j.length,G=0;;){var ne=j.lastIndexOf("\n",Ue-1);if(-1===ne||(Ue=ne,++G===K)||0===Ue)break}return j.substring(G<K?0:Ue+1).split("\n")}(this.buffer,this.line-j.line+2+1).slice(0,5),Le=[];Le.push(K+" at line "+j.line+" col "+j.col+":"),Le.push("");for(var Se=0;Se<Ne.length;Se++){var et=Ne[Se],St=ne+Se;Le.push(I(String(St),ye)+"  "+et),St===j.line&&Le.push(I("",ye+j.col+1)+"^")}return Le.join("\n")},Ee.prototype.clone=function(){return new Ee(this.states,this.state)},Ee.prototype.has=function(j){return!0},{compile:function me(j){var K=Y(X(j));return new Ee({start:K},"start")},states:function Xe(j,K){var Ue=j.$all?X(j.$all):[];delete j.$all;var G=Object.getOwnPropertyNames(j);K||(K=G[0]);for(var ne=Object.create(null),se=0;se<G.length;se++)ne[ye=G[se]]=X(j[ye]).concat(Ue);for(se=0;se<G.length;se++)for(var Ne=ne[ye=G[se]],Le=Object.create(null),Se=0;Se<Ne.length;Se++){var et=Ne[Se];if(et.include){var St=[Se,1];if(et.include!==ye&&!Le[et.include]){Le[et.include]=!0;var Te=ne[et.include];if(!Te)throw new Error("Cannot include nonexistent state '"+et.include+"' (in state '"+ye+"')");for(var ze=0;ze<Te.length;ze++){var gt=Te[ze];-1===Ne.indexOf(gt)&&St.push(gt)}}Ne.splice.apply(Ne,St),Se--}}var ft=Object.create(null);for(se=0;se<G.length;se++){var ye;ft[ye=G[se]]=Y(ne[ye],!0)}for(se=0;se<G.length;se++){var bt=G[se],ot=ft[bt],Et=ot.groups;for(Se=0;Se<Et.length;Se++)Ie(Et[Se],bt,ft);var Ke=Object.getOwnPropertyNames(ot.fast);for(Se=0;Se<Ke.length;Se++)Ie(ot.fast[Ke[Se]],bt,ft)}return new Ee(ft,K)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function te(j){for(var K=typeof Map<"u",Ue=K?new Map:Object.create(null),G=Object.getOwnPropertyNames(j),ne=0;ne<G.length;ne++){var se=G[ne],ye=j[se];(Array.isArray(ye)?ye:[ye]).forEach(function(Le){if("string"!=typeof Le)throw new Error("keyword must be string (in keyword '"+se+"')");K?Ue.set(Le,se):Ue[Le]=se})}return function(Le){return K?Ue.get(Le):Ue[Le]}}}})?_.apply(we,[]):_)&&(Z.exports=x)},1123:Z=>{"use strict";Z.exports=Error},1143:(Z,we,_)=>{"use strict";var S=_(6330),x=_(8519),L=Object;Z.exports=S(function(){if(null==this||this!==L(this))throw new x("RegExp.prototype.flags getter called on non-object");var k="";return this.hasIndices&&(k+="d"),this.global&&(k+="g"),this.ignoreCase&&(k+="i"),this.multiline&&(k+="m"),this.dotAll&&(k+="s"),this.unicode&&(k+="u"),this.unicodeSets&&(k+="v"),this.sticky&&(k+="y"),k},"get flags",!0)},1197:(Z,we,_)=>{"use strict";var S=_(1963),x=_(4880),L=_(8519),z=_(9263);Z.exports=function(f,O,E){if(!f||"object"!=typeof f&&"function"!=typeof f)throw new L("`obj` must be an object or a function`");if("string"!=typeof O&&"symbol"!=typeof O)throw new L("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new L("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new L("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new L("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new L("`loose`, if provided, must be a boolean");var P=arguments.length>3?arguments[3]:null,R=arguments.length>4?arguments[4]:null,H=arguments.length>5?arguments[5]:null,N=arguments.length>6&&arguments[6],I=!!z&&z(f,O);if(S)S(f,O,{configurable:null===H&&I?I.configurable:!H,enumerable:null===P&&I?I.enumerable:!P,value:E,writable:null===R&&I?I.writable:!R});else{if(!N&&(P||R||H))throw new x("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");f[O]=E}}},1393:(Z,we,_)=>{"use strict";_.r(we),_.d(we,{mdTransitionAnimation:()=>f});var S=_(7133),x=_(6780);_(9335),_(575),_(6721);const f=(O,E)=>{var P,R,H;const N="40px",T="back"===E.direction,ce=E.leavingEl,Ce=(0,x.g)(E.enteringEl),X=Ce.querySelector("ion-toolbar"),W=(0,S.c)();if(W.addElement(Ce).fill("both").beforeRemoveClass("ion-page-invisible"),T?W.duration((null!==(P=E.duration)&&void 0!==P?P:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):W.duration((null!==(R=E.duration)&&void 0!==R?R:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${N})`,"translateY(0px)").fromTo("opacity",.01,1),X){const Y=(0,S.c)();Y.addElement(X),W.addAnimation(Y)}if(ce&&T){W.duration((null!==(H=E.duration)&&void 0!==H?H:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,S.c)();Y.addElement((0,x.g)(ce)).onFinish(me=>{1===me&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${N})`).fromTo("opacity",1,0),W.addAnimation(Y)}return W}},1459:(Z,we,_)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,x=_(6497);Z.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&x()}},1516:Z=>{"use strict";Z.exports=Math.pow},1568:(Z,we,_)=>{"use strict";var S=_(3996),x=_(9364),L=_(8580);Z.exports=S?function(k){return S(k)}:x?function(k){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new TypeError("getProto: not an object");return x(k)}:L?function(k){return L(k)}:null},1890:(Z,we,_)=>{"use strict";function S(L,z,k,f,O,E,P){try{var R=L[E](P),H=R.value}catch(N){return void k(N)}R.done?z(H):Promise.resolve(H).then(f,O)}function x(L){return function(){var z=this,k=arguments;return new Promise(function(f,O){var E=L.apply(z,k);function P(H){S(E,f,O,P,R,"next",H)}function R(H){S(E,f,O,P,R,"throw",H)}P(void 0)})}}_.d(we,{A:()=>x})},1963:Z=>{"use strict";var we=Object.defineProperty||!1;if(we)try{we({},"a",{value:1})}catch{we=!1}Z.exports=we},2090:(Z,we,_)=>{"use strict";var x=_(840)("SharedArrayBuffer.prototype.byteLength",!0);Z.exports=x?function(z){if(!z||"object"!=typeof z)return!1;try{return x(z),!0}catch{return!1}}:function(z){return!1}},2136:Z=>{"use strict";Z.exports=Math.max},2179:(Z,we,_)=>{"use strict";var S=_(3889),x=_(5492)(),L=_(8519),z={assert:function(k,f){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");if(x.assert(k),!z.has(k,f))throw new L("`"+f+"` is not present on `O`")},get:function(k,f){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var O=x.get(k);return O&&O["$"+f]},has:function(k,f){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var O=x.get(k);return!!O&&S(O,"$"+f)},set:function(k,f,O){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var E=x.get(k);E||x.set(k,E={}),E["$"+f]=O}};Object.freeze&&Object.freeze(z),Z.exports=z},2219:(Z,we,_)=>{"use strict";var x=_(840)("ArrayBuffer.prototype.byteLength",!0),L=_(3066);Z.exports=function(k){return L(k)?x?x(k):k.byteLength:NaN}},2282:(Z,we,_)=>{"use strict";var S=_(7707),x=_(8519),L=_(7648),z=_(5124);Z.exports=function(f){if(f.length<1||"function"!=typeof f[0])throw new x("a function is required");return z(S,L,f)}},2375:(Z,we,_)=>{"use strict";var S=_(2521),x=_(840),L=_(3687),z=_(8519),k=S("%Map%",!0),f=x("Map.prototype.get",!0),O=x("Map.prototype.set",!0),E=x("Map.prototype.has",!0),P=x("Map.prototype.delete",!0),R=x("Map.prototype.size",!0);Z.exports=!!k&&function(){var N,I={assert:function(T){if(!I.has(T))throw new z("Side channel does not contain "+L(T))},delete:function(T){if(N){var ie=P(N,T);return 0===R(N)&&(N=void 0),ie}return!1},get:function(T){if(N)return f(N,T)},has:function(T){return!!N&&E(N,T)},set:function(T,ie){N||(N=new k),O(N,T,ie)}};return I}},2490:Z=>{function we(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}Z.exports=function(S){return null!=S&&(we(S)||function _(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&we(S.slice(0,0))}(S)||!!S._isBuffer)}},2521:(Z,we,_)=>{"use strict";var S,x=_(7888),L=_(1123),z=_(2905),k=_(7718),f=_(3286),O=_(4880),E=_(8519),P=_(2781),R=_(7598),H=_(3116),N=_(2136),I=_(3462),T=_(1516),ie=_(5714),ce=_(497),Ce=Function,X=function(ot){try{return Ce('"use strict"; return ('+ot+").constructor;")()}catch{}},W=_(9263),Y=_(1963),me=function(){throw new E},Ie=W?function(){try{return me}catch{try{return W(arguments,"callee").get}catch{return me}}}():me,Xe=_(1459)(),te=_(1568),Ee=_(9364),ve=_(3996),ue=_(814),De=_(7648),j={},K=typeof Uint8Array>"u"||!te?S:te(Uint8Array),Ue={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":Xe&&te?te([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":L,"%eval%":eval,"%EvalError%":z,"%Float16Array%":typeof Float16Array>"u"?S:Float16Array,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":Ce,"%GeneratorFunction%":j,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xe&&te?te(te([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xe||!te?S:te((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":x,"%Object.getOwnPropertyDescriptor%":W,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":k,"%ReferenceError%":f,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xe||!te?S:te((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xe&&te?te(""[Symbol.iterator]()):S,"%Symbol%":Xe?Symbol:S,"%SyntaxError%":O,"%ThrowTypeError%":Ie,"%TypedArray%":K,"%TypeError%":E,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":P,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet,"%Function.prototype.call%":De,"%Function.prototype.apply%":ue,"%Object.defineProperty%":Y,"%Object.getPrototypeOf%":Ee,"%Math.abs%":R,"%Math.floor%":H,"%Math.max%":N,"%Math.min%":I,"%Math.pow%":T,"%Math.round%":ie,"%Math.sign%":ce,"%Reflect.getPrototypeOf%":ve};if(te)try{null.error}catch(ot){var G=te(te(ot));Ue["%Error.prototype%"]=G}var ne=function ot(Et){var Ke;if("%AsyncFunction%"===Et)Ke=X("async function () {}");else if("%GeneratorFunction%"===Et)Ke=X("function* () {}");else if("%AsyncGeneratorFunction%"===Et)Ke=X("async function* () {}");else if("%AsyncGenerator%"===Et){var yt=ot("%AsyncGeneratorFunction%");yt&&(Ke=yt.prototype)}else if("%AsyncIteratorPrototype%"===Et){var Ot=ot("%AsyncGenerator%");Ot&&te&&(Ke=te(Ot.prototype))}return Ue[Et]=Ke,Ke},se={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ye=_(7707),Ne=_(3889),Le=ye.call(De,Array.prototype.concat),Se=ye.call(ue,Array.prototype.splice),et=ye.call(De,String.prototype.replace),St=ye.call(De,String.prototype.slice),Te=ye.call(De,RegExp.prototype.exec),ze=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,gt=/\\(\\)?/g,bt=function(Et,Ke){var Ot,yt=Et;if(Ne(se,yt)&&(yt="%"+(Ot=se[yt])[0]+"%"),Ne(Ue,yt)){var yn=Ue[yt];if(yn===j&&(yn=ne(yt)),typeof yn>"u"&&!Ke)throw new E("intrinsic "+Et+" exists, but is not available. Please file an issue!");return{alias:Ot,name:yt,value:yn}}throw new O("intrinsic "+Et+" does not exist!")};Z.exports=function(Et,Ke){if("string"!=typeof Et||0===Et.length)throw new E("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ke)throw new E('"allowMissing" argument must be a boolean');if(null===Te(/^%?[^%]*%?$/,Et))throw new O("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var yt=function(Et){var Ke=St(Et,0,1),yt=St(Et,-1);if("%"===Ke&&"%"!==yt)throw new O("invalid intrinsic syntax, expected closing `%`");if("%"===yt&&"%"!==Ke)throw new O("invalid intrinsic syntax, expected opening `%`");var Ot=[];return et(Et,ze,function(yn,_n,Zt,xt){Ot[Ot.length]=Zt?et(xt,gt,"$1"):_n||yn}),Ot}(Et),Ot=yt.length>0?yt[0]:"",yn=bt("%"+Ot+"%",Ke),_n=yn.name,Zt=yn.value,xt=!1,Ye=yn.alias;Ye&&(Ot=Ye[0],Se(yt,Le([0,1],Ye)));for(var Oe=1,We=!0;Oe<yt.length;Oe+=1){var ct=yt[Oe],Qt=St(ct,0,1),fn=St(ct,-1);if(('"'===Qt||"'"===Qt||"`"===Qt||'"'===fn||"'"===fn||"`"===fn)&&Qt!==fn)throw new O("property names with quotes must have matching quotes");if(("constructor"===ct||!We)&&(xt=!0),Ne(Ue,_n="%"+(Ot+="."+ct)+"%"))Zt=Ue[_n];else if(null!=Zt){if(!(ct in Zt)){if(!Ke)throw new E("base intrinsic for "+Et+" exists, but the property is not available.");return}if(W&&Oe+1>=yt.length){var En=W(Zt,ct);Zt=(We=!!En)&&"get"in En&&!("originalValue"in En.get)?En.get:Zt[ct]}else We=Ne(Zt,ct),Zt=Zt[ct];We&&!xt&&(Ue[_n]=Zt)}}return Zt}},2634:()=>{},2781:Z=>{"use strict";Z.exports=URIError},2905:Z=>{"use strict";Z.exports=EvalError},2922:(Z,we,_)=>{var L,S=_(5e3).default,x=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(z={}){var f=z,O="object"==typeof window,E=typeof WorkerGlobalScope<"u",H=("object"==typeof process&&process.versions?.node&&process,"./this.program"),N=(g,B)=>{throw B};E&&(L=self.location.href);var ie,ce,I="";if(O||E){try{I=new URL(".",L).href}catch{}E&&(ce=g=>{var B=new XMLHttpRequest;return B.open("GET",g,!1),B.responseType="arraybuffer",B.send(null),new Uint8Array(B.response)}),ie=function(){var g=S(function*(B){var be=yield fetch(B,{credentials:"same-origin"});if(be.ok)return be.arrayBuffer();throw new Error(be.status+" : "+be.url)});return function(be){return g.apply(this,arguments)}}()}var W,me,Ce=console.log.bind(console),X=console.error.bind(console),Y=!1;function Ie(g,B){g||Ke(B)}function te(){if(!Y){var g=rr();0==g&&(g+=4);var B=ne[g>>2],be=ne[g+4>>2];(34821223!=B||2310721022!=be)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${Lr(g)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Lr(be)} ${Lr(B)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Ee,ve,ue,De,j,G,ne,Ne,Se=!1;function et(){var g=ue.buffer;De=new Int8Array(g),new Int16Array(g),f.HEAPU8=j=new Uint8Array(g),new Uint16Array(g),G=new Int32Array(g),f.HEAPU32=ne=new Uint32Array(g),new Float32Array(g),new Float64Array(g),Ne=new BigInt64Array(g),new BigUint64Array(g)}var yt,ft=0,bt=null;function Ke(g){f.onAbort?.(g),X(g="Aborted("+g+")"),Y=!0,g+=". Build with -sASSERTIONS for more info.";var B=new WebAssembly.RuntimeError(g);throw ve?.(B),B}function Zt(){return(Zt=S(function*(g){if(!W)try{var B=yield ie(g);return new Uint8Array(B)}catch{}return function yn(g){if(g==yt&&W)return new Uint8Array(W);if(ce)return ce(g);throw"both async and sync fetching of the wasm failed"}(g)})).apply(this,arguments)}function Ye(){return Ye=S(function*(g,B){try{var be=yield function _n(g){return Zt.apply(this,arguments)}(g);return yield WebAssembly.instantiate(be,B)}catch(qt){X(`failed to asynchronously prepare wasm: ${qt}`),Ke(qt)}}),Ye.apply(this,arguments)}function We(){return We=S(function*(g,B,be){if(!g&&"function"==typeof WebAssembly.instantiateStreaming)try{var st=fetch(B,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(st,be)}catch(Sn){X(`wasm streaming compile failed: ${Sn}`),X("falling back to ArrayBuffer instantiation")}return function xt(g,B){return Ye.apply(this,arguments)}(B,be)}),We.apply(this,arguments)}function fn(){return fn=S(function*(){function g(Sn,jn){return ue=(Ct=Sn.exports).s,et(),ls=Ct.Sa,function Rn(g){f._main=aa=g.u,f._webidl_free=g.v,f._webidl_malloc=g.w,f._emscripten_bind_VoidPtr___destroy___0=Mi=g.x,f._emscripten_bind_FileEntry_GetName_0=us=g.y,f._emscripten_bind_FileEntry_IsDirectory_0=Fs=g.z,f._emscripten_bind_FileEntry_GetSize_0=rt=g.A,f._emscripten_bind_FileEntry_GetModifiedTS_0=Ls=g.B,f._emscripten_bind_FileEntry_GetAttributes_0=ji=g.C,f._emscripten_bind_FileEntry___destroy___0=xi=g.D,f._emscripten_bind_Vfs_Vfs_0=Go=g.E,f._emscripten_bind_Vfs_Malloc_1=la=g.F,f._emscripten_bind_Vfs_Free_1=ds=g.G,f._emscripten_bind_Vfs_Nullptr_0=$s=g.H,f._emscripten_bind_Vfs_AllocateImage_1=zo=g.I,f._emscripten_bind_Vfs_MountImage_1=fs=g.J,f._emscripten_bind_Vfs_UnmountImage_1=fi=g.K,f._emscripten_bind_Vfs_SwitchSlot_1=ps=g.L,f._emscripten_bind_Vfs_GetPendingImageSize_0=hs=g.M,f._emscripten_bind_Vfs_GetSize_1=Vi=g.N,f._emscripten_bind_Vfs_GetPendingImage_0=io=g.O,f._emscripten_bind_Vfs_GetImage_1=pi=g.P,f._emscripten_bind_Vfs_GetDirtyPages_1=Ui=g.Q,f._emscripten_bind_Vfs_RenameFile_2=Hi=g.R,f._emscripten_bind_Vfs_ChmodFile_3=Bs=g.S,f._emscripten_bind_Vfs_StatFile_1=gs=g.T,f._emscripten_bind_Vfs_UnlinkFile_1=ti=g.U,f._emscripten_bind_Vfs_Mkdir_1=Wo=g.V,f._emscripten_bind_Vfs_GetEntry_0=hi=g.W,f._emscripten_bind_Vfs_BytesFree_1=Wt=g.X,f._emscripten_bind_Vfs_BytesTotal_1=un=g.Y,f._emscripten_bind_Vfs_ReadFile_1=ca=g.Z,f._emscripten_bind_Vfs_GetCurrentFileSize_0=js=g._,f._emscripten_bind_Vfs_GetCurrentFileContent_0=go=g.$,f._emscripten_bind_Vfs_ReleaseCurrentFile_0=ms=g.aa,f._emscripten_bind_Vfs_WriteFile_3=ki=g.ba,f._emscripten_bind_Vfs___destroy___0=Gi=g.ca,f._emscripten_bind_ReaddirContext_ReaddirContext_1=vs=g.da,f._emscripten_bind_ReaddirContext_Next_0=Oa=g.ea,f._emscripten_bind_ReaddirContext_GetEntry_0=Vs=g.fa,f._emscripten_bind_ReaddirContext_GetStatus_0=ys=g.ga,f._emscripten_bind_ReaddirContext_GetError_0=ua=g.ha,f._emscripten_bind_ReaddirContext_GetErrorDescription_0=Us=g.ia,f._emscripten_bind_ReaddirContext___destroy___0=Hs=g.ja,f._emscripten_bind_ExportZipContext_ExportZipContext_2=da=g.ka,f._emscripten_bind_ExportZipContext_AddFile_1=Gs=g.la,f._emscripten_bind_ExportZipContext_AddDirectory_1=mo=g.ma,f._emscripten_bind_ExportZipContext_Continue_0=zs=g.na,f._emscripten_bind_ExportZipContext_GetState_0=Xr=g.oa,f._emscripten_bind_ExportZipContext_GetZipContent_0=zi=g.pa,f._emscripten_bind_ExportZipContext_GetZipSize_0=fa=g.qa,f._emscripten_bind_ExportZipContext_GetErrorItem_0=Pa=g.ra,f._emscripten_bind_ExportZipContext___destroy___0=ko=g.sa,f._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=_s=g.ta,f._emscripten_bind_DeleteRecursiveContext_AddFile_1=pa=g.ua,f._emscripten_bind_DeleteRecursiveContext_Continue_0=Ws=g.va,f._emscripten_bind_DeleteRecursiveContext_GetState_0=oe=g.wa,f._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=qs=g.xa,f._emscripten_bind_DeleteRecursiveContext___destroy___0=$e=g.ya,f._emscripten_bind_UnzipContext_UnzipContext_4=ni=g.za,f._emscripten_bind_UnzipContext_GetState_0=ha=g.Aa,f._emscripten_bind_UnzipContext_Continue_0=bs=g.Ba,f._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=Ri=g.Ca,f._emscripten_bind_UnzipContext_GetCurrentEntry_0=il=g.Da,f._emscripten_bind_UnzipContext_GetCollisionPath_0=p=g.Ea,f._emscripten_bind_UnzipContext_GetEntriesTotal_0=m=g.Fa,f._emscripten_bind_UnzipContext_GetEntriesSuccess_0=w=g.Ga,f._emscripten_bind_UnzipContext___destroy___0=A=g.Ha,f._emscripten_bind_PasteContext_PasteContext_3=ee=g.Ia,f._emscripten_bind_PasteContext_AddFile_1=J=g.Ja,f._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=He=g.Ka,f._emscripten_bind_PasteContext_GetState_0=he=g.La,f._emscripten_bind_PasteContext_Continue_0=Ze=g.Ma,f._emscripten_bind_PasteContext_ContinueWithOverwrite_0=_e=g.Na,f._emscripten_bind_PasteContext_GetCurrentEntry_0=je=g.Oa,f._emscripten_bind_PasteContext_GetCollisionPath_0=dt=g.Pa,f._emscripten_bind_PasteContext_GetEntriesSuccess_0=ut=g.Qa,f._emscripten_bind_PasteContext___destroy___0=Tt=g.Ra,pt=g.Ta,At=g.Ua,rr=g.Va,Kt=g.Wa,f.___original_main=g.Xa}(Ct),function Et(){if(ft--,f.monitorRunDependencies?.(ft),0==ft&&bt){var B=bt;bt=null,B()}}(),Ct}!function ot(){ft++,f.monitorRunDependencies?.(ft)}();var be=function ct(){return{a:an}}();if(f.instantiateWasm)return new Promise((Sn,jn)=>{f.instantiateWasm(be,(Nn,Pr)=>{Sn(g(Nn))})});yt??=function Ot(){return function T(g){return f.locateFile?f.locateFile(g,I):I+g}("vfs_web.wasm")}();var st=yield function Oe(g,B,be){return We.apply(this,arguments)}(W,yt,be);return function B(Sn){return g(Sn.instance)}(st)}),fn.apply(this,arguments)}class En{name="ExitStatus";constructor(B){this.message=`Program terminated with exit(${B})`,this.status=B}}var ls,Ho,aa,Mi,us,Fs,rt,Ls,ji,xi,Go,la,ds,$s,zo,fs,fi,ps,hs,Vi,io,pi,Ui,Hi,Bs,gs,ti,Wo,hi,Wt,un,ca,js,go,ms,ki,Gi,vs,Oa,Vs,ys,ua,Us,Hs,da,Gs,mo,zs,Xr,zi,fa,Pa,ko,_s,pa,Ws,oe,qs,$e,ni,ha,bs,Ri,il,p,m,w,A,ee,J,He,he,Ze,_e,je,dt,ut,Tt,pt,At,rr,Kt,on=g=>{for(;g.length>0;)g.shift()(f)},vn=[],nr=g=>vn.push(g),cr=[],Zr=g=>cr.push(g),po=!0,Lr=g=>"0x"+(g>>>=0).toString(16).padStart(8,"0"),Mo=typeof TextDecoder<"u"?new TextDecoder:void 0,Yr=(g,B=0,be=NaN)=>{for(var st=B+be,qt=B;g[qt]&&!(qt>=st);)++qt;if(qt-B>16&&g.buffer&&Mo)return Mo.decode(g.subarray(B,qt));for(var Sn="";B<qt;){var jn=g[B++];if(128&jn){var Nn=63&g[B++];if(192!=(224&jn)){var Pr=63&g[B++];if((jn=224==(240&jn)?(15&jn)<<12|Nn<<6|Pr:(7&jn)<<18|Nn<<12|Pr<<6|63&g[B++])<65536)Sn+=String.fromCharCode(jn);else{var Fa=jn-65536;Sn+=String.fromCharCode(55296|Fa>>10,56320|1023&Fa)}}else Sn+=String.fromCharCode((31&jn)<<6|Nn)}else Sn+=String.fromCharCode(jn)}return Sn},sn=(g,B)=>g?Yr(j,g,B):"",Yt=g=>g<-9007199254740992||g>9007199254740992?NaN:Number(g),Jt=0,yr=[0,31,60,91,121,152,182,213,244,274,305,335],ro=[0,31,59,90,120,151,181,212,243,273,304,334],Kr=g=>((g=>g%4==0&&(g%100!=0||g%400==0))(g.getFullYear())?yr:ro)[g.getMonth()]+g.getDate()-1,Cn={},ho=g=>{if(g instanceof En||"unwind"==g)return me;te(),g instanceof WebAssembly.RuntimeError&&Kt()<=0&&X("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),N(0,g)},Jo=()=>po||Jt>0,co=g=>{me=g,Jo()||(f.onExit?.(g),Y=!0),N(0,new En(g))},Bo=(g,B)=>{me=g,co(g)},On=Bo,di=()=>performance.now(),Fe=(g,B,be,st)=>{if(!(st>0))return 0;for(var qt=be,Sn=be+st-1,jn=0;jn<g.length;++jn){var Nn=g.codePointAt(jn);if(Nn<=127){if(be>=Sn)break;B[be++]=Nn}else if(Nn<=2047){if(be+1>=Sn)break;B[be++]=192|Nn>>6,B[be++]=128|63&Nn}else if(Nn<=65535){if(be+2>=Sn)break;B[be++]=224|Nn>>12,B[be++]=128|Nn>>6&63,B[be++]=128|63&Nn}else{if(be+3>=Sn)break;B[be++]=240|Nn>>18,B[be++]=128|Nn>>12&63,B[be++]=128|Nn>>6&63,B[be++]=128|63&Nn,jn++}}return B[be]=0,be-qt},ir=(g,B,be)=>Fe(g,j,B,be),Bn=()=>Date.now(),Nr=(g,B)=>Math.ceil(g/B)*B,Ai=g=>{var be=(g-ue.buffer.byteLength+65535)/65536|0;try{return ue.grow(be),et(),1}catch{}},Ps={},jt=()=>{if(!jt.strings){var B={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:H||"./this.program"};for(var be in Ps)void 0===Ps[be]?delete B[be]:B[be]=Ps[be];var st=[];for(var be in B)st.push(`${be}=${B[be]}`);jt.strings=st}return jt.strings},xe=g=>{for(var B=0,be=0;be<g.length;++be){var st=g.charCodeAt(be);st<=127?B++:st<=2047?B+=2:st>=55296&&st<=57343?(B+=4,++be):B+=3}return B},Vo=[null,[],[]],Uo=(g,B)=>{var be=Vo[g];0===B||10===B?((1===g?Ce:X)(Yr(be)),be.length=0):be.push(B)},ka=[],as=(g,B)=>{g<128?B.push(g):B.push(g%128|128,g>>7)},Pt=[],fc=g=>{var B=Pt[g];return B||(Pt[g]=B=ls.get(g)),B},Je=[],Fn=(g,B)=>{ls.set(g,B),Pt[g]=ls.get(g)};f.noExitRuntime&&(po=f.noExitRuntime),f.print&&(Ce=f.print),f.printErr&&(X=f.printErr),f.wasmBinary&&(W=f.wasmBinary),f.thisProgram&&(H=f.thisProgram),f.addFunction=(g,B)=>{var be=(g=>(Ho||(Ho=new WeakMap,((g,B)=>{if(Ho)for(var be=0;be<0+B;be++){var st=fc(be);st&&Ho.set(st,be)}})(0,ls.length)),Ho.get(g)||0))(g);if(be)return be;var st=(()=>{if(Je.length)return Je.pop();try{ls.grow(1)}catch(g){throw g instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":g}return ls.length-1})();try{Fn(st,g)}catch(Sn){if(!(Sn instanceof TypeError))throw Sn;var qt=((g,B)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((g=>{for(var B={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},be={parameters:[],results:"v"==g[0]?[]:[B[g[0]]]},st=1;st<g.length;++st)be.parameters.push(B[g[st]]);return be})(B),g);var be=[1];((g,B)=>{var be=g.slice(0,1),st=g.slice(1),qt={i:127,p:127,j:126,f:125,d:124,e:111};for(var Sn of(B.push(96),as(st.length,B),st))B.push(qt[Sn]);"v"==be?B.push(0):B.push(1,qt[be])})(B,be);var st=[0,97,115,109,1,0,0,0,1];as(be.length,st),st.push(...be),st.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var qt=new WebAssembly.Module(new Uint8Array(st));return new WebAssembly.Instance(qt,{e:{f:g}}).exports.f})(g,B);Fn(st,qt)}return Ho.set(g,st),st},f.UTF8ToString=sn;var an={a:(g,B,be,st)=>Ke(`Assertion failed: ${sn(g)}, at: `+[B?sn(B):"unknown filename",be,st?sn(st):"unknown function"]),e:function Vn(g,B){B=Yt(B)},r:()=>Ke(""),k:()=>{po=!1,Jt=0},q:function Eo(g,B){g=Yt(g);var be=new Date(1e3*g);G[B>>2]=be.getSeconds(),G[B+4>>2]=be.getMinutes(),G[B+8>>2]=be.getHours(),G[B+12>>2]=be.getDate(),G[B+16>>2]=be.getMonth(),G[B+20>>2]=be.getFullYear()-1900,G[B+24>>2]=be.getDay();var st=0|Kr(be);G[B+28>>2]=st,G[B+36>>2]=-60*be.getTimezoneOffset();var qt=new Date(be.getFullYear(),0,1),Sn=new Date(be.getFullYear(),6,1).getTimezoneOffset(),jn=qt.getTimezoneOffset(),Nn=0|(Sn!=jn&&be.getTimezoneOffset()==Math.min(jn,Sn));G[B+32>>2]=Nn},b:function(g){var B=(()=>{var be=new Date(G[g+20>>2]+1900,G[g+16>>2],G[g+12>>2],G[g+8>>2],G[g+4>>2],G[g>>2],0),st=G[g+32>>2],qt=be.getTimezoneOffset(),Sn=new Date(be.getFullYear(),0,1),jn=new Date(be.getFullYear(),6,1).getTimezoneOffset(),Nn=Sn.getTimezoneOffset(),Pr=Math.min(Nn,jn);if(st<0)G[g+32>>2]=+(jn!=Nn&&Pr==qt);else if(st>0!=(Pr==qt)){var Fa=Math.max(Nn,jn),Tl=st>0?Pr:Fa;be.setTime(be.getTime()+6e4*(Tl-qt))}G[g+24>>2]=be.getDay();var Al=0|Kr(be);G[g+28>>2]=Al,G[g>>2]=be.getSeconds(),G[g+4>>2]=be.getMinutes(),G[g+8>>2]=be.getHours(),G[g+12>>2]=be.getDate(),G[g+16>>2]=be.getMonth(),G[g+20>>2]=be.getYear();var ga=be.getTime();return isNaN(ga)?-1:ga/1e3})();return BigInt(B)},l:(g,B)=>{if(Cn[g]&&(clearTimeout(Cn[g].id),delete Cn[g]),!B)return 0;var be=setTimeout(()=>{delete Cn[g],(g=>{if(!Y)try{g(),(()=>{if(!Jo())try{On(me)}catch(g){ho(g)}})()}catch(B){ho(B)}})(()=>pt(g,di()))},B);return Cn[g]={id:be,timeout_ms:B},0},c:(g,B,be,st)=>{var qt=(new Date).getFullYear(),Sn=new Date(qt,0,1),jn=new Date(qt,6,1),Nn=Sn.getTimezoneOffset(),Pr=jn.getTimezoneOffset(),Fa=Math.max(Nn,Pr);ne[g>>2]=60*Fa,G[B>>2]=+(Nn!=Pr);var Tl=Ro=>{var pc=Ro>=0?"-":"+",Ku=Math.abs(Ro);return`UTC${pc}${String(Math.floor(Ku/60)).padStart(2,"0")}${String(Ku%60).padStart(2,"0")}`},Al=Tl(Nn),ga=Tl(Pr);Pr<Nn?(ir(Al,be,17),ir(ga,st,17)):(ir(Al,st,17),ir(ga,be,17))},o:function hn(g,B,be){if(B=Yt(B),!(g=>g>=0&&g<=3)(g))return 28;var st;st=0===g?Bn():di();var qt=Math.round(1e3*st*1e3);return Ne[be>>3]=BigInt(qt),0},i:Bn,p:g=>{var B=j.length,be=2147483648;if((g>>>=0)>be)return!1;for(var st=1;st<=4;st*=2){var qt=B*(1+.2/st);qt=Math.min(qt,g+100663296);var Sn=Math.min(be,Nr(Math.max(g,qt),65536));if(Ai(Sn))return!0}return!1},m:(g,B)=>{var be=0,st=0;for(var qt of jt()){var Sn=B+be;ne[g+st>>2]=Sn,be+=ir(qt,Sn,1/0)+1,st+=4}return 0},n:(g,B)=>{var be=jt();ne[g>>2]=be.length;var st=0;for(var qt of be)st+=xe(qt)+1;return ne[B>>2]=st,0},f:g=>52,h:(g,B,be,st)=>52,d:function Xn(g,B,be,st){return B=Yt(B),70},g:(g,B,be,st)=>{for(var qt=0,Sn=0;Sn<be;Sn++){var jn=ne[B>>2],Nn=ne[B+4>>2];B+=8;for(var Pr=0;Pr<Nn;Pr++)Uo(g,j[jn+Pr]);qt+=Nn}return ne[st>>2]=qt,0},j:co},Ct=yield function Qt(){return fn.apply(this,arguments)}();function $(){}function ae(g){return(g||$).__cache__}function Be(g,B){var be=ae(B),st=be[g];return st||((st=Object.create((B||$).prototype)).ptr=g,be[g]=st)}(function b(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function An(){function g(){f.calledRun=!0,Y||(function Te(){Se=!0,te(),on(ka),Ct.t()}(),function ze(){te()}(),Ee?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function Ln(){var g=aa;try{var st=g(0,0);return Bo(st),st}catch(qt){return ho(qt)}}(),function gt(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)nr(f.postRun.shift());on(vn)}())}ft>0?bt=An:(function pn(){At(),function Xe(){var g=rr();0==g&&(g+=4),ne[g>>2]=34821223,ne[g+4>>2]=2310721022,ne[0]=1668509029}()}(),function St(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)Zr(f.preRun.shift());on(cr)}(),ft>0?bt=An:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),g()},1)):g(),te()))}(),($.prototype=Object.create($.prototype)).constructor=$,$.prototype.__class__=$,$.__cache__={},f.WrapperObject=$,f.getCache=ae,f.wrapPointer=Be,f.castObject=function Rt(g,B){return Be(g.ptr,B)},f.NULL=Be(0),f.destroy=function rn(g){if(!g.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";g.__destroy__(),delete ae(g.__class__)[g.ptr]},f.compare=function gn(g,B){return g.ptr===B.ptr},f.getPointer=function $n(g){return g.ptr},f.getClass=function Vr(g){return g.__class__};var dn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(dn.needed){for(var g=0;g<dn.temps.length;g++)f._webidl_free(dn.temps[g]);dn.temps.length=0,f._webidl_free(dn.buffer),dn.buffer=0,dn.size+=dn.needed,dn.needed=0}dn.buffer||(dn.size+=128,dn.buffer=f._webidl_malloc(dn.size),Ie(dn.buffer)),dn.pos=0},alloc(g,B){Ie(dn.buffer);var qt,st=g.length*B.BYTES_PER_ELEMENT;return st=Nr(st,8),dn.pos+st>=dn.size?(Ie(st>0),dn.needed+=st,qt=f._webidl_malloc(st),dn.temps.push(qt)):(qt=dn.buffer+dn.pos,dn.pos+=st),qt},copy(g,B,be){be/=B.BYTES_PER_ELEMENT;for(var st=0;st<g.length;st++)B[be+st]=g[st]}};function Cr(g){if("string"==typeof g){var B=(g=>{var st=xe(g)+1,qt=new Array(st);Fe(g,qt,0,qt.length);return qt})(g),be=dn.alloc(B,De);return dn.copy(B,De,be),be}return g}function Or(){throw"cannot construct a VoidPtr, no constructor in IDL"}function sr(){throw"cannot construct a FileEntry, no constructor in IDL"}function Mt(){this.ptr=Go(),ae(Mt)[this.ptr]=this}function Ir(g){dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),this.ptr=vs(g),ae(Ir)[this.ptr]=this}function Wn(g,B){dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),B&&"object"==typeof B&&(B=B.ptr),this.ptr=da(g,B),ae(Wn)[this.ptr]=this}function Sr(g){g&&"object"==typeof g&&(g=g.ptr),this.ptr=_s(g),ae(Sr)[this.ptr]=this}function ar(g,B,be,st){dn.prepare(),g&&"object"==typeof g&&(g=g.ptr),B=B&&"object"==typeof B?B.ptr:Cr(B),be&&"object"==typeof be&&(be=be.ptr),st&&"object"==typeof st&&(st=st.ptr),this.ptr=ni(g,B,be,st),ae(ar)[this.ptr]=this}function Qn(g,B,be){dn.prepare(),g&&"object"==typeof g&&(g=g.ptr),B=B&&"object"==typeof B?B.ptr:Cr(B),be=be&&"object"==typeof be?be.ptr:Cr(be),this.ptr=ee(g,B,be),ae(Qn)[this.ptr]=this}return(Or.prototype=Object.create($.prototype)).constructor=Or,Or.prototype.__class__=Or,Or.__cache__={},f.VoidPtr=Or,Or.prototype.__destroy__=Or.prototype.__destroy__=function(){Mi(this.ptr)},(sr.prototype=Object.create($.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},f.FileEntry=sr,sr.prototype.GetName=sr.prototype.GetName=function(){return sn(us(this.ptr))},sr.prototype.IsDirectory=sr.prototype.IsDirectory=function(){return!!Fs(this.ptr)},sr.prototype.GetSize=sr.prototype.GetSize=function(){return rt(this.ptr)},sr.prototype.GetModifiedTS=sr.prototype.GetModifiedTS=function(){return Ls(this.ptr)},sr.prototype.GetAttributes=sr.prototype.GetAttributes=function(){return ji(this.ptr)},sr.prototype.__destroy__=sr.prototype.__destroy__=function(){xi(this.ptr)},(Mt.prototype=Object.create($.prototype)).constructor=Mt,Mt.prototype.__class__=Mt,Mt.__cache__={},f.Vfs=Mt,Mt.prototype.Malloc=Mt.prototype.Malloc=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(la(this.ptr,g),Or)},Mt.prototype.Free=Mt.prototype.Free=function(g){g&&"object"==typeof g&&(g=g.ptr),ds(this.ptr,g)},Mt.prototype.Nullptr=Mt.prototype.Nullptr=function(){return Be($s(this.ptr),Or)},Mt.prototype.AllocateImage=Mt.prototype.AllocateImage=function(g){g&&"object"==typeof g&&(g=g.ptr),zo(this.ptr,g)},Mt.prototype.MountImage=Mt.prototype.MountImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),!!fs(this.ptr,g)},Mt.prototype.UnmountImage=Mt.prototype.UnmountImage=function(g){g&&"object"==typeof g&&(g=g.ptr),fi(this.ptr,g)},Mt.prototype.SwitchSlot=Mt.prototype.SwitchSlot=function(g){g&&"object"==typeof g&&(g=g.ptr),ps(this.ptr,g)},Mt.prototype.GetPendingImageSize=Mt.prototype.GetPendingImageSize=function(){return hs(this.ptr)},Mt.prototype.GetSize=Mt.prototype.GetSize=function(g){return g&&"object"==typeof g&&(g=g.ptr),Vi(this.ptr,g)},Mt.prototype.GetPendingImage=Mt.prototype.GetPendingImage=function(){return Be(io(this.ptr),Or)},Mt.prototype.GetImage=Mt.prototype.GetImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(pi(this.ptr,g),Or)},Mt.prototype.GetDirtyPages=Mt.prototype.GetDirtyPages=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(Ui(this.ptr,g),Or)},Mt.prototype.RenameFile=Mt.prototype.RenameFile=function(g,B){var be=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),B=B&&"object"==typeof B?B.ptr:Cr(B),Hi(be,g,B)},Mt.prototype.ChmodFile=Mt.prototype.ChmodFile=function(g,B,be){var st=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),B&&"object"==typeof B&&(B=B.ptr),be&&"object"==typeof be&&(be=be.ptr),Bs(st,g,B,be)},Mt.prototype.StatFile=Mt.prototype.StatFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),gs(B,g)},Mt.prototype.UnlinkFile=Mt.prototype.UnlinkFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),ti(B,g)},Mt.prototype.Mkdir=Mt.prototype.Mkdir=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),Wo(B,g)},Mt.prototype.GetEntry=Mt.prototype.GetEntry=function(){return Be(hi(this.ptr),sr)},Mt.prototype.BytesFree=Mt.prototype.BytesFree=function(g){return g&&"object"==typeof g&&(g=g.ptr),Wt(this.ptr,g)},Mt.prototype.BytesTotal=Mt.prototype.BytesTotal=function(g){return g&&"object"==typeof g&&(g=g.ptr),un(this.ptr,g)},Mt.prototype.ReadFile=Mt.prototype.ReadFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),!!ca(B,g)},Mt.prototype.GetCurrentFileSize=Mt.prototype.GetCurrentFileSize=function(){return js(this.ptr)},Mt.prototype.GetCurrentFileContent=Mt.prototype.GetCurrentFileContent=function(){return Be(go(this.ptr),Or)},Mt.prototype.ReleaseCurrentFile=Mt.prototype.ReleaseCurrentFile=function(){ms(this.ptr)},Mt.prototype.WriteFile=Mt.prototype.WriteFile=function(g,B,be){var st=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),B&&"object"==typeof B&&(B=B.ptr),be&&"object"==typeof be&&(be=be.ptr),ki(st,g,B,be)},Mt.prototype.__destroy__=Mt.prototype.__destroy__=function(){Gi(this.ptr)},(Ir.prototype=Object.create($.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},f.ReaddirContext=Ir,Ir.prototype.Next=Ir.prototype.Next=function(){return Oa(this.ptr)},Ir.prototype.GetEntry=Ir.prototype.GetEntry=function(){return Be(Vs(this.ptr),sr)},Ir.prototype.GetStatus=Ir.prototype.GetStatus=function(){return ys(this.ptr)},Ir.prototype.GetError=Ir.prototype.GetError=function(){return ua(this.ptr)},Ir.prototype.GetErrorDescription=Ir.prototype.GetErrorDescription=function(){return sn(Us(this.ptr))},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){Hs(this.ptr)},(Wn.prototype=Object.create($.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},f.ExportZipContext=Wn,Wn.prototype.AddFile=Wn.prototype.AddFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),Be(Gs(B,g),Wn)},Wn.prototype.AddDirectory=Wn.prototype.AddDirectory=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),Be(mo(B,g),Wn)},Wn.prototype.Continue=Wn.prototype.Continue=function(){return zs(this.ptr)},Wn.prototype.GetState=Wn.prototype.GetState=function(){return Xr(this.ptr)},Wn.prototype.GetZipContent=Wn.prototype.GetZipContent=function(){return Be(zi(this.ptr),Or)},Wn.prototype.GetZipSize=Wn.prototype.GetZipSize=function(){return fa(this.ptr)},Wn.prototype.GetErrorItem=Wn.prototype.GetErrorItem=function(){return sn(Pa(this.ptr))},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){ko(this.ptr)},(Sr.prototype=Object.create($.prototype)).constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},f.DeleteRecursiveContext=Sr,Sr.prototype.AddFile=Sr.prototype.AddFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),Be(pa(B,g),Sr)},Sr.prototype.Continue=Sr.prototype.Continue=function(){return Ws(this.ptr)},Sr.prototype.GetState=Sr.prototype.GetState=function(){return oe(this.ptr)},Sr.prototype.GetFailingPath=Sr.prototype.GetFailingPath=function(){return sn(qs(this.ptr))},Sr.prototype.__destroy__=Sr.prototype.__destroy__=function(){$e(this.ptr)},(ar.prototype=Object.create($.prototype)).constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},f.UnzipContext=ar,ar.prototype.GetState=ar.prototype.GetState=function(){return ha(this.ptr)},ar.prototype.Continue=ar.prototype.Continue=function(){return bs(this.ptr)},ar.prototype.ContinueWithOverwrite=ar.prototype.ContinueWithOverwrite=function(){return Ri(this.ptr)},ar.prototype.GetCurrentEntry=ar.prototype.GetCurrentEntry=function(){return sn(il(this.ptr))},ar.prototype.GetCollisionPath=ar.prototype.GetCollisionPath=function(){return sn(p(this.ptr))},ar.prototype.GetEntriesTotal=ar.prototype.GetEntriesTotal=function(){return m(this.ptr)},ar.prototype.GetEntriesSuccess=ar.prototype.GetEntriesSuccess=function(){return w(this.ptr)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){A(this.ptr)},(Qn.prototype=Object.create($.prototype)).constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},f.PasteContext=Qn,Qn.prototype.AddFile=Qn.prototype.AddFile=function(g){var B=this.ptr;return dn.prepare(),g=g&&"object"==typeof g?g.ptr:Cr(g),Be(J(B,g),Qn)},Qn.prototype.SetDeleteAfterCopy=Qn.prototype.SetDeleteAfterCopy=function(g){return g&&"object"==typeof g&&(g=g.ptr),Be(He(this.ptr,g),Qn)},Qn.prototype.GetState=Qn.prototype.GetState=function(){return he(this.ptr)},Qn.prototype.Continue=Qn.prototype.Continue=function(){return Ze(this.ptr)},Qn.prototype.ContinueWithOverwrite=Qn.prototype.ContinueWithOverwrite=function(){return _e(this.ptr)},Qn.prototype.GetCurrentEntry=Qn.prototype.GetCurrentEntry=function(){return sn(je(this.ptr))},Qn.prototype.GetCollisionPath=Qn.prototype.GetCollisionPath=function(){return sn(dt(this.ptr))},Qn.prototype.GetEntriesSuccess=Qn.prototype.GetEntriesSuccess=function(){return ut(this.ptr)},Qn.prototype.__destroy__=Qn.prototype.__destroy__=function(){Tt(this.ptr)},Se?f:new Promise((g,B)=>{Ee=g,ve=B})}));Z.exports=x,Z.exports.default=x},3016:(Z,we,_)=>{"use strict";var S=_(840),x=S("Object.prototype.toString"),L=_(1459)(),z=_(7653);if(L){var k=S("Symbol.prototype.toString"),f=z(/^Symbol\(.*\)$/);Z.exports=function(P){if("symbol"==typeof P)return!0;if(!P||"object"!=typeof P||"[object Symbol]"!==x(P))return!1;try{return function(P){return"symbol"==typeof P.valueOf()&&f(k(P))}(P)}catch{return!1}}}else Z.exports=function(P){return!1}},3028:(Z,we,_)=>{"use strict";var S=_(5979),x=_(7308),L=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,z=/[\n\r\t]/g,k=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f=/:\d+$/,O=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,E=/^[a-zA-Z]:/;function P(W){return(W||"").toString().replace(L,"")}var R=[["#","hash"],["?","query"],function(Y,me){return I(me.protocol)?Y.replace(/\\/g,"/"):Y},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],H={hash:1,query:1};function N(W){var Y;Y=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var te,Ie={},Xe=typeof(W=W||Y.location||{});if("blob:"===W.protocol)Ie=new ce(unescape(W.pathname),{});else if("string"===Xe)for(te in Ie=new ce(W,{}),H)delete Ie[te];else if("object"===Xe){for(te in W)te in H||(Ie[te]=W[te]);void 0===Ie.slashes&&(Ie.slashes=k.test(W.href))}return Ie}function I(W){return"file:"===W||"ftp:"===W||"http:"===W||"https:"===W||"ws:"===W||"wss:"===W}function T(W,Y){W=(W=P(W)).replace(z,""),Y=Y||{};var ve,me=O.exec(W),Ie=me[1]?me[1].toLowerCase():"",Xe=!!me[2],te=!!me[3],Ee=0;return Xe?te?(ve=me[2]+me[3]+me[4],Ee=me[2].length+me[3].length):(ve=me[2]+me[4],Ee=me[2].length):te?(ve=me[3]+me[4],Ee=me[3].length):ve=me[4],"file:"===Ie?Ee>=2&&(ve=ve.slice(2)):I(Ie)?ve=me[4]:Ie?Xe&&(ve=ve.slice(2)):Ee>=2&&I(Y.protocol)&&(ve=me[4]),{protocol:Ie,slashes:Xe||I(Ie),slashesCount:Ee,rest:ve}}function ce(W,Y,me){if(W=(W=P(W)).replace(z,""),!(this instanceof ce))return new ce(W,Y,me);var Ie,Xe,te,Ee,ve,ue,De=R.slice(),j=typeof Y,K=this,Ue=0;for("object"!==j&&"string"!==j&&(me=Y,Y=null),me&&"function"!=typeof me&&(me=x.parse),Ie=!(Xe=T(W||"",Y=N(Y))).protocol&&!Xe.slashes,K.slashes=Xe.slashes||Ie&&Y.slashes,K.protocol=Xe.protocol||Y.protocol||"",W=Xe.rest,("file:"===Xe.protocol&&(2!==Xe.slashesCount||E.test(W))||!Xe.slashes&&(Xe.protocol||Xe.slashesCount<2||!I(K.protocol)))&&(De[3]=[/(.*)/,"pathname"]);Ue<De.length;Ue++)"function"!=typeof(Ee=De[Ue])?(ue=Ee[1],(te=Ee[0])!=te?K[ue]=W:"string"==typeof te?~(ve="@"===te?W.lastIndexOf(te):W.indexOf(te))&&("number"==typeof Ee[2]?(K[ue]=W.slice(0,ve),W=W.slice(ve+Ee[2])):(K[ue]=W.slice(ve),W=W.slice(0,ve))):(ve=te.exec(W))&&(K[ue]=ve[1],W=W.slice(0,ve.index)),K[ue]=K[ue]||Ie&&Ee[3]&&Y[ue]||"",Ee[4]&&(K[ue]=K[ue].toLowerCase())):W=Ee(W,K);me&&(K.query=me(K.query)),Ie&&Y.slashes&&"/"!==K.pathname.charAt(0)&&(""!==K.pathname||""!==Y.pathname)&&(K.pathname=function ie(W,Y){if(""===W)return Y;for(var me=(Y||"/").split("/").slice(0,-1).concat(W.split("/")),Ie=me.length,Xe=me[Ie-1],te=!1,Ee=0;Ie--;)"."===me[Ie]?me.splice(Ie,1):".."===me[Ie]?(me.splice(Ie,1),Ee++):Ee&&(0===Ie&&(te=!0),me.splice(Ie,1),Ee--);return te&&me.unshift(""),("."===Xe||".."===Xe)&&me.push(""),me.join("/")}(K.pathname,Y.pathname)),"/"!==K.pathname.charAt(0)&&I(K.protocol)&&(K.pathname="/"+K.pathname),S(K.port,K.protocol)||(K.host=K.hostname,K.port=""),K.username=K.password="",K.auth&&(~(ve=K.auth.indexOf(":"))?(K.username=K.auth.slice(0,ve),K.username=encodeURIComponent(decodeURIComponent(K.username)),K.password=K.auth.slice(ve+1),K.password=encodeURIComponent(decodeURIComponent(K.password))):K.username=encodeURIComponent(decodeURIComponent(K.auth)),K.auth=K.password?K.username+":"+K.password:K.username),K.origin="file:"!==K.protocol&&I(K.protocol)&&K.host?K.protocol+"//"+K.host:"null",K.href=K.toString()}ce.prototype={set:function Ce(W,Y,me){var Ie=this;switch(W){case"query":"string"==typeof Y&&Y.length&&(Y=(me||x.parse)(Y)),Ie[W]=Y;break;case"port":Ie[W]=Y,S(Y,Ie.protocol)?Y&&(Ie.host=Ie.hostname+":"+Y):(Ie.host=Ie.hostname,Ie[W]="");break;case"hostname":Ie[W]=Y,Ie.port&&(Y+=":"+Ie.port),Ie.host=Y;break;case"host":Ie[W]=Y,f.test(Y)?(Y=Y.split(":"),Ie.port=Y.pop(),Ie.hostname=Y.join(":")):(Ie.hostname=Y,Ie.port="");break;case"protocol":Ie.protocol=Y.toLowerCase(),Ie.slashes=!me;break;case"pathname":case"hash":if(Y){var Xe="pathname"===W?"/":"#";Ie[W]=Y.charAt(0)!==Xe?Xe+Y:Y}else Ie[W]=Y;break;case"username":case"password":Ie[W]=encodeURIComponent(Y);break;case"auth":var te=Y.indexOf(":");~te?(Ie.username=Y.slice(0,te),Ie.username=encodeURIComponent(decodeURIComponent(Ie.username)),Ie.password=Y.slice(te+1),Ie.password=encodeURIComponent(decodeURIComponent(Ie.password))):Ie.username=encodeURIComponent(decodeURIComponent(Y))}for(var Ee=0;Ee<R.length;Ee++){var ve=R[Ee];ve[4]&&(Ie[ve[1]]=Ie[ve[1]].toLowerCase())}return Ie.auth=Ie.password?Ie.username+":"+Ie.password:Ie.username,Ie.origin="file:"!==Ie.protocol&&I(Ie.protocol)&&Ie.host?Ie.protocol+"//"+Ie.host:"null",Ie.href=Ie.toString(),Ie},toString:function X(W){(!W||"function"!=typeof W)&&(W=x.stringify);var Y,me=this,Ie=me.host,Xe=me.protocol;Xe&&":"!==Xe.charAt(Xe.length-1)&&(Xe+=":");var te=Xe+(me.protocol&&me.slashes||I(me.protocol)?"//":"");return me.username?(te+=me.username,me.password&&(te+=":"+me.password),te+="@"):me.password?(te+=":"+me.password,te+="@"):"file:"!==me.protocol&&I(me.protocol)&&!Ie&&"/"!==me.pathname&&(te+="@"),(":"===Ie[Ie.length-1]||f.test(me.hostname)&&!me.port)&&(Ie+=":"),te+=Ie+me.pathname,(Y="object"==typeof me.query?W(me.query):me.query)&&(te+="?"!==Y.charAt(0)?"?"+Y:Y),me.hash&&(te+=me.hash),te}},ce.extractProtocol=T,ce.location=N,ce.trimLeft=P,ce.qs=x,Z.exports=ce},3066:(Z,we,_)=>{"use strict";var S=_(6283),x=_(840),z=_(2521)("%ArrayBuffer%",!0),k=x("ArrayBuffer.prototype.byteLength",!0),f=x("Object.prototype.toString"),O=!!z&&!k&&new z(0).slice,E=!!O&&S(O);Z.exports=k||E?function(R){if(!R||"object"!=typeof R)return!1;try{return k?k(R):E(R,0),!0}catch{return!1}}:z?function(R){return"[object ArrayBuffer]"===f(R)}:function(R){return!1}},3112:(Z,we,_)=>{"use strict";_.d(we,{L:()=>x,a:()=>L,b:()=>z,c:()=>k,d:()=>f,g:()=>Ue}),_(5886);const x="ionViewWillEnter",L="ionViewDidEnter",z="ionViewWillLeave",k="ionViewDidLeave",f="ionViewWillUnload",Ue=G=>G.classList.contains("ion-page")?G:G.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||G},3116:Z=>{"use strict";Z.exports=Math.floor},3286:Z=>{"use strict";Z.exports=ReferenceError},3460:(Z,we,_)=>{"use strict";_.d(we,{E:()=>H,I:()=>E,a:()=>x,s:()=>P});var S=_(9335);const x=N=>{try{if(N instanceof E)return N.value;if(!k()||"string"!=typeof N||""===N)return N;if(N.includes("onload="))return"";const I=document.createDocumentFragment(),T=document.createElement("div");I.appendChild(T),T.innerHTML=N,O.forEach(X=>{const W=I.querySelectorAll(X);for(let Y=W.length-1;Y>=0;Y--){const me=W[Y];me.parentNode?me.parentNode.removeChild(me):I.removeChild(me);const Ie=z(me);for(let Xe=0;Xe<Ie.length;Xe++)L(Ie[Xe])}});const ie=z(I);for(let X=0;X<ie.length;X++)L(ie[X]);const ce=document.createElement("div");ce.appendChild(I);const Ce=ce.querySelector("div");return null!==Ce?Ce.innerHTML:ce.innerHTML}catch(I){return(0,S.j)("sanitizeDOMString",I),""}},L=N=>{if(N.nodeType&&1!==N.nodeType)return;if(typeof NamedNodeMap<"u"&&!(N.attributes instanceof NamedNodeMap))return void N.remove();for(let T=N.attributes.length-1;T>=0;T--){const ie=N.attributes.item(T),ce=ie.name;if(!f.includes(ce.toLowerCase())){N.removeAttribute(ce);continue}const Ce=ie.value,X=N[ce];(null!=Ce&&Ce.toLowerCase().includes("javascript:")||null!=X&&X.toLowerCase().includes("javascript:"))&&N.removeAttribute(ce)}const I=z(N);for(let T=0;T<I.length;T++)L(I[T])},z=N=>null!=N.children?N.children:N.childNodes,k=()=>{var N;const I=window,T=null===(N=I?.Ionic)||void 0===N?void 0:N.config;return!T||(T.get?T.get("sanitizerEnabled",!0):!0===T.sanitizerEnabled||void 0===T.sanitizerEnabled)},f=["class","id","href","src","name","slot"],O=["script","style","iframe","meta","link","object","embed"];class E{constructor(I){this.value=I}}const P=N=>{const I=window,T=I.Ionic;if(!T||!T.config||"Object"===T.config.constructor.name)return I.Ionic=I.Ionic||{},I.Ionic.config=Object.assign(Object.assign({},I.Ionic.config),N),I.Ionic.config},H=!1},3462:Z=>{"use strict";Z.exports=Math.min},3463:(Z,we,_)=>{"use strict";var S=_(2521),x=_(6283),L=x(S("String.prototype.indexOf"));Z.exports=function(k,f){var O=S(k,!!f);return"function"==typeof O&&L(k,".prototype.")>-1?x(O):O}},3515:(Z,we,_)=>{"use strict";let S;function x(){return S}function L(e){const t=S;return S=e,t}const k=Symbol("NotFound");function O(e){return e===k||"\u0275NotFound"===e?.name}function E(e,t){return Object.is(e,t)}Error;let P=null,R=!1,H=1;const I=Symbol("SIGNAL");function T(e){const t=P;return P=e,t}const X={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function W(e){if(R)throw new Error("");if(null===P)return;P.consumerOnSignalRead(e);const t=P.producersTail;if(void 0!==t&&t.producer===e)return;let n;const r=P.recomputing;if(r&&(n=void 0!==t?t.nextProducer:P.producers,void 0!==n&&n.producer===e))return P.producersTail=n,void(n.lastReadVersion=e.version);const o=e.consumersTail;if(void 0!==o&&o.consumer===P&&(!r||function ye(e,t){const n=t.producersTail;if(void 0!==n){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(o,P)))return;const i=G(P),s={producer:e,consumer:P,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};P.producersTail=s,void 0!==t?t.nextProducer=s:P.producers=s,i&&K(e,s)}function me(e){if((!G(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==H)){if(!e.producerMustRecompute(e)&&!De(e))return void Ee(e);e.producerRecomputeValue(e),Ee(e)}}function Ie(e){if(void 0===e.consumers)return;const t=R;R=!0;try{for(let n=e.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||te(r)}}finally{R=t}}function Xe(){return!1!==P?.consumerAllowSignalWrites}function te(e){e.dirty=!0,Ie(e),e.consumerMarkedDirty?.(e)}function Ee(e){e.dirty=!1,e.lastCleanEpoch=H}function ve(e){return e&&(e.producersTail=void 0,e.recomputing=!0),T(e)}function ue(e,t){if(T(t),!e)return;e.recomputing=!1;const n=e.producersTail;let r=void 0!==n?n.nextProducer:e.producers;if(void 0!==r){if(G(e))do{r=Ue(r)}while(void 0!==r);void 0!==n?n.nextProducer=void 0:e.producers=void 0}}function De(e){for(let t=e.producers;void 0!==t;t=t.nextProducer){const n=t.producer,r=t.lastReadVersion;if(r!==n.version||(me(n),r!==n.version))return!0}return!1}function j(e){if(G(e)){let t=e.producers;for(;void 0!==t;)t=Ue(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function K(e,t){const n=e.consumersTail,r=G(e);if(void 0!==n?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;void 0!==o;o=o.nextProducer)K(o.producer,o)}function Ue(e){const t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==r?r.prevConsumer=o:t.consumersTail=o,void 0!==o)o.nextConsumer=r;else if(t.consumers=r,!G(t)){let i=t.producers;for(;void 0!==i;)i=Ue(i)}return n}function G(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}const Le=Symbol("UNSET"),Se=Symbol("COMPUTING"),et=Symbol("ERRORED"),St={...X,value:Le,dirty:!0,error:null,equal:E,kind:"computed",producerMustRecompute:e=>e.value===Le||e.value===Se,producerRecomputeValue(e){if(e.value===Se)throw new Error("");const t=e.value;e.value=Se;const n=ve(e);let r,o=!1;try{r=e.computation(),T(null),o=t!==Le&&t!==et&&r!==et&&e.equal(t,r)}catch(i){r=et,e.error=i}finally{ue(e,n)}o?e.value=t:(e.value=r,e.version++)}};let ze=function Te(){throw new Error};function gt(e){ze(e)}function ot(e,t){const n=Object.create(_n);n.value=e,void 0!==t&&(n.equal=t);const r=()=>function Ke(e){return W(e),e.value}(n);return r[I]=n,[r,s=>yt(n,s),s=>function Ot(e,t){Xe()||gt(e),yt(e,t(e.value))}(n,s)]}function yt(e,t){Xe()||gt(e),e.equal(e.value,t)||(e.value=t,function Zt(e){e.version++,function Y(){H++}(),Ie(e)}(e))}const _n={...X,equal:E,value:void 0,kind:"signal"};function xt(e){return"function"==typeof e}function Ye(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Oe=Ye(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function We(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class ct{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(xt(r))try{r()}catch(i){t=i instanceof Oe?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{En(i)}catch(s){t=t??[],s instanceof Oe?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Oe(t)}}add(t){var n;if(t&&t!==this)if(this.closed)En(t);else{if(t instanceof ct){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&We(n,t)}remove(t){const{_finalizers:n}=this;n&&We(n,t),t instanceof ct&&t._removeParent(this)}}ct.EMPTY=(()=>{const e=new ct;return e.closed=!0,e})();const Qt=ct.EMPTY;function fn(e){return e instanceof ct||e&&"closed"in e&&xt(e.remove)&&xt(e.add)&&xt(e.unsubscribe)}function En(e){xt(e)?e():e.unsubscribe()}const on={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vn={setTimeout(e,t,...n){const{delegate:r}=vn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=vn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function nr(e){vn.setTimeout(()=>{const{onUnhandledError:t}=on;if(!t)throw e;t(e)})}function cr(){}const Zr=Mo("C",void 0,void 0);function Mo(e,t,n){return{kind:e,value:t,error:n}}let Yr=null;function sn(e){if(on.useDeprecatedSynchronousErrorHandling){const t=!Yr;if(t&&(Yr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Yr;if(Yr=null,n)throw r}}else e()}class Ae extends ct{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fn(t)&&t.add(this)):this.destination=yr}static create(t,n,r){return new bn(t,n,r)}next(t){this.isStopped?$r(function Lr(e){return Mo("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$r(function po(e){return Mo("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$r(Zr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Yt(e,t){return Pe.call(e,t)}class Vn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Jt(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Jt(r)}else Jt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Jt(n)}}}class bn extends Ae{constructor(t,n,r){let o;if(super(),xt(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&on.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Yt(t.next,i),error:t.error&&Yt(t.error,i),complete:t.complete&&Yt(t.complete,i)}):o=t}this.destination=new Vn(o)}}function Jt(e){on.useDeprecatedSynchronousErrorHandling?function Qo(e){on.useDeprecatedSynchronousErrorHandling&&Yr&&(Yr.errorThrown=!0,Yr.error=e)}(e):nr(e)}function $r(e,t){const{onStoppedNotification:n}=on;n&&vn.setTimeout(()=>n(e,t))}const yr={closed:!0,next:cr,error:function lo(e){throw e},complete:cr},ro="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kr(e){return e}function _r(e){return 0===e.length?Kr:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Cn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function co(e){return e&&e instanceof Ae||function Jo(e){return e&&xt(e.next)&&xt(e.error)&&xt(e.complete)}(e)&&fn(e)}(n)?n:new bn(n,r,o);return sn(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ho(r))((o,i)=>{const s=new bn({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ro](){return this}pipe(...n){return _r(n)(this)}toPromise(n){return new(n=ho(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function ho(e){var t;return null!==(t=e??on.Promise)&&void 0!==t?t:Promise}const Bo=Ye(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let On=(()=>{class e extends Cn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new xo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Bo}next(n){sn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){sn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){sn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Qt:(this.currentObservers=null,i.push(n),new ct(()=>{this.currentObservers=null,We(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new Cn;return n.source=this,n}}return e.create=(t,n)=>new xo(t,n),e})();class xo extends On{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Qt}}class br extends On{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const jo="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Fe extends Error{code;constructor(t,n){super(Br(t,n)),this.code=t}}function Br(e,t){return`${function ir(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const Bn=globalThis;function hn(e){for(let t in e)if(e[t]===hn)return t;throw Error("")}function ei(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Nr(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Nr).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function Ai(e,t){return e?t?`${e} ${t}`:e:t||""}const Ps=hn({__forward_ref__:hn});function Pn(e){return e.__forward_ref__=Pn,e.toString=function(){return Nr(this())},e}function jt(e){return pr(e)?e():e}function pr(e){return"function"==typeof e&&e.hasOwnProperty(Ps)&&e.__forward_ref__===Pn}function Je(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Fn(e){return{providers:e.providers||[],imports:e.imports||[]}}function cs(e){return function Il(e,t){return e.hasOwnProperty(t)&&e[t]||null}(e,us)}function Mi(e){return e&&e.hasOwnProperty(Fs)?e[Fs]:null}const us=hn({\u0275prov:hn}),Fs=hn({\u0275inj:hn});class rt{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Je({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function pi(e){return e&&!!e.\u0275providers}const Ui=hn({\u0275cmp:hn}),Hi=hn({\u0275dir:hn}),Bs=hn({\u0275pipe:hn}),gs=hn({\u0275mod:hn}),ti=hn({\u0275fac:hn}),Wo=hn({__NG_ELEMENT_ID__:hn}),hi=hn({__NG_ENV_ID__:hn});function Wt(e){return"string"==typeof e?e:null==e?"":String(e)}const go=hn({ngErrorCode:hn}),ms=hn({ngErrorMessage:hn}),ki=hn({ngTokenPath:hn});function Gi(e,t){return Hs("",-200,t)}function ys(e,t){throw new Fe(-201,!1)}function Hs(e,t,n){const r=new Fe(t,e);return r[go]=t,r[ms]=e,n&&(r[ki]=n),r}let mo;function zs(){return mo}function Xr(e){const t=mo;return mo=e,t}function zi(e,t,n){const r=cs(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==t?t:void ys()}const ko={};class pa{injector;constructor(t){this.injector=t}retrieve(t,n){const r=ni(n)||0;try{return this.injector.get(t,8&r?null:ko,r)}catch(o){if(O(o))return o;throw o}}}function Ws(e,t=0){const n=x();if(void 0===n)throw new Fe(-203,!1);if(null===n)return zi(e,void 0,t);{const r=function ha(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(t),o=n.retrieve(e,r);if(O(o)){if(r.optional)return null;throw o}return o}}function oe(e,t=0){return(zs()||Ws)(jt(e),t)}function $e(e,t){return oe(e,ni(t))}function ni(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function bs(e){const t=[];for(let n=0;n<e.length;n++){const r=jt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Fe(900,!1);let o,i=0;for(let s=0;s<r.length;s++){const a=r[s],l=il(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(oe(o,i))}else t.push(oe(r))}return t}function il(e){return e.__NG_DI_FLAG__}function p(e,t){return e.hasOwnProperty(ti)?e[ti]:null}function A(e,t){e.forEach(n=>Array.isArray(n)?A(n,t):t(n))}function ee(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function J(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function _e(e,t,n){let r=dt(e,t);return r>=0?e[1|r]=n:(r=~r,function Ze(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function je(e,t){const n=dt(e,t);if(n>=0)return e[1|n]}function dt(e,t){return function ut(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const Tt={},pt=[],At=new rt(""),rr=new rt("",-1),Kt=new rt("");class Xt{get(t,n=ko){if(n===ko){const o=Hs("",-201);throw o.name="\u0275NotFound",o}return n}}function Rn(e){return e[gs]||null}function Ct(e){return e[Ui]||null}function pn(e){return e[Hi]||null}function An(e){return e[Bs]||null}function $(e){return{\u0275providers:e}}function Be(...e){return{\u0275providers:Rt(0,e),\u0275fromNgModule:!0}}function Rt(e,...t){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return A(t,s=>{const a=s;gn(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&rn(o,i),n}function rn(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Vr(o,i=>{t(i,r)})}}function gn(e,t,n,r){if(!(e=jt(e)))return!1;let o=null,i=Mi(e);const s=!i&&Ct(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=Mi(l),!i)return!1;o=l}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)gn(c,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;r.add(o);try{A(i.imports,d=>{gn(d,t,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&rn(c,t)}if(!a){const c=p(o)||(()=>new o);t({provide:o,useFactory:c,deps:pt},o),t({provide:Kt,useValue:o,multi:!0},o),t({provide:At,useValue:()=>oe(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;Vr(l,d=>{t(d,c)})}}}return o!==e&&void 0!==e.providers}function Vr(e,t){for(let n of e)pi(n)&&(n=n.\u0275providers),Array.isArray(n)?Vr(n,t):t(n)}const dn=hn({provide:String,useValue:hn});function Cr(e){return null!==e&&"object"==typeof e&&dn in e}function Mt(e){return"function"==typeof e}const Wn=new rt(""),Sr={},ar={};let Qn;function g(){return void 0===Qn&&(Qn=new Xt),Qn}class B{}class be extends B{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,ga(t,s=>this.processProvider(s)),this.records.set(rr,Pr(void 0,this)),o.has("environment")&&this.records.set(B,Pr(void 0,this));const i=this.records.get(Wn);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Kt,pt,{self:!0}))}retrieve(t,n){const r=ni(n)||0;try{return this.get(t,ko,r)}catch(o){if(O(o))return o;throw o}}destroy(){Nn(this),this._destroyed=!0;const t=T(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),T(t)}}onDestroy(t){return Nn(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Nn(this);const n=L(this),r=Xr(void 0);try{return t()}finally{L(n),Xr(r)}}get(t,n=ko,r){if(Nn(this),t.hasOwnProperty(hi))return t[hi](this);const o=ni(r),s=L(this),a=Xr(void 0);try{if(!(4&o)){let c=this.records.get(t);if(void 0===c){const d=function Al(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(t)&&cs(t);c=d&&this.injectableDefInScope(d)?Pr(st(t),Sr):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c,o)}return(2&o?g():this.parent).get(t,n=8&o&&n===ko?null:n)}catch(l){const c=function da(e){return e[go]}(l);throw-200===c||-201===c?new Fe(c,null):l}finally{Xr(a),L(s)}}resolveInjectorInitializers(){const t=T(null),n=L(this),r=Xr(void 0);try{const i=this.get(At,pt,{self:!0});for(const s of i)s()}finally{L(n),Xr(r),T(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Nr(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let n=Mt(t=jt(t))?t:jt(t&&t.provide);const r=function Sn(e){return Cr(e)?Pr(void 0,e.useValue):Pr(jn(e),Sr)}(t);if(!Mt(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Pr(void 0,Sr,!0),o.factory=()=>bs(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){const o=T(null);try{if(n.value===ar)throw Gi(Nr(t));return n.value===Sr&&(n.value=ar,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function Tl(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{T(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=jt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function st(e){const t=cs(e),n=null!==t?t.factory:p(e);if(null!==n)return n;if(e instanceof rt)throw new Fe(204,!1);if(e instanceof Function)return function qt(e){if(e.length>0)throw new Fe(204,!1);const n=function Na(e){return(e?.[us]??null)||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Fe(204,!1)}function jn(e,t,n){let r;if(Mt(e)){const o=jt(e);return p(o)||st(o)}if(Cr(e))r=()=>jt(e.useValue);else if(function sr(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...bs(e.deps||[]));else if(function Or(e){return!(!e||!e.useExisting)}(e))r=(o,i)=>oe(jt(e.useExisting),void 0!==i&&8&i?8:void 0);else{const o=jt(e&&(e.useClass||e.provide));if(!function Fa(e){return!!e.deps}(e))return p(o)||st(o);r=()=>new o(...bs(e.deps))}return r}function Nn(e){if(e.destroyed)throw new Fe(205,!1)}function Pr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ga(e,t){for(const n of e)Array.isArray(n)?ga(n,t):n&&pi(n)?ga(n.\u0275providers,t):t(n)}function Ro(e,t){let n;e instanceof be?(Nn(e),n=e):n=new pa(e);const o=L(n),i=Xr(void 0);try{return t()}finally{L(o),Xr(i)}}function pc(){return void 0!==zs()||null!=x()}function Hr(e){return Array.isArray(e)&&"object"==typeof e[1]}function ri(e){return Array.isArray(e)&&!0===e[1]}function wf(e){return!!(4&e.flags)}function ya(e){return e.componentOffset>-1}function Nl(e){return!(1&~e.flags)}function Oi(e){return!!e.template}function ja(e){return!!(512&e[2])}function _a(e){return!(256&~e[2])}function Io(e){for(;Array.isArray(e);)e=e[0];return e}function Ol(e,t){return Io(t[e])}function uo(e,t){return Io(t[e.index])}function Pl(e,t){return e.data[t]}function cl(e,t){return e[t]}function gi(e,t){const n=t[e];return Hr(n)?n:n[0]}function xf(e){return!(128&~e[2])}function oi(e,t){return null==t?null:e[t]}function Lh(e){e[17]=0}function ed(e){1024&e[2]||(e[2]|=1024,xf(e)&&Dn(e))}function dr(e){return!!(9216&e[2]||e[24]?.dirty)}function Zs(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),dr(e)&&Dn(e)}function Dn(e){e[10].changeDetectionScheduler?.notify(0);let t=Va(e);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,xf(t));)t=Va(t)}function td(e,t){if(_a(e))throw new Fe(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function Va(e){const t=e[3];return ri(t)?t[3]:t}function Bh(e){return e[7]??=[]}function jh(e){return e.cleanup??=[]}const Vt={lFrame:bD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Gr=!1;function Zo(){Vt.lFrame.elementDepthCount--}function ii(){return Vt.bindingsEnabled}function mi(){return null!==Vt.skipHydrationRootTNode}function To(e){return Vt.skipHydrationRootTNode===e}function vi(){Vt.skipHydrationRootTNode=null}function Me(){return Vt.lFrame.lView}function Ft(){return Vt.lFrame.tView}function at(e){return Vt.lFrame.contextLView=e,e[8]}function u(e){return Vt.lFrame.contextLView=null,e}function D(){let e=le();for(;null!==e&&64===e.type;)e=e.parent;return e}function le(){return Vt.lFrame.currentTNode}function Bt(e,t){const n=Vt.lFrame;n.currentTNode=e,n.isParent=t}function Tn(){return Vt.lFrame.isParent}function Gn(){Vt.lFrame.isParent=!1}function tu(){return Gr}function ul(e){const t=Gr;return Gr=e,t}function ai(){const e=Vt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ua(){return Vt.lFrame.bindingIndex}function Fi(){return Vt.lFrame.bindingIndex++}function Ha(e){const t=Vt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function yL(e,t){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ry(t)}function Ry(e){Vt.lFrame.currentDirectiveIndex=e}function Oy(){return Vt.lFrame.currentQueryIndex}function Vh(e){Vt.lFrame.currentQueryIndex=e}function bL(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[5]:null}function yD(e,t,n){if(4&n){let o=t,i=e;for(;!(o=o.parent,null!==o||1&n||(o=bL(i),null===o||(i=i[14],10&o.type))););if(null===o)return!1;t=o,e=i}const r=Vt.lFrame=_D();return r.currentTNode=t,r.lView=e,!0}function Py(e){const t=_D(),n=e[1];Vt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function _D(){const e=Vt.lFrame,t=null===e?null:e.child;return null===t?bD(e):t}function bD(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function CD(){const e=Vt.lFrame;return Vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const SD=CD;function Fy(){const e=CD();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yi(){return Vt.lFrame.selectedIndex}function nu(e){Vt.lFrame.selectedIndex=e}function Ga(){const e=Vt.lFrame;return Pl(e.tView,e.selectedIndex)}let wD=!0;function Uh(){return wD}function Nf(e){wD=e}let Ly={elements:void 0};function ED(e,t=null,n=null,r){const o=DD(e,t,n,r);return o.resolveInjectorInitializers(),o}function DD(e,t=null,n=null,r,o=new Set){const i=[n||pt,Be(e)];return r=r||("object"==typeof e?void 0:Nr(e)),new be(i,t||g(),r||null,o)}class ao{static THROW_IF_NOT_FOUND=ko;static NULL=new Xt;static create(t,n){if(Array.isArray(t))return ED({name:""},n,t,"");{const r=t.name??"";return ED({name:r},t.parent,t.providers,r)}}static \u0275prov=Je({token:ao,providedIn:"any",factory:()=>oe(rr)});static __NG_ELEMENT_ID__=-1}const _i=new rt("");let Ys=(()=>class e{static __NG_ELEMENT_ID__=AL;static __NG_ENV_ID__=n=>n})();class ID extends Ys{_lView;constructor(t){super(),this._lView=t}get destroyed(){return _a(this._lView)}onDestroy(t){const n=this._lView;return td(n,t),()=>function kf(e,t){if(null===e[21])return;const n=e[21].indexOf(t);-1!==n&&e[21].splice(n,1)}(n,t)}}function AL(){return new ID(Me())}class nd{_console=console;handleError(t){this._console.error("ERROR",t)}}const za=new rt("",{providedIn:"root",factory:()=>{const e=$e(B);let t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(nd),t.handleError(n))}}}),ML={provide:At,useValue:()=>{$e(nd)},multi:!0};function bi(e,t){const[n,r,o]=ot(e,t?.equal),i=n;return i.set=r,i.update=o,i.asReadonly=By.bind(i),i}function By(){const e=this[I];if(void 0===e.readonlyFn){const t=()=>this();t[I]=e,e.readonlyFn=t}return e.readonlyFn}class rd{}const MD=new rt("",{providedIn:"root",factory:()=>!1}),xD=new rt(""),kD=new rt("");let jy=(()=>class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=kL})();function kL(){return new jy(Me(),D())}let vc=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new br(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Cn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Je({token:e,providedIn:"root",factory:()=>new e})}return e})(),Hh=(()=>{class e{internalPendingTasks=$e(vc);scheduler=$e(rd);errorHandler=$e(za);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=Je({token:e,providedIn:"root",factory:()=>new e})}return e})();function Of(...e){}let RD=(()=>{class e{static \u0275prov=Je({token:e,providedIn:"root",factory:()=>new RL})}return e})();class RL{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const r=this.queues.get(t.zone);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[n,r]of this.queues)t||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(const r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let ND=null;function yc(){return ND}class OL{}let Vy=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:()=>$e(FL),providedIn:"platform"})}return e})();const PL=new rt("");let FL=(()=>{class e extends Vy{_location;_history;_doc=$e(_i);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return yc().getBaseHref(this._doc)}onPopState(n){const r=yc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=yc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Uy(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function OD(e){const t=e.search(/#|\?|$/);return"/"===e[t-1]?e.slice(0,t-1)+e.slice(t):e}function Fl(e){return e&&"?"!==e[0]?`?${e}`:e}let dl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:()=>$e(FD),providedIn:"root"})}return e})();const PD=new rt("");let FD=(()=>{class e extends dl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$e(_i).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Uy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Fl(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Fl(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Fl(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(oe(Vy),oe(PD,8))};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_c=(()=>{class e{_subject=new On;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function BL(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(OD(LD(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Fl(r))}normalize(n){return e.stripTrailingSlash(function $L(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,LD(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fl(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Fl;static joinWithSlash=Uy;static stripTrailingSlash=OD;static \u0275fac=function(r){return new(r||e)(oe(dl))};static \u0275prov=Je({token:e,factory:()=>function LL(){return new _c(oe(dl))}(),providedIn:"root"})}return e})();function LD(e){return e.replace(/\/index.html$/,"")}function $D(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class BD{}var F=_(1890);function jD(e){return xt(e?.lift)}function Yo(e){return t=>{if(jD(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function No(e,t,n,r,o){return new jL(e,t,n,r,o)}class jL extends Ae{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Yn(e,t){return Yo((n,r)=>{let o=0;n.subscribe(No(r,i=>{r.next(e.call(t,i,o++))}))})}function Ll(e){return{toString:e}.toString()}class JL{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function HD(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const qi=(()=>{const e=()=>GD;return e.ngInherit=!0,e})();function GD(e){return e.type.prototype.ngOnChanges&&(e.setInput=t$),e$}function e$(){const e=WD(this),t=e?.current;if(t){const n=e.previous;if(n===Tt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function t$(e,t,n,r,o){const i=this.declaredInputs[r],s=WD(e)||function n$(e,t){return e[zD]=t}(e,{previous:Tt,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new JL(c&&c.currentValue,n,l===Tt),HD(e,t,o,n)}const zD="__ngSimpleChanges__";function WD(e){return e[zD]||null}const ru=[],Ar=function(e,t=null,n){for(let r=0;r<ru.length;r++)(0,ru[r])(e,t,n)};function qD(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=d&&(e.destroyHooks??=[]).push(n,d)}}function zh(e,t,n){ZD(e,t,3,n)}function Wh(e,t,n,r){(3&e[2])===n&&ZD(e,t,n,r)}function zy(e,t){let n=e[2];(3&n)===t&&(n&=16383,n+=1,e[2]=n)}function ZD(e,t,n,r){const i=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[17]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[17]+=65536),(a<i||-1==i)&&(a$(e,n,t,l),e[17]=(4294901760&e[17])+l+2),l++}function YD(e,t){Ar(4,e,t);const n=T(null);try{t.call(e)}finally{T(n),Ar(5,e,t)}}function a$(e,t,n,r){const o=n[r]<0,i=n[r+1],a=e[o?-n[r]:n[r]];o?e[2]>>14<e[17]>>16&&(3&e[2])===t&&(e[2]+=16384,YD(a,i)):YD(a,i)}class Ff{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}}function XD(e){return 3===e||4===e||6===e}function QD(e){return 64===e.charCodeAt(0)}function cd(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||JD(e,n,o,0,-1===n||2===n?t[++r]:null)}}return e}function JD(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n)return void(null!==o&&(e[i+1]=o));i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}function qy(e){return-1!==e}function Lf(e){return 32767&e}function $f(e,t){let n=function d$(e){return e>>16}(e),r=t;for(;n>0;)r=r[14],n--;return r}let Zy=!0;function qh(e){const t=Zy;return Zy=e,t}let f$=0;const fl={};function Zh(e,t){const n=nI(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Yy(r.data,e),Yy(t,null),Yy(r.blueprint,null));const o=Yh(e,t),i=e.injectorIndex;if(qy(o)){const s=Lf(o),a=$f(o,t),l=a[1].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function Yy(e,t){e.push(0,0,0,0,0,0,0,0,t)}function nI(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Yh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=cI(o),null===r)return-1;if(n++,o=o[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ky(e,t,n){!function p$(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Wo)&&(r=n[Wo]),null==r&&(r=n[Wo]=f$++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function rI(e,t,n){if(8&n||void 0!==e)return e;ys()}function oI(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const o=e[9],i=Xr(void 0);try{return o?o.get(t,r,8&n):zi(t,r,8&n)}finally{Xr(i)}}return rI(r,0,n)}function iI(e,t,n,r=0,o){if(null!==e){if(2048&t[2]&&!(2&r)){const s=function y$(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[2]&&!ja(s);){const a=sI(i,s,n,2|r,fl);if(a!==fl)return a;let l=i.parent;if(!l){const c=s[20];if(c){const d=c.get(n,fl,r);if(d!==fl)return d}l=cI(s),s=s[14]}i=l}return o}(e,t,n,r,fl);if(s!==fl)return s}const i=sI(e,t,n,r,fl);if(i!==fl)return i}return oI(t,n,r,o)}function sI(e,t,n,r,o){const i=function m$(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Wo)?e[Wo]:void 0;return"number"==typeof t?t>=0?255&t:v$:t}(n);if("function"==typeof i){if(!yD(t,e,r))return 1&r?rI(o,0,r):oI(t,n,r,o);try{let s;if(s=i(r),null!=s||8&r)return s;ys()}finally{SD()}}else if("number"==typeof i){let s=null,a=nI(e,t),l=-1,c=1&r?t[15][5]:null;for((-1===a||4&r)&&(l=-1===a?Yh(e,t):t[a+8],-1!==l&&lI(r,!1)?(s=t[1],a=Lf(l),t=$f(l,t)):a=-1);-1!==a;){const d=t[1];if(aI(i,a,d.data)){const h=g$(a,t,n,s,r,c);if(h!==fl)return h}l=t[a+8],-1!==l&&lI(r,t[1].data[a+8]===c)&&aI(i,a,t)?(s=d,a=Lf(l),t=$f(l,t)):a=-1}}return o}function g$(e,t,n,r,o,i){const s=t[1],a=s.data[e+8],d=Kh(a,s,n,null==r?ya(a)&&Zy:r!=s&&!!(3&a.type),1&o&&i===a);return null!==d?Bf(t,s,d,a,o):fl}function Kh(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,d=i>>20,v=o?a+d:e.directiveEnd;for(let C=r?a:a+d;C<v;C++){const M=s[C];if(C<l&&n===M||C>=l&&M.type===n)return C}if(o){const C=s[l];if(C&&Oi(C)&&C.type===n)return l}return null}function Bf(e,t,n,r,o){let i=e[n];const s=t.data;if(i instanceof Ff){const a=i;if(a.resolving)throw function un(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Wt(e)}(s[n]),Gi();const l=qh(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?Xr(a.injectImpl):null;yD(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function s$(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=GD(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,s[n],t)}finally{null!==h&&Xr(h),qh(l),a.resolving=!1,SD()}}return i}function aI(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function lI(e,t){return!(2&e||1&e&&t)}class vo{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return iI(this._tNode,this._lView,t,ni(r),n)}}function v$(){return new vo(D(),Me())}function zr(e){return Ll(()=>{const t=e.prototype.constructor,n=t[ti]||Xy(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[ti]||Xy(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Xy(e){return pr(e)?()=>{const t=Xy(jt(e));return t&&t()}:p(e)}function cI(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[5]:null}function $l(e){return function h$(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(XD(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(D(),e)}function I$(){return ud(D(),Me())}function ud(e,t){return new nt(uo(e,t))}let nt=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=I$})();function hI(e){return e instanceof nt?e.nativeElement:e}function T$(){return this._results[Symbol.iterator]()}class A${_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new On}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function w(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function m(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=T$}function jf(e){return!(128&~e.flags)}var Qh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Qh||{});const Jh=new Map;let k$=0;function e_(e){Jh.delete(e[19])}const n_="__ngContext__";function Ss(e,t){Hr(t)?(e[n_]=t[19],function N$(e){Jh.set(e[19],e)}(t)):e[n_]=t}function DI(e){return TI(e[12])}function II(e){return TI(e[4])}function TI(e){for(;null!==e&&!ri(e);)e=e[4];return e}let r_;const Uf=new rt("",{providedIn:"root",factory:()=>tB}),tB="ng",OI=new rt(""),tg=new rt("",{providedIn:"platform",factory:()=>"unknown"}),PI=new rt("",{providedIn:"root",factory:()=>function Cc(){if(void 0!==r_)return r_;if(typeof document<"u")return document;throw new Fe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),cB=new rt("",{providedIn:"root",factory:()=>!1}),pB=new rt("");function ig(e){return!(32&~e.flags)}function s1(e,t){const n=e.contentQueries;if(null!==n){const r=T(null);try{for(let o=0;o<n.length;o+=2){const s=n[o+1];if(-1!==s){const a=e.data[s];Vh(n[o]),a.contentQueries(2,t[s],s)}}}finally{T(r)}}}function b_(e,t,n){Vh(0);const r=T(null);try{t(e,n)}finally{T(r)}}function C_(e,t,n){if(wf(t)){const r=T(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{T(r)}}}var Bl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Bl||{});let ug;function gd(e){return function a1(){if(void 0===ug&&(ug=null,Bn.trustedTypes))try{ug=Bn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ug}()?.createHTML(e)||e}class iu{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jo})`}}class BB extends iu{getTypeName(){return"HTML"}}class jB extends iu{getTypeName(){return"Style"}}class VB extends iu{getTypeName(){return"Script"}}class UB extends iu{getTypeName(){return"URL"}}class HB extends iu{getTypeName(){return"ResourceURL"}}function Ks(e){return e instanceof iu?e.changingThisBreaksApplicationSecurity:e}function pl(e,t){const n=function GB(e){return e instanceof iu&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${jo})`)}return n===t}class KB{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(gd(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class XB{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=gd(t),n}}const JB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fg(e){return(e=String(e)).match(JB)?e:"unsafe:"+e}function jl(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function zf(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const f1=jl("area,br,col,hr,img,wbr"),p1=jl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),h1=jl("rp,rt"),w_=zf(f1,zf(p1,jl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zf(h1,jl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zf(h1,p1)),E_=jl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),g1=zf(E_,jl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),e3=jl("script,style,template");class t3{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,o=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)o.push(n),n=o3(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=r3(n);if(i){n=i;break}n=o.pop()}return this.buf.join("")}startElement(t){const n=m1(t).toLowerCase();if(!w_.hasOwnProperty(n))return this.sanitizedSomething=!0,!e3.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!g1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;E_[a]&&(l=fg(l)),this.buf.push(" ",s,'="',y1(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=m1(t).toLowerCase();w_.hasOwnProperty(n)&&!f1.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(y1(t))}}function r3(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw v1(t);return t}function o3(e){const t=e.firstChild;if(t&&function n3(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw v1(t);return t}function m1(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function v1(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const i3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s3=/([^\#-~ |!])/g;function y1(e){return e.replace(/&/g,"&amp;").replace(i3,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(s3,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pg;function _1(e,t){let n=null;try{pg=pg||function d1(e){const t=new XB(e);return function QB(){try{return!!(new window.DOMParser).parseFromString(gd(""),"text/html")}catch{return!1}}()?new KB(t):t}(e);let r=t?String(t):"";n=pg.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=pg.getInertBodyElement(r)}while(r!==i);return gd((new t3).sanitizeChildren(D_(n)||n))}finally{if(n){const r=D_(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function D_(e){return"content"in e&&function a3(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ws=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ws||{});const h3=/^>|^->|<!--|-->|--!>|<!-$/g,g3=/(<|>)/g;function hl(e){return e instanceof Function?e():e}function A3(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}const k1="ng-template";function M3(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==A3(t[o+1].toLowerCase(),n,0))return!0}else if(A_(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===n)return!0}return!1}function A_(e){return 4===e.type&&e.value!==k1}function x3(e,t,n){return t===(4!==e.type||n?e.value:k1)}function k3(e,t,n){let r=4;const o=e.attrs,i=null!==o?function O3(e){for(let t=0;t<e.length;t++)if(XD(e[t]))return t;return e.length}(o):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!x3(e,l,n)||""===l&&1===t.length){if(Wa(r))return!1;s=!0}}else if(8&r){if(null===o||!M3(e,o,l,n)){if(Wa(r))return!1;s=!0}}else{const c=t[++a],d=R3(l,o,A_(e),n);if(-1===d){if(Wa(r))return!1;s=!0;continue}if(""!==c){let h;if(h=d>i?"":o[d+1].toLowerCase(),2&r&&c!==h){if(Wa(r))return!1;s=!0}}}}else{if(!s&&!Wa(r)&&!Wa(l))return!1;if(s&&Wa(l))continue;s=!1,r=l|1&r}}return Wa(r)||s}function Wa(e){return!(1&e)}function R3(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function P3(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function R1(e,t,n=!1){for(let r=0;r<t.length;r++)if(k3(e,t[r],n))return!0;return!1}function F3(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function N1(e,t){return e?":not("+t.trim()+")":t}function L3(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Wa(s)&&(t+=N1(i,o),o=""),r=s,i=i||!Wa(r);n++}return""!==o&&(t+=N1(i,o)),t}const Er={};function x_(e,t){return e.createComment(function w1(e){return e.replace(h3,t=>t.replace(g3,"\u200b$1\u200b"))}(t))}function mg(e,t,n){return e.createElement(t,n)}function su(e,t,n,r,o){e.insertBefore(t,n,r,o)}function P1(e,t,n){e.appendChild(t,n)}function F1(e,t,n,r,o){null!==r?su(e,t,n,r,o):P1(e,t,n)}function $1(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&function u$(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{const i=o,s=n[++r];QD(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}}(e,t,r),null!==o&&function V3(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,o),null!==i&&function j3(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function k_(e,t,n,r,o,i,s,a,l,c,d){const h=26+r,v=h+o,C=function U3(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Er);return n}(h,v),M="function"==typeof c?c():c;return C[1]={type:e,blueprint:C,template:n,queries:null,viewQuery:a,declTNode:t,data:C.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:M,incompleteFirstPass:!1,ssrId:d}}function vg(e,t,n,r,o,i,s,a,l,c,d){const h=t.blueprint.slice();return h[0]=o,h[2]=1228|r,(null!==c||e&&2048&e[2])&&(h[2]|=2048),Lh(h),h[3]=h[14]=e,h[8]=n,h[10]=s||e&&e[10],h[11]=a||e&&e[11],h[9]=l||e&&e[9]||null,h[5]=i,h[19]=function R$(){return k$++}(),h[6]=d,h[20]=c,h[15]=2==t.type?e[15]:h,h}function R_(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Zf(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function N_(e,t){return e[12]?e[13][4]=t:e[12]=t,e[13]=t,t}function fe(e=1){j1(Ft(),Me(),yi()+e,!1)}function j1(e,t,n,r){if(!r)if(3&~t[2]){const i=e.preOrderHooks;null!==i&&Wh(t,i,0,n)}else{const i=e.preOrderCheckHooks;null!==i&&zh(t,i,n)}nu(n)}var yg=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(yg||{});function Yf(e,t,n,r){const o=T(null);try{const[i,s,a]=e.inputs[n];let l=null;0!==(s&yg.SignalBased)&&(l=t[i][I]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==a&&(r=a.call(t,r)),null!==e.setInput?e.setInput(t,l,r,n,i):HD(t,l,i,r)}finally{T(o)}}var wc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(wc||{});function P_(e,t){return undefined(e,t)}function vd(e,t,n,r,o){if(null!=r){let i,s=!1;ri(r)?i=r:Hr(r)&&(s=!0,r=r[0]);const a=Io(r);0===e&&null!==n?null==o?P1(t,n,a):su(t,n,a,o||null,!0):1===e&&null!==n?su(t,n,a,o||null,!0):2===e?function qf(e,t,n){e.removeChild(null,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function K3(e,t,n,r,o){const i=n[7];i!==Io(n)&&vd(t,e,r,i,o);for(let a=10;a<n.length;a++){const l=n[a];bg(l[1],l,e,t,r,i)}}(t,e,i,n,o)}}function U1(e,t){t[10].changeDetectionScheduler?.notify(9),bg(e,t,t[11],2,null,null)}function F_(e,t){const n=e[9],r=n.indexOf(t);n.splice(r,1)}function Kf(e,t){if(_a(t))return;const n=t[11];n.destroyNode&&bg(e,t,n,3,null,null),function W3(e){let t=e[12];if(!t)return L_(e[1],e);for(;t;){let n=null;if(Hr(t))n=t[12];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Hr(t)&&L_(t[1],t),t=t[3];null===t&&(t=e),Hr(t)&&L_(t[1],t),n=t&&t[4]}t=n}}(t)}function L_(e,t){if(_a(t))return;const n=T(null);try{t[2]&=-129,t[2]|=256,t[24]&&j(t[24]),function Z3(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ff)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Ar(4,a,l);try{l.call(a)}finally{Ar(5,a,l)}}else{Ar(4,o,i);try{i.call(o)}finally{Ar(5,o,i)}}}}}(e,t),function q3(e,t){const n=e.cleanup,r=t[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[7]=null);const o=t[21];if(null!==o){t[21]=null;for(let s=0;s<o.length;s++)(0,o[s])()}const i=t[23];if(null!==i){t[23]=null;for(const s of i)s.destroy()}}(e,t),1===t[1].type&&t[11].destroy();const r=t[16];if(null!==r&&ri(t[3])){r!==t[3]&&F_(r,t);const o=t[18];null!==o&&o.detachView(e)}e_(t)}finally{T(n)}}function $_(e,t,n){return function H1(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[0];if(ya(r)){const{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Bl.None||o===Bl.Emulated)return null}return uo(r,n)}(e,t.parent,n)}function G1(e,t,n){return W1(e,t,n)}let W1=function z1(e,t,n){return 40&e.type?uo(e,n):null};function j_(e,t,n,r){const o=$_(e,r,t),i=t[11],a=G1(r.parent||t[5],r,t);if(null!=o)if(Array.isArray(n))for(let l=0;l<n.length;l++)F1(i,o,n[l],a,!1);else F1(i,o,n,a,!1)}function au(e,t){if(null!==t){const n=t.type;if(3&n)return uo(t,e);if(4&n)return _g(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return au(e,r);{const o=e[t.index];return ri(o)?_g(-1,o):Io(o)}}if(128&n)return au(e,t.next);if(32&n)return P_(t,e)()||Io(e[t.index]);{const r=Z1(e,t);return null!==r?Array.isArray(r)?r[0]:au(Va(e[15]),r):au(e,t.next)}}return null}function Z1(e,t){return null!==t?e[15][5].projection[t.projection]:null}function _g(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return au(r,o)}return t[7]}function V_(e,t,n,r,o,i,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Ss(Io(a),r),n.flags|=2),!ig(n))if(8&l)V_(e,t,n.child,r,o,i,!1),vd(t,e,o,a,i);else if(32&l){const c=P_(n,r);let d;for(;d=c();)vd(t,e,o,d,i);vd(t,e,o,a,i)}else 16&l?Y1(e,t,r,n,o,i):vd(t,e,o,a,i);n=s?n.projectionNext:n.next}}function bg(e,t,n,r,o,i){V_(n,r,e.firstChild,t,o,i,!1)}function Y1(e,t,n,r,o,i){const s=n[15],l=s[5].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)vd(t,e,o,l[c],i);else{let c=l;const d=s[3];jf(r)&&(c.flags|=128),V_(e,t,c,d,o,i,!0)}}function K1(e,t,n,r,o){const i=yi(),s=2&r;try{nu(-1),s&&t.length>26&&j1(e,t,26,!1),Ar(s?2:0,o,n),n(r,o)}finally{nu(i),Ar(s?3:1,o,n)}}function Cg(e,t,n){(function nj(e,t,n){const r=n.directiveStart,o=n.directiveEnd;ya(n)&&function H3(e,t,n){const r=uo(t,e),o=function B1(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=k_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(n),i=e[10].rendererFactory,s=N_(e,vg(e,o,null,R_(n),r,t,null,i.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Zh(n,t);const i=n.initialInputs;for(let s=r;s<o;s++){const a=e.data[s],l=Bf(t,e,s,n);Ss(l,t),null!==i&&sj(0,s-r,l,a,0,i),Oi(a)&&(gi(n.index,t)[8]=Bf(t,e,s,n))}})(e,t,n),!(64&~n.flags)&&function rj(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function _L(){return Vt.lFrame.currentDirectiveIndex}();try{nu(i);for(let a=r;a<o;a++){const l=e.data[a],c=t[a];Ry(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&oj(l,c)}}finally{nu(-1),Ry(s)}}(e,t,n)}function yd(e,t,n=uo){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}let X1=()=>null;function U_(e,t,n,r,o,i){Dg(e,t[1],t,n,r)?ya(e)&&function Q1(e,t){const n=gi(t,e);16&n[2]||(n[2]|=64)}(t,e.index):(3&e.type&&(n=function tj(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),function H_(e,t,n,r,o,i){if(3&e.type){const s=uo(e,t);r=null!=i?i(r,e.value||"",n):r,o.setProperty(s,n,r)}}(e,t,n,r,o,i))}function oj(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function G_(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let o=0;o<n.length;o++){const i=n[o];R1(t,i.selectors,!1)&&(r??=[],Oi(i)?r.unshift(i):r.push(i))}return r}function sj(e,t,n,r,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;a+=2)Yf(r,n,s[a],s[a+1])}function wg(e,t,n,r,o){const i=26+n,s=t[1],a=o(s,t,e,r,n);t[i]=a,Bt(e,!0);const l=2===e.type;return l?($1(t[11],a,e),(0===function qn(){return Vt.lFrame.elementDepthCount}()||Nl(e))&&Ss(a,t),function Tr(){Vt.lFrame.elementDepthCount++}()):Ss(a,t),Uh()&&(!l||!ig(e))&&j_(s,t,a,e),e}function Eg(e){let t=e;return Tn()?Gn():(t=t.parent,Bt(t,!1)),t}function Dg(e,t,n,r,o){const i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r];let a=!1;if(s)for(let l=0;l<s.length;l+=2){const c=s[l];Yf(t.data[c],n[c],s[l+1],o),a=!0}if(i)for(const l of i)Yf(t.data[l],n[l],r,o),a=!0;return a}function lj(e,t){const n=gi(t,e),r=n[1];!function cj(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[0];null!==o&&null===n[6]&&(n[6]=null),Ar(18),Ig(r,n,n[8]),Ar(19,n[8])}function Ig(e,t,n){Py(t);try{const r=e.viewQuery;null!==r&&b_(1,r,n);const o=e.template;null!==o&&K1(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[18]?.finishViewCreation(e),e.staticContentQueries&&s1(e,t),e.staticViewQueries&&b_(2,e.viewQuery,n);const i=e.components;null!==i&&function uj(e,t){for(let n=0;n<t.length;n++)lj(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Fy()}}function _d(e,t,n,r){const o=T(null);try{const i=t.tView,l=vg(e,i,n,4096&e[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=e[t.index];const d=e[18];return null!==d&&(l[18]=d.createEmbeddedView(i)),Ig(i,l,n),l}finally{T(o)}}function lu(e,t){return!t||null===t.firstChild||jf(e)}function Xf(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=t[n.index];null!==i&&r.push(Io(i)),ri(i)&&fj(i,r);const s=n.type;if(8&s)Xf(e,t,n.child,r);else if(32&s){const a=P_(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Z1(t,n);if(Array.isArray(a))r.push(...a);else{const l=Va(t[15]);Xf(l[1],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function fj(e,t){for(let n=10;n<e.length;n++){const r=e[n],o=r[1].firstChild;null!==o&&Xf(r[1],r,o,t)}e[7]!==e[0]&&t.push(e[7])}function nT(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let rT=[];const mj={...X,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Dn(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},yj={...X,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Va(e.lView);for(;t&&!oT(t[1]);)t=Va(t);t&&ed(t)},consumerOnSignalRead(){this.lView[24]=this}};function oT(e){return 2!==e.type}function iT(e){if(null===e[23])return;let t=!0;for(;t;){let n=!1;for(const r of e[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[2])}}function Tg(e,t=0){const r=e[10].rendererFactory;r.begin?.();try{!function bj(e,t){const n=tu();try{ul(!0),W_(e,t);let r=0;for(;dr(e);){if(100===r)throw new Fe(103,!1);r++,W_(e,1)}}finally{ul(n)}}(e,t)}finally{r.end?.()}}function sT(e,t,n,r){if(_a(t))return;const o=t[2];Py(t);let a=!0,l=null,c=null;oT(e)?(c=function pj(e){return e[24]??function hj(e){const t=rT.pop()??Object.create(mj);return t.lView=e,t}(e)}(t),l=ve(c)):null===function ie(){return P}()?(a=!1,c=function vj(e){const t=e[24]??Object.create(yj);return t.lView=e,t}(t),l=ve(c)):t[24]&&(j(t[24]),t[24]=null);try{Lh(t),function Rf(e){return Vt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&K1(e,t,n,2,r);const d=!(3&~o);if(d){const C=e.preOrderCheckHooks;null!==C&&zh(t,C,null)}else{const C=e.preOrderHooks;null!==C&&Wh(t,C,0,null),zy(t,0)}if(function Sj(e){for(let t=DI(e);null!==t;t=II(t)){if(!(2&t[2]))continue;const n=t[9];for(let r=0;r<n.length;r++)ed(n[r])}}(t),iT(t),aT(t,0),null!==e.contentQueries&&s1(e,t),d){const C=e.contentCheckHooks;null!==C&&zh(t,C)}else{const C=e.contentHooks;null!==C&&Wh(t,C,1),zy(t,1)}!function Ej(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)nu(~o);else{const i=o,s=n[++r],a=n[++r];yL(s,i);const l=t[i];Ar(24,l),a(2,l),Ar(25,l)}}}finally{nu(-1)}}(e,t);const h=e.components;null!==h&&cT(t,h,0);const v=e.viewQuery;if(null!==v&&b_(2,v,r),d){const C=e.viewCheckHooks;null!==C&&zh(t,C)}else{const C=e.viewHooks;null!==C&&Wh(t,C,2),zy(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const C of t[22])C();t[22]=null}nT(t),t[2]&=-73}catch(d){throw Dn(t),d}finally{null!==c&&(ue(c,l),a&&function gj(e){e.lView[24]!==e&&(e.lView=null,rT.push(e))}(c)),Fy()}}function aT(e,t){for(let n=DI(e);null!==n;n=II(n))for(let r=10;r<n.length;r++)lT(n[r],t)}function wj(e,t,n){Ar(18);const r=gi(t,e);lT(r,n),Ar(19,r[8])}function lT(e,t){xf(e)&&W_(e,t)}function W_(e,t){const r=e[1],o=e[2],i=e[24];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!De(i)),s||=!1,i&&(i.dirty=!1),e[2]&=-9217,s)sT(r,e,r.template,e[8]);else if(8192&o){const a=T(null);try{iT(e),aT(e,1);const l=r.components;null!==l&&cT(e,l,1),nT(e)}finally{T(a)}}}function cT(e,t,n){for(let r=0;r<t.length;r++)wj(e,t[r],n)}function bd(e,t){const n=tu()?64:1088;for(e[10].changeDetectionScheduler?.notify(t);e;){e[2]|=n;const r=Va(e);if(ja(e)&&!r)return e;e=r}return null}function uT(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Cd(e,t,n,r=!0){const o=t[1];if(function Dj(e,t,n,r){const o=10+r,i=n.length;r>0&&(n[o-1][4]=t),r<i-10?(t[4]=n[o],ee(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[16];null!==s&&n!==s&&fT(s,t);const a=t[18];null!==a&&a.insertView(e),Zs(t),t[2]|=128}(o,t,e,n),r){const s=_g(n,e),a=t[11],l=a.parentNode(e[7]);null!==l&&function z3(e,t,n,r,o,i){r[0]=o,r[5]=t,bg(e,r,n,1,o,i)}(o,e[5],a,t,l,s)}const i=t[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function Qf(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[16];null!==o&&o!==e&&F_(o,r),t>0&&(e[n-1][4]=r[4]);const i=J(e,10+t);!function V1(e,t){U1(e,t),t[0]=null,t[5]=null}(r[1],r);const s=i[18];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function fT(e,t){const n=e[9],r=t[3];(Hr(r)||t[15]!==r[3][15])&&(e[2]|=2),null===n?e[9]=[t]:n.push(t)}class Jf{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[1];return Xf(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return _a(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ri(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Qf(t,r),J(n,r))}this._attachedToViewContainer=!1}Kf(this._lView[1],this._lView)}onDestroy(t){td(this._lView,t)}markForCheck(){bd(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Zs(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Tg(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=ja(this._lView),n=this._lView[16];null!==n&&!t&&F_(n,this._lView),U1(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Fe(902,!1);this._appRef=t;const n=ja(this._lView),r=this._lView[16];null!==r&&!n&&fT(r,this._lView),Zs(this._lView)}}let qa=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ij;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const i=_d(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Jf(i)}})();function Ij(){return Ag(D(),Me())}function Ag(e,t){return 4&e.type?new qa(t,e,ud(e,t)):null}function cu(e,t,n,r,o){let i=e.data[t];if(null===i)i=function X_(e,t,n,r,o){const i=le(),s=Tn(),l=e.data[t]=function Pj(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return mi()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return function Oj(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,l,i,s),l}(e,t,n,r,o),function vL(){return Vt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function it(){const e=Vt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Bt(i,!0),i}let vV=class{},LT=class{};class yV{resolveComponentFactory(t){throw new Fe(917,!1)}}let Fg=class{static NULL=new yV};class ob{}let Vl=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function _V(){const e=Me(),n=gi(D().index,e);return(Hr(n)?n:e)[11]}()})(),bV=(()=>{class e{static \u0275prov=Je({token:e,providedIn:"root",factory:()=>null})}return e})();const sb={};class wd{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const o=this.injector.get(t,sb,r);return o!==sb||n===sb?o:this.parentInjector.get(t,n,r)}}function $g(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Ai(o,a):2==i&&(r=Ai(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function y(e,t=0){const n=Me();return null===n?oe(e,t):iI(D(),n,jt(e),t)}function jT(e,t,n,r,o){const i=null===r?null:{"":-1},s=o(e,n);if(null!==s){let a=s,l=null,c=null;for(const d of s)if(null!==d.resolveHostDirectives){[a,l,c]=d.resolveHostDirectives(s);break}!function IV(e,t,n,r,o,i,s){const a=r.length;let l=!1;for(let v=0;v<a;v++){const C=r[v];!l&&Oi(C)&&(l=!0,DV(e,n,v)),Ky(Zh(n,t),e,C.type)}!function RV(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,a);for(let v=0;v<a;v++){const C=r[v];C.providersResolver&&C.providersResolver(C)}let c=!1,d=!1,h=Zf(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let v=0;v<a;v++){const C=r[v];if(n.mergedAttrs=cd(n.mergedAttrs,C.hostAttrs),AV(e,n,t,h,C),kV(h,C,o),null!==s&&s.has(C)){const[U,de]=s.get(C);n.directiveToIndex.set(C.type,[h,U+n.directiveStart,de+n.directiveStart])}else(null===i||!i.has(C))&&n.directiveToIndex.set(C.type,h);null!==C.contentQueries&&(n.flags|=4),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(n.flags|=64);const M=C.type.prototype;!c&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(M.ngOnChanges||M.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}!function TV(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const o=e.data[r];if(null!==n&&n.has(o)){const i=n.get(o);UT(0,t,i,r),UT(1,t,i,r),GT(t,r,!0)}else VT(0,t,o,r),VT(1,t,o,r),GT(t,r,!1)}}(e,n,i)}(e,t,n,a,i,l,c)}null!==i&&null!==r&&function EV(e,t,n){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new Fe(-301,!1);r.push(t[o],i)}}(n,r,i)}function DV(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function VT(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){let s;s=0===e?t.inputs??={}:t.outputs??={},s[i]??=[],s[i].push(r),HT(t,i)}}function UT(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){const s=o[i];let a;a=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),HT(t,s)}}function HT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function GT(e,t,n){const{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(null===r||!n&&null===o||n&&null===i||A_(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!n&&o.hasOwnProperty(l)){const c=o[l];for(const d of c)if(d===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){const c=i[l];for(let d=0;d<c.length;d+=2)if(c[d]===t){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function AV(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=p(o.type)),s=new Ff(i,Oi(o),y,null);e.blueprint[r]=s,n[r]=s,function MV(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function xV(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(e,t,r,Zf(e,n,o.hostVars,Er),o)}function kV(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Oi(t)&&(n[""]=e)}}function ab(e,t,n,r,o,i,s,a){const l=t[1],c=l.consts,h=cu(l,e,n,r,oi(c,s));return i&&jT(l,t,h,oi(c,a),o),h.mergedAttrs=cd(h.mergedAttrs,h.attrs),null!==h.attrs&&$g(h,h.attrs,!1),null!==h.mergedAttrs&&$g(h,h.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,h),h}function lb(e,t){qD(e,t),wf(t)&&e.queries.elementEnd(t)}function Bg(e){return!!function cb(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function gl(e,t,n){return e[t]=n}function to(e,t,n){return n!==Er&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function fu(e,t,n,r){const o=to(e,t,n);return to(e,t+1,r)||o}function up(e,t,n){return function r(o){bd(ya(e)?gi(e.index,t):t,5);const s=t[8];let a=WT(t,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=WT(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function WT(e,t,n,r){const o=T(null);try{return Ar(6,t,n),!1!==n(r)}catch(i){return function z_(e,t){const n=e[9];if(!n)return;let r;try{r=n.get(za,null)}catch{r=null}r?.(t)}(e,i),!1}finally{Ar(7,t,n),T(o)}}function qT(e,t,n,r,o,i,s,a){const l=Nl(e);let c=!1,d=null;if(!r&&l&&(d=function FV(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=t[7],l=o[i+2];return a&&a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(t,n,i,e.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0;else{const h=uo(e,n),v=r?r(h):h,C=o.listen(v,i,a);ZT(r?U=>r(Io(U[e.index])):e.index,t,n,i,a,C,!1)}return c}function ZT(e,t,n,r,o,i,s){const a=t.firstCreatePass?jh(t):null,l=Bh(n),c=l.length;l.push(o,i),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function Vg(e,t,n,r,o,i){const a=t[1],h=t[n][a.data[n].outputs[r]].subscribe(i);ZT(e.index,a,t,o,i,h,!0)}const Dc=Symbol("BINDING");class YT extends Fg{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ct(t);return new dp(n,this.ngModule)}}class dp extends LT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function GV(e){return Object.keys(e).map(t=>{const[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:0!==(r&yg.SignalBased)};return o&&(i.transform=o),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function zV(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function $3(e){return e.map(L3).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){Ar(22);const a=T(null);try{const l=this.componentDef,c=function KV(e,t,n,r){const o=e?["ng-version","20.3.0"]:function B3(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Wa(o))break;o=i}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let i=null,s=null,a=0;if(n)for(const d of n)a+=d[Dc].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){const h=r[d];if("function"!=typeof h)for(const v of h.bindings){a+=v[Dc].requiredVars;const C=d+1;v.create&&(v.targetIdx=C,(i??=[]).push(v)),v.update&&(v.targetIdx=C,(s??=[]).push(v))}}const l=[t];if(r)for(const d of r){const v=pn("function"==typeof d?d:d.type);l.push(v)}return k_(0,null,function XV(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(i,s),1,a,l,null,null,null,[o],null)}(r,l,s,i),d=function WV(e,t,n){let r=t instanceof B?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new wd(n,r):n}(l,o||this.ngModule,t),h=function qV(e){const t=e.get(ob,null);if(null===t)throw new Fe(407,!1);return{rendererFactory:t,sanitizer:e.get(bV,null),changeDetectionScheduler:e.get(rd,null),ngReflect:!1}}(d),v=h.rendererFactory.createRenderer(null,l),C=r?function Q3(e,t,n,r){const i=r.get(cB,!1)||n===Bl.ShadowDom,s=e.selectRootElement(t,i);return function J3(e){X1(e)}(s),s}(v,r,l.encapsulation,d):function ZV(e,t){const n=function YV(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return mg(t,n,"svg"===n?"svg":"math"===n?"math":null)}(l,v),M=s?.some(KT)||i?.some(ge=>"function"!=typeof ge&&ge.bindings.some(KT)),U=vg(null,c,null,512|R_(l),null,null,h,v,d,null,null);U[26]=C,Py(U);let de=null;try{const ge=ab(26,U,2,"#host",()=>c.directiveRegistry,!0,0);C&&($1(v,C,ge),Ss(C,U)),Cg(c,U,ge),C_(c,ge,U),lb(c,ge),void 0!==n&&function JV(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i&&i.length?Array.from(i):null)}}(ge,this.ngContentSelectors,n),de=gi(ge.index,U),U[8]=de[8],Ig(c,U,null)}catch(ge){throw null!==de&&e_(de),e_(U),ge}finally{Ar(23),Fy()}return new QV(this.componentType,U,!!M)}finally{T(a)}}}function KT(e){const t=e[Dc].kind;return"input"===t||"twoWay"===t}class QV extends vV{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Pl(n[1],26),this.location=ud(this._tNode,n),this.instance=gi(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new Jf(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Dg(r,o[1],o,t,n),this.previousInputValues.set(t,n),bd(gi(r.index,o),1)}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Zi=(()=>class e{static __NG_ELEMENT_ID__=eU})();function eU(){return JT(D(),Me())}const tU=Zi,XT=class extends tU{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ud(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Yh(this._hostTNode,this._hostLView);if(qy(t)){const n=$f(t,this._hostLView),r=Lf(t);return new vo(n[1].data[r+8],n)}return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=QT(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(a,o,lu(this._hostTNode,null)),a}createComponent(t,n,r,o,i,s,a){const l=t&&!function Pf(e){return"function"==typeof e}(t);let c;if(l)c=n;else{const de=n||{};c=de.index,r=de.injector,o=de.projectableNodes,i=de.environmentInjector||de.ngModuleRef,s=de.directives,a=de.bindings}const d=l?t:new dp(Ct(t)),h=r||this.parentInjector;if(!i&&null==d.ngModule){const ge=(l?h:this.parentInjector).get(B,null);ge&&(i=ge)}Ct(d.componentType??{});const U=d.create(h,o,null,i,s,a);return this.insertImpl(U.hostView,c,lu(this._hostTNode,null)),U}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function mc(e){return ri(e[3])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[3],c=new XT(l,l[5],l[3]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;return Cd(s,o,i,r),t.attachToViewContainerRef(),ee(ub(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=QT(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Qf(this._lContainer,n);r&&(J(ub(this._lContainer),n),Kf(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Qf(this._lContainer,n);return r&&null!=J(ub(this._lContainer),n)?new Jf(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function QT(e){return e[8]}function ub(e){return e[8]||(e[8]=[])}function JT(e,t){let n;const r=t[e.index];return ri(r)?n=r:(n=uT(r,t,null,e),t[e.index]=n,N_(t,n)),eA(n,t,e,r),new XT(n,e,t)}let eA=function nA(e,t,n,r){if(e[7])return;let o;o=8&n.type?Io(r):function nU(e,t){const n=e[11],r=n.createComment(""),o=uo(t,e),i=n.parentNode(o);return su(n,i,r,n.nextSibling(o),!1),r}(t,n),e[7]=o};class fb{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new fb(this.queryList)}setDirty(){this.queryList.setDirty()}}class pb{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new pb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==yb(t,n).matches&&this.queries[n].setDirty()}}class rA{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function cU(e){return e.split(",").map(t=>t.trim())}(t):t}}class hb{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new hb(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gb{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new gb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,iU(n,i)),this.matchTNodeWithReadOption(t,n,Kh(n,t,i,!1,!1))}else r===qa?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Kh(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===nt||o===Zi||o===qa&&4&n.type)this.addMatch(n.index,-2);else{const i=Kh(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function iU(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function aU(e,t,n,r){return-1===n?function sU(e,t){return 11&e.type?ud(e,t):4&e.type?Ag(e,t):null}(t,e):-2===n?function lU(e,t,n){return n===nt?ud(t,e):n===qa?Ag(t,e):n===Zi?JT(t,e):void 0}(e,t,r):Bf(e,e[1],n,t)}function oA(e,t,n,r){const o=t[18].queries[r];if(null===o.matches){const i=e.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:aU(t,i[c],s[l+1],n.metadata.read))}o.matches=a}return o.matches}function mb(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=oA(e,t,o,n);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(s[a/2]);else{const c=i[a+1],d=t[-l];for(let h=10;h<d.length;h++){const v=d[h];v[16]===v[3]&&mb(v[1],v,c,r)}if(null!==d[9]){const h=d[9];for(let v=0;v<h.length;v++){const C=h[v];mb(C[1],C,c,r)}}}}}return r}function iA(e,t,n){const r=new A$(!(4&~n));return function In(e,t,n,r){const o=Bh(t);o.push(n),e.firstCreatePass&&jh(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[18]??=new pb).queries.push(new fb(r))-1}function lA(e,t,n){null===e.queries&&(e.queries=new hb),e.queries.track(new gb(t,n))}function yb(e,t){return e.queries.getByIndex(t)}function cA(e,t){const n=e[1],r=yb(n,t);return r.crossesNgTemplate?mb(n,e,t,[]):oA(n,e,r,t)}const hA=new Set;function Ci(e){hA.has(e)||(hA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let pu=class{},gA=class{};class Cb extends pu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new YT(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;const i=Rn(t);this._bootstrapComponents=hl(i.bootstrap),this._r3Injector=DD(t,n,[{provide:pu,useValue:this},{provide:Fg,useValue:this.componentFactoryResolver},...r],Nr(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class mA extends gA{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Cb(this.moduleType,t,[])}}class SU extends pu{injector;componentFactoryResolver=new YT(this);instance=null;constructor(t){super();const n=new be([...t.providers,{provide:pu,useValue:this},{provide:Fg,useValue:this.componentFactoryResolver}],t.parent||g(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ug(e,t,n=null){return new SU({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let wU=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Rt(0,n.type),o=r.length>0?Ug([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Je({token:e,providedIn:"environment",factory:()=>new e(oe(B))})}return e})();function Qe(e){return Ll(()=>{const t=yA(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Qh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(wU).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Bl.Emulated,styles:e.styles||pt,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&Ci("NgStandalone"),_A(n);const r=e.dependencies;return n.directiveDefs=Hg(r,vA),n.pipeDefs=Hg(r,An),n.id=function TU(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function vA(e){return Ct(e)||pn(e)}function Oo(e){return Ll(()=>({type:e.type,bootstrap:e.bootstrap||pt,declarations:e.declarations||pt,imports:e.imports||pt,exports:e.exports||pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function EU(e,t){if(null==e)return Tt;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=yg.None,l=null),n[i]=[r,a,l],t[i]=s}return n}function DU(e){if(null==e)return Tt;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ut(e){return Ll(()=>{const t=yA(e);return _A(t),t})}function li(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function yA(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Tt,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||pt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:EU(e.inputs,t),outputs:DU(e.outputs),debugInfo:null}}function _A(e){e.features?.forEach(t=>t(e))}function Hg(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const o of n){const i=t(o);null!==i&&r.push(i)}return r}:null}function xn(e){let t=function bA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Oi(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Fe(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const s=e;s.inputs=Sb(e.inputs),s.declaredInputs=Sb(e.declaredInputs),s.outputs=Sb(e.outputs);const a=o.hostBindings;a&&RU(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&xU(e,l),c&&kU(e,c),AU(e,o),ei(e.outputs,o.outputs),Oi(o)&&o.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===xn&&(n=!1)}}t=Object.getPrototypeOf(t)}!function MU(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=cd(o.hostAttrs,n=cd(n,o.hostAttrs))}}(r)}function AU(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Sb(e){return e===Tt?{}:e===pt?[]:e}function xU(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function kU(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function RU(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function DA(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=cd(e.mergedAttrs,e.attrs);const d=e.tView=k_(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),d.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),Bt(e,!1);const l=TA(n,t,e,r);Uh()&&j_(n,t,l,e),Ss(l,t);const c=uT(l,t,l,e);t[r+26]=c,N_(t,c)}function hu(e,t,n,r,o,i,s,a,l,c,d){const h=n+26;let v;if(t.firstCreatePass){if(v=cu(t,h,4,s||null,a||null),null!=c){const C=oi(t.consts,c);v.localNames=[];for(let M=0;M<C.length;M+=2)v.localNames.push(C[M],-1)}}else v=t.data[h];return DA(v,e,t,n,r,o,i,l),null!=c&&yd(e,v,d),v}function en(e,t,n,r,o,i,s,a){const l=Me(),c=Ft();return function BU(e,t,n,r,o,i,s,a,l,c,d){const h=n+26;let v;t.firstCreatePass?(v=cu(t,h,4,s||null,a||null),ii()&&jT(t,e,v,oi(t.consts,c),G_),qD(t,v)):v=t.data[h],DA(v,e,t,n,r,o,i,l),Nl(v)&&Cg(t,e,v),null!=c&&yd(e,v,d)}(l,c,e,t,n,r,o,oi(c.consts,i),void 0,s,a),en}let TA=function AA(e,t,n,r){return Nf(!0),t[11].createComment("")};var Eb=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Eb||{});const gp=new rt(""),NA=!1,mn=class zU extends On{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,pc()&&(this.destroyRef=$e(Ys,{optional:!0})??void 0,this.pendingTasks=$e(vc,{optional:!0})??void 0)}emit(t){const n=T(null);try{super.next(t)}finally{T(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof ct&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function OA(e){let t,n;function r(){e=Of;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function PA(e){return queueMicrotask(()=>e()),()=>{e=Of}}const Db="isAngularZone",qg=Db+"_ID";let WU=0;class qe{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new mn(!1);onMicrotaskEmpty=new mn(!1);onStable=new mn(!1);onError=new mn(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=NA}=t;if(typeof Zone>"u")throw new Fe(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function YU(e){const t=()=>{!function ZU(e){function t(){OA(()=>{e.callbackScheduled=!1,Tb(e),e.isCheckStableRunning=!0,Ib(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Tb(e))}(e)},n=WU++;e._inner=e._inner.fork({name:"angular",properties:{[Db]:!0,[qg]:n,[qg+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(function KU(e){return $A(e,"__ignore_ng_zone__")}(l))return r.invokeTask(i,s,a,l);try{return FA(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),LA(e)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return FA(e),r.invoke(i,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function XU(e){return $A(e,"__scheduler_tick__")}(l)&&t(),LA(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Tb(e),Ib(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Db)}static assertInAngularZone(){if(!qe.isInAngularZone())throw new Fe(909,!1)}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new Fe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,qU,Of,Of);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const qU={};function Ib(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Tb(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function FA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function LA(e){e._nesting--,Ib(e)}class Ab{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new mn;onMicrotaskEmpty=new mn;onStable=new mn;onError=new mn;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function $A(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}let BA=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=Je({token:e,providedIn:"root",factory:()=>new e})}return e})();const jA=[0,1,2,3];let JU=(()=>{class e{ngZone=$e(qe);scheduler=$e(rd);errorHandler=$e(nd,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){$e(gp,{optional:!0})}execute(){const n=this.sequences.size>0;n&&Ar(16),this.executing=!0;for(const r of jA)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[r])(o.pipelinedValue),o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ar(17)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),Dn(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Eb.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Je({token:e,providedIn:"root",factory:()=>new e})}return e})();class VA{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(n=>n!==this))}}function Mb(e,t){const n=t?.injector??$e(ao);return Ci("NgAfterNextRender"),function UA(e,t,n,r){const o=t.get(BA);o.impl??=t.get(JU);const i=t.get(gp,null,{optional:!0}),s=!0!==n?.manualCleanup?t.get(Ys):null,a=t.get(jy,null,{optional:!0}),l=new VA(o.impl,function t4(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(l),l}(e,n,t,!0)}let XA=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const fM=new rt(""),Qg=new rt("");let $b,Fb=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,o){this._ngZone=n,this.registry=r,pc()&&(this._destroyRef=$e(Ys,{optional:!0})??void 0),$b||(function oH(e){$b=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static \u0275fac=function(r){return new(r||e)(oe(qe),oe(Lb),oe(Qg))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})(),Lb=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return $b?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function yp(e){return!!e&&"function"==typeof e.then}function pM(e){return!!e&&"function"==typeof e.subscribe}const Bb=new rt("");function jb(e){return $([{provide:Bb,multi:!0,useValue:e}])}let hM=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=$e(Bb,{optional:!0})??[];injector=$e(ao);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=Ro(this.injector,o);if(yp(i))n.push(i);else if(pM(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const gM=new rt("");function mM(e,t){return Array.isArray(t)?t.reduce(mM,e):{...e,...t}}let Is=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$e(za);afterRenderManager=$e(BA);zonelessEnabled=$e(MD);rootEffectScheduler=$e(RD);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new On;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=$e(vc);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Yn(n=>!n))}constructor(){$e(gp,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=$e(B);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=ao.NULL){return this._injector.get(qe).run(()=>{Ar(10);const s=n instanceof LT;if(!this._injector.get(hM).done)throw new Fe(405,"");let l;l=s?n:this._injector.get(Fg).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const c=function sH(e){return e.isBoundToModule}(l)?void 0:this._injector.get(pu),h=l.create(o,[],r||l.selector,c),v=h.location.nativeElement,C=h.injector.get(fM,null);return C?.registerApplication(v),h.onDestroy(()=>{this.detachView(h.hostView),Jg(this.components,h),C?.unregisterApplication(v)}),this._loadComponent(h),Ar(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ar(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Eb.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Fe(101,!1);const n=T(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,T(n),this.afterTick.next(),Ar(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ob,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Ar(14),this.synchronizeOnce(),Ar(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews)(r||dr(o))&&(Tg(o,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>dr(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Jg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(gM,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Jg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Fe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jg(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Xs(e,t,n,r){const o=Me();return to(o,Fi(),t)&&(Ft(),function ij(e,t,n,r,o,i){const s=uo(e,t);!function Sg(e,t,n,r,o,i,s){if(null==i)e.removeAttribute(t,o,n);else{const a=null==s?Wt(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}(t[11],s,i,e.value,n,r,o)}(Ga(),o,e,t,n,r)),Xs}const IM=new rt("",{providedIn:"root",factory:()=>!1}),HH=new rt("",{providedIn:"root",factory:()=>GH}),GH=4e3;function Qb(e,t,n,r,o,i,s,a){Ci("NgControlFlow");const l=Me(),c=Ft();return hu(l,c,e,t,n,r,o,oi(c.consts,i),512,s,a),Qb}function $M(e,t){Ci("NgControlFlow");const n=Me(),r=Fi(),o=n[r]!==Er?n[r]:-1,i=-1!==o?im(n,26+o):void 0;if(to(n,r,e)){const a=T(null);try{if(void 0!==i&&function q_(e,t){const n=Qf(e,t);return void 0!==n&&Kf(n[1],n),n}(i,0),-1!==e){const l=26+e,c=im(n,l),d=function Jb(e,t){return Pl(e,t)}(n[1],l),h=null;Cd(c,_d(n,d,t,{dehydratedView:h}),0,lu(d,h))}}finally{T(a)}}else if(void 0!==i){const a=function dT(e,t){const n=10+t;if(n<e.length)return e[n]}(i,0);void 0!==a&&(a[8]=t)}}function im(e,t){return e[t]}function pe(e,t,n){const r=Me();return to(r,Fi(),t)&&(Ft(),U_(Ga(),r,e,t,r[11],n)),pe}function eC(e,t,n,r,o){Dg(t,e,n,o?"class":"style",r)}function V(e,t,n,r){const o=Me(),i=o[1],s=e+26,a=i.firstCreatePass?ab(s,o,2,t,G_,ii(),n,r):i.data[s];if(wg(a,o,e,t,tC),Nl(a)){const l=o[1];Cg(l,o,a),C_(l,a,o)}return null!=r&&yd(o,a),V}function q(){const e=Ft(),n=Eg(D());return e.firstCreatePass&&lb(e,n),To(n)&&vi(),Zo(),null!=n.classesWithoutHost&&function l$(e){return!!(8&e.flags)}(n)&&eC(e,n,Me(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function c$(e){return!!(16&e.flags)}(n)&&eC(e,n,Me(),n.stylesWithoutHost,!1),q}function tt(e,t,n,r){return V(e,t,n,r),q(),tt}function sm(e,t,n,r){const o=Me(),i=o[1],s=e+26,a=i.firstCreatePass?function zT(e,t,n,r,o,i){const s=t.consts,l=cu(t,e,n,r,oi(s,o));if(l.mergedAttrs=cd(l.mergedAttrs,l.attrs),null!=i){const c=oi(s,i);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return null!==l.attrs&&$g(l,l.attrs,!1),null!==l.mergedAttrs&&$g(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,2,t,n,r):i.data[s];return wg(a,o,e,t,tC),null!=r&&yd(o,a),sm}function am(){return To(Eg(D()))&&vi(),Zo(),am}typeof document<"u"&&document;let tC=(e,t,n,r,o)=>(Nf(!0),mg(t[11],r,function IL(){return Vt.lFrame.currentNamespace}()));function Mc(e,t,n){const r=Me(),o=r[1],i=e+26,s=o.firstCreatePass?ab(i,r,8,"ng-container",G_,ii(),t,n):o.data[i];if(wg(s,r,e,"ng-container",rC),Nl(s)){const a=r[1];Cg(a,r,s),C_(a,s,r)}return null!=n&&yd(r,s),Mc}function Ul(){const e=Ft(),n=Eg(D());return e.firstCreatePass&&lb(e,n),Ul}let rC=(e,t,n,r,o)=>(Nf(!0),x_(t[11],""));function Mn(){return Me()}const cm="en-US";let WM=cm;function Ge(e,t,n){const r=Me(),o=Ft(),i=D();return function aC(e,t,n,r,o,i,s){let a=!0,l=null;if((3&r.type||s)&&(l??=up(r,t,i),qT(r,e,t,s,n,o,i,l)&&(a=!1)),a){const c=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let h=0;h<d.length;h+=2){const v=d[h],C=d[h+1];l??=up(r,t,i),Vg(r,t,v,C,o,l)}if(c&&c.length)for(const h of c)l??=up(r,t,i),Vg(r,t,h,o,o,l)}}(o,r,r[11],i,e,t,n),Ge}function sC(e,t,n){const r=Me(),o=Ft(),i=D();return(3&i.type||n)&&qT(i,o,r,n,r[11],e,t,up(i,r,t)),sC}function mt(e=1){return function CL(e){return(Vt.lFrame.contextLView=function $h(e,t){for(;e>0;)t=t[14],e--;return t}(e,Vt.lFrame.contextLView))[8]}(e)}function a6(e,t){let n=null;const r=function N3(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?R1(e,i,!0):F3(r,i))return o}else n=o}return n}function _t(e){const t=Me()[15][5];if(!t.projection){const r=t.projection=function He(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),o=r.slice();let i=t.child;for(;null!==i;){if(128!==i.type){const s=e?a6(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function vt(e,t=0,n,r,o,i){const s=Me(),a=Ft(),l=r?e+1:null;null!==l&&hu(s,a,l,r,o,i,null,n);const c=cu(a,26+e,16,null,n||null);null===c.projection&&(c.projection=t),Gn();const h=!s[6]||mi();null===s[15][5].projection[c.projection]&&null!==l?function l6(e,t,n){const r=26+n,o=t.data[r],i=e[r];Cd(i,_d(e,o,void 0,{dehydratedView:null}),0,lu(o,null))}(s,a,l):h&&!ig(c)&&function Y3(e,t,n){Y1(t[11],0,t,n,$_(e,n,t),G1(n.parent||t[5],n,t))}(a,s,c)}function Cu(e,t,n,r){!function aA(e,t,n,r){const o=Ft();if(o.firstCreatePass){const i=D();lA(o,new rA(t,n,r),i.index),function uU(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return iA(o,Me(),n)}(e,t,n,r)}function Hl(e,t,n){!function sA(e,t,n){const r=Ft();return r.firstCreatePass&&(lA(r,new rA(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),iA(r,Me(),t)}(e,t,n)}function Ki(e){const t=Me(),n=Ft(),r=Oy();Vh(r+1);const o=yb(n,r);if(e.dirty&&function ky(e){return!(4&~e[2])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=cA(t,r);e.reset(i,hI),e.notifyOnChanges()}return!0}return!1}function Xi(){return function vb(e,t){return e[18].queries[t].queryList}(Me(),Oy())}function Qs(e){return cl(function Zn(){return Vt.lFrame.contextLView}(),26+e)}function pm(e,t){return e<<17|t<<2}function Su(e){return e>>17&32767}function lC(e){return 2|e}function Pd(e){return(131068&e)>>2}function cC(e,t){return-131069&e|t<<2}function uC(e){return 1|e}function dx(e,t,n,r){const o=e[n+1],i=null===t;let s=r?Su(o):Pd(o),a=!1;for(;0!==s&&(!1===a||i);){const c=e[s+1];v6(e[s],t)&&(a=!0,e[s+1]=r?uC(c):lC(c)),s=r?Su(c):Pd(c)}a&&(e[n+1]=r?lC(o):uC(o))}function v6(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&dt(e,t)>=0}function wu(e,t,n){return yx(e,t,n,!1),wu}function Sa(e,t){return yx(e,t,null,!0),Sa}function yx(e,t,n,r){const o=Me(),i=Ft(),s=Ha(2);i.firstUpdatePass&&function Cx(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[yi()],s=function bx(e,t){return t>=e.expandoStartIndex}(e,n);(function Dx(e,t){return!!(e.flags&(t?8:16))})(i,r)&&null===t&&!s&&(t=!1),t=function A6(e,t,n,r){const o=function Ny(e){const t=Vt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Dp(n=dC(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=dC(o,e,t,n,r),null===i){let l=function M6(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Pd(r))return e[Su(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=dC(null,e,t,l[1],r),l=Dp(l,t.attrs,r),function x6(e,t,n,r){e[Su(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else i=function k6(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Dp(r,e[i].hostAttrs,n);return Dp(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function g6(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=Su(s),l=Pd(s);e[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||dt(n,d)>0)&&(c=!0)):d=n,o)if(0!==l){const v=Su(e[a+1]);e[r+1]=pm(v,a),0!==v&&(e[v+1]=cC(e[v+1],r)),e[a+1]=function p6(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=pm(a,0),0!==a&&(e[a+1]=cC(e[a+1],r)),a=r;else e[r+1]=pm(l,0),0===a?a=r:e[l+1]=cC(e[l+1],r),l=r;c&&(e[r+1]=lC(e[r+1])),dx(e,d,r,!0),dx(e,d,r,!1),function m6(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&dt(i,t)>=0&&(n[r+1]=uC(n[r+1]))}(t,d,e,r,i),s=pm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}(i,e,s,r),t!==Er&&to(o,s,t)&&function wx(e,t,n,r,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],d=function h6(e){return!(1&~e)}(c)?Ex(l,t,n,o,Pd(c),s):void 0;hm(d)||(hm(i)||function f6(e){return!(2&~e)}(c)&&(i=Ex(l,null,n,o,a,s)),function X3(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:wc.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=wc.Important),e.setStyle(n,r,o,i))}}(r,s,Ol(yi(),n),o,i))}(i,i.data[yi()],o,o[11],e,o[s+1]=function P6(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Nr(Ks(e)))),e}(t,n),r,s)}function dC(e,t,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],r=Dp(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Dp(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),_e(e,s,!!n||t[++i]))}return void 0===e?null:e}function Ex(e,t,n,r,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),d=c?l[1]:l,h=null===d;let v=n[o+1];v===Er&&(v=h?pt:void 0);let C=h?je(v,r):d===r?v:void 0;if(c&&!hm(C)&&(C=je(l,r)),hm(C)&&(a=C,s))return a;const M=e[o+1];o=s?Su(M):Pd(M)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=je(l,r))}return a}function hm(e){return void 0!==e}function Re(e,t=""){const n=Me(),r=Ft(),o=e+26,i=r.firstCreatePass?cu(r,o,1,t,null):r.data[o],s=Ix(r,n,i,t,e);n[o]=s,Uh()&&j_(r,n,s,i),Bt(i,!1)}let Ix=(e,t,n,r,o)=>(Nf(!0),function M_(e,t){return e.createText(t)}(t[11],r));function Ax(e,t,n,r=""){return to(e,Fi(),n)?t+Wt(n)+r:Er}function xx(e,t,n,r,o,i,s,a=""){const c=function jg(e,t,n,r,o){const i=fu(e,t,n,r);return to(e,t+2,o)||i}(e,Ua(),n,o,s);return Ha(3),c?t+Wt(n)+r+Wt(o)+i+Wt(s)+a:Er}function As(e){return wi("",e),As}function wi(e,t,n){const r=Me(),o=Ax(r,e,t,n);return o!==Er&&Gl(r,yi(),o),wi}function Ip(e,t,n,r,o){const i=Me(),s=function Mx(e,t,n,r,o,i=""){const a=fu(e,Ua(),n,o);return Ha(2),a?t+Wt(n)+r+Wt(o)+i:Er}(i,e,t,n,r,o);return s!==Er&&Gl(i,yi(),s),Ip}function fC(e,t,n,r,o,i,s){const a=Me(),l=xx(a,e,t,n,r,o,i,s);return l!==Er&&Gl(a,yi(),l),fC}function Gl(e,t,n){const r=Ol(t,e);!function O1(e,t,n){e.setValue(t,n)}(e[11],r,n)}function pC(e,t,n=""){return Ax(Me(),e,t,n)}function hC(e,t,n,r,o){if(e=jt(e),Array.isArray(e))for(let i=0;i<e.length;i++)hC(e[i],t,n,r,o);else{const i=Ft(),s=Me(),a=D();let l=Mt(e)?e:jt(e.provide);const c=jn(e),d=1048575&a.providerIndexes,h=a.directiveStart,v=a.providerIndexes>>20;if(Mt(e)||!e.multi){const C=new Ff(c,o,y,null),M=mC(l,t,o?d:d+v,h);-1===M?(Ky(Zh(a,s),i,l),gC(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(C),s.push(C)):(n[M]=C,s[M]=C)}else{const C=mC(l,t,d+v,h),M=mC(l,t,d,d+v),de=M>=0&&n[M];if(o&&!de||!o&&!(C>=0&&n[C])){Ky(Zh(a,s),i,l);const ge=function Q6(e,t,n,r,o){const s=new Ff(e,n,y,null);return s.multi=[],s.index=t,s.componentProviders=0,qx(s,o,r&&!n),s}(o?X6:K6,n.length,o,r,c);!o&&de&&(n[M].providerFactory=ge),gC(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(ge),s.push(ge)}else gC(i,e,C>-1?C:M,qx(n[o?M:C],c,!o&&r));!o&&r&&de&&n[M].componentProviders++}}}function gC(e,t,n,r){const o=Mt(t),i=function Ir(e){return!!e.useClass}(t);if(o||i){const l=(i?jt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function qx(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function mC(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function K6(e,t,n,r,o){return vC(this.multi,[])}function X6(e,t,n,r,o){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Bf(r,r[1],this.providerFactory.index,o);s=l.slice(0,a),vC(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],vC(i,s);return s}function vC(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function hr(e,t=[]){return n=>{n.providersResolver=(r,o)=>function Y6(e,t,n){const r=Ft();if(r.firstCreatePass){const o=Oi(e);hC(n,r.data,r.blueprint,o,!0),hC(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}function Xx(e,t,n,r,o,i){const s=t+n;return to(e,s,o)?gl(e,s+1,i?r.call(i,o):r(o)):function Tp(e,t){const n=e[t];return n===Er?void 0:n}(e,s+1)}function xc(e,t){const n=Ft();let r;const o=e+26;n.firstCreatePass?(r=function dz(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=p(r.type)),a=Xr(y);try{const l=qh(!1),c=i();return qh(l),function Ju(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Me(),o,c),c}finally{Xr(a)}}function kc(e,t,n){const r=e+26,o=Me(),i=cl(o,r);return function Ap(e,t){return e[1].data[t].pure}(o,r)?Xx(o,ai(),t,i.transform,n,i):i.transform(n)}class Gz{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let zz=(()=>{class e{compileModuleSync(n){return new mA(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=hl(Rn(n).declarations).reduce((s,a)=>{const l=Ct(a);return l&&s.push(new dp(l)),s},[]);return new Gz(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),qz=(()=>{class e{zone=$e(qe);changeDetectionScheduler=$e(rd);applicationRef=$e(Is);applicationErrorHandler=$e(za);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _k({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new qe({...SC(),scheduleInRootZone:n}),[{provide:qe,useFactory:e},{provide:At,multi:!0,useFactory:()=>{const r=$e(qz,{optional:!0});return()=>r.initialize()}},{provide:At,multi:!0,useFactory:()=>{const r=$e(Yz);return()=>{r.initialize()}}},!0===t?{provide:xD,useValue:!0}:[],{provide:kD,useValue:n??NA},{provide:za,useFactory:()=>{const r=$e(qe),o=$e(B);let i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(nd),i.handleError(s))})}}}]}function SC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Yz=(()=>{class e{subscription=new ct;initialized=!1;zone=$e(qe);pendingTasks=$e(vc);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sk=(()=>{class e{applicationErrorHandler=$e(za);appRef=$e(Is);taskService=$e(vc);ngZone=$e(qe);zonelessEnabled=$e(MD);tracing=$e(gp,{optional:!0});disableScheduling=$e(xD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ct;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($e(kD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ab||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const o=this.useMicrotaskScheduler?PA:OA;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,PA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Nc=new rt("",{providedIn:"root",factory:()=>$e(Nc,{optional:!0,skipSelf:!0})||function Kz(){return typeof $localize<"u"&&$localize.locale||cm}()}),bm=Symbol("InputSignalNode#UNSET"),Ik={..._n,transformFn:void 0,applyValueToInputSignal(e,t){yt(e,t)}};function Tk(e,t){const n=Object.create(Ik);function r(){if(W(n),n.value===bm)throw new Fe(-950,null);return n.value}return n.value=e,n.transformFn=t?.transform,r[I]=n,r}function Ak(e,t){return Tk(e,t)}new rt("").__NG_ELEMENT_ID__=e=>{const t=D();if(null===t)throw new Fe(204,!1);if(2&t.type)return t.value;if(8&e)return null;throw new Fe(204,!1)};const a8=(Ak.required=function s8(e){return Tk(bm,e)},Ak),Sm=new rt(""),f8=new rt("");function xp(e){return!e.moduleRef}let Ok;function Pk(){Ok=p8}function p8(e,t){const n=e.injector.get(Is);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Fe(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}let Fk=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){const o=r?.scheduleInRootZone,s=r?.ignoreChangesOutsideZone,a=[_k({ngZoneFactory:()=>function QU(e="zone.js",t){return"noop"===e?new Ab:"zone.js"===e?new qe(t):e}(r?.ngZone,{...SC({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:s}),{provide:rd,useExisting:Sk},ML],l=function CU(e,t,n){return new Cb(e,t,n,!1)}(n.moduleType,this.injector,a);return Pk(),function Nk(e){const t=xp(e)?e.r3Injector:e.moduleRef.injector,n=t.get(qe);return n.run(()=>{xp(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(za);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),xp(e)){const i=()=>t.destroy(),s=e.platformInjector.get(Sm);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{const i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Sm);s.add(i),e.moduleRef.onDestroy(()=>{Jg(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return function h8(e,t,n){try{const r=n();return yp(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}(r,n,()=>{const i=t.get(vc),s=i.add(),a=t.get(hM);return a.runInitializers(),a.donePromise.then(()=>{if(function EG(e){"string"==typeof e&&(WM=e.toLowerCase().replace(/_/g,"-"))}(t.get(Nc,cm)||cm),!t.get(f8,!0))return xp(e)?t.get(Is):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(xp(e)){const d=t.get(Is);return void 0!==e.rootComponent&&d.bootstrap(e.rootComponent),d}return Ok?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{i.remove(s)})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const o=mM({},r);return Pk(),function l8(e,t,n){const r=new mA(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Sm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(oe(ao))};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Bd=null;function Lk(e,t,n=[]){const r=`Platform: ${t}`,o=new rt(r);return(i=[])=>{let s=wm();if(!s){const a=[...n,...i,{provide:o,useValue:!0}];s=e?.(a)??function g8(e){if(wm())throw new Fe(400,!1);(function iH(){!function ft(e){ze=e}(()=>{throw new Fe(600,"")})})(),Bd=e;const t=e.get(Fk);return function Bk(e){const t=e.get(OI,null);Ro(e,()=>{t?.forEach(n=>n())})}(e),t}(function $k(e=[],t){return ao.create({name:t,providers:[{provide:Wn,useValue:"platform"},{provide:Sm,useValue:new Set([()=>Bd=null])},...e]})}(a,r))}return function m8(){const t=wm();if(!t)throw new Fe(401,!1);return t}()}}function wm(){return Bd?.get(Fk)??null}let ht=(()=>class e{static __NG_ELEMENT_ID__=y8})();function y8(e){return function _8(e,t,n){if(ya(e)&&!n){const r=gi(e.index,t);return new Jf(r,r)}return 175&e.type?new Jf(t[15],t):null}(D(),Me(),!(16&~e))}class Vk{constructor(){}supports(t){return Bg(t)}create(t){return new C8(t)}}const b8=(e,t)=>t;class C8{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||b8}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<Hk(r,o,i)?n:r,a=Hk(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,d=l-o;if(c!=d){for(let v=0;v<c;v++){const C=v<i.length?i[v]:i[v]=0,M=C+v;d<=M&&M<c&&(i[v]=C+1)}i[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Bg(t))throw new Fe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function OV(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new S8(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Uk),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Uk),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class S8{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}}class w8{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Uk{map=new Map;put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new w8,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hk(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function zk(){return new TC([new Vk])}let TC=(()=>{class e{factories;static \u0275prov=Je({token:e,providedIn:"root",factory:zk});constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{const r=$e(e,{optional:!0,skipSelf:!0});return e.create(n,r||zk())}}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Fe(901,!1)}}return e})();const A8=Lk(null,"core",[]);let M8=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(oe(Is))};static \u0275mod=Oo({type:e});static \u0275inj=Fn({})}return e})();function aR(e){const t=Ct(e);if(!t)return null;const n=new dp(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}const lR="browser";function Vd(e){return e===lR}let o5=(()=>{class e{static \u0275prov=Je({token:e,providedIn:"root",factory:()=>new i5($e(_i),window)})}return e})();class i5{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo({...n,left:t[0],top:t[1]})}scrollToAnchor(t,n){const r=function s5(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Br(2400,!1))}}scrollToElement(t,n){const r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo({...n,left:o-s[0],top:i-s[1]})}}function Wr(e){return function L5(e){const t=T(null);try{return e()}finally{T(t)}}(e)}function Ms(e,t){return function Ne(e,t){const n=Object.create(St);n.computation=e,void 0!==t&&(n.equal=t);const r=()=>{if(me(n),W(n),n.value===et)throw n.error;return n.value};return r[I]=n,r}(e,t?.equal)}Error,Error;let TR=(()=>{class e extends dl{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Uy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+Fl(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+Fl(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(oe(Vy),oe(PD,8))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();class BW{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wl=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new BW(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),$R(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{$R(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(Zi),y(qa),y(TC))};static \u0275dir=Ut({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function $R(e,t){e.context.$implicit=t.item}let _o=(()=>{class e{_viewContainer;_context=new jW;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){BR(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){BR(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(Zi),y(qa))};static \u0275dir=Ut({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class jW{$implicit=null;ngIf=null}function BR(e,t){if(e&&!e.createEmbeddedView)throw new Fe(2020,!1)}class GC{_viewContainerRef;_templateRef;_created=!1;constructor(t,n){this._viewContainerRef=t,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Hm=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),jR=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(n,r,o){this.ngSwitch=o,o._addCase(),this._view=new GC(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||e)(y(Zi),y(qa),y(Hm,9))};static \u0275dir=Ut({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})(),VR=(()=>{class e{constructor(n,r,o){o._addDefault(new GC(n,r))}static \u0275fac=function(r){return new(r||e)(y(Zi),y(qa),y(Hm,9))};static \u0275dir=Ut({type:e,selectors:[["","ngSwitchDefault",""]]})}return e})(),ql=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Oo({type:e});static \u0275inj=Fn({})}return e})();const ZC=new rt("");let GR=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new Fe(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(oe(ZC),oe(qe))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();class zR{_doc;constructor(t){this._doc=t}manager}const YC="ng-app-id";function WR(e){for(const t of e)t.remove()}function qR(e,t){const n=t.createElement("style");return n.textContent=e,n}function KC(e,t){const n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}let ZR=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,function d9(e,t,n,r){const o=e.head?.querySelectorAll(`style[${YC}="${t}"],link[${YC}="${t}"]`);if(o)for(const i of o)i.removeAttribute(YC),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const o of n)this.addUsage(o,this.inline,qR);r?.forEach(o=>this.addUsage(o,this.external,KC))}removeStyles(n,r){for(const o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){const i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){const o=r.get(n);o&&(o.usage--,o.usage<=0&&(WR(o.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])WR(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:o}]of this.inline)o.push(this.addElement(n,qR(r,this.doc)));for(const[r,{elements:o}]of this.external)o.push(this.addElement(n,KC(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(oe(_i),oe(Uf),oe(PI,8),oe(tg))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();const XC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},QC=/%COMP%/g,v9=new rt("",{providedIn:"root",factory:()=>!0});function KR(e,t){return t.map(n=>n.replace(QC,e))}let XR=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,o,i,s,a,l,c=null,d,h,v=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=d,this.maxAnimationTimeout=h,this.tracingService=v,this.platformIsServer=!1,this.defaultRenderer=new JC(n,s,l,this.platformIsServer,this.tracingService,this.registry=function $y(){return Ly}(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(n,r);return o instanceof JR?o.applyToHost(n):o instanceof eS&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Bl.Emulated:i=new JR(l,c,r,this.appId,d,s,a,h,v,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Bl.ShadowDom:return new C9(l,c,n,r,s,a,this.nonce,h,v,this.registry,this.maxAnimationTimeout);default:i=new eS(l,c,r,d,s,a,h,v,this.registry,this.animationDisabled,this.maxAnimationTimeout)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(oe(GR),oe(ZR),oe(Uf),oe(v9),oe(_i),oe(tg),oe(qe),oe(PI),oe(IM),oe(HH),oe(gp,8))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();class JC{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i,s,a){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(XC[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(QR(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(QR(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){const{elements:r}=this.registry;r?r.animate(n,()=>n.remove(),this.maxAnimationTimeout):n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Fe(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=XC[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=XC[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(wc.DashCase|wc.Important)?t.style.setProperty(n,r,o&wc.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&wc.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if("string"==typeof t&&!(t=yc().getGlobalEventTarget(this.doc,t)))throw new Fe(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&n.preventDefault()}}}function QR(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class C9 extends JC{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,l,c,d,h){super(t,i,s,l,c,d,h),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=o.styles;v=KR(o.id,v);for(const M of v){const U=document.createElement("style");a&&U.setAttribute("nonce",a),U.textContent=M,this.shadowRoot.appendChild(U)}const C=o.getExternalStyles?.();if(C)for(const M of C){const U=KC(M,i);a&&U.setAttribute("nonce",a),this.shadowRoot.appendChild(U)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class eS extends JC{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,n,r,o,i,s,a,l,c,d,h,v){super(t,i,s,a,l,c,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this._animationDisabled=d;let C=r.styles;this.styles=v?KR(v,C):C,this.styleUrls=r.getExternalStyles?.(v)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements)return void this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}}class JR extends eS{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,l,c,d,h,v){const C=o+"-"+r.id;super(t,n,r,i,s,a,l,c,d,h,v,C),this.contentAttr=function y9(e){return"_ngcontent-%COMP%".replace(QC,e)}(C),this.hostAttr=function _9(e){return"_nghost-%COMP%".replace(QC,e)}(C)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class tS extends OL{supportsDOMEvents=!0;static makeCurrent(){!function NL(e){ND??=e}(new tS)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function S9(){return Fp=Fp||document.head.querySelector("base"),Fp?Fp.getAttribute("href"):null}();return null==n?null:function w9(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Fp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $D(document.cookie,t)}}let Fp=null,D9=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})(),I9=(()=>{class e extends zR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(oe(_i))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();const eN=["alt","control","meta","shift"],T9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},A9={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let M9=(()=>{class e extends zR{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o,i){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yc().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),eN.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=T9[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),eN.forEach(s=>{s!==o&&(0,A9[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||e)(oe(_i))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();const N9=Lk(A8,"browser",[{provide:tg,useValue:lR},{provide:OI,useValue:function x9(){tS.makeCurrent()},multi:!0},{provide:_i,useFactory:function R9(){return function eB(e){r_=e}(document),document}}]),rN=[{provide:Qg,useClass:class E9{addToWindow(t){Bn.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new Fe(5103,!1);return i},Bn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Bn.getAllAngularRootElements=()=>t.getAllRootElements(),Bn.frameworkStabilizers||(Bn.frameworkStabilizers=[]),Bn.frameworkStabilizers.push(r=>{const o=Bn.getAllAngularTestabilities();let i=o.length;const s=function(){i--,0==i&&r()};o.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?yc().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}}},{provide:fM,useClass:Fb,deps:[qe,Lb,Qg]},{provide:Fb,useClass:Fb,deps:[qe,Lb,Qg]}],oN=[{provide:Wn,useValue:"root"},{provide:nd,useFactory:function k9(){return new nd}},{provide:ZC,useClass:I9,multi:!0,deps:[_i]},{provide:ZC,useClass:M9,multi:!0,deps:[_i]},XR,ZR,GR,{provide:ob,useExisting:XR},{provide:BD,useClass:D9},[]];let O9=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Oo({type:e});static \u0275inj=Fn({providers:[...oN,...rN],imports:[ql,M8]})}return e})(),P9=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(oe(_i))};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let nS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:function(r){let o=null;return o=r?new(r||e):oe(j9),o},providedIn:"root"})}return e})(),j9=(()=>{class e extends nS{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case ws.NONE:return r;case ws.HTML:return pl(r,"HTML")?Ks(r):_1(this._doc,String(r)).toString();case ws.STYLE:return pl(r,"Style")?Ks(r):r;case ws.SCRIPT:if(pl(r,"Script"))return Ks(r);throw new Fe(5200,!1);case ws.URL:return pl(r,"URL")?Ks(r):fg(String(r));case ws.RESOURCE_URL:if(pl(r,"ResourceURL"))return Ks(r);throw new Fe(5201,!1);default:throw new Fe(5202,!1)}}bypassSecurityTrustHtml(n){return function zB(e){return new BB(e)}(n)}bypassSecurityTrustStyle(n){return function WB(e){return new jB(e)}(n)}bypassSecurityTrustScript(n){return function qB(e){return new VB(e)}(n)}bypassSecurityTrustUrl(n){return function ZB(e){return new UB(e)}(n)}bypassSecurityTrustResourceUrl(n){return function YB(e){return new HB(e)}(n)}static \u0275fac=function(r){return new(r||e)(oe(_i))};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const $p="safari"in window,fo=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,aN=fo&&!navigator.userAgent.match(/(crios)|(fxios)/i),ml=!!navigator.userAgent.match(/pwashell/i),rS=!!navigator.userAgent.match(/android/i),V9=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;function Gm(e){return e+"-preview"}function oS(e){return localStorage.getItem(Gm(e))}function iS(e,t){localStorage.setItem(Gm(e),t)}const lN="DYNAMIC_FONTS";function cN(){return!!Hd()&&"1"===(oS(lN)??"1")}function Hd(){return fo}function uN(){Hd()&&(cN()?document.documentElement.style.removeProperty("--ion-dynamic-font"):document.documentElement.style.setProperty("--ion-dynamic-font","initial"))}const dN="cp-indicator-fix-portrait",fN="cp-indicator-fix-landscape",pN="cloudpilot-indicator-fix-mode";let zm;function hN(){return function U9(e){return localStorage.getItem(Gm(e))??localStorage.getItem(e)}(pN)??"none"}function sS(){return aN&&!navigator?.standalone}function gN(e){if(!sS())return;zm||(zm=document.createElement("style"),zm.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${dN} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${fN} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(zm)),void 0!==e?iS(pN,e):e=hN();const t=document.documentElement.classList;t.toggle(dN,"all"===e||"portrait"===e),t.toggle(fN,"all"===e||"landscape"===e)}const Wm="cloudpilot-session";function mN(){!function H9(e){localStorage.removeItem(Gm(e))}(Wm)}var fr=_(6784),Y9=_(3028),Gd=_.n(Y9);let qm,Zm;function vN(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const n=t.split("&").map(r=>r.split("="));for(const[r,o]of n)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function yN(){return void 0!==Zm}class _N{constructor(){this.requestEvent=new fr.J}dispatchRequest(t){if(t){try{t=new(Gd())(t).toString()}catch(n){return void console.error(`invalid URL: ${t}`,n)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let aS=(()=>{var e;class t{constructor(){this.installation=new _N,this.import=new _N,qm&&this.installation.dispatchRequest(qm),Zm&&this.import.dispatchRequest(Zm)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function re(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function Pc(e){return this instanceof Pc?(this.v=e,this):new Pc(e)}function wN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function dS(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const pS=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function EN(e){return xt(e?.then)}function DN(e){return xt(e[ro])}function IN(e){return Symbol.asyncIterator&&xt(e?.[Symbol.asyncIterator])}function TN(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const AN=function w7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function MN(e){return xt(e?.[AN])}function xN(e){return function SN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(C){return function(M){return Promise.resolve(M).then(C,h)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(C,M){r[C]&&(o[C]=function(U){return new Promise(function(de,ge){i.push([C,U,de,ge])>1||l(C,U)})},M&&(o[C]=M(o[C])))}function l(C,M){try{!function c(C){C.value instanceof Pc?Promise.resolve(C.value.v).then(d,h):v(i[0][2],C)}(r[C](M))}catch(U){v(i[0][3],U)}}function d(C){l("next",C)}function h(C){l("throw",C)}function v(C,M){C(M),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Pc(n.read());if(o)return yield Pc(void 0);yield yield Pc(r)}}finally{n.releaseLock()}})}function kN(e){return xt(e?.getReader)}function xs(e){if(e instanceof Cn)return e;if(null!=e){if(DN(e))return function E7(e){return new Cn(t=>{const n=e[ro]();if(xt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(pS(e))return function D7(e){return new Cn(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(EN(e))return function I7(e){return new Cn(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,nr)})}(e);if(IN(e))return RN(e);if(MN(e))return function T7(e){return new Cn(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(kN(e))return function A7(e){return RN(xN(e))}(e)}throw TN(e)}function RN(e){return new Cn(t=>{(function M7(e,t){var n,r,o,i;return function bN(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=wN(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Zl(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Ei(e,t,n=1/0){return xt(t)?Ei((r,o)=>Yn((i,s)=>t(r,i,o,s))(xs(e(r,o))),n):("number"==typeof t&&(n=t),Yo((r,o)=>function x7(e,t,n,r,o,i,s,a){const l=[];let c=0,d=0,h=!1;const v=()=>{h&&!l.length&&!c&&t.complete()},C=U=>c<r?M(U):l.push(U),M=U=>{i&&t.next(U),c++;let de=!1;xs(n(U,d++)).subscribe(No(t,ge=>{o?.(ge),i?C(ge):t.next(ge)},()=>{de=!0},void 0,()=>{if(de)try{for(c--;l.length&&c<r;){const ge=l.shift();s?Zl(t,s,()=>M(ge)):M(ge)}v()}catch(ge){t.error(ge)}}))};return e.subscribe(No(t,C,()=>{h=!0,v()})),()=>{a?.()}}(r,o,e,n)))}function zd(e,t){return xt(t)?Ei(e,t,1):Ei(e,1)}function Ia(e,t){return Yo((n,r)=>{let o=0;n.subscribe(No(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Bp(e){return Yo((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function ci(e,t){return Yo((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(No(r,l=>{o?.unsubscribe();let c=0;const d=i++;xs(e(l,d)).subscribe(o=No(r,h=>r.next(t?t(l,h,d,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function NN(e){return e&&xt(e.schedule)}function hS(e){return e[e.length-1]}function ON(e){return xt(hS(e))?e.pop():void 0}function jp(e){return NN(hS(e))?e.pop():void 0}function PN(e,t=0){return Yo((n,r)=>{n.subscribe(No(r,o=>Zl(r,e,()=>r.next(o),t),()=>Zl(r,e,()=>r.complete(),t),o=>Zl(r,e,()=>r.error(o),t)))})}function FN(e,t=0){return Yo((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function LN(e,t){if(!e)throw new Error("Iterable cannot be null");return new Cn(n=>{Zl(n,t,()=>{const r=e[Symbol.asyncIterator]();Zl(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Xo(e,t){return t?function L7(e,t){if(null!=e){if(DN(e))return function R7(e,t){return xs(e).pipe(FN(t),PN(t))}(e,t);if(pS(e))return function O7(e,t){return new Cn(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(EN(e))return function N7(e,t){return xs(e).pipe(FN(t),PN(t))}(e,t);if(IN(e))return LN(e,t);if(MN(e))return function P7(e,t){return new Cn(n=>{let r;return Zl(n,t,()=>{r=e[AN](),Zl(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>xt(r?.return)&&r.return()})}(e,t);if(kN(e))return function F7(e,t){return LN(xN(e),t)}(e,t)}throw TN(e)}(e,t):xs(e)}function cn(...e){return Xo(e,jp(e))}class Ym{}class Km{}class Ka{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ka?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Ka;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ka?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(t,n){const r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class $7{encodeKey(t){return $N(t)}encodeValue(t){return $N(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const j7=/%(\d[a-f0-9])/gi,V7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $N(e){return encodeURIComponent(e).replace(j7,(t,n)=>V7[n]??t)}function Xm(e){return`${e}`}class Fc{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new $7,t.fromString){if(t.fromObject)throw new Fe(2805,!1);this.map=function B7(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(Xm):[Xm(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new Fc({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Xm(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(Xm(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class U7{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function BN(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function jN(e){return typeof Blob<"u"&&e instanceof Blob}function VN(e){return typeof FormData<"u"&&e instanceof FormData}const Vp="Content-Type",gS="X-Request-URL",UN="text/plain",HN="application/json",GN=`${HN}, ${UN}, */*`;class Up{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){let i;if(this.url=n,this.method=t.toUpperCase(),function H7(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),"number"==typeof i.timeout){if(i.timeout<1||!Number.isInteger(i.timeout))throw new Fe(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new Ka,this.context??=new U7,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Fc,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||BN(this.body)||jN(this.body)||VN(this.body)||function G7(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Fc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||VN(this.body)?null:jN(this.body)?this.body.type||null:BN(this.body)?null:"string"==typeof this.body?UN:this.body instanceof Fc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?HN:null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,l=t.mode||this.mode,c=t.redirect||this.redirect,d=t.credentials||this.credentials,h=t.referrer||this.referrer,v=t.integrity||this.integrity,C=t.transferCache??this.transferCache,M=t.timeout??this.timeout,U=void 0!==t.body?t.body:this.body,de=t.withCredentials??this.withCredentials,ge=t.reportProgress??this.reportProgress;let ke=t.headers||this.headers,It=t.params||this.params;const Ht=t.context??this.context;return void 0!==t.setHeaders&&(ke=Object.keys(t.setHeaders).reduce((Gt,$t)=>Gt.set($t,t.setHeaders[$t]),ke)),t.setParams&&(It=Object.keys(t.setParams).reduce((Gt,$t)=>Gt.set($t,t.setParams[$t]),It)),new Up(n,r,U,{params:It,headers:ke,context:Ht,reportProgress:ge,responseType:o,withCredentials:de,transferCache:C,keepalive:i,cache:a,priority:s,timeout:M,mode:l,redirect:c,credentials:d,referrer:h,integrity:v})}}var Lc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Lc||{});class mS{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new Ka,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}}class Jm extends mS{constructor(t={}){super(t)}type=Lc.ResponseHeader;clone(t={}){return new Jm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hp extends mS{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=Lc.Response;clone(t={}){return new Hp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}}class Du extends mS{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function vS(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}let yS=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof Up)i=n;else{let l,c;l=o.headers instanceof Ka?o.headers:new Ka(o.headers),o.params&&(c=o.params instanceof Fc?o.params:new Fc({fromObject:o.params})),i=new Up(n,r,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}const s=cn(i).pipe(zd(l=>this.handler.handle(l)));if(n instanceof Up||"events"===o.observe)return s;const a=s.pipe(Ia(l=>l instanceof Hp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Yn(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Fe(2806,!1);return l.body}));case"blob":return a.pipe(Yn(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Fe(2807,!1);return l.body}));case"text":return a.pipe(Yn(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Fe(2808,!1);return l.body}));default:return a.pipe(Yn(l=>l.body))}case"response":return a;default:throw new Fe(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new Fc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,vS(o,r))}post(n,r,o={}){return this.request("POST",n,vS(o,r))}put(n,r,o={}){return this.request("PUT",n,vS(o,r))}static \u0275fac=function(r){return new(r||e)(oe(Ym))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();const qN=new rt("");function ZN(e,t){return t(e)}function K7(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const Q7=new rt(""),Gp=new rt(""),J7=new rt(""),YN=new rt("",{providedIn:"root",factory:()=>!0});function eq(){let e=null;return(t,n)=>{null===e&&(e=($e(Q7,{optional:!0})??[]).reduceRight(K7,ZN));const r=$e(Hh);if($e(YN)){const i=r.add();return e(t,n).pipe(Bp(i))}return e(t,n)}}let KN=(()=>{class e extends Ym{backend;injector;chain=null;pendingTasks=$e(Hh);contributeToStability=$e(YN);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Gp),...this.injector.get(J7,[])]));this.chain=r.reduceRight((o,i)=>function X7(e,t,n){return(r,o)=>Ro(n,()=>t(r,i=>e(i,o)))}(o,i,this.injector),ZN)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Bp(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(oe(Km),oe(B))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();const oq=/^\)\]\}',?\n/,iq=RegExp(`^${gS}:`,"m");let QN=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Fe(-2800,!1);const r=this.xhrFactory;return cn(null).pipe(ci(()=>new Cn(i=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((de,ge)=>s.setRequestHeader(de,ge.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",GN),!n.headers.has(Vp)){const de=n.detectContentTypeHeader();null!==de&&s.setRequestHeader(Vp,de)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){const de=n.responseType.toLowerCase();s.responseType="json"!==de?de:"text"}const a=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const de=s.statusText||"OK",ge=new Ka(s.getAllResponseHeaders()),ke=function sq(e){return"responseURL"in e&&e.responseURL?e.responseURL:iq.test(e.getAllResponseHeaders())?e.getResponseHeader(gS):null}(s)||n.url;return l=new Jm({headers:ge,status:s.status,statusText:de,url:ke}),l},d=()=>{let{headers:de,status:ge,statusText:ke,url:It}=c(),Ht=null;204!==ge&&(Ht=typeof s.response>"u"?s.responseText:s.response),0===ge&&(ge=Ht?200:0);let Gt=ge>=200&&ge<300;if("json"===n.responseType&&"string"==typeof Ht){const $t=Ht;Ht=Ht.replace(oq,"");try{Ht=""!==Ht?JSON.parse(Ht):null}catch(Kn){Ht=$t,Gt&&(Gt=!1,Ht={error:Kn,text:Ht})}}Gt?(i.next(new Hp({body:Ht,headers:de,status:ge,statusText:ke,url:It||void 0})),i.complete()):i.error(new Du({error:Ht,headers:de,status:ge,statusText:ke,url:It||void 0}))},h=de=>{const{url:ge}=c(),ke=new Du({error:de,status:s.status||0,statusText:s.statusText||"Unknown Error",url:ge||void 0});i.error(ke)};let v=h;n.timeout&&(v=de=>{const{url:ge}=c(),ke=new Du({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:ge||void 0});i.error(ke)});let C=!1;const M=de=>{C||(i.next(c()),C=!0);let ge={type:Lc.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(ge.total=de.total),"text"===n.responseType&&s.responseText&&(ge.partialText=s.responseText),i.next(ge)},U=de=>{let ge={type:Lc.UploadProgress,loaded:de.loaded};de.lengthComputable&&(ge.total=de.total),i.next(ge)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",v),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",M),null!==a&&s.upload&&s.upload.addEventListener("progress",U)),s.send(a),i.next({type:Lc.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",v),n.reportProgress&&(s.removeEventListener("progress",M),null!==a&&s.upload&&s.upload.removeEventListener("progress",U)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(oe(BD))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();const CS=new rt(""),JN=new rt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),eO=new rt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class tO{}let cq=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=$D(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(oe(_i),oe(JN))};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();function uq(e,t){const n=e.url.toLowerCase();if(!$e(CS)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=$e(tO).getToken(),o=$e(eO);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var $c=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}($c||{});function Iu(e,t){return{\u0275kind:e,\u0275providers:t}}function dq(...e){const t=[yS,QN,KN,{provide:Ym,useExisting:KN},{provide:Km,useFactory:()=>$e(qN,{optional:!0})??$e(QN)},{provide:Gp,useValue:uq,multi:!0},{provide:CS,useValue:!0},{provide:tO,useClass:cq}];for(const n of e)t.push(...n.\u0275providers);return $(t)}const nO=new rt(""),{isArray:hq}=Array,{getPrototypeOf:gq,prototype:mq,keys:vq}=Object;function rO(e){if(1===e.length){const t=e[0];if(hq(t))return{args:t,keys:null};if(function yq(e){return e&&"object"==typeof e&&gq(e)===mq}(t)){const n=vq(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:_q}=Array;function SS(e){return Yn(t=>function bq(e,t){return _q(t)?e(...t):e(t)}(e,t))}function oO(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function ev(...e){const t=jp(e),n=ON(e),{args:r,keys:o}=rO(e);if(0===r.length)return Xo([],t);const i=new Cn(function Cq(e,t,n=Kr){return r=>{iO(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)iO(t,()=>{const c=Xo(e[l],t);let d=!1;c.subscribe(No(r,h=>{i[l]=h,d||(d=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>oO(o,s):Kr));return n?i.pipe(SS(n)):i}function iO(e,t,n){e?Zl(n,e,t):t()}const tv=Ye(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Wd(e=1/0){return Ei(Kr,e)}function wS(...e){return function Sq(){return Wd(1)}()(Xo(e,jp(e)))}function ES(e){return new Cn(t=>{xs(e()).subscribe(t)})}function nv(e,t){const n=xt(e)?e:()=>e,r=o=>o.error(n());return new Cn(t?o=>t.schedule(r,0,o):r)}const Ta=new Cn(e=>e.complete());function DS(){return Yo((e,t)=>{let n=null;e._refCount++;const r=No(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class sO extends Cn{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,jD(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ct;const n=this.getSubject();t.add(this.source.subscribe(No(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ct.EMPTY)}return t}refCount(){return DS()(this)}}function qd(e){return e<=0?()=>Ta:Yo((t,n)=>{let r=0;t.subscribe(No(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function rv(e){return Yo((t,n)=>{let r=!1;t.subscribe(No(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function aO(e=Dq){return Yo((t,n)=>{let r=!1;t.subscribe(No(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Dq(){return new tv}function Bc(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ia((o,i)=>e(o,i,r)):Kr,qd(1),n?rv(t):aO(()=>new tv))}function Li(e,t,n){const r=xt(e)||t||n?{next:e,error:t,complete:n}:e;return r?Yo((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(No(i,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),i.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),i.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),i.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Kr}function Tu(e){return Yo((t,n)=>{let i,r=null,o=!1;r=t.subscribe(No(n,void 0,void 0,s=>{i=xs(e(s,Tu(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function IS(e){return e<=0?()=>Ta:Yo((t,n)=>{let r=[];t.subscribe(No(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function TS(e){return Yo((t,n)=>{xs(e).subscribe(No(n,()=>n.complete(),cr)),!n.closed&&t.subscribe(n)})}const kn="primary",zp=Symbol("RouteTitle");class Mq{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Zd(e){return new Mq(e)}function xq(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=e[i];if(":"===s[0])o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function vl(e,t){const n=e?AS(e):void 0,r=t?AS(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!lO(e[o],t[o]))return!1;return!0}function AS(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function lO(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}return e===t}function cO(e){return e.length>0?e[e.length-1]:null}function Yl(e){return function pq(e){return!!e&&(e instanceof Cn||xt(e.lift)&&xt(e.subscribe))}(e)?e:yp(e)?Xo(Promise.resolve(e)):cn(e)}const Rq={exact:function fO(e,t,n){if(!Mu(e.segments,t.segments)||!ov(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!fO(e.children[r],t.children[r],n))return!1;return!0},subset:pO},uO={exact:function Nq(e,t){return vl(e,t)},subset:function Oq(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>lO(e[n],t[n]))},ignored:()=>!0};function dO(e,t,n){return Rq[n.paths](e.root,t.root,n.matrixParams)&&uO[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function pO(e,t,n){return hO(e,t,t.segments,n)}function hO(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!Mu(o,n)||t.hasChildren()||!ov(o,n,r))}if(e.segments.length===n.length){if(!Mu(e.segments,n)||!ov(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!pO(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!(Mu(e.segments,o)&&ov(e.segments,o,r)&&e.children[kn])&&hO(e.children[kn],t,i,r)}}function ov(e,t,n){return t.every((r,o)=>uO[n](e[o].parameters,r.parameters))}class Au{root;queryParams;fragment;_queryParamMap;constructor(t=new kr([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zd(this.queryParams),this._queryParamMap}toString(){return Lq.serialize(this)}}class kr{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sv(this)}}class Wp{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Zd(this.parameters),this._parameterMap}toString(){return vO(this)}}function Mu(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Yd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:()=>new iv,providedIn:"root"})}return e})();class iv{parse(t){const n=new Zq(t);return new Au(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${qp(t.root,!0)}`,r=function jq(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${av(n)}=${av(o)}`).join("&"):`${av(n)}=${av(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function $q(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Lq=new iv;function sv(e){return e.segments.map(t=>vO(t)).join("/")}function qp(e,t){if(!e.hasChildren())return sv(e);if(t){const n=e.children[kn]?qp(e.children[kn],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==kn&&r.push(`${o}:${qp(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Fq(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===kn&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==kn&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===kn?[qp(e.children[kn],!1)]:[`${o}:${qp(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[kn]?`${sv(e)}/${n[0]}`:`${sv(e)}/(${n.join("//")})`}}function gO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function av(e){return gO(e).replace(/%3B/gi,";")}function MS(e){return gO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lv(e){return decodeURIComponent(e)}function mO(e){return lv(e.replace(/\+/g,"%20"))}function vO(e){return`${MS(e.path)}${function Bq(e){return Object.entries(e).map(([t,n])=>`;${MS(t)}=${MS(n)}`).join("")}(e.parameters)}`}const Vq=/^[^\/()?;#]+/;function xS(e){const t=e.match(Vq);return t?t[0]:""}const Uq=/^[^\/()?;=#]+/,Gq=/^[^=?&#]+/,Wq=/^[^&#]+/;class Zq{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kr([],{}):new kr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[kn]=new kr(t,n)),r}parseSegment(){const t=xS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Fe(4009,!1);return this.capture(t),new Wp(lv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Hq(e){const t=e.match(Uq);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=xS(this.remaining);o&&(r=o,this.capture(r))}t[lv(n)]=lv(r)}parseQueryParam(t){const n=function zq(e){const t=e.match(Gq);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function qq(e){const t=e.match(Wq);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=mO(n),i=mO(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=xS(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Fe(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=kn);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[kn]:new kr([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Fe(4011,!1)}}function yO(e){return e.segments.length>0?new kr([],{[kn]:e}):e}function _O(e){const t={};for(const[r,o]of Object.entries(e.children)){const i=_O(o);if(r===kn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function Yq(e){if(1===e.numberOfChildren&&e.children[kn]){const t=e.children[kn];return new kr(e.segments.concat(t.segments),t.children)}return e}(new kr(e.segments,t))}function xu(e){return e instanceof Au}function bO(e){let t;const o=yO(function n(i){const s={};for(const l of i.children){const c=n(l);s[l.outlet]=c}const a=new kr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function CO(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return kS(o,o,o,n,r);const i=function Xq(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wO(!0,0,e);let t=0,n=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new wO(n,t,r)}(t);if(i.toRoot())return kS(o,o,new kr([],{}),n,r);const s=function Qq(e,t,n){if(e.isAbsolute)return new uv(t,!0,0);if(!n)return new uv(t,!1,NaN);if(null===n.parent)return new uv(n,!0,0);const r=cv(e.commands[0])?0:1;return function Jq(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Fe(4005,!1);o=r.segments.length}return new uv(r,!1,o-i)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Yp(s.segmentGroup,s.index,i.commands):EO(s.segmentGroup,s.index,i.commands);return kS(o,s.segmentGroup,a,n,r)}function cv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Zp(e){return"object"==typeof e&&null!=e&&e.outlets}function kS(e,t,n,r,o){let s,i={};r&&Object.entries(r).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=e===t?n:SO(e,t,n);const a=yO(_O(s));return new Au(a,i,o)}function SO(e,t,n){const r={};return Object.entries(e.children).forEach(([o,i])=>{r[o]=i===t?n:SO(i,t,n)}),new kr(e.segments,r)}class wO{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&cv(r[0]))throw new Fe(4003,!1);const o=r.find(Zp);if(o&&o!==cO(r))throw new Fe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uv{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function EO(e,t,n){if(e??=new kr([],{}),0===e.segments.length&&e.hasChildren())return Yp(e,t,n);const r=function tZ(e,t,n){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;const s=e.segments[o],a=n[r];if(Zp(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!IO(l,c,s))return i;r+=2}else{if(!IO(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new kr(e.segments.slice(0,r.pathIndex),{});return i.children[kn]=new kr(e.segments.slice(r.pathIndex),e.children),Yp(i,0,o)}return r.match&&0===o.length?new kr(e.segments,{}):r.match&&!e.hasChildren()?RS(e,t,n):r.match?Yp(e,0,o):RS(e,t,n)}function Yp(e,t,n){if(0===n.length)return new kr(e.segments,{});{const r=function eZ(e){return Zp(e[0])?e[0].outlets:{[kn]:e}}(n),o={};if(Object.keys(r).some(i=>i!==kn)&&e.children[kn]&&1===e.numberOfChildren&&0===e.children[kn].segments.length){const i=Yp(e.children[kn],t,n);return new kr(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=EO(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new kr(e.segments,o)}}function RS(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const i=n[o];if(Zp(i)){const l=nZ(i.outlets);return new kr(r,l)}if(0===o&&cv(n[0])){r.push(new Wp(e.segments[t].path,DO(n[0]))),o++;continue}const s=Zp(i)?i.outlets[kn]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&cv(a)?(r.push(new Wp(s,DO(a))),o+=2):(r.push(new Wp(s,{})),o++)}return new kr(r,{})}function nZ(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=RS(new kr([],{}),0,r))}),t}function DO(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function IO(e,t,n){return e==n.path&&vl(t,n.parameters)}const Kp="imperative";var er=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(er||{});class yl{id;url;constructor(t,n){this.id=t,this.url=n}}class Xp extends yl{type=er.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kl extends yl{urlAfterRedirects;type=er.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ks=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(ks||{}),dv=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(dv||{});class ku extends yl{reason;code;type=er.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kd extends yl{reason;code;type=er.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}}class NS extends yl{error;target;type=er.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TO extends yl{urlAfterRedirects;state;type=er.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rZ extends yl{urlAfterRedirects;state;type=er.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oZ extends yl{urlAfterRedirects;state;shouldActivate;type=er.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iZ extends yl{urlAfterRedirects;state;type=er.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sZ extends yl{urlAfterRedirects;state;type=er.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aZ{route;type=er.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lZ{route;type=er.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cZ{snapshot;type=er.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uZ{snapshot;type=er.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dZ{snapshot;type=er.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fZ{snapshot;type=er.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AO{routerEvent;position;anchor;type=er.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class OS{}class fv{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function Xa(e){return e.outlet||kn}function Xd(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class _Z{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Xd(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ru(this.rootInjector)}}let Ru=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new _Z(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(oe(B))};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class MO{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=PS(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=PS(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=FS(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return FS(t,this._root).map(n=>n.value)}}function PS(e,t){if(e===t.value)return t;for(const n of t.children){const r=PS(e,n);if(r)return r}return null}function FS(e,t){if(e===t.value)return[t];for(const n of t.children){const r=FS(e,n);if(r.length)return r.unshift(t),r}return[]}class Qa{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Qd(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class xO extends MO{snapshot;constructor(t,n){super(t),this.snapshot=n,LS(this,t)}toString(){return this.snapshot.toString()}}function kO(e){const t=function bZ(e){const i=new hv([],{},{},"",{},kn,e,null,{});return new RO("",new Qa(i,[]))}(e),n=new br([new Wp("",{})]),r=new br({}),o=new br({}),i=new br({}),s=new br(""),a=new Xl(n,r,i,s,o,kn,e,t.root);return a.snapshot=t.root,new xO(new Qa(a,[]),t)}class Xl{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Yn(c=>c[zp]))??cn(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Yn(t=>Zd(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Yn(t=>Zd(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pv(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&OO(o)&&(r.resolve[zp]=o.title),r}class hv{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[zp]}constructor(t,n,r,o,i,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RO extends MO{url;constructor(t,n){super(n),this.url=t,LS(this,n)}toString(){return NO(this._root)}}function LS(e,t){t.value._routerState=e,t.children.forEach(n=>LS(e,n))}function NO(e){const t=e.children.length>0?` { ${e.children.map(NO).join(", ")} } `:"";return`${e.value}${t}`}function $S(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,vl(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),vl(t.params,n.params)||e.paramsSubject.next(n.params),function kq(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!vl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),vl(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function BS(e,t){const n=vl(e.params,t.params)&&function Pq(e,t){return Mu(e,t)&&e.every((n,r)=>vl(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||BS(e.parent,t.parent))}function OO(e){return"string"==typeof e.title||null===e.title}const CZ=new rt("");let PO=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=kn;activateEvents=new mn;deactivateEvents=new mn;attachEvents=new mn;detachEvents=new mn;routerOutletData=a8(void 0);parentContexts=$e(Ru);location=$e(Zi);changeDetector=$e(ht);inputBinder=$e(gv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Fe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Fe(4013,!1);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new SZ(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[qi]})}return e})();class SZ{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===Xl?this.route:t===Ru?this.childContexts:t===CZ?this.outletData:this.parent.get(t,n)}}const gv=new rt("");let FO=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=ev([r.queryParams,r.params,r.data]).pipe(ci(([i,s,a],l)=>(a={...i,...s,...a},0===l?cn(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=aR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})(),LO=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Qe({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){1&r&&tt(0,"router-outlet")},dependencies:[PO],encapsulation:2})}return e})();function jS(e){const t=e.children&&e.children.map(jS),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==kn&&(n.component=LO),n}function Qp(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function EZ(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Qp(e,r,o);return Qp(e,r)})}(e,t,n);return new Qa(r,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Qp(e,a)),s}}const r=function DZ(e){return new Xl(new br(e.url),new br(e.params),new br(e.queryParams),new br(e.fragment),new br(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Qp(e,i));return new Qa(r,o)}}class VS{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const $O="ngNavigationCancelingError";function mv(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=xu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=BO(!1,ks.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function BO(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[$O]=!0,n.cancellationCode=t,n}function jO(e){return!!e&&e[$O]}class AZ{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),$S(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Qd(n);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Qd(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Qd(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Qd(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new fZ(i.value.snapshot))}),t.children.length&&this.forwardEvent(new uZ(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if($S(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$S(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}}class VO{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vv{component;route;constructor(t,n){this.component=t,this.route=n}}function MZ(e,t,n){const r=e._root;return Jp(r,t?t._root:null,n,[r.value])}function Jd(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function aa(e){return null!==cs(e)}(e)?t.get(e):e:r}function Jp(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Qd(t);return e.children.forEach(s=>{(function kZ(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function RZ(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Mu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Mu(e.url,t.url)||!vl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!BS(e,t)||!vl(e.queryParams,t.queryParams);default:return!BS(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new VO(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Jp(e,t,i.component?a?a.children:null:n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new vv(a.outlet.component,s))}else s&&eh(t,a,o),o.canActivateChecks.push(new VO(r)),Jp(e,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>eh(a,n.getContext(s),o)),o}function eh(e,t,n){const r=Qd(e),o=e.value;Object.entries(r).forEach(([i,s])=>{eh(s,o.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new vv(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function th(e){return"function"==typeof e}function UO(e){return e instanceof tv||"EmptyError"===e?.name}const yv=Symbol("INITIAL_VALUE");function ef(){return ci(e=>ev(e.map(t=>t.pipe(qd(1),function Eq(...e){const t=jp(e);return Yo((n,r)=>{(t?wS(e,n,t):wS(e,n)).subscribe(r)})}(yv)))).pipe(Yn(t=>{for(const n of t)if(!0!==n){if(n===yv)return yv;if(!1===n||BZ(n))return n}return!0}),Ia(t=>t!==yv),qd(1)))}function BZ(e){return xu(e)||e instanceof VS}function HO(e){return function Eo(...e){return _r(e)}(Li(t=>{if("boolean"!=typeof t)throw mv(0,t)}),Yn(t=>!0===t))}class US{segmentGroup;constructor(t){this.segmentGroup=t||null}}class HS extends Error{urlTree;constructor(t){super(),this.urlTree=t}}function tf(e){return nv(new US(e))}function KZ(e){return nv(new Fe(4e3,!1))}class QZ{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return cn(r);if(o.numberOfChildren>1||!o.children[kn])return KZ();o=o.children[kn]}}applyRedirectCommands(t,n,r,o,i){return function JZ(e,t,n){if("string"==typeof e)return cn(e);const r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,params:c,data:d,title:h}=t;return Yl(Ro(n,()=>r({params:c,data:d,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,title:h})))}(n,o,i).pipe(Yn(s=>{if(s instanceof Au)throw new HS(s);const a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if("/"===s[0])throw new HS(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){const i=this.createSegmentGroup(t,n.root,r,o);return new Au(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){const i=this.createSegments(t,n.segments,r,o);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,o)}),new kr(i,s)}createSegments(t,n,r,o){return n.map(i=>":"===i.path[0]?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new Fe(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const GS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eY(e,t,n,r,o){const i=GO(e,t,n);return i.matched?(r=function hZ(e,t){return e.providers&&!e._injector&&(e._injector=Ug(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function YZ(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?cn(o.map(s=>{const a=Jd(s,e);return Yl(function $Z(e){return e&&th(e.canMatch)}(a)?a.canMatch(t,n):Ro(e,()=>a(t,n)))})).pipe(ef(),HO()):cn(!0)}(r,t,n).pipe(Yn(s=>!0===s?i:{...GS}))):cn(i)}function GO(e,t,n){if("**"===t.path)return function tY(e){return{matched:!0,parameters:e.length>0?cO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...GS}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||xq)(n,e,t);if(!o)return{...GS};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function zO(e,t,n,r){return n.length>0&&function oY(e,t,n){return n.some(r=>_v(e,t,r)&&Xa(r)!==kn)}(e,n,r)?{segmentGroup:new kr(t,rY(r,new kr(n,e.children))),slicedSegments:[]}:0===n.length&&function iY(e,t,n){return n.some(r=>_v(e,t,r))}(e,n,r)?{segmentGroup:new kr(e.segments,nY(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new kr(e.segments,e.children),slicedSegments:n}}function nY(e,t,n,r){const o={};for(const i of n)if(_v(e,t,i)&&!r[Xa(i)]){const s=new kr([],{});o[Xa(i)]=s}return{...r,...o}}function rY(e,t){const n={};n[kn]=t;for(const r of e)if(""===r.path&&Xa(r)!==kn){const o=new kr([],{});n[Xa(r)]=o}return n}function _v(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class aY{}class uY{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new QZ(this.urlSerializer,this.urlTree)}noMatchError(t){return new Fe(4002,`'${t.segmentGroup}'`)}recognize(){const t=zO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Yn(({children:n,rootSnapshot:r})=>{const o=new Qa(r,n),i=new RO("",o),s=function Kq(e,t,n=null,r=null){return CO(bO(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){const n=new hv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),kn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,kn,n).pipe(Yn(r=>({children:r,rootSnapshot:n})),Tu(r=>{if(r instanceof HS)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof US?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(Yn(s=>s instanceof Qa?[s]:[]))}processChildren(t,n,r,o){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Xo(i).pipe(zd(s=>{const a=r.children[s],l=function yZ(e,t){const n=e.filter(r=>Xa(r)===t);return n.push(...e.filter(r=>Xa(r)!==t)),n}(n,s);return this.processSegmentGroup(t,l,a,s,o)}),function Tq(e,t){return Yo(function Iq(e,t,n,r,o){return(i,s)=>{let a=n,l=t,c=0;i.subscribe(No(s,d=>{const h=c++;l=a?e(l,d,h):(a=!0,d),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),rv(null),function Aq(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Ia((o,i)=>e(o,i,r)):Kr,IS(1),n?rv(t):aO(()=>new tv))}(),Ei(s=>{if(null===s)return tf(r);const a=WO(s);return function dY(e){e.sort((t,n)=>t.value.outlet===kn?-1:n.value.outlet===kn?1:t.value.outlet.localeCompare(n.value.outlet))}(a),cn(a)}))}processSegment(t,n,r,o,i,s,a){return Xo(n).pipe(zd(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,o,i,s,a).pipe(Tu(c=>{if(c instanceof US)return cn(null);throw c}))),Bc(l=>!!l),Tu(l=>{if(UO(l))return function sY(e,t,n){return 0===t.length&&!e.children[n]}(r,o,i)?cn(new aY):tf(r);throw l}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,l){return Xa(r)===s||s!==kn&&_v(o,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,l):tf(o):tf(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){const{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:v}=GO(n,o,i);if(!l)return tf(n);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const C=new hv(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qO(o),Xa(o),o.component??o._loadedComponent??null,o,ZO(o)),M=pv(C,a,this.paramsInheritanceStrategy);return C.params=Object.freeze(M.params),C.data=Object.freeze(M.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,h,C,t).pipe(ci(de=>this.applyRedirects.lineralizeSegments(o,de)),Ei(de=>this.processSegment(t,r,n,de.concat(v),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){const a=eY(n,r,o,t);return"**"===r.path&&(n.children={}),a.pipe(ci(l=>l.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(ci(({routes:c})=>{const d=r._loadedInjector??t,{parameters:h,consumedSegments:v,remainingSegments:C}=l,M=new hv(v,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qO(r),Xa(r),r.component??r._loadedComponent??null,r,ZO(r)),U=pv(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(U.params),M.data=Object.freeze(U.data);const{segmentGroup:de,slicedSegments:ge}=zO(n,v,C,c);if(0===ge.length&&de.hasChildren())return this.processChildren(d,c,de,M).pipe(Yn(It=>new Qa(M,It)));if(0===c.length&&0===ge.length)return cn(new Qa(M,[]));const ke=Xa(r)===i;return this.processSegment(d,c,de,ge,ke?kn:i,!0,M).pipe(Yn(It=>new Qa(M,It instanceof Qa?[It]:[])))})):tf(n)))}getChildConfig(t,n,r){return n.children?cn({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?cn({routes:n._loadedRoutes,injector:n._loadedInjector}):function ZZ(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?cn(!0):cn(o.map(s=>{const a=Jd(s,e);return Yl(function OZ(e){return e&&th(e.canLoad)}(a)?a.canLoad(t,n):Ro(e,()=>a(t,n)))})).pipe(ef(),HO())}(t,n,r).pipe(Ei(o=>o?this.configLoader.loadChildren(t,n).pipe(Li(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function XZ(){return nv(BO(!1,ks.GuardRejected))}())):cn({routes:[],injector:t})}}function fY(e){const t=e.value.routeConfig;return t&&""===t.path}function WO(e){const t=[],n=new Set;for(const r of e){if(!fY(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=WO(r.children);t.push(new Qa(r.value,o))}return t.filter(r=>!n.has(r))}function qO(e){return e.data||{}}function ZO(e){return e.resolve||{}}function YO(e){const t=e.children.map(n=>YO(n)).flat();return[e,...t]}function zS(e){return ci(t=>{const n=e(t);return n?Xo(n).pipe(Yn(()=>t)):cn(t)})}let KO=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===kn);return r}getResolvedTitleForRoute(n){return n.data[zp]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:()=>$e(yY),providedIn:"root"})}return e})(),yY=(()=>{class e extends KO{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(oe(P9))};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const nf=new rt("",{providedIn:"root",factory:()=>({})}),bv=new rt("");let WS=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=$e(zz);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return cn(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=Yl(Ro(n,()=>r.loadComponent())).pipe(Yn(XO),ci(QO),Li(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Bp(()=>{this.componentLoaders.delete(r)})),i=new sO(o,()=>new On).pipe(DS());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return cn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function _Y(e,t,n,r){return Yl(Ro(n,()=>e.loadChildren())).pipe(Yn(XO),ci(QO),Ei(o=>o instanceof gA||Array.isArray(o)?cn(o):Xo(t.compileModuleAsync(o))),Yn(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(n).injector,s=i.get(bv,[],{optional:!0,self:!0}).flat()),{routes:s.map(jS),injector:i}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Bp(()=>{this.childrenLoaders.delete(r)})),s=new sO(i,()=>new On).pipe(DS());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function XO(e){return function bY(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}function QO(e){return cn(e)}let qS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:()=>$e(CY),providedIn:"root"})}return e})(),CY=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const JO=new rt(""),eP=new rt("");function SY(e,t,n){const r=e.get(eP),o=e.get(_i);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function wY(e){return new Promise(t=>{Mb({read:()=>setTimeout(t)},{injector:e})})}(e)));a.ready.catch(c=>{});const{onViewTransitionCreated:l}=r;return l&&Ro(e,()=>l({transition:a,from:t,to:n})),s}const tP=new rt("");let ZS=(()=>{class e{currentNavigation=bi(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new On;transitionAbortWithErrorSubject=new On;configLoader=$e(WS);environmentInjector=$e(B);destroyRef=$e(Ys);urlSerializer=$e(Yd);rootContexts=$e(Ru);location=$e(_c);inputBindingEnabled=null!==$e(gv,{optional:!0});titleStrategy=$e(KO);options=$e(nf,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=$e(qS);createViewTransition=$e(JO,{optional:!0});navigationErrorHandler=$e(tP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>cn(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new lZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new aZ(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;Wr(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(n){return this.transitions=new br(null),this.transitions.pipe(Ia(r=>null!==r),ci(r=>{let o=!1;return cn(r).pipe(ci(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ks.SupersededByNewNavigation),Ta;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:"string"==typeof i.extras.browserUrl?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>i.abortController.abort()});const s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(i.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new Kd(i.id,this.urlSerializer.serialize(i.rawUrl),"",dv.IgnoredSameUrlNavigation)),i.resolve(!1),Ta;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return cn(i).pipe(ci(l=>(this.events.next(new Xp(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ta:Promise.resolve(l))),function pY(e,t,n,r,o,i){return Ei(s=>function lY(e,t,n,r,o,i,s="emptyOnly"){return new uY(e,t,n,r,o,s,i).recognize()}(e,t,n,r,s.extractedUrl,o,i).pipe(Yn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Li(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=l.urlAfterRedirects,d));const c=new TO(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){const{id:l,extractedUrl:c,source:d,restoredState:h,extras:v}=i,C=new Xp(l,this.urlSerializer.serialize(c),d,h);this.events.next(C);const M=kO(this.rootComponentType).snapshot;return this.currentTransition=r={...i,targetSnapshot:M,urlAfterRedirects:c,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(U=>(U.finalUrl=c,U)),cn(r)}return this.events.next(new Kd(i.id,this.urlSerializer.serialize(i.extractedUrl),"",dv.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Ta}),Li(i=>{const s=new rZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),Yn(i=>(this.currentTransition=r={...i,guards:MZ(i.targetSnapshot,i.currentSnapshot,this.rootContexts)},r)),function jZ(e,t){return Ei(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?cn({...n,guardsResult:!0}):function VZ(e,t,n,r){return Xo(e).pipe(Ei(o=>function qZ(e,t,n,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?cn(i.map(a=>{const l=Xd(t)??o,c=Jd(a,l);return Yl(function LZ(e){return e&&th(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):Ro(l,()=>c(e,t,n,r))).pipe(Bc())})).pipe(ef()):cn(!0)}(o.component,o.route,n,t,r)),Bc(o=>!0!==o,!0))}(s,r,o,e).pipe(Ei(a=>a&&function NZ(e){return"boolean"==typeof e}(a)?function UZ(e,t,n,r){return Xo(t).pipe(zd(o=>wS(function GZ(e,t){return null!==e&&t&&t(new cZ(e)),cn(!0)}(o.route.parent,r),function HZ(e,t){return null!==e&&t&&t(new dZ(e)),cn(!0)}(o.route,r),function WZ(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function xZ(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>ES(()=>cn(s.guards.map(l=>{const c=Xd(s.node)??n,d=Jd(l,c);return Yl(function FZ(e){return e&&th(e.canActivateChild)}(d)?d.canActivateChild(r,e):Ro(c,()=>d(r,e))).pipe(Bc())})).pipe(ef())));return cn(i).pipe(ef())}(e,o.path,n),function zZ(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return cn(!0);const o=r.map(i=>ES(()=>{const s=Xd(t)??n,a=Jd(i,s);return Yl(function PZ(e){return e&&th(e.canActivate)}(a)?a.canActivate(t,e):Ro(s,()=>a(t,e))).pipe(Bc())}));return cn(o).pipe(ef())}(e,o.route,n))),Bc(o=>!0!==o,!0))}(r,i,e,t):cn(a)),Yn(a=>({...n,guardsResult:a})))})}(this.environmentInjector,i=>this.events.next(i)),Li(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&"boolean"!=typeof i.guardsResult)throw mv(0,i.guardsResult);const s=new oZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),Ia(i=>!!i.guardsResult||(this.cancelNavigationTransition(i,"",ks.GuardRejected),!1)),zS(i=>{if(0!==i.guards.canActivateChecks.length)return cn(i).pipe(Li(s=>{const a=new iZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ci(s=>{let a=!1;return cn(s).pipe(function hY(e,t){return Ei(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return cn(n);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of YO(l))s.add(c);let a=0;return Xo(s).pipe(zd(l=>i.has(l)?function gY(e,t,n,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!OO(o)&&(i[zp]=o.title),ES(()=>(e.data=pv(e,e.parent,n).resolve,function mY(e,t,n,r){const o=AS(e);if(0===o.length)return cn({});const i={};return Xo(o).pipe(Ei(s=>function vY(e,t,n,r){const o=Xd(t)??r,i=Jd(e,o);return Yl(i.resolve?i.resolve(t,n):Ro(o,()=>i(t,n)))}(e[s],t,n,r).pipe(Bc(),Li(a=>{if(a instanceof VS)throw mv(new iv,a);i[s]=a}))),IS(1),Yn(()=>i),Tu(s=>UO(s)?Ta:nv(s)))}(i,e,t,r).pipe(Yn(s=>(e._resolvedData=s,e.data={...e.data,...s},null)))))}(l,r,e,t):(l.data=pv(l,l.parent,e).resolve,cn(void 0))),Li(()=>a++),IS(1),Ei(l=>a===s.size?cn(n):Ta))})}(this.paramsInheritanceStrategy,this.environmentInjector),Li({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",ks.NoDataFromResolver)}}))}),Li(s=>{const a=new sZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),zS(i=>{const s=a=>{const l=[];if(a.routeConfig?.loadComponent){const c=Xd(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(Li(d=>{a.component=d}),Yn(()=>{})))}for(const c of a.children)l.push(...s(c));return l};return ev(s(i.targetSnapshot.root)).pipe(rv(null),qd(1))}),zS(()=>this.afterPreactivation()),ci(()=>{const{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?Xo(a).pipe(Yn(()=>r)):cn(r)}),Yn(i=>{const s=function wZ(e,t,n){const r=Qp(e,t._root,n?n._root:void 0);return new xO(r,t)}(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r={...i,targetRouterState:s},this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Li(()=>{this.events.next(new OS)}),((e,t,n,r)=>Yn(o=>(new AZ(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),qd(1),TS(new Cn(i=>{const s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ia(()=>!o&&!r.targetRouterState),Li(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ks.Aborted)}))),Li({next:i=>{o=!0,this.lastSuccessfulNavigation=Wr(this.currentNavigation),this.events.next(new Kl(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),TS(this.transitionAbortWithErrorSubject.pipe(Li(i=>{throw i}))),Bp(()=>{o||this.cancelNavigationTransition(r,"",ks.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Tu(i=>{if(this.destroyed)return r.resolve(!1),Ta;if(o=!0,jO(i))this.events.next(new ku(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),function IZ(e){return jO(e)&&xu(e.url)}(i)?this.events.next(new fv(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{const s=new NS(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{const a=Ro(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(a instanceof VS))throw this.events.next(s),i;{const{message:l,cancellationCode:c}=mv(0,a);this.events.next(new ku(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new fv(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ta}))}))}cancelNavigationTransition(n,r,o){const i=new ku(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Wr(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EY(e){return e!==Kp}let nP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:()=>$e(IY),providedIn:"root"})}return e})();class DY{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let IY=(()=>{class e extends DY{static \u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})();static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rP=(()=>{class e{urlSerializer=$e(Yd);options=$e(nf,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=$e(_c);urlHandlingStrategy=$e(qS);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Au;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){const i=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Au?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=kO(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:()=>$e(TY),providedIn:"root"})}return e})(),TY=(()=>{class e extends rP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Xp?this.updateStateMemento():n instanceof Kd?this.commitTransition(r):n instanceof TO?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof OS?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ku&&n.code!==ks.SupersededByNewNavigation&&n.code!==ks.Redirect?this.restoreHistory(r):n instanceof NS?this.restoreHistory(r,!0):n instanceof Kl&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){const{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){const a=this.browserPageId,l={...s,...this.generateNgRouterState(o,a)};this.location.replaceState(n,"",l)}else{const a={...s,...this.generateNgRouterState(o,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&0===i&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})();static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oP(e,t){e.events.pipe(Ia(n=>n instanceof Kl||n instanceof ku||n instanceof NS||n instanceof Kd),Yn(n=>n instanceof Kl||n instanceof Kd?0:n instanceof ku&&(n.code===ks.Redirect||n.code===ks.SupersededByNewNavigation)?2:1),Ia(n=>2!==n),qd(1)).subscribe(()=>{t()})}const AY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Di=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=$e(XA);stateManager=$e(rP);options=$e(nf,{optional:!0})||{};pendingTasks=$e(vc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=$e(ZS);urlSerializer=$e(Yd);location=$e(_c);urlHandlingStrategy=$e(qS);injector=$e(B);_events=new On;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=$e(nP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=$e(bv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!$e(gv,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ct;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=Wr(this.navigationTransitions.currentNavigation);if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof ku&&r.code!==ks.Redirect&&r.code!==ks.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Kl)this.navigated=!0;else if(r instanceof fv){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||EY(o.source),...s};this.scheduleNavigation(a,Kp,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function pZ(e){return!(e instanceof OS||e instanceof fv)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(l=>{this.disposed||this.injector.get(za)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Wr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jS),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...i};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}null!==d&&(d=this.removeEmptyProps(d));try{h=bO(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return CO(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=xu(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Kp,null,r)}navigate(n,r={skipLocationChange:!1}){return function xY(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Fe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...AY}:!1===r?{...MY}:r,xu(n))return dO(this.currentUrlTree,n,o);const i=this.parseUrl(n);return dO(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,v)=>{a=h,l=v});const d=this.pendingTasks.add();return oP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class iP{}let NY=(()=>{class e{preload(n,r){return r().pipe(Tu(()=>cn(null)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),OY=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Ia(n=>n instanceof Kl),zd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=Ug(i.providers,n,`Route: ${i.path}`));const s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return Xo(o).pipe(Wd())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):cn(null);const i=o.pipe(Ei(s=>null===s?cn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Xo([i,this.loader.loadComponent(n,r)]).pipe(Wd()):i})}static \u0275fac=function(r){return new(r||e)(oe(Di),oe(B),oe(iP),oe(WS))};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const YS=new rt("");let sP=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Kp;restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Kl?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Kd&&n.code===dv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof AO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){var o=this;this.zone.runOutsideAngular((0,F.A)(function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),o.zone.run(()=>{o.transitions.events.next(new AO(n,"popstate"===o.lastSource?o.store[o.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function BT(){throw new Error("invalid")}()};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();function _l(e,t){return{\u0275kind:e,\u0275providers:t}}function lP(){const e=$e(ao);return t=>{const n=e.get(Is);if(t!==n.components[0])return;const r=e.get(Di),o=e.get(cP);1===e.get(KS)&&r.initialNavigation(),e.get(uP,null,{optional:!0})?.setUpPreloading(),e.get(YS,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const cP=new rt("",{factory:()=>new On}),KS=new rt("",{providedIn:"root",factory:()=>1}),uP=new rt("");function $Y(e){return _l(0,[{provide:uP,useExisting:OY},{provide:iP,useExisting:e}])}function jY(e){return Ci("NgRouterViewTransitions"),_l(9,[{provide:JO,useValue:SY},{provide:eP,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const VY=[_c,{provide:Yd,useClass:iv},Di,Ru,{provide:Xl,useFactory:function aP(e){return e.routerState.root},deps:[Di]},WS,[]];let Cv=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[VY,[],{provide:bv,multi:!0,useValue:n},[],r?.errorHandler?{provide:tP,useValue:r.errorHandler}:[],{provide:nf,useValue:r||{}},r?.useHash?{provide:dl,useClass:TR}:{provide:dl,useClass:FD},{provide:YS,useFactory:()=>{const e=$e(o5),t=$e(qe),n=$e(nf),r=$e(ZS),o=$e(Yd);return n.scrollOffset&&e.setOffset(n.scrollOffset),new sP(o,r,e,t,n)}},r?.preloadingStrategy?$Y(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?zY(r):[],r?.bindToComponentInputs?_l(8,[FO,{provide:gv,useExisting:FO}]).\u0275providers:[],r?.enableViewTransitions?jY().\u0275providers:[],[{provide:dP,useFactory:lP},{provide:gM,multi:!0,useExisting:dP}]]}}static forChild(n){return{ngModule:e,providers:[{provide:bv,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Oo({type:e});static \u0275inj=Fn({})}return e})();function zY(e){return["disabled"===e.initialNavigation?_l(3,[jb(()=>{$e(Di).setUpLocationChangeListener()}),{provide:KS,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?_l(2,[{provide:pB,useValue:!0},{provide:KS,useValue:0},jb(()=>{const t=$e(ao);return t.get(PL,Promise.resolve()).then(()=>new Promise(r=>{const o=t.get(Di),i=t.get(cP);oP(o,()=>{r(!0)}),t.get(ZS).afterPreactivation=()=>(r(!0),i.closed?cn(void 0):i),o.initialNavigation()}))})]).\u0275providers:[]]}const dP=new rt("");var qY=_(5886);const fP=e=>hP(e),hP=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=ZY(e),t.forEach(n=>e.document.documentElement.classList.add(`plt-${n}`))),t},ZY=e=>{const t=qY.c.get("platform");return Object.keys(_P).filter(n=>{const r=t?.[n];return"function"==typeof r?r(e):_P[n](e)})},XS=e=>!!(Nu(e,/iPad/i)||Nu(e,/Macintosh/i)&&Sv(e)),gP=e=>Nu(e,/android|sink/i),Sv=e=>oK(e,"(any-pointer:coarse)"),mP=e=>vP(e)||yP(e),vP=e=>!!(e.cordova||e.phonegap||e.PhoneGap),yP=e=>{const t=e.Capacitor;return!!(t?.isNative||t?.isNativePlatform&&t.isNativePlatform())},Nu=(e,t)=>t.test(e.navigator.userAgent),oK=(e,t)=>{var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},_P={ipad:XS,iphone:e=>Nu(e,/iPhone/i),ios:e=>Nu(e,/iPhone|iPod/i)||XS(e),android:gP,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return r>390&&r<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return XS(e)||(e=>gP(e)&&!Nu(e,/mobile/i))(e)||r>460&&r<820&&o>780&&o<1400},cordova:vP,capacitor:yP,electron:e=>Nu(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:Sv,mobileweb:e=>Sv(e)&&!mP(e),desktop:e=>!Sv(e),hybrid:mP};var rh=_(3112);const dK=["addListener","removeListener"],fK=["addEventListener","removeEventListener"],pK=["on","off"];function wv(e,t,n,r){if(xt(n)&&(r=n,n=void 0),r)return wv(e,t,n).pipe(SS(r));const[o,i]=function mK(e){return xt(e.addEventListener)&&xt(e.removeEventListener)}(e)?fK.map(s=>a=>e[s](t,a,n)):function hK(e){return xt(e.addListener)&&xt(e.removeListener)}(e)?dK.map(bP(e,t)):function gK(e){return xt(e.on)&&xt(e.off)}(e)?pK.map(bP(e,t)):[];if(!o&&pS(e))return Ei(s=>wv(s,t,n))(xs(e));if(!o)throw new TypeError("Invalid event target");return new Cn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function bP(e,t){return n=>r=>e[n](t,r)}function CP(e,t=Kr){return e=e??vK,Yo((n,r)=>{let o,i=!0;n.subscribe(No(r,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function vK(e,t){return e===t}let SP=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(y(Vl),y(nt))};static \u0275dir=Ut({type:e})}return e})(),Ou=(()=>{class e extends SP{static \u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})();static \u0275dir=Ut({type:e,features:[xn]})}return e})();const Rs=new rt(""),bK={provide:Rs,useExisting:Pn(()=>QS),multi:!0},SK=new rt("");let QS=(()=>{class e extends SP{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function CK(){const e=yc()?yc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(y(Vl),y(nt),y(SK,8))};static \u0275dir=Ut({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&Ge("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[hr([bK]),xn]})}return e})();function JS(e){return null==e||0===e0(e)}function e0(e){return null==e?null:Array.isArray(e)||"string"==typeof e?e.length:e instanceof Set?e.size:null}const ui=new rt(""),jc=new rt(""),wK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class oh{static min(t){return EP(t)}static max(t){return DP(t)}static required(t){return function IP(e){return JS(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function TP(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function AP(e){return JS(e.value)||wK.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function MP(e){return t=>{const n=t.value?.length??e0(t.value);return null===n||0===n?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}(t)}static maxLength(t){return xP(t)}static pattern(t){return function kP(e){if(!e)return Ev;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(JS(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return LP(t)}static composeAsync(t){return $P(t)}}function EP(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function DP(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function xP(e){return t=>{const n=t.value?.length??e0(t.value);return null!==n&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function Ev(e){return null}function RP(e){return null!=e}function NP(e){return yp(e)?Xo(e):e}function OP(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function PP(e,t){return t.map(n=>n(e))}function FP(e){return e.map(t=>function EK(e){return!e.validate}(t)?t:n=>t.validate(n))}function LP(e){if(!e)return null;const t=e.filter(RP);return 0==t.length?null:function(n){return OP(PP(n,t))}}function t0(e){return null!=e?LP(FP(e)):null}function $P(e){if(!e)return null;const t=e.filter(RP);return 0==t.length?null:function(n){return function yK(...e){const t=ON(e),{args:n,keys:r}=rO(e),o=new Cn(i=>{const{length:s}=n;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let h=!1;xs(n[d]).subscribe(No(i,v=>{h||(h=!0,c--),a[d]=v},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(r?oO(r,a):a),i.complete())}))}});return t?o.pipe(SS(t)):o}(PP(n,t).map(NP)).pipe(Yn(OP))}}function n0(e){return null!=e?$P(FP(e)):null}function BP(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function jP(e){return e._rawValidators}function VP(e){return e._rawAsyncValidators}function r0(e){return e?Array.isArray(e)?e:[e]:[]}function Dv(e,t){return Array.isArray(e)?e.includes(t):e===t}function UP(e,t){const n=r0(t);return r0(e).forEach(o=>{Dv(n,o)||n.push(o)}),n}function HP(e,t){return r0(t).filter(n=>!Dv(e,n))}class GP{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=t0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=n0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Ji extends GP{name;get formDirective(){return null}get path(){return null}}class Ql extends GP{_parent=null;name=null;valueAccessor=null}class zP{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Jl=(()=>{class e extends zP{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(Ql,2))};static \u0275dir=Ut({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&Sa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[xn]})}return e})(),ec=(()=>{class e extends zP{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(Ji,10))};static \u0275dir=Ut({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&Sa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[xn]})}return e})();const ih="VALID",Tv="INVALID",sf="PENDING",sh="DISABLED";class af{}class qP extends af{value;source;constructor(t,n){super(),this.value=t,this.source=n}}class a0 extends af{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}}class l0 extends af{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}}class Av extends af{status;source;constructor(t,n){super(),this.status=t,this.source=n}}class ZP extends af{source;constructor(t){super(),this.source=t}}class YP extends af{source;constructor(t){super(),this.source=t}}function c0(e){return(Mv(e)?e.validators:e)||null}function u0(e,t){return(Mv(t)?t.asyncValidators:e)||null}function Mv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class d0{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Wr(this.statusReactive)}set status(t){Wr(()=>this.statusReactive.set(t))}_status=Ms(()=>this.statusReactive());statusReactive=bi(void 0);get valid(){return this.status===ih}get invalid(){return this.status===Tv}get pending(){return this.status==sf}get disabled(){return this.status===sh}get enabled(){return this.status!==sh}errors;get pristine(){return Wr(this.pristineReactive)}set pristine(t){Wr(()=>this.pristineReactive.set(t))}_pristine=Ms(()=>this.pristineReactive());pristineReactive=bi(!0);get dirty(){return!this.pristine}get touched(){return Wr(this.touchedReactive)}set touched(t){Wr(()=>this.touchedReactive.set(t))}_touched=Ms(()=>this.touchedReactive());touchedReactive=bi(!1);get untouched(){return!this.touched}_events=new On;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(UP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(UP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(HP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(HP(t,this._rawAsyncValidators))}hasValidator(t){return Dv(this._rawValidators,t)}hasAsyncValidator(t){return Dv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const n=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new l0(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&!1!==t.emitEvent&&this._events.next(new l0(!1,r))}markAsDirty(t={}){const n=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new a0(!1,r))}markAsPristine(t={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&!1!==t.emitEvent&&this._events.next(new a0(!0,r))}markAsPending(t={}){this.status=sf;const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Av(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:n})}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=sh,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new qP(this.value,r)),this._events.next(new Av(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=ih,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ih||this.status===sf)&&this._runAsyncValidator(r,t.emitEvent)}const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new qP(this.value,n)),this._events.next(new Av(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:n})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sh:ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=sf,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==t};const r=NP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Av(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new mn,this.statusChanges=new mn}_calculateStatus(){return this._allControlsDisabled()?sh:this.errors?Tv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sf)?sf:this._anyControlsHaveStatus(Tv)?Tv:ih}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new a0(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new l0(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Mv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function kK(e){return Array.isArray(e)?t0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function RK(e){return Array.isArray(e)?n0(e):e||null}(this._rawAsyncValidators)}}class Vc extends d0{constructor(t,n,r){super(c0(n),u0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function XP(e,t,n){e._forEachChild((r,o)=>{if(void 0===n[o])throw new Fe(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function KP(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Fe(1e3,"");if(!r[n])throw new Fe(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const xv=Vc,Pu=new rt("",{providedIn:"root",factory:()=>ah}),ah="always";function lh(e,t,n=ah){f0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function PK(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&QP(e,t)})}(e,t),function LK(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function FK(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&QP(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function OK(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Rv(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ov(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Nv(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function f0(e,t){const n=jP(e);null!==t.validator?e.setValidators(BP(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=VP(e);null!==t.asyncValidator?e.setAsyncValidators(BP(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();Nv(t._rawValidators,o),Nv(t._rawAsyncValidators,o)}function Ov(e,t){let n=!1;if(null!==e){if(null!==t.validator){const o=jP(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=VP(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return Nv(t._rawValidators,r),Nv(t._rawAsyncValidators,r),n}function QP(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function tF(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function nF(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const Ns=class extends d0{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(c0(n),u0(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=nF(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){tF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){tF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){nF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},bo=Ns;Promise.resolve();let tc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();const m0=new rt(""),JK={provide:Ji,useExisting:Pn(()=>Aa)};let Aa=(()=>{class e extends Ji{callSetDisabledState;get submitted(){return Wr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Ms(()=>this._submittedReactive());_submittedReactive=bi(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new mn;constructor(n,r,o){super(),this.callSetDisabledState=o,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ov(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return lh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Rv(n.control||null,n,!1),function VK(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),function eF(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new ZP(this.control)),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),!1!==r?.emitEvent&&this.form._events.next(new YP(this.form))}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,o=this.form.get(n.path);r!==o&&(Rv(r||null,n),(e=>e instanceof Ns)(o)&&(lh(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function JP(e,t){f0(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function $K(e,t){return Ov(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){f0(this.form,this),this._oldForm&&Ov(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(y(ui,10),y(jc,10),y(Pu,8))};static \u0275dir=Ut({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&Ge("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[hr([JK]),xn,qi]})}return e})();const nX={provide:Ql,useExisting:Pn(()=>bl)};let bl=(()=>{class e extends Ql{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new mn;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function g0(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(i=>{i.constructor===QS?n=i:function jK(e){return Object.getPrototypeOf(e.constructor)===Ou}(i)?r=i:o=i}),o||r||n||null}(0,i)}ngOnChanges(n){this._added||this._setUpControl(),function h0(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function kv(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(y(Ji,13),y(ui,10),y(jc,10),y(Rs,10),y(m0,8))};static \u0275dir=Ut({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[hr([nX]),xn,qi]})}return e})();function pF(e){return"number"==typeof e?e:parseFloat(e)}let Fu=(()=>{class e{_validator=Ev;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ev,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ut({type:e,features:[qi]})}return e})();const cX={provide:ui,useExisting:Pn(()=>_0),multi:!0};let _0=(()=>{class e extends Fu{max;inputName="max";normalizeInput=n=>pF(n);createValidator=n=>DP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&Xs("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[hr([cX]),xn]})}return e})();const uX={provide:ui,useExisting:Pn(()=>b0),multi:!0};let b0=(()=>{class e extends Fu{min;inputName="min";normalizeInput=n=>pF(n);createValidator=n=>EP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&Xs("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[hr([uX]),xn]})}return e})();const gX={provide:ui,useExisting:Pn(()=>S0),multi:!0};let S0=(()=>{class e extends Fu{maxlength;inputName="maxlength";normalizeInput=n=>function fF(e){return"number"==typeof e?e:parseInt(e,10)}(n);createValidator=n=>xP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&Xs("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[hr([gX]),xn]})}return e})(),yF=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Oo({type:e});static \u0275inj=Fn({})}return e})(),Lu=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Pu,useValue:n.callSetDisabledState??ah}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Oo({type:e});static \u0275inj=Fn({imports:[yF]})}return e})(),Bv=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:m0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Pu,useValue:n.callSetDisabledState??ah}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Oo({type:e});static \u0275inj=Fn({imports:[yF]})}return e})();const yX=["tabsInner"];let _X=(()=>{class e{doc;_readyPromise;win;backButton=new On;keyboardDidShow=new On;keyboardDidHide=new On;pause=new On;resume=new On;resize=new On;constructor(n,r){this.doc=n,r.run(()=>{let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>r.run(()=>s(l))))},lf(this.pause,n,"pause",r),lf(this.resume,n,"resume",r),lf(this.backButton,n,"ionBackButton",r),lf(this.resize,this.win,"resize",r),lf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),lf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),fP(e).includes(t)))(this.win,n)}platforms(){return fP(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return bX(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(r){return new(r||e)(oe(_i),oe(qe))};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const bX=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},lf=(e,t,n,r)=>{t&&t.addEventListener(n,o=>{r.run(()=>{const i=o?.detail;e.next(i)})})};let cf=(()=>{class e{location;serializer;router;topOutlet;direction=_F;animated=bF;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(n,r,o,i){this.location=r,this.serializer=o,this.router=i,i&&i.events.subscribe(s=>{if(s instanceof Xp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=this.guessAnimation=a<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,F.A)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,o,i){this.direction=n,this.animated=CX(n,r,o),this.animationBuilder=i}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const o=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=_F,this.animated=bF,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:o}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const o=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(o.queryParams={...r.queryParams}),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}static \u0275fac=function(r){return new(r||e)(oe(_X),oe(_c),oe(Yd),oe(Di,8))};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const CX=(e,t,n)=>{if(!1!==t){if(void 0!==n)return n;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},_F="auto",bF=void 0;let dh=(()=>{class e{get(n,r){const o=E0();return o?o.get(n,r):null}getBoolean(n,r){const o=E0();return!!o&&o.getBoolean(n,r)}getNumber(n,r){const o=E0();return o?o.getNumber(n,r):0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const w0=new rt("USERCONFIG"),E0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class CF{data;constructor(t={}){this.data=t,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(t){return this.data[t]}}const SX=new rt("IonModalToken");let fh=(()=>{class e{zone=$e(qe);applicationRef=$e(Is);config=$e(w0);create(n,r,o){return new wX(n,r,this.applicationRef,this.zone,o,this.config.useSetInputAPI??!1)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();class wX{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(t,n,r,o,i,s){this.environmentInjector=t,this.injector=n,this.applicationRef=r,this.zone=o,this.elementReferenceKey=i,this.enableSignalsSupport=s}attachViewToDom(t,n,r,o){return this.zone.run(()=>new Promise(i=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(EX(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,n,s,o,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(t,n){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(n);if(o){o.destroy(),this.elRefMap.delete(n);const i=this.elEventsMap.get(n);i&&(i(),this.elEventsMap.delete(n))}r()}))}}const EX=(e,t,n,r,o,i,s,a,l,c,d,h)=>{const v=IX(l);"ion-modal"===s.tagName.toLowerCase()&&v.push({provide:SX,useValue:s});const M=function n5(e,t){const n=Ct(e),r=t.elementInjector||g();return new dp(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}(a,{environmentInjector:t,elementInjector:ao.create({providers:v,parent:n})}),U=M.instance,de=M.location.nativeElement;if(l)if(d&&void 0!==U[d]&&console.error(`[Ionic Error]: ${d} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${d}" property from ${a.name}.`),!0===h&&void 0!==M.setInput){const{modal:ke,popover:It,...Ht}=l;for(const Gt in Ht)M.setInput(Gt,Ht[Gt]);void 0!==ke&&Object.assign(U,{modal:ke}),void 0!==It&&Object.assign(U,{popover:It})}else Object.assign(U,l);if(c)for(const ke of c)de.classList.add(ke);const ge=SF(e,U,de);return s.appendChild(de),r.attachView(M.hostView),o.set(de,M),i.set(de,ge),de},DX=[rh.L,rh.a,rh.b,rh.c,rh.d],SF=(e,t,n)=>e.run(()=>{const r=DX.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return n.addEventListener(o,i),()=>n.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),wF=new rt("NavParamsToken"),IX=e=>[{provide:wF,useValue:e},{provide:CF,useFactory:TX,deps:[wF]}],TX=e=>new CF(e),AX=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},MX=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})};function jv(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&AX(n,o),i&&MX(n,i),n}}const EF=(e,t)=>((e=e.filter(n=>n.stackId!==t.stackId)).push(t),e),I0=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},DF=(e,t)=>!t||e.stackId!==t.stackId,BX=(e,t)=>{if(!e)return;const n=IF(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},IF=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),TF=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class jX{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(t,n,r,o,i,s){this.containerEl=n,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.tabsPrefix=void 0!==t?IF(t):void 0}createView(t,n){const r=I0(this.router,n),o=t?.location?.nativeElement,i=SF(this.zone,t.instance,o);return{id:this.nextId++,stackId:BX(this.tabsPrefix,r),unlistenEvents:i,element:o,ref:t,url:r}}getExistingView(t){const n=I0(this.router,t),r=this.views.find(o=>o.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(t){const n=this.navCtrl.consumeTransition();let{direction:r,animation:o,animationBuilder:i}=n;const s=this.activeView,a=DF(t,s);a&&(r="back",o=void 0);const l=this.views.slice();let c;const d=this.router;d.getCurrentNavigation?c=d.getCurrentNavigation():d.navigations?.value&&(c=d.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),v=this.insertView(t,r);h||t.ref.changeDetectorRef.detectChanges();const C=t.animationBuilder;return void 0===i&&"back"===r&&!a&&void 0!==C&&(i=C),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>VX(t,v,l,this.location,this.zone)).then(()=>({enteringView:t,direction:r,animation:o,tabSwitch:a})))))}canGoBack(t,n=this.getActiveStackId()){return this.getStack(n).length>t}pop(t,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=t)return Promise.resolve(!1);const o=r[r.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const n=this.getStack(t.stackId),r=n[n.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&AF(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const n=this.getStack(t);return n.length>0?n[n.length-1]:void 0}getRootUrl(t){const n=this.getStack(t);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(TF),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(n=>n.stackId===t)}insertView(t,n){return this.activeView=t,this.views=((e,t,n)=>"root"===n?EF(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):EF(e,t))(e,t))(this.views,t,n),this.views.slice()}transition(t,n,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=n?n.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),c.commit)?c.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var n=this;return(0,F.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=t();return r.finally(()=>n.runningTask=void 0),r})()}}const VX=(e,t,n,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{AF(e,t,n,r,o),i()})}):Promise.resolve(),AF=(e,t,n,r,o)=>{o.run(()=>n.filter(i=>!t.includes(i)).forEach(TF)),t.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let MF=(()=>{class e{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new br(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=kn;stackWillChange=new mn;stackDidChange=new mn;activateEvents=new mn;deactivateEvents=new mn;parentContexts=$e(Ru);location=$e(Zi);environmentInjector=$e(B);inputBinder=$e(xF,{optional:!0});supportsBindingToComponentInputs=!0;config=$e(dh);navCtrl=$e(cf);set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}constructor(n,r,o,i,s,a,l,c){this.parentOutlet=c,this.nativeEl=i.nativeElement,this.name=n||kn,this.tabsPrefix="true"===r?I0(s,l):void 0,this.stackCtrl=new jX(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();n?.route&&this.activateWith(n.route,n.injector)}new Promise(n=>((e,t)=>{e.componentOnReady?e.componentOnReady().then(n=>t(n)):(e=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)})(()=>t(e))})(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route={...r.route}),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,i=this.stackCtrl.getExistingView(n);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,n)}else{const a=n._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new br(null),d=this.createActivatedRouteProxy(c,n),h=new UX(d,l,this.location.injector);o=this.activated=this.outletContent.createComponent(a.routeConfig.component??a.component,{index:this.outletContent.length,injector:h,environmentInjector:r??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,d),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:DF(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const o=new Xl;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(n,"paramMap"),o._queryParamMap=this.proxyObservable(n,"queryParamMap"),o.url=this.proxyObservable(n,"url"),o.params=this.proxyObservable(n,"params"),o.queryParams=this.proxyObservable(n,"queryParams"),o.fragment=this.proxyObservable(n,"fragment"),o.data=this.proxyObservable(n,"data"),o}proxyObservable(n,r){return n.pipe(Ia(o=>!!o),ci(o=>this.currentActivatedRoute$.pipe(Ia(i=>null!==i&&i.component===o),ci(i=>i&&i.activatedRoute[r]),CP())))}updateActivatedRouteProxy(n,r){const o=this.proxyMap.get(n);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}static \u0275fac=function(r){return new(r||e)($l("name"),$l("tabs"),y(_c),y(nt),y(Di),y(qe),y(Xl),y(e,12))};static \u0275dir=Ut({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"],standalone:!1})}return e})();class UX{route;childContexts;parent;constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Xl?this.route:t===Ru?this.childContexts:this.parent.get(t,n)}}const xF=new rt("");let HX=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=ev([r.queryParams,r.params,r.data]).pipe(ci(([i,s,a],l)=>(a={...i,...s,...a},0===l?cn(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=aR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();function zX(e){return e?.componentInputBindingEnabled?new HX:null}const kF=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let Vv=(()=>{class e{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(n,r){this.injector=n,this.elementRef=r}writeValue(n){this.elementRef.nativeElement.value=this.lastValue=n,uf(this.elementRef)}handleValueChange(n,r){n===this.elementRef.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),uf(this.elementRef))}_handleBlurEvent(n){n===this.elementRef.nativeElement?(this.onTouched(),uf(this.elementRef)):n.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.elementRef.nativeElement.disabled=n}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let n;try{n=this.injector.get(Ql)}catch{}if(!n)return;n.statusChanges&&(this.statusChanges=n.statusChanges.subscribe(()=>uf(this.elementRef)));const r=n.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),uf(this.elementRef)}}})}static \u0275fac=function(r){return new(r||e)(y(ao),y(nt))};static \u0275dir=Ut({type:e,hostBindings:function(r,o){1&r&&Ge("ionBlur",function(s){return o._handleBlurEvent(s.target)})},standalone:!1})}return e})();const uf=e=>{kF(()=>{const t=e.nativeElement,n=null!=t.value&&t.value.toString().length>0,r=WX(t);T0(t,r);const o=t.closest("ion-item");o&&T0(o,n?[...r,"item-has-value"]:r)})},WX=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const o=t.item(r);null!==o&&qX(o,"ng-")&&n.push(`ion-${o.substring(3)}`)}return n},T0=(e,t)=>{const n=e.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...t)},qX=(e,t)=>e.substring(0,t.length)===t,ZX=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let YX=(()=>{let e=class Pw{routerOutlet;navCtrl;config;r;z;el;constructor(n,r,o,i,s,a){this.routerOutlet=n,this.navCtrl=r,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(n){const r=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),n.preventDefault()):null!=r&&(this.navCtrl.navigateBack(r,{animation:this.routerAnimation}),n.preventDefault())}static \u0275fac=function(r){return new(r||Pw)(y(MF,8),y(cf),y(dh),y(nt),y(qe),y(ht))};static \u0275dir=Ut({type:Pw,hostBindings:function(r,o){1&r&&Ge("click",function(s){return o.onClick(s)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},standalone:!1})};return e=re([jv({inputs:ZX})],e),e})();const KX=["animated","animation","root","rootParams","swipeGesture"],XX=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let QX=(()=>{let e=class Fw{z;el;constructor(n,r,o,i,s,a){this.z=s,a.detach(),this.el=n.nativeElement,n.nativeElement.delegate=i.create(r,o),((e,t,n)=>{n.forEach(r=>e[r]=wv(t,r))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(r){return new(r||Fw)(y(nt),y(B),y(ao),y(fh),y(qe),y(ht))};static \u0275dir=Ut({type:Fw,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},standalone:!1})};return e=re([jv({inputs:KX,methods:XX})],e),e})(),tQ=(()=>{class e{navCtrl;tabsInner;ionTabsWillChange=new mn;ionTabsDidChange=new mn;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(n){this.navCtrl=n}ngAfterViewInit(){const n=this.tabs.length>0?this.tabs.first:void 0;n&&(this.hasTab=!0,this.setActiveTab(n.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(n){const r="string"==typeof n,o=r?n:n.detail.tab;if(this.hasTab)return this.setActiveTab(o),void this.tabSwitch();const i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||n.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}setActiveTab(n){const o=this.tabs.find(i=>i.tab===n);o?(this.leavingTab=this.selectedTab,this.selectedTab=o,this.ionTabsWillChange.emit({tab:n}),o.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${n}" does not exist`)}tabSwitch(){const{selectedTab:n,leavingTab:r}=this;this.tabBar&&n&&(this.tabBar.selectedTab=n.tab),r?.tab!==n?.tab&&r?.el&&(r.el.active=!1),n&&this.ionTabsDidChange.emit({tab:n.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(n=>{const r=n.el.getAttribute("slot");r!==this.tabBarSlot&&(this.tabBarSlot=r,this.relocateTabBar())})}relocateTabBar(){const n=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(n):this.tabsInner.nativeElement.after(n)}static \u0275fac=function(r){return new(r||e)(y(cf))};static \u0275dir=Ut({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,o){if(1&r&&Hl(yX,7,nt),2&r){let i;Ki(i=Xi())&&(o.tabsInner=i.first)}},hostBindings:function(r,o){1&r&&Ge("ionTabButtonClick",function(s){return o.select(s)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},standalone:!1})}return e})();class ph{ctrl;constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,n,r){return this.ctrl.dismiss(t,n,r)}getTop(){return this.ctrl.getTop()}}class nQ{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,n){}retrieve(t){return null}shouldReuseRoute(t,n){if(t.routeConfig!==n.routeConfig)return!1;const r=t.params,o=n.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}_(7133),_(6780),_(9805),_(1393),_(5860);var rQ=_(9919),oQ=(_(6721),_(9335)),A0=_(3460),hh=(_(5989),_(7433));_(575),_(566),_(4896),_(5827);const iQ=rQ.i,sQ=function(){var e=(0,F.A)(function*(t,n){if(!(typeof window>"u"))return yield iQ(),(0,oQ.b)(JSON.parse('[["ion-menu_3",[[289,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[289,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[257,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[289,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[289,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[257,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[257,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[256,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[288,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[289,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16,"router-animation"]}]]],["ion-toast",[[289,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16,"html-attributes"],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[289,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}],[288,"ion-card-content"],[289,"ion-card-header",{"color":[513],"translucent":[4]}],[289,"ion-card-subtitle",{"color":[513]}],[289,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[289,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[288,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[256,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[305,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[289,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[288,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[256,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[289,"ion-reorder",null,[[2,"click","onClick"]]],[256,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[289,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[289,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[289,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[294,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16,"counter-formatter"],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[290,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[289,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[257,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16,"root-params"],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[256,"ion-nav-link",{"component":[1],"componentProps":[16,"component-props"],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}]]],["ion-tab_2",[[257,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[257,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[294,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16,"counter-formatter"],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[289,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[290,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[289,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}],[289,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[289,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[289,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[289,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16,"component-props"],"beforeLeave":[16,"before-leave"],"beforeEnter":[16,"before-enter"]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[257,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}]]],["ion-avatar_3",[[289,"ion-avatar"],[289,"ion-badge",{"color":[513]}],[257,"ion-thumbnail"]]],["ion-col_3",[[257,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[257,"ion-grid",{"fixed":[4]}],[257,"ion-row"]]],["ion-img",[[257,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-input-otp",[[294,"ion-input-otp",{"autocapitalize":[1],"color":[513],"disabled":[516],"fill":[1],"inputmode":[1],"length":[2],"pattern":[1],"readonly":[516],"separators":[1],"shape":[1],"size":[1],"type":[1],"value":[1032],"inputValues":[32],"hasFocus":[32],"previousInputValues":[32],"setFocus":[64]},null,{"value":["valueChanged"],"separators":["processSeparators"],"length":["processSeparators"]}]]],["ion-progress-bar",[[289,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[289,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16,"pin-formatter"],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[257,"ion-segment-content"]]],["ion-segment-view",[[289,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[289,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[257,"ion-text",{"color":[513]}]]],["ion-select-modal",[[290,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[289,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16,"format-options"],"readonly":[4],"isDateEnabled":[16,"is-date-enabled"],"showAdjacentDays":[4,"show-adjacent-days"],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16,"title-selected-dates-formatter"],"multiple":[4],"highlightedDates":[16,"highlighted-dates"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[290,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[288,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[290,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[290,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[289,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16,"component-props"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16,"presenting-element"],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},[[9,"resize","onWindowResize"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[289,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[257,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[289,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[289,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"component":[1],"componentProps":[16,"component-props"],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[289,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[289,"ion-item-divider",{"color":[513],"sticky":[4]}],[288,"ion-item-group"],[289,"ion-note",{"color":[513]}],[257,"ion-skeleton-text",{"animated":[4]}],[294,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[289,"ion-list-header",{"color":[513],"lines":[1]}],[289,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16,"router-animation"],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"isInteractive":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[288,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[256,"ion-app",{"setFocus":[64]}],[292,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[257,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16,"swipe-handler"],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[257,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[292,"ion-header",{"collapse":[1],"translucent":[4]}],[289,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[289,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[294,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[289,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"hasFocus":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[257,"ion-select-option",{"disabled":[4],"value":[8]}],[290,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[257,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[289,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[292,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[257,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[289,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"],"aria-checked":["onAriaChanged"],"aria-label":["onAriaChanged"]}],[257,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),n)});return function(n,r){return e.apply(this,arguments)}}();!function(){if(typeof window<"u"&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();const wt=["*"],aQ=["outletContent"],lQ=["outlet"],cQ=[[["","slot","top"]],"*",[["ion-tab"]]],uQ=["[slot=top]","*","ion-tab"];function dQ(e,t){if(1&e){const n=Mn();V(0,"ion-router-outlet",5,1),Ge("stackWillChange",function(o){return at(n),u(mt().onStackWillChange(o))})("stackDidChange",function(o){return at(n),u(mt().onStackDidChange(o))}),q()}}function fQ(e,t){1&e&&vt(0,2,["*ngIf","tabs.length > 0"])}let df=(()=>{class e extends Vv{constructor(n,r){super(n,r)}writeValue(n){this.elementRef.nativeElement.checked=this.lastValue=n,uf(this.elementRef)}_handleIonChange(n){this.handleValueChange(n,n.checked)}static \u0275fac=function(r){return new(r||e)(y(ao),y(nt))};static \u0275dir=Ut({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,o){1&r&&Ge("ionChange",function(s){return o._handleIonChange(s.target)})},standalone:!1,features:[hr([{provide:Rs,useExisting:e,multi:!0}]),xn]})}return e})(),M0=(()=>{class e extends Vv{el;constructor(n,r){super(n,r),this.el=r}handleInputEvent(n){this.handleValueChange(n,n.value)}registerOnChange(n){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName||"ION-INPUT-OTP"===this.el.nativeElement.tagName?r=>{n(""===r?null:parseFloat(r))}:n)}static \u0275fac=function(r){return new(r||e)(y(ao),y(nt))};static \u0275dir=Ut({type:e,selectors:[["ion-input","type","number"],["ion-input-otp",3,"type","text"],["ion-range"]],hostBindings:function(r,o){1&r&&Ge("ionInput",function(s){return o.handleInputEvent(s.target)})},standalone:!1,features:[hr([{provide:Rs,useExisting:e,multi:!0}]),xn]})}return e})(),gh=(()=>{class e extends Vv{constructor(n,r){super(n,r)}_handleChangeEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(ao),y(nt))};static \u0275dir=Ut({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,o){1&r&&Ge("ionChange",function(s){return o._handleChangeEvent(s.target)})},standalone:!1,features:[hr([{provide:Rs,useExisting:e,multi:!0}]),xn]})}return e})(),nc=(()=>{class e extends Vv{constructor(n,r){super(n,r)}_handleInputEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(ao),y(nt))};static \u0275dir=Ut({type:e,selectors:[["ion-input",3,"type","number"],["ion-input-otp","type","text"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,o){1&r&&Ge("ionInput",function(s){return o._handleInputEvent(s.target)})},standalone:!1,features:[hr([{provide:Rs,useExisting:e,multi:!0}]),xn]})}return e})();const gQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)},configurable:!0})})},mQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},or=(e,t,n)=>{n.forEach(r=>e[r]=wv(t,r))};function Dt(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&gQ(n,o),i&&mQ(n,i),n}}let RF=(()=>{let e=class Vw{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||Vw)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:Vw,selectors:[["ion-app"]],standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({methods:["setFocus"]})],e),e})(),es=(()=>{let e=class qw{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,or(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||qw)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:qw,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),ts=(()=>{let e=class Zw{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||Zw)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:Zw,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["collapse"]})],e),e})(),NF=(()=>{let e=class eE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,or(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||eE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:eE,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",errorText:"errorText",helperText:"helperText",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["alignment","checked","color","disabled","errorText","helperText","indeterminate","justify","labelPlacement","mode","name","required","value"]})],e),e})(),ns=(()=>{let e=class rE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,or(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(r){return new(r||rE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:rE,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),rs=(()=>{let e=class dE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||dE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:dE,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["collapse","mode","translucent"]})],e),e})(),Lo=(()=>{let e=class fE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||fE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:fE,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),rc=(()=>{let e=class mE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,or(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(r){return new(r||mE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:mE,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Co=(()=>{let e=class _E{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||_E)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:_E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),Uv=(()=>{let e=class SE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||SE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:SE,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),Hv=(()=>{let e=class wE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,or(this,this.el,["ionSwipe"])}static \u0275fac=function(r){return new(r||wE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:wE,selectors:[["ion-item-options"]],inputs:{side:"side"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["side"]})],e),e})(),Gv=(()=>{let e=class EE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,or(this,this.el,["ionDrag"])}static \u0275fac=function(r){return new(r||EE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:EE,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),$u=(()=>{let e=class DE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||DE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:DE,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","mode","position"]})],e),e})(),ea=(()=>{let e=class IE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||IE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:IE,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),x0=(()=>{let e=class VE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,or(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}static \u0275fac=function(r){return new(r||VE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:VE,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),mh=(()=>{let e=class JE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,or(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||JE)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:JE,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",errorText:"errorText",expandedIcon:"expandedIcon",fill:"fill",helperText:"helperText",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",required:"required",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["cancelText","color","compareWith","disabled","errorText","expandedIcon","fill","helperText","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","required","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),vh=(()=>{let e=class tD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||tD)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:tD,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["disabled","value"]})],e),e})(),yh=(()=>{let e=class rD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||rD)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:rD,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","duration","name","paused"]})],e),e})(),OF=(()=>{let e=class iD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||iD)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:iD,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["component","tab"],methods:["setActive"]})],e),e})(),zv=(()=>{let e=class sD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||sD)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:sD,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),PF=(()=>{let e=class aD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||aD)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:aD,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),os=(()=>{let e=class dD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||dD)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:dD,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","size"]})],e),e})(),_h=(()=>{let e=class pD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,or(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||pD)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:pD,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",errorText:"errorText",helperText:"helperText",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","errorText","helperText","justify","labelPlacement","mode","name","required","value"]})],e),e})(),is=(()=>{let e=class hD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||hD)(y(ht),y(nt),y(qe))};static \u0275cmp=Qe({type:hD,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","mode"]})],e),e})(),bh=(()=>{class e extends MF{parentOutlet;outletContent;constructor(n,r,o,i,s,a,l,c){super(n,r,o,i,s,a,l,c),this.parentOutlet=c}static \u0275fac=function(r){return new(r||e)($l("name"),$l("tabs"),y(_c),y(nt),y(Di),y(qe),y(Xl),y(e,12))};static \u0275cmp=Qe({type:e,selectors:[["ion-router-outlet"]],viewQuery:function(r,o){if(1&r&&Hl(aQ,7,Zi),2&r){let i;Ki(i=Xi())&&(o.outletContent=i.first)}},standalone:!1,features:[xn],ngContentSelectors:wt,decls:3,vars:0,consts:[["outletContent",""]],template:function(r,o){1&r&&(_t(),Mc(0,null,0),vt(2),Ul())},encapsulation:2})}return e})(),FF=(()=>{class e extends tQ{outlet;tabBar;tabBars;tabs;static \u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})();static \u0275cmp=Qe({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,o,i){if(1&r&&(Cu(i,zv,5),Cu(i,zv,4),Cu(i,OF,4)),2&r){let s;Ki(s=Xi())&&(o.tabBar=s.first),Ki(s=Xi())&&(o.tabBars=s),Ki(s=Xi())&&(o.tabs=s)}},viewQuery:function(r,o){if(1&r&&Hl(lQ,5,bh),2&r){let i;Ki(i=Xi())&&(o.outlet=i.first)}},standalone:!1,features:[xn],ngContentSelectors:uQ,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(r,o){1&r&&(_t(cQ),vt(0),V(1,"div",2,0),en(3,dQ,2,0,"ion-router-outlet",3)(4,fQ,1,0,"ng-content",4),q(),vt(5,1)),2&r&&(fe(3),pe("ngIf",0===o.tabs.length),fe(),pe("ngIf",o.tabs.length>0))},dependencies:[_o,bh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})}return e})(),LF=(()=>{class e extends YX{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(y(bh,8),y(cf),y(dh),y(nt),y(qe),y(ht))};static \u0275cmp=Qe({type:e,selectors:[["ion-back-button"]],standalone:!1,features:[xn],ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})}return e})(),k0=(()=>{class e extends QX{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(y(nt),y(B),y(ao),y(fh),y(qe),y(ht))};static \u0275cmp=Qe({type:e,selectors:[["ion-nav"]],standalone:!1,features:[xn],ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(_t(),vt(0))},encapsulation:2,changeDetection:0})}return e})();const MJ={provide:ui,useExisting:Pn(()=>$F),multi:!0};let $F=(()=>{class e extends _0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&Xs("max",o._enabled?o.max:null)},standalone:!1,features:[hr([MJ]),xn]})}return e})();const xJ={provide:ui,useExisting:Pn(()=>BF),multi:!0};let BF=(()=>{class e extends b0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=zr(e)))(o||e)}})();static \u0275dir=Ut({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&Xs("min",o._enabled?o.min:null)},standalone:!1,features:[hr([xJ]),xn]})}return e})(),R0=(()=>{class e extends ph{constructor(){super(hh.a)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ch=(()=>{class e extends ph{constructor(){super(hh.b)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ta=(()=>{class e extends ph{constructor(){super(hh.l)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Os=(()=>{class e extends ph{angularDelegate=$e(fh);injector=$e(ao);environmentInjector=$e(B);constructor(){super(hh.m)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=Je({token:e,factory:e.\u0275fac})}return e})();class oc extends ph{angularDelegate=$e(fh);injector=$e(ao);environmentInjector=$e(B);constructor(){super(hh.c)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const kJ=(e,t,n)=>()=>{const r=t.defaultView;if(r&&typeof window<"u"){(0,A0.s)({...e,_zoneGate:i=>n.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return sQ(r,{exclude:["ion-tabs"],syncQueue:!0,raf:kF,jmp:i=>n.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}})}};let Uc=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:w0,useValue:n},{provide:Bb,useFactory:kJ,multi:!0,deps:[w0,_i,qe]},fh,{provide:xF,useFactory:zX,deps:[Di]}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Oo({type:e});static \u0275inj=Fn({providers:[Os,oc],imports:[ql]})}return e})();var N0=_(1051);function NJ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var O0={exports:{}};!function(t,n){function o(l){var c=this,d=function a(){var l=4022871197;return function(d){d=String(d);for(var h=0;h<d.length;h++){var v=.02519603282416938*(l+=d.charCodeAt(h));v-=l=v>>>0,l=(v*=l)>>>0,l+=4294967296*(v-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var h=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=h-(c.c=0|h)},c.c=1,c.s0=d(" "),c.s1=d(" "),c.s2=d(" "),c.s0-=d(l),c.s0<0&&(c.s0+=1),c.s1-=d(l),c.s1<0&&(c.s1+=1),c.s2-=d(l),c.s2<0&&(c.s2+=1),d=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var d=new o(l),h=c&&c.state,v=d.next;return v.int32=function(){return 4294967296*d.next()|0},v.double=function(){return v()+11102230246251565e-32*(2097152*v()|0)},v.quick=v,h&&("object"==typeof h&&i(h,d),v.state=function(){return i(d,{})}),v}n&&n.exports?n.exports=s:this.alea=s}(0,O0);const PJ=NJ(O0.exports),jF=N0.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),VJ=new RegExp("(?<==)(?:true|false)"),UJ=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),HJ=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),GJ=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),zJ=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function P0(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function FJ(e,t={}){const n=e.trim().replace(/[,]+$/,"");if(""===n)return"{}";if(!function LJ(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(n))throw new TypeError("Unexpected input format");let r="";jF.reset(n);for(const o of jF)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}r+=o.value}return r.replace(/,([}\]])/g,"$1")}(t)):t}const VF=N0.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:VJ,value:e=>"true"===e},NumericLiteral:{match:UJ,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:HJ,value:P0,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:GJ,value:P0,type:()=>"StringLiteral"},UnquotedLiteral:{match:zJ,value:P0,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const ZJ=N0.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function qJ(e){let t=null;const n=VF.reset(e),r={};Object.defineProperties(r,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function WJ(e){let t="";for(const n in e){const r=e[n];switch(typeof r){case"object":t+=` ${n}='${JSON.stringify(r)}'`;break;case"string":t+=` ${n}="${r}"`;break;case"number":case"boolean":t+=` ${n}=${r}`}}return t.slice(1)}(r)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(VF.reset(e))}});const o=[];for(const{type:i,value:s}of n)switch(i){case"AttributeName":t=s,r[t]=t;break;case"AttributeShorthand":"."===s[0]?o.push(s.slice(1)):"#"===s[0]&&(r.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),r[t]=s,t=null)}return o.length&&(r.class=o.join(" ")),r}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function YJ(e){const{type:t,level:n,raw:r,content:o,marker:i,tag:s}=e,a=ZJ.reset(o);let l,c,d="",h=[];for(const{type:v,value:C}of a)switch(v){case"name":l=C;break;case"attrs":c=C;break;case"text":case"blockText":d=C,h="container"===n?this.lexer.blockTokens(C):this.lexer.inlineTokens(C)}return{type:t,raw:r,meta:{level:n,marker:i,tag:s,name:l},attrs:c,text:d,tokens:h}}function UF(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function QJ(e){const{meta:t,attrs:n,tokens:r=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=n?" "+n.toString():"",i+=UF(o)?" />":">",i+="container"===t.level?"\n":"",UF(o)||(i+="container"===t.level?this.parser.parse(r):this.parser.parseInline(r),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const JJ=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function eee(e=JJ){return{extensions:e.map(({level:t,marker:n,tag:r,renderer:o})=>{const i=PJ(n).int32(),s=`directive${function XJ(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(n)))?void 0:l.index},tokenizer(a){const l=function KJ(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,n),c=a.match(new RegExp(l));if(c){const[d,h=""]=c;return YJ.call(this,{type:s,level:t,raw:d,content:h,marker:n,tag:r||("inline"===t?"span":"div")})}},renderer:o||QJ}})}}var Bu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function HF(e){Bu=e}var Sh={exec:()=>null};function gr(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(o,i)=>{let s="string"==typeof i?i:i.source;return s=s.replace(ss.caret,"$1"),n=n.replace(o,s),r},getRegex:()=>new RegExp(n,t)};return r}var ss={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},wh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,L0=/(?:[*+-]|\d{1,9}[.)])/,GF=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,zF=gr(GF).replace(/bull/g,L0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),iee=gr(GF).replace(/bull/g,L0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),$0=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,B0=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,aee=gr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",B0).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),lee=gr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,L0).getRegex(),Wv="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j0=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,cee=gr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",j0).replace("tag",Wv).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),WF=gr($0).replace("hr",wh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wv).getRegex(),V0={blockquote:gr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",WF).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:aee,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:wh,html:cee,lheading:zF,list:lee,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:WF,table:Sh,text:/^[^\n]+/},qF=gr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",wh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wv).getRegex(),dee={...V0,lheading:iee,table:qF,paragraph:gr($0).replace("hr",wh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",qF).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wv).getRegex()},fee={...V0,html:gr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",j0).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Sh,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gr($0).replace("hr",wh).replace("heading"," *#{1,6} *[^\n]").replace("lheading",zF).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ZF=/^( {2,}|\\)\n(?!\s*$)/,qv=/[\p{P}\p{S}]/u,U0=/[\s\p{P}\p{S}]/u,YF=/[^\s\p{P}\p{S}]/u,mee=gr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,U0).getRegex(),KF=/(?!~)[\p{P}\p{S}]/u,XF=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,bee=gr(XF,"u").replace(/punct/g,qv).getRegex(),Cee=gr(XF,"u").replace(/punct/g,KF).getRegex(),QF="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",See=gr(QF,"gu").replace(/notPunctSpace/g,YF).replace(/punctSpace/g,U0).replace(/punct/g,qv).getRegex(),wee=gr(QF,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,KF).getRegex(),Eee=gr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,YF).replace(/punctSpace/g,U0).replace(/punct/g,qv).getRegex(),Dee=gr(/\\(punct)/,"gu").replace(/punct/g,qv).getRegex(),Iee=gr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Tee=gr(j0).replace("(?:--\x3e|$)","--\x3e").getRegex(),Aee=gr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Tee).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Zv=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,Mee=gr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Zv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),JF=gr(/^!?\[(label)\]\[(ref)\]/).replace("label",Zv).replace("ref",B0).getRegex(),e2=gr(/^!?\[(ref)\](?:\[\])?/).replace("ref",B0).getRegex(),H0={_backpedal:Sh,anyPunctuation:Dee,autolink:Iee,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:ZF,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Sh,emStrongLDelim:bee,emStrongRDelimAst:See,emStrongRDelimUnd:Eee,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:Mee,nolink:e2,punctuation:mee,reflink:JF,reflinkSearch:gr("reflink|nolink(?!\\()","g").replace("reflink",JF).replace("nolink",e2).getRegex(),tag:Aee,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Sh},kee={...H0,link:gr(/^!?\[(label)\]\((.*?)\)/).replace("label",Zv).getRegex(),reflink:gr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zv).getRegex()},G0={...H0,emStrongRDelimAst:wee,emStrongLDelim:Cee,url:gr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ree={...G0,br:gr(ZF).replace("{2,}","*").getRegex(),text:gr(G0.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Yv={normal:V0,gfm:dee,pedantic:fee},Eh={normal:H0,gfm:G0,breaks:Ree,pedantic:kee},Nee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t2=e=>Nee[e];function Cl(e,t){if(t){if(ss.escapeTest.test(e))return e.replace(ss.escapeReplace,t2)}else if(ss.escapeTestNoEncode.test(e))return e.replace(ss.escapeReplaceNoEncode,t2);return e}function n2(e){try{e=encodeURI(e).replace(ss.percentDecode,"%")}catch{return null}return e}function r2(e,t){let r=e.replace(ss.findPipe,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(ss.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(ss.slashPipe,"|");return r}function Dh(e,t,n){let r=e.length;if(0===r)return"";let o=0;for(;o<r;){let i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function o2(e,t,n,r,o){let i=t.href,s=t.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}var Kv=class{options;rules;lexer;constructor(e){this.options=e||Bu}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Dh(n,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=function Pee(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let o=r[1];return t.split("\n").map(i=>{let s=i.match(n.other.beginningSpace);if(null===s)return i;let[a]=s;return a.length>=o.length?i.slice(o.length):i}).join("\n")}(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=Dh(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Dh(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Dh(t[0],"\n").split("\n"),r="",o="",i=[];for(;n.length>0;){let l,s=!1,a=[];for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),s=!0;else{if(s)break;a.push(n[l])}n=n.slice(l);let c=a.join("\n"),d=c.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${c}`:c,o=o?`${o}\n${d}`:d;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,i,!0),this.lexer.state.top=h,0===n.length)break;let v=i.at(-1);if("code"===v?.type)break;if("blockquote"===v?.type){let C=v,M=C.raw+"\n"+n.join("\n"),U=this.blockquote(M);i[i.length-1]=U,r=r.substring(0,r.length-C.raw.length)+U.raw,o=o.substring(0,o.length-C.text.length)+U.text;break}if("list"===v?.type){let C=v,M=C.raw+"\n"+n.join("\n"),U=this.list(M);i[i.length-1]=U,r=r.substring(0,r.length-v.raw.length)+U.raw,o=o.substring(0,o.length-C.raw.length)+U.raw,n=M.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:r,tokens:i,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),s=!1;for(;e;){let l=!1,c="",d="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let h=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,ge=>" ".repeat(3*ge.length)),v=e.split("\n",1)[0],C=!h.trim(),M=0;if(this.options.pedantic?(M=2,d=h.trimStart()):C?M=t[1].length+1:(M=t[2].search(this.rules.other.nonSpaceChar),M=M>4?1:M,d=h.slice(M),M+=t[1].length),C&&this.rules.other.blankLine.test(v)&&(c+=v+"\n",e=e.substring(v.length+1),l=!0),!l){let ge=this.rules.other.nextBulletRegex(M),ke=this.rules.other.hrRegex(M),It=this.rules.other.fencesBeginRegex(M),Ht=this.rules.other.headingBeginRegex(M),Gt=this.rules.other.htmlBeginRegex(M);for(;e;){let Kn,$t=e.split("\n",1)[0];if(v=$t,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),Kn=v):Kn=v.replace(this.rules.other.tabCharGlobal,"    "),It.test(v)||Ht.test(v)||Gt.test(v)||ge.test(v)||ke.test(v))break;if(Kn.search(this.rules.other.nonSpaceChar)>=M||!v.trim())d+="\n"+Kn.slice(M);else{if(C||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||It.test(h)||Ht.test(h)||ke.test(h))break;d+="\n"+v}!C&&!v.trim()&&(C=!0),c+=$t+"\n",e=e.substring($t.length+1),h=Kn.slice(M)}}o.loose||(s?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let de,U=null;this.options.gfm&&(U=this.rules.other.listIsTask.exec(d),U&&(de="[ ] "!==U[0],d=d.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:c,task:!!U,checked:de,loose:!1,text:d,tokens:[]}),o.raw+=c}let a=o.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){let c=o.items[l].tokens.filter(h=>"space"===h.type),d=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));o.loose=d}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=r2(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?i.align.push("right"):this.rules.other.tableAlignCenter.test(s)?i.align.push("center"):this.rules.other.tableAlignLeft.test(s)?i.align.push("left"):i.align.push(null);for(let s=0;s<n.length;s++)i.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:i.align[s]});for(let s of o)i.rows.push(r2(s,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Dh(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{let i=function Oee(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===i)return;if(i>-1){let s=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],o=i[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r.slice(1):r.slice(1,-1)),o2(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!o){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return o2(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let i,s,o=[...r[0]].length-1,a=o,l=0,c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=c.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){a+=s;continue}if((r[5]||r[6])&&o%3&&!((o+s)%3)){l+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+l);let d=[...r[0]][0].length,h=e.slice(0,o+r.index+d+s);if(Math.min(o,s)%2){let C=h.slice(1,-1);return{type:"em",raw:h,text:C,tokens:this.lexer.inlineTokens(C)}}let v=h.slice(2,-2);return{type:"strong",raw:h,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return"@"===t[2]?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if("@"===t[2])n=t[0],r="mailto:"+n;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);n=t[0],r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],escaped:this.lexer.state.inRawBlock}}},ic=class gD{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Bu,this.options.tokenizer=this.options.tokenizer||new Kv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:ss,block:Yv.normal,inline:Eh.normal};this.options.pedantic?(n.block=Yv.pedantic,n.inline=Eh.pedantic):this.options.gfm&&(n.block=Yv.gfm,n.inline=this.options.breaks?Eh.breaks:Eh.gfm),this.tokenizer.rules=n}static get rules(){return{block:Yv,inline:Eh}}static lex(t,n){return new gD(n).lex(t)}static lexInline(t,n){return new gD(n).inlineTokens(t)}lex(t){t=t.replace(ss.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(ss.tabCharGlobal,"    ").replace(ss.spaceLine,""));t;){let o;if(this.options.extensions?.block?.some(s=>!!(o=s.call({lexer:this},t,n))&&(t=t.substring(o.raw.length),n.push(o),!0)))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let s=n.at(-1);1===o.raw.length&&void 0!==s?s.raw+="\n":n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let i=t;if(this.options.extensions?.startBlock){let l,s=1/0,a=t.slice(1);this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),"number"==typeof l&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(i=t.substring(0,s+1))}if(this.state.top&&(o=this.tokenizer.paragraph(i))){let s=n.at(-1);r&&"paragraph"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o),r=i.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let s=n.at(-1);"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,o=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(r));)a.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,s="";for(;t;){let a;if(i||(s=""),i=!1,this.options.extensions?.inline?.some(c=>!!(a=c.call({lexer:this},t,n))&&(t=t.substring(a.raw.length),n.push(a),!0)))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);let c=n.at(-1);"text"===a.type&&"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,r,s)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if(this.options.extensions?.startInline){let h,c=1/0,d=t.slice(1);this.options.extensions.startInline.forEach(v=>{h=v.call({lexer:this},d),"number"==typeof h&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),"_"!==a.raw.slice(-1)&&(s=a.raw.slice(-1)),i=!0;let c=n.at(-1);"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return n}},Hc=class{options;parser;constructor(e){this.options=e||Bu}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(ss.notSpaceStart)?.[0],o=e.replace(ss.endingNewline,"")+"\n";return r?'<pre><code class="language-'+Cl(r)+'">'+(n?o:Cl(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:Cl(o,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let s=0;s<e.items.length;s++)r+=this.listitem(e.items[s]);let o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+Cl(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let r="";for(let o=0;o<e.rows.length;o++){let i=e.rows[o];n="";for(let s=0;s<i.length;s++)n+=this.tablecell(i[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Cl(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),o=n2(e);if(null===o)return r;let i='<a href="'+(e=o)+'"';return t&&(i+=' title="'+Cl(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let o=n2(e);if(null===o)return Cl(n);let i=`<img src="${e=o}" alt="${n}"`;return t&&(i+=` title="${Cl(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Cl(e.text)}},z0=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},sc=class mD{options;renderer;textRenderer;constructor(t){this.options=t||Bu,this.options.renderer=this.options.renderer||new Hc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new z0}static parse(t,n){return new mD(n).parse(t)}static parseInline(t,n){return new mD(n).parseInline(t)}parse(t,n=!0){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==l||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){r+=l||"";continue}}let s=i;switch(s.type){case"space":r+=this.renderer.space(s);continue;case"hr":r+=this.renderer.hr(s);continue;case"heading":r+=this.renderer.heading(s);continue;case"code":r+=this.renderer.code(s);continue;case"table":r+=this.renderer.table(s);continue;case"blockquote":r+=this.renderer.blockquote(s);continue;case"list":r+=this.renderer.list(s);continue;case"html":r+=this.renderer.html(s);continue;case"def":r+=this.renderer.def(s);continue;case"paragraph":r+=this.renderer.paragraph(s);continue;case"text":{let a=s,l=this.renderer.text(a);for(;o+1<t.length&&"text"===t[o+1].type;)a=t[++o],l+="\n"+this.renderer.text(a);r+=n?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==a||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}let s=i;switch(s.type){case"escape":case"text":r+=n.text(s);break;case"html":r+=n.html(s);break;case"link":r+=n.link(s);break;case"image":r+=n.image(s);break;case"strong":r+=n.strong(s);break;case"em":r+=n.em(s);break;case"codespan":r+=n.codespan(s);break;case"br":r+=n.br(s);break;case"del":r+=n.del(s);break;default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Xv=class{options;block;constructor(e){this.options=e||Bu}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ic.lex:ic.lexInline}provideParser(){return this.block?sc.parse:sc.parseInline}},ju=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=sc;Renderer=Hc;TextRenderer=z0;Lexer=ic;Tokenizer=Kv;Hooks=Xv;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let o=r;for(let i of o.header)n=n.concat(this.walkTokens(i.tokens,t));for(let i of o.rows)for(let s of i)n=n.concat(this.walkTokens(s.tokens,t));break}case"list":n=n.concat(this.walkTokens(r.items,t));break;default:{let o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(i=>{let s=o[i].flat(1/0);n=n.concat(this.walkTokens(s,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let i=t.renderers[o.name];t.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");let i=t[o.level];i?i.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){let o=this.defaults.renderer||new Hc(this.defaults);for(let i in n.renderer){if(!(i in o))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=n.renderer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d||""}}r.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new Kv(this.defaults);for(let i in n.tokenizer){if(!(i in o))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=n.tokenizer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new Xv;for(let i in n.hooks){if(!(i in o))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=n.hooks[i],l=o[i];o[i]=Xv.passThroughHooks.has(i)?c=>{if(this.defaults.async)return Promise.resolve(a.call(o,c)).then(h=>l.call(o,h));let d=a.call(o,c);return l.call(o,d)}:(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(s){let a=[];return a.push(i.call(this,s)),o&&(a=a.concat(o.call(this,s))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return ic.lex(e,t??this.defaults)}parser(e,t){return sc.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);let s=o.hooks?o.hooks.provideLexer():e?ic.lex:ic.lexInline,a=o.hooks?o.hooks.provideParser():e?sc.parse:sc.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(l=>s(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>a(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(i);try{o.hooks&&(t=o.hooks.preprocess(t));let l=s(t,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=a(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return i(l)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let r="<p>An error occurred:</p><pre>"+Cl(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};function lr(e,t){return ju.parse(e,t)}lr.options=lr.setOptions=function(e){return ju.setOptions(e),HF(lr.defaults=ju.defaults),lr},lr.getDefaults=function F0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},lr.defaults=Bu,lr.use=function(...e){return ju.use(...e),HF(lr.defaults=ju.defaults),lr},lr.walkTokens=function(e,t){return ju.walkTokens(e,t)},lr.parseInline=ju.parseInline,lr.Parser=sc,lr.parser=sc.parse,lr.Renderer=Hc,lr.TextRenderer=z0,lr.Lexer=ic,lr.lexer=ic.lex,lr.Tokenizer=Kv,lr.Hooks=Xv,lr.parse=lr;class Uee extends ct{constructor(t,n){super()}schedule(t,n=0){return this}}const Qv={setInterval(e,t,...n){const{delegate:r}=Qv;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Qv;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},W0={now:()=>(W0.delegate||Date).now(),delegate:void 0};class Ih{constructor(t,n=Ih.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Ih.now=W0.now;const zee=new class Gee extends Ih{constructor(t,n=Ih.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class Hee extends Uee{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return Qv.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Qv.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,We(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});class Yee extends On{constructor(t=1/0,n=1/0,r=W0){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function q0(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new bn({next:()=>{r.unsubscribe(),e()}});return xs(t(...n)).subscribe(r)}const Qee=["*"];let i2=(()=>{var e;class t{constructor(){this._buttonClick$=new On,this.copied=function Bee(e,t){const r=t?.manualCleanup?null:t?.injector?.get(Ys)??$e(Ys),o=function jee(e=Object.is){return(t,n)=>1===t.kind&&1===n.kind&&e(t.value,n.value)}(t?.equal);let i,s;i=bi(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue},{equal:o});const a=e.subscribe({next:l=>i.set({kind:1,value:l}),error:l=>{i.set({kind:2,error:l}),s?.()},complete:()=>{s?.()}});if(t?.requireSync&&0===i().kind)throw new Fe(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Ms(()=>{const l=i();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new Fe(601,!1)}},{equal:t?.equal})}(this._buttonClick$.pipe(ci(()=>function Vee(...e){const t=jp(e),n=function k7(e,t){return"number"==typeof hS(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?xs(r[0]):Wd(n)(Xo(r,t)):Ta}(cn(!0),function qee(e=0,t,n=zee){let r=-1;return null!=t&&(NN(t)?n=t:r=t),new Cn(o=>{let i=function Wee(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(3e3).pipe(function Zee(e){return Yn(()=>e)}(!1)))),CP(),function Xee(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function Kee(e={}){const{connector:t=()=>new On,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,d=!1,h=!1;const v=()=>{a?.unsubscribe(),a=void 0},C=()=>{v(),s=l=void 0,d=h=!1},M=()=>{const U=s;C(),U?.unsubscribe()};return Yo((U,de)=>{c++,!h&&!d&&v();const ge=l=l??t();de.add(()=>{c--,0===c&&!h&&!d&&(a=q0(M,o))}),ge.subscribe(de),!s&&c>0&&(s=new bn({next:ke=>ge.next(ke),error:ke=>{h=!0,v(),a=q0(C,n,ke),ge.error(ke)},complete:()=>{d=!0,v(),a=q0(C,r),ge.complete()}}),xs(U).subscribe(s))})(i)}}({connector:()=>new Yee(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1))),this.copiedText=Ms(()=>this.copied()?"Copied":"Copy")}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(o,i){1&o&&(sm(0,"button",0),sC("click",function(){return i.onCopyToClipboardClick()}),Re(1),am()),2&o&&(Sa("copied",i.copied()),fe(),As(i.copiedText()))},encapsulation:2,changeDetection:0}))}return e(),t})();const tte=new rt("CLIPBOARD_OPTIONS");var Z0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(Z0||{});const s2=new rt("MARKED_EXTENSIONS"),a2=new rt("MARKED_OPTIONS"),rte=new rt("MERMAID_OPTIONS"),l2=new rt("SANITIZE");let Y0=(()=>{var e;class t{get options(){return this._options}set options(r){this._options={...this.DEFAULT_MARKED_OPTIONS,...r}}get renderer(){return this.options.renderer}set renderer(r){this.options.renderer=r}constructor(r,o,i,s,a,l,c,d){this.clipboardOptions=r,this.extensions=o,this.mermaidOptions=s,this.platform=a,this.sanitize=l,this.http=c,this.sanitizer=d,this.DEFAULT_MARKED_OPTIONS={renderer:new Hc},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new On,this.reload$=this._reload$.asObservable(),this.options=i}parse(r,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,d={...this.options,...o.markedOptions},h=d.renderer||this.renderer||new Hc;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const v=this.trimIndentation(r),C=i?this.decodeHtml(v):v,M=a?this.parseEmoji(C):C,U=this.parseMarked(M,d,s);return c?U:this.sanitizeHtml(U)}render(r,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:d,mermaidOptions:h}=o;l&&this.renderKatex(r,{...this.DEFAULT_KATEX_OPTIONS,...c}),d&&this.renderMermaid(r,{...this.DEFAULT_MERMAID_OPTIONS,...this.mermaidOptions,...h}),s&&this.renderClipboard(r,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),this.highlight(r)}reload(){this._reload$.next()}getSource(r){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(r,{responseType:"text"}).pipe(Yn(o=>this.handleExtension(r,o)))}highlight(r){if(!Vd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;r||(r=document);const o=r.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(r)}decodeHtml(r){if(!Vd(this.platform))return r;const o=document.createElement("textarea");return o.innerHTML=r,o.value}extendsRendererForExtensions(r){const o=r;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&lr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),r}extendsRendererForMermaid(r){const o=r;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return r;const i=r.code;return r.code=s=>"mermaid"===s.lang?`<div class="mermaid">${s.text}</div>`:i(s),o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,r}handleExtension(r,o){const i=r.lastIndexOf("://"),s=i>-1?r.substring(i+4):r,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),d=c>-1?l.substring(c+1):"";return d&&"md"!==d?"```"+d+"\n"+o+"\n```":o}parseMarked(r,o,i=!1){if(o.renderer){const s={...o.renderer};delete s.\u0275NgxMarkdownRendererExtendedForExtensions,delete s.\u0275NgxMarkdownRendererExtendedForMermaid,delete o.renderer,lr.use({renderer:s})}return i?lr.parseInline(r,o):lr.parse(r,o)}parseEmoji(r){if(!Vd(this.platform))return r;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(r)}renderKatex(r,o){if(Vd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(r,o)}}renderClipboard(r,o,i){if(!Vd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=r.querySelectorAll("pre");for(let c=0;c<l.length;c++){const d=l.item(c),h=document.createElement("div");h.style.position="relative",d.parentNode.insertBefore(h,d),h.appendChild(d);const v=document.createElement("div");let C,M;if(v.classList.add("markdown-clipboard-toolbar"),v.style.position="absolute",v.style.top=".5em",v.style.right=".5em",v.style.zIndex="1",h.insertAdjacentElement("beforeend",v),h.onmouseenter=()=>v.classList.add("hover"),h.onmouseleave=()=>v.classList.remove("hover"),s){const U=o.createComponent(s);C=U.hostView,U.changeDetectorRef.markForCheck()}else if(a)C=o.createEmbeddedView(a);else{const U=o.createComponent(i2);C=U.hostView,U.changeDetectorRef.markForCheck()}C.rootNodes.forEach(U=>{v.appendChild(U),M=new ClipboardJS(U,{text:()=>d.innerText})}),C.onDestroy(()=>M.destroy())}}renderMermaid(r,o=this.DEFAULT_MERMAID_OPTIONS){if(!Vd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=r.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(r){if(!r)return"";let o;return r.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}sanitizeHtml(r){var o=this;return(0,F.A)(function*(){return function ote(e){return"function"==typeof e}(o.sanitize)?o.sanitize(yield r):o.sanitize!==ws.NONE?o.sanitizer.sanitize(o.sanitize,r)??"":r})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(tte,8),oe(s2,8),oe(a2,8),oe(rte,8),oe(tg),oe(l2),oe(yS,8),oe(nS))},this.\u0275prov=Je({token:t,factory:t.\u0275fac}))}return e(),t})(),K0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(r){this._disableSanitizer=this.coerceBooleanProperty(r)}get inline(){return this._inline}set inline(r){this._inline=this.coerceBooleanProperty(r)}get clipboard(){return this._clipboard}set clipboard(r){this._clipboard=this.coerceBooleanProperty(r)}get emoji(){return this._emoji}set emoji(r){this._emoji=this.coerceBooleanProperty(r)}get katex(){return this._katex}set katex(r){this._katex=this.coerceBooleanProperty(r)}get mermaid(){return this._mermaid}set mermaid(r){this._mermaid=this.coerceBooleanProperty(r)}get lineHighlight(){return this._lineHighlight}set lineHighlight(r){this._lineHighlight=this.coerceBooleanProperty(r)}get lineNumbers(){return this._lineNumbers}set lineNumbers(r){this._lineNumbers=this.coerceBooleanProperty(r)}get commandLine(){return this._commandLine}set commandLine(r){this._commandLine=this.coerceBooleanProperty(r)}constructor(r,o,i){this.element=r,this.markdownService=o,this.viewContainerRef=i,this.error=new mn,this.load=new mn,this.ready=new mn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new On}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(TS(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(r){var o=this;return(0,F.A)(function*(i,s=!1){const a={decodeHtml:s,inline:o.inline,emoji:o.emoji,mermaid:o.mermaid,disableSanitizer:o.disableSanitizer},l={clipboard:o.clipboard,clipboardOptions:o.getClipboardOptions(),katex:o.katex,katexOptions:o.katexOptions,mermaid:o.mermaid,mermaidOptions:o.mermaidOptions},c=yield o.markdownService.parse(i,a);o.element.nativeElement.innerHTML=c,o.handlePlugins(),o.markdownService.render(o.element.nativeElement,l,o.viewContainerRef),o.ready.emit()}).apply(this,arguments)}coerceBooleanProperty(r){return null!=r&&"false"!=`${String(r)}`}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:r=>{this.render(r).then(()=>{this.load.emit(r)})},error:r=>this.error.emit(r)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Z0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Z0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(r){const o=r.match(/([A-Z])/g);if(!o)return r;let i=r.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(nt),y(Y0),y(Zi))},this.\u0275cmp=Qe({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[qi],ngContentSelectors:Qee,decls:1,vars:0,template:function(o,i){1&o&&(_t(),vt(0))},encapsulation:2}))}return e(),t})();function fte(e){return[Y0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],e?.mermaidOptions??[],e?.markedExtensions??[],hte(e?.sanitize)??[]]}function hte(e){return function pte(e){return null!=e&&null!=e.provide}(e)?e:{provide:l2,useValue:e??ws.HTML}}let X0=(()=>{var e;class t{static forRoot(r){return{ngModule:t,providers:[fte(r)]}}static forChild(){return{ngModule:t}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({}))}return e(),t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const vte=new Error("request for lock canceled");class _te{constructor(t,n=vte){this._value=t,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,o)=>{const i={resolve:r,reject:o,weight:t,priority:n},s=c2(this._queue,a=>n<=a.priority);-1===s&&t<=this._value?this._dispatchItem(i):this._queue.splice(s+1,0,i)})}runExclusive(t){return function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,arguments,void 0,function*(n,r=1,o=0){const[i,s]=yield this.acquire(r,o);try{return yield n(i)}finally{s()}})}waitForUnlock(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,n)?Promise.resolve():new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),function bte(e,t){const n=c2(e,r=>t.priority<=r.priority);e.splice(n+1,0,t)}(this._weightedWaiters[t-1],{resolve:r,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const n=this._value;this._value-=t.weight,t.resolve([n,this._newReleaser(t.weight)])}_newReleaser(t){let n=!1;return()=>{n||(n=!0,this.release(t))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];n&&(n.forEach(r=>r.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let n=this._value;n>0;n--){const r=this._weightedWaiters[n-1];if(!r)continue;const o=r.findIndex(i=>i.priority<=t);(-1===o?r:r.splice(0,o)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,n){return(0===this._queue.length||this._queue[0].priority<n)&&t<=this._value}}function c2(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}class Ma{constructor(t){this._semaphore=new _te(1,t)}acquire(){return e=this,t=arguments,r=function*(t=0){const[,n]=yield this._semaphore.acquire(1,t);return n},new((n=void 0)||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())});var e,t,n,r}runExclusive(t,n=0){return this._semaphore.runExclusive(()=>t(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const ff=function Ete(){if(!ml)return 0;const e=navigator.userAgent.match(/cpe-native-api-(\d+)/);if(!e)return 0;const t=parseInt(e[1],10);return isNaN(t)?0:t}(),Q0=new fr.J;ff>0&&(window.__cpeCallFromNative=e=>Q0.dispatch(e));let na=(()=>{var e;class t{constructor(){this.netRpcResult=new fr.J,this.onNativeMessage=r=>{"netRpcResult"===r.type?this.netRpcResult.dispatch({sessionId:r.sessionId,rpcData:new Uint8Array(r.rpcData)}):console.error("unhandled native message",r)},Q0.addHandler(this.onNativeMessage)}ngOnDestroy(){Q0.removeHandler(this.onNativeMessage)}netOpenSession(){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netOpenSession"})}netCloseSession(r){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netCloseSession",sessionId:r})}netDispatchRpc(r,o){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netDispatchRpc",sessionId:r,rpcData:Array.from(o)}).then(i=>!!i)}clipboardRead(){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardRead"})}clipboardWrite(r){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardWrite",data:r})}isResumeFromBackground(){return void 0!==window.__cpeLastResume&&Date.now()-window.__cpeLastResume<=3e3}setWorkerRegistered(r){return(0,F.A)(function*(){ff>2&&(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"setWorkerRegistered",workerRegistered:r}))})()}getWorkerFailed(){return(0,F.A)(function*(){return!(ff<3||!(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"getWorkerFailed"})))})()}clearWorkerFailed(){ff>2&&window.webkit.messageHandlers.nativeCall.postMessage({type:"clearWorkerFailed"})}assertNativeNetworkIntegrationSupported(){if(!t.supportsNativeNetworkIntegration())throw new Error("native network integration not supported")}assertNativeClipboardSupported(){if(!t.supportsNativeClipboard())throw new Error("native clipboard is not supported")}static supportsNativeNetworkIntegration(){return ml&&ff>0}static supportsNativeClipboard(){return ml&&ff>1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Dte=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function d2(e){let t=-1;for(let n=0;n<e.length;n++)t=Dte[255&(t^e[n])]^t>>>8;return~t}var Ite=_(6243),Tte=_.n(Ite);const f2={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let J0;const Ate=new Uint8Array(16),Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function xte(e,t,n){const r=(e=e||{}).random??e.rng?.()??function Mte(){if(!J0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");J0=crypto.getRandomValues.bind(crypto)}return J0(Ate)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)t[n+o]=r[o];return t}return function p2(e,t=0){return(Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]).toLowerCase()}(r)}const h2=function kte(e,t,n){return!f2.randomUUID||t||e?xte(e,t,n):f2.randomUUID()};function Un(){return(e,t,n)=>{const r=n.value;let o=!1;return n.value=(0,F.A)(function*(...i){if(!o){o=!0;try{return yield r.apply(this,i)}finally{o=!1}}}),n}}let ac=(()=>{var e;class t{constructor(){this._currentSession=bi(void 0)}get currentSession(){return this._currentSession}setCurrentSession(r){this._currentSession.set(r)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var g2;class m2{constructor(t){this.markup=t}}class mr{constructor(t,n){this.alertController=t,this.emulationState=n,this.emergencySaveEvent=new fr.J,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new m2(t)}errorMessage(t){var n=this;return(0,F.A)(function*(r,o="Close"){const i=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(r),buttons:[{text:o,role:"cancel"}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()}).apply(this,arguments)}message(t,n){var r=this;return(0,F.A)(function*(o,i,s={},a="Close"){let l=()=>{};const c=new Promise(h=>{l=h}),d=yield r.alertController.create({header:o,message:r.sanitizeMessage(i),backdropDismiss:!1,buttons:[{text:a,role:"cancel",handler:l},...Object.keys(s).map(h=>({text:h,handler:()=>{s[h](),l()}}))],cssClass:"cpe-alert-message"});yield d.present(),yield d.onDidDismiss(),yield c}).apply(this,arguments)}messageWithChoice(t,n,r,o){var i=this;return(0,F.A)(function*(s,a,l,c,d={},h="Close"){let v=()=>{};const C=new Promise(U=>{v=U}),M=yield i.alertController.create({header:s,message:i.sanitizeMessage(a),backdropDismiss:!1,buttons:[{text:h,role:"cancel",handler:v},...Object.keys(d).map(U=>({text:U,handler:()=>{d[U](),v()}}))],inputs:[{type:"checkbox",label:l,checked:!1,handler:U=>c=!0===U.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border cpe-alert-message"});return yield M.present(),yield M.onDidDismiss(),yield C,c}).apply(this,arguments)}updateAvailable(t){var n=this;return(0,F.A)(function*(){const r=yield n.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield r.present(),yield r.onDidDismiss()})()}fatalError(t){var n=this;return(0,F.A)(function*(r,o=!0){const i=!!n.emulationState.currentSession(),s=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${r}\n                <br/><br/>\n                Please close or reload this window.\n                ${i&&o?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...i&&o?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield s.present(),yield s.onDidDismiss()}).apply(this,arguments)}errorInNativeCode(t){var n=this;return(0,F.A)(function*(){const r=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}snapshotTimeout(){var t=this;return(0,F.A)(function*(){yield t.message("Timeout while saving state","Your browser's IndexedDB is either slow to respond or has crashed. You can either retry or reload CloudpilotEmu.",{Reload:()=>window.location.reload()},"Retry")})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new A0.I(t instanceof m2?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(n=>(this.sanitizeDiv.textContent=n,this.sanitizeDiv.innerHTML)).join("<br/>"))}static#e=g2=()=>(this.\u0275fac=function(n){return new(n||mr)(oe(R0),oe(ac))},this.\u0275prov=Je({token:mr,factory:mr.\u0275fac,providedIn:"root"}))}g2(),re([Un()],mr.prototype,"updateAvailable",null),re([Un()],mr.prototype,"fatalError",null),re([Un()],mr.prototype,"errorInNativeCode",null),re([Un()],mr.prototype,"snapshotTimeout",null);let Vu=(()=>{var e;class t{constructor(r,o,i){this.alertService=r,this.nativeAppService=o,this.ngZone=i,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>{this.nativeAppService.isResumeFromBackground()?window.location.reload():this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1)},this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=s=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${s}.`),this.fatalInNativeCode=s=>this.fatalWithMessage(s.message,!0,!1),this.fatalWithMessage=(s,a=!0,l=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,a&&mN(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(s,l))}),this.fatalErrorEvent=new fr.J,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(mr),oe(na),oe(qe))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var Dr=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Dr||{});let Th=(()=>{var e;class t{constructor(r){this.errorService=r,this.ownershipMmap=new Map}getOwner(r){return this.ownershipMmap.get(r)??Dr.none}claim(r,o){this.assertOwnership(r,Dr.none),this.ownershipMmap.set(r,o)}release(r,o){this.assertOwnership(r,o),this.ownershipMmap.delete(r)}assertOwnership(r,o){if(this.getOwner(r)===o)return;const i=o===Dr.none?`Card alread claimed for ${this.getOwner(r)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(r)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(r,o,i){this.assertOwnership(r,o),this.ownershipMmap.set(r,i)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Vu))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class Uu extends Error{constructor(t){super(t)}}const Gc="session",pf="rom",zc="memory",lc="state",ey="kvs",Wc="memory-meta",Sl="storage",ra="storage-card",Ah="lock",ty="session",tw="memory",_2="storage-meta",b2="storage-card";function nw(){return(nw=(0,F.A)(function*(e,t){function n(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(ty).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+n(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function rw(){return(rw=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=t.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=n.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(n.put(r,"credentials"),n.delete("proxyCredentials"))})).apply(this,arguments)}function ow(){return(ow=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(_2,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(ty).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(n.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function iw(){return(iw=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(_2).name=b2})).apply(this,arguments)}function sw(){return(sw=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(b2).createIndex("storageId","storageId")})).apply(this,arguments)}function aw(){return(aw=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}function tr(e){return new Promise((t,n)=>{!function Wte(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>n(new Uu(e.error?.message))})}function C2(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let n=0;n<256;n++)if(e[n]!==t)return e;return 255&e[0]}function qte(e){const t=e[0];for(let n=1;n<2048;n++)if(e[n]!==t)return e;return t}var S2;const lw=new Error("page lock lost"),w2=new Error("version mismatch"),E2=h2();function So(){return(e,t,n)=>{const r=n.value;return n.value=(0,F.A)(function*(...o){const i=this.errorService;try{return yield r.apply(this,o)}catch(s){throw console.error(s),s instanceof Uu?i.fatalIDBDead():s===w2?i.fatalVersionMismatch():s===lw?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),n}}class zn{constructor(t,n,r){this.ngZone=t,this.errorService=n,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(zc),l=o.objectStore(Wc),c=new Uint32Array(256),d=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const v=s.length>>>10;for(let C=0;C<v;C++){d.set(s.subarray(1024*C,1024*(C+1)));const M=C2(c);if("number"==typeof M)a.put(M,[i,C]);else{const U=new Uint32Array(256);U.set(M),a.put(U,[i,C])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,F.A)(function*(){const a=o.objectStore(Wc),l=yield tr(a.get(i));if(!l)return;const c=yield new Promise(function(){var d=(0,F.A)(function*(h,v){const C=o.objectStore(zc),M=new Uint32Array(l.totalSize>>>2),U=C.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));U.onsuccess=()=>{const de=U.result;if(!de)return h(new Uint8Array(M.buffer));const ge=de.value,[,ke]=de.key;"number"==typeof ge?M.subarray(256*ke,256*(ke+1)).fill(ge|ge<<8|ge<<16|ge<<24):M.subarray(256*ke,256*(ke+1)).set(1024===ge.length?new Uint32Array(ge.buffer):ge),de.continue()},U.onerror=()=>v(new Uu(U.error?.message))});return function(h,v){return d.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&l.crc32!==d2(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new fr.J,this.storageCardChangeEvent=new fr.J,this.sessionUpdateMutex=new Ma,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,n,r,o){var i=this;return(0,F.A)(function*(){const s=Tte()(n),a=yield i.newTransaction(Gc,pf,lc,zc,Wc),l=a.objectStore(Gc),c=a.objectStore(pf);(yield tr(c.get(s)))||c.put(n,s);const{id:h,...v}=t,C=yield tr(l.add({...v,rom:s})),M=yield tr(l.get(C));return r&&i.saveMemory(a,M.id,r),o&&i.saveState(a,M.id,o),yield tr(a),M})()}getAllSessions(){var t=this;return(0,F.A)(function*(){const[n]=yield t.prepareObjectStore(Gc);return yield tr(n.getAll())})()}getSession(t){var n=this;return(0,F.A)(function*(){const[r]=yield n.prepareObjectStore(Gc);return yield tr(r.get(t))})()}deleteSession(t){var n=this;return(0,F.A)(function*(){const r=yield n.newTransaction(Gc,pf,lc,zc,Wc),o=r.objectStore(Gc),i=r.objectStore(pf);(t=yield tr(o.get(t.id)))&&(o.delete(t.id),0===(yield tr(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),n.deleteMemory(r,t.id),n.deleteState(r,t.id),yield tr(r),n.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,n){var r=this;return this.sessionUpdateMutex.runExclusive((0,F.A)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=n,[c,d]=yield r.prepareObjectStore(Gc),h=yield tr(c.get(t));if(!h)throw new Error(`no session with id ${t}`);const v={...h,...l};c.put(v),yield tr(d),r.sessionChangeEvent.dispatch([h.id,v])}))}updateSession(t){var n=this;return this.sessionUpdateMutex.runExclusive((0,F.A)(function*(){const[r,o]=yield n.prepareObjectStore(Gc),i=yield tr(r.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");r.put(t),yield tr(o),n.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,n){var r=this;return(0,F.A)(function*(){const o=yield r.newTransaction(pf,lc,zc,Wc),i=o.objectStore(pf);return[yield tr(i.get(t.rom)),yield r.loadMemory(o,t.id,n),yield r.loadState(o,t.id)]})()}deleteStateForSession(t){var n=this;return(0,F.A)(function*(){const[r,o]=yield n.prepareObjectStore(lc);r.delete(t.id),yield tr(o)})()}addEmptyStorageCard(t){var n=this;return(0,F.A)(function*(){const[r]=yield n.prepareObjectStore(ra),o=yield tr(r.add(t)),i=yield tr(r.get(o));return n.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,n){var r=this;return(0,F.A)(function*(){return r.ngZone.runOutsideAngular((0,F.A)(function*(){const o=yield r.newTransaction(ra,Sl),i=o.objectStore(ra),s=o.objectStore(Sl),a=yield tr(i.add(t)),l=(t.size>>>13)+(n.length%8192==0?0:1),c=new Uint32Array(2048);for(let h=0;h<l;h++){const v=n.subarray(2048*h,2048*(h+1));h===l-1&&c.set(v);const C=qte(h===l-1?c:v);0!==C&&s.put("number"==typeof C?C:C?.slice(),[a,h])}const d=yield tr(i.get(a));return yield tr(o),r.storageCardChangeEvent.dispatch(d.id),d}))})()}getAllStorageCards(){var t=this;return(0,F.A)(function*(){const[n]=yield t.prepareObjectStore(ra);return tr(n.getAll())})()}getCard(t){var n=this;return(0,F.A)(function*(){const[r]=yield n.prepareObjectStore(ra);return tr(r.get(t))})()}updateStorageCardPartial(t,n){var r=this;return(0,F.A)(function*(){const{storageId:o,size:i,id:s,...a}=n,[l,c]=yield r.prepareObjectStore(ra),d=yield tr(l.get(t));if(!d)throw new Error(`no card with id ${t}`);const h={...d,...a};l.put(h),yield tr(c),r.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var n=this;return(0,F.A)(function*(){const r=yield n.newTransaction(ra,Sl);n.storageCardContext.assertOwnership(t,Dr.none);const o=r.objectStore(ra),i=r.objectStore(Sl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield tr(r),n.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,n,r){var o=this;return this.ngZone.runOutsideAngular((0,F.A)(function*(){n.fill(0);const i=yield o.newTransaction(ra,Sl);o.storageCardContext.assertOwnership(t,r);const s=i.objectStore(Sl);yield new Promise(function(){var a=(0,F.A)(function*(l,c){const d=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));d.onsuccess=()=>{const h=d.result;if(!h)return l();let v=h.value;const[,C]=h.key;"number"==typeof v?n.subarray(2048*C,2048*(C+1)).fill(v):(2048*(C+1)>n.length&&(v=v.subarray(0,2048-2048*(C+1)+n.length)),n.subarray(2048*C,2048*(C+1)).set(v)),h.continue()},d.onerror=()=>c(new Uu(d.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,n,r,o){var i=this;return this.ngZone.runOutsideAngular((0,F.A)(function*(){const s=yield i.newTransaction(ra,Sl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(ra),l=s.objectStore(Sl),c=yield tr(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(n.length!==c.size>>>2)throw new Error("data size mismatch");const d=(c.size>>>13)+(c.size%8192>0?1:0);if((d>>>3)+(d%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let h=0;for(let v=0;v<r.length;v++)for(let C=1;C<256&&!(h>=d);C<<=1)r[v]&C&&l.put(n.subarray(2048*h,2048*(h+1)).slice(),[c.id,h]),h++;yield tr(s)}))}kvsGet(t){var n=this;return(0,F.A)(function*(){const[r]=yield n.prepareObjectStore(ey);return tr(r.get(t))})()}kvsSet(t){var n=this;return(0,F.A)(function*(){const[r,o]=yield n.prepareObjectStore(ey);for(const i of Object.keys(t))r.put(t[i],i);yield tr(o)})()}kvsLoad(){var t=this;return(0,F.A)(function*(){const[n]=yield t.prepareObjectStore(ey);return new Promise((r,o)=>{const i={},s=n.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Uu(s.error?.message))})})()}kvsDelete(t){var n=this;return(0,F.A)(function*(){const[r,o]=yield n.prepareObjectStore(ey);r.delete(t),yield tr(o)})()}acquireLock(t){var n=this;return(0,F.A)(function*(){if(n.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield tr(t.objectStore(Ah).get(0)))!==E2)throw t.abort(),t.db.close(),lw})()}newTransaction(...t){var n=this;return(0,F.A)(function*(){const r=(yield n.db).transaction([Ah,...t],"readwrite",{durability:"relaxed"});return yield n.acquireLock(r),r})()}prepareObjectStore(t){var n=this;return(0,F.A)(function*(){const r=yield n.newTransaction(t);return[r.objectStore(t),r]})()}saveState(t,n,r){const o=t.objectStore(lc);r?o.put(r,n):o.delete(n)}deleteState(t,n){t.objectStore(lc).delete(n)}loadState(t,n){return tr(t.objectStore(lc).get(n))}deleteMemory(t,n){const r=t.objectStore(zc),o=t.objectStore(Wc);r.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),o.delete(n)}initializeLock(t){return(0,F.A)(function*(){const n=t.transaction(Ah,"readwrite");yield tr(n.objectStore(Ah).put(E2,0))})()}setupDb(){var t=this;return(0,F.A)(function*(){const n=setTimeout(()=>fo&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(n),o&&void 0!==o.version&&o.version>9)throw w2}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new Uu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new Uu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,F.A)(function*(l){clearTimeout(n),l.oldVersion<1&&function $te(e){e.createObjectStore(ty,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function Bte(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(tw)&&e.deleteObjectStore(tw),t.objectStore(ty).clear(),e.createObjectStore("rom"),e.createObjectStore(tw),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function jte(e,t){return nw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function Vte(e,t){return rw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function Ute(e,t){return ow.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function Hte(e,t){return iw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function Gte(e,t){return sw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function zte(e,t){return aw.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(r),r}finally{clearTimeout(n)}})()}requestPersistentStorage(){return(0,F.A)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}static#e=S2=()=>(this.\u0275fac=function(n){return new(n||zn)(oe(qe),oe(Vu),oe(Th))},this.\u0275prov=Je({token:zn,factory:zn.\u0275fac,providedIn:"root"}))}S2(),re([So()],zn.prototype,"addSession",null),re([So()],zn.prototype,"getAllSessions",null),re([So()],zn.prototype,"getSession",null),re([So()],zn.prototype,"deleteSession",null),re([So()],zn.prototype,"updateSessionPartial",null),re([So()],zn.prototype,"updateSession",null),re([So()],zn.prototype,"loadSession",null),re([So()],zn.prototype,"deleteStateForSession",null),re([So()],zn.prototype,"addEmptyStorageCard",null),re([So()],zn.prototype,"importStorageCard",null),re([So()],zn.prototype,"getAllStorageCards",null),re([So()],zn.prototype,"getCard",null),re([So()],zn.prototype,"updateStorageCardPartial",null),re([So()],zn.prototype,"deleteStorageCard",null),re([So()],zn.prototype,"loadCardData",null),re([So()],zn.prototype,"kvsGet",null),re([So()],zn.prototype,"kvsSet",null),re([So()],zn.prototype,"kvsDelete",null),re([So()],zn.prototype,"newTransaction",null),re([So()],zn.prototype,"prepareObjectStore",null),re([So()],zn.prototype,"initializeLock",null),re([So()],zn.prototype,"setupDb",null);const D2={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,networkRedirectionMode:na.supportsNativeNetworkIntegration()?"native":"proxy",proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let $i=(()=>{var e;class t{constructor(r){var o=this;this.storageService=r,this.set=i=>this.storageMutex.runExclusive((0,F.A)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new fr.J,this.mutex=new Ma,this.storageMutex=new Ma,this.initializationPromise=this.startInitialization().then(()=>this.migrate())}initialize(){var r=this;return(0,F.A)(function*(){return r.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialization(){var r=this;return(0,F.A)(function*(){const o=r;try{const i={...D2,...yield r.storageService.kvsLoad()};r.rawKvs=i,r.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,F.A)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),r.kvsProxy={...D2}}})()}migrate(){var r=this;return(0,F.A)(function*(){switch(r.kvs.networkRedirectionMode){case"native":na.supportsNativeNetworkIntegration()||(yield r.set({networkRedirectionMode:"proxy",networkRedirection:!1}));break;case"proxy":break;default:yield r.set({networkRedirectionMode:"proxy"})}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(zn))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),I2=(()=>{var e;class t{constructor(){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-dummy"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(V(0,"div"),Re(1,"Dummy"),q())},encapsulation:2}))}return e(),t})(),T2=(()=>{var e;class t{constructor(r,o){this.linkApi=r,this.router=o}canActivate(r){return r.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!r.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(aS),oe(Di))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Mh=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({imports:[ql,X0.forChild(),Uc,Lu,Bv]}))}return e(),t})(),Zte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({imports:[ql,Lu,Uc,Mh,X0.forChild()]}))}return e(),t})(),Yte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({imports:[ql,Lu,Uc,Mh]}))}return e(),t})(),Kte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({imports:[ql,Lu,Uc,Bv,Mh]}))}return e(),t})(),Xte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({imports:[ql,Lu,Uc,Mh,Bv]}))}return e(),t})(),Qte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({imports:[ql,Uc,Lu,Bv,Mh]}))}return e(),t})();const Jte=_.p+"assets/doc/about-0d56c8de99bbc738.md",A2=_.p+"assets/doc/CHANGELOG-d6908ef9fb86610c.md";function ene(e,t){1&e&&(V(0,"div",5),tt(1,"ion-spinner"),q())}let Hu=(()=>{var e;class t{constructor(r){this.modalController=r,this.title="Help",this.loading=!0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Os))},this.\u0275cmp=Qe({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},standalone:!1,decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"load","src"],[1,"loader"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3),q(),V(4,"ion-buttons",0)(5,"ion-button",1),Ge("click",function(){return i.modalController.dismiss()}),Re(6,"Close"),q()()()(),V(7,"ion-content",2),en(8,ene,2,0,"div",3),V(9,"markdown",4),Ge("load",function(){return i.loading=!1}),q()()),2&o&&(fe(3),As(i.title),fe(5),pe("ngIf",i.loading),fe(),pe("src",i.url))},dependencies:[_o,K0,es,ts,ns,rs,yh,os,is],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}))}return e(),t})();const Gu="1.10.13-fc7e546 (preview)";let ny=(()=>{var e;class t{constructor(r,o,i){var s=this;this.loadingController=r,this.alertService=o,this.nativeAppService=i,this.updateNativeAppRegistrationStatus=a=>this.updateNativeAppRegistrationStatusMutex.runExclusive(()=>this.nativeAppService.setWorkerRegistered(a)),this.register=()=>this.registerMutex.runExclusive((0,F.A)(function*(){if(s.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>s.reloadOnControllerChange&&window.location.reload()),yield new Promise(a=>setTimeout(a,3e3));try{s.setupRegistration(yield s.doRegister())}catch(a){console.error(a)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new Ma,this.updateNativeAppRegistrationStatusMutex=new Ma,this.updateAvailableEvent=new fr.J,this.register(),this.isEnabled()&&this.updateNativeAppRegistrationStatus(this.isRegistered())}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var r=this;return(0,F.A)(function*(){if(!r.registration)return;const o=yield r.loadingController.create();yield o.present();try{if(!(yield r.registration.unregister()))throw new Error("failed to unregister worker");yield r.updateNativeAppRegistrationStatus(!1)}catch(i){return console.error(i),void(yield r.alertService.errorMessage("Failed to unregister service worker."))}finally{yield o.dismiss()}yield r.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var r=this;return(0,F.A)(function*(){r.registration&&r.registration.update()})()}activateUpdate(){var r=this;return(0,F.A)(function*(){r.registration?.waiting&&(yield(yield r.loadingController.create({message:"Updating..."})).present(),r.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}doRegister(){return(0,F.A)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(r){this.registration=r,r.waiting&&this.dispatchUpdate(),r.installing&&this.handleInstallingWorker(r.installing),r.addEventListener("updatefound",()=>r.installing&&this.handleInstallingWorker(r.installing))}handleInstallingWorker(r){let o=!1;r.addEventListener("statechange",()=>{"installed"!==r.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(ta),oe(mr),oe(na))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var cc=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(cc||{});const x2='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',ine=`\n    You can install CloudpilotEmu as an app either from the\n    ${x2} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,ane=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${x2} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let ry=(()=>{var e;class t{constructor(r,o){var i=this;this.kvsService=r,this.alertService=o,this.serviceWorkerKeepalive=(0,F.A)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch(s){console.error(s)}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(fo||rS)&&this.installationMode===cc.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(fo||rS||$p)&&this.installationMode===cc.web&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,Object.prototype.hasOwnProperty.call(window,"onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return fo?ine:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return fo?ane:$p?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?cc.pwa:document.referrer.startsWith("android-app://")?cc.twa:window.matchMedia("(display-mode: standalone)").matches?cc.pwa:cc.web}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe($i),oe(mr))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function cne(e,t){if(1&e){const n=Mn();V(0,"ion-button",1),Ge("click",function(){return at(n),u(mt().onClick())}),tt(1,"ion-icon",2),q()}if(2&e){const n=mt();fe(),pe("name",n.iconName)}}let oy=(()=>{var e;class t{constructor(r){this.pwaService=r}onClick(){this.pwaService.install()}get iconName(){return fo?"logo-apple-appstore":rS?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(ry))},this.\u0275cmp=Qe({type:t,selectors:[["app-pwa-prompt"]],standalone:!1,decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(o,i){1&o&&en(0,cne,2,1,"ion-button",0),2&o&&pe("ngIf",i.show)},dependencies:[_o,es,Lo],encapsulation:2}))}return e(),t})();var k2;function une(e,t){1&e&&(V(0,"div",11),tt(1,"ion-spinner"),q())}function dne(e,t){if(1&e){const n=Mn();V(0,"div"),Re(1,"app cached for offline use"),q(),V(2,"a",9),Ge("click",function(){return at(n),u(mt().resetWorker())}),Re(3,"reset worker"),q()}}class xh{constructor(t,n){this.modalController=t,this.serviceWorkerService=n,this.loading=!0}get version(){return Gu}get url(){return Jte}showChangelog(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Hu,componentProps:{url:A2,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,F.A)(function*(){yield t.serviceWorkerService.reset()})()}static#e=k2=()=>(this.\u0275fac=function(n){return new(n||xh)(y(Os),y(ny))},this.\u0275cmp=Qe({type:xh,selectors:[["app-about"]],standalone:!1,decls:21,vars:7,consts:[[3,"translucent"],["slot","secondary"],[3,"fullscreen"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"load","src","disableSanitizer"],[1,"version"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,r){1&n&&(V(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Re(3,"About"),q(),V(4,"ion-buttons",1),tt(5,"app-pwa-prompt"),q()()(),V(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),Re(10,"About"),q()()(),en(11,une,2,0,"div",5),V(12,"div",6)(13,"markdown",7),Ge("load",function(){return r.loading=!1}),q()(),V(14,"div",8),Re(15),tt(16,"br"),V(17,"a",9),Ge("click",function(){return r.showChangelog()}),Re(18,"Changelog"),q(),function LM(e,t,n,r,o,i,s,a){Ci("NgControlFlow");const l=Me(),c=Ft();return hu(l,c,e,t,n,r,o,oi(c.consts,i),256,s,a),Qb}(19,dne,4,0),q(),tt(20,"img",10),q()),2&n&&(pe("translucent",!0),fe(6),pe("fullscreen",!0),fe(5),pe("ngIf",r.loading),fe(2),pe("src",r.url)("disableSanitizer",!0),fe(2),wi(" CloudpilotEmu version ",r.version," "),fe(4),$M(r.serviceWorkerAvailable?19:-1))},dependencies:[_o,ts,ns,rs,yh,os,is,oy,K0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:1em;margin-right:1em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}))}k2(),re([Un()],xh.prototype,"resetWorker",null);const fne=_.p+"assets/doc/emulation-43714ce6b9b92f30.md";function pne(e,t){if(1&e){const n=Mn();V(0,"ion-item",2),Ge("click",function(){const o=at(n).$implicit;return u(mt(2).onSelect(o))}),V(1,"div",3),Re(2),q()()}if(2&e){const n=t.$implicit,r=t.index,o=mt(2);pe("detail",!1)("lines",r===o.sessions.length-1?"none":"full"),fe(2),As(n.name)}}function hne(e,t){if(1&e&&(V(0,"ion-list"),en(1,pne,3,3,"ion-item",1),q()),2&e){const n=mt();fe(),pe("ngForOf",n.sessions)}}let gne=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[1,"text-wrapper"]],template:function(o,i){1&o&&en(0,hne,2,1,"ion-list",0),2&o&&pe("ngIf",i.sessions)},dependencies:[Wl,_o,Co,ea],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}))}return e(),t})();var Q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(Q||{}),hf=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(hf||{});function kh(e){switch(e){case Q.i710:case Q.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.handera330:case Q.handera330c:case Q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case Q.pegS300:case Q.pegS320:case Q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case Q.pegT600c:case Q.pegT400:case Q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case Q.pegN600c:case Q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case Q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function cw(e){switch(e){case Q.pilot:case Q.palmPilot:case Q.iii:case Q.palmV:case Q.palmVx:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.m125:case Q.m500:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:case Q.i705:case Q.handera330:case Q.pegS300:case Q.pegS320:case Q.pegT400:case Q.acerS11:return!1;default:return!0}}function R2(e){switch(e){case Q.pilot:return"Pilot";case Q.palmPilot:return"Palm Pilot";case Q.iii:return"Palm III";case Q.m500:return"Palm m500";case Q.m505:return"Palm m505";case Q.m515:return"Palm m515";case Q.m520:return"Palm m520";case Q.palmVx:return"Palm Vx";case Q.iiix:return"Palm IIIx";case Q.iiixe:return"Palm IIIxe";case Q.iiie:return"Palm IIIe";case Q.palmV:return"Palm V";case Q.palmVII:return"Palm VII";case Q.palmVIIEZ:return"Palm VII EZ";case Q.palmVIIx:return"Palm VIIx";case Q.iiic:return"Palm IIIc";case Q.m100:return"Palm m100";case Q.m105:return"Palm m105";case Q.m125:return"Palm m125";case Q.m130:return"Palm m130";case Q.i705:return"Palm i705";case Q.i710:return"Tungsten W";case Q.handera330:return"Handera 330";case Q.handera330c:return"Handera 330c";case Q.pegS300:return"Sony PEG-S300";case Q.pegS320:return"Sony PEG-S320";case Q.pegT400:return"Sony PEG-T400 series";case Q.pegN600c:return"Sony PEG-N600C series";case Q.pegT600c:return"Sony PEG-T600C series";case Q.pegN700c:return"Sony PEG-N700C series";case Q.pegT650c:return"Sony PEG-T650C series";case Q.pegNR70:return"Sony PEG-NR70 series";case Q.pegS500c:return"Sony PEG-S500C series";case Q.acerS11:return"Acer S1x series";case Q.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function N2(e){switch(e){case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:return hf.sdcard;case Q.pegS300:case Q.pegS500c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.pegT650c:case Q.pegNR70:case Q.acerS11:return hf.memorystick;default:return hf.none}}var Rr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Rr||{});function Rh(e){let t,n,r=!1;return o=>((!r||o!==t)&&(t=o,r=!0,n=e(o)),n)}function gf(e,t){let n=e,r=1;for(;t(n);)n=`${e} (${r++})`;return n}function mf(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function uw(e){return`${mf(e.name)}.img`}function O2(e,t){return`backup_${mf(e.name)}${t?"_with_rom":""}.zip`}function dw(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}function iy(e){const{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}var Cne=_(7510),Sne=_.n(Cne);function P2(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const n=t.getPointer(e.GetCurrentEntryContent()),r=e.GetCurrentEntrySize();return n>0&&r>0?t.HEAPU8.subarray(n,n+r):void 0}},e)}function fw(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}let wne=0;const F2=[Q.palmPilot,Q.pilot,Q.iii,Q.palmVx,Q.palmV,Q.palmVII,Q.palmVIIEZ,Q.palmVIIx,Q.iiixe,Q.iiix,Q.iiie,Q.m500,Q.m505,Q.m515,Q.m520,Q.iiic,Q.m100,Q.m105,Q.m125,Q.m130,Q.i705,Q.i710,Q.handera330,Q.handera330c,Q.pegS300,Q.pegS320,Q.pegS500c,Q.pegT400,Q.pegN600c,Q.pegT600c,Q.pegN700c,Q.pegT650c,Q.pegNR70,Q.acerS11,Q.lp168];function Lt(){return(e,t,n)=>{const r=n.value;return n.value=function(o,i){return this.guard(()=>r.call(this,o,i))},n}}class Nt{constructor(t){this.module=t,this.fatalErrorEvent=new fr.J,this.pwmUpdateEvent=new fr.J,this.proxyDisconnectEvent=new fr.J,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((n,r)=>this.pwmUpdateEvent.dispatch({frequency:n,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(()=>this.proxyDisconnectEvent.dispatch(),"v")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,F.A)(function*(){const n=wne++;return new Nt(yield Sne()({print:r=>console.log(`${n}: ${r}`),printErr:r=>console.error(`${n}: ${r}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}enableLogging(t){this.cloudpilot.EnableLogging(t)}getRomInfo(t){const n=this.copyIn(t),r=new this.module.RomInfo(n,t.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:F2.filter(r.Supports.bind(r))}),this.cloudpilot.Free(n),this.module.destroy(r),o}initializeSession(t,n){const r=this.copyIn(t),o=this.cloudpilot.InitializeSession(r,t.length,n);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),n=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(n,n+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,n){this.cloudpilot.QueuePenMove(t,n)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,n){this.cloudpilot.QueueKeyboardEvent(t,n)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const n=this.copyIn(t),r=this.cloudpilot.InstallDb(n,t.length);return this.cloudpilot.Free(n),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),n=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((n>>>13)+(n%8192==0?0:1)))}loadMemory(t){const n=this.getMemory32();if((()=>{if(t.length!==n.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==n[n.length-o])return!1;if(4294967295===n[n.length-o])break}return!0})())return n.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const n=this.copyIn(t),r=this.cloudpilot.LoadState(n,t.length);return this.cloudpilot.Free(n),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var n=this;return(0,F.A)(function*(){const r=n.guard(()=>n.cloudpilot.StartBackup());try{return yield t(n.wrap(r))}finally{n.module.destroy(r)}})()}getArchive(t){const n=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),n)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.IsSuspended()?this.cloudpilot.GetSuspendContext().GetKind():void 0}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,n){const r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+n)}withZipfileWalker(t,n){var r=this;return(0,F.A)(function*(){const o=r.guard(()=>{const i=r.copyIn(t),s=new r.module.ZipfileWalker(t.length,i);return r.cloudpilot.Free(i),s});try{return yield n(P2(r.wrap(o),r.module))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(t,n){const r=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return n(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(t){const n=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):r,s=void 0!==t.savestate?this.copyIn(t.savestate):r;let a=r,l=0;if(void 0!==t.metadata){const d=(new TextEncoder).encode(JSON.stringify(t.metadata));l=d.length,a=this.copyIn(d)}n.SetRomImage(o,t.rom.length),n.SetMemoryImage(i,t.memory?.length||0),n.SetDeviceId(t.deviceId),n.SetSavestate(s,t.savestate?.length||0),n.SetMetadata(a,l);const c=n.Serialize()?this.copyOut(n.GetSerializedImage(),n.GetSerializedImageSize()):void 0;return this.module.destroy(n),[o,i,s,a].forEach(d=>this.cloudpilot.Free(d)),c}deserializeSessionImage(t){if(!t)return;const n=new this.module.SessionImage,r=this.copyIn(t),o=(()=>{if(!n.Deserialize(r,t.length))return;const i=this.copyOut(n.GetRomImage(),n.GetRomImageSize()),s=this.copyOut(n.GetMemoryImage(),n.GetMemoryImageSize()),a=this.copyOut(n.GetSavestate(),n.GetSavestateSize()),l=n.GetDeviceId();if(!F2.includes(l))return void console.warn(`unsupported device ${l}`);let c;const d=this.copyOut(n.GetMetadata(),n.GetMetadataSize());if(d)try{c=JSON.parse((new TextDecoder).decode(d))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:n.GetVersion()}})();return this.module.destroy(n),this.cloudpilot.Free(r),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const n=this.copyIn(t.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(n,32);return this.cloudpilot.Free(n),r}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,n){return this.cloudpilot.AllocateCard(t,n>>>9)}decompressCard(t,n){const r=this.copyIn(n);let o;try{for(o=new this.module.GunzipContext(r,n.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(t){const n=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==n)return this.module.HEAPU32.subarray(n>>>2,n+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const n=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===n)return;const r=fw(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(n,n+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const n=new this.module.SkinLoader(t);try{const r=this.module.getPointer(n.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+n.GetSize()))}finally{this.module.destroy(n)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(n){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(n instanceof Error?n:new Error("unknown error")),n}}copyIn(t){const n=this.cloudpilot.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}copyIn32(t){const n=this.cloudpilot.Malloc(t.length<<2),r=this.module.getPointer(n);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+t.length).set(t),n}copyOut(t,n){const r=this.module.getPointer(t);return r>0&&n>0?this.module.HEAPU8.subarray(r,r+n).slice():void 0}wrap(t){return new Proxy(t,{get:(n,r)=>{const o=n[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(n,i))}})}wrapTransport(t){const n=new fr.J;return t.SetRequestTransferCallback(this.module.addFunction(()=>n.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const r=t.RxBytesPending();return this.copyOut(t.Receive(),r)},Send:(r,o)=>{const i=r&&this.copyIn(r);t.Send(r?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:n},t))}}re([Lt()],Nt.prototype,"enableLogging",null),re([Lt()],Nt.prototype,"getRomInfo",null),re([Lt()],Nt.prototype,"initializeSession",null),re([Lt()],Nt.prototype,"cyclesPerSecond",null),re([Lt()],Nt.prototype,"runEmulation",null),re([Lt()],Nt.prototype,"getFrame",null),re([Lt()],Nt.prototype,"isScreenDirty",null),re([Lt()],Nt.prototype,"markScreenClean",null),re([Lt()],Nt.prototype,"minRamForDevice",null),re([Lt()],Nt.prototype,"framebufferSizeForDevice",null),re([Lt()],Nt.prototype,"totalMemorySizeForDevice",null),re([Lt()],Nt.prototype,"queuePenMove",null),re([Lt()],Nt.prototype,"queuePenUp",null),re([Lt()],Nt.prototype,"queueButtonDown",null),re([Lt()],Nt.prototype,"queueButtonUp",null),re([Lt()],Nt.prototype,"queueKeyboardEvent",null),re([Lt()],Nt.prototype,"isPowerOff",null),re([Lt()],Nt.prototype,"isUiInitialized",null),re([Lt()],Nt.prototype,"isSetupComplete",null),re([Lt()],Nt.prototype,"getOSVersion",null),re([Lt()],Nt.prototype,"reset",null),re([Lt()],Nt.prototype,"resetNoExtensions",null),re([Lt()],Nt.prototype,"resetHard",null),re([Lt()],Nt.prototype,"installDb",null),re([Lt()],Nt.prototype,"getPalette2bitMapping",null),re([Lt()],Nt.prototype,"getMemory",null),re([Lt()],Nt.prototype,"getMemory32",null),re([Lt()],Nt.prototype,"getDirtyPages",null),re([Lt()],Nt.prototype,"loadMemory",null),re([Lt()],Nt.prototype,"getRomImage",null),re([Lt()],Nt.prototype,"getSavestate",null),re([Lt()],Nt.prototype,"saveState",null),re([Lt()],Nt.prototype,"loadState",null),re([Lt()],Nt.prototype,"getHotsyncName",null),re([Lt()],Nt.prototype,"setClockFactor",null),re([Lt()],Nt.prototype,"setHotsyncName",null),re([Lt()],Nt.prototype,"setClipboardIntegration",null),re([Lt()],Nt.prototype,"getClipboardIntegration",null),re([Lt()],Nt.prototype,"isSuspended",null),re([Lt()],Nt.prototype,"getSuspendKind",null),re([Lt()],Nt.prototype,"cancelSuspend",null),re([Lt()],Nt.prototype,"getSuspendContextClipboardCopy",null),re([Lt()],Nt.prototype,"getSuspendContextClipboardPaste",null),re([Lt()],Nt.prototype,"setNetworkRedirection",null),re([Lt()],Nt.prototype,"getNetworkRedirection",null),re([Lt()],Nt.prototype,"getSuspendContextNetworkConnect",null),re([Lt()],Nt.prototype,"getSuspendContextNetworkRpc",null),re([Lt()],Nt.prototype,"getSuspendContextSerialSync",null),re([Lt()],Nt.prototype,"copyBuffer",null),re([Lt()],Nt.prototype,"freeBuffer",null),re([Lt()],Nt.prototype,"setHotsyncNameManagement",null),re([Lt()],Nt.prototype,"resolveBuffer",null),re([Lt()],Nt.prototype,"serializeSessionImage",null),re([Lt()],Nt.prototype,"deserializeSessionImage",null),re([Lt()],Nt.prototype,"launchAppByName",null),re([Lt()],Nt.prototype,"launchAppByDbHeader",null),re([Lt()],Nt.prototype,"deviceSupportsCardSize",null),re([Lt()],Nt.prototype,"clearExternalStorage",null),re([Lt()],Nt.prototype,"allocateCard",null),re([Lt()],Nt.prototype,"decompressCard",null),re([Lt()],Nt.prototype,"getCardData",null),re([Lt()],Nt.prototype,"getCardDirtyPages",null),re([Lt()],Nt.prototype,"getMountedKey",null),re([Lt()],Nt.prototype,"mountCard",null),re([Lt()],Nt.prototype,"removeCard",null),re([Lt()],Nt.prototype,"remountCards",null),re([Lt()],Nt.prototype,"getCardSupportLevel",null),re([Lt()],Nt.prototype,"loadSkin",null);const Ene=_.p+"wasm/cloudpilot_web-cdf12338ffc1065b.wasm";let Ja=(()=>{var e;class t{constructor(){this.cloudpilot=Nt.create(Ene),this.cloudpilot.then(r=>this.cloudpilotInstance=r),window.__cp_enableLogging=r=>this.cloudpilotInstance?.enableLogging(r)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var Ine=_(6778),vf=_.n(Ine);const pw=524288;class hw{constructor(t,n){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(n))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const r=new t.FSTools;this.chunkBufferPtr=r.Malloc(pw),t.destroy(r)}static create(t,n){return(0,F.A)(function*(){return new hw(yield vf()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:n}),t)})()}addEntry(t,n){var r=this;return(0,F.A)(function*(){if(!r.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${r.nativeContext.GetLastError()}`);const o=r.module.getPointer(r.chunkBufferPtr);for(let i=0;i<n.length;i+=pw){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(n.length-i,pw);if(r.module.HEAPU8.subarray(o,o+s).set(n.subarray(i,i+s)),!r.nativeContext.WriteData(r.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${r.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class gw{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,F.A)(function*(){return new gw(yield vf()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==n)return this.module.HEAPU32.subarray(n>>>2,n+t>>>2)}}class mw{constructor(t,n){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(n>>>9)}static create(t,n){return(0,F.A)(function*(){const r=yield vf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:n});return new mw(r,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(n>>>2,n+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),n=fw(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+n)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class sy{constructor(t,n){this.module=t,n&&this.initialize(n)}static create(t,n){return(0,F.A)(function*(){const r=yield vf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new sy(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t.length);const r=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(r,r+t.length).set(t),this.module.destroy(n),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,F.A)(function*(){const n=t.getNativeContext();for(;0===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gunzip failed: ${n.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),n=t.GetUncompressedSize(),r=t.GetUncompressedData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class vw{constructor(t,n){this.module=t,void 0!==n&&this.initialize(n)}static create(t,n){return(0,F.A)(function*(){const r=yield vf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new vw(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(n),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,F.A)(function*(){const n=t.getNativeContext();for(n.Continue();1===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gzip failed: ${n.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),n=t.GetGzipSize(),r=t.GetGzipData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const L2=new Map;class xne{constructor(t="fstools_web.wasm"){let n=L2.get(t);n||(n=function Dne(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));return function(){var n=(0,F.A)(function*(r,o){return o(yield WebAssembly.instantiate(yield t,r))});return function(r,o){return n.apply(this,arguments)}}()}(t),L2.set(t,n)),this.instantiante=n}mkfs(t){var n=this;return(0,F.A)(function*(){const r=yield gw.create(n.instantiante);if(r.mkfs(t))return r.getImage()})()}gunzip(t){var n=this;return(0,F.A)(function*(){const r=yield sy.create(n.instantiante,t);if(yield r.gunzip())return r.getDecompressedData()})()}createGunzipContext(t){return sy.create(this.instantiante,t)}createGzipContext(t){return vw.create(this.instantiante,t)}createFsckContext(t){return mw.create(t,this.instantiante)}createZipContext(t){return hw.create(t,this.instantiante)}createZipfileWalker(t){var n=this;return(0,F.A)(function*(){const r=yield vf()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:n.instantiante}),o=new r.FSTools,i=o.Malloc(t.length),s=r.getPointer(i);return r.HEAPU8.subarray(s,s+t.length).set(t),r.destroy(o),P2(new r.ZipfileWalker(t.length,i),r)})()}}const kne=_.p+"wasm/fstools_web-0a9aa5c041d6d048.wasm";let ay=(()=>{var e;class t extends xne{constructor(){super(kne)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Rne(e,t){1&e&&(V(0,"p",9),Re(1,"ERROR: URL must be served via HTTPS."),q())}function Nne(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(Gd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let One=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.continue()}continue(){this.onContinue(new(Gd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const r=this.formGroup.get("url")?.value;if(!r)return!1;try{const o=new(Gd())(r);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new xv({url:new bo("",Nne)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},standalone:!1,decls:19,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","URL","labelPlacement","stacked","placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"Enter download URL"),q(),V(4,"ion-buttons",0)(5,"ion-button",1),Ge("click",function(){return i.continue()}),Re(6,"OK"),q()(),V(7,"ion-buttons",2)(8,"ion-button",3),Ge("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),V(10,"ion-content",4)(11,"form",5),Ge("keydown",function(a){return i.formKeyDown(a)}),V(12,"p"),Re(13,"Please enter the URL from which to download:"),q(),V(14,"ion-item",6),tt(15,"ion-input",7),q(),en(16,Rne,2,0,"p",8),V(17,"p"),Re(18,"Note that the remote server needs to support the CORS protocol."),q()()()),2&o&&(fe(5),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup),fe(5),pe("ngIf",i.isMixedContent))},dependencies:[_o,es,ts,ns,rs,rc,Co,os,is,nc,tc,Jl,ec,Aa,bl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}))}return e(),t})(),Pne=(()=>{var e;class t{constructor(r){this.kvs=r,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const r=this.kvs.kvs.credentials[this.origin];this.formGroup=new xv({username:new bo(r?.username??""),password:new bo(r?.password??"")})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y($i))},this.\u0275cmp=Qe({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},standalone:!1,decls:18,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","Username","labelPlacement","stacked","placeholder","Enter username","formControlName","username"],["label","Password","labelPlacement","stacked","placeholder","Enter password","formControlName","password","type","password"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"Authenticate"),q(),V(4,"ion-buttons",0)(5,"ion-button",1),Ge("click",function(){return i.saveAndContinue()}),Re(6,"OK"),q()(),V(7,"ion-buttons",2)(8,"ion-button",1),Ge("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),V(10,"ion-content",3)(11,"form",4),Ge("keydown",function(a){return i.formKeyDown(a)}),V(12,"p"),Re(13,"The server requires authentication."),q(),V(14,"ion-item",5),tt(15,"ion-input",6),q(),V(16,"ion-item",5),tt(17,"ion-input",7),q()()()),2&o&&(fe(11),pe("formGroup",i.formGroup))},dependencies:[es,ts,ns,rs,rc,Co,os,is,nc,tc,Jl,ec,Aa,bl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}))}return e(),t})(),$2=(()=>{var e;class t{constructor(r,o,i){this.loadingController=r,this.kvsService=o,this.modalController=i}fetch(r,o){var i=this;return(0,F.A)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(Gd())("string"==typeof r?r:r.url);let c,d,h=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===d?d=window.setTimeout(()=>c?.present(),s):c.present();const v=i.kvsService.kvs.credentials[l.origin],C=new AbortController,M=window.setTimeout(()=>C.abort(),a),U=yield fetch(r,{...i.requestInit(o),signal:C.signal,headers:{...o?.headers||{},...h&&v?{Authorization:"Basic "+btoa(`${v.username}:${v.password}`)}:{}}});if(clearTimeout(M),401===U.status){if(!h&&v){h=!0;continue}if(c?.dismiss(),clearTimeout(d),s=0,c=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return U}finally{c&&(yield c.dismiss()),clearTimeout(d)}})()}requestInit(r){if(!r)return;const{timeout:o,loaderDelay:i,...s}=r;return s}authenticate(r){var o=this;return(0,F.A)(function*(){const i=yield new Promise(s=>o.modalController.create({component:Pne,backdropDismiss:!1,componentProps:{origin:r,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(ta),oe($i),oe(Os))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),qc=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d){this.storageService=r,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=d}openFile(r){this.openFilesImpl(!1,o=>{o.length>0&&r(o[0])})}openFiles(r){this.openFilesImpl(!0,r)}openFromDrop(r,o){"drop"!==r.type||!r.dataTransfer?.files||o(Array.from(r.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(r){var o=this;return(0,F.A)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(r.device)<0)throw new Error(`invalid device ID ${r.device}`);const h={deviceId:r.device,metadata:iy(r),rom:a,memory:l,savestate:c},v=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);v&&o.saveFile(uw(r),v)}finally{s.dismiss()}})()}saveFile(r,o,i="application/octet-stream"){const s=new Blob([o],{type:i}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=r,l.click()}openUrl(r,o){var i=this;return(0,F.A)(function*(){let s;try{s=new(Gd())(r)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${r}`))}try{const a=yield i.fetchService.fetch(r);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(d=>new Uint8Array(d));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${r} failed.`)}})()}serializeSession(r){var o=this;return(0,F.A)(function*(){const[i,s,a]=yield o.storageService.loadSession(r,!1);if(!i)throw new Error(`invalid ROM ${r.rom}`);const l={deviceId:r.device,metadata:iy(r),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(r,o){var i=this;return(0,F.A)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(r,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(r,o)})()}queryAndOpenFileRemote(r){var o=this;return(0,F.A)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:One,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>r([s]))})()}openFilesLocal(r,o){var i=this;const s=$p||aN;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=r,this.input.type="file",fo&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,F.A)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(r){let o;const i=function(){var s=(0,F.A)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(r)}),o)});return function(){return s.apply(this,arguments)}}();return{name:r.name,getContent:i}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(zn),oe(ta),oe(Ch),oe($i),oe(Os),oe(mr),oe($2),oe(Ja))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class B2 extends Error{constructor(t){super(t)}}let Zc=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.cloudpilotService=r,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this._sessions=bi([]),this._loading=bi(!0),this.updateMutex=new Ma,this.updateSessionsFromStorage().then(()=>this._loading.set(!1)),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}get loading(){return this._loading}addSessionFromImage(r,o){var i=this;return(0,F.A)(function*(s,a,l={}){const c=yield i.loadingController.create({message:"Importing..."});yield c.present();try{return i.doAddSessionFromImage(s,a,l)}finally{yield c.dismiss()}}).apply(this,arguments)}addSessionsFromArchive(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(r);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o._sessions().map(C=>C.name));let d=1,h=!1;const v=[];for(;0===a.GetState();)try{i.message=`Importing ${d++}/${l}...`;const C=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!C)throw new B2(`${a.GetCurrentEntryName()} is not a valid session.`);const M=gf(C.metadata?.name??a.GetCurrentEntryName(),U=>c.has(U));yield o.doAddSessionFromImage(C,M,C.metadata)}catch(C){if(!(C instanceof B2))throw C;v.push(a.GetCurrentEntryName()),h||(h=yield o.alertService.messageWithChoice("Error",C.message,"Skip further errors",h,{},"Continue"))}finally{a.Next()}v.length<=3&&v.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${v.join("<br>")}`):v.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${v.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${v.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(r,o,i){var s=this;return(0,F.A)(function*(a,l,c,d={}){const h={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Rr.portrait,...d,id:-1,name:l,device:c,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(c)/1024/1024,rom:""},v=yield s.loadingController.create({message:"Importing..."});yield v.present();const C=yield s.storageService.addSession(h,a);return yield s.updateSessionsFromStorage(),yield v.dismiss(),C}).apply(this,arguments)}get sessions(){return this._sessions}deleteSession(r){var o=this;return(0,F.A)(function*(){yield o.storageService.deleteSession(r)})()}updateSession(r){var o=this;return(0,F.A)(function*(){yield o.storageService.updateSession(r)})()}saveSession(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(r);s?o.fileService.saveFile(uw(r),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of r){i.message=`Exporting ${l++}/${r.length}...`;const d=yield o.serializeSession(c);if(d){const h=gf(c.name.replace(/[/\\]/,"_").substring(0,200),v=>a.has(v));a.add(h),yield s.addEntry(h+".img",d)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function yne(){return`${mf("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(r){var o=this;return(0,F.A)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(r.device)<0)throw new Error(`invalid device ID ${r.device}`);const h={deviceId:r.device,metadata:iy(r),rom:a,memory:l,savestate:c},v=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);v&&o.fileService.saveFile(uw(r),v)}finally{s.dismiss()}})()}serializeSession(r){var o=this;return(0,F.A)(function*(){const[i,s,a]=yield o.storageService.loadSession(r,!1);if(!i)throw new Error(`invalid ROM ${r.rom}`);const l={deviceId:r.device,metadata:iy(r),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var r=this;return(0,F.A)(function*(){r._sessions.set(yield r.updateMutex.runExclusive((0,F.A)(function*(){return(yield r.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}doAddSessionFromImage(r,o){var i=this;return(0,F.A)(function*(s,a,l={}){const c={hotsyncName:s.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Rr.portrait,...l,id:-1,name:a,device:s.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(s.deviceId)/1024/1024,rom:"",osVersion:s?.metadata?.osVersion},d=yield i.storageService.addSession(c,s.rom,s.memory,s.savestate);return yield i.updateSessionsFromStorage(),d}).apply(this,arguments)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Ja),oe(zn),oe(ta),oe(ay),oe(mr),oe(qc))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Lne(e,t){if(1&e&&(V(0,"ion-select-option",14),Re(1),q()),2&e){const n=t.$implicit;pe("value",n[0]),fe(),wi("",n[1]," ")}}function $ne(e,t){if(1&e&&(V(0,"ion-select-option",14),Re(1),q()),2&e){const n=t.$implicit;pe("value",n[0]),fe(),wi("",n[1]," ")}}function Bne(e,t){if(1&e&&(V(0,"ion-item",6),tt(1,"ion-input",15),q()),2&e){const n=mt();fe(),pe("placeholder",n.placeholder)}}let j2=(()=>{var e;class t{constructor(r,o){this.sessionService=r,this.alertService=o,this.memoizedDevicelist=Rh(i=>i.map(s=>[s,R2(s)])),this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.sessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Rr.portrait,"Portrait"],[Rr.landscape90,"Landscape 90\xb0"],[Rr.landscape270,"Landscape 270\xb0"],[Rr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.memoizedDevicelist(this.availableDevices)}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const r=this.speedTransient??this.formControlSpeed.value??0;return r>=0?1+r:1/(1-r)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function mne(e){switch(e){case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:case Q.palmVx:case Q.palmV:case Q.palmVIIEZ:case Q.palmVIIx:case Q.iiic:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.pegS300:case Q.pegS500c:return 16;case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.acerS11:return 33;case Q.pegT650c:case Q.pegNR70:case Q.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(r){this.speedTransient=r.detail?.value}createFormGroup(){this.formGroup=new xv({name:new bo(this.session.name,{validators:[oh.required,this.validateNameUnique]}),manageHotsyncName:new bo(!this.session.dontManageHotsyncName),hotsyncName:new bo(this.session.hotsyncName||""),device:new bo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new bo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new bo(this.session.deviceOrientation||Rr.portrait)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Zc),y(mr))},this.\u0275cmp=Qe({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},standalone:!1,decls:32,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Session name","labelPlacement","stacked","placeholder","Enter session name","formControlName","name"],["label","Device type","labelPlacement","stacked","formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["label","Orientation","labelPlacement","stacked","formControlName","orientation"],["labelPlacement","fixed","min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["label","Hotsync name","labelPlacement","stacked","formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"Session settings"),q(),V(4,"ion-buttons",0)(5,"ion-button",1),Ge("click",function(){return i.save()}),Re(6,"Save"),q()(),V(7,"ion-buttons",2)(8,"ion-button",3),Ge("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),V(10,"ion-content",4)(11,"form",5),Ge("keydown.enter",function(){return i.onEnter()}),V(12,"h1"),Re(13,"Session"),q(),V(14,"ion-item",6),tt(15,"ion-input",7),q(),V(16,"h1"),Re(17,"Device"),q(),V(18,"ion-item",6)(19,"ion-select",8),en(20,Lne,2,2,"ion-select-option",9),q()(),V(21,"ion-item",6)(22,"ion-select",10),en(23,$ne,2,2,"ion-select-option",9),q()(),V(24,"ion-item",6)(25,"ion-range",11),Ge("ionInput",function(a){return i.onSpeedDrag(a)})("ionKnobMoveEnd",function(){return i.speedTransient=void 0}),q()(),V(26,"h1"),Re(27,"Hotsync"),q(),V(28,"ion-item",6)(29,"ion-toggle",12),Re(30,"Manage hotsync name"),q()(),en(31,Bne,2,1,"ion-item",13),q()()),2&o&&(fe(5),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup),fe(9),pe("ngForOf",i.deviceList),fe(3),pe("ngForOf",i.orientations),fe(2),pe("label",function Wx(e){return to(Me(),Fi(),e)?Wt(e):Er}(i.speedLabel)),fe(6),pe("ngIf",i.showHotsyncNameInput))},dependencies:[Wl,_o,es,ts,ns,rs,rc,Co,x0,mh,vh,os,_h,is,df,M0,gh,nc,tc,Jl,ec,S0,Aa,bl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}))}return e(),t})();var yw=_(8081);const V2=new WeakMap,Vne=e=>({...e,connect:({call:t})=>(0,F.A)(function*(){const{port1:n,port2:r}=new MessageChannel,o=yield t("connect",{port:n},[n]);return V2.set(r,o),r}),disconnect:({call:t})=>function(){var n=(0,F.A)(function*(r){const o=V2.get(r);if(void 0===o)throw new Error("The given port is not connected.");yield t("disconnect",{portId:o})});return function(r){return n.apply(this,arguments)}}(),isSupported:({call:t})=>()=>t("isSupported")}),_w=new WeakMap,zu=new Map([[0,null]]),Wu=new Map([[0,null]]),Gne=(e=>{const t=Vne(e);return n=>{const r=(e=>{if(_w.has(e))return _w.get(e);const t=new Map;return _w.set(e,t),t})(n);n.addEventListener("message",({data:a})=>{const{id:l}=a;if(null!==l&&r.has(l)){const{reject:c,resolve:d}=r.get(l);r.delete(l),void 0===a.error?d(a.result):c(new Error(a.error.message))}}),(e=>"function"==typeof e.start)(n)&&n.start();const o=(a,l=null,c=[])=>new Promise((d,h)=>{const v=(0,yw.generateUniqueNumber)(r);r.set(v,{reject:h,resolve:d}),n.postMessage(null===l?{id:v,method:a}:{id:v,method:a,params:l},c)}),i=(a,l,c=[])=>{n.postMessage({id:null,method:a,params:l},c)};let s={};for(const[a,l]of Object.entries(t))s={...s,[a]:l({call:o,notify:i})};return{...s}}})({clearInterval:({call:e})=>t=>{"symbol"==typeof zu.get(t)&&(zu.set(t,null),e("clear",{timerId:t,timerType:"interval"}).then(()=>{zu.delete(t)}))},clearTimeout:({call:e})=>t=>{"symbol"==typeof Wu.get(t)&&(Wu.set(t,null),e("clear",{timerId:t,timerType:"timeout"}).then(()=>{Wu.delete(t)}))},setInterval:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,yw.generateUniqueNumber)(zu);zu.set(i,o);const s=()=>e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"interval"}).then(()=>{const a=zu.get(i);if(void 0===a)throw new Error("The timer is in an undefined state.");a===o&&(t(...r),zu.get(i)===o&&s())});return s(),i},setTimeout:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,yw.generateUniqueNumber)(Wu);return Wu.set(i,o),e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"timeout"}).then(()=>{const s=Wu.get(i);if(void 0===s)throw new Error("The timer is in an undefined state.");s===o&&(Wu.delete(i),t(...r))}),i}}),ly=(()=>{let n=null;return()=>{if(null!==n)return n;const r=new Blob(['(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,u=r(i),c=a(u,i),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o(\'The handler of the method called "\'.concat(t,\'" returned an unexpected result.\'),e),a=(t,r)=>async({data:{id:a,method:i,params:u}})=>{const c=r[i];try{if(void 0===c)throw(e=>o(\'The requested method called "\'.concat(e,\'" is not supported.\'),n))(i);const r=void 0===u?c():c(u);if(void 0===r)throw(t=>o(\'The handler of the method called "\'.concat(t,\'" returned no required result.\'),e))(i);const l=r instanceof Promise?await r:r;if(null===a){if(void 0!==l.result)throw s(i)}else{if(void 0===l.result)throw s(i);const{result:e,transferables:r=[]}=l;t.postMessage({id:a,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:a})}};var i=r(455);const u=new Map,c=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),o=(0,i.generateUniqueNumber)(u);return u.set(o,()=>{n(),t.close(),u.delete(o)}),{result:o}},disconnect:({portId:e})=>{const r=u.get(e);if(void 0===r)throw(e=>o(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise(e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])})){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),l=(e,t,r=()=>!0)=>{const n=c(l,t,r),o=a(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},d=(e,t)=>r=>{const n=t.get(r);if(void 0===n)return Promise.resolve(!1);const[o,s]=n;return e(o),t.delete(r),s(!1),Promise.resolve(!0)},f=(e,t,r,n)=>(o,s,a)=>{const i=o+s-t.timeOrigin,u=i-t.now();return new Promise(t=>{e.set(a,[r(n,u,i,e,t,a),t])})},m=new Map,h=d(globalThis.clearTimeout,m),p=new Map,v=d(globalThis.clearTimeout,p),w=((e,t)=>{const r=(n,o,s,a)=>{const i=n-e.now();i>0?o.set(a,[t(r,i,n,o,s,a),s]):(o.delete(a),s(!0))};return r})(performance,globalThis.setTimeout),g=f(m,performance,globalThis.setTimeout,w),T=f(p,performance,globalThis.setTimeout,w);l(self,{clear:async({timerId:e,timerType:t})=>({result:await("interval"===t?h(e):v(e))}),set:async({delay:e,now:t,timerId:r,timerType:n})=>({result:await("interval"===n?g:T)(e,t,r)})})})()})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return n=(e=>{const t=new Worker(e);return Gne(t)})(o),setTimeout(()=>URL.revokeObjectURL(o)),n}})();var yf=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(yf||{});class U2{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return yf.animationFrame}}class qne{constructor(t,n=60){this.callback=t,this.fps=n}schedule(){if(void 0!==this.handle)return;const t=performance.now(),n=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((...e)=>ly().setTimeout(...e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(n-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,ly().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return yf.timeout}}class H2{constructor(t,n){this.queue=new Array(t).fill(0),this.reset(n)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let n=0;n<this.size;n++)t+=this.queue[n];return t/this.size}}class Zne{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const Yne=[135,135,105],Kne=[0,0,0],Yc=new Array(16).fill(0).map((e,t)=>Kne.map((n,r)=>Math.floor((t*n+(15-t)*Yne[r])/15))).map(([e,t,n])=>4278190080|n<<16|t<<8|e),bw=Yc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));class z2{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new fr.J,this.dispatchEvent=new fr.J,this.isSync=!1}bind(t){this.transport!==t&&(this.transport&&this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}send(t,n){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,n),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync?.()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class ire{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.isRunning||!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const n=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!n&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.handleSuspend());const c=this.cloudpilotInstance.isPowerOff(),d=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||d!==this.uiInitialized){const h=this.powerOff;this.powerOff=c,this.uiInitialized=d,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}d&&!c&&this.manageHotsyncName()&&!r&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new fr.J,this.pwmUpdateEvent=new fr.J,this.emulationStateChangeEvent=new fr.J,this.powerOffChangeEvent=new fr.J,this.deviceId=Q.m515,this.clockEmulator=0,this.scheduler=new U2(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new Zne(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new H2(20),this.timePerFrameAverage=new H2(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1,this.serialPortIR=new z2,this.serialPortSerial=new z2,this.serialSyncStartedAt=0,this.serialPortIR.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now())),this.serialPortSerial.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now()))}handlePointerMove(t,n,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=kh(this.deviceId);t=this.transformSilkscreenX(t,i),n=this.transformSilkscreenY(n,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(n)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,n=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,n)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}getSerialPortSerial(){if(!this.serialPortSerial)throw new Error("emulator not initialized");return this.serialPortSerial}getSerialPortIR(){if(!this.serialPortIR)throw new Error("emulator not initialized");return this.serialPortIR}onAfterAdvanceEmulation(t,n){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,n,r,o,i){let s=!1;return!!t.initializeSession(n,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance!==t&&(this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial())),this.cloudpilotInstance=t,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=kh(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const n=this.canvas.getContext("2d");if(!n)throw new Error("get a new browser");this.context=n;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,n){return void 0===n.silkscreenOvershoot?t:(t-n.width/2)/(n.width/(n.width+2*n.silkscreenOvershoot))+n.width/2}transformSilkscreenY(t,n){return void 0===n.siklscreenShift?t:t+n.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const n=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=n<=this.emulationSpeed||t-n>=.05?n:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===yf.animationFrame?new U2(t=>this.onSchedule(t)):new qne(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,n=kh(t);this.context.beginPath(),this.context.rect(0,0,n.width,n.height),this.context.fillStyle=cw(t)?"white":bw[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=Yc[15],i=Yc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)r[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Yc[15&o],Yc[o>>>4&15],Yc[o>>>8&15],Yc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)r[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)r[o++]=Yc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)r.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const n=1!==t.scaleX||1!==t.scaleY;(n?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),n&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class W2{constructor(t,n,r=window.document){this.timeoutRemaining=t,this.cb=n,this.document=r,this.onVisibilityChange=()=>{switch(this.tainted=!0,this.document.visibilityState){case"hidden":if("running"!==this.state)return;this.cancelTimeout(),this.update(),"finished"!==this.state&&(this.state="paused");break;case"visible":if("paused"!==this.state||this.timeoutRemaining<0)return;this.schedule(),this.state="running"}},this.onTimeout=()=>{this.handle=void 0,this.update(),this.timeoutRemaining>0&&"running"===this.state&&this.schedule()},this.state="created",this.timoutStartedAt=performance.now(),this.tainted=!1,this.accumulatedTimeout=0}start(){return this.setState("running"),this.schedule(),this.document.addEventListener("visibilitychange",this.onVisibilityChange),this}increase(t){return this.timeoutRemaining+=t,this}cancel(){return this.setState("finished"),this}isTainted(){return this.tainted}getAccumulatedTimeout(){return this.accumulatedTimeout}schedule(){void 0===this.handle&&(this.timoutStartedAt=performance.now(),this.handle=setTimeout(()=>this.onTimeout(),this.timeoutRemaining))}update(){if("running"!==this.state)return;const t=performance.now()-this.timoutStartedAt;this.timeoutRemaining-=t,this.accumulatedTimeout+=t,this.timeoutRemaining<=0&&(this.setState("finished"),this.cb())}cancelTimeout(){void 0!==this.handle&&(clearTimeout(this.handle),this.handle=void 0)}setState(t){if(t!==this.state){if("finished"===this.state||"created"===t)throw new Error(`invalid state transition: ${this.state} -> ${t}`);"finished"===t&&(this.cancelTimeout(),this.document.removeEventListener("visibilitychange",this.onVisibilityChange)),this.state=t}}}const q2=new Error("session does not match emulation");let Nh=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d){var h=this;this.storageService=r,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.alertService=l,this.loadingController=c,this.ngZone=d,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.timeoutDeltaMsecPerKb=this.timeoutDeltaMsecPerKbStart,this.pendingSnapshotPromise=(0,F.A)(function*(){try{yield h.triggerSnapshotUnguarded()}finally{h.snapshotInProgress=!1,h.hideLoader()}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new fr.J,this.sessionId=-1,this.consecutiveErrorCount=0,this.timeoutDeltaMsecPerKbStart=.5,this.timeoutDeltaMsecPerKb=.5,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(r,o){var i=this;return(0,F.A)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=r.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var r=this;return(0,F.A)(function*(){for(;;)try{return yield r.triggerSnapshotOnce(),void(r.consecutiveErrorCount=0)}catch(o){if(o instanceof W2){if(o.isTainted())continue;console.log(`snapshot timeout expired after ${o.getAccumulatedTimeout()} msec`),r.timeoutDeltaMsecPerKb>.5&&(yield r.alertService.snapshotTimeout(),yield r.showLoader()),r.timeoutDeltaMsecPerKb*=2,r.timeoutDeltaMsecPerKbStart=Math.min(2*r.timeoutDeltaMsecPerKbStart,4);continue}if(console.error("snapshot error",o),o===q2)throw r.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===lw)throw r.errorService.fatalPageLockLost(),o;if(++r.consecutiveErrorCount>3)throw r.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var r=this;return(0,F.A)(function*(){const o=r.db.transaction([zc,Wc,lc,Sl,ra,Ah],"readwrite",{durability:"relaxed"});let i;yield r.storageService.acquireLock(o);const s=r.cloudpilot.getMountedKey();if(s&&(i=yield tr(o.objectStore(ra).index("storageId").get(s))),r.cloudpilot.isSuspended())return;r.assertSessionMatches();const a=yield new Promise((l,c)=>{let d=!1;const h=performance.now();let v=0,C=0,M=0;const U=new W2(500,()=>{d=!0;try{o.abort()}catch{}c(U)});o.oncomplete=()=>{U.cancel(),r.dirtyPages?.fill(0),r.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:M,timeBlocking:C-v,timeTotal:performance.now()-h})},o.onerror=()=>{U.cancel(),c(new Error(o.error?.message))};try{r.assertSessionMatches(),v=performance.now(),M=r.saveDirtyMemory(o,U),i&&(M+=r.saveDirtyStorage(i,o,U)),r.saveSession(o),U.start(),C=performance.now()}catch(de){throw d||(U.cancel(),o.abort()),de}});r.snapshotEvent.dispatch(a)})()}saveDirtyMemory(r,o){let i=0;const s=r.objectStore(zc),a=r.objectStore(Wc),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let d=0;if(!this.dirtyPages||!this.pages){const v=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(v);for(let C=0;C<v;C++)this.pages[C]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&(h.crc32=d2(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(h);for(let v=0;v<l.length;v++)if(this.dirtyPages[v]|=l[v],l[v]=0,0!==this.dirtyPages[v])for(let C=1;C<256&&!(i>=this.pages.length);C<<=1){if(this.dirtyPages[v]&C){const M=C2(c.subarray(256*i,256*(i+1)));"number"==typeof M?s.put(M,[this.sessionId,i]):(this.pages[i].set(M),s.put(this.pages[i],[this.sessionId,i])),o.increase(this.timeoutDeltaMsecPerKb),d++}i++}else i+=8;return d}saveDirtyStorage(r,o,i){const s=this.cloudpilot.getCardDirtyPages(r.storageId),a=this.cloudpilot.getCardData(r.storageId);if(!a)return console.log(`seems ${r.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(r.id,Dr.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${r.name}`);if(a.length!==r.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,d=0;const h=o.objectStore(Sl),v=(a.length>>11)+(a.length%2048>0?1:0);for(let C=0;C<s.length;C++)if(this.cardDirtyPages[C]|=s[C],s[C]=0,0!==this.cardDirtyPages[C])for(let M=1;M<256&&!(l>=v);M<<=1){if(this.cardDirtyPages[C]&M){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const U=this.cardPagePool[c++];U.set(a.subarray(2048*l,2048*(l+1))),h.put(U,[r.id,l]),i.increase(8*this.timeoutDeltaMsecPerKb),d++}l++}else l+=8;return 8*d}saveSession(r){const o=r.objectStore(lc);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.currentSession()?.id!==this.sessionId)throw q2}showLoader(){var r=this;return(0,F.A)(function*(){r.loader||(r.loader=yield r.loadingController.create({message:"Saving..."}),yield r.loader.present())})()}hideLoader(){this.loader&&(this.loader.dismiss(),this.loader=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(zn),oe(ac),oe(Vu),oe(Th),oe($i),oe(mr),oe(ta),oe(qe))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Cw=(()=>{var e;class t{constructor(r){this.zone=r,this.modalVisibilityChangeEvent=new fr.J,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const r=document.querySelectorAll("ion-alert, ion-modal").length>0;r!==this.modalActive&&this.zone.run(()=>{this.modalActive=r,this.modalVisibilityChangeEvent.dispatch(r)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(qe))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const uy=new Error("permission denied");let Sw=(()=>{var e;class t{constructor(r,o,i){this.alertController=r,this.alertService=o,this.nativeAppService=i,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText||na.supportsNativeClipboard()}handleSuspend(r){switch(r.getSuspendKind()){case 1:this.handleCopy(r);break;case 2:this.handlePaste(r)}}handleCopy(r){var o=this;return(0,F.A)(function*(){const i=r.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();if(na.supportsNativeClipboard())try{yield o.nativeAppService.clipboardWrite(s),i.Resume()}catch(a){console.error(a),i.Cancel()}else{try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===uy)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}}})()}tryCopyDirect(r){var o=this;return(0,F.A)(function*(){try{yield navigator.clipboard.writeText(r)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?uy:i}})()}tryCopyWithInteraction(r){var o=this;return new Promise(function(){var i=(0,F.A)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,F.A)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(r),s(!0)}catch(d){a(d)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(r){var o=this;return(0,F.A)(function*(){const i=r.getSuspendContextClipboardPaste();if(na.supportsNativeClipboard()){try{i.Resume(yield o.nativeAppService.clipboardRead())}catch(a){console.error(a),i.Resume("")}return}const s=yield o.tryPaste();i.Resume(s??""),void 0!==s&&(o.clipboardContent=s,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var r=this;return(0,F.A)(function*(){if(performance.now()-r.lastClipboardReadAt<3e3)return r.clipboardContent;try{return yield r.tryPasteDirect()}catch(o){if(o===uy)return void(yield r.msgPermissionDenied())}try{return yield r.tryPasteWithInteraction()}catch{return void(yield r.msgPasteFailed())}})()}tryPasteDirect(){var r=this;return(0,F.A)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield r.isPermissionDenied("clipboard-read"))?uy:o}})()}tryPasteWithInteraction(){var r=this;return new Promise(function(){var o=(0,F.A)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,F.A)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}isPermissionDenied(r){return(0,F.A)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:r}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(R0),oe(mr),oe(na))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class ure{constructor(t){this.nativeAppService=t,this.onNetRpcResult=({sessionId:n,rpcData:r})=>n===this.sessionId&&this.rpcResultEvent.dispatch(r),this.rpcResultEvent=new fr.J,this.unexpectedCloseEvent=new fr.J}connect(){var t=this;return(0,F.A)(function*(){if(void 0!==t.sessionId)throw new Error("session already open");return t.sessionId=yield t.nativeAppService.netOpenSession(),t.nativeAppService.netRpcResult.addHandler(t.onNetRpcResult),!0})()}disconnect(){var t=this;return(0,F.A)(function*(){void 0!==t.sessionId&&(t.nativeAppService.netRpcResult.removeHandler(t.onNetRpcResult),yield t.nativeAppService.netCloseSession(t.sessionId),t.sessionId=void 0)})()}handleRpc(t){var n=this;return(0,F.A)(function*(){if(void 0===n.sessionId)throw new Error("no open session");return n.nativeAppService.netDispatchRpc(n.sessionId,t)})()}}const dre="https:"===window.location.protocol?8667:8666,fre=/^[\da-z\-.]+$/i,pre=/^[\da-z\-.]+:\d+$/i;function ww(e){if(!e)return;const t=window.location.protocol;if(e.match(fre))return`${t}//${e}:${dre}`;if(e.match(pre))return`${t}//${e}`;try{const n=new URL(e);if("https:"===n.protocol||"http:"===n.protocol)return n.toString().replace(/\/+$/,"")}catch{}}function hre(e){return void 0!==ww(e.value)?null:{proxyAddress:"invalid"}}class vre{constructor(t,n,r){this.proxyServer=t,this.alertService=n,this.fetchService=r,this.onSocketMessage=o=>{if(!(o.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),void this.unexpectedCloseEvent.dispatch(void 0);this.rpcResultEvent.dispatch(new Uint8Array(o.data))},this.onSocketError=o=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),this.unexpectedCloseEvent.dispatch(),console.error("ERROR: socket error",o)},this.onSocketClose=()=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.disconnect(),this.unexpectedCloseEvent.dispatch()},this.rpcResultEvent=new fr.J,this.unexpectedCloseEvent=new fr.J}connect(){var t=this;return(0,F.A)(function*(){const n=ww(t.proxyServer);if(!n)return yield t.alertService.errorMessage(`Invalid proxy address: ${t.proxyServer}`),!1;const r=yield t.handshake(500);switch(r.status){case"failed":return t.alertService.errorMessage("Failed to connect to proxy."),!1;case"version_mismatch":return yield t.alertService.proxyVersionMismatchError(),!1;case"success":break;default:throw new Error("unreachable")}const o=new WebSocket(`${n.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(r.token)}`);o.binaryType="arraybuffer";const i=setTimeout(()=>o.close(),5e3);let s,a,l;try{return yield new Promise((c,d)=>{s=()=>c(),l=h=>d(h),a=()=>d(new Error("connection timeout")),o.addEventListener("open",s),o.addEventListener("error",l),o.addEventListener("close",a)}),clearTimeout(i),o.addEventListener("error",t.onSocketError),o.addEventListener("message",t.onSocketMessage),o.addEventListener("close",t.onSocketClose),t.socket=o,!0}catch(c){return console.error("socket failed to connect",c),!1}finally{o.removeEventListener("open",s),o.removeEventListener("error",l),o.removeEventListener("close",a)}})()}disconnect(){var t=this;return(0,F.A)(function*(){t.socket&&(t.socket.removeEventListener("error",t.onSocketError),t.socket.removeEventListener("message",t.onSocketMessage),t.socket.removeEventListener("close",t.onSocketClose),t.socket.close(),t.socket=void 0)})()}handleRpc(t){var n=this;return(0,F.A)(function*(){return!!n.socket&&(n.socket.send(t),!0)})()}handshake(){var t=this;return(0,F.A)(function*(n=-1){const r=ww(t.proxyServer);if(!r)return{status:"failed"};try{const o=yield t.fetchService.fetch(`${r}/network-proxy/handshake`,{method:"POST",loaderDelay:n});if(!o.ok)return{status:"failed"};const i=yield o.json();return i.version<3||i.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:i.token}}catch{return{status:"failed"}}}).apply(this,arguments)}}let Y2=(()=>{var e;class t{constructor(r,o,i,s){this.kvsService=r,this.alertService=o,this.fetchService=i,this.nativeAppService=s}createBackendProxy(r=this.kvsService.kvs.proxyServer){return new vre(r,this.alertService,this.fetchService)}createBackend(){if(this.kvsService.kvs.networkRedirection)return"native"===this.kvsService.kvs.networkRedirectionMode&&na.supportsNativeNetworkIntegration()?new ure(this.nativeAppService):this.createBackendProxy()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe($i),oe(mr),oe($2),oe(na))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),K2=(()=>{var e;class t{constructor(r,o){this.ngZone=r,this.backendFactory=o,this.onProxyDisconnect=()=>{this.reset()},this.onUnexpectedBackendClose=()=>this.reset(),this.onSessionResume=()=>this.resumeEvent.dispatch(),this.resumeEvent=new fr.J}initialize(r){this.cloudpilot=r,r.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}isConnected(){return void 0!==this.session}reset(){this.session&&(this.session.backend.unexpectedCloseEvent.removeHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.removeHandler(this.onSessionResume),this.session.terminate(),this.ngZone.run(()=>this.session=void 0))}handleSuspend(){if(this.cloudpilot)switch(this.cloudpilot.getSuspendKind()){case 4:this.createNewSession(),this.session?this.session.handleConnect().then(r=>r||this.reset()):4===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.session?this.session.handleRpc():3===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}createNewSession(){this.reset(),this.ngZone.run(()=>this.session=Ew.create(this.backendFactory.createBackend(),this.cloudpilot)),this.session&&(this.session.backend.unexpectedCloseEvent.addHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.addHandler(this.onSessionResume))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(qe),oe(Y2))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class Ew{static create(t,n){if(n&&t)return new Ew(t,n)}constructor(t,n){var r=this;this.backend=t,this.handleConnect=()=>this.mutex.runExclusive((0,F.A)(function*(){try{const o=yield r.backend.connect();return 4===r.cloudpilot?.getSuspendKind()&&(o?r.cloudpilot.getSuspendContextNetworkConnect().Resume():r.cloudpilot.getSuspendContextNetworkConnect().Cancel()),o}catch(o){return console.error("failed to connect to backend",o),4===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkConnect().Cancel(),!1}})),this.handleRpc=()=>this.mutex.runExclusive((0,F.A)(function*(){if(3!==r.cloudpilot?.getSuspendKind())return;const o=r.cloudpilot.getSuspendContextNetworkRpc(),i=r.cloudpilot.resolveBuffer(o.GetRequestData(),o.GetRequestSize());try{!(yield r.backend.handleRpc(i))&&3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}catch(s){console.error("failed to process rpc request",s),3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}})),this.disconnect=()=>{this.mutex.runExclusive((0,F.A)(function*(){r.backend&&(yield r.backend.disconnect())}))},this.onRpcResult=o=>{if(!this.cloudpilot)return;if(3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");const i=this.cloudpilot.copyBuffer(o);this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(i,o.length),this.cloudpilot.freeBuffer(i),this.resumeEvent.dispatch()},this.resumeEvent=new fr.J,this.mutex=new Ma,this.cloudpilot=n,t.rpcResultEvent.addHandler(this.onRpcResult)}terminate(){this.cloudpilot=void 0,this.backend.rpcResultEvent.removeHandler(this.onRpcResult),this.disconnect()}}let X2=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(r){this.cloudpilot=r,this.buttons.clear(),[6,7].forEach(o=>r.queueButtonUp(o))}engage(r){this.cloudpilot&&(this.buttons.has(r)?this.buttons.get(r).timer=0:(this.buttons.set(r,{button:r,timer:0}),this.cloudpilot?.queueButtonDown(r)))}tick(r){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*r,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Q2=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(r=>this.hasRenderedResolve=r)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var vr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(vr||{}),_re=_(2922),bre=_.n(_re),wl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(wl||{}),qu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(qu||{});function Cre(e){return{readonly:!!(1&e),hidden:!!(2&e),system:!!(4&e)}}function J2(e,t){const n=e.GetName(),r=e.GetModifiedTS();return{path:t,name:n,size:e.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:Cre(e.GetAttributes())}}class Dw{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,F.A)(function*(){return new Dw(yield bre()({print:n=>console.log(n),printErr:n=>console.error(n),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),n=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==n)return this.module.HEAPU32.subarray(t>>>2,t+n>>>2)}getImageInSlot(t){const n=this.module.getPointer(this.vfsNative.GetImage(t)),r=this.vfsNative.GetSize(t);if(0!==n&&0!==r)return this.module.HEAPU32.subarray(n>>>2,n+r>>>2)}getDirtyPagesForSlot(t){const n=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===n)return;const r=fw(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(n,n+r)}readdir(t){const n=new this.module.ReaddirContext(t);try{const r=[];for(;0===n.GetStatus();){const o=n.GetEntry();r.push(J2(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),n.Next()}if(2===n.GetStatus()){console.warn(`readdir failed: ${n.GetErrorDescription()}`);const o=n.GetError();return{error:0===o?2:o,reason:n.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(n)}}rename(t,n){return this.vfsNative.RenameFile(t,n)}chmod(t,n){let r=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(n.hidden,2),i(n.readonly,1),i(n.system,4),this.vfsNative.ChmodFile(t,r,o)}stat(t){const n=this.vfsNative.StatFile(t);return 0!==n?{result:n,entry:void 0}:{entry:J2(this.vfsNative.GetEntry(),t),result:n}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const n=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(n,n+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive(t){var n=this;return(0,F.A)(function*({files:r,directories:o,prefix:i}){const s=new n.module.ExportZipContext(i,25),a=[];try{for(r&&r.forEach(h=>s.AddFile(h)),o&&o.forEach(h=>s.AddDirectory(h));2!==s.GetState();){switch(s.Continue()){case-2:case-1:a.push(s.GetErrorItem())}2!==s.GetState()&&(yield new Promise(h=>setTimeout(h,0)))}let l;const c=n.module.getPointer(s.GetZipContent()),d=s.GetZipSize();return 0!==c&&0!==d&&(l=n.module.HEAPU8.subarray(c,c+d).slice()),{archive:l,failedItems:a}}finally{n.module.destroy(s)}}).apply(this,arguments)}deleteRecursive(t){var n=this;return(0,F.A)(function*(){const r=new n.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{n.module.destroy(r)}})()}writeFile(t,n){const r=this.copyIn(n);try{return this.vfsNative.WriteFile(t,n.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(t,n,r){var o=this;return(0,F.A)(function*(){const i=o.copyIn(n),s=new o.module.UnzipContext(25,t,i,n.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(wl.success);case-3:return a(wl.cardFull);case-1:return a(wl.ioError);case-2:return a(wl.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,n,r,o,i){var s=this;return(0,F.A)(function*(){const a=new s.module.PasteContext(25,t,n);r.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return qu.success;case-2:return qu.cardFull;case-1:return qu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const n=this.vfsNative.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}}const Sre=_.p+"wasm/vfs_web-46a89cac7e59fb52.wasm";var wre=_(9250),eL=_.n(wre);function tL(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}let Zu=(()=>{var e;class t{constructor(r,o,i,s,a){this.storageService=r,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new fr.J,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=Dw.create(Sre),this.directoryCache=new Map,this._bytesFree=bi(0),this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this._change=new mn,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(r){this.storageCardService=r,r.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),r.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(r){return("/"+r).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(r){return this.normalizePath(r).replace(/^\/+/,"").split("/")}dirname(r){return this.normalizePath(r).replace(/\/[^/]*$/,"")}isFilenameValid(r){return void 0===r||!/[/\\]/.test(r)}isEntryInClipboard(r){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(r.path)?this.clipboard.operation:void 0}activateCard(r){var o=this;return(0,F.A)(function*(){if(o.primaryCard?.id!==r){if(o.secondaryCard?.id===r)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${r} not mounted in VFS`)}})()}mountCardUnchecked(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(s.primaryCard?.id===r||s.secondaryCard?.id===r)throw new Error(`card ${r} already mounted in VFS`);s.storageCardContext.claim(r,Dr.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(r,c,Dr.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(r,Dr.vfs),!1)})()}releaseCard(r){var o=this;return(0,F.A)(function*(){let i;if(o.primaryCard?.id===r)i=o.primarySlot;else{if(o.secondaryCard?.id!==r)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(r,Dr.vfs),o.onReleaseCard.dispatch(r)})()}readdir(r){if(!this.vfsInstance)return[];const o=this.normalizePath(r);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(r);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.vfs;if(r=i.normalizePath(r),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(r);if(0===a)try{if(void 0!==o.attributes&&!eL()(o.attributes,l.attributes)&&0!==(i.directoryCache.delete(i.dirname(r)),s.chmod(r,o.attributes)))return void(yield i.fatalError("Unable to write the updated file attributes."));if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(r)),s.rename(r,`${i.dirname(r)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to rename file."))}yield i.sync()}finally{i._change.emit()}else yield i.error(`The path ${r} is invalid. This is a bug in CloudpilotEmu.`)})()}saveFile(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(r.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${r.name}'.`));o.fileService.saveFile(r.name,a)}finally{yield i.dismiss(),o._change.emit()}})()}archiveFiles(r,o){var i=this;return(0,F.A)(function*(){if(0===r.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=r.filter(C=>C.isDirectory).map(C=>i.normalizePath(C.path)),c=r.filter(C=>!C.isDirectory).map(C=>i.normalizePath(C.path)),d=1===r.length?`${r[0].name}.zip`:function bne(e){return`files_${mf(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:v}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),v.length>0&&(v.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${v.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${v.slice(0,3).join("<br>")}<br><br> and ${v.length-3} other file`)),h&&i.fileService.saveFile(d,h)}finally{yield s.dismiss()}})()}unlinkEntry(r){var o=this;return(0,F.A)(function*(){if(r.isDirectory)return;const s=(yield o.vfs).unlinkFile(r.path);if(0!==s)return console.error(`failed to unlink ${r.path}: ${s}`),void(yield o.error(`Failed to delete: ${r.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r.path)),o._change.emit()})()}deleteRecursive(r){var o=this;return(0,F.A)(function*(){const i=r.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss(),o._change.emit()}})()}mkdir(r){var o=this;return(0,F.A)(function*(){switch((yield o.vfs).mkdir(r)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${r}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r)),o._change.emit()})()}get bytesFree(){return this._bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const r=this.storageCardService.cards().find(o=>o.storageId===this.clipboard?.storageId);return!!r&&(r.status===vr.clean||r.status===vr.dirty&&!!r.dontFsckAutomatically)}invalidateClipboardForCard(r){this.clipboard?.storageId===r.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(r,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(r),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${r}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this._change.emit())}unpackArchive(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(r,o);let d,h;switch(yield s.dismiss(),c){case wl.success:d="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case wl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case wl.cardFull:d="No space left on card.",h="No space left";break;case wl.zipfileError:d="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const v=a-l,C=M=>M>1?`${M} entries`:"one entry";a>0&&v===a&&(yield i.alertService.message(h,`\n                    ${d}\n                    <br><br>\n                    The archive contains ${C(a)}, but none could be unpacked.\n                `)),v>0&&l>0&&(yield i.alertService.message(h,`\n                    ${d}\n                    <br><br>\n                    ${tL(C(l))} unpacked succesfully, but ${C(v)} could not be unpacked.\n                `))}finally{s.dismiss(),i._change.emit()}})()}paste(r){var o=this;return(0,F.A)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(r);switch(yield i.dismiss(),s){case qu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case qu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss(),o._change.emit()}})()}addFiles(r,o){var i=this;return(0,F.A)(function*(){if(0===r.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(r,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===r.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(r.length-a.length)} to card. ${tL(l(a.length))} could not be added.\n                `))}finally{s.dismiss(),i._change.emit()}})()}get change(){return this._change}addFilesUnchecked(r,o){var i=this;return(0,F.A)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,d=!1,h=!1,v=!1;e:for(let C=0;C<r.length;C++){const M=r[C],U=s.find(ge=>ge.name===M.name);if(U&&U.isDirectory){if(!h){const{overwrite:ke,rememberChoice:It}=yield i.overwriteFileDialog(M.name,"directory");v=ke,h=It}let ge=!0;if(v&&(ge=!(yield l.deleteRecursive([i.normalizePath(`${o}/${M.name}`)])).success),ge){a.push(M.name);continue}}if(U&&!U.isDirectory){if(!c){const{overwrite:ge,rememberChoice:ke}=yield i.overwriteFileDialog(M.name,"file");d=ge,c=ke}if(!d){a.push(M.name);continue}}let de;try{de=yield M.getContent()}catch(ge){console.warn(ge),a.push(M.name),yield i.alertService.errorMessage(`Unable to open ${M.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${M.name}`),de)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...r.slice(C).map(ge=>ge.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(M.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var r=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,F.A)(function*(c){if(i)return o;const{overwrite:d,rememberChoice:h}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=d,i=h,o}),function(d){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,F.A)(function*(c){if(a)return s;const{overwrite:d,rememberChoice:h}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=d,a=h,s});return function(d){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(r,o){var i=this;return(0,F.A)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),r,{...i.collisionHandlers(),onInvalidEntry:(l=(0,F.A)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(d){return l.apply(this,arguments)})});var l;return a.result!==wl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(r){var o=this;return(0,F.A)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(r)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===qu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var r=this;return(0,F.A)(function*(){if(!r.clipboard||!r.primaryCard||!r.storageCardService)throw new Error("invalid state for paste");if(r.clipboard.storageId===r.primaryCard.storageId)return r.primarySlot;if(r.secondaryCard&&r.clipboard.storageId===r.secondaryCard.storageId)return r.secondarySlot;r.secondaryCard&&(yield r.releaseCard(r.secondaryCard.id));const o=r.storageCardService.cards().find(a=>a.storageId===r.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield r.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(r.storageCardContext.claim(o.id,Dr.vfs),yield r.storageService.loadCardData(o.id,s,Dr.vfs),!i.mountImage(r.secondarySlot))throw r.storageCardContext.release(o.id,Dr.vfs),new Error("unable to mount card");return r.secondaryCard=o,r.secondarySlot})()}overwriteFileDialog(r,o){var i=this;return(0,F.A)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${r}?`:`\n                     Do you want to overwrite the existing directory ${r}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(r){var o=this;return(0,F.A)(function*(){yield o.alertService.errorMessage(r)})()}fatalError(r){var o=this;return(0,F.A)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:vr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${r}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var r=this;return(0,F.A)(function*(o=r.primarySlot){const i=r.mountedCards[o];if(!i)return;const s=yield r.vfs,a=s.getImageInSlot(o),l=s.getDirtyPagesForSlot(o);!a||!l||(yield r.storageService.updateCardData(i.id,a,l,Dr.vfs),l.fill(0))}).apply(this,arguments)}activatePrimaryCard(){var r=this;return(0,F.A)(function*(){const o=yield r.vfs;o.switchSlot(r.primarySlot),r._bytesFree.set(o.bytesFree(r.primarySlot)),r.bytesTotal=o.bytesTotal(r.primarySlot),r.directoryCache.clear()})()}updateBytesFree(){var r=this;return(0,F.A)(function*(){r._bytesFree.set((yield r.vfs).bytesFree(r.primarySlot))})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(r){this.mountedCards[this.primarySlot]=r}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(r){this.mountedCards[this.secondarySlot]=r}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(zn),oe(Th),oe(qc),oe(ta),oe(mr))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var $o=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}($o||{});class fy extends Error{constructor(t){super(t)}}function nL(){return h2().replace(/-/g,"")}let _f=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,h,v,C,M){this.sessionService=r,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=d,this.fileService=h,this.vfsService=v,this.storageCardContext=C,this.fstools=M,this.mountCardEvent=new fr.J,this.deleteCardEvent=new fr.J,this.loading=!0,this._cards=bi([]),this.updateMutex=new Ma,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}get cards(){return this._cards}createEmptyCard(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function Ere(e){switch(e){case $o.mb4:return 4;case $o.mb8:return 8;case $o.mb16:return 16;case $o.mb32:return 32;case $o.mb64:return 64;case $o.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:nL(),name:r,size:4*l.length,status:vr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(r,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const r=this.emulationStateService.currentSession()?.mountedCard;void 0!==r&&this.storageCardContext.release(r,Dr.cloudpilot)}loadCardInEmulator(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);yield i.vfsService.releaseCard(r);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(r,Dr.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Dr.cloudpilot),s})()}ejectCurrentCard(){var r=this;return(0,F.A)(function*(){const o=r.emulationStateService.currentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield r.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield r.storageService.updateStorageCardPartial(i,{status:vr.dirty}),yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield r.cloudpilotService.cloudpilot).removeCard(s.storageId),r.snapshotService.resetCard(),r.storageCardContext.release(i,Dr.cloudpilot)})()}checkCard(r){var o=this;return(0,F.A)(function*(){const i=o.mountedInSession(r.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(r.id)}const s=yield o.executeFsckAndUpdateCard(r.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${r.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(r.id,s):o.storageCardContext.release(r.id,Dr.fstools))}}})()}insertCard(r){return this.checkAndClaimCard(r,"insert")}browseCard(r){var o=this;return(0,F.A)(function*(){if(o.storageCardContext.getOwner(r.id)===Dr.vfs)return yield o.vfsService.activateCard(r.id),!0;const i=o.mountedInSession(r.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(r.id)}return o.checkAndClaimCard(r.id,"vfs")})()}updateCard(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=vr.dirty),i.storageService.updateStorageCardPartial(r,o)})()}deleteCard(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o._cards().find(a=>a.id===r);yield o.vfsService.releaseCard(r),yield o.ejectCard(r),yield o.storageService.deleteStorageCard(r),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.getCard(r);if(!a)throw new Error(`no card with id ${r}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const d of r){c++;const h=yield o.getCard(d);if(!h)continue;i.message=`Exporting ${c}/${r.length}...`;const v=gf(h.name,M=>a.has(M));a.add(v);const C=yield o.getCardData(h,v,l);C&&(yield s.addEntry(`${v}.img.gz`,C))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function _ne(){return`${mf("cards")}.zip`}(),s.getContent())})()}getCard(r){var o=this;return(0,F.A)(function*(){return o.storageService.getCard(r)})()}mountedInSession(r){return this.sessionService.sessions().find(o=>o.mountedCard===r)}isLoading(){return this.loading}addAllCardsFromArchive(r){var o=this;return(0,F.A)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=fo?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,c=yield o.fstools.createZipfileWalker(r);if(-1===c.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const d=c.GetTotalEntries(),h=new Set(o.cards().map(de=>de.name)),v=yield o.fstools.createGunzipContext();let C=1,M=!1;const U=[];for(;0===c.GetState();){a.message=`Importing ${C++}/${d}...`;let de=c.GetCurrentEntryName();try{if(!i.test(de))throw new fy(`${de} has the wrong suffix to be considered as a card image.`);let ge=c.GetCurrentEntryContent();if(de.endsWith(".gz")&&ge&&(v.initialize(ge),ge=(yield v.gunzip())?v.getDecompressedData():void 0,de=de.substring(0,de.length-3)),void 0===ge)throw new fy(`Failed to extract ${de}. ${s}`);if(0===l.getCardSupportLevel(ge.length))throw new fy(`${de} is not a valid card image.`);const ke=gf(de.replace(i,""),It=>h.has(It));yield o.doCreateCardFromImage(ke,ge,!1,!0)}catch(ge){if(!(ge instanceof fy))throw ge;U.push(de),M||(M=yield o.alertService.messageWithChoice("Error",ge.message,"Skip further errors",M,{},"Continue"))}finally{c.Next()}}U.length<=3&&U.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${U.join("<br>")}`):U.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${U.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${U.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(r,o,i){var s=this;return(0,F.A)(function*(a,l,c,d=!1){const h={storageId:nL(),name:a,size:l.length,status:d?vr.dirty:vr.clean,dontFsckAutomatically:c},v=new Uint32Array(l.buffer,l.byteOffset,l.byteLength>>>2);if(d||c)yield s.storageService.importStorageCard(h,v);else{const[C,M]=yield s.fsckNewCard(v,h);yield s.storageService.importStorageCard(M,C)}}).apply(this,arguments)}getCardData(r,o,i){var s=this;return(0,F.A)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(r.size),i){const d=i.getBuffer();a=new Uint32Array(d.buffer,d.byteOffset,d.byteLength>>2)}const l=s.mountedInSession(r.id);let c;return l&&l.id===s.emulationStateService.currentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(r.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(r.size>>>2)),yield s.storageService.loadCardData(r.id,a,s.storageCardContext.getOwner(r.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var r=this;return(0,F.A)(function*(){r._cards.set(yield r.updateMutex.runExclusive((0,F.A)(function*(){return(yield r.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}cardIsMounted(r){var o=this;return(0,F.A)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===r)})()}checkAndClaimCard(r,o){var i=this;return(0,F.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");let s=yield i.getCard(r);if(!s)throw new Error(`no card with id ${r}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===vr.dirty){if(a=yield i.executeFsckAndUpdateCard(r),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(r,Dr.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(r),!s)throw new Error(`no card with id ${r}`)}switch(s.status){case vr.clean:break;case vr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;break;case vr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case vr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(r),yield i.mountCardInEmulator(r,a?.getImageData())):(yield i.mountCardForBrowsing(r,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(d){return i.errorService.fatalBug(d instanceof Error?d.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(r))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);yield o.vfsService.releaseCard(r),o.storageCardContext.claim(r,Dr.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Dr.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(r,{status:vr.clean}),o.storageCardContext.release(r,Dr.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(r,{status:vr.unformatted}),o.storageCardContext.release(r,Dr.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(r,{status:vr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(r,{status:vr.unfixable}),o.storageCardContext.release(r,Dr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(r,o){var i=this;return(0,F.A)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(r,o.getImageData(),o.getDirtyPages(),Dr.fstools),yield i.storageService.updateStorageCardPartial(r,{status:vr.clean}),i.storageCardContext.release(r,Dr.fstools)}finally{s.dismiss()}})()}fsckNewCard(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(r),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[r,{...o,status:vr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:vr.clean}]:[r,{...o,status:vr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[r,{...o,status:vr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[r,{...o,status:vr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(r){var o=this;return(0,F.A)(function*(){const i=o.mountedInSession(r),s=yield o.storageService.getCard(r);!i||!s||(i.id===o.emulationStateService.currentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(r,{status:vr.dirty})))})()}mountCardInEmulator(r,o){var i=this;return(0,F.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(r);const a=i.emulationStateService.currentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(r,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(r,{status:vr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:r}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(r,o,i)}finally{a.dismiss()}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Zc),oe(zn),oe(ac),oe(Ja),oe(ta),oe(Nh),oe(mr),oe(Vu),oe(qc),oe(Zu),oe(Th),oe(ay))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Iw=(()=>{var e;class t{constructor(r,o){this.pwaService=r,this.clipboardService=o,this.injectStyles()}get runHidden(){return this.pwaService.getInstallationMode()!==cc.pwa}get nativeNetworkIntegration(){return na.supportsNativeNetworkIntegration()}get nativeClipboard(){return na.supportsNativeClipboard()}featureStyle(r,o){return(o?"":`.feature-${r} { display: none }\n`)+(o?`.no-feature-${r} { display: none }`:"")}injectStyles(){const r=document.createElement("style");r.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",sS())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",ml)}\n            ${this.featureStyle("ios-not-native",fo&&!ml)}\n            ${this.featureStyle("ios-or-safari",fo&&!ml||$p)}\n            ${this.featureStyle("ios",fo)}\n            ${this.featureStyle("native-network",this.nativeNetworkIntegration)}\n            ${this.featureStyle("dynamic-font-size",Hd())}\n        `,document.head.appendChild(r)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(ry),oe(Sw))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),el=(()=>{var e;class t extends ire{constructor(r,o,i,s,a,l,c,d,h,v,C,M,U,de,ge,ke,It,Ht,Gt){var $t;super(),$t=this,this.storageService=r,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=d,this.clipboardService=h,this.kvsService=v,this.networkService=C,this.buttonService=M,this.bootstrapService=U,this.cloudpilotService=de,this.storageCardService=ge,this.storageCardContext=ke,this.sessionsService=It,this.featureService=Ht,this.app=Gt,this.switchSession=(wo,nl={})=>this.mutex.runExclusive((0,F.A)(function*(){if(wo===$t.emulationState.currentSession()?.id)return!0;let rl;yield $t.stopUnchecked(),yield $t.bootstrapService.hasRendered(),(nl.showLoader??1)&&(rl=yield $t.loadingController.create({message:"Loading..."}),yield rl.present());try{const hy=yield $t.storageService.getSession(wo);if(!hy)throw new Error(`invalid session ${wo}`);$t.emulationState.setCurrentSession(void 0);const Ese=yield $t.cloudpilotService.cloudpilot;if(!(yield $t.restoreSession(hy,Ese)))return $t.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;$t.emulationState.setCurrentSession(hy),yield $t.sessionsService.updateSession({...hy,lastLaunch:Date.now()}),function Z9(e){iS(Wm,e+"")}(wo)}finally{rl&&(yield rl.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,F.A)(function*(){!$t.emulationState.currentSession()||$t.running||$t.errorService.hasFatalError()||!$t.cloudpilotInstance||(yield $t.kvsService.mutex.runExclusive(()=>$t.updateFeatures()),$t.doResume(),$t.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,F.A)(function*(){$t.doPause(),!$t.errorService.hasFatalError()&&$t.emulationState.currentSession()&&(yield $t.snapshotService.waitForPendingSnapshot(),yield $t.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([wo,nl])=>this.mutex.runExclusive((0,F.A)(function*(){const rl=$t.emulationState.currentSession();wo===rl?.id&&(void 0!==rl.mountedCard&&void 0===nl&&$t.storageCardContext.release(rl.mountedCard,Dr.cloudpilot),$t.emulationState.setCurrentSession(nl),$t.emulationState.currentSession()||(mN(),$t.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,F.A)(function*(){const wo=$t.emulationState.currentSession();wo&&$t.sessionsService.emergencySaveSession(wo)})),this.mutex=new Ma,this.lastSnapshotAt=0,r.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(wo=>{wo.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.networkService.initialize(wo),this.networkService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Kn=function q9(){const e=oS(Wm);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Kn&&!yN()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Kn))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.currentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.currentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.currentSession()?.hotsyncName}updateConfiguredHotsyncName(r){const o=this.emulationState.currentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:r})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden&&this.featureService.runHidden?yf.timeout:yf.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(r,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.currentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),r-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=r),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.networkService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var r=this;return(0,F.A)(function*(){r.emulationState.currentSession()&&(r.doStop(),yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),r.storageCardService.onEmulatorStop(),r.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const r=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==r&&this.cloudpilotInstance.setClipboardIntegration(r),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.networkService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.currentSession()?.dontManageHotsyncName)}recoverStoredSession(r){var o=this;return(0,F.A)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,F.A)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(r,{showLoader:!1})}catch(a){fo&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience."),console.error(a)}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(r,o){var i=this;return(0,F.A)(function*(){const[s,a,l]=yield i.storageService.loadSession(r,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${r.rom}`);return o.clearExternalStorage(),void 0!==r.mountedCard&&(yield i.storageCardService.loadCardInEmulator(r.mountedCard)),!!i.openSession(o,s,r.device,a,l)&&(i.networkService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(r,yield i.cloudpilotService.cloudpilot),!0)})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(zn),oe(qe),oe(ta),oe(ac),oe(Nh),oe(Vu),oe(mr),oe(Cw),oe(Sw),oe($i),oe(K2),oe(X2),oe(Q2),oe(Ja),oe(_f),oe(Th),oe(Zc),oe(Iw),oe(Is))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Tre=(()=>{var e;class t{constructor(r,o,i,s,a,l,c){this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(r){var o=this;return(0,F.A)(function*(){const i=o.emulationStateService.currentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var d=(0,F.A)(function*(h){for(h.Init(r);h.IsInProgress();){const v=h.GetCurrentDatabase();h.Save()||a.push(v),yield new Promise(C=>setTimeout(C,0))}l=c.getArchive(h)});return function(h){return d.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${dw(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(O2(i,r),l)},"Cancel"):o.fileService.saveFile(O2(i,r),l):yield o.alertService.errorMessage("Backup failed.")})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(el),oe(ta),oe(Nh),oe(qc),oe(ac),oe(mr),oe(Ja))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Are=window.AudioContext||window.webkitAudioContext;function Tw(e,t=100){return new Promise((n,r)=>{setTimeout(()=>r(new Error("timeout")),t),e.then(n,r)})}class Mre{constructor(t){var n=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,F.A)(function*(){for(let r=0;r<3;r++)if(yield n.initializeAudioUnguarded())return!1;return!0})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,F.A)(function*(){if(!n.context||n.isRunning()===n.shouldRun())return;!r&&!n.isRunning()&&n.shouldRun()&&n.applyPwmUpdate();const o=n.context.state;if(n.shouldRun())try{n.updateGain(),yield Tw(n.context.resume()),console.log("resume audio context")}catch(i){console.error(`failed to resume audio from state ${o}`,i)}else try{yield Tw(n.context.suspend()),console.log("suspend audio context")}catch(i){console.error(`failed to suspend audio from state ${o}`,i)}console.log(`audio context state change ${o} -> ${n.context.state}`)})),this.onPwmUpdate=function(){var r=(0,F.A)(function*(o){n.pendingPwmUpdate=o,n.initialized&&(n.shouldRun()!==n.isRunning()&&n.updateState(!0),n.shouldRun()&&n.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Ma,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),fo||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||fo||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}initializeAudioUnguarded(){var t=this;return(0,F.A)(function*(){if(t.initialized)return!0;try{t.context=new Are}catch(n){return console.error("web audio not available",n),!1}try{t.context.destination.channelCount=1}catch(n){console.warn("audio driver: failed to set channel count",n)}try{yield t.start()}catch(n){return console.error("failed to initialize audio context",n),!1}return t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0,!0})()}start(){var t=this;return(0,F.A)(function*(){t.context&&(yield Tw(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:n}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||n<=0||t>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/t),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<n?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let Aw=(()=>{var e;class t extends Mre{constructor(r,o,i,s){super(r),this.kvs=o,this.modalWatcher=i,this.featureService=s,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(el),oe($i),oe(Cw),oe(Iw))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),oL=(()=>{var e;class t{constructor(r,o){this.emulationService=r,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(el),oe(qe))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Mw=Q.m515,kre=bw[2],Rre=bw[0],bf="rgba(0,0,0,0.2)";function iL(e){const t=kh(e),n=(0===t.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:n},o=l=>({frameDevice:l,frameCanvas:l*n}),i=l=>({frameDevice:l,frameCanvas:r.frameCanvas+l*n}),s=o(t.silkscreenHeight>0?1:0),a=o(function Fre(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:n,borderWidth:r,height:o(2*r.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class Lre{constructor(t){this.skinLoader=t,this.layout=iL(Mw),this.onResize=new fr.J}get width(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.setupTransformation(),this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,n=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Rr.landscape90:{const h=c;c=this.layout.height.frameDevice-l,l=h;break}case Rr.landscape270:{const h=c;c=l,l=this.layout.width.frameDevice-h;break}case Rr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const d=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(n)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=d&&(c=d-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=d)return;return[l,c]}isSilkscreen(t){const[,n]=t;return!this.isButtons(t)&&n>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,n]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(){var t=this;return(0,F.A)(function*(n=t.ctx?.canvas){if(!n)return;t.layout=iL(t.getDeviceId()),t.onResize.dispatch(),n.width=t.width,n.height=t.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])}).apply(this,arguments)}drawButtons(){var t=this;return(0,F.A)(function*(n=[]){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),n.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,bf),n.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,bf),n.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,bf),n.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,bf),n.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,bf),n.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,bf))}).apply(this,arguments)}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx.resetTransform(),this.getOrientation()){case Rr.portrait:case void 0:break;case Rr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Rr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Rr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,F.A)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,kre),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,n,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case Q.pegT600c:case Q.pegT650c:return"silkscreen/clie-t600.svg";case Q.pegN700c:case Q.pegN600c:return"silkscreen/clie-n610.svg";case Q.pegS320:case Q.pegS300:return"silkscreen/clie-s300.svg";case Q.pegS500c:return"silkscreen/clie-s500.svg";case Q.pegT400:return"silkscreen/clie-t415.svg";case Q.acerS11:return"silkscreen/acer-s10.svg";case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:return"silkscreen/pilot.svg";case Q.m500:return"silkscreen/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"silkscreen/m515.svg";case Q.iiic:return"silkscreen/iiic.svg";case Q.m100:case Q.m105:case Q.m125:return"silkscreen/m100.svg";case Q.m130:return"silkscreen/m130.svg";case Q.i710:return"silkscreen/tungstenw.svg";case Q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case Q.acerS11:return"hard-buttons/acer-s10.svg";case Q.pegNR70:return"hard-buttons/clie-nr70.svg";case Q.pegN700c:return"hard-buttons/clie-n700.svg";case Q.pegN600c:return"hard-buttons/clie-n610.svg";case Q.pegS300:return"hard-buttons/clie-s300.svg";case Q.pegS500c:return"hard-buttons/clie-s500.svg";case Q.pegS320:return"hard-buttons/clie-s320.svg";case Q.pegT400:case Q.pegT600c:case Q.pegT650c:return"hard-buttons/clie-t415.svg";case Q.pilot:case Q.palmPilot:return"hard-buttons/pilot.svg";case Q.m500:return"hard-buttons/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"hard-buttons/m515.svg";case Q.iiic:return"hard-buttons/iiic.svg";case Q.m100:case Q.m105:return"hard-buttons/m100.svg";case Q.m125:return"hard-buttons/m125.svg";case Q.m130:return"hard-buttons/m130.svg";case Q.i710:return"hard-buttons/tungstenw.svg";case Q.iii:case Q.iiix:case Q.iiixe:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:return"hard-buttons/iiix.svg";case Q.iiie:return"hard-buttons/iiie.svg";case Q.i705:return"hard-buttons/i705.svg";case Q.handera330:return"hard-buttons/handera330.svg";case Q.handera330c:return"hard-buttons/handera330c.svg";case Q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return cw(this.getDeviceId())?"white":Rre}frameColor(){return cw(this.getDeviceId())?"white":"#ccc"}}function Bre(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(),r.src=e})}class Vre{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const n=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,Bre((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),r=function $re(e,t){let n,r;const o=document.createElement("canvas");return function(){var i=(0,F.A)(function*(s,a){if(n===s&&r===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),($p||fo)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),n=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(n.then(([,o])=>o),n.then(([o])=>o));return this.images.set(t,r),r}}let py=(()=>{var e;class t extends Lre{constructor(r){super(new Vre(r.cloudpilot)),this.cloudpilotService=r,this.statisticsVisible=!1}initialize(r){var o=this;return(0,F.A)(function*(i,s=o.session){o.session=s,yield o.initWithCanvas(i)}).apply(this,arguments)}clearStatistics(){var r=this;return(0,F.A)(function*(){r.statisticsVisible=!1,r.layout.silkscreenHeight.frameCanvas>0?yield r.drawSilkscreen():yield r.drawEmulationCanvas()})()}updateStatistics(r,o){var i=this;return(0,F.A)(function*(){yield i.clearStatistics(),i.drawStatistics(r,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=r,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??Mw}getOrientation(){return this.session?.deviceOrientation??Rr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(r,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function Ure(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(kh(this.session?.device??Mw).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...r||o?[]:["collecting statistics..."],...r?[`last snapshot          : ${new Date(r.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${r.pages}`,`snapshot time total    : ${r.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${r.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,d)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*d)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Ja))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Hre(e,t){if(1&e){const n=Mn();V(0,"ion-item",4),Ge("click",function(){return at(n),u(mt().power())}),V(1,"ion-label"),Re(2,"Power"),q(),tt(3,"ion-icon",5),q()}if(2&e){const n=mt();pe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Gre(e,t){if(1&e){const n=Mn();V(0,"ion-item",4),Ge("click",function(){return at(n),u(mt().hotsync())}),V(1,"ion-label"),Re(2,"Hotsync"),q(),tt(3,"ion-icon",6),q()}if(2&e){const n=mt();pe("detail",!1)("disabled",!n.emulationService.isRunning())}}function zre(e,t){if(1&e){const n=Mn();V(0,"ion-item",4),Ge("click",function(){return at(n),u(mt().reset())}),V(1,"ion-label"),Re(2,"Reset"),q(),tt(3,"ion-icon",7),q()}if(2&e){const n=mt();pe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Wre(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),Ge("click",function(){return at(n),u(mt().insertCard())}),V(1,"ion-label"),Re(2),q(),tt(3,"ion-icon",9),q()}if(2&e){const n=mt();pe("detail",!1),fe(2),wi("Insert ",n.hasMemorystick?"stick":"SD card")}}function qre(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),Ge("click",function(){return at(n),u(mt().ejectCard())}),V(1,"ion-label"),Re(2),q(),tt(3,"ion-icon",10),q()}if(2&e){const n=mt();pe("detail",!1),fe(2),wi("Eject ",n.hasMemorystick?"stick":"SD card")}}function Zre(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),Ge("click",function(){return at(n),u(mt().mute(!1))}),V(1,"ion-label"),Re(2,"Enable audio"),q(),tt(3,"ion-icon",11),q()}2&e&&pe("detail",!1)}function Yre(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),Ge("click",function(){return at(n),u(mt().mute(!0))}),V(1,"ion-label"),Re(2,"Disable audio"),q(),tt(3,"ion-icon",12),q()}2&e&&pe("detail",!1)}function Kre(e,t){if(1&e){const n=Mn();V(0,"ion-item",4),Ge("click",function(){return at(n),u(mt().backup())}),V(1,"ion-label"),Re(2,"Save backup"),q(),tt(3,"ion-icon",13),q()}if(2&e){const n=mt();pe("detail",!1)("disabled",n.backupDisabled)}}function Xre(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),Ge("click",function(){return at(n),u(mt().rotate())}),V(1,"ion-label"),Re(2,"Rotate"),q(),tt(3,"ion-icon",14),q()}2&e&&pe("detail",!1)}function Qre(e,t){if(1&e){const n=Mn();V(0,"ion-item",8),Ge("click",function(){return at(n),u(mt().editSettings())}),V(1,"ion-label"),Re(2,"Settings"),q(),tt(3,"ion-icon",15),q()}2&e&&pe("detail",!1)}function Jre(e){switch(e){case Rr.portrait:case void 0:return Rr.landscape90;case Rr.landscape90:return Rr.portrait180;case Rr.portrait180:return Rr.landscape270;case Rr.landscape270:return Rr.portrait;default:throw new Error("cannot happen")}}let eoe=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,h,v,C,M,U,de,ge,ke,It,Ht){this.emulationService=r,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=d,this.modalController=h,this.sessionService=v,this.performanceWatchdogService=C,this.canvasDisplayService=M,this.cloudpilotService=U,this.storageCardService=de,this.alertService=ge,this.alertController=ke,this.storageService=It,this.errorService=Ht,this.showHelp=()=>{}}reset(){var r=this;return(0,F.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>r.emulationService.reset()},{text:"No extensions",handler:()=>r.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>r.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var r=this;return(0,F.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>r.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>r.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(r){r?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const r=this.emulationStateService.currentSession();return!!r&&function vne(e){switch(e){case Q.i705:case Q.i710:case Q.pegNR70:case Q.pegT650c:case Q.lp168:return!0;default:return!1}}(r.device)}get hasActiveSession(){return!!this.emulationStateService.currentSession()}get supportsStorageCard(){const r=this.emulationStateService.currentSession();return!!r&&N2(r.device)!==hf.none}get hasMemorystick(){const r=this.emulationStateService.currentSession();return!!r&&N2(r.device)===hf.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.currentSession()?.mountedCard}editSettings(){var r=this;return(0,F.A)(function*(){const o=r.emulationStateService.currentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield r.modalController.create({component:j2,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,F.A)(function*(){i!==o.speed&&r.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(r.canvasDisplayService.initialize(void 0,o),r.canvasDisplayService.updateEmulationCanvas()),yield r.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield r.popoverController.dismiss(),yield a.present()})()}rotate(){var r=this;return(0,F.A)(function*(){const o=r.emulationStateService.currentSession();if(!o)return;yield r.storageService.updateSessionPartial(o.id,{deviceOrientation:Jre(o.deviceOrientation)});const i=r.emulationStateService.currentSession();yield r.canvasDisplayService.initialize(void 0,i),r.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var r=this;return(0,F.A)(function*(){if(r.popoverController.dismiss(),void 0===r.emulationStateService.currentSession()?.device)return;const i=yield r.cloudpilotService.cloudpilot,s=r.storageCardService.cards().filter(l=>i.deviceSupportsCardSize(l.size)&&!r.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield r.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>r.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():r.alertService.message("No image available",`There is no ${r.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var r=this;return(0,F.A)(function*(){try{yield r.storageCardService.ejectCurrentCard()}catch(o){r.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}r.popoverController.dismiss()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(el),y(ac),y(Tre),y(X2),y(Ch),y(oc),y(Aw),y($i),y(Os),y(Zc),y(oL),y(py),y(Ja),y(_f),y(mr),y(R0),y(zn),y(Vu))},this.\u0275cmp=Qe({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},standalone:!1,decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"],["lines","full","button","",3,"click","detail","disabled"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list"),en(1,Hre,4,2,"ion-item",0)(2,Gre,4,2,"ion-item",0)(3,zre,4,2,"ion-item",0)(4,Wre,4,2,"ion-item",1)(5,qre,4,2,"ion-item",1)(6,Zre,4,1,"ion-item",1)(7,Yre,4,1,"ion-item",1)(8,Kre,4,2,"ion-item",0)(9,Xre,4,1,"ion-item",1)(10,Qre,4,1,"ion-item",1),V(11,"ion-item",2),Ge("click",function(){return i.help()}),V(12,"ion-label"),Re(13,"Help"),q(),tt(14,"ion-icon",3),q()()),2&o&&(fe(),pe("ngIf",i.hasActiveSession&&!i.powerDisabled),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("ngIf",i.supportsStorageCard&&!i.hasMountedCard),fe(),pe("ngIf",i.supportsStorageCard&&i.hasMountedCard),fe(),pe("ngIf",i.isMuted&&!i.isAudioOff),fe(),pe("ngIf",!i.isMuted&&!i.isAudioOff),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("detail",!1))},dependencies:[_o,Lo,Co,$u,ea],encapsulation:2}))}return e(),t})();class toe{constructor(t,n){this.emulationService=t,this.canvasDisplayService=n,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const d=this.canvasDisplayService.determineButton(c);d===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):d!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=d,this.handleButtonDown(d));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,n=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=n||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,n,r,o){t.addEventListener(n,r,o)}removeEventListener(t,n,r,o){t.removeEventListener(n,r,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let noe=(()=>{var e;class t extends toe{constructor(r,o,i,s,a){super(r,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(r,o,i,s){this.ngZone.runOutsideAngular(()=>r.addEventListener(o,i,s))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(el),oe(py),oe(Cw),oe(qe),oe(Is))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function sL(e){return/\.(prc|pdb|pqa)$/i.test(e)}class aoe{constructor(t,n,r,o,i){this.cloudpilotService=t,this.fstools=n,this.alertService=r,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,F.A)(function*(){for(const n of t.files){let r;try{r=yield n.getContent()}catch(o){console.warn(o),t.filesFail.push(n.name);continue}if(/\.zip/i.test(n.name)&&r.length<33554432)try{yield t.installZip(n)}catch{t.filesFail.push(n.name)}else sL(n.name)?yield t.installOne(n.name,r):t.filesFail.push(n.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,n){var r=this;return(0,F.A)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(n);switch(i){case 2:r.filesRequireReset.push(t),r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case 1:r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;default:r.filesFail.push(t),yield r.reportError(t,i)}if(2===i||1===i)try{const s=function soe(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(n);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${t} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,t)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var n=this;return(0,F.A)(function*(){const r=yield n.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===r.GetState();){const i=r.GetCurrentEntryName().replace(/^.*\//,"");if(!sL(r.GetCurrentEntryName())){r.Next();continue}const s=r.GetCurrentEntryContent();s?(yield n.installOne(i,s),o++):n.filesFail.push(i),r.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,n){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function ioe(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(n)}.`)}errorDialog(t,n){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,n,"Skip any remaining errors",!1,{},"Continue").then(r=>{this.skipErrors=r})}}let loe=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.cloudpilotService=r,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new aoe(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,r).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let d;d=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(d,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(r){switch(r.length){case 0:return;case 1:return`Installation of ${r[0]} successful.`;default:return`Installation of ${r.length} items successful.`}}messageFailed(r){return r.length>0?`Installation of  ${dw(r)} failed.`:void 0}messageRequireReset(r){return r.length>0?`${dw(r)} require a device reset.`:void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Ja),oe(el),oe(ta),oe(Nh),oe(mr),oe(ay))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),xw=(()=>{var e;class t{constructor(r,o,i){this.router=r,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=function coe(e){const t=document.querySelectorAll(e);for(let n=0;n<t.length;n++){const r=t[n].getBoundingClientRect();if(r.height>0)return r.height}return 0}("ion-header");this.useSmallUI=void 0!==a&&this.canvasArea(window.innerHeight-a-(s?56:50)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.currentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(r,o){let i,s;return r=Math.min(r,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/r>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=r,i=r/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Di),y(py),y(ac))},this.\u0275cmp=Qe({type:t,selectors:[["app-tabs"]],standalone:!1,decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(o,i){1&o&&(V(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),tt(4,"ion-icon",3),V(5,"ion-label"),Re(6,"Emulator"),q()(),V(7,"ion-tab-button",4),tt(8,"ion-icon",5),V(9,"ion-label"),Re(10,"Sessions"),q()(),V(11,"ion-tab-button",6),tt(12,"ion-icon",7),V(13,"ion-label"),Re(14,"Cards"),q()(),V(15,"ion-tab-button",8),tt(16,"ion-icon",9),V(17,"ion-label"),Re(18,"Settings"),q()(),V(19,"ion-tab-button",10),tt(20,"ion-icon",11),V(21,"ion-label"),Re(22,"About"),q()()()()()),2&o&&(fe(2),Sa("small-ui",i.smallUI)("disabled",i.isLocked()))},dependencies:[Lo,$u,zv,PF,FF],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px;position:absolute;bottom:1px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}))}return e(),t})(),kw=(()=>{var e;class t{constructor(){this.onDragOver=r=>{r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=r=>{r.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(r)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(r){this.currentClient=r}unregisterClient(r){r===this.currentClient&&(this.currentClient=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const uoe=["*"];function doe(e,t){1&e&&tt(0,"div",2)}let foe=0,aL=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new mn,this.triggerId="breadcrumb-trigger-"+foe++}handleClick(r){this.disabled||(r.preventDefault(),this.trigger.emit(this.triggerId))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(o,i){1&o&&Ge("click",function(a){return i.handleClick(a)}),2&o&&(Xs("id",i.triggerId),Sa("disabled",i.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},standalone:!1,ngContentSelectors:uoe,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(o,i){1&o&&(_t(),V(0,"div",0),vt(1),q(),en(2,doe,1,0,"div",1)),2&o&&(fe(2),pe("ngIf",!i.disabled))},dependencies:[_o],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}))}return e(),t})();var lL;const poe=["canvas"];function hoe(e,t){1&e&&tt(0,"div",11),2&e&&wu("width",mt().iosPlaceholderWidth)}function goe(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),Ge("click",function(){return at(n),u(mt().navigation.lock())}),tt(1,"ion-icon",13),q()}}function moe(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),Ge("click",function(){return at(n),u(mt().navigation.unlock())}),tt(1,"ion-icon",14),q()}}function voe(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),Ge("click",function(o){return at(n),u(mt().openContextMenu(o))}),tt(1,"ion-icon",15),q()}}function yoe(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),Ge("click",function(){return at(n),u(mt().showGameModeHint())}),tt(1,"ion-icon",16),q()}}function _oe(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),Ge("click",function(){return at(n),u(mt().showProxyConnectedHint())}),tt(1,"ion-icon",17),q()}}function boe(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),Ge("click",function(){return at(n),u(mt().showSlowdowndHint())}),tt(1,"ion-icon",18),q()}}function Coe(e,t){if(1&e){const n=Mn();V(0,"ion-button",12),Ge("click",function(o){return at(n),u(mt().openContextMenu(o))}),tt(1,"ion-icon",15),q()}}function Soe(e,t){if(1&e){const n=Mn();V(0,"div",19),Re(1," The device was reset forcefully. How do you want to boot? "),V(2,"ion-button",20),Ge("click",function(){return at(n),u(mt().bootAfterForcefulReset())}),Re(3,"Normal boot"),q(),V(4,"ion-button",20),Ge("click",function(){return at(n),u(mt().bootAfterForcefulResetNoExtensions())}),Re(5,"No extensions"),q(),V(6,"ion-button",20),Ge("click",function(){return at(n),u(mt().bootAfterForcefulResetHardReset())}),Re(7,"Hard reset"),q()()}}function woe(e,t){1&e&&(V(0,"div",19)(1,"div"),Re(2,"No session selected"),q()())}class oa{constructor(t,n,r,o,i,s,a,l,c,d,h,v,C,M,U,de,ge,ke,It,Ht,Gt){var $t=this;this.emulationService=t,this.emulationState=n,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=d,this.snapshotService=h,this.installlationService=v,this.networkService=C,this.navigation=M,this.linkApi=U,this.performanceWatchdogService=de,this.cloudpilotService=ge,this.dragDropService=ke,this.sessionService=It,this.loadingController=Ht,this.config=Gt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,F.A)(function*(){yield $t.emulationService.bootstrapComplete(),$t.bootstrapComplete=!0;const Kn=$t.emulationState.currentSession();Kn&&!Kn.wasResetForcefully&&(yield $t.launchEmulator()),$t.linkApi.installation.requestEvent.addHandler($t.handleLinkApiInstallationRequest),$t.handleLinkApiInstallationRequest(),$t.dragDropService.registerClient($t)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Kn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Kn,this.emulationService.getStatistics())},this.onNewFrame=Kn=>{this.canvasDisplayService.updateEmulationCanvas(Kn)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Kn=this.linkApi.installation.receivePendingUrl();Kn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.currentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Kn} ?`,{OK:()=>this.fileService.openUrl(Kn,nl=>this.installlationService.installFiles([nl]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Kn} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new Ma}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t){var n=this;return(0,F.A)(function*(r,o="trigger"){(yield n.popoverController.create({component:eoe,event:r,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:o})).present()}).apply(this,arguments)}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Hu,componentProps:{url:fne}})).present()})()}showGameModeHint(){var t=this;return(0,F.A)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,F.A)(function*(){"native"===t.kvsService.kvs.networkRedirectionMode?yield t.alertService.message("Network session","PalmOS has opened a network session."):yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,F.A)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,F.A)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,F.A)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,F.A)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.networkService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.currentSession()&&!this.emulationState.currentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var n=this;return(0,F.A)(function*(){(yield n.popoverController.create({component:gne,componentProps:{sessions:n.sessionService.sessions().filter(o=>o.id!==n.emulationState.currentSession()?.id),onSelect:o=>n.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.sessions()}clearForcefulReset(){var t=this;return(0,F.A)(function*(){const n=t.emulationState.currentSession();n&&(yield t.storageService.updateSessionPartial(n.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.currentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,F.A)(function*(){const n=t.emulationState.currentSession();n&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,n).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var n=this;return(0,F.A)(function*(){const r=yield n.loadingController.create();yield r.present();try{if(n.lastTitle=n.title,n.switching=!0,yield n.emulationService.pause(),!(yield n.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield n.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield n.launchEmulator())}finally{r.dismiss(),n.switching=!1}})()}static#e=lL=()=>(this.\u0275fac=function(n){return new(n||oa)(y(el),y(ac),y(zn),y(noe),y(py),y($i),y(oc),y(Os),y(mr),y(qc),y(Nh),y(loe),y(K2),y(xw),y(aS),y(oL),y(Ja),y(kw),y(Zc),y(ta),y(dh))},this.\u0275cmp=Qe({type:oa,selectors:[["app-emulation"]],viewQuery:function(n,r){if(1&n&&Hl(poe,5),2&n){let o;Ki(o=Xi())&&(r.canvasRef=o.first)}},standalone:!1,decls:23,vars:23,consts:[["canvas",""],[3,"trigger","disabled"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"click","disabled"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(n,r){if(1&n){const o=Mn();V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",1),Ge("trigger",function(s){return at(o),u(r.onBreadcrumbTrigger(s))}),en(4,hoe,1,2,"div",2),Re(5),q()(),V(6,"ion-buttons",3)(7,"ion-button",4),Ge("click",function(){return at(o),u(r.installFiles())}),tt(8,"ion-icon",5),q(),en(9,goe,2,0,"ion-button",6)(10,moe,2,0,"ion-button",6),q(),V(11,"ion-buttons",7),en(12,voe,2,0,"ion-button",6)(13,yoe,2,0,"ion-button",6)(14,_oe,2,0,"ion-button",6)(15,boe,2,0,"ion-button",6)(16,Coe,2,0,"ion-button",6),q()()(),V(17,"ion-content",8),Ge("contextmenu",function(s){return at(o),u(r.onContextMenu(s))}),V(18,"div",9),Ge("touchstart",function(s){return at(o),u(r.cancelIfEmulationActive(s))})("touchmove",function(s){return at(o),u(r.cancelIfEmulationActive(s))}),tt(19,"canvas",null,0),q(),en(21,Soe,8,0,"div",10)(22,woe,3,0,"div",10),q()}if(2&n){let o,i;fe(3),pe("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.emulationState.currentSession()||0===r.sessions.length),fe(),pe("ngIf","ios"===r.config.get("mode")),fe(),wi(" ",r.title),fe(2),pe("disabled",r.installFileDisabled),fe(2),pe("ngIf",!r.navigation.isLocked()),fe(),pe("ngIf",r.navigation.isLocked()),fe(2),pe("ngIf","ios"===r.config.get("mode")),fe(),pe("ngIf",r.eventHandlingService.isGameMode()),fe(),pe("ngIf",r.networkService.isConnected()),fe(),pe("ngIf",r.performanceWatchdogService.isSlowdownDetected()),fe(),pe("ngIf","ios"!==r.config.get("mode")),fe(),Sa("locked",r.navigation.isLocked()),fe(),wu("display",!r.emulationState.currentSession()||null!=(o=r.emulationState.currentSession())&&o.wasResetForcefully?"none":void 0),fe(),wu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.currentSession()?"block":"none"),fe(2),pe("ngIf",null!=(i=r.emulationState.currentSession())&&i.wasResetForcefully?"none":void 0),fe(),pe("ngIf",!r.emulationState.currentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[_o,es,ts,ns,rs,Lo,os,is,aL],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{cursor:default;text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc,#eee)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}))}lL(),re([Un()],oa.prototype,"openContextMenu",null),re([Un()],oa.prototype,"showHelp",null),re([Un()],oa.prototype,"showGameModeHint",null),re([Un()],oa.prototype,"showProxyConnectedHint",null),re([Un()],oa.prototype,"showSlowdowndHint",null),re([Un()],oa.prototype,"bootAfterForcefulReset",null),re([Un()],oa.prototype,"bootAfterForcefulResetNoExtensions",null),re([Un()],oa.prototype,"bootAfterForcefulResetHardReset",null),re([Un()],oa.prototype,"onBreadcrumbTrigger",null);const Eoe=_.p+"assets/doc/sessions-868d7e6c0550348b.md";let Doe=(()=>{var e;class t{constructor(){this.sessionCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),Ge("click",function(){return null==i.onExport?null:i.onExport()}),tt(2,"ion-icon",1),Re(3," Export "),q(),V(4,"ion-item",0),Ge("click",function(){return null==i.onDelete?null:i.onDelete()}),tt(5,"ion-icon",2),Re(6," Delete "),q(),V(7,"ion-item",3),Ge("click",function(){return null==i.onHelp?null:i.onHelp()}),tt(8,"ion-icon",4),Re(9," Help "),q()()),2&o&&(fe(),pe("detail",!1)("disabled",0===i.sessionCount),fe(3),pe("detail",!1)("disabled",0===i.sessionCount),fe(3),pe("detail",!1))},dependencies:[Lo,Co,ea],encapsulation:2}))}return e(),t})(),Toe=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),Ge("click",function(){return i.onEdit()}),tt(2,"ion-icon",1),Re(3," Edit "),q(),V(4,"ion-item",0),Ge("click",function(){return i.onSave()}),tt(5,"ion-icon",2),Re(6," Export "),q(),V(7,"ion-item",0),Ge("click",function(){return i.onReset()}),tt(8,"ion-icon",3),Re(9," Reset "),q(),V(10,"ion-item",4),Ge("click",function(){return i.onDelete()}),tt(11,"ion-icon",5),Re(12," Delete "),q()()),2&o&&(fe(),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1))},dependencies:[Lo,Co,ea],encapsulation:2}))}return e(),t})();const Aoe=["slidingItem"];function Moe(e,t){if(1&e&&(V(0,"span"),Re(1),q()),2&e){const n=mt();fe(),wi(", OS ",n.decodeVersion(null==n.session?null:n.session.osVersion))}}function xoe(e,t){1&e&&tt(0,"ion-icon",16)}function koe(e,t){1&e&&tt(0,"ion-icon",17)}let Roe=(()=>{var e;class t{constructor(r){this.popoverController=r,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new mn,this.resetSession=new mn,this.edit=new mn,this.save=new mn,this.selectItem=new mn,this.interaction=new mn}get device(){return this.session?R2(this.session.device):""}onContextmenu(r){var o=this;return(0,F.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Toe,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(r){if(void 0===r)return"";const o=function Ioe(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(r);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(oc))},this.\u0275cmp=Qe({type:t,selectors:[["app-session-item"]],viewQuery:function(o,i){if(1&o&&Hl(Aoe,5),2&o){let s;Ki(s=Xi())&&(i.slidingItem=s.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},standalone:!1,decls:21,vars:12,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Mn();V(0,"ion-item-sliding",1,0),Ge("contextmenu",function(l){return at(s),u(i.onContextmenu(l))})("ionDrag",function(){return at(s),u(i.interaction.emit())}),V(2,"ion-item-options",2)(3,"ion-item-option",3),Ge("click",function(){return at(s),Qs(1).close(),u(i.edit.emit(i.session))}),tt(4,"ion-icon",4),q(),V(5,"ion-item-option",5),Ge("click",function(){return at(s),Qs(1).close(),u(i.save.emit(i.session))}),tt(6,"ion-icon",6),q()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),Ge("click",function(){return at(s),Qs(1).close(),u(i.resetSession.emit(i.session))}),tt(9,"ion-icon",9),q(),V(10,"ion-item-option",10),Ge("click",function(){return at(s),Qs(1).close(),u(i.delete.emit(i.session))}),tt(11,"ion-icon",11),q()(),V(12,"ion-item",12),Ge("click",function(){return at(s),u(i.selectItem.emit())}),V(13,"ion-label")(14,"h2"),Re(15),q(),V(16,"p"),Re(17),en(18,Moe,2,1,"span",13),q()(),en(19,xoe,1,0,"ion-icon",14)(20,koe,1,0,"ion-icon",15),q()()}2&o&&(pe("disabled",i.selecting),fe(12),pe("color",i.color),fe(),Sa("in-item-color",i.selected)("selecting",i.selecting),fe(2),As(null==i.session?null:i.session.name),fe(2),Ip(" ",i.device,", ",null==i.session?null:i.session.ram,"MB RAM"),fe(),pe("ngIf",null==i.session?null:i.session.osVersion),fe(),pe("ngIf",i.selecting&&!i.selectedForExport),fe(),pe("ngIf",i.selecting&&i.selectedForExport))},dependencies:[_o,Lo,Co,Uv,Hv,Gv,$u],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var cL;function Noe(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar")(1,"ion-title"),Re(2,"Sessions"),q(),V(3,"ion-buttons",7)(4,"ion-button",8),Ge("click",function(){return at(n),u(mt().importSession())}),tt(5,"ion-icon",9),q()(),V(6,"ion-buttons",10)(7,"ion-button",8),Ge("click",function(o){return at(n),u(mt().openActionMenu(o))}),tt(8,"ion-icon",11),q(),tt(9,"app-pwa-prompt"),q()()}}function Ooe(e,t){1&e&&(V(0,"ion-title"),Re(1,"Export"),q())}function Poe(e,t){1&e&&(V(0,"ion-title"),Re(1,"Delete"),q())}function Foe(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",10)(1,"ion-button",8),Ge("click",function(){return at(n),u(mt(2).onSelectAll())}),Re(2,"Select all"),q()()}}function Loe(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",10)(1,"ion-button",8),Ge("click",function(){return at(n),u(mt(2).selection.clear())}),Re(2,"Clear"),q()()}}function $oe(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar"),en(1,Ooe,2,0,"ion-title",1)(2,Poe,2,0,"ion-title",1),V(3,"ion-buttons",7)(4,"ion-button",8),Ge("click",function(){return at(n),u(mt().onSelectionDone())}),Re(5),q()(),en(6,Foe,3,0,"ion-buttons",12)(7,Loe,3,0,"ion-buttons",12),q()}if(2&e){const n=mt();fe(),pe("ngIf","select-for-export"===n.mode),fe(),pe("ngIf","select-for-delete"===n.mode),fe(3),As(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),fe(),pe("ngIf",n.selection.size!==n.sessionCount),fe(),pe("ngIf",n.selection.size===n.sessionCount)}}function Boe(e,t){1&e&&(V(0,"ion-title",13),Re(1,"Sessions"),q())}function joe(e,t){1&e&&(V(0,"ion-title",13),Re(1,"Select for export"),q())}function Voe(e,t){1&e&&(V(0,"ion-title",13),Re(1,"Select for delete"),q())}function Uoe(e,t){1&e&&(V(0,"div",14),tt(1,"ion-spinner"),q())}function Hoe(e,t){1&e&&(Mc(0),tt(1,"br")(2,"br"),Re(3," You can find a collection of compatible ROMs on "),V(4,"a",17),Re(5,"PalmDB"),q(),Re(6,". "),Ul())}function Goe(e,t){if(1&e&&(V(0,"div",15)(1,"div",16),Re(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),en(3,Hoe,7,0,"ng-container",1),q()()),2&e){const n=mt();fe(3),pe("ngIf",n.showPalmdbLink)}}function zoe(e,t){if(1&e){const n=Mn();V(0,"app-session-item",19),Ge("delete",function(){const o=at(n).$implicit;return u(mt(2).deleteSession(o))})("selectItem",function(){const o=at(n).$implicit,i=mt(2);return u("manage"===i.mode?i.launchSession(o):i.toggleSelection(o))})("edit",function(){const o=at(n).$implicit;return u(mt(2).editSession(o))})("save",function(){const o=at(n).$implicit;return u(mt(2).saveSession(o))})("resetSession",function(){const o=at(n).$implicit;return u(mt(2).resetSession(o))})("interaction",function(){const o=at(n).$implicit;return u(mt(2).lastSessionTouched=o.id)}),q()}if(2&e){const n=t.$implicit,r=mt(2);pe("session",n)("selected",r.currentSessionId()===n.id)("touched",n.id===r.lastSessionTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function Woe(e,t){if(1&e&&(V(0,"ion-list"),en(1,zoe,1,5,"app-session-item",18),q()),2&e){const n=mt();fe(),pe("ngForOf",n.sessions)("ngForTrackBy",n.trackSessionBy)}}class tl{constructor(t,n,r,o,i,s,a,l,c,d,h,v,C,M){this.sessionService=t,this.fileService=n,this.alertService=r,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=d,this.dragDropService=h,this.popoverController=v,this.loadingController=C,this.cd=M,this.memoizedSessions=Rh(U=>[...U].sort((de,ge)=>de.name.localeCompare(ge.name))),this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const U=this.linkApi.import.receivePendingUrl();U&&this.alertService.message("Import request",`Do you want to import<br>${U} ?`,{OK:()=>this.fileService.openUrl(U,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.currentSessionOverride=bi(void 0),this.currentSessionId=Ms(()=>this.currentSessionOverride()??this.emulationState.currentSession()?.id)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.memoizedSessions(this.sessionService.sessions())}get sessionCount(){return this.sessionService.sessions().length}deleteSession(t){var n=this;return(0,F.A)(function*(){let r=!0;if(yield n.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{yield n.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var n=this;return(0,F.A)(function*(){const r={...t};(yield n.editSettings(t))&&!eL()(t,r)&&(yield n.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,n){return n.id}launchSession(t){var n=this;return(0,F.A)(function*(){n.lastSessionTouched=t.id,n.currentSessionOverride.set(t.id);const r=yield n.emulationService.switchSession(t.id);n.currentSessionOverride.set(void 0),r&&n.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var n=this;return(0,F.A)(function*(){const r=t.id===n.emulationState.currentSession()?.id;r&&(yield n.emulationService.stop()),yield n.storageService.deleteStateForSession(t),yield n.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),r&&(yield n.emulationService.switchSession(t.id)),yield n.alertService.message("Done",`Session ${t.name} has been reset.`)})()}showHelp(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Hu,componentProps:{url:Eoe}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,F.A)(function*(){const n=new Map(t.sessionService.sessions().map(i=>[i.id,i])),r=Array.from(t.selection).map(i=>n.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(r);break;case"select-for-export":yield t.executeMassExport(r)}})()}onSelectAll(){this.sessionService.sessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,F.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:Doe,event:r,componentProps:{sessionCount:n.sessionCount,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(fo&&ml)}executeMassExport(t){var n=this;return(0,F.A)(function*(){1===t.length&&(yield n.sessionService.saveSession(t[0])),t.length>1&&(yield n.sessionService.saveSessions(t))})()}executeMassDelete(t){var n=this;return(0,F.A)(function*(){if(1===t.length&&(yield n.deleteSession(t[0])),t.length>1){let r=!0;if(yield n.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield n.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var n=this;return(0,F.A)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void n.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let r;try{r=yield t.getContent()}catch(i){return console.warn(i),void(yield n.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield n.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield n.sessionService.addSessionsFromArchive(r)))}const o=(yield n.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:n.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield n.editSettings(i)){const s=yield n.sessionService.addSessionFromImage(o,i.name,i);n.lastSessionTouched=s.id}}else{const i=(yield n.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void n.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void n.alertService.errorMessage("No supported device for this ROM.");const s={name:n.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield n.editSettings(s,i.supportedDevices)){const a=yield n.sessionService.addSessionFromRom(r,s.name,s.device,s);n.lastSessionTouched=a.id}}})()}editSettings(t,n=[t.device]){return new Promise(r=>{let o;this.modalController.create({component:j2,backdropDismiss:!1,componentProps:{session:t,availableDevices:n,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const n=this.sessionService.sessions();return gf(t,r=>n.some(o=>o.name===r))}static#e=cL=()=>(this.\u0275fac=function(n){return new(n||tl)(y(Zc),y(qc),y(mr),y(el),y(ac),y(zn),y(Os),y(aS),y(Di),y(Ja),y(kw),y(oc),y(ta),y(ht))},this.\u0275cmp=Qe({type:tl,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectItem","edit","save","resetSession","interaction","session","selected","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(V(0,"ion-header",0),en(1,Noe,10,0,"ion-toolbar",1)(2,$oe,8,5,"ion-toolbar",1),q(),V(3,"ion-content",2),Ge("contextmenu",function(i){return r.onContextMenu(i)}),V(4,"ion-header",3)(5,"ion-toolbar"),en(6,Boe,2,0,"ion-title",4)(7,joe,2,0,"ion-title",4)(8,Voe,2,0,"ion-title",4),q()(),en(9,Uoe,2,0,"div",5)(10,Goe,4,1,"div",6)(11,Woe,2,2,"ion-list",1),q()),2&n&&(pe("translucent",!0),fe(),pe("ngIf","manage"===r.mode),fe(),pe("ngIf","manage"!==r.mode),fe(),pe("fullscreen",!0),fe(3),pe("ngIf","manage"===r.mode),fe(),pe("ngIf","select-for-export"===r.mode),fe(),pe("ngIf","select-for-delete"===r.mode),fe(),pe("ngIf",r.sessionService.loading()),fe(),pe("ngIf",!r.sessionService.loading()&&0===r.sessionCount),fe(),pe("ngIf",!r.sessionService.loading()&&r.sessionCount>0))},dependencies:[Wl,_o,es,ts,ns,rs,Lo,ea,yh,os,is,oy,Roe],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}cL(),re([Un()],tl.prototype,"deleteSession",null),re([Un()],tl.prototype,"editSession",null),re([Un()],tl.prototype,"saveSession",null),re([Un()],tl.prototype,"launchSession",null),re([Un()],tl.prototype,"resetSession",null),re([Un()],tl.prototype,"onSelectionDone",null),re([Un()],tl.prototype,"openActionMenu",null);const qoe=["nav"],Zoe=()=>({}),Yoe=e=>({selfReference:e});let Koe=(()=>{var e;class t{constructor(){this.navRoot=tl}ionViewDidLeave(){var r=this;return(0,F.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var r=this;return(0,F.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var r=this;return(0,F.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-sessions-wrapper"]],viewQuery:function(o,i){if(1&o&&Hl(qoe,5),2&o){let s;Ki(s=Xi())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:6,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&tt(0,"ion-nav",1,0),2&o&&pe("animated",!1)("root",i.navRoot)("rootParams",function Kx(e,t,n,r){return Xx(Me(),ai(),e,t,n,r)}(4,Yoe,function Yx(e,t,n){const r=ai()+e,o=Me();return o[r]===Er?gl(o,r,n?t.call(n):t()):function cp(e,t){return e[t]}(o,r)}(3,Zoe)))},dependencies:[k0],encapsulation:2}))}return e(),t})();const Xoe=_.p+"assets/doc/settings-3481d9e6fe535377.md";function Qoe(e,t){1&e&&(V(0,"ion-item",9)(1,"ion-toggle",18),Re(2,"Run when hidden"),q()())}function Joe(e,t){1&e&&(V(0,"ion-item",9)(1,"ion-toggle",19),Re(2,"Clipboard integration"),q()())}function eie(e,t){if(1&e&&(V(0,"ion-select-option",22),Re(1),q()),2&e){const n=t.$implicit;pe("value",n[0]),fe(),wi("",n[1]," ")}}function tie(e,t){if(1&e&&(V(0,"ion-item",9)(1,"ion-select",20),en(2,eie,2,2,"ion-select-option",21),q()()),2&e){const n=mt();fe(2),pe("ngForOf",n.networkRedirectionModes)}}function nie(e,t){if(1&e){const n=Mn();V(0,"ion-item",9)(1,"div",23),tt(2,"ion-input",24),V(3,"ion-button",25),Ge("click",function(o){at(n);const i=mt();return o.preventDefault(),o.stopPropagation(),u(i.testProxyConnection())})("touchstart",function(o){at(n);const i=mt();return o.preventDefault(),o.stopPropagation(),u(i.testProxyConnection())}),Re(4," Test "),q()()()}if(2&e){const n=mt();fe(3),pe("disabled",!n.proxyServerValid)}}function rie(e,t){1&e&&(V(0,"ion-item",9)(1,"ion-toggle",26),Re(2,"Fixed font size"),q()())}function oie(e,t){if(1&e&&(V(0,"ion-item",9)(1,"ion-select",27)(2,"ion-select-option",22),Re(3,"Off"),q(),V(4,"ion-select-option",22),Re(5,"Portrait"),q(),V(6,"ion-select-option",22),Re(7,"Landscape"),q(),V(8,"ion-select-option",22),Re(9,"Always"),q()()()),2&e){const n=mt();fe(2),pe("value",n.indicatorFixNone),fe(2),pe("value",n.indicatorFixPortrait),fe(2),pe("value",n.indicatorFixLandscape),fe(2),pe("value",n.indicatorFixAll)}}function iie(e,t){1&e&&(Mc(0),V(1,"h1"),Re(2,"Debug"),q(),V(3,"ion-item",9)(4,"ion-toggle",28),Re(5,"Snapshot validation (slow)"),q()(),Ul())}let sie=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.modalController=r,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.networkBackendFactory=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,fo&&ml?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.networkRedirectionModes=[["native","Native"],["proxy","Proxy"]],this.onIndicatorFixModeChange=c=>gN(c),this.onFixedFontSizeChange=c=>function z9(e){Hd()&&(iS(lN,e?"1":"0"),uN())}(!c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var r=this;return(0,F.A)(function*(){yield(yield r.modalController.create({component:Hu,componentProps:{url:Xoe}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var r=this;return(0,F.A)(function*(){r.formGroup.get("networkRedirection")?.value&&"proxy"===r.formGroup.get("networkRedirectionMode")?.value&&!r.formGroup.get("proxyServer")?.valid&&(r.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),r.formGroup.get("networkRedirection").setValue(!1)),r.formGroup.get("networkRedirection")?.value||r.formGroup.get("proxyServer")?.setValue(r.kvsService.kvs.proxyServer),yield r.kvsService.set({volume:r.formGroup.get("volume").value,showStatistics:r.formGroup.get("showStatistics").value,clipboardIntegration:r.formGroup.get("clipboardIntegration")?.value,networkRedirection:r.formGroup.get("networkRedirection")?.value,networkRedirectionMode:r.featureService.nativeNetworkIntegration?r.formGroup.get("networkRedirectionMode")?.value??"proxy":"proxy",proxyServer:r.formGroup.get("proxyServer")?.value,runHidden:r.formGroup.get("runHidden")?.value,autoLockUI:r.formGroup.get("autoLockUI")?.value,enableRemoteInstall:r.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:r.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:r.formGroup.get("snapshotIntegrityCheck")?.value}),r.mutexReleasePromise&&(yield r.mutexReleasePromise)()})()}testProxyConnection(){var r=this;return(0,F.A)(function*(){if(!r.connectionTestInProgress){r.connectionTestInProgress=!0;try{switch((yield r.networkBackendFactory.createBackendProxy(r.formGroup.get("proxyServer")?.value).handshake(0)).status){case"failed":r.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":r.alertService.proxyVersionMismatchError();break;default:r.alertService.message("Success","Connection to proxy successful.")}}finally{r.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value&&"native"!==this.formGroup.get("networkRedirectionMode")?.value}get showRedirectionMode(){return this.formGroup.get("networkRedirection")?.value&&this.featureService.nativeNetworkIntegration}get proxyServerValid(){const r=this.formGroup.get("proxyServer");return!(!r?.value||!r?.valid)}get showDebugOptions(){return true}get isIndicatorFixApplicable(){return sS()}get dynmicFontsSupprted(){return Hd()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new xv({volume:new bo(this.kvsService.kvs.volume),showStatistics:new bo(this.kvsService.kvs.showStatistics),runHidden:new bo(this.kvsService.kvs.runHidden),clipboardIntegration:new bo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new bo(this.kvsService.kvs.networkRedirection),networkRedirectionMode:new bo(this.kvsService.kvs.networkRedirectionMode),proxyServer:new bo(this.kvsService.kvs.proxyServer,{validators:[hre]}),autoLockUI:new bo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new bo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new bo(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new bo(this.kvsService.kvs.snapshotIntegrityCheck),indicatorFixMode:new bo(hN()),fixedFontSize:new bo(!cN())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange),this.formGroup.get("fixedFontSize")?.valueChanges.subscribe(this.onFixedFontSizeChange)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Os),y($i),y(Sw),y(mr),y(Y2),y(Iw))},this.\u0275cmp=Qe({type:t,selectors:[["app-settings"]],standalone:!1,decls:45,vars:10,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["label","Volume","labelPlacement","fixed","min","0","max","1","step","0.1","formControlName","volume"],["labelPlacement","fixed","formControlName","audioOnStart"],["lines","none",4,"ngIf"],["labelPlacement","fixed","formControlName","networkRedirection"],["labelPlacement","fixed","formControlName","autoLockUI"],["labelPlacement","fixed","formControlName","showStatistics"],["labelPlacement","fixed","formControlName","enableRemoteInstall"],[4,"ngIf"],["labelPlacement","fixed","formControlName","runHidden"],["labelPlacement","fixed","formControlName","clipboardIntegration"],["formControlName","networkRedirectionMode","label","Redirection method",1,"redirection-mode-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"server-container"],["label","Proxy server","labelPlacement","stacked","placeholder","Proxy server host or URL","formControlName","proxyServer"],[1,"test-proxy-button",3,"click","touchstart","disabled"],["labelPlacement","fixed","formControlName","fixedFontSize"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],["labelPlacement","fixed","formControlName","snapshotIntegrityCheck"]],template:function(o,i){1&o&&(V(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Re(3,"Settings"),q(),V(4,"ion-buttons",1)(5,"ion-button",2),Ge("click",function(){return i.showHelp()}),tt(6,"ion-icon",3),q(),tt(7,"app-pwa-prompt"),q()()(),V(8,"ion-content",4)(9,"ion-header",5)(10,"ion-toolbar")(11,"ion-title",6),Re(12,"Settings"),q()()(),V(13,"div",7)(14,"form",8)(15,"h1"),Re(16,"Emulation"),q(),V(17,"ion-item",9),tt(18,"ion-range",10),q(),V(19,"ion-item",9)(20,"ion-toggle",11),Re(21,"Enable audio on start"),q()(),en(22,Qoe,3,0,"ion-item",12),V(23,"h1"),Re(24,"Host integration"),q(),en(25,Joe,3,0,"ion-item",12),V(26,"ion-item",9)(27,"ion-toggle",13),Re(28,"Network redirection"),q()(),en(29,tie,3,1,"ion-item",12)(30,nie,5,1,"ion-item",12),V(31,"h1"),Re(32,"User interface"),q(),V(33,"ion-item",9)(34,"ion-toggle",14),Re(35,"Auto-lock UI"),q()(),en(36,rie,3,0,"ion-item",12),V(37,"ion-item",9)(38,"ion-toggle",15),Re(39,"Show statistics"),q()(),V(40,"ion-item",9)(41,"ion-toggle",16),Re(42,"Open from remote sources"),q()(),en(43,oie,10,4,"ion-item",12)(44,iie,6,0,"ng-container",17),q()()()),2&o&&(pe("translucent",!0),fe(8),pe("fullscreen",!0),fe(6),pe("formGroup",i.formGroup),fe(8),pe("ngIf",i.featureRunHidden),fe(3),pe("ngIf",i.clipboardService.isSupported()),fe(4),pe("ngIf",i.showRedirectionMode),fe(),pe("ngIf",i.showProxyServer),fe(6),pe("ngIf",i.dynmicFontsSupprted),fe(7),pe("ngIf",i.isIndicatorFixApplicable),fe(),pe("ngIf",i.showDebugOptions))},dependencies:[Wl,_o,tc,Jl,ec,es,ts,ns,rs,Lo,rc,Co,x0,mh,vh,os,_h,is,df,M0,gh,nc,oy,Aa,bl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:2em}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}.test-proxy-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end;margin-right:12px}"]}))}return e(),t})();const aie=_.p+"assets/doc/cards-75195154c07dfe52.md";let Rw=(()=>{var e;class t{transform(r){return void 0!==r?`${Math.round(r/1024/1024)} MB`:""}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=li({name:"cardSize",type:t,pure:!0,standalone:!1}))}return e(),t})();function lie(e,t){1&e&&(V(0,"div",12)(1,"b"),Re(2,"WARNING:"),q(),Re(3," This image cannot be used as a memory stick image. "),q())}let uL=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Vc({name:new Ns("",{nonNullable:!0,validators:[oh.required,this.validateNameUnique]}),size:new Ns({value:"dummy",disabled:!0}),checkAutomatically:new Ns(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(_f))},this.\u0275cmp=Qe({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},standalone:!1,decls:23,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],["value","dummy"],["labelPlacement","fixed","formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3),q(),V(4,"ion-buttons",0)(5,"ion-button",1),Ge("click",function(){return i.save()}),Re(6,"Save"),q()(),V(7,"ion-buttons",2)(8,"ion-button",3),Ge("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),V(10,"ion-content",4)(11,"form",5),Ge("keydown.enter",function(){return i.onEnter()}),V(12,"ion-item",6),tt(13,"ion-input",7),q(),V(14,"ion-item",6)(15,"ion-select",8)(16,"ion-select-option",9),Re(17),xc(18,"cardSize"),q()()(),V(19,"ion-item",6)(20,"ion-toggle",10),Re(21,"Check for errors automatically"),q()()(),en(22,lie,4,0,"div",11),q()),2&o&&(fe(3),As(i.newCard?"New memory card":"Edit memory card"),fe(2),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup),fe(6),wi("",kc(18,5,null==i.card?null:i.card.size)," "),fe(5),pe("ngIf",!i.memoryStickSupported))},dependencies:[_o,es,ts,ns,rs,rc,Co,mh,vh,os,_h,is,df,gh,nc,tc,Jl,ec,Aa,bl,Rw],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}))}return e(),t})(),cie=(()=>{var e;class t{constructor(){this.cardCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),Ge("click",function(){return null==i.onExport?null:i.onExport()}),tt(2,"ion-icon",1),Re(3," Export "),q(),V(4,"ion-item",0),Ge("click",function(){return null==i.onDelete?null:i.onDelete()}),tt(5,"ion-icon",2),Re(6," Delete "),q(),V(7,"ion-item",3),Ge("click",function(){return null==i.onHelp?null:i.onHelp()}),tt(8,"ion-icon",4),Re(9," Help "),q()()),2&o&&(fe(),pe("detail",!1)("disabled",0===i.cardCount),fe(3),pe("detail",!1)("disabled",0===i.cardCount),fe(3),pe("detail",!1))},dependencies:[Lo,Co,ea],encapsulation:2}))}return e(),t})();function uie(e,t){if(1&e&&(V(0,"ion-select-option",11),Re(1),xc(2,"cardSize"),q()),2&e){const n=t.$implicit,r=mt();pe("value",n),fe(),wi("",kc(2,2,r.sizeBytes(n))," ")}}const die=[$o.mb4,$o.mb8,$o.mb16,$o.mb32,$o.mb64,$o.mb128];let fie=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Vc({name:new Ns("",{nonNullable:!0,validators:[oh.required,this.validateNameUnique]}),size:new Ns($o.mb32,{nonNullable:!0}),checkAutomatically:new Ns(!0,{nonNullable:!0})})}get sizes(){return die}sizeBytes(r){return function Dre(e){switch(e){case $o.mb4:return 4046848;case $o.mb8:return 8110080;case $o.mb16:return 16220160;case $o.mb32:return 32473088;case $o.mb64:return 64978944;case $o.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(r)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(_f))},this.\u0275cmp=Qe({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},standalone:!1,decls:20,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["labelPlacement","fixed","formControlName","checkAutomatically"],[3,"value"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"New memory card"),q(),V(4,"ion-buttons",0)(5,"ion-button",1),Ge("click",function(){return i.create()}),Re(6,"Create"),q()(),V(7,"ion-buttons",2)(8,"ion-button",3),Ge("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),V(10,"ion-content",4)(11,"form",5),Ge("keydown.enter",function(){return i.onEnter()}),V(12,"ion-item",6),tt(13,"ion-input",7),q(),V(14,"ion-item",6)(15,"ion-select",8),en(16,uie,3,4,"ion-select-option",9),q()(),V(17,"ion-item",6)(18,"ion-toggle",10),Re(19,"Check for errors automatically"),q()()()()),2&o&&(fe(5),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup),fe(5),pe("ngForOf",i.sizes))},dependencies:[Wl,es,ts,ns,rs,rc,Co,mh,vh,os,_h,is,df,gh,nc,tc,Jl,ec,Aa,bl,Rw],encapsulation:2}))}return e(),t})(),pie=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),Ge("click",function(){return i.onEdit()}),tt(2,"ion-icon",1),Re(3," Edit "),q(),V(4,"ion-item",0),Ge("click",function(){return i.onSave()}),tt(5,"ion-icon",2),Re(6," Export "),q(),V(7,"ion-item",0),Ge("click",function(){return i.onCheck()}),tt(8,"ion-icon",3),Re(9," Check "),q(),V(10,"ion-item",4),Ge("click",function(){return i.onDelete()}),tt(11,"ion-icon",5),Re(12," Delete "),q()()),2&o&&(fe(),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1))},dependencies:[Lo,Co,ea],encapsulation:2}))}return e(),t})();function hie(e,t){1&e&&tt(0,"ion-icon",15)}function gie(e,t){1&e&&tt(0,"ion-icon",16)}let mie=(()=>{var e;class t{constructor(r,o,i){this.storageCardService=r,this.popoverController=o,this.sessionService=i,this.touched=!1,this.interaction=new mn,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new mn,this.edit=new mn,this.check=new mn,this.delete=new mn,this.save=new mn}onContextmenu(r){var o=this;return(0,F.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:pie,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";this.sessionService.sessions();const r=this.storageCardService.mountedInSession(this.card?.id);if(r)return`attached to '${r.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case vr.dirty:return"needs check";case vr.clean:return"no errors";case vr.unformatted:return"no filesystem";case vr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(_f),y(oc),y(Zc))},this.\u0275cmp=Qe({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},standalone:!1,decls:21,vars:10,consts:[["slidingItem",""],[3,"contextmenu","ionDrag"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Mn();V(0,"ion-item-sliding",1,0),Ge("contextmenu",function(l){return at(s),u(i.onContextmenu(l))})("ionDrag",function(){return at(s),u(i.interaction.emit(i.card))}),V(2,"ion-item-options",2)(3,"ion-item-option",3),Ge("click",function(){return at(s),Qs(1).close(),u(i.edit.emit(i.card))}),tt(4,"ion-icon",4),q(),V(5,"ion-item-option",5),Ge("click",function(){return at(s),Qs(1).close(),u(i.save.emit(i.card))}),tt(6,"ion-icon",6),q()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),Ge("click",function(){return at(s),Qs(1).close(),u(i.check.emit(i.card))}),tt(9,"ion-icon",9),q(),V(10,"ion-item-option",10),Ge("click",function(){return at(s),Qs(1).close(),u(i.delete.emit(i.card))}),tt(11,"ion-icon",11),q()(),V(12,"ion-item",12),Ge("click",function(){return at(s),i.selectCard.emit(),u(i.interaction.emit())}),V(13,"ion-label")(14,"h2"),Re(15),q(),V(16,"p"),Re(17),xc(18,"cardSize"),q()(),en(19,hie,1,0,"ion-icon",13)(20,gie,1,0,"ion-icon",14),q()()}2&o&&(fe(12),pe("color",i.color),fe(),Sa("selecting",i.selecting),fe(2),As(null==i.card?null:i.card.name),fe(2),Ip("",kc(18,8,null==i.card?null:i.card.size),", ",i.status),fe(2),pe("ngIf",i.selecting&&!i.selectedForExport),fe(),pe("ngIf",i.selecting&&i.selectedForExport))},dependencies:[_o,Lo,Co,Uv,Hv,Gv,$u,Rw],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var dL;function vie(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar")(1,"ion-title"),Re(2,"Memory cards"),q(),V(3,"ion-buttons",7)(4,"ion-button",8),Ge("click",function(){return at(n),u(mt().addCardImage())}),tt(5,"ion-icon",9),q()(),V(6,"ion-buttons",10)(7,"ion-button",8),Ge("click",function(o){return at(n),u(mt().openActionMenu(o))}),tt(8,"ion-icon",11),q(),tt(9,"app-pwa-prompt"),q()()}}function yie(e,t){1&e&&(V(0,"ion-title"),Re(1,"Export"),q())}function _ie(e,t){1&e&&(V(0,"ion-title"),Re(1,"Delete"),q())}function bie(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",10)(1,"ion-button",8),Ge("click",function(){return at(n),u(mt(2).onSelectAll())}),Re(2,"Select all"),q()()}}function Cie(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",10)(1,"ion-button",8),Ge("click",function(){return at(n),u(mt(2).selection.clear())}),Re(2,"Clear"),q()()}}function Sie(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar"),en(1,yie,2,0,"ion-title",1)(2,_ie,2,0,"ion-title",1),V(3,"ion-buttons",7)(4,"ion-button",8),Ge("click",function(){return at(n),u(mt().onSelectionDone())}),Re(5),q()(),en(6,bie,3,0,"ion-buttons",12)(7,Cie,3,0,"ion-buttons",12),q()}if(2&e){const n=mt();fe(),pe("ngIf","select-for-export"===n.mode),fe(),pe("ngIf","select-for-delete"===n.mode),fe(3),As(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),fe(),pe("ngIf",n.selection.size!==n.cards.length),fe(),pe("ngIf",n.selection.size===n.cards.length)}}function wie(e,t){1&e&&(V(0,"ion-title",13),Re(1,"Memory cards"),q())}function Eie(e,t){1&e&&(V(0,"ion-title",13),Re(1,"Select for export"),q())}function Die(e,t){1&e&&(V(0,"ion-title",13),Re(1,"Select for delete"),q())}function Iie(e,t){1&e&&(V(0,"div",14),tt(1,"ion-spinner"),q())}function Tie(e,t){1&e&&(V(0,"div",15)(1,"div",16),Re(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),q()())}function Aie(e,t){if(1&e){const n=Mn();V(0,"app-storage-card",18),Ge("delete",function(){const o=at(n).$implicit;return u(mt(2).deleteCard(o))})("selectCard",function(){const o=at(n).$implicit,i=mt(2);return u("manage"===i.mode?i.browseCard(o):i.toggleSelection(o))})("edit",function(){const o=at(n).$implicit;return u(mt(2).editCard(o))})("check",function(){const o=at(n).$implicit;return u(mt(2).checkCard(o))})("interaction",function(){const o=at(n).$implicit;return u(mt(2).lastCardTouched=o.id)})("save",function(){const o=at(n).$implicit;return u(mt(2).saveCard(o))}),q()}if(2&e){const n=t.$implicit,r=mt(2);pe("card",n)("touched",n.id===r.lastCardTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function Mie(e,t){if(1&e&&(V(0,"ion-list"),en(1,Aie,1,4,"app-storage-card",17),q()),2&e){const n=mt();fe(),pe("ngForOf",n.cards)("ngForTrackBy",n.trackCardBy)}}class xa{constructor(t,n,r,o,i,s,a,l,c,d,h){var v=this;this.actionSheetController=t,this.storageCardService=n,this.modalController=r,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=d,this.cd=h,this.handleCardImport=function(){var C=(0,F.A)(function*(M){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(M.name))return void v.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(M.name.endsWith(".zip")){let It=!1;return yield v.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>It=!0},"Cancel"),void(It&&(yield v.storageCardService.addAllCardsFromArchive(yield M.getContent())))}const U=yield v.cloudpilotService.cloudpilot;let de;try{de=yield M.getContent()}catch(It){return console.warn(It),void(yield v.alertService.errorMessage(`Unable to open ${M.name}".`))}if(/\.gz$/.test(M.name)){const It=yield v.loadingController.create({message:"Unpacking..."});yield It.present();try{de=yield v.fstools.gunzip(de)}finally{yield It.dismiss()}}const ge=de?U.getCardSupportLevel(de.length):0;if(void 0===de||0===ge)return void v.alertService.errorMessage("This is not a supported card image.");const ke=yield new Promise(function(){var It=(0,F.A)(function*(Ht){const Gt=yield v.modalController.create({component:uL,backdropDismiss:!1,componentProps:{card:{name:v.disambiguateName(M.name.replace(/\.gz$/,"")),size:de.length},cardSupportLevel:ge,newCard:!0,onCancel:()=>{Gt.dismiss(),Ht(void 0)},onSave:$t=>{Ht($t),Gt.dismiss()}}});yield Gt.present()});return function(Ht){return It.apply(this,arguments)}}());ke&&(yield v.storageCardService.createCardFromImage(ke.name,de,!!ke.dontFsckAutomatically))});return function(M){return C.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.cards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,F.A)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Hu,componentProps:{url:aie}})).present()})()}browseCard(t){var n=this;return(0,F.A)(function*(){(yield n.storageCardService.browseCard(t))&&n.onMountForBrowse(t)})()}editCard(t){var n=this;return(0,F.A)(function*(){const r=yield n.cloudpilotService.cloudpilot,o=yield n.modalController.create({component:uL,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:r.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,F.A)(function*(s){yield n.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var n=this;return(0,F.A)(function*(){const r=`${mf(t.name.replace(/\.img$/,""))}.img`;yield(yield n.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!0)},{text:"Export uncompressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var n=this;return(0,F.A)(function*(){let r=!0;if(yield n.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{yield n.storageCardService.deleteCard(t.id)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,n){return n.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,F.A)(function*(){const n=t.mode;switch(t.mode="manage",n){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,F.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:cie,event:r,componentProps:{cardCount:n.cards.length,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var n=this;return(0,F.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.saveCard(r));break}default:yield n.exportSelection(t)}})()}executeMassDelete(t){var n=this;return(0,F.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.deleteCard(r));break}default:{let r=!0;if(yield n.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield n.storageCardService.deleteCard(i)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var n=this;return(0,F.A)(function*(){const r=new Map(yield n.storageCardService.cards().map(i=>[i.id,i]));if(t.map(i=>r.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield n.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield n.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,F.A)(function*(){const n=yield t.modalController.create({component:fie,backdropDismiss:!1,componentProps:{onCancel:()=>n.dismiss(),onCreate:(r=(0,F.A)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield n.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield n.present()})()}disambiguateName(t){const n=this.storageCardService.cards();return gf(t,r=>n.some(o=>o.name===r))}static#e=dL=()=>(this.\u0275fac=function(n){return new(n||xa)(y(Ch),y(_f),y(Os),y(Ja),y(mr),y(Vu),y(qc),y(ta),y(ay),y(oc),y(ht))},this.\u0275cmp=Qe({type:xa,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectCard","edit","check","interaction","save","card","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(V(0,"ion-header",0),en(1,vie,10,0,"ion-toolbar",1)(2,Sie,8,5,"ion-toolbar",1),q(),V(3,"ion-content",2),Ge("contextmenu",function(i){return r.onContextMenu(i)}),V(4,"ion-header",3)(5,"ion-toolbar"),en(6,wie,2,0,"ion-title",4)(7,Eie,2,0,"ion-title",4)(8,Die,2,0,"ion-title",4),q()(),en(9,Iie,2,0,"div",5)(10,Tie,3,0,"div",6)(11,Mie,2,2,"ion-list",1),q()),2&n&&(pe("translucent",!0),fe(),pe("ngIf","manage"===r.mode),fe(),pe("ngIf","manage"!==r.mode),fe(),pe("fullscreen",!0),fe(3),pe("ngIf","manage"===r.mode),fe(),pe("ngIf","select-for-export"===r.mode),fe(),pe("ngIf","select-for-delete"===r.mode),fe(),pe("ngIf",r.storageCardService.isLoading()),fe(),pe("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),fe(),pe("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Wl,_o,es,ts,ns,rs,Lo,ea,yh,os,is,oy,mie],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}dL(),re([Un()],xa.prototype,"addCardImage",null),re([Un()],xa.prototype,"browseCard",null),re([Un()],xa.prototype,"editCard",null),re([Un()],xa.prototype,"saveCard",null),re([Un()],xa.prototype,"checkCard",null),re([Un()],xa.prototype,"deleteCard",null),re([Un()],xa.prototype,"onSelectionDone",null),re([Un()],xa.prototype,"openActionMenu",null);const xie=_.p+"assets/doc/card-browser-5a0261814255810d.md";function Rie(e,t){1&e&&tt(0,"ion-icon",8)}function Nie(e,t){1&e&&tt(0,"ion-icon",9)}function Oie(e,t){1&e&&tt(0,"ion-icon",10)}function Pie(e,t){if(1&e){const n=Mn();V(0,"ion-item",2),Ge("click",function(){const o=at(n).index;return u(mt(2).onSelect(o))}),Mc(1,3),en(2,Rie,1,0,"ion-icon",4)(3,Nie,1,0,"ion-icon",5)(4,Oie,1,0,"ion-icon",6),Ul(),V(5,"div",7),Re(6),q()()}if(2&e){const n=t.$implicit,r=t.index,o=mt(2);pe("detail",!1)("lines",r===o.entries.length-1?"none":"full"),fe(),pe("ngSwitch",o.entries.length),fe(),pe("ngSwitchCase",r+1),fe(),pe("ngSwitchCase",r+2),fe(3),As(n)}}function Fie(e,t){if(1&e&&(V(0,"ion-list"),en(1,Pie,7,6,"ion-item",1),q()),2&e){const n=mt();fe(),pe("ngForOf",n.entries)}}let Lie=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(o,i){1&o&&en(0,Fie,2,1,"ion-list",0),2&o&&pe("ngIf",i.entries)},dependencies:[Wl,_o,Hm,jR,VR,Lo,Co,ea],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}))}return e(),t})(),$ie=(()=>{var e;class t{constructor(r){this.vfsService=r,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Zu))},this.\u0275cmp=Qe({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},standalone:!1,decls:19,vars:8,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),Ge("click",function(){return i.onStartSelection()}),tt(2,"ion-icon",1),Re(3," Start selection "),q(),V(4,"ion-item",2),Ge("click",function(){return i.onAddFiles()}),tt(5,"ion-icon",3),Re(6," Add files "),q(),V(7,"ion-item",2),Ge("click",function(){return i.onCreateDirectry()}),tt(8,"ion-icon",4),Re(9," Add directory "),q(),V(10,"ion-item",2),Ge("click",function(){return i.onExtractZipfile()}),tt(11,"ion-icon",5),Re(12," Extract zip "),q(),V(13,"ion-item",0),Ge("click",function(){return i.onPaste()}),tt(14,"ion-icon",6),Re(15," Paste "),q(),V(16,"ion-item",7),Ge("click",function(){return i.onHelp()}),tt(17,"ion-icon",8),Re(18," Help "),q()()),2&o&&(fe(),pe("detail",!1)("disabled",i.emptyDirectory),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1)("disabled",!i.vfsService.isClipboardPopulated()),fe(3),pe("detail",!1))},dependencies:[Lo,Co,ea],encapsulation:2}))}return e(),t})();var fL;class Cf{constructor(t,n){this.modalController=t,this.vfsService=n,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Vc({name:new Ns("",{nonNullable:!0,validators:[oh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new Ns(!1,{nonNullable:!0}),attrHidden:new Ns(!1,{nonNullable:!0}),attrSystem:new Ns(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,F.A)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,F.A)(function*(){yield t.save()})()}save(){var t=this;return(0,F.A)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}static#e=fL=()=>(this.\u0275fac=function(n){return new(n||Cf)(y(Os),y(Zu))},this.\u0275cmp=Qe({type:Cf,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},standalone:!1,decls:29,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["labelPlacement","stacked","formControlName","name",3,"label","placeholder"],["labelPlacement","fixed","formControlName","attrReadonly"],["name","lock-closed-outline","size","small"],["labelPlacement","fixed","formControlName","attrHidden"],["name","eye-off-outline","size","small"],["labelPlacement","fixed","formControlName","attrSystem"],["name","cog-outline","size","small"]],template:function(n,r){1&n&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3),q(),V(4,"ion-buttons",0)(5,"ion-button",1),Ge("click",function(){return r.onSaveClick()}),Re(6,"Save"),q()(),V(7,"ion-buttons",2)(8,"ion-button",3),Ge("click",function(){return r.onCancelClick()}),Re(9,"Cancel"),q()()()(),V(10,"ion-content",4)(11,"form",5),Ge("keydown.enter",function(){return r.onEnter()}),V(12,"ion-item",6),tt(13,"ion-input",7),q(),V(14,"ion-item",6)(15,"h2"),Re(16,"Attributes"),q()(),V(17,"ion-item",6)(18,"ion-checkbox",8),tt(19,"ion-icon",9),Re(20,"Readonly"),q()(),V(21,"ion-item",6)(22,"ion-checkbox",10),tt(23,"ion-icon",11),Re(24,"Hidden"),q()(),V(25,"ion-item",6)(26,"ion-checkbox",12),tt(27,"ion-icon",13),Re(28,"System"),q()()()()),2&n&&(fe(3),wi("Edit ",r.subjectName.toLowerCase()),fe(2),pe("disabled",r.formGroup.invalid),fe(6),pe("formGroup",r.formGroup),fe(2),pe("label",pC("",r.subjectName," name"))("placeholder",pC("Enter ",r.subjectName.toLowerCase()," name")))},dependencies:[es,ts,NF,ns,rs,Lo,rc,Co,os,is,df,nc,tc,Jl,ec,Aa,bl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}))}fL(),re([Un()],Cf.prototype,"onSaveClick",null),re([Un()],Cf.prototype,"onEnter",null);let Bie=(()=>{var e;class t{constructor(r,o){this.el=r,this.zone=o;const i=r.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const r=this.el.nativeElement.querySelector("input");r&&(setTimeout(()=>r.focus(),100),this.observer?.disconnect())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(nt),y(qe))},this.\u0275dir=Ut({type:t,selectors:[["","appAutofocus",""]],standalone:!1}))}return e(),t})(),jie=(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Vc({name:new Ns("",{nonNullable:!0,validators:[oh.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Zu),y(Os))},this.\u0275cmp=Qe({type:t,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},standalone:!1,decls:14,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"click","disabled"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Directory name","labelPlacement","stacked","placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(o,i){1&o&&(V(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"Create directory"),q(),V(4,"ion-buttons",0)(5,"ion-button",1),Ge("click",function(){return i.onCreateClick()}),Re(6,"Create"),q()(),V(7,"ion-buttons",2)(8,"ion-button",3),Ge("click",function(){return i.onCancelClick()}),Re(9,"Cancel"),q()()()(),V(10,"ion-content",4)(11,"form",5),Ge("keydown.enter",function(){return i.onEnter()}),V(12,"ion-item",6),tt(13,"ion-input",7),q()()()),2&o&&(fe(5),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup))},dependencies:[es,ts,ns,rs,rc,Co,os,is,nc,tc,Jl,ec,Aa,bl,Bie],encapsulation:2}))}return e(),t})(),Vie=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Qe({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},standalone:!1,decls:16,vars:5,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(V(0,"ion-list")(1,"ion-item",0),Ge("click",function(){return i.onEdit()}),tt(2,"ion-icon",1),Re(3," Edit "),q(),V(4,"ion-item",0),Ge("click",function(){return i.onSave()}),tt(5,"ion-icon",2),Re(6," Save "),q(),V(7,"ion-item",0),Ge("click",function(){return i.onCopy()}),tt(8,"ion-icon",3),Re(9," Copy "),q(),V(10,"ion-item",0),Ge("click",function(){return i.onCut()}),tt(11,"ion-icon",4),Re(12," Cut "),q(),V(13,"ion-item",5),Ge("click",function(){return i.onDelete()}),tt(14,"ion-icon",6),Re(15," Delete "),q()()),2&o&&(fe(),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1))},dependencies:[Lo,Co,ea],encapsulation:2}))}return e(),t})(),pL=(()=>{var e;class t{transform(r){return void 0===r?"":r<1024?`${r} bytes`:r<1048576?`${(r/1024).toFixed(1)} kB`:`${(r/1024/1024).toFixed(1)} MB`}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=li({name:"fileSize",type:t,pure:!0,standalone:!1}))}return e(),t})();const Uie=["slidingItem"];function Hie(e,t){1&e&&tt(0,"ion-icon",24)}function Gie(e,t){1&e&&tt(0,"ion-icon",25)}function zie(e,t){1&e&&tt(0,"ion-icon",26)}function Wie(e,t){1&e&&tt(0,"ion-icon",27)}function qie(e,t){1&e&&tt(0,"ion-icon",28)}function Zie(e,t){1&e&&tt(0,"ion-icon",29)}function Yie(e,t){1&e&&tt(0,"ion-icon",30)}function Kie(e,t){1&e&&tt(0,"ion-icon",31)}function Xie(e,t){1&e&&tt(0,"ion-icon",32)}function Qie(e,t){if(1&e&&(Mc(0),Re(1),xc(2,"fileSize"),Ul()),2&e){const n=mt();fe(),wi(" - ",kc(2,1,null==n.entry?null:n.entry.size)," ")}}let Jie=(()=>{var e;class t{constructor(r,o,i){this.actionSheetController=r,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new mn,this.selectEntry=new mn,this.editEntry=new mn,this.copyEntry=new mn,this.cutEntry=new mn,this.deleteEntry=new mn,this.saveEntry=new mn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(r){r.selecting&&r.selecting.currentValue&&!r.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(r){var o=this;return(0,F.A)(function*(){o.selecting||(r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Vie,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var r=this;return(0,F.A)(function*(){const o=r.entry?.isDirectory?"directory":"file";(yield r.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>r.copyEntry.emit(r.entry)},{text:`Cut ${o}`,handler:()=>r.cutEntry.emit(r.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let r=0;return this.entry?.attributes.readonly&&(r+=1.7),this.entry?.attributes.hidden&&(r+=1.7),this.entry?.attributes.system&&(r+=1.7),(this.markedForCopy||this.markedForCut)&&(r+=1.7),0===r?"0":(r+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,r+"em")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Ch),y(oc),y(Zu))},this.\u0275cmp=Qe({type:t,selectors:[["app-file-entry"]],viewQuery:function(o,i){if(1&o&&Hl(Uie,5),2&o){let s;Ki(s=Xi())&&(i.slidingItem=s.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},standalone:!1,features:[qi],decls:29,vars:23,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color","detail"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Mn();V(0,"ion-item-sliding",1,0),Ge("contextmenu",function(l){return at(s),u(i.onContextmenu(l))})("ionDrag",function(){return at(s),u(i.interaction.emit(i.entry))}),V(2,"ion-item-options",2)(3,"ion-item-option",3),Ge("click",function(){return at(s),Qs(1).close(),u(i.editEntry.emit(i.entry))}),tt(4,"ion-icon",4),q(),V(5,"ion-item-option",5),Ge("click",function(){return at(s),Qs(1).close(),u(i.saveEntry.emit(i.entry))}),tt(6,"ion-icon",6),q()(),V(7,"ion-item-options",7)(8,"ion-item-option",8),Ge("click",function(){return at(s),Qs(1).close(),u(i.cutOrCopyEntry())}),tt(9,"ion-icon",9),q(),V(10,"ion-item-option",10),Ge("click",function(){return at(s),Qs(1).close(),u(i.deleteEntry.emit(i.entry))}),tt(11,"ion-icon",11),q()(),V(12,"ion-item",12),Ge("click",function(){return at(s),i.selectEntry.emit(),u(i.interaction.emit())}),en(13,Hie,1,0,"ion-icon",13)(14,Gie,1,0,"ion-icon",14),V(15,"div",15),en(16,zie,1,0,"ion-icon",16)(17,Wie,1,0,"ion-icon",17)(18,qie,1,0,"ion-icon",18)(19,Zie,1,0,"ion-icon",19)(20,Yie,1,0,"ion-icon",20),q(),en(21,Kie,1,0,"ion-icon",21)(22,Xie,1,0,"ion-icon",22),V(23,"ion-label")(24,"h2"),Re(25),q(),V(26,"p"),Re(27),en(28,Qie,3,3,"ng-container",23),q()()()()}2&o&&(pe("disabled",i.selecting),fe(12),wu("opacity",i.touched?1:.99999),Sa("is-directory",null==i.entry?null:i.entry.isDirectory),pe("color",i.color)("detail",(null==i.entry?null:i.entry.isDirectory)&&!i.selecting),fe(),pe("ngIf",null==i.entry?null:i.entry.isDirectory),fe(),pe("ngIf",!(null!=i.entry&&i.entry.isDirectory)),fe(2),pe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.readonly),fe(),pe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.hidden),fe(),pe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.system),fe(),pe("ngIf",i.markedForCopy),fe(),pe("ngIf",i.markedForCut),fe(),pe("ngIf",i.selecting&&!i.selected),fe(),pe("ngIf",i.selecting&&i.selected),fe(),wu("padding-right",i.safetyMargin),Sa("selecting",i.selecting),fe(2),As(null==i.entry?null:i.entry.name),fe(2),wi(" ",null==i.entry?null:i.entry.lastModifiedLocalDate," "),fe(),pe("ngIf",!(null!=i.entry&&i.entry.isDirectory)))},dependencies:[_o,Lo,Co,Uv,Hv,Gv,$u,pL],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}))}return e(),t})();var hL;function ese(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",7),Ge("trigger",function(o){return at(n),u(mt().openBreadcrumbMenu(o))}),Re(3),q()(),V(4,"ion-buttons",8),tt(5,"ion-back-button"),q(),V(6,"ion-buttons",9)(7,"ion-button",10),Ge("click",function(o){return at(n),u(mt().openContextMenu(o,"trigger"))}),tt(8,"ion-icon",11),q()()()}if(2&e){const n=mt();fe(3),As(n.title)}}function tse(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",13)(1,"ion-button",10),Ge("click",function(){return at(n),u(mt(2).onSelectAll())}),Re(2,"Select all"),q()()}}function nse(e,t){if(1&e){const n=Mn();V(0,"ion-buttons",13)(1,"ion-button",10),Ge("click",function(){return at(n),u(mt(2).selection.clear())}),Re(2,"Clear"),q()()}}function rse(e,t){if(1&e){const n=Mn();V(0,"ion-toolbar")(1,"ion-title"),Re(2,"Selection"),q(),V(3,"ion-buttons",9)(4,"ion-button",10),Ge("click",function(){return at(n),u(mt().onSelectionDone())}),Re(5),q()(),en(6,tse,3,0,"ion-buttons",12)(7,nse,3,0,"ion-buttons",12),q()}if(2&e){const n=mt();fe(5),As(0===n.selection.size?"Cancel":"Done"),fe(),pe("ngIf",n.selection.size!==(null==n.entries?null:n.entries.length)),fe(),pe("ngIf",n.selection.size===(null==n.entries?null:n.entries.length))}}function ose(e,t){if(1&e&&(V(0,"div",14)(1,"div",15),Re(2),q()()),2&e){const n=mt();fe(2),wi("empty ",n.isRoot?"card":"directory")}}function ise(e,t){if(1&e){const n=Mn();V(0,"app-file-entry",16),Ge("selectEntry",function(){const o=at(n).$implicit;return u(mt().onSelect(o))})("editEntry",function(){const o=at(n).$implicit;return u(mt().onEditEntry(o))})("saveEntry",function(){const o=at(n).$implicit;return u(mt().onSaveEntry(o))})("copyEntry",function(){const o=at(n).$implicit;return u(mt().onCopyEntry(o))})("cutEntry",function(){const o=at(n).$implicit;return u(mt().onCutEntry(o))})("deleteEntry",function(){const o=at(n).$implicit;return u(mt().onDeleteEntry(o))})("interaction",function(){const o=at(n).$implicit;return u(mt().lastEntryTouched=o.name)}),q()}if(2&e){const n=t.$implicit,r=mt();pe("entry",n)("selecting","select"===r.mode)("selected",r.selection.has(n.name))("touched",n.name===r.lastEntryTouched)}}function sse(e,t){if(1&e&&(V(0,"p"),Re(1),xc(2,"fileSize"),xc(3,"fileSize"),q()),2&e){const n=mt(2);fe(),Ip("",kc(2,2,n.bytesFree())," free, ",kc(3,4,n.bytesTotal)," total")}}function ase(e,t){if(1&e&&(V(0,"p"),Re(1),xc(2,"fileSize"),q()),2&e){const n=mt(2);fe(),fC(" ",kc(2,3,n.bytesInFiles)," in ",n.fileCount," ",1===n.fileCount?"file":"files"," ")}}function lse(e,t){if(1&e&&(V(0,"ion-item",17)(1,"ion-label",18),en(2,sse,4,6,"p",1)(3,ase,3,5,"p",1),q()()),2&e){const n=mt();fe(2),pe("ngIf",n.isRoot),fe(),pe("ngIf",n.fileCount>0)}}const cse=[];function use(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class ia{constructor(t,n,r,o,i,s,a,l){this.vfsService=t,this.popoverController=n,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.memoizedEntries=Rh(c=>[...c].sort(use)),this.bytesInFilesMemoized=Rh(c=>c?.reduce((d,h)=>d+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=Rh(c=>c?.filter(d=>!d.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.subscriptions=[],t.change.subscribe(function kie(e,t,n){return()=>{const r=n();r!==t&&(e.markForCheck(),t=r)}}(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0))}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}handleDragDropEvent(t){this.fileService.openFromDrop(t,n=>this.vfsService.addFiles(n,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.bytesFree}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?this.memoizedEntries(this.vfsService.readdir(this.path)):cse}trackEntryBy(t,n){return n.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var n=this;return(0,F.A)(function*(){yield(yield n.modalController.create({component:Cf,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var n=this;return(0,F.A)(function*(){n.path&&(t.isDirectory?yield n.vfsService.archiveFiles([t],n.path):yield n.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var n=this;return(0,F.A)(function*(){t.isDirectory?yield n.vfsService.deleteRecursive([t]):yield n.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:jie,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:r=>t.vfsService.mkdir(`${t.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,F.A)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Hu,componentProps:{url:xie}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,F.A)(function*(){if(!t.entries)return;const n=Array.from(t.selection),r=new Map(t.entries.map(a=>[a.name,a])),o=n.every(a=>!r.get(a)?.isDirectory),i=n.every(a=>r.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,F.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.archiveFiles(n,t.path))})()}onDeleteSelection(){var t=this;return(0,F.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.deleteRecursive(n))})()}openBreadcrumbMenu(t){var n=this;return(0,F.A)(function*(){if(!n.card||!n.path)return;const r=[..."/"===n.path?[]:[...n.vfsService.splitPath(n.path).reverse().slice(1),n.card.name],"Memory cards"];(yield n.popoverController.create({component:Lie,componentProps:{entries:r,onSelect:i=>n.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,n){var r=this;return(0,F.A)(function*(){(yield r.popoverController.create({component:$ie,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:t,dismissOnSelect:!0,arrow:!1,reference:n})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(n=>[n.name,n]));return Array.from(this.selection).map(n=>t.get(n)).filter(n=>!!n)}extractZipArchive(t){var n=this;return(0,F.A)(function*(){/\.zip$/.test(t.name)?n.vfsService.unpackArchive(yield t.getContent(),n.path||"/"):yield n.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}static#e=hL=()=>(this.\u0275fac=function(n){return new(n||ia)(y(Zu),y(oc),y(dh),y(mr),y(Ch),y(Os),y(qc),y(ht))},this.\u0275cmp=Qe({type:ia,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},standalone:!1,decls:9,vars:8,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction","entry","selecting","selected","touched"],["lines","none",1,"metadata"],[1,"directory-stats"]],template:function(n,r){1&n&&(V(0,"ion-header",0),en(1,ese,9,1,"ion-toolbar",1)(2,rse,8,3,"ion-toolbar",1),q(),V(3,"ion-content",2),Ge("contextmenu",function(i){return r.onContextMenu(i)}),V(4,"div",3),en(5,ose,3,1,"div",4),V(6,"ion-list"),en(7,ise,1,4,"app-file-entry",5)(8,lse,4,2,"ion-item",6),q()()()),2&n&&(pe("translucent",!0),fe(),pe("ngIf","browse"===r.mode),fe(),pe("ngIf","select"===r.mode),fe(),pe("fullscreen",!0),fe(2),pe("ngIf",0===(null==r.entries?null:r.entries.length)),fe(2),pe("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),fe(),pe("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Wl,_o,es,ts,ns,rs,Lo,Co,$u,ea,os,is,LF,aL,Jie,pL],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}.directory-stats[_ngcontent-%COMP%]{cursor:default}"],changeDetection:0}))}hL(),re([Un()],ia.prototype,"onSaveEntry",null),re([Un()],ia.prototype,"onDeleteEntry",null),re([Un()],ia.prototype,"onCreateDirectory",null),re([Un()],ia.prototype,"onPaste",null),re([Un()],ia.prototype,"onHelp",null),re([Un()],ia.prototype,"onSelectionDone",null),re([Un()],ia.prototype,"onSaveZip",null),re([Un()],ia.prototype,"onDeleteSelection",null);const dse=["nav"],fse=[{path:"tab",component:xw,children:[{path:"emulation",component:oa},{path:"sessions",component:Koe},{path:"storage",component:(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(ia,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=xa,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var r=this;return(0,F.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(r){var o=this;return(0,F.A)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(r)})()}get animateNav(){return!V9}browseCard(r){this.currentlyBrowsingCard=r,this.nav?.push(ia,{card:r,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(r){r!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Zu),y(kw))},this.\u0275cmp=Qe({type:t,selectors:[["app-storage"]],viewQuery:function(o,i){if(1&o&&Hl(dse,5),2&o){let s;Ki(s=Xi())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:3,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&tt(0,"ion-nav",1,0),2&o&&pe("animated",i.animateNav)("root",i.navRoot)("rootParams",i.navRootProps)},dependencies:[k0],encapsulation:2}))}return e(),t})()},{path:"settings",component:sie},{path:"about",component:xh},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let pse=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({imports:[Cv.forChild(fse),Cv]}))}return e(),t})(),hse=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({imports:[Uc,ql,Lu,pse,Yte,Kte,Xte,Qte,Zte]}))}return e(),t})(),gse=(()=>{var e;class t extends TR{pushState(r,o,i,s){this.replaceState(r,o,i,s)}static#e=e=()=>(this.\u0275fac=(()=>{let r;return function(i){return(r||(r=zr(t)))(i||t)}})(),this.\u0275prov=Je({token:t,factory:t.\u0275fac}))}return e(),t})();const mse=[{path:"install",component:I2,canActivate:[T2]},{path:"import",component:I2,canActivate:[T2]},{path:"",component:xw}];let vse=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Oo({type:t}),this.\u0275inj=Fn({providers:[{provide:dl,useClass:gse}],imports:[Cv.forRoot(mse,{preloadingStrategy:NY,useHash:!0}),hse,Cv]}))}return e(),t})(),gL=(()=>{var e;class t{constructor(r,o,i,s,a){var l=this;this.kvsService=r,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,F.A)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==Gu&&(yield l.kvsService.set({version:Gu,previousVersion:c,latestVersion:Gu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Gu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=Gu})),this.mutex=new Ma,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var r=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,F.A)(function*(){yield r.emulationService.bootstrapComplete(),r.alertService.updateAvailable(()=>r.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var r=this;return(0,F.A)(function*(){if(yield r.kvsService.initialize(),r.kvsService.kvs.previousVersion===Gu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield r.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var r=this;return(0,F.A)(function*(){yield(yield r.modalController.create({component:Hu,componentProps:{url:A2,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var r=this;setTimeout((0,F.A)(function*(){yield r.serviceWorkerService.update(),r.scheduleUpdateCheck()}),9e5)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe($i),oe(el),oe(mr),oe(Os),oe(ny))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),_se=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.kvsService=r,this.alertService=o,this.emulationService=i,this.pwaService=s,this.nativeAppService=a,this.serviceWorkerService=l}start(){var r=this;return(0,F.A)(function*(){yield r.handleiOSNativeAppServiceWorkerBug();const o=r.kvsService.kvs.infoId??0;r.kvsService.kvs.infoId=yield r.showInfo(o),r.pwaService.getInstallationMode()===cc.pwa&&fo&&!ml&&(r.kvsService.kvs.ios174UpdateWarningId=yield r.showIOS174UpdateWarning(r.kvsService.kvs.ios174UpdateWarningId))})()}handleiOSNativeAppServiceWorkerBug(){var r=this;return(0,F.A)(function*(){if(!r.serviceWorkerService.isEnabled()||!(yield r.nativeAppService.getWorkerFailed()))return;let i=!1;yield r.alertService.message("App failed to load offline",'\n            It seems the app failed to load without internet. This is caused by an iOS bug.\n            <br><br>\n            You can fix by resetting the service worker now or by tapping\n            "reset worker" at the bottom of the "About" tab later.\n            ',{"Fix now":()=>i=!0},"Close"),i?yield r.serviceWorkerService.reset():r.nativeAppService.clearWorkerFailed()})()}showInfo(r){var o=this;return(0,F.A)(function*(){return 2===r&&fo&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(r){var o=this;return(0,F.A)(function*(){return(r??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe($i),oe(mr),oe(el),oe(ry),oe(na),oe(ny))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),bse=(()=>{var e;class t{constructor(r,o,i,s){this.pwaService=r,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var r=this;return(0,F.A)(function*(){r.bootstrapService.notifyHasRendered(),yield r.infoService.start(),r.pwaService.invite(),r.updateService.start()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(ry),y(gL),y(Q2),y(_se))},this.\u0275cmp=Qe({type:t,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(V(0,"ion-app"),tt(1,"ion-router-outlet"),q())},dependencies:[RF,bh],encapsulation:2}))}return e(),t})();const mL=["touchstart","click","keydown"];let Cse=(()=>{var e;class t{constructor(r,o){this.kvsService=r,this.audioService=o,this.initialize()}initialize(){var r=this;return(0,F.A)(function*(){if(yield r.kvsService.initialize(),!r.kvsService.kvs.enableAudioOnFirstInteraction)return;fo&&ml&&r.audioService.initialize();const o=()=>{mL.forEach(i=>window.removeEventListener(i,o,!0)),r.audioService.initialize()};mL.forEach(i=>window.addEventListener(i,o,!0))})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe($i),oe(Aw))},this.\u0275prov=Je({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Sse=()=>{const e=new Hc;return e.link=function({href:t,tokens:n}){return`<a href="${t}" target="_blank" rel="external">${this.parser.parseInline(n)||t}</a>`},{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let wse=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(zn),oe(el),oe(Aw),oe(Zc),oe($i),oe(gL),oe(Cse),oe(ny))},this.\u0275mod=Oo({type:t,bootstrap:[bse]}),this.\u0275inj=Fn({providers:[{provide:nP,useClass:nQ},jb(()=>{return(o=$e($i)).initialize.bind(o)();var o}),dq(Iu($c.LegacyInterceptors,[{provide:nO,useFactory:eq},{provide:Gp,useExisting:nO,multi:!0}]))],imports:[O9,Uc.forRoot({innerHTMLTemplatesEnabled:!0}),vse,X0.forRoot({loader:yS,markedOptions:{provide:a2,useFactory:Sse},markedExtensions:[{provide:s2,useFactory:eee,multi:!0}]})]}))}return e(),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function G9(){Hd()&&uN()}(),function K9(){qm=vN("#/install?"),Zm=vN("#/import?")}(),function W9(){return!!oS(Wm)}()&&!yN()||function X9(){return void 0!==qm}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),fo&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),gN()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),N9().bootstrapModule(wse).then(e=>true).catch(e=>console.log(e))},3687:(Z,we,_)=>{var S="function"==typeof Map&&Map.prototype,x=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,L=S&&x&&"function"==typeof x.get?x.get:null,z=S&&Map.prototype.forEach,k="function"==typeof Set&&Set.prototype,f=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,O=k&&f&&"function"==typeof f.get?f.get:null,E=k&&Set.prototype.forEach,R="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,N="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,T="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ie=Boolean.prototype.valueOf,ce=Object.prototype.toString,Ce=Function.prototype.toString,X=String.prototype.match,W=String.prototype.slice,Y=String.prototype.replace,me=String.prototype.toUpperCase,Ie=String.prototype.toLowerCase,Xe=RegExp.prototype.test,te=Array.prototype.concat,Ee=Array.prototype.join,ve=Array.prototype.slice,ue=Math.floor,De="function"==typeof BigInt?BigInt.prototype.valueOf:null,j=Object.getOwnPropertySymbols,K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,G="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,se=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Ae){return Ae.__proto__}:null);function ye(Ae,Pe){if(Ae===1/0||Ae===-1/0||Ae!=Ae||Ae&&Ae>-1e3&&Ae<1e3||Xe.call(/e/,Pe))return Pe;var Yt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Ae){var Vn=Ae<0?-ue(-Ae):ue(Ae);if(Vn!==Ae){var bn=String(Vn),Jt=W.call(Pe,bn.length+1);return Y.call(bn,Yt,"$&_")+"."+Y.call(Y.call(Jt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Y.call(Pe,Yt,"$&_")}var Ne=_(2634),Le=Ne.custom,Se=yn(Le)?Le:null,et={__proto__:null,double:'"',single:"'"},St={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function Te(Ae,Pe,Yt){var bn=et[Yt.quoteStyle||Pe];return bn+Ae+bn}function ze(Ae){return Y.call(String(Ae),/"/g,"&quot;")}function gt(Ae){return!G||!("object"==typeof Ae&&(G in Ae||typeof Ae[G]<"u"))}function ft(Ae){return"[object Array]"===Ye(Ae)&&gt(Ae)}function ot(Ae){return"[object RegExp]"===Ye(Ae)&&gt(Ae)}function yn(Ae){if(Ue)return Ae&&"object"==typeof Ae&&Ae instanceof Symbol;if("symbol"==typeof Ae)return!0;if(!Ae||"object"!=typeof Ae||!K)return!1;try{return K.call(Ae),!0}catch{}return!1}Z.exports=function Ae(Pe,Yt,Vn,bn){var Jt=Yt||{};if(xt(Jt,"quoteStyle")&&!xt(et,Jt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(xt(Jt,"maxStringLength")&&("number"==typeof Jt.maxStringLength?Jt.maxStringLength<0&&Jt.maxStringLength!==1/0:null!==Jt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var lo=!xt(Jt,"customInspect")||Jt.customInspect;if("boolean"!=typeof lo&&"symbol"!==lo)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(xt(Jt,"indent")&&null!==Jt.indent&&"\t"!==Jt.indent&&!(parseInt(Jt.indent,10)===Jt.indent&&Jt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(xt(Jt,"numericSeparator")&&"boolean"!=typeof Jt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var $r=Jt.numericSeparator;if(typeof Pe>"u")return"undefined";if(null===Pe)return"null";if("boolean"==typeof Pe)return Pe?"true":"false";if("string"==typeof Pe)return nr(Pe,Jt);if("number"==typeof Pe){if(0===Pe)return 1/0/Pe>0?"0":"-0";var yr=String(Pe);return $r?ye(Pe,yr):yr}if("bigint"==typeof Pe){var ro=String(Pe)+"n";return $r?ye(Pe,ro):ro}var Kr=typeof Jt.depth>"u"?5:Jt.depth;if(typeof Vn>"u"&&(Vn=0),Vn>=Kr&&Kr>0&&"object"==typeof Pe)return ft(Pe)?"[Array]":"[Object]";var Eo=function Yr(Ae,Pe){var Yt;if("\t"===Ae.indent)Yt="\t";else{if(!("number"==typeof Ae.indent&&Ae.indent>0))return null;Yt=Ee.call(Array(Ae.indent+1)," ")}return{base:Yt,prev:Ee.call(Array(Pe+1),Yt)}}(Jt,Vn);if(typeof bn>"u")bn=[];else if(We(bn,Pe)>=0)return"[Circular]";function _r(hn,ei,Nr){if(ei&&(bn=ve.call(bn)).push(ei),Nr){var Ai={depth:Jt.depth};return xt(Jt,"quoteStyle")&&(Ai.quoteStyle=Jt.quoteStyle),Ae(hn,Ai,Vn+1,bn)}return Ae(hn,Jt,Vn+1,bn)}if("function"==typeof Pe&&!ot(Pe)){var Cn=function Oe(Ae){if(Ae.name)return Ae.name;var Pe=X.call(Ce.call(Ae),/^function\s*([\w$]+)/);return Pe?Pe[1]:null}(Pe),ho=Qo(Pe,_r);return"[Function"+(Cn?": "+Cn:" (anonymous)")+"]"+(ho.length>0?" { "+Ee.call(ho,", ")+" }":"")}if(yn(Pe)){var Jo=Ue?Y.call(String(Pe),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(Pe);return"object"!=typeof Pe||Ue?Jo:Zr(Jo)}if(function vn(Ae){return!(!Ae||"object"!=typeof Ae)&&(typeof HTMLElement<"u"&&Ae instanceof HTMLElement||"string"==typeof Ae.nodeName&&"function"==typeof Ae.getAttribute)}(Pe)){for(var co="<"+Ie.call(String(Pe.nodeName)),Bo=Pe.attributes||[],On=0;On<Bo.length;On++)co+=" "+Bo[On].name+"="+Te(ze(Bo[On].value),"double",Jt);return co+=">",Pe.childNodes&&Pe.childNodes.length&&(co+="..."),co+"</"+Ie.call(String(Pe.nodeName))+">"}if(ft(Pe)){if(0===Pe.length)return"[]";var xo=Qo(Pe,_r);return Eo&&!function Mo(Ae){for(var Pe=0;Pe<Ae.length;Pe++)if(We(Ae[Pe],"\n")>=0)return!1;return!0}(xo)?"["+sn(xo,Eo)+"]":"[ "+Ee.call(xo,", ")+" ]"}if(function Et(Ae){return"[object Error]"===Ye(Ae)&&gt(Ae)}(Pe)){var br=Qo(Pe,_r);return"cause"in Error.prototype||!("cause"in Pe)||ne.call(Pe,"cause")?0===br.length?"["+String(Pe)+"]":"{ ["+String(Pe)+"] "+Ee.call(br,", ")+" }":"{ ["+String(Pe)+"] "+Ee.call(te.call("[cause]: "+_r(Pe.cause),br),", ")+" }"}if("object"==typeof Pe&&lo){if(Se&&"function"==typeof Pe[Se]&&Ne)return Ne(Pe,{depth:Kr-Vn});if("symbol"!==lo&&"function"==typeof Pe.inspect)return Pe.inspect()}if(function ct(Ae){if(!L||!Ae||"object"!=typeof Ae)return!1;try{L.call(Ae);try{O.call(Ae)}catch{return!0}return Ae instanceof Map}catch{}return!1}(Pe)){var di=[];return z&&z.call(Pe,function(hn,ei){di.push(_r(ei,Pe,!0)+" => "+_r(hn,Pe))}),Lr("Map",L.call(Pe),di,Eo)}if(function En(Ae){if(!O||!Ae||"object"!=typeof Ae)return!1;try{O.call(Ae);try{L.call(Ae)}catch{return!0}return Ae instanceof Set}catch{}return!1}(Pe)){var jo=[];return E&&E.call(Pe,function(hn){jo.push(_r(hn,Pe))}),Lr("Set",O.call(Pe),jo,Eo)}if(function Qt(Ae){if(!R||!Ae||"object"!=typeof Ae)return!1;try{R.call(Ae,R);try{N.call(Ae,N)}catch{return!0}return Ae instanceof WeakMap}catch{}return!1}(Pe))return po("WeakMap");if(function on(Ae){if(!N||!Ae||"object"!=typeof Ae)return!1;try{N.call(Ae,N);try{R.call(Ae,R)}catch{return!0}return Ae instanceof WeakSet}catch{}return!1}(Pe))return po("WeakSet");if(function fn(Ae){if(!T||!Ae||"object"!=typeof Ae)return!1;try{return T.call(Ae),!0}catch{}return!1}(Pe))return po("WeakRef");if(function yt(Ae){return"[object Number]"===Ye(Ae)&&gt(Ae)}(Pe))return Zr(_r(Number(Pe)));if(function _n(Ae){if(!Ae||"object"!=typeof Ae||!De)return!1;try{return De.call(Ae),!0}catch{}return!1}(Pe))return Zr(_r(De.call(Pe)));if(function Ot(Ae){return"[object Boolean]"===Ye(Ae)&&gt(Ae)}(Pe))return Zr(ie.call(Pe));if(function Ke(Ae){return"[object String]"===Ye(Ae)&&gt(Ae)}(Pe))return Zr(_r(String(Pe)));if(typeof window<"u"&&Pe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Pe===globalThis||typeof global<"u"&&Pe===global)return"{ [object globalThis] }";if(!function bt(Ae){return"[object Date]"===Ye(Ae)&&gt(Ae)}(Pe)&&!ot(Pe)){var Fe=Qo(Pe,_r),ir=se?se(Pe)===Object.prototype:Pe instanceof Object||Pe.constructor===Object,Br=Pe instanceof Object?"":"null prototype",Bn=!ir&&G&&Object(Pe)===Pe&&G in Pe?W.call(Ye(Pe),8,-1):Br?"Object":"",Bi=(ir||"function"!=typeof Pe.constructor?"":Pe.constructor.name?Pe.constructor.name+" ":"")+(Bn||Br?"["+Ee.call(te.call([],Bn||[],Br||[]),": ")+"] ":"");return 0===Fe.length?Bi+"{}":Eo?Bi+"{"+sn(Fe,Eo)+"}":Bi+"{ "+Ee.call(Fe,", ")+" }"}return String(Pe)};var Zt=Object.prototype.hasOwnProperty||function(Ae){return Ae in this};function xt(Ae,Pe){return Zt.call(Ae,Pe)}function Ye(Ae){return ce.call(Ae)}function We(Ae,Pe){if(Ae.indexOf)return Ae.indexOf(Pe);for(var Yt=0,Vn=Ae.length;Yt<Vn;Yt++)if(Ae[Yt]===Pe)return Yt;return-1}function nr(Ae,Pe){if(Ae.length>Pe.maxStringLength){var Yt=Ae.length-Pe.maxStringLength,Vn="... "+Yt+" more character"+(Yt>1?"s":"");return nr(W.call(Ae,0,Pe.maxStringLength),Pe)+Vn}var bn=St[Pe.quoteStyle||"single"];return bn.lastIndex=0,Te(Y.call(Y.call(Ae,bn,"\\$1"),/[\x00-\x1f]/g,cr),"single",Pe)}function cr(Ae){var Pe=Ae.charCodeAt(0),Yt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Pe];return Yt?"\\"+Yt:"\\x"+(Pe<16?"0":"")+me.call(Pe.toString(16))}function Zr(Ae){return"Object("+Ae+")"}function po(Ae){return Ae+" { ? }"}function Lr(Ae,Pe,Yt,Vn){return Ae+" ("+Pe+") {"+(Vn?sn(Yt,Vn):Ee.call(Yt,", "))+"}"}function sn(Ae,Pe){if(0===Ae.length)return"";var Yt="\n"+Pe.prev+Pe.base;return Yt+Ee.call(Ae,","+Yt)+"\n"+Pe.prev}function Qo(Ae,Pe){var Yt=ft(Ae),Vn=[];if(Yt){Vn.length=Ae.length;for(var bn=0;bn<Ae.length;bn++)Vn[bn]=xt(Ae,bn)?Pe(Ae[bn],Ae):""}var lo,Jt="function"==typeof j?j(Ae):[];if(Ue){lo={};for(var $r=0;$r<Jt.length;$r++)lo["$"+Jt[$r]]=Jt[$r]}for(var yr in Ae)xt(Ae,yr)&&(Yt&&String(Number(yr))===yr&&yr<Ae.length||Ue&&lo["$"+yr]instanceof Symbol||(Xe.call(/[^\w$]/,yr)?Vn.push(Pe(yr,Ae)+": "+Pe(Ae[yr],Ae)):Vn.push(yr+": "+Pe(Ae[yr],Ae))));if("function"==typeof j)for(var ro=0;ro<Jt.length;ro++)ne.call(Ae,Jt[ro])&&Vn.push("["+Pe(Jt[ro])+"]: "+Pe(Ae[Jt[ro]],Ae));return Vn}},3889:(Z,we,_)=>{"use strict";var S=Function.prototype.call,x=Object.prototype.hasOwnProperty,L=_(7707);Z.exports=L.call(S,x)},3933:Z=>{"use strict";var _=Object.prototype.toString,S=Math.max,L=function(O,E){for(var P=[],R=0;R<O.length;R+=1)P[R]=O[R];for(var H=0;H<E.length;H+=1)P[H+O.length]=E[H];return P};Z.exports=function(O){var E=this;if("function"!=typeof E||"[object Function]"!==_.apply(E))throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var R,P=function(O){for(var P=[],R=1,H=0;R<O.length;R+=1,H+=1)P[H]=O[R];return P}(arguments),N=S(0,E.length-P.length),I=[],T=0;T<N;T++)I[T]="$"+T;if(R=Function("binder","return function ("+function(f){for(var E="",P=0;P<f.length;P+=1)E+=f[P],P+1<f.length&&(E+=",");return E}(I)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof R){var ce=E.apply(this,L(P,arguments));return Object(ce)===ce?ce:this}return E.apply(O,L(P,arguments))}),E.prototype){var ie=function(){};ie.prototype=E.prototype,R.prototype=new ie,ie.prototype=null}return R}},3948:(Z,we)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var _=[];_[0]=function(){return function(){}},_[1]=function(z,k){return typeof k>"u"?z:function(O){z(O,k)}};var L=function(){function z(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return z.prototype.addHandler=function(k,f){return this.isHandlerAttached(k,f)||(this._handlers.push(k),this._contexts.push(f),this._createDispatcher(),this._updateHasHandlers()),this},z.prototype.removeHandler=function(k,f){var O=this._getHandlerIndex(k,f);return typeof O<"u"&&(this._handlers.splice(O,1),this._contexts.splice(O,1),this._createDispatcher(),this._updateHasHandlers()),this},z.prototype.isHandlerAttached=function(k,f){return typeof this._getHandlerIndex(k,f)<"u"},z.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},z.prototype._getHandlerIndex=function(k,f){var E,O=this._handlers.length;for(E=0;E<O&&(this._handlers[E]!==k||this._contexts[E]!==f);E++);return E<O?E:void 0},z.prototype._createDispatcher=function(){this.dispatch=function S(z){return _[z]||(_[z]=function x(z){for(var k="return function dispatcher"+z+"(payload) {\n",f=[],O=[],E=0;E<z;E++)f.push("cb"+E),O.push("ctx"+E),k+="    cb"+E+"(payload, ctx"+E+");\n";return k+="};",new(Function.bind.apply(Function,[void 0].concat(f.concat(O),[k])))}(z)),_[z]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},z}();we.default=L},3996:Z=>{"use strict";Z.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},4198:(Z,we,_)=>{"use strict";var S=_(1143),x=_(592).supportsDescriptors,L=Object.getOwnPropertyDescriptor;Z.exports=function(){if(x&&"gim"===/a/gim.flags){var k=L(RegExp.prototype,"flags");if(k&&"function"==typeof k.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var f="",O={};if(Object.defineProperty(O,"hasIndices",{get:function(){f+="d"}}),Object.defineProperty(O,"sticky",{get:function(){f+="y"}}),k.get.call(O),"dy"===f)return k.get}}return S}},4880:Z=>{"use strict";Z.exports=SyntaxError},4896:(Z,we,_)=>{"use strict";_.r(we),_.d(we,{MENU_BACK_BUTTON_PRIORITY:()=>E,OVERLAY_BACK_BUTTON_PRIORITY:()=>O,blockHardwareBackButton:()=>k,shouldUseCloseWatcher:()=>z,startHardwareBackButton:()=>f});var S=_(1890),x=_(575),L=_(9335);const z=()=>L.e.get("experimentalCloseWatcher",!1)&&void 0!==x.w&&"CloseWatcher"in x.w,k=()=>{document.addEventListener("backbutton",()=>{})},f=()=>{const P=document;let R=!1;const H=()=>{if(R)return;let N=0,I=[];const T=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ce,X){I.push({priority:Ce,handler:X,id:N++})}}});P.dispatchEvent(T);const ie=function(){var Ce=(0,S.A)(function*(X){try{if(X?.handler){const W=X.handler(ce);null!=W&&(yield W)}}catch(W){(0,L.j)("[ion-app] - Exception in startHardwareBackButton:",W)}});return function(W){return Ce.apply(this,arguments)}}(),ce=()=>{if(I.length>0){let Ce={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};I.forEach(X=>{X.priority>=Ce.priority&&(Ce=X)}),R=!0,I=I.filter(X=>X.id!==Ce.id),ie(Ce).then(()=>R=!1)}};ce()};if(z()){let N;const I=()=>{N?.destroy(),N=new x.w.CloseWatcher,N.onclose=()=>{H(),I()}};I()}else P.addEventListener("backbutton",H)},O=100,E=99},5e3:Z=>{function we(S,x,L,z,k,f,O){try{var E=S[f](O),P=E.value}catch(R){return void L(R)}E.done?x(P):Promise.resolve(P).then(z,k)}Z.exports=function _(S){return function(){var x=this,L=arguments;return new Promise(function(z,k){var f=S.apply(x,L);function O(P){we(f,z,k,O,E,"next",P)}function E(P){we(f,z,k,O,E,"throw",P)}O(void 0)})}},Z.exports.__esModule=!0,Z.exports.default=Z.exports},5028:(Z,we,_)=>{"use strict";var S=_(2521),x=_(840),L=S("%WeakSet%",!0),z=x("WeakSet.prototype.has",!0);if(z){var k=x("WeakMap.prototype.has",!0);Z.exports=function(O){if(!O||"object"!=typeof O)return!1;try{if(z(O,z),k)try{k(O,k)}catch{return!0}return O instanceof L}catch{}return!1}}else Z.exports=function(O){return!1}},5124:(Z,we,_)=>{"use strict";var S=_(7707),x=_(814),L=_(7648),z=_(8963);Z.exports=z||S.call(L,x)},5217:Z=>{"use strict";var S,we="function"==typeof Map&&Map.prototype?Map:null,_="function"==typeof Set&&Set.prototype?Set:null;we||(S=function(k){return!1});var x=we?Map.prototype.has:null,L=_?Set.prototype.has:null;!S&&!x&&(S=function(k){return!1}),Z.exports=S||function(k){if(!k||"object"!=typeof k)return!1;try{if(x.call(k),L)try{L.call(k)}catch{return!0}return k instanceof we}catch{}return!1}},5328:(Z,we,_)=>{"use strict";var S=_(6497);Z.exports=function(){return S()&&!!Symbol.toStringTag}},5370:Z=>{"use strict";var we=function(){return"string"==typeof function(){}.name},_=Object.getOwnPropertyDescriptor;if(_)try{_([],"length")}catch{_=null}we.functionsHaveConfigurableNames=function(){if(!we()||!_)return!1;var L=_(function(){},"name");return!!L&&!!L.configurable};var S=Function.prototype.bind;we.boundFunctionsHaveNames=function(){return we()&&"function"==typeof S&&""!==function(){}.bind().name},Z.exports=we},5492:(Z,we,_)=>{"use strict";var S=_(8519),x=_(3687),L=_(863),z=_(2375),f=_(603)||z||L;Z.exports=function(){var E,P={assert:function(R){if(!P.has(R))throw new S("Side channel does not contain "+x(R))},delete:function(R){return!!E&&E.delete(R)},get:function(R){return E&&E.get(R)},has:function(R){return!!E&&E.has(R)},set:function(R,H){E||(E=f()),E.set(R,H)}};return P}},5500:(Z,we,_)=>{"use strict";var S=_(840),x=S("Date.prototype.getDay"),z=S("Object.prototype.toString"),f=_(5328)();Z.exports=function(E){return"object"==typeof E&&null!==E&&(f?function(E){try{return x(E),!0}catch{return!1}}(E):"[object Date]"===z(E))}},5557:(Z,we,_)=>{"use strict";var S=_(2521),x=_(1197),L=_(6652)(),z=_(9263),k=_(8519),f=S("%Math.floor%");Z.exports=function(E,P){if("function"!=typeof E)throw new k("`fn` is not a function");if("number"!=typeof P||P<0||P>4294967295||f(P)!==P)throw new k("`length` must be a positive 32-bit integer");var R=arguments.length>2&&!!arguments[2],H=!0,N=!0;if("length"in E&&z){var I=z(E,"length");I&&!I.configurable&&(H=!1),I&&!I.writable&&(N=!1)}return(H||N||!R)&&(L?x(E,"length",P,!0,!0):x(E,"length",P)),E}},5712:(Z,we,_)=>{"use strict";var S=_(2179),x=_(4880),L="object"==typeof StopIteration?StopIteration:null;Z.exports=function(k){if(!L)throw new x("this environment lacks StopIteration");S.set(k,"[[Done]]",!1);var f={next:function(){var E=S.get(this,"[[Iterator]]"),P=!!S.get(E,"[[Done]]");try{return{done:P,value:P?void 0:E.next()}}catch(R){if(S.set(E,"[[Done]]",!0),R!==L)throw R;return{done:!0,value:void 0}}}};return S.set(f,"[[Iterator]]",k),f}},5714:Z=>{"use strict";Z.exports=Math.round},5757:(Z,we,_)=>{"use strict";var S=_(5217),x=_(9116),L=_(9462),z=_(5028);Z.exports=function(f){if(f&&"object"==typeof f){if(S(f))return"Map";if(x(f))return"Set";if(L(f))return"WeakMap";if(z(f))return"WeakSet"}return!1}},5796:(Z,we,_)=>{"use strict";var S=_(9110),x=_(592);Z.exports=function(){var z=S();return x(Object,{is:z},{is:function(){return Object.is!==z}}),z}},5827:(Z,we,_)=>{"use strict";_.d(we,{C:()=>k,a:()=>L,d:()=>z});var S=_(1890),x=_(6721);const L=function(){var f=(0,S.A)(function*(O,E,P,R,H,N){var I;if(O)return O.attachViewToDom(E,P,H,R);if(!(N||"string"==typeof P||P instanceof HTMLElement))throw new Error("framework delegate is missing");const T="string"==typeof P?null===(I=E.ownerDocument)||void 0===I?void 0:I.createElement(P):P;return R&&R.forEach(ie=>T.classList.add(ie)),H&&Object.assign(T,H),E.appendChild(T),yield new Promise(ie=>(0,x.c)(T,ie)),T});return function(E,P,R,H,N,I){return f.apply(this,arguments)}}(),z=(f,O)=>{if(O){if(f)return f.removeViewFromDom(O.parentElement,O);O.remove()}return Promise.resolve()},k=()=>{let f,O;return{attachViewToDom:function(){var R=(0,S.A)(function*(H,N,I={},T=[]){var ie,ce;let Ce;if(f=H,N){const W="string"==typeof N?null===(ie=f.ownerDocument)||void 0===ie?void 0:ie.createElement(N):N;T.forEach(Y=>W.classList.add(Y)),Object.assign(W,I),f.appendChild(W),Ce=W,yield new Promise(Y=>(0,x.c)(W,Y))}else if(f.children.length>0&&("ION-MODAL"===f.tagName||"ION-POPOVER"===f.tagName)&&!(Ce=f.children[0]).classList.contains("ion-delegate-host")){const Y=null===(ce=f.ownerDocument)||void 0===ce?void 0:ce.createElement("div");Y.classList.add("ion-delegate-host"),T.forEach(me=>Y.classList.add(me)),Y.append(...f.children),f.appendChild(Y),Ce=Y}const X=document.querySelector("ion-app")||document.body;return O=document.createComment("ionic teleport"),f.parentNode.insertBefore(O,f),X.appendChild(f),Ce??f});return function(N,I){return R.apply(this,arguments)}}(),removeViewFromDom:()=>(f&&O&&(O.parentNode.insertBefore(f,O),O.remove()),Promise.resolve())}}},5831:(Z,we,_)=>{"use strict";var k,S=_(840),x=_(5328)(),L=_(3889),z=_(9263);if(x){var f=S("RegExp.prototype.exec"),O={},E=function(){throw O},P={toString:E,valueOf:E};"symbol"==typeof Symbol.toPrimitive&&(P[Symbol.toPrimitive]=E),k=function(I){if(!I||"object"!=typeof I)return!1;var T=z(I,"lastIndex");if(!T||!L(T,"value"))return!1;try{f(I,P)}catch(ce){return ce===O}}}else{var R=S("Object.prototype.toString");k=function(I){return!(!I||"object"!=typeof I&&"function"!=typeof I)&&"[object RegExp]"===R(I)}}Z.exports=k},5860:(Z,we,_)=>{"use strict";_.r(we),_.d(we,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>P});var S=_(566);const x=(I,T,ie,ce)=>{const Ce=!!L(I)&&{capture:!1,passive:!!ce.passive};let X,W;return I.__zone_symbol__addEventListener?(X="__zone_symbol__addEventListener",W="__zone_symbol__removeEventListener"):(X="addEventListener",W="removeEventListener"),I[X](T,ie,Ce),()=>{I[W](T,ie,Ce)}},L=I=>{if(void 0===z)try{const T=Object.defineProperty({},"passive",{get:()=>{z=!0}});I.addEventListener("optsTest",()=>{},T)}catch{z=!1}return!!z};let z;const O=I=>I instanceof Document?I:I.ownerDocument,P=I=>{let T=!1,ie=!1,ce=!0,Ce=!1;const X=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},I),W=X.canStart,Y=X.onWillStart,me=X.onStart,Ie=X.onEnd,Xe=X.notCaptured,te=X.onMove,Ee=X.threshold,ve=X.passive,ue=X.blurOnStart,De={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},j=((I,T,ie)=>{const ce=ie*(Math.PI/180),Ce="x"===I,X=Math.cos(ce),W=T*T;let Y=0,me=0,Ie=!1,Xe=0;return{start(te,Ee){Y=te,me=Ee,Xe=0,Ie=!0},detect(te,Ee){if(!Ie)return!1;const ve=te-Y,ue=Ee-me,De=ve*ve+ue*ue;if(De<W)return!1;const j=Math.sqrt(De),K=(Ce?ve:ue)/j;return Xe=K>X?1:K<-X?-1:0,Ie=!1,!0},isGesture:()=>0!==Xe,getDirection:()=>Xe}})(X.direction,X.threshold,X.maxAngle),K=S.G.createGesture({name:I.gestureName,priority:I.gesturePriority,disableScroll:I.disableScroll}),ne=()=>{T&&(Ce=!1,te&&te(De))},se=()=>!!K.capture()&&(T=!0,ce=!1,De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime,Y?Y(De).then(Ne):Ne(),!0),Ne=()=>{ue&&(()=>{if(typeof document<"u"){const Te=document.activeElement;Te?.blur&&Te.blur()}})(),me&&me(De),ce=!0},Le=()=>{T=!1,ie=!1,Ce=!1,ce=!0,K.release()},Se=Te=>{const ze=T,gt=ce;if(Le(),gt){if(R(De,Te),ze)return void(Ie&&Ie(De));Xe&&Xe(De)}},et=((I,T,ie,ce,Ce)=>{let X,W,Y,me,Ie,Xe,te,Ee=0;const ve=ye=>{Ee=Date.now()+2e3,T(ye)&&(!W&&ie&&(W=x(I,"touchmove",ie,Ce)),Y||(Y=x(ye.target,"touchend",De,Ce)),me||(me=x(ye.target,"touchcancel",De,Ce)))},ue=ye=>{Ee>Date.now()||T(ye)&&(!Xe&&ie&&(Xe=x(O(I),"mousemove",ie,Ce)),te||(te=x(O(I),"mouseup",j,Ce)))},De=ye=>{K(),ce&&ce(ye)},j=ye=>{Ue(),ce&&ce(ye)},K=()=>{W&&W(),Y&&Y(),me&&me(),W=Y=me=void 0},Ue=()=>{Xe&&Xe(),te&&te(),Xe=te=void 0},G=()=>{K(),Ue()},ne=(ye=!0)=>{ye?(X||(X=x(I,"touchstart",ve,Ce)),Ie||(Ie=x(I,"mousedown",ue,Ce))):(X&&X(),Ie&&Ie(),X=Ie=void 0,G())};return{enable:ne,stop:G,destroy:()=>{ne(!1),ce=ie=T=void 0}}})(X.el,Te=>{const ze=N(Te);return!(ie||!ce||(H(Te,De),De.startX=De.currentX,De.startY=De.currentY,De.startTime=De.currentTime=ze,De.velocityX=De.velocityY=De.deltaX=De.deltaY=0,De.event=Te,W&&!1===W(De))||(K.release(),!K.start()))&&(ie=!0,0===Ee?se():(j.start(De.startX,De.startY),!0))},Te=>{T?!Ce&&ce&&(Ce=!0,R(De,Te),requestAnimationFrame(ne)):(R(De,Te),j.detect(De.currentX,De.currentY)&&(!j.isGesture()||!se())&&St())},Se,{passive:ve}),St=()=>{Le(),et.stop(),Xe&&Xe(De)};return{enable(Te=!0){Te||(T&&Se(void 0),Le()),et.enable(Te)},destroy(){K.destroy(),et.destroy()}}},R=(I,T)=>{if(!T)return;const ie=I.currentX,ce=I.currentY,Ce=I.currentTime;H(T,I);const X=I.currentX,W=I.currentY,me=(I.currentTime=N(T))-Ce;if(me>0&&me<100){const Xe=(W-ce)/me;I.velocityX=(X-ie)/me*.7+.3*I.velocityX,I.velocityY=.7*Xe+.3*I.velocityY}I.deltaX=X-I.startX,I.deltaY=W-I.startY,I.event=T},H=(I,T)=>{let ie=0,ce=0;if(I){const Ce=I.changedTouches;if(Ce&&Ce.length>0){const X=Ce[0];ie=X.clientX,ce=X.clientY}else void 0!==I.pageX&&(ie=I.pageX,ce=I.pageY)}T.currentX=ie,T.currentY=ce},N=I=>I.timeStamp||Date.now()},5886:(Z,we,_)=>{"use strict";_.d(we,{a:()=>H,c:()=>x,p:()=>R});class S{constructor(){this.m=new Map}reset(T){this.m=new Map(Object.entries(T))}get(T,ie){const ce=this.m.get(T);return void 0!==ce?ce:ie}getBoolean(T,ie=!1){const ce=this.m.get(T);return void 0===ce?ie:"string"==typeof ce?"true"===ce:!!ce}getNumber(T,ie){const ce=parseFloat(this.m.get(T));return isNaN(ce)?void 0!==ie?ie:NaN:ce}set(T,ie){this.m.set(T,ie)}}const x=new S;var P=function(I){return I.OFF="OFF",I.ERROR="ERROR",I.WARN="WARN",I}(P||{});const R=(I,...T)=>{const ie=x.get("logLevel",P.WARN);if([P.WARN].includes(ie))return console.warn(`[Ionic Warning]: ${I}`,...T)},H=(I,...T)=>{const ie=x.get("logLevel",P.ERROR);if([P.ERROR,P.WARN].includes(ie))return console.error(`[Ionic Error]: ${I}`,...T)}},5979:Z=>{"use strict";Z.exports=function(_,S){if(S=S.split(":")[0],!(_=+_))return!1;switch(S){case"http":case"ws":return 80!==_;case"https":case"wss":return 443!==_;case"ftp":return 21!==_;case"gopher":return 70!==_;case"file":return!1}return 0!==_}},5989:(Z,we,_)=>{"use strict";_.d(we,{m:()=>I});var S=_(1890),x=_(575),L=_(4896),z=_(9335),k=_(6721),f=_(9919),O=_(7133);const E=T=>(0,O.c)().duration(T?400:300),P=T=>{let ie,ce;const Ce=T.width+8,X=(0,O.c)(),W=(0,O.c)();T.isEndSide?(ie=Ce+"px",ce="0px"):(ie=-Ce+"px",ce="0px"),X.addElement(T.menuInnerEl).fromTo("transform",`translateX(${ie})`,`translateX(${ce})`);const me="ios"===(0,f.b)(T),Ie=me?.2:.25;return W.addElement(T.backdropEl).fromTo("opacity",.01,Ie),E(me).addAnimation([X,W])},R=T=>{let ie,ce;const Ce=(0,f.b)(T),X=T.width;T.isEndSide?(ie=-X+"px",ce=X+"px"):(ie=X+"px",ce=-X+"px");const W=(0,O.c)().addElement(T.menuInnerEl).fromTo("transform",`translateX(${ce})`,"translateX(0px)"),Y=(0,O.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${ie})`),me=(0,O.c)().addElement(T.backdropEl).fromTo("opacity",.01,.32);return E("ios"===Ce).addAnimation([W,Y,me])},H=T=>{const ie=(0,f.b)(T),ce=T.width*(T.isEndSide?-1:1)+"px",Ce=(0,O.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${ce})`);return E("ios"===ie).addAnimation(Ce)},I=(()=>{const T=new Map,ie=[],ce=function(){var Le=(0,S.A)(function*(Se){const et=yield Xe(Se,!0);return!!et&&et.open()});return function(et){return Le.apply(this,arguments)}}(),Ce=function(){var Le=(0,S.A)(function*(Se){const et=yield void 0!==Se?Xe(Se,!0):te();return void 0!==et&&et.close()});return function(et){return Le.apply(this,arguments)}}(),X=function(){var Le=(0,S.A)(function*(Se){const et=yield Xe(Se,!0);return!!et&&et.toggle()});return function(et){return Le.apply(this,arguments)}}(),W=function(){var Le=(0,S.A)(function*(Se,et){const St=yield Xe(et);return St&&(St.disabled=!Se),St});return function(et,St){return Le.apply(this,arguments)}}(),Y=function(){var Le=(0,S.A)(function*(Se,et){const St=yield Xe(et);return St&&(St.swipeGesture=Se),St});return function(et,St){return Le.apply(this,arguments)}}(),me=function(){var Le=(0,S.A)(function*(Se){if(null!=Se){const et=yield Xe(Se);return void 0!==et&&et.isOpen()}return void 0!==(yield te())});return function(et){return Le.apply(this,arguments)}}(),Ie=function(){var Le=(0,S.A)(function*(Se){const et=yield Xe(Se);return!!et&&!et.disabled});return function(et){return Le.apply(this,arguments)}}(),Xe=function(){var Le=(0,S.A)(function*(Se,et=!1){if(yield Ne(),"start"===Se||"end"===Se){const Te=ie.filter(gt=>gt.side===Se&&!gt.disabled);if(Te.length>=1)return Te.length>1&&et&&(0,z.f)(`menuController queried for a menu on the "${Se}" side, but ${Te.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Te.map(gt=>gt.el)),Te[0].el;const ze=ie.filter(gt=>gt.side===Se);if(ze.length>=1)return ze.length>1&&et&&(0,z.f)(`menuController queried for a menu on the "${Se}" side, but ${ze.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ze.map(gt=>gt.el)),ze[0].el}else if(null!=Se)return ye(Te=>Te.menuId===Se);return ye(Te=>!Te.disabled)||(ie.length>0?ie[0].el:void 0)});return function(et){return Le.apply(this,arguments)}}(),te=function(){var Le=(0,S.A)(function*(){return yield Ne(),G()});return function(){return Le.apply(this,arguments)}}(),Ee=function(){var Le=(0,S.A)(function*(){return yield Ne(),ne()});return function(){return Le.apply(this,arguments)}}(),ve=function(){var Le=(0,S.A)(function*(){return yield Ne(),se()});return function(){return Le.apply(this,arguments)}}(),ue=(Le,Se)=>{T.set(Le,Se)},K=function(){var Le=(0,S.A)(function*(Se,et,St,Te){if(se())return!1;if(et){const ze=yield te();ze&&Se.el!==ze&&(yield ze.setOpen(!1,!1))}return Se._setOpen(et,St,Te)});return function(et,St,Te,ze){return Le.apply(this,arguments)}}(),G=()=>ye(Le=>Le._isOpen),ne=()=>ie.map(Le=>Le.el),se=()=>ie.some(Le=>Le.isAnimating),ye=Le=>{const Se=ie.find(Le);if(void 0!==Se)return Se.el},Ne=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Le=>new Promise(Se=>(0,k.c)(Le,Se))));return ue("reveal",H),ue("push",R),ue("overlay",P),null==x.d||x.d.addEventListener("ionBackButton",Le=>{const Se=G();Se&&Le.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>Se.close())}),{registerAnimation:ue,get:Xe,getMenus:Ee,getOpen:te,isEnabled:Ie,swipeGesture:Y,isAnimating:ve,isOpen:me,enable:W,toggle:X,close:Ce,open:ce,_getOpenSync:G,_createAnimation:(Le,Se)=>{const et=T.get(Le);if(!et)throw new Error("animation not registered");return et(Se)},_register:Le=>{ie.indexOf(Le)<0&&ie.push(Le)},_unregister:Le=>{const Se=ie.indexOf(Le);Se>-1&&ie.splice(Se,1)},_setOpen:K}})()},6062:(Z,we,_)=>{"use strict";var S=_(7268),x=Object.prototype.toString,L=Object.prototype.hasOwnProperty;Z.exports=function(P,R,H){if(!S(R))throw new TypeError("iterator must be a function");var N;arguments.length>=3&&(N=H),function O(E){return"[object Array]"===x.call(E)}(P)?function(P,R,H){for(var N=0,I=P.length;N<I;N++)L.call(P,N)&&(null==H?R(P[N],N,P):R.call(H,P[N],N,P))}(P,R,N):"string"==typeof P?function(P,R,H){for(var N=0,I=P.length;N<I;N++)null==H?R(P.charAt(N),N,P):R.call(H,P.charAt(N),N,P)}(P,R,N):function(P,R,H){for(var N in P)L.call(P,N)&&(null==H?R(P[N],N,P):R.call(H,P[N],N,P))}(P,R,N)}},6243:(Z,we,_)=>{var S,x,L,z,k;S=_(7031),x=_(8251).utf8,L=_(2490),z=_(8251).bin,(k=function(f,O){f.constructor==String?f=O&&"binary"===O.encoding?z.stringToBytes(f):x.stringToBytes(f):L(f)?f=Array.prototype.slice.call(f,0):!Array.isArray(f)&&f.constructor!==Uint8Array&&(f=f.toString());for(var E=S.bytesToWords(f),P=8*f.length,R=1732584193,H=-271733879,N=-1732584194,I=271733878,T=0;T<E.length;T++)E[T]=16711935&(E[T]<<8|E[T]>>>24)|4278255360&(E[T]<<24|E[T]>>>8);E[P>>>5]|=128<<P%32,E[14+(P+64>>>9<<4)]=P;var ie=k._ff,ce=k._gg,Ce=k._hh,X=k._ii;for(T=0;T<E.length;T+=16){var W=R,Y=H,me=N,Ie=I;R=ie(R,H,N,I,E[T+0],7,-680876936),I=ie(I,R,H,N,E[T+1],12,-389564586),N=ie(N,I,R,H,E[T+2],17,606105819),H=ie(H,N,I,R,E[T+3],22,-1044525330),R=ie(R,H,N,I,E[T+4],7,-176418897),I=ie(I,R,H,N,E[T+5],12,1200080426),N=ie(N,I,R,H,E[T+6],17,-1473231341),H=ie(H,N,I,R,E[T+7],22,-45705983),R=ie(R,H,N,I,E[T+8],7,1770035416),I=ie(I,R,H,N,E[T+9],12,-1958414417),N=ie(N,I,R,H,E[T+10],17,-42063),H=ie(H,N,I,R,E[T+11],22,-1990404162),R=ie(R,H,N,I,E[T+12],7,1804603682),I=ie(I,R,H,N,E[T+13],12,-40341101),N=ie(N,I,R,H,E[T+14],17,-1502002290),R=ce(R,H=ie(H,N,I,R,E[T+15],22,1236535329),N,I,E[T+1],5,-165796510),I=ce(I,R,H,N,E[T+6],9,-1069501632),N=ce(N,I,R,H,E[T+11],14,643717713),H=ce(H,N,I,R,E[T+0],20,-373897302),R=ce(R,H,N,I,E[T+5],5,-701558691),I=ce(I,R,H,N,E[T+10],9,38016083),N=ce(N,I,R,H,E[T+15],14,-660478335),H=ce(H,N,I,R,E[T+4],20,-405537848),R=ce(R,H,N,I,E[T+9],5,568446438),I=ce(I,R,H,N,E[T+14],9,-1019803690),N=ce(N,I,R,H,E[T+3],14,-187363961),H=ce(H,N,I,R,E[T+8],20,1163531501),R=ce(R,H,N,I,E[T+13],5,-1444681467),I=ce(I,R,H,N,E[T+2],9,-51403784),N=ce(N,I,R,H,E[T+7],14,1735328473),R=Ce(R,H=ce(H,N,I,R,E[T+12],20,-1926607734),N,I,E[T+5],4,-378558),I=Ce(I,R,H,N,E[T+8],11,-2022574463),N=Ce(N,I,R,H,E[T+11],16,1839030562),H=Ce(H,N,I,R,E[T+14],23,-35309556),R=Ce(R,H,N,I,E[T+1],4,-1530992060),I=Ce(I,R,H,N,E[T+4],11,1272893353),N=Ce(N,I,R,H,E[T+7],16,-155497632),H=Ce(H,N,I,R,E[T+10],23,-1094730640),R=Ce(R,H,N,I,E[T+13],4,681279174),I=Ce(I,R,H,N,E[T+0],11,-358537222),N=Ce(N,I,R,H,E[T+3],16,-722521979),H=Ce(H,N,I,R,E[T+6],23,76029189),R=Ce(R,H,N,I,E[T+9],4,-640364487),I=Ce(I,R,H,N,E[T+12],11,-421815835),N=Ce(N,I,R,H,E[T+15],16,530742520),R=X(R,H=Ce(H,N,I,R,E[T+2],23,-995338651),N,I,E[T+0],6,-198630844),I=X(I,R,H,N,E[T+7],10,1126891415),N=X(N,I,R,H,E[T+14],15,-1416354905),H=X(H,N,I,R,E[T+5],21,-57434055),R=X(R,H,N,I,E[T+12],6,1700485571),I=X(I,R,H,N,E[T+3],10,-1894986606),N=X(N,I,R,H,E[T+10],15,-1051523),H=X(H,N,I,R,E[T+1],21,-2054922799),R=X(R,H,N,I,E[T+8],6,1873313359),I=X(I,R,H,N,E[T+15],10,-30611744),N=X(N,I,R,H,E[T+6],15,-1560198380),H=X(H,N,I,R,E[T+13],21,1309151649),R=X(R,H,N,I,E[T+4],6,-145523070),I=X(I,R,H,N,E[T+11],10,-1120210379),N=X(N,I,R,H,E[T+2],15,718787259),H=X(H,N,I,R,E[T+9],21,-343485551),R=R+W>>>0,H=H+Y>>>0,N=N+me>>>0,I=I+Ie>>>0}return S.endian([R,H,N,I])})._ff=function(f,O,E,P,R,H,N){var I=f+(O&E|~O&P)+(R>>>0)+N;return(I<<H|I>>>32-H)+O},k._gg=function(f,O,E,P,R,H,N){var I=f+(O&P|E&~P)+(R>>>0)+N;return(I<<H|I>>>32-H)+O},k._hh=function(f,O,E,P,R,H,N){var I=f+(O^E^P)+(R>>>0)+N;return(I<<H|I>>>32-H)+O},k._ii=function(f,O,E,P,R,H,N){var I=f+(E^(O|~P))+(R>>>0)+N;return(I<<H|I>>>32-H)+O},k._blocksize=16,k._digestsize=16,Z.exports=function(f,O){if(null==f)throw new Error("Illegal argument "+f);var E=S.wordsToBytes(k(f,O));return O&&O.asBytes?E:O&&O.asString?z.bytesToString(E):S.bytesToHex(E)}},6283:(Z,we,_)=>{"use strict";var S=_(5557),x=_(1963),L=_(2282),z=_(9713);Z.exports=function(f){var O=L(arguments),E=f.length-(arguments.length-1);return S(O,1+(E>0?E:0),!0)},x?x(Z.exports,"apply",{value:z}):Z.exports.apply=z},6321:Z=>{"use strict";var we=Object.prototype.toString;Z.exports=function(S){var x=we.call(S),L="[object Arguments]"===x;return L||(L="[object Array]"!==x&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===we.call(S.callee)),L}},6330:(Z,we,_)=>{"use strict";var S=_(1197),x=_(6652)(),L=_(5370).functionsHaveConfigurableNames(),z=_(8519);Z.exports=function(f,O){if("function"!=typeof f)throw new z("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||L)&&(x?S(f,"name",O,!0,!0):S(f,"name",O)),f}},6484:(Z,we,_)=>{"use strict";var S=_(840),x=S("Boolean.prototype.toString"),L=S("Object.prototype.toString"),f=_(5328)();Z.exports=function(E){return"boolean"==typeof E||null!==E&&"object"==typeof E&&(f?function(E){try{return x(E),!0}catch{return!1}}(E):"[object Boolean]"===L(E))}},6497:Z=>{"use strict";Z.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var _={},S=Symbol("test"),x=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(x))return!1;for(var z in _[S]=42,_)return!1;if("function"==typeof Object.keys&&0!==Object.keys(_).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(_).length)return!1;var k=Object.getOwnPropertySymbols(_);if(1!==k.length||k[0]!==S||!Object.prototype.propertyIsEnumerable.call(_,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(_,S);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},6547:(Z,we,_)=>{"use strict";var S=_(6062),x=_(9819),L=_(6283),z=_(840),k=_(9263),f=_(1568),O=z("Object.prototype.toString"),E=_(5328)(),P=typeof globalThis>"u"?global:globalThis,R=x(),H=z("String.prototype.slice"),N=z("Array.prototype.indexOf",!0)||function(Ce,X){for(var W=0;W<Ce.length;W+=1)if(Ce[W]===X)return W;return-1},I={__proto__:null};S(R,E&&k&&f?function(ce){var Ce=new P[ce];if(Symbol.toStringTag in Ce&&f){var X=f(Ce),W=k(X,Symbol.toStringTag);if(!W&&X){var Y=f(X);W=k(Y,Symbol.toStringTag)}I["$"+ce]=L(W.get)}}:function(ce){var Ce=new P[ce],X=Ce.slice||Ce.set;X&&(I["$"+ce]=L(X))}),Z.exports=function(Ce){if(!Ce||"object"!=typeof Ce)return!1;if(!E){var X=H(O(Ce),8,-1);return N(R,X)>-1?X:"Object"===X&&function(Ce){var X=!1;return S(I,function(W,Y){if(!X)try{W(Ce),X=H(Y,1)}catch{}}),X}(Ce)}return k?function(Ce){var X=!1;return S(I,function(W,Y){if(!X)try{"$"+W(Ce)===Y&&(X=H(Y,1))}catch{}}),X}(Ce):null}},6652:(Z,we,_)=>{"use strict";var S=_(1963),x=function(){return!!S};x.hasArrayLengthDefineBug=function(){if(!S)return null;try{return 1!==S([],"length",{value:1}).length}catch{return!0}},Z.exports=x},6721:(Z,we,_)=>{"use strict";_.d(we,{a:()=>ie,b:()=>f,c:()=>z,d:()=>Y,e:()=>ce,f:()=>P,g:()=>H,h:()=>k,i:()=>E,j:()=>Xe,k:()=>I,l:()=>Ce,m:()=>R,n:()=>T,o:()=>W,p:()=>me,q:()=>X,r:()=>N,s:()=>Ie,t:()=>x});var S=_(9335);const x=(te,Ee=0)=>new Promise(ve=>{L(te,Ee,ve)}),L=(te,Ee=0,ve)=>{let ue,De;const j={passive:!0},Ue=()=>{ue&&ue()},G=ne=>{(void 0===ne||te===ne.target)&&(Ue(),ve(ne))};return te&&(te.addEventListener("webkitTransitionEnd",G,j),te.addEventListener("transitionend",G,j),De=setTimeout(G,Ee+500),ue=()=>{void 0!==De&&(clearTimeout(De),De=void 0),te.removeEventListener("webkitTransitionEnd",G,j),te.removeEventListener("transitionend",G,j)}),Ue},z=(te,Ee)=>{te.componentOnReady?te.componentOnReady().then(ve=>Ee(ve)):N(()=>Ee(te))},k=te=>void 0!==te.componentOnReady,f=(te,Ee=[])=>{const ve={};return Ee.forEach(ue=>{te.hasAttribute(ue)&&(null!==te.getAttribute(ue)&&(ve[ue]=te.getAttribute(ue)),te.removeAttribute(ue))}),ve},O=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],E=(te,Ee)=>f(te,O),P=(te,Ee,ve,ue)=>te.addEventListener(Ee,ve,ue),R=(te,Ee,ve,ue)=>te.removeEventListener(Ee,ve,ue),H=(te,Ee=te)=>te.shadowRoot||Ee,N=te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te),I=te=>!!te.shadowRoot&&!!te.attachShadow,T=te=>{if(te.focus(),te.classList.contains("ion-focusable")){const Ee=te.closest("ion-app");Ee&&Ee.setFocus([te])}},ie=(te,Ee,ve,ue,De)=>{{let j=Ee.querySelector("input.aux-input");j||(j=Ee.ownerDocument.createElement("input"),j.type="hidden",j.classList.add("aux-input"),Ee.appendChild(j)),j.disabled=De,j.name=ve,j.value=ue||""}},ce=(te,Ee,ve)=>Math.max(te,Math.min(Ee,ve)),Ce=(te,Ee)=>{if(!te){const ve="ASSERT: "+Ee;throw(0,S.j)(ve),new Error(ve)}},X=te=>{if(te){const Ee=te.changedTouches;if(Ee&&Ee.length>0){const ve=Ee[0];return{x:ve.clientX,y:ve.clientY}}if(void 0!==te.pageX)return{x:te.pageX,y:te.pageY}}return{x:0,y:0}},W=te=>{const Ee="rtl"===document.dir;switch(te){case"start":return Ee;case"end":return!Ee;default:throw new Error(`"${te}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Y=(te,Ee)=>{const ve=te._original||te;return{_original:te,emit:me(ve.emit.bind(ve),Ee)}},me=(te,Ee=0)=>{let ve;return(...ue)=>{clearTimeout(ve),ve=setTimeout(te,Ee,...ue)}},Ie=(te,Ee)=>{if(te??(te={}),Ee??(Ee={}),te===Ee)return!0;const ve=Object.keys(te);if(ve.length!==Object.keys(Ee).length)return!1;for(const ue of ve)if(!(ue in Ee)||te[ue]!==Ee[ue])return!1;return!0},Xe=te=>"number"==typeof te&&!isNaN(te)&&isFinite(te)},6778:(Z,we,_)=>{var L,S=_(5e3).default,x=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(z={}){var f=z,O="object"==typeof window,E=typeof WorkerGlobalScope<"u",H=("object"==typeof process&&process.versions?.node&&process,"./this.program"),N=(b,$)=>{throw $};E&&(L=self.location.href);var ie,ce,I="";if(O||E){try{I=new URL(".",L).href}catch{}E&&(ce=b=>{var $=new XMLHttpRequest;return $.open("GET",b,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),ie=function(){var b=S(function*($){var ae=yield fetch($,{credentials:"same-origin"});if(ae.ok)return ae.arrayBuffer();throw new Error(ae.status+" : "+ae.url)});return function(ae){return b.apply(this,arguments)}}()}var W,me,Ce=console.log.bind(console),X=console.error.bind(console),Y=!1;function Ie(b,$){b||Ke($)}function te(){if(!Y){var b=ni();0==b&&(b+=4);var $=ne[b>>2],ae=ne[b+4>>2];(34821223!=$||2310721022!=ae)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${Lr(b)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Lr(ae)} ${Lr($)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Ee,ve,ue,De,j,G,ne,ye,Ne,Se=!1;function et(){var b=ue.buffer;De=new Int8Array(b),new Int16Array(b),f.HEAPU8=j=new Uint8Array(b),new Uint16Array(b),G=new Int32Array(b),f.HEAPU32=ne=new Uint32Array(b),new Float32Array(b),ye=new Float64Array(b),Ne=new BigInt64Array(b),new BigUint64Array(b)}var yt,ft=0,bt=null;function Ke(b){f.onAbort?.(b),X(b="Aborted("+b+")"),Y=!0,b+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(b);throw ve?.($),$}function Zt(){return(Zt=S(function*(b){if(!W)try{var $=yield ie(b);return new Uint8Array($)}catch{}return function yn(b){if(b==yt&&W)return new Uint8Array(W);if(ce)return ce(b);throw"both async and sync fetching of the wasm failed"}(b)})).apply(this,arguments)}function Ye(){return Ye=S(function*(b,$){try{var ae=yield function _n(b){return Zt.apply(this,arguments)}(b);return yield WebAssembly.instantiate(ae,$)}catch(Rt){X(`failed to asynchronously prepare wasm: ${Rt}`),Ke(Rt)}}),Ye.apply(this,arguments)}function We(){return We=S(function*(b,$,ae){if(!b&&"function"==typeof WebAssembly.instantiateStreaming)try{var Be=fetch($,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(Be,ae)}catch(rn){X(`wasm streaming compile failed: ${rn}`),X("falling back to ArrayBuffer instantiation")}return function xt(b,$){return Ye.apply(this,arguments)}($,ae)}),We.apply(this,arguments)}function fn(){return fn=S(function*(){function b(rn,gn){return ue=(w=rn.exports).v,et(),jr=w.xa,function p(b){f._main=Fs=b.x,f._webidl_free=b.y,f._webidl_malloc=b.z,f._emscripten_bind_VoidPtr___destroy___0=ji=b.A,f._emscripten_bind_FSTools_FSTools_0=xi=b.B,f._emscripten_bind_FSTools_Malloc_1=Go=b.C,f._emscripten_bind_FSTools_Free_1=la=b.D,f._emscripten_bind_FSTools_Nullptr_0=ds=b.E,f._emscripten_bind_FSTools___destroy___0=$s=b.F,f._emscripten_bind_MkfsContext_MkfsContext_0=zo=b.G,f._emscripten_bind_MkfsContext_Mkfs_2=fs=b.H,f._emscripten_bind_MkfsContext_GetImage_0=fi=b.I,f._emscripten_bind_MkfsContext_GetImageSize_0=ps=b.J,f._emscripten_bind_MkfsContext___destroy___0=hs=b.K,f._emscripten_bind_FsckContext_FsckContext_1=Vi=b.L,f._emscripten_bind_FsckContext_GetImage_0=io=b.M,f._emscripten_bind_FsckContext_GetDirtyPages_0=pi=b.N,f._emscripten_bind_FsckContext_GetImageSize_0=Ui=b.O,f._emscripten_bind_FsckContext_Fsck_0=Hi=b.P,f._emscripten_bind_FsckContext_GetResult_0=Bs=b.Q,f._emscripten_bind_FsckContext___destroy___0=gs=b.R,f._emscripten_bind_GunzipContext_GunzipContext_3=ti=b.S,f._emscripten_bind_GunzipContext_GetState_0=Wo=b.T,f._emscripten_bind_GunzipContext_Continue_0=hi=b.U,f._emscripten_bind_GunzipContext_GetUncompressedData_0=Wt=b.V,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=un=b.W,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=ca=b.X,f._emscripten_bind_GunzipContext_GetError_0=js=b.Y,f._emscripten_bind_GunzipContext___destroy___0=go=b.Z,f._emscripten_bind_GzipContext_GzipContext_3=ms=b._,f._emscripten_bind_GzipContext_SetFilename_1=ki=b.$,f._emscripten_bind_GzipContext_SetMtime_1=Gi=b.aa,f._emscripten_bind_GzipContext_Continue_0=vs=b.ba,f._emscripten_bind_GzipContext_GetState_0=Oa=b.ca,f._emscripten_bind_GzipContext_GetGzipData_0=Vs=b.da,f._emscripten_bind_GzipContext_GetGzipSize_0=ys=b.ea,f._emscripten_bind_GzipContext_GetError_0=ua=b.fa,f._emscripten_bind_GzipContext___destroy___0=Us=b.ga,f._emscripten_bind_CreateZipContext_CreateZipContext_0=Hs=b.ha,f._emscripten_bind_CreateZipContext_Initialize_1=da=b.ia,f._emscripten_bind_CreateZipContext_AddEntry_1=Gs=b.ja,f._emscripten_bind_CreateZipContext_WriteData_2=mo=b.ka,f._emscripten_bind_CreateZipContext_GetZipData_0=zs=b.la,f._emscripten_bind_CreateZipContext_GetZipDataSize_0=Xr=b.ma,f._emscripten_bind_CreateZipContext_GetLastError_0=zi=b.na,f._emscripten_bind_CreateZipContext___destroy___0=fa=b.oa,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=Pa=b.pa,f._emscripten_bind_ZipfileWalker_GetState_0=ko=b.qa,f._emscripten_bind_ZipfileWalker_Next_0=_s=b.ra,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=pa=b.sa,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Ws=b.ta,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=oe=b.ua,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=qs=b.va,f._emscripten_bind_ZipfileWalker___destroy___0=$e=b.wa,ni=b.ya,ha=b.za,bs=b.Aa,Ri=b.Ba,f.___original_main=b.Ca}(w),function Et(){if(ft--,f.monitorRunDependencies?.(ft),0==ft&&bt){var $=bt;bt=null,$()}}(),w}!function ot(){ft++,f.monitorRunDependencies?.(ft)}();var ae=function ct(){return{a:m}}();if(f.instantiateWasm)return new Promise((rn,gn)=>{f.instantiateWasm(ae,($n,Vr)=>{rn(b($n))})});yt??=function Ot(){return function T(b){return f.locateFile?f.locateFile(b,I):I+b}("fstools_web.wasm")}();var Be=yield function Oe(b,$,ae){return We.apply(this,arguments)}(W,yt,ae);return function $(rn){return b(rn.instance)}(Be)}),fn.apply(this,arguments)}class En{name="ExitStatus";constructor($){this.message=`Program terminated with exit(${$})`,this.status=$}}var jr,Fn,on=b=>{for(;b.length>0;)b.shift()(f)},vn=[],nr=b=>vn.push(b),cr=[],Zr=b=>cr.push(b),po=!0,Lr=b=>"0x"+(b>>>=0).toString(16).padStart(8,"0"),Mo=typeof TextDecoder<"u"?new TextDecoder:void 0,Yr=(b,$=0,ae=NaN)=>{for(var Be=$+ae,Rt=$;b[Rt]&&!(Rt>=Be);)++Rt;if(Rt-$>16&&b.buffer&&Mo)return Mo.decode(b.subarray($,Rt));for(var rn="";$<Rt;){var gn=b[$++];if(128&gn){var $n=63&b[$++];if(192!=(224&gn)){var Vr=63&b[$++];if((gn=224==(240&gn)?(15&gn)<<12|$n<<6|Vr:(7&gn)<<18|$n<<12|Vr<<6|63&b[$++])<65536)rn+=String.fromCharCode(gn);else{var dn=gn-65536;rn+=String.fromCharCode(55296|dn>>10,56320|1023&dn)}}else rn+=String.fromCharCode((31&gn)<<6|$n)}else rn+=String.fromCharCode(gn)}return rn},sn=(b,$)=>b?Yr(j,b,$):"",Yt=b=>b<-9007199254740992||b>9007199254740992?NaN:Number(b),bn={varargs:void 0,getStr:b=>sn(b)},$r=0,Eo=[0,31,60,91,121,152,182,213,244,274,305,335],_r=[0,31,59,90,120,151,181,212,243,273,304,334],Cn=b=>((b=>b%4==0&&(b%100!=0||b%400==0))(b.getFullYear())?Eo:_r)[b.getMonth()]+b.getDate()-1,co={},Bo=b=>{if(b instanceof En||"unwind"==b)return me;te(),b instanceof WebAssembly.RuntimeError&&Ri()<=0&&X("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),N(0,b)},On=()=>po||$r>0,xo=b=>{me=b,On()||(f.onExit?.(b),Y=!0),N(0,new En(b))},br=(b,$)=>{me=b,xo(b)},di=br,Bn=(b,$,ae,Be)=>{if(!(Be>0))return 0;for(var Rt=ae,rn=ae+Be-1,gn=0;gn<b.length;++gn){var $n=b.codePointAt(gn);if($n<=127){if(ae>=rn)break;$[ae++]=$n}else if($n<=2047){if(ae+1>=rn)break;$[ae++]=192|$n>>6,$[ae++]=128|63&$n}else if($n<=65535){if(ae+2>=rn)break;$[ae++]=224|$n>>12,$[ae++]=128|$n>>6&63,$[ae++]=128|63&$n}else{if(ae+3>=rn)break;$[ae++]=240|$n>>18,$[ae++]=128|$n>>12&63,$[ae++]=128|$n>>6&63,$[ae++]=128|63&$n,gn++}}return $[ae]=0,ae-Rt},Ti=(b,$,ae)=>Bn(b,j,$,ae),hn=[],Pn=(b,$)=>Math.ceil(b/$)*$,jt=b=>{var ae=(b-ue.buffer.byteLength+65535)/65536|0;try{return ue.grow(ae),et(),1}catch{}},xe={},zt=()=>{if(!zt.strings){var $={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:H||"./this.program"};for(var ae in xe)void 0===xe[ae]?delete $[ae]:$[ae]=xe[ae];var Be=[];for(var ae in $)Be.push(`${ae}=${$[ae]}`);zt.strings=Be}return zt.strings},Xn=b=>{for(var $=0,ae=0;ae<b.length;++ae){var Be=b.charCodeAt(ae);Be<=127?$++:Be<=2047?$+=2:Be>=55296&&Be<=57343?($+=4,++ae):$+=3}return $},ka=[null,[],[]],as=(b,$)=>{var ae=ka[b];0===$||10===$?((1===b?Ce:X)(Yr(ae)),ae.length=0):ae.push($)},oo=[],Pt=(b,$)=>{b<128?$.push(b):$.push(b%128|128,b>>7)},Ho=[],Je=b=>{var $=Ho[b];return $||(Ho[b]=$=jr.get(b)),$},aa=[],Na=(b,$)=>{jr.set(b,$),Ho[b]=jr.get(b)};f.noExitRuntime&&(po=f.noExitRuntime),f.print&&(Ce=f.print),f.printErr&&(X=f.printErr),f.wasmBinary&&(W=f.wasmBinary),f.thisProgram&&(H=f.thisProgram),f.addFunction=(b,$)=>{var ae=(b=>(Fn||(Fn=new WeakMap,((b,$)=>{if(Fn)for(var ae=0;ae<0+$;ae++){var Be=Je(ae);Be&&Fn.set(Be,ae)}})(0,jr.length)),Fn.get(b)||0))(b);if(ae)return ae;var Be=(()=>{if(aa.length)return aa.pop();try{jr.grow(1)}catch(b){throw b instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":b}return jr.length-1})();try{Na(Be,b)}catch(rn){if(!(rn instanceof TypeError))throw rn;var Rt=((b,$)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((b=>{for(var $={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ae={parameters:[],results:"v"==b[0]?[]:[$[b[0]]]},Be=1;Be<b.length;++Be)ae.parameters.push($[b[Be]]);return ae})($),b);var ae=[1];((b,$)=>{var ae=b.slice(0,1),Be=b.slice(1),Rt={i:127,p:127,j:126,f:125,d:124,e:111};for(var rn of($.push(96),Pt(Be.length,$),Be))$.push(Rt[rn]);"v"==ae?$.push(0):$.push(1,Rt[ae])})($,ae);var Be=[0,97,115,109,1,0,0,0,1];Pt(ae.length,Be),Be.push(...ae),Be.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Rt=new WebAssembly.Module(new Uint8Array(Be));return new WebAssembly.Instance(Rt,{e:{f:b}}).exports.f})(b,$);Na(Be,Rt)}return Fn.set(b,Be),Be},f.UTF8ToString=sn;var Fs,ji,xi,Go,la,ds,$s,zo,fs,fi,ps,hs,Vi,io,pi,Ui,Hi,Bs,gs,ti,Wo,hi,Wt,un,ca,js,go,ms,ki,Gi,vs,Oa,Vs,ys,ua,Us,Hs,da,Gs,mo,zs,Xr,zi,fa,Pa,ko,_s,pa,Ws,oe,qs,$e,ni,ha,bs,Ri,us={46212:()=>{throw new Error("terminated")}},m={b:(b,$,ae,Be)=>Ke(`Assertion failed: ${sn(b)}, at: `+[$?sn($):"unknown filename",ae,Be?sn(Be):"unknown function"]),f:function Vn(b,$){$=Yt($)},h:function Jt(b,$,ae,Be){bn.varargs=Be},i:()=>Ke(""),k:()=>{po=!1,$r=0},n:function ro(b,$){b=Yt(b);var ae=new Date(1e3*b);G[$>>2]=ae.getUTCSeconds(),G[$+4>>2]=ae.getUTCMinutes(),G[$+8>>2]=ae.getUTCHours(),G[$+12>>2]=ae.getUTCDate(),G[$+16>>2]=ae.getUTCMonth(),G[$+20>>2]=ae.getUTCFullYear()-1900,G[$+24>>2]=ae.getUTCDay();var Be=Date.UTC(ae.getUTCFullYear(),0,1,0,0,0,0),Rt=(ae.getTime()-Be)/864e5|0;G[$+28>>2]=Rt},o:function ho(b,$){b=Yt(b);var ae=new Date(1e3*b);G[$>>2]=ae.getSeconds(),G[$+4>>2]=ae.getMinutes(),G[$+8>>2]=ae.getHours(),G[$+12>>2]=ae.getDate(),G[$+16>>2]=ae.getMonth(),G[$+20>>2]=ae.getFullYear()-1900,G[$+24>>2]=ae.getDay();var Be=0|Cn(ae);G[$+28>>2]=Be,G[$+36>>2]=-60*ae.getTimezoneOffset();var Rt=new Date(ae.getFullYear(),0,1),rn=new Date(ae.getFullYear(),6,1).getTimezoneOffset(),gn=Rt.getTimezoneOffset(),$n=0|(rn!=gn&&ae.getTimezoneOffset()==Math.min(gn,rn));G[$+32>>2]=$n},p:function(b){var $=(()=>{var ae=new Date(G[b+20>>2]+1900,G[b+16>>2],G[b+12>>2],G[b+8>>2],G[b+4>>2],G[b>>2],0),Be=G[b+32>>2],Rt=ae.getTimezoneOffset(),rn=new Date(ae.getFullYear(),0,1),gn=new Date(ae.getFullYear(),6,1).getTimezoneOffset(),$n=rn.getTimezoneOffset(),Vr=Math.min($n,gn);if(Be<0)G[b+32>>2]=+(gn!=$n&&Vr==Rt);else if(Be>0!=(Vr==Rt)){var dn=Math.max($n,gn),Cr=Be>0?Vr:dn;ae.setTime(ae.getTime()+6e4*(Cr-Rt))}G[b+24>>2]=ae.getDay();var Or=0|Cn(ae);G[b+28>>2]=Or,G[b>>2]=ae.getSeconds(),G[b+4>>2]=ae.getMinutes(),G[b+8>>2]=ae.getHours(),G[b+12>>2]=ae.getDate(),G[b+16>>2]=ae.getMonth(),G[b+20>>2]=ae.getYear();var sr=ae.getTime();return isNaN(sr)?-1:sr/1e3})();return BigInt($)},l:(b,$)=>{if(co[b]&&(clearTimeout(co[b].id),delete co[b]),!$)return 0;var ae=setTimeout(()=>{delete co[b],(b=>{if(!Y)try{b(),(()=>{if(!On())try{di(me)}catch(b){Bo(b)}})()}catch($){Bo($)}})(()=>ha(b,performance.now()))},$);return co[b]={id:ae,timeout_ms:$},0},q:(b,$,ae,Be)=>{var Rt=(new Date).getFullYear(),rn=new Date(Rt,0,1),gn=new Date(Rt,6,1),$n=rn.getTimezoneOffset(),Vr=gn.getTimezoneOffset(),dn=Math.max($n,Vr);ne[b>>2]=60*dn,G[$>>2]=+($n!=Vr);var Cr=Mt=>{var Ir=Mt>=0?"-":"+",Wn=Math.abs(Mt);return`UTC${Ir}${String(Math.floor(Wn/60)).padStart(2,"0")}${String(Wn%60).padStart(2,"0")}`},Or=Cr($n),sr=Cr(Vr);Vr<$n?(Ti(Or,ae,17),Ti(sr,Be,17)):(Ti(Or,Be,17),Ti(sr,ae,17))},a:(b,$,ae)=>((b,$,ae)=>{var Be=((b,$)=>{hn.length=0;for(var ae;ae=j[b++];){var Be=105!=ae;$+=(Be&=112!=ae)&&$%8?4:0,hn.push(112==ae?ne[$>>2]:106==ae?Ne[$>>3]:105==ae?G[$>>2]:ye[$>>3]),$+=Be?8:4}return hn})($,ae);return us[b](...Be)})(b,$,ae),d:()=>Date.now(),m:b=>{var $=j.length,ae=2147483648;if((b>>>=0)>ae)return!1;for(var Be=1;Be<=4;Be*=2){var Rt=$*(1+.2/Be);Rt=Math.min(Rt,b+100663296);var rn=Math.min(ae,Pn(Math.max(b,Rt),65536));if(jt(rn))return!0}return!1},s:(b,$)=>{var ae=0,Be=0;for(var Rt of zt()){var rn=$+ae;ne[b+Be>>2]=rn,ae+=Ti(Rt,rn,1/0)+1,Be+=4}return 0},t:(b,$)=>{var ae=zt();ne[b>>2]=ae.length;var Be=0;for(var Rt of ae)Be+=Xn(Rt)+1;return ne[$>>2]=Be,0},u:di,e:b=>52,c:(b,$,ae,Be)=>52,r:function El(b,$,ae,Be){return $=Yt($),70},g:(b,$,ae,Be)=>{for(var Rt=0,rn=0;rn<ae;rn++){var gn=ne[$>>2],$n=ne[$+4>>2];$+=8;for(var Vr=0;Vr<$n;Vr++)as(b,j[gn+Vr]);Rt+=$n}return ne[Be>>2]=Rt,0},j:xo},w=yield function Qt(){return fn.apply(this,arguments)}();function he(){}function Ze(b){return(b||he).__cache__}function _e(b,$){var ae=Ze($),Be=ae[b];return Be||((Be=Object.create(($||he).prototype)).ptr=b,ae[b]=Be)}(function He(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function J(){function b(){f.calledRun=!0,Y||(function Te(){Se=!0,te(),on(oo),w.w()}(),function ze(){te()}(),Ee?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function A(){var b=Fs;try{var Be=b(0,0);return br(Be),Be}catch(Rt){return Bo(Rt)}}(),function gt(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)nr(f.postRun.shift());on(vn)}())}ft>0?bt=J:(function ee(){bs(),function Xe(){var b=ni();0==b&&(b+=4),ne[b>>2]=34821223,ne[b+4>>2]=2310721022,ne[0]=1668509029}()}(),function St(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)Zr(f.preRun.shift());on(cr)}(),ft>0?bt=J:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),b()},1)):b(),te()))}(),(he.prototype=Object.create(he.prototype)).constructor=he,he.prototype.__class__=he,he.__cache__={},f.WrapperObject=he,f.getCache=Ze,f.wrapPointer=_e,f.castObject=function je(b,$){return _e(b.ptr,$)},f.NULL=_e(0),f.destroy=function dt(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete Ze(b.__class__)[b.ptr]},f.compare=function ut(b,$){return b.ptr===$.ptr},f.getPointer=function Tt(b){return b.ptr},f.getClass=function pt(b){return b.__class__};var At={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(At.needed){for(var b=0;b<At.temps.length;b++)f._webidl_free(At.temps[b]);At.temps.length=0,f._webidl_free(At.buffer),At.buffer=0,At.size+=At.needed,At.needed=0}At.buffer||(At.size+=128,At.buffer=f._webidl_malloc(At.size),Ie(At.buffer)),At.pos=0},alloc(b,$){Ie(At.buffer);var Rt,Be=b.length*$.BYTES_PER_ELEMENT;return Be=Pn(Be,8),At.pos+Be>=At.size?(Ie(Be>0),At.needed+=Be,Rt=f._webidl_malloc(Be),At.temps.push(Rt)):(Rt=At.buffer+At.pos,At.pos+=Be),Rt},copy(b,$,ae){ae/=$.BYTES_PER_ELEMENT;for(var Be=0;Be<b.length;Be++)$[ae+Be]=b[Be]}};function rr(b){if("string"==typeof b){var $=(b=>{var Be=Xn(b)+1,Rt=new Array(Be);Bn(b,Rt,0,Rt.length);return Rt})(b),ae=At.alloc($,De);return At.copy($,De,ae),ae}return b}function Kt(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Xt(){this.ptr=xi(),Ze(Xt)[this.ptr]=this}function Rn(){this.ptr=zo(),Ze(Rn)[this.ptr]=this}function an(b){b&&"object"==typeof b&&(b=b.ptr),this.ptr=Vi(b),Ze(an)[this.ptr]=this}function Ct(b,$,ae){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),ae&&"object"==typeof ae&&(ae=ae.ptr),this.ptr=ti(b,$,ae),Ze(Ct)[this.ptr]=this}function Ln(b,$,ae){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),ae&&"object"==typeof ae&&(ae=ae.ptr),this.ptr=ms(b,$,ae),Ze(Ln)[this.ptr]=this}function pn(){this.ptr=Hs(),Ze(pn)[this.ptr]=this}function An(b,$){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),this.ptr=Pa(b,$),Ze(An)[this.ptr]=this}return(Kt.prototype=Object.create(he.prototype)).constructor=Kt,Kt.prototype.__class__=Kt,Kt.__cache__={},f.VoidPtr=Kt,Kt.prototype.__destroy__=Kt.prototype.__destroy__=function(){ji(this.ptr)},(Xt.prototype=Object.create(he.prototype)).constructor=Xt,Xt.prototype.__class__=Xt,Xt.__cache__={},f.FSTools=Xt,Xt.prototype.Malloc=Xt.prototype.Malloc=function(b){return b&&"object"==typeof b&&(b=b.ptr),_e(Go(this.ptr,b),Kt)},Xt.prototype.Free=Xt.prototype.Free=function(b){b&&"object"==typeof b&&(b=b.ptr),la(this.ptr,b)},Xt.prototype.Nullptr=Xt.prototype.Nullptr=function(){return _e(ds(this.ptr),Kt)},Xt.prototype.__destroy__=Xt.prototype.__destroy__=function(){$s(this.ptr)},(Rn.prototype=Object.create(he.prototype)).constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},f.MkfsContext=Rn,Rn.prototype.Mkfs=Rn.prototype.Mkfs=function(b,$){var ae=this.ptr;return At.prepare(),b&&"object"==typeof b&&(b=b.ptr),$=$&&"object"==typeof $?$.ptr:rr($),!!fs(ae,b,$)},Rn.prototype.GetImage=Rn.prototype.GetImage=function(){return _e(fi(this.ptr),Kt)},Rn.prototype.GetImageSize=Rn.prototype.GetImageSize=function(){return ps(this.ptr)},Rn.prototype.__destroy__=Rn.prototype.__destroy__=function(){hs(this.ptr)},(an.prototype=Object.create(he.prototype)).constructor=an,an.prototype.__class__=an,an.__cache__={},f.FsckContext=an,an.prototype.GetImage=an.prototype.GetImage=function(){return _e(io(this.ptr),Kt)},an.prototype.GetDirtyPages=an.prototype.GetDirtyPages=function(){return _e(pi(this.ptr),Kt)},an.prototype.GetImageSize=an.prototype.GetImageSize=function(){return Ui(this.ptr)},an.prototype.Fsck=an.prototype.Fsck=function(){return Hi(this.ptr)},an.prototype.GetResult=an.prototype.GetResult=function(){return Bs(this.ptr)},an.prototype.__destroy__=an.prototype.__destroy__=function(){gs(this.ptr)},(Ct.prototype=Object.create(he.prototype)).constructor=Ct,Ct.prototype.__class__=Ct,Ct.__cache__={},f.GunzipContext=Ct,Ct.prototype.GetState=Ct.prototype.GetState=function(){return Wo(this.ptr)},Ct.prototype.Continue=Ct.prototype.Continue=function(){return hi(this.ptr)},Ct.prototype.GetUncompressedData=Ct.prototype.GetUncompressedData=function(){return _e(Wt(this.ptr),Kt)},Ct.prototype.ReleaseUncompressedData=Ct.prototype.ReleaseUncompressedData=function(){return _e(un(this.ptr),Kt)},Ct.prototype.GetUncompressedSize=Ct.prototype.GetUncompressedSize=function(){return ca(this.ptr)},Ct.prototype.GetError=Ct.prototype.GetError=function(){return sn(js(this.ptr))},Ct.prototype.__destroy__=Ct.prototype.__destroy__=function(){go(this.ptr)},(Ln.prototype=Object.create(he.prototype)).constructor=Ln,Ln.prototype.__class__=Ln,Ln.__cache__={},f.GzipContext=Ln,Ln.prototype.SetFilename=Ln.prototype.SetFilename=function(b){var $=this.ptr;return At.prepare(),b=b&&"object"==typeof b?b.ptr:rr(b),_e(ki($,b),Ln)},Ln.prototype.SetMtime=Ln.prototype.SetMtime=function(b){return b&&"object"==typeof b&&(b=b.ptr),_e(Gi(this.ptr,b),Ln)},Ln.prototype.Continue=Ln.prototype.Continue=function(){return vs(this.ptr)},Ln.prototype.GetState=Ln.prototype.GetState=function(){return Oa(this.ptr)},Ln.prototype.GetGzipData=Ln.prototype.GetGzipData=function(){return _e(Vs(this.ptr),Kt)},Ln.prototype.GetGzipSize=Ln.prototype.GetGzipSize=function(){return ys(this.ptr)},Ln.prototype.GetError=Ln.prototype.GetError=function(){return sn(ua(this.ptr))},Ln.prototype.__destroy__=Ln.prototype.__destroy__=function(){Us(this.ptr)},(pn.prototype=Object.create(he.prototype)).constructor=pn,pn.prototype.__class__=pn,pn.__cache__={},f.CreateZipContext=pn,pn.prototype.Initialize=pn.prototype.Initialize=function(b){return b&&"object"==typeof b&&(b=b.ptr),!!da(this.ptr,b)},pn.prototype.AddEntry=pn.prototype.AddEntry=function(b){var $=this.ptr;return At.prepare(),b=b&&"object"==typeof b?b.ptr:rr(b),!!Gs($,b)},pn.prototype.WriteData=pn.prototype.WriteData=function(b,$){return b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),!!mo(this.ptr,b,$)},pn.prototype.GetZipData=pn.prototype.GetZipData=function(){return _e(zs(this.ptr),Kt)},pn.prototype.GetZipDataSize=pn.prototype.GetZipDataSize=function(){return Xr(this.ptr)},pn.prototype.GetLastError=pn.prototype.GetLastError=function(){return sn(zi(this.ptr))},pn.prototype.__destroy__=pn.prototype.__destroy__=function(){fa(this.ptr)},(An.prototype=Object.create(he.prototype)).constructor=An,An.prototype.__class__=An,An.__cache__={},f.ZipfileWalker=An,An.prototype.GetState=An.prototype.GetState=function(){return ko(this.ptr)},An.prototype.Next=An.prototype.Next=function(){return _s(this.ptr)},An.prototype.GetTotalEntries=An.prototype.GetTotalEntries=function(){return pa(this.ptr)},An.prototype.GetCurrentEntrySize=An.prototype.GetCurrentEntrySize=function(){return Ws(this.ptr)},An.prototype.GetCurrentEntryName=An.prototype.GetCurrentEntryName=function(){return sn(oe(this.ptr))},An.prototype.GetCurrentEntryContent=An.prototype.GetCurrentEntryContent=function(){return _e(qs(this.ptr),Kt)},An.prototype.__destroy__=An.prototype.__destroy__=function(){$e(this.ptr)},Se?f:new Promise((b,$)=>{Ee=b,ve=$})}));Z.exports=x,Z.exports.default=x},6780:(Z,we,_)=>{"use strict";_.d(we,{b:()=>f,c:()=>O,d:()=>E,e:()=>K,g:()=>ne,l:()=>De,s:()=>Ue,t:()=>ce,w:()=>j});var S=_(1890),x=_(9335),L=_(6721);const f="ionViewWillLeave",O="ionViewDidLeave",E="ionViewWillUnload",P=se=>{se.tabIndex=-1,se.focus()},R=se=>null!==se.offsetParent,N="ion-last-focus",ie_saveViewFocus=Ne=>{if(x.e.get("focusManagerPriority",!1)){const Se=document.activeElement;null!==Se&&Ne?.contains(Se)&&Se.setAttribute(N,"true")}},ie_setViewFocus=Ne=>{const Le=x.e.get("focusManagerPriority",!1);if(Array.isArray(Le)&&!Ne.contains(document.activeElement)){const Se=Ne.querySelector(`[${N}]`);if(Se&&R(Se))return void P(Se);for(const et of Le)switch(et){case"content":const St=Ne.querySelector('main, [role="main"]');if(St&&R(St))return void P(St);break;case"heading":const Te=Ne.querySelector('h1, [role="heading"][aria-level="1"]');if(Te&&R(Te))return void P(Te);break;case"banner":const ze=Ne.querySelector('header, [role="banner"]');if(ze&&R(ze))return void P(ze);break;default:(0,x.f)(`Unrecognized focus manager priority value ${et}`)}P(Ne)}},ce=se=>new Promise((ye,Ne)=>{(0,x.w)(()=>{Ce(se),X(se).then(Le=>{Le.animation&&Le.animation.destroy(),W(se),ye(Le)},Le=>{W(se),Ne(Le)})})}),Ce=se=>{const ye=se.enteringEl,Ne=se.leavingEl;ie_saveViewFocus(Ne),G(ye,Ne,se.direction),se.showGoBack?ye.classList.add("can-go-back"):ye.classList.remove("can-go-back"),Ue(ye,!1),ye.style.setProperty("pointer-events","none"),Ne&&(Ue(Ne,!1),Ne.style.setProperty("pointer-events","none"))},X=function(){var se=(0,S.A)(function*(ye){const Ne=yield Y(ye);return Ne&&x.B.isBrowser?me(Ne,ye):Ie(ye)});return function(Ne){return se.apply(this,arguments)}}(),W=se=>{const ye=se.enteringEl,Ne=se.leavingEl;ye.classList.remove("ion-page-invisible"),ye.style.removeProperty("pointer-events"),void 0!==Ne&&(Ne.classList.remove("ion-page-invisible"),Ne.style.removeProperty("pointer-events")),ie_setViewFocus(ye)},Y=function(){var se=(0,S.A)(function*(ye){return ye.leavingEl&&ye.animated&&0!==ye.duration?ye.animationBuilder?ye.animationBuilder:"ios"===ye.mode?(yield Promise.resolve().then(_.bind(_,9805))).iosTransitionAnimation:(yield Promise.resolve().then(_.bind(_,1393))).mdTransitionAnimation:void 0});return function(Ne){return se.apply(this,arguments)}}(),me=function(){var se=(0,S.A)(function*(ye,Ne){yield Xe(Ne,!0);const Le=ye(Ne.baseEl,Ne);ve(Ne.enteringEl,Ne.leavingEl);const Se=yield Ee(Le,Ne);return Ne.progressCallback&&Ne.progressCallback(void 0),Se&&ue(Ne.enteringEl,Ne.leavingEl),{hasCompleted:Se,animation:Le}});return function(Ne,Le){return se.apply(this,arguments)}}(),Ie=function(){var se=(0,S.A)(function*(ye){const Ne=ye.enteringEl,Le=ye.leavingEl,Se=x.e.get("focusManagerPriority",!1);return yield Xe(ye,Se),ve(Ne,Le),ue(Ne,Le),{hasCompleted:!0}});return function(Ne){return se.apply(this,arguments)}}(),Xe=function(){var se=(0,S.A)(function*(ye,Ne){(void 0!==ye.deepWait?ye.deepWait:Ne)&&(yield Promise.all([K(ye.enteringEl),K(ye.leavingEl)])),yield te(ye.viewIsReady,ye.enteringEl)});return function(Ne,Le){return se.apply(this,arguments)}}(),te=function(){var se=(0,S.A)(function*(ye,Ne){ye&&(yield ye(Ne))});return function(Ne,Le){return se.apply(this,arguments)}}(),Ee=(se,ye)=>{const Ne=ye.progressCallback,Le=new Promise(Se=>{se.onFinish(et=>Se(1===et))});return Ne?(se.progressStart(!0),Ne(se)):se.play(),Le},ve=(se,ye)=>{De(ye,f),De(se,"ionViewWillEnter")},ue=(se,ye)=>{De(se,"ionViewDidEnter"),De(ye,O)},De=(se,ye)=>{if(se){const Ne=new CustomEvent(ye,{bubbles:!1,cancelable:!1});se.dispatchEvent(Ne)}},j=()=>new Promise(se=>(0,L.r)(()=>(0,L.r)(()=>se()))),K=function(){var se=(0,S.A)(function*(ye){const Ne=ye;if(Ne){if(null!=Ne.componentOnReady){if(null!=(yield Ne.componentOnReady()))return}else if(null!=Ne.__registerHost)return void(yield new Promise(Se=>(0,L.r)(Se)));yield Promise.all(Array.from(Ne.children).map(K))}});return function(Ne){return se.apply(this,arguments)}}(),Ue=(se,ye)=>{ye?(se.setAttribute("aria-hidden","true"),se.classList.add("ion-page-hidden")):(se.hidden=!1,se.removeAttribute("aria-hidden"),se.classList.remove("ion-page-hidden"))},G=(se,ye,Ne)=>{void 0!==se&&(se.style.zIndex="back"===Ne?"99":"101"),void 0!==ye&&(ye.style.zIndex="100")},ne=se=>se.classList.contains("ion-page")?se:se.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||se},6784:(Z,we,_)=>{"use strict";var x=_(3948);we.J=x.default},6837:(Z,we,_)=>{"use strict";var S=_(840),x=S("String.prototype.valueOf"),z=S("Object.prototype.toString"),f=_(5328)();Z.exports=function(E){return"string"==typeof E||!(!E||"object"!=typeof E)&&(f?function(E){try{return x(E),!0}catch{return!1}}(E):"[object String]"===z(E))}},6959:(Z,we,_)=>{"use strict";var S=_(6837),x=_(8979),L=_(6484),z=_(3016),k=_(7671);Z.exports=function(O){return null==O||"object"!=typeof O&&"function"!=typeof O?null:S(O)?"String":x(O)?"Number":L(O)?"Boolean":z(O)?"Symbol":k(O)?"BigInt":void 0}},6969:(Z,we,_)=>{"use strict";var S=_(592),x=_(6283),L=_(8447),z=_(78),k=_(7100),f=x.apply(z()),O=function(P,R){return f(Object,arguments)};S(O,{getPolyfill:z,implementation:L,shim:k}),Z.exports=O},6998:Z=>{"use strict";Z.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},7031:Z=>{var we,_;we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z.exports=_={rotl:function(S,x){return S<<x|S>>>32-x},rotr:function(S,x){return S<<32-x|S>>>x},endian:function(S){if(S.constructor==Number)return 16711935&_.rotl(S,8)|4278255360&_.rotl(S,24);for(var x=0;x<S.length;x++)S[x]=_.endian(S[x]);return S},randomBytes:function(S){for(var x=[];S>0;S--)x.push(Math.floor(256*Math.random()));return x},bytesToWords:function(S){for(var x=[],L=0,z=0;L<S.length;L++,z+=8)x[z>>>5]|=S[L]<<24-z%32;return x},wordsToBytes:function(S){for(var x=[],L=0;L<32*S.length;L+=8)x.push(S[L>>>5]>>>24-L%32&255);return x},bytesToHex:function(S){for(var x=[],L=0;L<S.length;L++)x.push((S[L]>>>4).toString(16)),x.push((15&S[L]).toString(16));return x.join("")},hexToBytes:function(S){for(var x=[],L=0;L<S.length;L+=2)x.push(parseInt(S.substr(L,2),16));return x},bytesToBase64:function(S){for(var x=[],L=0;L<S.length;L+=3)for(var z=S[L]<<16|S[L+1]<<8|S[L+2],k=0;k<4;k++)x.push(8*L+6*k<=8*S.length?we.charAt(z>>>6*(3-k)&63):"=");return x.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var x=[],L=0,z=0;L<S.length;z=++L%4)0!=z&&x.push((we.indexOf(S.charAt(L-1))&Math.pow(2,-2*z+8)-1)<<2*z|we.indexOf(S.charAt(L))>>>6-2*z);return x}}},7057:(Z,we,_)=>{"use strict";var S=_(592),x=_(6283),L=_(1143),z=_(4198),k=_(8436),f=x(z());S(f,{getPolyfill:z,implementation:L,shim:k}),Z.exports=f},7100:(Z,we,_)=>{"use strict";var S=_(592),x=_(78);Z.exports=function(){var z=x();return S(Object,{assign:z},{assign:function(){return Object.assign!==z}}),z}},7133:(Z,we,_)=>{"use strict";_.d(we,{c:()=>O});var S=_(9335),x=_(575);let L;const k=(E,P,R)=>{const H=P.startsWith("animation")?(E=>(void 0===L&&(L=void 0===E.style.animationName&&void 0!==E.style.webkitAnimationName?"-webkit-":""),L))(E):"";E.style.setProperty(H+P,R)},f=(E=[],P)=>{if(void 0!==P){const R=Array.isArray(P)?P:[P];return[...E,...R]}return E},O=E=>{let P,R,H,N,I,T,W,ue,De,j,ne,ie=[],ce=[],Ce=[],X=!1,Y={},me=[],Ie=[],Xe={},te=0,Ee=!1,ve=!1,K=!0,Ue=!1,G=!0,se=!1;const ye=E,Ne=[],Le=[],Se=[],et=[],St=[],Te=[],ze=[],gt=[],ft=[],bt=[],ot=[],Et="function"==typeof AnimationEffect||void 0!==x.w&&"function"==typeof x.w.AnimationEffect,Ke="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Et,yt=()=>ot,xt=(xe,kt)=>{const zt=kt.findIndex(ur=>ur.c===xe);zt>-1&&kt.splice(zt,1)},Oe=(xe,kt)=>((kt?.oneTimeCallback?Le:Ne).push({c:xe,o:kt}),ne),ct=()=>{Ke&&(ot.forEach(xe=>{xe.cancel()}),ot.length=0)},Qt=()=>{Te.forEach(xe=>{xe?.parentNode&&xe.parentNode.removeChild(xe)}),Te.length=0},Qo=()=>void 0!==I?I:W?W.getFill():"both",Ae=()=>void 0!==ue?ue:void 0!==T?T:W?W.getDirection():"normal",Pe=()=>Ee?"linear":void 0!==H?H:W?W.getEasing():"linear",Yt=()=>ve?0:void 0!==De?De:void 0!==R?R:W?W.getDuration():0,Vn=()=>void 0!==N?N:W?W.getIterations():1,bn=()=>void 0!==j?j:void 0!==P?P:W?W.getDelay():0,xo=()=>{0!==te&&(te--,0===te&&((()=>{ft.forEach(Xn=>Xn()),bt.forEach(Xn=>Xn());const xe=K?1:0,kt=me,zt=Ie,ur=Xe;et.forEach(Xn=>{const Vo=Xn.classList;kt.forEach(Uo=>Vo.add(Uo)),zt.forEach(Uo=>Vo.remove(Uo));for(const Uo in ur)ur.hasOwnProperty(Uo)&&k(Xn,Uo,ur[Uo])}),De=void 0,ue=void 0,j=void 0,Ne.forEach(Xn=>Xn.c(xe,ne)),Le.forEach(Xn=>Xn.c(xe,ne)),Le.length=0,G=!0,K&&(Ue=!0),K=!0})(),W&&W.animationFinish()))},di=()=>{(()=>{ze.forEach(ur=>ur()),gt.forEach(ur=>ur());const xe=ce,kt=Ce,zt=Y;et.forEach(ur=>{const Xn=ur.classList;xe.forEach(Vo=>Xn.add(Vo)),kt.forEach(Vo=>Xn.remove(Vo));for(const Vo in zt)zt.hasOwnProperty(Vo)&&k(ur,Vo,zt[Vo])})})(),ie.length>0&&Ke&&(et.forEach(xe=>{const kt=xe.animate(ie,{id:ye,delay:bn(),duration:Yt(),easing:Pe(),iterations:Vn(),fill:Qo(),direction:Ae()});kt.pause(),ot.push(kt)}),ot.length>0&&(ot[0].onfinish=()=>{xo()})),X=!0},jo=xe=>{xe=Math.min(Math.max(xe,0),.9999),Ke&&ot.forEach(kt=>{kt.currentTime=kt.effect.getComputedTiming().delay+Yt()*xe,kt.pause()})},Fe=xe=>{ot.forEach(kt=>{kt.effect.updateTiming({delay:bn(),duration:Yt(),easing:Pe(),iterations:Vn(),fill:Qo(),direction:Ae()})}),void 0!==xe&&jo(xe)},ir=(xe=!1,kt=!0,zt)=>(xe&&St.forEach(ur=>{ur.update(xe,kt,zt)}),Ke&&Fe(zt),ne),Bi=()=>{X&&(Ke?ot.forEach(xe=>{xe.pause()}):et.forEach(xe=>{k(xe,"animation-play-state","paused")}),se=!0)},sa=xe=>new Promise(kt=>{xe?.sync&&(ve=!0,Oe(()=>ve=!1,{oneTimeCallback:!0})),X||di(),Ue&&(Ke&&(jo(0),Fe()),Ue=!1),G&&(te=St.length+1,G=!1);const zt=()=>{xt(ur,Le),kt()},ur=()=>{xt(zt,Se),kt()};Oe(ur,{oneTimeCallback:!0}),(xe=>{Se.push({c:xe,o:{oneTimeCallback:!0}})})(zt),St.forEach(Xn=>{Xn.play()}),Ke?(ot.forEach(xe=>{xe.play()}),(0===ie.length||0===et.length)&&xo()):xo(),se=!1}),Pn=(xe,kt)=>{const zt=ie[0];return void 0===zt||void 0!==zt.offset&&0!==zt.offset?ie=[{offset:0,[xe]:kt},...ie]:zt[xe]=kt,ne};return ne={parentAnimation:W,elements:et,childAnimations:St,id:ye,animationFinish:xo,from:Pn,to:(xe,kt)=>{const zt=ie[ie.length-1];return void 0===zt||void 0!==zt.offset&&1!==zt.offset?ie=[...ie,{offset:1,[xe]:kt}]:zt[xe]=kt,ne},fromTo:(xe,kt,zt)=>Pn(xe,kt).to(xe,zt),parent:xe=>(W=xe,ne),play:sa,pause:()=>(St.forEach(xe=>{xe.pause()}),Bi(),ne),stop:()=>{St.forEach(xe=>{xe.stop()}),X&&(ct(),X=!1),Ee=!1,ve=!1,G=!0,ue=void 0,De=void 0,j=void 0,te=0,Ue=!1,K=!0,se=!1,Se.forEach(xe=>xe.c(0,ne)),Se.length=0},destroy:xe=>(St.forEach(kt=>{kt.destroy(xe)}),(xe=>{ct(),xe&&Qt()})(xe),et.length=0,St.length=0,ie.length=0,Ne.length=0,Le.length=0,X=!1,G=!0,ne),keyframes:xe=>{const kt=ie!==xe;return ie=xe,kt&&(xe=>{Ke&&yt().forEach(kt=>{const zt=kt.effect;if(zt.setKeyframes)zt.setKeyframes(xe);else{const ur=new KeyframeEffect(zt.target,xe,zt.getTiming());kt.effect=ur}})})(ie),ne},addAnimation:xe=>{if(null!=xe)if(Array.isArray(xe))for(const kt of xe)kt.parent(ne),St.push(kt);else xe.parent(ne),St.push(xe);return ne},addElement:xe=>{if(null!=xe)if(1===xe.nodeType)et.push(xe);else if(xe.length>=0)for(let kt=0;kt<xe.length;kt++)et.push(xe[kt]);else(0,S.j)("createAnimation - Invalid addElement value.");return ne},update:ir,fill:xe=>(I=xe,ir(!0),ne),direction:xe=>(T=xe,ir(!0),ne),iterations:xe=>(N=xe,ir(!0),ne),duration:xe=>(!Ke&&0===xe&&(xe=1),R=xe,ir(!0),ne),easing:xe=>(H=xe,ir(!0),ne),delay:xe=>(P=xe,ir(!0),ne),getWebAnimations:yt,getKeyframes:()=>ie,getFill:Qo,getDirection:Ae,getDelay:bn,getIterations:Vn,getEasing:Pe,getDuration:Yt,afterAddRead:xe=>(ft.push(xe),ne),afterAddWrite:xe=>(bt.push(xe),ne),afterClearStyles:(xe=[])=>{for(const kt of xe)Xe[kt]="";return ne},afterStyles:(xe={})=>(Xe=xe,ne),afterRemoveClass:xe=>(Ie=f(Ie,xe),ne),afterAddClass:xe=>(me=f(me,xe),ne),beforeAddRead:xe=>(ze.push(xe),ne),beforeAddWrite:xe=>(gt.push(xe),ne),beforeClearStyles:(xe=[])=>{for(const kt of xe)Y[kt]="";return ne},beforeStyles:(xe={})=>(Y=xe,ne),beforeRemoveClass:xe=>(Ce=f(Ce,xe),ne),beforeAddClass:xe=>(ce=f(ce,xe),ne),onFinish:Oe,isRunning:()=>0!==te&&!se,progressStart:(xe=!1,kt)=>(St.forEach(zt=>{zt.progressStart(xe,kt)}),Bi(),Ee=xe,X||di(),ir(!1,!0,kt),ne),progressStep:xe=>(St.forEach(kt=>{kt.progressStep(xe)}),jo(xe),ne),progressEnd:(xe,kt,zt)=>(Ee=!1,St.forEach(ur=>{ur.progressEnd(xe,kt,zt)}),void 0!==zt&&(De=zt),Ue=!1,K=!0,0===xe?(ue="reverse"===Ae()?"normal":"reverse","reverse"===ue&&(K=!1),Ke?(ir(),jo(1-kt)):(j=(1-kt)*Yt()*-1,ir(!1,!1))):1===xe&&(Ke?(ir(),jo(kt)):(j=kt*Yt()*-1,ir(!1,!1))),void 0!==xe&&!W&&sa(),ne)}}},7268:Z=>{"use strict";var S,x,we=Function.prototype.toString,_="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof _&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw x}}),x={},_(function(){throw 42},null,S)}catch(Ce){Ce!==x&&(_=null)}else _=null;var L=/^\s*class\b/,z=function(X){try{var W=we.call(X);return L.test(W)}catch{return!1}},k=function(X){try{return!z(X)&&(we.call(X),!0)}catch{return!1}},f=Object.prototype.toString,I="function"==typeof Symbol&&!!Symbol.toStringTag,T=!(0 in[,]),ie=function(){return!1};if("object"==typeof document){var ce=document.all;f.call(ce)===f.call(document.all)&&(ie=function(X){if((T||!X)&&(typeof X>"u"||"object"==typeof X))try{var W=f.call(X);return("[object HTMLAllCollection]"===W||"[object HTML document.all class]"===W||"[object HTMLCollection]"===W||"[object Object]"===W)&&null==X("")}catch{}return!1})}Z.exports=_?function(X){if(ie(X))return!0;if(!X||"function"!=typeof X&&"object"!=typeof X)return!1;try{_(X,null,S)}catch(W){if(W!==x)return!1}return!z(X)&&k(X)}:function(X){if(ie(X))return!0;if(!X||"function"!=typeof X&&"object"!=typeof X)return!1;if(I)return k(X);if(z(X))return!1;var W=f.call(X);return!("[object Function]"!==W&&"[object GeneratorFunction]"!==W&&!/^\[object HTML/.test(W))&&k(X)}},7308:(Z,we)=>{"use strict";var _=Object.prototype.hasOwnProperty;function x(f){try{return decodeURIComponent(f.replace(/\+/g," "))}catch{return null}}function L(f){try{return encodeURIComponent(f)}catch{return null}}we.stringify=function k(f,O){O=O||"";var P,R,E=[];for(R in"string"!=typeof O&&(O="?"),f)if(_.call(f,R)){if(!(P=f[R])&&(null==P||isNaN(P))&&(P=""),R=L(R),P=L(P),null===R||null===P)continue;E.push(R+"="+P)}return E.length?O+E.join("&"):""},we.parse=function z(f){for(var P,O=/([^=?#&]+)=?([^&]*)/g,E={};P=O.exec(f);){var R=x(P[1]),H=x(P[2]);null===R||null===H||R in E||(E[R]=H)}return E}},7433:(Z,we,_)=>{"use strict";_.d(we,{B:()=>ot,F:()=>xt,G:()=>Et,O:()=>Ke,a:()=>Ce,b:()=>X,c:()=>Ie,d:()=>yt,e:()=>Ot,f:()=>Ne,g:()=>Se,h:()=>Te,i:()=>gt,j:()=>te,k:()=>Ee,l:()=>W,m:()=>Y,n:()=>R,o:()=>se,q:()=>H,s:()=>bt});var S=_(1890),x=_(575),L=_(6721),z=_(4896),k=_(9335),f=_(9919),O=_(5827),E=_(566);const P='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',R=(Ye,Oe)=>{const We=Ye.querySelector(P);N(We,Oe??Ye)},H=(Ye,Oe)=>{const We=Array.from(Ye.querySelectorAll(P));N(We.length>0?We[We.length-1]:null,Oe??Ye)},N=(Ye,Oe)=>{let We=Ye;const ct=Ye?.shadowRoot;if(ct&&(We=ct.querySelector(P)||Ye),We){const Qt=We.closest("ion-radio-group");Qt?Qt.setFocus():(0,L.n)(We)}else Oe.focus()};let I=0,T=0;const ie=new WeakMap,ce=Ye=>({create:Oe=>ve(Ye,Oe),dismiss:(Oe,We,ct)=>Ue(document,Oe,We,Ye,ct),getTop:()=>(0,S.A)(function*(){return se(document,Ye)})()}),Ce=ce("ion-alert"),X=ce("ion-action-sheet"),W=ce("ion-loading"),Y=ce("ion-modal"),Ie=ce("ion-popover"),te=Ye=>{typeof document<"u"&&K(document);const Oe=I++;Ye.overlayIndex=Oe},Ee=Ye=>(Ye.hasAttribute("id")||(Ye.id="ion-overlay-"+ ++T),Ye.id),ve=(Ye,Oe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ye).then(()=>{const We=document.createElement(Ye);return We.classList.add("overlay-hidden"),Object.assign(We,Object.assign(Object.assign({},Oe),{hasController:!0})),et(document).appendChild(We),new Promise(ct=>(0,L.c)(We,ct))}):Promise.resolve(),De=(Ye,Oe)=>{let We=Ye;const ct=Ye?.shadowRoot;ct&&(We=ct.querySelector(P)||Ye),We?(0,L.n)(We):Oe.focus()},K=Ye=>{0===I&&(I=1,Ye.addEventListener("focus",Oe=>{((Ye,Oe)=>{const We=se(Oe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),ct=Ye.target;We&&ct&&!We.classList.contains(xt)&&(We.shadowRoot?(()=>{if(We.contains(ct))We.lastFocus=ct;else if("ION-TOAST"===ct.tagName)De(We.lastFocus,We);else{const En=We.lastFocus;R(We),En===Oe.activeElement&&H(We),We.lastFocus=Oe.activeElement}})():(()=>{if(We===ct)We.lastFocus=void 0;else if("ION-TOAST"===ct.tagName)De(We.lastFocus,We);else{const En=(0,L.g)(We);if(!En.contains(ct))return;const on=En.querySelector(".ion-overlay-wrapper");if(!on)return;if(on.contains(ct)||ct===En.querySelector("ion-backdrop"))We.lastFocus=ct;else{const vn=We.lastFocus;R(on,We),vn===Oe.activeElement&&H(on,We),We.lastFocus=Oe.activeElement}}})())})(Oe,Ye)},!0),Ye.addEventListener("ionBackButton",Oe=>{const We=se(Ye);We?.backdropDismiss&&Oe.detail.register(z.OVERLAY_BACK_BUTTON_PRIORITY,()=>{We.dismiss(void 0,ot)})}),(0,z.shouldUseCloseWatcher)()||Ye.addEventListener("keydown",Oe=>{if("Escape"===Oe.key){const We=se(Ye);We?.backdropDismiss&&We.dismiss(void 0,ot)}}))},Ue=(Ye,Oe,We,ct,Qt)=>{const fn=se(Ye,ct,Qt);return fn?fn.dismiss(Oe,We):Promise.reject("overlay does not exist")},ne=(Ye,Oe)=>((Ye,Oe)=>(void 0===Oe&&(Oe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Ye.querySelectorAll(Oe)).filter(We=>We.overlayIndex>0)))(Ye,Oe).filter(We=>!(Ye=>Ye.classList.contains("overlay-hidden"))(We)),se=(Ye,Oe,We)=>{const ct=ne(Ye,Oe);return void 0===We?ct[ct.length-1]:ct.find(Qt=>Qt.id===We)},ye=(Ye=!1)=>{const We=et(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");We&&(Ye?We.setAttribute("aria-hidden","true"):We.removeAttribute("aria-hidden"))},Ne=function(){var Ye=(0,S.A)(function*(Oe,We,ct,Qt,fn){var En,on;if(Oe.presented)return;"ION-TOAST"!==Oe.el.tagName&&(ye(!0),document.body.classList.add(E.B)),_n(Oe.el),yn(Oe.el),Oe.presented=!0,Oe.willPresent.emit(),null===(En=Oe.willPresentShorthand)||void 0===En||En.emit();const vn=(0,f.b)(Oe),nr=Oe.enterAnimation?Oe.enterAnimation:k.e.get(We,"ios"===vn?ct:Qt);(yield St(Oe,nr,Oe.el,fn))&&(Oe.didPresent.emit(),null===(on=Oe.didPresentShorthand)||void 0===on||on.emit()),"ION-TOAST"!==Oe.el.tagName&&Le(Oe.el),Oe.keyboardClose&&(null===document.activeElement||!Oe.el.contains(document.activeElement))&&Oe.el.focus(),Oe.el.removeAttribute("aria-hidden")});return function(We,ct,Qt,fn,En){return Ye.apply(this,arguments)}}(),Le=function(){var Ye=(0,S.A)(function*(Oe){let We=document.activeElement;if(!We)return;const ct=We?.shadowRoot;ct&&(We=ct.querySelector(P)||We),yield Oe.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&We.focus()});return function(We){return Ye.apply(this,arguments)}}(),Se=function(){var Ye=(0,S.A)(function*(Oe,We,ct,Qt,fn,En,on){var vn,nr;if(!Oe.presented)return!1;const Zr=(void 0!==x.d?ne(x.d):[]).filter(Lr=>"ION-TOAST"!==Lr.tagName);1===Zr.length&&Zr[0].id===Oe.el.id&&(ye(!1),document.body.classList.remove(E.B)),Oe.presented=!1;try{yn(Oe.el),Oe.el.style.setProperty("pointer-events","none"),Oe.willDismiss.emit({data:We,role:ct}),null===(vn=Oe.willDismissShorthand)||void 0===vn||vn.emit({data:We,role:ct});const Lr=(0,f.b)(Oe),Mo=Oe.leaveAnimation?Oe.leaveAnimation:k.e.get(Qt,"ios"===Lr?fn:En);ct!==Et&&(yield St(Oe,Mo,Oe.el,on)),Oe.didDismiss.emit({data:We,role:ct}),null===(nr=Oe.didDismissShorthand)||void 0===nr||nr.emit({data:We,role:ct}),(ie.get(Oe)||[]).forEach(sn=>sn.destroy()),ie.delete(Oe),Oe.el.classList.add("overlay-hidden"),Oe.el.style.removeProperty("pointer-events"),void 0!==Oe.el.lastFocus&&(Oe.el.lastFocus=void 0)}catch(Lr){(0,k.j)(`[${Oe.el.tagName.toLowerCase()}] - `,Lr)}return Oe.el.remove(),Zt(),!0});return function(We,ct,Qt,fn,En,on,vn){return Ye.apply(this,arguments)}}(),et=Ye=>Ye.querySelector("ion-app")||Ye.body,St=function(){var Ye=(0,S.A)(function*(Oe,We,ct,Qt){ct.classList.remove("overlay-hidden");const En=We(Oe.el,Qt);(!Oe.animated||!k.e.getBoolean("animated",!0))&&En.duration(0),Oe.keyboardClose&&En.beforeAddWrite(()=>{const vn=ct.ownerDocument.activeElement;vn?.matches("input,ion-input, ion-textarea")&&vn.blur()});const on=ie.get(Oe)||[];return ie.set(Oe,[...on,En]),yield En.play(),!0});return function(We,ct,Qt,fn){return Ye.apply(this,arguments)}}(),Te=(Ye,Oe)=>{let We;const ct=new Promise(Qt=>We=Qt);return ze(Ye,Oe,Qt=>{We(Qt.detail)}),ct},ze=(Ye,Oe,We)=>{const ct=Qt=>{(0,L.m)(Ye,Oe,ct),We(Qt)};(0,L.f)(Ye,Oe,ct)},gt=Ye=>"cancel"===Ye||Ye===ot,ft=Ye=>Ye(),bt=(Ye,Oe)=>{if("function"==typeof Ye)return k.e.get("_zoneGate",ft)(()=>{try{return Ye(Oe)}catch(ct){throw ct}})},ot="backdrop",Et="gesture",Ke=39,yt=Ye=>{let We,Oe=!1;const ct=(0,O.C)(),Qt=(on=!1)=>{if(We&&!on)return{delegate:We,inline:Oe};const{el:vn,hasController:nr,delegate:cr}=Ye;return Oe=null!==vn.parentNode&&!nr,We=Oe?cr||ct:cr,{inline:Oe,delegate:We}};return{attachViewToDom:function(){var on=(0,S.A)(function*(vn){const{delegate:nr}=Qt(!0);if(nr)return yield nr.attachViewToDom(Ye.el,vn);const{hasController:cr}=Ye;if(cr&&void 0!==vn)throw new Error("framework delegate is missing");return null});return function(nr){return on.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:on}=Qt();on&&void 0!==Ye.el&&on.removeViewFromDom(Ye.el.parentElement,Ye.el)}}},Ot=()=>{let Ye;const Oe=()=>{Ye&&(Ye(),Ye=void 0)};return{addClickListener:(ct,Qt)=>{Oe();const fn=void 0!==Qt?document.getElementById(Qt):null;fn?Ye=((on,vn)=>{const nr=()=>{vn.present()};return on.addEventListener("click",nr),()=>{on.removeEventListener("click",nr)}})(fn,ct):(0,k.f)(`[${ct.tagName.toLowerCase()}] - A trigger element with the ID "${Qt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,ct)},removeClickListener:Oe}},yn=Ye=>{void 0!==x.d&&(0,f.a)("android")&&Ye.setAttribute("aria-hidden","true")},_n=Ye=>{var Oe;if(void 0===x.d)return;const We=ne(x.d);for(let ct=We.length-1;ct>=0;ct--){const Qt=We[ct],fn=null!==(Oe=We[ct+1])&&void 0!==Oe?Oe:Ye;(fn.hasAttribute("aria-hidden")||"ION-TOAST"!==fn.tagName)&&Qt.setAttribute("aria-hidden","true")}},Zt=()=>{if(void 0===x.d)return;const Ye=ne(x.d);for(let Oe=Ye.length-1;Oe>=0;Oe--){const We=Ye[Oe];if(We.removeAttribute("aria-hidden"),"ION-TOAST"!==We.tagName)break}},xt="ion-disable-focus-trap"},7510:(Z,we,_)=>{var L,S=_(5e3).default,x=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(z={}){var f=z,O="object"==typeof window,E=typeof WorkerGlobalScope<"u",H=("object"==typeof process&&process.versions?.node&&process,"./this.program"),N=(u,D)=>{throw D};E&&(L=self.location.href);var ie,ce,I="";if(O||E){try{I=new URL(".",L).href}catch{}E&&(ce=u=>{var D=new XMLHttpRequest;return D.open("GET",u,!1),D.responseType="arraybuffer",D.send(null),new Uint8Array(D.response)}),ie=function(){var u=S(function*(D){var le=yield fetch(D,{credentials:"same-origin"});if(le.ok)return le.arrayBuffer();throw new Error(le.status+" : "+le.url)});return function(le){return u.apply(this,arguments)}}()}var W,me,Ce=console.log.bind(console),X=console.error.bind(console),Y=!1;function Ie(u,D){u||Ke(D)}function te(){if(!Y){var u=Mf();0==u&&(u+=4);var D=ne[u>>2],le=ne[u+4>>2];(34821223!=D||2310721022!=le)&&Ke(`Stack overflow! Stack cookie has been overwritten at ${Lr(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Lr(le)} ${Lr(D)}`),1668509029!=ne[0]&&Ke("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Ee,ve,ue,De,j,G,ne,ye,Ne,Se=!1;function et(){var u=ue.buffer;De=new Int8Array(u),new Int16Array(u),f.HEAPU8=j=new Uint8Array(u),new Uint16Array(u),G=new Int32Array(u),f.HEAPU32=ne=new Uint32Array(u),new Float32Array(u),ye=new Float64Array(u),Ne=new BigInt64Array(u),new BigUint64Array(u)}var yt,ft=0,bt=null;function Ke(u){f.onAbort?.(u),X(u="Aborted("+u+")"),Y=!0,u+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(u);throw ve?.(D),D}function Zt(){return(Zt=S(function*(u){if(!W)try{var D=yield ie(u);return new Uint8Array(D)}catch{}return function yn(u){if(u==yt&&W)return new Uint8Array(W);if(ce)return ce(u);throw"both async and sync fetching of the wasm failed"}(u)})).apply(this,arguments)}function Ye(){return Ye=S(function*(u,D){try{var le=yield function _n(u){return Zt.apply(this,arguments)}(u);return yield WebAssembly.instantiate(le,D)}catch(Bt){X(`failed to asynchronously prepare wasm: ${Bt}`),Ke(Bt)}}),Ye.apply(this,arguments)}function We(){return We=S(function*(u,D,le){if(!u&&"function"==typeof WebAssembly.instantiateStreaming)try{var it=fetch(D,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(it,le)}catch(Tn){X(`wasm streaming compile failed: ${Tn}`),X("falling back to ArrayBuffer instantiation")}return function xt(u,D){return Ye.apply(this,arguments)}(D,le)}),We.apply(this,arguments)}function fn(){return fn=S(function*(){function u(Tn,Gn){return ue=(mc=Tn.exports).u,et(),jr=mc.Vc,function ky(u){f._main=rt=u.w,f._webidl_free=u.x,f._webidl_malloc=u.y,f._emscripten_bind_VoidPtr___destroy___0=xi=u.z,f._emscripten_bind_Cloudpilot_Cloudpilot_0=Go=u.A,f._emscripten_bind_Cloudpilot_Malloc_1=la=u.B,f._emscripten_bind_Cloudpilot_Free_1=ds=u.C,f._emscripten_bind_Cloudpilot_Nullptr_0=$s=u.D,f._emscripten_bind_Cloudpilot_EnableLogging_1=zo=u.E,f._emscripten_bind_Cloudpilot_InitializeSession_3=fs=u.F,f._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=fi=u.G,f._emscripten_bind_Cloudpilot_RunEmulation_1=ps=u.H,f._emscripten_bind_Cloudpilot_SetClockFactor_1=hs=u.I,f._emscripten_bind_Cloudpilot_CopyFrame_0=Vi=u.J,f._emscripten_bind_Cloudpilot_IsScreenDirty_0=io=u.K,f._emscripten_bind_Cloudpilot_MarkScreenClean_0=pi=u.L,f._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=Ui=u.M,f._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=Hi=u.N,f._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=Bs=u.O,f._emscripten_bind_Cloudpilot_QueuePenMove_2=gs=u.P,f._emscripten_bind_Cloudpilot_QueuePenUp_0=ti=u.Q,f._emscripten_bind_Cloudpilot_QueueButtonDown_1=Wo=u.R,f._emscripten_bind_Cloudpilot_QueueButtonUp_1=hi=u.S,f._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=Wt=u.T,f._emscripten_bind_Cloudpilot_IsPowerOff_0=un=u.U,f._emscripten_bind_Cloudpilot_IsUIInitialized_0=ca=u.V,f._emscripten_bind_Cloudpilot_GetOSVersion_0=js=u.W,f._emscripten_bind_Cloudpilot_IsSetupComplete_0=go=u.X,f._emscripten_bind_Cloudpilot_Reset_0=ms=u.Y,f._emscripten_bind_Cloudpilot_ResetNoExtensions_0=ki=u.Z,f._emscripten_bind_Cloudpilot_ResetHard_0=Gi=u._,f._emscripten_bind_Cloudpilot_InstallDb_2=vs=u.$,f._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=Oa=u.aa,f._emscripten_bind_Cloudpilot_GetMemoryPtr_0=Vs=u.ba,f._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=ys=u.ca,f._emscripten_bind_Cloudpilot_GetMemorySize_0=ua=u.da,f._emscripten_bind_Cloudpilot_ImportMemoryImage_2=Us=u.ea,f._emscripten_bind_Cloudpilot_GetRomPtr_0=Hs=u.fa,f._emscripten_bind_Cloudpilot_GetRomSize_0=da=u.ga,f._emscripten_bind_Cloudpilot_GetSavestatePtr_0=Gs=u.ha,f._emscripten_bind_Cloudpilot_GetSavestateSize_0=mo=u.ia,f._emscripten_bind_Cloudpilot_SaveState_0=zs=u.ja,f._emscripten_bind_Cloudpilot_LoadState_2=Xr=u.ka,f._emscripten_bind_Cloudpilot_GetHotsyncName_0=zi=u.la,f._emscripten_bind_Cloudpilot_SetHotsyncName_1=fa=u.ma,f._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=Pa=u.na,f._emscripten_bind_Cloudpilot_StartBackup_0=ko=u.oa,f._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=_s=u.pa,f._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=pa=u.qa,f._emscripten_bind_Cloudpilot_IsSuspended_0=Ws=u.ra,f._emscripten_bind_Cloudpilot_GetSuspendContext_0=oe=u.sa,f._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=qs=u.ta,f._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=$e=u.ua,f._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=ni=u.va,f._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=ha=u.wa,f._emscripten_bind_Cloudpilot_LaunchAppByName_1=bs=u.xa,f._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=Ri=u.ya,f._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=il=u.za,f._emscripten_bind_Cloudpilot_ClearExternalStorage_0=p=u.Aa,f._emscripten_bind_Cloudpilot_AllocateCard_2=m=u.Ba,f._emscripten_bind_Cloudpilot_AdoptCard_3=w=u.Ca,f._emscripten_bind_Cloudpilot_MountCard_1=A=u.Da,f._emscripten_bind_Cloudpilot_RemoveCard_1=ee=u.Ea,f._emscripten_bind_Cloudpilot_GetCardData_1=J=u.Fa,f._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=He=u.Ga,f._emscripten_bind_Cloudpilot_GetCardSize_1=he=u.Ha,f._emscripten_bind_Cloudpilot_RemountCards_0=Ze=u.Ia,f._emscripten_bind_Cloudpilot_GetSupportLevel_1=_e=u.Ja,f._emscripten_bind_Cloudpilot_GetMountedKey_0=je=u.Ka,f._emscripten_bind_Cloudpilot_GetTransportIR_0=dt=u.La,f._emscripten_bind_Cloudpilot_GetTransportSerial_0=ut=u.Ma,f._emscripten_bind_Cloudpilot___destroy___0=Tt=u.Na,f._emscripten_bind_RomInfo_RomInfo_2=pt=u.Oa,f._emscripten_bind_RomInfo_IsValid_0=At=u.Pa,f._emscripten_bind_RomInfo_CardVersion_0=rr=u.Qa,f._emscripten_bind_RomInfo_CardName_0=Kt=u.Ra,f._emscripten_bind_RomInfo_RomVersion_0=Xt=u.Sa,f._emscripten_bind_RomInfo_RomVersionString_0=Rn=u.Ta,f._emscripten_bind_RomInfo_Supports_1=an=u.Ua,f._emscripten_bind_RomInfo___destroy___0=Ct=u.Va,f._emscripten_bind_Frame_GetLineWidth_0=Ln=u.Wa,f._emscripten_bind_Frame_GetBpp_0=pn=u.Xa,f._emscripten_bind_Frame_GetLines_0=An=u.Ya,f._emscripten_bind_Frame_GetMargin_0=b=u.Za,f._emscripten_bind_Frame_GetBytesPerLine_0=$=u._a,f._emscripten_bind_Frame_GetFirstDirtyLine_0=ae=u.$a,f._emscripten_bind_Frame_GetLastDirtyLine_0=Be=u.ab,f._emscripten_bind_Frame_GetHasChanges_0=Rt=u.bb,f._emscripten_bind_Frame_GetBuffer_0=rn=u.cb,f._emscripten_bind_Frame_GetBufferSize_0=gn=u.db,f._emscripten_bind_Frame_GetScaleX_0=$n=u.eb,f._emscripten_bind_Frame_GetScaleY_0=Vr=u.fb,f._emscripten_bind_Frame___destroy___0=dn=u.gb,f._emscripten_bind_DbBackup_Init_1=Cr=u.hb,f._emscripten_bind_DbBackup_IsInProgress_0=Or=u.ib,f._emscripten_bind_DbBackup_IsDone_0=sr=u.jb,f._emscripten_bind_DbBackup_GetCurrentDatabase_0=Mt=u.kb,f._emscripten_bind_DbBackup_Save_0=Ir=u.lb,f._emscripten_bind_DbBackup_Skip_0=Wn=u.mb,f._emscripten_bind_DbBackup_GetArchivePtr_0=Sr=u.nb,f._emscripten_bind_DbBackup_GetArchiveSize_0=ar=u.ob,f._emscripten_bind_DbBackup___destroy___0=Qn=u.pb,f._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=g=u.qb,f._emscripten_bind_SuspendContextClipboardCopy_Resume_0=B=u.rb,f._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=be=u.sb,f._emscripten_bind_SuspendContextClipboardCopy___destroy___0=st=u.tb,f._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=qt=u.ub,f._emscripten_bind_SuspendContextClipboardPaste_Resume_1=Sn=u.vb,f._emscripten_bind_SuspendContextClipboardPaste___destroy___0=jn=u.wb,f._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=Nn=u.xb,f._emscripten_bind_SuspendContextNetworkConnect_Resume_0=Pr=u.yb,f._emscripten_bind_SuspendContextNetworkConnect___destroy___0=Fa=u.zb,f._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=Tl=u.Ab,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=Al=u.Bb,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=ga=u.Cb,f._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=Ro=u.Db,f._emscripten_bind_SuspendContextNetworkRpc___destroy___0=pc=u.Eb,f._emscripten_bind_SuspendContextSerialSync_Cancel_0=Ku=u.Fb,f._emscripten_bind_SuspendContextSerialSync_Resume_0=Qr=u.Gb,f._emscripten_bind_SuspendContextSerialSync___destroy___0=lt=u.Hb,f._emscripten_bind_SuspendContext_GetKind_0=ln=u.Ib,f._emscripten_bind_SuspendContext_Cancel_0=Jr=u.Jb,f._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=qo=u.Kb,f._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=Do=u.Lb,f._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=sl=u.Mb,f._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=hc=u.Nb,f._emscripten_bind_SuspendContext_AsContextSerialSync_0=Jn=u.Ob,f._emscripten_bind_SuspendContext___destroy___0=wr=u.Pb,f._emscripten_bind_SessionImage_SessionImage_0=Wi=u.Qb,f._emscripten_bind_SessionImage_GetDeviceId_0=wn=u.Rb,f._emscripten_bind_SessionImage_SetDeviceId_1=al=u.Sb,f._emscripten_bind_SessionImage_GetRomImage_0=Kc=u.Tb,f._emscripten_bind_SessionImage_GetRomImageSize_0=Ml=u.Ub,f._emscripten_bind_SessionImage_SetRomImage_2=so=u.Vb,f._emscripten_bind_SessionImage_GetMemoryImage_0=La=u.Wb,f._emscripten_bind_SessionImage_GetMemoryImageSize_0=xl=u.Xb,f._emscripten_bind_SessionImage_SetMemoryImage_2=ma=u.Yb,f._emscripten_bind_SessionImage_GetMetadata_0=gc=u.Zb,f._emscripten_bind_SessionImage_GetMetadataSize_0=Sf=u._b,f._emscripten_bind_SessionImage_SetMetadata_2=$a=u.$b,f._emscripten_bind_SessionImage_GetSavestate_0=Xu=u.ac,f._emscripten_bind_SessionImage_GetSavestateSize_0=ll=u.bc,f._emscripten_bind_SessionImage_SetSavestate_2=Ni=u.cc,f._emscripten_bind_SessionImage_GetVersion_0=kl=u.dc,f._emscripten_bind_SessionImage_Serialize_0=tn=u.ec,f._emscripten_bind_SessionImage_GetSerializedImage_0=Qu=u.fc,f._emscripten_bind_SessionImage_GetSerializedImageSize_0=Ba=u.gc,f._emscripten_bind_SessionImage_Deserialize_2=va=u.hc,f._emscripten_bind_SessionImage___destroy___0=Xc=u.ic,f._emscripten_bind_SkinLoader_SkinLoader_1=Rl=u.jc,f._emscripten_bind_SkinLoader_GetData_0=Ur=u.kc,f._emscripten_bind_SkinLoader_GetSize_0=Hr=u.lc,f._emscripten_bind_SkinLoader___destroy___0=ri=u.mc,f._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=wf=u.nc,f._emscripten_bind_EmTransportSerialBuffer_Receive_0=ya=u.oc,f._emscripten_bind_EmTransportSerialBuffer_Send_3=Nl=u.pc,f._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=Oi=u.qc,f._emscripten_bind_EmTransportSerialBuffer_Rts_0=ja=u.rc,f._emscripten_bind_EmTransportSerialBuffer_Dtr_0=gy=u.sc,f._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=my=u.tc,f._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=_a=u.uc,f._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=Ef=u.vc,f._emscripten_bind_EmTransportSerialBuffer_GetParity_0=vy=u.wc,f._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=Oh=u.xc,f._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=Qc=u.yc,f._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=yy=u.zc,f._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=_y=u.Ac,f._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=by=u.Bc,f._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=Cy=u.Cc,f._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=Sy=u.Dc,f._emscripten_bind_EmTransportSerialBuffer___destroy___0=wy=u.Ec,f._emscripten_bind_GunzipContext_GunzipContext_3=Ph=u.Fc,f._emscripten_bind_GunzipContext_GetState_0=Ey=u.Gc,f._emscripten_bind_GunzipContext_Continue_0=Dy=u.Hc,f._emscripten_bind_GunzipContext_GetUncompressedData_0=Iy=u.Ic,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=Ty=u.Jc,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=Df=u.Kc,f._emscripten_bind_GunzipContext_GetError_0=If=u.Lc,f._emscripten_bind_GunzipContext___destroy___0=Ay=u.Mc,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=My=u.Nc,f._emscripten_bind_ZipfileWalker_GetState_0=xy=u.Oc,f._emscripten_bind_ZipfileWalker_Next_0=Tf=u.Pc,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=Af=u.Qc,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Io=u.Rc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=Fh=u.Sc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=Ol=u.Tc,f._emscripten_bind_ZipfileWalker___destroy___0=uo=u.Uc,Mf=u.Wc,Pl=u.Xc,cl=u.Yc,Ju=u.Zc,f.___original_main=u._c}(mc),function Et(){if(ft--,f.monitorRunDependencies?.(ft),0==ft&&bt){var D=bt;bt=null,D()}}(),mc}!function ot(){ft++,f.monitorRunDependencies?.(ft)}();var le=function ct(){return{a:xf}}();if(f.instantiateWasm)return new Promise((Tn,Gn)=>{f.instantiateWasm(le,(Zn,si)=>{Tn(u(Zn))})});yt??=function Ot(){return function T(u){return f.locateFile?f.locateFile(u,I):I+u}("cloudpilot_web.wasm")}();var it=yield function Oe(u,D,le){return We.apply(this,arguments)}(W,yt,le);return function D(Tn){return u(Tn.instance)}(it)}),fn.apply(this,arguments)}class En{name="ExitStatus";constructor(D){this.message=`Program terminated with exit(${D})`,this.status=D}}var jr,Fn,on=u=>{for(;u.length>0;)u.shift()(f)},vn=[],nr=u=>vn.push(u),cr=[],Zr=u=>cr.push(u),po=!0,Lr=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),Mo=typeof TextDecoder<"u"?new TextDecoder:void 0,Yr=(u,D=0,le=NaN)=>{for(var it=D+le,Bt=D;u[Bt]&&!(Bt>=it);)++Bt;if(Bt-D>16&&u.buffer&&Mo)return Mo.decode(u.subarray(D,Bt));for(var Tn="";D<Bt;){var Gn=u[D++];if(128&Gn){var Zn=63&u[D++];if(192!=(224&Gn)){var si=63&u[D++];if((Gn=224==(240&Gn)?(15&Gn)<<12|Zn<<6|si:(7&Gn)<<18|Zn<<12|si<<6|63&u[D++])<65536)Tn+=String.fromCharCode(Gn);else{var Jc=Gn-65536;Tn+=String.fromCharCode(55296|Jc>>10,56320|1023&Jc)}}else Tn+=String.fromCharCode((31&Gn)<<6|Zn)}else Tn+=String.fromCharCode(Gn)}return Tn},sn=(u,D)=>u?Yr(j,u,D):"",Yt=u=>u<-9007199254740992||u>9007199254740992?NaN:Number(u),Jt=0,yr=[0,31,60,91,121,152,182,213,244,274,305,335],ro=[0,31,59,90,120,151,181,212,243,273,304,334],Kr=u=>((u=>u%4==0&&(u%100!=0||u%400==0))(u.getFullYear())?yr:ro)[u.getMonth()]+u.getDate()-1,Cn={},ho=u=>{if(u instanceof En||"unwind"==u)return me;te(),u instanceof WebAssembly.RuntimeError&&Ju()<=0&&X("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),N(0,u)},Jo=()=>po||Jt>0,co=u=>{me=u,Jo()||(f.onExit?.(u),Y=!0),N(0,new En(u))},Bo=(u,D)=>{me=u,co(u)},On=Bo,di=()=>performance.now(),Fe=(u,D,le,it)=>{if(!(it>0))return 0;for(var Bt=le,Tn=le+it-1,Gn=0;Gn<u.length;++Gn){var Zn=u.codePointAt(Gn);if(Zn<=127){if(le>=Tn)break;D[le++]=Zn}else if(Zn<=2047){if(le+1>=Tn)break;D[le++]=192|Zn>>6,D[le++]=128|63&Zn}else if(Zn<=65535){if(le+2>=Tn)break;D[le++]=224|Zn>>12,D[le++]=128|Zn>>6&63,D[le++]=128|63&Zn}else{if(le+3>=Tn)break;D[le++]=240|Zn>>18,D[le++]=128|Zn>>12&63,D[le++]=128|Zn>>6&63,D[le++]=128|63&Zn,Gn++}}return D[le]=0,le-Bt},ir=(u,D,le)=>Fe(u,j,D,le),Bn=()=>Date.now(),ei=[],Pn=(u,D)=>Math.ceil(u/D)*D,jt=u=>{var le=(u-ue.buffer.byteLength+65535)/65536|0;try{return ue.grow(le),et(),1}catch{}},xe={},zt=()=>{if(!zt.strings){var D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:H||"./this.program"};for(var le in xe)void 0===xe[le]?delete D[le]:D[le]=xe[le];var it=[];for(var le in D)it.push(`${le}=${D[le]}`);zt.strings=it}return zt.strings},Xn=u=>{for(var D=0,le=0;le<u.length;++le){var it=u.charCodeAt(le);it<=127?D++:it<=2047?D+=2:it>=55296&&it<=57343?(D+=4,++le):D+=3}return D},ka=[null,[],[]],as=(u,D)=>{var le=ka[u];0===D||10===D?((1===u?Ce:X)(Yr(le)),le.length=0):le.push(D)},oo=[],Pt=(u,D)=>{u<128?D.push(u):D.push(u%128|128,u>>7)},Ho=[],Je=u=>{var D=Ho[u];return D||(Ho[u]=D=jr.get(u)),D},aa=[],Na=(u,D)=>{jr.set(u,D),Ho[u]=jr.get(u)};f.noExitRuntime&&(po=f.noExitRuntime),f.print&&(Ce=f.print),f.printErr&&(X=f.printErr),f.wasmBinary&&(W=f.wasmBinary),f.thisProgram&&(H=f.thisProgram),f.addFunction=(u,D)=>{var le=(u=>(Fn||(Fn=new WeakMap,((u,D)=>{if(Fn)for(var le=0;le<0+D;le++){var it=Je(le);it&&Fn.set(it,le)}})(0,jr.length)),Fn.get(u)||0))(u);if(le)return le;var it=(()=>{if(aa.length)return aa.pop();try{jr.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return jr.length-1})();try{Na(it,u)}catch(Tn){if(!(Tn instanceof TypeError))throw Tn;var Bt=((u,D)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var D={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},le={parameters:[],results:"v"==u[0]?[]:[D[u[0]]]},it=1;it<u.length;++it)le.parameters.push(D[u[it]]);return le})(D),u);var le=[1];((u,D)=>{var le=u.slice(0,1),it=u.slice(1),Bt={i:127,p:127,j:126,f:125,d:124,e:111};for(var Tn of(D.push(96),Pt(it.length,D),it))D.push(Bt[Tn]);"v"==le?D.push(0):D.push(1,Bt[le])})(D,le);var it=[0,97,115,109,1,0,0,0,1];Pt(le.length,it),it.push(...le),it.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Bt=new WebAssembly.Module(new Uint8Array(it));return new WebAssembly.Instance(Bt,{e:{f:u}}).exports.f})(u,D);Na(it,Bt)}return Fn.set(u,it),it},f.UTF8ToString=sn;var rt,xi,Go,la,ds,$s,zo,fs,fi,ps,hs,Vi,io,pi,Ui,Hi,Bs,gs,ti,Wo,hi,Wt,un,ca,js,go,ms,ki,Gi,vs,Oa,Vs,ys,ua,Us,Hs,da,Gs,mo,zs,Xr,zi,fa,Pa,ko,_s,pa,Ws,oe,qs,$e,ni,ha,bs,Ri,il,p,m,w,A,ee,J,He,he,Ze,_e,je,dt,ut,Tt,pt,At,rr,Kt,Xt,Rn,an,Ct,Ln,pn,An,b,$,ae,Be,Rt,rn,gn,$n,Vr,dn,Cr,Or,sr,Mt,Ir,Wn,Sr,ar,Qn,g,B,be,st,qt,Sn,jn,Nn,Pr,Fa,Tl,Al,ga,Ro,pc,Ku,Qr,lt,ln,Jr,qo,Do,sl,hc,Jn,wr,Wi,wn,al,Kc,Ml,so,La,xl,ma,gc,Sf,$a,Xu,ll,Ni,kl,tn,Qu,Ba,va,Xc,Rl,Ur,Hr,ri,wf,ya,Nl,Oi,ja,gy,my,_a,Ef,vy,Oh,Qc,yy,_y,by,Cy,Sy,wy,Ph,Ey,Dy,Iy,Ty,Df,If,Ay,My,xy,Tf,Af,Io,Fh,Ol,uo,Mf,Pl,cl,Ju,us={428784:u=>{jr.grow(65536);for(let D=0;D<=65535;D++)jr.set(jr.length-65535-1+D,jr.get(ne[(u>>>2)+D]));return jr.length-65535-1}},xf={a:(u,D,le,it)=>Ke(`Assertion failed: ${sn(u)}, at: `+[D?sn(D):"unknown filename",le,it?sn(it):"unknown function"]),s:function Fs(u){const D=new Error(sn(u));throw D.isAssert=!0,D},c:function Vn(u,D){D=Yt(D)},h:()=>Ke(""),j:()=>{po=!1,Jt=0},p:function Eo(u,D){u=Yt(u);var le=new Date(1e3*u);G[D>>2]=le.getSeconds(),G[D+4>>2]=le.getMinutes(),G[D+8>>2]=le.getHours(),G[D+12>>2]=le.getDate(),G[D+16>>2]=le.getMonth(),G[D+20>>2]=le.getFullYear()-1900,G[D+24>>2]=le.getDay();var it=0|Kr(le);G[D+28>>2]=it,G[D+36>>2]=-60*le.getTimezoneOffset();var Bt=new Date(le.getFullYear(),0,1),Tn=new Date(le.getFullYear(),6,1).getTimezoneOffset(),Gn=Bt.getTimezoneOffset(),Zn=0|(Tn!=Gn&&le.getTimezoneOffset()==Math.min(Gn,Tn));G[D+32>>2]=Zn},q:function(u){var D=(()=>{var le=new Date(G[u+20>>2]+1900,G[u+16>>2],G[u+12>>2],G[u+8>>2],G[u+4>>2],G[u>>2],0),it=G[u+32>>2],Bt=le.getTimezoneOffset(),Tn=new Date(le.getFullYear(),0,1),Gn=new Date(le.getFullYear(),6,1).getTimezoneOffset(),Zn=Tn.getTimezoneOffset(),si=Math.min(Zn,Gn);if(it<0)G[u+32>>2]=+(Gn!=Zn&&si==Bt);else if(it>0!=(si==Bt)){var Jc=Math.max(Zn,Gn),eu=it>0?si:Jc;le.setTime(le.getTime()+6e4*(eu-Bt))}G[u+24>>2]=le.getDay();var tu=0|Kr(le);G[u+28>>2]=tu,G[u>>2]=le.getSeconds(),G[u+4>>2]=le.getMinutes(),G[u+8>>2]=le.getHours(),G[u+12>>2]=le.getDate(),G[u+16>>2]=le.getMonth(),G[u+20>>2]=le.getYear();var ul=le.getTime();return isNaN(ul)?-1:ul/1e3})();return BigInt(D)},k:(u,D)=>{if(Cn[u]&&(clearTimeout(Cn[u].id),delete Cn[u]),!D)return 0;var le=setTimeout(()=>{delete Cn[u],(u=>{if(!Y)try{u(),(()=>{if(!Jo())try{On(me)}catch(u){ho(u)}})()}catch(D){ho(D)}})(()=>Pl(u,di()))},D);return Cn[u]={id:le,timeout_ms:D},0},r:(u,D,le,it)=>{var Bt=(new Date).getFullYear(),Tn=new Date(Bt,0,1),Gn=new Date(Bt,6,1),Zn=Tn.getTimezoneOffset(),si=Gn.getTimezoneOffset(),Jc=Math.max(Zn,si);ne[u>>2]=60*Jc,G[D>>2]=+(Zn!=si);var eu=ai=>{var Ua=ai>=0?"-":"+",Rf=Math.abs(ai);return`UTC${Ua}${String(Math.floor(Rf/60)).padStart(2,"0")}${String(Rf%60).padStart(2,"0")}`},tu=eu(Zn),ul=eu(si);si<Zn?(ir(tu,le,17),ir(ul,it,17)):(ir(tu,it,17),ir(ul,le,17))},n:function hn(u,D,le){if(D=Yt(D),!(u=>u>=0&&u<=3)(u))return 28;var it;it=0===u?Bn():di();var Bt=Math.round(1e3*it*1e3);return Ne[le>>3]=BigInt(Bt),0},t:(u,D,le)=>((u,D,le)=>{var it=((u,D)=>{ei.length=0;for(var le;le=j[u++];){var it=105!=le;D+=(it&=112!=le)&&D%8?4:0,ei.push(112==le?ne[D>>2]:106==le?Ne[D>>3]:105==le?G[D>>2]:ye[D>>3]),D+=it?8:4}return ei})(D,le);return us[u](...it)})(u,D,le),g:Bn,o:u=>{var D=j.length,le=2147483648;if((u>>>=0)>le)return!1;for(var it=1;it<=4;it*=2){var Bt=D*(1+.2/it);Bt=Math.min(Bt,u+100663296);var Tn=Math.min(le,Pn(Math.max(u,Bt),65536));if(jt(Tn))return!0}return!1},l:(u,D)=>{var le=0,it=0;for(var Bt of zt()){var Tn=D+le;ne[u+it>>2]=Tn,le+=ir(Bt,Tn,1/0)+1,it+=4}return 0},m:(u,D)=>{var le=zt();ne[u>>2]=le.length;var it=0;for(var Bt of le)it+=Xn(Bt)+1;return ne[D>>2]=it,0},d:u=>52,f:(u,D,le,it)=>52,b:function El(u,D,le,it){return D=Yt(D),70},e:(u,D,le,it)=>{for(var Bt=0,Tn=0;Tn<le;Tn++){var Gn=ne[D>>2],Zn=ne[D+4>>2];D+=8;for(var si=0;si<Zn;si++)as(u,j[Gn+si]);Bt+=Zn}return ne[it>>2]=Bt,0},i:co},mc=yield function Qt(){return fn.apply(this,arguments)}();function dr(){}function Zs(u){return(u||dr).__cache__}function Dn(u,D){var le=Zs(D),it=le[u];return it||((it=Object.create((D||dr).prototype)).ptr=u,le[u]=it)}(function $h(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function ed(){function u(){f.calledRun=!0,Y||(function Te(){Se=!0,te(),on(oo),mc.v()}(),function ze(){te()}(),Ee?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function oi(){var u=rt;try{var it=u(0,0);return Bo(it),it}catch(Bt){return ho(Bt)}}(),function gt(){if(te(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)nr(f.postRun.shift());on(vn)}())}ft>0?bt=ed:(function Lh(){cl(),function Xe(){var u=Mf();0==u&&(u+=4),ne[u>>2]=34821223,ne[u+4>>2]=2310721022,ne[0]=1668509029}()}(),function St(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)Zr(f.preRun.shift());on(cr)}(),ft>0?bt=ed:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),u()},1)):u(),te()))}(),(dr.prototype=Object.create(dr.prototype)).constructor=dr,dr.prototype.__class__=dr,dr.__cache__={},f.WrapperObject=dr,f.getCache=Zs,f.wrapPointer=Dn,f.castObject=function td(u,D){return Dn(u.ptr,D)},f.NULL=Dn(0),f.destroy=function kf(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete Zs(u.__class__)[u.ptr]},f.compare=function Va(u,D){return u.ptr===D.ptr},f.getPointer=function Bh(u){return u.ptr},f.getClass=function jh(u){return u.__class__};var In={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(In.needed){for(var u=0;u<In.temps.length;u++)f._webidl_free(In.temps[u]);In.temps.length=0,f._webidl_free(In.buffer),In.buffer=0,In.size+=In.needed,In.needed=0}In.buffer||(In.size+=128,In.buffer=f._webidl_malloc(In.size),Ie(In.buffer)),In.pos=0},alloc(u,D){Ie(In.buffer);var Bt,it=u.length*D.BYTES_PER_ELEMENT;return it=Pn(it,8),In.pos+it>=In.size?(Ie(it>0),In.needed+=it,Bt=f._webidl_malloc(it),In.temps.push(Bt)):(Bt=In.buffer+In.pos,In.pos+=it),Bt},copy(u,D,le){le/=D.BYTES_PER_ELEMENT;for(var it=0;it<u.length;it++)D[le+it]=u[it]}};function Vt(u){if("string"==typeof u){var D=(u=>{var it=Xn(u)+1,Bt=new Array(it);Fe(u,Bt,0,Bt.length);return Bt})(u),le=In.alloc(D,De);return In.copy(D,De,le),le}return u}function Hn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ve(){this.ptr=Go(),Zs(Ve)[this.ptr]=this}function Gr(u,D){u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),this.ptr=pt(u,D),Zs(Gr)[this.ptr]=this}function qn(){throw"cannot construct a Frame, no constructor in IDL"}function Tr(){throw"cannot construct a DbBackup, no constructor in IDL"}function Zo(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function ii(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function mi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function To(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Pi(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function eo(){throw"cannot construct a SuspendContext, no constructor in IDL"}function nn(){this.ptr=Wi(),Zs(nn)[this.ptr]=this}function vi(u){In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),this.ptr=Rl(u),Zs(vi)[this.ptr]=this}function Me(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function Ft(u,D,le){u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),le&&"object"==typeof le&&(le=le.ptr),this.ptr=Ph(u,D,le),Zs(Ft)[this.ptr]=this}function at(u,D){u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),this.ptr=My(u,D),Zs(at)[this.ptr]=this}return(Hn.prototype=Object.create(dr.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},f.VoidPtr=Hn,Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){xi(this.ptr)},(Ve.prototype=Object.create(dr.prototype)).constructor=Ve,Ve.prototype.__class__=Ve,Ve.__cache__={},f.Cloudpilot=Ve,Ve.prototype.Malloc=Ve.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),Dn(la(this.ptr,u),Hn)},Ve.prototype.Free=Ve.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),ds(this.ptr,u)},Ve.prototype.Nullptr=Ve.prototype.Nullptr=function(){return Dn($s(this.ptr),Hn)},Ve.prototype.EnableLogging=Ve.prototype.EnableLogging=function(u){u&&"object"==typeof u&&(u=u.ptr),zo(this.ptr,u)},Ve.prototype.InitializeSession=Ve.prototype.InitializeSession=function(u,D,le){var it=this.ptr;return In.prepare(),u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),le=le&&"object"==typeof le?le.ptr:Vt(le),!!fs(it,u,D,le)},Ve.prototype.GetCyclesPerSecond=Ve.prototype.GetCyclesPerSecond=function(){return fi(this.ptr)},Ve.prototype.RunEmulation=Ve.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),ps(this.ptr,u)},Ve.prototype.SetClockFactor=Ve.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),hs(this.ptr,u)},Ve.prototype.CopyFrame=Ve.prototype.CopyFrame=function(){return Dn(Vi(this.ptr),qn)},Ve.prototype.IsScreenDirty=Ve.prototype.IsScreenDirty=function(){return!!io(this.ptr)},Ve.prototype.MarkScreenClean=Ve.prototype.MarkScreenClean=function(){pi(this.ptr)},Ve.prototype.MinMemoryForDevice=Ve.prototype.MinMemoryForDevice=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),Ui(D,u)},Ve.prototype.FramebufferSizeForDevice=Ve.prototype.FramebufferSizeForDevice=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),Hi(D,u)},Ve.prototype.TotalMemoryForDevice=Ve.prototype.TotalMemoryForDevice=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),Bs(D,u)},Ve.prototype.QueuePenMove=Ve.prototype.QueuePenMove=function(u,D){u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),gs(this.ptr,u,D)},Ve.prototype.QueuePenUp=Ve.prototype.QueuePenUp=function(){ti(this.ptr)},Ve.prototype.QueueButtonDown=Ve.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),Wo(this.ptr,u)},Ve.prototype.QueueButtonUp=Ve.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),hi(this.ptr,u)},Ve.prototype.QueueKeyboardEvent=Ve.prototype.QueueKeyboardEvent=function(u,D){u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),Wt(this.ptr,u,D)},Ve.prototype.IsPowerOff=Ve.prototype.IsPowerOff=function(){return!!un(this.ptr)},Ve.prototype.IsUIInitialized=Ve.prototype.IsUIInitialized=function(){return!!ca(this.ptr)},Ve.prototype.GetOSVersion=Ve.prototype.GetOSVersion=function(){return js(this.ptr)},Ve.prototype.IsSetupComplete=Ve.prototype.IsSetupComplete=function(){return!!go(this.ptr)},Ve.prototype.Reset=Ve.prototype.Reset=function(){ms(this.ptr)},Ve.prototype.ResetNoExtensions=Ve.prototype.ResetNoExtensions=function(){ki(this.ptr)},Ve.prototype.ResetHard=Ve.prototype.ResetHard=function(){Gi(this.ptr)},Ve.prototype.InstallDb=Ve.prototype.InstallDb=function(u,D){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),vs(this.ptr,u,D)},Ve.prototype.GetPalette2bitMapping=Ve.prototype.GetPalette2bitMapping=function(){return Oa(this.ptr)},Ve.prototype.GetMemoryPtr=Ve.prototype.GetMemoryPtr=function(){return Dn(Vs(this.ptr),Hn)},Ve.prototype.GetDirtyPagesPtr=Ve.prototype.GetDirtyPagesPtr=function(){return Dn(ys(this.ptr),Hn)},Ve.prototype.GetMemorySize=Ve.prototype.GetMemorySize=function(){return ua(this.ptr)},Ve.prototype.ImportMemoryImage=Ve.prototype.ImportMemoryImage=function(u,D){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),!!Us(this.ptr,u,D)},Ve.prototype.GetRomPtr=Ve.prototype.GetRomPtr=function(){return Dn(Hs(this.ptr),Hn)},Ve.prototype.GetRomSize=Ve.prototype.GetRomSize=function(){return da(this.ptr)},Ve.prototype.GetSavestatePtr=Ve.prototype.GetSavestatePtr=function(){return Dn(Gs(this.ptr),Hn)},Ve.prototype.GetSavestateSize=Ve.prototype.GetSavestateSize=function(){return mo(this.ptr)},Ve.prototype.SaveState=Ve.prototype.SaveState=function(){return!!zs(this.ptr)},Ve.prototype.LoadState=Ve.prototype.LoadState=function(u,D){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),!!Xr(this.ptr,u,D)},Ve.prototype.GetHotsyncName=Ve.prototype.GetHotsyncName=function(){return sn(zi(this.ptr))},Ve.prototype.SetHotsyncName=Ve.prototype.SetHotsyncName=function(u){var D=this.ptr;In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),fa(D,u)},Ve.prototype.RegisterPwmHandler=Ve.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),Pa(this.ptr,u)},Ve.prototype.StartBackup=Ve.prototype.StartBackup=function(){return Dn(ko(this.ptr),Tr)},Ve.prototype.SetClipboardIntegration=Ve.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),_s(this.ptr,u)},Ve.prototype.GetClipboardIntegration=Ve.prototype.GetClipboardIntegration=function(){return!!pa(this.ptr)},Ve.prototype.IsSuspended=Ve.prototype.IsSuspended=function(){return!!Ws(this.ptr)},Ve.prototype.GetSuspendContext=Ve.prototype.GetSuspendContext=function(){return Dn(oe(this.ptr),eo)},Ve.prototype.SetNetworkRedirection=Ve.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),qs(this.ptr,u)},Ve.prototype.GetNetworkRedirection=Ve.prototype.GetNetworkRedirection=function(){return!!$e(this.ptr)},Ve.prototype.RegisterProxyDisconnectHandler=Ve.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),ni(this.ptr,u)},Ve.prototype.SetHotsyncNameManagement=Ve.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),ha(this.ptr,u)},Ve.prototype.LaunchAppByName=Ve.prototype.LaunchAppByName=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),!!bs(D,u)},Ve.prototype.LaunchAppByDbHeader=Ve.prototype.LaunchAppByDbHeader=function(u,D){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),!!Ri(this.ptr,u,D)},Ve.prototype.DeviceSupportsCardSize=Ve.prototype.DeviceSupportsCardSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!il(this.ptr,u)},Ve.prototype.ClearExternalStorage=Ve.prototype.ClearExternalStorage=function(){p(this.ptr)},Ve.prototype.AllocateCard=Ve.prototype.AllocateCard=function(u,D){var le=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),D&&"object"==typeof D&&(D=D.ptr),!!m(le,u,D)},Ve.prototype.AdoptCard=Ve.prototype.AdoptCard=function(u,D,le){var it=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),D&&"object"==typeof D&&(D=D.ptr),le&&"object"==typeof le&&(le=le.ptr),!!w(it,u,D,le)},Ve.prototype.MountCard=Ve.prototype.MountCard=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),!!A(D,u)},Ve.prototype.RemoveCard=Ve.prototype.RemoveCard=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),!!ee(D,u)},Ve.prototype.GetCardData=Ve.prototype.GetCardData=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),Dn(J(D,u),Hn)},Ve.prototype.GetCardDirtyPages=Ve.prototype.GetCardDirtyPages=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),Dn(He(D,u),Hn)},Ve.prototype.GetCardSize=Ve.prototype.GetCardSize=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),he(D,u)},Ve.prototype.RemountCards=Ve.prototype.RemountCards=function(){Ze(this.ptr)},Ve.prototype.GetSupportLevel=Ve.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),_e(this.ptr,u)},Ve.prototype.GetMountedKey=Ve.prototype.GetMountedKey=function(){return sn(je(this.ptr))},Ve.prototype.GetTransportIR=Ve.prototype.GetTransportIR=function(){return Dn(dt(this.ptr),Me)},Ve.prototype.GetTransportSerial=Ve.prototype.GetTransportSerial=function(){return Dn(ut(this.ptr),Me)},Ve.prototype.__destroy__=Ve.prototype.__destroy__=function(){Tt(this.ptr)},(Gr.prototype=Object.create(dr.prototype)).constructor=Gr,Gr.prototype.__class__=Gr,Gr.__cache__={},f.RomInfo=Gr,Gr.prototype.IsValid=Gr.prototype.IsValid=function(){return!!At(this.ptr)},Gr.prototype.CardVersion=Gr.prototype.CardVersion=function(){return rr(this.ptr)},Gr.prototype.CardName=Gr.prototype.CardName=function(){return sn(Kt(this.ptr))},Gr.prototype.RomVersion=Gr.prototype.RomVersion=function(){return Xt(this.ptr)},Gr.prototype.RomVersionString=Gr.prototype.RomVersionString=function(){return sn(Rn(this.ptr))},Gr.prototype.Supports=Gr.prototype.Supports=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),!!an(D,u)},Gr.prototype.__destroy__=Gr.prototype.__destroy__=function(){Ct(this.ptr)},(qn.prototype=Object.create(dr.prototype)).constructor=qn,qn.prototype.__class__=qn,qn.__cache__={},f.Frame=qn,qn.prototype.GetLineWidth=qn.prototype.GetLineWidth=function(){return Ln(this.ptr)},qn.prototype.GetBpp=qn.prototype.GetBpp=function(){return pn(this.ptr)},qn.prototype.GetLines=qn.prototype.GetLines=function(){return An(this.ptr)},qn.prototype.GetMargin=qn.prototype.GetMargin=function(){return b(this.ptr)},qn.prototype.GetBytesPerLine=qn.prototype.GetBytesPerLine=function(){return $(this.ptr)},qn.prototype.GetFirstDirtyLine=qn.prototype.GetFirstDirtyLine=function(){return ae(this.ptr)},qn.prototype.GetLastDirtyLine=qn.prototype.GetLastDirtyLine=function(){return Be(this.ptr)},qn.prototype.GetHasChanges=qn.prototype.GetHasChanges=function(){return!!Rt(this.ptr)},qn.prototype.GetBuffer=qn.prototype.GetBuffer=function(){return Dn(rn(this.ptr),Hn)},qn.prototype.GetBufferSize=qn.prototype.GetBufferSize=function(){return gn(this.ptr)},qn.prototype.GetScaleX=qn.prototype.GetScaleX=function(){return $n(this.ptr)},qn.prototype.GetScaleY=qn.prototype.GetScaleY=function(){return Vr(this.ptr)},qn.prototype.__destroy__=qn.prototype.__destroy__=function(){dn(this.ptr)},(Tr.prototype=Object.create(dr.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},f.DbBackup=Tr,Tr.prototype.Init=Tr.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!Cr(this.ptr,u)},Tr.prototype.IsInProgress=Tr.prototype.IsInProgress=function(){return!!Or(this.ptr)},Tr.prototype.IsDone=Tr.prototype.IsDone=function(){return!!sr(this.ptr)},Tr.prototype.GetCurrentDatabase=Tr.prototype.GetCurrentDatabase=function(){return sn(Mt(this.ptr))},Tr.prototype.Save=Tr.prototype.Save=function(){return!!Ir(this.ptr)},Tr.prototype.Skip=Tr.prototype.Skip=function(){Wn(this.ptr)},Tr.prototype.GetArchivePtr=Tr.prototype.GetArchivePtr=function(){return Dn(Sr(this.ptr),Hn)},Tr.prototype.GetArchiveSize=Tr.prototype.GetArchiveSize=function(){return ar(this.ptr)},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){Qn(this.ptr)},(Zo.prototype=Object.create(dr.prototype)).constructor=Zo,Zo.prototype.__class__=Zo,Zo.__cache__={},f.SuspendContextClipboardCopy=Zo,Zo.prototype.Cancel=Zo.prototype.Cancel=function(){g(this.ptr)},Zo.prototype.Resume=Zo.prototype.Resume=function(){B(this.ptr)},Zo.prototype.GetClipboardContent=Zo.prototype.GetClipboardContent=function(){return sn(be(this.ptr))},Zo.prototype.__destroy__=Zo.prototype.__destroy__=function(){st(this.ptr)},(ii.prototype=Object.create(dr.prototype)).constructor=ii,ii.prototype.__class__=ii,ii.__cache__={},f.SuspendContextClipboardPaste=ii,ii.prototype.Cancel=ii.prototype.Cancel=function(){qt(this.ptr)},ii.prototype.Resume=ii.prototype.Resume=function(u){var D=this.ptr;In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),Sn(D,u)},ii.prototype.__destroy__=ii.prototype.__destroy__=function(){jn(this.ptr)},(mi.prototype=Object.create(dr.prototype)).constructor=mi,mi.prototype.__class__=mi,mi.__cache__={},f.SuspendContextNetworkConnect=mi,mi.prototype.Cancel=mi.prototype.Cancel=function(){Nn(this.ptr)},mi.prototype.Resume=mi.prototype.Resume=function(){Pr(this.ptr)},mi.prototype.__destroy__=mi.prototype.__destroy__=function(){Fa(this.ptr)},(To.prototype=Object.create(dr.prototype)).constructor=To,To.prototype.__class__=To,To.__cache__={},f.SuspendContextNetworkRpc=To,To.prototype.Cancel=To.prototype.Cancel=function(){Tl(this.ptr)},To.prototype.GetRequestSize=To.prototype.GetRequestSize=function(){return Al(this.ptr)},To.prototype.GetRequestData=To.prototype.GetRequestData=function(){return Dn(ga(this.ptr),Hn)},To.prototype.ReceiveResponse=To.prototype.ReceiveResponse=function(u,D){u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),Ro(this.ptr,u,D)},To.prototype.__destroy__=To.prototype.__destroy__=function(){pc(this.ptr)},(Pi.prototype=Object.create(dr.prototype)).constructor=Pi,Pi.prototype.__class__=Pi,Pi.__cache__={},f.SuspendContextSerialSync=Pi,Pi.prototype.Cancel=Pi.prototype.Cancel=function(){Ku(this.ptr)},Pi.prototype.Resume=Pi.prototype.Resume=function(){Qr(this.ptr)},Pi.prototype.__destroy__=Pi.prototype.__destroy__=function(){lt(this.ptr)},(eo.prototype=Object.create(dr.prototype)).constructor=eo,eo.prototype.__class__=eo,eo.__cache__={},f.SuspendContext=eo,eo.prototype.GetKind=eo.prototype.GetKind=function(){return ln(this.ptr)},eo.prototype.Cancel=eo.prototype.Cancel=function(){Jr(this.ptr)},eo.prototype.AsContextClipboardCopy=eo.prototype.AsContextClipboardCopy=function(){return Dn(qo(this.ptr),Zo)},eo.prototype.AsContextClipboardPaste=eo.prototype.AsContextClipboardPaste=function(){return Dn(Do(this.ptr),ii)},eo.prototype.AsContextNetworkConnect=eo.prototype.AsContextNetworkConnect=function(){return Dn(sl(this.ptr),mi)},eo.prototype.AsContextNetworkRpc=eo.prototype.AsContextNetworkRpc=function(){return Dn(hc(this.ptr),To)},eo.prototype.AsContextSerialSync=eo.prototype.AsContextSerialSync=function(){return Dn(Jn(this.ptr),Pi)},eo.prototype.__destroy__=eo.prototype.__destroy__=function(){wr(this.ptr)},(nn.prototype=Object.create(dr.prototype)).constructor=nn,nn.prototype.__class__=nn,nn.__cache__={},f.SessionImage=nn,nn.prototype.GetDeviceId=nn.prototype.GetDeviceId=function(){return sn(wn(this.ptr))},nn.prototype.SetDeviceId=nn.prototype.SetDeviceId=function(u){var D=this.ptr;return In.prepare(),u=u&&"object"==typeof u?u.ptr:Vt(u),Dn(al(D,u),nn)},nn.prototype.GetRomImage=nn.prototype.GetRomImage=function(){return Dn(Kc(this.ptr),Hn)},nn.prototype.GetRomImageSize=nn.prototype.GetRomImageSize=function(){return Ml(this.ptr)},nn.prototype.SetRomImage=nn.prototype.SetRomImage=function(u,D){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),Dn(so(this.ptr,u,D),nn)},nn.prototype.GetMemoryImage=nn.prototype.GetMemoryImage=function(){return Dn(La(this.ptr),Hn)},nn.prototype.GetMemoryImageSize=nn.prototype.GetMemoryImageSize=function(){return xl(this.ptr)},nn.prototype.SetMemoryImage=nn.prototype.SetMemoryImage=function(u,D){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),Dn(ma(this.ptr,u,D),nn)},nn.prototype.GetMetadata=nn.prototype.GetMetadata=function(){return Dn(gc(this.ptr),Hn)},nn.prototype.GetMetadataSize=nn.prototype.GetMetadataSize=function(){return Sf(this.ptr)},nn.prototype.SetMetadata=nn.prototype.SetMetadata=function(u,D){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),Dn($a(this.ptr,u,D),nn)},nn.prototype.GetSavestate=nn.prototype.GetSavestate=function(){return Dn(Xu(this.ptr),Hn)},nn.prototype.GetSavestateSize=nn.prototype.GetSavestateSize=function(){return ll(this.ptr)},nn.prototype.SetSavestate=nn.prototype.SetSavestate=function(u,D){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),Dn(Ni(this.ptr,u,D),nn)},nn.prototype.GetVersion=nn.prototype.GetVersion=function(){return kl(this.ptr)},nn.prototype.Serialize=nn.prototype.Serialize=function(){return!!tn(this.ptr)},nn.prototype.GetSerializedImage=nn.prototype.GetSerializedImage=function(){return Dn(Qu(this.ptr),Hn)},nn.prototype.GetSerializedImageSize=nn.prototype.GetSerializedImageSize=function(){return Ba(this.ptr)},nn.prototype.Deserialize=nn.prototype.Deserialize=function(u,D){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),!!va(this.ptr,u,D)},nn.prototype.__destroy__=nn.prototype.__destroy__=function(){Xc(this.ptr)},(vi.prototype=Object.create(dr.prototype)).constructor=vi,vi.prototype.__class__=vi,vi.__cache__={},f.SkinLoader=vi,vi.prototype.GetData=vi.prototype.GetData=function(){return Dn(Ur(this.ptr),Hn)},vi.prototype.GetSize=vi.prototype.GetSize=function(){return Hr(this.ptr)},vi.prototype.__destroy__=vi.prototype.__destroy__=function(){ri(this.ptr)},(Me.prototype=Object.create(dr.prototype)).constructor=Me,Me.prototype.__class__=Me,Me.__cache__={},f.EmTransportSerialBuffer=Me,Me.prototype.RxBytesPending=Me.prototype.RxBytesPending=function(){return wf(this.ptr)},Me.prototype.Receive=Me.prototype.Receive=function(){return Dn(ya(this.ptr),Hn)},Me.prototype.Send=Me.prototype.Send=function(u,D,le){return u&&"object"==typeof u&&(u=u.ptr),D&&"object"==typeof D&&(D=D.ptr),le&&"object"==typeof le&&(le=le.ptr),Nl(this.ptr,u,D,le)},Me.prototype.IsOpen=Me.prototype.IsOpen=function(){return!!Oi(this.ptr)},Me.prototype.Rts=Me.prototype.Rts=function(){return ja(this.ptr)},Me.prototype.Dtr=Me.prototype.Dtr=function(){return!!gy(this.ptr)},Me.prototype.IsBreak=Me.prototype.IsBreak=function(){return!!my(this.ptr)},Me.prototype.BufferSize=Me.prototype.BufferSize=function(){return _a(this.ptr)},Me.prototype.GetBaud=Me.prototype.GetBaud=function(){return Ef(this.ptr)},Me.prototype.GetParity=Me.prototype.GetParity=function(){return vy(this.ptr)},Me.prototype.GetStopBits=Me.prototype.GetStopBits=function(){return Oh(this.ptr)},Me.prototype.GetDataBits=Me.prototype.GetDataBits=function(){return Qc(this.ptr)},Me.prototype.GetHwrHandshake=Me.prototype.GetHwrHandshake=function(){return yy(this.ptr)},Me.prototype.GetModeSync=Me.prototype.GetModeSync=function(){return!!_y(this.ptr)},Me.prototype.SetModeSync=Me.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),by(this.ptr,u)},Me.prototype.IsFrameComplete=Me.prototype.IsFrameComplete=function(){return!!Cy(this.ptr)},Me.prototype.SetRequestTransferCallback=Me.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),Sy(this.ptr,u)},Me.prototype.__destroy__=Me.prototype.__destroy__=function(){wy(this.ptr)},(Ft.prototype=Object.create(dr.prototype)).constructor=Ft,Ft.prototype.__class__=Ft,Ft.__cache__={},f.GunzipContext=Ft,Ft.prototype.GetState=Ft.prototype.GetState=function(){return Ey(this.ptr)},Ft.prototype.Continue=Ft.prototype.Continue=function(){return Dy(this.ptr)},Ft.prototype.GetUncompressedData=Ft.prototype.GetUncompressedData=function(){return Dn(Iy(this.ptr),Hn)},Ft.prototype.ReleaseUncompressedData=Ft.prototype.ReleaseUncompressedData=function(){return Dn(Ty(this.ptr),Hn)},Ft.prototype.GetUncompressedSize=Ft.prototype.GetUncompressedSize=function(){return Df(this.ptr)},Ft.prototype.GetError=Ft.prototype.GetError=function(){return sn(If(this.ptr))},Ft.prototype.__destroy__=Ft.prototype.__destroy__=function(){Ay(this.ptr)},(at.prototype=Object.create(dr.prototype)).constructor=at,at.prototype.__class__=at,at.__cache__={},f.ZipfileWalker=at,at.prototype.GetState=at.prototype.GetState=function(){return xy(this.ptr)},at.prototype.Next=at.prototype.Next=function(){return Tf(this.ptr)},at.prototype.GetTotalEntries=at.prototype.GetTotalEntries=function(){return Af(this.ptr)},at.prototype.GetCurrentEntrySize=at.prototype.GetCurrentEntrySize=function(){return Io(this.ptr)},at.prototype.GetCurrentEntryName=at.prototype.GetCurrentEntryName=function(){return sn(Fh(this.ptr))},at.prototype.GetCurrentEntryContent=at.prototype.GetCurrentEntryContent=function(){return Dn(Ol(this.ptr),Hn)},at.prototype.__destroy__=at.prototype.__destroy__=function(){uo(this.ptr)},Se?f:new Promise((u,D)=>{Ee=u,ve=D})}));Z.exports=x,Z.exports.default=x},7598:Z=>{"use strict";Z.exports=Math.abs},7638:Z=>{var we={}.toString;Z.exports=Array.isArray||function(_){return"[object Array]"==we.call(_)}},7648:Z=>{"use strict";Z.exports=Function.prototype.call},7653:(Z,we,_)=>{"use strict";var S=_(840),x=_(5831),L=S("RegExp.prototype.exec"),z=_(8519);Z.exports=function(f){if(!x(f))throw new z("`regex` must be a RegExp");return function(E){return null!==L(f,E)}}},7671:(Z,we,_)=>{"use strict";if(_(362)()){var x=BigInt.prototype.valueOf;Z.exports=function(k){return!(null===k||typeof k>"u"||"boolean"==typeof k||"string"==typeof k||"number"==typeof k||"symbol"==typeof k||"function"==typeof k)&&("bigint"==typeof k||function(k){try{return x.call(k),!0}catch{}return!1}(k))}}else Z.exports=function(k){return!1}},7707:(Z,we,_)=>{"use strict";var S=_(3933);Z.exports=Function.prototype.bind||S},7718:Z=>{"use strict";Z.exports=RangeError},7888:Z=>{"use strict";Z.exports=Object},7935:(Z,we,_)=>{"use strict";var S;if(!Object.keys){var x=Object.prototype.hasOwnProperty,L=Object.prototype.toString,z=_(6321),k=Object.prototype.propertyIsEnumerable,f=!k.call({toString:null},"toString"),O=k.call(function(){},"prototype"),E=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],P=function(I){var T=I.constructor;return T&&T.prototype===I},R={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},H=function(){if(typeof window>"u")return!1;for(var I in window)try{if(!R["$"+I]&&x.call(window,I)&&null!==window[I]&&"object"==typeof window[I])try{P(window[I])}catch{return!0}}catch{return!0}return!1}();S=function(T){var ie=null!==T&&"object"==typeof T,ce="[object Function]"===L.call(T),Ce=z(T),X=ie&&"[object String]"===L.call(T),W=[];if(!ie&&!ce&&!Ce)throw new TypeError("Object.keys called on a non-object");var Y=O&&ce;if(X&&T.length>0&&!x.call(T,0))for(var me=0;me<T.length;++me)W.push(String(me));if(Ce&&T.length>0)for(var Ie=0;Ie<T.length;++Ie)W.push(String(Ie));else for(var Xe in T)(!Y||"prototype"!==Xe)&&x.call(T,Xe)&&W.push(String(Xe));if(f)for(var te=function(I){if(typeof window>"u"||!H)return P(I);try{return P(I)}catch{return!1}}(T),Ee=0;Ee<E.length;++Ee)(!te||"constructor"!==E[Ee])&&x.call(T,E[Ee])&&W.push(E[Ee]);return W}}Z.exports=S},8081:function(Z,we){!function(_){"use strict";var N,L=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,z=536870912,k=2*z,O=new WeakMap,P=function(N,I){return function(T){var ie=I.get(T),ce=void 0===ie?T.size:ie<k?ie+1:0;if(!T.has(ce))return N(T,ce);if(T.size<z){for(;T.has(ce);)ce=Math.floor(Math.random()*k);return N(T,ce)}if(T.size>L)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;T.has(ce);)ce=Math.floor(Math.random()*L);return N(T,ce)}}((N=O,function(I,T){return N.set(I,T),T}),O),R=function(N){return function(I){var T=N(I);return I.add(T),T}}(P);_.addUniqueNumber=R,_.generateUniqueNumber=P}(we)},8251:Z=>{var we={utf8:{stringToBytes:function(_){return we.bin.stringToBytes(unescape(encodeURIComponent(_)))},bytesToString:function(_){return decodeURIComponent(escape(we.bin.bytesToString(_)))}},bin:{stringToBytes:function(_){for(var S=[],x=0;x<_.length;x++)S.push(255&_.charCodeAt(x));return S},bytesToString:function(_){for(var S=[],x=0;x<_.length;x++)S.push(String.fromCharCode(_[x]));return S.join("")}}};Z.exports=we},8344:(Z,we,_)=>{"use strict";var S=_(5328)(),L=_(840)("Object.prototype.toString"),z=function(E){return!(S&&E&&"object"==typeof E&&Symbol.toStringTag in E)&&"[object Arguments]"===L(E)},k=function(E){return!!z(E)||null!==E&&"object"==typeof E&&"length"in E&&"number"==typeof E.length&&E.length>=0&&"[object Array]"!==L(E)&&"callee"in E&&"[object Function]"===L(E.callee)},f=function(){return z(arguments)}();z.isLegacyArguments=k,Z.exports=f?z:k},8436:(Z,we,_)=>{"use strict";var S=_(592).supportsDescriptors,x=_(4198),L=_(9263),z=Object.defineProperty,k=_(1123),f=_(1568),O=/a/;Z.exports=function(){if(!S||!f)throw new k("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var P=x(),R=f(O),H=L(R,"flags");return(!H||H.get!==P)&&z(R,"flags",{configurable:!0,enumerable:!1,get:P}),P}},8447:(Z,we,_)=>{"use strict";var S=_(9209),x=_(6497)(),L=_(840),z=_(7888),k=L("Array.prototype.push"),f=L("Object.prototype.propertyIsEnumerable"),O=x?z.getOwnPropertySymbols:null;Z.exports=function(P,R){if(null==P)throw new TypeError("target must be an object");var H=z(P);if(1===arguments.length)return H;for(var N=1;N<arguments.length;++N){var I=z(arguments[N]),T=S(I),ie=x&&(z.getOwnPropertySymbols||O);if(ie)for(var ce=ie(I),Ce=0;Ce<ce.length;++Ce){var X=ce[Ce];f(I,X)&&k(T,X)}for(var W=0;W<T.length;++W){var Y=T[W];f(I,Y)&&(H[Y]=I[Y])}}return H}},8519:Z=>{"use strict";Z.exports=TypeError},8580:(Z,we,_)=>{"use strict";var L,S=_(2282),x=_(9263);try{L=[].__proto__===Array.prototype}catch(O){if(!O||"object"!=typeof O||!("code"in O)||"ERR_PROTO_ACCESS"!==O.code)throw O}var z=!!L&&x&&x(Object.prototype,"__proto__"),k=Object,f=k.getPrototypeOf;Z.exports=z&&"function"==typeof z.get?S([z.get]):"function"==typeof f&&function(E){return f(null==E?E:k(E))}},8963:Z=>{"use strict";Z.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},8979:(Z,we,_)=>{"use strict";var S=_(840),x=S("Number.prototype.toString"),z=S("Object.prototype.toString"),f=_(5328)();Z.exports=function(E){return"number"==typeof E||!(!E||"object"!=typeof E)&&(f?function(E){try{return x(E),!0}catch{return!1}}(E):"[object Number]"===z(E))}},8996:(Z,we,_)=>{var S={"./ion-accordion_2.entry.js":[7518,2076,7518],"./ion-action-sheet.entry.js":[1981,2076,1981],"./ion-alert.entry.js":[1603,2076,1603],"./ion-app_8.entry.js":[2273,2076,2273],"./ion-avatar_3.entry.js":[9642,9642],"./ion-back-button.entry.js":[2095,2076,2095],"./ion-backdrop.entry.js":[2335,2335],"./ion-breadcrumb_2.entry.js":[8221,2076,8221],"./ion-button_2.entry.js":[7184,7184],"./ion-card_5.entry.js":[8759,8759],"./ion-checkbox.entry.js":[4248,4248],"./ion-chip.entry.js":[9863,9863],"./ion-col_3.entry.js":[1769,1769],"./ion-datetime-button.entry.js":[2569,6948,2569],"./ion-datetime_3.entry.js":[6534,6948,2076,6534],"./ion-fab_3.entry.js":[5458,2076,5458],"./ion-img.entry.js":[654,654],"./ion-infinite-scroll_2.entry.js":[6034,2076,6034],"./ion-input-otp.entry.js":[381,2076,381],"./ion-input-password-toggle.entry.js":[5196,2076,5196],"./ion-input.entry.js":[761,2076,761],"./ion-item-option_3.entry.js":[6492,2076,6492],"./ion-item_8.entry.js":[9557,2076,9557],"./ion-loading.entry.js":[8353,2076,8353],"./ion-menu_3.entry.js":[1024,2076,1024],"./ion-modal.entry.js":[9160,2076,9160],"./ion-nav_2.entry.js":[393,2076,393],"./ion-picker-column-option.entry.js":[8442,8442],"./ion-picker-column.entry.js":[3110,2076,3110],"./ion-picker.entry.js":[5575,5575],"./ion-popover.entry.js":[6772,2076,6772],"./ion-progress-bar.entry.js":[4810,4810],"./ion-radio_2.entry.js":[4639,2076,4639],"./ion-range.entry.js":[628,2076,628],"./ion-refresher_2.entry.js":[852,2076,852],"./ion-reorder_2.entry.js":[1479,2076,1479],"./ion-ripple-effect.entry.js":[4065,4065],"./ion-route_4.entry.js":[7971,7971],"./ion-searchbar.entry.js":[3184,2076,3184],"./ion-segment-content.entry.js":[4312,4312],"./ion-segment-view.entry.js":[4540,4540],"./ion-segment_2.entry.js":[469,2076,469],"./ion-select-modal.entry.js":[7101,7101],"./ion-select_3.entry.js":[8471,2076,8471],"./ion-spinner.entry.js":[388,2076,388],"./ion-split-pane.entry.js":[2392,2392],"./ion-tab-bar_2.entry.js":[6059,2076,6059],"./ion-tab_2.entry.js":[5427,5427],"./ion-text.entry.js":[198,198],"./ion-textarea.entry.js":[1735,2076,1735],"./ion-toast.entry.js":[5129,2076,7510],"./ion-toggle.entry.js":[5297,2076,5297]};function x(L){if(!_.o(S,L))return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+L+"'");throw f.code="MODULE_NOT_FOUND",f});var z=S[L],k=z[0];return Promise.all(z.slice(1).map(_.e)).then(()=>_(k))}x.keys=()=>Object.keys(S),x.id=8996,Z.exports=x},9110:(Z,we,_)=>{"use strict";var S=_(9831);Z.exports=function(){return"function"==typeof Object.is?Object.is:S}},9116:Z=>{"use strict";var S,we="function"==typeof Map&&Map.prototype?Map:null,_="function"==typeof Set&&Set.prototype?Set:null;_||(S=function(k){return!1});var x=we?Map.prototype.has:null,L=_?Set.prototype.has:null;!S&&!L&&(S=function(k){return!1}),Z.exports=S||function(k){if(!k||"object"!=typeof k)return!1;try{if(L.call(k),x)try{x.call(k)}catch{return!0}return k instanceof _}catch{}return!1}},9209:(Z,we,_)=>{"use strict";var S=Array.prototype.slice,x=_(6321),L=Object.keys,z=L?function(O){return L(O)}:_(7935),k=Object.keys;z.shim=function(){if(Object.keys){var O=function(){var E=Object.keys(arguments);return E&&E.length===arguments.length}(1,2);O||(Object.keys=function(P){return x(P)?k(S.call(P)):k(P)})}else Object.keys=z;return Object.keys||z},Z.exports=z},9250:(Z,we,_)=>{"use strict";var S=_(6969),x=_(3463),L=_(7057),z=_(2521),k=_(158),f=_(5492),O=_(545),E=_(8344),P=_(7638),R=_(3066),H=_(5500),N=_(5831),I=_(2090),T=_(9209),ie=_(6959),ce=_(5757),Ce=_(6547),X=_(2219),W=x("SharedArrayBuffer.prototype.byteLength",!0),Y=x("Date.prototype.getTime"),me=Object.getPrototypeOf,Ie=x("Object.prototype.toString"),Xe=z("%Set%",!0),te=x("Map.prototype.has",!0),Ee=x("Map.prototype.get",!0),ve=x("Map.prototype.size",!0),ue=x("Set.prototype.add",!0),De=x("Set.prototype.delete",!0),j=x("Set.prototype.has",!0),K=x("Set.prototype.size",!0);function Ue(Te,ze,gt,ft){for(var ot,bt=k(Te);(ot=bt.next())&&!ot.done;)if(Ne(ze,ot.value,gt,ft))return De(Te,ot.value),!0;return!1}function G(Te){return typeof Te>"u"?null:"object"!=typeof Te?"symbol"!=typeof Te&&("string"!=typeof Te&&"number"!=typeof Te||+Te==+Te):void 0}function ne(Te,ze,gt,ft,bt,ot){var Et=G(gt);if(null!=Et)return Et;var Ke=Ee(ze,Et),yt=S({},bt,{strict:!1});return!(typeof Ke>"u"&&!te(ze,Et)||!Ne(ft,Ke,yt,ot))&&!te(Te,Et)&&Ne(ft,Ke,yt,ot)}function se(Te,ze,gt){var ft=G(gt);return ft??(j(ze,ft)&&!j(Te,ft))}function ye(Te,ze,gt,ft,bt,ot){for(var Ke,yt,Et=k(Te);(Ke=Et.next())&&!Ke.done;)if(Ne(gt,yt=Ke.value,bt,ot)&&Ne(ft,Ee(ze,yt),bt,ot))return De(Te,yt),!0;return!1}function Ne(Te,ze,gt,ft){var bt=gt||{};if(bt.strict?O(Te,ze):Te===ze)return!0;if(ie(Te)!==ie(ze))return!1;if(!Te||!ze||"object"!=typeof Te&&"object"!=typeof ze)return bt.strict?O(Te,ze):Te==ze;var Ot,Ke=ft.has(Te),yt=ft.has(ze);if(Ke&&yt){if(ft.get(Te)===ft.get(ze))return!0}else Ot={};return Ke||ft.set(Te,Ot),yt||ft.set(ze,Ot),function St(Te,ze,gt,ft){var bt,ot;if(typeof Te!=typeof ze||null==Te||null==ze||Ie(Te)!==Ie(ze)||E(Te)!==E(ze))return!1;if(P(Te)!==P(ze))return!1;var yt=Te instanceof Error,Ot=ze instanceof Error;if(yt!==Ot||(yt||Ot)&&(Te.name!==ze.name||Te.message!==ze.message))return!1;var yn=N(Te),_n=N(ze);if(yn!==_n||(yn||_n)&&(Te.source!==ze.source||L(Te)!==L(ze)))return!1;var Zt=H(Te),xt=H(ze);if(Zt!==xt||(Zt||xt)&&Y(Te)!==Y(ze)||gt.strict&&me&&me(Te)!==me(ze))return!1;var Ye=Ce(Te),Oe=Ce(ze);if(Ye!==Oe)return!1;if(Ye||Oe){if(Te.length!==ze.length)return!1;for(bt=0;bt<Te.length;bt++)if(Te[bt]!==ze[bt])return!1;return!0}var We=Le(Te),ct=Le(ze);if(We!==ct)return!1;if(We||ct){if(Te.length!==ze.length)return!1;for(bt=0;bt<Te.length;bt++)if(Te[bt]!==ze[bt])return!1;return!0}var Qt=R(Te),fn=R(ze);if(Qt!==fn)return!1;if(Qt||fn)return X(Te)===X(ze)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(Te),new Uint8Array(ze),gt,ft);var En=I(Te),on=I(ze);if(En!==on)return!1;if(En||on)return W(Te)===W(ze)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(Te),new Uint8Array(ze),gt,ft);if(typeof Te!=typeof ze)return!1;var vn=T(Te),nr=T(ze);if(vn.length!==nr.length)return!1;for(vn.sort(),nr.sort(),bt=vn.length-1;bt>=0;bt--)if(vn[bt]!=nr[bt])return!1;for(bt=vn.length-1;bt>=0;bt--)if(!Ne(Te[ot=vn[bt]],ze[ot],gt,ft))return!1;var cr=ce(Te),Zr=ce(ze);return cr===Zr&&("Set"===cr||"Set"===Zr?function Se(Te,ze,gt,ft){if(K(Te)!==K(ze))return!1;for(var Et,Ke,yt,bt=k(Te),ot=k(ze);(Et=bt.next())&&!Et.done;)if(Et.value&&"object"==typeof Et.value)yt||(yt=new Xe),ue(yt,Et.value);else if(!j(ze,Et.value)){if(gt.strict||!se(Te,ze,Et.value))return!1;yt||(yt=new Xe),ue(yt,Et.value)}if(yt){for(;(Ke=ot.next())&&!Ke.done;)if(Ke.value&&"object"==typeof Ke.value){if(!Ue(yt,Ke.value,gt.strict,ft))return!1}else if(!gt.strict&&!j(Te,Ke.value)&&!Ue(yt,Ke.value,gt.strict,ft))return!1;return 0===K(yt)}return!0}(Te,ze,gt,ft):"Map"!==cr||function et(Te,ze,gt,ft){if(ve(Te)!==ve(ze))return!1;for(var Et,Ke,yt,Ot,yn,_n,bt=k(Te),ot=k(ze);(Et=bt.next())&&!Et.done;)if(yn=Et.value[1],(Ot=Et.value[0])&&"object"==typeof Ot)yt||(yt=new Xe),ue(yt,Ot);else if(typeof(_n=Ee(ze,Ot))>"u"&&!te(ze,Ot)||!Ne(yn,_n,gt,ft)){if(gt.strict||!ne(Te,ze,Ot,yn,gt,ft))return!1;yt||(yt=new Xe),ue(yt,Ot)}if(yt){for(;(Ke=ot.next())&&!Ke.done;)if(_n=Ke.value[1],(Ot=Ke.value[0])&&"object"==typeof Ot){if(!ye(yt,Te,Ot,_n,gt,ft))return!1}else if(!(gt.strict||Te.has(Ot)&&Ne(Ee(Te,Ot),_n,gt,ft)||ye(yt,Te,Ot,_n,S({},gt,{strict:!1}),ft)))return!1;return 0===K(yt)}return!0}(Te,ze,gt,ft))}(Te,ze,bt,ft)}function Le(Te){return!(!Te||"object"!=typeof Te||"number"!=typeof Te.length||"function"!=typeof Te.copy||"function"!=typeof Te.slice||Te.length>0&&"number"!=typeof Te[0]||!(Te.constructor&&Te.constructor.isBuffer&&Te.constructor.isBuffer(Te)))}Z.exports=function(ze,gt,ft){return Ne(ze,gt,ft,f())}},9263:(Z,we,_)=>{"use strict";var S=_(9817);if(S)try{S([],"length")}catch{S=null}Z.exports=S},9335:(Z,we,_)=>{"use strict";_.d(we,{B:()=>X,F:()=>$e,a:()=>En,b:()=>qs,c:()=>Fs,d:()=>ol,e:()=>k,f:()=>I,g:()=>us,h:()=>ka,i:()=>da,j:()=>T,k:()=>vn,l:()=>f,m:()=>E,n:()=>O,o:()=>Na,q:()=>Il,r:()=>ue,t:()=>ie,w:()=>on});var S=_(1890);class z{constructor(){this.m=new Map}reset(m){this.m=new Map(Object.entries(m))}get(m,w){const A=this.m.get(m);return void 0!==A?A:w}getBoolean(m,w=!1){const A=this.m.get(m);return void 0===A?w:"string"==typeof A?"true"===A:!!A}getNumber(m,w){const A=parseFloat(this.m.get(m));return isNaN(A)?void 0!==w?w:NaN:A}set(m,w){this.m.set(m,w)}}const k=new z,f=p=>{try{const m=p.sessionStorage.getItem(H);return null!==m?JSON.parse(m):{}}catch{return{}}},O=(p,m)=>{try{p.sessionStorage.setItem(H,JSON.stringify(m))}catch{return}},E=p=>{const m={};return p.location.search.slice(1).split("&").map(w=>w.split("=")).map(([w,A])=>{try{return[decodeURIComponent(w),decodeURIComponent(A)]}catch{return["",""]}}).filter(([w])=>P(w,R)).map(([w,A])=>[w.slice(R.length),A]).forEach(([w,A])=>{m[w]=A}),m},P=(p,m)=>p.substr(0,m.length)===m,R="ionic:",H="ionic-persist-config";var N=function(p){return p.OFF="OFF",p.ERROR="ERROR",p.WARN="WARN",p}(N||{});const I=(p,...m)=>{const w=k.get("logLevel",N.WARN);if([N.WARN].includes(w))return console.warn(`[Ionic Warning]: ${p}`,...m)},T=(p,...m)=>{const w=k.get("logLevel",N.ERROR);if([N.ERROR,N.WARN].includes(w))return console.error(`[Ionic Error]: ${p}`,...m)},ie=(p,...m)=>console.error(`<${p.tagName.toLowerCase()}> must be used inside ${m.join(" or ")}.`);var ce=Object.defineProperty,X={isBrowser:!0},me=(p=>(p.Undefined="undefined",p.Null="null",p.String="string",p.Number="number",p.SpecialNumber="number",p.Boolean="boolean",p.BigInt="bigint",p))(me||{}),Ie=(p=>(p.Array="array",p.Date="date",p.Map="map",p.Object="object",p.RegularExpression="regexp",p.Set="set",p.Channel="channel",p.Symbol="symbol",p))(Ie||{}),Xe="type",te="value",Ee="serialized:",ve=p=>{if(p.__stencil__getHostRef)return p.__stencil__getHostRef()},ue=(p,m)=>{p.__stencil__getHostRef=()=>m,m.$lazyInstance$=p},j=(p,m)=>m in p,K=(p,m)=>(0,console.error)(p,m),Ue=new Map,ne=new Map,se=[],St="s-id",Te="sty-id",ft="slot-fb{display:contents}slot-fb[hidden]{display:none}",bt="http://www.w3.org/1999/xlink",ot=typeof window<"u"?window:{},Ke={$flags$:0,$resourcesUrl$:"",jmp:p=>p(),raf:p=>requestAnimationFrame(p),ael:(p,m,w,A)=>p.addEventListener(m,w,A),rel:(p,m,w,A)=>p.removeEventListener(m,w,A),ce:(p,m)=>new CustomEvent(p,m)},Ot=(()=>{var p;let m=!1;try{null==(p=ot.document)||p.addEventListener("e",null,Object.defineProperty({},"passive",{get(){m=!0}}))}catch{}return m})(),_n=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Zt=!!_n&&!!ot.document&&Object.getOwnPropertyDescriptor(ot.document.adoptedStyleSheets,"length").writable,xt=!1,Ye=[],Oe=[],We=(p,m)=>w=>{p.push(w),xt||(xt=!0,m&&4&Ke.$flags$?fn(Qt):Ke.raf(Qt))},ct=p=>{for(let m=0;m<p.length;m++)try{p[m](performance.now())}catch(w){K(w)}p.length=0},Qt=()=>{ct(Ye),ct(Oe),(xt=Ye.length>0)&&Ke.raf(Qt)},fn=p=>Promise.resolve(void 0).then(p),En=We(Ye,!1),on=We(Oe,!0),vn=p=>{const m=new URL(p,Ke.$resourcesUrl$);return m.origin!==ot.location.origin?m.href:m.pathname},cr=p=>"object"==(p=typeof p)||"function"===p;function Zr(p){var m,w,A;return null!=(A=null==(w=null==(m=p.head)?void 0:m.querySelector('meta[name="csp-nonce"]'))?void 0:w.getAttribute("content"))?A:void 0}var Lr=class Yu{static fromLocalValue(m){const w=m[Xe],A=te in m?m[te]:void 0;switch(w){case"string":case"boolean":return A;case"bigint":return BigInt(A);case"undefined":return;case"null":return null;case"number":return"NaN"===A?NaN:"-0"===A?-0:"Infinity"===A?1/0:"-Infinity"===A?-1/0:A;case"array":return A.map(_e=>Yu.fromLocalValue(_e));case"date":return new Date(A);case"map":const ee=new Map;for(const[_e,je]of A){const dt="object"==typeof _e&&null!==_e?Yu.fromLocalValue(_e):_e,ut=Yu.fromLocalValue(je);ee.set(dt,ut)}return ee;case"object":const J={};for(const[_e,je]of A)J[_e]=Yu.fromLocalValue(je);return J;case"regexp":const{pattern:He,flags:he}=A;return new RegExp(He,he);case"set":const Ze=new Set;for(const _e of A)Ze.add(Yu.fromLocalValue(_e));return Ze;case"symbol":return Symbol(A);default:throw new Error(`Unsupported type: ${w}`)}}static fromLocalValueArray(m){return m.map(w=>Yu.fromLocalValue(w))}static isLocalValueObject(m){if("object"!=typeof m||null===m||!m.hasOwnProperty(Xe))return!1;const w=m[Xe];return!!Object.values({...me,...Ie}).includes(w)&&("null"===w||"undefined"===w||m.hasOwnProperty(te))}};((p,m)=>{for(var w in m)ce(p,w,{get:m[w],enumerable:!0})})({},{err:()=>sn,map:()=>Qo,ok:()=>Yr,unwrap:()=>Ae,unwrapErr:()=>Pe});var Yr=p=>({isOk:!0,isErr:!1,value:p}),sn=p=>({isOk:!1,isErr:!0,value:p});function Qo(p,m){if(p.isOk){const w=m(p.value);return w instanceof Promise?w.then(A=>Yr(A)):Yr(w)}if(p.isErr)return sn(p.value);throw"should never get here"}var bn,Ae=p=>{if(p.isOk)return p.value;throw p.value},Pe=p=>{if(p.isErr)return p.value;throw p.value};function Jt(p){const w=this.attachShadow({mode:"open",delegatesFocus:!!(16&p.$flags$)});void 0===bn&&(bn=null),bn&&(Zt?w.adoptedStyleSheets.push(bn):w.adoptedStyleSheets=[...w.adoptedStyleSheets,bn])}var lo=p=>{const m=pr(p,"childNodes");p.tagName&&p.tagName.includes("-")&&p["s-cr"]&&"SLOT-FB"!==p.tagName&&yr(m,p.tagName).forEach(A=>{1===A.nodeType&&"SLOT-FB"===A.tagName&&(A.hidden=!!ro(A,_r(A),!1).length)});let w=0;for(w=0;w<m.length;w++){const A=m[w];1===A.nodeType&&pr(A,"childNodes").length&&lo(A)}},$r=p=>{const m=[];for(let w=0;w<p.length;w++){const A=p[w]["s-nr"]||void 0;A&&A.isConnected&&m.push(A)}return m};function yr(p,m,w){let J,A=0,ee=[];for(;A<p.length;A++){if(J=p[A],J["s-sr"]&&(!m||J["s-hn"]===m)&&(void 0===w||_r(J)===w)&&(ee.push(J),typeof w<"u"))return ee;ee=[...ee,...yr(J.childNodes,m,w)]}return ee}var ro=(p,m,w=!0)=>{const A=[];(w&&p["s-sr"]||!p["s-sr"])&&A.push(p);let ee=p;for(;ee=ee.nextSibling;)_r(ee)===m&&(w||!ee["s-sr"])&&A.push(ee);return A},Kr=(p,m)=>1===p.nodeType?null===p.getAttribute("slot")&&""===m||p.getAttribute("slot")===m:p["s-sn"]===m||""===m,Eo=(p,m,w,A)=>{if(p["s-ol"]&&p["s-ol"].isConnected)return;const ee=document.createTextNode("");if(ee["s-nr"]=p,!m["s-cr"]||!m["s-cr"].parentNode)return;const J=m["s-cr"].parentNode,He=pr(J,w?"prepend":"appendChild");if(typeof A<"u"){ee["s-oo"]=A;const he=pr(J,"childNodes"),Ze=[ee];he.forEach(_e=>{_e["s-nr"]&&Ze.push(_e)}),Ze.sort((_e,je)=>!_e["s-oo"]||_e["s-oo"]<(je["s-oo"]||0)?-1:!je["s-oo"]||je["s-oo"]<_e["s-oo"]?1:0),Ze.forEach(_e=>He.call(J,_e))}else He.call(J,ee);p["s-ol"]=ee,p["s-sh"]=m["s-hn"]},_r=p=>"string"==typeof p["s-sn"]?p["s-sn"]:1===p.nodeType&&p.getAttribute("slot")||void 0;function Cn(p){if(p.assignedElements||p.assignedNodes||!p["s-sr"])return;const m=w=>function(A){const ee=[],J=this["s-sn"];A?.flatten&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const He=this["s-cr"].parentElement;return(He.__childNodes?He.childNodes:$r(He.childNodes)).forEach(Ze=>{J===_r(Ze)&&ee.push(Ze)}),w?ee.filter(Ze=>1===Ze.nodeType):ee}.bind(p);p.assignedElements=m(!0),p.assignedNodes=m(!1)}function ho(p){p.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1,composed:!1}))}function Jo(p,m){var w;if(!(m=m||(null==(w=p["s-ol"])?void 0:w.parentElement)))return{slotNode:null,slotName:""};const A=p["s-sn"]=_r(p)||"";return{slotNode:yr(pr(m,"childNodes"),m.tagName,A)[0],slotName:A}}var Bo=p=>{const m=p.cloneNode;p.cloneNode=function(w){const ee=this.shadowRoot&&true,J=m.call(this,!!ee&&w);if(!ee&&w){let he,Ze,He=0;const _e=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"],je=this.__childNodes||this.childNodes;for(;He<je.length;He++)he=je[He]["s-nr"],Ze=_e.every(dt=>!je[He][dt]),he&&(J.__appendChild?J.__appendChild(he.cloneNode(!0)):J.appendChild(he.cloneNode(!0))),Ze&&J.appendChild(je[He].cloneNode(!0))}return J}},On=p=>{p.__appendChild=p.appendChild,p.appendChild=function(m){const{slotName:w,slotNode:A}=Jo(m,this);if(A){Eo(m,A);const ee=ro(A,w),J=ee[ee.length-1],He=pr(J,"parentNode"),he=pr(He,"insertBefore")(m,J.nextSibling);return ho(A),lo(this),he}return this.__appendChild(m)}},xo=p=>{p.__removeChild=p.removeChild,p.removeChild=function(m){return m&&typeof m["s-sn"]<"u"&&yr(this.__childNodes||this.childNodes,this.tagName,m["s-sn"])&&m.isConnected?(m.remove(),void lo(this)):this.__removeChild(m)}},br=p=>{p.__prepend=p.prepend,p.prepend=function(...m){m.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w));const A=(w["s-sn"]=_r(w))||"",J=yr(pr(this,"childNodes"),this.tagName,A)[0];if(J){Eo(w,J,!0);const he=ro(J,A)[0],Ze=pr(he,"parentNode"),_e=pr(Ze,"insertBefore")(w,pr(he,"nextSibling"));return ho(J),_e}return 1===w.nodeType&&w.getAttribute("slot")&&(w.hidden=!0),p.__prepend(w)})}},di=p=>{p.__append=p.append,p.append=function(...m){m.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w)),this.appendChild(w)})}},jo=p=>{const m=p.insertAdjacentHTML;p.insertAdjacentHTML=function(w,A){if("afterbegin"!==w&&"beforeend"!==w)return m.call(this,w,A);const ee=this.ownerDocument.createElement("_");let J;if(ee.innerHTML=A,"afterbegin"===w)for(;J=ee.firstChild;)this.prepend(J);else if("beforeend"===w)for(;J=ee.firstChild;)this.append(J)}},Fe=p=>{p.insertAdjacentText=function(m,w){this.insertAdjacentHTML(m,w)}},ir=p=>{p.__insertBefore||(p.__insertBefore=p.insertBefore,p.insertBefore=function(w,A){const{slotName:ee,slotNode:J}=Jo(w,this),He=this.__childNodes?this.childNodes:$r(this.childNodes);if(J){let Ze=!1;if(He.forEach(_e=>{if(_e!==A&&null!==A);else{if(Ze=!0,null===A||ee!==A["s-sn"])return void this.appendChild(w);if(ee===A["s-sn"]){Eo(w,J);const je=pr(A,"parentNode");pr(je,"insertBefore")(w,A),ho(J)}}}),Ze)return w}const he=A?.__parentNode;return he&&!this.isSameNode(he)?this.appendChild(w):this.__insertBefore(w,A)})},Br=p=>{const m=p.insertAdjacentElement;p.insertAdjacentElement=function(w,A){return"afterbegin"!==w&&"beforeend"!==w?m.call(this,w,A):"afterbegin"===w?(this.prepend(A),A):("beforeend"===w&&this.append(A),A)}},Bn=p=>{jt("textContent",p),Object.defineProperty(p,"textContent",{get:function(){let m="";return(this.__childNodes?this.childNodes:$r(this.childNodes)).forEach(A=>m+=A.textContent||""),m},set:function(m){(this.__childNodes?this.childNodes:$r(this.childNodes)).forEach(A=>{A["s-ol"]&&A["s-ol"].remove(),A.remove()}),this.insertAdjacentHTML("beforeend",m)}})},Ti=p=>{class m extends Array{item(A){return this[A]}}jt("children",p),Object.defineProperty(p,"children",{get(){return this.childNodes.filter(w=>1===w.nodeType)}}),Object.defineProperty(p,"childElementCount",{get(){return this.children.length}}),jt("firstChild",p),Object.defineProperty(p,"firstChild",{get(){return this.childNodes[0]}}),jt("lastChild",p),Object.defineProperty(p,"lastChild",{get(){return this.childNodes[this.childNodes.length-1]}}),jt("childNodes",p),Object.defineProperty(p,"childNodes",{get(){const w=new m;return w.push(...$r(this.__childNodes)),w}})},Bi=p=>{!p||void 0!==p.__nextSibling||!globalThis.Node||(hn(p),Nr(p),sa(p),p.nodeType===Node.ELEMENT_NODE&&(ei(p),Ai(p)))},hn=p=>{!p||p.__nextSibling||(jt("nextSibling",p),Object.defineProperty(p,"nextSibling",{get:function(){var m;const w=null==(m=this["s-ol"])?void 0:m.parentNode.childNodes,A=w?.indexOf(this);return w&&A>-1?w[A+1]:this.__nextSibling}}))},ei=p=>{!p||p.__nextElementSibling||(jt("nextElementSibling",p),Object.defineProperty(p,"nextElementSibling",{get:function(){var m;const w=null==(m=this["s-ol"])?void 0:m.parentNode.children,A=w?.indexOf(this);return w&&A>-1?w[A+1]:this.__nextElementSibling}}))},Nr=p=>{!p||p.__previousSibling||(jt("previousSibling",p),Object.defineProperty(p,"previousSibling",{get:function(){var m;const w=null==(m=this["s-ol"])?void 0:m.parentNode.childNodes,A=w?.indexOf(this);return w&&A>-1?w[A-1]:this.__previousSibling}}))},Ai=p=>{!p||p.__previousElementSibling||(jt("previousElementSibling",p),Object.defineProperty(p,"previousElementSibling",{get:function(){var m;const w=null==(m=this["s-ol"])?void 0:m.parentNode.children,A=w?.indexOf(this);return w&&A>-1?w[A-1]:this.__previousElementSibling}}))},sa=p=>{!p||p.__parentNode||(jt("parentNode",p),Object.defineProperty(p,"parentNode",{get:function(){var m;return(null==(m=this["s-ol"])?void 0:m.parentNode)||this.__parentNode},set:function(m){this.__parentNode=m}}))},Ps=["children","nextElementSibling","previousElementSibling"],Pn=["childNodes","firstChild","lastChild","nextSibling","previousSibling","textContent","parentNode"];function jt(p,m){if(!globalThis.Node||!globalThis.Element)return;let w;Ps.includes(p)?w=Object.getOwnPropertyDescriptor(Element.prototype,p):Pn.includes(p)&&(w=Object.getOwnPropertyDescriptor(Node.prototype,p)),w||(w=Object.getOwnPropertyDescriptor(m,p)),w&&Object.defineProperty(m,"__"+p,w)}function pr(p,m){if("__"+m in p){const w=p["__"+m];return"function"!=typeof w?w:w.bind(p)}return"function"!=typeof p[m]?p[m]:p[m].bind(p)}var zt=new WeakMap,ur=(p,m,w)=>{let A=ne.get(p);_n&&w?(A=A||new CSSStyleSheet,"string"==typeof A?A=m:A.replaceSync(m)):A=m,ne.set(p,A)},Xn=(p,m,w)=>{var A;const ee=Uo(m,w),J=ne.get(ee);if(!ot.document)return ee;if(p=11===p.nodeType?p:ot.document,J)if("string"==typeof J){let he,He=zt.get(p=p.head||p);if(He||zt.set(p,He=new Set),!He.has(ee)){if(p.host&&(he=p.querySelector(`[${Te}="${ee}"]`)))he.innerHTML=J;else{he=ot.document.createElement("style"),he.innerHTML=J;const Ze=null!=(A=Ke.$nonce$)?A:Zr(ot.document);if(null!=Ze&&he.setAttribute("nonce",Ze),!(1&m.$flags$))if("HEAD"===p.nodeName){const _e=p.querySelectorAll("link[rel=preconnect]"),je=_e.length>0?_e[_e.length-1].nextSibling:p.querySelector("style");p.insertBefore(he,je?.parentNode===p?je:null)}else if("host"in p)if(_n){const _e=new CSSStyleSheet;_e.replaceSync(J),Zt?p.adoptedStyleSheets.unshift(_e):p.adoptedStyleSheets=[_e,...p.adoptedStyleSheets]}else{const _e=p.querySelector("style");_e?_e.innerHTML=J+_e.innerHTML:p.prepend(he)}else p.append(he);1&m.$flags$&&p.insertBefore(he,null)}4&m.$flags$&&(he.innerHTML+=ft),He&&He.add(ee)}}else p.adoptedStyleSheets.includes(J)||(Zt?p.adoptedStyleSheets.push(J):p.adoptedStyleSheets=[...p.adoptedStyleSheets,J]);return ee},Uo=(p,m)=>"sc-"+(m&&32&p.$flags$?p.$tagName$+"-"+m:p.$tagName$),uc=p=>p.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ka=(p,m,...w)=>{let A=null,ee=null,J=null,He=!1,he=!1;const Ze=[],_e=dt=>{for(let ut=0;ut<dt.length;ut++)A=dt[ut],Array.isArray(A)?_e(A):null!=A&&"boolean"!=typeof A&&((He="function"!=typeof p&&!cr(A))&&(A=String(A)),He&&he?Ze[Ze.length-1].$text$+=A:Ze.push(He?as(null,A):A),he=He)};if(_e(w),m){m.key&&(ee=m.key),m.name&&(J=m.name);{const dt=m.className||m.class;dt&&(m.class="object"!=typeof dt?dt:Object.keys(dt).filter(ut=>dt[ut]).join(" "))}}if("function"==typeof p)return p(null===m?{}:m,Ze,oo);const je=as(p,null);return je.$attrs$=m,Ze.length>0&&(je.$children$=Ze),je.$key$=ee,je.$name$=J,je},as=(p,m)=>({$flags$:0,$tag$:p,$text$:m,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ol={},oo={forEach:(p,m)=>p.map(Pt).forEach(m),map:(p,m)=>p.map(Pt).map(m).map(ls)},Pt=p=>({vattrs:p.$attrs$,vchildren:p.$children$,vkey:p.$key$,vname:p.$name$,vtag:p.$tag$,vtext:p.$text$}),ls=p=>{if("function"==typeof p.vtag){const w={...p.vattrs};return p.vkey&&(w.key=p.vkey),p.vname&&(w.name=p.vname),ka(p.vtag,w,...p.vchildren||[])}const m=as(p.vtag,p.vtext);return m.$attrs$=p.vattrs,m.$children$=p.vchildren,m.$key$=p.vkey,m.$name$=p.vname,m},Ra=(p,m,w,A,ee,J,He,he=[])=>{let Ze,_e,je,dt;const ut=ee["s-sc"];if(1===J.nodeType){if(Ze=J.getAttribute("c-id"),Ze&&(_e=Ze.split("."),_e[0]===He||"0"===_e[0])){je=jr({$flags$:0,$hostId$:_e[0],$nodeId$:_e[1],$depth$:_e[2],$index$:_e[3],$tag$:J.tagName.toLowerCase(),$elm$:J,$attrs$:{class:J.className||""}}),m.push(je),J.removeAttribute("c-id"),p.$children$||(p.$children$=[]),ut&&_e[0]===He&&(J["s-si"]=ut,je.$attrs$.class+=" "+ut);const pt=je.$elm$.getAttribute("s-sn");"string"==typeof pt&&("slot-fb"===je.$tag$&&(Je(pt,_e[2],je,J,p,m,w,A,he),ut&&J.classList.add(ut)),je.$elm$["s-sn"]=pt,je.$elm$.removeAttribute("s-sn")),void 0!==je.$index$&&(p.$children$[je.$index$]=je),p=je,A&&"0"===je.$depth$&&(A[je.$index$]=je.$elm$)}if(J.shadowRoot)for(dt=J.shadowRoot.childNodes.length-1;dt>=0;dt--)Ra(p,m,w,A,ee,J.shadowRoot.childNodes[dt],He,he);const Tt=J.__childNodes||J.childNodes;for(dt=Tt.length-1;dt>=0;dt--)Ra(p,m,w,A,ee,Tt[dt],He,he)}else if(8===J.nodeType)_e=J.nodeValue.split("."),(_e[1]===He||"0"===_e[1])&&(Ze=_e[0],je=jr({$hostId$:_e[1],$nodeId$:_e[2],$depth$:_e[3],$index$:_e[4]||"0",$elm$:J,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),"t"===Ze?(je.$elm$=Fn(J,3),je.$elm$&&3===je.$elm$.nodeType&&(je.$text$=je.$elm$.textContent,m.push(je),J.remove(),He===je.$hostId$&&(p.$children$||(p.$children$=[]),p.$children$[je.$index$]=je),A&&"0"===je.$depth$&&(A[je.$index$]=je.$elm$))):"c"===Ze?(je.$elm$=Fn(J,8),je.$elm$&&8===je.$elm$.nodeType&&(m.push(je),J.remove())):je.$hostId$===He&&("s"===Ze?Je(J["s-sn"]=_e[5]||"",_e[2],je,J,p,m,w,A,he):"r"===Ze&&(A?J.remove():(ee["s-cr"]=J,J["s-cn"]=!0))));else if(p&&"style"===p.$tag$){const Tt=as(null,J.textContent);Tt.$elm$=J,Tt.$index$="0",p.$children$=[Tt]}else 3===J.nodeType&&!J.wholeText.trim()&&!J["s-nr"]&&J.remove();return p},Ho=(p,m)=>{if(1===p.nodeType){const w=p[St]||p.getAttribute(St);w&&m.set(w,p);let A=0;if(p.shadowRoot)for(;A<p.shadowRoot.childNodes.length;A++)Ho(p.shadowRoot.childNodes[A],m);const ee=p.__childNodes||p.childNodes;for(A=0;A<ee.length;A++)Ho(ee[A],m)}else if(8===p.nodeType){const w=p.nodeValue.split(".");"o"===w[0]&&(m.set(w[1]+"."+w[2],p),p.nodeValue="",p["s-en"]=w[3])}},jr=p=>({$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null,...p});function Je(p,m,w,A,ee,J,He,he,Ze){A["s-sr"]=!0,w.$name$=p||null,w.$tag$="slot";const _e=ee?.$elm$?ee.$elm$["s-id"]||ee.$elm$.getAttribute("s-id"):"";if(he&&ot.document){const je=w.$elm$=ot.document.createElement(w.$tag$);w.$name$&&w.$elm$.setAttribute("name",p),ee.$elm$.shadowRoot&&_e&&_e!==w.$hostId$?pr(ee.$elm$,"insertBefore")(je,pr(ee.$elm$,"children")[0]):pr(pr(A,"parentNode"),"insertBefore")(je,A),Dl(Ze,m,p,A,w.$hostId$),A.remove(),"0"===w.$depth$&&(he[w.$index$]=w.$elm$)}else{const je=w.$elm$,dt=_e&&_e!==w.$hostId$&&ee.$elm$.shadowRoot;Dl(Ze,m,p,A,dt?_e:w.$hostId$),Cn(A),dt&&ee.$elm$.insertBefore(je,ee.$elm$.children[0])}J.push(w),He.push(w),ee.$children$||(ee.$children$=[]),ee.$children$[w.$index$]=w}var Dl=(p,m,w,A,ee)=>{var J,He;let he=A.nextSibling;if(p[m]=p[m]||[],he&&(null==(J=he.nodeValue)||!J.startsWith("s.")))do{he&&((he.getAttribute&&he.getAttribute("slot")||he["s-sn"])===w||""===w&&!he["s-sn"]&&(!he.getAttribute||!he.getAttribute("slot"))&&(8===he.nodeType||3===he.nodeType))&&(he["s-sn"]=w,p[m].push({slot:A,node:he,hostId:ee})),he=he?.nextSibling}while(he&&(null==(He=he.nodeValue)||!He.startsWith("s.")))},Fn=(p,m)=>{let w=p;do{w=w.nextSibling}while(w&&(w.nodeType!==m||!w.nodeValue));return w},cs=p=>{const m=(p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(p);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${m}))(${m}\\b)`,"g")};cs("::slotted"),cs(":host"),cs(":host-context");var Il=p=>se.push(p),Na=p=>{var m;return null==(m=ve(p))?void 0:m.$modeName$},Mi=(p,m,w)=>{if("string"==typeof p&&p.startsWith(Ee))return function Yt(p){return"string"==typeof p&&p.startsWith(Ee)?Lr.fromLocalValue(JSON.parse(atob(p.slice(11)))):p}(p);if("string"==typeof p&&(16&m||8&m)&&(p.startsWith("{")&&p.endsWith("}")||p.startsWith("[")&&p.endsWith("]")))try{return JSON.parse(p)}catch{}return null==p||cr(p)?p:4&m?"false"!==p&&(""===p||!!p):2&m?"string"==typeof p?parseFloat(p):"number"==typeof p?p:NaN:1&m?String(p):p},us=p=>{var m;return null==(m=ve(p))?void 0:m.$hostElement$},Fs=(p,m,w)=>{const A=us(p);return{emit:ee=>rt(A,m,{bubbles:!!(4&w),composed:!!(2&w),cancelable:!!(1&w),detail:ee})}},rt=(p,m,w)=>{const A=Ke.ce(m,w);return p.dispatchEvent(A),A},Ls=(p,m,w,A,ee,J,He)=>{if(w===A)return;let he=j(p,m),Ze=m.toLowerCase();if("class"===m){const _e=p.classList,je=xi(w);let dt=xi(A);if((p["s-si"]||p["s-sc"])&&He){const ut=p["s-sc"]||p["s-si"];dt.push(ut),je.forEach(Tt=>{Tt.startsWith(ut)&&dt.push(Tt)}),dt=[...new Set(dt)].filter(Tt=>Tt),_e.add(...dt)}else _e.remove(...je.filter(ut=>ut&&!dt.includes(ut))),_e.add(...dt.filter(ut=>ut&&!je.includes(ut)))}else if("style"===m){for(const _e in w)(!A||null==A[_e])&&(_e.includes("-")?p.style.removeProperty(_e):p.style[_e]="");for(const _e in A)(!w||A[_e]!==w[_e])&&(_e.includes("-")?p.style.setProperty(_e,A[_e]):p.style[_e]=A[_e])}else if("key"!==m)if("ref"===m)A&&A(p);else if(he||"o"!==m[0]||"n"!==m[1]){const _e=cr(A);if((he||_e&&null!==A)&&!ee)try{if(p.tagName.includes("-"))p[m]!==A&&(p[m]=A);else{const dt=A??"";"list"===m?he=!1:(null==w||p[m]!=dt)&&("function"==typeof p.__lookupSetter__(m)?p[m]=dt:p.setAttribute(m,dt))}}catch{}let je=!1;Ze!==(Ze=Ze.replace(/^xlink\:?/,""))&&(m=Ze,je=!0),null==A||!1===A?(!1!==A||""===p.getAttribute(m))&&(je?p.removeAttributeNS(bt,m):p.removeAttribute(m)):(!he||4&J||ee)&&!_e&&1===p.nodeType&&(A=!0===A?"":A,je?p.setAttributeNS(bt,m,A):p.setAttribute(m,A))}else if(m="-"===m[2]?m.slice(3):j(ot,Ze)?Ze.slice(2):Ze[2]+m.slice(3),w||A){const _e=m.endsWith(Go);m=m.replace(la,""),w&&Ke.rel(p,m,w,_e),A&&Ke.ael(p,m,A,_e)}},ji=/\s/,xi=p=>("object"==typeof p&&p&&"baseVal"in p&&(p=p.baseVal),p&&"string"==typeof p?p.split(ji):[]),Go="Capture",la=new RegExp(Go+"$"),ds=(p,m,w,A)=>{const ee=11===m.$elm$.nodeType&&m.$elm$.host?m.$elm$.host:m.$elm$,J=p&&p.$attrs$||{},He=m.$attrs$||{};for(const he of $s(Object.keys(J)))he in He||Ls(ee,he,J[he],void 0,w,m.$flags$,A);for(const he of $s(Object.keys(He)))Ls(ee,he,J[he],He[he],w,m.$flags$,A)};function $s(p){return p.includes("ref")?[...p.filter(m=>"ref"!==m),"ref"]:p}var zo,fs,fi,ps=!1,hs=!1,Vi=!1,io=!1,pi=(p,m,w)=>{var A;const ee=m.$children$[w];let He,he,Ze,J=0;if(ps||(Vi=!0,"slot"===ee.$tag$&&(ee.$flags$|=ee.$children$?2:1)),null!==ee.$text$)He=ee.$elm$=ot.document.createTextNode(ee.$text$);else if(1&ee.$flags$)He=ee.$elm$=ot.document.createTextNode(""),ds(null,ee,io);else{if(io||(io="svg"===ee.$tag$),!ot.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(He=ee.$elm$=ot.document.createElementNS(io?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!ps&&2&ee.$flags$?"slot-fb":ee.$tag$),io&&"foreignObject"===ee.$tag$&&(io=!1),ds(null,ee,io),(p=>null!=p&&void 0!==p)(zo)&&He["s-si"]!==zo&&He.classList.add(He["s-si"]=zo),ee.$children$)for(J=0;J<ee.$children$.length;++J)he=pi(p,ee,J),he&&He.appendChild(he);"svg"===ee.$tag$?io=!1:"foreignObject"===He.tagName&&(io=!0)}return He["s-hn"]=fi,3&ee.$flags$&&(He["s-sr"]=!0,He["s-cr"]=fs,He["s-sn"]=ee.$name$||"",He["s-rf"]=null==(A=ee.$attrs$)?void 0:A.ref,Cn(He),Ze=p&&p.$children$&&p.$children$[w],Ze&&Ze.$tag$===ee.$tag$&&p.$elm$&&Ui(p.$elm$),ms(fs,He,m.$elm$,p?.$elm$)),He},Ui=p=>{Ke.$flags$|=1;const m=p.closest(fi.toLowerCase());if(null!=m){const w=Array.from(m.__childNodes||m.childNodes).find(ee=>ee["s-cr"]),A=Array.from(p.__childNodes||p.childNodes);for(const ee of w?A.reverse():A)null!=ee["s-sh"]&&(go(m,ee,w??null),ee["s-sh"]=void 0,Vi=!0)}Ke.$flags$&=-2},Hi=(p,m)=>{Ke.$flags$|=1;const w=Array.from(p.__childNodes||p.childNodes);if(p["s-sr"]){let A=p;for(;A=A.nextSibling;)A&&A["s-sn"]===p["s-sn"]&&A["s-sh"]===fi&&w.push(A)}for(let A=w.length-1;A>=0;A--){const ee=w[A];ee["s-hn"]!==fi&&ee["s-ol"]&&(go(hi(ee).parentNode,ee,hi(ee)),ee["s-ol"].remove(),ee["s-ol"]=void 0,ee["s-sh"]=void 0,Vi=!0),m&&Hi(ee,m)}Ke.$flags$&=-2},Bs=(p,m,w,A,ee,J)=>{let he,He=p["s-cr"]&&p["s-cr"].parentNode||p;for(He.shadowRoot&&He.tagName===fi&&(He=He.shadowRoot);ee<=J;++ee)A[ee]&&(he=pi(null,w,ee),he&&(A[ee].$elm$=he,go(He,he,hi(m))))},gs=(p,m,w)=>{for(let A=m;A<=w;++A){const ee=p[A];if(ee){const J=ee.$elm$;js(ee),J&&(hs=!0,J["s-ol"]?J["s-ol"].remove():Hi(J,!0),J.remove())}}},Wo=(p,m,w=!1)=>p.$tag$===m.$tag$&&("slot"===p.$tag$?p.$name$===m.$name$:w?(w&&!p.$key$&&m.$key$&&(p.$key$=m.$key$),!0):p.$key$===m.$key$),hi=p=>p&&p["s-ol"]||p,Wt=(p,m,w=!1)=>{const A=m.$elm$=p.$elm$,ee=p.$children$,J=m.$children$,He=m.$tag$,he=m.$text$;let Ze;null===he?(io="svg"===He||"foreignObject"!==He&&io,"slot"===He&&!ps&&p.$name$!==m.$name$&&(m.$elm$["s-sn"]=m.$name$||"",Ui(m.$elm$.parentElement)),ds(p,m,io,w),null!==ee&&null!==J?((p,m,w,A,ee=!1)=>{let At,rr,J=0,He=0,he=0,Ze=0,_e=m.length-1,je=m[0],dt=m[_e],ut=A.length-1,Tt=A[0],pt=A[ut];for(;J<=_e&&He<=ut;)if(null==je)je=m[++J];else if(null==dt)dt=m[--_e];else if(null==Tt)Tt=A[++He];else if(null==pt)pt=A[--ut];else if(Wo(je,Tt,ee))Wt(je,Tt,ee),je=m[++J],Tt=A[++He];else if(Wo(dt,pt,ee))Wt(dt,pt,ee),dt=m[--_e],pt=A[--ut];else if(Wo(je,pt,ee))("slot"===je.$tag$||"slot"===pt.$tag$)&&Hi(je.$elm$.parentNode,!1),Wt(je,pt,ee),go(p,je.$elm$,dt.$elm$.nextSibling),je=m[++J],pt=A[--ut];else if(Wo(dt,Tt,ee))("slot"===je.$tag$||"slot"===pt.$tag$)&&Hi(dt.$elm$.parentNode,!1),Wt(dt,Tt,ee),go(p,dt.$elm$,je.$elm$),dt=m[--_e],Tt=A[++He];else{for(he=-1,Ze=J;Ze<=_e;++Ze)if(m[Ze]&&null!==m[Ze].$key$&&m[Ze].$key$===Tt.$key$){he=Ze;break}he>=0?(rr=m[he],rr.$tag$!==Tt.$tag$?At=pi(m&&m[He],w,he):(Wt(rr,Tt,ee),m[he]=void 0,At=rr.$elm$),Tt=A[++He]):(At=pi(m&&m[He],w,He),Tt=A[++He]),At&&go(hi(je.$elm$).parentNode,At,hi(je.$elm$))}J>_e?Bs(p,null==A[ut+1]?null:A[ut+1].$elm$,w,A,He,ut):He>ut&&gs(m,J,_e)})(A,ee,m,J,w):null!==J?(null!==p.$text$&&(A.textContent=""),Bs(A,null,m,J,0,J.length-1)):w||null===ee?w&&null!==ee&&null===J&&(m.$children$=ee):gs(ee,0,ee.length-1),io&&"svg"===He&&(io=!1)):(Ze=A["s-cr"])?Ze.parentNode.textContent=he:p.$text$!==he&&(A.data=he)},un=[],ca=p=>{let m,w,A;const ee=p.__childNodes||p.childNodes;for(const J of ee){if(J["s-sr"]&&(m=J["s-cr"])&&m.parentNode){w=m.parentNode.__childNodes||m.parentNode.childNodes;const He=J["s-sn"];for(A=w.length-1;A>=0;A--)if(m=w[A],!(m["s-cn"]||m["s-nr"]||m["s-hn"]===J["s-hn"]||m["s-sh"]&&m["s-sh"]===J["s-hn"]))if(Kr(m,He)){let he=un.find(Ze=>Ze.$nodeToRelocate$===m);hs=!0,m["s-sn"]=m["s-sn"]||He,he?(he.$nodeToRelocate$["s-sh"]=J["s-hn"],he.$slotRefNode$=J):(m["s-sh"]=J["s-hn"],un.push({$slotRefNode$:J,$nodeToRelocate$:m})),m["s-sr"]&&un.map(Ze=>{Kr(Ze.$nodeToRelocate$,m["s-sn"])&&(he=un.find(_e=>_e.$nodeToRelocate$===m),he&&!Ze.$slotRefNode$&&(Ze.$slotRefNode$=he.$slotRefNode$))})}else un.some(he=>he.$nodeToRelocate$===m)||un.push({$nodeToRelocate$:m})}1===J.nodeType&&ca(J)}},js=p=>{p.$attrs$&&p.$attrs$.ref&&p.$attrs$.ref(null),p.$children$&&p.$children$.map(js)},go=(p,m,w)=>{if("string"==typeof m["s-sn"]&&m["s-sr"]&&m["s-cr"])ms(m["s-cr"],m,p,m.parentElement);else if("string"==typeof m["s-sn"]){11!==p.getRootNode().nodeType&&sa(m),p.insertBefore(m,w);const{slotNode:A}=Jo(m);return A&&ho(A),m}return p.__insertBefore?p.__insertBefore(m,w):p?.insertBefore(m,w)};function ms(p,m,w,A){var ee,J;let He;if(p&&"string"==typeof m["s-sn"]&&m["s-sr"]&&p.parentNode&&p.parentNode["s-sc"]&&(He=m["s-si"]||p.parentNode["s-sc"])){const he=m["s-sn"],Ze=m["s-hn"];if(null==(ee=w.classList)||ee.add(He+"-s"),A&&null!=(J=A.classList)&&J.contains(He+"-s")){let _e=(A.__childNodes||A.childNodes)[0],je=!1;for(;_e;){if(_e["s-sn"]!==he&&_e["s-hn"]===Ze&&_e["s-sr"]){je=!0;break}_e=_e.nextSibling}je||A.classList.remove(He+"-s")}}}var Gi=(p,m)=>{if(m&&!p.$onRenderResolve$&&m["s-p"]){const w=m["s-p"].push(new Promise(A=>p.$onRenderResolve$=()=>{m["s-p"].splice(w-1,1),A()}))}},vs=(p,m)=>{if(p.$flags$|=16,4&p.$flags$)return void(p.$flags$|=512);Gi(p,p.$ancestorComponent$);const w=()=>Oa(p,m);if(!m)return on(w);queueMicrotask(()=>{w()})},Oa=(p,m)=>{const w=p.$hostElement$,ee=p.$lazyInstance$;if(!ee)throw new Error(`Can't render component <${w.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let J;return m?(p.$flags$|=256,p.$queuedListeners$&&(p.$queuedListeners$.map(([He,he])=>mo(ee,He,he,w)),p.$queuedListeners$=void 0),J=mo(ee,"componentWillLoad",void 0,w)):J=mo(ee,"componentWillUpdate",void 0,w),J=Vs(J,()=>mo(ee,"componentWillRender",void 0,w)),Vs(J,()=>ua(p,ee,m))},Vs=(p,m)=>ys(p)?p.then(m).catch(w=>{console.error(w),m()}):m(),ys=p=>p instanceof Promise||p&&p.then&&"function"==typeof p.then,ua=function(){var p=(0,S.A)(function*(m,w,A){var ee;const J=m.$hostElement$,he=J["s-rc"];A&&(p=>{const m=p.$cmpMeta$,w=p.$hostElement$,A=m.$flags$,J=Xn(w.shadowRoot?w.shadowRoot:w.getRootNode(),m,p.$modeName$);10&A&&(w["s-sc"]=J,w.classList.add(J+"-h"))})(m);Us(m,w,J,A),he&&(he.map(_e=>_e()),J["s-rc"]=void 0);{const _e=null!=(ee=J["s-p"])?ee:[],je=()=>Hs(m);0===_e.length?je():(Promise.all(_e).then(je),m.$flags$|=4,_e.length=0)}});return function(w,A,ee){return p.apply(this,arguments)}}(),Us=(p,m,w,A)=>{try{m=m.render&&m.render(),p.$flags$&=-17,p.$flags$|=2,((p,m,w=!1)=>{var A,ee,J,He,he;const Ze=p.$hostElement$,_e=p.$cmpMeta$,je=p.$vnode$||as(null,null),ut=(p=>p&&p.$tag$===ol)(m)?m:ka(null,null,m);if(fi=Ze.tagName,_e.$attrsToReflect$&&(ut.$attrs$=ut.$attrs$||{},_e.$attrsToReflect$.map(([Tt,pt])=>ut.$attrs$[pt]=Ze[Tt])),w&&ut.$attrs$)for(const Tt of Object.keys(ut.$attrs$))Ze.hasAttribute(Tt)&&!["key","ref","style","class"].includes(Tt)&&(ut.$attrs$[Tt]=Ze[Tt]);if(ut.$tag$=null,ut.$flags$|=4,p.$vnode$=ut,ut.$elm$=je.$elm$=Ze.shadowRoot||Ze,zo=Ze["s-sc"],ps=!(!(1&_e.$flags$)||128&_e.$flags$),fs=Ze["s-cr"],hs=!1,Wt(je,ut,w),Ke.$flags$|=1,Vi){ca(ut.$elm$);for(const Tt of un){const pt=Tt.$nodeToRelocate$;if(!pt["s-ol"]&&ot.document){const At=ot.document.createTextNode("");At["s-nr"]=pt,go(pt.parentNode,pt["s-ol"]=At,pt)}}for(const Tt of un){const pt=Tt.$nodeToRelocate$,At=Tt.$slotRefNode$;if(At){const rr=At.parentNode;let Kt=At.nextSibling;if(Kt&&1===Kt.nodeType){let an=null==(A=pt["s-ol"])?void 0:A.previousSibling;for(;an;){let Ct=null!=(ee=an["s-nr"])?ee:null;if(Ct&&Ct["s-sn"]===pt["s-sn"]&&rr===(Ct.__parentNode||Ct.parentNode)){for(Ct=Ct.nextSibling;Ct===pt||Ct?.["s-sr"];)Ct=Ct?.nextSibling;if(!Ct||!Ct["s-nr"]){Kt=Ct;break}}an=an.previousSibling}}(!Kt&&rr!==(pt.__parentNode||pt.parentNode)||(pt.__nextSibling||pt.nextSibling)!==Kt)&&pt!==Kt&&(go(rr,pt,Kt),1===pt.nodeType&&"SLOT-FB"!==pt.tagName&&(pt.hidden=null!=(J=pt["s-ih"])&&J)),pt&&"function"==typeof At["s-rf"]&&At["s-rf"](At)}else 1===pt.nodeType&&(w&&(pt["s-ih"]=null!=(He=pt.hidden)&&He),pt.hidden=!0)}}if(hs&&lo(ut.$elm$),Ke.$flags$&=-2,un.length=0,2&_e.$flags$){const Tt=ut.$elm$.__childNodes||ut.$elm$.childNodes;for(const pt of Tt)pt["s-hn"]!==fi&&!pt["s-sh"]&&(w&&null==pt["s-ih"]&&(pt["s-ih"]=null!=(he=pt.hidden)&&he),pt.hidden=!0)}fs=void 0})(p,m,A)}catch(ee){K(ee,p.$hostElement$)}return null},Hs=p=>{const w=p.$hostElement$,ee=p.$lazyInstance$,J=p.$ancestorComponent$;mo(ee,"componentDidRender",void 0,w),64&p.$flags$?mo(ee,"componentDidUpdate",void 0,w):(p.$flags$|=64,zs(w),mo(ee,"componentDidLoad",void 0,w),p.$onReadyResolve$(w),J||Gs()),p.$onInstanceResolve$(w),p.$onRenderResolve$&&(p.$onRenderResolve$(),p.$onRenderResolve$=void 0),512&p.$flags$&&fn(()=>vs(p,!1)),p.$flags$&=-517},da=p=>{var m;{const w=ve(p),A=null==(m=w?.$hostElement$)?void 0:m.isConnected;return A&&2==(18&w.$flags$)&&vs(w,!1),A}},Gs=p=>{var m;fn(()=>rt(ot,"appload",{detail:{namespace:"ionic"}})),null!=(m=Ke.$orgLocNodes$)&&m.size&&Ke.$orgLocNodes$.clear()},mo=(p,m,w,A)=>{if(p&&p[m])try{return p[m](w)}catch(ee){K(ee,A)}},zs=p=>p.classList.add("hydrated"),zi=(p,m,w,A)=>{const ee=ve(p);if(!ee)return;if(!ee)throw new Error(`Couldn't find host element for "${A.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const J=ee.$hostElement$,He=ee.$instanceValues$.get(m),he=ee.$flags$,Ze=ee.$lazyInstance$;w=Mi(w,A.$members$[m][0]);const _e=Number.isNaN(He)&&Number.isNaN(w);if((!(8&he)||void 0===He)&&w!==He&&!_e&&(ee.$instanceValues$.set(m,w),Ze)){if(A.$watchers$&&128&he){const dt=A.$watchers$[m];dt&&dt.map(ut=>{try{Ze[ut](w,He,m)}catch(Tt){K(Tt,J)}})}if(2==(18&he)){if(Ze.componentShouldUpdate&&!1===Ze.componentShouldUpdate(w,He,m))return;vs(ee,!1)}}},fa=(p,m,w)=>{var A,ee;const J=p.prototype;if(m.$members$||m.$watchers$||p.watchers){p.watchers&&!m.$watchers$&&(m.$watchers$=p.watchers);const He=Object.entries(null!=(A=m.$members$)?A:{});if(He.map(([he,[Ze]])=>{if(31&Ze||2&w&&32&Ze){const{get:_e,set:je}=Object.getOwnPropertyDescriptor(J,he)||{};_e&&(m.$members$[he][0]|=2048),je&&(m.$members$[he][0]|=4096),(1&w||!_e)&&Object.defineProperty(J,he,{get(){{if(!(2048&m.$members$[he][0]))return((p,m)=>ve(this).$instanceValues$.get(m))(0,he);const dt=ve(this),ut=dt?dt.$lazyInstance$:J;return ut?ut[he]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(J,he,{set(dt){const ut=ve(this);if(ut){if(je){const Tt=32&Ze?this[he]:ut.$hostElement$[he];return typeof Tt>"u"&&ut.$instanceValues$.get(he)?dt=ut.$instanceValues$.get(he):!ut.$instanceValues$.get(he)&&Tt&&ut.$instanceValues$.set(he,Tt),je.apply(this,[Mi(dt,Ze)]),void zi(this,he,dt=32&Ze?this[he]:ut.$hostElement$[he],m)}{if(!(1&w&&4096&m.$members$[he][0]))return zi(this,he,dt,m),void(1&w&&!ut.$lazyInstance$&&ut.$onReadyPromise$.then(()=>{4096&m.$members$[he][0]&&ut.$lazyInstance$[he]!==ut.$instanceValues$.get(he)&&(ut.$lazyInstance$[he]=dt)}));const Tt=()=>{const pt=ut.$lazyInstance$[he];!ut.$instanceValues$.get(he)&&pt&&ut.$instanceValues$.set(he,pt),ut.$lazyInstance$[he]=Mi(dt,Ze),zi(this,he,ut.$lazyInstance$[he],m)};ut.$lazyInstance$?Tt():ut.$onReadyPromise$.then(()=>Tt())}}}})}else 1&w&&64&Ze&&Object.defineProperty(J,he,{value(..._e){var je;const dt=ve(this);return null==(je=dt?.$onInstancePromise$)?void 0:je.then(()=>{var ut;return null==(ut=dt.$lazyInstance$)?void 0:ut[he](..._e)})}})}),1&w){const he=new Map;J.attributeChangedCallback=function(Ze,_e,je){Ke.jmp(()=>{var dt;const ut=he.get(Ze);if(this.hasOwnProperty(ut))je=this[ut],delete this[ut];else{if(J.hasOwnProperty(ut)&&"number"==typeof this[ut]&&this[ut]==je)return;if(null==ut){const pt=ve(this),At=pt?.$flags$;if(pt&&At&&!(8&At)&&128&At&&je!==_e){const rr=pt.$lazyInstance$,Kt=null==(dt=m.$watchers$)?void 0:dt[Ze];Kt?.forEach(Xt=>{null!=rr[Xt]&&rr[Xt].call(rr,je,_e,Ze)})}return}}const Tt=Object.getOwnPropertyDescriptor(J,ut);(je=(null!==je||"boolean"!=typeof this[ut])&&je)!==this[ut]&&(!Tt.get||Tt.set)&&(this[ut]=je)})},p.observedAttributes=Array.from(new Set([...Object.keys(null!=(ee=m.$watchers$)?ee:{}),...He.filter(([Ze,_e])=>15&_e[0]).map(([Ze,_e])=>{var je;const dt=_e[1]||Ze;return he.set(dt,Ze),512&_e[0]&&(null==(je=m.$attrsToReflect$)||je.push([Ze,dt])),dt})]))}}return p},Pa=function(){var p=(0,S.A)(function*(m,w,A,ee){let J;if(!(32&w.$flags$)){if(w.$flags$|=32,A.$lazyBundleId$){const _e=((p,m)=>{const A=p.$tagName$.replace(/-/g,"_"),ee=p.$lazyBundleId$;if(!ee)return;const J=Ue.get(ee);return J?J[A]:_(8996)(`./${ee}.entry.js`).then(He=>(Ue.set(ee,He),He[A]),He=>{K(He,m.$hostElement$)})})(A,w);if(_e&&"then"in _e){const dt=()=>{};J=yield _e,dt()}else J=_e;if(!J)throw new Error(`Constructor for "${A.$tagName$}#${w.$modeName$}" was not found`);J.isProxied||(A.$watchers$=J.watchers,fa(J,A,2),J.isProxied=!0);const je=()=>{};w.$flags$|=8;try{new J(w)}catch(dt){K(dt,m)}w.$flags$&=-9,w.$flags$|=128,je(),ko(w.$lazyInstance$,m)}else J=m.constructor,customElements.whenDefined(m.localName).then(()=>w.$flags$|=128);if(J&&J.style){let _e;"string"==typeof J.style?_e=J.style:"string"!=typeof J.style&&(w.$modeName$=(p=>se.map(m=>m(p)).find(m=>!!m))(m),w.$modeName$&&(_e=J.style[w.$modeName$]));const je=Uo(A,w.$modeName$);if(!ne.has(je)){const dt=()=>{};ur(je,_e,!!(1&A.$flags$)),dt()}}}const He=w.$ancestorComponent$,he=()=>vs(w,!0);He&&He["s-rc"]?He["s-rc"].push(he):he()});return function(w,A,ee,J){return p.apply(this,arguments)}}(),ko=(p,m)=>{mo(p,"connectedCallback",void 0,m)},pa=p=>{if(!ot.document)return;const m=p["s-cr"]=ot.document.createComment("");m["s-cn"]=!0,go(p,m,p.firstChild)},Ws=(p,m)=>{mo(p,"disconnectedCallback",void 0,m||p)},oe=function(){var p=(0,S.A)(function*(m){if(!(1&Ke.$flags$)){const w=ve(m);w?.$rmListeners$&&(w.$rmListeners$.map(A=>A()),w.$rmListeners$=void 0),w?.$lazyInstance$?Ws(w.$lazyInstance$,m):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>Ws(w.$lazyInstance$,m))}zt.has(m)&&zt.delete(m),m.shadowRoot&&zt.has(m.shadowRoot)&&zt.delete(m.shadowRoot)});return function(w){return p.apply(this,arguments)}}(),qs=(p,m={})=>{var w;if(!ot.document)return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");const ee=[],J=m.exclude||[],He=ot.customElements,he=ot.document.head,Ze=he.querySelector("meta[charset]"),_e=ot.document.createElement("style"),je=[];let dt,ut=!0;Object.assign(Ke,m),Ke.$resourcesUrl$=new URL(m.resourcesUrl||"./",ot.document.baseURI).href,Ke.$flags$|=2,(()=>{if(!ot.document)return;const p=ot.document.querySelectorAll(`[${Te}]`);let m=0;for(;m<p.length;m++)ur(p[m].getAttribute(Te),uc(p[m].innerHTML),!0)})();let Tt=!1;if(p.map(pt=>{pt[1].map(At=>{var rr;const Kt={$flags$:At[0],$tagName$:At[1],$members$:At[2],$listeners$:At[3]};4&Kt.$flags$&&(Tt=!0),Kt.$members$=At[2],Kt.$listeners$=At[3],Kt.$attrsToReflect$=[],Kt.$watchers$=null!=(rr=At[4])?rr:{};const Xt=Kt.$tagName$,Rn=class extends HTMLElement{constructor(an){if(super(an),this.hasRegisteredEventListeners=!1,((p,m)=>{const w={$flags$:0,$hostElement$:p,$cmpMeta$:m,$instanceValues$:new Map};w.$onInstancePromise$=new Promise(ee=>w.$onInstanceResolve$=ee),w.$onReadyPromise$=new Promise(ee=>w.$onReadyResolve$=ee),p["s-p"]=[],p["s-rc"]=[];const A=w;p.__stencil__getHostRef=()=>A})(an=this,Kt),1&Kt.$flags$)if(an.shadowRoot){if("open"!==an.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Kt.$tagName$}! Mode is set to ${an.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Jt.call(an,Kt)}connectedCallback(){const an=ve(this);an&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,ni(this,an,Kt.$listeners$)),dt&&(clearTimeout(dt),dt=null),ut?je.push(this):Ke.jmp(()=>(p=>{if(!(1&Ke.$flags$)){const m=ve(p);if(!m)return;const w=m.$cmpMeta$,A=()=>{};if(1&m.$flags$)ni(p,m,w.$listeners$),m?.$lazyInstance$?ko(m.$lazyInstance$,p):m?.$onReadyPromise$&&m.$onReadyPromise$.then(()=>ko(m.$lazyInstance$,p));else{let ee;if(m.$flags$|=1,ee=p.getAttribute(St),ee){if(1&w.$flags$){const J=Xn(p.shadowRoot,w,p.getAttribute("s-mode"));p.classList.remove(J+"-h",J+"-s")}else if(2&w.$flags$){const J=Uo(w,p.getAttribute("s-mode"));p["s-sc"]=J}((p,m,w,A)=>{var ee,J,He;const Ze=p.shadowRoot,_e=[],je=[],dt=[],ut=Ze?[]:null,Tt=as(m,null);let At;Tt.$elm$=p,Object.entries((null==(ee=A.$cmpMeta$)?void 0:ee.$members$)||{}).forEach(([$,[ae,Be]])=>{var Rt;if(!(31&ae))return;const gn=p.getAttribute(Be||$);if(null!==gn){const $n=Mi(gn,ae);null==(Rt=A?.$instanceValues$)||Rt.set($,$n)}});{const $=A.$cmpMeta$;$&&10&$.$flags$&&p["s-sc"]?(At=p["s-sc"],p.classList.add(At+"-h")):p["s-sc"]&&delete p["s-sc"]}ot.document&&(!Ke.$orgLocNodes$||!Ke.$orgLocNodes$.size)&&Ho(ot.document.body,Ke.$orgLocNodes$=new Map),p[St]=w,p.removeAttribute(St),A.$vnode$=Ra(Tt,_e,je,ut,p,p,w,dt);let rr=0;const Kt=_e.length;let Xt;for(;rr<Kt;rr++){Xt=_e[rr];const $=Xt.$hostId$+"."+Xt.$nodeId$,ae=Ke.$orgLocNodes$.get($),Be=Xt.$elm$;if(Ze){if(null!=(J=Xt.$tag$)&&J.toString().includes("-")&&"slot-fb"!==Xt.$tag$&&!Xt.$elm$.shadowRoot){const Rt=ve(Xt.$elm$);if(Rt){const rn=Uo(Rt.$cmpMeta$,Xt.$elm$.getAttribute("s-mode")),gn=ot.document.querySelector(`style[sty-id="${rn}"]`);gn&&p.shadowRoot.append(gn.cloneNode(!0))}}}else Be["s-hn"]=m.toUpperCase(),"slot"===Xt.$tag$&&(Be["s-cr"]=p["s-cr"]);"slot"===Xt.$tag$&&(Xt.$name$=Xt.$elm$["s-sn"]||Xt.$elm$.name||null,Xt.$children$?(Xt.$flags$|=2,Xt.$elm$.childNodes.length||Xt.$children$.forEach(Rt=>{Xt.$elm$.appendChild(Rt.$elm$)})):Xt.$flags$|=1),ae&&ae.isConnected&&(ae.parentElement.shadowRoot&&""===ae["s-en"]&&ae.parentNode.insertBefore(Be,ae.nextSibling),ae.parentNode.removeChild(ae),Ze||(Be["s-oo"]=parseInt(Xt.$nodeId$))),ae&&!ae["s-id"]&&Ke.$orgLocNodes$.delete($)}const Rn=[],an=dt.length;let Ln,pn,An,b,Ct=0;for(;Ct<an;Ct++)if(Ln=dt[Ct],Ln&&Ln.length)for(An=Ln.length,pn=0;pn<An;pn++){if(b=Ln[pn],Rn[b.hostId]||(Rn[b.hostId]=Ke.$orgLocNodes$.get(b.hostId)),!Rn[b.hostId])continue;const $=Rn[b.hostId];$.shadowRoot&&b.node.parentElement!==$&&$.appendChild(b.node),(!$.shadowRoot||!Ze)&&(b.slot["s-cr"]||(b.slot["s-cr"]=$["s-cr"],b.slot["s-cr"]=!b.slot["s-cr"]&&$.shadowRoot?$:($.__childNodes||$.childNodes)[0]),Eo(b.node,b.slot,!1,b.node["s-oo"]),null!=(He=b.node.parentElement)&&He.shadowRoot&&b.node.getAttribute&&b.node.getAttribute("slot")&&b.node.removeAttribute("slot"),Bi(b.node))}if(At&&je.length&&je.forEach($=>{$.$elm$.parentElement.classList.add(At+"-s")}),Ze){let $=0;const ae=ut.length;if(ae){for(;$<ae;$++){const Be=ut[$];Be&&Ze.appendChild(Be)}Array.from(p.childNodes).forEach(Be=>{"string"!=typeof Be["s-en"]&&"string"!=typeof Be["s-sn"]&&(1===Be.nodeType&&Be.slot&&Be.hidden?Be.removeAttribute("hidden"):(8===Be.nodeType&&!Be.nodeValue||3===Be.nodeType&&!Be.wholeText.trim())&&Be.parentNode.removeChild(Be))})}}A.$hostElement$=p})(p,w.$tagName$,ee,m)}ee||12&w.$flags$&&pa(p);{let J=p;for(;J=J.parentNode||J.host;)if(1===J.nodeType&&J.hasAttribute("s-id")&&J["s-p"]||J["s-p"]){Gi(m,m.$ancestorComponent$=J);break}}w.$members$&&Object.entries(w.$members$).map(([J,[He]])=>{if(31&He&&p.hasOwnProperty(J)){const he=p[J];delete p[J],p[J]=he}}),Pa(p,m,w)}A()}})(this)))}disconnectedCallback(){Ke.jmp(()=>oe(this)),Ke.raf(()=>{var an;const Ct=ve(this);if(!Ct)return;const Ln=je.findIndex(pn=>pn===this);Ln>-1&&je.splice(Ln,1),(null==(an=Ct?.$vnode$)?void 0:an.$elm$)instanceof Node&&!Ct.$vnode$.$elm$.isConnected&&delete Ct.$vnode$.$elm$})}componentOnReady(){var an;return null==(an=ve(this))?void 0:an.$onReadyPromise$}};!(1&Kt.$flags$)&&256&Kt.$flags$&&(p=>{Bo(p),On(p),di(p),br(p),Br(p),jo(p),Fe(p),ir(p),Bn(p),Ti(p),xo(p)})(Rn.prototype),Kt.$lazyBundleId$=pt[0],!J.includes(Xt)&&!He.get(Xt)&&(ee.push(Xt),He.define(Xt,fa(Rn,Kt,1)))})}),ee.length>0&&(Tt&&(_e.textContent+=ft),_e.textContent+=ee.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",_e.innerHTML.length)){_e.setAttribute("data-styles","");const pt=null!=(w=Ke.$nonce$)?w:Zr(ot.document);null!=pt&&_e.setAttribute("nonce",pt),he.insertBefore(_e,Ze?Ze.nextSibling:he.firstChild)}ut=!1,je.length?je.map(pt=>pt.connectedCallback()):Ke.jmp(()=>dt=setTimeout(Gs,30))},$e=(p,m)=>m,ni=(p,m,w,A)=>{w&&ot.document&&w.map(([ee,J,He])=>{const he=bs(ot.document,p,ee),Ze=ha(m,He),_e=Ri(ee);Ke.ael(he,J,Ze,_e),(m.$rmListeners$=m.$rmListeners$||[]).push(()=>Ke.rel(he,J,Ze,_e))})},ha=(p,m)=>w=>{var A;try{256&p.$flags$?null==(A=p.$lazyInstance$)||A[m](w):(p.$queuedListeners$=p.$queuedListeners$||[]).push([m,w])}catch(ee){K(ee,p.$hostElement$)}},bs=(p,m,w)=>4&w?p:8&w?ot:16&w?p.body:m,Ri=p=>Ot?{passive:!!(1&p),capture:!!(2&p)}:!!(2&p)},9364:(Z,we,_)=>{"use strict";var S=_(7888);Z.exports=S.getPrototypeOf||null},9462:Z=>{"use strict";var S,we="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,_="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;we||(S=function(k){return!1});var x=we?we.prototype.has:null,L=_?_.prototype.has:null;!S&&!x&&(S=function(k){return!1}),Z.exports=S||function(k){if(!k||"object"!=typeof k)return!1;try{if(x.call(k,x),L)try{L.call(k,L)}catch{return!0}return k instanceof we}catch{}return!1}},9713:(Z,we,_)=>{"use strict";var S=_(7707),x=_(814),L=_(5124);Z.exports=function(){return L(S,x,arguments)}},9805:(Z,we,_)=>{"use strict";_.r(we),_.d(we,{iosTransitionAnimation:()=>T,shadow:()=>E});var S=_(7133),x=_(6780);_(9335),_(575),_(6721);const O=ce=>document.querySelector(`${ce}.ion-cloned-element`),E=ce=>ce.shadowRoot||ce,P=ce=>{const Ce="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs"),X="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ce){const W=Ce.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=W?W.querySelector(X):null}return ce.querySelector(X)},R=(ce,Ce)=>{const X="ION-TABS"===ce.tagName?ce:ce.querySelector("ion-tabs");let W=[];if(null!=X){const Y=X.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Y&&(W=Y.querySelectorAll("ion-buttons"))}else W=ce.querySelectorAll("ion-buttons");for(const Y of W){const me=Y.closest("ion-header"),Ie=me&&!me.classList.contains("header-collapse-condense-inactive"),Xe=Y.querySelector("ion-back-button"),te=Y.classList.contains("buttons-collapse");if(null!==Xe&&("start"===Y.slot||""===Y.slot)&&(te&&Ie&&Ce||!te))return Xe}return null},N=(ce,Ce,X,W,Y,me,Ie,Xe,te)=>{var Ee,ve;const ue=Ce?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",De=Ce?"right":"left",j=Ce?"left":"right",K=Ce?"right":"left";let Ue=1,G=1,ne=`scale(${G})`;const se="scale(1)";if(me&&Ie){const Oe=(null===(Ee=me.textContent)||void 0===Ee?void 0:Ee.trim())===(null===(ve=Xe.textContent)||void 0===ve?void 0:ve.trim());Ue=te.width/Ie.width,G=(te.height-ie)/Ie.height,ne=Oe?`scale(${Ue}, ${G})`:`scale(${G})`}const Ne=E(W).querySelector("ion-icon").getBoundingClientRect(),Le=Ce?Ne.width/2-(Ne.right-Y.right)+"px":Y.left-Ne.width/2+"px",Se=Ce?`-${window.innerWidth-Y.right}px`:`${Y.left}px`,et=`${te.top}px`,St=`${Y.top}px`,gt=X?[{offset:0,transform:`translate3d(${Se}, ${St}, 0)`},{offset:1,transform:`translate3d(${Le}, ${et}, 0)`}]:[{offset:0,transform:`translate3d(${Le}, ${et}, 0)`},{offset:1,transform:`translate3d(${Se}, ${St}, 0)`}],ot=X?[{offset:0,opacity:1,transform:se},{offset:1,opacity:0,transform:ne}]:[{offset:0,opacity:0,transform:ne},{offset:1,opacity:1,transform:se}],yt=X?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Ot=(0,S.c)(),yn=(0,S.c)(),_n=(0,S.c)(),Zt=O("ion-back-button"),xt=E(Zt).querySelector(".button-text"),Ye=E(Zt).querySelector("ion-icon");Zt.text=W.text,Zt.mode=W.mode,Zt.icon=W.icon,Zt.color=W.color,Zt.disabled=W.disabled,Zt.style.setProperty("display","block"),Zt.style.setProperty("position","fixed"),yn.addElement(Ye),Ot.addElement(xt),_n.addElement(Zt),_n.beforeStyles({position:"absolute",top:"0px",[K]:"0px"}).beforeAddWrite(()=>{W.style.setProperty("display","none"),Zt.style.setProperty(De,ue)}).afterAddWrite(()=>{W.style.setProperty("display",""),Zt.style.setProperty("display","none"),Zt.style.removeProperty(De)}).keyframes(gt),Ot.beforeStyles({"transform-origin":`${De} top`}).keyframes(ot),yn.beforeStyles({"transform-origin":`${j} center`}).keyframes(yt),ce.addAnimation([Ot,yn,_n])},I=(ce,Ce,X,W,Y,me,Ie,Xe,te)=>{var Ee,ve;const ue=Ce?"right":"left",De=Ce?`calc(100% - ${Y.right}px)`:`${Y.left}px`,K=`${Y.top}px`;let G=Ce?`-${window.innerWidth-Ie.right-8}px`:`${Ie.x+8}px`,ne=.5;const se="scale(1)";let ye=`scale(${ne})`;if(Xe&&te){G=Ce?`-${window.innerWidth-te.right-8}px`:te.x-8+"px";const ft=(null===(Ee=Xe.textContent)||void 0===Ee?void 0:Ee.trim())===(null===(ve=W.textContent)||void 0===ve?void 0:ve.trim());ne=te.height/(me.height-ie),ye=ft?`scale(${te.width/me.width}, ${ne})`:`scale(${ne})`}const Se=Ie.top+Ie.height/2-Y.height*ne/2+"px",Te=X?[{offset:0,opacity:0,transform:`translate3d(${G}, ${Se}, 0) ${ye}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${K}, 0) ${se}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${K}, 0) ${se}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${G}, ${Se}, 0) ${ye}`}],ze=O("ion-title"),gt=(0,S.c)();ze.innerText=W.innerText,ze.size=W.size,ze.color=W.color,gt.addElement(ze),gt.beforeStyles({"transform-origin":`${ue} top`,height:`${Y.height}px`,display:"",position:"relative",[ue]:De}).beforeAddWrite(()=>{W.style.setProperty("opacity","0")}).afterAddWrite(()=>{W.style.setProperty("opacity",""),ze.style.setProperty("display","none")}).keyframes(Te),ce.addAnimation(gt)},T=(ce,Ce)=>{var X;try{const W="cubic-bezier(0.32,0.72,0,1)",Y="opacity",me="transform",te="rtl"===ce.ownerDocument.dir,Ee=te?"-99.5%":"99.5%",ve=te?"33%":"-33%",ue=Ce.enteringEl,De=Ce.leavingEl,j="back"===Ce.direction,K=ue.querySelector(":scope > ion-content"),Ue=ue.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),G=ue.querySelectorAll(":scope > ion-header > ion-toolbar"),ne=(0,S.c)(),se=(0,S.c)();if(ne.addElement(ue).duration((null!==(X=Ce.duration)&&void 0!==X?X:0)||540).easing(Ce.easing||W).fill("both").beforeRemoveClass("ion-page-invisible"),De&&null!=ce){const Se=(0,S.c)();Se.addElement(ce),ne.addAnimation(Se)}if(K||0!==G.length||0!==Ue.length?(se.addElement(K),se.addElement(Ue)):se.addElement(ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(se),j?se.beforeClearStyles([Y]).fromTo("transform",`translateX(${ve})`,"translateX(0%)").fromTo(Y,.8,1):se.beforeClearStyles([Y]).fromTo("transform",`translateX(${Ee})`,"translateX(0%)"),K){const Se=E(K).querySelector(".transition-effect");if(Se){const et=Se.querySelector(".transition-cover"),St=Se.querySelector(".transition-shadow"),Te=(0,S.c)(),ze=(0,S.c)(),gt=(0,S.c)();Te.addElement(Se).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ze.addElement(et).beforeClearStyles([Y]).fromTo(Y,0,.1),gt.addElement(St).beforeClearStyles([Y]).fromTo(Y,.03,.7),Te.addAnimation([ze,gt]),se.addAnimation([Te])}}const ye=ue.querySelector("ion-header.header-collapse-condense"),{forward:Ne,backward:Le}=((ce,Ce,X,W,Y)=>{const me=R(W,X),Ie=P(Y),Xe=P(W),te=R(Y,X),Ee=null!==me&&null!==Ie&&!X,ve=null!==Xe&&null!==te&&X;if(Ee){const ue=Ie.getBoundingClientRect(),De=me.getBoundingClientRect(),j=E(me).querySelector(".button-text"),K=j?.getBoundingClientRect(),G=E(Ie).querySelector(".toolbar-title").getBoundingClientRect();I(ce,Ce,X,Ie,ue,G,De,j,K),N(ce,Ce,X,me,De,j,K,Ie,G)}else if(ve){const ue=Xe.getBoundingClientRect(),De=te.getBoundingClientRect(),j=E(te).querySelector(".button-text"),K=j?.getBoundingClientRect(),G=E(Xe).querySelector(".toolbar-title").getBoundingClientRect();I(ce,Ce,X,Xe,ue,G,De,j,K),N(ce,Ce,X,te,De,j,K,Xe,G)}return{forward:Ee,backward:ve}})(ne,te,j,ue,De);if(G.forEach(Se=>{const et=(0,S.c)();et.addElement(Se),ne.addAnimation(et);const St=(0,S.c)();St.addElement(Se.querySelector("ion-title"));const Te=(0,S.c)(),ze=Array.from(Se.querySelectorAll("ion-buttons,[menuToggle]")),gt=Se.closest("ion-header"),ft=gt?.classList.contains("header-collapse-condense-inactive");let bt;bt=ze.filter(j?Ot=>{const yn=Ot.classList.contains("buttons-collapse");return yn&&!ft||!yn}:Ot=>!Ot.classList.contains("buttons-collapse")),Te.addElement(bt);const ot=(0,S.c)();ot.addElement(Se.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Et=(0,S.c)();Et.addElement(E(Se).querySelector(".toolbar-background"));const Ke=(0,S.c)(),yt=Se.querySelector("ion-back-button");if(yt&&Ke.addElement(yt),et.addAnimation([St,Te,ot,Et,Ke]),Te.fromTo(Y,.01,1),ot.fromTo(Y,.01,1),j)ft||St.fromTo("transform",`translateX(${ve})`,"translateX(0%)").fromTo(Y,.01,1),ot.fromTo("transform",`translateX(${ve})`,"translateX(0%)"),Ke.fromTo(Y,.01,1);else if(ye||St.fromTo("transform",`translateX(${Ee})`,"translateX(0%)").fromTo(Y,.01,1),ot.fromTo("transform",`translateX(${Ee})`,"translateX(0%)"),Et.beforeClearStyles([Y,"transform"]),gt?.translucent?Et.fromTo("transform",te?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Et.fromTo(Y,.01,"var(--opacity)"),Ne||Ke.fromTo(Y,.01,1),yt&&!Ne){const yn=(0,S.c)();yn.addElement(E(yt).querySelector(".button-text")).fromTo("transform",te?"translateX(-100px)":"translateX(100px)","translateX(0px)"),et.addAnimation(yn)}}),De){const Se=(0,S.c)(),et=De.querySelector(":scope > ion-content"),St=De.querySelectorAll(":scope > ion-header > ion-toolbar"),Te=De.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(et||0!==St.length||0!==Te.length?(Se.addElement(et),Se.addElement(Te)):Se.addElement(De.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(Se),j){Se.beforeClearStyles([Y]).fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)");const ze=(0,x.g)(De);ne.afterAddWrite(()=>{"normal"===ne.getDirection()&&ze.style.setProperty("display","none")})}else Se.fromTo("transform","translateX(0%)",`translateX(${ve})`).fromTo(Y,1,.8);if(et){const ze=E(et).querySelector(".transition-effect");if(ze){const gt=ze.querySelector(".transition-cover"),ft=ze.querySelector(".transition-shadow"),bt=(0,S.c)(),ot=(0,S.c)(),Et=(0,S.c)();bt.addElement(ze).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ot.addElement(gt).beforeClearStyles([Y]).fromTo(Y,.1,0),Et.addElement(ft).beforeClearStyles([Y]).fromTo(Y,.7,.03),bt.addAnimation([ot,Et]),Se.addAnimation([bt])}}St.forEach(ze=>{const gt=(0,S.c)();gt.addElement(ze);const ft=(0,S.c)();ft.addElement(ze.querySelector("ion-title"));const bt=(0,S.c)(),ot=ze.querySelectorAll("ion-buttons,[menuToggle]"),Et=ze.closest("ion-header"),Ke=Et?.classList.contains("header-collapse-condense-inactive"),yt=Array.from(ot).filter(Ye=>{const Oe=Ye.classList.contains("buttons-collapse");return Oe&&!Ke||!Oe});bt.addElement(yt);const Ot=(0,S.c)(),yn=ze.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");yn.length>0&&Ot.addElement(yn);const _n=(0,S.c)();_n.addElement(E(ze).querySelector(".toolbar-background"));const Zt=(0,S.c)(),xt=ze.querySelector("ion-back-button");if(xt&&Zt.addElement(xt),gt.addAnimation([ft,bt,Ot,Zt,_n]),ne.addAnimation(gt),Zt.fromTo(Y,.99,0),bt.fromTo(Y,.99,0),Ot.fromTo(Y,.99,0),j){if(Ke||ft.fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)").fromTo(Y,.99,0),Ot.fromTo("transform","translateX(0%)",te?"translateX(-100%)":"translateX(100%)"),_n.beforeClearStyles([Y,"transform"]),Et?.translucent?_n.fromTo("transform","translateX(0px)",te?"translateX(-100%)":"translateX(100%)"):_n.fromTo(Y,"var(--opacity)",0),xt&&!Le){const Oe=(0,S.c)();Oe.addElement(E(xt).querySelector(".button-text")).fromTo("transform","translateX(0%)",`translateX(${(te?-124:124)+"px"})`),gt.addAnimation(Oe)}}else Ke||ft.fromTo("transform","translateX(0%)",`translateX(${ve})`).fromTo(Y,.99,0).afterClearStyles([me,Y]),Ot.fromTo("transform","translateX(0%)",`translateX(${ve})`).afterClearStyles([me,Y]),Zt.afterClearStyles([Y]),ft.afterClearStyles([Y]),bt.afterClearStyles([Y])})}return ne}catch(W){throw W}},ie=10},9817:Z=>{"use strict";Z.exports=Object.getOwnPropertyDescriptor},9819:(Z,we,_)=>{"use strict";var S=_(6998),x=typeof globalThis>"u"?global:globalThis;Z.exports=function(){for(var z=[],k=0;k<S.length;k++)"function"==typeof x[S[k]]&&(z[z.length]=S[k]);return z}},9831:Z=>{"use strict";var we=function(_){return _!=_};Z.exports=function(S,x){return 0===S&&0===x?1/S==1/x:!!(S===x||we(S)&&we(x))}},9919:(Z,we,_)=>{"use strict";_.d(we,{a:()=>L,b:()=>Ee,i:()=>ve});var S=_(9335);const L=(ue,De)=>("string"==typeof ue&&(De=ue,ue=void 0),(ue=>z(ue))(ue).includes(De)),z=(ue=window)=>{if(typeof ue>"u")return[];ue.Ionic=ue.Ionic||{};let De=ue.Ionic.platforms;return null==De&&(De=ue.Ionic.platforms=k(ue),De.forEach(j=>ue.document.documentElement.classList.add(`plt-${j}`))),De},k=ue=>{const De=S.e.get("platform");return Object.keys(Xe).filter(j=>{const K=De?.[j];return"function"==typeof K?K(ue):Xe[j](ue)})},O=ue=>!!(me(ue,/iPad/i)||me(ue,/Macintosh/i)&&T(ue)),R=ue=>me(ue,/android|sink/i),T=ue=>Ie(ue,"(any-pointer:coarse)"),ce=ue=>Ce(ue)||X(ue),Ce=ue=>!!(ue.cordova||ue.phonegap||ue.PhoneGap),X=ue=>{const De=ue.Capacitor;return!!(De?.isNative||De?.isNativePlatform&&De.isNativePlatform())},me=(ue,De)=>De.test(ue.navigator.userAgent),Ie=(ue,De)=>{var j;return null===(j=ue.matchMedia)||void 0===j?void 0:j.call(ue,De).matches},Xe={ipad:O,iphone:ue=>me(ue,/iPhone/i),ios:ue=>me(ue,/iPhone|iPod/i)||O(ue),android:R,phablet:ue=>{const De=ue.innerWidth,j=ue.innerHeight,K=Math.min(De,j),Ue=Math.max(De,j);return K>390&&K<520&&Ue>620&&Ue<800},tablet:ue=>{const De=ue.innerWidth,j=ue.innerHeight,K=Math.min(De,j),Ue=Math.max(De,j);return O(ue)||(ue=>R(ue)&&!me(ue,/mobile/i))(ue)||K>460&&K<820&&Ue>780&&Ue<1400},cordova:Ce,capacitor:X,electron:ue=>me(ue,/electron/i),pwa:ue=>{var De;return!!(null!==(De=ue.matchMedia)&&void 0!==De&&De.call(ue,"(display-mode: standalone)").matches||ue.navigator.standalone)},mobile:T,mobileweb:ue=>T(ue)&&!ce(ue),desktop:ue=>!T(ue),hybrid:ce};let te;const Ee=ue=>ue&&(0,S.o)(ue)||te,ve=(ue={})=>{if(typeof window>"u")return;const De=window.document,j=window,K=j.Ionic=j.Ionic||{},Ue=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,S.l)(j)),{persistConfig:!1}),K.config),(0,S.m)(j)),ue);S.e.reset(Ue),S.e.getBoolean("persistConfig")&&(0,S.n)(j,Ue),z(j),K.config=S.e,K.mode=te=S.e.get("mode",De.documentElement.getAttribute("mode")||(L(j,"ios")?"ios":"md")),S.e.set("mode",te),De.documentElement.setAttribute("mode",te),De.documentElement.classList.add(te),S.e.getBoolean("_testing")&&S.e.set("animated",!1);const G=se=>{var ye;return null===(ye=se.tagName)||void 0===ye?void 0:ye.startsWith("ION-")},ne=se=>["ios","md"].includes(se);(0,S.q)(se=>{for(;se;){const ye=se.mode||se.getAttribute("mode");if(ye){if(ne(ye))return ye;G(se)&&(0,S.f)('Invalid ionic mode: "'+ye+'", expected: "ios" or "md"')}se=se.parentElement}return te})}}},Z=>{Z(Z.s=3515)}]);
//# sourceMappingURL=main.b411e5e9957fa2ba.js.map