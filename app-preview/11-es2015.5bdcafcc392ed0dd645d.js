(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{hO9l:function(t,e,i){"use strict";i.r(e),i.d(e,"TabsPageModule",function(){return d});var n=i("ofXK"),s=i("3Pt+"),o=i("TEn/"),a=i("tyNb"),l=i("pEgL"),r=i("fXoL");function c(t,e){let i,n;return t=Math.min(t,l.c/devicePixelRatio),(e=Math.min(e,l.e/devicePixelRatio))/t>l.e/l.c?(n=t,i=t/l.c*l.e):(i=e,n=e/l.e*l.c),i*n}const u=[{path:"tab",component:(()=>{class t{constructor(t){this.router=t,this.updateUseSmallUI=()=>{const t=!!document.querySelector("html.md"),e=t?56:44;this.useSmallUI=c(window.innerHeight-e-(t?57:51)-6,window.innerWidth-6)<c(window.innerHeight-e-25-6,window.innerWidth-6)},this.useSmallUI=!1,window.addEventListener("resize",this.updateUseSmallUI),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(a.g))},t.\u0275cmp=r.Db({type:t,selectors:[["app-tabs"]],decls:19,vars:2,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(t,e){1&t&&(r.Mb(0,"ion-tabs"),r.Mb(1,"div",0),r.Mb(2,"ion-tab-bar",1),r.Mb(3,"ion-tab-button",2),r.Kb(4,"ion-icon",3),r.Mb(5,"ion-label"),r.hc(6,"Emulator"),r.Lb(),r.Lb(),r.Mb(7,"ion-tab-button",4),r.Kb(8,"ion-icon",5),r.Mb(9,"ion-label"),r.hc(10,"Sessions"),r.Lb(),r.Lb(),r.Mb(11,"ion-tab-button",6),r.Kb(12,"ion-icon",7),r.Mb(13,"ion-label"),r.hc(14,"Settings"),r.Lb(),r.Lb(),r.Mb(15,"ion-tab-button",8),r.Kb(16,"ion-icon",9),r.Mb(17,"ion-label"),r.hc(18,"About"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.zb(2),r.Bb("small-ui",e.smallUI))},directives:[o.u,o.s,o.t,o.h,o.n],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}"]}),t})(),children:[{path:"emulation",loadChildren:()=>Promise.all([i.e(0),i.e(13)]).then(i.bind(null,"6aA7")).then(t=>t.EmulationPageModule)},{path:"sessions",loadChildren:()=>Promise.all([i.e(0),i.e(10)]).then(i.bind(null,"/NlI")).then(t=>t.SessionsPageModule)},{path:"settings",loadChildren:()=>Promise.all([i.e(0),i.e(14)]).then(i.bind(null,"07hj")).then(t=>t.SettingsPageModule)},{path:"about",loadChildren:()=>Promise.all([i.e(0),i.e(12)]).then(i.bind(null,"Ht3H")).then(t=>t.AboutPageModule)},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let h=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({imports:[[a.i.forChild(u)],a.i]}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({imports:[[o.y,n.b,s.e,h]]}),t})()},pEgL:function(t,e,i){"use strict";i.d(e,"d",function(){return c}),i.d(e,"a",function(){return u}),i.d(e,"e",function(){return h}),i.d(e,"c",function(){return d}),i.d(e,"b",function(){return v});var n=i("mrSG"),s=i("z9fa"),o=i("bucj"),a=i("fXoL");const l=o.b[2],r=o.b[0],c=3*devicePixelRatio,u=Math.round(1*c),h=160*c+2*u,d=251*c+2*u;function b(t){return new Promise((e,i)=>{const n=new Image;n.onload=()=>e(n),n.onerror=()=>i(),n.src=t})}function m(t){return Object(n.a)(this,void 0,void 0,function*(){const e=document.createElement("canvas");e.width=160*c,e.height=30*c;const i=e.getContext("2d");if(!i)throw new Error("get a new browser");return i.drawImage(yield b(t),0,0,160*c,30*c),e})}const g=b("assets/silkscreen-default.svg"),f=b("assets/silkscreen-m515.svg"),p=m("assets/hard-buttons-default.svg"),w=m("assets/hard-buttons-m515.svg");let v=(()=>{class t{constructor(){}initialize(t,e){return Object(n.a)(this,void 0,void 0,function*(){const i=t.getContext("2d");if(!i)throw new Error("canvas not supported - get a new browser");this.ctx=i,this.session=e,this.fillCanvasRect(0,0,h,d,this.backgroundColor()),yield this.drawSilkscreen(),yield this.drawButtons()})}drawSilkscreen(){return Object(n.a)(this,void 0,void 0,function*(){if(!this.ctx)return;const t=yield this.silkscreenImage();this.fillRect(0,161,160,60,l),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.drawImage(t,u,u+161*c,160*c,60*c)})}drawStatistics(t,e){return Object(n.a)(this,void 0,void 0,function*(){this.ctx&&(yield this.drawSilkscreen(),this.ctx.beginPath(),this.fillRect(0,161,160,60,"rgba(255,255,255,0.6)"),this.ctx.font=6*c+"px monospace",this.ctx.fillStyle="black",["Statistics","==========",...t?[`last snapshot          : ${new Date(t.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${t.pages}`,`snapshot time total    : ${t.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${t.timeBlocking.toFixed(2)} msec`]:[],...e?[`host speed             : ${e.hostSpeed.toFixed(2)}x`,`emulation speed        : ${e.emulationSpeed.toFixed(2)}x`]:[]].forEach((t,e)=>this.ctx.fillText(t,u+1*c,u+(168+6*e)*c)))})}drawButtons(t=[]){return Object(n.a)(this,void 0,void 0,function*(){this.ctx&&(this.ctx.drawImage(yield this.buttonsImage(),u,u+221*c,160*c,30*c),t.includes(0)&&this.fillRect(0,221,30,30,"rgba(0,0,0,0.2)"),t.includes(1)&&this.fillRect(30,221,30,30,"rgba(0,0,0,0.2)"),t.includes(2)&&this.fillRect(100,221,30,30,"rgba(0,0,0,0.2)"),t.includes(3)&&this.fillRect(130,221,30,30,"rgba(0,0,0,0.2)"),t.includes(4)&&this.fillRect(60,221,40,15,"rgba(0,0,0,0.2)"),t.includes(5)&&this.fillRect(60,236,40,15,"rgba(0,0,0,0.2)"))})}drawEmulationCanvas(t){this.ctx&&(this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,u,u,160*c,160*c))}fillRect(t,e,i,n,s){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(u+c*t,u+c*e,c*i,c*n),this.ctx.fillStyle=s,this.ctx.fill())}fillCanvasRect(t,e,i,n,s){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,e,i,n),this.ctx.fillStyle=s,this.ctx.fill())}silkscreenImage(){var t;switch(null===(t=this.session)||void 0===t?void 0:t.device){case s.a.m515:return f;default:return g}}buttonsImage(){var t;switch(null===(t=this.session)||void 0===t?void 0:t.device){case s.a.m515:return w;default:return p}}backgroundColor(){var t;switch(null===(t=this.session)||void 0===t?void 0:t.device){case s.a.m515:return"white";default:return r}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);
//# sourceMappingURL=11-es2015.5bdcafcc392ed0dd645d.js.map