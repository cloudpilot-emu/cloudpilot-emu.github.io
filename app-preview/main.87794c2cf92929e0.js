(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8448:(ve,Ee,C)=>{"use strict";let d=null,K=1;function P(e){const t=d;return d=e,t}function A(e){if((!Ae(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==K)){if(!e.producerMustRecompute(e)&&!k(e))return e.dirty=!1,void(e.lastCleanEpoch=K);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=K}}function k(e){Re(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(A(r),n!==r.version))return!0}return!1}function ae(e,t){if(function F(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Re(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)ae(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Re(o),o.producerIndexOfThis[n]=t}}function Ae(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Re(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Be=null;function Ie(e){return"function"==typeof e}function _e(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const xe=_e(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Je(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class ot{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(Ie(n))try{n()}catch(i){t=i instanceof xe?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{$t(i)}catch(s){t=t??[],s instanceof xe?t=[...t,...s.errors]:t.push(s)}}if(t)throw new xe(t)}}add(t){var r;if(t&&t!==this)if(this.closed)$t(t);else{if(t instanceof ot){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Je(r,t)}remove(t){const{_finalizers:r}=this;r&&Je(r,t),t instanceof ot&&t._removeParent(this)}}ot.EMPTY=(()=>{const e=new ot;return e.closed=!0,e})();const Ut=ot.EMPTY;function on(e){return e instanceof ot||e&&"closed"in e&&Ie(e.remove)&&Ie(e.add)&&Ie(e.unsubscribe)}function $t(e){Ie(e)?e():e.unsubscribe()}const sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sn={setTimeout(e,t,...r){const{delegate:n}=Sn;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=Sn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function _r(e){Sn.setTimeout(()=>{const{onUnhandledError:t}=sn;if(!t)throw e;t(e)})}function On(){}const qo=Fr("C",void 0,void 0);function Fr(e,t,r){return{kind:e,value:t,error:r}}let Nr=null;function Xn(e){if(sn.useDeprecatedSynchronousErrorHandling){const t=!Nr;if(t&&(Nr={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=Nr;if(Nr=null,r)throw n}}else e()}class co extends ot{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,on(t)&&t.add(this)):this.destination=Xt}static create(t,r,n){return new we(t,r,n)}next(t){this.isStopped?vn(function go(e){return Fr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?vn(function jr(e){return Fr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?vn(qo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _o=Function.prototype.bind;function Gr(e,t){return _o.call(e,t)}class de{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){Jt(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){Jt(n)}else Jt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Jt(r)}}}class we extends co{constructor(t,r,n){let o;if(super(),Ie(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&sn.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Gr(t.next,i),error:t.error&&Gr(t.error,i),complete:t.complete&&Gr(t.complete,i)}):o=t}this.destination=new de(o)}}function Jt(e){sn.useDeprecatedSynchronousErrorHandling?function To(e){sn.useDeprecatedSynchronousErrorHandling&&Nr&&(Nr.errorThrown=!0,Nr.error=e)}(e):_r(e)}function vn(e,t){const{onStoppedNotification:r}=sn;r&&Sn.setTimeout(()=>r(e,t))}const Xt={closed:!0,next:On,error:function Ht(e){throw e},complete:On},xr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Zn(e){return e}function vo(e){return 0===e.length?Zn:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let In=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Ai(e){return e&&e instanceof co||function fo(e){return e&&Ie(e.next)&&Ie(e.error)&&Ie(e.complete)}(e)&&on(e)}(r)?r:new we(r,n,o);return Xn(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=uo(n))((o,i)=>{const s=new we({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[xr](){return this}pipe(...r){return vo(r)(this)}toPromise(r){return new(r=uo(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function uo(e){var t;return null!==(t=e??sn.Promise)&&void 0!==t?t:Promise}const Lo=_e(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fn=(()=>{class e extends In{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new vr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Lo}next(r){Xn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Xn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Xn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Ut:(this.currentObservers=null,i.push(r),new ot(()=>{this.currentObservers=null,Je(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new In;return r.source=this,r}}return e.create=(t,r)=>new vr(t,r),e})();class vr extends Fn{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Ut}}function yr(e){return Ie(e?.lift)}function xn(e){return t=>{if(yr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Bn(e,t,r,n,o){return new Yo(e,t,r,n,o)}class Yo extends co{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function an(e,t){return xn((r,n)=>{let o=0;r.subscribe(Bn(n,i=>{n.next(e.call(t,i,o++))}))})}function oe(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Mo(e){return this instanceof Mo?(this.v=e,this):new Mo(e)}function Tn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Pi(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const es=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function g(e){return Ie(e?.then)}function w(e){return Ie(e[xr])}function E(e){return Symbol.asyncIterator&&Ie(e?.[Symbol.asyncIterator])}function ie(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ce=function ke(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Qe(e){return Ie(e?.[ce])}function Ke(e){return function Xo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(m){n[m]&&(o[m]=function(b){return new Promise(function(j,ee){i.push([m,b,j,ee])>1||a(m,b)})})}function a(m,b){try{!function l(m){m.value instanceof Mo?Promise.resolve(m.value.v).then(u,f):h(i[0][2],m)}(n[m](b))}catch(j){h(i[0][3],j)}}function u(m){a("next",m)}function f(m){a("throw",m)}function h(m,b){m(b),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield Mo(r.read());if(o)return yield Mo(void 0);yield yield Mo(n)}}finally{r.releaseLock()}})}function nt(e){return Ie(e?.getReader)}function Ve(e){if(e instanceof In)return e;if(null!=e){if(w(e))return function ft(e){return new In(t=>{const r=e[xr]();if(Ie(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(es(e))return function Et(e){return new In(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(g(e))return function W(e){return new In(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,_r)})}(e);if(E(e))return dr(e);if(Qe(e))return function kn(e){return new In(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(nt(e))return function Lr(e){return dr(Ke(e))}(e)}throw ie(e)}function dr(e){return new In(t=>{(function Ur(e,t){var r,n,o,i;return function wi(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{u(n.next(f))}catch(h){s(h)}}function l(f){try{u(n.throw(f))}catch(h){s(h)}}function u(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=Tn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Qn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Gn(e,t,r=1/0){return Ie(t)?Gn((n,o)=>an((i,s)=>t(n,i,o,s))(Ve(e(n,o))),r):("number"==typeof t&&(r=t),xn((n,o)=>function Ss(e,t,r,n,o,i,s,a){const l=[];let u=0,f=0,h=!1;const m=()=>{h&&!l.length&&!u&&t.complete()},b=ee=>u<n?j(ee):l.push(ee),j=ee=>{i&&t.next(ee),u++;let he=!1;Ve(r(ee,f++)).subscribe(Bn(t,ye=>{o?.(ye),i?b(ye):t.next(ye)},()=>{he=!0},void 0,()=>{if(he)try{for(u--;l.length&&u<n;){const ye=l.shift();s?Qn(t,s,()=>j(ye)):j(ye)}m()}catch(ye){t.error(ye)}}))};return e.subscribe(Bn(t,b,()=>{h=!0,m()})),()=>{a?.()}}(n,o,e,r)))}function $o(e=1/0){return Gn(Zn,e)}const Ao=new In(e=>e.complete());function da(e){return e&&Ie(e.schedule)}function Ws(e){return e[e.length-1]}function fa(e){return Ie(Ws(e))?e.pop():void 0}function ns(e){return da(Ws(e))?e.pop():void 0}function pa(e,t=0){return xn((r,n)=>{r.subscribe(Bn(n,o=>Qn(n,e,()=>n.next(o),t),()=>Qn(n,e,()=>n.complete(),t),o=>Qn(n,e,()=>n.error(o),t)))})}function ha(e,t=0){return xn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function ma(e,t){if(!e)throw new Error("Iterable cannot be null");return new In(r=>{Qn(r,t,()=>{const n=e[Symbol.asyncIterator]();Qn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function Cr(e,t){return t?function Za(e,t){if(null!=e){if(w(e))return function Ga(e,t){return Ve(e).pipe(ha(t),pa(t))}(e,t);if(es(e))return function Ha(e,t){return new In(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(g(e))return function Ua(e,t){return Ve(e).pipe(ha(t),pa(t))}(e,t);if(E(e))return ma(e,t);if(Qe(e))return function za(e,t){return new In(r=>{let n;return Qn(r,t,()=>{n=e[ce](),Qn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>Ie(n?.return)&&n.return()})}(e,t);if(nt(e))return function Wa(e,t){return ma(Ke(e),t)}(e,t)}throw ie(e)}(e,t):Ve(e)}function ga(...e){const t=ns(e),r=function ja(e,t){return"number"==typeof Ws(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?Ve(n[0]):$o(r)(Cr(n,t)):Ao}class po extends Fn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Bt(...e){return Cr(e,ns(e))}function _a(e={}){const{connector:t=(()=>new Fn),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,u=0,f=!1,h=!1;const m=()=>{a?.unsubscribe(),a=void 0},b=()=>{m(),s=l=void 0,f=h=!1},j=()=>{const ee=s;b(),ee?.unsubscribe()};return xn((ee,he)=>{u++,!h&&!f&&m();const ye=l=l??t();he.add(()=>{u--,0===u&&!h&&!f&&(a=Zs(j,o))}),ye.subscribe(he),!s&&u>0&&(s=new we({next:De=>ye.next(De),error:De=>{h=!0,m(),a=Zs(b,r,De),ye.error(De)},complete:()=>{f=!0,m(),a=Zs(b,n),ye.complete()}}),Ve(ee).subscribe(s))})(i)}}function Zs(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new we({next:()=>{n.unsubscribe(),e()}});return Ve(t(...r)).subscribe(n)}function eo(e,t){return xn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(Bn(n,l=>{o?.unsubscribe();let u=0;const f=i++;Ve(e(l,f)).subscribe(o=Bn(n,h=>n.next(t?t(l,h,f,u++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function qs(e,t=Zn){return e=e??qa,xn((r,n)=>{let o,i=!0;r.subscribe(Bn(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function qa(e,t){return e===t}function Un(e){for(let t in e)if(e[t]===Un)return t;throw Error("Could not find renamed property on target object.")}function ws(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Sr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Sr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function Ys(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Ya=Un({__forward_ref__:Un});function Hn(e){return e.__forward_ref__=Hn,e.toString=function(){return Sr(this())},e}function Vt(e){return Es(e)?e():e}function Es(e){return"function"==typeof e&&e.hasOwnProperty(Ya)&&e.__forward_ref__===Hn}function Ks(e){return e&&!!e.\u0275providers}const va="https://g.co/ng/security#xss";class Xe extends Error{constructor(t,r){super(function Oi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const rs=Un({\u0275cmp:Un}),Xs=Un({\u0275dir:Un}),ya=Un({\u0275pipe:Un}),Ka=Un({\u0275mod:Un}),Qo=Un({\u0275fac:Un}),os=Un({__NG_ELEMENT_ID__:Un}),Xa=Un({__NG_ENV_ID__:Un});function Yt(e){return"string"==typeof e?e:null==e?"":String(e)}function Tr(e,t){throw new Xe(-201,!1)}function yn(e,t){null==e&&function yt(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tt(e){return{providers:e.providers||[],imports:e.imports||[]}}function rn(e){return ln(e,rr)||ln(e,bn)}function ln(e,t){return e.hasOwnProperty(t)?e[t]:null}function Lt(e){return e&&(e.hasOwnProperty(pr)||e.hasOwnProperty(Mt))?e[pr]:null}const rr=Un({\u0275prov:Un}),pr=Un({\u0275inj:Un}),bn=Un({ngInjectableDef:Un}),Mt=Un({ngInjectorDef:Un});var Ft=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ft||{});let jn;function Ar(){return jn}function gn(e){const t=jn;return jn=e,t}function qe(e,t,r){const n=rn(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Ft.Optional?null:void 0!==t?t:void Tr(Sr(e))}const D=globalThis;class Me{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=M({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Sa={},el="__NG_DI_FLAG__",lt="ngTempTokenPath",gi=/\n/gm,tl="__source";let wa;function Ea(e){const t=wa;return wa=e,t}function kh(e,t=Ft.Default){if(void 0===wa)throw new Xe(-203,!1);return null===wa?qe(e,void 0,t):wa.get(e,t&Ft.Optional?null:void 0,t)}function ue(e,t=Ft.Default){return(Ar()||kh)(Vt(e),t)}function it(e,t=Ft.Default){return ue(e,Yc(t))}function Yc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Vu(e){const t=[];for(let r=0;r<e.length;r++){const n=Vt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Xe(900,!1);let o,i=Ft.Default;for(let s=0;s<n.length;s++){const a=n[s],l=Rh(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ue(o,i))}else t.push(ue(n))}return t}function dc(e,t){return e[el]=t,e.prototype[el]=t,e}function Rh(e){return e[el]}function Qs(e){return{toString:e}.toString()}var Kc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Kc||{}),is=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(is||{});const Is={},qn=[];function Sf(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function ju(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];Ef(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function wf(e){return 3===e||4===e||6===e}function Ef(e){return 64===e.charCodeAt(0)}function fc(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||Df(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function Df(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const If="ng-template";function Fh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==Sf(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function xf(e){return 4===e.type&&e.value!==If}function Nh(e,t,r){return t===(4!==e.type||r?e.value:If)}function Lh(e,t,r){let n=4;const o=e.attrs||[],i=function Vh(e){for(let t=0;t<e.length;t++)if(wf(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!Nh(e,l,r)||""===l&&1===t.length){if(ss(n))return!1;s=!0}}else{const u=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Fh(e.attrs,u,r)){if(ss(n))return!1;s=!0}continue}const h=$h(8&n?"class":l,o,xf(e),r);if(-1===h){if(ss(n))return!1;s=!0;continue}if(""!==u){let m;m=h>i?"":o[h+1].toLowerCase();const b=8&n?m:null;if(b&&-1!==Sf(b,u,0)||2&n&&u!==m){if(ss(n))return!1;s=!0}}}}else{if(!s&&!ss(n)&&!ss(l))return!1;if(s&&ss(l))continue;s=!1,n=l|1&n}}return ss(n)||s}function ss(e){return 0==(1&e)}function $h(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function jh(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function Tf(e,t,r=!1){for(let n=0;n<t.length;n++)if(Lh(e,t[n],r))return!0;return!1}function Gh(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function Mf(e,t){return e?":not("+t.trim()+")":t}function Uh(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!ss(s)&&(t+=Mf(i,o),o=""),n=s,i=i||!ss(n);r++}return""!==o&&(t+=Mf(i,o)),t}function Ze(e){return Qs(()=>{const t=kf(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Kc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||is.Emulated,styles:e.styles||qn,_:null,schemas:e.schemas||null,tView:null,id:""};Rf(r);const n=e.dependencies;return r.directiveDefs=Xc(n,!1),r.pipeDefs=Xc(n,!0),r.id=function Yh(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function Wh(e){return Rn(e)||So(e)}function Zh(e){return null!==e}function to(e){return Qs(()=>({type:e.type,bootstrap:e.bootstrap||qn,declarations:e.declarations||qn,imports:e.imports||qn,exports:e.exports||qn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Af(e,t){if(null==e)return Is;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function kt(e){return Qs(()=>{const t=kf(e);return Rf(t),t})}function Po(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Rn(e){return e[rs]||null}function So(e){return e[Xs]||null}function Bo(e){return e[ya]||null}function ei(e,t){const r=e[Ka]||null;if(!r&&!0===t)throw new Error(`Type ${Sr(e)} does not have '\u0275mod' property.`);return r}function kf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Is,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||qn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Af(e.inputs,t),outputs:Af(e.outputs),debugInfo:null}}function Rf(e){e.features?.forEach(t=>t(e))}function Xc(e,t){if(!e)return null;const r=t?Bo:Wh;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(Zh)}const no=0,dt=1,jt=2,Br=3,as=4,ci=5,xs=6,nl=7,Er=8,_i=9,pc=10,dn=11,Gu=12,tv=13,Ia=14,ro=15,Qc=16,$l=17,Ts=18,ir=19,Js=20,fn=21,Uu=22,Bl=23,pn=25,Pf=1,qt=7,zn=9,Te=10;var Dr=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(Dr||{});function Qt(e){return Array.isArray(e)&&"object"==typeof e[Pf]}function Cn(e){return Array.isArray(e)&&!0===e[Pf]}function Vo(e){return 0!=(4&e.flags)}function wo(e){return e.componentOffset>-1}function ti(e){return 1==(1&e.flags)}function hr(e){return!!e.template}function zr(e){return 0!=(512&e[jt])}function tn(e,t){return e.hasOwnProperty(Qo)?e[Qo]:null}class ls{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function sr(){return ru}function ru(e){return e.type.prototype.ngOnChanges&&(e.setInput=CP),rv}function rv(){const e=yS(this),t=e?.current;if(t){const r=e.previous;if(r===Is)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function CP(e,t,r,n){const o=this.declaredInputs[r],i=yS(e)||function SP(e,t){return e[vS]=t}(e,{previous:Is,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new ls(l&&l.currentValue,t,a===Is),e[n]=t}sr.ngInherit=!0;const vS="__ngSimpleChanges__";function yS(e){return e[vS]||null}const rl=function(e,t,r){};function Wr(e){for(;Array.isArray(e);)e=e[no];return e}function Of(e,t){return Wr(t[e])}function Fi(e,t){return Wr(t[e.index])}function Ff(e,t){return e.data[t]}function zu(e,t){return e[t]}function Ms(e,t){const r=t[e];return Qt(r)?r:r[no]}function sv(e){return 128==(128&e[jt])}function ol(e,t){return null==t?null:e[t]}function SS(e){e[$l]=0}function xP(e){1024&e[jt]||(e[jt]|=1024,sv(e)&&Xh(e))}function ES(e){return 9216&e[jt]||e[Bl]?.dirty}function DS(e){ES(e)&&Xh(e)}function Xh(e){let t=e[Br];for(;null!==t&&!(Cn(t)&&t[jt]&Dr.HasChildViewsToRefresh||Qt(t)&&8192&t[jt]);){if(Cn(t))t[jt]|=Dr.HasChildViewsToRefresh;else if(t[jt]|=8192,!sv(t))break;t=t[Br]}}function Qh(e,t){if(256==(256&e[jt]))throw new Xe(911,!1);null===e[fn]&&(e[fn]=[]),e[fn].push(t)}const un={lFrame:FS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xS(){return un.bindingsEnabled}function Wu(){return null!==un.skipHydrationRootTNode}function ze(){return un.lFrame.lView}function Yn(){return un.lFrame.tView}function Dt(e){return un.lFrame.contextLView=e,e[Er]}function It(e){return un.lFrame.contextLView=null,e}function Rr(){let e=TS();for(;null!==e&&64===e.type;)e=e.parent;return e}function TS(){return un.lFrame.currentTNode}function il(e,t){const r=un.lFrame;r.currentTNode=e,r.isParent=t}function lv(){return un.lFrame.isParent}function cv(){un.lFrame.isParent=!1}function Ni(){const e=un.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Vl(){return un.lFrame.bindingIndex}function sl(){return un.lFrame.bindingIndex++}function jl(e){const t=un.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function $P(e,t){const r=un.lFrame;r.bindingIndex=r.bindingRootIndex=e,uv(t)}function uv(e){un.lFrame.currentDirectiveIndex=e}function RS(){return un.lFrame.currentQueryIndex}function fv(e){un.lFrame.currentQueryIndex=e}function VP(e){const t=e[dt];return 2===t.type?t.declTNode:1===t.type?e[ci]:null}function PS(e,t,r){if(r&Ft.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Ft.Host||(o=VP(i),null===o||(i=i[Ia],10&o.type))););if(null===o)return!1;t=o,e=i}const n=un.lFrame=OS();return n.currentTNode=t,n.lView=e,!0}function pv(e){const t=OS(),r=e[dt];un.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function OS(){const e=un.lFrame,t=null===e?null:e.child;return null===t?FS(e):t}function FS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function NS(){const e=un.lFrame;return un.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const LS=NS;function hv(){const e=NS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ii(){return un.lFrame.selectedIndex}function ou(e){un.lFrame.selectedIndex=e}function io(){const e=un.lFrame;return Ff(e.tView,e.selectedIndex)}let BS=!0;function Jh(){return BS}function mc(e){BS=e}function em(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),u&&((e.viewHooks??=[]).push(r,u),(e.viewCheckHooks??=[]).push(r,u)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function tm(e,t,r){VS(e,t,3,r)}function nm(e,t,r,n){(3&e[jt])===r&&VS(e,t,r,n)}function mv(e,t){let r=e[jt];(3&r)===t&&(r&=16383,r+=1,e[jt]=r)}function VS(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[$l]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[$l]+=65536),(a<i||-1==i)&&(ZP(e,r,t,l),e[$l]=(4294901760&e[$l])+l+2),l++}function jS(e,t){rl(4,e,t);const r=P(null);try{t.call(e)}finally{P(r),rl(5,e,t)}}function ZP(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[jt]>>14<e[$l]>>16&&(3&e[jt])===t&&(e[jt]+=16384,jS(a,i)):jS(a,i)}const Zu=-1;class Lf{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function _v(e){return e!==Zu}function $f(e){return 32767&e}function Bf(e,t){let r=function QP(e){return e>>16}(e),n=t;for(;r>0;)n=n[Ia],r--;return n}let vv=!0;function rm(e){const t=vv;return vv=e,t}const GS=255,US=5;let JP=0;const al={};function om(e,t){const r=HS(e,t);if(-1!==r)return r;const n=t[dt];n.firstCreatePass&&(e.injectorIndex=t.length,yv(n.data,e),yv(t,null),yv(n.blueprint,null));const o=im(e,t),i=e.injectorIndex;if(_v(o)){const s=$f(o),a=Bf(o,t),l=a[dt].data;for(let u=0;u<8;u++)t[i+u]=a[s+u]|l[s+u]}return t[i+8]=o,i}function yv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function HS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function im(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=XS(o),null===n)return Zu;if(r++,o=o[Ia],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Zu}function bv(e,t,r){!function eO(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(os)&&(n=r[os]),null==n&&(n=r[os]=JP++);const o=n&GS;t.data[e+(o>>US)]|=1<<o}(e,t,r)}function zS(e,t,r){if(r&Ft.Optional||void 0!==e)return e;Tr()}function WS(e,t,r,n){if(r&Ft.Optional&&void 0===n&&(n=null),!(r&(Ft.Self|Ft.Host))){const o=e[_i],i=gn(void 0);try{return o?o.get(t,n,r&Ft.Optional):qe(t,n,r&Ft.Optional)}finally{gn(i)}}return zS(n,0,r)}function ZS(e,t,r,n=Ft.Default,o){if(null!==e){if(2048&t[jt]&&!(n&Ft.Self)){const s=function iO(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[jt]&&!(512&s[jt]);){const a=qS(i,s,r,n|Ft.Self,al);if(a!==al)return a;let l=i.parent;if(!l){const u=s[Js];if(u){const f=u.get(r,al,n);if(f!==al)return f}l=XS(s),s=s[Ia]}i=l}return o}(e,t,r,n,al);if(s!==al)return s}const i=qS(e,t,r,n,al);if(i!==al)return i}return WS(t,r,n,o)}function qS(e,t,r,n,o){const i=function rO(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(os)?e[os]:void 0;return"number"==typeof t?t>=0?t&GS:oO:t}(r);if("function"==typeof i){if(!PS(t,e,n))return n&Ft.Host?zS(o,0,n):WS(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Ft.Optional)return s;Tr()}finally{LS()}}else if("number"==typeof i){let s=null,a=HS(e,t),l=Zu,u=n&Ft.Host?t[ro][ci]:null;for((-1===a||n&Ft.SkipSelf)&&(l=-1===a?im(e,t):t[a+8],l!==Zu&&KS(n,!1)?(s=t[dt],a=$f(l),t=Bf(l,t)):a=-1);-1!==a;){const f=t[dt];if(YS(i,a,f.data)){const h=nO(a,t,r,s,n,u);if(h!==al)return h}l=t[a+8],l!==Zu&&KS(n,t[dt].data[a+8]===u)&&YS(i,a,t)?(s=f,a=$f(l),t=Bf(l,t)):a=-1}}return o}function nO(e,t,r,n,o,i){const s=t[dt],a=s.data[e+8],f=sm(a,s,r,null==n?wo(a)&&vv:n!=s&&0!=(3&a.type),o&Ft.Host&&i===a);return null!==f?iu(t,s,f,a):al}function sm(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,m=o?a+f:e.directiveEnd;for(let b=n?a:a+f;b<m;b++){const j=s[b];if(b<l&&r===j||b>=l&&j.type===r)return b}if(o){const b=s[l];if(b&&hr(b)&&b.type===r)return l}return null}function iu(e,t,r,n){let o=e[r];const i=t.data;if(function qP(e){return e instanceof Lf}(o)){const s=o;s.resolving&&function Pl(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Vn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Yt(e)}(i[r]));const a=rm(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?gn(s.injectImpl):null;PS(e,n,Ft.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function WP(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=ru(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==u&&gn(u),rm(a),s.resolving=!1,LS()}}return o}function YS(e,t,r){return!!(r[t+(e>>US)]&1<<e)}function KS(e,t){return!(e&Ft.Self||e&Ft.Host&&t)}class ni{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return ZS(this._tNode,this._lView,t,Yc(n),r)}}function oO(){return new ni(Rr(),ze())}function Zr(e){return Qs(()=>{const t=e.prototype.constructor,r=t[Qo]||Cv(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[Qo]||Cv(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Cv(e){return Es(e)?()=>{const t=Cv(Vt(e));return t&&t()}:tn(e)}function XS(e){const t=e[dt],r=t.type;return 2===r?t.declTNode:1===r?e[ci]:null}function gc(e){return function tO(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(wf(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Rr(),e)}const Xu="__parameters__";function Ju(e,t,r){return Qs(()=>{const n=function Sv(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,u,f){const h=l.hasOwnProperty(Xu)?l[Xu]:Object.defineProperty(l,Xu,{value:[]})[Xu];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function td(e,t){e.forEach(r=>Array.isArray(r)?td(r,t):t(r))}function JS(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function am(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function jf(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function As(e,t,r){let n=nd(e,t);return n>=0?e[1|n]=r:(n=~n,function ew(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function Ev(e,t){const r=nd(e,t);if(r>=0)return e[1|r]}function nd(e,t){return function tw(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const cm=dc(Ju("Optional"),8),um=dc(Ju("SkipSelf"),4),od=new Me("ENVIRONMENT_INITIALIZER"),iw=new Me("INJECTOR",-1),xv=new Me("INJECTOR_DEF_TYPES");class fm{get(t,r=Sa){if(r===Sa){const n=new Error(`NullInjectorError: No provider for ${Sr(t)}!`);throw n.name="NullInjectorError",n}return r}}function xO(...e){return{\u0275providers:sw(0,e),\u0275fromNgModule:!0}}function sw(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return td(t,s=>{const a=s;pm(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&aw(o,i),r}function aw(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];Mv(o,i=>{t(i,n)})}}function pm(e,t,r,n){if(!(e=Vt(e)))return!1;let o=null,i=Lt(e);const s=!i&&Rn(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=Lt(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)pm(u,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let u;n.add(o);try{td(i.imports,f=>{pm(f,t,r,n)&&(u||=[],u.push(f))})}finally{}void 0!==u&&aw(u,t)}if(!a){const u=tn(o)||(()=>new o);t({provide:o,useFactory:u,deps:qn},o),t({provide:xv,useValue:o,multi:!0},o),t({provide:od,useValue:()=>ue(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const u=e;Mv(l,f=>{t(f,u)})}}}return o!==e&&void 0!==e.providers}function Mv(e,t){for(let r of e)Ks(r)&&(r=r.\u0275providers),Array.isArray(r)?Mv(r,t):t(r)}const TO=Un({provide:String,useValue:Un});function Av(e){return null!==e&&"object"==typeof e&&TO in e}function su(e){return"function"==typeof e}const kv=new Me("Set Injector scope."),hm={},AO={};let Rv;function mm(){return void 0===Rv&&(Rv=new fm),Rv}class di{}class id extends di{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ov(t,s=>this.processProvider(s)),this.records.set(iw,sd(void 0,this)),o.has("environment")&&this.records.set(di,sd(void 0,this));const i=this.records.get(kv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(xv,qn,Ft.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Ea(this),n=gn(void 0);try{return t()}finally{Ea(r),gn(n)}}get(t,r=Sa,n=Ft.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Xa))return t[Xa](this);n=Yc(n);const i=Ea(this),s=gn(void 0);try{if(!(n&Ft.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function FO(e){return"function"==typeof e||"object"==typeof e&&e instanceof Me}(t)&&rn(t);l=u&&this.injectableDefInScope(u)?sd(Pv(t),hm):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Ft.Self?mm():this.parent).get(t,r=n&Ft.Optional&&r===Sa?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[lt]=a[lt]||[]).unshift(Sr(t)),i)throw a;return function Ph(e,t,r,n){const o=e[lt];throw t[tl]&&o.unshift(t[tl]),e.message=function Oh(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Sr(t);if(Array.isArray(t))o=t.map(Sr).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Sr(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(gi,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[lt]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{gn(s),Ea(i)}}resolveInjectorInitializers(){const t=Ea(this),r=gn(void 0);try{const o=this.get(od,qn,Ft.Self);for(const i of o)i()}finally{Ea(t),gn(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(Sr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(t){let r=su(t=Vt(t))?t:Vt(t&&t.provide);const n=function RO(e){return Av(e)?sd(void 0,e.useValue):sd(uw(e),hm)}(t);if(su(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=sd(void 0,hm,!0),o.factory=()=>Vu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===hm&&(r.value=AO,r.value=r.factory()),"object"==typeof r.value&&r.value&&function OO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Vt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Pv(e){const t=rn(e),r=null!==t?t.factory:tn(e);if(null!==r)return r;if(e instanceof Me)throw new Xe(204,!1);if(e instanceof Function)return function kO(e){const t=e.length;if(t>0)throw jf(t,"?"),new Xe(204,!1);const r=function er(e){return e&&(e[rr]||e[bn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Xe(204,!1)}function uw(e,t,r){let n;if(su(e)){const o=Vt(e);return tn(o)||Pv(o)}if(Av(e))n=()=>Vt(e.useValue);else if(function cw(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Vu(e.deps||[]));else if(function lw(e){return!(!e||!e.useExisting)}(e))n=()=>ue(Vt(e.useExisting));else{const o=Vt(e&&(e.useClass||e.provide));if(!function PO(e){return!!e.deps}(e))return tn(o)||Pv(o);n=()=>new o(...Vu(e.deps))}return n}function sd(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Ov(e,t){for(const r of e)Array.isArray(r)?Ov(r,t):r&&Ks(r)?Ov(r.\u0275providers,t):t(r)}function _c(e,t){e instanceof id&&e.assertNotDestroyed();const n=Ea(e),o=gn(void 0);try{return t()}finally{Ea(n),gn(o)}}function hw(e,t=null,r=null,n){const o=mw(e,t,r,n);return o.resolveInjectorInitializers(),o}function mw(e,t=null,r=null,n,o=new Set){const i=[r||qn,xO(e)];return n=n||("object"==typeof e?void 0:Sr(e)),new id(i,t||mm(),n||null,o)}let Lv,qr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return hw({name:""},o,n,"");{const i=n.name??"";return hw({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=Sa,e.NULL=new fm,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>ue(iw)}),e.__NG_ELEMENT_ID__=-1,t})();const _m=new Me("AppId",{providedIn:"root",factory:()=>HO}),HO="ng",_w=new Me("Platform Initializer"),bc=new Me("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vw=new Me("CSP nonce",{providedIn:"root",factory:()=>function yc(){if(void 0!==Lv)return Lv;if(typeof document<"u")return document;throw new Xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function ks(e){return e instanceof Function?e():e}function Cm(e){return 128==(128&e.flags)}var wc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(wc||{});const e2=/^>|^->|<!--|-->|--!>|<!-$/g,t2=/(<|>)/g,n2="\u200b$1\u200b";const Gv=new Map;let r2=0;const Hv="__ngContext__";function xi(e,t){Qt(t)?(e[Hv]=t[ir],function i2(e){Gv.set(e[ir],e)}(t)):e[Hv]=t}let zv;function Wv(e,t){return zv(e,t)}function Zf(e){const t=e[Br];return Cn(t)?t[Br]:t}function Nw(e){return $w(e[Gu])}function Lw(e){return $w(e[as])}function $w(e){for(;null!==e&&!Cn(e);)e=e[as];return e}function ld(e,t,r,n,o){if(null!=n){let i,s=!1;Cn(n)?i=n:Qt(n)&&(s=!0,n=n[no]);const a=Wr(n);0===e&&null!==r?null==o?Gw(t,r,a):au(t,r,a,o||null,!0):1===e&&null!==r?au(t,r,a,o||null,!0):2===e?function Tm(e,t,r){const n=Im(e,t);n&&function E2(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function x2(e,t,r,n,o){const i=r[qt];i!==Wr(r)&&ld(t,e,n,i,o);for(let a=Te;a<r.length;a++){const l=r[a];Kf(l[dt],l,e,t,n,i)}}(t,e,i,r,o)}}function Zv(e,t){return e.createComment(function Tw(e){return e.replace(e2,t=>t.replace(t2,n2))}(t))}function Em(e,t,r){return e.createElement(t,r)}function Vw(e,t){const r=e[zn],n=r.indexOf(t);r.splice(n,1)}function qf(e,t){if(e.length<=Te)return;const r=Te+t,n=e[r];if(n){const o=n[Qc];null!==o&&o!==e&&Vw(o,n),t>0&&(e[r-1][as]=n[as]);const i=am(e,Te+t);!function g2(e,t){Kf(e,t,t[dn],2,null,null),t[no]=null,t[ci]=null}(n[dt],n);const s=i[Ts];null!==s&&s.detachView(i[dt]),n[Br]=null,n[as]=null,n[jt]&=-129}return n}function Dm(e,t){if(!(256&t[jt])){const r=t[dn];r.destroyNode&&Kf(e,t,r,3,null,null),function y2(e){let t=e[Gu];if(!t)return qv(e[dt],e);for(;t;){let r=null;if(Qt(t))r=t[Gu];else{const n=t[Te];n&&(r=n)}if(!r){for(;t&&!t[as]&&t!==e;)Qt(t)&&qv(t[dt],t),t=t[Br];null===t&&(t=e),Qt(t)&&qv(t[dt],t),r=t&&t[as]}t=r}}(t)}}function qv(e,t){if(!(256&t[jt])){t[jt]&=-129,t[jt]|=256,t[Bl]&&function te(e){if(Re(e),Ae(e))for(let t=0;t<e.producerNode.length;t++)ae(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Bl]),function w2(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof Lf)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];rl(4,a,l);try{l.call(a)}finally{rl(5,a,l)}}else{rl(4,o,i);try{i.call(o)}finally{rl(5,o,i)}}}}}(e,t),function S2(e,t){const r=e.cleanup,n=t[nl];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[nl]=null);const o=t[fn];if(null!==o){t[fn]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[dt].type&&t[dn].destroy();const r=t[Qc];if(null!==r&&Cn(t[Br])){r!==t[Br]&&Vw(r,t);const n=t[Ts];null!==n&&n.detachView(e)}!function s2(e){Gv.delete(e[ir])}(t)}}function Yv(e,t,r){return function jw(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[no];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===is.None||i===is.Emulated)return null}return Fi(n,r)}}(e,t.parent,r)}function au(e,t,r,n,o){e.insertBefore(t,r,n,o)}function Gw(e,t,r){e.appendChild(t,r)}function Uw(e,t,r,n,o){null!==n?au(e,t,r,n,o):Gw(e,t,r)}function Im(e,t){return e.parentNode(t)}function Hw(e,t,r){return Ww(e,t,r)}let Kv,Mm,Ww=function zw(e,t,r){return 40&e.type?Fi(e,r):null};function xm(e,t,r,n){const o=Yv(e,n,t),i=t[dn],a=Hw(n.parent||t[ci],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)Uw(i,o,r[l],a,!1);else Uw(i,o,r,a,!1);void 0!==Kv&&Kv(i,n,t,r,o)}function Yf(e,t){if(null!==t){const r=t.type;if(3&r)return Fi(t,e);if(4&r)return Xv(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Yf(e,n);{const o=e[t.index];return Cn(o)?Xv(-1,o):Wr(o)}}if(32&r)return Wv(t,e)()||Wr(e[t.index]);{const n=qw(e,t);return null!==n?Array.isArray(n)?n[0]:Yf(Zf(e[ro]),n):Yf(e,t.next)}}return null}function qw(e,t){return null!==t?e[ro][ci].projection[t.projection]:null}function Xv(e,t){const r=Te+e+1;if(r<t.length){const n=t[r],o=n[dt].firstChild;if(null!==o)return Yf(n,o)}return t[qt]}function Qv(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&xi(Wr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)Qv(e,t,r.child,n,o,i,!1),ld(t,e,o,a,i);else if(32&l){const u=Wv(r,n);let f;for(;f=u();)ld(t,e,o,f,i);ld(t,e,o,a,i)}else 16&l?Kw(e,t,n,r,o,i):ld(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Kf(e,t,r,n,o,i){Qv(r,n,e.firstChild,t,o,i,!1)}function Kw(e,t,r,n,o,i){const s=r[ro],l=s[ci].projection[n.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)ld(t,e,o,l[u],i);else{let u=l;const f=s[Br];Cm(n)&&(u.flags|=128),Qv(e,t,u,f,o,i,!0)}}function Xw(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Qw(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&ju(e,t,n),null!==o&&Xw(e,t,o),null!==i&&function M2(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function cd(e){return function Jv(){if(void 0===Mm&&(Mm=null,D.trustedTypes))try{Mm=D.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Mm}()?.createHTML(e)||e}class lu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${va})`}}class P2 extends lu{getTypeName(){return"HTML"}}class O2 extends lu{getTypeName(){return"Style"}}class F2 extends lu{getTypeName(){return"Script"}}class N2 extends lu{getTypeName(){return"URL"}}class L2 extends lu{getTypeName(){return"ResourceURL"}}function Rs(e){return e instanceof lu?e.changingThisBreaksApplicationSecurity:e}function ll(e,t){const r=function $2(e){return e instanceof lu&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${va})`)}return r===t}class H2{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(cd(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class z2{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=cd(t),r}}const Z2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function km(e){return(e=String(e)).match(Z2)?e:"unsafe:"+e}function Gl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Xf(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const rE=Gl("area,br,col,hr,img,wbr"),oE=Gl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iE=Gl("rp,rt"),ty=Xf(rE,Xf(oE,Gl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xf(iE,Gl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xf(iE,oE)),ny=Gl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sE=Xf(ny,Gl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),q2=Gl("script,style,template");class Y2{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!ty.hasOwnProperty(r))return this.sanitizedSomething=!0,!q2.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!sE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;ny[a]&&(l=km(l)),this.buf.push(" ",s,'="',aE(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();ty.hasOwnProperty(r)&&!rE.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(aE(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const K2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,X2=/([^\#-~ |!])/g;function aE(e){return e.replace(/&/g,"&amp;").replace(K2,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(X2,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rm;function lE(e,t){let r=null;try{Rm=Rm||function nE(e){const t=new z2(e);return function W2(){try{return!!(new window.DOMParser).parseFromString(cd(""),"text/html")}catch{return!1}}()?new H2(t):t}(e);let n=t?String(t):"";r=Rm.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=Rm.getInertBodyElement(n)}while(n!==i);return cd((new Y2).sanitizeChildren(ry(r)||r))}finally{if(r){const n=ry(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function ry(e){return"content"in e&&function Q2(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ps=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ps||{});let fE=(e,t,r)=>null;function dy(e,t,r=!1){return fE(e,t,r)}class pF{}class mE{}class mF{resolveComponentFactory(t){throw function hF(e){const t=Error(`No component factory found for ${Sr(e)}.`);return t.ngComponent=e,t}(t)}}let $m=(()=>{class t{}return t.NULL=new mF,t})();function gF(){return fd(Rr(),ze())}function fd(e,t){return new rt(Fi(e,t))}let rt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=gF,t})();function _F(e){return e instanceof rt?e.nativeElement:e}class _E{}let Ul=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function vF(){const e=ze(),r=Ms(Rr().index,e);return(Qt(r)?r:e)[dn]}(),t})(),yF=(()=>{var e;class t{}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:()=>null}),t})();class tp{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const bF=new tp("17.0.7"),hy={};function vE(e){const t=P(null);try{return e()}finally{P(t)}}function Bm(e){return!!function my(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class yE{constructor(){}supports(t){return Bm(t)}create(t){return new DF(t)}}const EF=(e,t)=>t;class DF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||EF}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<CE(n,o,i)?r:n,a=CE(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const u=a-o,f=l-o;if(u!=f){for(let m=0;m<u;m++){const b=m<i.length?i[m]:i[m]=0,j=b+m;f<=j&&j<u&&(i[m]=b+1)}i[s.previousIndex]=f-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Bm(t))throw new Xe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function wF(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new IF(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new bE),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class IF{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class bE{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new xF,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CE(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function wE(){return new Vm([new yE])}let Vm=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||wE()),deps:[[t,new um,new cm]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Xe(901,!1)}}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:wE}),t})();function rp(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(Wr(i)),Cn(i)&&DE(i,n);const s=r.type;if(8&s)rp(e,t,r.child,n);else if(32&s){const a=Wv(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=qw(t,r);if(Array.isArray(a))n.push(...a);else{const l=Zf(t[ro]);rp(l[dt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function DE(e,t){for(let r=Te;r<e.length;r++){const n=e[r],o=n[dt].firstChild;null!==o&&rp(n[dt],n,o,t)}e[qt]!==e[no]&&t.push(e[qt])}let IE=[];const OF={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Xh(e.lView)},consumerOnSignalRead(){this.lView[Bl]=this}};function gy(e){return e.ngOriginalError}class Hl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&gy(t);for(;r&&gy(r);)r=gy(r);return r||null}}const TE=new Me("",{providedIn:"root",factory:()=>it(Hl).handleError.bind(void 0)}),AE=new Me("",{providedIn:"root",factory:()=>!1}),En={};function ge(e){OE(Yn(),ze(),Ii()+e,!1)}function OE(e,t,r,n){if(!n)if(3==(3&t[jt])){const i=e.preOrderCheckHooks;null!==i&&tm(t,i,r)}else{const i=e.preOrderHooks;null!==i&&nm(t,i,0,r)}ou(r)}function v(e,t=Ft.Default){const r=ze();return null===r?ue(e,t):ZS(Rr(),r,Vt(e),t)}function Gm(e,t,r,n,o,i,s,a,l,u,f){const h=t.blueprint.slice();return h[no]=o,h[jt]=140|n,(null!==u||e&&2048&e[jt])&&(h[jt]|=2048),SS(h),h[Br]=h[Ia]=e,h[Er]=r,h[pc]=s||e&&e[pc],h[dn]=a||e&&e[dn],h[_i]=l||e&&e[_i]||null,h[ci]=i,h[ir]=function o2(){return r2++}(),h[xs]=f,h[Js]=u,h[ro]=2==t.type?e[ro]:h,h}function pd(e,t,r,n,o){let i=e.data[t];if(null===i)i=function _y(e,t,r,n,o){const i=TS(),s=lv(),l=e.data[t]=function ZF(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return Wu()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function LP(){return un.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function Nf(){const e=un.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return il(i,!0),i}function op(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function NE(e,t,r,n,o){const i=Ii(),s=2&n;try{ou(-1),s&&t.length>pn&&OE(e,t,pn,!1),rl(s?2:0,o),r(n,o)}finally{ou(i),rl(s?3:1,o)}}function vy(e,t,r){if(Vo(t)){const n=P(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{P(n)}}}function yy(e,t,r){xS()&&(function eN(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;wo(r)&&function aN(e,t,r){const n=Fi(t,e),o=LE(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=Um(e,Gm(e,o,null,s,n,t,null,e[pc].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||om(r,t),xi(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],u=iu(t,e,a,r);xi(u,t),null!==s&&lN(0,a-o,u,l,0,s),hr(l)&&(Ms(r.index,t)[Er]=iu(t,e,a,r))}}(e,t,r,Fi(r,t)),64==(64&r.flags)&&GE(e,t,r))}function by(e,t,r=Fi){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function LE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Cy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Cy(e,t,r,n,o,i,s,a,l,u,f){const h=pn+n,m=h+o,b=function jF(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:En);return r}(h,m),j="function"==typeof u?u():u;return b[dt]={type:e,blueprint:b,template:r,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:j,incompleteFirstPass:!1,ssrId:f}}let $E=e=>null;function BE(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?VE(r,t,o,i):n.hasOwnProperty(o)&&VE(r,t,n[o],i)}return r}function VE(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function Os(e,t,r,n,o,i,s,a){const l=Fi(t,r);let f,u=t.inputs;!a&&null!=u&&(f=u[n])?(Iy(e,r,f,n,o),wo(t)&&function KF(e,t){const r=Ms(t,e);16&r[jt]||(r[jt]|=64)}(r,t.index)):3&t.type&&(n=function YF(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function Sy(e,t,r,n){if(xS()){const o=null===n?null:{"":-1},i=function nN(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(Tf(t,s.selectors,!1))if(n||(n=[]),hr(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),wy(e,t,a.length)}else n.unshift(s),wy(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&jE(e,t,r,s,o,a),o&&function rN(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Xe(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=fc(r.mergedAttrs,r.attrs)}function jE(e,t,r,n,o,i){for(let u=0;u<n.length;u++)bv(om(r,t),e,n[u].type);!function iN(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let u=0;u<n.length;u++){const f=n[u];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=op(e,t,n.length,null);for(let u=0;u<n.length;u++){const f=n[u];r.mergedAttrs=fc(r.mergedAttrs,f.hostAttrs),sN(e,r,t,l,f),oN(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function qF(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,u=null;for(let f=t.directiveStart;f<o;f++){const h=i[f],m=r?r.get(h):null,j=m?m.outputs:null;l=BE(h.inputs,f,l,m?m.inputs:null),u=BE(h.outputs,f,u,j);const ee=null===l||null===s||xf(t)?null:cN(l,f,s);a.push(ee)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=u}(e,r,i)}function GE(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function BP(){return un.lFrame.currentDirectiveIndex}();try{ou(i);for(let a=n;a<o;a++){const l=e.data[a],u=t[a];uv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&tN(l,u)}}finally{ou(-1),uv(s)}}function tN(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function wy(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function oN(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;hr(t)&&(r[""]=e)}}function sN(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=tn(o.type)),s=new Lf(i,hr(o),v);e.blueprint[n]=s,r[n]=s,function QF(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function JF(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,op(e,r,o.hostVars,En),o)}function cl(e,t,r,n,o,i){const s=Fi(e,t);!function Ey(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Yt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[dn],s,i,e.value,r,n,o)}function lN(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)UE(n,r,s[a++],s[a++],s[a++])}function UE(e,t,r,n,o){const i=P(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{P(i)}}function cN(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function HE(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function zE(e,t){const r=e.contentQueries;if(null!==r){const n=P(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];fv(r[o]),a.contentQueries(2,t[s],s)}}}finally{P(n)}}}function Um(e,t){return e[Gu]?e[tv][as]=t:e[Gu]=t,e[tv]=t,t}function Dy(e,t,r){fv(0);const n=P(null);try{t(e,r)}finally{P(n)}}function WE(e){return e[nl]||(e[nl]=[])}function ZE(e){return e.cleanup||(e.cleanup=[])}function Hm(e,t){const r=e[_i],n=r?r.get(Hl,null):null;n&&n.handleError(t)}function Iy(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];UE(e.data[s],t[s],n,a,o)}}function zl(e,t,r){const n=Of(t,e);!function Bw(e,t,r){e.setValue(t,r)}(e[dn],n,r)}function fN(e,t,r,n){const o=t[jt];if(256==(256&o))return;t[pc].inlineEffectRunner?.flush(),pv(t);let s=null,a=null;(function pN(e){return 2!==e.type})(e)&&(a=function kF(e){return e[Bl]??function RF(e){const t=IE.pop()??Object.create(OF);return t.lView=e,t}(e)}(t),s=function se(e){return e&&(e.nextProducerIndex=0),P(e)}(a));try{SS(t),function AS(e){return un.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&NE(e,t,r,2,n);const l=3==(3&o);if(l){const h=e.preOrderCheckHooks;null!==h&&tm(t,h,null)}else{const h=e.preOrderHooks;null!==h&&nm(t,h,0,null),mv(t,0)}if(function hN(e){for(let t=Nw(e);null!==t;t=Lw(t)){if(!(t[jt]&Dr.HasTransplantedViews))continue;const r=t[zn];for(let n=0;n<r.length;n++){xP(r[n])}}}(t),YE(t,0),null!==e.contentQueries&&zE(e,t),l){const h=e.contentCheckHooks;null!==h&&tm(t,h)}else{const h=e.contentHooks;null!==h&&nm(t,h,1),mv(t,1)}!function VF(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)ou(~o);else{const i=o,s=r[++n],a=r[++n];$P(s,i),a(2,t[i])}}}finally{ou(-1)}}(e,t);const u=e.components;null!==u&&XE(t,u,0);const f=e.viewQuery;if(null!==f&&Dy(2,f,n),l){const h=e.viewCheckHooks;null!==h&&tm(t,h)}else{const h=e.viewHooks;null!==h&&nm(t,h,2),mv(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Uu]){for(const h of t[Uu])h();t[Uu]=null}t[jt]&=-73}catch(l){throw Xh(t),l}finally{null!==a&&(function H(e,t){if(P(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ae(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ae(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function PF(e){e.lView[Bl]!==e&&(e.lView=null,IE.push(e))}(a)),hv()}}function YE(e,t){for(let r=Nw(e);null!==r;r=Lw(r)){r[jt]&=~Dr.HasChildViewsToRefresh;for(let n=Te;n<r.length;n++)KE(r[n],t)}}function mN(e,t,r){KE(Ms(t,e),r)}function KE(e,t){sv(e)&&Ty(e,t)}function Ty(e,t){const n=e[dt],o=e[jt],i=e[Bl];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!k(i)),i&&(i.dirty=!1),e[jt]&=-9217,s)fN(n,e,n.template,e[Er]);else if(8192&o){YE(e,1);const a=n.components;null!==a&&XE(e,a,1)}}function XE(e,t,r){for(let n=0;n<t.length;n++)mN(e,t[n],r)}function ip(e){for(;e;){e[jt]|=64;const t=Zf(e);if(zr(e)&&!t)return e;e=t}return null}class sp{get rootNodes(){const t=this._lView,r=t[dt];return rp(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Er]}set context(t){this._lView[Er]=t}get destroyed(){return 256==(256&this._lView[jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Br];if(Cn(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(qf(t,n),am(r,n))}this._attachedToViewContainer=!1}Dm(this._lView[dt],this._lView)}onDestroy(t){Qh(this._lView,t)}markForCheck(){ip(this._cdRefInjectingView||this._lView)}detach(){this._lView[jt]&=-129}reattach(){DS(this._lView),this._lView[jt]|=128}detectChanges(){this._lView[jt]|=1024,function xy(e,t=!0){const r=e[pc],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function dN(e){Ty(e,0);let t=0;for(;ES(e);){if(100===t)throw new Xe(103,!1);t++,Ty(e,1)}}(e)}catch(s){throw t&&Hm(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v2(e,t){Kf(e,t,t[dn],2,null,null)}(this._lView[dt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=t}}let ct=(()=>{class t{}return t.__NG_ELEMENT_ID__=gN,t})();function gN(e){return function _N(e,t,r){if(wo(e)&&!r){const n=Ms(e.index,t);return new sp(n,n)}return 47&e.type?new sp(t[ro],t):null}(Rr(),ze(),16==(16&e))}let zm=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=CN,e.__NG_ENV_ID__=r=>r,t})();class bN extends zm{constructor(t){super(),this._lView=t}onDestroy(t){return Qh(this._lView,t),()=>function av(e,t){if(null===e[fn])return;const r=e[fn].indexOf(t);-1!==r&&e[fn].splice(r,1)}(this._lView,t)}}function CN(){return new bN(ze())}const QE=new Set;function cu(e){QE.has(e)||(QE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function My(e){return t=>{setTimeout(e,void 0,t)}}const nn=class TN extends Fn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=My(i),o&&(o=My(o)),s&&(s=My(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof ot&&t.add(a),a}};function JE(...e){}class Ue{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nn(!1),this.onMicrotaskEmpty=new nn(!1),this.onStable=new nn(!1),this.onError=new nn(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function MN(){const e="function"==typeof D.requestAnimationFrame;let t=D[e?"requestAnimationFrame":"setTimeout"],r=D[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function RN(e){const t=()=>{!function kN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(D,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ky(e),e.isCheckStableRunning=!0,Ay(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ky(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function ON(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return eD(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),tD(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return eD(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),tD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,ky(e),Ay(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new Xe(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,AN,JE,JE);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const AN={};function Ay(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ky(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function eD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function tD(e){e._nesting--,Ay(e)}class PN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nn,this.onMicrotaskEmpty=new nn,this.onStable=new nn,this.onError=new nn}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const nD=new Me("",{providedIn:"root",factory:rD});function rD(){const e=it(Ue);let t=!0;return ga(new In(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new In(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(_a()))}var uu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(uu||{});const oD={destroy(){}};function sD(e,t){!t&&function Fv(e){if(!Ar()&&!function Ah(){return wa}())throw new Xe(-203,!1)}();const r=t?.injector??it(qr);if(!function Cc(e){return"browser"===(e??it(qr)).get(bc)}(r))return oD;cu("NgAfterNextRender");const n=r.get(Wm),o=n.handler??=new lD,i=t?.phase??uu.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(zm).onDestroy(s),l=new aD(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class aD{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Ue),this.errorHandler=t.get(Hl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class lD{constructor(){this.executingCallbacks=!1,this.buckets={[uu.EarlyRead]:new Set,[uu.Write]:new Set,[uu.MixedReadWrite]:new Set,[uu.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Xe(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Wm=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:()=>new e}),t})();function LN(e,t){const r=Ms(t,e),n=r[dt];!function $N(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[no];null!==o&&null===r[xs]&&(r[xs]=dy(o,r[_i])),Ry(n,r,r[Er])}function Ry(e,t,r){pv(t);try{const n=e.viewQuery;null!==n&&Dy(1,n,r);const o=e.template;null!==o&&NE(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&zE(e,t),e.staticViewQueries&&Dy(2,e.viewQuery,r);const i=e.components;null!==i&&function BN(e,t){for(let r=0;r<t.length;r++)LN(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[jt]&=-5,hv()}}function Zm(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Ys(o,a):2==i&&(n=Ys(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class cD extends $m{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Rn(t);return new ap(r,this.ngModule)}}function uD(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class jN{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Yc(n);const o=this.injector.get(t,hy,n);return o!==hy||r===hy?o:this.parentInjector.get(t,r,n)}}class ap extends mE{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=uD(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return uD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function Hh(e){return e.map(Uh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof di?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new jN(t,i):t,a=s.get(_E,null);if(null===a)throw new Xe(407,!1);const f={rendererFactory:a,sanitizer:s.get(yF,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Wm,null)},h=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",b=n?function GF(e,t,r,n){const i=n.get(AE,!1)||r===is.ShadowDom,s=e.selectRootElement(t,i);return function UF(e){$E(e)}(s),s}(h,n,this.componentDef.encapsulation,s):Em(h,m,function VN(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),he=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ye=null;null!==b&&(ye=dy(b,s,!0));const De=Cy(0,null,null,1,0,null,null,null,null,null,null),bt=Gm(null,De,null,he,null,null,f,h,s,null,ye);let vt,pt;pv(bt);try{const An=this.componentDef;let Pn,Us=null;An.findHostDirectiveDefs?(Pn=[],Us=new Map,An.findHostDirectiveDefs(An,Pn,Us),Pn.push(An)):Pn=[An];const Qi=function UN(e,t){const r=e[dt],n=pn;return e[n]=t,pd(r,n,2,"#host",null)}(bt,b),bP=function HN(e,t,r,n,o,i,s){const a=o[dt];!function zN(e,t,r,n){for(const o of e)t.mergedAttrs=fc(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Zm(t,t.mergedAttrs,!0),null!==r&&Qw(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=dy(t,o[_i]));const u=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const h=Gm(o,LE(r),null,f,o[e.index],e,i,u,null,null,l);return a.firstCreatePass&&wy(a,e,n.length-1),Um(o,h),o[e.index]=h}(Qi,b,An,Pn,bt,f,h);pt=Ff(De,pn),b&&function ZN(e,t,r,n){if(n)ju(e,r,["ng-version",bF.full]);else{const{attrs:o,classes:i}=function zh(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!ss(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&ju(e,r,o),i&&i.length>0&&Xw(e,r,i.join(" "))}}(h,An,b,n),void 0!==r&&function qN(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(pt,this.ngContentSelectors,r),vt=function WN(e,t,r,n,o,i){const s=Rr(),a=o[dt],l=Fi(s,o);jE(a,o,s,r,null,n);for(let f=0;f<r.length;f++)xi(iu(o,a,s.directiveStart+f,s),o);GE(a,o,s),l&&xi(l,o);const u=iu(o,a,s.directiveStart+s.componentOffset,s);if(e[Er]=o[Er]=u,null!==i)for(const f of i)f(u,t);return vy(a,s,e),u}(bP,An,Pn,Us,bt,[YN]),Ry(De,bt,null)}finally{hv()}return new GN(this.componentType,vt,fd(pt,bt),bt,pt)}}class GN extends pF{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new sp(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;Iy(i[dt],i,o,t,r),this.previousInputValues.set(t,r),ip(Ms(this._tNode.index,i))}}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function YN(){const e=Rr();em(ze()[dt],e)}function Dn(e){let t=function dD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(hr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Xe(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=qm(e.inputs),s.inputTransforms=qm(e.inputTransforms),s.declaredInputs=qm(e.declaredInputs),s.outputs=qm(e.outputs);const a=o.hostBindings;a&&JN(e,a);const l=o.viewQuery,u=o.contentQueries;if(l&&XN(e,l),u&&QN(e,u),ws(e.inputs,o.inputs),ws(e.declaredInputs,o.declaredInputs),ws(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ws(s.inputTransforms,o.inputTransforms)),hr(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===Dn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function KN(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=fc(o.hostAttrs,r=fc(r,o.hostAttrs))}}(n)}function qm(e){return e===Is?{}:e===qn?[]:e}function XN(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function QN(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function JN(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function ul(e,t,r){return e[t]=r}function jo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function du(e,t,r,n){const o=jo(e,t,r);return jo(e,t+1,n)||o}function Fs(e,t,r,n){const o=ze();return jo(o,sl(),t)&&(Yn(),cl(io(),o,e,t,r,n)),Fs}function md(e,t,r,n){return jo(e,sl(),r)?t+Yt(r)+n:En}function _d(e,t,r,n,o,i,s,a){const u=function Ym(e,t,r,n,o){const i=du(e,t,r,n);return jo(e,t+2,o)||i}(e,Vl(),r,o,s);return jl(3),u?t+Yt(r)+n+Yt(o)+i+Yt(s)+a:En}function Km(e,t){return e<<17|t<<2}function Ec(e){return e>>17&32767}function Py(e){return 2|e}function fu(e){return(131068&e)>>2}function Oy(e,t){return-131069&e|t<<2}function Fy(e){return 1|e}function DD(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?Ec(i):fu(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];uL(e[a],t)&&(l=!0,e[a+1]=n?Fy(f):Py(f)),a=n?Ec(f):fu(f)}l&&(e[r+1]=n?Py(i):Fy(i))}function uL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&nd(e,t)>=0}function Se(e,t,r){const n=ze();return jo(n,sl(),t)&&Os(Yn(),io(),n,e,t,n[dn],r,!1),Se}function Ny(e,t,r,n,o){const s=o?"class":"style";Iy(e,r,t.inputs[s],s,n)}function pu(e,t,r){return xa(e,t,r,!1),pu}function ta(e,t){return xa(e,t,null,!0),ta}function xa(e,t,r,n){const o=ze(),i=Yn(),s=jl(2);i.firstUpdatePass&&function PD(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[Ii()],s=function RD(e,t){return t>=e.expandoStartIndex}(e,r);(function LD(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function yL(e,t,r,n){const o=function dv(e){const t=un.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=cp(r=Ly(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=Ly(o,e,t,r,n),null===i){let l=function bL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==fu(n))return e[Ec(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=Ly(null,e,t,l[1],n),l=cp(l,t.attrs,n),function CL(e,t,r,n){e[Ec(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function SL(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=cp(n,e[i].hostAttrs,r);return cp(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function lL(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=Ec(s),l=fu(s);e[n]=r;let f,u=!1;if(Array.isArray(r)?(f=r[1],(null===f||nd(r,f)>0)&&(u=!0)):f=r,o)if(0!==l){const m=Ec(e[a+1]);e[n+1]=Km(m,a),0!==m&&(e[m+1]=Oy(e[m+1],n)),e[a+1]=function sL(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Km(a,0),0!==a&&(e[a+1]=Oy(e[a+1],n)),a=n;else e[n+1]=Km(l,0),0===a?a=n:e[l+1]=Oy(e[l+1],n),l=n;u&&(e[n+1]=Py(e[n+1])),DD(e,f,n,!0),DD(e,f,n,!1),function cL(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&nd(i,t)>=0&&(r[n+1]=Fy(r[n+1]))}(t,f,e,n,i),s=Km(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==En&&jo(o,s,t)&&function FD(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,u=l[a+1],f=function aL(e){return 1==(1&e)}(u)?ND(l,t,r,o,fu(u),s):void 0;Xm(f)||(Xm(i)||function iL(e){return 2==(2&e)}(u)&&(i=ND(l,null,r,o,a,s)),function T2(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:wc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=wc.Important),e.setStyle(r,n,o,i))}}(n,s,Of(Ii(),r),o,i))}(i,i.data[Ii()],o,o[dn],e,o[s+1]=function IL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Sr(Rs(e)))),e}(t,r),n,s)}function Ly(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=cp(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function cp(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),As(e,s,!!r||t[++i]))}return void 0===e?null:e}function ND(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],u=Array.isArray(l),f=u?l[1]:l,h=null===f;let m=r[o+1];m===En&&(m=h?qn:void 0);let b=h?Ev(m,n):f===n?m:void 0;if(u&&!Xm(b)&&(b=Ev(l,n)),Xm(b)&&(a=b,s))return a;const j=e[o+1];o=s?Ec(j):fu(j)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=Ev(l,n))}return a}function Xm(e){return void 0!==e}function Dd(e,t){return!t||null===t.firstChild||Cm(e)}function mp(e,t,r,n=!0){const o=t[dt];if(function b2(e,t,r,n){const o=Te+n,i=r.length;n>0&&(r[o-1][as]=t),n<i-Te?(t[as]=r[o],JS(r,Te+n,t)):(r.push(t),t[as]=null),t[Br]=r;const s=t[Qc];null!==s&&r!==s&&function C2(e,t){const r=e[zn];t[ro]!==t[Br][Br][ro]&&(e[jt]|=Dr.HasTransplantedViews),null===r?e[zn]=[t]:r.push(t)}(s,t);const a=t[Ts];null!==a&&a.insertView(e),DS(t),t[jt]|=128}(o,t,e,r),n){const s=Xv(r,e),a=t[dn],l=Im(a,e[qt]);null!==l&&function _2(e,t,r,n,o,i){n[no]=o,n[ci]=t,Kf(e,n,r,1,o,i)}(o,e[ci],a,t,l,s)}const i=t[xs];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let ds=(()=>{class t{}return t.__NG_ELEMENT_ID__=s3,t})();function s3(){return KD(Rr(),ze())}const a3=ds,qD=class extends a3{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return fd(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){const t=im(this._hostTNode,this._hostLView);if(_v(t)){const r=Bf(t,this._hostLView),n=$f(t);return new ni(r[dt].data[n+8],r)}return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=YD(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-Te}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const a=t.createEmbeddedViewImpl(r||{},i,null);return this.insertImpl(a,o,Dd(this._hostTNode,null)),a}createComponent(t,r,n,o,i){const s=t&&!function Vf(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const j=r||{};a=j.index,n=j.injector,o=j.projectableNodes,i=j.environmentInjector||j.ngModuleRef}const l=s?t:new ap(Rn(t)),u=n||this.parentInjector;if(!i&&null==l.ngModule){const ee=(s?u:this.parentInjector).get(di,null);ee&&(i=ee)}Rn(l.componentType??{});const b=l.create(u,o,null,i);return this.insertImpl(b.hostView,a,Dd(this._hostTNode,null)),b}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function IP(e){return Cn(e[Br])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[Br],u=new qD(l,l[ci],l[Br]);u.detach(u.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return mp(s,o,i,n),t.attachToViewContainerRef(),JS(Wy(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=YD(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=qf(this._lContainer,r);n&&(am(Wy(this._lContainer),r),Dm(n[dt],n))}detach(t){const r=this._adjustIndex(t,-1),n=qf(this._lContainer,r);return n&&null!=am(Wy(this._lContainer),r)?new sp(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function YD(e){return e[8]}function Wy(e){return e[8]||(e[8]=[])}function KD(e,t){let r;const n=t[e.index];return Cn(n)?r=n:(r=HE(n,t,null,e),t[e.index]=r,Um(t,r)),XD(r,t,e,n),new qD(r,e,t)}let XD=function JD(e,t,r,n){if(e[qt])return;let o;o=8&r.type?Wr(n):function l3(e,t){const r=e[dn],n=r.createComment(""),o=Fi(t,e);return au(r,Im(r,o),n,function D2(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[qt]=o},Zy=(e,t,r)=>!1;function Wt(e,t,r,n,o,i,s,a){const l=ze(),u=Yn(),f=e+pn,h=u.firstCreatePass?function f3(e,t,r,n,o,i,s,a,l){const u=t.consts,f=pd(t,e,4,s||null,ol(u,a));Sy(t,r,f,ol(u,l)),em(t,f);const h=f.tView=Cy(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}(f,u,l,t,r,n,o,i,s):u.data[f];il(h,!1);const m=e1(u,l,h,e);Jh()&&xm(u,l,m,h),xi(m,l);const b=HE(m,l,m,h);return l[f]=b,Um(l,b),function QD(e,t,r){return Zy(e,t,r)}(b,h,l),ti(h)&&yy(u,l,h),null!=s&&by(l,h,a),Wt}let e1=function t1(e,t,r,n){return mc(!0),t[dn].createComment("")};function z(e,t,r,n){const o=ze(),i=Yn(),s=pn+e,a=o[dn],l=i.firstCreatePass?function t$(e,t,r,n,o,i){const s=t.consts,l=pd(t,e,2,n,ol(s,o));return Sy(t,r,l,ol(s,i)),null!==l.attrs&&Zm(l,l.attrs,!1),null!==l.mergedAttrs&&Zm(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],u=E1(i,o,l,a,t,e);o[s]=u;const f=ti(l);return il(l,!0),Qw(a,u,l),32!=(32&l.flags)&&Jh()&&xm(i,o,u,l),0===function TP(){return un.lFrame.elementDepthCount}()&&xi(u,o),function MP(){un.lFrame.elementDepthCount++}(),f&&(yy(i,o,l),vy(i,l,o)),null!==n&&by(o,l),z}function L(){let e=Rr();lv()?cv():(e=e.parent,il(e,!1));const t=e;(function kP(e){return un.skipHydrationRootTNode===e})(t)&&function FP(){un.skipHydrationRootTNode=null}(),function AP(){un.lFrame.elementDepthCount--}();const r=Yn();return r.firstCreatePass&&(em(r,e),Vo(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function KP(e){return 0!=(8&e.flags)}(t)&&Ny(r,t,ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function XP(e){return 0!=(16&e.flags)}(t)&&Ny(r,t,ze(),t.stylesWithoutHost,!1),L}function je(e,t,r,n){return z(e,t,r,n),L(),je}let E1=(e,t,r,n,o,i)=>(mc(!0),Em(n,o,function $S(){return un.lFrame.currentNamespace}()));function Rd(e,t,r){const n=ze(),o=Yn(),i=e+pn,s=o.firstCreatePass?function o$(e,t,r,n,o){const i=t.consts,s=ol(i,n),a=pd(t,e,8,"ng-container",s);return null!==s&&Zm(a,s,!0),Sy(t,r,a,ol(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];il(s,!0);const a=D1(o,n,s,e);return n[i]=a,Jh()&&xm(o,n,a,s),xi(a,n),ti(s)&&(yy(o,n,s),vy(o,s,n)),null!=r&&by(n,s),Rd}function Pd(){let e=Rr();const t=Yn();return lv()?cv():(e=e.parent,il(e,!1)),t.firstCreatePass&&(em(t,e),Vo(e)&&t.queries.elementEnd(e)),Pd}let D1=(e,t,r,n)=>(mc(!0),Zv(t[dn],""));function $n(){return ze()}const Fd="en-US";let A1=Fd;function Ep(e){return!!e&&"function"==typeof e.then}function tI(e){return!!e&&"function"==typeof e.subscribe}function Le(e,t,r,n){const o=ze(),i=Yn(),s=Rr();return function rI(e,t,r,n,o,i,s){const a=ti(n),u=e.firstCreatePass&&ZE(e),f=t[Er],h=WE(t);let m=!0;if(3&n.type||s){const ee=Fi(n,t),he=s?s(ee):ee,ye=h.length,De=s?vt=>s(Wr(vt[n.index])):n.index;let bt=null;if(!s&&a&&(bt=function rB(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[nl],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=i,bt.__ngLastListenerFn__=i,m=!1;else{i=iI(n,t,f,i,!1);const vt=r.listen(he,o,i);h.push(i,vt),u&&u.push(o,De,ye,ye+1)}}else i=iI(n,t,f,i,!1);const b=n.outputs;let j;if(m&&null!==b&&(j=b[o])){const ee=j.length;if(ee)for(let he=0;he<ee;he+=2){const pt=t[j[he]][j[he+1]].subscribe(i),An=h.length;h.push(i,pt),u&&u.push(o,n.index,An,-(An+1))}}}(i,o,o[dn],s,e,t,n),Le}function oI(e,t,r,n){try{return rl(6,t,r),!1!==r(n)}catch(o){return Hm(e,o),!1}finally{rl(7,t,r)}}function iI(e,t,r,n,o){return function i(s){if(s===Function)return n;ip(e.componentOffset>-1?Ms(e.index,t):t);let l=oI(t,r,n,s),u=i.__ngNextListenerFn__;for(;u;)l=oI(t,r,u,s)&&l,u=u.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function ut(e=1){return function jP(e){return(un.lFrame.contextLView=function wS(e,t){for(;e>0;)t=t[Ia],e--;return t}(e,un.lFrame.contextLView))[Er]}(e)}function oB(e,t){let r=null;const n=function Bh(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?Tf(e,i,!0):Gh(n,i))return o}else r=o}return r}function _t(e){const t=ze()[ro][ci];if(!t.projection){const n=t.projection=jf(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?oB(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function gt(e,t=0,r){const n=ze(),o=Yn(),i=pd(o,pn+e,16,null,r||null);null===i.projection&&(i.projection=t),cv(),(!n[xs]||Wu())&&32!=(32&i.flags)&&function I2(e,t,r){Kw(t[dn],0,t,r,Yv(e,r,t),Hw(r.parent||t[ci],r,t))}(o,n,i)}function fg(e,t,r,n,o){const i=ze(),s=md(i,t,r,n);return s!==En&&Os(Yn(),io(),i,e,s,i[dn],o,!1),fg}function Ns(e){return zu(function NP(){return un.lFrame.contextLView}(),pn+e)}function Ce(e,t=""){const r=ze(),n=Yn(),o=e+pn,i=n.firstCreatePass?pd(n,o,1,t,null):n.data[o],s=EI(n,r,i,t,e);r[o]=s,Jh()&&xm(n,r,s,i),il(i,!1)}let EI=(e,t,r,n,o)=>(mc(!0),function wm(e,t){return e.createText(t)}(t[dn],n));function $i(e){return yi("",e,""),$i}function yi(e,t,r){const n=ze(),o=md(n,e,t,r);return o!==En&&zl(n,Ii(),o),yi}function Dp(e,t,r,n,o){const i=ze(),s=function gd(e,t,r,n,o,i){const a=du(e,Vl(),r,o);return jl(2),a?t+Yt(r)+n+Yt(o)+i:En}(i,e,t,r,n,o);return s!==En&&zl(i,Ii(),s),Dp}function sb(e,t,r,n,o,i,s){const a=ze(),l=_d(a,e,t,r,n,o,i,s);return l!==En&&zl(a,Ii(),l),sb}function ab(e,t,r,n,o){if(e=Vt(e),Array.isArray(e))for(let i=0;i<e.length;i++)ab(e[i],t,r,n,o);else{const i=Yn(),s=ze(),a=Rr();let l=su(e)?e:Vt(e.provide);const u=uw(e),f=1048575&a.providerIndexes,h=a.directiveStart,m=a.providerIndexes>>20;if(su(e)||!e.multi){const b=new Lf(u,o,v),j=cb(l,t,o?f:f+m,h);-1===j?(bv(om(a,s),i,l),lb(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(b),s.push(b)):(r[j]=b,s[j]=b)}else{const b=cb(l,t,f+m,h),j=cb(l,t,f,f+m),he=j>=0&&r[j];if(o&&!he||!o&&!(b>=0&&r[b])){bv(om(a,s),i,l);const ye=function bB(e,t,r,n,o){const i=new Lf(e,r,v);return i.multi=[],i.index=t,i.componentProviders=0,kI(i,o,n&&!r),i}(o?yB:vB,r.length,o,n,u);!o&&he&&(r[j].providerFactory=ye),lb(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(ye),s.push(ye)}else lb(i,e,b>-1?b:j,kI(r[o?j:b],u,!o&&n));!o&&n&&he&&r[j].componentProviders++}}}function lb(e,t,r,n){const o=su(t),i=function MO(e){return!!e.useClass}(t);if(o||i){const l=(i?Vt(t.useClass):t).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=u.indexOf(r);-1===f?u.push(r,[n,l]):u[f+1].push(n,l)}else u.push(r,l)}}}function kI(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function cb(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function vB(e,t,r,n){return ub(this.multi,[])}function yB(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=iu(r,r[dt],this.providerFactory.index,n);i=a.slice(0,s),ub(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],ub(o,i);return i}function ub(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function ar(e,t=[]){return r=>{r.providersResolver=(n,o)=>function _B(e,t,r){const n=Yn();if(n.firstCreatePass){const o=hr(e);ab(r,n.data,n.blueprint,o,!0),ab(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class gu{}class RI{}class db extends gu{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cD(this);const o=ei(t);this._bootstrapComponents=ks(o.bootstrap),this._r3Injector=mw(t,r,[{provide:gu,useValue:this},{provide:$m,useValue:this.componentFactoryResolver},...n],Sr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fb extends RI{constructor(t){super(),this.moduleType=t}create(t){return new db(this.moduleType,t,[])}}class PI extends gu{constructor(t){super(),this.componentFactoryResolver=new cD(this),this.instance=null;const r=new id([...t.providers,{provide:gu,useValue:this},{provide:$m,useValue:this.componentFactoryResolver}],t.parent||mm(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function pb(e,t,r=null){return new PI({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let wB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=sw(0,n.type),i=o.length>0?pb([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(ue(di))}),t})();function pg(e){cu("NgStandalone"),e.getStandaloneInjector=t=>t.get(wB).getOrCreateStandaloneInjector(e)}function UI(e,t,r,n,o,i){const s=t+r;return jo(e,s,o)?ul(e,s+1,i?n.call(i,o):n(o)):function Ip(e,t){const r=e[t];return r===En?void 0:r}(e,s+1)}function pl(e,t){const r=Yn();let n;const o=e+pn;r.firstCreatePass?(n=function GB(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=tn(n.type)),a=gn(v);try{const l=rm(!1),u=i();return rm(l),function iB(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,ze(),o,u),u}finally{gn(a)}}function hl(e,t,r){const n=e+pn,o=ze(),i=zu(o,n);return function xp(e,t){return e[dt].data[t].pure}(o,n)?UI(o,Ni(),t,i.transform,r,i):i.transform(r)}function ZB(){return this._results[Symbol.iterator]()}class mb{get changes(){return this._changes??=new nn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=mb.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=ZB)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function cs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function uO(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=KB,t})();const qB=Ma,YB=class extends qB{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=function hp(e,t,r,n){const o=t.tView,a=Gm(e,o,r,4096&e[jt]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[Qc]=e[t.index];const u=e[Ts];return null!==u&&(a[Ts]=u.createEmbeddedView(o)),Ry(o,a,r),a}(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new sp(o)}};function KB(){return gg(Rr(),ze())}function gg(e,t){return 4&e.type?new YB(t,e,fd(e,t)):null}class gb{constructor(t){this.queryList=t,this.matches=null}clone(){return new gb(this.queryList)}setDirty(){this.queryList.setDirty()}}class _b{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new _b(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==QI(t,r).matches&&this.queries[r].setDirty()}}class qI{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class vb{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new vb(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class yb{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new yb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,XB(r,i)),this.matchTNodeWithReadOption(t,r,sm(r,t,i,!1,!1))}else n===Ma?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,sm(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===rt||o===ds||o===Ma&&4&r.type)this.addMatch(r.index,-2);else{const i=sm(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function XB(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function JB(e,t,r,n){return-1===r?function QB(e,t){return 11&e.type?fd(e,t):4&e.type?gg(e,t):null}(t,e):-2===r?function eV(e,t,r){return r===rt?fd(t,e):r===Ma?gg(t,e):r===ds?KD(t,e):void 0}(e,t,n):iu(e,e[dt],r,t)}function YI(e,t,r,n){const o=t[Ts].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:JB(t,i[u],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function bb(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=YI(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const u=i[a+1],f=t[-l];for(let h=Te;h<f.length;h++){const m=f[h];m[Qc]===m[Br]&&bb(m[dt],m,u,n)}if(null!==f[zn]){const h=f[zn];for(let m=0;m<h.length;m++){const b=h[m];bb(b[dt],b,u,n)}}}}}return n}function Ls(e){const t=ze(),r=Yn(),n=RS();fv(n+1);const o=QI(r,n);if(e.dirty&&function DP(e){return 4==(4&e[jt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?bb(r,t,n,[]):YI(r,t,o,n);e.reset(i,_F),e.notifyOnChanges()}return!0}return!1}function Ic(e,t,r){const n=Yn();n.firstCreatePass&&(XI(n,new qI(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),KI(n,ze(),t)}function Nd(e,t,r,n){const o=Yn();if(o.firstCreatePass){const i=Rr();XI(o,new qI(t,r,n),i.index),function nV(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}KI(o,ze(),r)}function $s(){return function tV(e,t){return e[Ts].queries[t].queryList}(ze(),RS())}function KI(e,t,r){const n=new mb(4==(4&r));(function WF(e,t,r,n){const o=WE(t);o.push(r),e.firstCreatePass&&ZE(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[Ts]&&(t[Ts]=new _b),t[Ts].queries.push(new gb(n))}function XI(e,t,r){null===e.queries&&(e.queries=new vb),e.queries.track(new yb(t,r))}function QI(e,t){return e.queries.getByIndex(t)}let hx=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),vg=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new po(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class DV{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let mx=(()=>{var e;class t{compileModuleSync(n){return new fb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=ks(ei(n).declarations).reduce((a,l)=>{const u=Rn(l);return u&&a.push(new ap(u)),a},[]);return new DV(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const bx=new Me(""),bg=new Me("");let Tb,Ib=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Tb||(function KV(e){Tb=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ue),ue(xb),ue(bg))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})(),xb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Tb?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const Ap=new Me("Application Initializer");let Mb=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=it(Ap,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Ep(s))n.push(s);else if(tI(s)){const a=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ab=new Me("appBootstrapListener");function wx(e,t){return Array.isArray(t)?t.reduce(wx,e):{...e,...t}}let Aa=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=it(TE),this.zoneIsStable=it(nD),this.componentTypes=[],this.components=[],this.isStable=it(vg).hasPendingTasks.pipe(eo(n=>n?Bt(!1):this.zoneIsStable),qs()),this._injector=it(di)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof mE;if(!this._injector.get(Mb).done)throw!i&&function Da(e){const t=Rn(e)||So(e)||Bo(e);return null!==t&&t.standalone}(n),new Xe(405,!1);let a;a=i?n:this._injector.get($m).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function QV(e){return e.isBoundToModule}(a)?void 0:this._injector.get(gu),f=a.create(qr.NULL,[],o||a.selector,l),h=f.location.nativeElement,m=f.injector.get(bx,null);return m?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Cg(this.components,f),m?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Cg(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(Ab,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cg(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Xe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Cg(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let e4=(()=>{var e;class t{constructor(){this.zone=it(Ue),this.applicationRef=it(Aa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function t4(){const e=it(Ue),t=it(Hl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const Wl=new Me("LocaleId",{providedIn:"root",factory:()=>it(Wl,Ft.Optional|Ft.SkipSelf)||function r4(){return typeof $localize<"u"&&$localize.locale||Fd}()}),kb=new Me("PlatformDestroyListeners");let xx=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function FN(e="zone.js",t){return"noop"===e?new PN:"zone.js"===e?new Ue(t):e}(o?.ngZone,function Ix(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function SB(e,t,r){return new db(e,t,r)}(n.moduleType,this.injector,function Dx(e){return[{provide:Ue,useFactory:e},{provide:od,multi:!0,useFactory:()=>{const t=it(e4,{optional:!0});return()=>t.initialize()}},{provide:TE,useFactory:t4},{provide:nD,useFactory:rD}]}(()=>i)),a=s.injector.get(Hl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:u=>{a.handleError(u)}});s.onDestroy(()=>{Cg(this._modules,s),l.unsubscribe()})}),function Sx(e,t,r){try{const n=r();return Ep(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(Mb);return l.runInitializers(),l.donePromise.then(()=>(function k1(e){yn(e,"Expected localeId to be defined"),"string"==typeof e&&(A1=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Wl,Fd)||Fd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=wx({},o);return function XV(e,t,r){const n=new fb(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Aa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Xe(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(kb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(qr))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),xc=null;const Tx=new Me("AllowMultipleToken");function Mx(e,t,r=[]){const n=`Platform: ${t}`,o=new Me(n);return(i=[])=>{let s=Rb();if(!s||s.injector.get(Tx,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function s4(e){if(xc&&!xc.get(Tx,!1))throw new Xe(400,!1);(function Cx(){!function Tt(e){Be=e}(()=>{throw new Xe(600,!1)})})(),xc=e;const t=e.get(xx);(function kx(e){e.get(_w,null)?.forEach(r=>r())})(e)}(function Ax(e=[],t){return qr.create({name:t,providers:[{provide:kv,useValue:"platform"},{provide:kb,useValue:new Set([()=>xc=null])},...e]})}(a,n))}return function a4(e){const t=Rb();if(!t)throw new Xe(401,!1);return t}()}}function Rb(){return xc?.get(xx)??null}const p4=Mx(null,"core",[]);let h4=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Aa))},e.\u0275mod=to({type:e}),e.\u0275inj=tt({}),t})();function eT(e){const t=Rn(e);if(!t)return null;const r=new ap(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let jb=null;function Tc(){return jb}class G4{}const fi=new Me("DocumentToken");let Gb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(H4),providedIn:"platform"}),t})();const U4=new Me("Location Initialized");let H4=(()=>{var e;class t extends Gb{constructor(){super(),this._doc=it(fi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tc().getBaseHref(this._doc)}onPopState(n){const o=Tc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=Tc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"}),t})();function Ub(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function tT(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Zl(e){return e&&"?"!==e[0]?"?"+e:e}let ml=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(rT),providedIn:"root"}),t})();const nT=new Me("appBaseHref");let rT=(()=>{var e;class t extends ml{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??it(fi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ub(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Zl(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Zl(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Zl(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Gb),ue(nT,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),oT=(()=>{var e;class t extends ml{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=Ub(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Zl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Zl(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Gb),ue(nT,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})(),Mc=(()=>{var e;class t{constructor(n){this._subject=new nn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function Z4(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(tT(iT(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Zl(o))}normalize(n){return t.stripTrailingSlash(function W4(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,iT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zl(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Zl(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Zl,e.joinWithSlash=Ub,e.stripTrailingSlash=tT,e.\u0275fac=function(n){return new(n||e)(ue(ml))},e.\u0275prov=M({token:e,factory:()=>function z4(){return new Mc(ue(ml))}(),providedIn:"root"}),t})();function iT(e){return e.replace(/\/index.html$/,"")}function hT(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class Pj{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ac=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new Pj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),_T(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{_T(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ds),v(Ma),v(Vm))},e.\u0275dir=kt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function _T(e,t){e.context.$implicit=t.item}let No=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new Oj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ds),v(Ma))},e.\u0275dir=kt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Oj{constructor(){this.$implicit=null,this.ngIf=null}}function vT(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Sr(t)}'.`)}class eC{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Vg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),yT=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new eC(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ds),v(Ma),v(Vg,9))},e.\u0275dir=kt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),bT=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new eC(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ds),v(Ma),v(Vg,9))},e.\u0275dir=kt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class $j{createSubscription(t,r){return vE(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){vE(()=>t.unsubscribe())}}class Bj{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const Vj=new Bj,jj=new $j;let ST=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(Ep(n))return Vj;if(tI(n))return jj;throw function Ra(e,t){return new Xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ct,16))},e.\u0275pipe=Po({name:"async",type:e,pure:!1,standalone:!0}),t})(),gl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({}),t})();const ET="browser";function Gd(e){return e===ET}function DT(e){return"server"===e}let lG=(()=>{var e;class t{}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:()=>new cG(ue(fi),window)}),t})();class cG{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function uG(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class IT{}class PG extends G4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sC extends PG{static makeCurrent(){!function j4(e){jb||(jb=e)}(new sC)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function OG(){return Np=Np||document.querySelector("base"),Np?Np.getAttribute("href"):null}();return null==r?null:function FG(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){Np=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return hT(document.cookie,t)}}let Np=null,LG=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const aC=new Me("EventManagerPlugins");let AT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Xe(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(aC),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();class kT{constructor(t){this._doc=t}}const lC="ng-app-id";let RT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=DT(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${lC}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(lC),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(lC,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(fi),ue(_m),ue(vw,8),ue(bc))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const cC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uC=/%COMP%/g,jG=new Me("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function OT(e,t){return t.map(r=>r.replace(uC,e))}let FT=(()=>{var e;class t{constructor(n,o,i,s,a,l,u,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=DT(l),this.defaultRenderer=new dC(n,a,u,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===is.ShadowDom&&(o={...o,encapsulation:is.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof LT?i.applyToHost(n):i instanceof fC&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(o.encapsulation){case is.Emulated:s=new LT(u,f,o,this.appId,h,a,l,m);break;case is.ShadowDom:return new zG(u,f,n,o,a,l,this.nonce,m);default:s=new fC(u,f,o,h,a,l,m)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(AT),ue(RT),ue(_m),ue(jG),ue(fi),ue(bc),ue(Ue),ue(vw))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();class dC{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(cC[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(NT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(NT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Xe(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=cC[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=cC[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(wc.DashCase|wc.Important)?t.style.setProperty(r,n,o&wc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&wc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=Tc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function NT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class zG extends dC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=OT(o.id,o.styles);for(const f of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fC extends dC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?OT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class LT extends fC{constructor(t,r,n,o,i,s,a,l){const u=o+"-"+n.id;super(t,r,n,i,s,a,l,u),this.contentAttr=function GG(e){return"_ngcontent-%COMP%".replace(uC,e)}(u),this.hostAttr=function UG(e){return"_nghost-%COMP%".replace(uC,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let WG=(()=>{var e;class t extends kT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(fi))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const $T=["alt","control","meta","shift"],ZG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qG={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let YG=(()=>{var e;class t extends kT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),$T.forEach(f=>{const h=o.indexOf(f);h>-1&&(o.splice(h,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=a,u}static matchEventFullKeyCode(n,o){let i=ZG[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$T.forEach(a=>{a!==i&&(0,qG[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(fi))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const JG=Mx(p4,"browser",[{provide:bc,useValue:ET},{provide:_w,useValue:function KG(){sC.makeCurrent()},multi:!0},{provide:fi,useFactory:function QG(){return function UO(e){Lv=e}(document),document},deps:[]}]),eU=new Me(""),jT=[{provide:bg,useClass:class NG{addToWindow(t){D.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Xe(5103,!1);return i},D.getAllAngularTestabilities=()=>t.getAllTestabilities(),D.getAllAngularRootElements=()=>t.getAllRootElements(),D.frameworkStabilizers||(D.frameworkStabilizers=[]),D.frameworkStabilizers.push(n=>{const o=D.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?Tc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:bx,useClass:Ib,deps:[Ue,xb,bg]},{provide:Ib,useClass:Ib,deps:[Ue,xb,bg]}],GT=[{provide:kv,useValue:"root"},{provide:Hl,useFactory:function XG(){return new Hl},deps:[]},{provide:aC,useClass:WG,multi:!0,deps:[fi,Ue,bc]},{provide:aC,useClass:YG,multi:!0,deps:[fi]},FT,RT,AT,{provide:_E,useExisting:FT},{provide:IT,useClass:LG,deps:[]},[]];let tU=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:_m,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(eU,12))},e.\u0275mod=to({type:e}),e.\u0275inj=tt({providers:[...GT,...jT],imports:[gl,h4]}),t})(),UT=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(fi))},e.\u0275prov=M({token:e,factory:function(n){let o=null;return o=n?new n:function rU(){return new UT(ue(fi))}(),o},providedIn:"root"}),t})();typeof window<"u"&&window;let hC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:function(n){let o=null;return o=n?new(n||e):ue(WT),o},providedIn:"root"}),t})(),WT=(()=>{var e;class t extends hC{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Ps.NONE:return o;case Ps.HTML:return ll(o,"HTML")?Rs(o):lE(this._doc,String(o)).toString();case Ps.STYLE:return ll(o,"Style")?Rs(o):o;case Ps.SCRIPT:if(ll(o,"Script"))return Rs(o);throw new Xe(5200,!1);case Ps.URL:return ll(o,"URL")?Rs(o):km(String(o));case Ps.RESOURCE_URL:if(ll(o,"ResourceURL"))return Rs(o);throw new Xe(5201,!1);default:throw new Xe(5202,!1)}}bypassSecurityTrustHtml(n){return function B2(e){return new P2(e)}(n)}bypassSecurityTrustStyle(n){return function V2(e){return new O2(e)}(n)}bypassSecurityTrustScript(n){return function j2(e){return new F2(e)}(n)}bypassSecurityTrustUrl(n){return function G2(e){return new N2(e)}(n)}bypassSecurityTrustResourceUrl(n){return function U2(e){return new L2(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(fi))},e.\u0275prov=M({token:e,factory:function(n){let o=null;return o=n?new n:function lU(e){return new WT(e.get(fi))}(ue(qr)),o},providedIn:"root"}),t})();var Do=C(5861),cU=C(6299),Ud=C.n(cU);let Ug,Hg;function qT(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function YT(){return void 0!==Hg}class KT{constructor(){this.requestEvent=new Do.j}dispatchRequest(t){if(t){try{t=new(Ud())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let mC=(()=>{var e;class t{constructor(){this.installation=new KT,this.import=new KT,Ug&&this.installation.dispatchRequest(Ug),Hg&&this.import.dispatchRequest(Hg)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var B=C(3918);function Hd(e,t){return Ie(t)?Gn(e,t,1):Gn(e,1)}function Pa(e,t){return xn((r,n)=>{let o=0;r.subscribe(Bn(n,i=>e.call(t,i,o++)&&n.next(i)))})}function Lp(e){return xn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class zg{}class Wg{}class ia{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof ia?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new ia;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof ia?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class fU{encodeKey(t){return XT(t)}encodeValue(t){return XT(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const hU=/%(\d[a-f0-9])/gi,mU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XT(e){return encodeURIComponent(e).replace(hU,(t,r)=>mU[r]??t)}function Zg(e){return`${e}`}class Rc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new fU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pU(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(Zg):[Zg(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new Rc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(Zg(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(Zg(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class gU{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function QT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function JT(e){return typeof Blob<"u"&&e instanceof Blob}function eM(e){return typeof FormData<"u"&&e instanceof FormData}class $p{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function _U(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new ia),this.context||(this.context=new gU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new Rc,this.urlWithParams=r}serializeBody(){return null===this.body?null:QT(this.body)||JT(this.body)||eM(this.body)||function vU(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eM(this.body)?null:JT(this.body)?this.body.type||null:QT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,m)=>h.set(m,t.setHeaders[m]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,m)=>h.set(m,t.setParams[m]),u)),new $p(r,n,i,{params:u,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var Pc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Pc||{});class gC{constructor(t,r=200,n="OK"){this.headers=t.headers||new ia,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class qg extends gC{constructor(t={}){super(t),this.type=Pc.ResponseHeader}clone(t={}){return new qg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vu extends gC{constructor(t={}){super(t),this.type=Pc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new vu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class zd extends gC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _C(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let vC=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof $p)s=n;else{let u,f;u=i.headers instanceof ia?i.headers:new ia(i.headers),i.params&&(f=i.params instanceof Rc?i.params:new Rc({fromObject:i.params})),s=new $p(n,o,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Bt(s).pipe(Hd(u=>this.handler.handle(u)));if(n instanceof $p||"events"===i.observe)return a;const l=a.pipe(Pa(u=>u instanceof vu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(an(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(an(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(an(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(an(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new Rc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,_C(i,o))}post(n,o,i={}){return this.request("POST",n,_C(i,o))}put(n,o,i={}){return this.request("PUT",n,_C(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(zg))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function nM(e,t){return t(e)}function wU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const DU=new Me(""),Bp=new Me(""),rM=new Me(""),oM=new Me("");function IU(){let e=null;return(t,r)=>{null===e&&(e=(it(DU,{optional:!0})??[]).reduceRight(wU,nM));const n=it(vg),o=n.add();return e(t,r).pipe(Lp(()=>n.remove(o)))}}let iM=(()=>{var e;class t extends zg{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=it(vg);const i=it(oM,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Bp),...this.injector.get(rM,[])]));this.chain=i.reduceRight((s,a)=>function EU(e,t,r){return(n,o)=>_c(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),nM)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Lp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Wg),ue(di))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const kU=/^\)\]\}',?\n/;let aM=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Xe(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?Cr(o.\u0275loadImpl()):Bt(null)).pipe(eo(()=>new In(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((he,ye)=>a.setRequestHeader(he,ye.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const he=n.detectContentTypeHeader();null!==he&&a.setRequestHeader("Content-Type",he)}if(n.responseType){const he=n.responseType.toLowerCase();a.responseType="json"!==he?he:"text"}const l=n.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const he=a.statusText||"OK",ye=new ia(a.getAllResponseHeaders()),De=function RU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return u=new qg({headers:ye,status:a.status,statusText:he,url:De}),u},h=()=>{let{headers:he,status:ye,statusText:De,url:bt}=f(),vt=null;204!==ye&&(vt=typeof a.response>"u"?a.responseText:a.response),0===ye&&(ye=vt?200:0);let pt=ye>=200&&ye<300;if("json"===n.responseType&&"string"==typeof vt){const An=vt;vt=vt.replace(kU,"");try{vt=""!==vt?JSON.parse(vt):null}catch(Pn){vt=An,pt&&(pt=!1,vt={error:Pn,text:vt})}}pt?(s.next(new vu({body:vt,headers:he,status:ye,statusText:De,url:bt||void 0})),s.complete()):s.error(new zd({error:vt,headers:he,status:ye,statusText:De,url:bt||void 0}))},m=he=>{const{url:ye}=f(),De=new zd({error:he,status:a.status||0,statusText:a.statusText||"Unknown Error",url:ye||void 0});s.error(De)};let b=!1;const j=he=>{b||(s.next(f()),b=!0);let ye={type:Pc.DownloadProgress,loaded:he.loaded};he.lengthComputable&&(ye.total=he.total),"text"===n.responseType&&a.responseText&&(ye.partialText=a.responseText),s.next(ye)},ee=he=>{let ye={type:Pc.UploadProgress,loaded:he.loaded};he.lengthComputable&&(ye.total=he.total),s.next(ye)};return a.addEventListener("load",h),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),n.reportProgress&&(a.addEventListener("progress",j),null!==l&&a.upload&&a.upload.addEventListener("progress",ee)),a.send(l),s.next({type:Pc.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",h),a.removeEventListener("timeout",m),n.reportProgress&&(a.removeEventListener("progress",j),null!==l&&a.upload&&a.upload.removeEventListener("progress",ee)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(IT))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const CC=new Me("XSRF_ENABLED"),lM=new Me("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),cM=new Me("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class uM{}let FU=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=hT(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(fi),ue(bc),ue(lM))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function NU(e,t){const r=e.url.toLowerCase();if(!it(CC)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=it(uM).getToken(),o=it(cM);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var Oc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Oc||{});function yu(e,t){return{\u0275kind:e,\u0275providers:t}}function LU(...e){const t=[vC,aM,iM,{provide:zg,useExisting:iM},{provide:Wg,useExisting:aM},{provide:Bp,useValue:NU,multi:!0},{provide:CC,useValue:!0},{provide:uM,useClass:FU}];for(const r of e)t.push(...r.\u0275providers);return function Tv(e){return{\u0275providers:e}}(t)}const dM=new Me("LEGACY_INTERCEPTOR_FN");let BU=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({providers:[LU(yu(Oc.LegacyInterceptors,[{provide:dM,useFactory:IU},{provide:Bp,useExisting:dM,multi:!0}]))]}),t})();const{isArray:WU}=Array,{getPrototypeOf:ZU,prototype:qU,keys:YU}=Object;function vM(e){if(1===e.length){const t=e[0];if(WU(t))return{args:t,keys:null};if(function KU(e){return e&&"object"==typeof e&&ZU(e)===qU}(t)){const r=YU(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:XU}=Array;function SC(e){return an(t=>function QU(e,t){return XU(t)?e(...t):e(t)}(e,t))}function yM(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function Kg(...e){const t=ns(e),r=fa(e),{args:n,keys:o}=vM(e);if(0===n.length)return Cr([],t);const i=new In(function JU(e,t,r=Zn){return n=>{bM(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)bM(t,()=>{const u=Cr(e[l],t);let f=!1;u.subscribe(Bn(n,h=>{i[l]=h,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>yM(o,s):Zn));return r?i.pipe(SC(r)):i}function bM(e,t,r){e?Qn(r,e,t):t()}const Xg=_e(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function wC(...e){return function eH(){return $o(1)}()(Cr(e,ns(e)))}function CM(e){return new In(t=>{Ve(e()).subscribe(t)})}function Qg(e,t){const r=Ie(e)?e:()=>e,n=o=>o.error(r());return new In(t?o=>t.schedule(n,0,o):n)}function EC(){return xn((e,t)=>{let r=null;e._refCount++;const n=Bn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class SM extends In{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,yr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ot;const r=this.getSubject();t.add(this.source.subscribe(Bn(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ot.EMPTY)}return t}refCount(){return EC()(this)}}function Wd(e){return e<=0?()=>Ao:xn((t,r)=>{let n=0;t.subscribe(Bn(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function wM(...e){const t=ns(e);return xn((r,n)=>{(t?wC(e,r,t):wC(e,r)).subscribe(n)})}function Jg(e){return xn((t,r)=>{let n=!1;t.subscribe(Bn(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function EM(e=tH){return xn((t,r)=>{let n=!1;t.subscribe(Bn(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function tH(){return new Xg}function Fc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Pa((o,i)=>e(o,i,n)):Zn,Wd(1),r?Jg(t):EM(()=>new Xg))}function Ti(e,t,r){const n=Ie(e)||t||r?{next:e,error:t,complete:r}:e;return n?xn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(Bn(i,l=>{var u;null===(u=n.next)||void 0===u||u.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var u;a=!1,null===(u=n.error)||void 0===u||u.call(n,l),i.error(l)},()=>{var l,u;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(u=n.finalize)||void 0===u||u.call(n)}))}):Zn}function bu(e){return xn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(Bn(r,void 0,void 0,s=>{i=Ve(e(s,bu(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function DC(e){return e<=0?()=>Ao:xn((t,r)=>{let n=[];t.subscribe(Bn(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function DM(e){return an(()=>e)}function IM(e){return xn((t,r)=>{Ve(e).subscribe(Bn(r,()=>r.complete(),On)),!r.closed&&t.subscribe(r)})}const Mn="primary",Vp=Symbol("RouteTitle");class iH{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Zd(e){return new iH(e)}function sH(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function _l(e,t){const r=e?IC(e):void 0,n=t?IC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!xM(e[o],t[o]))return!1;return!0}function IC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function xM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function TM(e){return e.length>0?e[e.length-1]:null}function Nc(e){return function zU(e){return!!e&&(e instanceof In||Ie(e.lift)&&Ie(e.subscribe))}(e)?e:Ep(e)?Cr(Promise.resolve(e)):Bt(e)}const lH={exact:function kM(e,t,r){if(!Cu(e.segments,t.segments)||!e_(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!kM(e.children[n],t.children[n],r))return!1;return!0},subset:RM},MM={exact:function cH(e,t){return _l(e,t)},subset:function uH(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>xM(e[r],t[r]))},ignored:()=>!0};function AM(e,t,r){return lH[r.paths](e.root,t.root,r.matrixParams)&&MM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function RM(e,t,r){return PM(e,t,t.segments,r)}function PM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!Cu(o,r)||t.hasChildren()||!e_(o,r,n))}if(e.segments.length===r.length){if(!Cu(e.segments,r)||!e_(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!RM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(Cu(e.segments,o)&&e_(e.segments,o,n)&&e.children[Mn])&&PM(e.children[Mn],t,i,n)}}function e_(e,t,r){return t.every((n,o)=>MM[r](e[o].parameters,n.parameters))}class qd{constructor(t=new Pr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return pH.serialize(this)}}class Pr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return t_(this)}}class jp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Zd(this.parameters)),this._parameterMap}toString(){return NM(this)}}function Cu(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let Su=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>new xC,providedIn:"root"}),t})();class xC{parse(t){const r=new EH(t);return new qd(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${Gp(t.root,!0)}`,n=function gH(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${n_(r)}=${n_(o)}`).join("&"):`${n_(r)}=${n_(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function hH(e){return encodeURI(e)}(t.fragment)}`:""}`}}const pH=new xC;function t_(e){return e.segments.map(t=>NM(t)).join("/")}function Gp(e,t){if(!e.hasChildren())return t_(e);if(t){const r=e.children[Mn]?Gp(e.children[Mn],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Mn&&n.push(`${o}:${Gp(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function fH(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===Mn&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==Mn&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===Mn?[Gp(e.children[Mn],!1)]:[`${o}:${Gp(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Mn]?`${t_(e)}/${r[0]}`:`${t_(e)}/(${r.join("//")})`}}function OM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function n_(e){return OM(e).replace(/%3B/gi,";")}function TC(e){return OM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function r_(e){return decodeURIComponent(e)}function FM(e){return r_(e.replace(/\+/g,"%20"))}function NM(e){return`${TC(e.path)}${function mH(e){return Object.keys(e).map(t=>`;${TC(t)}=${TC(e[t])}`).join("")}(e.parameters)}`}const _H=/^[^\/()?;#]+/;function MC(e){const t=e.match(_H);return t?t[0]:""}const vH=/^[^\/()?;=#]+/,bH=/^[^=?&#]+/,SH=/^[^&#]+/;class EH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pr([],{}):new Pr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[Mn]=new Pr(t,r)),n}parseSegment(){const t=MC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Xe(4009,!1);return this.capture(t),new jp(r_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function yH(e){const t=e.match(vH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=MC(this.remaining);o&&(n=o,this.capture(n))}t[r_(r)]=r_(n)}parseQueryParam(t){const r=function CH(e){const t=e.match(bH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function wH(e){const t=e.match(SH);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=FM(r),i=FM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=MC(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Xe(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Mn);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[Mn]:new Pr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Xe(4011,!1)}}function LM(e){return e.segments.length>0?new Pr([],{[Mn]:e}):e}function $M(e){const t={};for(const n of Object.keys(e.children)){const i=$M(e.children[n]);if(n===Mn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function DH(e){if(1===e.numberOfChildren&&e.children[Mn]){const t=e.children[Mn];return new Pr(e.segments.concat(t.segments),t.children)}return e}(new Pr(e.segments,t))}function wu(e){return e instanceof qd}function BM(e){let t;const o=LM(function r(i){const s={};for(const l of i.children){const u=r(l);s[l.outlet]=u}const a=new Pr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function VM(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return AC(o,o,o,r,n);const i=function xH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new GM(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new GM(r,t,n)}(t);if(i.toRoot())return AC(o,o,new Pr([],{}),r,n);const s=function TH(e,t,r){if(e.isAbsolute)return new i_(t,!0,0);if(!r)return new i_(t,!1,NaN);if(null===r.parent)return new i_(r,!0,0);const n=o_(e.commands[0])?0:1;return function MH(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Xe(4005,!1);o=n.segments.length}return new i_(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Hp(s.segmentGroup,s.index,i.commands):UM(s.segmentGroup,s.index,i.commands);return AC(o,s.segmentGroup,a,r,n)}function o_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Up(e){return"object"==typeof e&&null!=e&&e.outlets}function AC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,u])=>{i[l]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),s=e===t?r:jM(e,t,r);const a=LM($M(s));return new qd(a,i,o)}function jM(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:jM(i,t,r)}),new Pr(e.segments,n)}class GM{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&o_(n[0]))throw new Xe(4003,!1);const o=n.find(Up);if(o&&o!==TM(n))throw new Xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class i_{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function UM(e,t,r){if(e||(e=new Pr([],{})),0===e.segments.length&&e.hasChildren())return Hp(e,t,r);const n=function kH(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(Up(a))break;const l=`${a}`,u=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!zM(l,u,s))return i;n+=2}else{if(!zM(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new Pr(e.segments.slice(0,n.pathIndex),{});return i.children[Mn]=new Pr(e.segments.slice(n.pathIndex),e.children),Hp(i,0,o)}return n.match&&0===o.length?new Pr(e.segments,{}):n.match&&!e.hasChildren()?kC(e,t,r):n.match?Hp(e,0,o):kC(e,t,r)}function Hp(e,t,r){if(0===r.length)return new Pr(e.segments,{});{const n=function AH(e){return Up(e[0])?e[0].outlets:{[Mn]:e}}(r),o={};if(Object.keys(n).some(i=>i!==Mn)&&e.children[Mn]&&1===e.numberOfChildren&&0===e.children[Mn].segments.length){const i=Hp(e.children[Mn],t,r);return new Pr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=UM(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new Pr(e.segments,o)}}function kC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(Up(i)){const l=RH(i.outlets);return new Pr(n,l)}if(0===o&&o_(r[0])){n.push(new jp(e.segments[t].path,HM(r[0]))),o++;continue}const s=Up(i)?i.outlets[Mn]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&o_(a)?(n.push(new jp(s,HM(a))),o+=2):(n.push(new jp(s,{})),o++)}return new Pr(n,{})}function RH(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=kC(new Pr([],{}),0,n))}),t}function HM(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function zM(e,t,r){return e==r.path&&_l(t,r.parameters)}const zp="imperative";class vl{constructor(t,r){this.id=t,this.url=r}}class Wp extends vl{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kl extends vl{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yd extends vl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kd extends vl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class s_ extends vl{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class WM extends vl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PH extends vl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OH extends vl{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class FH extends vl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NH extends vl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $H{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZM{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class RC{}class PC{constructor(t){this.url=t}}class UH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Eu,this.attachRef=null}}let Eu=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new UH,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class qM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=OC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=OC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=FC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return FC(t,this._root).map(r=>r.value)}}function OC(e,t){if(e===t.value)return t;for(const r of t.children){const n=OC(e,r);if(n)return n}return null}function FC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=FC(e,r);if(n.length)return n.unshift(t),n}return[]}class Oa{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Xd(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class YM extends qM{constructor(t,r){super(t),this.snapshot=r,$C(this,t)}toString(){return this.snapshot.toString()}}function KM(e,t){const r=function HH(e,t){const s=new LC([],{},{},"",{},Mn,t,null,{});return new XM("",new Oa(s,[]))}(0,t),n=new po([new jp("",{})]),o=new po({}),i=new po({}),s=new po({}),a=new po(""),l=new yl(n,o,s,a,i,Mn,t,r.root);return l.snapshot=r.root,new YM(new Oa(l,[]),r)}class yl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(an(u=>u[Vp]))??Bt(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(an(t=>Zd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(an(t=>Zd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&JM(o)&&(n.resolve[Vp]=o.title),n}class LC{get title(){return this.data?.[Vp]}constructor(t,r,n,o,i,s,a,l,u){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XM extends qM{constructor(t,r){super(r),this.url=t,$C(this,r)}toString(){return QM(this._root)}}function $C(e,t){t.value._routerState=e,t.children.forEach(r=>$C(e,r))}function QM(e){const t=e.children.length>0?` { ${e.children.map(QM).join(", ")} } `:"";return`${e.value}${t}`}function BC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,_l(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),_l(t.params,r.params)||e.paramsSubject.next(r.params),function aH(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!_l(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),_l(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function VC(e,t){const r=_l(e.params,t.params)&&function dH(e,t){return Cu(e,t)&&e.every((r,n)=>_l(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||VC(e.parent,t.parent))}function JM(e){return"string"==typeof e.title||null===e.title}let eA=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mn,this.activateEvents=new nn,this.deactivateEvents=new nn,this.attachEvents=new nn,this.detachEvents=new nn,this.parentContexts=it(Eu),this.location=it(ds),this.changeDetector=it(ct),this.environmentInjector=it(di),this.inputBinder=it(a_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Xe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Xe(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new zH(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:u,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[sr]}),t})();class zH{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===yl?this.route:t===Eu?this.childContexts:this.parent.get(t,r)}}const a_=new Me("");let tA=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=Kg([o.queryParams,o.params,o.data]).pipe(eo(([s,a,l],u)=>(l={...s,...a,...l},0===u?Bt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=eT(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function Zp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function ZH(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return Zp(e,n,o);return Zp(e,n)})}(e,t,r);return new Oa(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Zp(e,a)),s}}const n=function qH(e){return new yl(new po(e.url),new po(e.params),new po(e.queryParams),new po(e.fragment),new po(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Zp(e,i));return new Oa(n,o)}}const jC="ngNavigationCancelingError";function nA(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=wu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=rA(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function rA(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[jC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function oA(e){return e&&e[jC]}let iA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[pg],decls:1,vars:0,template:function(n,o){1&n&&je(0,"router-outlet")},dependencies:[eA],encapsulation:2}),t})();function GC(e){const t=e.children&&e.children.map(GC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Mn&&(r.component=iA),r}function bl(e){return e.outlet||Mn}function qp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class n6{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),BC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Xd(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Xd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Xd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Xd(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new GH(i.value.snapshot))}),t.children.length&&this.forwardEvent(new VH(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(BC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),BC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=qp(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class sA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class l_{constructor(t,r){this.component=t,this.route=r}}function r6(e,t,r){const n=e._root;return Yp(n,t?t._root:null,r,[n.value])}function Qd(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function Kt(e){return null!==rn(e)}(e)?t.get(e):e:n}function Yp(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Xd(t);return e.children.forEach(s=>{(function i6(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function s6(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Cu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Cu(e.url,t.url)||!_l(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VC(e,t)||!_l(e.queryParams,t.queryParams);default:return!VC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new sA(n)):(i.data=s.data,i._resolvedData=s._resolvedData),Yp(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new l_(a.outlet.component,s))}else s&&Kp(t,a,o),o.canActivateChecks.push(new sA(n)),Yp(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Kp(a,r.getContext(s),o)),o}function Kp(e,t,r){const n=Xd(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Kp(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new l_(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Xp(e){return"function"==typeof e}function aA(e){return e instanceof Xg||"EmptyError"===e?.name}const c_=Symbol("INITIAL_VALUE");function Jd(){return eo(e=>Kg(e.map(t=>t.pipe(Wd(1),wM(c_)))).pipe(an(t=>{for(const r of t)if(!0!==r){if(r===c_)return c_;if(!1===r||r instanceof qd)return r}return!0}),Pa(t=>t!==c_),Wd(1)))}function lA(e){return function Xr(...e){return vo(e)}(Ti(t=>{if(wu(t))throw nA(0,t)}),an(t=>!0===t))}class UC{constructor(t){this.segmentGroup=t||null}}class HC extends Error{constructor(t){super(),this.urlTree=t}}function ef(e){return Qg(new UC(e))}class I6{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Bt(n);if(o.numberOfChildren>1||!o.children[Mn])return Qg(new Xe(4e3,!1));o=o.children[Mn]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new HC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new qd(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new Pr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Xe(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const zC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x6(e,t,r,n,o){const i=WC(e,t,r);return i.matched?(n=function KH(e,t){return e.providers&&!e._injector&&(e._injector=pb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function w6(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Bt(o.map(s=>{const a=Qd(s,e);return Nc(function f6(e){return e&&Xp(e.canMatch)}(a)?a.canMatch(t,r):_c(e,()=>a(t,r)))})).pipe(Jd(),lA()):Bt(!0)}(n,t,r).pipe(an(s=>!0===s?i:{...zC}))):Bt(i)}function WC(e,t,r){if("**"===t.path)return function T6(e){return{matched:!0,parameters:e.length>0?TM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...zC}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||sH)(r,e,t);if(!o)return{...zC};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function cA(e,t,r,n){return r.length>0&&function k6(e,t,r){return r.some(n=>u_(e,t,n)&&bl(n)!==Mn)}(e,r,n)?{segmentGroup:new Pr(t,A6(n,new Pr(r,e.children))),slicedSegments:[]}:0===r.length&&function R6(e,t,r){return r.some(n=>u_(e,t,n))}(e,r,n)?{segmentGroup:new Pr(e.segments,M6(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Pr(e.segments,e.children),slicedSegments:r}}function M6(e,t,r,n,o){const i={};for(const s of n)if(u_(e,r,s)&&!o[bl(s)]){const a=new Pr([],{});i[bl(s)]=a}return{...o,...i}}function A6(e,t){const r={};r[Mn]=t;for(const n of e)if(""===n.path&&bl(n)!==Mn){const o=new Pr([],{});r[bl(n)]=o}return r}function u_(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class F6{}class $6{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new I6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Xe(4002,`'${t.segmentGroup}'`)}recognize(){const t=cA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(an(r=>{const n=new LC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Mn,this.rootComponentType,null,{}),o=new Oa(n,r),i=new XM("",o),s=function IH(e,t,r=null,n=null){return VM(BM(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Mn).pipe(bu(n=>{if(n instanceof HC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof UC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=NC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(an(i=>i instanceof Oa?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return Cr(o).pipe(Hd(i=>{const s=n.children[i],a=function e6(e,t){const r=e.filter(n=>bl(n)===t);return r.push(...e.filter(n=>bl(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function rH(e,t){return xn(function nH(e,t,r,n,o){return(i,s)=>{let a=r,l=t,u=0;i.subscribe(Bn(s,f=>{const h=u++;l=a?e(l,f,h):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Jg(null),function oH(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Pa((o,i)=>e(o,i,n)):Zn,DC(1),r?Jg(t):EM(()=>new Xg))}(),Gn(i=>{if(null===i)return ef(n);const s=uA(i);return function B6(e){e.sort((t,r)=>t.value.outlet===Mn?-1:r.value.outlet===Mn?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Bt(s)}))}processSegment(t,r,n,o,i,s){return Cr(r).pipe(Hd(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(bu(l=>{if(l instanceof UC)return Bt(null);throw l}))),Fc(a=>!!a),bu(a=>{if(aA(a))return function O6(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Bt(new F6):ef(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function P6(e,t,r,n){return!!(bl(e)===n||n!==Mn&&u_(t,r,e))&&WC(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):ef(o):ef(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:f}=WC(r,o,i);if(!a)return ef(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,u);return this.applyRedirects.lineralizeSegments(o,h).pipe(Gn(m=>this.processSegment(t,n,r,m.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=x6(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(eo(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(eo(({routes:l})=>{const u=n._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:m}=a,b=new LC(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function j6(e){return e.data||{}}(n),bl(n),n.component??n._loadedComponent??null,n,function G6(e){return e.resolve||{}}(n)),{segmentGroup:j,slicedSegments:ee}=cA(r,f,h,l);if(0===ee.length&&j.hasChildren())return this.processChildren(u,l,j).pipe(an(ye=>null===ye?null:new Oa(b,ye)));if(0===l.length&&0===ee.length)return Bt(new Oa(b,[]));const he=bl(n)===i;return this.processSegment(u,l,j,ee,he?Mn:i,!0).pipe(an(ye=>new Oa(b,ye instanceof Oa?[ye]:[])))})):ef(r)))}getChildConfig(t,r,n){return r.children?Bt({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Bt({routes:r._loadedRoutes,injector:r._loadedInjector}):function S6(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Bt(!0):Bt(o.map(s=>{const a=Qd(s,e);return Nc(function l6(e){return e&&Xp(e.canLoad)}(a)?a.canLoad(t,r):_c(e,()=>a(t,r)))})).pipe(Jd(),lA())}(t,r,n).pipe(Gn(o=>o?this.configLoader.loadChildren(t,r).pipe(Ti(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function D6(e){return Qg(rA(!1,3))}())):Bt({routes:[],injector:t})}}function V6(e){const t=e.value.routeConfig;return t&&""===t.path}function uA(e){const t=[],r=new Set;for(const n of e){if(!V6(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=uA(n.children);t.push(new Oa(n.value,o))}return t.filter(n=>!r.has(n))}function dA(e){const t=e.children.map(r=>dA(r)).flat();return[e,...t]}function ZC(e){return eo(t=>{const r=e(t);return r?Cr(r).pipe(an(()=>t)):Bt(t)})}let fA=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===Mn);return o}getResolvedTitleForRoute(n){return n.data[Vp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(q6),providedIn:"root"}),t})(),q6=(()=>{var e;class t extends fA{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(UT))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const tf=new Me("",{providedIn:"root",factory:()=>({})}),nf=new Me("ROUTES");let qC=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=it(mx)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Bt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=Nc(n.loadComponent()).pipe(an(pA),Ti(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Lp(()=>{this.componentLoaders.delete(n)})),i=new SM(o,()=>new Fn).pipe(EC());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Bt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function Y6(e,t,r,n){return Nc(e.loadChildren()).pipe(an(pA),Gn(o=>o instanceof RI||Array.isArray(o)?Bt(o):Cr(t.compileModuleAsync(o))),an(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(nf,[],{optional:!0,self:!0}).flat()),{routes:s.map(GC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(Lp(()=>{this.childrenLoaders.delete(o)})),a=new SM(s,()=>new Fn).pipe(EC());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function pA(e){return function K6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let YC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(X6),providedIn:"root"}),t})(),X6=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const hA=new Me(""),mA=new Me("");function Q6(e,t,r){const n=e.get(mA),o=e.get(fi);return e.get(Ue).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),function J6(e){return new Promise(t=>{sD(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&_c(e,()=>l({transition:a,from:t,to:r})),s})}let d_=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fn,this.transitionAbortSubject=new Fn,this.configLoader=it(qC),this.environmentInjector=it(di),this.urlSerializer=it(Su),this.rootContexts=it(Eu),this.location=it(Mc),this.inputBindingEnabled=null!==it(a_,{optional:!0}),this.titleStrategy=it(fA),this.options=it(tf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=it(YC),this.createViewTransition=it(hA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Bt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new $H(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new LH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new po({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:zp,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pa(s=>0!==s.id),an(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),eo(s=>{this.currentTransition=s;let a=!1,l=!1;return Bt(s).pipe(Ti(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),eo(u=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(u.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new Kd(u.id,this.urlSerializer.serialize(u.rawUrl),m,0)),u.resolve(null),Ao}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Bt(u).pipe(eo(m=>{const b=this.transitions?.getValue();return this.events.next(new Wp(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),b!==this.transitions?.getValue()?Ao:Promise.resolve(m)}),function U6(e,t,r,n,o,i){return Gn(s=>function N6(e,t,r,n,o,i,s="emptyOnly"){return new $6(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(an(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ti(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const b=new WM(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:m,extractedUrl:b,source:j,restoredState:ee,extras:he}=u,ye=new Wp(m,this.urlSerializer.serialize(b),j,ee);this.events.next(ye);const De=KM(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:De,urlAfterRedirects:b,extras:{...he,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Bt(s)}{const m="";return this.events.next(new Kd(u.id,this.urlSerializer.serialize(u.extractedUrl),m,1)),u.resolve(null),Ao}}),Ti(u=>{const f=new PH(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),an(u=>(this.currentTransition=s={...u,guards:r6(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function h6(e,t){return Gn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Bt({...r,guardsResult:!0}):function m6(e,t,r,n){return Cr(e).pipe(Gn(o=>function C6(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Bt(i.map(a=>{const l=qp(t)??o,u=Qd(a,l);return Nc(function d6(e){return e&&Xp(e.canDeactivate)}(u)?u.canDeactivate(e,t,r,n):_c(l,()=>u(e,t,r,n))).pipe(Fc())})).pipe(Jd()):Bt(!0)}(o.component,o.route,r,t,n)),Fc(o=>!0!==o,!0))}(s,n,o,e).pipe(Gn(a=>a&&function a6(e){return"boolean"==typeof e}(a)?function g6(e,t,r,n){return Cr(t).pipe(Hd(o=>wC(function v6(e,t){return null!==e&&t&&t(new BH(e)),Bt(!0)}(o.route.parent,n),function _6(e,t){return null!==e&&t&&t(new jH(e)),Bt(!0)}(o.route,n),function b6(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function o6(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>CM(()=>Bt(s.guards.map(l=>{const u=qp(s.node)??r,f=Qd(l,u);return Nc(function u6(e){return e&&Xp(e.canActivateChild)}(f)?f.canActivateChild(n,e):_c(u,()=>f(n,e))).pipe(Fc())})).pipe(Jd())));return Bt(i).pipe(Jd())}(e,o.path,r),function y6(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Bt(!0);const o=n.map(i=>CM(()=>{const s=qp(t)??r,a=Qd(i,s);return Nc(function c6(e){return e&&Xp(e.canActivate)}(a)?a.canActivate(t,e):_c(s,()=>a(t,e))).pipe(Fc())}));return Bt(o).pipe(Jd())}(e,o.route,r))),Fc(o=>!0!==o,!0))}(n,i,e,t):Bt(a)),an(a=>({...r,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Ti(u=>{if(s.guardsResult=u.guardsResult,wu(u.guardsResult))throw nA(0,u.guardsResult);const f=new OH(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Pa(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),ZC(u=>{if(u.guards.canActivateChecks.length)return Bt(u).pipe(Ti(f=>{const h=new FH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}),eo(f=>{let h=!1;return Bt(f).pipe(function H6(e,t){return Gn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Bt(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const u of dA(l))s.add(u);let a=0;return Cr(s).pipe(Hd(l=>i.has(l)?function z6(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!JM(o)&&(i[Vp]=o.title),function W6(e,t,r,n){const o=IC(e);if(0===o.length)return Bt({});const i={};return Cr(o).pipe(Gn(s=>function Z6(e,t,r,n){const o=qp(t)??n,i=Qd(e,o);return Nc(i.resolve?i.resolve(t,r):_c(o,()=>i(t,r)))}(e[s],t,r,n).pipe(Fc(),Ti(a=>{i[s]=a}))),DC(1),DM(i),bu(s=>aA(s)?Ao:Qg(s)))}(i,e,t,n).pipe(an(s=>(e._resolvedData=s,e.data=NC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=NC(l,l.parent,e).resolve,Bt(void 0))),Ti(()=>a++),DC(1),Gn(l=>a===s.size?Bt(r):Ao))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ti({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(f,"",2)}}))}),Ti(f=>{const h=new NH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}))}),ZC(u=>{const f=h=>{const m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ti(b=>{h.component=b}),an(()=>{})));for(const b of h.children)m.push(...f(b));return m};return Kg(f(u.targetSnapshot.root)).pipe(Jg(),Wd(1))}),ZC(()=>this.afterPreactivation()),eo(()=>{const{currentSnapshot:u,targetSnapshot:f}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,f.root);return h?Cr(h).pipe(an(()=>s)):Bt(s)}),an(u=>{const f=function WH(e,t,r){const n=Zp(e,t._root,r?r._root:void 0);return new YM(n,t)}(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Ti(()=>{this.events.next(new RC)}),((e,t,r,n)=>an(o=>(new n6(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Wd(1),Ti({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Kl(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),IM(this.transitionAbortSubject.pipe(Ti(u=>{throw u}))),Lp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),bu(u=>{if(l=!0,oA(u))this.events.next(new Yd(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function YH(e){return oA(e)&&wu(e.url)}(u)?this.events.next(new PC(u.url)):s.resolve(!1);else{this.events.next(new s_(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(f){s.reject(f)}}return Ao}))}))}cancelNavigationTransition(n,o,i){const s=new Yd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function ez(e){return e!==zp}let gA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(nz),providedIn:"root"}),t})();class tz{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let nz=(()=>{var e;class t extends tz{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Zr(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),_A=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(rz),providedIn:"root"}),t})(),rz=(()=>{var e;class t extends _A{constructor(){super(...arguments),this.location=it(Mc),this.urlSerializer=it(Su),this.options=it(tf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=it(YC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=KM(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof Wp)this.stateMemento=this.createStateMemento();else if(n instanceof Kd)this.rawUrlTree=o.initialUrl;else if(n instanceof WM){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof RC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof Yd&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof s_?this.restoreHistory(o,!0):n instanceof Kl&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Zr(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Qp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Qp||{});function vA(e,t){e.events.pipe(Pa(r=>r instanceof Kl||r instanceof Yd||r instanceof s_||r instanceof Kd),an(r=>r instanceof Kl||r instanceof Kd?Qp.COMPLETE:r instanceof Yd&&(0===r.code||1===r.code)?Qp.REDIRECTING:Qp.FAILED),Pa(r=>r!==Qp.REDIRECTING),Wd(1)).subscribe(()=>{t()})}function oz(e){throw e}const iz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ho=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=it(hx),this.stateManager=it(_A),this.options=it(tf,{optional:!0})||{},this.pendingTasks=it(vg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=it(d_),this.urlSerializer=it(Su),this.location=it(Mc),this.urlHandlingStrategy=it(YC),this._events=new Fn,this.errorHandler=this.options.errorHandler||oz,this.navigated=!1,this.routeReuseStrategy=it(gA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=it(nf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!it(a_,{optional:!0}),this.eventsSubscription=new ot,this.isNgZoneEnabled=it(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof Yd&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof Kl)this.navigated=!0;else if(o instanceof PC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ez(i.source)};this.scheduleNavigation(a,zp,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function lz(e){return!(e instanceof RC||e instanceof PC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),zp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(GC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:u}=o,f=u?this.currentUrlTree.fragment:a;let m,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{m=BM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return VM(m,n,h,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=wu(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,zp,null,o)}navigate(n,o={skipLocationChange:!1}){return function az(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Xe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...iz}:!1===o?{...sz}:o,wu(n))return AM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return AM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,u,f;a?(l=a.resolve,u=a.reject,f=a.promise):f=new Promise((m,b)=>{l=m,u=b});const h=this.pendingTasks.add();return vA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class yA{}let dz=(()=>{var e;class t{preload(n,o){return o().pipe(bu(()=>Bt(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),fz=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Pa(n=>n instanceof Kl),Hd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=pb(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Cr(i).pipe($o())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Bt(null);const s=i.pipe(Gn(a=>null===a?Bt(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?Cr([s,this.loader.loadComponent(o)]).pipe($o()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ho),ue(mx),ue(di),ue(yA),ue(qC))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const KC=new Me("");let bA=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Wp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Kl?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Kd&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ZM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ZM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function FE(){throw new Error("invalid")}()},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function Cl(e,t){return{\u0275kind:e,\u0275providers:t}}function SA(){const e=it(qr);return t=>{const r=e.get(Aa);if(t!==r.components[0])return;const n=e.get(Ho),o=e.get(wA);1===e.get(XC)&&n.initialNavigation(),e.get(EA,null,Ft.Optional)?.setUpPreloading(),e.get(KC,null,Ft.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const wA=new Me("",{factory:()=>new Fn}),XC=new Me("",{providedIn:"root",factory:()=>1}),EA=new Me("");function gz(e){return Cl(0,[{provide:EA,useExisting:fz},{provide:yA,useExisting:e}])}function vz(e){return Cl(9,[{provide:hA,useValue:Q6},{provide:mA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const DA=new Me("ROUTER_FORROOT_GUARD"),yz=[Mc,{provide:Su,useClass:xC},Ho,Eu,{provide:yl,useFactory:function CA(e){return e.routerState.root},deps:[Ho]},qC,[]];let f_=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[yz,[],{provide:nf,multi:!0,useValue:n},{provide:DA,useFactory:wz,deps:[[Ho,new cm,new um]]},{provide:tf,useValue:o||{}},o?.useHash?{provide:ml,useClass:oT}:{provide:ml,useClass:rT},{provide:KC,useFactory:()=>{const e=it(lG),t=it(Ue),r=it(tf),n=it(d_),o=it(Su);return r.scrollOffset&&e.setOffset(r.scrollOffset),new bA(o,n,e,t,r)}},o?.preloadingStrategy?gz(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?Ez(o):[],o?.bindToComponentInputs?Cl(8,[tA,{provide:a_,useExisting:tA}]).\u0275providers:[],o?.enableViewTransitions?vz().\u0275providers:[],[{provide:IA,useFactory:SA},{provide:Ab,multi:!0,useExisting:IA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:nf,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(DA,8))},e.\u0275mod=to({type:e}),e.\u0275inj=tt({}),t})();function wz(e){return"guarded"}function Ez(e){return["disabled"===e.initialNavigation?Cl(3,[{provide:Ap,multi:!0,useFactory:()=>{const t=it(Ho);return()=>{t.setUpLocationChangeListener()}}},{provide:XC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Cl(2,[{provide:XC,useValue:0},{provide:Ap,multi:!0,deps:[qr],useFactory:t=>{const r=t.get(U4,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(Ho),i=t.get(wA);vA(o,()=>{n(!0)}),t.get(d_).afterPreactivation=()=>(n(!0),i.closed?Bt(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const IA=new Me("");class Iz{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const Lc=new Iz,MA=e=>kA(e),kA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=kz(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},kz=e=>{const t=Lc.get("platform");return Object.keys(NA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):NA[r](e)})},QC=e=>!!(Du(e,/iPad/i)||Du(e,/Macintosh/i)&&p_(e)),RA=e=>Du(e,/android|sink/i),p_=e=>jz(e,"(any-pointer:coarse)"),PA=e=>OA(e)||FA(e),OA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),FA=e=>{const t=e.Capacitor;return!!t?.isNative},Du=(e,t)=>t.test(e.navigator.userAgent),jz=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},NA={ipad:QC,iphone:e=>Du(e,/iPhone/i),ios:e=>Du(e,/iPhone|iPod/i)||QC(e),android:RA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return QC(e)||(e=>RA(e)&&!Du(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:OA,capacitor:FA,electron:e=>Du(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:p_,mobileweb:e=>p_(e)&&!PA(e),desktop:e=>!p_(e),hybrid:PA};var eh=C(7687),Gz=C(276);const Uz=["addListener","removeListener"],Hz=["addEventListener","removeEventListener"],zz=["on","off"];function h_(e,t,r,n){if(Ie(r)&&(n=r,r=void 0),n)return h_(e,t,r).pipe(SC(n));const[o,i]=function qz(e){return Ie(e.addEventListener)&&Ie(e.removeEventListener)}(e)?Hz.map(s=>a=>e[s](t,a,r)):function Wz(e){return Ie(e.addListener)&&Ie(e.removeListener)}(e)?Uz.map(LA(e,t)):function Zz(e){return Ie(e.on)&&Ie(e.off)}(e)?zz.map(LA(e,t)):[];if(!o&&es(e))return Gn(s=>h_(s,t,r))(Ve(e));if(!o)throw new TypeError("Invalid event target");return new In(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function LA(e,t){return r=>n=>e[r](t,n)}let $A=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ul),v(rt))},e.\u0275dir=kt({type:e}),t})(),Iu=(()=>{var e;class t extends $A{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Zr(e)))(o||e)}})(),e.\u0275dir=kt({type:e,features:[Dn]}),t})();const Gi=new Me("NgValueAccessor"),Xz={provide:Gi,useExisting:Hn(()=>JC),multi:!0},Jz=new Me("CompositionEventMode");let JC=(()=>{var e;class t extends $A{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Qz(){const e=Tc()?Tc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ul),v(rt),v(Jz,8))},e.\u0275dir=kt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Le("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[ar([Xz]),Dn]}),t})();function $c(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function VA(e){return null!=e&&"number"==typeof e.length}const pi=new Me("NgValidators"),Bc=new Me("NgAsyncValidators"),e5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class th{static min(t){return jA(t)}static max(t){return GA(t)}static required(t){return function UA(e){return $c(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function HA(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function zA(e){return $c(e.value)||e5.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function WA(e){return t=>$c(t.value)||!VA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return ZA(t)}static pattern(t){return function qA(e){if(!e)return m_;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if($c(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return ek(t)}static composeAsync(t){return tk(t)}}function jA(e){return t=>{if($c(t.value)||$c(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function GA(e){return t=>{if($c(t.value)||$c(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function ZA(e){return t=>VA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function m_(e){return null}function YA(e){return null!=e}function KA(e){return Ep(e)?Cr(e):e}function XA(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function QA(e,t){return t.map(r=>r(e))}function JA(e){return e.map(t=>function t5(e){return!e.validate}(t)?t:r=>t.validate(r))}function ek(e){if(!e)return null;const t=e.filter(YA);return 0==t.length?null:function(r){return XA(QA(r,t))}}function e0(e){return null!=e?ek(JA(e)):null}function tk(e){if(!e)return null;const t=e.filter(YA);return 0==t.length?null:function(r){return function Yz(...e){const t=fa(e),{args:r,keys:n}=vM(e),o=new In(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,u=s;for(let f=0;f<s;f++){let h=!1;Ve(r[f]).subscribe(Bn(i,m=>{h||(h=!0,u--),a[f]=m},()=>l--,void 0,()=>{(!l||!h)&&(u||i.next(n?yM(n,a):a),i.complete())}))}});return t?o.pipe(SC(t)):o}(QA(r,t).map(KA)).pipe(an(XA))}}function t0(e){return null!=e?tk(JA(e)):null}function nk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function rk(e){return e._rawValidators}function ok(e){return e._rawAsyncValidators}function n0(e){return e?Array.isArray(e)?e:[e]:[]}function g_(e,t){return Array.isArray(e)?e.includes(t):e===t}function ik(e,t){const r=n0(t);return n0(e).forEach(o=>{g_(r,o)||r.push(o)}),r}function sk(e,t){return n0(t).filter(r=>!g_(e,r))}class ak{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=e0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=t0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Ui extends ak{get formDirective(){return null}get path(){return null}}class Xl extends ak{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lk{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ql=(()=>{var e;class t extends lk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Xl,2))},e.\u0275dir=kt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&ta("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Dn]}),t})(),Jl=(()=>{var e;class t extends lk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ui,10))},e.\u0275dir=kt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&ta("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Dn]}),t})();const nh="VALID",v_="INVALID",sf="PENDING",rh="DISABLED";function s0(e){return(y_(e)?e.validators:e)||null}function a0(e,t){return(y_(t)?t.asyncValidators:e)||null}function y_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class fk{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===nh}get invalid(){return this.status===v_}get pending(){return this.status==sf}get disabled(){return this.status===rh}get enabled(){return this.status!==rh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ik(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ik(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(sk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(sk(t,this._rawAsyncValidators))}hasValidator(t){return g_(this._rawValidators,t)}hasAsyncValidator(t){return g_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=sf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=rh,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=nh,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nh||this.status===sf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rh:nh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=sf,this._hasOwnPendingAsyncValidator=!0;const r=KA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new nn,this.statusChanges=new nn}_calculateStatus(){return this._allControlsDisabled()?rh:this.errors?v_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sf)?sf:this._anyControlsHaveStatus(v_)?v_:nh}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){y_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function i5(e){return Array.isArray(e)?e0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function s5(e){return Array.isArray(e)?t0(e):e||null}(this._rawAsyncValidators)}}class Vc extends fk{constructor(t,r,n){super(s0(r),a0(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function dk(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Xe(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function uk(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Xe(1e3,"");if(!n[r])throw new Xe(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const b_=Vc,xu=new Me("CallSetDisabledState",{providedIn:"root",factory:()=>oh}),oh="always";function ih(e,t,r=oh){l0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function c5(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&pk(e,t)})}(e,t),function d5(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function u5(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&pk(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function l5(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function S_(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),E_(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function w_(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function l0(e,t){const r=rk(e);null!==t.validator?e.setValidators(nk(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=ok(e);null!==t.asyncValidator?e.setAsyncValidators(nk(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();w_(t._rawValidators,o),w_(t._rawAsyncValidators,o)}function E_(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=rk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=ok(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return w_(t._rawValidators,n),w_(t._rawAsyncValidators,n),r}function pk(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function gk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function _k(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const ps=class extends fk{constructor(t=null,r,n){super(s0(r),a0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),y_(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=_k(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){_k(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},zo=ps;let ec=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),wk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({}),t})();const p0=new Me("NgModelWithFormControlWarning"),D5={provide:Ui,useExisting:Hn(()=>Fa)};let Fa=(()=>{var e;class t extends Ui{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nn,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(E_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return ih(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){S_(n.control||null,n,!1),function m5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function mk(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(S_(o||null,n),(e=>e instanceof ps)(i)&&(ih(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function hk(e,t){l0(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function f5(e,t){return E_(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){l0(this.form,this),this._oldForm&&E_(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(v(pi,10),v(Bc,10),v(xu,8))},e.\u0275dir=kt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Le("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ar([D5]),Dn,sr]}),t})();const T5={provide:Xl,useExisting:Hn(()=>Sl)};let Sl=(()=>{var e;class t extends Xl{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new nn,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function d0(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===JC?r=i:function h5(e){return Object.getPrototypeOf(e.constructor)===Iu}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function u0(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function C_(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(v(Ui,13),v(pi,10),v(Bc,10),v(Gi,10),v(p0,8))},e.\u0275dir=kt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[ar([T5]),Dn,sr]}),t})();function kk(e){return"number"==typeof e?e:parseFloat(e)}let Tu=(()=>{var e;class t{constructor(){this._validator=m_}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):m_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,features:[sr]}),t})();const F5={provide:pi,useExisting:Hn(()=>v0),multi:!0};let v0=(()=>{var e;class t extends Tu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>kk(n),this.createValidator=n=>GA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Zr(e)))(o||e)}})(),e.\u0275dir=kt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Fs("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[ar([F5]),Dn]}),t})();const N5={provide:pi,useExisting:Hn(()=>y0),multi:!0};let y0=(()=>{var e;class t extends Tu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>kk(n),this.createValidator=n=>jA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Zr(e)))(o||e)}})(),e.\u0275dir=kt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Fs("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[ar([N5]),Dn]}),t})();const j5={provide:pi,useExisting:Hn(()=>C0),multi:!0};let C0=(()=>{var e;class t extends Tu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function Ak(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>ZA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Zr(e)))(o||e)}})(),e.\u0275dir=kt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Fs("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ar([j5]),Dn]}),t})(),Nk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[wk]}),t})(),Mu=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:xu,useValue:n.callSetDisabledState??oh}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[Nk]}),t})(),D_=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:p0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:xu,useValue:n.callSetDisabledState??oh}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[Nk]}),t})();const H5=["tabsInner"];let z5=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new Fn,this.keyboardDidShow=new Fn,this.keyboardDidHide=new Fn,this.pause=new Fn,this.resume=new Fn,this.resize=new Fn,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},af(this.pause,r,"pause",n),af(this.resume,r,"resume",n),af(this.backButton,r,"ionBackButton",n),af(this.resize,this.win,"resize",n),af(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),af(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),MA(e).includes(t)))(this.win,r)}platforms(){return MA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return W5(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ue(fi),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const W5=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},af=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let lf=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=Lk,this.animated=$k,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Wp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,B.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=Z5(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=Lk,this.animated=$k,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ue(z5),ue(Mc),ue(Su),ue(Ho,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Z5=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},Lk="auto",$k=void 0;let ah=(()=>{class e{get(r,n){const o=S0();return o?o.get(r,n):null}getBoolean(r,n){const o=S0();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=S0();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Bk=new Me("USERCONFIG"),S0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class Vk{constructor(t={}){this.data=t}get(t){return this.data[t]}}let lh=(()=>{class e{constructor(){this.zone=it(Ue),this.applicationRef=it(Aa)}create(r,n,o){return new q5(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),e})();class q5{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(Y5(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const Y5=(e,t,r,n,o,i,s,a,l,u,f)=>{const m=function V4(e,t){const r=Rn(e),n=t.elementInjector||mm();return new ap(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:qr.create({providers:X5(l),parent:r})}),b=m.instance,j=m.location.nativeElement;if(l&&(f&&void 0!==b[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(b,l)),u)for(const he of u)j.classList.add(he);const ee=jk(e,b,j);return s.appendChild(j),n.attachView(m.hostView),o.set(j,m),i.set(j,ee),j},K5=[eh.L,eh.a,eh.b,eh.c,eh.d],jk=(e,t,r)=>e.run(()=>{const n=K5.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),Gk=new Me("NavParamsToken"),X5=e=>[{provide:Gk,useValue:e},{provide:Vk,useFactory:Q5,deps:[Gk]}],Q5=e=>new Vk(e),J5=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},e8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function I_(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&J5(r,o),i&&e8(r,i),r}}const Uk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),E0=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},Hk=(e,t)=>!t||e.stackId!==t.stackId,u8=(e,t)=>{if(!e)return;const r=zk(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},zk=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),Wk=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class d8{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?zk(t):void 0}createView(t,r){const n=E0(this.router,r),o=t?.location?.nativeElement,i=jk(this.zone,t.instance,o);return{id:this.nextId++,stackId:u8(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=E0(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=Hk(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let u;const f=this.router;f.getCurrentNavigation?u=f.getCurrentNavigation():f.navigations?.value&&(u=f.navigations.value),u?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),m=this.insertView(t,n);h||t.ref.changeDetectorRef.detectChanges();const b=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==b&&(i=b),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>f8(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&Zk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Wk),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?Uk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):Uk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,u=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),u.commit)?u.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,B.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const f8=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Zk(e,t,r,n,o),i()})}):Promise.resolve(),Zk=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(Wk)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let qk=(()=>{class e{constructor(r,n,o,i,s,a,l,u){this.parentOutlet=u,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new po(null),this.activated=null,this._activatedRoute=null,this.name=Mn,this.stackWillChange=new nn,this.stackDidChange=new nn,this.activateEvents=new nn,this.deactivateEvents=new nn,this.parentContexts=it(Eu),this.location=it(ds),this.environmentInjector=it(di),this.inputBinder=it(Yk,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=it(ah),this.navCtrl=it(lf),this.nativeEl=i.nativeElement,this.name=r||Mn,this.tabsPrefix="true"===n?E0(s,l):void 0,this.stackCtrl=new d8(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,Gz.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,u=new po(null),f=this.createActivatedRouteProxy(u,r),h=new p8(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:h,environmentInjector:n??this.environmentInjector}),u.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:Hk(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new yl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(Pa(o=>!!o),eo(o=>this.currentActivatedRoute$.pipe(Pa(i=>null!==i&&i.component===o),eo(i=>i&&i.activatedRoute[n]),qs())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(gc("name"),gc("tabs"),v(Mc),v(rt),v(Ho),v(Ue),v(yl),v(e,12))},e.\u0275dir=kt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class p8{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===yl?this.route:t===Eu?this.childContexts:this.parent.get(t,r)}}const Yk=new Me("");let h8=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=Kg([n.queryParams,n.params,n.data]).pipe(eo(([i,s,a],l)=>(a={...i,...s,...a},0===l?Bt(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=eT(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),e})();function g8(e){return e?.componentInputBindingEnabled?new h8:null}const _8=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let v8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(v(qk,8),v(lf),v(ah),v(rt),v(Ue),v(ct))},e.\u0275dir=kt({type:e,hostBindings:function(r,n){1&r&&Le("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=oe([I_({inputs:_8})],e),e})();const C8=["animated","animation","root","rootParams","swipeGesture"],S8=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let w8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=h_(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(v(rt),v(di),v(qr),v(lh),v(Ue),v(ct))},e.\u0275dir=kt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=oe([I_({inputs:C8,methods:S8})],e),e})(),E8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new nn,this.ionTabsDidChange=new nn,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const u=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...u&&s===u.url&&u.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,u=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...u,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(v(lf))},e.\u0275dir=kt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&Ic(H5,7,rt),2&r){let o;Ls(o=$s())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Le("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const Kk=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let ch=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,cf(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),cf(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),cf(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(Xl)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>cf(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),cf(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(v(qr),v(rt))},e.\u0275dir=kt({type:e,hostBindings:function(r,n){1&r&&Le("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const cf=e=>{Kk(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=D8(t);D0(t,n);const o=t.closest("ion-item");o&&D0(o,r?[...n,"item-has-value"]:n)})},D8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&I8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},D0=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},I8=(e,t)=>e.substring(0,t.length)===t;class x8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class uh{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var I0=C(2723),T8=(C(8044),C(5444),C(5922),C(4923),C(5194)),Xk=C(2984),dh=(C(4656),C(7261)),M8=(C(6940),C(3426));C(4967);const k8=T8.i,Ct=["*"],P8=["outlet"],O8=[[["","slot","top"]],"*"],F8=["[slot=top]","*"];let uf=(()=>{class e extends ch{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,cf(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(v(qr),v(rt))},e.\u0275dir=kt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Le("ionChange",function(i){return n._handleIonChange(i.target)})},features:[ar([{provide:Gi,useExisting:e,multi:!0}]),Dn]}),e})(),x_=(()=>{class e extends ch{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(qr),v(rt))},e.\u0275dir=kt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Le("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[ar([{provide:Gi,useExisting:e,multi:!0}]),Dn]}),e})(),tc=(()=>{class e extends ch{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(qr),v(rt))},e.\u0275dir=kt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Le("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[ar([{provide:Gi,useExisting:e,multi:!0}]),Dn]}),e})();const V8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},j8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},ur=(e,t,r)=>{r.forEach(n=>e[n]=h_(t,n))};function St(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&V8(r,o),i&&j8(r,i),r}}let Qk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-app"]],ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({})],e),e})(),Hi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ur(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),zi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["collapse"]})],e),e})(),Jk=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ur(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Wi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ur(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Zi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["collapse","mode","translucent"]})],e),e})(),Wo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),nc=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ur(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Io=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),T_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),M_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ur(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["side"]})],e),e})(),A_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ur(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),qi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["color","mode","position"]})],e),e})(),Vs=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),x0=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ur(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),k_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ur(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),R_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["disabled","value"]})],e),e})(),fh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["color","duration","name","paused"]})],e),e})(),P_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),eR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Yi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["color","size"]})],e),e})(),ph=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,ur(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Ki=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ct),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=oe([St({inputs:["color","mode"]})],e),e})(),hh=(()=>{class e extends qk{constructor(r,n,o,i,s,a,l,u){super(r,n,o,i,s,a,l,u),this.parentOutlet=u}}return e.\u0275fac=function(r){return new(r||e)(gc("name"),gc("tabs"),v(Mc),v(rt),v(Ho),v(Ue),v(yl),v(e,12))},e.\u0275dir=kt({type:e,selectors:[["ion-router-outlet"]],features:[Dn]}),e})(),tR=(()=>{class e extends E8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Zr(e)))(n||e)}})(),e.\u0275cmp=Ze({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(Nd(o,P_,5),Nd(o,P_,4)),2&r){let i;Ls(i=$s())&&(n.tabBar=i.first),Ls(i=$s())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&Ic(P8,5,hh),2&r){let o;Ls(o=$s())&&(n.outlet=o.first)}},features:[Dn],ngContentSelectors:F8,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(_t(O8),gt(0),z(1,"div",0,1)(3,"ion-router-outlet",2,3),Le("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),L()(),gt(5,1))},dependencies:[hh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),nR=(()=>{class e extends v8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(hh,8),v(lf),v(ah),v(rt),v(Ue),v(ct))},e.\u0275cmp=Ze({type:e,selectors:[["ion-back-button"]],features:[Dn],ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e})(),T0=(()=>{class e extends w8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(rt),v(di),v(qr),v(lh),v(Ue),v(ct))},e.\u0275cmp=Ze({type:e,selectors:[["ion-nav"]],features:[Dn],ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e})();const W7={provide:pi,useExisting:Hn(()=>rR),multi:!0};let rR=(()=>{class e extends v0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Zr(e)))(n||e)}})(),e.\u0275dir=kt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Fs("max",n._enabled?n.max:null)},features:[ar([W7]),Dn]}),e})();const Z7={provide:pi,useExisting:Hn(()=>oR),multi:!0};let oR=(()=>{class e extends y0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=Zr(e)))(n||e)}})(),e.\u0275dir=kt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Fs("min",n._enabled?n.min:null)},features:[ar([Z7]),Dn]}),e})(),M0=(()=>{class e extends uh{constructor(){super(dh.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mh=(()=>{class e extends uh{constructor(){super(dh.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),sa=(()=>{class e extends uh{constructor(){super(dh.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),hs=(()=>{class e extends uh{constructor(){super(dh.m),this.angularDelegate=it(lh),this.injector=it(qr),this.environmentInjector=it(di)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),e})();class rc extends uh{constructor(){super(dh.c),this.angularDelegate=it(lh),this.injector=it(qr),this.environmentInjector=it(di)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const q7=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,Xk.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function A8(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return k8(),(0,M8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Kk,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let jc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:Bk,useValue:r},{provide:Ap,useFactory:q7,multi:!0,deps:[Bk,fi,Ue]},{provide:Yk,useFactory:g8,deps:[Ho]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({providers:[lh,hs,rc],imports:[gl]}),e})();function iR(e,t){(function Y7(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function A0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function gh(e){return(gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ao(e,t,r){return(t=function X7(e){var t=function K7(e,t){if("object"!==gh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==gh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Au={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function sR(e){Au=e}const aR=/[&<>"']/,Q7=new RegExp(aR.source,"g"),lR=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,J7=new RegExp(lR.source,"g"),eW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cR=e=>eW[e];function js(e,t){if(t){if(aR.test(e))return e.replace(Q7,cR)}else if(lR.test(e))return e.replace(J7,cR);return e}const tW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,rW=/(^|[^\[])\^/g;function mr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(rW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function uR(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const O_={exec:()=>null};function dR(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,u=s;for(;--u>=0&&"\\"===a[u];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function F_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function fR(e,t,r,n){const o=t.href,i=t.title?js(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:js(s)}}class N_{constructor(t){ao(this,"options",void 0),ao(this,"rules",void 0),ao(this,"lexer",void 0),this.options=t||Au}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:F_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function iW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=F_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=F_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",u=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let h=r[2].split("\n",1)[0].replace(/^\t+/,ye=>" ".repeat(3*ye.length)),m=t.split("\n",1)[0],b=0;this.options.pedantic?(b=2,l=h.trimStart()):(b=r[2].search(/[^ ]/),b=b>4?1:b,l=h.slice(b),b+=r[1].length);let j=!1;if(!h&&/^ *$/.test(m)&&(a+=m+"\n",t=t.substring(m.length+1),f=!0),!f){const ye=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),De=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),bt=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),vt=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t;){const pt=t.split("\n",1)[0];if(m=pt,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),bt.test(m)||vt.test(m)||ye.test(m)||De.test(t))break;if(m.search(/[^ ]/)>=b||!m.trim())l+="\n"+m.slice(b);else{if(j||h.search(/[^ ]/)>=4||bt.test(h)||vt.test(h)||De.test(h))break;l+="\n"+m}!j&&!m.trim()&&(j=!0),a+=pt+"\n",t=t.substring(pt.length+1),h=m.slice(b)}}i.loose||(u?i.loose=!0:/\n *\n *$/.test(a)&&(u=!0));let he,ee=null;this.options.gfm&&(ee=/^\[[ xX]\] /.exec(l),ee&&(he="[ ] "!==ee[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!ee,checked:he,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const h=i.items[f].tokens.filter(b=>"space"===b.type),m=h.length>0&&h.some(b=>/\n.*\n/.test(b.raw));i.loose=m}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:dR(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const u=n.align[i];u&&(n.align[i]=/^ *-+: *$/.test(u)?"right":/^ *:-+: *$/.test(u)?"center":/^ *:-+ *$/.test(u)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=dR(n.rows[i],n.header.length).map(u=>({text:u,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:js(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=F_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function oW(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),fR(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return fR(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,u=s,f=0;const h="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=h.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){u+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+f);const m=[...o[0]][0].length,b=t.slice(0,s+o.index+m+l);if(Math.min(s,l)%2){const ee=b.slice(1,-1);return{type:"em",raw:b,text:ee,tokens:this.lexer.inlineTokens(ee)}}const j=b.slice(2,-2);return{type:"strong",raw:b,text:j,tokens:this.lexer.inlineTokens(j)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=js(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=js(r[1]),o="mailto:"+n):(n=js(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=js(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=js(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:js(r[0]),{type:"text",raw:r[0],text:n}}}}const Zt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:O_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Zt.def=mr(Zt.def).replace("label",Zt._label).replace("title",Zt._title).getRegex(),Zt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Zt.listItemStart=mr(/^( *)(bull) */).replace("bull",Zt.bullet).getRegex(),Zt.list=mr(Zt.list).replace(/bull/g,Zt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Zt.def.source+")").getRegex(),Zt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Zt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Zt.html=mr(Zt.html,"i").replace("comment",Zt._comment).replace("tag",Zt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Zt.lheading=mr(Zt.lheading).replace(/bull/g,Zt.bullet).getRegex(),Zt.paragraph=mr(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.blockquote=mr(Zt.blockquote).replace("paragraph",Zt.paragraph).getRegex(),Zt.normal={...Zt},Zt.gfm={...Zt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Zt.gfm.table=mr(Zt.gfm.table).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.gfm.paragraph=mr(Zt._paragraph).replace("hr",Zt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Zt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Zt._tag).getRegex(),Zt.pedantic={...Zt.normal,html:mr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Zt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:O_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mr(Zt.normal._paragraph).replace("hr",Zt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Zt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const xt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:O_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:O_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};xt.punctuation=mr(xt.punctuation,"u").replace(/punctuation/g,xt._punctuation).getRegex(),xt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,xt.anyPunctuation=/\\[punct]/g,xt._escapes=/\\([punct])/g,xt._comment=mr(Zt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),xt.emStrong.lDelim=mr(xt.emStrong.lDelim,"u").replace(/punct/g,xt._punctuation).getRegex(),xt.emStrong.rDelimAst=mr(xt.emStrong.rDelimAst,"gu").replace(/punct/g,xt._punctuation).getRegex(),xt.emStrong.rDelimUnd=mr(xt.emStrong.rDelimUnd,"gu").replace(/punct/g,xt._punctuation).getRegex(),xt.anyPunctuation=mr(xt.anyPunctuation,"gu").replace(/punct/g,xt._punctuation).getRegex(),xt._escapes=mr(xt._escapes,"gu").replace(/punct/g,xt._punctuation).getRegex(),xt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,xt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,xt.autolink=mr(xt.autolink).replace("scheme",xt._scheme).replace("email",xt._email).getRegex(),xt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,xt.tag=mr(xt.tag).replace("comment",xt._comment).replace("attribute",xt._attribute).getRegex(),xt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,xt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,xt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,xt.link=mr(xt.link).replace("label",xt._label).replace("href",xt._href).replace("title",xt._title).getRegex(),xt.reflink=mr(xt.reflink).replace("label",xt._label).replace("ref",Zt._label).getRegex(),xt.nolink=mr(xt.nolink).replace("ref",Zt._label).getRegex(),xt.reflinkSearch=mr(xt.reflinkSearch,"g").replace("reflink",xt.reflink).replace("nolink",xt.nolink).getRegex(),xt.normal={...xt},xt.pedantic={...xt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:mr(/^!?\[(label)\]\((.*?)\)/).replace("label",xt._label).getRegex(),reflink:mr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xt._label).getRegex()},xt.gfm={...xt.normal,escape:mr(xt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},xt.gfm.url=mr(xt.gfm.url,"i").replace("email",xt.gfm._extended_email).getRegex(),xt.breaks={...xt.gfm,br:mr(xt.br).replace("{2,}","*").getRegex(),text:mr(xt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class wl{constructor(t){ao(this,"tokens",void 0),ao(this,"options",void 0),ao(this,"state",void 0),ao(this,"tokenizer",void 0),ao(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Au,this.options.tokenizer=this.options.tokenizer||new N_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Zt.normal,inline:xt.normal};this.options.pedantic?(r.block=Zt.pedantic,r.inline=xt.pedantic):this.options.gfm&&(r.block=Zt.gfm,r.inline=this.options.breaks?xt.breaks:xt.gfm),this.tokenizer.rules=r}static get rules(){return{block:Zt,inline:xt}}static lex(t,r){return new wl(r).lex(t)}static lexInline(t,r){return new wl(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,u)=>l+"    ".repeat(u.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let u;this.options.extensions.startBlock.forEach(f=>{u=f.call({lexer:this},l),"number"==typeof u&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,u,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,u)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const h=t.slice(1);let m;this.options.extensions.startInline.forEach(b=>{m=b.call({lexer:this},h),"number"==typeof m&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(u=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class ku{constructor(t){ao(this,"options",void 0),this.options=t||Au}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+js(o)+'">'+(n?t:js(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:js(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=uR(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=uR(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class R0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class El{constructor(t){ao(this,"options",void 0),ao(this,"renderer",void 0),ao(this,"textRenderer",void 0),this.options=t||Au,this.options.renderer=this.options.renderer||new ku,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new R0}static parse(t,r){return new El(r).parse(t)}static parseInline(t,r){return new El(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(tW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let u="";for(let f=0;f<s.rows.length;f++){const h=s.rows[f];l="";for(let m=0;m<h.length;m++)l+=this.renderer.tablecell(this.parseInline(h[m].tokens),{header:!1,align:s.align[m]});u+=this.renderer.tablerow(l)}n+=this.renderer.table(a,u);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,u=s.loose;let f="";for(let h=0;h<s.items.length;h++){const m=s.items[h],b=m.checked,j=m.task;let ee="";if(m.task){const he=this.renderer.checkbox(!!b);u?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=he+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=he+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:he+" "}):ee+=he+" "}ee+=this.parse(m.tokens,u),f+=this.renderer.listitem(ee,j,!!b)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class _h{constructor(t){ao(this,"options",void 0),this.options=t||Au}preprocess(t){return t}postprocess(t){return t}}ao(_h,"passThroughHooks",new Set(["preprocess","postprocess"]));var P0=new WeakSet,pR=new WeakSet;function hR(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=A0(this,pR,aW).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function aW(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+js(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const Ru=new class sW{constructor(...t){iR(this,pR),iR(this,P0),ao(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),ao(this,"options",this.setOptions),ao(this,"parse",A0(this,P0,hR).call(this,wl.lex,El.parse)),ao(this,"parseInline",A0(this,P0,hR).call(this,wl.lexInline,El.parseInline)),ao(this,"Parser",El),ao(this,"Renderer",ku),ao(this,"TextRenderer",R0),ao(this,"Lexer",wl),ao(this,"Tokenizer",N_),ao(this,"Hooks",_h),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new ku(this.defaults);for(const s in n.renderer){const a=n.renderer[s],u=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=u.apply(i,f)),h||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new N_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],u=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=u.apply(i,f)),h}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new _h;for(const s in n.hooks){const a=n.hooks[s],u=i[s];i[s]=_h.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(m=>u.call(i,m));const h=a.call(i,f);return u.call(i,h)}:(...f)=>{let h=a.apply(i,f);return!1===h&&(h=u.apply(i,f)),h}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return wl.lex(t,r??this.defaults)}parser(t,r){return El.parse(t,r??this.defaults)}};function or(e,t){return Ru.parse(e,t)}or.options=or.setOptions=function(e){return Ru.setOptions(e),sR(or.defaults=Ru.defaults),or},or.getDefaults=function k0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},or.defaults=Au,or.use=function(...e){return Ru.use(...e),sR(or.defaults=Ru.defaults),or},or.walkTokens=function(e,t){return Ru.walkTokens(e,t)},or.parseInline=Ru.parseInline,or.Parser=El,or.parser=El.parse,or.Renderer=ku,or.TextRenderer=R0,or.Lexer=wl,or.lexer=wl.lex,or.Tokenizer=N_,or.Hooks=_h,or.parse=or;class lW extends ot{constructor(t,r){super()}schedule(t,r=0){return this}}const L_={setInterval(e,t,...r){const{delegate:n}=L_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=L_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},O0={now:()=>(O0.delegate||Date).now(),delegate:void 0};class vh{constructor(t,r=vh.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}vh.now=O0.now;const dW=new class uW extends vh{constructor(t,r=vh.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class cW extends lW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return L_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&L_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Je(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class hW extends Fn{constructor(t=1/0,r=1/0,n=O0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const gW=["*"];let mR=(()=>{var e;class t{constructor(){this._buttonClick$=new Fn,this.copied$=this._buttonClick$.pipe(eo(()=>ga(Bt(!0),function pW(e=0,t,r=dW){let n=-1;return null!=t&&(da(t)?r=t:n=t),new In(o=>{let i=function fW(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(DM(!1)))),qs(),function mW(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,_a({connector:()=>new hW(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(wM(!1),an(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[pg],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(z(0,"button",0),Le("click",function(){return o.onCopyToClipboardClick()}),pl(1,"async"),Ce(2),pl(3,"async"),L()),2&n&&(ta("copied",hl(1,3,o.copied$)),ge(2),$i(hl(3,5,o.copiedText$)))},dependencies:[ST],encapsulation:2,changeDetection:0}),t})();const yW=new Me("CLIPBOARD_OPTIONS");var F0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(F0||{});const gR=new Me("MARKED_EXTENSIONS"),_R=new Me("MARKED_OPTIONS"),vR=new Me("SECURITY_CONTEXT");let N0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,u){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=u,this.DEFAULT_MARKED_OPTIONS={renderer:new ku},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Fn,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:u}=o,f={...this.options,...o.markedOptions},h=f.renderer||this.renderer||new ku;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const m=this.trimIndentation(n),b=i?this.decodeHtml(m):m,j=a?this.parseEmoji(b):b,ee=this.parseMarked(j,f,s);return(u?ee:this.sanitizer.sanitize(this.securityContext,ee))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:u,mermaid:f,mermaidOptions:h}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(an(o=>this.handleExtension(n,o)))}highlight(n){if(!Gd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Gd(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&or.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",u=l.lastIndexOf("."),f=u>-1?l.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(or.use({renderer:o.renderer}),delete o.renderer),i?or.parseInline(n,o):or.parse(n,o)}parseEmoji(n){if(!Gd(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(Gd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!Gd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let u=0;u<l.length;u++){const f=l.item(u),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const m=document.createElement("div");let b,j;m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.opacity="0",m.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",m),f.onmouseover=()=>m.style.opacity="1",f.onmouseout=()=>m.style.opacity="0",b=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(mR).hostView,b.rootNodes.forEach(ee=>{ee.onmouseover=()=>m.style.opacity="1",m.appendChild(ee),j=new ClipboardJS(ee,{text:()=>f.innerText})}),b.onDestroy(()=>j.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!Gd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(yW,8),ue(gR,8),ue(_R,8),ue(bc),ue(vR),ue(vC,8),ue(hC))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})(),L0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new nn,this.load=new nn,this.ready=new nn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Fn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(IM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,B.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,F0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,F0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const u=this.toLispCase(a);i.item(s).setAttribute(u,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rt),v(N0),v(ds))},e.\u0275cmp=Ze({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[sr,pg],ngContentSelectors:gW,decls:1,vars:0,template:function(n,o){1&n&&(_t(),gt(0))},encapsulation:2}),t})();function TW(e){return[N0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:gR,useValue:e?.markedExtensions??[]},{provide:vR,useValue:e?.sanitize??Ps.HTML}]}let $0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[TW(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[gl]}),t})();var yR;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(yR||(yR={}));const bR="safari"in window,B0=!navigator.userAgent.match(/(crios)|(fxios)/i),Xi=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,yh=!!navigator.userAgent.match(/ 17_4 /),CR=!!navigator.userAgent.match(/android/i),MW=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Pu=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(Pu||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const RW=new Error("request for lock canceled");class OW{constructor(t,r=RW){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{u(n.next(f))}catch(h){s(h)}}function l(f){try{u(n.throw(f))}catch(h){s(h)}}function u(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class Dl{constructor(t){this._semaphore=new OW(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{u(n.next(f))}catch(h){s(h)}}function l(f){try{u(n.throw(f))}catch(h){s(h)}}function u(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}u((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const $_="cloudpilot-session-preview";function wR(){localStorage.removeItem($_)}function Wn(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,B.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let oc=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var df;class lo{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new Do.j,this.sanitizeDiv=document.createElement("div")}errorMessage(t,r="Close"){var n=this;return(0,B.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,B.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}messageWithChoice(t,r,n,o,i={},s="Close"){var a=this;return(0,B.Z)(function*(){const l=yield a.alertController.create({header:t,message:a.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:s,role:"cancel"},...Object.keys(i).map(u=>({text:u,handler:()=>{i[u](),l.dismiss()}}))],inputs:[{type:"checkbox",label:n,checked:!1,handler:u=>o=!0===u.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border alert-message"});return yield l.present(),yield l.onDidDismiss(),o})()}updateAvailable(t){var r=this;return(0,B.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,B.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,B.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new Xk.I(t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(df=lo).\u0275fac=function(t){return new(t||df)(ue(M0),ue(oc))},df.\u0275prov=M({token:df,factory:df.\u0275fac,providedIn:"root"}),oe([Wn()],lo.prototype,"updateAvailable",null),oe([Wn()],lo.prototype,"fatalError",null),oe([Wn()],lo.prototype,"errorInNativeCode",null);let Ou=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&wR(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new Do.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(lo),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Ir=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Ir||{});let bh=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Ir.none}claim(n,o){this.assertOwnership(n,Ir.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Ir.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ou))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Gc="session",ff="rom",Uc="memory",ic="state",B_="kvs",Hc="memory-meta",Il="storage",Gs="storage-card",Ch="lock";class Fu extends Error{constructor(t){super(t)}}function Kn(e){return new Promise((t,r)=>{!function jW(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new Fu(e.error?.message))})}function DR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function GW(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const V_="session",j0="memory",xR="storage-meta",TR="storage-card";function G0(){return(G0=(0,B.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(V_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,u={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(u),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function U0(){return(U0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function H0(){return(H0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(xR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(V_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function z0(){return(z0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(xR).name=TR})).apply(this,arguments)}function W0(){return(W0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(TR).createIndex("storageId","storageId")})).apply(this,arguments)}function Z0(){return(Z0=(0,B.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const n9=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function MR(e){let t=-1;for(let r=0;r<e.length;r++)t=n9[255&(t^e[r])]^t>>>8;return~t}var r9=C(3219),o9=C.n(r9);const AR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let j_;const i9=new Uint8Array(16);function s9(){if(!j_&&(j_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!j_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return j_(i9)}const bi=[];for(let e=0;e<256;++e)bi.push((e+256).toString(16).slice(1));const q0=function a9(e,t,r){if(AR.randomUUID&&!t&&!e)return AR.randomUUID();const n=(e=e||{}).random||(e.rng||s9)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function kR(e,t=0){return bi[e[t+0]]+bi[e[t+1]]+bi[e[t+2]]+bi[e[t+3]]+"-"+bi[e[t+4]]+bi[e[t+5]]+"-"+bi[e[t+6]]+bi[e[t+7]]+"-"+bi[e[t+8]]+bi[e[t+9]]+"-"+bi[e[t+10]]+bi[e[t+11]]+bi[e[t+12]]+bi[e[t+13]]+bi[e[t+14]]+bi[e[t+15]]}(n)};var pf;const Y0=new Error("page lock lost"),RR=new Error("version mismatch"),PR=q0();function xo(){return(e,t,r)=>{const n=r.value;return r.value=(0,B.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw console.error(s),s instanceof Fu?i.fatalIDBDead():s===RR?i.fatalVersionMismatch():s===Y0?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class nr{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Uc),l=o.objectStore(Hc),u=new Uint32Array(256),f=new Uint8Array(u.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const m=s.length>>>10;for(let b=0;b<m;b++){f.set(s.subarray(1024*b,1024*(b+1)));const j=DR(u);if("number"==typeof j)a.put(j,[i,b]);else{const ee=new Uint32Array(256);ee.set(j),a.put(ee,[i,b])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,B.Z)(function*(){const a=o.objectStore(Hc),l=yield Kn(a.get(i));if(!l)return;const u=yield new Promise(function(){var f=(0,B.Z)(function*(h,m){const b=o.objectStore(Uc),j=new Uint32Array(l.totalSize>>>2),ee=b.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));ee.onsuccess=()=>{const he=ee.result;if(!he)return h(new Uint8Array(j.buffer));const ye=he.value,[,De]=he.key;"number"==typeof ye?j.subarray(256*De,256*(De+1)).fill(ye|ye<<8|ye<<16|ye<<24):j.subarray(256*De,256*(De+1)).set(1024===ye.length?new Uint32Array(ye.buffer):ye),he.continue()},ee.onerror=()=>m(new Fu(ee.error?.message))});return function(h,m){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&l.crc32!==MR(u))throw new Error("snapshot CRC mismatch");return u})),this.sessionChangeEvent=new Do.j,this.storageCardChangeEvent=new Do.j,this.sessionUpdateMutex=new Dl,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,B.Z)(function*(){const s=o9()(r),a=yield i.newTransaction(Gc,ff,ic,Uc,Hc),l=a.objectStore(Gc),u=a.objectStore(ff);(yield Kn(u.get(s)))||u.put(r,s);const{id:h,...m}=t,b=yield Kn(l.add({...m,rom:s})),j=yield Kn(l.get(b));return n&&i.saveMemory(a,j.id,n),o&&i.saveState(a,j.id,o),yield Kn(a),j})()}getAllSessions(){var t=this;return(0,B.Z)(function*(){const[r]=yield t.prepareObjectStore(Gc);return yield Kn(r.getAll())})()}getSession(t){var r=this;return(0,B.Z)(function*(){const[n]=yield r.prepareObjectStore(Gc);return yield Kn(n.get(t))})()}deleteSession(t){var r=this;return(0,B.Z)(function*(){const n=yield r.newTransaction(Gc,ff,ic,Uc,Hc),o=n.objectStore(Gc),i=n.objectStore(ff);(t=yield Kn(o.get(t.id)))&&(o.delete(t.id),0===(yield Kn(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield Kn(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,B.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[u,f]=yield n.prepareObjectStore(Gc),h=yield Kn(u.get(t));if(!h)throw new Error(`no session with id ${t}`);const m={...h,...l};u.put(m),yield Kn(f),n.sessionChangeEvent.dispatch([h.id,m])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,B.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Gc),i=yield Kn(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield Kn(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,B.Z)(function*(){const o=yield n.newTransaction(ff,ic,Uc,Hc),i=o.objectStore(ff);return[yield Kn(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,B.Z)(function*(){const[n,o]=yield r.prepareObjectStore(ic);n.delete(t.id),yield Kn(o)})()}addEmptyStorageCard(t){var r=this;return(0,B.Z)(function*(){const[n]=yield r.prepareObjectStore(Gs),o=yield Kn(n.add(t)),i=yield Kn(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,B.Z)(function*(){return n.ngZone.runOutsideAngular((0,B.Z)(function*(){const o=yield n.newTransaction(Gs,Il),i=o.objectStore(Gs),s=o.objectStore(Il),a=yield Kn(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),u=new Uint32Array(2048);for(let h=0;h<l;h++){const m=r.subarray(2048*h,2048*(h+1));h===l-1&&u.set(m);const b=GW(h===l-1?u:m);0!==b&&s.put("number"==typeof b?b:b?.slice(),[a,h])}const f=yield Kn(i.get(a));return yield Kn(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,B.Z)(function*(){const[r]=yield t.prepareObjectStore(Gs);return Kn(r.getAll())})()}getCard(t){var r=this;return(0,B.Z)(function*(){const[n]=yield r.prepareObjectStore(Gs);return Kn(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,B.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,u]=yield n.prepareObjectStore(Gs),f=yield Kn(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const h={...f,...a};l.put(h),yield Kn(u),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,B.Z)(function*(){const n=yield r.newTransaction(Gs,Il);r.storageCardContext.assertOwnership(t,Ir.none);const o=n.objectStore(Gs),i=n.objectStore(Il);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield Kn(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,B.Z)(function*(){r.fill(0);const i=yield o.newTransaction(Gs,Il);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(Il);yield new Promise(function(){var a=(0,B.Z)(function*(l,u){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const h=f.result;if(!h)return l();let m=h.value;const[,b]=h.key;"number"==typeof m?r.subarray(2048*b,2048*(b+1)).fill(m):(2048*(b+1)>r.length&&(m=m.subarray(0,2048-2048*(b+1)+r.length)),r.subarray(2048*b,2048*(b+1)).set(m)),h.continue()},f.onerror=()=>u(new Fu(f.error?.message))});return function(l,u){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,B.Z)(function*(){const s=yield i.newTransaction(Gs,Il);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Gs),l=s.objectStore(Il),u=yield Kn(a.get(t));if(!u)throw new Error(`no card with ID ${t}`);if(r.length!==u.size>>>2)throw new Error("data size mismatch");const f=(u.size>>>13)+(u.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let h=0;for(let m=0;m<n.length;m++)for(let b=1;b<256&&!(h>=f);b<<=1)n[m]&b&&l.put(r.subarray(2048*h,2048*(h+1)).slice(),[u.id,h]),h++;yield Kn(s)}))}kvsGet(t){var r=this;return(0,B.Z)(function*(){const[n]=yield r.prepareObjectStore(B_);return Kn(n.get(t))})()}kvsSet(t){var r=this;return(0,B.Z)(function*(){const[n,o]=yield r.prepareObjectStore(B_);for(const i of Object.keys(t))n.put(t[i],i);yield Kn(o)})()}kvsLoad(){var t=this;return(0,B.Z)(function*(){const[r]=yield t.prepareObjectStore(B_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Fu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,B.Z)(function*(){const[n,o]=yield r.prepareObjectStore(B_);n.delete(t),yield Kn(o)})()}acquireLock(t){var r=this;return(0,B.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Kn(t.objectStore(Ch).get(0)))!==PR)throw t.abort(),t.db.close(),Y0})()}newTransaction(...t){var r=this;return(0,B.Z)(function*(){const n=(yield r.db).transaction([Ch,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,B.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(ic);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(ic).delete(r)}loadState(t,r){return Kn(t.objectStore(ic).get(r))}deleteMemory(t,r){const n=t.objectStore(Uc),o=t.objectStore(Hc);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,B.Z)(function*(){const r=t.transaction(Ch,"readwrite");yield Kn(r.objectStore(Ch).put(PR,0))})()}setupDb(){var t=this;return(0,B.Z)(function*(){const r=setTimeout(()=>Xi&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw RR}const n=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new Fu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new Fu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,B.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function qW(e){e.createObjectStore(V_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function YW(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(j0)&&e.deleteObjectStore(j0),t.objectStore(V_).clear(),e.createObjectStore("rom"),e.createObjectStore(j0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function KW(e,t){return G0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function XW(e,t){return U0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function QW(e,t){return H0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function JW(e,t){return z0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function e9(e,t){return W0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function t9(e,t){return Z0.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,B.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(pf=nr).\u0275fac=function(t){return new(t||pf)(ue(Ue),ue(Ou),ue(bh))},pf.\u0275prov=M({token:pf,factory:pf.\u0275fac,providedIn:"root"}),oe([xo()],nr.prototype,"addSession",null),oe([xo()],nr.prototype,"getAllSessions",null),oe([xo()],nr.prototype,"getSession",null),oe([xo()],nr.prototype,"deleteSession",null),oe([xo()],nr.prototype,"updateSessionPartial",null),oe([xo()],nr.prototype,"updateSession",null),oe([xo()],nr.prototype,"loadSession",null),oe([xo()],nr.prototype,"deleteStateForSession",null),oe([xo()],nr.prototype,"addEmptyStorageCard",null),oe([xo()],nr.prototype,"importStorageCard",null),oe([xo()],nr.prototype,"getAllStorageCards",null),oe([xo()],nr.prototype,"getCard",null),oe([xo()],nr.prototype,"updateStorageCardPartial",null),oe([xo()],nr.prototype,"deleteStorageCard",null),oe([xo()],nr.prototype,"loadCardData",null),oe([xo()],nr.prototype,"kvsGet",null),oe([xo()],nr.prototype,"kvsSet",null),oe([xo()],nr.prototype,"kvsDelete",null),oe([xo()],nr.prototype,"newTransaction",null),oe([xo()],nr.prototype,"prepareObjectStore",null),oe([xo()],nr.prototype,"initializeLock",null),oe([xo()],nr.prototype,"setupDb",null);const OR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Mi=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,B.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new Do.j,this.mutex=new Dl,this.storageMutex=new Dl,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,B.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,B.Z)(function*(){const o=n;try{const i={...OR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive(()=>o.storageService.kvsSet({[a]:l})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...OR}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const G_='\n    <br/><br/>\n    WARNING: This may be currently broken within the European Union. Please check the "About"\n    for details.\n';let K0=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,B.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Xi||CR)&&this.installationMode===Pu.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Xi&&B0?'\n    Tap the "Share" icon in the browser toolbar\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n'+(yh?G_:""):Xi?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon in the browser toolbar\n    and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'+(yh?G_:""):'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Xi&&B0?'\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    in the browser toolbar and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n'+(yh?G_:""):Xi?'\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon in the browser toolbar\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'+(yh?G_:""):'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Pu.pwa:document.referrer.startsWith("android-app://")?Pu.twa:window.matchMedia("(display-mode: standalone)").matches?Pu.pwa:Pu.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Mi),ue(lo))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function m9(e,t){1&e&&(z(0,"div",5),je(1,"ion-spinner"),L())}let Nu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(hs))},e.\u0275cmp=Ze({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.modalController.dismiss()}),Ce(6,"Close"),L()()()(),z(7,"ion-content",2),Wt(8,m9,2,0,"div",3),z(9,"markdown",4),Le("load",function(){return o.loading=!1}),L()()),2&n&&(ge(3),$i(o.title),ge(5),Se("ngIf",o.loading),ge(1),Se("src",o.url))},dependencies:[No,L0,Hi,zi,Wi,Zi,fh,Yi,Ki],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const Lu="1.9.7-a82008b (preview)",NR=C.p+"assets/doc/CHANGELOG-c108e714f210cfa9.md";var U_=C(1633);const H_=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:u})=>{if((e=>void 0!==e.method&&"call"===e.method)(u)){const{params:{timerId:f,timerType:h}}=u;if("interval"===h){const m=t.get(f);if("number"==typeof m){const b=n.get(m);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m()}}else if("timeout"===h){const m=r.get(f);if("number"==typeof m){const b=n.get(m);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(u)){const{error:{message:f}}=u;throw new Error(f)}{const{id:f}=u,h=n.get(f);if(void 0===h)throw new Error("The timer is in an undefined state.");const{timerId:m,timerType:b}=h;n.delete(f),"interval"===b?t.delete(m):r.delete(m)}}}),{clearInterval:u=>{const f=(0,U_.generateUniqueNumber)(n);n.set(f,{timerId:u,timerType:"interval"}),t.set(u,f),o.postMessage({id:f,method:"clear",params:{timerId:u,timerType:"interval"}})},clearTimeout:u=>{const f=(0,U_.generateUniqueNumber)(n);n.set(f,{timerId:u,timerType:"timeout"}),r.set(u,f),o.postMessage({id:f,method:"clear",params:{timerId:u,timerType:"timeout"}})},setInterval:(u,f)=>{const h=(0,U_.generateUniqueNumber)(t);return t.set(h,()=>{u(),"function"==typeof t.get(h)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}}),h},setTimeout:(u,f)=>{const h=(0,U_.generateUniqueNumber)(r);return r.set(h,u),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"timeout"}}),h}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var hf=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(hf||{});class LR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return hf.animationFrame}}class C9{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>H_().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,H_().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return hf.timeout}}const S9=[135,135,105],w9=[0,0,0],zc=new Array(16).fill(0).map((e,t)=>w9.map((r,n)=>Math.floor((t*r+(15-t)*S9[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),X0=zc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var J=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(J||{}),mf=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(mf||{});function Sh(e){switch(e){case J.i710:case J.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case J.handera330:case J.handera330c:case J.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case J.pegS300:case J.pegS320:case J.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case J.pegT600c:case J.pegT400:case J.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case J.pegN600c:case J.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case J.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case J.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Q0(e){switch(e){case J.pilot:case J.palmPilot:case J.iii:case J.palmV:case J.palmVx:case J.iiix:case J.iiixe:case J.iiie:case J.m100:case J.m105:case J.m125:case J.m500:case J.palmVII:case J.palmVIIEZ:case J.palmVIIx:case J.i705:case J.handera330:case J.pegS300:case J.pegS320:case J.pegT400:case J.acerS11:return!1;default:return!0}}function $R(e){switch(e){case J.pilot:return"Pilot";case J.palmPilot:return"Palm Pilot";case J.iii:return"Palm III";case J.m500:return"Palm m500";case J.m505:return"Palm m505";case J.m515:return"Palm m515";case J.m520:return"Palm m520";case J.palmVx:return"Palm Vx";case J.iiix:return"Palm IIIx";case J.iiixe:return"Palm IIIxe";case J.iiie:return"Palm IIIe";case J.palmV:return"Palm V";case J.palmVII:return"Palm VII";case J.palmVIIEZ:return"Palm VII EZ";case J.palmVIIx:return"Palm VIIx";case J.iiic:return"Palm IIIc";case J.m100:return"Palm m100";case J.m105:return"Palm m105";case J.m125:return"Palm m125";case J.m130:return"Palm m130";case J.i705:return"Palm i705";case J.i710:return"Tungsten W";case J.handera330:return"Handera 330";case J.handera330c:return"Handera 330c";case J.pegS300:return"Sony PEG-S300";case J.pegS320:return"Sony PEG-S320";case J.pegT400:return"Sony PEG-T400 series";case J.pegN600c:return"Sony PEG-N600C series";case J.pegT600c:return"Sony PEG-T600C series";case J.pegN700c:return"Sony PEG-N700C series";case J.pegT650c:return"Sony PEG-T650C series";case J.pegNR70:return"Sony PEG-NR70 series";case J.pegS500c:return"Sony PEG-S500C series";case J.acerS11:return"Acer S1x series";case J.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function BR(e){switch(e){case J.m500:case J.m505:case J.m515:case J.m520:case J.m125:case J.m130:case J.i705:case J.i710:case J.handera330:case J.handera330c:return mf.sdcard;case J.pegS300:case J.pegS500c:case J.pegS320:case J.pegT400:case J.pegN600c:case J.pegT600c:case J.pegN700c:case J.pegT650c:case J.pegNR70:case J.acerS11:return mf.memorystick;default:return mf.none}}class VR{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class I9{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class P9{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r&&this.handleSuspend();const u=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(u!==this.powerOff||f!==this.uiInitialized){const h=this.powerOff;this.powerOff=u,this.uiInitialized=f,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!u&&this.manageHotsyncName()&&!n&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new Do.j,this.pwmUpdateEvent=new Do.j,this.emulationStateChangeEvent=new Do.j,this.powerOffChangeEvent=new Do.j,this.deviceId=J.m515,this.clockEmulator=0,this.scheduler=new LR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new I9(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new VR(20),this.timePerFrameAverage=new VR(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=Sh(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=Sh(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===hf.animationFrame?new LR(t=>this.onSchedule(t)):new C9(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=Sh(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=Q0(t)?"white":X0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=zc[15],i=zc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let u=t.margin;u<t.lineWidth+t.margin;u++)n[s++]=t.buffer[l+(u>>>3)]&128>>>(7&u)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[zc[15&o],zc[o>>>4&15],zc[o>>>8&15],zc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let u=t.margin;u<t.lineWidth+t.margin;u++)n[s++]=i[t.buffer[l+(u>>>2)]>>6-2*(3&u)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=zc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class O9{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const L9=new Error("transaction timeout"),UR=new Error("session does not match emulation");let wh=(()=>{var e;class t{constructor(n,o,i,s,a,l){var u=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,B.Z)(function*(){try{yield u.triggerSnapshotUnguarded()}finally{u.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Do.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,B.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,B.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===UR)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===Y0)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,B.Z)(function*(){const o=n.db.transaction([Uc,Hc,ic,Il,Gs,Ch],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield Kn(o.objectStore(Gs).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,u)=>{let f=!1;const h=performance.now();let m=0,b=0,j=0;const ee=new O9(500,()=>{f=!0;try{o.abort()}catch{}u(L9)});o.oncomplete=()=>{ee.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:j,timeBlocking:b-m,timeTotal:performance.now()-h})},o.onerror=()=>{ee.cancel(),u(new Error(o.error?.message))};try{n.assertSessionMatches(),m=performance.now(),j=n.saveDirtyMemory(o,ee),i&&(j+=n.saveDirtyStorage(i,o,ee)),n.saveSession(o),b=performance.now()}catch(he){throw f||(ee.cancel(),o.abort()),he}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(Uc),a=n.objectStore(Hc),l=this.cloudpilot.getDirtyPages(),u=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const m=u.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(m);for(let b=0;b<m;b++)this.pages[b]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:u.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&(h.crc32=MR(new Uint8Array(u.buffer,u.byteOffset,u.byteLength))),a.put(h);for(let m=0;m<l.length;m++)if(this.dirtyPages[m]|=l[m],l[m]=0,0!==this.dirtyPages[m])for(let b=1;b<256&&!(i>=this.pages.length);b<<=1){if(this.dirtyPages[m]&b){const j=DR(u.subarray(256*i,256*(i+1)));"number"==typeof j?s.put(j,[this.sessionId,i]):(this.pages[i].set(j),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Ir.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,u=0,f=0;const h=o.objectStore(Il),m=(a.length>>11)+(a.length%2048>0?1:0);for(let b=0;b<s.length;b++)if(this.cardDirtyPages[b]|=s[b],s[b]=0,0!==this.cardDirtyPages[b])for(let j=1;j<256&&!(l>=m);j<<=1){if(this.cardDirtyPages[b]&j){u>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const ee=this.cardPagePool[u++];ee.set(a.subarray(2048*l,2048*(l+1))),h.put(ee,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(ic);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw UR}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(oc),ue(Ou),ue(bh),ue(Mi),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),J0=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new Do.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var $9=C(2227),B9=C.n($9);function eS(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function HR(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}const zR=[J.palmPilot,J.pilot,J.iii,J.palmVx,J.palmV,J.palmVII,J.palmVIIEZ,J.palmVIIx,J.iiixe,J.iiix,J.iiie,J.m500,J.m505,J.m515,J.m520,J.iiic,J.m100,J.m105,J.m125,J.m130,J.i705,J.i710,J.handera330,J.handera330c,J.pegS300,J.pegS320,J.pegS500c,J.pegT400,J.pegN600c,J.pegT600c,J.pegN700c,J.pegT650c,J.pegNR70,J.acerS11,J.lp168];function Nt(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Rt{constructor(t){this.module=t,this.fatalErrorEvent=new Do.j,this.pwmUpdateEvent=new Do.j,this.proxyDisconnectEvent=new Do.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,B.Z)(function*(){return new Rt(yield B9()({print:r=>console.log(r),printErr:r=>console.error(r),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:zR.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){const r=this.cloudpilot.RunEmulation(t);return this.transportIR.dataEvent.hasHandlers&&this.transportIR.RxBytesPending()>0&&this.transportIR.dataEvent.dispatch(this.transportIR.Receive()),this.transportSerial.dataEvent.hasHandlers&&this.transportSerial.RxBytesPending()>0&&this.transportSerial.dataEvent.dispatch(this.transportSerial.Receive()),r}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,B.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,B.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(HR(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const u=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),u}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!zR.includes(l))return void console.warn(`unsupported device ${l}`);let u;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{u=JSON.parse((new TextDecoder).decode(f))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:u,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=eS(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}wrapTransport(t){return this.wrap(Object.setPrototypeOf({Receive:()=>{const r=t.RxBytesPending();return this.copyOut(t.Receive(),r)},Send:r=>{const n=this.copyIn(r);t.Send(r.length,n),this.cloudpilot.Free(n)},dataEvent:new Do.j},t))}}oe([Nt()],Rt.prototype,"getRomInfo",null),oe([Nt()],Rt.prototype,"initializeSession",null),oe([Nt()],Rt.prototype,"cyclesPerSecond",null),oe([Nt()],Rt.prototype,"runEmulation",null),oe([Nt()],Rt.prototype,"getFrame",null),oe([Nt()],Rt.prototype,"isScreenDirty",null),oe([Nt()],Rt.prototype,"markScreenClean",null),oe([Nt()],Rt.prototype,"minRamForDevice",null),oe([Nt()],Rt.prototype,"framebufferSizeForDevice",null),oe([Nt()],Rt.prototype,"totalMemorySizeForDevice",null),oe([Nt()],Rt.prototype,"queuePenMove",null),oe([Nt()],Rt.prototype,"queuePenUp",null),oe([Nt()],Rt.prototype,"queueButtonDown",null),oe([Nt()],Rt.prototype,"queueButtonUp",null),oe([Nt()],Rt.prototype,"queueKeyboardEvent",null),oe([Nt()],Rt.prototype,"isPowerOff",null),oe([Nt()],Rt.prototype,"isUiInitialized",null),oe([Nt()],Rt.prototype,"isSetupComplete",null),oe([Nt()],Rt.prototype,"getOSVersion",null),oe([Nt()],Rt.prototype,"reset",null),oe([Nt()],Rt.prototype,"resetNoExtensions",null),oe([Nt()],Rt.prototype,"resetHard",null),oe([Nt()],Rt.prototype,"installDb",null),oe([Nt()],Rt.prototype,"getPalette2bitMapping",null),oe([Nt()],Rt.prototype,"getMemory",null),oe([Nt()],Rt.prototype,"getMemory32",null),oe([Nt()],Rt.prototype,"getDirtyPages",null),oe([Nt()],Rt.prototype,"loadMemory",null),oe([Nt()],Rt.prototype,"getRomImage",null),oe([Nt()],Rt.prototype,"getSavestate",null),oe([Nt()],Rt.prototype,"saveState",null),oe([Nt()],Rt.prototype,"loadState",null),oe([Nt()],Rt.prototype,"getHotsyncName",null),oe([Nt()],Rt.prototype,"setClockFactor",null),oe([Nt()],Rt.prototype,"setHotsyncName",null),oe([Nt()],Rt.prototype,"setClipboardIntegration",null),oe([Nt()],Rt.prototype,"getClipboardIntegration",null),oe([Nt()],Rt.prototype,"isSuspended",null),oe([Nt()],Rt.prototype,"getSuspendKind",null),oe([Nt()],Rt.prototype,"cancelSuspend",null),oe([Nt()],Rt.prototype,"getSuspendContextClipboardCopy",null),oe([Nt()],Rt.prototype,"getSuspendContextClipboardPaste",null),oe([Nt()],Rt.prototype,"setNetworkRedirection",null),oe([Nt()],Rt.prototype,"getNetworkRedirection",null),oe([Nt()],Rt.prototype,"getSuspendContextNetworkConnect",null),oe([Nt()],Rt.prototype,"getSuspendContextNetworkRpc",null),oe([Nt()],Rt.prototype,"copyBuffer",null),oe([Nt()],Rt.prototype,"freeBuffer",null),oe([Nt()],Rt.prototype,"setHotsyncNameManagement",null),oe([Nt()],Rt.prototype,"resolveBuffer",null),oe([Nt()],Rt.prototype,"serializeSessionImage",null),oe([Nt()],Rt.prototype,"deserializeSessionImage",null),oe([Nt()],Rt.prototype,"launchAppByName",null),oe([Nt()],Rt.prototype,"launchAppByDbHeader",null),oe([Nt()],Rt.prototype,"deviceSupportsCardSize",null),oe([Nt()],Rt.prototype,"clearExternalStorage",null),oe([Nt()],Rt.prototype,"allocateCard",null),oe([Nt()],Rt.prototype,"decompressCard",null),oe([Nt()],Rt.prototype,"getCardData",null),oe([Nt()],Rt.prototype,"getCardDirtyPages",null),oe([Nt()],Rt.prototype,"getMountedKey",null),oe([Nt()],Rt.prototype,"mountCard",null),oe([Nt()],Rt.prototype,"removeCard",null),oe([Nt()],Rt.prototype,"remountCards",null),oe([Nt()],Rt.prototype,"getCardSupportLevel",null),oe([Nt()],Rt.prototype,"loadSkin",null);const z_=new Error("permission denied");let WR=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,B.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===z_)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,B.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?z_:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,B.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(u=(0,B.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return u.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var u});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,B.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,B.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===z_)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,B.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?z_:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,B.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,B.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(u){s(u)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,B.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}},{text:"Paste",handler:(s=(0,B.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,B.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(M0),ue(lo))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const j9="https:"===window.location.protocol?8667:8666,G9=/^[\da-z\-\.]+$/i,U9=/^[\da-z\-\.]+:\d+$/i;function tS(e){if(!e)return;const t=window.location.protocol;if(e.match(G9))return`${t}//${e}:${j9}`;if(e.match(U9))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function H9(e){return void 0!==tS(e.value)?null:{proxyAddress:"invalid"}}let z9=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new b_({username:new zo(n?.username??""),password:new zo(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Mi))},e.\u0275cmp=Ze({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Authenticate"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.saveAndContinue()}),Ce(6,"OK"),L()(),z(7,"ion-buttons",2)(8,"ion-button",1),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",3)(11,"form",4),Le("keydown",function(s){return o.formKeyDown(s)}),z(12,"p"),Ce(13," The server requires authentication. "),L(),z(14,"ion-item",5)(15,"ion-label",6),Ce(16,"Username"),L(),je(17,"ion-input",7),L(),z(18,"ion-item",5)(19,"ion-label",6),Ce(20,"Password"),L(),je(21,"ion-input",8),L()()()),2&n&&(ge(11),Se("formGroup",o.formGroup))},dependencies:[Hi,zi,Wi,Zi,nc,Io,qi,Yi,Ki,tc,ec,Ql,Jl,Fa,Sl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),ZR=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,B.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(Ud())("string"==typeof n?n:n.url);let u,f,h=!1;for(;;)try{u||(u=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>u?.present(),s):u.present();const m=i.kvsService.kvs.credentials[l.origin],b=new AbortController,j=window.setTimeout(()=>b.abort(),a),ee=yield fetch(n,{...i.requestInit(o),signal:b.signal,headers:{...o?.headers||{},...h&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(j),401===ee.status){if(!h&&m){h=!0;continue}if(u?.dismiss(),clearTimeout(f),s=0,u=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return ee}finally{u&&(yield u.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,B.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:z9,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(sa),ue(Mi),ue(hs))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),nS=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,B.Z)(function*(){a.socket&&a.disconnect(a.socket);const l=tS(a.kvsService.kvs.proxyServer);if(!l)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const u=yield a.handshake(void 0,500);switch(u.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${l.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(u.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=q0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=l=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(l.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const u=this.cloudpilot.copyBuffer(new Uint8Array(l.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(u,l.data.byteLength),this.cloudpilot.freeBuffer(u),this.resumeEvent.dispatch()},this.onSocketError=l=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",l)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=l=>{l!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Do.j,this.mutex=new Dl,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,B.Z)(function*(){const s=tS(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const l=yield a.json();return l.version<3||l.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:l.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Mi),ue(lo),ue(Ue),ue(ZR))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),YR=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),KR=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const K9=C.p+"wasm/cloudpilot_web-501bc38b602efd1f.wasm";let Na=(()=>{var e;class t{constructor(){this.cloudpilot=Rt.create(K9)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var X9=C(3097),gf=C.n(X9);const rS=524288;class oS{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(rS),t.destroy(n)}static create(t,r){return(0,B.Z)(function*(){return new oS(yield gf()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,B.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=rS){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,rS);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class iS{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,B.Z)(function*(){return new iS(yield gf()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class sS{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,B.Z)(function*(){const n=yield gf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new sS(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=eS(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class W_{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,B.Z)(function*(){const n=yield gf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new W_(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,B.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class aS{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,B.Z)(function*(){const n=yield gf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new aS(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,B.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const XR=new Map;class nZ{constructor(t="fstools_web.wasm"){let r=XR.get(t);r||(r=function Q9(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,B.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),XR.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,B.Z)(function*(){const n=yield iS.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,B.Z)(function*(){const n=yield W_.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return W_.create(this.instantiante,t)}createGzipContext(t){return aS.create(this.instantiante,t)}createFsckContext(t){return sS.create(t,this.instantiante)}createZipContext(t){return oS.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,B.Z)(function*(){const n=yield gf()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),HR(new n.ZipfileWalker(t.length,i),n)})()}}var gr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(gr||{});function _f(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function vf(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function lS(e){return`${vf(e.name)}.img`}function QR(e,t){return`backup_${vf(e.name)}${t?"_with_rom":""}.zip`}function cS(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var Or=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Or||{});function Z_(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const sZ=C.p+"wasm/fstools_web-9237f90a406faac8.wasm";let q_=(()=>{var e;class t extends nZ{constructor(){super(sZ)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function aZ(e,t){1&e&&(z(0,"p",10),Ce(1," ERROR: URL must be served via HTTPS. "),L())}function lZ(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(Ud())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let cZ=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(Ud())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(Ud())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new b_({url:new zo("",lZ)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Enter download URL"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.continue()}),Ce(6,"OK"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown",function(s){return o.formKeyDown(s)}),z(12,"p"),Ce(13," Please enter the URL from which to download: "),L(),z(14,"ion-item",6)(15,"ion-label",7),Ce(16,"URL"),L(),je(17,"ion-input",8),L(),Wt(18,aZ,2,0,"p",9),z(19,"p"),Ce(20," Note that the remote server needs to support the CORS protocol. "),L()()()),2&n&&(ge(5),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup),ge(7),Se("ngIf",o.isMixedContent))},dependencies:[No,Hi,zi,Wi,Zi,nc,Io,qi,Yi,Ki,tc,ec,Ql,Jl,Fa,Sl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),Wc=(()=>{var e;class t{constructor(n,o,i,s,a,l,u,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=u,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,B.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),u=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:Z_(n),rom:a,memory:l,savestate:u},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);m&&o.saveFile(lS(n),m)}finally{s.dismiss()}})()}saveFile(n,o){const i=new Blob([o],{type:"application/octet-stream"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=n,a.click()}openUrl(n,o){var i=this;return(0,B.Z)(function*(){let s;try{s=new(Ud())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const u=a.arrayBuffer().then(f=>new Uint8Array(f));return u.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>u})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,B.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:Z_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,B.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,B.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:cZ,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=bR||Xi&&B0;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",this.input.addEventListener("change",function(){var a=(0,B.Z)(function*(l){const u=l.target;u?.files&&o(Array.from(u.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,B.Z)(function*(){return o||(o=new Promise((a,l)=>{const u=new FileReader;u.onload=()=>a(new Uint8Array(u.result)),u.onerror=()=>{console.warn(u.error),l(u.error)},u.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(sa),ue(mh),ue(Mi),ue(hs),ue(lo),ue(ZR),ue(Na))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class JR extends Error{constructor(t){super(t)}}let sc=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new Dl,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,B.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),u=new Set(o.sessions.map(b=>b.name));let f=1,h=!1;const m=[];for(;0===a.GetState();)try{i.message=`Importing ${f++}/${l}...`;const b=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!b)throw new JR(`${a.GetCurrentEntryName()} is not a valid session.`);const j=_f(b.metadata?.name??a.GetCurrentEntryName(),ee=>u.has(ee));yield o.doAddSessionFromImage(b,j,b.metadata)}catch(b){if(!(b instanceof JR))throw b;m.push(a.GetCurrentEntryName()),h||(h=yield o.alertService.messageWithChoice("Error",b.message,"Skip further errors",h,{},"Continue"))}finally{a.Next()}m.length<=3&&m.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${m.join("<br>")}`):m.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${m.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${m.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,B.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Or.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},u=yield a.loadingController.create({message:"Importing..."});yield u.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield u.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,B.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,B.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(lS(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const u of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(u);if(f){const h=_f(u.name.replace(/[\/\\]/,"_").substring(0,200),m=>a.has(m));a.add(h),yield s.addEntry(h+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${u.name}'.`,"Continue")}o.fileService.saveFile(function rZ(){return`${vf("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,B.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),u=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:Z_(n),rom:a,memory:l,savestate:u},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);m&&o.fileService.saveFile(lS(n),m)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,B.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:Z_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,B.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,B.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,B.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Or.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Na),ue(nr),ue(sa),ue(q_),ue(lo),ue(Wc))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var uZ=C(8886),dZ=C.n(uZ),xl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(xl||{}),$u=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}($u||{});function fZ(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function eP(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:fZ(e.GetAttributes())}}class uS{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,B.Z)(function*(){return new uS(yield dZ()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=eS(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(eP(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:eP(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,B.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),u=i.GetZipSize();return 0!==l&&0!==u&&(a=o.module.HEAPU8.subarray(l,l+u).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,B.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,B.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(u=>setTimeout(u,0)),s.GetState()){case 1:return a(xl.success);case-3:return a(xl.cardFull);case-1:return a(xl.ioError);case-2:return a(xl.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,B.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(u=>setTimeout(u,0)),a.GetState()){case 1:return $u.success;case-2:return $u.cardFull;case-1:return $u.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var pZ=C(307),tP=C.n(pZ);function nP(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const hZ=C.p+"wasm/vfs_web-65d4c4c58f79c339.wasm";let Bu=(()=>{var e;class t{constructor(n,o,i,s,a){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new Do.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=uS.create(hZ),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,B.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Ir.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const u=l.getPendingImage();if(!u)throw new Error("failed to allocate image");return i?u.set(i):yield s.storageService.loadCardData(n,u,Ir.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Ir.vfs),!1)})()}releaseCard(n){var o=this;return(0,B.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Ir.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||tP()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,B.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(b=>b.isDirectory).map(b=>i.normalizePath(b.path)),u=n.filter(b=>!b.isDirectory).map(b=>i.normalizePath(b.path)),f=1===n.length?`${n[0].name}.zip`:function iZ(e){return`files_${vf(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:m}=yield a.createZipArchive({directories:l,files:u,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),h&&i.fileService.saveFile(f,h)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,B.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,B.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,B.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===gr.clean||n.status===gr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:u}=yield i.unpackArchiveUnchecked(n,o);let f,h;switch(yield s.dismiss(),u){case xl.success:f="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case xl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case xl.cardFull:f="No space left on card.",h="No space left";break;case xl.zipfileError:f="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,b=j=>j>1?`${j} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${b(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    ${nP(b(l))} unpacked succesfully, but ${b(m)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,B.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case $u.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case $u.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,B.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=u=>u>1?`${u} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${nP(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,B.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let u=!1,f=!1,h=!1,m=!1;e:for(let b=0;b<n.length;b++){const j=n[b],ee=s.find(ye=>ye.name===j.name);if(ee&&ee.isDirectory){if(!h){const{overwrite:De,rememberChoice:bt}=yield i.overwriteFileDialog(j.name,"directory");m=De,h=bt}let ye=!0;if(m&&(ye=!(yield l.deleteRecursive([i.normalizePath(`${o}/${j.name}`)])).success),ye){a.push(j.name);continue}}if(ee&&!ee.isDirectory){if(!u){const{overwrite:ye,rememberChoice:De}=yield i.overwriteFileDialog(j.name,"file");f=ye,u=De}if(!f){a.push(j.name);continue}}let he;try{he=yield j.getContent()}catch(ye){console.warn(ye),a.push(j.name),yield i.alertService.errorMessage(`Unable to open ${j.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${j.name}`),he)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(b).map(ye=>ye.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(j.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,B.Z)(function*(u){if(i)return o;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(u.replace(/^\d:/,""),"file");return o=f,i=h,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,B.Z)(function*(u){if(a)return s;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(u.replace(/^\d:/,""),"directory");return s=f,a=h,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,B.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,B.Z)(function*(u){yield i.alertService.message("Invalid entry",`Could not extract ${u}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==xl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,B.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===$u.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,B.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Ir.vfs),yield n.storageService.loadCardData(o.id,s,Ir.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Ir.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,B.Z)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                     Do you want to overwrite the existing directory ${n}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,B.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,B.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:gr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,B.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Ir.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,B.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,B.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(bh),ue(Wc),ue(sa),ue(lo))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Zo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Zo||{});class K_ extends Error{constructor(t){super(t)}}function rP(){return q0().replace(/-/g,"")}let yf=(()=>{var e;class t{constructor(n,o,i,s,a,l,u,f,h,m,b,j){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=u,this.errorService=f,this.fileService=h,this.vfsService=m,this.storageCardContext=b,this.fstools=j,this.mountCardEvent=new Do.j,this.deleteCardEvent=new Do.j,this.loading=!0,this.cards=[],this.updateMutex=new Dl,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function mZ(e){switch(e){case Zo.mb4:return 4;case Zo.mb8:return 8;case Zo.mb16:return 16;case Zo.mb32:return 32;case Zo.mb64:return 64;case Zo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const u={storageId:rP(),name:n,size:4*l.length,status:gr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(u,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Ir.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Ir.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Ir.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,B.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:gr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Ir.cloudpilot)})()}checkCard(n){var o=this;return(0,B.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Ir.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,B.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Ir.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=gr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let u;try{yield l.present(),u=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}u&&s.fileService.saveFile(i?`${o}.gz`:o,u)})()}saveCards(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let u=0;for(const f of n){u++;const h=yield o.getCard(f);if(!h)continue;i.message=`Exporting ${u}/${n.length}...`;const m=_f(h.name,j=>a.has(j));a.add(m);const b=yield o.getCardData(h,m,l);b&&(yield s.addEntry(`${m}.img.gz`,b))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function oZ(){return`${vf("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,B.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,B.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=Xi?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,u=yield o.fstools.createZipfileWalker(n);if(-1===u.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const f=u.GetTotalEntries(),h=new Set((yield o.getAllCards()).map(he=>he.name)),m=yield o.fstools.createGunzipContext();let b=1,j=!1;const ee=[];for(;0===u.GetState();){a.message=`Importing ${b++}/${f}...`;let he=u.GetCurrentEntryName();try{if(!i.test(he))throw new K_(`${he} has the wrong suffix to be considered as a card image.`);let ye=u.GetCurrentEntryContent();if(he.endsWith(".gz")&&ye&&(m.initialize(ye),ye=(yield m.gunzip())?m.getDecompressedData():void 0,he=he.substring(0,he.length-3)),void 0===ye)throw new K_(`Failed to extract ${he}. ${s}`);if(0===l.getCardSupportLevel(ye.length))throw new K_(`${he} is not a valid card image.`);const De=_f(he.replace(i,""),bt=>h.has(bt));yield o.doCreateCardFromImage(De,ye,!1,!0)}catch(ye){if(!(ye instanceof K_))throw ye;ee.push(he),j||(j=yield o.alertService.messageWithChoice("Error",ye.message,"Skip further errors",j,{},"Continue"))}finally{u.Next()}}ee.length<=3&&ee.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${ee.join("<br>")}`):ee.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${ee.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${ee.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,B.Z)(function*(){const l={storageId:rP(),name:n,size:o.length,status:s?gr.dirty:gr.clean,dontFsckAutomatically:i},u=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,u);else{const[f,h]=yield a.fsckNewCard(u,l);yield a.storageService.importStorageCard(h,f)}})()}getCardData(n,o,i){var s=this;return(0,B.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let u;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),u=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),u&&(a?a.set(u):a=u)),u||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,B.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,B.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,B.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,B.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,u=!1;if(!s.dontFsckAutomatically){if(s.status===gr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Ir.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case gr.clean:break;case gr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case gr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case gr.unfixable:if(l=!1,u=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,u,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Ir.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Ir.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:gr.clean}),o.storageCardContext.release(n,Ir.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:gr.unformatted}),o.storageCardContext.release(n,Ir.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:gr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:gr.unfixable}),o.storageCardContext.release(n,Ir.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,B.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Ir.fstools),yield i.storageService.updateStorageCardPartial(n,{status:gr.clean}),i.storageCardContext.release(n,Ir.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,B.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:gr.clean}];case 2:{let u=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>u=!0},"Skip"),u?[a.getImageData(),{...o,status:gr.clean}]:[n,{...o,status:gr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:gr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:gr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,B.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:gr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,B.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),u=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:gr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!u.mountCard(l.storageId))throw u.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,B.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(sc),ue(nr),ue(oc),ue(Na),ue(sa),ue(wh),ue(lo),ue(Ou),ue(Wc),ue(Bu),ue(bh),ue(q_))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),La=(()=>{var e;class t extends P9{constructor(n,o,i,s,a,l,u,f,h,m,b,j,ee,he,ye,De,bt,vt){var pt;super(),pt=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=u,this.modalWatcher=f,this.clipboardService=h,this.kvsService=m,this.proxyService=b,this.buttonService=j,this.bootstrapService=ee,this.cloudpilotService=he,this.storageCardService=ye,this.storageCardContext=De,this.sessionsService=bt,this.app=vt,this.switchSession=(Pn,Us={})=>this.mutex.runExclusive((0,B.Z)(function*(){if(Pn===pt.emulationState.getCurrentSession()?.id)return!0;let Qi;yield pt.stopUnchecked(),yield pt.bootstrapService.hasRendered(),(Us.showLoader??1)&&(Qi=yield pt.loadingController.create({message:"Loading..."}),yield Qi.present());try{const ev=yield pt.storageService.getSession(Pn);if(!ev)throw new Error(`invalid session ${Pn}`);pt.emulationState.setCurrentSession(void 0);const MK=yield pt.cloudpilotService.cloudpilot;if(!(yield pt.restoreSession(ev,MK)))return pt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;pt.emulationState.setCurrentSession(ev),yield pt.sessionsService.updateSession({...ev,lastLaunch:Date.now()}),function BW(e){localStorage.setItem($_,e+"")}(Pn)}finally{Qi&&(yield Qi.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,B.Z)(function*(){!pt.emulationState.getCurrentSession()||pt.running||pt.errorService.hasFatalError()||!pt.cloudpilotInstance||(yield pt.kvsService.mutex.runExclusive(()=>pt.updateFeatures()),pt.doResume(),pt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,B.Z)(function*(){pt.doPause(),!pt.errorService.hasFatalError()&&pt.emulationState.getCurrentSession()&&(yield pt.snapshotService.waitForPendingSnapshot(),yield pt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Pn,Us])=>this.mutex.runExclusive((0,B.Z)(function*(){const Qi=pt.emulationState.getCurrentSession();Pn===Qi?.id&&(void 0!==Qi.mountedCard&&void 0===Us&&pt.storageCardContext.release(Qi.mountedCard,Ir.cloudpilot),pt.emulationState.setCurrentSession(Us),pt.emulationState.getCurrentSession()||(wR(),pt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,B.Z)(function*(){const Pn=pt.emulationState.getCurrentSession();Pn&&pt.sessionsService.emergencySaveSession(Pn)})),this.mutex=new Dl,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Pn=>{Pn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Pn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const An=function $W(){const e=localStorage.getItem($_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==An&&!YT()&&(this.bootstrapCompletePromise=this.recoverStoredSession(An))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?hf.timeout:hf.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,B.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,B.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,B.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{Xi&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,B.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(Ue),ue(sa),ue(oc),ue(wh),ue(Ou),ue(lo),ue(J0),ue(WR),ue(Mi),ue(nS),ue(YR),ue(KR),ue(Na),ue(yf),ue(bh),ue(sc),ue(Aa))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),dS=(()=>{var e;class t{constructor(n){this.loadingController=n,this.reloadOnControllerChange=!1,this.updateAvailableEvent=new Do.j,this.register()}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}update(){var n=this;return(0,B.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,B.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}register(){var n=this;return(0,B.Z)(function*(){if(n.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>n.reloadOnControllerChange&&window.location.reload()),yield new Promise(o=>setTimeout(o,3e3));try{n.setupRegistration(yield n.doRegister())}catch(o){console.error(o)}}})()}doRegister(){return(0,B.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(sa))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),oP=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,B.Z)(function*(){const u=l.kvsService.kvs.version;void 0!==u?u!==Lu&&(yield l.kvsService.set({version:Lu,previousVersion:u,latestVersion:Lu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Lu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=Lu})),this.mutex=new Dl,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,B.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,B.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===Lu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,B.Z)(function*(){yield(yield n.modalController.create({component:Nu,componentProps:{url:NR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,B.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Mi),ue(La),ue(lo),ue(hs),ue(dS))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),CZ=(()=>{var e;class t{constructor(n,o,i,s){this.kvsService=n,this.alertService=o,this.emulationService=i,this.pwaService=s}start(){var n=this;return(0,B.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o),n.pwaService.getInstallationMode()===Pu.pwa&&Xi&&!yh&&(n.kvsService.kvs.ios174UpdateWarningId=yield n.showIOS174UpdateWarning(n.kvsService.kvs.ios174UpdateWarningId))})()}showInfo(n){var o=this;return(0,B.Z)(function*(){return 2===n&&Xi&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(n){var o=this;return(0,B.Z)(function*(){return(n??0)<1&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4",'\n            The forthcoming update to iOS 17.4 may introduce changes\n            to the handling of homescreen apps within the European Union that may destroy\n            all data stored in CloudpilotEmu during the update.\n            <br><br>\n            Please export all your sessions and card images before updating to iOS 17.4.\n            <br><br>\n            You can find more information on the "About" tab.')),1})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Mi),ue(lo),ue(La),ue(K0))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),SZ=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,B.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(K0),v(oP),v(KR),v(CZ))},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(z(0,"ion-app"),je(1,"ion-router-outlet"),L())},dependencies:[Qk,hh]}),t})(),iP=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(z(0,"div"),Ce(1,"Dummy"),L())},encapsulation:2}),t})(),sP=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(mC),ue(Ho))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const fS=J.m515,wZ=X0[2],EZ=X0[0],bf="rgba(0,0,0,0.2)";function aP(e){const t=Sh(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function TZ(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class MZ{constructor(t){this.skinLoader=t,this.layout=aP(fS),this.onResize=new Do.j}get width(){switch(this.getOrientation()){case Or.portrait:case Or.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Or.portrait:case Or.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,u=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Or.landscape90:{const h=u;u=this.layout.height.frameDevice-l,l=h;break}case Or.landscape270:{const h=u;u=l,l=this.layout.width.frameDevice-h;break}case Or.portrait180:l=this.layout.width.frameDevice-l,u=this.layout.height.frameDevice-u}l-=this.layout.borderWidth.frameDevice,u-=this.layout.borderWidth.frameDevice,u>=this.layout.screenHeight.frameDevice&&(u<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?u=this.layout.screenHeight.frameDevice:u-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),u<0&&(u=0),u>=f&&(u=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||u<0||u>=f)return;return[l,u]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,B.Z)(function*(){if(!t)return;r.layout=aP(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,B.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,bf),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,bf),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,bf),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,bf),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,bf),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,bf))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Or.portrait:case void 0:break;case Or.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Or.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Or.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,B.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,wZ),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case J.pegT600c:case J.pegT650c:return"silkscreen/clie-t600.svg";case J.pegN700c:case J.pegN600c:return"silkscreen/clie-n610.svg";case J.pegS320:case J.pegS300:return"silkscreen/clie-s300.svg";case J.pegS500c:return"silkscreen/clie-s500.svg";case J.pegT400:return"silkscreen/clie-t415.svg";case J.acerS11:return"silkscreen/acer-s10.svg";case J.palmPilot:case J.pilot:case J.iii:case J.palmVII:return"silkscreen/pilot.svg";case J.m500:return"silkscreen/m500.svg";case J.m505:case J.m515:case J.m520:return"silkscreen/m515.svg";case J.iiic:return"silkscreen/iiic.svg";case J.m100:case J.m105:case J.m125:return"silkscreen/m100.svg";case J.m130:return"silkscreen/m130.svg";case J.i710:return"silkscreen/tungstenw.svg";case J.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case J.acerS11:return"hard-buttons/acer-s10.svg";case J.pegNR70:return"hard-buttons/clie-nr70.svg";case J.pegN700c:return"hard-buttons/clie-n700.svg";case J.pegN600c:return"hard-buttons/clie-n610.svg";case J.pegS300:return"hard-buttons/clie-s300.svg";case J.pegS500c:return"hard-buttons/clie-s500.svg";case J.pegS320:return"hard-buttons/clie-s320.svg";case J.pegT400:case J.pegT600c:case J.pegT650c:return"hard-buttons/clie-t415.svg";case J.pilot:case J.palmPilot:return"hard-buttons/pilot.svg";case J.m500:return"hard-buttons/m500.svg";case J.m505:case J.m515:case J.m520:return"hard-buttons/m515.svg";case J.iiic:return"hard-buttons/iiic.svg";case J.m100:case J.m105:return"hard-buttons/m100.svg";case J.m125:return"hard-buttons/m125.svg";case J.m130:return"hard-buttons/m130.svg";case J.i710:return"hard-buttons/tungstenw.svg";case J.iii:case J.iiix:case J.iiixe:case J.palmVII:case J.palmVIIEZ:case J.palmVIIx:return"hard-buttons/iiix.svg";case J.iiie:return"hard-buttons/iiie.svg";case J.i705:return"hard-buttons/i705.svg";case J.handera330:return"hard-buttons/handera330.svg";case J.handera330c:return"hard-buttons/handera330c.svg";case J.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return Q0(this.getDeviceId())?"white":EZ}frameColor(){return Q0(this.getDeviceId())?"white":"#ccc"}}function kZ(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class PZ{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,kZ((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function AZ(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,B.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(bR||Xi)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(u=>setTimeout(u,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let X_=(()=>{var e;class t extends MZ{constructor(n){super(new PZ(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,B.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,B.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,B.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??fS}getOrientation(){return this.session?.deviceOrientation??Or.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function OZ(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Sh(this.session?.device??fS).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((u,f)=>this.ctx.fillText(u,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Na))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),pS=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ho),v(X_),v(oc))},e.\u0275cmp=Ze({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(z(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),je(4,"ion-icon",3),z(5,"ion-label"),Ce(6,"Emulator"),L()(),z(7,"ion-tab-button",4),je(8,"ion-icon",5),z(9,"ion-label"),Ce(10,"Sessions"),L()(),z(11,"ion-tab-button",6),je(12,"ion-icon",7),z(13,"ion-label"),Ce(14,"Cards"),L()(),z(15,"ion-tab-button",8),je(16,"ion-icon",9),z(17,"ion-label"),Ce(18,"Settings"),L()(),z(19,"ion-tab-button",10),je(20,"ion-icon",11),z(21,"ion-label"),Ce(22,"About"),L()()()()()),2&n&&(ge(2),ta("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Wo,qi,P_,eR,tR],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Eh=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[gl,$0.forChild(),jc,Mu,D_]}),t})(),FZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[gl,Mu,jc,Eh,$0.forChild()]}),t})(),NZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[gl,Mu,jc,Eh]}),t})(),LZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[gl,Mu,jc,D_,Eh]}),t})(),$Z=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[gl,Mu,jc,Eh,D_]}),t})(),BZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[gl,jc,Mu,D_,Eh]}),t})();const VZ=C.p+"assets/doc/about-86788cbeecabf9f8.md";function jZ(e,t){if(1&e){const r=$n();z(0,"ion-button",1),Le("click",function(){return Dt(r),It(ut().onClick())}),je(1,"ion-icon",2),L()}if(2&e){const r=ut();ge(1),Se("name",r.iconName)}}let Q_=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return Xi?"logo-apple-appstore":CR?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(K0))},e.\u0275cmp=Ze({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&Wt(0,jZ,2,1,"ion-button",0),2&n&&Se("ngIf",o.show)},dependencies:[No,Hi,Wo]}),t})();function GZ(e,t){1&e&&(z(0,"div",10),je(1,"ion-spinner"),L())}function UZ(e,t){1&e&&(z(0,"div"),Ce(1,"app cached for offline use"),L())}let HZ=(()=>{var e;class t{constructor(n,o){this.modalController=n,this.serviceWorkerService=o,this.loading=!0}get version(){return Lu}get url(){return VZ}showChangelog(){var n=this;return(0,B.Z)(function*(){yield(yield n.modalController.create({component:Nu,componentProps:{url:NR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(hs),v(dS))},e.\u0275cmp=Ze({type:e,selectors:[["app-about"]],decls:21,vars:4,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"About"),L(),z(4,"ion-buttons",0),je(5,"app-pwa-prompt"),L()()(),z(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Ce(10,"About"),L()()(),Wt(11,GZ,2,0,"div",3),z(12,"div",4)(13,"markdown",5),Le("load",function(){return o.loading=!1}),L()(),z(14,"div",6),Ce(15),je(16,"br"),z(17,"a",7),Le("click",function(){return o.showChangelog()}),Ce(18,"Changelog"),L(),Wt(19,UZ,2,0,"div",8),L(),je(20,"img",9),L()),2&n&&(ge(11),Se("ngIf",o.loading),ge(2),Se("src",o.url),ge(2),yi(" CloudpilotEmu version ",o.version," "),ge(4),Se("ngIf",o.serviceWorkerAvailable))},dependencies:[No,zi,Wi,Zi,fh,Yi,Ki,Q_,L0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function zZ(e,t){if(1&e&&(z(0,"ion-select-option",16),Ce(1),L()),2&e){const r=t.$implicit;Se("value",r[0]),ge(1),yi("",r[1]," ")}}function WZ(e,t){if(1&e&&(z(0,"ion-select-option",16),Ce(1),L()),2&e){const r=t.$implicit;Se("value",r[0]),ge(1),yi("",r[1]," ")}}function ZZ(e,t){if(1&e&&(z(0,"ion-item",6)(1,"ion-label",7),Ce(2,"Hotsync name"),L(),je(3,"ion-input",17),L()),2&e){const r=ut();ge(3),Se("placeholder",r.placeholder)}}let lP=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Or.portrait,"Portrait"],[Or.landscape90,"Landscape 90\xb0"],[Or.landscape270,"Landscape 270\xb0"],[Or.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,$R(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function E9(e){switch(e){case J.palmPilot:case J.pilot:case J.iii:case J.palmVII:case J.palmVx:case J.palmV:case J.palmVIIEZ:case J.palmVIIx:case J.iiic:case J.iiix:case J.iiixe:case J.iiie:case J.m100:case J.m105:case J.pegS300:case J.pegS500c:return 16;case J.m500:case J.m505:case J.m515:case J.m520:case J.m125:case J.m130:case J.i705:case J.i710:case J.handera330:case J.handera330c:case J.pegS320:case J.pegT400:case J.pegN600c:case J.pegT600c:case J.pegN700c:case J.acerS11:return 33;case J.pegT650c:case J.pegNR70:case J.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new b_({name:new zo(this.session.name,{validators:[th.required,this.validateNameUnique]}),manageHotsyncName:new zo(!this.session.dontManageHotsyncName),hotsyncName:new zo(this.session.hotsyncName||""),device:new zo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new zo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new zo(this.session.deviceOrientation||Or.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(sc),v(lo))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Session settings"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.save()}),Ce(6,"Save"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),z(12,"h1"),Ce(13,"Session"),L(),z(14,"ion-item",6)(15,"ion-label",7),Ce(16,"Session name"),L(),je(17,"ion-input",8),L(),z(18,"h1"),Ce(19,"Device"),L(),z(20,"ion-item",6)(21,"ion-label",7),Ce(22,"Device type"),L(),z(23,"ion-select",9),Wt(24,zZ,2,2,"ion-select-option",10),L()(),z(25,"ion-item",6)(26,"ion-label",7),Ce(27,"Orientation"),L(),z(28,"ion-select",11),Wt(29,WZ,2,2,"ion-select-option",10),L()(),z(30,"ion-item",6)(31,"ion-label",12),Ce(32),L(),z(33,"ion-range",13),Le("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),L()(),z(34,"h1"),Ce(35,"Hotsync"),L(),z(36,"ion-item",6)(37,"ion-label"),Ce(38,"Manage hotsync name"),L(),je(39,"ion-toggle",14),L(),Wt(40,ZZ,4,1,"ion-item",15),L()()),2&n&&(ge(5),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup),ge(13),Se("ngForOf",o.deviceList),ge(5),Se("ngForOf",o.orientations),ge(3),$i(o.speedLabel),ge(8),Se("ngIf",o.showHotsyncNameInput))},dependencies:[Ac,No,Hi,zi,Wi,Zi,nc,Io,qi,x0,k_,R_,Yi,ph,Ki,uf,x_,tc,ec,Ql,Jl,C0,Fa,Sl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),qZ=(()=>{var e;class t{constructor(n,o,i,s,a,l,u){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=u}saveBackup(n){var o=this;return(0,B.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const u=yield o.cloudpilotService.cloudpilot;yield u.backup(function(){var f=(0,B.Z)(function*(h){for(h.Init(n);h.IsInProgress();){const m=h.GetCurrentDatabase();h.Save()||a.push(m),yield new Promise(b=>setTimeout(b,0))}l=u.getArchive(h)});return function(h){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${cS(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(QR(i,n),l)},"Cancel"):o.fileService.saveFile(QR(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(La),ue(sa),ue(wh),ue(Wc),ue(oc),ue(lo),ue(Na))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const YZ=window.AudioContext||window.webkitAudioContext;function hS(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class KZ{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,B.Z)(function*(){if(!r.initialized){try{r.context=new YZ}catch(n){return console.error(n),void console.error("web audio not available")}try{r.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield r.start()}catch(n){return console.error(n),void console.error("failed to initialize audio context")}r.context.addEventListener("statechange",()=>{"interrupted"===r.context?.state&&r.updateState()}),r.gainNode=r.context.createGain(),r.gainNode.channelCount=1,r.gainNode.channelInterpretation="speakers",r.gainNode.gain.value=r.gain(),r.gainNode.connect(r.context.destination),r.applyPwmUpdate(),r.initialized=!0}})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,B.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield hS(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield hS(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,B.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new Dl,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Xi||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Xi||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var t=this;return(0,B.Z)(function*(){t.context&&(yield hS(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let mS=(()=>{var e;class t extends KZ{constructor(n,o,i){super(n),this.kvs=o,this.modalWatcher=i,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(La),ue(Mi),ue(J0))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),uP=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(La),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function QZ(e,t){if(1&e){const r=$n();z(0,"ion-item",4),Le("click",function(){return Dt(r),It(ut().power())}),z(1,"ion-label"),Ce(2,"Power"),L(),je(3,"ion-icon",5),L()}if(2&e){const r=ut();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function JZ(e,t){if(1&e){const r=$n();z(0,"ion-item",4),Le("click",function(){return Dt(r),It(ut().hotsync())}),z(1,"ion-label"),Ce(2,"Hotsync"),L(),je(3,"ion-icon",6),L()}if(2&e){const r=ut();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function eq(e,t){if(1&e){const r=$n();z(0,"ion-item",4),Le("click",function(){return Dt(r),It(ut().reset())}),z(1,"ion-label"),Ce(2,"Reset"),L(),je(3,"ion-icon",7),L()}if(2&e){const r=ut();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function tq(e,t){if(1&e){const r=$n();z(0,"ion-item",8),Le("click",function(){return Dt(r),It(ut().insertCard())}),z(1,"ion-label"),Ce(2),L(),je(3,"ion-icon",9),L()}if(2&e){const r=ut();Se("detail",!1),ge(2),yi("Insert ",r.hasMemorystick?"stick":"SD card","")}}function nq(e,t){if(1&e){const r=$n();z(0,"ion-item",8),Le("click",function(){return Dt(r),It(ut().ejectCard())}),z(1,"ion-label"),Ce(2),L(),je(3,"ion-icon",10),L()}if(2&e){const r=ut();Se("detail",!1),ge(2),yi("Eject ",r.hasMemorystick?"stick":"SD card","")}}function rq(e,t){if(1&e){const r=$n();z(0,"ion-item",8),Le("click",function(){return Dt(r),It(ut().mute(!1))}),z(1,"ion-label"),Ce(2,"Enable audio"),L(),je(3,"ion-icon",11),L()}2&e&&Se("detail",!1)}function oq(e,t){if(1&e){const r=$n();z(0,"ion-item",8),Le("click",function(){return Dt(r),It(ut().mute(!0))}),z(1,"ion-label"),Ce(2,"Disable audio"),L(),je(3,"ion-icon",12),L()}2&e&&Se("detail",!1)}function iq(e,t){if(1&e){const r=$n();z(0,"ion-item",4),Le("click",function(){return Dt(r),It(ut().backup())}),z(1,"ion-label"),Ce(2,"Save backup"),L(),je(3,"ion-icon",13),L()}if(2&e){const r=ut();Se("detail",!1)("disabled",r.backupDisabled)}}function sq(e,t){if(1&e){const r=$n();z(0,"ion-item",8),Le("click",function(){return Dt(r),It(ut().rotate())}),z(1,"ion-label"),Ce(2,"Rotate"),L(),je(3,"ion-icon",14),L()}2&e&&Se("detail",!1)}function aq(e,t){if(1&e){const r=$n();z(0,"ion-item",8),Le("click",function(){return Dt(r),It(ut().editSettings())}),z(1,"ion-label"),Ce(2,"Settings"),L(),je(3,"ion-icon",15),L()}2&e&&Se("detail",!1)}function lq(e){switch(e){case Or.portrait:case void 0:return Or.landscape90;case Or.landscape90:return Or.portrait180;case Or.portrait180:return Or.landscape270;case Or.landscape270:return Or.portrait;default:throw new Error("cannot happen")}}let cq=(()=>{var e;class t{constructor(n,o,i,s,a,l,u,f,h,m,b,j,ee,he,ye,De,bt,vt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=u,this.kvsService=f,this.modalController=h,this.sessionService=m,this.performanceWatchdogService=b,this.canvasDisplayService=j,this.cloudpilotService=ee,this.storageCardService=he,this.alertService=ye,this.alertController=De,this.storageService=bt,this.errorService=vt,this.showHelp=()=>{}}reset(){var n=this;return(0,B.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,B.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function D9(e){switch(e){case J.i705:case J.i710:case J.pegNR70:case J.pegT650c:case J.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&BR(n.device)!==mf.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&BR(n.device)===mf.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,B.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:lP,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,B.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,B.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:lq(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,B.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,u)=>({label:l.name,type:"radio",value:l.id,checked:0===u})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,B.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(La),v(oc),v(qZ),v(YR),v(mh),v(rc),v(mS),v(Mi),v(hs),v(sc),v(uP),v(X_),v(Na),v(yf),v(lo),v(M0),v(nr),v(Ou))},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list"),Wt(1,QZ,4,2,"ion-item",0)(2,JZ,4,2,"ion-item",0)(3,eq,4,2,"ion-item",0)(4,tq,4,2,"ion-item",1)(5,nq,4,2,"ion-item",1)(6,rq,4,1,"ion-item",1)(7,oq,4,1,"ion-item",1)(8,iq,4,2,"ion-item",0)(9,sq,4,1,"ion-item",1)(10,aq,4,1,"ion-item",1),z(11,"ion-item",2),Le("click",function(){return o.help()}),z(12,"ion-label"),Ce(13,"Help"),L(),je(14,"ion-icon",3),L()()),2&n&&(ge(1),Se("ngIf",o.hasActiveSession&&!o.powerDisabled),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("ngIf",o.supportsStorageCard&&!o.hasMountedCard),ge(1),Se("ngIf",o.supportsStorageCard&&o.hasMountedCard),ge(1),Se("ngIf",o.isMuted&&!o.isAudioOff),ge(1),Se("ngIf",!o.isMuted&&!o.isAudioOff),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("ngIf",o.hasActiveSession),ge(1),Se("detail",!1))},dependencies:[No,Wo,Io,qi,Vs]}),t})();const uq=C.p+"assets/doc/emulation-36994d751edec46c.md";function dq(e,t){if(1&e){const r=$n();z(0,"ion-item",2),Le("click",function(){const i=Dt(r).$implicit;return It(ut(2).onSelect(i))}),z(1,"div",3),Ce(2),L()()}if(2&e){const r=t.$implicit,n=t.index,o=ut(2);Se("detail",!1)("lines",n===o.sessions.length-1?"none":"full"),ge(2),$i(r.name)}}function fq(e,t){if(1&e&&(z(0,"ion-list"),Wt(1,dq,3,3,"ion-item",1),L()),2&e){const r=ut();ge(1),Se("ngForOf",r.sessions)}}let pq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[1,"text-wrapper"]],template:function(n,o){1&n&&Wt(0,fq,2,1,"ion-list",0),2&n&&Se("ngIf",o.sessions)},dependencies:[Ac,No,Io,Vs],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}),t})();class hq{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const u=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:u}),this.handleButtonDown(u)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const u=this.canvasDisplayService.eventToPalmCoordinates(s);if(!u||2!==this.determineArea(u)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(u);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const u=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!u)continue;this.emulationService.handlePointerMove(...u,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let mq=(()=>{var e;class t extends hq{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(La),ue(X_),ue(J0),ue(Ue),ue(Aa))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function dP(e){return/\.(prc|pdb|pqa)$/i.test(e)}class bq{constructor(t,r,n,o,i){this.cloudpilotService=t,this.fstools=r,this.alertService=n,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,B.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else dP(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,B.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function yq(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,B.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!dP(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function vq(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,r,"Skip any remaining errors",!1,{},"Continue").then(n=>{this.skipErrors=n})}}let Cq=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(n){var o=this;return(0,B.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new bq(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const u=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,u,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${cS(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${cS(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Na),ue(La),ue(sa),ue(wh),ue(lo),ue(q_))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),gS=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Sq(e,t){1&e&&je(0,"div",2)}const wq=["*"];let Eq=0,fP=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new nn,this.triggerId="breadcrumb-trigger-"+Eq++}handleClick(n){this.disabled||(n.preventDefault(),this.trigger.emit(this.triggerId))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(n,o){1&n&&Le("click",function(s){return o.handleClick(s)}),2&n&&(Fs("id",o.triggerId),ta("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},ngContentSelectors:wq,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(n,o){1&n&&(_t(),z(0,"div",0),gt(1),L(),Wt(2,Sq,1,0,"div",1)),2&n&&(ge(2),Se("ngIf",!o.disabled))},dependencies:[No],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),t})();var Dh;const Dq=["canvas"];function Iq(e,t){1&e&&je(0,"div",11),2&e&&pu("width",ut().iosPlaceholderWidth)}function xq(e,t){if(1&e){const r=$n();z(0,"ion-button",12),Le("click",function(){return Dt(r),It(ut().navigation.lock())}),je(1,"ion-icon",13),L()}}function Tq(e,t){if(1&e){const r=$n();z(0,"ion-button",12),Le("click",function(){return Dt(r),It(ut().navigation.unlock())}),je(1,"ion-icon",14),L()}}function Mq(e,t){if(1&e){const r=$n();z(0,"ion-button",12),Le("click",function(o){return Dt(r),It(ut().openContextMenu(o))}),je(1,"ion-icon",15),L()}}function Aq(e,t){if(1&e){const r=$n();z(0,"ion-button",12),Le("click",function(){return Dt(r),It(ut().showGameModeHint())}),je(1,"ion-icon",16),L()}}function kq(e,t){if(1&e){const r=$n();z(0,"ion-button",12),Le("click",function(){return Dt(r),It(ut().showProxyConnectedHint())}),je(1,"ion-icon",17),L()}}function Rq(e,t){if(1&e){const r=$n();z(0,"ion-button",12),Le("click",function(){return Dt(r),It(ut().showSlowdowndHint())}),je(1,"ion-icon",18),L()}}function Pq(e,t){if(1&e){const r=$n();z(0,"ion-button",12),Le("click",function(o){return Dt(r),It(ut().openContextMenu(o))}),je(1,"ion-icon",15),L()}}function Oq(e,t){if(1&e){const r=$n();z(0,"div",19),Ce(1," The device was reset forcefully. How do you want to boot? "),z(2,"ion-button",20),Le("click",function(){return Dt(r),It(ut().bootAfterForcefulReset())}),Ce(3,"Normal boot"),L(),z(4,"ion-button",20),Le("click",function(){return Dt(r),It(ut().bootAfterForcefulResetNoExtensions())}),Ce(5,"No extensions"),L(),z(6,"ion-button",20),Le("click",function(){return Dt(r),It(ut().bootAfterForcefulResetHardReset())}),Ce(7,"Hard reset"),L()()}}function Fq(e,t){1&e&&(z(0,"div",19)(1,"div"),Ce(2,"No session selected"),L()())}class $a{constructor(t,r,n,o,i,s,a,l,u,f,h,m,b,j,ee,he,ye,De,bt,vt,pt){var An=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=u,this.fileService=f,this.snapshotService=h,this.installlationService=m,this.proxyService=b,this.navigation=j,this.linkApi=ee,this.performanceWatchdogService=he,this.cloudpilotService=ye,this.dragDropService=De,this.sessionService=bt,this.loadingController=vt,this.config=pt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,B.Z)(function*(){yield An.emulationService.bootstrapComplete(),An.bootstrapComplete=!0;const Pn=An.emulationState.getCurrentSession();Pn&&!Pn.wasResetForcefully&&(yield An.launchEmulator()),An.linkApi.installation.requestEvent.addHandler(An.handleLinkApiInstallationRequest),An.handleLinkApiInstallationRequest(),An.dragDropService.registerClient(An)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Pn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Pn,this.emulationService.getStatistics())},this.onNewFrame=Pn=>{this.canvasDisplayService.updateEmulationCanvas(Pn)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Pn=this.linkApi.installation.receivePendingUrl();Pn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Pn} ?`,{OK:()=>this.fileService.openUrl(Pn,Qi=>this.installlationService.installFiles([Qi]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Pn} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new Dl}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t,r="trigger"){var n=this;return(0,B.Z)(function*(){(yield n.popoverController.create({component:cq,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:Nu,componentProps:{url:uq}})).present()})()}showGameModeHint(){var t=this;return(0,B.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,B.Z)(function*(){yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,B.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,B.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,B.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,B.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.proxyService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var r=this;return(0,B.Z)(function*(){(yield r.popoverController.create({component:pq,componentProps:{sessions:r.sessionService.getSessions().filter(o=>o.id!==r.emulationState.getCurrentSession()?.id),onSelect:o=>r.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.getSessions()}get currentSession(){return this.emulationState.getCurrentSession()}clearForcefulReset(){var t=this;return(0,B.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.getCurrentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,B.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var r=this;return(0,B.Z)(function*(){const n=yield r.loadingController.create();yield n.present();try{if(r.lastTitle=r.title,r.switching=!0,yield r.emulationService.pause(),!(yield r.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield r.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield r.launchEmulator())}finally{n.dismiss(),r.switching=!1}})()}}(Dh=$a).\u0275fac=function(t){return new(t||Dh)(v(La),v(oc),v(nr),v(mq),v(X_),v(Mi),v(rc),v(hs),v(lo),v(Wc),v(wh),v(Cq),v(nS),v(pS),v(mC),v(uP),v(Na),v(gS),v(sc),v(sa),v(ah))},Dh.\u0275cmp=Ze({type:Dh,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&Ic(Dq,5),2&t){let n;Ls(n=$s())&&(r.canvasRef=n.first)}},decls:23,vars:23,consts:[[3,"disabled","trigger"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",0),Le("trigger",function(o){return r.onBreadcrumbTrigger(o)}),Wt(4,Iq,1,2,"div",1),Ce(5),L()(),z(6,"ion-buttons",2)(7,"ion-button",3),Le("click",function(){return r.installFiles()}),je(8,"ion-icon",4),L(),Wt(9,xq,2,0,"ion-button",5)(10,Tq,2,0,"ion-button",5),L(),z(11,"ion-buttons",6),Wt(12,Mq,2,0,"ion-button",5)(13,Aq,2,0,"ion-button",5)(14,kq,2,0,"ion-button",5)(15,Rq,2,0,"ion-button",5)(16,Pq,2,0,"ion-button",5),L()()(),z(17,"ion-content",7),Le("contextmenu",function(o){return r.onContextMenu(o)}),z(18,"div",8),Le("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),je(19,"canvas",null,9),L(),Wt(21,Oq,8,0,"div",10)(22,Fq,3,0,"div",10),L()),2&t){let n,o;ge(3),Se("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.currentSession||0===r.sessions.length),ge(1),Se("ngIf","ios"===r.config.get("mode")),ge(1),yi(" ",r.title,""),ge(2),Se("disabled",r.installFileDisabled),ge(2),Se("ngIf",!r.navigation.isLocked()),ge(1),Se("ngIf",r.navigation.isLocked()),ge(2),Se("ngIf","ios"===r.config.get("mode")),ge(1),Se("ngIf",r.eventHandlingService.isGameMode()),ge(1),Se("ngIf",r.proxyService.isConnected()),ge(1),Se("ngIf",r.performanceWatchdogService.isSlowdownDetected()),ge(1),Se("ngIf","ios"!==r.config.get("mode")),ge(1),ta("locked",r.navigation.isLocked()),ge(1),pu("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),ge(1),pu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),ge(2),Se("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),ge(1),Se("ngIf",!r.emulationState.getCurrentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[No,Hi,zi,Wi,Zi,Wo,Yi,Ki,fP],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),oe([Wn()],$a.prototype,"openContextMenu",null),oe([Wn()],$a.prototype,"showHelp",null),oe([Wn()],$a.prototype,"showGameModeHint",null),oe([Wn()],$a.prototype,"showProxyConnectedHint",null),oe([Wn()],$a.prototype,"showSlowdowndHint",null),oe([Wn()],$a.prototype,"bootAfterForcefulReset",null),oe([Wn()],$a.prototype,"bootAfterForcefulResetNoExtensions",null),oe([Wn()],$a.prototype,"bootAfterForcefulResetHardReset",null),oe([Wn()],$a.prototype,"onBreadcrumbTrigger",null);const pP="reduced-animations",Nq=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,I0.c)()),Lq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,I0.c)()},$q=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,I0.c)()};function hP(e){localStorage.setItem(pP,e?"1":"0")}function mP(){return"1"===(localStorage.getItem(pP)??"0")}const Vq=C.p+"assets/doc/settings-589ae62c10d3967b.md";function jq(e,t){1&e&&(z(0,"ion-item",7)(1,"ion-label"),Ce(2,"Clipboard integration"),L(),je(3,"ion-toggle",18),L())}function Gq(e,t){if(1&e){const r=$n();z(0,"ion-item",7)(1,"ion-label",19),Ce(2,"Proxy server"),L(),z(3,"div",20),je(4,"ion-input",21),z(5,"ion-button",22),Le("click",function(o){Dt(r);const i=ut();return o.preventDefault(),o.stopPropagation(),It(i.testProxyConnection())})("touchstart",function(o){Dt(r);const i=ut();return o.preventDefault(),o.stopPropagation(),It(i.testProxyConnection())}),Ce(6," Test "),L()()()}if(2&e){const r=ut();ge(5),Se("disabled",!r.proxyServerValid)}}function Uq(e,t){1&e&&(Rd(0),z(1,"h1"),Ce(2,"Debug"),L(),z(3,"ion-item",7)(4,"ion-label"),Ce(5,"Snapshot validation (slow)"),L(),je(6,"ion-toggle",23),L(),Pd())}let Hq=(()=>{var e;class t{constructor(n,o,i,s,a){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.onAudioOnStartChange=l=>{this.kvsService.kvs.enableAudioOnFirstInteraction=l,l&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=l=>{hP(l),this.alertService.message("Reduce animations",l?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,B.Z)(function*(){yield(yield n.modalController.create({component:Nu,componentProps:{url:Vq}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,B.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),hP(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,B.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return true}createFormGroup(){this.formGroup=new b_({volume:new zo(this.kvsService.kvs.volume),showStatistics:new zo(this.kvsService.kvs.showStatistics),runHidden:new zo(this.kvsService.kvs.runHidden),clipboardIntegration:new zo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new zo(this.kvsService.kvs.networkRedirection),proxyServer:new zo(this.kvsService.kvs.proxyServer,{validators:[H9]}),autoLockUI:new zo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new zo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new zo(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new zo(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new zo(mP())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(hs),v(Mi),v(WR),v(lo),v(nS))},e.\u0275cmp=Ze({type:e,selectors:[["app-settings"]],decls:56,vars:4,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Settings"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.showHelp()}),je(6,"ion-icon",2),L(),je(7,"app-pwa-prompt"),L()()(),z(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Ce(12,"Settings"),L()()(),z(13,"div",5)(14,"form",6)(15,"h1"),Ce(16,"Emulation"),L(),z(17,"ion-item",7)(18,"ion-label"),Ce(19,"Volume"),L(),je(20,"ion-range",8),L(),z(21,"ion-item",7)(22,"ion-label"),Ce(23,"Enable audio on start"),L(),je(24,"ion-toggle",9),L(),z(25,"ion-item",7)(26,"ion-label"),Ce(27,"Run when hidden"),L(),je(28,"ion-toggle",10),L(),z(29,"h1"),Ce(30,"Host integration"),L(),Wt(31,jq,4,0,"ion-item",11),z(32,"ion-item",7)(33,"ion-label"),Ce(34,"Network redirection"),L(),je(35,"ion-toggle",12),L(),Wt(36,Gq,7,1,"ion-item",11),z(37,"h1"),Ce(38,"UI"),L(),z(39,"ion-item",7)(40,"ion-label"),Ce(41,"Auto-lock UI"),L(),je(42,"ion-toggle",13),L(),z(43,"ion-item",7)(44,"ion-label"),Ce(45,"Reduce animations"),L(),je(46,"ion-toggle",14),L(),z(47,"ion-item",7)(48,"ion-label"),Ce(49,"Show statistics"),L(),je(50,"ion-toggle",15),L(),z(51,"ion-item",7)(52,"ion-label"),Ce(53,"Open from remote sources"),L(),je(54,"ion-toggle",16),L(),Wt(55,Uq,7,0,"ng-container",17),L()()()),2&n&&(ge(14),Se("formGroup",o.formGroup),ge(17),Se("ngIf",o.clipboardService.isSupported()),ge(5),Se("ngIf",o.showProxyServer),ge(19),Se("ngIf",o.showDebugOptions))},dependencies:[No,ec,Ql,Jl,Hi,zi,Wi,Zi,Wo,nc,Io,qi,x0,Yi,ph,Ki,uf,tc,Q_,Fa,Sl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),_S=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Po({name:"cardSize",type:e,pure:!0}),t})();function zq(e,t){1&e&&(z(0,"div",13)(1,"b"),Ce(2,"WARNING:"),L(),Ce(3," This image cannot be used as a memory stick image."),L())}let gP=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Vc({name:new ps("",{nonNullable:!0,validators:[th.required,this.validateNameUnique]}),size:new ps({value:"dummy",disabled:!0}),checkAutomatically:new ps(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(v(yf))},e.\u0275cmp=Ze({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.save()}),Ce(6,"Save"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),L(),je(15,"ion-input",8),L(),z(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),L(),z(19,"ion-select",9)(20,"ion-select-option",10),Ce(21),pl(22,"cardSize"),L()()(),z(23,"ion-item",6)(24,"ion-label"),Ce(25,"Check for errors automatically"),L(),je(26,"ion-toggle",11),L()(),Wt(27,zq,4,0,"div",12),L()),2&n&&(ge(3),$i(o.newCard?"New memory card":"Edit memory card"),ge(2),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup),ge(10),yi("",hl(22,5,null==o.card?null:o.card.size)," "),ge(6),Se("ngIf",!o.memoryStickSupported))},dependencies:[No,Hi,zi,Wi,Zi,nc,Io,qi,k_,R_,Yi,ph,Ki,uf,x_,tc,ec,Ql,Jl,Fa,Sl,_S],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function Wq(e,t){if(1&e&&(z(0,"ion-select-option",12),Ce(1),pl(2,"cardSize"),L()),2&e){const r=t.$implicit,n=ut();Se("value",r),ge(1),yi("",hl(2,2,n.sizeBytes(r))," ")}}const Zq=[Zo.mb4,Zo.mb8,Zo.mb16,Zo.mb32,Zo.mb64,Zo.mb128];let qq=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Vc({name:new ps("",{nonNullable:!0,validators:[th.required,this.validateNameUnique]}),size:new ps(Zo.mb32,{nonNullable:!0}),checkAutomatically:new ps(!0,{nonNullable:!0})})}get sizes(){return Zq}sizeBytes(n){return function gZ(e){switch(e){case Zo.mb4:return 4046848;case Zo.mb8:return 8110080;case Zo.mb16:return 16220160;case Zo.mb32:return 32473088;case Zo.mb64:return 64978944;case Zo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(yf))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"New memory card"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.create()}),Ce(6,"Create"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),L(),je(15,"ion-input",8),L(),z(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),L(),z(19,"ion-select",9),Wt(20,Wq,3,4,"ion-select-option",10),L()(),z(21,"ion-item",6)(22,"ion-label"),Ce(23,"Check for errors automatically"),L(),je(24,"ion-toggle",11),L()()()),2&n&&(ge(5),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup),ge(9),Se("ngForOf",o.sizes))},dependencies:[Ac,Hi,zi,Wi,Zi,nc,Io,qi,k_,R_,Yi,ph,Ki,uf,x_,tc,ec,Ql,Jl,Fa,Sl,_S]}),t})();function Zc(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const Yq=C.p+"assets/doc/cards-75195154c07dfe52.md";let Kq=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return null==o.onExport?null:o.onExport()}),je(2,"ion-icon",1),Ce(3," Export "),L(),z(4,"ion-item",0),Le("click",function(){return null==o.onDelete?null:o.onDelete()}),je(5,"ion-icon",2),Ce(6," Delete "),L(),z(7,"ion-item",3),Le("click",function(){return null==o.onHelp?null:o.onHelp()}),je(8,"ion-icon",4),Ce(9," Help "),L()()),2&n&&(ge(1),Se("detail",!1)("disabled",0===o.cardCount),ge(3),Se("detail",!1)("disabled",0===o.cardCount),ge(3),Se("detail",!1))},dependencies:[Wo,Io,Vs]}),t})(),Xq=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Ce(3," Edit "),L(),z(4,"ion-item",0),Le("click",function(){return o.onSave()}),je(5,"ion-icon",2),Ce(6," Export "),L(),z(7,"ion-item",0),Le("click",function(){return o.onCheck()}),je(8,"ion-icon",3),Ce(9," Check "),L(),z(10,"ion-item",4),Le("click",function(){return o.onDelete()}),je(11,"ion-icon",5),Ce(12," Delete "),L()()),2&n&&(ge(1),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1))},dependencies:[Wo,Io,Vs]}),t})();function Qq(e,t){1&e&&je(0,"ion-icon",15)}function Jq(e,t){1&e&&je(0,"ion-icon",16)}let eY=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new nn,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new nn,this.edit=new nn,this.check=new nn,this.delete=new nn,this.save=new nn,this.checkSessions=Zc(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,B.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Xq,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case gr.dirty:return"needs check";case gr.clean:return"no errors";case gr.unformatted:return"no filesystem";case gr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(v(yf),v(rc),v(sc),v(ct))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=$n();z(0,"ion-item-sliding",0,1),Le("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Le("click",function(){return Dt(i),Ns(1).close(),It(o.edit.emit(o.card))}),je(4,"ion-icon",4),L(),z(5,"ion-item-option",5),Le("click",function(){return Dt(i),Ns(1).close(),It(o.save.emit(o.card))}),je(6,"ion-icon",6),L()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Le("click",function(){return Dt(i),Ns(1).close(),It(o.check.emit(o.card))}),je(9,"ion-icon",9),L(),z(10,"ion-item-option",10),Le("click",function(){return Dt(i),Ns(1).close(),It(o.delete.emit(o.card))}),je(11,"ion-icon",11),L()(),z(12,"ion-item",12),Le("click",function(){return o.selectCard.emit(),o.interaction.emit()}),z(13,"ion-label")(14,"h2"),Ce(15),L(),z(16,"p"),Ce(17),pl(18,"cardSize"),L()(),Wt(19,Qq,1,0,"ion-icon",13)(20,Jq,1,0,"ion-icon",14),L()()}2&n&&(ge(12),Se("color",o.color),ge(1),ta("selecting",o.selecting),ge(2),$i(null==o.card?null:o.card.name),ge(2),Dp("",hl(18,8,null==o.card?null:o.card.size),", ",o.status,""),ge(2),Se("ngIf",o.selecting&&!o.selectedForExport),ge(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[No,Wo,Io,T_,M_,A_,qi,_S],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var Ih;function tY(e,t){if(1&e){const r=$n();z(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Memory cards"),L(),z(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Dt(r),It(ut().addCardImage())}),je(5,"ion-icon",8),L()(),z(6,"ion-buttons",9)(7,"ion-button",7),Le("click",function(o){return Dt(r),It(ut().openActionMenu(o))}),je(8,"ion-icon",10),L(),je(9,"app-pwa-prompt"),L()()}}function nY(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Export"),L())}function rY(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Delete"),L())}function oY(e,t){if(1&e){const r=$n();z(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Dt(r),It(ut(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function iY(e,t){if(1&e){const r=$n();z(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Dt(r),It(ut(2).selection.clear())}),Ce(2,"Clear"),L()()}}function sY(e,t){if(1&e){const r=$n();z(0,"ion-toolbar"),Wt(1,nY,2,0,"ion-title",0)(2,rY,2,0,"ion-title",0),z(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Dt(r),It(ut().onSelectionDone())}),Ce(5),L()(),Wt(6,oY,3,0,"ion-buttons",11)(7,iY,3,0,"ion-buttons",11),L()}if(2&e){const r=ut();ge(1),Se("ngIf","select-for-export"===r.mode),ge(1),Se("ngIf","select-for-delete"===r.mode),ge(3),$i(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),ge(1),Se("ngIf",r.selection.size!==r.cards.length),ge(1),Se("ngIf",r.selection.size===r.cards.length)}}function aY(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Memory cards"),L())}function lY(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for export"),L())}function cY(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for delete"),L())}function uY(e,t){1&e&&(z(0,"div",13),je(1,"ion-spinner"),L())}function dY(e,t){1&e&&(z(0,"div",14)(1,"div",15),Ce(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),L()())}function fY(e,t){if(1&e){const r=$n();z(0,"app-storage-card",17),Le("delete",function(){const i=Dt(r).$implicit;return It(ut(2).deleteCard(i))})("selectCard",function(){const i=Dt(r).$implicit,s=ut(2);return It("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=Dt(r).$implicit;return It(ut(2).editCard(i))})("check",function(){const i=Dt(r).$implicit;return It(ut(2).checkCard(i))})("interaction",function(){const i=Dt(r).$implicit;return It(ut(2).lastCardTouched=i.id)})("save",function(){const i=Dt(r).$implicit;return It(ut(2).saveCard(i))}),L()}if(2&e){const r=t.$implicit,n=ut(2);Se("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function pY(e,t){if(1&e&&(z(0,"ion-list"),Wt(1,fY,1,4,"app-storage-card",16),L()),2&e){const r=ut();ge(1),Se("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class Tl{constructor(t,r,n,o,i,s,a,l,u,f,h,m){var b=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=u,this.popoverController=f,this.cd=m,this.handleCardImport=function(){var j=(0,B.Z)(function*(ee){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(ee.name))return void b.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(ee.name.endsWith(".zip")){let vt=!1;return yield b.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>vt=!0},"Cancel"),void(vt&&(yield b.storageCardService.addAllCardsFromArchive(yield ee.getContent())))}const he=yield b.cloudpilotService.cloudpilot;let ye;try{ye=yield ee.getContent()}catch(vt){return console.warn(vt),void(yield b.alertService.errorMessage(`Unable to open ${ee.name}".`))}if(/\.gz$/.test(ee.name)){const vt=yield b.loadingController.create({message:"Unpacking..."});yield vt.present();try{ye=yield b.fstools.gunzip(ye)}finally{yield vt.dismiss()}}const De=ye?he.getCardSupportLevel(ye.length):0;if(void 0===ye||0===De)return void b.alertService.errorMessage("This is not a supported card image.");const bt=yield new Promise(function(){var vt=(0,B.Z)(function*(pt){const An=yield b.modalController.create({component:gP,backdropDismiss:!1,componentProps:{card:{name:b.disambiguateName(ee.name.replace(/\.gz$/,"")),size:ye.length},cardSupportLevel:De,newCard:!0,onCancel:()=>{An.dismiss(),pt(void 0)},onSave:Pn=>{pt(Pn),An.dismiss()}}});yield An.present()});return function(pt){return vt.apply(this,arguments)}}());bt&&(yield b.storageCardService.createCardFromImage(bt.name,ye,!!bt.dontFsckAutomatically))});return function(ee){return j.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=Zc(m,[],()=>this.storageCardService.getAllCards()),this.checkSessions=Zc(m,void 0,()=>h.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,B.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:Nu,componentProps:{url:Yq}})).present()})()}browseCard(t){var r=this;return(0,B.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,B.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:gP,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,B.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,B.Z)(function*(){const n=`${vf(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,B.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,B.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,B.Z)(function*(){const o=yield n.popoverController.create({component:Kq,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,B.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,B.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,B.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,B.Z)(function*(){const r=yield t.modalController.create({component:qq,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,B.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return _f(t,n=>r.some(o=>o.name===n))}}function hY(e,t){1&e&&je(0,"ion-icon",8)}function mY(e,t){1&e&&je(0,"ion-icon",9)}function gY(e,t){1&e&&je(0,"ion-icon",10)}function _Y(e,t){if(1&e){const r=$n();z(0,"ion-item",2),Le("click",function(){const i=Dt(r).index;return It(ut(2).onSelect(i))}),Rd(1,3),Wt(2,hY,1,0,"ion-icon",4)(3,mY,1,0,"ion-icon",5)(4,gY,1,0,"ion-icon",6),Pd(),z(5,"div",7),Ce(6),L()()}if(2&e){const r=t.$implicit,n=t.index,o=ut(2);Se("detail",!1)("lines",n===o.entries.length-1?"none":"full"),ge(1),Se("ngSwitch",o.entries.length),ge(1),Se("ngSwitchCase",n+1),ge(1),Se("ngSwitchCase",n+2),ge(3),$i(r)}}function vY(e,t){if(1&e&&(z(0,"ion-list"),Wt(1,_Y,7,6,"ion-item",1),L()),2&e){const r=ut();ge(1),Se("ngForOf",r.entries)}}(Ih=Tl).\u0275fac=function(t){return new(t||Ih)(v(mh),v(yf),v(hs),v(Na),v(lo),v(Ou),v(Wc),v(sa),v(q_),v(rc),v(sc),v(ct))},Ih.\u0275cmp=Ze({type:Ih,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(z(0,"ion-header"),Wt(1,tY,10,0,"ion-toolbar",0)(2,sY,8,5,"ion-toolbar",0),L(),z(3,"ion-content",1),Le("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"ion-header",2)(5,"ion-toolbar"),Wt(6,aY,2,0,"ion-title",3)(7,lY,2,0,"ion-title",3)(8,cY,2,0,"ion-title",3),L()(),Wt(9,uY,2,0,"div",4)(10,dY,3,0,"div",5)(11,pY,2,2,"ion-list",0),L()),2&t&&(ge(1),Se("ngIf","manage"===r.mode),ge(1),Se("ngIf","manage"!==r.mode),ge(4),Se("ngIf","manage"===r.mode),ge(1),Se("ngIf","select-for-export"===r.mode),ge(1),Se("ngIf","select-for-delete"===r.mode),ge(1),Se("ngIf",r.storageCardService.isLoading()),ge(1),Se("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),ge(1),Se("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Ac,No,Hi,zi,Wi,Zi,Wo,Vs,fh,Yi,Ki,Q_,eY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),oe([Wn()],Tl.prototype,"addCardImage",null),oe([Wn()],Tl.prototype,"browseCard",null),oe([Wn()],Tl.prototype,"editCard",null),oe([Wn()],Tl.prototype,"saveCard",null),oe([Wn()],Tl.prototype,"checkCard",null),oe([Wn()],Tl.prototype,"deleteCard",null),oe([Wn()],Tl.prototype,"onSelectionDone",null),oe([Wn()],Tl.prototype,"openActionMenu",null);let yY=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&Wt(0,vY,2,1,"ion-list",0),2&n&&Se("ngIf",o.entries)},dependencies:[Ac,No,Vg,yT,bT,Wo,Io,Vs],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}),t})(),bY=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Bu))},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onStartSelection()}),je(2,"ion-icon",1),Ce(3," Start selection "),L(),z(4,"ion-item",2),Le("click",function(){return o.onAddFiles()}),je(5,"ion-icon",3),Ce(6," Add files "),L(),z(7,"ion-item",2),Le("click",function(){return o.onCreateDirectry()}),je(8,"ion-icon",4),Ce(9," Add directory "),L(),z(10,"ion-item",2),Le("click",function(){return o.onExtractZipfile()}),je(11,"ion-icon",5),Ce(12," Extract zip "),L(),z(13,"ion-item",0),Le("click",function(){return o.onPaste()}),je(14,"ion-icon",6),Ce(15," Paste "),L(),z(16,"ion-item",7),Le("click",function(){return o.onHelp()}),je(17,"ion-icon",8),Ce(18," Help "),L()()),2&n&&(ge(1),Se("detail",!1)("disabled",o.emptyDirectory),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),ge(3),Se("detail",!1))},dependencies:[Wo,Io,Vs]}),t})();var xh;class J_{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Vc({name:new ps("",{nonNullable:!0,validators:[th.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ps(!1,{nonNullable:!0}),attrHidden:new ps(!1,{nonNullable:!0}),attrSystem:new ps(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,B.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,B.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,B.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(xh=J_).\u0275fac=function(t){return new(t||xh)(v(hs),v(Bu))},xh.\u0275cmp=Ze({type:xh,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return r.onSaveClick()}),Ce(6,"Save"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return r.onCancelClick()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return r.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14),L(),je(15,"ion-input",8),L(),z(16,"ion-item",6)(17,"h2"),Ce(18,"Attributes"),L()(),z(19,"ion-item",6)(20,"ion-label"),je(21,"ion-icon",9),Ce(22,"Readonly"),L(),je(23,"ion-checkbox",10),L(),z(24,"ion-item",6)(25,"ion-label"),je(26,"ion-icon",11),Ce(27,"Hidden"),L(),je(28,"ion-checkbox",12),L(),z(29,"ion-item",6)(30,"ion-label"),je(31,"ion-icon",13),Ce(32,"System"),L(),je(33,"ion-checkbox",14),L()()()),2&t&&(ge(3),yi("Edit ",r.subjectName.toLowerCase(),""),ge(2),Se("disabled",r.formGroup.invalid),ge(6),Se("formGroup",r.formGroup),ge(3),yi("",r.subjectName," name"),ge(1),fg("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[Hi,zi,Jk,Wi,Zi,Wo,nc,Io,qi,Yi,Ki,uf,tc,ec,Ql,Jl,Fa,Sl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),oe([Wn()],J_.prototype,"onSaveClick",null),oe([Wn()],J_.prototype,"onEnter",null);let CY=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rt),v(Ue))},e.\u0275dir=kt({type:e,selectors:[["","appAutofocus",""]]}),t})(),SY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Vc({name:new ps("",{nonNullable:!0,validators:[th.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Bu),v(hs))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(z(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Create directory"),L(),z(4,"ion-buttons",0)(5,"ion-button",1),Le("click",function(){return o.onCreateClick()}),Ce(6,"Create"),L()(),z(7,"ion-buttons",2)(8,"ion-button",3),Le("click",function(){return o.onCancelClick()}),Ce(9,"Cancel"),L()()()(),z(10,"ion-content",4)(11,"form",5),Le("keydown.enter",function(){return o.onEnter()}),z(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Directory name"),L(),je(15,"ion-input",8),L()()()),2&n&&(ge(5),Se("disabled",o.formGroup.invalid),ge(6),Se("formGroup",o.formGroup))},dependencies:[Hi,zi,Wi,Zi,nc,Io,qi,Yi,Ki,tc,ec,Ql,Jl,Fa,Sl,CY]}),t})();function _P(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const wY=C.p+"assets/doc/card-browser-5a0261814255810d.md";let EY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Ce(3," Edit "),L(),z(4,"ion-item",0),Le("click",function(){return o.onSave()}),je(5,"ion-icon",2),Ce(6," Save "),L(),z(7,"ion-item",0),Le("click",function(){return o.onCopy()}),je(8,"ion-icon",3),Ce(9," Copy "),L(),z(10,"ion-item",0),Le("click",function(){return o.onCut()}),je(11,"ion-icon",4),Ce(12," Cut "),L(),z(13,"ion-item",5),Le("click",function(){return o.onDelete()}),je(14,"ion-icon",6),Ce(15," Delete "),L()()),2&n&&(ge(1),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1))},dependencies:[Wo,Io,Vs]}),t})(),vP=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Po({name:"fileSize",type:e,pure:!0}),t})();const DY=["slidingItem"];function IY(e,t){1&e&&je(0,"ion-icon",24)}function xY(e,t){1&e&&je(0,"ion-icon",25)}function TY(e,t){1&e&&je(0,"ion-icon",26)}function MY(e,t){1&e&&je(0,"ion-icon",27)}function AY(e,t){1&e&&je(0,"ion-icon",28)}function kY(e,t){1&e&&je(0,"ion-icon",29)}function RY(e,t){1&e&&je(0,"ion-icon",30)}function PY(e,t){1&e&&je(0,"ion-icon",31)}function OY(e,t){1&e&&je(0,"ion-icon",32)}function FY(e,t){if(1&e&&(Rd(0),Ce(1),pl(2,"fileSize"),Pd()),2&e){const r=ut();ge(1),yi(" - ",hl(2,1,null==r.entry?null:r.entry.size)," ")}}let NY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new nn,this.selectEntry=new nn,this.editEntry=new nn,this.copyEntry=new nn,this.cutEntry=new nn,this.deleteEntry=new nn,this.saveEntry=new nn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,B.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:EY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,B.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(v(mh),v(rc),v(Bu))},e.\u0275cmp=Ze({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&Ic(DY,5),2&n){let i;Ls(i=$s())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[sr],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=$n();z(0,"ion-item-sliding",0,1),Le("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Le("click",function(){return Dt(i),Ns(1).close(),It(o.editEntry.emit(o.entry))}),je(4,"ion-icon",4),L(),z(5,"ion-item-option",5),Le("click",function(){return Dt(i),Ns(1).close(),It(o.saveEntry.emit(o.entry))}),je(6,"ion-icon",6),L()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Le("click",function(){return Dt(i),Ns(1).close(),It(o.cutOrCopyEntry())}),je(9,"ion-icon",9),L(),z(10,"ion-item-option",10),Le("click",function(){return Dt(i),Ns(1).close(),It(o.deleteEntry.emit(o.entry))}),je(11,"ion-icon",11),L()(),z(12,"ion-item",12),Le("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),Wt(13,IY,1,0,"ion-icon",13)(14,xY,1,0,"ion-icon",14),z(15,"div",15),Wt(16,TY,1,0,"ion-icon",16)(17,MY,1,0,"ion-icon",17)(18,AY,1,0,"ion-icon",18)(19,kY,1,0,"ion-icon",19)(20,RY,1,0,"ion-icon",20),L(),Wt(21,PY,1,0,"ion-icon",21)(22,OY,1,0,"ion-icon",22),z(23,"ion-label")(24,"h2"),Ce(25),L(),z(26,"p"),Ce(27),Wt(28,FY,3,3,"ng-container",23),L()()()()}2&n&&(Se("disabled",o.selecting),ge(12),pu("opacity",o.touched?1:.99999),ta("is-directory",null==o.entry?null:o.entry.isDirectory),Se("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),ge(1),Se("ngIf",null==o.entry?null:o.entry.isDirectory),ge(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)),ge(2),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),ge(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),ge(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),ge(1),Se("ngIf",o.markedForCopy),ge(1),Se("ngIf",o.markedForCut),ge(1),Se("ngIf",o.selecting&&!o.selected),ge(1),Se("ngIf",o.selecting&&o.selected),ge(1),pu("padding-right",o.safetyMargin),ta("selecting",o.selecting),ge(2),$i(null==o.entry?null:o.entry.name),ge(2),yi(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),ge(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[No,Wo,Io,T_,M_,A_,qi,vP],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var Th;function LY(e,t){if(1&e){const r=$n();z(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",6),Le("trigger",function(o){return Dt(r),It(ut().openBreadcrumbMenu(o))}),Ce(3),L()(),z(4,"ion-buttons",7),je(5,"ion-back-button"),L(),z(6,"ion-buttons",8)(7,"ion-button",9),Le("click",function(o){return Dt(r),It(ut().openContextMenu(o,"trigger"))}),je(8,"ion-icon",10),L()()()}if(2&e){const r=ut();ge(3),$i(r.title)}}function $Y(e,t){if(1&e){const r=$n();z(0,"ion-buttons",12)(1,"ion-button",9),Le("click",function(){return Dt(r),It(ut(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function BY(e,t){if(1&e){const r=$n();z(0,"ion-buttons",12)(1,"ion-button",9),Le("click",function(){return Dt(r),It(ut(2).selection.clear())}),Ce(2,"Clear"),L()()}}function VY(e,t){if(1&e){const r=$n();z(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Selection"),L(),z(3,"ion-buttons",8)(4,"ion-button",9),Le("click",function(){return Dt(r),It(ut().onSelectionDone())}),Ce(5),L()(),Wt(6,$Y,3,0,"ion-buttons",11)(7,BY,3,0,"ion-buttons",11),L()}if(2&e){const r=ut();ge(5),$i(0===r.selection.size?"Cancel":"Done"),ge(1),Se("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),ge(1),Se("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function jY(e,t){if(1&e&&(z(0,"div",13)(1,"div",14),Ce(2),L()()),2&e){const r=ut();ge(2),yi("empty ",r.isRoot?"card":"directory","")}}function GY(e,t){if(1&e){const r=$n();z(0,"app-file-entry",15),Le("selectEntry",function(){const i=Dt(r).$implicit;return It(ut().onSelect(i))})("editEntry",function(){const i=Dt(r).$implicit;return It(ut().onEditEntry(i))})("saveEntry",function(){const i=Dt(r).$implicit;return It(ut().onSaveEntry(i))})("copyEntry",function(){const i=Dt(r).$implicit;return It(ut().onCopyEntry(i))})("cutEntry",function(){const i=Dt(r).$implicit;return It(ut().onCutEntry(i))})("deleteEntry",function(){const i=Dt(r).$implicit;return It(ut().onDeleteEntry(i))})("interaction",function(){const i=Dt(r).$implicit;return It(ut().lastEntryTouched=i.name)}),L()}if(2&e){const r=t.$implicit,n=ut();Se("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function UY(e,t){if(1&e&&(z(0,"p"),Ce(1),pl(2,"fileSize"),pl(3,"fileSize"),L()),2&e){const r=ut(2);ge(1),Dp("",hl(2,2,r.bytesFree)," free, ",hl(3,4,r.bytesTotal)," total")}}function HY(e,t){if(1&e&&(z(0,"p"),Ce(1),pl(2,"fileSize"),L()),2&e){const r=ut(2);ge(1),sb(" ",hl(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function zY(e,t){if(1&e&&(z(0,"ion-item",16)(1,"ion-label"),Wt(2,UY,4,6,"p",0)(3,HY,3,5,"p",0),L()()),2&e){const r=ut();ge(2),Se("ngIf",r.isRoot),ge(1),Se("ngIf",r.fileCount>0)}}function WY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class Ba{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=_P(u=>u?.reduce((f,h)=>f+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=_P(u=>u?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.checkEntries=Zc(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=Zc(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(WY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,B.Z)(function*(){yield(yield r.modalController.create({component:J_,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,B.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,B.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:SY,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,B.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:Nu,componentProps:{url:wY}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,B.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,B.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,B.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,B.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:yY,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,r){var n=this;return(0,B.Z)(function*(){(yield n.popoverController.create({component:bY,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,B.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(Th=Ba).\u0275fac=function(t){return new(t||Th)(v(Bu),v(rc),v(ah),v(lo),v(mh),v(hs),v(Wc),v(ct))},Th.\u0275cmp=Ze({type:Th,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(z(0,"ion-header"),Wt(1,LY,9,1,"ion-toolbar",0)(2,VY,8,3,"ion-toolbar",0),L(),z(3,"ion-content",1),Le("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"div",2),Wt(5,jY,3,1,"div",3),z(6,"ion-list"),Wt(7,GY,1,4,"app-file-entry",4)(8,zY,4,2,"ion-item",5),L()()()),2&t&&(ge(1),Se("ngIf","browse"===r.mode),ge(1),Se("ngIf","select"===r.mode),ge(3),Se("ngIf",0===(null==r.entries?null:r.entries.length)),ge(2),Se("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),ge(1),Se("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Ac,No,Hi,zi,Wi,Zi,Wo,Io,qi,Vs,Yi,Ki,nR,fP,NY,vP],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),oe([Wn()],Ba.prototype,"onSaveEntry",null),oe([Wn()],Ba.prototype,"onDeleteEntry",null),oe([Wn()],Ba.prototype,"onCreateDirectory",null),oe([Wn()],Ba.prototype,"onPaste",null),oe([Wn()],Ba.prototype,"onHelp",null),oe([Wn()],Ba.prototype,"onSelectionDone",null),oe([Wn()],Ba.prototype,"onSaveZip",null),oe([Wn()],Ba.prototype,"onDeleteSelection",null);const ZY=["nav"];let qY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Ba,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=Tl,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,B.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,B.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!MW}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Ba,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Bu),v(gS))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&Ic(ZY,5),2&n){let i;Ls(i=$s())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&je(0,"ion-nav",0,1),2&n&&Se("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[T0]}),t})();const YY=C.p+"assets/doc/sessions-868d7e6c0550348b.md";let KY=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return null==o.onExport?null:o.onExport()}),je(2,"ion-icon",1),Ce(3," Export "),L(),z(4,"ion-item",0),Le("click",function(){return null==o.onDelete?null:o.onDelete()}),je(5,"ion-icon",2),Ce(6," Delete "),L(),z(7,"ion-item",3),Le("click",function(){return null==o.onHelp?null:o.onHelp()}),je(8,"ion-icon",4),Ce(9," Help "),L()()),2&n&&(ge(1),Se("detail",!1)("disabled",0===o.sessionCount),ge(3),Se("detail",!1)("disabled",0===o.sessionCount),ge(3),Se("detail",!1))},dependencies:[Wo,Io,Vs]}),t})(),XY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(z(0,"ion-list")(1,"ion-item",0),Le("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Ce(3," Edit "),L(),z(4,"ion-item",0),Le("click",function(){return o.onSave()}),je(5,"ion-icon",2),Ce(6," Export "),L(),z(7,"ion-item",0),Le("click",function(){return o.onReset()}),je(8,"ion-icon",3),Ce(9," Reset "),L(),z(10,"ion-item",4),Le("click",function(){return o.onDelete()}),je(11,"ion-icon",5),Ce(12," Delete "),L()()),2&n&&(ge(1),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1),ge(3),Se("detail",!1))},dependencies:[Wo,Io,Vs]}),t})();const JY=["slidingItem"];function eK(e,t){if(1&e&&(z(0,"span"),Ce(1),L()),2&e){const r=ut();ge(1),yi(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function tK(e,t){1&e&&je(0,"ion-icon",16)}function nK(e,t){1&e&&je(0,"ion-icon",17)}let rK=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new nn,this.resetSession=new nn,this.edit=new nn,this.save=new nn,this.selectItem=new nn,this.interaction=new nn}get device(){return this.session?$R(this.session.device):""}onContextmenu(n){var o=this;return(0,B.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:XY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function QY(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rc))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&Ic(JY,5),2&n){let i;Ls(i=$s())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=$n();z(0,"ion-item-sliding",0,1),Le("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),z(2,"ion-item-options",2)(3,"ion-item-option",3),Le("click",function(){return Dt(i),Ns(1).close(),It(o.edit.emit(o.session))}),je(4,"ion-icon",4),L(),z(5,"ion-item-option",5),Le("click",function(){return Dt(i),Ns(1).close(),It(o.save.emit(o.session))}),je(6,"ion-icon",6),L()(),z(7,"ion-item-options",7)(8,"ion-item-option",8),Le("click",function(){return Dt(i),Ns(1).close(),It(o.resetSession.emit(o.session))}),je(9,"ion-icon",9),L(),z(10,"ion-item-option",10),Le("click",function(){return Dt(i),Ns(1).close(),It(o.delete.emit(o.session))}),je(11,"ion-icon",11),L()(),z(12,"ion-item",12),Le("click",function(){return o.selectItem.emit()}),z(13,"ion-label")(14,"h2"),Ce(15),L(),z(16,"p"),Ce(17),Wt(18,eK,2,1,"span",13),L()(),Wt(19,tK,1,0,"ion-icon",14)(20,nK,1,0,"ion-icon",15),L()()}2&n&&(Se("disabled",o.selecting),ge(12),Se("color",o.color),ge(1),ta("in-item-color",o.selected)("selecting",o.selecting),ge(2),$i(null==o.session?null:o.session.name),ge(2),Dp("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),ge(1),Se("ngIf",null==o.session?null:o.session.osVersion),ge(1),Se("ngIf",o.selecting&&!o.selectedForExport),ge(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[No,Wo,Io,T_,M_,A_,qi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var Mh;function oK(e,t){if(1&e){const r=$n();z(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Sessions"),L(),z(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Dt(r),It(ut().importSession())}),je(5,"ion-icon",8),L()(),z(6,"ion-buttons",9)(7,"ion-button",7),Le("click",function(o){return Dt(r),It(ut().openActionMenu(o))}),je(8,"ion-icon",10),L(),je(9,"app-pwa-prompt"),L()()}}function iK(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Export"),L())}function sK(e,t){1&e&&(z(0,"ion-title"),Ce(1,"Delete"),L())}function aK(e,t){if(1&e){const r=$n();z(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Dt(r),It(ut(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function lK(e,t){if(1&e){const r=$n();z(0,"ion-buttons",9)(1,"ion-button",7),Le("click",function(){return Dt(r),It(ut(2).selection.clear())}),Ce(2,"Clear"),L()()}}function cK(e,t){if(1&e){const r=$n();z(0,"ion-toolbar"),Wt(1,iK,2,0,"ion-title",0)(2,sK,2,0,"ion-title",0),z(3,"ion-buttons",6)(4,"ion-button",7),Le("click",function(){return Dt(r),It(ut().onSelectionDone())}),Ce(5),L()(),Wt(6,aK,3,0,"ion-buttons",11)(7,lK,3,0,"ion-buttons",11),L()}if(2&e){const r=ut();ge(1),Se("ngIf","select-for-export"===r.mode),ge(1),Se("ngIf","select-for-delete"===r.mode),ge(3),$i(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),ge(1),Se("ngIf",r.selection.size!==r.sessionCount),ge(1),Se("ngIf",r.selection.size===r.sessionCount)}}function uK(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Sessions"),L())}function dK(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for export"),L())}function fK(e,t){1&e&&(z(0,"ion-title",12),Ce(1,"Select for delete"),L())}function pK(e,t){1&e&&(z(0,"div",13),je(1,"ion-spinner"),L())}function hK(e,t){1&e&&(z(0,"div",14)(1,"div",15),Ce(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),je(3,"br")(4,"br"),Ce(5," You can find a collection of compatible ROMs on "),z(6,"a",16),Ce(7,"PalmDB"),L(),Ce(8,". "),L()())}function mK(e,t){if(1&e){const r=$n();z(0,"app-session-item",18),Le("delete",function(){const i=Dt(r).$implicit;return It(ut(2).deleteSession(i))})("selectItem",function(){const i=Dt(r).$implicit,s=ut(2);return It("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=Dt(r).$implicit;return It(ut(2).editSession(i))})("save",function(){const i=Dt(r).$implicit;return It(ut(2).saveSession(i))})("resetSession",function(){const i=Dt(r).$implicit;return It(ut(2).resetSession(i))})("interaction",function(){const i=Dt(r).$implicit;return It(ut(2).lastSessionTouched=i.id)}),L()}if(2&e){const r=t.$implicit,n=ut(2);Se("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function gK(e,t){if(1&e&&(z(0,"ion-list"),Wt(1,mK,1,5,"app-session-item",17),L()),2&e){const r=ut();ge(1),Se("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class ac{constructor(t,r,n,o,i,s,a,l,u,f,h,m,b,j){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=u,this.cloudpilotService=f,this.dragDropService=h,this.popoverController=m,this.loadingController=b,this.cd=j,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const ee=this.linkApi.import.receivePendingUrl();ee&&this.alertService.message("Import request",`Do you want to import<br>${ee} ?`,{OK:()=>this.fileService.openUrl(ee,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=Zc(j,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=Zc(j,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=Zc(j,!0,()=>this.sessionService.isLoading())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,B.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,B.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!tP()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,B.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,B.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,B.Z)(function*(){yield(yield t.modalController.create({component:Nu,componentProps:{url:YY}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,B.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,B.Z)(function*(){const o=yield n.popoverController.create({component:KY,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,B.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,B.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,B.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:lP,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return _f(t,n=>r.some(o=>o.name===n))}}(Mh=ac).\u0275fac=function(t){return new(t||Mh)(v(sc),v(Wc),v(lo),v(La),v(oc),v(nr),v(hs),v(mC),v(Ho),v(Na),v(gS),v(rc),v(sa),v(ct))},Mh.\u0275cmp=Ze({type:Mh,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(z(0,"ion-header"),Wt(1,oK,10,0,"ion-toolbar",0)(2,cK,8,5,"ion-toolbar",0),L(),z(3,"ion-content",1),Le("contextmenu",function(o){return r.onContextMenu(o)}),z(4,"ion-header",2)(5,"ion-toolbar"),Wt(6,uK,2,0,"ion-title",3)(7,dK,2,0,"ion-title",3)(8,fK,2,0,"ion-title",3),L()(),Wt(9,pK,2,0,"div",4)(10,hK,9,0,"div",5)(11,gK,2,2,"ion-list",0),L()),2&t&&(ge(1),Se("ngIf","manage"===r.mode),ge(1),Se("ngIf","manage"!==r.mode),ge(4),Se("ngIf","manage"===r.mode),ge(1),Se("ngIf","select-for-export"===r.mode),ge(1),Se("ngIf","select-for-delete"===r.mode),ge(1),Se("ngIf",r.sessionService.isLoading()),ge(1),Se("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),ge(1),Se("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[Ac,No,Hi,zi,Wi,Zi,Wo,Vs,fh,Yi,Ki,Q_,rK],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),oe([Wn()],ac.prototype,"deleteSession",null),oe([Wn()],ac.prototype,"editSession",null),oe([Wn()],ac.prototype,"saveSession",null),oe([Wn()],ac.prototype,"launchSession",null),oe([Wn()],ac.prototype,"resetSession",null),oe([Wn()],ac.prototype,"onSelectionDone",null),oe([Wn()],ac.prototype,"openActionMenu",null);const _K=["nav"],vK=()=>({}),yK=e=>({selfReference:e}),bK=[{path:"tab",component:pS,children:[{path:"emulation",component:$a},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=ac}ionViewDidLeave(){var n=this;return(0,B.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var n=this;return(0,B.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var n=this;return(0,B.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-wrapper"]],viewQuery:function(n,o){if(1&n&&Ic(_K,5),2&n){let i;Ls(i=$s())&&(o.nav=i.first)}},decls:2,vars:6,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&je(0,"ion-nav",0,1),2&n&&Se("animated",!1)("root",o.navRoot)("rootParams",function GI(e,t,r,n){return UI(ze(),Ni(),e,t,r,n)}(4,yK,function jI(e,t,r){const n=Ni()+e,o=ze();return o[n]===En?ul(o,n,r?t.call(r):t()):function lp(e,t){return e[t]}(o,n)}(3,vK)))},dependencies:[T0],encapsulation:2}),t})()},{path:"storage",component:qY},{path:"settings",component:Hq},{path:"about",component:HZ},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let CK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[f_.forChild(bK),f_]}),t})(),SK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({imports:[jc,gl,Mu,CK,NZ,LZ,$Z,BZ,FZ]}),t})(),wK=(()=>{var e;class t extends oT{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=Zr(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const EK=[{path:"install",component:iP,canActivate:[sP]},{path:"import",component:iP,canActivate:[sP]},{path:"",component:pS}];let DK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=to({type:e}),e.\u0275inj=tt({providers:[{provide:ml,useClass:wK}],imports:[f_.forRoot(EK,{preloadingStrategy:dz,useHash:!0}),SK,f_]}),t})();const yP=["touch","click","keydown"];let IK=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,B.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;const o=()=>{yP.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};yP.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Mi),ue(mS))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const xK=()=>{const e=new ku;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let TK=(()=>{var e;class t{constructor(n,o,i,s,a,l,u,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(nr),ue(La),ue(mS),ue(sc),ue(Mi),ue(oP),ue(IK),ue(dS))},e.\u0275mod=to({type:e,bootstrap:[SZ]}),e.\u0275inj=tt({providers:[{provide:gA,useClass:x8},{provide:Ap,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Mi]}],imports:[tU,jc.forRoot({...mP()?{actionSheetEnter:Nq,loadingEnter:Lq,alertEnter:$q}:{},innerHTMLTemplatesEnabled:!0}),DK,$0.forRoot({loader:vC,markedOptions:{provide:_R,useFactory:xK}}),BU]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function uU(){Ug=qT("#/install?"),Hg=qT("#/import?")}(),function LW(){return!!localStorage.getItem($_)}()&&!YT()||function dU(){return void 0!==Ug}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),JG().bootstrapModule(TK).then(e=>true).catch(e=>console.log(e))},2227:ve=>{var C,Ee=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Y,K,d=S;d.ready=new Promise((c,y)=>{Y=c,K=y});var be,U=Object.assign({},d),x="./this.program",T=(c,y)=>{throw y},Q="object"==typeof window,$="function"==typeof importScripts,O=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Q||$)&&($?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),C&&(O=C),O=0!==O.indexOf("blob:")?O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$&&(be=c=>{var y=new XMLHttpRequest;return y.open("GET",c,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}));var k,se=d.print||console.log.bind(console),H=d.printErr||console.error.bind(console);Object.assign(d,U),U=null,d.thisProgram&&(x=d.thisProgram),d.quit&&(T=d.quit),d.wasmBinary&&(k=d.wasmBinary),"object"!=typeof WebAssembly&&ot("no native wasm support detected");var te,ae,Re,F,I,X,me,le=!1;function Ae(c,y){c||ot(y)}function Be(){var c=te.buffer;d.HEAP8=Re=new Int8Array(c),d.HEAP16=new Int16Array(c),d.HEAPU8=F=new Uint8Array(c),d.HEAPU16=new Uint16Array(c),d.HEAP32=I=new Int32Array(c),d.HEAPU32=X=new Uint32Array(c),d.HEAPF32=new Float32Array(c),d.HEAPF64=me=new Float64Array(c)}function Tt(){if(!le){var c=nl();0==c&&(c+=4);var y=X[c>>2],Z=X[c+4>>2];(34821223!=y||2310721022!=Z)&&ot(`Stack overflow! Stack cookie has been overwritten at ${co(c)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${co(Z)} ${co(y)}`),1668509029!=X[0]&&ot("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Fe=[],We=[],Pe=[],Ge=[],At=0,Ie=null,_e=null;function ot(c){d.onAbort&&d.onAbort(c),H(c="Aborted("+c+")"),le=!0,ae=1,c+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(c);throw K(y),y}var $t,on=c=>c.startsWith("data:application/octet-stream;base64,");function sn(c){if(c==$t&&k)return new Uint8Array(k);if(be)return be(c);throw"both async and sync fetching of the wasm failed"}function _r(c,y,Z){return function Sn(c){return k||!Q&&!$||"function"!=typeof fetch?Promise.resolve().then(()=>sn(c)):fetch(c,{credentials:"same-origin"}).then(y=>{if(!y.ok)throw"failed to load wasm binary file at '"+c+"'";return y.arrayBuffer()}).catch(()=>sn(c))}(c).then(Ne=>WebAssembly.instantiate(Ne,y)).then(Ne=>Ne).then(Z,Ne=>{H(`failed to asynchronously prepare wasm: ${Ne}`),ot(Ne)})}on($t="cloudpilot_web.wasm")||($t=function A(c){return d.locateFile?d.locateFile(c,O):O+c}($t));var jr,go={424936:c=>{E.grow(65536);for(let y=0;y<=65535;y++)E.set(E.length-65535-1+y,E.get(X[(c>>>2)+y]));return E.length-65535-1}};function Nr(c){this.name="ExitStatus",this.message=`Program terminated with exit(${c})`,this.status=c}var Xn=c=>{for(;c.length>0;)c.shift()(d)},To=d.noExitRuntime||!0,co=c=>"0x"+(c>>>=0).toString(16).padStart(8,"0"),_o=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Gr=(c,y,Z)=>{for(var Ne=y+Z,wt=y;c[wt]&&!(wt>=Ne);)++wt;if(wt-y>16&&c.buffer&&_o)return _o.decode(c.subarray(y,wt));for(var hn="";y<wt;){var mn=c[y++];if(128&mn){var Ln=63&c[y++];if(192!=(224&mn)){var kr=63&c[y++];if((mn=224==(240&mn)?(15&mn)<<12|Ln<<6|kr:(7&mn)<<18|Ln<<12|kr<<6|63&c[y++])<65536)hn+=String.fromCharCode(mn);else{var vi=mn-65536;hn+=String.fromCharCode(55296|vi>>10,56320|1023&vi)}}else hn+=String.fromCharCode((31&mn)<<6|Ln)}else hn+=String.fromCharCode(mn)}return hn},de=(c,y)=>c?Gr(F,c,y):"",Ht=(c,y)=>y+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*y:NaN,Zn=c=>c%4==0&&(c%100!=0||c%400==0),Xr=[0,31,60,91,121,152,182,213,244,274,305,335],vo=[0,31,59,90,120,151,181,212,243,273,304,334],In=c=>(Zn(c.getFullYear())?Xr:vo)[c.getMonth()]+c.getDate()-1,Lo=c=>{for(var y=0,Z=0;Z<c.length;++Z){var Ne=c.charCodeAt(Z);Ne<=127?y++:Ne<=2047?y+=2:Ne>=55296&&Ne<=57343?(y+=4,++Z):y+=3}return y},Fn=(c,y,Z,Ne)=>{if(!(Ne>0))return 0;for(var wt=Z,hn=Z+Ne-1,mn=0;mn<c.length;++mn){var Ln=c.charCodeAt(mn);if(Ln>=55296&&Ln<=57343&&(Ln=65536+((1023&Ln)<<10)|1023&c.charCodeAt(++mn)),Ln<=127){if(Z>=hn)break;y[Z++]=Ln}else if(Ln<=2047){if(Z+1>=hn)break;y[Z++]=192|Ln>>6,y[Z++]=128|63&Ln}else if(Ln<=65535){if(Z+2>=hn)break;y[Z++]=224|Ln>>12,y[Z++]=128|Ln>>6&63,y[Z++]=128|63&Ln}else{if(Z+3>=hn)break;y[Z++]=240|Ln>>18,y[Z++]=128|Ln>>12&63,y[Z++]=128|Ln>>6&63,y[Z++]=128|63&Ln}}return y[Z]=0,Z-wt},yr=c=>{var y=Lo(c)+1,Z=dr(y);return Z&&((c,y,Z)=>{Fn(c,F,y,Z)})(c,Z,y),Z},Yo=[],Ri=c=>{var Z=(c-te.buffer.byteLength+65535)/65536;try{return te.grow(Z),Be(),1}catch{}},hi={},mi=()=>{if(!mi.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(var Z in hi)void 0===hi[Z]?delete y[Z]:y[Z]=hi[Z];var Ne=[];for(var Z in y)Ne.push(`${Z}=${y[Z]}`);mi.strings=Ne}return mi.strings},gs=[null,[],[]],Hs=(c,y)=>{var Z=gs[c];0===y||10===y?((1===c?se:H)(Gr(Z,0)),Z.length=0):Z.push(y)},Xo=[31,29,31,30,31,30,31,31,30,31,30,31],br=[31,28,31,30,31,30,31,31,30,31,30,31];function zs(c,y,Z){var Ne=Z>0?Z:Lo(c)+1,wt=new Array(Ne),hn=Fn(c,wt,0,wt.length);return y&&(wt.length=hn),wt}var E,ce,Ia,Cs=(c,y)=>{ae=c,(c=>{ae=c,To||(d.onExit&&d.onExit(c),le=!0),T(c,new Nr(c))})(c)},et=(c,y)=>{c<128?y.push(c):y.push(c%128|128,c>>7)},w=[],ie=c=>{var y=w[c];return y||(c>=w.length&&(w.length=c+1),w[c]=y=E.get(c)),y},Ke=[],Ve=(c,y)=>{E.set(c,y),w[c]=E.get(c)},Et={b:(c,y,Z,Ne)=>{ot(`Assertion failed: ${de(c)}, at: `+[y?de(y):"unknown filename",Z,Ne?de(Ne):"unknown function"])},i:function Fr(c){const y=new Error(de(c));throw y.isAssert=!0,y},m:function vn(c,y,Z){Ht(y,Z)},h:()=>1,j:function uo(c,y,Z){var Ne=Ht(c,y),wt=new Date(1e3*Ne);I[Z>>2]=wt.getSeconds(),I[Z+4>>2]=wt.getMinutes(),I[Z+8>>2]=wt.getHours(),I[Z+12>>2]=wt.getDate(),I[Z+16>>2]=wt.getMonth(),I[Z+20>>2]=wt.getFullYear()-1900,I[Z+24>>2]=wt.getDay();var hn=0|In(wt);I[Z+28>>2]=hn,I[Z+36>>2]=-60*wt.getTimezoneOffset();var mn=new Date(wt.getFullYear(),0,1),Ln=new Date(wt.getFullYear(),6,1).getTimezoneOffset(),kr=mn.getTimezoneOffset(),vi=0|(Ln!=kr&&wt.getTimezoneOffset()==Math.min(kr,Ln));I[Z+32>>2]=vi},k:function(c){var y=(()=>{var Z=new Date(I[c+20>>2]+1900,I[c+16>>2],I[c+12>>2],I[c+8>>2],I[c+4>>2],I[c>>2],0),Ne=I[c+32>>2],wt=Z.getTimezoneOffset(),hn=new Date(Z.getFullYear(),0,1),mn=new Date(Z.getFullYear(),6,1).getTimezoneOffset(),Ln=hn.getTimezoneOffset(),kr=Math.min(Ln,mn);if(Ne<0)I[c+32>>2]=+(mn!=Ln&&kr==wt);else if(Ne>0!=(kr==wt)){var vi=Math.max(Ln,mn),eu=Ne>0?kr:vi;Z.setTime(Z.getTime()+6e4*(eu-wt))}I[c+24>>2]=Z.getDay();var tu=0|In(Z);I[c+28>>2]=tu,I[c>>2]=Z.getSeconds(),I[c+4>>2]=Z.getMinutes(),I[c+8>>2]=Z.getHours(),I[c+12>>2]=Z.getDate(),I[c+16>>2]=Z.getMonth(),I[c+20>>2]=Z.getYear();var ui=Z.getTime();return isNaN(ui)?(I[jt()>>2]=61,-1):ui/1e3})();return Br((jr=y,+Math.abs(jr)>=1?jr>0?+Math.floor(jr/4294967296)>>>0:~~+Math.ceil((jr-+(~~jr>>>0))/4294967296)>>>0:0)),y>>>0},r:(c,y,Z)=>{var Ne=(new Date).getFullYear(),wt=new Date(Ne,0,1),hn=new Date(Ne,6,1),mn=wt.getTimezoneOffset(),Ln=hn.getTimezoneOffset(),kr=Math.max(mn,Ln);function vi(nu){var Hu=nu.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Hu?Hu[1]:"GMT"}X[c>>2]=60*kr,I[y>>2]=+(mn!=Ln);var eu=vi(wt),tu=vi(hn),ui=yr(eu),hc=yr(tu);Ln<mn?(X[Z>>2]=ui,X[Z+4>>2]=hc):(X[Z>>2]=hc,X[Z+4>>2]=ui)},a:()=>{ot("")},s:(c,y,Z)=>((c,y,Z)=>{var Ne=((c,y)=>{Yo.length=0;for(var Z;Z=F[c++];){var Ne=105!=Z;y+=(Ne&=112!=Z)&&y%8?4:0,Yo.push(112==Z?X[y>>2]:105==Z?I[y>>2]:me[y>>3]),y+=Ne?8:4}return Yo})(y,Z);return go[c].apply(null,Ne)})(c,y,Z),c:()=>Date.now(),d:(c,y,Z)=>F.copyWithin(c,y,y+Z),q:c=>{var kr,y=F.length,Z=2147483648;if((c>>>=0)>Z)return!1;for(var wt=1;wt<=4;wt*=2){var hn=y*(1+.2/wt);hn=Math.min(hn,c+100663296);var mn=Math.min(Z,(kr=Math.max(c,hn))+(65536-kr%65536)%65536);if(Ri(mn))return!0}return!1},o:(c,y)=>{var Z=0;return mi().forEach((Ne,wt)=>{var hn=y+Z;X[c+4*wt>>2]=hn,((c,y)=>{for(var Z=0;Z<c.length;++Z)Re[y++>>0]=c.charCodeAt(Z);Re[y>>0]=0})(Ne,hn),Z+=Ne.length+1}),0},p:(c,y)=>{var Z=mi();X[c>>2]=Z.length;var Ne=0;return Z.forEach(wt=>Ne+=wt.length+1),X[y>>2]=Ne,0},e:c=>52,g:(c,y,Z,Ne)=>52,l:function yo(c,y,Z,Ne,wt){return Ht(y,Z),70},f:(c,y,Z,Ne)=>{for(var wt=0,hn=0;hn<Z;hn++){var mn=X[y>>2],Ln=X[y+4>>2];y+=8;for(var kr=0;kr<Ln;kr++)Hs(c,F[mn+kr]);wt+=Ln}return X[Ne>>2]=wt,0},n:(c,y,Z,Ne,wt)=>((c,y,Z,Ne)=>{var wt=X[Ne+40>>2],hn={tm_sec:I[Ne>>2],tm_min:I[Ne+4>>2],tm_hour:I[Ne+8>>2],tm_mday:I[Ne+12>>2],tm_mon:I[Ne+16>>2],tm_year:I[Ne+20>>2],tm_wday:I[Ne+24>>2],tm_yday:I[Ne+28>>2],tm_isdst:I[Ne+32>>2],tm_gmtoff:I[Ne+36>>2],tm_zone:wt?de(wt):""},mn=de(Z),Ln={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var kr in Ln)mn=mn.replace(new RegExp(kr,"g"),Ln[kr]);var vi=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],eu=["January","February","March","April","May","June","July","August","September","October","November","December"];function tu(mt,tn,ls){for(var sr="number"==typeof mt?mt.toString():mt||"";sr.length<tn;)sr=ls[0]+sr;return sr}function ui(mt,tn){return tu(mt,tn,"0")}function hc(mt,tn){function ls(ru){return ru<0?-1:ru>0?1:0}var sr;return 0===(sr=ls(mt.getFullYear()-tn.getFullYear()))&&0===(sr=ls(mt.getMonth()-tn.getMonth()))&&(sr=ls(mt.getDate()-tn.getDate())),sr}function nu(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function Hu(mt){var tn=((c,y)=>{for(var Z=new Date(c.getTime());y>0;){var Ne=Zn(Z.getFullYear()),wt=Z.getMonth(),hn=(Ne?Xo:br)[wt];if(!(y>hn-Z.getDate()))return Z.setDate(Z.getDate()+y),Z;y-=hn-Z.getDate()+1,Z.setDate(1),wt<11?Z.setMonth(wt+1):(Z.setMonth(0),Z.setFullYear(Z.getFullYear()+1))}return Z})(new Date(mt.tm_year+1900,0,1),mt.tm_yday),ls=new Date(tn.getFullYear(),0,4),sr=new Date(tn.getFullYear()+1,0,4),ru=nu(ls),rv=nu(sr);return hc(ru,tn)<=0?hc(rv,tn)<=0?tn.getFullYear()+1:tn.getFullYear():tn.getFullYear()-1}var nv={"%a":mt=>vi[mt.tm_wday].substring(0,3),"%A":mt=>vi[mt.tm_wday],"%b":mt=>eu[mt.tm_mon].substring(0,3),"%B":mt=>eu[mt.tm_mon],"%C":mt=>ui((mt.tm_year+1900)/100|0,2),"%d":mt=>ui(mt.tm_mday,2),"%e":mt=>tu(mt.tm_mday,2," "),"%g":mt=>Hu(mt).toString().substring(2),"%G":mt=>Hu(mt),"%H":mt=>ui(mt.tm_hour,2),"%I":mt=>{var tn=mt.tm_hour;return 0==tn?tn=12:tn>12&&(tn-=12),ui(tn,2)},"%j":mt=>ui(mt.tm_mday+((c,y)=>{for(var Z=0,Ne=0;Ne<=y;Z+=c[Ne++]);return Z})(Zn(mt.tm_year+1900)?Xo:br,mt.tm_mon-1),3),"%m":mt=>ui(mt.tm_mon+1,2),"%M":mt=>ui(mt.tm_min,2),"%n":()=>"\n","%p":mt=>mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM","%S":mt=>ui(mt.tm_sec,2),"%t":()=>"\t","%u":mt=>mt.tm_wday||7,"%U":mt=>ui(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2),"%V":mt=>{var tn=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&tn++,tn){if(53==tn){var sr=(mt.tm_wday+371-mt.tm_yday)%7;4!=sr&&(3!=sr||!Zn(mt.tm_year))&&(tn=1)}}else{tn=52;var ls=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==ls||5==ls&&Zn(mt.tm_year%400-1))&&tn++}return ui(tn,2)},"%w":mt=>mt.tm_wday,"%W":mt=>ui(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2),"%y":mt=>(mt.tm_year+1900).toString().substring(2),"%Y":mt=>mt.tm_year+1900,"%z":mt=>{var tn=mt.tm_gmtoff;return(tn>=0?"+":"-")+("0000"+(tn=(tn=Math.abs(tn)/60)/60*100+tn%60)).slice(-4)},"%Z":mt=>mt.tm_zone,"%%":()=>"%"};for(var kr in mn=mn.replace(/%%/g,"\0\0"),nv)mn.includes(kr)&&(mn=mn.replace(new RegExp(kr,"g"),nv[kr](hn)));var Kh=zs(mn=mn.replace(/\0\0/g,"%"),!1);return Kh.length>y?0:(((c,y)=>{Re.set(c,y)})(Kh,c),Kh.length-1)})(c,y,Z,Ne)},W=function qo(){var c={a:Et};function y(Ne,wt){return te=(W=Ne.exports).t,Be(),E=W.Oc,function Ot(c){We.unshift(c)}(W.u),function Je(c){if(At--,d.monitorRunDependencies&&d.monitorRunDependencies(At),0==At&&(null!==Ie&&(clearInterval(Ie),Ie=null),_e)){var y=_e;_e=null,y()}}(),W}if(function xe(c){At++,d.monitorRunDependencies&&d.monitorRunDependencies(At)}(),d.instantiateWasm)try{return d.instantiateWasm(c,y)}catch(Ne){H(`Module.instantiateWasm callback failed with error: ${Ne}`),K(Ne)}return function On(c,y,Z,Ne){return c||"function"!=typeof WebAssembly.instantiateStreaming||on(y)||"function"!=typeof fetch?_r(y,Z,Ne):fetch(y,{credentials:"same-origin"}).then(wt=>WebAssembly.instantiateStreaming(wt,Z).then(Ne,function(mn){return H(`wasm streaming compile failed: ${mn}`),H("falling back to ArrayBuffer instantiation"),_r(y,Z,Ne)}))}(k,$t,c,function Z(Ne){y(Ne.instance)}).catch(K),{}}(),dr=d._malloc=c=>(dr=d._malloc=W.v)(c),Ur=(d._free=c=>(d._free=W.w)(c),d._main=(c,y)=>(Ur=d._main=W.x)(c,y)),Gn=(d._webidl_free=c=>(d._webidl_free=W.y)(c),d._webidl_malloc=c=>(d._webidl_malloc=W.z)(c),d._emscripten_bind_VoidPtr___destroy___0=c=>(Gn=d._emscripten_bind_VoidPtr___destroy___0=W.A)(c)),$o=d._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>($o=d._emscripten_bind_Cloudpilot_Cloudpilot_0=W.B)(),Ao=d._emscripten_bind_Cloudpilot_Malloc_1=(c,y)=>(Ao=d._emscripten_bind_Cloudpilot_Malloc_1=W.C)(c,y),ts=d._emscripten_bind_Cloudpilot_Free_1=(c,y)=>(ts=d._emscripten_bind_Cloudpilot_Free_1=W.D)(c,y),Va=d._emscripten_bind_Cloudpilot_Nullptr_0=c=>(Va=d._emscripten_bind_Cloudpilot_Nullptr_0=W.E)(c),da=d._emscripten_bind_Cloudpilot_InitializeSession_3=(c,y,Z,Ne)=>(da=d._emscripten_bind_Cloudpilot_InitializeSession_3=W.F)(c,y,Z,Ne),Ws=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=c=>(Ws=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=W.G)(c),fa=d._emscripten_bind_Cloudpilot_RunEmulation_1=(c,y)=>(fa=d._emscripten_bind_Cloudpilot_RunEmulation_1=W.H)(c,y),ns=d._emscripten_bind_Cloudpilot_SetClockFactor_1=(c,y)=>(ns=d._emscripten_bind_Cloudpilot_SetClockFactor_1=W.I)(c,y),ja=d._emscripten_bind_Cloudpilot_CopyFrame_0=c=>(ja=d._emscripten_bind_Cloudpilot_CopyFrame_0=W.J)(c),pa=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=c=>(pa=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=W.K)(c),ha=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=c=>(ha=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=W.L)(c),Ga=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(c,y)=>(Ga=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=W.M)(c,y),Ua=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(c,y)=>(Ua=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=W.N)(c,y),Ha=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(c,y)=>(Ha=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=W.O)(c,y),za=d._emscripten_bind_Cloudpilot_QueuePenMove_2=(c,y,Z)=>(za=d._emscripten_bind_Cloudpilot_QueuePenMove_2=W.P)(c,y,Z),ma=d._emscripten_bind_Cloudpilot_QueuePenUp_0=c=>(ma=d._emscripten_bind_Cloudpilot_QueuePenUp_0=W.Q)(c),Wa=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=(c,y)=>(Wa=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=W.R)(c,y),Za=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=(c,y)=>(Za=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=W.S)(c,y),Cr=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(c,y,Z)=>(Cr=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=W.T)(c,y,Z),ga=d._emscripten_bind_Cloudpilot_IsPowerOff_0=c=>(ga=d._emscripten_bind_Cloudpilot_IsPowerOff_0=W.U)(c),po=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=c=>(po=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=W.V)(c),Bt=d._emscripten_bind_Cloudpilot_GetOSVersion_0=c=>(Bt=d._emscripten_bind_Cloudpilot_GetOSVersion_0=W.W)(c),_a=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=c=>(_a=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=W.X)(c),Zs=d._emscripten_bind_Cloudpilot_Reset_0=c=>(Zs=d._emscripten_bind_Cloudpilot_Reset_0=W.Y)(c),eo=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=c=>(eo=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=W.Z)(c),qs=d._emscripten_bind_Cloudpilot_ResetHard_0=c=>(qs=d._emscripten_bind_Cloudpilot_ResetHard_0=W._)(c),qa=d._emscripten_bind_Cloudpilot_InstallDb_2=(c,y,Z)=>(qa=d._emscripten_bind_Cloudpilot_InstallDb_2=W.$)(c,y,Z),Un=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=c=>(Un=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=W.aa)(c),ws=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=c=>(ws=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=W.ba)(c),Sr=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=c=>(Sr=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=W.ca)(c),Ys=d._emscripten_bind_Cloudpilot_GetMemorySize_0=c=>(Ys=d._emscripten_bind_Cloudpilot_GetMemorySize_0=W.da)(c),Al=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(c,y,Z)=>(Al=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=W.ea)(c,y,Z),Ya=d._emscripten_bind_Cloudpilot_GetRomPtr_0=c=>(Ya=d._emscripten_bind_Cloudpilot_GetRomPtr_0=W.fa)(c),Hn=d._emscripten_bind_Cloudpilot_GetRomSize_0=c=>(Hn=d._emscripten_bind_Cloudpilot_GetRomSize_0=W.ga)(c),Vt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=c=>(Vt=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=W.ha)(c),Es=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=c=>(Es=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=W.ia)(c),Ks=d._emscripten_bind_Cloudpilot_SaveState_0=c=>(Ks=d._emscripten_bind_Cloudpilot_SaveState_0=W.ja)(c),kl=d._emscripten_bind_Cloudpilot_LoadState_2=(c,y,Z)=>(kl=d._emscripten_bind_Cloudpilot_LoadState_2=W.ka)(c,y,Z),va=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=c=>(va=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=W.la)(c),Xe=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=(c,y)=>(Xe=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=W.ma)(c,y),Oi=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(c,y)=>(Oi=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=W.na)(c,y),rs=d._emscripten_bind_Cloudpilot_StartBackup_0=c=>(rs=d._emscripten_bind_Cloudpilot_StartBackup_0=W.oa)(c),Xs=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(c,y)=>(Xs=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=W.pa)(c,y),ya=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=c=>(ya=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=W.qa)(c),Ka=d._emscripten_bind_Cloudpilot_IsSuspended_0=c=>(Ka=d._emscripten_bind_Cloudpilot_IsSuspended_0=W.ra)(c),Qo=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=c=>(Qo=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=W.sa)(c),os=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(c,y)=>(os=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=W.ta)(c,y),Xa=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=c=>(Xa=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=W.ua)(c),Yt=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(c,y)=>(Yt=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=W.va)(c,y),Vn=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(c,y)=>(Vn=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=W.wa)(c,y),ba=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=(c,y)=>(ba=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=W.xa)(c,y),Rl=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(c,y,Z)=>(Rl=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=W.ya)(c,y,Z),Pl=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(c,y)=>(Pl=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=W.za)(c,y),Ol=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=c=>(Ol=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=W.Aa)(c),Qa=d._emscripten_bind_Cloudpilot_AllocateCard_2=(c,y,Z)=>(Qa=d._emscripten_bind_Cloudpilot_AllocateCard_2=W.Ba)(c,y,Z),Tr=d._emscripten_bind_Cloudpilot_AdoptCard_3=(c,y,Z,Ne)=>(Tr=d._emscripten_bind_Cloudpilot_AdoptCard_3=W.Ca)(c,y,Z,Ne),fr=d._emscripten_bind_Cloudpilot_MountCard_1=(c,y)=>(fr=d._emscripten_bind_Cloudpilot_MountCard_1=W.Da)(c,y),bo=d._emscripten_bind_Cloudpilot_RemoveCard_1=(c,y)=>(bo=d._emscripten_bind_Cloudpilot_RemoveCard_1=W.Ea)(c,y),Fl=d._emscripten_bind_Cloudpilot_GetCardData_1=(c,y)=>(Fl=d._emscripten_bind_Cloudpilot_GetCardData_1=W.Fa)(c,y),lc=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(c,y)=>(lc=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=W.Ga)(c,y),Ei=d._emscripten_bind_Cloudpilot_GetCardSize_1=(c,y)=>(Ei=d._emscripten_bind_Cloudpilot_GetCardSize_1=W.Ha)(c,y),cc=d._emscripten_bind_Cloudpilot_RemountCards_0=c=>(cc=d._emscripten_bind_Cloudpilot_RemountCards_0=W.Ia)(c),qc=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=(c,y)=>(qc=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=W.Ja)(c,y),Jn=d._emscripten_bind_Cloudpilot_GetMountedKey_0=c=>(Jn=d._emscripten_bind_Cloudpilot_GetMountedKey_0=W.Ka)(c),Ca=d._emscripten_bind_Cloudpilot_GetTransportIR_0=c=>(Ca=d._emscripten_bind_Cloudpilot_GetTransportIR_0=W.La)(c),$r=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=c=>($r=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=W.Ma)(c),Co=d._emscripten_bind_Cloudpilot___destroy___0=c=>(Co=d._emscripten_bind_Cloudpilot___destroy___0=W.Na)(c),ho=d._emscripten_bind_RomInfo_RomInfo_2=(c,y)=>(ho=d._emscripten_bind_RomInfo_RomInfo_2=W.Oa)(c,y),Hr=d._emscripten_bind_RomInfo_IsValid_0=c=>(Hr=d._emscripten_bind_RomInfo_IsValid_0=W.Pa)(c),yn=d._emscripten_bind_RomInfo_CardVersion_0=c=>(yn=d._emscripten_bind_RomInfo_CardVersion_0=W.Qa)(c),yt=d._emscripten_bind_RomInfo_CardName_0=c=>(yt=d._emscripten_bind_RomInfo_CardName_0=W.Ra)(c),Mr=d._emscripten_bind_RomInfo_RomVersion_0=c=>(Mr=d._emscripten_bind_RomInfo_RomVersion_0=W.Sa)(c),wr=d._emscripten_bind_RomInfo_RomVersionString_0=c=>(wr=d._emscripten_bind_RomInfo_RomVersionString_0=W.Ta)(c),_=d._emscripten_bind_RomInfo_Supports_1=(c,y)=>(_=d._emscripten_bind_RomInfo_Supports_1=W.Ua)(c,y),G=d._emscripten_bind_RomInfo___destroy___0=c=>(G=d._emscripten_bind_RomInfo___destroy___0=W.Va)(c),M=d._emscripten_bind_Frame_GetLineWidth_0=c=>(M=d._emscripten_bind_Frame_GetLineWidth_0=W.Wa)(c),Oe=d._emscripten_bind_Frame_GetBpp_0=c=>(Oe=d._emscripten_bind_Frame_GetBpp_0=W.Xa)(c),tt=d._emscripten_bind_Frame_GetLines_0=c=>(tt=d._emscripten_bind_Frame_GetLines_0=W.Ya)(c),rn=d._emscripten_bind_Frame_GetMargin_0=c=>(rn=d._emscripten_bind_Frame_GetMargin_0=W.Za)(c),Kt=d._emscripten_bind_Frame_GetBytesPerLine_0=c=>(Kt=d._emscripten_bind_Frame_GetBytesPerLine_0=W._a)(c),ln=d._emscripten_bind_Frame_GetFirstDirtyLine_0=c=>(ln=d._emscripten_bind_Frame_GetFirstDirtyLine_0=W.$a)(c),er=d._emscripten_bind_Frame_GetLastDirtyLine_0=c=>(er=d._emscripten_bind_Frame_GetLastDirtyLine_0=W.ab)(c),Lt=d._emscripten_bind_Frame_GetHasChanges_0=c=>(Lt=d._emscripten_bind_Frame_GetHasChanges_0=W.bb)(c),rr=d._emscripten_bind_Frame_GetBuffer_0=c=>(rr=d._emscripten_bind_Frame_GetBuffer_0=W.cb)(c),pr=d._emscripten_bind_Frame_GetBufferSize_0=c=>(pr=d._emscripten_bind_Frame_GetBufferSize_0=W.db)(c),bn=d._emscripten_bind_Frame_GetScaleX_0=c=>(bn=d._emscripten_bind_Frame_GetScaleX_0=W.eb)(c),Mt=d._emscripten_bind_Frame_GetScaleY_0=c=>(Mt=d._emscripten_bind_Frame_GetScaleY_0=W.fb)(c),Ft=d._emscripten_bind_Frame___destroy___0=c=>(Ft=d._emscripten_bind_Frame___destroy___0=W.gb)(c),jn=d._emscripten_bind_DbBackup_Init_1=(c,y)=>(jn=d._emscripten_bind_DbBackup_Init_1=W.hb)(c,y),Ar=d._emscripten_bind_DbBackup_IsInProgress_0=c=>(Ar=d._emscripten_bind_DbBackup_IsInProgress_0=W.ib)(c),gn=d._emscripten_bind_DbBackup_IsDone_0=c=>(gn=d._emscripten_bind_DbBackup_IsDone_0=W.jb)(c),qe=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=c=>(qe=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=W.kb)(c),p=d._emscripten_bind_DbBackup_Save_0=c=>(p=d._emscripten_bind_DbBackup_Save_0=W.lb)(c),D=d._emscripten_bind_DbBackup_Skip_0=c=>(D=d._emscripten_bind_DbBackup_Skip_0=W.mb)(c),re=d._emscripten_bind_DbBackup_GetArchivePtr_0=c=>(re=d._emscripten_bind_DbBackup_GetArchivePtr_0=W.nb)(c),$e=d._emscripten_bind_DbBackup_GetArchiveSize_0=c=>($e=d._emscripten_bind_DbBackup_GetArchiveSize_0=W.ob)(c),Me=d._emscripten_bind_DbBackup___destroy___0=c=>(Me=d._emscripten_bind_DbBackup___destroy___0=W.pb)(c),wn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=c=>(wn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=W.qb)(c),en=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=c=>(en=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=W.rb)(c),_n=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=c=>(_n=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=W.sb)(c),tr=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=c=>(tr=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=W.tb)(c),ko=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=c=>(ko=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=W.ub)(c),Ds=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(c,y)=>(Ds=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=W.vb)(c,y),Ja=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=c=>(Ja=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=W.wb)(c),Ro=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=c=>(Ro=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=W.xb)(c),Nl=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(c,y)=>(Nl=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=W.yb)(c,y),uc=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=c=>(uc=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=W.zb)(c),Ll=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=c=>(Ll=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=W.Ab)(c),Sa=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=c=>(Sa=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=W.Bb)(c),el=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=c=>(el=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=W.Cb)(c),lt=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(c,y,Z)=>(lt=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=W.Db)(c,y,Z),cn=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=c=>(cn=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=W.Eb)(c),gi=d._emscripten_bind_SuspendContext_GetKind_0=c=>(gi=d._emscripten_bind_SuspendContext_GetKind_0=W.Fb)(c),Jo=d._emscripten_bind_SuspendContext_Cancel_0=c=>(Jo=d._emscripten_bind_SuspendContext_Cancel_0=W.Gb)(c),tl=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=c=>(tl=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=W.Hb)(c),wa=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=c=>(wa=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=W.Ib)(c),Ah=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=c=>(Ah=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=W.Jb)(c),Ea=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=c=>(Ea=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=W.Kb)(c),kh=d._emscripten_bind_SuspendContext___destroy___0=c=>(kh=d._emscripten_bind_SuspendContext___destroy___0=W.Lb)(c),ue=d._emscripten_bind_SessionImage_SessionImage_0=()=>(ue=d._emscripten_bind_SessionImage_SessionImage_0=W.Mb)(),Cf=d._emscripten_bind_SessionImage_GetDeviceId_0=c=>(Cf=d._emscripten_bind_SessionImage_GetDeviceId_0=W.Nb)(c),it=d._emscripten_bind_SessionImage_SetDeviceId_1=(c,y)=>(it=d._emscripten_bind_SessionImage_SetDeviceId_1=W.Ob)(c,y),Yc=d._emscripten_bind_SessionImage_GetRomImage_0=c=>(Yc=d._emscripten_bind_SessionImage_GetRomImage_0=W.Pb)(c),Vu=d._emscripten_bind_SessionImage_GetRomImageSize_0=c=>(Vu=d._emscripten_bind_SessionImage_GetRomImageSize_0=W.Qb)(c),dc=d._emscripten_bind_SessionImage_SetRomImage_2=(c,y,Z)=>(dc=d._emscripten_bind_SessionImage_SetRomImage_2=W.Rb)(c,y,Z),Rh=d._emscripten_bind_SessionImage_GetMemoryImage_0=c=>(Rh=d._emscripten_bind_SessionImage_GetMemoryImage_0=W.Sb)(c),Ph=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=c=>(Ph=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=W.Tb)(c),Oh=d._emscripten_bind_SessionImage_SetMemoryImage_2=(c,y,Z)=>(Oh=d._emscripten_bind_SessionImage_SetMemoryImage_2=W.Ub)(c,y,Z),Qs=d._emscripten_bind_SessionImage_GetMetadata_0=c=>(Qs=d._emscripten_bind_SessionImage_GetMetadata_0=W.Vb)(c),Kc=d._emscripten_bind_SessionImage_GetMetadataSize_0=c=>(Kc=d._emscripten_bind_SessionImage_GetMetadataSize_0=W.Wb)(c),is=d._emscripten_bind_SessionImage_SetMetadata_2=(c,y,Z)=>(is=d._emscripten_bind_SessionImage_SetMetadata_2=W.Xb)(c,y,Z),Is=d._emscripten_bind_SessionImage_GetSavestate_0=c=>(Is=d._emscripten_bind_SessionImage_GetSavestate_0=W.Yb)(c),qn=d._emscripten_bind_SessionImage_GetSavestateSize_0=c=>(qn=d._emscripten_bind_SessionImage_GetSavestateSize_0=W.Zb)(c),Sf=d._emscripten_bind_SessionImage_SetSavestate_2=(c,y,Z)=>(Sf=d._emscripten_bind_SessionImage_SetSavestate_2=W._b)(c,y,Z),ju=d._emscripten_bind_SessionImage_GetVersion_0=c=>(ju=d._emscripten_bind_SessionImage_GetVersion_0=W.$b)(c),wf=d._emscripten_bind_SessionImage_Serialize_0=c=>(wf=d._emscripten_bind_SessionImage_Serialize_0=W.ac)(c),Ef=d._emscripten_bind_SessionImage_GetSerializedImage_0=c=>(Ef=d._emscripten_bind_SessionImage_GetSerializedImage_0=W.bc)(c),fc=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=c=>(fc=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=W.cc)(c),Df=d._emscripten_bind_SessionImage_Deserialize_2=(c,y,Z)=>(Df=d._emscripten_bind_SessionImage_Deserialize_2=W.dc)(c,y,Z),If=d._emscripten_bind_SessionImage___destroy___0=c=>(If=d._emscripten_bind_SessionImage___destroy___0=W.ec)(c),Fh=d._emscripten_bind_SkinLoader_SkinLoader_1=c=>(Fh=d._emscripten_bind_SkinLoader_SkinLoader_1=W.fc)(c),xf=d._emscripten_bind_SkinLoader_GetData_0=c=>(xf=d._emscripten_bind_SkinLoader_GetData_0=W.gc)(c),Nh=d._emscripten_bind_SkinLoader_GetSize_0=c=>(Nh=d._emscripten_bind_SkinLoader_GetSize_0=W.hc)(c),Lh=d._emscripten_bind_SkinLoader___destroy___0=c=>(Lh=d._emscripten_bind_SkinLoader___destroy___0=W.ic)(c),ss=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=c=>(ss=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=W.jc)(c),$h=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=c=>($h=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=W.kc)(c),Tf=d._emscripten_bind_EmTransportSerialBuffer_Send_2=(c,y,Z)=>(Tf=d._emscripten_bind_EmTransportSerialBuffer_Send_2=W.lc)(c,y,Z),Bh=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=c=>(Bh=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=W.mc)(c),Vh=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=c=>(Vh=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=W.nc)(c),jh=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=c=>(jh=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=W.oc)(c),Gh=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=c=>(Gh=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=W.pc)(c),Mf=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=c=>(Mf=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=W.qc)(c),Uh=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=c=>(Uh=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=W.rc)(c),Hh=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=c=>(Hh=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=W.sc)(c),zh=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=c=>(zh=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=W.tc)(c),Ze=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=c=>(Ze=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=W.uc)(c),Wh=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=c=>(Wh=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=W.vc)(c),Zh=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=c=>(Zh=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=W.wc)(c),to=d._emscripten_bind_GunzipContext_GunzipContext_3=(c,y,Z)=>(to=d._emscripten_bind_GunzipContext_GunzipContext_3=W.xc)(c,y,Z),Af=d._emscripten_bind_GunzipContext_GetState_0=c=>(Af=d._emscripten_bind_GunzipContext_GetState_0=W.yc)(c),kt=d._emscripten_bind_GunzipContext_Continue_0=c=>(kt=d._emscripten_bind_GunzipContext_Continue_0=W.zc)(c),Po=d._emscripten_bind_GunzipContext_GetUncompressedData_0=c=>(Po=d._emscripten_bind_GunzipContext_GetUncompressedData_0=W.Ac)(c),Rn=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=c=>(Rn=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=W.Bc)(c),So=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=c=>(So=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=W.Cc)(c),Bo=d._emscripten_bind_GunzipContext_GetError_0=c=>(Bo=d._emscripten_bind_GunzipContext_GetError_0=W.Dc)(c),Da=d._emscripten_bind_GunzipContext___destroy___0=c=>(Da=d._emscripten_bind_GunzipContext___destroy___0=W.Ec)(c),ei=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(c,y)=>(ei=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=W.Fc)(c,y),kf=d._emscripten_bind_ZipfileWalker_GetState_0=c=>(kf=d._emscripten_bind_ZipfileWalker_GetState_0=W.Gc)(c),Rf=d._emscripten_bind_ZipfileWalker_Next_0=c=>(Rf=d._emscripten_bind_ZipfileWalker_Next_0=W.Hc)(c),Xc=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=c=>(Xc=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=W.Ic)(c),qh=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=c=>(qh=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=W.Jc)(c),Yh=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=c=>(Yh=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=W.Kc)(c),no=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=c=>(no=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=W.Lc)(c),dt=d._emscripten_bind_ZipfileWalker___destroy___0=c=>(dt=d._emscripten_bind_ZipfileWalker___destroy___0=W.Mc)(c),jt=()=>(jt=W.Nc)(),Br=c=>(Br=W.Pc)(c),as=()=>(as=W.Qc)(),nl=()=>(nl=W.Rc)(),Er=()=>(Er=W.Sc)();function $l(){function c(){Ia||(Ia=!0,d.calledRun=!0,!le&&(function pe(){Tt(),Xn(We)}(),function He(){Tt(),Xn(Pe)}(),Y(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Ts&&function ro(){var c=Ur;try{var Ne=c(0,0);return Cs(Ne),Ne}catch(wt){return(c=>{if(c instanceof Nr||"unwind"==c)return ae;Tt(),c instanceof WebAssembly.RuntimeError&&Er()<=0&&H("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),T(1,c)})(wt)}}(),function at(){if(Tt(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)c=d.postRun.shift(),Ge.unshift(c);var c;Xn(Ge)}()))}At>0||(function Qc(){as(),function ht(){var c=nl();0==c&&(c+=4),X[c>>2]=34821223,X[c+4>>2]=2310721022,X[0]=1668509029}()}(),function Pt(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)c=d.preRun.shift(),Fe.unshift(c);var c;Xn(Fe)}(),At>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),c()},1)):c(),Tt())}if(d.___original_main=()=>(d.___original_main=W.Tc)(),d.___start_em_js=425127,d.___stop_em_js=425226,d.addFunction=(c,y)=>{var Z=(c=>(ce||(ce=new WeakMap,((c,y)=>{if(ce)for(var Z=0;Z<0+y;Z++){var Ne=ie(Z);Ne&&ce.set(Ne,Z)}})(0,E.length)),ce.get(c)||0))(c);if(Z)return Z;var Ne=(()=>{if(Ke.length)return Ke.pop();try{E.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}return E.length-1})();try{Ve(Ne,c)}catch(hn){if(!(hn instanceof TypeError))throw hn;var wt=((c,y)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((c=>{for(var y={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Z={parameters:[],results:"v"==c[0]?[]:[y[c[0]]]},Ne=1;Ne<c.length;++Ne)Z.parameters.push(y[c[Ne]]);return Z})(y),c);var Z=[1];((c,y)=>{var Z=c.slice(0,1),Ne=c.slice(1),wt={i:127,p:127,j:126,f:125,d:124,e:111};y.push(96),et(Ne.length,y);for(var hn=0;hn<Ne.length;++hn)y.push(wt[Ne[hn]]);"v"==Z?y.push(0):y.push(1,wt[Z])})(y,Z);var Ne=[0,97,115,109,1,0,0,0,1];et(Z.length,Ne),Ne.push.apply(Ne,Z),Ne.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var wt=new WebAssembly.Module(new Uint8Array(Ne));return new WebAssembly.Instance(wt,{e:{f:c}}).exports.f})(c,y);Ve(Ne,wt)}return ce.set(c,Ne),Ne},d.UTF8ToString=de,_e=function c(){Ia||$l(),Ia||(_e=c)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Ts=!0;function ir(){}function Js(c){return(c||ir).__cache__}function fn(c,y){var Z=Js(y),Ne=Z[c];return Ne||((Ne=Object.create((y||ir).prototype)).ptr=c,Z[c]=Ne)}d.noInitialRun&&(Ts=!1),$l(),(ir.prototype=Object.create(ir.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},d.WrapperObject=ir,d.getCache=Js,d.wrapPointer=fn,d.castObject=function Uu(c,y){return fn(c.ptr,y)},d.NULL=fn(0),d.destroy=function Bl(c){if(!c.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";c.__destroy__(),delete Js(c.__class__)[c.ptr]},d.compare=function pn(c,y){return c.ptr===y.ptr},d.getPointer=function Pf(c){return c.ptr},d.getClass=function Jc(c){return c.__class__};var qt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(qt.needed){for(var c=0;c<qt.temps.length;c++)d._webidl_free(qt.temps[c]);qt.temps.length=0,d._webidl_free(qt.buffer),qt.buffer=0,qt.size+=qt.needed,qt.needed=0}qt.buffer||(qt.size+=128,qt.buffer=d._webidl_malloc(qt.size),Ae(qt.buffer)),qt.pos=0},alloc(c,y){Ae(qt.buffer);var wt,Ne=c.length*y.BYTES_PER_ELEMENT;return qt.pos+(Ne=Ne+7&-8)>=qt.size?(Ae(Ne>0),qt.needed+=Ne,wt=d._webidl_malloc(Ne),qt.temps.push(wt)):(wt=qt.buffer+qt.pos,qt.pos+=Ne),wt},copy(c,y,Z){switch(Z>>>=0,y.BYTES_PER_ELEMENT){case 2:Z>>>=1;break;case 4:Z>>>=2;break;case 8:Z>>>=3}for(var wt=0;wt<c.length;wt++)y[Z+wt]=c[wt]}};function mo(c){if("string"==typeof c){var y=zs(c),Z=qt.alloc(y,Re);return qt.copy(y,Re,Z),Z}return c}function zn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Te(){this.ptr=$o(),Js(Te)[this.ptr]=this}function Dr(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=ho(c,y),Js(Dr)[this.ptr]=this}function Qt(){throw"cannot construct a Frame, no constructor in IDL"}function Cn(){throw"cannot construct a DbBackup, no constructor in IDL"}function Vo(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function wo(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function ti(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function hr(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function zr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function zt(){this.ptr=ue(),Js(zt)[this.ptr]=this}function Di(c){qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),this.ptr=Fh(c),Js(Di)[this.ptr]=this}function Nn(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function oo(c,y,Z){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),Z&&"object"==typeof Z&&(Z=Z.ptr),this.ptr=to(c,y,Z),Js(oo)[this.ptr]=this}function so(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=ei(c,y),Js(so)[this.ptr]=this}return(zn.prototype=Object.create(ir.prototype)).constructor=zn,zn.prototype.__class__=zn,zn.__cache__={},d.VoidPtr=zn,zn.prototype.__destroy__=zn.prototype.__destroy__=function(){Gn(this.ptr)},(Te.prototype=Object.create(ir.prototype)).constructor=Te,Te.prototype.__class__=Te,Te.__cache__={},d.Cloudpilot=Te,Te.prototype.Malloc=Te.prototype.Malloc=function(c){return c&&"object"==typeof c&&(c=c.ptr),fn(Ao(this.ptr,c),zn)},Te.prototype.Free=Te.prototype.Free=function(c){c&&"object"==typeof c&&(c=c.ptr),ts(this.ptr,c)},Te.prototype.Nullptr=Te.prototype.Nullptr=function(){return fn(Va(this.ptr),zn)},Te.prototype.InitializeSession=Te.prototype.InitializeSession=function(c,y,Z){var Ne=this.ptr;return qt.prepare(),c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),Z=Z&&"object"==typeof Z?Z.ptr:mo(Z),!!da(Ne,c,y,Z)},Te.prototype.GetCyclesPerSecond=Te.prototype.GetCyclesPerSecond=function(){return Ws(this.ptr)},Te.prototype.RunEmulation=Te.prototype.RunEmulation=function(c){return c&&"object"==typeof c&&(c=c.ptr),fa(this.ptr,c)},Te.prototype.SetClockFactor=Te.prototype.SetClockFactor=function(c){c&&"object"==typeof c&&(c=c.ptr),ns(this.ptr,c)},Te.prototype.CopyFrame=Te.prototype.CopyFrame=function(){return fn(ja(this.ptr),Qt)},Te.prototype.IsScreenDirty=Te.prototype.IsScreenDirty=function(){return!!pa(this.ptr)},Te.prototype.MarkScreenClean=Te.prototype.MarkScreenClean=function(){ha(this.ptr)},Te.prototype.MinMemoryForDevice=Te.prototype.MinMemoryForDevice=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Ga(y,c)},Te.prototype.FramebufferSizeForDevice=Te.prototype.FramebufferSizeForDevice=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Ua(y,c)},Te.prototype.TotalMemoryForDevice=Te.prototype.TotalMemoryForDevice=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Ha(y,c)},Te.prototype.QueuePenMove=Te.prototype.QueuePenMove=function(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),za(this.ptr,c,y)},Te.prototype.QueuePenUp=Te.prototype.QueuePenUp=function(){ma(this.ptr)},Te.prototype.QueueButtonDown=Te.prototype.QueueButtonDown=function(c){c&&"object"==typeof c&&(c=c.ptr),Wa(this.ptr,c)},Te.prototype.QueueButtonUp=Te.prototype.QueueButtonUp=function(c){c&&"object"==typeof c&&(c=c.ptr),Za(this.ptr,c)},Te.prototype.QueueKeyboardEvent=Te.prototype.QueueKeyboardEvent=function(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),Cr(this.ptr,c,y)},Te.prototype.IsPowerOff=Te.prototype.IsPowerOff=function(){return!!ga(this.ptr)},Te.prototype.IsUIInitialized=Te.prototype.IsUIInitialized=function(){return!!po(this.ptr)},Te.prototype.GetOSVersion=Te.prototype.GetOSVersion=function(){return Bt(this.ptr)},Te.prototype.IsSetupComplete=Te.prototype.IsSetupComplete=function(){return!!_a(this.ptr)},Te.prototype.Reset=Te.prototype.Reset=function(){Zs(this.ptr)},Te.prototype.ResetNoExtensions=Te.prototype.ResetNoExtensions=function(){eo(this.ptr)},Te.prototype.ResetHard=Te.prototype.ResetHard=function(){qs(this.ptr)},Te.prototype.InstallDb=Te.prototype.InstallDb=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),qa(this.ptr,c,y)},Te.prototype.GetPalette2bitMapping=Te.prototype.GetPalette2bitMapping=function(){return Un(this.ptr)},Te.prototype.GetMemoryPtr=Te.prototype.GetMemoryPtr=function(){return fn(ws(this.ptr),zn)},Te.prototype.GetDirtyPagesPtr=Te.prototype.GetDirtyPagesPtr=function(){return fn(Sr(this.ptr),zn)},Te.prototype.GetMemorySize=Te.prototype.GetMemorySize=function(){return Ys(this.ptr)},Te.prototype.ImportMemoryImage=Te.prototype.ImportMemoryImage=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Al(this.ptr,c,y)},Te.prototype.GetRomPtr=Te.prototype.GetRomPtr=function(){return fn(Ya(this.ptr),zn)},Te.prototype.GetRomSize=Te.prototype.GetRomSize=function(){return Hn(this.ptr)},Te.prototype.GetSavestatePtr=Te.prototype.GetSavestatePtr=function(){return fn(Vt(this.ptr),zn)},Te.prototype.GetSavestateSize=Te.prototype.GetSavestateSize=function(){return Es(this.ptr)},Te.prototype.SaveState=Te.prototype.SaveState=function(){return!!Ks(this.ptr)},Te.prototype.LoadState=Te.prototype.LoadState=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),!!kl(this.ptr,c,y)},Te.prototype.GetHotsyncName=Te.prototype.GetHotsyncName=function(){return de(va(this.ptr))},Te.prototype.SetHotsyncName=Te.prototype.SetHotsyncName=function(c){var y=this.ptr;qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Xe(y,c)},Te.prototype.RegisterPwmHandler=Te.prototype.RegisterPwmHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),Oi(this.ptr,c)},Te.prototype.StartBackup=Te.prototype.StartBackup=function(){return fn(rs(this.ptr),Cn)},Te.prototype.SetClipboardIntegration=Te.prototype.SetClipboardIntegration=function(c){c&&"object"==typeof c&&(c=c.ptr),Xs(this.ptr,c)},Te.prototype.GetClipboardIntegration=Te.prototype.GetClipboardIntegration=function(){return!!ya(this.ptr)},Te.prototype.IsSuspended=Te.prototype.IsSuspended=function(){return!!Ka(this.ptr)},Te.prototype.GetSuspendContext=Te.prototype.GetSuspendContext=function(){return fn(Qo(this.ptr),zr)},Te.prototype.SetNetworkRedirection=Te.prototype.SetNetworkRedirection=function(c){c&&"object"==typeof c&&(c=c.ptr),os(this.ptr,c)},Te.prototype.GetNetworkRedirection=Te.prototype.GetNetworkRedirection=function(){return!!Xa(this.ptr)},Te.prototype.RegisterProxyDisconnectHandler=Te.prototype.RegisterProxyDisconnectHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),Yt(this.ptr,c)},Te.prototype.SetHotsyncNameManagement=Te.prototype.SetHotsyncNameManagement=function(c){c&&"object"==typeof c&&(c=c.ptr),Vn(this.ptr,c)},Te.prototype.LaunchAppByName=Te.prototype.LaunchAppByName=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),!!ba(y,c)},Te.prototype.LaunchAppByDbHeader=Te.prototype.LaunchAppByDbHeader=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Rl(this.ptr,c,y)},Te.prototype.DeviceSupportsCardSize=Te.prototype.DeviceSupportsCardSize=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!Pl(this.ptr,c)},Te.prototype.ClearExternalStorage=Te.prototype.ClearExternalStorage=function(){Ol(this.ptr)},Te.prototype.AllocateCard=Te.prototype.AllocateCard=function(c,y){var Z=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),y&&"object"==typeof y&&(y=y.ptr),!!Qa(Z,c,y)},Te.prototype.AdoptCard=Te.prototype.AdoptCard=function(c,y,Z){var Ne=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),y&&"object"==typeof y&&(y=y.ptr),Z&&"object"==typeof Z&&(Z=Z.ptr),!!Tr(Ne,c,y,Z)},Te.prototype.MountCard=Te.prototype.MountCard=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),!!fr(y,c)},Te.prototype.RemoveCard=Te.prototype.RemoveCard=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),!!bo(y,c)},Te.prototype.GetCardData=Te.prototype.GetCardData=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),fn(Fl(y,c),zn)},Te.prototype.GetCardDirtyPages=Te.prototype.GetCardDirtyPages=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),fn(lc(y,c),zn)},Te.prototype.GetCardSize=Te.prototype.GetCardSize=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Ei(y,c)},Te.prototype.RemountCards=Te.prototype.RemountCards=function(){cc(this.ptr)},Te.prototype.GetSupportLevel=Te.prototype.GetSupportLevel=function(c){return c&&"object"==typeof c&&(c=c.ptr),qc(this.ptr,c)},Te.prototype.GetMountedKey=Te.prototype.GetMountedKey=function(){return de(Jn(this.ptr))},Te.prototype.GetTransportIR=Te.prototype.GetTransportIR=function(){return fn(Ca(this.ptr),Nn)},Te.prototype.GetTransportSerial=Te.prototype.GetTransportSerial=function(){return fn($r(this.ptr),Nn)},Te.prototype.__destroy__=Te.prototype.__destroy__=function(){Co(this.ptr)},(Dr.prototype=Object.create(ir.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},d.RomInfo=Dr,Dr.prototype.IsValid=Dr.prototype.IsValid=function(){return!!Hr(this.ptr)},Dr.prototype.CardVersion=Dr.prototype.CardVersion=function(){return yn(this.ptr)},Dr.prototype.CardName=Dr.prototype.CardName=function(){return de(yt(this.ptr))},Dr.prototype.RomVersion=Dr.prototype.RomVersion=function(){return Mr(this.ptr)},Dr.prototype.RomVersionString=Dr.prototype.RomVersionString=function(){return de(wr(this.ptr))},Dr.prototype.Supports=Dr.prototype.Supports=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),!!_(y,c)},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){G(this.ptr)},(Qt.prototype=Object.create(ir.prototype)).constructor=Qt,Qt.prototype.__class__=Qt,Qt.__cache__={},d.Frame=Qt,Qt.prototype.GetLineWidth=Qt.prototype.GetLineWidth=function(){return M(this.ptr)},Qt.prototype.GetBpp=Qt.prototype.GetBpp=function(){return Oe(this.ptr)},Qt.prototype.GetLines=Qt.prototype.GetLines=function(){return tt(this.ptr)},Qt.prototype.GetMargin=Qt.prototype.GetMargin=function(){return rn(this.ptr)},Qt.prototype.GetBytesPerLine=Qt.prototype.GetBytesPerLine=function(){return Kt(this.ptr)},Qt.prototype.GetFirstDirtyLine=Qt.prototype.GetFirstDirtyLine=function(){return ln(this.ptr)},Qt.prototype.GetLastDirtyLine=Qt.prototype.GetLastDirtyLine=function(){return er(this.ptr)},Qt.prototype.GetHasChanges=Qt.prototype.GetHasChanges=function(){return!!Lt(this.ptr)},Qt.prototype.GetBuffer=Qt.prototype.GetBuffer=function(){return fn(rr(this.ptr),zn)},Qt.prototype.GetBufferSize=Qt.prototype.GetBufferSize=function(){return pr(this.ptr)},Qt.prototype.GetScaleX=Qt.prototype.GetScaleX=function(){return bn(this.ptr)},Qt.prototype.GetScaleY=Qt.prototype.GetScaleY=function(){return Mt(this.ptr)},Qt.prototype.__destroy__=Qt.prototype.__destroy__=function(){Ft(this.ptr)},(Cn.prototype=Object.create(ir.prototype)).constructor=Cn,Cn.prototype.__class__=Cn,Cn.__cache__={},d.DbBackup=Cn,Cn.prototype.Init=Cn.prototype.Init=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!jn(this.ptr,c)},Cn.prototype.IsInProgress=Cn.prototype.IsInProgress=function(){return!!Ar(this.ptr)},Cn.prototype.IsDone=Cn.prototype.IsDone=function(){return!!gn(this.ptr)},Cn.prototype.GetCurrentDatabase=Cn.prototype.GetCurrentDatabase=function(){return de(qe(this.ptr))},Cn.prototype.Save=Cn.prototype.Save=function(){return!!p(this.ptr)},Cn.prototype.Skip=Cn.prototype.Skip=function(){D(this.ptr)},Cn.prototype.GetArchivePtr=Cn.prototype.GetArchivePtr=function(){return fn(re(this.ptr),zn)},Cn.prototype.GetArchiveSize=Cn.prototype.GetArchiveSize=function(){return $e(this.ptr)},Cn.prototype.__destroy__=Cn.prototype.__destroy__=function(){Me(this.ptr)},(Vo.prototype=Object.create(ir.prototype)).constructor=Vo,Vo.prototype.__class__=Vo,Vo.__cache__={},d.SuspendContextClipboardCopy=Vo,Vo.prototype.Cancel=Vo.prototype.Cancel=function(){wn(this.ptr)},Vo.prototype.Resume=Vo.prototype.Resume=function(){en(this.ptr)},Vo.prototype.GetClipboardContent=Vo.prototype.GetClipboardContent=function(){return de(_n(this.ptr))},Vo.prototype.__destroy__=Vo.prototype.__destroy__=function(){tr(this.ptr)},(wo.prototype=Object.create(ir.prototype)).constructor=wo,wo.prototype.__class__=wo,wo.__cache__={},d.SuspendContextClipboardPaste=wo,wo.prototype.Cancel=wo.prototype.Cancel=function(){ko(this.ptr)},wo.prototype.Resume=wo.prototype.Resume=function(c){var y=this.ptr;qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Ds(y,c)},wo.prototype.__destroy__=wo.prototype.__destroy__=function(){Ja(this.ptr)},(ti.prototype=Object.create(ir.prototype)).constructor=ti,ti.prototype.__class__=ti,ti.__cache__={},d.SuspendContextNetworkConnect=ti,ti.prototype.Cancel=ti.prototype.Cancel=function(){Ro(this.ptr)},ti.prototype.Resume=ti.prototype.Resume=function(c){var y=this.ptr;qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Nl(y,c)},ti.prototype.__destroy__=ti.prototype.__destroy__=function(){uc(this.ptr)},(hr.prototype=Object.create(ir.prototype)).constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},d.SuspendContextNetworkRpc=hr,hr.prototype.Cancel=hr.prototype.Cancel=function(){Ll(this.ptr)},hr.prototype.GetRequestSize=hr.prototype.GetRequestSize=function(){return Sa(this.ptr)},hr.prototype.GetRequestData=hr.prototype.GetRequestData=function(){return fn(el(this.ptr),zn)},hr.prototype.ReceiveResponse=hr.prototype.ReceiveResponse=function(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),lt(this.ptr,c,y)},hr.prototype.__destroy__=hr.prototype.__destroy__=function(){cn(this.ptr)},(zr.prototype=Object.create(ir.prototype)).constructor=zr,zr.prototype.__class__=zr,zr.__cache__={},d.SuspendContext=zr,zr.prototype.GetKind=zr.prototype.GetKind=function(){return gi(this.ptr)},zr.prototype.Cancel=zr.prototype.Cancel=function(){Jo(this.ptr)},zr.prototype.AsContextClipboardCopy=zr.prototype.AsContextClipboardCopy=function(){return fn(tl(this.ptr),Vo)},zr.prototype.AsContextClipboardPaste=zr.prototype.AsContextClipboardPaste=function(){return fn(wa(this.ptr),wo)},zr.prototype.AsContextNetworkConnect=zr.prototype.AsContextNetworkConnect=function(){return fn(Ah(this.ptr),ti)},zr.prototype.AsContextNetworkRpc=zr.prototype.AsContextNetworkRpc=function(){return fn(Ea(this.ptr),hr)},zr.prototype.__destroy__=zr.prototype.__destroy__=function(){kh(this.ptr)},(zt.prototype=Object.create(ir.prototype)).constructor=zt,zt.prototype.__class__=zt,zt.__cache__={},d.SessionImage=zt,zt.prototype.GetDeviceId=zt.prototype.GetDeviceId=function(){return de(Cf(this.ptr))},zt.prototype.SetDeviceId=zt.prototype.SetDeviceId=function(c){var y=this.ptr;return qt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),fn(it(y,c),zt)},zt.prototype.GetRomImage=zt.prototype.GetRomImage=function(){return fn(Yc(this.ptr),zn)},zt.prototype.GetRomImageSize=zt.prototype.GetRomImageSize=function(){return Vu(this.ptr)},zt.prototype.SetRomImage=zt.prototype.SetRomImage=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),fn(dc(this.ptr,c,y),zt)},zt.prototype.GetMemoryImage=zt.prototype.GetMemoryImage=function(){return fn(Rh(this.ptr),zn)},zt.prototype.GetMemoryImageSize=zt.prototype.GetMemoryImageSize=function(){return Ph(this.ptr)},zt.prototype.SetMemoryImage=zt.prototype.SetMemoryImage=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),fn(Oh(this.ptr,c,y),zt)},zt.prototype.GetMetadata=zt.prototype.GetMetadata=function(){return fn(Qs(this.ptr),zn)},zt.prototype.GetMetadataSize=zt.prototype.GetMetadataSize=function(){return Kc(this.ptr)},zt.prototype.SetMetadata=zt.prototype.SetMetadata=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),fn(is(this.ptr,c,y),zt)},zt.prototype.GetSavestate=zt.prototype.GetSavestate=function(){return fn(Is(this.ptr),zn)},zt.prototype.GetSavestateSize=zt.prototype.GetSavestateSize=function(){return qn(this.ptr)},zt.prototype.SetSavestate=zt.prototype.SetSavestate=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),fn(Sf(this.ptr,c,y),zt)},zt.prototype.GetVersion=zt.prototype.GetVersion=function(){return ju(this.ptr)},zt.prototype.Serialize=zt.prototype.Serialize=function(){return!!wf(this.ptr)},zt.prototype.GetSerializedImage=zt.prototype.GetSerializedImage=function(){return fn(Ef(this.ptr),zn)},zt.prototype.GetSerializedImageSize=zt.prototype.GetSerializedImageSize=function(){return fc(this.ptr)},zt.prototype.Deserialize=zt.prototype.Deserialize=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Df(this.ptr,c,y)},zt.prototype.__destroy__=zt.prototype.__destroy__=function(){If(this.ptr)},(Di.prototype=Object.create(ir.prototype)).constructor=Di,Di.prototype.__class__=Di,Di.__cache__={},d.SkinLoader=Di,Di.prototype.GetData=Di.prototype.GetData=function(){return fn(xf(this.ptr),zn)},Di.prototype.GetSize=Di.prototype.GetSize=function(){return Nh(this.ptr)},Di.prototype.__destroy__=Di.prototype.__destroy__=function(){Lh(this.ptr)},(Nn.prototype=Object.create(ir.prototype)).constructor=Nn,Nn.prototype.__class__=Nn,Nn.__cache__={},d.EmTransportSerialBuffer=Nn,Nn.prototype.RxBytesPending=Nn.prototype.RxBytesPending=function(){return ss(this.ptr)},Nn.prototype.Receive=Nn.prototype.Receive=function(){return fn($h(this.ptr),zn)},Nn.prototype.Send=Nn.prototype.Send=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),Tf(this.ptr,c,y)},Nn.prototype.IsOpen=Nn.prototype.IsOpen=function(){return!!Bh(this.ptr)},Nn.prototype.Rts=Nn.prototype.Rts=function(){return Vh(this.ptr)},Nn.prototype.Dtr=Nn.prototype.Dtr=function(){return!!jh(this.ptr)},Nn.prototype.IsBreak=Nn.prototype.IsBreak=function(){return!!Gh(this.ptr)},Nn.prototype.BufferSize=Nn.prototype.BufferSize=function(){return Mf(this.ptr)},Nn.prototype.GetBaud=Nn.prototype.GetBaud=function(){return Uh(this.ptr)},Nn.prototype.GetParity=Nn.prototype.GetParity=function(){return Hh(this.ptr)},Nn.prototype.GetStopBits=Nn.prototype.GetStopBits=function(){return zh(this.ptr)},Nn.prototype.GetDataBits=Nn.prototype.GetDataBits=function(){return Ze(this.ptr)},Nn.prototype.GetHwrHandshake=Nn.prototype.GetHwrHandshake=function(){return Wh(this.ptr)},Nn.prototype.__destroy__=Nn.prototype.__destroy__=function(){Zh(this.ptr)},(oo.prototype=Object.create(ir.prototype)).constructor=oo,oo.prototype.__class__=oo,oo.__cache__={},d.GunzipContext=oo,oo.prototype.GetState=oo.prototype.GetState=function(){return Af(this.ptr)},oo.prototype.Continue=oo.prototype.Continue=function(){return kt(this.ptr)},oo.prototype.GetUncompressedData=oo.prototype.GetUncompressedData=function(){return fn(Po(this.ptr),zn)},oo.prototype.ReleaseUncompressedData=oo.prototype.ReleaseUncompressedData=function(){return fn(Rn(this.ptr),zn)},oo.prototype.GetUncompressedSize=oo.prototype.GetUncompressedSize=function(){return So(this.ptr)},oo.prototype.GetError=oo.prototype.GetError=function(){return de(Bo(this.ptr))},oo.prototype.__destroy__=oo.prototype.__destroy__=function(){Da(this.ptr)},(so.prototype=Object.create(ir.prototype)).constructor=so,so.prototype.__class__=so,so.__cache__={},d.ZipfileWalker=so,so.prototype.GetState=so.prototype.GetState=function(){return kf(this.ptr)},so.prototype.Next=so.prototype.Next=function(){return Rf(this.ptr)},so.prototype.GetTotalEntries=so.prototype.GetTotalEntries=function(){return Xc(this.ptr)},so.prototype.GetCurrentEntrySize=so.prototype.GetCurrentEntrySize=function(){return qh(this.ptr)},so.prototype.GetCurrentEntryName=so.prototype.GetCurrentEntryName=function(){return de(Yh(this.ptr))},so.prototype.GetCurrentEntryContent=so.prototype.GetCurrentEntryContent=function(){return fn(no(this.ptr),zn)},so.prototype.__destroy__=so.prototype.__destroy__=function(){dt(this.ptr)},S.ready});ve.exports=Ee},3097:ve=>{var C,Ee=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Y,K,d=S;d.ready=new Promise((_,G)=>{Y=_,K=G});var be,U=Object.assign({},d),x="./this.program",T=(_,G)=>{throw G},Q="object"==typeof window,$="function"==typeof importScripts,O=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Q||$)&&($?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),C&&(O=C),O=0!==O.indexOf("blob:")?O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$&&(be=_=>{var G=new XMLHttpRequest;return G.open("GET",_,!1),G.responseType="arraybuffer",G.send(null),new Uint8Array(G.response)}));var k,se=d.print||console.log.bind(console),H=d.printErr||console.error.bind(console);Object.assign(d,U),U=null,d.thisProgram&&(x=d.thisProgram),d.quit&&(T=d.quit),d.wasmBinary&&(k=d.wasmBinary),"object"!=typeof WebAssembly&&ot("no native wasm support detected");var te,ae,Re,F,I,X,me,le=!1;function Ae(_,G){_||ot(G)}function Be(){var _=te.buffer;d.HEAP8=Re=new Int8Array(_),d.HEAP16=new Int16Array(_),d.HEAPU8=F=new Uint8Array(_),d.HEAPU16=new Uint16Array(_),d.HEAP32=I=new Int32Array(_),d.HEAPU32=X=new Uint32Array(_),d.HEAPF32=new Float32Array(_),d.HEAPF64=me=new Float64Array(_)}function Tt(){if(!le){var _=Qo();0==_&&(_+=4);var G=X[_>>2],M=X[_+4>>2];(34821223!=G||2310721022!=M)&&ot(`Stack overflow! Stack cookie has been overwritten at ${de(_)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${de(M)} ${de(G)}`),1668509029!=X[0]&&ot("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Fe=[],We=[],Pe=[],Ge=[],At=0,Ie=null,_e=null;function ot(_){d.onAbort&&d.onAbort(_),H(_="Aborted("+_+")"),le=!0,ae=1,_+=". Build with -sASSERTIONS for more info.";var G=new WebAssembly.RuntimeError(_);throw K(G),G}var On,on=_=>_.startsWith("data:application/octet-stream;base64,"),$t=0;function sn(_){return function(){if(le)throw"program has already aborted!";$t+=1;try{return _.apply(null,arguments)}catch(G){if(le||$t>1||G===1/0||"unwind"===G)throw G;ot("unhandled exception: "+[G,G.stack])}finally{$t-=1}}}function qo(_){if(_==On&&k)return new Uint8Array(k);if(be)return be(_);throw"both async and sync fetching of the wasm failed"}function go(_,G,M){return function jr(_){return k||!Q&&!$||"function"!=typeof fetch?Promise.resolve().then(()=>qo(_)):fetch(_,{credentials:"same-origin"}).then(G=>{if(!G.ok)throw"failed to load wasm binary file at '"+_+"'";return G.arrayBuffer()}).catch(()=>qo(_))}(_).then(Oe=>WebAssembly.instantiate(Oe,G)).then(Oe=>Oe).then(M,Oe=>{H(`failed to asynchronously prepare wasm: ${Oe}`),ot(Oe)})}on(On="fstools_web.wasm")||(On=function A(_){return d.locateFile?d.locateFile(_,O):O+_}(On));var Xn,To={45550:()=>{throw new Error("terminated")}};function co(_){this.name="ExitStatus",this.message=`Program terminated with exit(${_})`,this.status=_}var we,_o=_=>{for(;_.length>0;)_.shift()(d)},Gr=d.noExitRuntime||!0,de=_=>"0x"+(_>>>=0).toString(16).padStart(8,"0"),Jt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ht=(_,G,M)=>{for(var Oe=G+M,tt=G;_[tt]&&!(tt>=Oe);)++tt;if(tt-G>16&&_.buffer&&Jt)return Jt.decode(_.subarray(G,tt));for(var rn="";G<tt;){var Kt=_[G++];if(128&Kt){var ln=63&_[G++];if(192!=(224&Kt)){var er=63&_[G++];if((Kt=224==(240&Kt)?(15&Kt)<<12|ln<<6|er:(7&Kt)<<18|ln<<12|er<<6|63&_[G++])<65536)rn+=String.fromCharCode(Kt);else{var Lt=Kt-65536;rn+=String.fromCharCode(55296|Lt>>10,56320|1023&Lt)}}else rn+=String.fromCharCode((31&Kt)<<6|ln)}else rn+=String.fromCharCode(Kt)}return rn},vn=(_,G)=>_?Ht(F,_,G):"",xr={varargs:void 0,get(){var _=I[+xr.varargs>>2];return xr.varargs+=4,_},getp:()=>xr.get(),getStr:_=>vn(_)},Zn=(_,G)=>G+2097152>>>0<4194305-!!_?(_>>>0)+4294967296*G:NaN,uo=_=>_%4==0&&(_%100!=0||_%400==0),fo=[0,31,60,91,121,152,182,213,244,274,305,335],Ai=[0,31,59,90,120,151,181,212,243,273,304,334],Lo=_=>(uo(_.getFullYear())?fo:Ai)[_.getMonth()]+_.getDate()-1,xn=_=>{for(var G=0,M=0;M<_.length;++M){var Oe=_.charCodeAt(M);Oe<=127?G++:Oe<=2047?G+=2:Oe>=55296&&Oe<=57343?(G+=4,++M):G+=3}return G},Bn=(_,G,M,Oe)=>{if(!(Oe>0))return 0;for(var tt=M,rn=M+Oe-1,Kt=0;Kt<_.length;++Kt){var ln=_.charCodeAt(Kt);if(ln>=55296&&ln<=57343&&(ln=65536+((1023&ln)<<10)|1023&_.charCodeAt(++Kt)),ln<=127){if(M>=rn)break;G[M++]=ln}else if(ln<=2047){if(M+1>=rn)break;G[M++]=192|ln>>6,G[M++]=128|63&ln}else if(ln<=65535){if(M+2>=rn)break;G[M++]=224|ln>>12,G[M++]=128|ln>>6&63,G[M++]=128|63&ln}else{if(M+3>=rn)break;G[M++]=240|ln>>18,G[M++]=128|ln>>12&63,G[M++]=128|ln>>6&63,G[M++]=128|63&ln}}return G[M]=0,M-tt},an=_=>{var G=xn(_)+1,M=Qe(G);return M&&((_,G,M)=>{Bn(_,F,G,M)})(_,M,G),M},ai=[],Si=_=>{var M=(_-te.buffer.byteLength+65535)/65536;try{return te.grow(M),Be(),1}catch{}},wi={},li=()=>{if(!li.strings){var G={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(var M in wi)void 0===wi[M]?delete G[M]:G[M]=wi[M];var Oe=[];for(var M in G)Oe.push(`${M}=${G[M]}`);li.strings=Oe}return li.strings},Mo=(_,G)=>{ae=_,(_=>{ae=_,Gr||(d.onExit&&d.onExit(_),le=!0),T(_,new co(_))})(_)},ca=[null,[],[]],_s=(_,G)=>{var M=ca[_];0===G||10===G?((1===_?se:H)(Ht(M,0)),M.length=0):M.push(G)},ys=[31,29,31,30,31,30,31,31,30,31,30,31],bs=[31,28,31,30,31,30,31,31,30,31,30,31];function Ji(_,G,M){var Oe=M>0?M:xn(_)+1,tt=new Array(Oe),rn=Bn(_,tt,0,tt.length);return G&&(tt.length=rn),tt}var ba,w={b:(_,G,M,Oe)=>{ot(`Assertion failed: ${vn(_)}, at: `+[G?vn(G):"unknown filename",M,Oe?vn(Oe):"unknown function"])},n:function Xr(_,G,M){Zn(G,M)},i:function vo(_,G,M,Oe){xr.varargs=Oe},j:function In(_,G,M){var Oe=Zn(_,G),tt=new Date(1e3*Oe);I[M>>2]=tt.getUTCSeconds(),I[M+4>>2]=tt.getUTCMinutes(),I[M+8>>2]=tt.getUTCHours(),I[M+12>>2]=tt.getUTCDate(),I[M+16>>2]=tt.getUTCMonth(),I[M+20>>2]=tt.getUTCFullYear()-1900,I[M+24>>2]=tt.getUTCDay();var rn=Date.UTC(tt.getUTCFullYear(),0,1,0,0,0,0),Kt=(tt.getTime()-rn)/864e5|0;I[M+28>>2]=Kt},k:function Fn(_,G,M){var Oe=Zn(_,G),tt=new Date(1e3*Oe);I[M>>2]=tt.getSeconds(),I[M+4>>2]=tt.getMinutes(),I[M+8>>2]=tt.getHours(),I[M+12>>2]=tt.getDate(),I[M+16>>2]=tt.getMonth(),I[M+20>>2]=tt.getFullYear()-1900,I[M+24>>2]=tt.getDay();var rn=0|Lo(tt);I[M+28>>2]=rn,I[M+36>>2]=-60*tt.getTimezoneOffset();var Kt=new Date(tt.getFullYear(),0,1),ln=new Date(tt.getFullYear(),6,1).getTimezoneOffset(),er=Kt.getTimezoneOffset(),Lt=0|(ln!=er&&tt.getTimezoneOffset()==Math.min(er,ln));I[M+32>>2]=Lt},l:function(_){var G=(()=>{var M=new Date(I[_+20>>2]+1900,I[_+16>>2],I[_+12>>2],I[_+8>>2],I[_+4>>2],I[_>>2],0),Oe=I[_+32>>2],tt=M.getTimezoneOffset(),rn=new Date(M.getFullYear(),0,1),Kt=new Date(M.getFullYear(),6,1).getTimezoneOffset(),ln=rn.getTimezoneOffset(),er=Math.min(ln,Kt);if(Oe<0)I[_+32>>2]=+(Kt!=ln&&er==tt);else if(Oe>0!=(er==tt)){var Lt=Math.max(ln,Kt),rr=Oe>0?er:Lt;M.setTime(M.getTime()+6e4*(rr-tt))}I[_+24>>2]=M.getDay();var pr=0|Lo(M);I[_+28>>2]=pr,I[_>>2]=M.getSeconds(),I[_+4>>2]=M.getMinutes(),I[_+8>>2]=M.getHours(),I[_+12>>2]=M.getDate(),I[_+16>>2]=M.getMonth(),I[_+20>>2]=M.getYear();var bn=M.getTime();return isNaN(bn)?(I[ke()>>2]=61,-1):bn/1e3})();return rs((Xn=G,+Math.abs(Xn)>=1?Xn>0?+Math.floor(Xn/4294967296)>>>0:~~+Math.ceil((Xn-+(~~Xn>>>0))/4294967296)>>>0:0)),G>>>0},q:(_,G,M)=>{var Oe=(new Date).getFullYear(),tt=new Date(Oe,0,1),rn=new Date(Oe,6,1),Kt=tt.getTimezoneOffset(),ln=rn.getTimezoneOffset(),er=Math.max(Kt,ln);function Lt(Ft){var jn=Ft.toTimeString().match(/\(([A-Za-z ]+)\)$/);return jn?jn[1]:"GMT"}X[_>>2]=60*er,I[G>>2]=+(Kt!=ln);var rr=Lt(tt),pr=Lt(rn),bn=an(rr),Mt=an(pr);ln<Kt?(X[M>>2]=bn,X[M+4>>2]=Mt):(X[M>>2]=Mt,X[M+4>>2]=bn)},c:()=>{ot("")},a:(_,G,M)=>((_,G,M)=>{var Oe=((_,G)=>{ai.length=0;for(var M;M=F[_++];){var Oe=105!=M;G+=(Oe&=112!=M)&&G%8?4:0,ai.push(112==M?X[G>>2]:105==M?I[G>>2]:me[G>>3]),G+=Oe?8:4}return ai})(G,M);return To[_].apply(null,Oe)})(_,G,M),e:()=>Date.now(),g:(_,G,M)=>F.copyWithin(_,G,G+M),p:_=>{var er,G=F.length,M=2147483648;if((_>>>=0)>M)return!1;for(var tt=1;tt<=4;tt*=2){var rn=G*(1+.2/tt);rn=Math.min(rn,_+100663296);var Kt=Math.min(M,(er=Math.max(_,rn))+(65536-er%65536)%65536);if(Si(Kt))return!0}return!1},r:(_,G)=>{var M=0;return li().forEach((Oe,tt)=>{var rn=G+M;X[_+4*tt>>2]=rn,((_,G)=>{for(var M=0;M<_.length;++M)Re[G++>>0]=_.charCodeAt(M);Re[G>>0]=0})(Oe,rn),M+=Oe.length+1}),0},s:(_,G)=>{var M=li();X[_>>2]=M.length;var Oe=0;return M.forEach(tt=>Oe+=tt.length+1),X[G>>2]=Oe,0},t:Mo,f:_=>52,d:(_,G,M,Oe)=>52,m:function zs(_,G,M,Oe,tt){return Zn(G,M),70},h:(_,G,M,Oe)=>{for(var tt=0,rn=0;rn<M;rn++){var Kt=X[G>>2],ln=X[G+4>>2];G+=8;for(var er=0;er<ln;er++)_s(_,F[Kt+er]);tt+=ln}return X[Oe>>2]=tt,0},o:(_,G,M,Oe,tt)=>((_,G,M,Oe)=>{var tt=X[Oe+40>>2],rn={tm_sec:I[Oe>>2],tm_min:I[Oe+4>>2],tm_hour:I[Oe+8>>2],tm_mday:I[Oe+12>>2],tm_mon:I[Oe+16>>2],tm_year:I[Oe+20>>2],tm_wday:I[Oe+24>>2],tm_yday:I[Oe+28>>2],tm_isdst:I[Oe+32>>2],tm_gmtoff:I[Oe+36>>2],tm_zone:tt?vn(tt):""},Kt=vn(M),ln={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var er in ln)Kt=Kt.replace(new RegExp(er,"g"),ln[er]);var Lt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],rr=["January","February","March","April","May","June","July","August","September","October","November","December"];function pr(qe,p,D){for(var re="number"==typeof qe?qe.toString():qe||"";re.length<p;)re=D[0]+re;return re}function bn(qe,p){return pr(qe,p,"0")}function Mt(qe,p){function D($e){return $e<0?-1:$e>0?1:0}var re;return 0===(re=D(qe.getFullYear()-p.getFullYear()))&&0===(re=D(qe.getMonth()-p.getMonth()))&&(re=D(qe.getDate()-p.getDate())),re}function Ft(qe){switch(qe.getDay()){case 0:return new Date(qe.getFullYear()-1,11,29);case 1:return qe;case 2:return new Date(qe.getFullYear(),0,3);case 3:return new Date(qe.getFullYear(),0,2);case 4:return new Date(qe.getFullYear(),0,1);case 5:return new Date(qe.getFullYear()-1,11,31);case 6:return new Date(qe.getFullYear()-1,11,30)}}function jn(qe){var p=((_,G)=>{for(var M=new Date(_.getTime());G>0;){var Oe=uo(M.getFullYear()),tt=M.getMonth(),rn=(Oe?ys:bs)[tt];if(!(G>rn-M.getDate()))return M.setDate(M.getDate()+G),M;G-=rn-M.getDate()+1,M.setDate(1),tt<11?M.setMonth(tt+1):(M.setMonth(0),M.setFullYear(M.getFullYear()+1))}return M})(new Date(qe.tm_year+1900,0,1),qe.tm_yday),D=new Date(p.getFullYear(),0,4),re=new Date(p.getFullYear()+1,0,4),$e=Ft(D),Me=Ft(re);return Mt($e,p)<=0?Mt(Me,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var Ar={"%a":qe=>Lt[qe.tm_wday].substring(0,3),"%A":qe=>Lt[qe.tm_wday],"%b":qe=>rr[qe.tm_mon].substring(0,3),"%B":qe=>rr[qe.tm_mon],"%C":qe=>bn((qe.tm_year+1900)/100|0,2),"%d":qe=>bn(qe.tm_mday,2),"%e":qe=>pr(qe.tm_mday,2," "),"%g":qe=>jn(qe).toString().substring(2),"%G":qe=>jn(qe),"%H":qe=>bn(qe.tm_hour,2),"%I":qe=>{var p=qe.tm_hour;return 0==p?p=12:p>12&&(p-=12),bn(p,2)},"%j":qe=>bn(qe.tm_mday+((_,G)=>{for(var M=0,Oe=0;Oe<=G;M+=_[Oe++]);return M})(uo(qe.tm_year+1900)?ys:bs,qe.tm_mon-1),3),"%m":qe=>bn(qe.tm_mon+1,2),"%M":qe=>bn(qe.tm_min,2),"%n":()=>"\n","%p":qe=>qe.tm_hour>=0&&qe.tm_hour<12?"AM":"PM","%S":qe=>bn(qe.tm_sec,2),"%t":()=>"\t","%u":qe=>qe.tm_wday||7,"%U":qe=>bn(Math.floor((qe.tm_yday+7-qe.tm_wday)/7),2),"%V":qe=>{var p=Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7);if((qe.tm_wday+371-qe.tm_yday-2)%7<=2&&p++,p){if(53==p){var re=(qe.tm_wday+371-qe.tm_yday)%7;4!=re&&(3!=re||!uo(qe.tm_year))&&(p=1)}}else{p=52;var D=(qe.tm_wday+7-qe.tm_yday-1)%7;(4==D||5==D&&uo(qe.tm_year%400-1))&&p++}return bn(p,2)},"%w":qe=>qe.tm_wday,"%W":qe=>bn(Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7),2),"%y":qe=>(qe.tm_year+1900).toString().substring(2),"%Y":qe=>qe.tm_year+1900,"%z":qe=>{var p=qe.tm_gmtoff;return(p>=0?"+":"-")+("0000"+(p=(p=Math.abs(p)/60)/60*100+p%60)).slice(-4)},"%Z":qe=>qe.tm_zone,"%%":()=>"%"};for(var er in Kt=Kt.replace(/%%/g,"\0\0"),Ar)Kt.includes(er)&&(Kt=Kt.replace(new RegExp(er,"g"),Ar[er](rn)));var gn=Ji(Kt=Kt.replace(/\0\0/g,"%"),!1);return gn.length>G?0:(((_,G)=>{Re.set(_,G)})(gn,_),gn.length-1)})(_,G,M,Oe)},E=function Nr(){var _={a:w};function G(Oe,tt){return E=function Sn(_){var G={};for(var M in _){var Oe=_[M];G[M]="function"==typeof Oe?sn(Oe):Oe}return G}(E=Oe.exports),te=E.u,Be(),we=E.za,function Ot(_){We.unshift(_)}(E.v),function _r(){var _=we.get,G={};we.get=M=>{var Oe=_.call(we,M),tt=G[M];return(!tt||tt.func!==Oe)&&(tt=G[M]={func:Oe,wrapper:sn(Oe)}),tt.wrapper}}(),function Je(_){if(At--,d.monitorRunDependencies&&d.monitorRunDependencies(At),0==At&&(null!==Ie&&(clearInterval(Ie),Ie=null),_e)){var G=_e;_e=null,G()}}(),E}if(function xe(_){At++,d.monitorRunDependencies&&d.monitorRunDependencies(At)}(),d.instantiateWasm)try{return d.instantiateWasm(_,G)}catch(Oe){H(`Module.instantiateWasm callback failed with error: ${Oe}`),K(Oe)}return function Fr(_,G,M,Oe){return _||"function"!=typeof WebAssembly.instantiateStreaming||on(G)||"function"!=typeof fetch?go(G,M,Oe):fetch(G,{credentials:"same-origin"}).then(tt=>WebAssembly.instantiateStreaming(tt,M).then(Oe,function(Kt){return H(`wasm streaming compile failed: ${Kt}`),H("falling back to ArrayBuffer instantiation"),go(G,M,Oe)}))}(k,On,_,function M(Oe){G(Oe.instance)}).catch(K),{}}(),ke=()=>(ke=E.w)(),Qe=(d._free=_=>(d._free=E.x)(_),d._malloc=_=>(Qe=d._malloc=E.y)(_)),Ve=(d._webidl_free=_=>(d._webidl_free=E.z)(_),d._webidl_malloc=_=>(d._webidl_malloc=E.A)(_),d._emscripten_bind_VoidPtr___destroy___0=_=>(Ve=d._emscripten_bind_VoidPtr___destroy___0=E.B)(_)),ft=d._emscripten_bind_FSTools_FSTools_0=()=>(ft=d._emscripten_bind_FSTools_FSTools_0=E.C)(),Et=d._emscripten_bind_FSTools_Malloc_1=(_,G)=>(Et=d._emscripten_bind_FSTools_Malloc_1=E.D)(_,G),W=d._emscripten_bind_FSTools_Free_1=(_,G)=>(W=d._emscripten_bind_FSTools_Free_1=E.E)(_,G),kn=d._emscripten_bind_FSTools_Nullptr_0=_=>(kn=d._emscripten_bind_FSTools_Nullptr_0=E.F)(_),dr=d._emscripten_bind_FSTools___destroy___0=_=>(dr=d._emscripten_bind_FSTools___destroy___0=E.G)(_),Lr=d._emscripten_bind_MkfsContext_MkfsContext_0=()=>(Lr=d._emscripten_bind_MkfsContext_MkfsContext_0=E.H)(),Ur=d._emscripten_bind_MkfsContext_Mkfs_2=(_,G,M)=>(Ur=d._emscripten_bind_MkfsContext_Mkfs_2=E.I)(_,G,M),Qn=d._emscripten_bind_MkfsContext_GetImage_0=_=>(Qn=d._emscripten_bind_MkfsContext_GetImage_0=E.J)(_),Ss=d._emscripten_bind_MkfsContext_GetImageSize_0=_=>(Ss=d._emscripten_bind_MkfsContext_GetImageSize_0=E.K)(_),Gn=d._emscripten_bind_MkfsContext___destroy___0=_=>(Gn=d._emscripten_bind_MkfsContext___destroy___0=E.L)(_),$o=d._emscripten_bind_FsckContext_FsckContext_1=_=>($o=d._emscripten_bind_FsckContext_FsckContext_1=E.M)(_),Ao=d._emscripten_bind_FsckContext_GetImage_0=_=>(Ao=d._emscripten_bind_FsckContext_GetImage_0=E.N)(_),ts=d._emscripten_bind_FsckContext_GetDirtyPages_0=_=>(ts=d._emscripten_bind_FsckContext_GetDirtyPages_0=E.O)(_),Va=d._emscripten_bind_FsckContext_GetImageSize_0=_=>(Va=d._emscripten_bind_FsckContext_GetImageSize_0=E.P)(_),da=d._emscripten_bind_FsckContext_Fsck_0=_=>(da=d._emscripten_bind_FsckContext_Fsck_0=E.Q)(_),Ws=d._emscripten_bind_FsckContext_GetResult_0=_=>(Ws=d._emscripten_bind_FsckContext_GetResult_0=E.R)(_),fa=d._emscripten_bind_FsckContext___destroy___0=_=>(fa=d._emscripten_bind_FsckContext___destroy___0=E.S)(_),ns=d._emscripten_bind_GunzipContext_GunzipContext_3=(_,G,M)=>(ns=d._emscripten_bind_GunzipContext_GunzipContext_3=E.T)(_,G,M),ja=d._emscripten_bind_GunzipContext_GetState_0=_=>(ja=d._emscripten_bind_GunzipContext_GetState_0=E.U)(_),pa=d._emscripten_bind_GunzipContext_Continue_0=_=>(pa=d._emscripten_bind_GunzipContext_Continue_0=E.V)(_),ha=d._emscripten_bind_GunzipContext_GetUncompressedData_0=_=>(ha=d._emscripten_bind_GunzipContext_GetUncompressedData_0=E.W)(_),Ga=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=_=>(Ga=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=E.X)(_),Ua=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=_=>(Ua=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=E.Y)(_),Ha=d._emscripten_bind_GunzipContext_GetError_0=_=>(Ha=d._emscripten_bind_GunzipContext_GetError_0=E.Z)(_),za=d._emscripten_bind_GunzipContext___destroy___0=_=>(za=d._emscripten_bind_GunzipContext___destroy___0=E._)(_),ma=d._emscripten_bind_GzipContext_GzipContext_3=(_,G,M)=>(ma=d._emscripten_bind_GzipContext_GzipContext_3=E.$)(_,G,M),Wa=d._emscripten_bind_GzipContext_SetFilename_1=(_,G)=>(Wa=d._emscripten_bind_GzipContext_SetFilename_1=E.aa)(_,G),Za=d._emscripten_bind_GzipContext_SetMtime_1=(_,G)=>(Za=d._emscripten_bind_GzipContext_SetMtime_1=E.ba)(_,G),Cr=d._emscripten_bind_GzipContext_Continue_0=_=>(Cr=d._emscripten_bind_GzipContext_Continue_0=E.ca)(_),ga=d._emscripten_bind_GzipContext_GetState_0=_=>(ga=d._emscripten_bind_GzipContext_GetState_0=E.da)(_),po=d._emscripten_bind_GzipContext_GetGzipData_0=_=>(po=d._emscripten_bind_GzipContext_GetGzipData_0=E.ea)(_),Bt=d._emscripten_bind_GzipContext_GetGzipSize_0=_=>(Bt=d._emscripten_bind_GzipContext_GetGzipSize_0=E.fa)(_),_a=d._emscripten_bind_GzipContext_GetError_0=_=>(_a=d._emscripten_bind_GzipContext_GetError_0=E.ga)(_),Zs=d._emscripten_bind_GzipContext___destroy___0=_=>(Zs=d._emscripten_bind_GzipContext___destroy___0=E.ha)(_),eo=d._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(eo=d._emscripten_bind_CreateZipContext_CreateZipContext_0=E.ia)(),qs=d._emscripten_bind_CreateZipContext_Initialize_1=(_,G)=>(qs=d._emscripten_bind_CreateZipContext_Initialize_1=E.ja)(_,G),qa=d._emscripten_bind_CreateZipContext_AddEntry_1=(_,G)=>(qa=d._emscripten_bind_CreateZipContext_AddEntry_1=E.ka)(_,G),Un=d._emscripten_bind_CreateZipContext_WriteData_2=(_,G,M)=>(Un=d._emscripten_bind_CreateZipContext_WriteData_2=E.la)(_,G,M),ws=d._emscripten_bind_CreateZipContext_GetZipData_0=_=>(ws=d._emscripten_bind_CreateZipContext_GetZipData_0=E.ma)(_),Sr=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=_=>(Sr=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=E.na)(_),Ys=d._emscripten_bind_CreateZipContext_GetLastError_0=_=>(Ys=d._emscripten_bind_CreateZipContext_GetLastError_0=E.oa)(_),Al=d._emscripten_bind_CreateZipContext___destroy___0=_=>(Al=d._emscripten_bind_CreateZipContext___destroy___0=E.pa)(_),Ya=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(_,G)=>(Ya=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=E.qa)(_,G),Hn=d._emscripten_bind_ZipfileWalker_GetState_0=_=>(Hn=d._emscripten_bind_ZipfileWalker_GetState_0=E.ra)(_),Vt=d._emscripten_bind_ZipfileWalker_Next_0=_=>(Vt=d._emscripten_bind_ZipfileWalker_Next_0=E.sa)(_),Es=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=_=>(Es=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=E.ta)(_),Ks=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=_=>(Ks=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=E.ua)(_),kl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=_=>(kl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=E.va)(_),va=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=_=>(va=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=E.wa)(_),Xe=d._emscripten_bind_ZipfileWalker___destroy___0=_=>(Xe=d._emscripten_bind_ZipfileWalker___destroy___0=E.xa)(_),Oi=d._main=(_,G)=>(Oi=d._main=E.ya)(_,G),rs=_=>(rs=E.Aa)(_),Xs=()=>(Xs=E.Ba)(),Qo=()=>(Qo=E.Ca)(),os=()=>(os=E.Da)();function Ol(){function _(){ba||(ba=!0,d.calledRun=!0,!le&&(function pe(){Tt(),_o(We)}(),function He(){Tt(),_o(Pe)}(),Y(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),Qa&&function Rl(){var _=Oi;try{$t+=1;var Oe=_(0,0);return Mo(Oe),Oe}catch(tt){return(_=>{if(_ instanceof co||"unwind"==_)return ae;Tt(),_ instanceof WebAssembly.RuntimeError&&os()<=0&&H("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),T(1,_)})(tt)}finally{$t-=1}}(),function at(){if(Tt(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)_=d.postRun.shift(),Ge.unshift(_);var _;_o(Ge)}()))}At>0||(function Pl(){Xs(),function ht(){var _=Qo();0==_&&(_+=4),X[_>>2]=34821223,X[_+4>>2]=2310721022,X[0]=1668509029}()}(),function Pt(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)_=d.preRun.shift(),Fe.unshift(_);var _;_o(Fe)}(),At>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),_()},1)):_(),Tt())}if(d.___original_main=()=>(d.___original_main=E.Ea)(),_e=function _(){ba||Ol(),ba||(_e=_)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Qa=!0;function Tr(){}function fr(_){return(_||Tr).__cache__}function bo(_,G){var M=fr(G),Oe=M[_];return Oe||((Oe=Object.create((G||Tr).prototype)).ptr=_,M[_]=Oe)}d.noInitialRun&&(Qa=!1),Ol(),(Tr.prototype=Object.create(Tr.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},d.WrapperObject=Tr,d.getCache=fr,d.wrapPointer=bo,d.castObject=function Fl(_,G){return bo(_.ptr,G)},d.NULL=bo(0),d.destroy=function lc(_){if(!_.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";_.__destroy__(),delete fr(_.__class__)[_.ptr]},d.compare=function Ei(_,G){return _.ptr===G.ptr},d.getPointer=function cc(_){return _.ptr},d.getClass=function qc(_){return _.__class__};var Jn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Jn.needed){for(var _=0;_<Jn.temps.length;_++)d._webidl_free(Jn.temps[_]);Jn.temps.length=0,d._webidl_free(Jn.buffer),Jn.buffer=0,Jn.size+=Jn.needed,Jn.needed=0}Jn.buffer||(Jn.size+=128,Jn.buffer=d._webidl_malloc(Jn.size),Ae(Jn.buffer)),Jn.pos=0},alloc(_,G){Ae(Jn.buffer);var tt,Oe=_.length*G.BYTES_PER_ELEMENT;return Jn.pos+(Oe=Oe+7&-8)>=Jn.size?(Ae(Oe>0),Jn.needed+=Oe,tt=d._webidl_malloc(Oe),Jn.temps.push(tt)):(tt=Jn.buffer+Jn.pos,Jn.pos+=Oe),tt},copy(_,G,M){switch(M>>>=0,G.BYTES_PER_ELEMENT){case 2:M>>>=1;break;case 4:M>>>=2;break;case 8:M>>>=3}for(var tt=0;tt<_.length;tt++)G[M+tt]=_[tt]}};function Ca(_){if("string"==typeof _){var G=Ji(_),M=Jn.alloc(G,Re);return Jn.copy(G,Re,M),M}return _}function $r(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Co(){this.ptr=ft(),fr(Co)[this.ptr]=this}function ho(){this.ptr=Lr(),fr(ho)[this.ptr]=this}function Hr(_){_&&"object"==typeof _&&(_=_.ptr),this.ptr=$o(_),fr(Hr)[this.ptr]=this}function yn(_,G,M){_&&"object"==typeof _&&(_=_.ptr),G&&"object"==typeof G&&(G=G.ptr),M&&"object"==typeof M&&(M=M.ptr),this.ptr=ns(_,G,M),fr(yn)[this.ptr]=this}function yt(_,G,M){_&&"object"==typeof _&&(_=_.ptr),G&&"object"==typeof G&&(G=G.ptr),M&&"object"==typeof M&&(M=M.ptr),this.ptr=ma(_,G,M),fr(yt)[this.ptr]=this}function Mr(){this.ptr=eo(),fr(Mr)[this.ptr]=this}function wr(_,G){_&&"object"==typeof _&&(_=_.ptr),G&&"object"==typeof G&&(G=G.ptr),this.ptr=Ya(_,G),fr(wr)[this.ptr]=this}return($r.prototype=Object.create(Tr.prototype)).constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},d.VoidPtr=$r,$r.prototype.__destroy__=$r.prototype.__destroy__=function(){Ve(this.ptr)},(Co.prototype=Object.create(Tr.prototype)).constructor=Co,Co.prototype.__class__=Co,Co.__cache__={},d.FSTools=Co,Co.prototype.Malloc=Co.prototype.Malloc=function(_){return _&&"object"==typeof _&&(_=_.ptr),bo(Et(this.ptr,_),$r)},Co.prototype.Free=Co.prototype.Free=function(_){_&&"object"==typeof _&&(_=_.ptr),W(this.ptr,_)},Co.prototype.Nullptr=Co.prototype.Nullptr=function(){return bo(kn(this.ptr),$r)},Co.prototype.__destroy__=Co.prototype.__destroy__=function(){dr(this.ptr)},(ho.prototype=Object.create(Tr.prototype)).constructor=ho,ho.prototype.__class__=ho,ho.__cache__={},d.MkfsContext=ho,ho.prototype.Mkfs=ho.prototype.Mkfs=function(_,G){var M=this.ptr;return Jn.prepare(),_&&"object"==typeof _&&(_=_.ptr),G=G&&"object"==typeof G?G.ptr:Ca(G),!!Ur(M,_,G)},ho.prototype.GetImage=ho.prototype.GetImage=function(){return bo(Qn(this.ptr),$r)},ho.prototype.GetImageSize=ho.prototype.GetImageSize=function(){return Ss(this.ptr)},ho.prototype.__destroy__=ho.prototype.__destroy__=function(){Gn(this.ptr)},(Hr.prototype=Object.create(Tr.prototype)).constructor=Hr,Hr.prototype.__class__=Hr,Hr.__cache__={},d.FsckContext=Hr,Hr.prototype.GetImage=Hr.prototype.GetImage=function(){return bo(Ao(this.ptr),$r)},Hr.prototype.GetDirtyPages=Hr.prototype.GetDirtyPages=function(){return bo(ts(this.ptr),$r)},Hr.prototype.GetImageSize=Hr.prototype.GetImageSize=function(){return Va(this.ptr)},Hr.prototype.Fsck=Hr.prototype.Fsck=function(){return da(this.ptr)},Hr.prototype.GetResult=Hr.prototype.GetResult=function(){return Ws(this.ptr)},Hr.prototype.__destroy__=Hr.prototype.__destroy__=function(){fa(this.ptr)},(yn.prototype=Object.create(Tr.prototype)).constructor=yn,yn.prototype.__class__=yn,yn.__cache__={},d.GunzipContext=yn,yn.prototype.GetState=yn.prototype.GetState=function(){return ja(this.ptr)},yn.prototype.Continue=yn.prototype.Continue=function(){return pa(this.ptr)},yn.prototype.GetUncompressedData=yn.prototype.GetUncompressedData=function(){return bo(ha(this.ptr),$r)},yn.prototype.ReleaseUncompressedData=yn.prototype.ReleaseUncompressedData=function(){return bo(Ga(this.ptr),$r)},yn.prototype.GetUncompressedSize=yn.prototype.GetUncompressedSize=function(){return Ua(this.ptr)},yn.prototype.GetError=yn.prototype.GetError=function(){return vn(Ha(this.ptr))},yn.prototype.__destroy__=yn.prototype.__destroy__=function(){za(this.ptr)},(yt.prototype=Object.create(Tr.prototype)).constructor=yt,yt.prototype.__class__=yt,yt.__cache__={},d.GzipContext=yt,yt.prototype.SetFilename=yt.prototype.SetFilename=function(_){var G=this.ptr;return Jn.prepare(),_=_&&"object"==typeof _?_.ptr:Ca(_),bo(Wa(G,_),yt)},yt.prototype.SetMtime=yt.prototype.SetMtime=function(_){return _&&"object"==typeof _&&(_=_.ptr),bo(Za(this.ptr,_),yt)},yt.prototype.Continue=yt.prototype.Continue=function(){return Cr(this.ptr)},yt.prototype.GetState=yt.prototype.GetState=function(){return ga(this.ptr)},yt.prototype.GetGzipData=yt.prototype.GetGzipData=function(){return bo(po(this.ptr),$r)},yt.prototype.GetGzipSize=yt.prototype.GetGzipSize=function(){return Bt(this.ptr)},yt.prototype.GetError=yt.prototype.GetError=function(){return vn(_a(this.ptr))},yt.prototype.__destroy__=yt.prototype.__destroy__=function(){Zs(this.ptr)},(Mr.prototype=Object.create(Tr.prototype)).constructor=Mr,Mr.prototype.__class__=Mr,Mr.__cache__={},d.CreateZipContext=Mr,Mr.prototype.Initialize=Mr.prototype.Initialize=function(_){return _&&"object"==typeof _&&(_=_.ptr),!!qs(this.ptr,_)},Mr.prototype.AddEntry=Mr.prototype.AddEntry=function(_){var G=this.ptr;return Jn.prepare(),_=_&&"object"==typeof _?_.ptr:Ca(_),!!qa(G,_)},Mr.prototype.WriteData=Mr.prototype.WriteData=function(_,G){return _&&"object"==typeof _&&(_=_.ptr),G&&"object"==typeof G&&(G=G.ptr),!!Un(this.ptr,_,G)},Mr.prototype.GetZipData=Mr.prototype.GetZipData=function(){return bo(ws(this.ptr),$r)},Mr.prototype.GetZipDataSize=Mr.prototype.GetZipDataSize=function(){return Sr(this.ptr)},Mr.prototype.GetLastError=Mr.prototype.GetLastError=function(){return vn(Ys(this.ptr))},Mr.prototype.__destroy__=Mr.prototype.__destroy__=function(){Al(this.ptr)},(wr.prototype=Object.create(Tr.prototype)).constructor=wr,wr.prototype.__class__=wr,wr.__cache__={},d.ZipfileWalker=wr,wr.prototype.GetState=wr.prototype.GetState=function(){return Hn(this.ptr)},wr.prototype.Next=wr.prototype.Next=function(){return Vt(this.ptr)},wr.prototype.GetTotalEntries=wr.prototype.GetTotalEntries=function(){return Es(this.ptr)},wr.prototype.GetCurrentEntrySize=wr.prototype.GetCurrentEntrySize=function(){return Ks(this.ptr)},wr.prototype.GetCurrentEntryName=wr.prototype.GetCurrentEntryName=function(){return vn(kl(this.ptr))},wr.prototype.GetCurrentEntryContent=wr.prototype.GetCurrentEntryContent=function(){return bo(va(this.ptr),$r)},wr.prototype.__destroy__=wr.prototype.__destroy__=function(){Xe(this.ptr)},S.ready});ve.exports=Ee},8886:ve=>{var C,Ee=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Y,K,d=S;d.ready=new Promise((p,D)=>{Y=p,K=D});var be,U=Object.assign({},d),x="./this.program",T=(p,D)=>{throw D},Q="object"==typeof window,$="function"==typeof importScripts,O=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Q||$)&&($?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),C&&(O=C),O=0!==O.indexOf("blob:")?O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$&&(be=p=>{var D=new XMLHttpRequest;return D.open("GET",p,!1),D.responseType="arraybuffer",D.send(null),new Uint8Array(D.response)}));var k,se=d.print||console.log.bind(console),H=d.printErr||console.error.bind(console);Object.assign(d,U),U=null,d.thisProgram&&(x=d.thisProgram),d.quit&&(T=d.quit),d.wasmBinary&&(k=d.wasmBinary),"object"!=typeof WebAssembly&&ot("no native wasm support detected");var te,ae,Re,F,I,X,le=!1;function Ae(p,D){p||ot(D)}function Be(){var p=te.buffer;d.HEAP8=Re=new Int8Array(p),d.HEAP16=new Int16Array(p),d.HEAPU8=F=new Uint8Array(p),d.HEAPU16=new Uint16Array(p),d.HEAP32=I=new Int32Array(p),d.HEAPU32=X=new Uint32Array(p),d.HEAPF32=new Float32Array(p),d.HEAPF64=new Float64Array(p)}function Tt(){if(!le){var p=Ca();0==p&&(p+=4);var D=X[p>>2],re=X[p+4>>2];(34821223!=D||2310721022!=re)&&ot(`Stack overflow! Stack cookie has been overwritten at ${Gr(p)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Gr(re)} ${Gr(D)}`),1668509029!=X[0]&&ot("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Fe=[],We=[],Pe=[],Ge=[],At=0,Ie=null,_e=null;function ot(p){d.onAbort&&d.onAbort(p),H(p="Aborted("+p+")"),le=!0,ae=1,p+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(p);throw K(D),D}var On,Xn,on=p=>p.startsWith("data:application/octet-stream;base64,"),$t=0;function sn(p){return function(){if(le)throw"program has already aborted!";$t+=1;try{return p.apply(null,arguments)}catch(D){if(le||$t>1||D===1/0||"unwind"===D)throw D;ot("unhandled exception: "+[D,D.stack])}finally{$t-=1}}}function qo(p){if(p==On&&k)return new Uint8Array(k);if(be)return be(p);throw"both async and sync fetching of the wasm failed"}function go(p,D,re){return function jr(p){return k||!Q&&!$||"function"!=typeof fetch?Promise.resolve().then(()=>qo(p)):fetch(p,{credentials:"same-origin"}).then(D=>{if(!D.ok)throw"failed to load wasm binary file at '"+p+"'";return D.arrayBuffer()}).catch(()=>qo(p))}(p).then($e=>WebAssembly.instantiate($e,D)).then($e=>$e).then(re,$e=>{H(`failed to asynchronously prepare wasm: ${$e}`),ot($e)})}function To(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}on(On="vfs_web.wasm")||(On=function A(p){return d.locateFile?d.locateFile(p,O):O+p}(On));var de,co=p=>{for(;p.length>0;)p.shift()(d)},_o=d.noExitRuntime||!0,Gr=p=>"0x"+(p>>>=0).toString(16).padStart(8,"0"),we=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Jt=(p,D,re)=>{for(var $e=D+re,Me=D;p[Me]&&!(Me>=$e);)++Me;if(Me-D>16&&p.buffer&&we)return we.decode(p.subarray(D,Me));for(var wn="";D<Me;){var en=p[D++];if(128&en){var _n=63&p[D++];if(192!=(224&en)){var tr=63&p[D++];if((en=224==(240&en)?(15&en)<<12|_n<<6|tr:(7&en)<<18|_n<<12|tr<<6|63&p[D++])<65536)wn+=String.fromCharCode(en);else{var ko=en-65536;wn+=String.fromCharCode(55296|ko>>10,56320|1023&ko)}}else wn+=String.fromCharCode((31&en)<<6|_n)}else wn+=String.fromCharCode(en)}return wn},Ht=(p,D)=>p?Jt(F,p,D):"",xr=(p,D)=>D+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*D:NaN,In=p=>p%4==0&&(p%100!=0||p%400==0),uo=[0,31,60,91,121,152,182,213,244,274,305,335],fo=[0,31,59,90,120,151,181,212,243,273,304,334],Ai=p=>(In(p.getFullYear())?uo:fo)[p.getMonth()]+p.getDate()-1,yr=p=>{for(var D=0,re=0;re<p.length;++re){var $e=p.charCodeAt(re);$e<=127?D++:$e<=2047?D+=2:$e>=55296&&$e<=57343?(D+=4,++re):D+=3}return D},xn=(p,D,re,$e)=>{if(!($e>0))return 0;for(var Me=re,wn=re+$e-1,en=0;en<p.length;++en){var _n=p.charCodeAt(en);if(_n>=55296&&_n<=57343&&(_n=65536+((1023&_n)<<10)|1023&p.charCodeAt(++en)),_n<=127){if(re>=wn)break;D[re++]=_n}else if(_n<=2047){if(re+1>=wn)break;D[re++]=192|_n>>6,D[re++]=128|63&_n}else if(_n<=65535){if(re+2>=wn)break;D[re++]=224|_n>>12,D[re++]=128|_n>>6&63,D[re++]=128|63&_n}else{if(re+3>=wn)break;D[re++]=240|_n>>18,D[re++]=128|_n>>12&63,D[re++]=128|_n>>6&63,D[re++]=128|63&_n}}return D[re]=0,re-Me},Yo=p=>{var D=yr(p)+1,re=es(D);return re&&((p,D,re)=>{xn(p,F,D,re)})(p,re,D),re},ms=p=>{var re=(p-te.buffer.byteLength+65535)/65536;try{return te.grow(re),Be(),1}catch{}},Ko={},Si=()=>{if(!Si.strings){var D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(var re in Ko)void 0===Ko[re]?delete D[re]:D[re]=Ko[re];var $e=[];for(var re in D)$e.push(`${re}=${D[re]}`);Si.strings=$e}return Si.strings},yo=[null,[],[]],gs=(p,D)=>{var re=yo[p];0===D||10===D?((1===p?se:H)(Jt(re,0)),re.length=0):re.push(D)},Mo=[31,29,31,30,31,30,31,31,30,31,30,31],Xo=[31,28,31,30,31,30,31,31,30,31,30,31];function Tn(p,D,re){var $e=re>0?re:yr(p)+1,Me=new Array($e),wn=xn(p,Me,0,Me.length);return D&&(Me.length=wn),Me}var yn,bs=(p,D)=>{ae=p,(p=>{ae=p,_o||(d.onExit&&d.onExit(p),le=!0),T(p,new To(p))})(p)},Ji={a:(p,D,re,$e)=>{ot(`Assertion failed: ${Ht(p)}, at: `+[D?Ht(D):"unknown filename",re,$e?Ht($e):"unknown function"])},n:function Zn(p,D,re){xr(D,re)},j:()=>1,k:function Lo(p,D,re){var $e=xr(p,D),Me=new Date(1e3*$e);I[re>>2]=Me.getSeconds(),I[re+4>>2]=Me.getMinutes(),I[re+8>>2]=Me.getHours(),I[re+12>>2]=Me.getDate(),I[re+16>>2]=Me.getMonth(),I[re+20>>2]=Me.getFullYear()-1900,I[re+24>>2]=Me.getDay();var wn=0|Ai(Me);I[re+28>>2]=wn,I[re+36>>2]=-60*Me.getTimezoneOffset();var en=new Date(Me.getFullYear(),0,1),_n=new Date(Me.getFullYear(),6,1).getTimezoneOffset(),tr=en.getTimezoneOffset(),ko=0|(_n!=tr&&Me.getTimezoneOffset()==Math.min(tr,_n));I[re+32>>2]=ko},l:function(p){var D=(()=>{var re=new Date(I[p+20>>2]+1900,I[p+16>>2],I[p+12>>2],I[p+8>>2],I[p+4>>2],I[p>>2],0),$e=I[p+32>>2],Me=re.getTimezoneOffset(),wn=new Date(re.getFullYear(),0,1),en=new Date(re.getFullYear(),6,1).getTimezoneOffset(),_n=wn.getTimezoneOffset(),tr=Math.min(_n,en);if($e<0)I[p+32>>2]=+(en!=_n&&tr==Me);else if($e>0!=(tr==Me)){var ko=Math.max(_n,en),Ds=$e>0?tr:ko;re.setTime(re.getTime()+6e4*(Ds-Me))}I[p+24>>2]=re.getDay();var Ja=0|Ai(re);I[p+28>>2]=Ja,I[p>>2]=re.getSeconds(),I[p+4>>2]=re.getMinutes(),I[p+8>>2]=re.getHours(),I[p+12>>2]=re.getDate(),I[p+16>>2]=re.getMonth(),I[p+20>>2]=re.getYear();var Ro=re.getTime();return isNaN(Ro)?(I[lc()>>2]=61,-1):Ro/1e3})();return Ei((Xn=D,+Math.abs(Xn)>=1?Xn>0?+Math.floor(Xn/4294967296)>>>0:~~+Math.ceil((Xn-+(~~Xn>>>0))/4294967296)>>>0:0)),D>>>0},e:(p,D,re)=>{var $e=(new Date).getFullYear(),Me=new Date($e,0,1),wn=new Date($e,6,1),en=Me.getTimezoneOffset(),_n=wn.getTimezoneOffset(),tr=Math.max(en,_n);function ko(uc){var Ll=uc.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Ll?Ll[1]:"GMT"}X[p>>2]=60*tr,I[D>>2]=+(en!=_n);var Ds=ko(Me),Ja=ko(wn),Ro=Yo(Ds),Nl=Yo(Ja);_n<en?(X[re>>2]=Ro,X[re+4>>2]=Nl):(X[re>>2]=Nl,X[re+4>>2]=Ro)},b:()=>{ot("")},c:()=>Date.now(),f:(p,D,re)=>F.copyWithin(p,D,D+re),d:p=>{var tr,D=F.length,re=2147483648;if((p>>>=0)>re)return!1;for(var Me=1;Me<=4;Me*=2){var wn=D*(1+.2/Me);wn=Math.min(wn,p+100663296);var en=Math.min(re,(tr=Math.max(p,wn))+(65536-tr%65536)%65536);if(ms(en))return!0}return!1},p:(p,D)=>{var re=0;return Si().forEach(($e,Me)=>{var wn=D+re;X[p+4*Me>>2]=wn,((p,D)=>{for(var re=0;re<p.length;++re)Re[D++>>0]=p.charCodeAt(re);Re[D>>0]=0})($e,wn),re+=$e.length+1}),0},q:(p,D)=>{var re=Si();X[p>>2]=re.length;var $e=0;return re.forEach(Me=>$e+=Me.length+1),X[D>>2]=$e,0},g:p=>52,i:(p,D,re,$e)=>52,m:function Pi(p,D,re,$e,Me){return xr(D,re),70},h:(p,D,re,$e)=>{for(var Me=0,wn=0;wn<re;wn++){var en=X[D>>2],_n=X[D+4>>2];D+=8;for(var tr=0;tr<_n;tr++)gs(p,F[en+tr]);Me+=_n}return X[$e>>2]=Me,0},o:(p,D,re,$e,Me)=>((p,D,re,$e)=>{var Me=X[$e+40>>2],wn={tm_sec:I[$e>>2],tm_min:I[$e+4>>2],tm_hour:I[$e+8>>2],tm_mday:I[$e+12>>2],tm_mon:I[$e+16>>2],tm_year:I[$e+20>>2],tm_wday:I[$e+24>>2],tm_yday:I[$e+28>>2],tm_isdst:I[$e+32>>2],tm_gmtoff:I[$e+36>>2],tm_zone:Me?Ht(Me):""},en=Ht(re),_n={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var tr in _n)en=en.replace(new RegExp(tr,"g"),_n[tr]);var ko=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ds=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ja(lt,cn,gi){for(var Jo="number"==typeof lt?lt.toString():lt||"";Jo.length<cn;)Jo=gi[0]+Jo;return Jo}function Ro(lt,cn){return Ja(lt,cn,"0")}function Nl(lt,cn){function gi(tl){return tl<0?-1:tl>0?1:0}var Jo;return 0===(Jo=gi(lt.getFullYear()-cn.getFullYear()))&&0===(Jo=gi(lt.getMonth()-cn.getMonth()))&&(Jo=gi(lt.getDate()-cn.getDate())),Jo}function uc(lt){switch(lt.getDay()){case 0:return new Date(lt.getFullYear()-1,11,29);case 1:return lt;case 2:return new Date(lt.getFullYear(),0,3);case 3:return new Date(lt.getFullYear(),0,2);case 4:return new Date(lt.getFullYear(),0,1);case 5:return new Date(lt.getFullYear()-1,11,31);case 6:return new Date(lt.getFullYear()-1,11,30)}}function Ll(lt){var cn=((p,D)=>{for(var re=new Date(p.getTime());D>0;){var $e=In(re.getFullYear()),Me=re.getMonth(),wn=($e?Mo:Xo)[Me];if(!(D>wn-re.getDate()))return re.setDate(re.getDate()+D),re;D-=wn-re.getDate()+1,re.setDate(1),Me<11?re.setMonth(Me+1):(re.setMonth(0),re.setFullYear(re.getFullYear()+1))}return re})(new Date(lt.tm_year+1900,0,1),lt.tm_yday),gi=new Date(cn.getFullYear(),0,4),Jo=new Date(cn.getFullYear()+1,0,4),tl=uc(gi),wa=uc(Jo);return Nl(tl,cn)<=0?Nl(wa,cn)<=0?cn.getFullYear()+1:cn.getFullYear():cn.getFullYear()-1}var Sa={"%a":lt=>ko[lt.tm_wday].substring(0,3),"%A":lt=>ko[lt.tm_wday],"%b":lt=>Ds[lt.tm_mon].substring(0,3),"%B":lt=>Ds[lt.tm_mon],"%C":lt=>Ro((lt.tm_year+1900)/100|0,2),"%d":lt=>Ro(lt.tm_mday,2),"%e":lt=>Ja(lt.tm_mday,2," "),"%g":lt=>Ll(lt).toString().substring(2),"%G":lt=>Ll(lt),"%H":lt=>Ro(lt.tm_hour,2),"%I":lt=>{var cn=lt.tm_hour;return 0==cn?cn=12:cn>12&&(cn-=12),Ro(cn,2)},"%j":lt=>Ro(lt.tm_mday+((p,D)=>{for(var re=0,$e=0;$e<=D;re+=p[$e++]);return re})(In(lt.tm_year+1900)?Mo:Xo,lt.tm_mon-1),3),"%m":lt=>Ro(lt.tm_mon+1,2),"%M":lt=>Ro(lt.tm_min,2),"%n":()=>"\n","%p":lt=>lt.tm_hour>=0&&lt.tm_hour<12?"AM":"PM","%S":lt=>Ro(lt.tm_sec,2),"%t":()=>"\t","%u":lt=>lt.tm_wday||7,"%U":lt=>Ro(Math.floor((lt.tm_yday+7-lt.tm_wday)/7),2),"%V":lt=>{var cn=Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7);if((lt.tm_wday+371-lt.tm_yday-2)%7<=2&&cn++,cn){if(53==cn){var Jo=(lt.tm_wday+371-lt.tm_yday)%7;4!=Jo&&(3!=Jo||!In(lt.tm_year))&&(cn=1)}}else{cn=52;var gi=(lt.tm_wday+7-lt.tm_yday-1)%7;(4==gi||5==gi&&In(lt.tm_year%400-1))&&cn++}return Ro(cn,2)},"%w":lt=>lt.tm_wday,"%W":lt=>Ro(Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7),2),"%y":lt=>(lt.tm_year+1900).toString().substring(2),"%Y":lt=>lt.tm_year+1900,"%z":lt=>{var cn=lt.tm_gmtoff;return(cn>=0?"+":"-")+("0000"+(cn=(cn=Math.abs(cn)/60)/60*100+cn%60)).slice(-4)},"%Z":lt=>lt.tm_zone,"%%":()=>"%"};for(var tr in en=en.replace(/%%/g,"\0\0"),Sa)en.includes(tr)&&(en=en.replace(new RegExp(tr,"g"),Sa[tr](wn)));var el=Tn(en=en.replace(/\0\0/g,"%"),!1);return el.length>D?0:(((p,D)=>{Re.set(p,D)})(el,p),el.length-1)})(p,D,re,$e)},et=function Nr(){var p={a:Ji};function D($e,Me){return et=function Sn(p){var D={};for(var re in p){var $e=p[re];D[re]="function"==typeof $e?sn($e):$e}return D}(et=$e.exports),te=et.r,Be(),de=et.Ua,function Ot(p){We.unshift(p)}(et.s),function _r(){var p=de.get,D={};de.get=re=>{var $e=p.call(de,re),Me=D[re];return(!Me||Me.func!==$e)&&(Me=D[re]={func:$e,wrapper:sn($e)}),Me.wrapper}}(),function Je(p){if(At--,d.monitorRunDependencies&&d.monitorRunDependencies(At),0==At&&(null!==Ie&&(clearInterval(Ie),Ie=null),_e)){var D=_e;_e=null,D()}}(),et}if(function xe(p){At++,d.monitorRunDependencies&&d.monitorRunDependencies(At)}(),d.instantiateWasm)try{return d.instantiateWasm(p,D)}catch($e){H(`Module.instantiateWasm callback failed with error: ${$e}`),K($e)}return function Fr(p,D,re,$e){return p||"function"!=typeof WebAssembly.instantiateStreaming||on(D)||"function"!=typeof fetch?go(D,re,$e):fetch(D,{credentials:"same-origin"}).then(Me=>WebAssembly.instantiateStreaming(Me,re).then($e,function(en){return H(`wasm streaming compile failed: ${en}`),H("falling back to ArrayBuffer instantiation"),go(D,re,$e)}))}(k,On,p,function re($e){D($e.instance)}).catch(K),{}}(),es=d._malloc=p=>(es=d._malloc=et.t)(p),ie=(d._free=p=>(d._free=et.u)(p),d._webidl_free=p=>(d._webidl_free=et.v)(p),d._webidl_malloc=p=>(d._webidl_malloc=et.w)(p),d._emscripten_bind_VoidPtr___destroy___0=p=>(ie=d._emscripten_bind_VoidPtr___destroy___0=et.x)(p)),ke=d._emscripten_bind_FileEntry_GetName_0=p=>(ke=d._emscripten_bind_FileEntry_GetName_0=et.y)(p),ce=d._emscripten_bind_FileEntry_IsDirectory_0=p=>(ce=d._emscripten_bind_FileEntry_IsDirectory_0=et.z)(p),Qe=d._emscripten_bind_FileEntry_GetSize_0=p=>(Qe=d._emscripten_bind_FileEntry_GetSize_0=et.A)(p),Ke=d._emscripten_bind_FileEntry_GetModifiedTS_0=p=>(Ke=d._emscripten_bind_FileEntry_GetModifiedTS_0=et.B)(p),nt=d._emscripten_bind_FileEntry_GetAttributes_0=p=>(nt=d._emscripten_bind_FileEntry_GetAttributes_0=et.C)(p),Ve=d._emscripten_bind_FileEntry___destroy___0=p=>(Ve=d._emscripten_bind_FileEntry___destroy___0=et.D)(p),ft=d._emscripten_bind_Vfs_Vfs_0=()=>(ft=d._emscripten_bind_Vfs_Vfs_0=et.E)(),Et=d._emscripten_bind_Vfs_Malloc_1=(p,D)=>(Et=d._emscripten_bind_Vfs_Malloc_1=et.F)(p,D),W=d._emscripten_bind_Vfs_Free_1=(p,D)=>(W=d._emscripten_bind_Vfs_Free_1=et.G)(p,D),kn=d._emscripten_bind_Vfs_Nullptr_0=p=>(kn=d._emscripten_bind_Vfs_Nullptr_0=et.H)(p),dr=d._emscripten_bind_Vfs_AllocateImage_1=(p,D)=>(dr=d._emscripten_bind_Vfs_AllocateImage_1=et.I)(p,D),Lr=d._emscripten_bind_Vfs_MountImage_1=(p,D)=>(Lr=d._emscripten_bind_Vfs_MountImage_1=et.J)(p,D),Ur=d._emscripten_bind_Vfs_UnmountImage_1=(p,D)=>(Ur=d._emscripten_bind_Vfs_UnmountImage_1=et.K)(p,D),Qn=d._emscripten_bind_Vfs_SwitchSlot_1=(p,D)=>(Qn=d._emscripten_bind_Vfs_SwitchSlot_1=et.L)(p,D),Ss=d._emscripten_bind_Vfs_GetPendingImageSize_0=p=>(Ss=d._emscripten_bind_Vfs_GetPendingImageSize_0=et.M)(p),Gn=d._emscripten_bind_Vfs_GetSize_1=(p,D)=>(Gn=d._emscripten_bind_Vfs_GetSize_1=et.N)(p,D),$o=d._emscripten_bind_Vfs_GetPendingImage_0=p=>($o=d._emscripten_bind_Vfs_GetPendingImage_0=et.O)(p),Ao=d._emscripten_bind_Vfs_GetImage_1=(p,D)=>(Ao=d._emscripten_bind_Vfs_GetImage_1=et.P)(p,D),ts=d._emscripten_bind_Vfs_GetDirtyPages_1=(p,D)=>(ts=d._emscripten_bind_Vfs_GetDirtyPages_1=et.Q)(p,D),Va=d._emscripten_bind_Vfs_RenameFile_2=(p,D,re)=>(Va=d._emscripten_bind_Vfs_RenameFile_2=et.R)(p,D,re),da=d._emscripten_bind_Vfs_ChmodFile_3=(p,D,re,$e)=>(da=d._emscripten_bind_Vfs_ChmodFile_3=et.S)(p,D,re,$e),Ws=d._emscripten_bind_Vfs_StatFile_1=(p,D)=>(Ws=d._emscripten_bind_Vfs_StatFile_1=et.T)(p,D),fa=d._emscripten_bind_Vfs_UnlinkFile_1=(p,D)=>(fa=d._emscripten_bind_Vfs_UnlinkFile_1=et.U)(p,D),ns=d._emscripten_bind_Vfs_Mkdir_1=(p,D)=>(ns=d._emscripten_bind_Vfs_Mkdir_1=et.V)(p,D),ja=d._emscripten_bind_Vfs_GetEntry_0=p=>(ja=d._emscripten_bind_Vfs_GetEntry_0=et.W)(p),pa=d._emscripten_bind_Vfs_BytesFree_1=(p,D)=>(pa=d._emscripten_bind_Vfs_BytesFree_1=et.X)(p,D),ha=d._emscripten_bind_Vfs_BytesTotal_1=(p,D)=>(ha=d._emscripten_bind_Vfs_BytesTotal_1=et.Y)(p,D),Ga=d._emscripten_bind_Vfs_ReadFile_1=(p,D)=>(Ga=d._emscripten_bind_Vfs_ReadFile_1=et.Z)(p,D),Ua=d._emscripten_bind_Vfs_GetCurrentFileSize_0=p=>(Ua=d._emscripten_bind_Vfs_GetCurrentFileSize_0=et._)(p),Ha=d._emscripten_bind_Vfs_GetCurrentFileContent_0=p=>(Ha=d._emscripten_bind_Vfs_GetCurrentFileContent_0=et.$)(p),za=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=p=>(za=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=et.aa)(p),ma=d._emscripten_bind_Vfs_WriteFile_3=(p,D,re,$e)=>(ma=d._emscripten_bind_Vfs_WriteFile_3=et.ba)(p,D,re,$e),Wa=d._emscripten_bind_Vfs___destroy___0=p=>(Wa=d._emscripten_bind_Vfs___destroy___0=et.ca)(p),Za=d._emscripten_bind_ReaddirContext_ReaddirContext_1=p=>(Za=d._emscripten_bind_ReaddirContext_ReaddirContext_1=et.da)(p),Cr=d._emscripten_bind_ReaddirContext_Next_0=p=>(Cr=d._emscripten_bind_ReaddirContext_Next_0=et.ea)(p),ga=d._emscripten_bind_ReaddirContext_GetEntry_0=p=>(ga=d._emscripten_bind_ReaddirContext_GetEntry_0=et.fa)(p),po=d._emscripten_bind_ReaddirContext_GetStatus_0=p=>(po=d._emscripten_bind_ReaddirContext_GetStatus_0=et.ga)(p),Bt=d._emscripten_bind_ReaddirContext_GetError_0=p=>(Bt=d._emscripten_bind_ReaddirContext_GetError_0=et.ha)(p),_a=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=p=>(_a=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=et.ia)(p),Zs=d._emscripten_bind_ReaddirContext___destroy___0=p=>(Zs=d._emscripten_bind_ReaddirContext___destroy___0=et.ja)(p),eo=d._emscripten_bind_ExportZipContext_ExportZipContext_2=(p,D)=>(eo=d._emscripten_bind_ExportZipContext_ExportZipContext_2=et.ka)(p,D),qs=d._emscripten_bind_ExportZipContext_AddFile_1=(p,D)=>(qs=d._emscripten_bind_ExportZipContext_AddFile_1=et.la)(p,D),qa=d._emscripten_bind_ExportZipContext_AddDirectory_1=(p,D)=>(qa=d._emscripten_bind_ExportZipContext_AddDirectory_1=et.ma)(p,D),Un=d._emscripten_bind_ExportZipContext_Continue_0=p=>(Un=d._emscripten_bind_ExportZipContext_Continue_0=et.na)(p),ws=d._emscripten_bind_ExportZipContext_GetState_0=p=>(ws=d._emscripten_bind_ExportZipContext_GetState_0=et.oa)(p),Sr=d._emscripten_bind_ExportZipContext_GetZipContent_0=p=>(Sr=d._emscripten_bind_ExportZipContext_GetZipContent_0=et.pa)(p),Ys=d._emscripten_bind_ExportZipContext_GetZipSize_0=p=>(Ys=d._emscripten_bind_ExportZipContext_GetZipSize_0=et.qa)(p),Al=d._emscripten_bind_ExportZipContext_GetErrorItem_0=p=>(Al=d._emscripten_bind_ExportZipContext_GetErrorItem_0=et.ra)(p),Ya=d._emscripten_bind_ExportZipContext___destroy___0=p=>(Ya=d._emscripten_bind_ExportZipContext___destroy___0=et.sa)(p),Hn=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=p=>(Hn=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=et.ta)(p),Vt=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=(p,D)=>(Vt=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=et.ua)(p,D),Es=d._emscripten_bind_DeleteRecursiveContext_Continue_0=p=>(Es=d._emscripten_bind_DeleteRecursiveContext_Continue_0=et.va)(p),Ks=d._emscripten_bind_DeleteRecursiveContext_GetState_0=p=>(Ks=d._emscripten_bind_DeleteRecursiveContext_GetState_0=et.wa)(p),kl=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=p=>(kl=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=et.xa)(p),va=d._emscripten_bind_DeleteRecursiveContext___destroy___0=p=>(va=d._emscripten_bind_DeleteRecursiveContext___destroy___0=et.ya)(p),Xe=d._emscripten_bind_UnzipContext_UnzipContext_4=(p,D,re,$e)=>(Xe=d._emscripten_bind_UnzipContext_UnzipContext_4=et.za)(p,D,re,$e),Oi=d._emscripten_bind_UnzipContext_GetState_0=p=>(Oi=d._emscripten_bind_UnzipContext_GetState_0=et.Aa)(p),rs=d._emscripten_bind_UnzipContext_Continue_0=p=>(rs=d._emscripten_bind_UnzipContext_Continue_0=et.Ba)(p),Xs=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=p=>(Xs=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=et.Ca)(p),ya=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=p=>(ya=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=et.Da)(p),Ka=d._emscripten_bind_UnzipContext_GetCollisionPath_0=p=>(Ka=d._emscripten_bind_UnzipContext_GetCollisionPath_0=et.Ea)(p),Qo=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=p=>(Qo=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=et.Fa)(p),os=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=p=>(os=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=et.Ga)(p),Xa=d._emscripten_bind_UnzipContext___destroy___0=p=>(Xa=d._emscripten_bind_UnzipContext___destroy___0=et.Ha)(p),Yt=d._emscripten_bind_PasteContext_PasteContext_3=(p,D,re)=>(Yt=d._emscripten_bind_PasteContext_PasteContext_3=et.Ia)(p,D,re),Vn=d._emscripten_bind_PasteContext_AddFile_1=(p,D)=>(Vn=d._emscripten_bind_PasteContext_AddFile_1=et.Ja)(p,D),ba=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(p,D)=>(ba=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=et.Ka)(p,D),Rl=d._emscripten_bind_PasteContext_GetState_0=p=>(Rl=d._emscripten_bind_PasteContext_GetState_0=et.La)(p),Pl=d._emscripten_bind_PasteContext_Continue_0=p=>(Pl=d._emscripten_bind_PasteContext_Continue_0=et.Ma)(p),Ol=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=p=>(Ol=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=et.Na)(p),Qa=d._emscripten_bind_PasteContext_GetCurrentEntry_0=p=>(Qa=d._emscripten_bind_PasteContext_GetCurrentEntry_0=et.Oa)(p),Tr=d._emscripten_bind_PasteContext_GetCollisionPath_0=p=>(Tr=d._emscripten_bind_PasteContext_GetCollisionPath_0=et.Pa)(p),fr=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=p=>(fr=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=et.Qa)(p),bo=d._emscripten_bind_PasteContext___destroy___0=p=>(bo=d._emscripten_bind_PasteContext___destroy___0=et.Ra)(p),Fl=d._main=(p,D)=>(Fl=d._main=et.Sa)(p,D),lc=()=>(lc=et.Ta)(),Ei=p=>(Ei=et.Va)(p),cc=()=>(cc=et.Wa)(),Ca=()=>(Ca=et.Xa)(),$r=()=>($r=et.Ya)();function wr(){function p(){yn||(yn=!0,d.calledRun=!0,!le&&(function pe(){Tt(),co(We)}(),function He(){Tt(),co(Pe)}(),Y(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),_&&function yt(){var p=Fl;try{$t+=1;var $e=p(0,0);return bs($e),$e}catch(Me){return(p=>{if(p instanceof To||"unwind"==p)return ae;Tt(),p instanceof WebAssembly.RuntimeError&&$r()<=0&&H("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),T(1,p)})(Me)}finally{$t-=1}}(),function at(){if(Tt(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)p=d.postRun.shift(),Ge.unshift(p);var p;co(Ge)}()))}At>0||(function Mr(){cc(),function ht(){var p=Ca();0==p&&(p+=4),X[p>>2]=34821223,X[p+4>>2]=2310721022,X[0]=1668509029}()}(),function Pt(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)p=d.preRun.shift(),Fe.unshift(p);var p;co(Fe)}(),At>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),p()},1)):p(),Tt())}if(d.___original_main=()=>(d.___original_main=et.Za)(),_e=function p(){yn||wr(),yn||(_e=p)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var _=!0;function G(){}function M(p){return(p||G).__cache__}function Oe(p,D){var re=M(D),$e=re[p];return $e||(($e=Object.create((D||G).prototype)).ptr=p,re[p]=$e)}d.noInitialRun&&(_=!1),wr(),(G.prototype=Object.create(G.prototype)).constructor=G,G.prototype.__class__=G,G.__cache__={},d.WrapperObject=G,d.getCache=M,d.wrapPointer=Oe,d.castObject=function tt(p,D){return Oe(p.ptr,D)},d.NULL=Oe(0),d.destroy=function rn(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete M(p.__class__)[p.ptr]},d.compare=function Kt(p,D){return p.ptr===D.ptr},d.getPointer=function ln(p){return p.ptr},d.getClass=function er(p){return p.__class__};var Lt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Lt.needed){for(var p=0;p<Lt.temps.length;p++)d._webidl_free(Lt.temps[p]);Lt.temps.length=0,d._webidl_free(Lt.buffer),Lt.buffer=0,Lt.size+=Lt.needed,Lt.needed=0}Lt.buffer||(Lt.size+=128,Lt.buffer=d._webidl_malloc(Lt.size),Ae(Lt.buffer)),Lt.pos=0},alloc(p,D){Ae(Lt.buffer);var Me,$e=p.length*D.BYTES_PER_ELEMENT;return Lt.pos+($e=$e+7&-8)>=Lt.size?(Ae($e>0),Lt.needed+=$e,Me=d._webidl_malloc($e),Lt.temps.push(Me)):(Me=Lt.buffer+Lt.pos,Lt.pos+=$e),Me},copy(p,D,re){switch(re>>>=0,D.BYTES_PER_ELEMENT){case 2:re>>>=1;break;case 4:re>>>=2;break;case 8:re>>>=3}for(var Me=0;Me<p.length;Me++)D[re+Me]=p[Me]}};function rr(p){if("string"==typeof p){var D=Tn(p),re=Lt.alloc(D,Re);return Lt.copy(D,Re,re),re}return p}function pr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function bn(){throw"cannot construct a FileEntry, no constructor in IDL"}function Mt(){this.ptr=ft(),M(Mt)[this.ptr]=this}function Ft(p){Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),this.ptr=Za(p),M(Ft)[this.ptr]=this}function jn(p,D){Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),D&&"object"==typeof D&&(D=D.ptr),this.ptr=eo(p,D),M(jn)[this.ptr]=this}function Ar(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Hn(p),M(Ar)[this.ptr]=this}function gn(p,D,re,$e){Lt.prepare(),p&&"object"==typeof p&&(p=p.ptr),D=D&&"object"==typeof D?D.ptr:rr(D),re&&"object"==typeof re&&(re=re.ptr),$e&&"object"==typeof $e&&($e=$e.ptr),this.ptr=Xe(p,D,re,$e),M(gn)[this.ptr]=this}function qe(p,D,re){Lt.prepare(),p&&"object"==typeof p&&(p=p.ptr),D=D&&"object"==typeof D?D.ptr:rr(D),re=re&&"object"==typeof re?re.ptr:rr(re),this.ptr=Yt(p,D,re),M(qe)[this.ptr]=this}return(pr.prototype=Object.create(G.prototype)).constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},d.VoidPtr=pr,pr.prototype.__destroy__=pr.prototype.__destroy__=function(){ie(this.ptr)},(bn.prototype=Object.create(G.prototype)).constructor=bn,bn.prototype.__class__=bn,bn.__cache__={},d.FileEntry=bn,bn.prototype.GetName=bn.prototype.GetName=function(){return Ht(ke(this.ptr))},bn.prototype.IsDirectory=bn.prototype.IsDirectory=function(){return!!ce(this.ptr)},bn.prototype.GetSize=bn.prototype.GetSize=function(){return Qe(this.ptr)},bn.prototype.GetModifiedTS=bn.prototype.GetModifiedTS=function(){return Ke(this.ptr)},bn.prototype.GetAttributes=bn.prototype.GetAttributes=function(){return nt(this.ptr)},bn.prototype.__destroy__=bn.prototype.__destroy__=function(){Ve(this.ptr)},(Mt.prototype=Object.create(G.prototype)).constructor=Mt,Mt.prototype.__class__=Mt,Mt.__cache__={},d.Vfs=Mt,Mt.prototype.Malloc=Mt.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Et(this.ptr,p),pr)},Mt.prototype.Free=Mt.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),W(this.ptr,p)},Mt.prototype.Nullptr=Mt.prototype.Nullptr=function(){return Oe(kn(this.ptr),pr)},Mt.prototype.AllocateImage=Mt.prototype.AllocateImage=function(p){p&&"object"==typeof p&&(p=p.ptr),dr(this.ptr,p)},Mt.prototype.MountImage=Mt.prototype.MountImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),!!Lr(this.ptr,p)},Mt.prototype.UnmountImage=Mt.prototype.UnmountImage=function(p){p&&"object"==typeof p&&(p=p.ptr),Ur(this.ptr,p)},Mt.prototype.SwitchSlot=Mt.prototype.SwitchSlot=function(p){p&&"object"==typeof p&&(p=p.ptr),Qn(this.ptr,p)},Mt.prototype.GetPendingImageSize=Mt.prototype.GetPendingImageSize=function(){return Ss(this.ptr)},Mt.prototype.GetSize=Mt.prototype.GetSize=function(p){return p&&"object"==typeof p&&(p=p.ptr),Gn(this.ptr,p)},Mt.prototype.GetPendingImage=Mt.prototype.GetPendingImage=function(){return Oe($o(this.ptr),pr)},Mt.prototype.GetImage=Mt.prototype.GetImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Ao(this.ptr,p),pr)},Mt.prototype.GetDirtyPages=Mt.prototype.GetDirtyPages=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(ts(this.ptr,p),pr)},Mt.prototype.RenameFile=Mt.prototype.RenameFile=function(p,D){var re=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),D=D&&"object"==typeof D?D.ptr:rr(D),Va(re,p,D)},Mt.prototype.ChmodFile=Mt.prototype.ChmodFile=function(p,D,re){var $e=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),D&&"object"==typeof D&&(D=D.ptr),re&&"object"==typeof re&&(re=re.ptr),da($e,p,D,re)},Mt.prototype.StatFile=Mt.prototype.StatFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Ws(D,p)},Mt.prototype.UnlinkFile=Mt.prototype.UnlinkFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),fa(D,p)},Mt.prototype.Mkdir=Mt.prototype.Mkdir=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),ns(D,p)},Mt.prototype.GetEntry=Mt.prototype.GetEntry=function(){return Oe(ja(this.ptr),bn)},Mt.prototype.BytesFree=Mt.prototype.BytesFree=function(p){return p&&"object"==typeof p&&(p=p.ptr),pa(this.ptr,p)},Mt.prototype.BytesTotal=Mt.prototype.BytesTotal=function(p){return p&&"object"==typeof p&&(p=p.ptr),ha(this.ptr,p)},Mt.prototype.ReadFile=Mt.prototype.ReadFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),!!Ga(D,p)},Mt.prototype.GetCurrentFileSize=Mt.prototype.GetCurrentFileSize=function(){return Ua(this.ptr)},Mt.prototype.GetCurrentFileContent=Mt.prototype.GetCurrentFileContent=function(){return Oe(Ha(this.ptr),pr)},Mt.prototype.ReleaseCurrentFile=Mt.prototype.ReleaseCurrentFile=function(){za(this.ptr)},Mt.prototype.WriteFile=Mt.prototype.WriteFile=function(p,D,re){var $e=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),D&&"object"==typeof D&&(D=D.ptr),re&&"object"==typeof re&&(re=re.ptr),ma($e,p,D,re)},Mt.prototype.__destroy__=Mt.prototype.__destroy__=function(){Wa(this.ptr)},(Ft.prototype=Object.create(G.prototype)).constructor=Ft,Ft.prototype.__class__=Ft,Ft.__cache__={},d.ReaddirContext=Ft,Ft.prototype.Next=Ft.prototype.Next=function(){return Cr(this.ptr)},Ft.prototype.GetEntry=Ft.prototype.GetEntry=function(){return Oe(ga(this.ptr),bn)},Ft.prototype.GetStatus=Ft.prototype.GetStatus=function(){return po(this.ptr)},Ft.prototype.GetError=Ft.prototype.GetError=function(){return Bt(this.ptr)},Ft.prototype.GetErrorDescription=Ft.prototype.GetErrorDescription=function(){return Ht(_a(this.ptr))},Ft.prototype.__destroy__=Ft.prototype.__destroy__=function(){Zs(this.ptr)},(jn.prototype=Object.create(G.prototype)).constructor=jn,jn.prototype.__class__=jn,jn.__cache__={},d.ExportZipContext=jn,jn.prototype.AddFile=jn.prototype.AddFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Oe(qs(D,p),jn)},jn.prototype.AddDirectory=jn.prototype.AddDirectory=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Oe(qa(D,p),jn)},jn.prototype.Continue=jn.prototype.Continue=function(){return Un(this.ptr)},jn.prototype.GetState=jn.prototype.GetState=function(){return ws(this.ptr)},jn.prototype.GetZipContent=jn.prototype.GetZipContent=function(){return Oe(Sr(this.ptr),pr)},jn.prototype.GetZipSize=jn.prototype.GetZipSize=function(){return Ys(this.ptr)},jn.prototype.GetErrorItem=jn.prototype.GetErrorItem=function(){return Ht(Al(this.ptr))},jn.prototype.__destroy__=jn.prototype.__destroy__=function(){Ya(this.ptr)},(Ar.prototype=Object.create(G.prototype)).constructor=Ar,Ar.prototype.__class__=Ar,Ar.__cache__={},d.DeleteRecursiveContext=Ar,Ar.prototype.AddFile=Ar.prototype.AddFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Oe(Vt(D,p),Ar)},Ar.prototype.Continue=Ar.prototype.Continue=function(){return Es(this.ptr)},Ar.prototype.GetState=Ar.prototype.GetState=function(){return Ks(this.ptr)},Ar.prototype.GetFailingPath=Ar.prototype.GetFailingPath=function(){return Ht(kl(this.ptr))},Ar.prototype.__destroy__=Ar.prototype.__destroy__=function(){va(this.ptr)},(gn.prototype=Object.create(G.prototype)).constructor=gn,gn.prototype.__class__=gn,gn.__cache__={},d.UnzipContext=gn,gn.prototype.GetState=gn.prototype.GetState=function(){return Oi(this.ptr)},gn.prototype.Continue=gn.prototype.Continue=function(){return rs(this.ptr)},gn.prototype.ContinueWithOverwrite=gn.prototype.ContinueWithOverwrite=function(){return Xs(this.ptr)},gn.prototype.GetCurrentEntry=gn.prototype.GetCurrentEntry=function(){return Ht(ya(this.ptr))},gn.prototype.GetCollisionPath=gn.prototype.GetCollisionPath=function(){return Ht(Ka(this.ptr))},gn.prototype.GetEntriesTotal=gn.prototype.GetEntriesTotal=function(){return Qo(this.ptr)},gn.prototype.GetEntriesSuccess=gn.prototype.GetEntriesSuccess=function(){return os(this.ptr)},gn.prototype.__destroy__=gn.prototype.__destroy__=function(){Xa(this.ptr)},(qe.prototype=Object.create(G.prototype)).constructor=qe,qe.prototype.__class__=qe,qe.__cache__={},d.PasteContext=qe,qe.prototype.AddFile=qe.prototype.AddFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:rr(p),Oe(Vn(D,p),qe)},qe.prototype.SetDeleteAfterCopy=qe.prototype.SetDeleteAfterCopy=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(ba(this.ptr,p),qe)},qe.prototype.GetState=qe.prototype.GetState=function(){return Rl(this.ptr)},qe.prototype.Continue=qe.prototype.Continue=function(){return Pl(this.ptr)},qe.prototype.ContinueWithOverwrite=qe.prototype.ContinueWithOverwrite=function(){return Ol(this.ptr)},qe.prototype.GetCurrentEntry=qe.prototype.GetCurrentEntry=function(){return Ht(Qa(this.ptr))},qe.prototype.GetCollisionPath=qe.prototype.GetCollisionPath=function(){return Ht(Tr(this.ptr))},qe.prototype.GetEntriesSuccess=qe.prototype.GetEntriesSuccess=function(){return fr(this.ptr)},qe.prototype.__destroy__=qe.prototype.__destroy__=function(){bo(this.ptr)},S.ready});ve.exports=Ee},276:(ve,Ee,C)=>{"use strict";C.d(Ee,{c:()=>Y,r:()=>R});const Y=(F,N)=>{F.componentOnReady?F.componentOnReady().then(ne=>N(ne)):R(()=>N(F))},R=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F)},7687:(ve,Ee,C)=>{"use strict";C.d(Ee,{L:()=>S,a:()=>d,b:()=>Y,c:()=>K,d:()=>U,g:()=>F});const S="ionViewWillEnter",d="ionViewDidEnter",Y="ionViewWillLeave",K="ionViewDidLeave",U="ionViewWillUnload",F=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},2723:(ve,Ee,C)=>{"use strict";C.d(Ee,{c:()=>be});var S=C(6940),d=C(4675);let Y;const U=se=>se.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P=se=>(void 0===Y&&(Y=void 0===se.style.animationName&&void 0!==se.style.webkitAnimationName?"-webkit-":""),Y),x=(se,H,k)=>{const te=H.startsWith("animation")?P(se):"";se.style.setProperty(te+H,k)},T=(se,H)=>{const k=H.startsWith("animation")?P(se):"";se.style.removeProperty(k+H)},R=[],fe=(se=[],H)=>{if(void 0!==H){const k=Array.isArray(H)?H:[H];return[...se,...k]}return se},be=se=>{let H,k,te,le,ae,Ae,I,We,Pe,Ge,st,at,Ye,Re=[],F=[],N=[],ne=!1,X={},q=[],me=[],Be={},ht=0,Tt=!1,Fe=!1,Pt=!0,pe=!1,He=!0,Ot=!1;const Gt=se,At=[],Ie=[],_e=[],xe=[],Je=[],ot=[],Ut=[],on=[],$t=[],sn=[],Sn=[],_r="function"==typeof AnimationEffect||void 0!==S.w&&"function"==typeof S.w.AnimationEffect,On="function"==typeof Element&&"function"==typeof Element.prototype.animate&&_r,jr=()=>Sn,To=(g,w)=>{const E=w.findIndex(ie=>ie.c===g);E>-1&&w.splice(E,1)},_o=(g,w)=>((w?.oneTimeCallback?Ie:At).push({c:g,o:w}),Ye),de=()=>{if(On)Sn.forEach(g=>{g.cancel()}),Sn.length=0;else{const g=xe.slice();(0,d.r)(()=>{g.forEach(w=>{T(w,"animation-name"),T(w,"animation-duration"),T(w,"animation-timing-function"),T(w,"animation-iteration-count"),T(w,"animation-delay"),T(w,"animation-play-state"),T(w,"animation-fill-mode"),T(w,"animation-direction")})})}},we=()=>{ot.forEach(g=>{g?.parentNode&&g.parentNode.removeChild(g)}),ot.length=0},Lo=()=>void 0!==ae?ae:I?I.getFill():"both",Fn=()=>void 0!==Pe?Pe:void 0!==Ae?Ae:I?I.getDirection():"normal",vr=()=>Tt?"linear":void 0!==te?te:I?I.getEasing():"linear",yr=()=>Fe?0:void 0!==Ge?Ge:void 0!==k?k:I?I.getDuration():0,xn=()=>void 0!==le?le:I?I.getIterations():1,Bn=()=>void 0!==st?st:void 0!==H?H:I?I.getDelay():0,Qr=()=>{0!==ht&&(ht--,0===ht&&((()=>{_s(),$t.forEach(ke=>ke()),sn.forEach(ke=>ke());const g=Pt?1:0,w=q,E=me,ie=Be;xe.forEach(ke=>{const ce=ke.classList;w.forEach(Qe=>ce.add(Qe)),E.forEach(Qe=>ce.remove(Qe));for(const Qe in ie)ie.hasOwnProperty(Qe)&&x(ke,Qe,ie[Qe])}),Ge=void 0,Pe=void 0,st=void 0,At.forEach(ke=>ke.c(g,Ye)),Ie.forEach(ke=>ke.c(g,Ye)),Ie.length=0,He=!0,Pt&&(pe=!0),Pt=!0})(),I&&I.animationFinish()))},li=(g=!0)=>{we();const w=(se=>(se.forEach(H=>{for(const k in H)if(H.hasOwnProperty(k)){const te=H[k];if("easing"===k)H["animation-timing-function"]=te,delete H[k];else{const le=U(k);le!==k&&(H[le]=te,delete H[k])}}}),se))(Re);xe.forEach(E=>{if(w.length>0){const ie=((se=[])=>se.map(H=>{const k=H.offset,te=[];for(const le in H)H.hasOwnProperty(le)&&"offset"!==le&&te.push(`${le}: ${H[le]};`);return`${100*k}% { ${te.join(" ")} }`}).join(" "))(w);at=void 0!==se?se:(se=>{let H=R.indexOf(se);return H<0&&(H=R.push(se)-1),`ion-animation-${H}`})(ie);const ke=((se,H,k)=>{var te;const le=(se=>{const H=void 0!==se.getRootNode?se.getRootNode():se;return H.head||H})(k),ae=P(k),Ae=le.querySelector("#"+se);if(Ae)return Ae;const Re=(null!==(te=k.ownerDocument)&&void 0!==te?te:document).createElement("style");return Re.id=se,Re.textContent=`@${ae}keyframes ${se} { ${H} } @${ae}keyframes ${se}-alt { ${H} }`,le.appendChild(Re),Re})(at,ie,E);ot.push(ke),x(E,"animation-duration",`${yr()}ms`),x(E,"animation-timing-function",vr()),x(E,"animation-delay",`${Bn()}ms`),x(E,"animation-fill-mode",Lo()),x(E,"animation-direction",Fn());const ce=xn()===1/0?"infinite":xn().toString();x(E,"animation-iteration-count",ce),x(E,"animation-play-state","paused"),g&&x(E,"animation-name",`${ke.id}-alt`),(0,d.r)(()=>{x(E,"animation-name",ke.id||null)})}})},Pi=(g=!0)=>{(()=>{Ut.forEach(ie=>ie()),on.forEach(ie=>ie());const g=F,w=N,E=X;xe.forEach(ie=>{const ke=ie.classList;g.forEach(ce=>ke.add(ce)),w.forEach(ce=>ke.remove(ce));for(const ce in E)E.hasOwnProperty(ce)&&x(ie,ce,E[ce])})})(),Re.length>0&&(On?(xe.forEach(g=>{const w=g.animate(Re,{id:Gt,delay:Bn(),duration:yr(),easing:vr(),iterations:xn(),fill:Lo(),direction:Fn()});w.pause(),Sn.push(w)}),Sn.length>0&&(Sn[0].onfinish=()=>{Qr()})):li(g)),ne=!0},yo=g=>{if(g=Math.min(Math.max(g,0),.9999),On)Sn.forEach(w=>{w.currentTime=w.effect.getComputedTiming().delay+yr()*g,w.pause()});else{const w=`-${yr()*g}ms`;xe.forEach(E=>{Re.length>0&&(x(E,"animation-delay",w),x(E,"animation-play-state","paused"))})}},gs=g=>{Sn.forEach(w=>{w.effect.updateTiming({delay:Bn(),duration:yr(),easing:vr(),iterations:xn(),fill:Lo(),direction:Fn()})}),void 0!==g&&yo(g)},Hs=(g=!0,w)=>{(0,d.r)(()=>{xe.forEach(E=>{x(E,"animation-name",at||null),x(E,"animation-duration",`${yr()}ms`),x(E,"animation-timing-function",vr()),x(E,"animation-delay",void 0!==w?`-${w*yr()}ms`:`${Bn()}ms`),x(E,"animation-fill-mode",Lo()||null),x(E,"animation-direction",Fn()||null);const ie=xn()===1/0?"infinite":xn().toString();x(E,"animation-iteration-count",ie),g&&x(E,"animation-name",`${at}-alt`),(0,d.r)(()=>{x(E,"animation-name",at||null)})})})},Jr=(g=!1,w=!0,E)=>(g&&Je.forEach(ie=>{ie.update(g,w,E)}),On?gs(E):Hs(w,E),Ye),Tn=()=>{ne&&(On?Sn.forEach(g=>{g.pause()}):xe.forEach(g=>{x(g,"animation-play-state","paused")}),Ot=!0)},ca=()=>{We=void 0,Qr()},_s=()=>{We&&clearTimeout(We)},Cs=g=>new Promise(w=>{g?.sync&&(Fe=!0,_o(()=>Fe=!1,{oneTimeCallback:!0})),ne||Pi(),pe&&(On?(yo(0),gs()):Hs(),pe=!1),He&&(ht=Je.length+1,He=!1);const E=()=>{To(ie,Ie),w()},ie=()=>{To(E,_e),w()};_o(ie,{oneTimeCallback:!0}),((g,w)=>{_e.push({c:g,o:{oneTimeCallback:!0}})})(E),Je.forEach(ke=>{ke.play()}),On?(Sn.forEach(g=>{g.play()}),(0===Re.length||0===xe.length)&&Qr()):(()=>{if(_s(),(0,d.r)(()=>{xe.forEach(g=>{Re.length>0&&x(g,"animation-play-state","running")})}),0===Re.length||0===xe.length)Qr();else{const g=Bn()||0,w=yr()||0,E=xn()||1;isFinite(E)&&(We=setTimeout(ca,g+w*E+100)),((se,H)=>{let k;const te={passive:!0},ae=Ae=>{se===Ae.target&&(k&&k(),_s(),(0,d.r)(()=>{xe.forEach(g=>{T(g,"animation-duration"),T(g,"animation-delay"),T(g,"animation-play-state")}),(0,d.r)(Qr)}))};se&&(se.addEventListener("webkitAnimationEnd",ae,te),se.addEventListener("animationend",ae,te),k=()=>{se.removeEventListener("webkitAnimationEnd",ae,te),se.removeEventListener("animationend",ae,te)})})(xe[0])}})(),Ot=!1}),et=(g,w)=>{const E=Re[0];return void 0===E||void 0!==E.offset&&0!==E.offset?Re=[{offset:0,[g]:w},...Re]:E[g]=w,Ye};return Ye={parentAnimation:I,elements:xe,childAnimations:Je,id:Gt,animationFinish:Qr,from:et,to:(g,w)=>{const E=Re[Re.length-1];return void 0===E||void 0!==E.offset&&1!==E.offset?Re=[...Re,{offset:1,[g]:w}]:E[g]=w,Ye},fromTo:(g,w,E)=>et(g,w).to(g,E),parent:g=>(I=g,Ye),play:Cs,pause:()=>(Je.forEach(g=>{g.pause()}),Tn(),Ye),stop:()=>{Je.forEach(g=>{g.stop()}),ne&&(de(),ne=!1),Tt=!1,Fe=!1,He=!0,Pe=void 0,Ge=void 0,st=void 0,ht=0,pe=!1,Pt=!0,Ot=!1,_e.forEach(g=>g.c(0,Ye)),_e.length=0},destroy:g=>(Je.forEach(w=>{w.destroy(g)}),(g=>{de(),g&&we()})(g),xe.length=0,Je.length=0,Re.length=0,At.length=0,Ie.length=0,ne=!1,He=!0,Ye),keyframes:g=>{const w=Re!==g;return Re=g,w&&(g=>{On?jr().forEach(w=>{const E=w.effect;if(E.setKeyframes)E.setKeyframes(g);else{const ie=new KeyframeEffect(E.target,g,E.getTiming());w.effect=ie}}):li()})(Re),Ye},addAnimation:g=>{if(null!=g)if(Array.isArray(g))for(const w of g)w.parent(Ye),Je.push(w);else g.parent(Ye),Je.push(g);return Ye},addElement:g=>{if(null!=g)if(1===g.nodeType)xe.push(g);else if(g.length>=0)for(let w=0;w<g.length;w++)xe.push(g[w]);else console.error("Invalid addElement value");return Ye},update:Jr,fill:g=>(ae=g,Jr(!0),Ye),direction:g=>(Ae=g,Jr(!0),Ye),iterations:g=>(le=g,Jr(!0),Ye),duration:g=>(!On&&0===g&&(g=1),k=g,Jr(!0),Ye),easing:g=>(te=g,Jr(!0),Ye),delay:g=>(H=g,Jr(!0),Ye),getWebAnimations:jr,getKeyframes:()=>Re,getFill:Lo,getDirection:Fn,getDelay:Bn,getIterations:xn,getEasing:vr,getDuration:yr,afterAddRead:g=>($t.push(g),Ye),afterAddWrite:g=>(sn.push(g),Ye),afterClearStyles:(g=[])=>{for(const w of g)Be[w]="";return Ye},afterStyles:(g={})=>(Be=g,Ye),afterRemoveClass:g=>(me=fe(me,g),Ye),afterAddClass:g=>(q=fe(q,g),Ye),beforeAddRead:g=>(Ut.push(g),Ye),beforeAddWrite:g=>(on.push(g),Ye),beforeClearStyles:(g=[])=>{for(const w of g)X[w]="";return Ye},beforeStyles:(g={})=>(X=g,Ye),beforeRemoveClass:g=>(N=fe(N,g),Ye),beforeAddClass:g=>(F=fe(F,g),Ye),onFinish:_o,isRunning:()=>0!==ht&&!Ot,progressStart:(g=!1,w)=>(Je.forEach(E=>{E.progressStart(g,w)}),Tn(),Tt=g,ne||Pi(),Jr(!1,!0,w),Ye),progressStep:g=>(Je.forEach(w=>{w.progressStep(g)}),yo(g),Ye),progressEnd:(g,w,E)=>(Tt=!1,Je.forEach(ie=>{ie.progressEnd(g,w,E)}),void 0!==E&&(Ge=E),pe=!1,Pt=!0,0===g?(Pe="reverse"===Fn()?"normal":"reverse","reverse"===Pe&&(Pt=!1),On?(Jr(),yo(1-w)):(st=(1-w)*yr()*-1,Jr(!1,!1))):1===g&&(On?(Jr(),yo(w)):(st=w*yr()*-1,Jr(!1,!1))),void 0!==g&&!I&&Cs(),Ye)}}},2984:(ve,Ee,C)=>{"use strict";C.d(Ee,{E:()=>$,I:()=>x,a:()=>S,s:()=>T});const S=R=>{try{if(R instanceof x)return R.value;if(!K()||"string"!=typeof R||""===R)return R;if(R.includes("onload="))return"";const O=document.createDocumentFragment(),A=document.createElement("div");O.appendChild(A),A.innerHTML=R,P.forEach(se=>{const H=O.querySelectorAll(se);for(let k=H.length-1;k>=0;k--){const te=H[k];te.parentNode?te.parentNode.removeChild(te):O.removeChild(te);const le=Y(te);for(let ae=0;ae<le.length;ae++)d(le[ae])}});const V=Y(O);for(let se=0;se<V.length;se++)d(V[se]);const fe=document.createElement("div");fe.appendChild(O);const be=fe.querySelector("div");return null!==be?be.innerHTML:fe.innerHTML}catch(O){return console.error(O),""}},d=R=>{if(R.nodeType&&1!==R.nodeType)return;if(typeof NamedNodeMap<"u"&&!(R.attributes instanceof NamedNodeMap))return void R.remove();for(let A=R.attributes.length-1;A>=0;A--){const V=R.attributes.item(A),fe=V.name;if(!U.includes(fe.toLowerCase())){R.removeAttribute(fe);continue}const be=V.value,se=R[fe];(null!=be&&be.toLowerCase().includes("javascript:")||null!=se&&se.toLowerCase().includes("javascript:"))&&R.removeAttribute(fe)}const O=Y(R);for(let A=0;A<O.length;A++)d(O[A])},Y=R=>null!=R.children?R.children:R.childNodes,K=()=>{var R;const O=window,A=null===(R=O?.Ionic)||void 0===R?void 0:R.config;return!A||(A.get?A.get("sanitizerEnabled",!0):!0===A.sanitizerEnabled||void 0===A.sanitizerEnabled)},U=["class","id","href","src","name","slot"],P=["script","style","iframe","meta","link","object","embed"];class x{constructor(O){this.value=O}}const T=R=>{const O=window,A=O.Ionic;if(!A||!A.config||"Object"===A.config.constructor.name)return O.Ionic=O.Ionic||{},O.Ionic.config=Object.assign(Object.assign({},O.Ionic.config),R),O.Ionic.config},$=!1},8573:(ve,Ee,C)=>{"use strict";C.d(Ee,{C:()=>U,a:()=>Y,d:()=>K});var S=C(3918),d=C(4675);const Y=function(){var P=(0,S.Z)(function*(x,T,Q,$,R,O){var A;if(x)return x.attachViewToDom(T,Q,R,$);if(!(O||"string"==typeof Q||Q instanceof HTMLElement))throw new Error("framework delegate is missing");const V="string"==typeof Q?null===(A=T.ownerDocument)||void 0===A?void 0:A.createElement(Q):Q;return $&&$.forEach(fe=>V.classList.add(fe)),R&&Object.assign(V,R),T.appendChild(V),yield new Promise(fe=>(0,d.c)(V,fe)),V});return function(T,Q,$,R,O,A){return P.apply(this,arguments)}}(),K=(P,x)=>{if(x){if(P)return P.removeViewFromDom(x.parentElement,x);x.remove()}return Promise.resolve()},U=()=>{let P,x;return{attachViewToDom:function(){var $=(0,S.Z)(function*(R,O,A={},V=[]){var fe,be;let se;if(P=R,O){const k="string"==typeof O?null===(fe=P.ownerDocument)||void 0===fe?void 0:fe.createElement(O):O;V.forEach(te=>k.classList.add(te)),Object.assign(k,A),P.appendChild(k),se=k,yield new Promise(te=>(0,d.c)(k,te))}else if(P.children.length>0&&("ION-MODAL"===P.tagName||"ION-POPOVER"===P.tagName)&&!(se=P.children[0]).classList.contains("ion-delegate-host")){const te=null===(be=P.ownerDocument)||void 0===be?void 0:be.createElement("div");te.classList.add("ion-delegate-host"),V.forEach(le=>te.classList.add(le)),te.append(...P.children),P.appendChild(te),se=te}const H=document.querySelector("ion-app")||document.body;return x=document.createComment("ionic teleport"),P.parentNode.insertBefore(x,P),H.appendChild(P),se??P});return function(O,A){return $.apply(this,arguments)}}(),removeViewFromDom:()=>(P&&x&&(x.parentNode.insertBefore(P,x),x.remove()),Promise.resolve())}}},4967:(ve,Ee,C)=>{"use strict";C.d(Ee,{G:()=>U});class d{constructor(x,T,Q,$,R){this.id=T,this.name=Q,this.disableScroll=R,this.priority=1e6*$+T,this.ctrl=x}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const x=this.ctrl.capture(this.name,this.id,this.priority);return x&&this.disableScroll&&this.ctrl.disableScroll(this.id),x}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Y{constructor(x,T,Q,$){this.id=T,this.disable=Q,this.disableScroll=$,this.ctrl=x}block(){if(this.ctrl){if(this.disable)for(const x of this.disable)this.ctrl.disableGesture(x,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const x of this.disable)this.ctrl.enableGesture(x,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const K="backdrop-no-scroll",U=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(x){var T;return new d(this,this.newID(),x.name,null!==(T=x.priority)&&void 0!==T?T:0,!!x.disableScroll)}createBlocker(x={}){return new Y(this,this.newID(),x.disable,!!x.disableScroll)}start(x,T,Q){return this.canStart(x)?(this.requestedStart.set(T,Q),!0):(this.requestedStart.delete(T),!1)}capture(x,T,Q){if(!this.start(x,T,Q))return!1;const $=this.requestedStart;let R=-1e4;if($.forEach(O=>{R=Math.max(R,O)}),R===Q){this.capturedId=T,$.clear();const O=new CustomEvent("ionGestureCaptured",{detail:{gestureName:x}});return document.dispatchEvent(O),!0}return $.delete(T),!1}release(x){this.requestedStart.delete(x),this.capturedId===x&&(this.capturedId=void 0)}disableGesture(x,T){let Q=this.disabledGestures.get(x);void 0===Q&&(Q=new Set,this.disabledGestures.set(x,Q)),Q.add(T)}enableGesture(x,T){const Q=this.disabledGestures.get(x);void 0!==Q&&Q.delete(T)}disableScroll(x){this.disabledScroll.add(x),1===this.disabledScroll.size&&document.body.classList.add(K)}enableScroll(x){this.disabledScroll.delete(x),0===this.disabledScroll.size&&document.body.classList.remove(K)}canStart(x){return!(void 0!==this.capturedId||this.isDisabled(x))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(x){const T=this.disabledGestures.get(x);return!!(T&&T.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(ve,Ee,C)=>{"use strict";C.r(Ee),C.d(Ee,{MENU_BACK_BUTTON_PRIORITY:()=>U,OVERLAY_BACK_BUTTON_PRIORITY:()=>K,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>Y});var S=C(3918);const d=()=>{document.addEventListener("backbutton",()=>{})},Y=()=>{const P=document;let x=!1;P.addEventListener("backbutton",()=>{if(x)return;let T=0,Q=[];const $=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(A,V){Q.push({priority:A,handler:V,id:T++})}}});P.dispatchEvent($);const R=function(){var A=(0,S.Z)(function*(V){try{if(V?.handler){const fe=V.handler(O);null!=fe&&(yield fe)}}catch(fe){console.error(fe)}});return function(fe){return A.apply(this,arguments)}}(),O=()=>{if(Q.length>0){let A={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Q.forEach(V=>{V.priority>=A.priority&&(A=V)}),x=!0,Q=Q.filter(V=>V.id!==A.id),R(A).then(()=>x=!1)}};O()})},K=100,U=99},4675:(ve,Ee,C)=>{"use strict";C.d(Ee,{a:()=>T,b:()=>Q,c:()=>Y,d:()=>be,e:()=>fe,f:()=>V,g:()=>$,h:()=>A,i:()=>x,j:()=>ae,k:()=>U,l:()=>se,m:()=>K,n:()=>O,o:()=>H,p:()=>le,q:()=>Ae,r:()=>R,s:()=>Re,t:()=>S,u:()=>k,v:()=>te});const S=(F,N=0)=>new Promise(ne=>{d(F,N,ne)}),d=(F,N=0,ne)=>{let I,X;const q={passive:!0},Be=()=>{I&&I()},ht=Tt=>{(void 0===Tt||F===Tt.target)&&(Be(),ne(Tt))};return F&&(F.addEventListener("webkitTransitionEnd",ht,q),F.addEventListener("transitionend",ht,q),X=setTimeout(ht,N+500),I=()=>{X&&(clearTimeout(X),X=void 0),F.removeEventListener("webkitTransitionEnd",ht,q),F.removeEventListener("transitionend",ht,q)}),Be},Y=(F,N)=>{F.componentOnReady?F.componentOnReady().then(ne=>N(ne)):R(()=>N(F))},K=F=>void 0!==F.componentOnReady,U=(F,N=[])=>{const ne={};return N.forEach(I=>{F.hasAttribute(I)&&(null!==F.getAttribute(I)&&(ne[I]=F.getAttribute(I)),F.removeAttribute(I))}),ne},P=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],x=(F,N)=>{let ne=P;return N&&N.length>0&&(ne=ne.filter(I=>!N.includes(I))),U(F,ne)},T=(F,N,ne,I)=>{var X;if(typeof window<"u"){const q=window,me=null===(X=q?.Ionic)||void 0===X?void 0:X.config;if(me){const Be=me.get("_ael");if(Be)return Be(F,N,ne,I);if(me._ael)return me._ael(F,N,ne,I)}}return F.addEventListener(N,ne,I)},Q=(F,N,ne,I)=>{var X;if(typeof window<"u"){const q=window,me=null===(X=q?.Ionic)||void 0===X?void 0:X.config;if(me){const Be=me.get("_rel");if(Be)return Be(F,N,ne,I);if(me._rel)return me._rel(F,N,ne,I)}}return F.removeEventListener(N,ne,I)},$=(F,N=F)=>F.shadowRoot||N,R=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F),O=F=>!!F.shadowRoot&&!!F.attachShadow,A=F=>{const N=F.closest("ion-item");return N?N.querySelector("ion-label"):null},V=F=>{if(F.focus(),F.classList.contains("ion-focusable")){const N=F.closest("ion-app");N&&N.setFocus([F])}},fe=(F,N)=>{let ne;const I=F.getAttribute("aria-labelledby"),X=F.id;let q=null!==I&&""!==I.trim()?I:N+"-lbl",me=null!==I&&""!==I.trim()?document.getElementById(I):A(F);return me?(null===I&&(me.id=q),ne=me.textContent,me.setAttribute("aria-hidden","true")):""!==X.trim()&&(me=document.querySelector(`label[for="${X}"]`),me&&(""!==me.id?q=me.id:me.id=q=`${X}-lbl`,ne=me.textContent)),{label:me,labelId:q,labelText:ne}},be=(F,N,ne,I,X)=>{if(F||O(N)){let q=N.querySelector("input.aux-input");q||(q=N.ownerDocument.createElement("input"),q.type="hidden",q.classList.add("aux-input"),N.appendChild(q)),q.disabled=X,q.name=ne,q.value=I||""}},se=(F,N,ne)=>Math.max(F,Math.min(N,ne)),H=(F,N)=>{if(!F){const ne="ASSERT: "+N;throw console.error(ne),new Error(ne)}},k=F=>F.timeStamp||Date.now(),te=F=>{if(F){const N=F.changedTouches;if(N&&N.length>0){const ne=N[0];return{x:ne.clientX,y:ne.clientY}}if(void 0!==F.pageX)return{x:F.pageX,y:F.pageY}}return{x:0,y:0}},le=F=>{const N="rtl"===document.dir;switch(F){case"start":return N;case"end":return!N;default:throw new Error(`"${F}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ae=(F,N)=>{const ne=F._original||F;return{_original:F,emit:Ae(ne.emit.bind(ne),N)}},Ae=(F,N=0)=>{let ne;return(...I)=>{clearTimeout(ne),ne=setTimeout(F,N,...I)}},Re=(F,N)=>{if(F??(F={}),N??(N={}),F===N)return!0;const ne=Object.keys(F);if(ne.length!==Object.keys(N).length)return!1;for(const I of ne)if(!(I in N)||F[I]!==N[I])return!1;return!0}},4656:(ve,Ee,C)=>{"use strict";C.d(Ee,{m:()=>A});var S=C(3918),d=C(6940),Y=C(1940),K=C(6240),U=C(4675),P=C(5194),x=C(2723);const T=V=>(0,x.c)().duration(V?400:300),Q=V=>{let fe,be;const se=V.width+8,H=(0,x.c)(),k=(0,x.c)();V.isEndSide?(fe=se+"px",be="0px"):(fe=-se+"px",be="0px"),H.addElement(V.menuInnerEl).fromTo("transform",`translateX(${fe})`,`translateX(${be})`);const le="ios"===(0,P.b)(V),ae=le?.2:.25;return k.addElement(V.backdropEl).fromTo("opacity",.01,ae),T(le).addAnimation([H,k])},$=V=>{let fe,be;const se=(0,P.b)(V),H=V.width;V.isEndSide?(fe=-H+"px",be=H+"px"):(fe=H+"px",be=-H+"px");const k=(0,x.c)().addElement(V.menuInnerEl).fromTo("transform",`translateX(${be})`,"translateX(0px)"),te=(0,x.c)().addElement(V.contentEl).fromTo("transform","translateX(0px)",`translateX(${fe})`),le=(0,x.c)().addElement(V.backdropEl).fromTo("opacity",.01,.32);return T("ios"===se).addAnimation([k,te,le])},R=V=>{const fe=(0,P.b)(V),be=V.width*(V.isEndSide?-1:1)+"px",se=(0,x.c)().addElement(V.contentEl).fromTo("transform","translateX(0px)",`translateX(${be})`);return T("ios"===fe).addAnimation(se)},A=(()=>{const V=new Map,fe=[],be=function(){var Pe=(0,S.Z)(function*(Ge){const st=yield Ae(Ge,!0);return!!st&&st.open()});return function(st){return Pe.apply(this,arguments)}}(),se=function(){var Pe=(0,S.Z)(function*(Ge){const st=yield void 0!==Ge?Ae(Ge,!0):Re();return void 0!==st&&st.close()});return function(st){return Pe.apply(this,arguments)}}(),H=function(){var Pe=(0,S.Z)(function*(Ge){const st=yield Ae(Ge,!0);return!!st&&st.toggle()});return function(st){return Pe.apply(this,arguments)}}(),k=function(){var Pe=(0,S.Z)(function*(Ge,st){const Pt=yield Ae(st);return Pt&&(Pt.disabled=!Ge),Pt});return function(st,Pt){return Pe.apply(this,arguments)}}(),te=function(){var Pe=(0,S.Z)(function*(Ge,st){const Pt=yield Ae(st);return Pt&&(Pt.swipeGesture=Ge),Pt});return function(st,Pt){return Pe.apply(this,arguments)}}(),le=function(){var Pe=(0,S.Z)(function*(Ge){if(null!=Ge){const st=yield Ae(Ge);return void 0!==st&&st.isOpen()}return void 0!==(yield Re())});return function(st){return Pe.apply(this,arguments)}}(),ae=function(){var Pe=(0,S.Z)(function*(Ge){const st=yield Ae(Ge);return!!st&&!st.disabled});return function(st){return Pe.apply(this,arguments)}}(),Ae=function(){var Pe=(0,S.Z)(function*(Ge,st=!1){if(yield We(),"start"===Ge||"end"===Ge){const pe=fe.filter(at=>at.side===Ge&&!at.disabled);if(pe.length>=1)return pe.length>1&&st&&(0,K.p)(`menuController queried for a menu on the "${Ge}" side, but ${pe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,pe.map(at=>at.el)),pe[0].el;const He=fe.filter(at=>at.side===Ge);if(He.length>=1)return He.length>1&&st&&(0,K.p)(`menuController queried for a menu on the "${Ge}" side, but ${He.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,He.map(at=>at.el)),He[0].el}else if(null!=Ge)return Fe(pe=>pe.menuId===Ge);return Fe(pe=>!pe.disabled)||(fe.length>0?fe[0].el:void 0)});return function(st){return Pe.apply(this,arguments)}}(),Re=function(){var Pe=(0,S.Z)(function*(){return yield We(),Be()});return function(){return Pe.apply(this,arguments)}}(),F=function(){var Pe=(0,S.Z)(function*(){return yield We(),ht()});return function(){return Pe.apply(this,arguments)}}(),N=function(){var Pe=(0,S.Z)(function*(){return yield We(),Tt()});return function(){return Pe.apply(this,arguments)}}(),ne=(Pe,Ge)=>{V.set(Pe,Ge)},q=function(){var Pe=(0,S.Z)(function*(Ge,st,Pt){if(Tt())return!1;if(st){const pe=yield Re();pe&&Ge.el!==pe&&(yield pe.setOpen(!1,!1))}return Ge._setOpen(st,Pt)});return function(st,Pt,pe){return Pe.apply(this,arguments)}}(),Be=()=>Fe(Pe=>Pe._isOpen),ht=()=>fe.map(Pe=>Pe.el),Tt=()=>fe.some(Pe=>Pe.isAnimating),Fe=Pe=>{const Ge=fe.find(Pe);if(void 0!==Ge)return Ge.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Pe=>new Promise(Ge=>(0,U.c)(Pe,Ge))));return ne("reveal",R),ne("push",$),ne("overlay",Q),null==d.d||d.d.addEventListener("ionBackButton",Pe=>{const Ge=Be();Ge&&Pe.detail.register(Y.MENU_BACK_BUTTON_PRIORITY,()=>Ge.close())}),{registerAnimation:ne,get:Ae,getMenus:F,getOpen:Re,isEnabled:ae,swipeGesture:te,isAnimating:N,isOpen:le,enable:k,toggle:H,close:se,open:be,_getOpenSync:Be,_createAnimation:(Pe,Ge)=>{const st=V.get(Pe);if(!st)throw new Error("animation not registered");return st(Ge)},_register:Pe=>{fe.indexOf(Pe)<0&&fe.push(Pe)},_unregister:Pe=>{const Ge=fe.indexOf(Pe);Ge>-1&&fe.splice(Ge,1)},_setOpen:q}})()},4923:(ve,Ee,C)=>{"use strict";C.r(Ee),C.d(Ee,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>Q});var S=C(4967);const d=(A,V,fe,be)=>{const se=Y(A)?{capture:!!be.capture,passive:!!be.passive}:!!be.capture;let H,k;return A.__zone_symbol__addEventListener?(H="__zone_symbol__addEventListener",k="__zone_symbol__removeEventListener"):(H="addEventListener",k="removeEventListener"),A[H](V,fe,se),()=>{A[k](V,fe,se)}},Y=A=>{if(void 0===K)try{const V=Object.defineProperty({},"passive",{get:()=>{K=!0}});A.addEventListener("optsTest",()=>{},V)}catch{K=!1}return!!K};let K;const x=A=>A instanceof Document?A:A.ownerDocument,Q=A=>{let V=!1,fe=!1,be=!0,se=!1;const H=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},A),k=H.canStart,te=H.onWillStart,le=H.onStart,ae=H.onEnd,Ae=H.notCaptured,Re=H.onMove,F=H.threshold,N=H.passive,ne=H.blurOnStart,I={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((A,V,fe)=>{const be=fe*(Math.PI/180),se="x"===A,H=Math.cos(be),k=V*V;let te=0,le=0,ae=!1,Ae=0;return{start(Re,F){te=Re,le=F,Ae=0,ae=!0},detect(Re,F){if(!ae)return!1;const N=Re-te,ne=F-le,I=N*N+ne*ne;if(I<k)return!1;const X=Math.sqrt(I),q=(se?N:ne)/X;return Ae=q>H?1:q<-H?-1:0,ae=!1,!0},isGesture:()=>0!==Ae,getDirection:()=>Ae}})(H.direction,H.threshold,H.maxAngle),q=S.G.createGesture({name:A.gestureName,priority:A.gesturePriority,disableScroll:A.disableScroll}),ht=()=>{V&&(se=!1,Re&&Re(I))},Tt=()=>!!q.capture()&&(V=!0,be=!1,I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime,te?te(I).then(We):We(),!0),We=()=>{ne&&(()=>{if(typeof document<"u"){const pe=document.activeElement;pe?.blur&&pe.blur()}})(),le&&le(I),be=!0},Pe=()=>{V=!1,fe=!1,se=!1,be=!0,q.release()},Ge=pe=>{const He=V,at=be;if(Pe(),at){if($(I,pe),He)return void(ae&&ae(I));Ae&&Ae(I)}},st=((A,V,fe,be,se)=>{let H,k,te,le,ae,Ae,Re,F=0;const N=Fe=>{F=Date.now()+2e3,V(Fe)&&(!k&&fe&&(k=d(A,"touchmove",fe,se)),te||(te=d(Fe.target,"touchend",I,se)),le||(le=d(Fe.target,"touchcancel",I,se)))},ne=Fe=>{F>Date.now()||V(Fe)&&(!Ae&&fe&&(Ae=d(x(A),"mousemove",fe,se)),Re||(Re=d(x(A),"mouseup",X,se)))},I=Fe=>{q(),be&&be(Fe)},X=Fe=>{me(),be&&be(Fe)},q=()=>{k&&k(),te&&te(),le&&le(),k=te=le=void 0},me=()=>{Ae&&Ae(),Re&&Re(),Ae=Re=void 0},Be=()=>{q(),me()},ht=(Fe=!0)=>{Fe?(H||(H=d(A,"touchstart",N,se)),ae||(ae=d(A,"mousedown",ne,se))):(H&&H(),ae&&ae(),H=ae=void 0,Be())};return{enable:ht,stop:Be,destroy:()=>{ht(!1),be=fe=V=void 0}}})(H.el,pe=>{const He=O(pe);return!(fe||!be||(R(pe,I),I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime=He,I.velocityX=I.velocityY=I.deltaX=I.deltaY=0,I.event=pe,k&&!1===k(I))||(q.release(),!q.start()))&&(fe=!0,0===F?Tt():(X.start(I.startX,I.startY),!0))},pe=>{V?!se&&be&&(se=!0,$(I,pe),requestAnimationFrame(ht)):($(I,pe),X.detect(I.currentX,I.currentY)&&(!X.isGesture()||!Tt())&&Pt())},Ge,{capture:!1,passive:N}),Pt=()=>{Pe(),st.stop(),Ae&&Ae(I)};return{enable(pe=!0){pe||(V&&Ge(void 0),Pe()),st.enable(pe)},destroy(){q.destroy(),st.destroy()}}},$=(A,V)=>{if(!V)return;const fe=A.currentX,be=A.currentY,se=A.currentTime;R(V,A);const H=A.currentX,k=A.currentY,le=(A.currentTime=O(V))-se;if(le>0&&le<100){const Ae=(k-be)/le;A.velocityX=(H-fe)/le*.7+.3*A.velocityX,A.velocityY=.7*Ae+.3*A.velocityY}A.deltaX=H-A.startX,A.deltaY=k-A.startY,A.event=V},R=(A,V)=>{let fe=0,be=0;if(A){const se=A.changedTouches;if(se&&se.length>0){const H=se[0];fe=H.clientX,be=H.clientY}else void 0!==A.pageX&&(fe=A.pageX,be=A.pageY)}V.currentX=fe,V.currentY=be},O=A=>A.timeStamp||Date.now()},8044:(ve,Ee,C)=>{"use strict";C.d(Ee,{b:()=>P,c:()=>x,d:()=>T,e:()=>F,g:()=>I,l:()=>Ae,s:()=>N,t:()=>R,w:()=>Re});var S=C(3918),d=C(3426),Y=C(4675);const P="ionViewWillLeave",x="ionViewDidLeave",T="ionViewWillUnload",R=X=>new Promise((q,me)=>{(0,d.w)(()=>{O(X),A(X).then(Be=>{Be.animation&&Be.animation.destroy(),V(X),q(Be)},Be=>{V(X),me(Be)})})}),O=X=>{const q=X.enteringEl,me=X.leavingEl;ne(q,me,X.direction),X.showGoBack?q.classList.add("can-go-back"):q.classList.remove("can-go-back"),N(q,!1),q.style.setProperty("pointer-events","none"),me&&(N(me,!1),me.style.setProperty("pointer-events","none"))},A=function(){var X=(0,S.Z)(function*(q){const me=yield fe(q);return me&&d.B.isBrowser?be(me,q):se(q)});return function(me){return X.apply(this,arguments)}}(),V=X=>{const q=X.enteringEl,me=X.leavingEl;q.classList.remove("ion-page-invisible"),q.style.removeProperty("pointer-events"),void 0!==me&&(me.classList.remove("ion-page-invisible"),me.style.removeProperty("pointer-events"))},fe=function(){var X=(0,S.Z)(function*(q){return q.leavingEl&&q.animated&&0!==q.duration?q.animationBuilder?q.animationBuilder:"ios"===q.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(me){return X.apply(this,arguments)}}(),be=function(){var X=(0,S.Z)(function*(q,me){yield H(me,!0);const Be=q(me.baseEl,me);le(me.enteringEl,me.leavingEl);const ht=yield te(Be,me);return me.progressCallback&&me.progressCallback(void 0),ht&&ae(me.enteringEl,me.leavingEl),{hasCompleted:ht,animation:Be}});return function(me,Be){return X.apply(this,arguments)}}(),se=function(){var X=(0,S.Z)(function*(q){const me=q.enteringEl,Be=q.leavingEl;return yield H(q,!1),le(me,Be),ae(me,Be),{hasCompleted:!0}});return function(me){return X.apply(this,arguments)}}(),H=function(){var X=(0,S.Z)(function*(q,me){(void 0!==q.deepWait?q.deepWait:me)&&(yield Promise.all([F(q.enteringEl),F(q.leavingEl)])),yield k(q.viewIsReady,q.enteringEl)});return function(me,Be){return X.apply(this,arguments)}}(),k=function(){var X=(0,S.Z)(function*(q,me){q&&(yield q(me))});return function(me,Be){return X.apply(this,arguments)}}(),te=(X,q)=>{const me=q.progressCallback,Be=new Promise(ht=>{X.onFinish(Tt=>ht(1===Tt))});return me?(X.progressStart(!0),me(X)):X.play(),Be},le=(X,q)=>{Ae(q,P),Ae(X,"ionViewWillEnter")},ae=(X,q)=>{Ae(X,"ionViewDidEnter"),Ae(q,x)},Ae=(X,q)=>{if(X){const me=new CustomEvent(q,{bubbles:!1,cancelable:!1});X.dispatchEvent(me)}},Re=()=>new Promise(X=>(0,Y.r)(()=>(0,Y.r)(()=>X()))),F=function(){var X=(0,S.Z)(function*(q){const me=q;if(me){if(null!=me.componentOnReady){if(null!=(yield me.componentOnReady()))return}else if(null!=me.__registerHost)return void(yield new Promise(ht=>(0,Y.r)(ht)));yield Promise.all(Array.from(me.children).map(F))}});return function(me){return X.apply(this,arguments)}}(),N=(X,q)=>{q?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},ne=(X,q,me)=>{void 0!==X&&(X.style.zIndex="back"===me?"99":"101"),void 0!==q&&(q.style.zIndex="100")},I=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},6240:(ve,Ee,C)=>{"use strict";C.d(Ee,{a:()=>d,b:()=>Y,p:()=>S});const S=(K,...U)=>console.warn(`[Ionic Warning]: ${K}`,...U),d=(K,...U)=>console.error(`[Ionic Error]: ${K}`,...U),Y=(K,...U)=>console.error(`<${K.tagName.toLowerCase()}> must be used inside ${U.join(" or ")}.`)},6940:(ve,Ee,C)=>{"use strict";C.d(Ee,{d:()=>d,w:()=>S});const S=typeof window<"u"?window:void 0,d=typeof document<"u"?document:void 0},3426:(ve,Ee,C)=>{"use strict";C.d(Ee,{B:()=>O,H:()=>Tt,a:()=>zs,b:()=>ms,c:()=>at,d:()=>At,e:()=>Ml,f:()=>Gt,g:()=>Ye,h:()=>Be,i:()=>Lo,j:()=>A,r:()=>li,w:()=>es});var S=C(3918);let K,U,P,x=!1,T=!1,Q=!1,$=!1,R=!1;const O={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},A=g=>{const w=new URL(g,Tn.$resourcesUrl$);return w.origin!==Xo.location.origin?w.href:w.pathname},te="s-id",le="sty-id",Re="slot-fb{display:contents}slot-fb[hidden]{display:none}",F="http://www.w3.org/1999/xlink",N={},q=g=>"object"==(g=typeof g)||"function"===g;function me(g){var w,E,ie;return null!==(ie=null===(E=null===(w=g.head)||void 0===w?void 0:w.querySelector('meta[name="csp-nonce"]'))||void 0===E?void 0:E.getAttribute("content"))&&void 0!==ie?ie:void 0}const Be=(g,w,...E)=>{let ie=null,ke=null,ce=null,Qe=!1,Ke=!1;const nt=[],Ve=Et=>{for(let W=0;W<Et.length;W++)ie=Et[W],Array.isArray(ie)?Ve(ie):null!=ie&&"boolean"!=typeof ie&&((Qe="function"!=typeof g&&!q(ie))&&(ie=String(ie)),Qe&&Ke?nt[nt.length-1].$text$+=ie:nt.push(Qe?ht(null,ie):ie),Ke=Qe)};if(Ve(E),w){w.key&&(ke=w.key),w.name&&(ce=w.name);{const Et=w.className||w.class;Et&&(w.class="object"!=typeof Et?Et:Object.keys(Et).filter(W=>Et[W]).join(" "))}}if("function"==typeof g)return g(null===w?{}:w,nt,We);const ft=ht(g,null);return ft.$attrs$=w,nt.length>0&&(ft.$children$=nt),ft.$key$=ke,ft.$name$=ce,ft},ht=(g,w)=>({$flags$:0,$tag$:g,$text$:w,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Tt={},We={forEach:(g,w)=>g.map(Pe).forEach(w),map:(g,w)=>g.map(Pe).map(w).map(Ge)},Pe=g=>({vattrs:g.$attrs$,vchildren:g.$children$,vkey:g.$key$,vname:g.$name$,vtag:g.$tag$,vtext:g.$text$}),Ge=g=>{if("function"==typeof g.vtag){const E=Object.assign({},g.vattrs);return g.vkey&&(E.key=g.vkey),g.vname&&(E.name=g.vname),Be(g.vtag,E,...g.vchildren||[])}const w=ht(g.vtag,g.vtext);return w.$attrs$=g.vattrs,w.$children$=g.vchildren,w.$key$=g.vkey,w.$name$=g.vname,w},Pt=(g,w,E,ie,ke,ce,Qe)=>{let Ke,nt,Ve,ft;if(1===ce.nodeType){for(Ke=ce.getAttribute("c-id"),Ke&&(nt=Ke.split("."),(nt[0]===Qe||"0"===nt[0])&&(Ve={$flags$:0,$hostId$:nt[0],$nodeId$:nt[1],$depth$:nt[2],$index$:nt[3],$tag$:ce.tagName.toLowerCase(),$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},w.push(Ve),ce.removeAttribute("c-id"),g.$children$||(g.$children$=[]),g.$children$[Ve.$index$]=Ve,g=Ve,ie&&"0"===Ve.$depth$&&(ie[Ve.$index$]=Ve.$elm$))),ft=ce.childNodes.length-1;ft>=0;ft--)Pt(g,w,E,ie,ke,ce.childNodes[ft],Qe);if(ce.shadowRoot)for(ft=ce.shadowRoot.childNodes.length-1;ft>=0;ft--)Pt(g,w,E,ie,ke,ce.shadowRoot.childNodes[ft],Qe)}else if(8===ce.nodeType)nt=ce.nodeValue.split("."),(nt[1]===Qe||"0"===nt[1])&&(Ke=nt[0],Ve={$flags$:0,$hostId$:nt[1],$nodeId$:nt[2],$depth$:nt[3],$index$:nt[4],$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ke?(Ve.$elm$=ce.nextSibling,Ve.$elm$&&3===Ve.$elm$.nodeType&&(Ve.$text$=Ve.$elm$.textContent,w.push(Ve),ce.remove(),g.$children$||(g.$children$=[]),g.$children$[Ve.$index$]=Ve,ie&&"0"===Ve.$depth$&&(ie[Ve.$index$]=Ve.$elm$))):Ve.$hostId$===Qe&&("s"===Ke?(Ve.$tag$="slot",ce["s-sn"]=nt[5]?Ve.$name$=nt[5]:"",ce["s-sr"]=!0,ie&&(Ve.$elm$=br.createElement(Ve.$tag$),Ve.$name$&&Ve.$elm$.setAttribute("name",Ve.$name$),ce.parentNode.insertBefore(Ve.$elm$,ce),ce.remove(),"0"===Ve.$depth$&&(ie[Ve.$index$]=Ve.$elm$)),E.push(Ve),g.$children$||(g.$children$=[]),g.$children$[Ve.$index$]=Ve):"r"===Ke&&(ie?ce.remove():(ke["s-cr"]=ce,ce["s-cn"]=!0))));else if(g&&"style"===g.$tag$){const Et=ht(null,ce.textContent);Et.$elm$=ce,Et.$index$="0",g.$children$=[Et]}},pe=(g,w)=>{if(1===g.nodeType){let E=0;for(;E<g.childNodes.length;E++)pe(g.childNodes[E],w);if(g.shadowRoot)for(E=0;E<g.shadowRoot.childNodes.length;E++)pe(g.shadowRoot.childNodes[E],w)}else if(8===g.nodeType){const E=g.nodeValue.split(".");"o"===E[0]&&(w.set(E[1]+"."+E[2],g),g.nodeValue="",g["s-en"]=E[3])}},at=g=>Mo.push(g),Ye=g=>Qr(g).$modeName$,Gt=g=>Qr(g).$hostElement$,At=(g,w,E)=>{const ie=Gt(g);return{emit:ke=>Ie(ie,w,{bubbles:!!(4&E),composed:!!(2&E),cancelable:!!(1&E),detail:ke})}},Ie=(g,w,E)=>{const ie=Tn.ce(w,E);return g.dispatchEvent(ie),ie},_e=new WeakMap,xe=(g,w,E)=>{let ie=Jr.get(g);ua&&E?(ie=ie||new CSSStyleSheet,"string"==typeof ie?ie=w:ie.replaceSync(w)):ie=w,Jr.set(g,ie)},Je=(g,w,E)=>{var ie;const ke=Ut(w,E),ce=Jr.get(ke);if(g=11===g.nodeType?g:br,ce)if("string"==typeof ce){let Ke,Qe=_e.get(g=g.head||g);if(Qe||_e.set(g,Qe=new Set),!Qe.has(ke)){if(g.host&&(Ke=g.querySelector(`[${le}="${ke}"]`)))Ke.innerHTML=ce;else{Ke=br.createElement("style"),Ke.innerHTML=ce;const nt=null!==(ie=Tn.$nonce$)&&void 0!==ie?ie:me(br);null!=nt&&Ke.setAttribute("nonce",nt),g.insertBefore(Ke,g.querySelector("link"))}4&w.$flags$&&(Ke.innerHTML+=Re),Qe&&Qe.add(ke)}}else g.adoptedStyleSheets.includes(ce)||(g.adoptedStyleSheets=[...g.adoptedStyleSheets,ce]);return ke},Ut=(g,w)=>"sc-"+(w&&32&g.$flags$?g.$tagName$+"-"+w:g.$tagName$),on=g=>g.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),$t=(g,w,E,ie,ke,ce)=>{if(E!==ie){let Qe=Pi(g,w),Ke=w.toLowerCase();if("class"===w){const nt=g.classList,Ve=Sn(E),ft=Sn(ie);nt.remove(...Ve.filter(Et=>Et&&!ft.includes(Et))),nt.add(...ft.filter(Et=>Et&&!Ve.includes(Et)))}else if("style"===w){for(const nt in E)(!ie||null==ie[nt])&&(nt.includes("-")?g.style.removeProperty(nt):g.style[nt]="");for(const nt in ie)(!E||ie[nt]!==E[nt])&&(nt.includes("-")?g.style.setProperty(nt,ie[nt]):g.style[nt]=ie[nt])}else if("key"!==w)if("ref"===w)ie&&ie(g);else if(Qe||"o"!==w[0]||"n"!==w[1]){const nt=q(ie);if((Qe||nt&&null!==ie)&&!ke)try{if(g.tagName.includes("-"))g[w]=ie;else{const ft=ie??"";"list"===w?Qe=!1:(null==E||g[w]!=ft)&&(g[w]=ft)}}catch{}let Ve=!1;Ke!==(Ke=Ke.replace(/^xlink\:?/,""))&&(w=Ke,Ve=!0),null==ie||!1===ie?(!1!==ie||""===g.getAttribute(w))&&(Ve?g.removeAttributeNS(F,w):g.removeAttribute(w)):(!Qe||4&ce||ke)&&!nt&&(ie=!0===ie?"":ie,Ve?g.setAttributeNS(F,w,ie):g.setAttribute(w,ie))}else if(w="-"===w[2]?w.slice(3):Pi(Xo,Ke)?Ke.slice(2):Ke[2]+w.slice(3),E||ie){const nt=w.endsWith(_r);w=w.replace(On,""),E&&Tn.rel(g,w,E,nt),ie&&Tn.ael(g,w,ie,nt)}}},sn=/\s/,Sn=g=>g?g.split(sn):[],_r="Capture",On=new RegExp(_r+"$"),qo=(g,w,E,ie)=>{const ke=11===w.$elm$.nodeType&&w.$elm$.host?w.$elm$.host:w.$elm$,ce=g&&g.$attrs$||N,Qe=w.$attrs$||N;for(ie in ce)ie in Qe||$t(ke,ie,ce[ie],void 0,E,w.$flags$);for(ie in Qe)$t(ke,ie,ce[ie],Qe[ie],E,w.$flags$)},jr=(g,w,E,ie)=>{var ke;const ce=w.$children$[E];let Ke,nt,Ve,Qe=0;if(x||(Q=!0,"slot"===ce.$tag$&&(K&&ie.classList.add(K+"-s"),ce.$flags$|=ce.$children$?2:1)),null!==ce.$text$)Ke=ce.$elm$=br.createTextNode(ce.$text$);else if(1&ce.$flags$)Ke=ce.$elm$=br.createTextNode("");else{if($||($="svg"===ce.$tag$),Ke=ce.$elm$=br.createElementNS($?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ce.$flags$?"slot-fb":ce.$tag$),$&&"foreignObject"===ce.$tag$&&($=!1),qo(null,ce,$),(g=>null!=g)(K)&&Ke["s-si"]!==K&&Ke.classList.add(Ke["s-si"]=K),ce.$children$)for(Qe=0;Qe<ce.$children$.length;++Qe)nt=jr(g,ce,Qe,Ke),nt&&Ke.appendChild(nt);"svg"===ce.$tag$?$=!1:"foreignObject"===Ke.tagName&&($=!0)}return Ke["s-hn"]=P,3&ce.$flags$&&(Ke["s-sr"]=!0,Ke["s-fs"]=null===(ke=ce.$attrs$)||void 0===ke?void 0:ke.slot,Ke["s-cr"]=U,Ke["s-sn"]=ce.$name$||"",Ve=g&&g.$children$&&g.$children$[E],Ve&&Ve.$tag$===ce.$tag$&&g.$elm$&&go(g.$elm$,!1)),Ke},go=(g,w)=>{var E;Tn.$flags$|=1;const ie=g.childNodes;for(let ke=ie.length-1;ke>=0;ke--){const ce=ie[ke];ce["s-hn"]!==P&&ce["s-ol"]&&(_o(ce).insertBefore(ce,co(ce)),ce["s-ol"].remove(),ce["s-ol"]=void 0,ce["s-sh"]=void 0,1===ce.nodeType&&ce.setAttribute("slot",null!==(E=ce["s-sn"])&&void 0!==E?E:""),Q=!0),w&&go(ce,w)}Tn.$flags$&=-2},Fr=(g,w,E,ie,ke,ce)=>{let Ke,Qe=g["s-cr"]&&g["s-cr"].parentNode||g;for(Qe.shadowRoot&&Qe.tagName===P&&(Qe=Qe.shadowRoot);ke<=ce;++ke)ie[ke]&&(Ke=jr(null,E,ke,g),Ke&&(ie[ke].$elm$=Ke,Qe.insertBefore(Ke,co(w))))},Nr=(g,w,E)=>{for(let ie=w;ie<=E;++ie){const ke=g[ie];if(ke){const ce=ke.$elm$;vn(ke),ce&&(T=!0,ce["s-ol"]?ce["s-ol"].remove():go(ce,!0),ce.remove())}}},To=(g,w)=>g.$tag$===w.$tag$&&("slot"===g.$tag$?g.$name$===w.$name$:g.$key$===w.$key$),co=g=>g&&g["s-ol"]||g,_o=g=>(g["s-ol"]?g["s-ol"]:g).parentNode,Gr=(g,w)=>{const E=w.$elm$=g.$elm$,ie=g.$children$,ke=w.$children$,ce=w.$tag$,Qe=w.$text$;let Ke;null===Qe?($="svg"===ce||"foreignObject"!==ce&&$,"slot"===ce||qo(g,w,$),null!==ie&&null!==ke?((g,w,E,ie)=>{let dr,Lr,ke=0,ce=0,Qe=0,Ke=0,nt=w.length-1,Ve=w[0],ft=w[nt],Et=ie.length-1,W=ie[0],kn=ie[Et];for(;ke<=nt&&ce<=Et;)if(null==Ve)Ve=w[++ke];else if(null==ft)ft=w[--nt];else if(null==W)W=ie[++ce];else if(null==kn)kn=ie[--Et];else if(To(Ve,W))Gr(Ve,W),Ve=w[++ke],W=ie[++ce];else if(To(ft,kn))Gr(ft,kn),ft=w[--nt],kn=ie[--Et];else if(To(Ve,kn))("slot"===Ve.$tag$||"slot"===kn.$tag$)&&go(Ve.$elm$.parentNode,!1),Gr(Ve,kn),g.insertBefore(Ve.$elm$,ft.$elm$.nextSibling),Ve=w[++ke],kn=ie[--Et];else if(To(ft,W))("slot"===Ve.$tag$||"slot"===kn.$tag$)&&go(ft.$elm$.parentNode,!1),Gr(ft,W),g.insertBefore(ft.$elm$,Ve.$elm$),ft=w[--nt],W=ie[++ce];else{for(Qe=-1,Ke=ke;Ke<=nt;++Ke)if(w[Ke]&&null!==w[Ke].$key$&&w[Ke].$key$===W.$key$){Qe=Ke;break}Qe>=0?(Lr=w[Qe],Lr.$tag$!==W.$tag$?dr=jr(w&&w[ce],E,Qe,g):(Gr(Lr,W),w[Qe]=void 0,dr=Lr.$elm$),W=ie[++ce]):(dr=jr(w&&w[ce],E,ce,g),W=ie[++ce]),dr&&_o(Ve.$elm$).insertBefore(dr,co(Ve.$elm$))}ke>nt?Fr(g,null==ie[Et+1]?null:ie[Et+1].$elm$,E,ie,ce,Et):ce>Et&&Nr(w,ke,nt)})(E,ie,w,ke):null!==ke?(null!==g.$text$&&(E.textContent=""),Fr(E,null,w,ke,0,ke.length-1)):null!==ie&&Nr(ie,0,ie.length-1),$&&"svg"===ce&&($=!1)):(Ke=E["s-cr"])?Ke.parentNode.textContent=Qe:g.$text$!==Qe&&(E.data=Qe)},de=g=>{const w=g.childNodes;for(const E of w)if(1===E.nodeType){if(E["s-sr"]){const ie=E["s-sn"];E.hidden=!1;for(const ke of w)if(ke!==E)if(ke["s-hn"]!==E["s-hn"]||""!==ie){if(1===ke.nodeType&&(ie===ke.getAttribute("slot")||ie===ke["s-sn"])){E.hidden=!0;break}}else if(1===ke.nodeType||3===ke.nodeType&&""!==ke.textContent.trim()){E.hidden=!0;break}}de(E)}},we=[],Jt=g=>{let w,E,ie;for(const ke of g.childNodes){if(ke["s-sr"]&&(w=ke["s-cr"])&&w.parentNode){E=w.parentNode.childNodes;const ce=ke["s-sn"];for(ie=E.length-1;ie>=0;ie--)if(w=E[ie],!w["s-cn"]&&!w["s-nr"]&&w["s-hn"]!==ke["s-hn"])if(Ht(w,ce)){let Qe=we.find(Ke=>Ke.$nodeToRelocate$===w);T=!0,w["s-sn"]=w["s-sn"]||ce,Qe?(Qe.$nodeToRelocate$["s-sh"]=ke["s-hn"],Qe.$slotRefNode$=ke):(w["s-sh"]=ke["s-hn"],we.push({$slotRefNode$:ke,$nodeToRelocate$:w})),w["s-sr"]&&we.map(Ke=>{Ht(Ke.$nodeToRelocate$,w["s-sn"])&&(Qe=we.find(nt=>nt.$nodeToRelocate$===w),Qe&&!Ke.$slotRefNode$&&(Ke.$slotRefNode$=Qe.$slotRefNode$))})}else we.some(Qe=>Qe.$nodeToRelocate$===w)||we.push({$nodeToRelocate$:w})}1===ke.nodeType&&Jt(ke)}},Ht=(g,w)=>1===g.nodeType?null===g.getAttribute("slot")&&""===w||g.getAttribute("slot")===w:g["s-sn"]===w||""===w,vn=g=>{g.$attrs$&&g.$attrs$.ref&&g.$attrs$.ref(null),g.$children$&&g.$children$.map(vn)},xr=(g,w)=>{w&&!g.$onRenderResolve$&&w["s-p"]&&w["s-p"].push(new Promise(E=>g.$onRenderResolve$=E))},Zn=(g,w)=>{if(g.$flags$|=16,!(4&g.$flags$))return xr(g,g.$ancestorComponent$),es(()=>Xr(g,w));g.$flags$|=512},Xr=(g,w)=>{const ie=g.$lazyInstance$;let ke;return w&&(g.$flags$|=256,g.$queuedListeners$&&(g.$queuedListeners$.map(([ce,Qe])=>vr(ie,ce,Qe)),g.$queuedListeners$=void 0),ke=vr(ie,"componentWillLoad")),ke=vo(ke,()=>vr(ie,"componentWillRender")),vo(ke,()=>uo(g,ie,w))},vo=(g,w)=>In(g)?g.then(w):w(),In=g=>g instanceof Promise||g&&g.then&&"function"==typeof g.then,uo=function(){var g=(0,S.Z)(function*(w,E,ie){var ke;const ce=w.$hostElement$,Ke=ce["s-rc"];ie&&(g=>{const w=g.$cmpMeta$,E=g.$hostElement$,ie=w.$flags$,ce=Je(E.shadowRoot?E.shadowRoot:E.getRootNode(),w,g.$modeName$);10&ie&&(E["s-sc"]=ce,E.classList.add(ce+"-h"),2&ie&&E.classList.add(ce+"-s"))})(w);fo(w,E,ce,ie),Ke&&(Ke.map(Ve=>Ve()),ce["s-rc"]=void 0);{const Ve=null!==(ke=ce["s-p"])&&void 0!==ke?ke:[],ft=()=>Ai(w);0===Ve.length?ft():(Promise.all(Ve).then(ft),w.$flags$|=4,Ve.length=0)}});return function(E,ie,ke){return g.apply(this,arguments)}}(),fo=(g,w,E,ie)=>{try{w=w.render&&w.render(),g.$flags$&=-17,g.$flags$|=2,((g,w,E=!1)=>{var ie,ke,ce,Qe;const Ke=g.$hostElement$,nt=g.$cmpMeta$,Ve=g.$vnode$||ht(null,null),ft=(g=>g&&g.$tag$===Tt)(w)?w:Be(null,null,w);if(P=Ke.tagName,nt.$attrsToReflect$&&(ft.$attrs$=ft.$attrs$||{},nt.$attrsToReflect$.map(([Et,W])=>ft.$attrs$[W]=Ke[Et])),E&&ft.$attrs$)for(const Et of Object.keys(ft.$attrs$))Ke.hasAttribute(Et)&&!["key","ref","style","class"].includes(Et)&&(ft.$attrs$[Et]=Ke[Et]);if(ft.$tag$=null,ft.$flags$|=4,g.$vnode$=ft,ft.$elm$=Ve.$elm$=Ke.shadowRoot||Ke,K=Ke["s-sc"],U=Ke["s-cr"],x=0!=(1&nt.$flags$),T=!1,Gr(Ve,ft),Tn.$flags$|=1,Q){Jt(ft.$elm$);for(const Et of we){const W=Et.$nodeToRelocate$;if(!W["s-ol"]){const kn=br.createTextNode("");kn["s-nr"]=W,W.parentNode.insertBefore(W["s-ol"]=kn,W)}}for(const Et of we){const W=Et.$nodeToRelocate$,kn=Et.$slotRefNode$;if(kn){const dr=kn.parentNode;let Lr=kn.nextSibling;{let Ur=null===(ie=W["s-ol"])||void 0===ie?void 0:ie.previousSibling;for(;Ur;){let Qn=null!==(ke=Ur["s-nr"])&&void 0!==ke?ke:null;if(Qn&&Qn["s-sn"]===W["s-sn"]&&dr===Qn.parentNode&&(Qn=Qn.nextSibling,!Qn||!Qn["s-nr"])){Lr=Qn;break}Ur=Ur.previousSibling}}(!Lr&&dr!==W.parentNode||W.nextSibling!==Lr)&&W!==Lr&&(!W["s-hn"]&&W["s-ol"]&&(W["s-hn"]=W["s-ol"].parentNode.nodeName),dr.insertBefore(W,Lr),1===W.nodeType&&(W.hidden=null!==(ce=W["s-ih"])&&void 0!==ce&&ce))}else 1===W.nodeType&&(E&&(W["s-ih"]=null!==(Qe=W.hidden)&&void 0!==Qe&&Qe),W.hidden=!0)}}T&&de(ft.$elm$),Tn.$flags$&=-2,we.length=0})(g,w,ie)}catch(ke){yo(ke,g.$hostElement$)}return null},Ai=g=>{const E=g.$hostElement$,ke=g.$lazyInstance$,ce=g.$ancestorComponent$;vr(ke,"componentDidRender"),64&g.$flags$?vr(ke,"componentDidUpdate"):(g.$flags$|=64,yr(E),vr(ke,"componentDidLoad"),g.$onReadyResolve$(E),ce||Fn()),g.$onInstanceResolve$(E),g.$onRenderResolve$&&(g.$onRenderResolve$(),g.$onRenderResolve$=void 0),512&g.$flags$&&et(()=>Zn(g,!1)),g.$flags$&=-517},Lo=g=>{{const w=Qr(g),E=w.$hostElement$.isConnected;return E&&2==(18&w.$flags$)&&Zn(w,!1),E}},Fn=g=>{yr(br.documentElement),et(()=>Ie(Xo,"appload",{detail:{namespace:"ionic"}}))},vr=(g,w,E)=>{if(g&&g[w])try{return g[w](E)}catch(ie){yo(ie)}},yr=g=>g.classList.add("hydrated"),Yo=(g,w,E)=>{var ie;const ke=g.prototype;if(w.$members$){g.watchers&&(w.$watchers$=g.watchers);const ce=Object.entries(w.$members$);if(ce.map(([Qe,[Ke]])=>{31&Ke||2&E&&32&Ke?Object.defineProperty(ke,Qe,{get(){return((g,w)=>Qr(this).$instanceValues$.get(w))(0,Qe)},set(nt){((g,w,E,ie)=>{const ke=Qr(g),ce=ke.$hostElement$,Qe=ke.$instanceValues$.get(w),Ke=ke.$flags$,nt=ke.$lazyInstance$;E=((g,w)=>null==g||q(g)?g:4&w?"false"!==g&&(""===g||!!g):2&w?parseFloat(g):1&w?String(g):g)(E,ie.$members$[w][0]);const Ve=Number.isNaN(Qe)&&Number.isNaN(E);if((!(8&Ke)||void 0===Qe)&&E!==Qe&&!Ve&&(ke.$instanceValues$.set(w,E),nt)){if(ie.$watchers$&&128&Ke){const Et=ie.$watchers$[w];Et&&Et.map(W=>{try{nt[W](E,Qe,w)}catch(kn){yo(kn,ce)}})}2==(18&Ke)&&Zn(ke,!1)}})(this,Qe,nt,w)},configurable:!0,enumerable:!0}):1&E&&64&Ke&&Object.defineProperty(ke,Qe,{value(...nt){var Ve;const ft=Qr(this);return null===(Ve=ft?.$onInstancePromise$)||void 0===Ve?void 0:Ve.then(()=>{var Et;return null===(Et=ft.$lazyInstance$)||void 0===Et?void 0:Et[Qe](...nt)})}})}),1&E){const Qe=new Map;ke.attributeChangedCallback=function(Ke,nt,Ve){Tn.jmp(()=>{var ft;const Et=Qe.get(Ke);if(this.hasOwnProperty(Et))Ve=this[Et],delete this[Et];else{if(ke.hasOwnProperty(Et)&&"number"==typeof this[Et]&&this[Et]==Ve)return;if(null==Et){const W=Qr(this),kn=W?.$flags$;if(kn&&!(8&kn)&&128&kn&&Ve!==nt){const dr=W.$lazyInstance$,Lr=null===(ft=w.$watchers$)||void 0===ft?void 0:ft[Ke];Lr?.forEach(Ur=>{null!=dr[Ur]&&dr[Ur].call(dr,Ve,nt,Ke)})}return}}this[Et]=(null!==Ve||"boolean"!=typeof this[Et])&&Ve})},g.observedAttributes=Array.from(new Set([...Object.keys(null!==(ie=w.$watchers$)&&void 0!==ie?ie:{}),...ce.filter(([Ke,nt])=>15&nt[0]).map(([Ke,nt])=>{var Ve;const ft=nt[1]||Ke;return Qe.set(ft,Ke),512&nt[0]&&(null===(Ve=w.$attrsToReflect$)||void 0===Ve||Ve.push([Ke,ft])),ft})]))}}return g},an=function(){var g=(0,S.Z)(function*(w,E,ie,ke){let ce;if(!(32&E.$flags$)){E.$flags$|=32;{if(ce=Hs(ie),ce.then){const Ve=()=>{};ce=yield ce,Ve()}ce.isProxied||(ie.$watchers$=ce.watchers,Yo(ce,ie,2),ce.isProxied=!0);const nt=()=>{};E.$flags$|=8;try{new ce(E)}catch(Ve){yo(Ve)}E.$flags$&=-9,E.$flags$|=128,nt(),si(E.$lazyInstance$)}if(ce.style){let nt=ce.style;"string"!=typeof nt&&(nt=nt[E.$modeName$=(g=>Mo.map(w=>w(g)).find(w=>!!w))(w)]);const Ve=Ut(ie,E.$modeName$);if(!Jr.has(Ve)){const ft=()=>{};xe(Ve,nt,!!(1&ie.$flags$)),ft()}}}const Qe=E.$ancestorComponent$,Ke=()=>Zn(E,!0);Qe&&Qe["s-rc"]?Qe["s-rc"].push(Ke):Ke()});return function(E,ie,ke,ce){return g.apply(this,arguments)}}(),si=g=>{vr(g,"connectedCallback")},ai=g=>{const w=g["s-cr"]=br.createComment("");w["s-cn"]=!0,g.insertBefore(w,g.firstChild)},Ci=g=>{vr(g,"disconnectedCallback")},oe=function(){var g=(0,S.Z)(function*(w){if(!(1&Tn.$flags$)){const E=Qr(w);E.$rmListeners$&&(E.$rmListeners$.map(ie=>ie()),E.$rmListeners$=void 0),E?.$lazyInstance$?Ci(E.$lazyInstance$):E?.$onReadyPromise$&&E.$onReadyPromise$.then(()=>Ci(E.$lazyInstance$))}});return function(E){return g.apply(this,arguments)}}(),ms=(g,w={})=>{var E;const ke=[],ce=w.exclude||[],Qe=Xo.customElements,Ke=br.head,nt=Ke.querySelector("meta[charset]"),Ve=br.createElement("style"),ft=[],Et=br.querySelectorAll(`[${le}]`);let W,kn=!0,dr=0;for(Object.assign(Tn,w),Tn.$resourcesUrl$=new URL(w.resourcesUrl||"./",br.baseURI).href,Tn.$flags$|=2;dr<Et.length;dr++)xe(Et[dr].getAttribute(le),on(Et[dr].innerHTML),!0);let Lr=!1;if(g.map(Ur=>{Ur[1].map(Qn=>{var Ss;const Gn={$flags$:Qn[0],$tagName$:Qn[1],$members$:Qn[2],$listeners$:Qn[3]};4&Gn.$flags$&&(Lr=!0),Gn.$members$=Qn[2],Gn.$listeners$=Qn[3],Gn.$attrsToReflect$=[],Gn.$watchers$=null!==(Ss=Qn[4])&&void 0!==Ss?Ss:{};const $o=Gn.$tagName$,Ao=class extends HTMLElement{constructor(ts){super(ts),la(ts=this,Gn),1&Gn.$flags$&&ts.attachShadow({mode:"open",delegatesFocus:!!(16&Gn.$flags$)})}connectedCallback(){W&&(clearTimeout(W),W=null),kn?ft.push(this):Tn.jmp(()=>(g=>{if(!(1&Tn.$flags$)){const w=Qr(g),E=w.$cmpMeta$,ie=()=>{};if(1&w.$flags$)Ri(g,w,E.$listeners$),w?.$lazyInstance$?si(w.$lazyInstance$):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>si(w.$lazyInstance$));else{let ke;if(w.$flags$|=1,ke=g.getAttribute(te),ke){if(1&E.$flags$){const ce=Je(g.shadowRoot,E,g.getAttribute("s-mode"));g.classList.remove(ce+"-h",ce+"-s")}((g,w,E,ie)=>{const ce=g.shadowRoot,Qe=[],nt=ce?[]:null,Ve=ie.$vnode$=ht(w,null);Tn.$orgLocNodes$||pe(br.body,Tn.$orgLocNodes$=new Map),g[te]=E,g.removeAttribute(te),Pt(Ve,Qe,[],nt,g,g,E),Qe.map(ft=>{const Et=ft.$hostId$+"."+ft.$nodeId$,W=Tn.$orgLocNodes$.get(Et),kn=ft.$elm$;W&&ca&&""===W["s-en"]&&W.parentNode.insertBefore(kn,W.nextSibling),ce||(kn["s-hn"]=w,W&&(kn["s-ol"]=W,kn["s-ol"]["s-nr"]=kn)),Tn.$orgLocNodes$.delete(Et)}),ce&&nt.map(ft=>{ft&&ce.appendChild(ft)})})(g,E.$tagName$,ke,w)}ke||12&E.$flags$&&ai(g);{let ce=g;for(;ce=ce.parentNode||ce.host;)if(1===ce.nodeType&&ce.hasAttribute("s-id")&&ce["s-p"]||ce["s-p"]){xr(w,w.$ancestorComponent$=ce);break}}E.$members$&&Object.entries(E.$members$).map(([ce,[Qe]])=>{if(31&Qe&&g.hasOwnProperty(ce)){const Ke=g[ce];delete g[ce],g[ce]=Ke}}),an(g,w,E)}ie()}})(this))}disconnectedCallback(){Tn.jmp(()=>oe(this))}componentOnReady(){return Qr(this).$onReadyPromise$}};Gn.$lazyBundleId$=Ur[0],!ce.includes($o)&&!Qe.get($o)&&(ke.push($o),Qe.define($o,Yo(Ao,Gn,1)))})}),Lr&&(Ve.innerHTML+=Re),Ve.innerHTML+=ke+"{visibility:hidden}.hydrated{visibility:inherit}",Ve.innerHTML.length){Ve.setAttribute("data-styles","");const Ur=null!==(E=Tn.$nonce$)&&void 0!==E?E:me(br);null!=Ur&&Ve.setAttribute("nonce",Ur),Ke.insertBefore(Ve,nt?nt.nextSibling:Ke.firstChild)}kn=!1,ft.length?ft.map(Ur=>Ur.connectedCallback()):Tn.jmp(()=>W=setTimeout(Fn,30))},Ri=(g,w,E,ie)=>{E&&E.map(([ke,ce,Qe])=>{const Ke=hi(g,ke),nt=Ko(w,Qe),Ve=Si(ke);Tn.ael(Ke,ce,nt,Ve),(w.$rmListeners$=w.$rmListeners$||[]).push(()=>Tn.rel(Ke,ce,nt,Ve))})},Ko=(g,w)=>E=>{try{256&g.$flags$?g.$lazyInstance$[w](E):(g.$queuedListeners$=g.$queuedListeners$||[]).push([w,E])}catch(ie){yo(ie)}},hi=(g,w)=>4&w?br:8&w?Xo:16&w?br.body:g,Si=g=>0!=(2&g),wi=new WeakMap,Qr=g=>wi.get(g),li=(g,w)=>wi.set(w.$lazyInstance$=g,w),la=(g,w)=>{const E={$flags$:0,$hostElement$:g,$cmpMeta$:w,$instanceValues$:new Map};return E.$onInstancePromise$=new Promise(ie=>E.$onInstanceResolve$=ie),E.$onReadyPromise$=new Promise(ie=>E.$onReadyResolve$=ie),g["s-p"]=[],g["s-rc"]=[],Ri(g,E,w.$listeners$),wi.set(g,E)},Pi=(g,w)=>w in g,yo=(g,w)=>(0,console.error)(g,w),gs=new Map,Hs=(g,w,E)=>{const ie=g.$tagName$.replace(/-/g,"_"),ke=g.$lazyBundleId$,ce=gs.get(ke);return ce?ce[ie]:C(863)(`./${ke}.entry.js`).then(Qe=>(gs.set(ke,Qe),Qe[ie]),yo)},Jr=new Map,Mo=[],Xo=typeof window<"u"?window:{},br=Xo.document||{head:{}},Tn={$flags$:0,$resourcesUrl$:"",jmp:g=>g(),raf:g=>requestAnimationFrame(g),ael:(g,w,E,ie)=>g.addEventListener(w,E,ie),rel:(g,w,E,ie)=>g.removeEventListener(w,E,ie),ce:(g,w)=>new CustomEvent(g,w)},zs=g=>{Object.assign(Tn,g)},ca=!0,ua=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),vs=[],ys=[],bs=(g,w)=>E=>{g.push(E),R||(R=!0,w&&4&Tn.$flags$?et(Ji):Tn.raf(Ji))},Cs=g=>{for(let w=0;w<g.length;w++)try{g[w](performance.now())}catch(E){yo(E)}g.length=0},Ji=()=>{Cs(vs),Cs(ys),(R=vs.length>0)&&Tn.raf(Ji)},et=g=>Promise.resolve(void 0).then(g),Ml=bs(vs,!1),es=bs(ys,!0)},5194:(ve,Ee,C)=>{"use strict";C.d(Ee,{a:()=>R,b:()=>ht,c:()=>Y,i:()=>Tt});var S=C(3426);class d{constructor(){this.m=new Map}reset(We){this.m=new Map(Object.entries(We))}get(We,Pe){const Ge=this.m.get(We);return void 0!==Ge?Ge:Pe}getBoolean(We,Pe=!1){const Ge=this.m.get(We);return void 0===Ge?Pe:"string"==typeof Ge?"true"===Ge:!!Ge}getNumber(We,Pe){const Ge=parseFloat(this.m.get(We));return isNaN(Ge)?void 0!==Pe?Pe:NaN:Ge}set(We,Pe){this.m.set(We,Pe)}}const Y=new d,T="ionic:",Q="ionic-persist-config",R=(Fe,We)=>("string"==typeof Fe&&(We=Fe,Fe=void 0),(Fe=>O(Fe))(Fe).includes(We)),O=(Fe=window)=>{if(typeof Fe>"u")return[];Fe.Ionic=Fe.Ionic||{};let We=Fe.Ionic.platforms;return null==We&&(We=Fe.Ionic.platforms=A(Fe),We.forEach(Pe=>Fe.document.documentElement.classList.add(`plt-${Pe}`))),We},A=Fe=>{const We=Y.get("platform");return Object.keys(me).filter(Pe=>{const Ge=We?.[Pe];return"function"==typeof Ge?Ge(Fe):me[Pe](Fe)})},fe=Fe=>!!(X(Fe,/iPad/i)||X(Fe,/Macintosh/i)&&ae(Fe)),H=Fe=>X(Fe,/android|sink/i),ae=Fe=>q(Fe,"(any-pointer:coarse)"),Re=Fe=>F(Fe)||N(Fe),F=Fe=>!!(Fe.cordova||Fe.phonegap||Fe.PhoneGap),N=Fe=>{const We=Fe.Capacitor;return!!We?.isNative},X=(Fe,We)=>We.test(Fe.navigator.userAgent),q=(Fe,We)=>{var Pe;return null===(Pe=Fe.matchMedia)||void 0===Pe?void 0:Pe.call(Fe,We).matches},me={ipad:fe,iphone:Fe=>X(Fe,/iPhone/i),ios:Fe=>X(Fe,/iPhone|iPod/i)||fe(Fe),android:H,phablet:Fe=>{const We=Fe.innerWidth,Pe=Fe.innerHeight,Ge=Math.min(We,Pe),st=Math.max(We,Pe);return Ge>390&&Ge<520&&st>620&&st<800},tablet:Fe=>{const We=Fe.innerWidth,Pe=Fe.innerHeight,Ge=Math.min(We,Pe),st=Math.max(We,Pe);return fe(Fe)||(Fe=>H(Fe)&&!X(Fe,/mobile/i))(Fe)||Ge>460&&Ge<820&&st>780&&st<1400},cordova:F,capacitor:N,electron:Fe=>X(Fe,/electron/i),pwa:Fe=>{var We;return!!(null!==(We=Fe.matchMedia)&&void 0!==We&&We.call(Fe,"(display-mode: standalone)").matches||Fe.navigator.standalone)},mobile:ae,mobileweb:Fe=>ae(Fe)&&!Re(Fe),desktop:Fe=>!ae(Fe),hybrid:Re};let Be;const ht=Fe=>Fe&&(0,S.g)(Fe)||Be,Tt=(Fe={})=>{if(typeof window>"u")return;const We=window.document,Pe=window,Ge=Pe.Ionic=Pe.Ionic||{},st={};Fe._ael&&(st.ael=Fe._ael),Fe._rel&&(st.rel=Fe._rel),Fe._ce&&(st.ce=Fe._ce),(0,S.a)(st);const Pt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Fe=>{try{const We=Fe.sessionStorage.getItem(Q);return null!==We?JSON.parse(We):{}}catch{return{}}})(Pe)),{persistConfig:!1}),Ge.config),(Fe=>{const We={};return Fe.location.search.slice(1).split("&").map(Pe=>Pe.split("=")).map(([Pe,Ge])=>[decodeURIComponent(Pe),decodeURIComponent(Ge)]).filter(([Pe])=>((Fe,We)=>Fe.substr(0,We.length)===We)(Pe,T)).map(([Pe,Ge])=>[Pe.slice(6),Ge]).forEach(([Pe,Ge])=>{We[Pe]=Ge}),We})(Pe)),Fe);Y.reset(Pt),Y.getBoolean("persistConfig")&&((Fe,We)=>{try{Fe.sessionStorage.setItem(Q,JSON.stringify(We))}catch{return}})(Pe,Pt),O(Pe),Ge.config=Y,Ge.mode=Be=Y.get("mode",We.documentElement.getAttribute("mode")||(R(Pe,"ios")?"ios":"md")),Y.set("mode",Be),We.documentElement.setAttribute("mode",Be),We.documentElement.classList.add(Be),Y.getBoolean("_testing")&&Y.set("animated",!1);const pe=at=>{var Ye;return null===(Ye=at.tagName)||void 0===Ye?void 0:Ye.startsWith("ION-")},He=at=>["ios","md"].includes(at);(0,S.c)(at=>{for(;at;){const Ye=at.mode||at.getAttribute("mode");if(Ye){if(He(Ye))return Ye;pe(at)&&console.warn('Invalid ionic mode: "'+Ye+'", expected: "ios" or "md"')}at=at.parentElement}return Be})}},5444:(ve,Ee,C)=>{"use strict";C.r(Ee),C.d(Ee,{iosTransitionAnimation:()=>A,shadow:()=>x});var S=C(2723),d=C(8044);C(6940),C(3426);const P=fe=>document.querySelector(`${fe}.ion-cloned-element`),x=fe=>fe.shadowRoot||fe,T=fe=>{const be="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs"),se="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=be){const H=be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=H?H.querySelector(se):null}return fe.querySelector(se)},Q=(fe,be)=>{const se="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs");let H=[];if(null!=se){const k=se.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=k&&(H=k.querySelectorAll("ion-buttons"))}else H=fe.querySelectorAll("ion-buttons");for(const k of H){const te=k.closest("ion-header"),le=te&&!te.classList.contains("header-collapse-condense-inactive"),ae=k.querySelector("ion-back-button"),Ae=k.classList.contains("buttons-collapse");if(null!==ae&&("start"===k.slot||""===k.slot)&&(Ae&&le&&be||!Ae))return ae}return null},R=(fe,be,se,H,k,te,le,ae,Ae)=>{var Re,F;const N=be?`calc(100% - ${k.right+4}px)`:k.left-4+"px",ne=be?"right":"left",I=be?"left":"right",X=be?"right":"left",q=(null===(Re=te.textContent)||void 0===Re?void 0:Re.trim())===(null===(F=ae.textContent)||void 0===F?void 0:F.trim()),Be=(Ae.height-V)/le.height,ht=q?`scale(${Ae.width/le.width}, ${Be})`:`scale(${Be})`,Tt="scale(1)",We=x(H).querySelector("ion-icon").getBoundingClientRect(),Pe=be?We.width/2-(We.right-k.right)+"px":k.left-We.width/2+"px",Ge=be?`-${window.innerWidth-k.right}px`:`${k.left}px`,st=`${Ae.top}px`,Pt=`${k.top}px`,at=se?[{offset:0,transform:`translate3d(${Ge}, ${Pt}, 0)`},{offset:1,transform:`translate3d(${Pe}, ${st}, 0)`}]:[{offset:0,transform:`translate3d(${Pe}, ${st}, 0)`},{offset:1,transform:`translate3d(${Ge}, ${Pt}, 0)`}],Gt=se?[{offset:0,opacity:1,transform:Tt},{offset:1,opacity:0,transform:ht}]:[{offset:0,opacity:0,transform:ht},{offset:1,opacity:1,transform:Tt}],_e=se?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],xe=(0,S.c)(),Je=(0,S.c)(),ot=(0,S.c)(),Ut=P("ion-back-button"),on=x(Ut).querySelector(".button-text"),$t=x(Ut).querySelector("ion-icon");Ut.text=H.text,Ut.mode=H.mode,Ut.icon=H.icon,Ut.color=H.color,Ut.disabled=H.disabled,Ut.style.setProperty("display","block"),Ut.style.setProperty("position","fixed"),Je.addElement($t),xe.addElement(on),ot.addElement(Ut),ot.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).keyframes(at),xe.beforeStyles({"transform-origin":`${ne} top`}).beforeAddWrite(()=>{H.style.setProperty("display","none"),Ut.style.setProperty(ne,N)}).afterAddWrite(()=>{H.style.setProperty("display",""),Ut.style.setProperty("display","none"),Ut.style.removeProperty(ne)}).keyframes(Gt),Je.beforeStyles({"transform-origin":`${I} center`}).keyframes(_e),fe.addAnimation([xe,Je,ot])},O=(fe,be,se,H,k,te,le,ae)=>{var Ae,Re;const F=be?"right":"left",N=be?`calc(100% - ${k.right}px)`:`${k.left}px`,I=`${k.top}px`,q=be?`-${window.innerWidth-ae.right-8}px`:ae.x-8+"px",Be=ae.y-2+"px",ht=(null===(Ae=le.textContent)||void 0===Ae?void 0:Ae.trim())===(null===(Re=H.textContent)||void 0===Re?void 0:Re.trim()),Fe=ae.height/(te.height-V),We="scale(1)",Pe=ht?`scale(${ae.width/te.width}, ${Fe})`:`scale(${Fe})`,Pt=se?[{offset:0,opacity:0,transform:`translate3d(${q}, ${Be}, 0) ${Pe}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${I}, 0) ${We}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${I}, 0) ${We}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${q}, ${Be}, 0) ${Pe}`}],pe=P("ion-title"),He=(0,S.c)();pe.innerText=H.innerText,pe.size=H.size,pe.color=H.color,He.addElement(pe),He.beforeStyles({"transform-origin":`${F} top`,height:`${k.height}px`,display:"",position:"relative",[F]:N}).beforeAddWrite(()=>{H.style.setProperty("opacity","0")}).afterAddWrite(()=>{H.style.setProperty("opacity",""),pe.style.setProperty("display","none")}).keyframes(Pt),fe.addAnimation(He)},A=(fe,be)=>{var se;try{const H="cubic-bezier(0.32,0.72,0,1)",k="opacity",te="transform",le="0%",Ae="rtl"===fe.ownerDocument.dir,Re=Ae?"-99.5%":"99.5%",F=Ae?"33%":"-33%",N=be.enteringEl,ne=be.leavingEl,I="back"===be.direction,X=N.querySelector(":scope > ion-content"),q=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),me=N.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=(0,S.c)(),ht=(0,S.c)();if(Be.addElement(N).duration((null!==(se=be.duration)&&void 0!==se?se:0)||540).easing(be.easing||H).fill("both").beforeRemoveClass("ion-page-invisible"),ne&&null!=fe){const Pe=(0,S.c)();Pe.addElement(fe),Be.addAnimation(Pe)}if(X||0!==me.length||0!==q.length?(ht.addElement(X),ht.addElement(q)):ht.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(ht),I?ht.beforeClearStyles([k]).fromTo("transform",`translateX(${F})`,`translateX(${le})`).fromTo(k,.8,1):ht.beforeClearStyles([k]).fromTo("transform",`translateX(${Re})`,`translateX(${le})`),X){const Pe=x(X).querySelector(".transition-effect");if(Pe){const Ge=Pe.querySelector(".transition-cover"),st=Pe.querySelector(".transition-shadow"),Pt=(0,S.c)(),pe=(0,S.c)(),He=(0,S.c)();Pt.addElement(Pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pe.addElement(Ge).beforeClearStyles([k]).fromTo(k,0,.1),He.addElement(st).beforeClearStyles([k]).fromTo(k,.03,.7),Pt.addAnimation([pe,He]),ht.addAnimation([Pt])}}const Tt=N.querySelector("ion-header.header-collapse-condense"),{forward:Fe,backward:We}=((fe,be,se,H,k)=>{const te=Q(H,se),le=T(k),ae=T(H),Ae=Q(k,se),Re=null!==te&&null!==le&&!se,F=null!==ae&&null!==Ae&&se;if(Re){const N=le.getBoundingClientRect(),ne=te.getBoundingClientRect(),I=x(te).querySelector(".button-text"),X=I.getBoundingClientRect(),me=x(le).querySelector(".toolbar-title").getBoundingClientRect();O(fe,be,se,le,N,me,I,X),R(fe,be,se,te,ne,I,X,le,me)}else if(F){const N=ae.getBoundingClientRect(),ne=Ae.getBoundingClientRect(),I=x(Ae).querySelector(".button-text"),X=I.getBoundingClientRect(),me=x(ae).querySelector(".toolbar-title").getBoundingClientRect();O(fe,be,se,ae,N,me,I,X),R(fe,be,se,Ae,ne,I,X,ae,me)}return{forward:Re,backward:F}})(Be,Ae,I,N,ne);if(me.forEach(Pe=>{const Ge=(0,S.c)();Ge.addElement(Pe),Be.addAnimation(Ge);const st=(0,S.c)();st.addElement(Pe.querySelector("ion-title"));const Pt=(0,S.c)(),pe=Array.from(Pe.querySelectorAll("ion-buttons,[menuToggle]")),He=Pe.closest("ion-header"),at=He?.classList.contains("header-collapse-condense-inactive");let Ye;Ye=pe.filter(I?_e=>{const xe=_e.classList.contains("buttons-collapse");return xe&&!at||!xe}:_e=>!_e.classList.contains("buttons-collapse")),Pt.addElement(Ye);const Ot=(0,S.c)();Ot.addElement(Pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Gt=(0,S.c)();Gt.addElement(x(Pe).querySelector(".toolbar-background"));const At=(0,S.c)(),Ie=Pe.querySelector("ion-back-button");if(Ie&&At.addElement(Ie),Ge.addAnimation([st,Pt,Ot,Gt,At]),Pt.fromTo(k,.01,1),Ot.fromTo(k,.01,1),I)at||st.fromTo("transform",`translateX(${F})`,`translateX(${le})`).fromTo(k,.01,1),Ot.fromTo("transform",`translateX(${F})`,`translateX(${le})`),At.fromTo(k,.01,1);else if(Tt||st.fromTo("transform",`translateX(${Re})`,`translateX(${le})`).fromTo(k,.01,1),Ot.fromTo("transform",`translateX(${Re})`,`translateX(${le})`),Gt.beforeClearStyles([k,"transform"]),He?.translucent?Gt.fromTo("transform",Ae?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Gt.fromTo(k,.01,"var(--opacity)"),Fe||At.fromTo(k,.01,1),Ie&&!Fe){const xe=(0,S.c)();xe.addElement(x(Ie).querySelector(".button-text")).fromTo("transform",Ae?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ge.addAnimation(xe)}}),ne){const Pe=(0,S.c)(),Ge=ne.querySelector(":scope > ion-content"),st=ne.querySelectorAll(":scope > ion-header > ion-toolbar"),Pt=ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ge||0!==st.length||0!==Pt.length?(Pe.addElement(Ge),Pe.addElement(Pt)):Pe.addElement(ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(Pe),I){Pe.beforeClearStyles([k]).fromTo("transform",`translateX(${le})`,Ae?"translateX(-100%)":"translateX(100%)");const pe=(0,d.g)(ne);Be.afterAddWrite(()=>{"normal"===Be.getDirection()&&pe.style.setProperty("display","none")})}else Pe.fromTo("transform",`translateX(${le})`,`translateX(${F})`).fromTo(k,1,.8);if(Ge){const pe=x(Ge).querySelector(".transition-effect");if(pe){const He=pe.querySelector(".transition-cover"),at=pe.querySelector(".transition-shadow"),Ye=(0,S.c)(),Ot=(0,S.c)(),Gt=(0,S.c)();Ye.addElement(pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ot.addElement(He).beforeClearStyles([k]).fromTo(k,.1,0),Gt.addElement(at).beforeClearStyles([k]).fromTo(k,.7,.03),Ye.addAnimation([Ot,Gt]),Pe.addAnimation([Ye])}}st.forEach(pe=>{const He=(0,S.c)();He.addElement(pe);const at=(0,S.c)();at.addElement(pe.querySelector("ion-title"));const Ye=(0,S.c)(),Ot=pe.querySelectorAll("ion-buttons,[menuToggle]"),Gt=pe.closest("ion-header"),At=Gt?.classList.contains("header-collapse-condense-inactive"),Ie=Array.from(Ot).filter(on=>{const $t=on.classList.contains("buttons-collapse");return $t&&!At||!$t});Ye.addElement(Ie);const _e=(0,S.c)(),xe=pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");xe.length>0&&_e.addElement(xe);const Je=(0,S.c)();Je.addElement(x(pe).querySelector(".toolbar-background"));const ot=(0,S.c)(),Ut=pe.querySelector("ion-back-button");if(Ut&&ot.addElement(Ut),He.addAnimation([at,Ye,_e,ot,Je]),Be.addAnimation(He),ot.fromTo(k,.99,0),Ye.fromTo(k,.99,0),_e.fromTo(k,.99,0),I){if(At||at.fromTo("transform",`translateX(${le})`,Ae?"translateX(-100%)":"translateX(100%)").fromTo(k,.99,0),_e.fromTo("transform",`translateX(${le})`,Ae?"translateX(-100%)":"translateX(100%)"),Je.beforeClearStyles([k,"transform"]),Gt?.translucent?Je.fromTo("transform","translateX(0px)",Ae?"translateX(-100%)":"translateX(100%)"):Je.fromTo(k,"var(--opacity)",0),Ut&&!We){const $t=(0,S.c)();$t.addElement(x(Ut).querySelector(".button-text")).fromTo("transform",`translateX(${le})`,`translateX(${(Ae?-124:124)+"px"})`),He.addAnimation($t)}}else At||at.fromTo("transform",`translateX(${le})`,`translateX(${F})`).fromTo(k,.99,0).afterClearStyles([te,k]),_e.fromTo("transform",`translateX(${le})`,`translateX(${F})`).afterClearStyles([te,k]),ot.afterClearStyles([k]),at.afterClearStyles([k]),Ye.afterClearStyles([k])})}return Be}catch(H){throw H}},V=10},5922:(ve,Ee,C)=>{"use strict";C.r(Ee),C.d(Ee,{mdTransitionAnimation:()=>U});var S=C(2723),d=C(8044);C(6940),C(3426);const U=(P,x)=>{var T,Q,$;const R="40px",A="back"===x.direction,fe=x.leavingEl,be=(0,d.g)(x.enteringEl),se=be.querySelector("ion-toolbar"),H=(0,S.c)();if(H.addElement(be).fill("both").beforeRemoveClass("ion-page-invisible"),A?H.duration((null!==(T=x.duration)&&void 0!==T?T:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):H.duration((null!==(Q=x.duration)&&void 0!==Q?Q:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${R})`,"translateY(0px)").fromTo("opacity",.01,1),se){const k=(0,S.c)();k.addElement(se),H.addAnimation(k)}if(fe&&A){H.duration((null!==($=x.duration)&&void 0!==$?$:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const k=(0,S.c)();k.addElement((0,d.g)(fe)).onFinish(te=>{1===te&&k.elements.length>0&&k.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${R})`).fromTo("opacity",1,0),H.addAnimation(k)}return H}},7261:(ve,Ee,C)=>{"use strict";C.d(Ee,{B:()=>at,G:()=>Ye,O:()=>Ot,a:()=>O,b:()=>A,c:()=>se,d:()=>Gt,e:()=>At,f:()=>ht,g:()=>Fe,h:()=>Ge,i:()=>Pt,j:()=>k,k:()=>te,l:()=>V,m:()=>fe,n:()=>$,o:()=>Ae,q:()=>me,s:()=>He});var S=C(3918),d=C(6940),Y=C(5194),K=C(8573),U=C(1940),P=C(4675),x=C(6240);let T=0,Q=0;const $=new WeakMap,R=Ie=>({create:_e=>le(Ie,_e),dismiss:(_e,xe,Je)=>I(document,_e,xe,Ie,Je),getTop:()=>(0,S.Z)(function*(){return me(document,Ie)})()}),O=R("ion-alert"),A=R("ion-action-sheet"),V=R("ion-loading"),fe=R("ion-modal"),se=R("ion-popover"),k=Ie=>{typeof document<"u"&&ne(document);const _e=T++;Ie.overlayIndex=_e},te=Ie=>(Ie.hasAttribute("id")||(Ie.id="ion-overlay-"+ ++Q),Ie.id),le=(Ie,_e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ie).then(()=>{const xe=document.createElement(Ie);return xe.classList.add("overlay-hidden"),Object.assign(xe,Object.assign(Object.assign({},_e),{hasController:!0})),We(document).appendChild(xe),new Promise(Je=>(0,P.c)(xe,Je))}):Promise.resolve(),ae='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ae=(Ie,_e)=>{let xe=Ie.querySelector(ae);const Je=xe?.shadowRoot;Je&&(xe=Je.querySelector(ae)||xe),xe?(0,P.f)(xe):_e.focus()},F=(Ie,_e)=>{const xe=Array.from(Ie.querySelectorAll(ae));let Je=xe.length>0?xe[xe.length-1]:null;const ot=Je?.shadowRoot;ot&&(Je=ot.querySelector(ae)||Je),Je?Je.focus():_e.focus()},ne=Ie=>{0===T&&(T=1,Ie.addEventListener("focus",_e=>{((Ie,_e)=>{const xe=me(_e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Je=Ie.target;xe&&Je&&!xe.classList.contains("ion-disable-focus-trap")&&(xe.shadowRoot?(()=>{if(xe.contains(Je))xe.lastFocus=Je;else{const on=xe.lastFocus;Ae(xe,xe),on===_e.activeElement&&F(xe,xe),xe.lastFocus=_e.activeElement}})():(()=>{if(xe===Je)xe.lastFocus=void 0;else{const on=(0,P.g)(xe);if(!on.contains(Je))return;const $t=on.querySelector(".ion-overlay-wrapper");if(!$t)return;if($t.contains(Je)||Je===on.querySelector("ion-backdrop"))xe.lastFocus=Je;else{const sn=xe.lastFocus;Ae($t,xe),sn===_e.activeElement&&F($t,xe),xe.lastFocus=_e.activeElement}}})())})(_e,Ie)},!0),Ie.addEventListener("ionBackButton",_e=>{const xe=me(Ie);xe?.backdropDismiss&&_e.detail.register(U.OVERLAY_BACK_BUTTON_PRIORITY,()=>xe.dismiss(void 0,at))}),Ie.addEventListener("keydown",_e=>{if("Escape"===_e.key){const xe=me(Ie);xe?.backdropDismiss&&xe.dismiss(void 0,at)}}))},I=(Ie,_e,xe,Je,ot)=>{const Ut=me(Ie,Je,ot);return Ut?Ut.dismiss(_e,xe):Promise.reject("overlay does not exist")},q=(Ie,_e)=>((Ie,_e)=>(void 0===_e&&(_e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ie.querySelectorAll(_e)).filter(xe=>xe.overlayIndex>0)))(Ie,_e).filter(xe=>!(Ie=>Ie.classList.contains("overlay-hidden"))(xe)),me=(Ie,_e,xe)=>{const Je=q(Ie,_e);return void 0===xe?Je[Je.length-1]:Je.find(ot=>ot.id===xe)},Be=(Ie=!1)=>{const xe=We(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");xe&&(Ie?xe.setAttribute("aria-hidden","true"):xe.removeAttribute("aria-hidden"))},ht=function(){var Ie=(0,S.Z)(function*(_e,xe,Je,ot,Ut){var on,$t;if(_e.presented)return;Be(!0),_e.presented=!0,_e.willPresent.emit(),null===(on=_e.willPresentShorthand)||void 0===on||on.emit();const sn=(0,Y.b)(_e),Sn=_e.enterAnimation?_e.enterAnimation:Y.c.get(xe,"ios"===sn?Je:ot);(yield Pe(_e,Sn,_e.el,Ut))&&(_e.didPresent.emit(),null===($t=_e.didPresentShorthand)||void 0===$t||$t.emit()),"ION-TOAST"!==_e.el.tagName&&Tt(_e.el),_e.keyboardClose&&(null===document.activeElement||!_e.el.contains(document.activeElement))&&_e.el.focus()});return function(xe,Je,ot,Ut,on){return Ie.apply(this,arguments)}}(),Tt=function(){var Ie=(0,S.Z)(function*(_e){let xe=document.activeElement;if(!xe)return;const Je=xe?.shadowRoot;Je&&(xe=Je.querySelector(ae)||xe),yield _e.onDidDismiss(),xe.focus()});return function(xe){return Ie.apply(this,arguments)}}(),Fe=function(){var Ie=(0,S.Z)(function*(_e,xe,Je,ot,Ut,on,$t){var sn,Sn;if(!_e.presented)return!1;void 0!==d.d&&1===q(d.d).length&&Be(!1),_e.presented=!1;try{_e.el.style.setProperty("pointer-events","none"),_e.willDismiss.emit({data:xe,role:Je}),null===(sn=_e.willDismissShorthand)||void 0===sn||sn.emit({data:xe,role:Je});const _r=(0,Y.b)(_e),On=_e.leaveAnimation?_e.leaveAnimation:Y.c.get(ot,"ios"===_r?Ut:on);Je!==Ye&&(yield Pe(_e,On,_e.el,$t)),_e.didDismiss.emit({data:xe,role:Je}),null===(Sn=_e.didDismissShorthand)||void 0===Sn||Sn.emit({data:xe,role:Je}),$.delete(_e),_e.el.classList.add("overlay-hidden"),_e.el.style.removeProperty("pointer-events"),void 0!==_e.el.lastFocus&&(_e.el.lastFocus=void 0)}catch(_r){console.error(_r)}return _e.el.remove(),!0});return function(xe,Je,ot,Ut,on,$t,sn){return Ie.apply(this,arguments)}}(),We=Ie=>Ie.querySelector("ion-app")||Ie.body,Pe=function(){var Ie=(0,S.Z)(function*(_e,xe,Je,ot){Je.classList.remove("overlay-hidden");const on=xe(_e.el,ot);(!_e.animated||!Y.c.getBoolean("animated",!0))&&on.duration(0),_e.keyboardClose&&on.beforeAddWrite(()=>{const sn=Je.ownerDocument.activeElement;sn?.matches("input,ion-input, ion-textarea")&&sn.blur()});const $t=$.get(_e)||[];return $.set(_e,[...$t,on]),yield on.play(),!0});return function(xe,Je,ot,Ut){return Ie.apply(this,arguments)}}(),Ge=(Ie,_e)=>{let xe;const Je=new Promise(ot=>xe=ot);return st(Ie,_e,ot=>{xe(ot.detail)}),Je},st=(Ie,_e,xe)=>{const Je=ot=>{(0,P.b)(Ie,_e,Je),xe(ot)};(0,P.a)(Ie,_e,Je)},Pt=Ie=>"cancel"===Ie||Ie===at,pe=Ie=>Ie(),He=(Ie,_e)=>{if("function"==typeof Ie)return Y.c.get("_zoneGate",pe)(()=>{try{return Ie(_e)}catch(Je){throw Je}})},at="backdrop",Ye="gesture",Ot=39,Gt=Ie=>{let xe,_e=!1;const Je=(0,K.C)(),ot=($t=!1)=>{if(xe&&!$t)return{delegate:xe,inline:_e};const{el:sn,hasController:Sn,delegate:_r}=Ie;return _e=null!==sn.parentNode&&!Sn,xe=_e?_r||Je:_r,{inline:_e,delegate:xe}};return{attachViewToDom:function(){var $t=(0,S.Z)(function*(sn){const{delegate:Sn}=ot(!0);if(Sn)return yield Sn.attachViewToDom(Ie.el,sn);const{hasController:_r}=Ie;if(_r&&void 0!==sn)throw new Error("framework delegate is missing");return null});return function(Sn){return $t.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:$t}=ot();$t&&void 0!==Ie.el&&$t.removeViewFromDom(Ie.el.parentElement,Ie.el)}}},At=()=>{let Ie;const _e=()=>{Ie&&(Ie(),Ie=void 0)};return{addClickListener:(Je,ot)=>{_e();const Ut=void 0!==ot?document.getElementById(ot):null;Ut?Ie=(($t,sn)=>{const Sn=()=>{sn.present()};return $t.addEventListener("click",Sn),()=>{$t.removeEventListener("click",Sn)}})(Ut,Je):(0,x.p)(`A trigger element with the ID "${ot}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Je)},removeClickListener:_e}}},2410:(ve,Ee,C)=>{"use strict";var d=C(1491)("ArrayBuffer.prototype.byteLength",!0),Y=C(9850);ve.exports=function(U){return Y(U)?d?d(U):U.byteLength:NaN}},1491:(ve,Ee,C)=>{"use strict";var S=C(3485),d=C(1773),Y=d(S("String.prototype.indexOf"));ve.exports=function(U,P){var x=S(U,!!P);return"function"==typeof x&&Y(U,".prototype.")>-1?d(x):x}},1773:(ve,Ee,C)=>{"use strict";var S=C(8956),d=C(3485),Y=C(3931),K=d("%TypeError%"),U=d("%Function.prototype.apply%"),P=d("%Function.prototype.call%"),x=d("%Reflect.apply%",!0)||S.call(P,U),T=d("%Object.defineProperty%",!0),Q=d("%Math.max%");if(T)try{T({},"a",{value:1})}catch{T=null}ve.exports=function(O){if("function"!=typeof O)throw new K("a function is required");var A=x(S,P,arguments);return Y(A,1+Q(0,O.length-(arguments.length-1)),!0)};var $=function(){return x(S,U,arguments)};T?T(ve.exports,"apply",{value:$}):ve.exports.apply=$},7303:ve=>{var Ee={utf8:{stringToBytes:function(C){return Ee.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(Ee.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var S=[],d=0;d<C.length;d++)S.push(255&C.charCodeAt(d));return S},bytesToString:function(C){for(var S=[],d=0;d<C.length;d++)S.push(String.fromCharCode(C[d]));return S.join("")}}};ve.exports=Ee},3754:ve=>{var Ee,C;Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ve.exports=C={rotl:function(S,d){return S<<d|S>>>32-d},rotr:function(S,d){return S<<32-d|S>>>d},endian:function(S){if(S.constructor==Number)return 16711935&C.rotl(S,8)|4278255360&C.rotl(S,24);for(var d=0;d<S.length;d++)S[d]=C.endian(S[d]);return S},randomBytes:function(S){for(var d=[];S>0;S--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(S){for(var d=[],Y=0,K=0;Y<S.length;Y++,K+=8)d[K>>>5]|=S[Y]<<24-K%32;return d},wordsToBytes:function(S){for(var d=[],Y=0;Y<32*S.length;Y+=8)d.push(S[Y>>>5]>>>24-Y%32&255);return d},bytesToHex:function(S){for(var d=[],Y=0;Y<S.length;Y++)d.push((S[Y]>>>4).toString(16)),d.push((15&S[Y]).toString(16));return d.join("")},hexToBytes:function(S){for(var d=[],Y=0;Y<S.length;Y+=2)d.push(parseInt(S.substr(Y,2),16));return d},bytesToBase64:function(S){for(var d=[],Y=0;Y<S.length;Y+=3)for(var K=S[Y]<<16|S[Y+1]<<8|S[Y+2],U=0;U<4;U++)d.push(8*Y+6*U<=8*S.length?Ee.charAt(K>>>6*(3-U)&63):"=");return d.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var d=[],Y=0,K=0;Y<S.length;K=++Y%4)0!=K&&d.push((Ee.indexOf(S.charAt(Y-1))&Math.pow(2,-2*K+8)-1)<<2*K|Ee.indexOf(S.charAt(Y))>>>6-2*K);return d}}},307:(ve,Ee,C)=>{"use strict";var S=C(5747),d=C(1491),Y=C(4300),K=C(3485),U=C(1324),P=C(4355),x=C(500),T=C(1568),Q=C(9604),$=C(9850),R=C(6994),O=C(9649),A=C(5327),V=C(5692),fe=C(8460),be=C(9148),se=C(927),H=C(2410),k=d("SharedArrayBuffer.prototype.byteLength",!0),te=d("Date.prototype.getTime"),le=Object.getPrototypeOf,ae=d("Object.prototype.toString"),Ae=K("%Set%",!0),Re=d("Map.prototype.has",!0),F=d("Map.prototype.get",!0),N=d("Map.prototype.size",!0),ne=d("Set.prototype.add",!0),I=d("Set.prototype.delete",!0),X=d("Set.prototype.has",!0),q=d("Set.prototype.size",!0);function me(pe,He,at,Ye){for(var Gt,Ot=U(pe);(Gt=Ot.next())&&!Gt.done;)if(We(He,Gt.value,at,Ye))return I(pe,Gt.value),!0;return!1}function Be(pe){return typeof pe>"u"?null:"object"!=typeof pe?"symbol"!=typeof pe&&("string"!=typeof pe&&"number"!=typeof pe||+pe==+pe):void 0}function ht(pe,He,at,Ye,Ot,Gt){var At=Be(at);if(null!=At)return At;var Ie=F(He,At),_e=S({},Ot,{strict:!1});return!(typeof Ie>"u"&&!Re(He,At)||!We(Ye,Ie,_e,Gt))&&!Re(pe,At)&&We(Ye,Ie,_e,Gt)}function Tt(pe,He,at){var Ye=Be(at);return Ye??(X(He,Ye)&&!X(pe,Ye))}function Fe(pe,He,at,Ye,Ot,Gt){for(var Ie,_e,At=U(pe);(Ie=At.next())&&!Ie.done;)if(We(at,_e=Ie.value,Ot,Gt)&&We(Ye,F(He,_e),Ot,Gt))return I(pe,_e),!0;return!1}function We(pe,He,at,Ye){var Ot=at||{};if(Ot.strict?x(pe,He):pe===He)return!0;if(fe(pe)!==fe(He))return!1;if(!pe||!He||"object"!=typeof pe&&"object"!=typeof He)return Ot.strict?x(pe,He):pe==He;var xe,Ie=Ye.has(pe),_e=Ye.has(He);if(Ie&&_e){if(Ye.get(pe)===Ye.get(He))return!0}else xe={};return Ie||Ye.set(pe,xe),_e||Ye.set(He,xe),function Pt(pe,He,at,Ye){var Ot,Gt;if(typeof pe!=typeof He||null==pe||null==He||ae(pe)!==ae(He)||T(pe)!==T(He))return!1;if(Q(pe)!==Q(He))return!1;var _e=pe instanceof Error,xe=He instanceof Error;if(_e!==xe||(_e||xe)&&(pe.name!==He.name||pe.message!==He.message))return!1;var Je=O(pe),ot=O(He);if(Je!==ot||(Je||ot)&&(pe.source!==He.source||Y(pe)!==Y(He)))return!1;var Ut=R(pe),on=R(He);if(Ut!==on||(Ut||on)&&te(pe)!==te(He)||at.strict&&le&&le(pe)!==le(He))return!1;var $t=se(pe),sn=se(He);if($t!==sn)return!1;if($t||sn){if(pe.length!==He.length)return!1;for(Ot=0;Ot<pe.length;Ot++)if(pe[Ot]!==He[Ot])return!1;return!0}var Sn=Pe(pe),_r=Pe(He);if(Sn!==_r)return!1;if(Sn||_r){if(pe.length!==He.length)return!1;for(Ot=0;Ot<pe.length;Ot++)if(pe[Ot]!==He[Ot])return!1;return!0}var On=$(pe),qo=$(He);if(On!==qo)return!1;if(On||qo)return H(pe)===H(He)&&"function"==typeof Uint8Array&&We(new Uint8Array(pe),new Uint8Array(He),at,Ye);var jr=A(pe),go=A(He);if(jr!==go)return!1;if(jr||go)return k(pe)===k(He)&&"function"==typeof Uint8Array&&We(new Uint8Array(pe),new Uint8Array(He),at,Ye);if(typeof pe!=typeof He)return!1;var Fr=V(pe),Nr=V(He);if(Fr.length!==Nr.length)return!1;for(Fr.sort(),Nr.sort(),Ot=Fr.length-1;Ot>=0;Ot--)if(Fr[Ot]!=Nr[Ot])return!1;for(Ot=Fr.length-1;Ot>=0;Ot--)if(!We(pe[Gt=Fr[Ot]],He[Gt],at,Ye))return!1;var Xn=be(pe),To=be(He);return Xn===To&&("Set"===Xn||"Set"===To?function Ge(pe,He,at,Ye){if(q(pe)!==q(He))return!1;for(var At,Ie,_e,Ot=U(pe),Gt=U(He);(At=Ot.next())&&!At.done;)if(At.value&&"object"==typeof At.value)_e||(_e=new Ae),ne(_e,At.value);else if(!X(He,At.value)){if(at.strict||!Tt(pe,He,At.value))return!1;_e||(_e=new Ae),ne(_e,At.value)}if(_e){for(;(Ie=Gt.next())&&!Ie.done;)if(Ie.value&&"object"==typeof Ie.value){if(!me(_e,Ie.value,at.strict,Ye))return!1}else if(!at.strict&&!X(pe,Ie.value)&&!me(_e,Ie.value,at.strict,Ye))return!1;return 0===q(_e)}return!0}(pe,He,at,Ye):"Map"!==Xn||function st(pe,He,at,Ye){if(N(pe)!==N(He))return!1;for(var At,Ie,_e,xe,Je,ot,Ot=U(pe),Gt=U(He);(At=Ot.next())&&!At.done;)if(Je=At.value[1],(xe=At.value[0])&&"object"==typeof xe)_e||(_e=new Ae),ne(_e,xe);else if(typeof(ot=F(He,xe))>"u"&&!Re(He,xe)||!We(Je,ot,at,Ye)){if(at.strict||!ht(pe,He,xe,Je,at,Ye))return!1;_e||(_e=new Ae),ne(_e,xe)}if(_e){for(;(Ie=Gt.next())&&!Ie.done;)if(ot=Ie.value[1],(xe=Ie.value[0])&&"object"==typeof xe){if(!Fe(_e,pe,xe,ot,at,Ye))return!1}else if(!(at.strict||pe.has(xe)&&We(F(pe,xe),ot,at,Ye)||Fe(_e,pe,xe,ot,S({},at,{strict:!1}),Ye)))return!1;return 0===q(_e)}return!0}(pe,He,at,Ye))}(pe,He,Ot,Ye)}function Pe(pe){return!(!pe||"object"!=typeof pe||"number"!=typeof pe.length||"function"!=typeof pe.copy||"function"!=typeof pe.slice||pe.length>0&&"number"!=typeof pe[0]||!(pe.constructor&&pe.constructor.isBuffer&&pe.constructor.isBuffer(pe)))}ve.exports=function(He,at,Ye){return We(He,at,Ye,P())}},4467:(ve,Ee,C)=>{"use strict";var S=C(7811)(),d=C(3485),Y=S&&d("%Object.defineProperty%",!0);if(Y)try{Y({},"a",{value:1})}catch{Y=!1}var K=d("%SyntaxError%"),U=d("%TypeError%"),P=C(6078);ve.exports=function(T,Q,$){if(!T||"object"!=typeof T&&"function"!=typeof T)throw new U("`obj` must be an object or a function`");if("string"!=typeof Q&&"symbol"!=typeof Q)throw new U("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new U("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new U("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new U("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new U("`loose`, if provided, must be a boolean");var R=arguments.length>3?arguments[3]:null,O=arguments.length>4?arguments[4]:null,A=arguments.length>5?arguments[5]:null,V=arguments.length>6&&arguments[6],fe=!!P&&P(T,Q);if(Y)Y(T,Q,{configurable:null===A&&fe?fe.configurable:!A,enumerable:null===R&&fe?fe.enumerable:!R,value:$,writable:null===O&&fe?fe.writable:!O});else{if(!V&&(R||O||A))throw new K("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");T[Q]=$}}},9567:(ve,Ee,C)=>{"use strict";var S=C(5692),d="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Y=Object.prototype.toString,K=Array.prototype.concat,U=C(4467),x=C(7811)(),T=function($,R,O,A){if(R in $)if(!0===A){if($[R]===O)return}else if(!function($){return"function"==typeof $&&"[object Function]"===Y.call($)}(A)||!A())return;x?U($,R,O,!0):U($,R,O)},Q=function($,R){var O=arguments.length>2?arguments[2]:{},A=S(R);d&&(A=K.call(A,Object.getOwnPropertySymbols(R)));for(var V=0;V<A.length;V+=1)T($,A[V],R[A[V]],O[A[V]])};Q.supportsDescriptors=!!x,ve.exports=Q},1633:function(ve,Ee){!function(C){"use strict";var O,Y=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,K=536870912,U=2*K,x=new WeakMap,Q=function(O,A){return function(V){var fe=A.get(V),be=void 0===fe?V.size:fe<U?fe+1:0;if(!V.has(be))return O(V,be);if(V.size<K){for(;V.has(be);)be=Math.floor(Math.random()*U);return O(V,be)}if(V.size>Y)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;V.has(be);)be=Math.floor(Math.random()*Y);return O(V,be)}}((O=x,function(A,V){return O.set(A,V),V}),x),$=function(O){return function(A){var V=O(A);return A.add(V),V}}(Q);C.addUniqueNumber=$,C.generateUniqueNumber=Q}(Ee)},2418:(ve,Ee,C)=>{"use strict";var S=C(5487),d=Object.prototype.toString,Y=Object.prototype.hasOwnProperty;ve.exports=function(Q,$,R){if(!S($))throw new TypeError("iterator must be a function");var O;arguments.length>=3&&(O=R),"[object Array]"===d.call(Q)?function(Q,$,R){for(var O=0,A=Q.length;O<A;O++)Y.call(Q,O)&&(null==R?$(Q[O],O,Q):$.call(R,Q[O],O,Q))}(Q,$,O):"string"==typeof Q?function(Q,$,R){for(var O=0,A=Q.length;O<A;O++)null==R?$(Q.charAt(O),O,Q):$.call(R,Q.charAt(O),O,Q)}(Q,$,O):function(Q,$,R){for(var O in Q)Y.call(Q,O)&&(null==R?$(Q[O],O,Q):$.call(R,Q[O],O,Q))}(Q,$,O)}},8026:ve=>{"use strict";var C=Object.prototype.toString,S=Math.max,Y=function(x,T){for(var Q=[],$=0;$<x.length;$+=1)Q[$]=x[$];for(var R=0;R<T.length;R+=1)Q[R+x.length]=T[R];return Q};ve.exports=function(x){var T=this;if("function"!=typeof T||"[object Function]"!==C.apply(T))throw new TypeError("Function.prototype.bind called on incompatible "+T);for(var $,Q=function(x,T){for(var Q=[],$=1,R=0;$<x.length;$+=1,R+=1)Q[R]=x[$];return Q}(arguments),O=S(0,T.length-Q.length),A=[],V=0;V<O;V++)A[V]="$"+V;if($=Function("binder","return function ("+function(P,x){for(var T="",Q=0;Q<P.length;Q+=1)T+=P[Q],Q+1<P.length&&(T+=",");return T}(A)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof $){var be=T.apply(this,Y(Q,arguments));return Object(be)===be?be:this}return T.apply(x,Y(Q,arguments))}),T.prototype){var fe=function(){};fe.prototype=T.prototype,$.prototype=new fe,fe.prototype=null}return $}},8956:(ve,Ee,C)=>{"use strict";var S=C(8026);ve.exports=Function.prototype.bind||S},7688:ve=>{"use strict";var Ee=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}Ee.functionsHaveConfigurableNames=function(){if(!Ee()||!C)return!1;var Y=C(function(){},"name");return!!Y&&!!Y.configurable};var S=Function.prototype.bind;Ee.boundFunctionsHaveNames=function(){return Ee()&&"function"==typeof S&&""!==function(){}.bind().name},ve.exports=Ee},3485:(ve,Ee,C)=>{"use strict";var S,d=SyntaxError,Y=Function,K=TypeError,U=function(X){try{return Y('"use strict"; return ('+X+").constructor;")()}catch{}},P=Object.getOwnPropertyDescriptor;if(P)try{P({},"")}catch{P=null}var x=function(){throw new K},T=P?function(){try{return x}catch{try{return P(arguments,"callee").get}catch{return x}}}():x,Q=C(2337)(),$=C(1441)(),R=Object.getPrototypeOf||($?function(X){return X.__proto__}:null),O={},A=typeof Uint8Array>"u"||!R?S:R(Uint8Array),V={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&R?R([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":Y,"%GeneratorFunction%":O,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&R?R(R([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!R?S:R((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!R?S:R((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&R?R(""[Symbol.iterator]()):S,"%Symbol%":Q?Symbol:S,"%SyntaxError%":d,"%ThrowTypeError%":T,"%TypedArray%":A,"%TypeError%":K,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(R)try{null.error}catch(X){var fe=R(R(X));V["%Error.prototype%"]=fe}var be=function X(q){var me;if("%AsyncFunction%"===q)me=U("async function () {}");else if("%GeneratorFunction%"===q)me=U("function* () {}");else if("%AsyncGeneratorFunction%"===q)me=U("async function* () {}");else if("%AsyncGenerator%"===q){var Be=X("%AsyncGeneratorFunction%");Be&&(me=Be.prototype)}else if("%AsyncIteratorPrototype%"===q){var ht=X("%AsyncGenerator%");ht&&R&&(me=R(ht.prototype))}return V[q]=me,me},se={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},H=C(8956),k=C(7528),te=H.call(Function.call,Array.prototype.concat),le=H.call(Function.apply,Array.prototype.splice),ae=H.call(Function.call,String.prototype.replace),Ae=H.call(Function.call,String.prototype.slice),Re=H.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,I=function(q,me){var ht,Be=q;if(k(se,Be)&&(Be="%"+(ht=se[Be])[0]+"%"),k(V,Be)){var Tt=V[Be];if(Tt===O&&(Tt=be(Be)),typeof Tt>"u"&&!me)throw new K("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:ht,name:Be,value:Tt}}throw new d("intrinsic "+q+" does not exist!")};ve.exports=function(q,me){if("string"!=typeof q||0===q.length)throw new K("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof me)throw new K('"allowMissing" argument must be a boolean');if(null===Re(/^%?[^%]*%?$/,q))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Be=function(q){var me=Ae(q,0,1),Be=Ae(q,-1);if("%"===me&&"%"!==Be)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===Be&&"%"!==me)throw new d("invalid intrinsic syntax, expected opening `%`");var ht=[];return ae(q,F,function(Tt,Fe,We,Pe){ht[ht.length]=We?ae(Pe,N,"$1"):Fe||Tt}),ht}(q),ht=Be.length>0?Be[0]:"",Tt=I("%"+ht+"%",me),Fe=Tt.name,We=Tt.value,Pe=!1,Ge=Tt.alias;Ge&&(ht=Ge[0],le(Be,te([0,1],Ge)));for(var st=1,Pt=!0;st<Be.length;st+=1){var pe=Be[st],He=Ae(pe,0,1),at=Ae(pe,-1);if(('"'===He||"'"===He||"`"===He||'"'===at||"'"===at||"`"===at)&&He!==at)throw new d("property names with quotes must have matching quotes");if(("constructor"===pe||!Pt)&&(Pe=!0),k(V,Fe="%"+(ht+="."+pe)+"%"))We=V[Fe];else if(null!=We){if(!(pe in We)){if(!me)throw new K("base intrinsic for "+q+" exists, but the property is not available.");return}if(P&&st+1>=Be.length){var Ye=P(We,pe);We=(Pt=!!Ye)&&"get"in Ye&&!("originalValue"in Ye.get)?Ye.get:We[pe]}else Pt=k(We,pe),We=We[pe];Pt&&!Pe&&(V[Fe]=We)}}return We}},6078:(ve,Ee,C)=>{"use strict";var d=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(d)try{d([],"length")}catch{d=null}ve.exports=d},5112:ve=>{"use strict";var Ee=typeof BigInt<"u"&&BigInt;ve.exports=function(){return"function"==typeof Ee&&"function"==typeof BigInt&&"bigint"==typeof Ee(42)&&"bigint"==typeof BigInt(42)}},7811:(ve,Ee,C)=>{"use strict";var d=C(3485)("%Object.defineProperty%",!0),Y=function(){if(d)try{return d({},"a",{value:1}),!0}catch{return!1}return!1};Y.hasArrayLengthDefineBug=function(){if(!Y())return null;try{return 1!==d([],"length",{value:1}).length}catch{return!0}},ve.exports=Y},1441:ve=>{"use strict";var Ee={foo:{}},C=Object;ve.exports=function(){return{__proto__:Ee}.foo===Ee.foo&&!({__proto__:null}instanceof C)}},2337:(ve,Ee,C)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,d=C(2759);ve.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&d()}},2759:ve=>{"use strict";ve.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},S=Symbol("test"),d=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(d))return!1;for(S in C[S]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var K=Object.getOwnPropertySymbols(C);if(1!==K.length||K[0]!==S||!Object.prototype.propertyIsEnumerable.call(C,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var U=Object.getOwnPropertyDescriptor(C,S);if(42!==U.value||!0!==U.enumerable)return!1}return!0}},6518:(ve,Ee,C)=>{"use strict";var S=C(2759);ve.exports=function(){return S()&&!!Symbol.toStringTag}},7528:(ve,Ee,C)=>{"use strict";var S=Function.prototype.call,d=Object.prototype.hasOwnProperty,Y=C(8956);ve.exports=Y.call(S,d)},2605:(ve,Ee,C)=>{"use strict";var S=C(3485),d=C(7528),Y=C(4355)(),K=S("%TypeError%"),U={assert:function(P,x){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new K("`O` is not an object");if("string"!=typeof x)throw new K("`slot` must be a string");if(Y.assert(P),!U.has(P,x))throw new K("`"+x+"` is not present on `O`")},get:function(P,x){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new K("`O` is not an object");if("string"!=typeof x)throw new K("`slot` must be a string");var T=Y.get(P);return T&&T["$"+x]},has:function(P,x){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new K("`O` is not an object");if("string"!=typeof x)throw new K("`slot` must be a string");var T=Y.get(P);return!!T&&d(T,"$"+x)},set:function(P,x,T){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new K("`O` is not an object");if("string"!=typeof x)throw new K("`slot` must be a string");var Q=Y.get(P);Q||Y.set(P,Q={}),Q["$"+x]=T}};Object.freeze&&Object.freeze(U),ve.exports=U},1568:(ve,Ee,C)=>{"use strict";var S=C(6518)(),Y=C(1491)("Object.prototype.toString"),K=function(T){return!(S&&T&&"object"==typeof T&&Symbol.toStringTag in T)&&"[object Arguments]"===Y(T)},U=function(T){return!!K(T)||null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Array]"!==Y(T)&&"[object Function]"===Y(T.callee)},P=function(){return K(arguments)}();K.isLegacyArguments=U,ve.exports=P?K:U},9850:(ve,Ee,C)=>{"use strict";var S=C(1773),d=C(1491),Y=C(3485),K=C(3631),U=Y("ArrayBuffer",!0),P=Y("Float32Array",!0),x=d("ArrayBuffer.prototype.byteLength",!0),T=U&&!x&&(new U).slice,Q=T&&S(T);ve.exports=x||Q?function(R){if(!R||"object"!=typeof R)return!1;try{return x?x(R):Q(R,0),!0}catch{return!1}}:P?function(R){try{return new P(R).buffer===R&&!K(R)}catch(O){return"object"==typeof R&&"RangeError"===O.name}}:function(R){return!1}},7050:(ve,Ee,C)=>{"use strict";if(C(5112)()){var d=BigInt.prototype.valueOf;ve.exports=function(U){return!(null===U||typeof U>"u"||"boolean"==typeof U||"string"==typeof U||"number"==typeof U||"symbol"==typeof U||"function"==typeof U)&&("bigint"==typeof U||function(U){try{return d.call(U),!0}catch{}return!1}(U))}}else ve.exports=function(U){return!1}},2856:(ve,Ee,C)=>{"use strict";var S=C(1491),d=S("Boolean.prototype.toString"),Y=S("Object.prototype.toString"),P=C(6518)();ve.exports=function(T){return"boolean"==typeof T||null!==T&&"object"==typeof T&&(P&&Symbol.toStringTag in T?function(T){try{return d(T),!0}catch{return!1}}(T):"[object Boolean]"===Y(T))}},7617:ve=>{function Ee(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}ve.exports=function(S){return null!=S&&(Ee(S)||function C(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&Ee(S.slice(0,0))}(S)||!!S._isBuffer)}},5487:ve=>{"use strict";var S,d,Ee=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw d}}),d={},C(function(){throw 42},null,S)}catch(se){se!==d&&(C=null)}else C=null;var Y=/^\s*class\b/,K=function(H){try{var k=Ee.call(H);return Y.test(k)}catch{return!1}},U=function(H){try{return!K(H)&&(Ee.call(H),!0)}catch{return!1}},P=Object.prototype.toString,A="function"==typeof Symbol&&!!Symbol.toStringTag,V=!(0 in[,]),fe=function(){return!1};if("object"==typeof document){var be=document.all;P.call(be)===P.call(document.all)&&(fe=function(H){if((V||!H)&&(typeof H>"u"||"object"==typeof H))try{var k=P.call(H);return("[object HTMLAllCollection]"===k||"[object HTML document.all class]"===k||"[object HTMLCollection]"===k||"[object Object]"===k)&&null==H("")}catch{}return!1})}ve.exports=C?function(H){if(fe(H))return!0;if(!H||"function"!=typeof H&&"object"!=typeof H)return!1;try{C(H,null,S)}catch(k){if(k!==d)return!1}return!K(H)&&U(H)}:function(H){if(fe(H))return!0;if(!H||"function"!=typeof H&&"object"!=typeof H)return!1;if(A)return U(H);if(K(H))return!1;var k=P.call(H);return!("[object Function]"!==k&&"[object GeneratorFunction]"!==k&&!/^\[object HTML/.test(k))&&U(H)}},6994:(ve,Ee,C)=>{"use strict";var S=Date.prototype.getDay,Y=Object.prototype.toString,U=C(6518)();ve.exports=function(x){return"object"==typeof x&&null!==x&&(U?function(x){try{return S.call(x),!0}catch{return!1}}(x):"[object Date]"===Y.call(x))}},6128:ve=>{"use strict";var S,Ee="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;Ee||(S=function(U){return!1});var d=Ee?Map.prototype.has:null,Y=C?Set.prototype.has:null;!S&&!d&&(S=function(U){return!1}),ve.exports=S||function(U){if(!U||"object"!=typeof U)return!1;try{if(d.call(U),Y)try{Y.call(U)}catch{return!0}return U instanceof Ee}catch{}return!1}},9065:(ve,Ee,C)=>{"use strict";var S=Number.prototype.toString,Y=Object.prototype.toString,U=C(6518)();ve.exports=function(x){return"number"==typeof x||"object"==typeof x&&(U?function(x){try{return S.call(x),!0}catch{return!1}}(x):"[object Number]"===Y.call(x))}},9649:(ve,Ee,C)=>{"use strict";var Y,K,U,P,S=C(1491),d=C(6518)();if(d){Y=S("Object.prototype.hasOwnProperty"),K=S("RegExp.prototype.exec"),U={};var x=function(){throw U};P={toString:x,valueOf:x},"symbol"==typeof Symbol.toPrimitive&&(P[Symbol.toPrimitive]=x)}var T=S("Object.prototype.toString"),Q=Object.getOwnPropertyDescriptor;ve.exports=d?function(O){if(!O||"object"!=typeof O)return!1;var A=Q(O,"lastIndex");if(!A||!Y(A,"value"))return!1;try{K(O,P)}catch(fe){return fe===U}}:function(O){return!(!O||"object"!=typeof O&&"function"!=typeof O)&&"[object RegExp]"===T(O)}},5918:ve=>{"use strict";var S,Ee="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(S=function(U){return!1});var d=Ee?Map.prototype.has:null,Y=C?Set.prototype.has:null;!S&&!Y&&(S=function(U){return!1}),ve.exports=S||function(U){if(!U||"object"!=typeof U)return!1;try{if(Y.call(U),d)try{d.call(U)}catch{return!0}return U instanceof C}catch{}return!1}},5327:(ve,Ee,C)=>{"use strict";var d=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);ve.exports=d?function(K){if(!K||"object"!=typeof K)return!1;try{return d(K),!0}catch{return!1}}:function(K){return!1}},2706:(ve,Ee,C)=>{"use strict";var S=String.prototype.valueOf,Y=Object.prototype.toString,U=C(6518)();ve.exports=function(x){return"string"==typeof x||"object"==typeof x&&(U?function(x){try{return S.call(x),!0}catch{return!1}}(x):"[object String]"===Y.call(x))}},2630:(ve,Ee,C)=>{"use strict";var S=Object.prototype.toString;if(C(2337)()){var Y=Symbol.prototype.toString,K=/^Symbol\(.*\)$/;ve.exports=function(x){if("symbol"==typeof x)return!0;if("[object Symbol]"!==S.call(x))return!1;try{return function(x){return"symbol"==typeof x.valueOf()&&K.test(Y.call(x))}(x)}catch{return!1}}}else ve.exports=function(x){return!1}},3631:(ve,Ee,C)=>{"use strict";var S=C(927);ve.exports=function(Y){return!!S(Y)}},1545:ve=>{"use strict";var S,Ee="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ee||(S=function(U){return!1});var d=Ee?Ee.prototype.has:null,Y=C?C.prototype.has:null;!S&&!d&&(S=function(U){return!1}),ve.exports=S||function(U){if(!U||"object"!=typeof U)return!1;try{if(d.call(U,d),Y)try{Y.call(U,Y)}catch{return!0}return U instanceof Ee}catch{}return!1}},9043:(ve,Ee,C)=>{"use strict";var S=C(3485),d=C(1491),Y=S("%WeakSet%",!0),K=d("WeakSet.prototype.has",!0);if(K){var U=d("WeakMap.prototype.has",!0);ve.exports=function(x){if(!x||"object"!=typeof x)return!1;try{if(K(x,K),U)try{U(x,U)}catch{return!0}return x instanceof Y}catch{}return!1}}else ve.exports=function(x){return!1}},9604:ve=>{var Ee={}.toString;ve.exports=Array.isArray||function(C){return"[object Array]"==Ee.call(C)}},3219:(ve,Ee,C)=>{var S,d,Y,K,U;S=C(3754),d=C(7303).utf8,Y=C(7617),K=C(7303).bin,(U=function(P,x){P.constructor==String?P=x&&"binary"===x.encoding?K.stringToBytes(P):d.stringToBytes(P):Y(P)?P=Array.prototype.slice.call(P,0):!Array.isArray(P)&&P.constructor!==Uint8Array&&(P=P.toString());for(var T=S.bytesToWords(P),Q=8*P.length,$=1732584193,R=-271733879,O=-1732584194,A=271733878,V=0;V<T.length;V++)T[V]=16711935&(T[V]<<8|T[V]>>>24)|4278255360&(T[V]<<24|T[V]>>>8);T[Q>>>5]|=128<<Q%32,T[14+(Q+64>>>9<<4)]=Q;var fe=U._ff,be=U._gg,se=U._hh,H=U._ii;for(V=0;V<T.length;V+=16){var k=$,te=R,le=O,ae=A;$=fe($,R,O,A,T[V+0],7,-680876936),A=fe(A,$,R,O,T[V+1],12,-389564586),O=fe(O,A,$,R,T[V+2],17,606105819),R=fe(R,O,A,$,T[V+3],22,-1044525330),$=fe($,R,O,A,T[V+4],7,-176418897),A=fe(A,$,R,O,T[V+5],12,1200080426),O=fe(O,A,$,R,T[V+6],17,-1473231341),R=fe(R,O,A,$,T[V+7],22,-45705983),$=fe($,R,O,A,T[V+8],7,1770035416),A=fe(A,$,R,O,T[V+9],12,-1958414417),O=fe(O,A,$,R,T[V+10],17,-42063),R=fe(R,O,A,$,T[V+11],22,-1990404162),$=fe($,R,O,A,T[V+12],7,1804603682),A=fe(A,$,R,O,T[V+13],12,-40341101),O=fe(O,A,$,R,T[V+14],17,-1502002290),$=be($,R=fe(R,O,A,$,T[V+15],22,1236535329),O,A,T[V+1],5,-165796510),A=be(A,$,R,O,T[V+6],9,-1069501632),O=be(O,A,$,R,T[V+11],14,643717713),R=be(R,O,A,$,T[V+0],20,-373897302),$=be($,R,O,A,T[V+5],5,-701558691),A=be(A,$,R,O,T[V+10],9,38016083),O=be(O,A,$,R,T[V+15],14,-660478335),R=be(R,O,A,$,T[V+4],20,-405537848),$=be($,R,O,A,T[V+9],5,568446438),A=be(A,$,R,O,T[V+14],9,-1019803690),O=be(O,A,$,R,T[V+3],14,-187363961),R=be(R,O,A,$,T[V+8],20,1163531501),$=be($,R,O,A,T[V+13],5,-1444681467),A=be(A,$,R,O,T[V+2],9,-51403784),O=be(O,A,$,R,T[V+7],14,1735328473),$=se($,R=be(R,O,A,$,T[V+12],20,-1926607734),O,A,T[V+5],4,-378558),A=se(A,$,R,O,T[V+8],11,-2022574463),O=se(O,A,$,R,T[V+11],16,1839030562),R=se(R,O,A,$,T[V+14],23,-35309556),$=se($,R,O,A,T[V+1],4,-1530992060),A=se(A,$,R,O,T[V+4],11,1272893353),O=se(O,A,$,R,T[V+7],16,-155497632),R=se(R,O,A,$,T[V+10],23,-1094730640),$=se($,R,O,A,T[V+13],4,681279174),A=se(A,$,R,O,T[V+0],11,-358537222),O=se(O,A,$,R,T[V+3],16,-722521979),R=se(R,O,A,$,T[V+6],23,76029189),$=se($,R,O,A,T[V+9],4,-640364487),A=se(A,$,R,O,T[V+12],11,-421815835),O=se(O,A,$,R,T[V+15],16,530742520),$=H($,R=se(R,O,A,$,T[V+2],23,-995338651),O,A,T[V+0],6,-198630844),A=H(A,$,R,O,T[V+7],10,1126891415),O=H(O,A,$,R,T[V+14],15,-1416354905),R=H(R,O,A,$,T[V+5],21,-57434055),$=H($,R,O,A,T[V+12],6,1700485571),A=H(A,$,R,O,T[V+3],10,-1894986606),O=H(O,A,$,R,T[V+10],15,-1051523),R=H(R,O,A,$,T[V+1],21,-2054922799),$=H($,R,O,A,T[V+8],6,1873313359),A=H(A,$,R,O,T[V+15],10,-30611744),O=H(O,A,$,R,T[V+6],15,-1560198380),R=H(R,O,A,$,T[V+13],21,1309151649),$=H($,R,O,A,T[V+4],6,-145523070),A=H(A,$,R,O,T[V+11],10,-1120210379),O=H(O,A,$,R,T[V+2],15,718787259),R=H(R,O,A,$,T[V+9],21,-343485551),$=$+k>>>0,R=R+te>>>0,O=O+le>>>0,A=A+ae>>>0}return S.endian([$,R,O,A])})._ff=function(P,x,T,Q,$,R,O){var A=P+(x&T|~x&Q)+($>>>0)+O;return(A<<R|A>>>32-R)+x},U._gg=function(P,x,T,Q,$,R,O){var A=P+(x&Q|T&~Q)+($>>>0)+O;return(A<<R|A>>>32-R)+x},U._hh=function(P,x,T,Q,$,R,O){var A=P+(x^T^Q)+($>>>0)+O;return(A<<R|A>>>32-R)+x},U._ii=function(P,x,T,Q,$,R,O){var A=P+(T^(x|~Q))+($>>>0)+O;return(A<<R|A>>>32-R)+x},U._blocksize=16,U._digestsize=16,ve.exports=function(P,x){if(null==P)throw new Error("Illegal argument "+P);var T=S.wordsToBytes(U(P,x));return x&&x.asBytes?T:x&&x.asString?K.bytesToString(T):S.bytesToHex(T)}},5580:(ve,Ee)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(K,U){return typeof U>"u"?K:function(x){K(x,U)}};var Y=function(){function K(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return K.prototype.addHandler=function(U,P){return this.isHandlerAttached(U,P)||(this._handlers.push(U),this._contexts.push(P),this._createDispatcher(),this._updateHasHandlers()),this},K.prototype.removeHandler=function(U,P){var x=this._getHandlerIndex(U,P);return typeof x<"u"&&(this._handlers.splice(x,1),this._contexts.splice(x,1),this._createDispatcher(),this._updateHasHandlers()),this},K.prototype.isHandlerAttached=function(U,P){return typeof this._getHandlerIndex(U,P)<"u"},K.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},K.prototype._getHandlerIndex=function(U,P){var T,x=this._handlers.length;for(T=0;T<x&&(this._handlers[T]!==U||this._contexts[T]!==P);T++);return T<x?T:void 0},K.prototype._createDispatcher=function(){this.dispatch=function S(K){return C[K]||(C[K]=function d(K){for(var U="return function dispatcher"+K+"(payload) {\n",P=[],x=[],T=0;T<K;T++)P.push("cb"+T),x.push("ctx"+T),U+="    cb"+T+"(payload, ctx"+T+");\n";return U+="};",new(Function.bind.apply(Function,[void 0].concat(P.concat(x),[U])))}(K)),C[K]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},K}();Ee.default=Y},5861:(ve,Ee,C)=>{"use strict";var d=C(5580);Ee.j=d.default},2720:(ve,Ee,C)=>{var S="function"==typeof Map&&Map.prototype,d=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Y=S&&d&&"function"==typeof d.get?d.get:null,K=S&&Map.prototype.forEach,U="function"==typeof Set&&Set.prototype,P=Object.getOwnPropertyDescriptor&&U?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,x=U&&P&&"function"==typeof P.get?P.get:null,T=U&&Set.prototype.forEach,$="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,O="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,V="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,fe=Boolean.prototype.valueOf,be=Object.prototype.toString,se=Function.prototype.toString,H=String.prototype.match,k=String.prototype.slice,te=String.prototype.replace,le=String.prototype.toUpperCase,ae=String.prototype.toLowerCase,Ae=RegExp.prototype.test,Re=Array.prototype.concat,F=Array.prototype.join,N=Array.prototype.slice,ne=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,X=Object.getOwnPropertySymbols,q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,me="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Be="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ht=Object.prototype.propertyIsEnumerable,Tt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(de){return de.__proto__}:null);function Fe(de,we){if(de===1/0||de===-1/0||de!=de||de&&de>-1e3&&de<1e3||Ae.call(/e/,we))return we;var Jt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof de){var Ht=de<0?-ne(-de):ne(de);if(Ht!==de){var vn=String(Ht),Xt=k.call(we,vn.length+1);return te.call(vn,Jt,"$&_")+"."+te.call(te.call(Xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return te.call(we,Jt,"$&_")}var We=C(4654),Pe=We.custom,Ge=Ie(Pe)?Pe:null;function st(de,we,Jt){var Ht="double"===(Jt.quoteStyle||we)?'"':"'";return Ht+de+Ht}function Pt(de){return te.call(String(de),/"/g,"&quot;")}function pe(de){return!("[object Array]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}function at(de){return!("[object RegExp]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}function Ie(de){if(me)return de&&"object"==typeof de&&de instanceof Symbol;if("symbol"==typeof de)return!0;if(!de||"object"!=typeof de||!q)return!1;try{return q.call(de),!0}catch{}return!1}ve.exports=function de(we,Jt,Ht,vn){var Xt=Jt||{};if(Je(Xt,"quoteStyle")&&"single"!==Xt.quoteStyle&&"double"!==Xt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Je(Xt,"maxStringLength")&&("number"==typeof Xt.maxStringLength?Xt.maxStringLength<0&&Xt.maxStringLength!==1/0:null!==Xt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var xr=!Je(Xt,"customInspect")||Xt.customInspect;if("boolean"!=typeof xr&&"symbol"!==xr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Je(Xt,"indent")&&null!==Xt.indent&&"\t"!==Xt.indent&&!(parseInt(Xt.indent,10)===Xt.indent&&Xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Je(Xt,"numericSeparator")&&"boolean"!=typeof Xt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Zn=Xt.numericSeparator;if(typeof we>"u")return"undefined";if(null===we)return"null";if("boolean"==typeof we)return we?"true":"false";if("string"==typeof we)return jr(we,Xt);if("number"==typeof we){if(0===we)return 1/0/we>0?"0":"-0";var Xr=String(we);return Zn?Fe(we,Xr):Xr}if("bigint"==typeof we){var vo=String(we)+"n";return Zn?Fe(we,vo):vo}var In=typeof Xt.depth>"u"?5:Xt.depth;if(typeof Ht>"u"&&(Ht=0),Ht>=In&&In>0&&"object"==typeof we)return pe(we)?"[Array]":"[Object]";var uo=function co(de,we){var Jt;if("\t"===de.indent)Jt="\t";else{if(!("number"==typeof de.indent&&de.indent>0))return null;Jt=F.call(Array(de.indent+1)," ")}return{base:Jt,prev:F.call(Array(we+1),Jt)}}(Xt,Ht);if(typeof vn>"u")vn=[];else if(on(vn,we)>=0)return"[Circular]";function fo(Ko,hi,Si){if(hi&&(vn=N.call(vn)).push(hi),Si){var mi={depth:Xt.depth};return Je(Xt,"quoteStyle")&&(mi.quoteStyle=Xt.quoteStyle),de(Ko,mi,Ht+1,vn)}return de(Ko,Xt,Ht+1,vn)}if("function"==typeof we&&!at(we)){var Ai=function Ut(de){if(de.name)return de.name;var we=H.call(se.call(de),/^function\s*([\w$]+)/);return we?we[1]:null}(we),Lo=Gr(we,fo);return"[Function"+(Ai?": "+Ai:" (anonymous)")+"]"+(Lo.length>0?" { "+F.call(Lo,", ")+" }":"")}if(Ie(we)){var Fn=me?te.call(String(we),/^(Symbol\(.*\))_[^)]*$/,"$1"):q.call(we);return"object"!=typeof we||me?Fn:Fr(Fn)}if(function qo(de){return!(!de||"object"!=typeof de)&&(typeof HTMLElement<"u"&&de instanceof HTMLElement||"string"==typeof de.nodeName&&"function"==typeof de.getAttribute)}(we)){for(var vr="<"+ae.call(String(we.nodeName)),yr=we.attributes||[],xn=0;xn<yr.length;xn++)vr+=" "+yr[xn].name+"="+st(Pt(yr[xn].value),"double",Xt);return vr+=">",we.childNodes&&we.childNodes.length&&(vr+="..."),vr+"</"+ae.call(String(we.nodeName))+">"}if(pe(we)){if(0===we.length)return"[]";var Bn=Gr(we,fo);return uo&&!function To(de){for(var we=0;we<de.length;we++)if(on(de[we],"\n")>=0)return!1;return!0}(Bn)?"["+_o(Bn,uo)+"]":"[ "+F.call(Bn,", ")+" ]"}if(function Ye(de){return!("[object Error]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we)){var Yo=Gr(we,fo);return"cause"in Error.prototype||!("cause"in we)||ht.call(we,"cause")?0===Yo.length?"["+String(we)+"]":"{ ["+String(we)+"] "+F.call(Yo,", ")+" }":"{ ["+String(we)+"] "+F.call(Re.call("[cause]: "+fo(we.cause),Yo),", ")+" }"}if("object"==typeof we&&xr){if(Ge&&"function"==typeof we[Ge]&&We)return We(we,{depth:In-Ht});if("symbol"!==xr&&"function"==typeof we.inspect)return we.inspect()}if(function $t(de){if(!Y||!de||"object"!=typeof de)return!1;try{Y.call(de);try{x.call(de)}catch{return!0}return de instanceof Map}catch{}return!1}(we)){var an=[];return K&&K.call(we,function(Ko,hi){an.push(fo(hi,we,!0)+" => "+fo(Ko,we))}),Xn("Map",Y.call(we),an,uo)}if(function _r(de){if(!x||!de||"object"!=typeof de)return!1;try{x.call(de);try{Y.call(de)}catch{return!0}return de instanceof Set}catch{}return!1}(we)){var si=[];return T&&T.call(we,function(Ko){si.push(fo(Ko,we))}),Xn("Set",x.call(we),si,uo)}if(function sn(de){if(!$||!de||"object"!=typeof de)return!1;try{$.call(de,$);try{O.call(de,O)}catch{return!0}return de instanceof WeakMap}catch{}return!1}(we))return Nr("WeakMap");if(function On(de){if(!O||!de||"object"!=typeof de)return!1;try{O.call(de,O);try{$.call(de,$)}catch{return!0}return de instanceof WeakSet}catch{}return!1}(we))return Nr("WeakSet");if(function Sn(de){if(!V||!de||"object"!=typeof de)return!1;try{return V.call(de),!0}catch{}return!1}(we))return Nr("WeakRef");if(function Gt(de){return!("[object Number]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we))return Fr(fo(Number(we)));if(function _e(de){if(!de||"object"!=typeof de||!I)return!1;try{return I.call(de),!0}catch{}return!1}(we))return Fr(fo(I.call(we)));if(function At(de){return!("[object Boolean]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we))return Fr(fe.call(we));if(function Ot(de){return!("[object String]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we))return Fr(fo(String(we)));if(typeof window<"u"&&we===window)return"{ [object Window] }";if(we===global)return"{ [object globalThis] }";if(!function He(de){return!("[object Date]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we)&&!at(we)){var ki=Gr(we,fo),ai=Tt?Tt(we)===Object.prototype:we instanceof Object||we.constructor===Object,Ci=we instanceof Object?"":"null prototype",oe=!ai&&Be&&Object(we)===we&&Be in we?k.call(ot(we),8,-1):Ci?"Object":"",Ri=(ai||"function"!=typeof we.constructor?"":we.constructor.name?we.constructor.name+" ":"")+(oe||Ci?"["+F.call(Re.call([],oe||[],Ci||[]),": ")+"] ":"");return 0===ki.length?Ri+"{}":uo?Ri+"{"+_o(ki,uo)+"}":Ri+"{ "+F.call(ki,", ")+" }"}return String(we)};var xe=Object.prototype.hasOwnProperty||function(de){return de in this};function Je(de,we){return xe.call(de,we)}function ot(de){return be.call(de)}function on(de,we){if(de.indexOf)return de.indexOf(we);for(var Jt=0,Ht=de.length;Jt<Ht;Jt++)if(de[Jt]===we)return Jt;return-1}function jr(de,we){if(de.length>we.maxStringLength){var Jt=de.length-we.maxStringLength,Ht="... "+Jt+" more character"+(Jt>1?"s":"");return jr(k.call(de,0,we.maxStringLength),we)+Ht}return st(te.call(te.call(de,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,go),"single",we)}function go(de){var we=de.charCodeAt(0),Jt={8:"b",9:"t",10:"n",12:"f",13:"r"}[we];return Jt?"\\"+Jt:"\\x"+(we<16?"0":"")+le.call(we.toString(16))}function Fr(de){return"Object("+de+")"}function Nr(de){return de+" { ? }"}function Xn(de,we,Jt,Ht){return de+" ("+we+") {"+(Ht?_o(Jt,Ht):F.call(Jt,", "))+"}"}function _o(de,we){if(0===de.length)return"";var Jt="\n"+we.prev+we.base;return Jt+F.call(de,","+Jt)+"\n"+we.prev}function Gr(de,we){var Jt=pe(de),Ht=[];if(Jt){Ht.length=de.length;for(var vn=0;vn<de.length;vn++)Ht[vn]=Je(de,vn)?we(de[vn],de):""}var xr,Xt="function"==typeof X?X(de):[];if(me){xr={};for(var Zn=0;Zn<Xt.length;Zn++)xr["$"+Xt[Zn]]=Xt[Zn]}for(var Xr in de)Je(de,Xr)&&(Jt&&String(Number(Xr))===Xr&&Xr<de.length||me&&xr["$"+Xr]instanceof Symbol||(Ae.call(/[^\w$]/,Xr)?Ht.push(we(Xr,de)+": "+we(de[Xr],de)):Ht.push(Xr+": "+we(de[Xr],de))));if("function"==typeof X)for(var vo=0;vo<Xt.length;vo++)ht.call(de,Xt[vo])&&Ht.push("["+we(Xt[vo])+"]: "+we(de[Xt[vo]],de));return Ht}},5376:ve=>{"use strict";var Ee=function(C){return C!=C};ve.exports=function(S,d){return 0===S&&0===d?1/S==1/d:!!(S===d||Ee(S)&&Ee(d))}},500:(ve,Ee,C)=>{"use strict";var S=C(9567),d=C(1773),Y=C(5376),K=C(8204),U=C(2688),P=d(K(),Object);S(P,{getPolyfill:K,implementation:Y,shim:U}),ve.exports=P},8204:(ve,Ee,C)=>{"use strict";var S=C(5376);ve.exports=function(){return"function"==typeof Object.is?Object.is:S}},2688:(ve,Ee,C)=>{"use strict";var S=C(8204),d=C(9567);ve.exports=function(){var K=S();return d(Object,{is:K},{is:function(){return Object.is!==K}}),K}},1601:(ve,Ee,C)=>{"use strict";var S;if(!Object.keys){var d=Object.prototype.hasOwnProperty,Y=Object.prototype.toString,K=C(6755),U=Object.prototype.propertyIsEnumerable,P=!U.call({toString:null},"toString"),x=U.call(function(){},"prototype"),T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Q=function(A){var V=A.constructor;return V&&V.prototype===A},$={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},R=function(){if(typeof window>"u")return!1;for(var A in window)try{if(!$["$"+A]&&d.call(window,A)&&null!==window[A]&&"object"==typeof window[A])try{Q(window[A])}catch{return!0}}catch{return!0}return!1}();S=function(V){var fe=null!==V&&"object"==typeof V,be="[object Function]"===Y.call(V),se=K(V),H=fe&&"[object String]"===Y.call(V),k=[];if(!fe&&!be&&!se)throw new TypeError("Object.keys called on a non-object");var te=x&&be;if(H&&V.length>0&&!d.call(V,0))for(var le=0;le<V.length;++le)k.push(String(le));if(se&&V.length>0)for(var ae=0;ae<V.length;++ae)k.push(String(ae));else for(var Ae in V)(!te||"prototype"!==Ae)&&d.call(V,Ae)&&k.push(String(Ae));if(P)for(var Re=function(A){if(typeof window>"u"||!R)return Q(A);try{return Q(A)}catch{return!1}}(V),F=0;F<T.length;++F)(!Re||"constructor"!==T[F])&&d.call(V,T[F])&&k.push(T[F]);return k}}ve.exports=S},5692:(ve,Ee,C)=>{"use strict";var S=Array.prototype.slice,d=C(6755),Y=Object.keys,K=Y?function(x){return Y(x)}:C(1601),U=Object.keys;K.shim=function(){if(Object.keys){var x=function(){var T=Object.keys(arguments);return T&&T.length===arguments.length}(1,2);x||(Object.keys=function(Q){return d(Q)?U(S.call(Q)):U(Q)})}else Object.keys=K;return Object.keys||K},ve.exports=K},6755:ve=>{"use strict";var Ee=Object.prototype.toString;ve.exports=function(S){var d=Ee.call(S),Y="[object Arguments]"===d;return Y||(Y="[object Array]"!==d&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===Ee.call(S.callee)),Y}},8032:(ve,Ee,C)=>{"use strict";var S=C(5692),d=C(2759)(),Y=C(1491),K=Object,U=Y("Array.prototype.push"),P=Y("Object.prototype.propertyIsEnumerable"),x=d?Object.getOwnPropertySymbols:null;ve.exports=function(Q,$){if(null==Q)throw new TypeError("target must be an object");var R=K(Q);if(1===arguments.length)return R;for(var O=1;O<arguments.length;++O){var A=K(arguments[O]),V=S(A),fe=d&&(Object.getOwnPropertySymbols||x);if(fe)for(var be=fe(A),se=0;se<be.length;++se){var H=be[se];P(A,H)&&U(V,H)}for(var k=0;k<V.length;++k){var te=V[k];P(A,te)&&(R[te]=A[te])}}return R}},5747:(ve,Ee,C)=>{"use strict";var S=C(9567),d=C(1773),Y=C(8032),K=C(9530),U=C(4096),P=d.apply(K()),x=function(Q,$){return P(Object,arguments)};S(x,{getPolyfill:K,implementation:Y,shim:U}),ve.exports=x},9530:(ve,Ee,C)=>{"use strict";var S=C(8032);ve.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var K="abcdefghijklmnopqrst",U=K.split(""),P={},x=0;x<U.length;++x)P[U[x]]=U[x];var T=Object.assign({},P),Q="";for(var $ in T)Q+=$;return K!==Q}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var K=Object.preventExtensions({1:2});try{Object.assign(K,"xy")}catch{return"y"===K[1]}return!1}()?S:Object.assign}},4096:(ve,Ee,C)=>{"use strict";var S=C(9567),d=C(9530);ve.exports=function(){var K=d();return S(Object,{assign:K},{assign:function(){return Object.assign!==K}}),K}},6716:(ve,Ee)=>{"use strict";var C=Object.prototype.hasOwnProperty;function d(P){try{return decodeURIComponent(P.replace(/\+/g," "))}catch{return null}}function Y(P){try{return encodeURIComponent(P)}catch{return null}}Ee.stringify=function U(P,x){x=x||"";var Q,$,T=[];for($ in"string"!=typeof x&&(x="?"),P)if(C.call(P,$)){if(!(Q=P[$])&&(null==Q||isNaN(Q))&&(Q=""),$=Y($),Q=Y(Q),null===$||null===Q)continue;T.push($+"="+Q)}return T.length?x+T.join("&"):""},Ee.parse=function K(P){for(var Q,x=/([^=?#&]+)=?([^&]*)/g,T={};Q=x.exec(P);){var $=d(Q[1]),R=d(Q[2]);null===$||null===R||$ in T||(T[$]=R)}return T}},7732:(ve,Ee,C)=>{"use strict";var S=C(2562),d=Object,Y=TypeError;ve.exports=S(function(){if(null!=this&&this!==d(this))throw new Y("RegExp.prototype.flags getter called on non-object");var U="";return this.hasIndices&&(U+="d"),this.global&&(U+="g"),this.ignoreCase&&(U+="i"),this.multiline&&(U+="m"),this.dotAll&&(U+="s"),this.unicode&&(U+="u"),this.unicodeSets&&(U+="v"),this.sticky&&(U+="y"),U},"get flags",!0)},4300:(ve,Ee,C)=>{"use strict";var S=C(9567),d=C(1773),Y=C(7732),K=C(5848),U=C(6472),P=d(K());S(P,{getPolyfill:K,implementation:Y,shim:U}),ve.exports=P},5848:(ve,Ee,C)=>{"use strict";var S=C(7732),d=C(9567).supportsDescriptors,Y=Object.getOwnPropertyDescriptor;ve.exports=function(){if(d&&"gim"===/a/gim.flags){var U=Y(RegExp.prototype,"flags");if(U&&"function"==typeof U.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var P="",x={};if(Object.defineProperty(x,"hasIndices",{get:function(){P+="d"}}),Object.defineProperty(x,"sticky",{get:function(){P+="y"}}),"dy"===P)return U.get}}return S}},6472:(ve,Ee,C)=>{"use strict";var S=C(9567).supportsDescriptors,d=C(5848),Y=Object.getOwnPropertyDescriptor,K=Object.defineProperty,U=TypeError,P=Object.getPrototypeOf,x=/a/;ve.exports=function(){if(!S||!P)throw new U("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Q=d(),$=P(x),R=Y($,"flags");return(!R||R.get!==Q)&&K($,"flags",{configurable:!0,enumerable:!1,get:Q}),Q}},716:ve=>{"use strict";ve.exports=function(C,S){if(S=S.split(":")[0],!(C=+C))return!1;switch(S){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(ve,Ee,C)=>{"use strict";var S=C(3485),d=C(4467),Y=C(7811)(),K=C(6078),U=S("%TypeError%"),P=S("%Math.floor%");ve.exports=function(T,Q){if("function"!=typeof T)throw new U("`fn` is not a function");if("number"!=typeof Q||Q<0||Q>4294967295||P(Q)!==Q)throw new U("`length` must be a positive 32-bit integer");var $=arguments.length>2&&!!arguments[2],R=!0,O=!0;if("length"in T&&K){var A=K(T,"length");A&&!A.configurable&&(R=!1),A&&!A.writable&&(O=!1)}return(R||O||!$)&&(Y?d(T,"length",Q,!0,!0):d(T,"length",Q)),T}},2562:(ve,Ee,C)=>{"use strict";var S=C(4467),d=C(7811)(),Y=C(7688).functionsHaveConfigurableNames(),K=TypeError;ve.exports=function(P,x){if("function"!=typeof P)throw new K("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||Y)&&(d?S(P,"name",x,!0,!0):S(P,"name",x)),P}},4355:(ve,Ee,C)=>{"use strict";var S=C(3485),d=C(1491),Y=C(2720),K=S("%TypeError%"),U=S("%WeakMap%",!0),P=S("%Map%",!0),x=d("WeakMap.prototype.get",!0),T=d("WeakMap.prototype.set",!0),Q=d("WeakMap.prototype.has",!0),$=d("Map.prototype.get",!0),R=d("Map.prototype.set",!0),O=d("Map.prototype.has",!0),A=function(se,H){for(var te,k=se;null!==(te=k.next);k=te)if(te.key===H)return k.next=te.next,te.next=se.next,se.next=te,te};ve.exports=function(){var H,k,te,le={assert:function(ae){if(!le.has(ae))throw new K("Side channel does not contain "+Y(ae))},get:function(ae){if(U&&ae&&("object"==typeof ae||"function"==typeof ae)){if(H)return x(H,ae)}else if(P){if(k)return $(k,ae)}else if(te)return function(se,H){var k=A(se,H);return k&&k.value}(te,ae)},has:function(ae){if(U&&ae&&("object"==typeof ae||"function"==typeof ae)){if(H)return Q(H,ae)}else if(P){if(k)return O(k,ae)}else if(te)return function(se,H){return!!A(se,H)}(te,ae);return!1},set:function(ae,Ae){U&&ae&&("object"==typeof ae||"function"==typeof ae)?(H||(H=new U),T(H,ae,Ae)):P?(k||(k=new P),R(k,ae,Ae)):(te||(te={key:{},next:null}),function(se,H,k){var te=A(se,H);te?te.value=k:se.next={key:H,next:se.next,value:k}}(te,ae,Ae))}};return le}},118:(ve,Ee,C)=>{"use strict";var S=C(2605),d=SyntaxError,Y="object"==typeof StopIteration?StopIteration:null;ve.exports=function(U){if(!Y)throw new d("this environment lacks StopIteration");S.set(U,"[[Done]]",!1);var P={next:function(){var T=S.get(this,"[[Iterator]]"),Q=S.get(T,"[[Done]]");try{return{done:Q,value:Q?void 0:T.next()}}catch($){if(S.set(T,"[[Done]]",!0),$!==Y)throw $;return{done:!0,value:void 0}}}};return S.set(P,"[[Iterator]]",U),P}},6299:(ve,Ee,C)=>{"use strict";var S=C(716),d=C(6716),Y=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,K=/[\n\r\t]/g,U=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,P=/:\d+$/,x=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,T=/^[a-zA-Z]:/;function Q(k){return(k||"").toString().replace(Y,"")}var $=[["#","hash"],["?","query"],function(te,le){return A(le.protocol)?te.replace(/\\/g,"/"):te},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],R={hash:1,query:1};function O(k){var te;te=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Re,ae={},Ae=typeof(k=k||te.location||{});if("blob:"===k.protocol)ae=new be(unescape(k.pathname),{});else if("string"===Ae)for(Re in ae=new be(k,{}),R)delete ae[Re];else if("object"===Ae){for(Re in k)Re in R||(ae[Re]=k[Re]);void 0===ae.slashes&&(ae.slashes=U.test(k.href))}return ae}function A(k){return"file:"===k||"ftp:"===k||"http:"===k||"https:"===k||"ws:"===k||"wss:"===k}function V(k,te){k=(k=Q(k)).replace(K,""),te=te||{};var N,le=x.exec(k),ae=le[1]?le[1].toLowerCase():"",Ae=!!le[2],Re=!!le[3],F=0;return Ae?Re?(N=le[2]+le[3]+le[4],F=le[2].length+le[3].length):(N=le[2]+le[4],F=le[2].length):Re?(N=le[3]+le[4],F=le[3].length):N=le[4],"file:"===ae?F>=2&&(N=N.slice(2)):A(ae)?N=le[4]:ae?Ae&&(N=N.slice(2)):F>=2&&A(te.protocol)&&(N=le[4]),{protocol:ae,slashes:Ae||A(ae),slashesCount:F,rest:N}}function be(k,te,le){if(k=(k=Q(k)).replace(K,""),!(this instanceof be))return new be(k,te,le);var ae,Ae,Re,F,N,ne,I=$.slice(),X=typeof te,q=this,me=0;for("object"!==X&&"string"!==X&&(le=te,te=null),le&&"function"!=typeof le&&(le=d.parse),ae=!(Ae=V(k||"",te=O(te))).protocol&&!Ae.slashes,q.slashes=Ae.slashes||ae&&te.slashes,q.protocol=Ae.protocol||te.protocol||"",k=Ae.rest,("file:"===Ae.protocol&&(2!==Ae.slashesCount||T.test(k))||!Ae.slashes&&(Ae.protocol||Ae.slashesCount<2||!A(q.protocol)))&&(I[3]=[/(.*)/,"pathname"]);me<I.length;me++)"function"!=typeof(F=I[me])?(ne=F[1],(Re=F[0])!=Re?q[ne]=k:"string"==typeof Re?~(N="@"===Re?k.lastIndexOf(Re):k.indexOf(Re))&&("number"==typeof F[2]?(q[ne]=k.slice(0,N),k=k.slice(N+F[2])):(q[ne]=k.slice(N),k=k.slice(0,N))):(N=Re.exec(k))&&(q[ne]=N[1],k=k.slice(0,N.index)),q[ne]=q[ne]||ae&&F[3]&&te[ne]||"",F[4]&&(q[ne]=q[ne].toLowerCase())):k=F(k,q);le&&(q.query=le(q.query)),ae&&te.slashes&&"/"!==q.pathname.charAt(0)&&(""!==q.pathname||""!==te.pathname)&&(q.pathname=function fe(k,te){if(""===k)return te;for(var le=(te||"/").split("/").slice(0,-1).concat(k.split("/")),ae=le.length,Ae=le[ae-1],Re=!1,F=0;ae--;)"."===le[ae]?le.splice(ae,1):".."===le[ae]?(le.splice(ae,1),F++):F&&(0===ae&&(Re=!0),le.splice(ae,1),F--);return Re&&le.unshift(""),("."===Ae||".."===Ae)&&le.push(""),le.join("/")}(q.pathname,te.pathname)),"/"!==q.pathname.charAt(0)&&A(q.protocol)&&(q.pathname="/"+q.pathname),S(q.port,q.protocol)||(q.host=q.hostname,q.port=""),q.username=q.password="",q.auth&&(~(N=q.auth.indexOf(":"))?(q.username=q.auth.slice(0,N),q.username=encodeURIComponent(decodeURIComponent(q.username)),q.password=q.auth.slice(N+1),q.password=encodeURIComponent(decodeURIComponent(q.password))):q.username=encodeURIComponent(decodeURIComponent(q.auth)),q.auth=q.password?q.username+":"+q.password:q.username),q.origin="file:"!==q.protocol&&A(q.protocol)&&q.host?q.protocol+"//"+q.host:"null",q.href=q.toString()}be.prototype={set:function se(k,te,le){var ae=this;switch(k){case"query":"string"==typeof te&&te.length&&(te=(le||d.parse)(te)),ae[k]=te;break;case"port":ae[k]=te,S(te,ae.protocol)?te&&(ae.host=ae.hostname+":"+te):(ae.host=ae.hostname,ae[k]="");break;case"hostname":ae[k]=te,ae.port&&(te+=":"+ae.port),ae.host=te;break;case"host":ae[k]=te,P.test(te)?(te=te.split(":"),ae.port=te.pop(),ae.hostname=te.join(":")):(ae.hostname=te,ae.port="");break;case"protocol":ae.protocol=te.toLowerCase(),ae.slashes=!le;break;case"pathname":case"hash":if(te){var Ae="pathname"===k?"/":"#";ae[k]=te.charAt(0)!==Ae?Ae+te:te}else ae[k]=te;break;case"username":case"password":ae[k]=encodeURIComponent(te);break;case"auth":var Re=te.indexOf(":");~Re?(ae.username=te.slice(0,Re),ae.username=encodeURIComponent(decodeURIComponent(ae.username)),ae.password=te.slice(Re+1),ae.password=encodeURIComponent(decodeURIComponent(ae.password))):ae.username=encodeURIComponent(decodeURIComponent(te))}for(var F=0;F<$.length;F++){var N=$[F];N[4]&&(ae[N[1]]=ae[N[1]].toLowerCase())}return ae.auth=ae.password?ae.username+":"+ae.password:ae.username,ae.origin="file:"!==ae.protocol&&A(ae.protocol)&&ae.host?ae.protocol+"//"+ae.host:"null",ae.href=ae.toString(),ae},toString:function H(k){(!k||"function"!=typeof k)&&(k=d.stringify);var te,le=this,ae=le.host,Ae=le.protocol;Ae&&":"!==Ae.charAt(Ae.length-1)&&(Ae+=":");var Re=Ae+(le.protocol&&le.slashes||A(le.protocol)?"//":"");return le.username?(Re+=le.username,le.password&&(Re+=":"+le.password),Re+="@"):le.password?(Re+=":"+le.password,Re+="@"):"file:"!==le.protocol&&A(le.protocol)&&!ae&&"/"!==le.pathname&&(Re+="@"),(":"===ae[ae.length-1]||P.test(le.hostname)&&!le.port)&&(ae+=":"),Re+=ae+le.pathname,(te="object"==typeof le.query?k(le.query):le.query)&&(Re+="?"!==te.charAt(0)?"?"+te:te),le.hash&&(Re+=le.hash),Re}},be.extractProtocol=V,be.location=O,be.trimLeft=Q,be.qs=d,ve.exports=be},8460:(ve,Ee,C)=>{"use strict";var S=C(2706),d=C(9065),Y=C(2856),K=C(2630),U=C(7050);ve.exports=function(x){return null==x||"object"!=typeof x&&"function"!=typeof x?null:S(x)?"String":d(x)?"Number":Y(x)?"Boolean":K(x)?"Symbol":U(x)?"BigInt":void 0}},927:(ve,Ee,C)=>{"use strict";var S=C(2418),d=C(1001),Y=C(1773),K=C(1491),U=C(6078),P=K("Object.prototype.toString"),x=C(6518)(),T=typeof globalThis>"u"?global:globalThis,Q=d(),$=K("String.prototype.slice"),R=Object.getPrototypeOf,O=K("Array.prototype.indexOf",!0)||function(se,H){for(var k=0;k<se.length;k+=1)if(se[k]===H)return k;return-1},A={__proto__:null};S(Q,x&&U&&R?function(be){var se=new T[be];if(Symbol.toStringTag in se){var H=R(se),k=U(H,Symbol.toStringTag);if(!k){var te=R(H);k=U(te,Symbol.toStringTag)}A["$"+be]=Y(k.get)}}:function(be){var se=new T[be],H=se.slice||se.set;H&&(A["$"+be]=Y(H))}),ve.exports=function(se){if(!se||"object"!=typeof se)return!1;if(!x){var H=$(P(se),8,-1);return O(Q,H)>-1?H:"Object"===H&&function(se){var H=!1;return S(A,function(k,te){if(!H)try{k(se),H=$(te,1)}catch{}}),H}(se)}return U?function(se){var H=!1;return S(A,function(k,te){if(!H)try{"$"+k(se)===te&&(H=$(te,1))}catch{}}),H}(se):null}},863:(ve,Ee,C)=>{var S={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function d(Y){if(!C.o(S,Y))return Promise.resolve().then(()=>{var P=new Error("Cannot find module '"+Y+"'");throw P.code="MODULE_NOT_FOUND",P});var K=S[Y],U=K[0];return Promise.all(K.slice(1).map(C.e)).then(()=>C(U))}d.keys=()=>Object.keys(S),d.id=863,ve.exports=d},4654:()=>{},1001:ve=>{"use strict";var Ee=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;ve.exports=function(){for(var d=[],Y=0;Y<Ee.length;Y++)"function"==typeof C[Ee[Y]]&&(d[d.length]=Ee[Y]);return d}},1324:(ve,Ee,C)=>{"use strict";var S=C(1568),d=C(118);if(C(2337)()||C(2759)()){var Y=Symbol.iterator;ve.exports=function(N){return null!=N&&typeof N[Y]<"u"?N[Y]():S(N)?Array.prototype[Y].call(N):void 0}}else{var K=C(9604),U=C(2706),P=C(3485),x=P("%Map%",!0),T=P("%Set%",!0),Q=C(1491),$=Q("Array.prototype.push"),R=Q("String.prototype.charCodeAt"),O=Q("String.prototype.slice"),V=function(N){var ne=0;return{next:function(){var q,X=ne>=N.length;return X||(q=N[ne],ne+=1),{done:X,value:q}}}},fe=function(N,ne){if(K(N)||S(N))return V(N);if(U(N)){var I=0;return{next:function(){var q=function(N,ne){if(ne+1>=N.length)return ne+1;var X=R(N,ne);if(X<55296||X>56319)return ne+1;var q=R(N,ne+1);return q<56320||q>57343?ne+1:ne+2}(N,I),me=O(N,I,q);return I=q,{done:q>N.length,value:me}}}}return ne&&typeof N["_es6-shim iterator_"]<"u"?N["_es6-shim iterator_"]():void 0};if(x||T){var be=C(6128),se=C(5918),H=Q("Map.prototype.forEach",!0),k=Q("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var te=Q("Map.prototype.iterator",!0),le=Q("Set.prototype.iterator",!0);var ae=Q("Map.prototype.@@iterator",!0)||Q("Map.prototype._es6-shim iterator_",!0),Ae=Q("Set.prototype.@@iterator",!0)||Q("Set.prototype._es6-shim iterator_",!0);ve.exports=function(N){return function(N){if(be(N)){if(te)return d(te(N));if(ae)return ae(N);if(H){var ne=[];return H(N,function(X,q){$(ne,[q,X])}),V(ne)}}if(se(N)){if(le)return d(le(N));if(Ae)return Ae(N);if(k){var I=[];return k(N,function(X){$(I,X)}),V(I)}}}(N)||fe(N)}}else ve.exports=function(N){if(null!=N)return fe(N,!0)}}},9148:(ve,Ee,C)=>{"use strict";var S=C(6128),d=C(5918),Y=C(1545),K=C(9043);ve.exports=function(P){if(P&&"object"==typeof P){if(S(P))return"Map";if(d(P))return"Set";if(Y(P))return"WeakMap";if(K(P))return"WeakSet"}return!1}},3918:(ve,Ee,C)=>{"use strict";function S(Y,K,U,P,x,T,Q){try{var $=Y[T](Q),R=$.value}catch(O){return void U(O)}$.done?K(R):Promise.resolve(R).then(P,x)}function d(Y){return function(){var K=this,U=arguments;return new Promise(function(P,x){var T=Y.apply(K,U);function Q(R){S(T,P,x,Q,$,"next",R)}function $(R){S(T,P,x,Q,$,"throw",R)}Q(void 0)})}}C.d(Ee,{Z:()=>d})}},ve=>{ve(ve.s=8448)}]);
//# sourceMappingURL=main.87794c2cf92929e0.js.map