(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{9062:(Se,Me,D)=>{"use strict";function _(t){return"function"==typeof t}function d(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const G=d(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function U(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class R{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(_(r))try{r()}catch(i){n=i instanceof G?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{P(i)}catch(s){n=n??[],s instanceof G?n=[...n,...s.errors]:n.push(s)}}if(n)throw new G(n)}}add(n){var e;if(n&&n!==this)if(this.closed)P(n);else{if(n instanceof R){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&U(e,n)}remove(n){const{_finalizers:e}=this;e&&U(e,n),n instanceof R&&n._removeParent(this)}}R.EMPTY=(()=>{const t=new R;return t.closed=!0,t})();const $=R.EMPTY;function A(t){return t instanceof R||t&&"closed"in t&&_(t.remove)&&_(t.add)&&_(t.unsubscribe)}function P(t){_(t)?t():t.unsubscribe()}const te={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},N={setTimeout(t,n,...e){const{delegate:r}=N;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=N;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function j(t){N.setTimeout(()=>{const{onUnhandledError:n}=te;if(!n)throw t;n(t)})}function T(){}const E=V("C",void 0,void 0);function V(t,n,e){return{kind:t,value:n,error:e}}let ee=null;function ie(t){if(te.useDeprecatedSynchronousErrorHandling){const n=!ee;if(n&&(ee={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=ee;if(ee=null,e)throw r}}else t()}class Q extends R{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,A(n)&&n.add(this)):this.destination=Ee}static create(n,e,r){return new ne(n,e,r)}next(n){this.isStopped?xe(function me(t){return V("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?xe(function M(t){return V("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?xe(E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ve=Function.prototype.bind;function Y(t,n){return ve.call(t,n)}class Pe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){ae(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){ae(r)}else ae(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){ae(e)}}}class ne extends Q{constructor(n,e,r){let o;if(super(),_(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&te.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Y(n.next,i),error:n.error&&Y(n.error,i),complete:n.complete&&Y(n.complete,i)}):o=n}this.destination=new Pe(o)}}function ae(t){te.useDeprecatedSynchronousErrorHandling?function Z(t){te.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=t)}(t):j(t)}function xe(t,n){const{onStoppedNotification:e}=te;e&&N.setTimeout(()=>e(t,n))}const Ee={closed:!0,next:T,error:function de(t){throw t},complete:T},pe="function"==typeof Symbol&&Symbol.observable||"@@observable";function B(t){return t}let qe=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function W(t){return t&&t instanceof Q||function Ie(t){return t&&_(t.next)&&_(t.error)&&_(t.complete)}(t)&&A(t)}(e)?e:new ne(e,r,o);return ie(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=st(r))((o,i)=>{const s=new ne({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[pe](){return this}pipe(...e){return function $e(t){return 0===t.length?B:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}(e)(this)}toPromise(e){return new(e=st(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function st(t){var n;return null!==(n=t??te.Promise)&&void 0!==n?n:Promise}const L=d(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let k=(()=>{class t extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new K(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new L}next(e){ie(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){ie(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){ie(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?$:(this.currentObservers=null,i.push(e),new R(()=>{this.currentObservers=null,U(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new qe;return e.source=this,e}}return t.create=(n,e)=>new K(n,e),t})();class K extends k{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:$}}function fe(t){return _(t?.lift)}function be(t){return n=>{if(fe(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fe(t,n,e,r,o){return new Oe(t,n,e,r,o)}class Oe extends Q{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ne(t,n){return be((e,r)=>{let o=0;e.subscribe(Fe(r,i=>{r.next(t.call(n,i,o++))}))})}function X(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function Cn(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(p){try{u(r.next(p))}catch(h){s(h)}}function c(p){try{u(r.throw(p))}catch(h){s(h)}}function u(p){p.done?i(p.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(p.value).then(a,c)}u((r=r.apply(t,n||[])).next())})}function lr(t){return this instanceof lr?(this.v=t,this):new lr(t)}function Xr(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(y){r[y]&&(o[y]=function(S){return new Promise(function(F,ge){i.push([y,S,F,ge])>1||a(y,S)})})}function a(y,S){try{!function c(y){y.value instanceof lr?Promise.resolve(y.value.v).then(u,p):h(i[0][2],y)}(r[y](S))}catch(F){h(i[0][3],F)}}function u(y){a("next",y)}function p(y){a("throw",y)}function h(y,S){y(S),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Vr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function ar(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}const Yt=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function en(t){return _(t?.then)}function pn(t){return _(t[pe])}function Ot(t){return Symbol.asyncIterator&&_(t?.[Symbol.asyncIterator])}function vr(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Qn=function Ft(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $n(t){return _(t?.[Qn])}function dr(t){return Xr(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield lr(e.read());if(o)return yield lr(void 0);yield yield lr(r)}}finally{e.releaseLock()}})}function xn(t){return _(t?.getReader)}function on(t){if(t instanceof qe)return t;if(null!=t){if(pn(t))return function yt(t){return new qe(n=>{const e=t[pe]();if(_(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Yt(t))return function Vn(t){return new qe(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(en(t))return function v(t){return new qe(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,j)})}(t);if(Ot(t))return Zo(t);if($n(t))return function fr(t){return new qe(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(xn(t))return function wo(t){return Zo(dr(t))}(t)}throw vr(t)}function Zo(t){return new qe(n=>{(function Lo(t,n){var e,r,o,i;return Cn(this,void 0,void 0,function*(){try{for(e=Vr(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function _r(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function In(t,n,e=1/0){return _(n)?In((r,o)=>Ne((i,s)=>n(r,i,o,s))(on(t(r,o))),e):("number"==typeof n&&(e=n),be((r,o)=>function Do(t,n,e,r,o,i,s,a){const c=[];let u=0,p=0,h=!1;const y=()=>{h&&!c.length&&!u&&n.complete()},S=ge=>u<r?F(ge):c.push(ge),F=ge=>{i&&n.next(ge),u++;let ke=!1;on(e(ge,p++)).subscribe(Fe(n,we=>{o?.(we),i?S(we):n.next(we)},()=>{ke=!0},void 0,()=>{if(ke)try{for(u--;c.length&&u<r;){const we=c.shift();s?_r(n,s,()=>F(we)):F(we)}y()}catch(we){n.error(we)}}))};return t.subscribe(Fe(n,S,()=>{h=!0,y()})),()=>{a?.()}}(r,o,t,e)))}function Hr(t=1/0){return In(B,t)}const br=new qe(t=>t.complete());function gi(t){return t&&_(t.schedule)}function $o(t){return t[t.length-1]}function fo(t){return _($o(t))?t.pop():void 0}function Gn(t){return gi($o(t))?t.pop():void 0}function Cr(t,n=0){return be((e,r)=>{e.subscribe(Fe(r,o=>_r(r,t,()=>r.next(o),n),()=>_r(r,t,()=>r.complete(),n),o=>_r(r,t,()=>r.error(o),n)))})}function ss(t,n=0){return be((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function js(t,n){if(!t)throw new Error("Iterable cannot be null");return new qe(e=>{_r(e,n,()=>{const r=t[Symbol.asyncIterator]();_r(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function yn(t,n){return n?function Us(t,n){if(null!=t){if(pn(t))return function yi(t,n){return on(t).pipe(ss(n),Cr(n))}(t,n);if(Yt(t))return function Eo(t,n){return new qe(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(en(t))return function as(t,n){return on(t).pipe(ss(n),Cr(n))}(t,n);if(Ot(t))return js(t,n);if($n(t))return function Sr(t,n){return new qe(e=>{let r;return _r(e,n,()=>{r=t[Qn](),_r(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>_(r?.return)&&r.return()})}(t,n);if(xn(t))return function Yo(t,n){return js(dr(t),n)}(t,n)}throw vr(t)}(t,n):on(t)}function vi(...t){const n=Gn(t),e=function Ko(t,n){return"number"==typeof $o(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?on(r[0]):Hr(e)(yn(r,n)):br}function ls(t={}){const{connector:n=(()=>new k),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,u=0,p=!1,h=!1;const y=()=>{a?.unsubscribe(),a=void 0},S=()=>{y(),s=c=void 0,p=h=!1},F=()=>{const ge=s;S(),ge?.unsubscribe()};return be((ge,ke)=>{u++,!h&&!p&&y();const we=c=c??n();ke.add(()=>{u--,0===u&&!h&&!p&&(a=Xo(F,o))}),we.subscribe(ke),!s&&u>0&&(s=new ne({next:Ue=>we.next(Ue),error:Ue=>{h=!0,y(),a=Xo(S,e,Ue),we.error(Ue)},complete:()=>{p=!0,y(),a=Xo(S,r),we.complete()}}),on(ge).subscribe(s))})(i)}}function Xo(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new ne({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function un(t){for(let n in t)if(t[n]===un)return n;throw Error("Could not find renamed property on target object.")}function Qo(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function hn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(hn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Ni(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const Gs=un({__forward_ref__:un});function b(t){return t.__forward_ref__=b,t.toString=function(){return hn(this())},t}function I(t){return q(t)?t():t}function q(t){return"function"==typeof t&&t.hasOwnProperty(Gs)&&t.__forward_ref__===b}class w extends Error{constructor(n,e){super(function O(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function H(t){return"string"==typeof t?t:null==t?"":String(t)}function _t(t,n){throw new w(-201,!1)}function Pr(t,n){null==t&&function gn(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function Ze(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function sl(t){return Dc(t,Da)||Dc(t,Ic)}function Dc(t,n){return t.hasOwnProperty(n)?t[n]:null}function Ec(t){return t&&(t.hasOwnProperty(al)||t.hasOwnProperty(bd))?t[al]:null}const Da=un({\u0275prov:un}),al=un({\u0275inj:un}),Ic=un({ngInjectableDef:un}),bd=un({ngInjectorDef:un});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let ll;function Bo(t){const n=ll;return ll=t,n}function Tc(t,n,e){const r=sl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Et.Optional?null:void 0!==n?n:void _t(hn(t))}function _i(t){return{toString:t}.toString()}var To=(()=>((To=To||{})[To.OnPush=0]="OnPush",To[To.Default=1]="Default",To))(),Vo=(()=>{return(t=Vo||(Vo={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Vo;var t})();const vn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),cs={},dn=[],Ea=un({\u0275cmp:un}),cl=un({\u0275dir:un}),ul=un({\u0275pipe:un}),Mc=un({\u0275mod:un}),Jo=un({\u0275fac:un}),Ws=un({__NG_ELEMENT_ID__:un});let Sd=0;function je(t){return _i(()=>{const e=!0===t.standalone,r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===To.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||dn,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Vo.Emulated,id:"c"+Sd++,styles:t.styles||dn,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.dependencies,s=t.features;return o.inputs=kc(t.inputs,r),o.outputs=kc(t.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(xc).filter(Ac):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Or).filter(Ac):null,o})}function xc(t){return Sn(t)||Rr(t)}function Ac(t){return null!==t}const Dd={};function An(t){return _i(()=>{const n={type:t.type,bootstrap:t.bootstrap||dn,declarations:t.declarations||dn,imports:t.imports||dn,exports:t.exports||dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Dd[t.id]=t.type),n})}function kc(t,n){if(null==t)return cs;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}const ht=je;function pr(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Sn(t){return t[Ea]||null}function Rr(t){return t[cl]||null}function Or(t){return t[ul]||null}function Jr(t,n){const e=t[Mc]||null;if(!e&&!0===n)throw new Error(`Type ${hn(t)} does not have '\u0275mod' property.`);return e}function jr(t){return Array.isArray(t)&&"object"==typeof t[1]}function xo(t){return Array.isArray(t)&&!0===t[1]}function pl(t){return 0!=(8&t.flags)}function xa(t){return 2==(2&t.flags)}function Aa(t){return 1==(1&t.flags)}function Ao(t){return null!==t.template}function xd(t){return 0!=(256&t[2])}function ji(t,n){return t.hasOwnProperty(Jo)?t[Jo]:null}class Pd{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function Er(){return Oc}function Oc(t){return t.type.prototype.ngOnChanges&&(t.setInput=Od),Rd}function Rd(){const t=Nc(this),n=t?.current;if(n){const e=t.previous;if(e===cs)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function Od(t,n,e,r){const o=Nc(t)||function Fd(t,n){return t[Fc]=n}(t,{previous:cs,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],c=s[a];i[a]=new Pd(c&&c.currentValue,n,s===cs),t[r]=n}Er.ngInherit=!0;const Fc="__ngSimpleChanges__";function Nc(t){return t[Fc]||null}function zn(t){for(;Array.isArray(t);)t=t[0];return t}function ka(t,n){return zn(n[t])}function mo(t,n){return zn(n[t.index])}function vl(t,n){return t.data[n]}function hs(t,n){return t[n]}function to(t,n){const e=n[t];return jr(e)?e:e[0]}function Lc(t){return 4==(4&t[2])}function _l(t){return 64==(64&t[2])}function bi(t,n){return null==n?null:t[n]}function $c(t){t[18]=0}function bl(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const Nt={lFrame:Ce(null),bindingsEnabled:!0};function Ah(){return Nt.bindingsEnabled}function He(){return Nt.lFrame.lView}function sn(){return Nt.lFrame.tView}function mt(t){return Nt.lFrame.contextLView=t,t[8]}function Pt(t){return Nt.lFrame.contextLView=null,t}function Mt(){let t=Ud();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ud(){return Nt.lFrame.currentTNode}function ei(t,n){const e=Nt.lFrame;e.currentTNode=t,e.isParent=n}function Vc(){return Nt.lFrame.isParent}function Hc(){Nt.lFrame.isParent=!1}function Wn(){return Nt.lFrame.bindingIndex++}function Hn(t){const n=Nt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function jn(t,n){const e=Nt.lFrame;e.bindingIndex=e.bindingRootIndex=t,Ct(n)}function Ct(t){Nt.lFrame.currentDirectiveIndex=t}function f(){return Nt.lFrame.currentQueryIndex}function m(t){Nt.lFrame.currentQueryIndex=t}function C(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function x(t,n,e){if(e&Et.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&Et.Host||(o=C(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;n=o,t=i}const r=Nt.lFrame=se();return r.currentTNode=n,r.lView=t,!0}function J(t){const n=se(),e=t[1];Nt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function se(){const t=Nt.lFrame,n=null===t?null:t.child;return null===n?Ce(t):n}function Ce(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Ye(){const t=Nt.lFrame;return Nt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const St=Ye;function Gt(){const t=Ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function at(){return Nt.lFrame.selectedIndex}function Vt(t){Nt.lFrame.selectedIndex=t}function qt(){const t=Nt.lFrame;return vl(t.tView,t.selectedIndex)}function ro(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:p}=i;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-e,c),u&&((t.viewHooks||(t.viewHooks=[])).push(e,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,u)),null!=p&&(t.destroyHooks||(t.destroyHooks=[])).push(e,p)}}function Un(t,n,e){S_(t,n,3,e)}function Gd(t,n,e,r){(3&t[2])===e&&S_(t,n,e,r)}function Ph(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function S_(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(t[18]+=65536),(a<i||-1==i)&&(RT(t,e,n,c),t[18]=(4294901760&t[18])+c+2),c++}function RT(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class jc{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function zd(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];D_(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function w_(t){return 3===t||4===t||6===t}function D_(t){return 64===t.charCodeAt(0)}function Wd(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||E_(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function E_(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function I_(t){return-1!==t}function Sl(t){return 32767&t}function wl(t,n){let e=function $T(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let Oh=!0;function qd(t){const n=Oh;return Oh=t,n}let BT=0;const Ui={};function Gc(t,n){const e=Nh(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,Fh(r.data,t),Fh(n,null),Fh(r.blueprint,null));const o=Zd(t,n),i=t.injectorIndex;if(I_(o)){const s=Sl(o),a=wl(o,n),c=a[1].data;for(let u=0;u<8;u++)n[i+u]=a[s+u]|c[s+u]}return n[i+8]=o,i}function Fh(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Nh(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Zd(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=F_(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Kd(t,n,e){!function VT(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(Ws)&&(r=e[Ws]),null==r&&(r=e[Ws]=BT++);const o=255&r;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function x_(t,n,e){if(e&Et.Optional)return t;_t()}function A_(t,n,e,r){if(e&Et.Optional&&void 0===r&&(r=null),0==(e&(Et.Self|Et.Host))){const o=t[9],i=Bo(void 0);try{return o?o.get(n,r,e&Et.Optional):Tc(n,r,e&Et.Optional)}finally{Bo(i)}}return x_(r,0,e)}function k_(t,n,e,r=Et.Default,o){if(null!==t){if(1024&n[2]){const s=function zT(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=P_(i,s,e,r|Et.Self,Ui);if(a!==Ui)return a;let c=i.parent;if(!c){const u=s[21];if(u){const p=u.get(e,Ui,r);if(p!==Ui)return p}c=F_(s),s=s[15]}i=c}return o}(t,n,e,r,Ui);if(s!==Ui)return s}const i=P_(t,n,e,r,Ui);if(i!==Ui)return i}return A_(n,e,r,o)}function P_(t,n,e,r,o){const i=function UT(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Ws)?t[Ws]:void 0;return"number"==typeof n?n>=0?255&n:GT:n}(e);if("function"==typeof i){if(!x(n,t,r))return r&Et.Host?x_(o,0,r):A_(n,e,r,o);try{const s=i(r);if(null!=s||r&Et.Optional)return s;_t()}finally{St()}}else if("number"==typeof i){let s=null,a=Nh(t,n),c=-1,u=r&Et.Host?n[16][6]:null;for((-1===a||r&Et.SkipSelf)&&(c=-1===a?Zd(t,n):n[a+8],-1!==c&&O_(r,!1)?(s=n[1],a=Sl(c),n=wl(c,n)):a=-1);-1!==a;){const p=n[1];if(R_(i,a,p.data)){const h=jT(a,n,e,s,r,u);if(h!==Ui)return h}c=n[a+8],-1!==c&&O_(r,n[1].data[a+8]===u)&&R_(i,a,n)?(s=p,a=Sl(c),n=wl(c,n)):a=-1}}return o}function jT(t,n,e,r,o,i){const s=n[1],a=s.data[t+8],p=Yd(a,s,e,null==r?xa(a)&&Oh:r!=s&&0!=(3&a.type),o&Et.Host&&i===a);return null!==p?zc(n,s,p,a):Ui}function Yd(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,c=t.directiveStart,p=i>>20,y=o?a+p:t.directiveEnd;for(let S=r?a:a+p;S<y;S++){const F=s[S];if(S<c&&e===F||S>=c&&F.type===e)return S}if(o){const S=s[c];if(S&&Ao(S)&&S.type===e)return c}return null}function zc(t,n,e,r){let o=t[e];const i=n.data;if(function OT(t){return t instanceof jc}(o)){const s=o;s.resolving&&function Re(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new w(-200,`Circular dependency in DI detected for ${t}${e}`)}(function _e(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():H(t)}(i[e]));const a=qd(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Bo(s.injectImpl):null;x(t,r,Et.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function Rn(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=Oc(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,o),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,i))}(e,i[e],n)}finally{null!==c&&Bo(c),qd(a),s.resolving=!1,St()}}return o}function R_(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function O_(t,n){return!(t&Et.Self||t&Et.Host&&n)}class Dl{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return k_(this._tNode,this._lView,n,r,e)}}function GT(){return new Dl(Mt(),He())}function Gr(t){return _i(()=>{const n=t.prototype.constructor,e=n[Jo]||Lh(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[Jo]||Lh(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Lh(t){return q(t)?()=>{const n=Lh(I(t));return n&&n()}:ji(t)}function F_(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}function Ra(t){return function HT(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(w_(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(Mt(),t)}const Il="__parameters__";function Ml(t,n,e){return _i(()=>{const r=function $h(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,u,p){const h=c.hasOwnProperty(Il)?c[Il]:Object.defineProperty(c,Il,{value:[]})[Il];for(;h.length<=p;)h.push(null);return(h[p]=h[p]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class It{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ze({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qT=new It("AnalyzeForEntryComponents");function Ho(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),Ho(r,n)):n!==t&&n.push(r)}return n}function ms(t,n){t.forEach(e=>Array.isArray(e)?ms(e,n):n(e))}function L_(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Xd(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Zc(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function jo(t,n,e){let r=xl(t,n);return r>=0?t[1|r]=e:(r=~r,function YT(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function Vh(t,n){const e=xl(t,n);if(e>=0)return t[1|e]}function xl(t,n){return function V_(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const Kc={},jh="__NG_DI_FLAG__",Jd="ngTempTokenPath",oM=/\n/gm,H_="__source";let Yc;function ef(t){const n=Yc;return Yc=t,n}function sM(t,n=Et.Default){if(void 0===Yc)throw new w(-203,!1);return null===Yc?Tc(t,void 0,n):Yc.get(t,n&Et.Optional?null:void 0,n)}function oe(t,n=Et.Default){return(function Cd(){return ll}()||sM)(I(t),n)}function Oa(t,n=Et.Default){return oe(t,n)}function Uh(t){const n=[];for(let e=0;e<t.length;e++){const r=I(t[e]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let o,i=Et.Default;for(let s=0;s<r.length;s++){const a=r[s],c=aM(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(oe(o,i))}else n.push(oe(r))}return n}function Xc(t,n){return t[jh]=n,t.prototype[jh]=n,t}function aM(t){return t[jh]}const Xs=Xc(Ml("Optional"),8),Qc=Xc(Ml("SkipSelf"),4);let zh,rf;function kl(t){var n;return(null===(n=function Wh(){if(void 0===rf&&(rf=null,vn.trustedTypes))try{rf=vn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rf}())||void 0===n?void 0:n.createHTML(t))||t}class Fa{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class SM extends Fa{getTypeName(){return"HTML"}}class wM extends Fa{getTypeName(){return"Style"}}class DM extends Fa{getTypeName(){return"Script"}}class EM extends Fa{getTypeName(){return"URL"}}class IM extends Fa{getTypeName(){return"ResourceURL"}}function Uo(t){return t instanceof Fa?t.changingThisBreaksApplicationSecurity:t}function Gi(t,n){const e=function TM(t){return t instanceof Fa&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class RM{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(kl(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class OM{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=kl(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=kl(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&n.removeAttribute(s)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const NM=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,LM=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tu(t){return(t=String(t)).match(NM)||t.match(LM)?t:"unsafe:"+t}function t0(t){return(t=String(t)).split(",").map(n=>tu(n.trim())).join(", ")}function zi(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function nu(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const n0=zi("area,br,col,hr,img,wbr"),r0=zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),o0=zi("rp,rt"),Zh=nu(n0,nu(r0,zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nu(o0,zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nu(o0,r0)),Kh=zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yh=zi("srcset"),s0=nu(Kh,Yh,zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$M=zi("script,style,template");class BM{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Zh.hasOwnProperty(e))return this.sanitizedSomething=!0,!$M.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!s0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Kh[a]&&(c=tu(c)),Yh[a]&&(c=t0(c)),this.buf.push(" ",s,'="',a0(c),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Zh.hasOwnProperty(e)&&!n0.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(a0(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const VM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,HM=/([^\#-~ |!])/g;function a0(t){return t.replace(/&/g,"&amp;").replace(VM,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(HM,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let af;function l0(t,n){let e=null;try{af=af||function e0(t){const n=new OM(t);return function FM(){try{return!!(new window.DOMParser).parseFromString(kl(""),"text/html")}catch{return!1}}()?new RM(n):n}(t);let r=n?String(n):"";e=af.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=af.getInertBodyElement(r)}while(r!==i);return kl((new BM).sanitizeChildren(Xh(e)||e))}finally{if(e){const r=Xh(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Xh(t){return"content"in t&&function jM(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var On=(()=>((On=On||{})[On.NONE=0]="NONE",On[On.HTML=1]="HTML",On[On.STYLE=2]="STYLE",On[On.SCRIPT=3]="SCRIPT",On[On.URL=4]="URL",On[On.RESOURCE_URL=5]="RESOURCE_URL",On))();function em(t){return t.ngOriginalError}class Pl{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&em(n);for(;e&&em(e);)e=em(e);return e||null}}const tm=new Map;let ox=0;const rm="__ngContext__";function oo(t,n){jr(n)?(t[rm]=n[20],function sx(t){tm.set(t[20],t)}(n)):t[rm]=n}function ou(t){const n=t[rm];return"number"==typeof n?function d0(t){return tm.get(t)||null}(n):n||null}function om(t){const n=ou(t);return n?jr(n)?n:n.lView:null}const mx=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(vn))();function gs(t){return t instanceof Function?t():t}var Po=(()=>((Po=Po||{})[Po.Important=1]="Important",Po[Po.DashCase=2]="DashCase",Po))();function sm(t,n){return undefined(t,n)}function iu(t){const n=t[3];return xo(n)?n[3]:n}function am(t){return _0(t[13])}function lm(t){return _0(t[4])}function _0(t){for(;null!==t&&!xo(t);)t=t[4];return t}function Ol(t,n,e,r,o){if(null!=r){let i,s=!1;xo(r)?i=r:jr(r)&&(s=!0,r=r[0]);const a=zn(r);0===t&&null!==e?null==o?E0(n,e,a):Na(n,e,a,o||null,!0):1===t&&null!==e?Na(n,e,a,o||null,!0):2===t?function P0(t,n,e){const r=lf(t,n);r&&function Px(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function Fx(t,n,e,r,o){const i=e[7];i!==zn(e)&&Ol(n,t,r,i,o);for(let a=10;a<e.length;a++){const c=e[a];su(c[1],c,t,n,r,i)}}(n,t,i,e,o)}}function um(t,n,e){return t.createElement(n,e)}function C0(t,n){const e=t[9],r=e.indexOf(n),o=n[3];512&n[2]&&(n[2]&=-513,bl(o,-1)),e.splice(r,1)}function dm(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const o=r[17];null!==o&&o!==t&&C0(o,r),n>0&&(t[e-1][4]=r[4]);const i=Xd(t,10+n);!function Dx(t,n){su(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function S0(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&su(t,n,e,3,null,null),function Tx(t){let n=t[13];if(!n)return fm(t[1],t);for(;n;){let e=null;if(jr(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)jr(n)&&fm(n[1],n),n=n[3];null===n&&(n=t),jr(n)&&fm(n[1],n),e=n&&n[4]}n=e}}(n)}}function fm(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function kx(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof jc)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];try{c.call(a)}finally{}}else try{i.call(o)}finally{}}}}(t,n),function Ax(t,n){const e=t.cleanup,r=n[7];let o=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],a="function"==typeof s?s(n):zn(n[s]),c=r[o=e[i+2]],u=e[i+3];"boolean"==typeof u?a.removeEventListener(e[i],c,u):u>=0?r[o=u]():r[o=-u].unsubscribe(),i+=2}else{const s=r[o=e[i+1]];e[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)r[i]();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&xo(n[3])){e!==n[3]&&C0(e,n);const r=n[19];null!==r&&r.detachView(t)}!function ax(t){tm.delete(t[20])}(n)}}function w0(t,n,e){return function D0(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const o=t.data[r.directiveStart].encapsulation;if(o===Vo.None||o===Vo.Emulated)return null}return mo(r,e)}(t,n.parent,e)}function Na(t,n,e,r,o){t.insertBefore(n,e,r,o)}function E0(t,n,e){t.appendChild(n,e)}function I0(t,n,e,r,o){null!==r?Na(t,n,e,r,o):E0(t,n,e)}function lf(t,n){return t.parentNode(n)}function T0(t,n,e){return x0(t,n,e)}let x0=function M0(t,n,e){return 40&t.type?mo(t,e):null};function cf(t,n,e,r){const o=w0(t,r,n),i=n[11],a=T0(r.parent||n[6],r,n);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)I0(i,o,e[c],a,!1);else I0(i,o,e,a,!1)}function uf(t,n){if(null!==n){const e=n.type;if(3&e)return mo(n,t);if(4&e)return hm(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return uf(t,r);{const o=t[n.index];return xo(o)?hm(-1,o):zn(o)}}if(32&e)return sm(n,t)()||zn(t[n.index]);{const r=k0(t,n);return null!==r?Array.isArray(r)?r[0]:uf(iu(t[16]),r):uf(t,n.next)}}return null}function k0(t,n){return null!==n?t[16][6].projection[n.projection]:null}function hm(t,n){const e=10+t+1;if(e<n.length){const r=n[e],o=r[1].firstChild;if(null!==o)return uf(r,o)}return n[7]}function mm(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===n&&(a&&oo(zn(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)mm(t,n,e.child,r,o,i,!1),Ol(n,t,o,a,i);else if(32&c){const u=sm(e,r);let p;for(;p=u();)Ol(n,t,o,p,i);Ol(n,t,o,a,i)}else 16&c?R0(t,n,r,e,o,i):Ol(n,t,o,a,i);e=s?e.projectionNext:e.next}}function su(t,n,e,r,o,i){mm(e,r,t.firstChild,n,o,i,!1)}function R0(t,n,e,r,o,i){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Ol(n,t,o,c[u],i);else mm(t,n,c,s[3],o,i,!0)}function O0(t,n,e){t.setAttribute(n,"style",e)}function gm(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function F0(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}const N0="ng-template";function Lx(t,n,e){let r=0;for(;r<t.length;){let o=t[r++];if(e&&"class"===o){if(o=t[r],-1!==F0(o.toLowerCase(),n,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function L0(t){return 4===t.type&&t.value!==N0}function $x(t,n,e){return n===(4!==t.type||e?t.value:N0)}function Bx(t,n,e){let r=4;const o=t.attrs||[],i=function jx(t){for(let n=0;n<t.length;n++)if(w_(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!$x(t,c,e)||""===c&&1===n.length){if(Ci(r))return!1;s=!0}}else{const u=8&r?c:n[++a];if(8&r&&null!==t.attrs){if(!Lx(t.attrs,u,e)){if(Ci(r))return!1;s=!0}continue}const h=Vx(8&r?"class":c,o,L0(t),e);if(-1===h){if(Ci(r))return!1;s=!0;continue}if(""!==u){let y;y=h>i?"":o[h+1].toLowerCase();const S=8&r?y:null;if(S&&-1!==F0(S,u,0)||2&r&&u!==y){if(Ci(r))return!1;s=!0}}}}else{if(!s&&!Ci(r)&&!Ci(c))return!1;if(s&&Ci(c))continue;s=!1,r=c|1&r}}return Ci(r)||s}function Ci(t){return 0==(1&t)}function Vx(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Ux(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function $0(t,n,e=!1){for(let r=0;r<n.length;r++)if(Bx(t,n[r],e))return!0;return!1}function Gx(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function B0(t,n){return t?":not("+n.trim()+")":n}function zx(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Ci(s)&&(n+=B0(i,o),o=""),r=s,i=i||!Ci(r);e++}return""!==o&&(n+=B0(i,o)),n}const zt={};function Xe(t){V0(sn(),He(),at()+t,!1)}function V0(t,n,e,r){if(!r)if(3==(3&n[2])){const i=t.preOrderCheckHooks;null!==i&&Un(n,i,e)}else{const i=t.preOrderHooks;null!==i&&Gd(n,i,0,e)}Vt(e)}const ym=new It("ENVIRONMENT_INITIALIZER"),G0=new It("INJECTOR_DEF_TYPES");function Jx(...t){return{\u0275providers:z0(0,t)}}function z0(t,...n){const e=[],r=new Set;let o;return ms(n,i=>{const s=i;vm(s,e,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&W0(o,e),e}function W0(t,n){for(let e=0;e<t.length;e++){const{providers:o}=t[e];ms(o,i=>{n.push(i)})}}function vm(t,n,e,r){if(!(t=I(t)))return!1;let o=null,i=Ec(t);const s=!i&&Sn(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=Ec(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)vm(u,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let u;r.add(o);try{ms(i.imports,p=>{vm(p,n,e,r)&&(u||(u=[]),u.push(p))})}finally{}void 0!==u&&W0(u,n)}if(!a){const u=ji(o)||(()=>new o);n.push({provide:o,useFactory:u,deps:dn},{provide:G0,useValue:o,multi:!0},{provide:ym,useValue:()=>oe(o),multi:!0})}const c=i.providers;null==c||a||ms(c,p=>{n.push(p)})}}return o!==t&&void 0!==t.providers}const eA=un({provide:String,useValue:un});function _m(t){return null!==t&&"object"==typeof t&&eA in t}function La(t){return"function"==typeof t}const bm=new It("INJECTOR",-1);class K0{get(n,e=Kc){if(e===Kc){const r=new Error(`NullInjectorError: No provider for ${hn(n)}!`);throw r.name="NullInjectorError",r}return e}}const Cm=new It("Set Injector scope."),df={},nA={};let Sm;function wm(){return void 0===Sm&&(Sm=new K0),Sm}class $a{}class Y0 extends $a{constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Em(n,s=>this.processProvider(s)),this.records.set(bm,Fl(void 0,this)),o.has("environment")&&this.records.set($a,Fl(void 0,this));const i=this.records.get(Cm);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(G0.multi,dn,Et.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}get(n,e=Kc,r=Et.Default){this.assertNotDestroyed();const o=ef(this),i=Bo(void 0);try{if(!(r&Et.SkipSelf)){let a=this.records.get(n);if(void 0===a){const c=function aA(t){return"function"==typeof t||"object"==typeof t&&t instanceof It}(n)&&sl(n);a=c&&this.injectableDefInScope(c)?Fl(Dm(n),df):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Et.Self?wm():this.parent).get(n,e=r&Et.Optional&&e===Kc?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Jd]=s[Jd]||[]).unshift(hn(n)),o)throw s;return function lM(t,n,e,r){const o=t[Jd];throw n[H_]&&o.unshift(n[H_]),t.message=function cM(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=hn(n);if(Array.isArray(n))o=n.map(hn).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):hn(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(oM,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[Jd]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{Bo(i),ef(o)}}resolveInjectorInitializers(){const n=ef(this),e=Bo(void 0);try{const r=this.get(ym.multi,dn,Et.Self);for(const o of r)o()}finally{ef(n),Bo(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(hn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(n){let e=La(n=I(n))?n:I(n&&n.provide);const r=function oA(t){return _m(t)?Fl(void 0,t.useValue):Fl(X0(t),df)}(n);if(La(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=Fl(void 0,df,!0),o.factory=()=>Uh(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===df&&(e.value=nA,e.value=e.factory()),"object"==typeof e.value&&e.value&&function sA(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=I(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Dm(t){const n=sl(t),e=null!==n?n.factory:ji(t);if(null!==e)return e;if(t instanceof It)throw new w(204,!1);if(t instanceof Function)return function rA(t){const n=t.length;if(n>0)throw Zc(n,"?"),new w(204,!1);const e=function vd(t){const n=t&&(t[Da]||t[Ic]);if(n){const e=function _d(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new w(204,!1)}function X0(t,n,e){let r;if(La(t)){const o=I(t);return ji(o)||Dm(o)}if(_m(t))r=()=>I(t.useValue);else if(function Z0(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Uh(t.deps||[]));else if(function q0(t){return!(!t||!t.useExisting)}(t))r=()=>oe(I(t.useExisting));else{const o=I(t&&(t.useClass||t.provide));if(!function iA(t){return!!t.deps}(t))return ji(o)||Dm(o);r=()=>new o(...Uh(t.deps))}return r}function Fl(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function lA(t){return!!t.\u0275providers}function Em(t,n){for(const e of t)Array.isArray(e)?Em(e,n):lA(e)?Em(e.\u0275providers,n):n(e)}function Q0(t,n=null,e=null,r){const o=J0(t,n,e,r);return o.resolveInjectorInitializers(),o}function J0(t,n=null,e=null,r,o=new Set){const i=[e||dn,Jx(t)];return r=r||("object"==typeof t?void 0:hn(t)),new Y0(i,n||wm(),r||null,o)}let Mn=(()=>{class t{static create(e,r){if(Array.isArray(e))return Q0({name:""},r,e,"");{var o;const i=null!==(o=e.name)&&void 0!==o?o:"";return Q0({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=Kc,t.NULL=new K0,t.\u0275prov=Ze({token:t,providedIn:"any",factory:()=>oe(bm)}),t.__NG_ELEMENT_ID__=-1,t})();function g(t,n=Et.Default){const e=He();return null===e?oe(t,n):k_(Mt(),e,I(t),n)}function Am(){throw new Error("invalid")}function pf(t,n){return t<<17|n<<2}function Si(t){return t>>17&32767}function Om(t){return 2|t}function ys(t){return(131068&t)>>2}function Fm(t,n){return-131069&t|n<<2}function Nm(t){return 1|t}function _b(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];if(-1!==i){const s=t.data[i];m(o),s.contentQueries(2,n[i],i)}}}function gf(t,n,e,r,o,i,s,a,c,u,p){const h=n.blueprint.slice();return h[0]=o,h[2]=76|r,(null!==p||t&&1024&t[2])&&(h[2]|=1024),$c(h),h[3]=h[15]=t,h[8]=e,h[10]=s||t&&t[10],h[11]=a||t&&t[11],h[12]=c||t&&t[12]||null,h[9]=u||t&&t[9]||null,h[6]=i,h[20]=function ix(){return ox++}(),h[21]=p,h[16]=2==n.type?t[16]:h,h}function Ll(t,n,e,r,o){let i=t.data[n];if(null===i)i=function zm(t,n,e,r,o){const i=Ud(),s=Vc(),c=t.data[n]=function HA(t,n,e,r,o,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}(t,n,e,r,o),function no(){return Nt.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function Pa(){const t=Nt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return ei(i,!0),i}function $l(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function yf(t,n,e){J(n);try{const r=t.viewQuery;null!==r&&eg(1,r,e);const o=t.template;null!==o&&bb(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_b(t,n),t.staticViewQueries&&eg(2,t.viewQuery,e);const i=t.components;null!==i&&function LA(t,n){for(let e=0;e<n.length;e++)ik(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,Gt()}}function au(t,n,e,r){const o=n[2];if(128!=(128&o)){J(n);try{$c(n),function Dn(t){return Nt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&bb(t,n,e,2,r);const s=3==(3&o);if(s){const u=t.preOrderCheckHooks;null!==u&&Un(n,u,null)}else{const u=t.preOrderHooks;null!==u&&Gd(n,u,0,null),Ph(n,0)}if(function rk(t){for(let n=am(t);null!==n;n=lm(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const o=e[r],i=o[3];0==(512&o[2])&&bl(i,1),o[2]|=512}}}(n),function nk(t){for(let n=am(t);null!==n;n=lm(n))for(let e=10;e<n.length;e++){const r=n[e],o=r[1];_l(r)&&au(o,r,o.template,r[8])}}(n),null!==t.contentQueries&&_b(t,n),s){const u=t.contentCheckHooks;null!==u&&Un(n,u)}else{const u=t.contentHooks;null!==u&&Gd(n,u,1),Ph(n,1)}!function FA(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Vt(~o);else{const i=o,s=e[++r],a=e[++r];jn(s,i),a(2,n[i])}}}finally{Vt(-1)}}(t,n);const a=t.components;null!==a&&function NA(t,n){for(let e=0;e<n.length;e++)ok(t,n[e])}(n,a);const c=t.viewQuery;if(null!==c&&eg(2,c,r),s){const u=t.viewCheckHooks;null!==u&&Un(n,u)}else{const u=t.viewHooks;null!==u&&Gd(n,u,2),Ph(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,bl(n[3],-1))}finally{Gt()}}}function $A(t,n,e,r){const o=n[10],s=Lc(n);try{!s&&o.begin&&o.begin(),s&&yf(t,n,r),au(t,n,e,r)}finally{!s&&o.end&&o.end()}}function bb(t,n,e,r,o){const i=at(),s=2&r;try{Vt(-1),s&&n.length>22&&V0(t,n,22,!1),e(r,o)}finally{Vt(i)}}function Wm(t,n,e){!Ah()||(function ZA(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;t.firstCreatePass||Gc(e,n),oo(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],u=Ao(c);u&&JA(n,e,c);const p=zc(n,t,a,e);oo(p,n),null!==s&&ek(0,a-o,p,c,0,s),u&&(to(e.index,n)[8]=p)}}(t,n,e,mo(e,n)),128==(128&e.flags)&&function KA(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function er(){return Nt.lFrame.currentDirectiveIndex}();try{Vt(i);for(let a=r;a<o;a++){const c=t.data[a],u=n[a];Ct(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Ib(c,u)}}finally{Vt(-1),Ct(s)}}(t,n,e))}function qm(t,n,e=mo){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function Sb(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Zm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function Zm(t,n,e,r,o,i,s,a,c,u){const p=22+r,h=p+o,y=function BA(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:zt);return e}(p,h),S="function"==typeof u?u():u;return y[1]={type:t,blueprint:y,template:e,queries:null,viewQuery:a,declTNode:n,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:S,incompleteFirstPass:!1}}function wb(t,n,e,r){const o=Rb(n);null===e?o.push(r):(o.push(e),t.firstCreatePass&&Ob(t).push(r,o.length-1))}function Db(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,o):e[r]=[n,o]}return e}function Km(t,n,e,r){let o=!1;if(Ah()){const i=function YA(t,n,e){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];$0(e,s.selectors,!1)&&(o||(o=[]),Kd(Gc(e,n),t,s.type),Ao(s)?(Tb(t,e),o.unshift(s)):o.push(s))}return o}(t,n,e),s=null===r?null:{"":-1};if(null!==i){o=!0,Mb(e,t.data.length,i.length);for(let p=0;p<i.length;p++){const h=i[p];h.providersResolver&&h.providersResolver(h)}let a=!1,c=!1,u=$l(t,n,i.length,null);for(let p=0;p<i.length;p++){const h=i[p];e.mergedAttrs=Wd(e.mergedAttrs,h.hostAttrs),xb(t,e,n,u,h),QA(u,h,s),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);const y=h.type.prototype;!a&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!c&&(y.ngOnChanges||y.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),u++}!function jA(t,n){const r=n.directiveEnd,o=t.data,i=n.attrs,s=[];let a=null,c=null;for(let u=n.directiveStart;u<r;u++){const p=o[u],h=p.inputs,y=null===i||L0(n)?null:tk(h,i);s.push(y),a=Db(h,u,a),c=Db(p.outputs,u,c)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=c}(t,e)}s&&function XA(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new w(-301,!1);r.push(n[o],i)}}}(e,r,s)}return e.mergedAttrs=Wd(e.mergedAttrs,e.attrs),o}function Eb(t,n,e,r,o,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~n.index;(function qA(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}function Ib(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Tb(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function QA(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;Ao(n)&&(e[""]=t)}}function Mb(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function xb(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=ji(o.type)),s=new jc(i,Ao(o),g);t.blueprint[r]=s,e[r]=s,Eb(t,n,0,r,$l(t,e,o.hostVars,zt),o)}function JA(t,n,e){const r=mo(n,t),o=Sb(e),i=t[10],s=vf(t,gf(t,o,null,e.onPush?32:16,r,n,i,i.createRenderer(r,e),null,null,null));t[n.index]=s}function Wi(t,n,e,r,o,i){const s=mo(t,n);!function Ym(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?H(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[11],s,i,t.value,e,r,o)}function ek(t,n,e,r,o,i){const s=i[n];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const u=s[c++],p=s[c++],h=s[c++];null!==a?r.setInput(e,h,u,p):e[p]=h}}}function tk(t,n){let e=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,t[o],n[r+1])),r+=2}else r+=2;else r+=4}return e}function Ab(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function ok(t,n){const e=to(n,t);if(_l(e)){const r=e[1];48&e[2]?au(r,e,r.template,e[8]):e[5]>0&&Xm(e)}}function Xm(t){for(let r=am(t);null!==r;r=lm(r))for(let o=10;o<r.length;o++){const i=r[o];if(512&i[2]){const s=i[1];au(s,i,s.template,i[8])}else i[5]>0&&Xm(i)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=to(e[r],t);_l(o)&&o[5]>0&&Xm(o)}}function ik(t,n){const e=to(n,t),r=e[1];(function sk(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),yf(r,e,e[8])}function vf(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function Qm(t){for(;t;){t[2]|=32;const n=iu(t);if(xd(t)&&!n)return t;t=n}return null}function Pb(t){!function kb(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=om(e);if(null!==r){const o=r[1];$A(o,r,o.template,e)}}}(t[8])}function eg(t,n,e){m(0),n(t,e)}const lk=(()=>Promise.resolve(null))();function Rb(t){return t[7]||(t[7]=[])}function Ob(t){return t.cleanup||(t.cleanup=[])}function Nb(t,n){const e=t[9],r=e?e.get(Pl,null):null;r&&r.handleError(n)}function Lb(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++],c=n[s],u=t.data[s];null!==u.setInput?u.setInput(c,o,r,a):c[a]=o}}function vs(t,n,e){const r=ka(n,t);!function b0(t,n,e){t.setValue(n,e)}(t[11],r,e)}function _f(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=Ni(o,a):2==i&&(r=Ni(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function fk(){const t=Mt();ro(He()[1],t)}function fn(t){let n=function $b(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(Ao(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new w(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=tg(t.inputs),s.declaredInputs=tg(t.declaredInputs),s.outputs=tg(t.outputs);const a=o.hostBindings;a&&gk(t,a);const c=o.viewQuery,u=o.contentQueries;if(c&&hk(t,c),u&&mk(t,u),Qo(t.inputs,o.inputs),Qo(t.declaredInputs,o.declaredInputs),Qo(t.outputs,o.outputs),Ao(o)&&o.data.animation){const p=t.data;p.animation=(p.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===fn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function pk(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=Wd(o.hostAttrs,e=Wd(e,o.hostAttrs))}}(r)}function tg(t){return t===cs?{}:t===dn?[]:t}function hk(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function mk(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function gk(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}let bf=null;function Ba(){if(!bf){const t=vn.Symbol;if(t&&t.iterator)bf=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(bf=r)}}}return bf}function lu(t){return!!function ng(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ba()in t)}function io(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Zi(t,n,e,r){const o=He();return io(o,Wn(),n)&&(sn(),Wi(qt(),o,t,n,e,r)),Zi}function Hl(t,n,e,r,o,i){const a=function Va(t,n,e,r){const o=io(t,n,e);return io(t,n+1,r)||o}(t,function Ut(){return Nt.lFrame.bindingIndex}(),e,o);return Hn(2),a?n+H(e)+r+H(o)+i:zt}function Xt(t,n,e,r,o,i,s,a){const c=He(),u=sn(),p=t+22,h=u.firstCreatePass?function Ek(t,n,e,r,o,i,s,a,c){const u=n.consts,p=Ll(n,t,4,s||null,bi(u,a));Km(n,e,p,bi(u,c)),ro(n,p);const h=p.tViews=Zm(2,p,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,p),h.queries=n.queries.embeddedTView(p)),p}(p,u,c,n,e,r,o,i,s):u.data[p];ei(h,!1);const y=c[11].createComment("");cf(u,c,y,h),oo(y,c),vf(c,c[p]=Ab(y,c,y,h)),Aa(h)&&Wm(u,c,h),null!=s&&qm(c,h,a)}function _s(t){return hs(function Fr(){return Nt.lFrame.contextLView}(),22+t)}function Qe(t,n,e){const r=He();return io(r,Wn(),n)&&function Go(t,n,e,r,o,i,s,a){const c=mo(n,e);let p,u=n.inputs;!a&&null!=u&&(p=u[r])?(Lb(t,e,p,r,o),xa(n)&&function GA(t,n){const e=to(n,t);16&e[2]||(e[2]|=32)}(e,n.index)):3&n.type&&(r=function UA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}(sn(),qt(),r,t,n,r[11],e,!1),Qe}function rg(t,n,e,r,o){const s=o?"class":"style";Lb(t,e,n.inputs[s],s,r)}function ue(t,n,e,r){const o=He(),i=sn(),s=22+t,a=o[11],c=o[s]=um(a,n,function hr(){return Nt.lFrame.currentNamespace}()),u=i.firstCreatePass?function Tk(t,n,e,r,o,i,s){const a=n.consts,u=Ll(n,t,2,o,bi(a,i));return Km(n,e,u,bi(a,s)),null!==u.attrs&&_f(u,u.attrs,!1),null!==u.mergedAttrs&&_f(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(s,i,o,0,n,e,r):i.data[s];ei(u,!0);const p=u.mergedAttrs;null!==p&&zd(a,c,p);const h=u.classes;null!==h&&gm(a,c,h);const y=u.styles;return null!==y&&O0(a,c,y),64!=(64&u.flags)&&cf(i,o,c,u),0===function jd(){return Nt.lFrame.elementDepthCount}()&&oo(c,o),function xh(){Nt.lFrame.elementDepthCount++}(),Aa(u)&&(Wm(i,o,u),function Cb(t,n,e){if(pl(n)){const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}(i,u,o)),null!==r&&qm(o,u),ue}function re(){let t=Mt();Vc()?Hc():(t=t.parent,ei(t,!1));const n=t;!function C_(){Nt.lFrame.elementDepthCount--}();const e=sn();return e.firstCreatePass&&(ro(e,t),pl(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function NT(t){return 0!=(16&t.flags)}(n)&&rg(e,n,He(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function LT(t){return 0!=(32&t.flags)}(n)&&rg(e,n,He(),n.stylesWithoutHost,!1),re}function ut(t,n,e,r){return ue(t,n,e,r),re(),ut}function qn(){return He()}function uu(t){return!!t&&"function"==typeof t.then}function Zb(t){return!!t&&"function"==typeof t.subscribe}const sg=Zb;function We(t,n,e,r){const o=He(),i=sn(),s=Mt();return function Yb(t,n,e,r,o,i,s,a){const c=Aa(r),p=t.firstCreatePass&&Ob(t),h=n[8],y=Rb(n);let S=!0;if(3&r.type||a){const ke=mo(r,n),we=a?a(ke):ke,Ue=y.length,he=a?lt=>a(zn(lt[r.index])):r.index;let Ke=null;if(!a&&c&&(Ke=function xk(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[7],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=i,Ke.__ngLastListenerFn__=i,S=!1;else{i=Qb(r,n,h,i,!1);const lt=e.listen(we,o,i);y.push(i,lt),p&&p.push(o,he,Ue,Ue+1)}}else i=Qb(r,n,h,i,!1);const F=r.outputs;let ge;if(S&&null!==F&&(ge=F[o])){const ke=ge.length;if(ke)for(let we=0;we<ke;we+=2){const jt=n[ge[we]][ge[we+1]].subscribe(i),$r=y.length;y.push(i,jt),p&&p.push(o,r.index,$r,-($r+1))}}}(i,o,o[11],s,t,n,0,r),We}function Xb(t,n,e,r){try{return!1!==e(r)}catch(o){return Nb(t,o),!1}}function Qb(t,n,e,r,o){return function i(s){if(s===Function)return r;Qm(2&t.flags?to(t.index,n):n);let c=Xb(n,0,r,s),u=i.__ngNextListenerFn__;for(;u;)c=Xb(n,0,u,s)&&c,u=u.__ngNextListenerFn__;return o&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function At(t=1){return function an(t){return(Nt.lFrame.contextLView=function bt(t,n){for(;t>0;)n=n[15],t--;return n}(t,Nt.lFrame.contextLView))[8]}(t)}function Ak(t,n){let e=null;const r=function Hx(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?$0(t,i,!0):Gx(r,i))return o}else e=o}return e}function tt(t){const n=He()[16][6];if(!n.projection){const r=n.projection=Zc(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?Ak(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function et(t,n=0,e){const r=He(),o=sn(),i=Ll(o,22+t,16,null,e||null);null===i.projection&&(i.projection=n),Hc(),64!=(64&i.flags)&&function Ox(t,n,e){R0(n[11],0,n,e,w0(t,e,n),T0(e.parent||n[6],e,n))}(o,r,i)}function lC(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?Si(i):ys(i),c=!1;for(;0!==a&&(!1===c||s);){const p=t[a+1];Rk(t[a],n)&&(c=!0,t[a+1]=r?Nm(p):Om(p)),a=r?Si(p):ys(p)}c&&(t[e+1]=r?Om(i):Nm(i))}function Rk(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&xl(t,n)>=0}function wf(t,n,e){return wi(t,n,e,!1),wf}function ea(t,n){return wi(t,n,null,!0),ea}function wi(t,n,e,r){const o=He(),i=sn(),s=Hn(2);i.firstUpdatePass&&function gC(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[at()],s=function mC(t,n){return n>=t.expandoStartIndex}(t,e);(function bC(t,n){return 0!=(t.flags&(n?16:32))})(i,r)&&null===n&&!s&&(n=!1),n=function jk(t,n,e,r){const o=function l(t){const n=Nt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=du(e=lg(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=lg(o,t,n,e,r),null===i){let c=function Uk(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==ys(r))return t[Si(r)]}(t,n,r);void 0!==c&&Array.isArray(c)&&(c=lg(null,t,n,c[1],r),c=du(c,n.attrs,r),function Gk(t,n,e,r){t[Si(e?n.classBindings:n.styleBindings)]=r}(t,n,r,c))}else i=function zk(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=du(r,t[i].hostAttrs,e);return du(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function kk(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=Si(s),c=ys(s);t[r]=e;let p,u=!1;if(Array.isArray(e)){const h=e;p=h[1],(null===p||xl(h,p)>0)&&(u=!0)}else p=e;if(o)if(0!==c){const y=Si(t[a+1]);t[r+1]=pf(y,a),0!==y&&(t[y+1]=Fm(t[y+1],r)),t[a+1]=function EA(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=pf(a,0),0!==a&&(t[a+1]=Fm(t[a+1],r)),a=r;else t[r+1]=pf(c,0),0===a?a=r:t[c+1]=Fm(t[c+1],r),c=r;u&&(t[r+1]=Om(t[r+1])),lC(t,p,r,!0),lC(t,p,r,!1),function Pk(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&xl(i,n)>=0&&(e[r+1]=Nm(e[r+1]))}(n,p,t,r,i),s=pf(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==zt&&io(o,s,n)&&function vC(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const c=t.data,u=c[a+1];Df(function db(t){return 1==(1&t)}(u)?_C(c,n,e,o,ys(u),s):void 0)||(Df(i)||function ub(t){return 2==(2&t)}(u)&&(i=_C(c,null,e,o,a,s)),function Nx(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:Po.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Po.Important),t.setStyle(e,r,o,i))}}(r,s,ka(at(),e),o,i))}(i,i.data[at()],o,o[11],t,o[s+1]=function Zk(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=hn(Uo(t)))),t}(n,e),r,s)}function lg(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=du(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function du(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),jo(t,s,!!e||n[++i]))}return void 0===t?null:t}function _C(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const c=t[o],u=Array.isArray(c),p=u?c[1]:c,h=null===p;let y=e[o+1];y===zt&&(y=h?dn:void 0);let S=h?Vh(y,r):p===r?y:void 0;if(u&&!Df(S)&&(S=Vh(c,r)),Df(S)&&(a=S,s))return a;const F=t[o+1];o=s?Si(F):ys(F)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=Vh(c,r))}return a}function Df(t){return void 0!==t}function Ve(t,n=""){const e=He(),r=sn(),o=t+22,i=r.firstCreatePass?Ll(r,o,1,n,null):r.data[o],s=e[o]=function cm(t,n){return t.createText(n)}(e[11],n);cf(r,e,s,i),ei(i,!1)}function bs(t){return Ei("",t,""),bs}function Ei(t,n,e){const r=He(),o=function Vl(t,n,e,r){return io(t,Wn(),e)?n+H(e)+r:zt}(r,t,n,e);return o!==zt&&vs(r,at(),o),Ei}function Ef(t,n,e,r,o){const i=He(),s=Hl(i,t,n,e,r,o);return s!==zt&&vs(i,at(),s),Ef}const Yl="en-US";let HC=Yl;function dg(t,n,e,r,o){if(t=I(t),Array.isArray(t))for(let i=0;i<t.length;i++)dg(t[i],n,e,r,o);else{const i=sn(),s=He();let a=La(t)?t:I(t.provide),c=X0(t);const u=Mt(),p=1048575&u.providerIndexes,h=u.directiveStart,y=u.providerIndexes>>20;if(La(t)||!t.multi){const S=new jc(c,o,g),F=pg(a,n,o?p:p+y,h);-1===F?(Kd(Gc(u,s),i,a),fg(i,t,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),e.push(S),s.push(S)):(e[F]=S,s[F]=S)}else{const S=pg(a,n,p+y,h),F=pg(a,n,p,p+y),ge=S>=0&&e[S],ke=F>=0&&e[F];if(o&&!ke||!o&&!ge){Kd(Gc(u,s),i,a);const we=function fR(t,n,e,r,o){const i=new jc(t,e,g);return i.multi=[],i.index=n,i.componentProviders=0,fS(i,o,r&&!e),i}(o?dR:uR,e.length,o,r,c);!o&&ke&&(e[F].providerFactory=we),fg(i,t,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,o&&(u.providerIndexes+=1048576),e.push(we),s.push(we)}else fg(i,t,S>-1?S:F,fS(e[o?F:S],c,!o&&r));!o&&r&&ke&&e[F].componentProviders++}}}function fg(t,n,e,r){const o=La(n),i=function tA(t){return!!t.useClass}(n);if(o||i){const c=(i?I(n.useClass):n).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const p=u.indexOf(e);-1===p?u.push(e,[r,c]):u[p+1].push(r,c)}else u.push(e,c)}}}function fS(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function pg(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function uR(t,n,e,r){return hg(this.multi,[])}function dR(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=zc(e,e[1],this.providerFactory.index,r);i=a.slice(0,s),hg(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],hg(o,i);return i}function hg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function En(t,n=[]){return e=>{e.providersResolver=(r,o)=>function cR(t,n,e){const r=sn();if(r.firstCreatePass){const o=Ao(t);dg(e,r.data,r.blueprint,o,!0),dg(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class hR{resolveComponentFactory(n){throw function pR(t){const n=Error(`No component factory found for ${hn(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Cs=(()=>{class t{}return t.NULL=new hR,t})();class ta{}class hS{}class mS{}function gR(){return Ql(Mt(),He())}function Ql(t,n){return new Ge(mo(t,n))}let Ge=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=gR,t})();function yR(t){return t instanceof Ge?t.nativeElement:t}class gS{}let Ss=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function vR(){const t=He(),e=to(Mt().index,t);return(jr(e)?e:t)[11]}(),t})(),_R=(()=>{class t{}return t.\u0275prov=Ze({token:t,providedIn:"root",factory:()=>null}),t})();class gu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const bR=new gu("14.0.6"),mg={};function Af(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(zn(i)),xo(i))for(let a=10;a<i.length;a++){const c=i[a],u=c[1].firstChild;null!==u&&Af(c[1],c,u,r)}const s=e.type;if(8&s)Af(t,n,e.child,r);else if(32&s){const a=sm(e,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=k0(n,e);if(Array.isArray(a))r.push(...a);else{const c=iu(n[16]);Af(c[1],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}class yu{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return Af(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(xo(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(dm(n,r),Xd(e,r))}this._attachedToViewContainer=!1}S0(this._lView[1],this._lView)}onDestroy(n){wb(this._lView[1],this._lView,null,n)}markForCheck(){Qm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Jm(t,n,e){const r=n[10];r.begin&&r.begin();try{au(t,n,t.template,e)}catch(o){throw Nb(n,o),o}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ix(t,n){su(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=n}}class CR extends yu{constructor(n){super(n),this._view=n}detectChanges(){Pb(this._view)}checkNoChanges(){}get context(){return null}}class gg extends Cs{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=Sn(n);return new yg(e,this.ngModule)}}function yS(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class wR{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){const o=this.injector.get(n,mg,r);return o!==mg||e===mg?o:this.parentInjector.get(n,e,r)}}class yg extends mS{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function Wx(t){return t.map(zx).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return yS(this.componentDef.inputs)}get outputs(){return yS(this.componentDef.outputs)}create(n,e,r,o){var i;let s=(o=o||this.ngModule)instanceof $a?o:null===(i=o)||void 0===i?void 0:i.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new wR(n,s):n,c=a.get(gS,null);if(null===c)throw new w(407,!1);const u=a.get(_R,null),p=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",y=r?function VA(t,n,e){return t.selectRootElement(n,e===Vo.ShadowDom)}(p,r,this.componentDef.encapsulation):um(c.createRenderer(null,this.componentDef),h,function SR(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(h)),S=this.componentDef.onPush?288:272,F=function dk(t,n){return{components:[],scheduler:t||mx,clean:lk,playerHandler:n||null,flags:0}}(),ge=Zm(0,null,null,1,0,null,null,null,null,null),ke=gf(null,ge,F,S,null,null,c,p,u,a,null);let we,Ue;J(ke);try{const he=function ck(t,n,e,r,o,i){const s=e[1];e[22]=t;const c=Ll(s,22,2,"#host",null),u=c.mergedAttrs=n.hostAttrs;null!==u&&(_f(c,u,!0),null!==t&&(zd(o,t,u),null!==c.classes&&gm(o,t,c.classes),null!==c.styles&&O0(o,t,c.styles)));const p=r.createRenderer(t,n),h=gf(e,Sb(n),null,n.onPush?32:16,e[22],c,r,p,i||null,null,null);return s.firstCreatePass&&(Kd(Gc(c,e),s,n.type),Tb(s,c),Mb(c,e.length,1)),vf(e,h),e[22]=h}(y,this.componentDef,ke,c,p);if(y)if(r)zd(p,y,["ng-version",bR.full]);else{const{attrs:Ke,classes:lt}=function qx(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!Ci(o))break;o=i}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);Ke&&zd(p,y,Ke),lt&&lt.length>0&&gm(p,y,lt.join(" "))}if(Ue=vl(ge,22),void 0!==e){const Ke=Ue.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const jt=e[lt];Ke.push(null!=jt?Array.from(jt):null)}}we=function uk(t,n,e,r,o){const i=e[1],s=function WA(t,n,e){const r=Mt();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),xb(t,r,n,$l(t,n,1,null),e));const o=zc(n,t,r.directiveStart,r);oo(o,n);const i=mo(r,n);return i&&oo(i,n),o}(i,e,n);if(r.components.push(s),t[8]=s,null!==o)for(const c of o)c(s,n);if(n.contentQueries){const c=Mt();n.contentQueries(1,s,c.directiveStart)}const a=Mt();return!i.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Vt(a.index),Eb(e[1],a,0,a.directiveStart,a.directiveEnd,n),Ib(n,s)),s}(he,this.componentDef,ke,F,[fk]),yf(ge,ke,null)}finally{Gt()}return new ER(this.componentType,we,Ql(Ue,ke),ke,Ue)}}class ER extends class mR{}{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new CR(o),this.componentType=n}get injector(){return new Dl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class vS extends ta{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gg(this);const r=Jr(n);this._bootstrapComponents=gs(r.bootstrap),this._r3Injector=J0(n,e,[{provide:ta,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],hn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(n)}get(n,e=Mn.THROW_IF_NOT_FOUND,r=Et.Default){return n===Mn||n===ta||n===bm?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class vg extends hS{constructor(n){super(),this.moduleType=n}create(n){return new vS(this.moduleType,n)}}class TR extends ta{constructor(n,e,r){super(),this.componentFactoryResolver=new gg(this),this.instance=null;const o=new Y0([...n,{provide:ta,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],e||wm(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function kf(t,n=null,e=null){return new TR(t,n,e).injector}function ES(t,n,e,r,o,i){const s=n+e;return io(t,s,o)?function qi(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function vu(t,n){const e=t[n];return e===zt?void 0:e}(t,s+1)}function Jl(t,n){const e=sn();let r;const o=t+22;e.firstCreatePass?(r=function ZR(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=ji(r.type)),s=Bo(g);try{const a=qd(!1),c=i();return qd(a),function Ik(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,He(),o,c),c}finally{Bo(s)}}function ec(t,n,e){const r=t+22,o=He(),i=hs(o,r);return function _u(t,n){return t[1].data[n].pure}(o,r)?ES(o,function tn(){const t=Nt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function bg(t){return n=>{setTimeout(t,void 0,n)}}const Kt=class JR extends k{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){var a,c,u;const h=n;o=null===(a=h.next)||void 0===a?void 0:a.bind(h),i=null===(c=h.error)||void 0===c?void 0:c.bind(h),s=null===(u=h.complete)||void 0===u?void 0:u.bind(h)}this.__isAsync&&(i=bg(i),o&&(o=bg(o)),s&&(s=bg(s)));const p=super.subscribe({next:o,error:i,complete:s});return n instanceof R&&n.add(p),p}};function eO(){return this._results[Ba()]()}class Cg{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ba(),r=Cg.prototype;r[e]||(r[e]=eO)}get changes(){return this._changes||(this._changes=new Kt)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=Ho(n);(this._changesDetected=!function ZT(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ro=(()=>{class t{}return t.__NG_ELEMENT_ID__=rO,t})();const tO=Ro,nO=class extends tO{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tViews,o=gf(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),yf(r,o,n),new yu(o)}};function rO(){return Pf(Mt(),He())}function Pf(t,n){return 4&t.type?new nO(n,t,Ql(t,n)):null}let so=(()=>{class t{}return t.__NG_ELEMENT_ID__=oO,t})();function oO(){return PS(Mt(),He())}const iO=so,AS=class extends iO{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Ql(this._hostTNode,this._hostLView)}get injector(){return new Dl(this._hostTNode,this._hostLView)}get parentInjector(){const n=Zd(this._hostTNode,this._hostLView);if(I_(n)){const e=wl(n,this._hostLView),r=Sl(n);return new Dl(e[1].data[r+8],e)}return new Dl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=kS(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=n.createEmbeddedView(e||{},i);return this.insert(s,o),s}createComponent(n,e,r,o,i){const s=n&&!function qc(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const h=e||{};a=h.index,r=h.injector,o=h.projectableNodes,i=h.environmentInjector||h.ngModuleRef}const c=s?n:new yg(Sn(n)),u=r||this.parentInjector;if(!i&&null==c.ngModule){const y=(s?u:this.parentInjector).get($a,null);y&&(i=y)}const p=c.create(u,o,void 0,i);return this.insert(p.hostView,a),p}insert(n,e){const r=n._lView,o=r[1];if(function Hd(t){return xo(t[3])}(r)){const p=this.indexOf(n);if(-1!==p)this.detach(p);else{const h=r[3],y=new AS(h,h[6],h[3]);y.detach(y.indexOf(n))}}const i=this._adjustIndex(e),s=this._lContainer;!function Mx(t,n,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=n),r<i-10?(n[4]=e[o],L_(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function xx(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=64}(o,r,s,i);const a=hm(i,s),c=r[11],u=lf(c,s[7]);return null!==u&&function Ex(t,n,e,r,o,i){r[0]=o,r[6]=n,su(t,r,e,1,o,i)}(o,s[6],c,r,u,a),n.attachToViewContainerRef(),L_(Sg(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=kS(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=dm(this._lContainer,e);r&&(Xd(Sg(this._lContainer),e),S0(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=dm(this._lContainer,e);return r&&null!=Xd(Sg(this._lContainer),e)?new yu(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function kS(t){return t[8]}function Sg(t){return t[8]||(t[8]=[])}function PS(t,n){let e;const r=n[t.index];if(xo(r))e=r;else{let o;if(8&t.type)o=zn(r);else{const i=n[11];o=i.createComment("");const s=mo(t,n);Na(i,lf(i,s),o,function Rx(t,n){return t.nextSibling(n)}(i,s),!1)}n[t.index]=e=Ab(r,n,o,t),vf(n,e)}return new AS(e,t,n)}class wg{constructor(n){this.queryList=n,this.matches=null}clone(){return new wg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Dg(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==LS(n,e).matches&&this.queries[e].setDirty()}}class RS{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class Eg{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new Eg(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ig{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Ig(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,lO(e,i)),this.matchTNodeWithReadOption(n,e,Yd(e,n,i,!1,!1))}else r===Ro?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Yd(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Ge||o===so||o===Ro&&4&e.type)this.addMatch(e.index,-2);else{const i=Yd(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function lO(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function uO(t,n,e,r){return-1===e?function cO(t,n){return 11&t.type?Ql(t,n):4&t.type?Pf(t,n):null}(n,t):-2===e?function dO(t,n,e){return e===Ge?Ql(n,t):e===Ro?Pf(n,t):e===so?PS(n,t):void 0}(t,n,r):zc(t,t[1],e,n)}function OS(t,n,e,r){const o=n[19].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:uO(n,i[u],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function Tg(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=OS(t,n,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const u=i[a+1],p=n[-c];for(let h=10;h<p.length;h++){const y=p[h];y[17]===y[3]&&Tg(y[1],y,u,r)}if(null!==p[9]){const h=p[9];for(let y=0;y<h.length;y++){const S=h[y];Tg(S[1],S,u,r)}}}}}return r}function ni(t){const n=He(),e=sn(),r=f();m(r+1);const o=LS(e,r);if(t.dirty&&Lc(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?Tg(e,n,r,[]):OS(e,n,o,r);t.reset(i,yR),t.notifyOnChanges()}return!0}return!1}function Rf(t,n,e){const r=sn();r.firstCreatePass&&(NS(r,new RS(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),FS(r,He(),n)}function ri(){return function fO(t,n){return t[19].queries[n].queryList}(He(),f())}function FS(t,n,e){const r=new Cg(4==(4&e));wb(t,n,r,r.destroy),null===n[19]&&(n[19]=new Dg),n[19].queries.push(new wg(r))}function NS(t,n,e){null===t.queries&&(t.queries=new Eg),t.queries.track(new Ig(n,e))}function LS(t,n){return t.queries.getByIndex(n)}function Ff(...t){}const ja=new It("Application Initializer");let Nf=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Ff,this.reject=Ff,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(uu(i))e.push(i);else if(sg(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(oe(ja,8))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Cu=new It("AppId",{providedIn:"root",factory:function nw(){return`${Pg()}${Pg()}${Pg()}`}});function Pg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rw=new It("Platform Initializer"),oc=new It("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ow=new It("appBootstrapListener");let OO=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ds=new It("LocaleId",{providedIn:"root",factory:()=>Oa(Ds,Et.Optional|Et.SkipSelf)||function FO(){return typeof $localize<"u"&&$localize.locale||Yl}()});class LO{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let Rg=(()=>{class t{compileModuleSync(e){return new vg(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=gs(Jr(e).declarations).reduce((s,a)=>{const c=Sn(a);return c&&s.push(new yg(c)),s},[]);return new LO(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const VO=(()=>Promise.resolve(0))();function Og(t){typeof Zone>"u"?VO.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Be{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function HO(){let t=vn.requestAnimationFrame,n=vn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function GO(t){const n=()=>{!function UO(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(vn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ng(t),t.isCheckStableRunning=!0,Fg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ng(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return aw(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),lw(t)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return aw(t),e.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),lw(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ng(t),Fg(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new w(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,jO,Ff,Ff);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const jO={};function Fg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ng(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function aw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lw(t){t._nesting--,Fg(t)}class zO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const cw=new It(""),Lf=new It("");let Bg,Lg=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bg||(function WO(t){Bg=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),Og(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Og(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(oe(Be),oe($g),oe(Lf))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),$g=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){var o,i;return null!==(o=null===(i=Bg)||void 0===i?void 0:i.findTestabilityInTree(this,e,r))&&void 0!==o?o:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),na=null;const uw=new It("AllowMultipleToken"),Vg=new It("PlatformDestroyListeners");class dw{constructor(n,e){this.name=n,this.token=e}}function pw(t,n,e=[]){const r=`Platform: ${n}`,o=new It(r);return(i=[])=>{let s=Hg();if(!s||s.injector.get(uw,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function KO(t){if(na&&!na.get(uw,!1))throw new w(400,!1);na=t;const n=t.get(mw);(function fw(t){const n=t.get(rw,null);n&&n.forEach(e=>e())})(t)}(function hw(t=[],n){return Mn.create({name:n,providers:[{provide:Cm,useValue:"platform"},{provide:Vg,useValue:new Set([()=>na=null])},...t]})}(a,r))}return function XO(t){const n=Hg();if(!n)throw new w(401,!1);return n}()}}function Hg(){var t,n;return null!==(t=null===(n=na)||void 0===n?void 0:n.get(mw))&&void 0!==t?t:null}let mw=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function QO(t,n){let e;return e="noop"===t?new zO:("zone.js"===t?void 0:t)||new Be(n),e}(r?.ngZone,function gw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:Be,useValue:o}];return o.run(()=>{const s=Mn.create({providers:i,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(Pl,null);if(!c)throw new w(402,!1);return o.runOutsideAngular(()=>{const u=o.onError.subscribe({next:p=>{c.handleError(p)}});a.onDestroy(()=>{$f(this._modules,a),u.unsubscribe()})}),function yw(t,n,e){try{const r=e();return uu(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,o,()=>{const u=a.injector.get(Nf);return u.runInitializers(),u.donePromise.then(()=>(function jC(t){Pr(t,"Expected localeId to be defined"),"string"==typeof t&&(HC=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ds,Yl)||Yl),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const o=vw({},r);return function qO(t,n,e){const r=new vg(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(ra);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new w(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new w(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(Vg,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(oe(Mn))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function vw(t,n){return Array.isArray(n)?n.reduce(vw,t):{...t,...n}}let ra=(()=>{class t{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new qe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new qe(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),Og(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=vi(i,s.pipe(ls()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof mS;if(!this._injector.get(Nf).done)throw!o&&function nc(t){const n=Sn(t)||Rr(t)||Or(t);return null!==n&&n.standalone}(e),new w(405,false);let s;s=o?e:this._injector.get(Cs).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function ZO(t){return t.isBoundToModule}(s)?void 0:this._injector.get(ta),u=s.create(Mn.NULL,[],r||s.selector,a),p=u.location.nativeElement,h=u.injector.get(cw,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),$f(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new w(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;$f(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ow,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>$f(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new w(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(oe(Be),oe(Mn),oe(Pl))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $f(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let bw=!0,Je=(()=>{class t{}return t.__NG_ELEMENT_ID__=tF,t})();function tF(t){return function nF(t,n,e){if(xa(t)&&!e){const r=to(t.index,n);return new yu(r,r)}return 47&t.type?new yu(n[16],n):null}(Mt(),He(),16==(16&t))}class Ew{constructor(){}supports(n){return lu(n)}create(n){return new lF(n)}}const aF=(t,n)=>n;class lF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||aF}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<Tw(r,o,i)?e:r,a=Tw(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const u=a-o,p=c-o;if(u!=p){for(let y=0;y<u;y++){const S=y<i.length?i[y]:i[y]=0,F=S+y;p<=F&&F<u&&(i[y]=S+1)}i[s.previousIndex]=p-u}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!lu(n))throw new w(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function Ck(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Ba()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new cF(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new Iw),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Iw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class cF{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class Iw{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new uF,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tw(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function xw(){return new Su([new Ew])}let Su=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||xw()),deps:[[t,new Qc,new Xs]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new w(901,!1)}}return t.\u0275prov=Ze({token:t,providedIn:"root",factory:xw}),t})();const mF=pw(null,"core",[]);let gF=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(oe(ra))},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({}),t})(),Hf=null;function Xi(){return Hf}const Mr=new It("DocumentToken");let jf=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:function(){return function bF(){return oe(kw)}()},providedIn:"platform"}),t})();const CF=new It("Location Initialized");let kw=(()=>{class t extends jf{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xi().getBaseHref(this._doc)}onPopState(e){const r=Xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){Pw()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){Pw()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(oe(Mr))},t.\u0275prov=Ze({token:t,factory:function(){return function SF(){return new kw(oe(Mr))}()},providedIn:"platform"}),t})();function Pw(){return!!window.history.pushState}function Wg(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function Rw(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function Ts(t){return t&&"?"!==t[0]?"?"+t:t}let Qi=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:function(){return function wF(){const t=oe(Mr).location;return new Fw(oe(jf),t&&t.origin||"")}()},providedIn:"root"}),t})();const Ow=new It("appBaseHref");let Fw=(()=>{class t extends Qi{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Wg(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ts(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+Ts(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+Ts(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(oe(jf),oe(Ow,8))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),Nw=(()=>{class t extends Qi{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Wg(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+Ts(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+Ts(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(oe(jf),oe(Ow,8))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),Du=(()=>{class t{constructor(e){this._subject=new Kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=Rw(Lw(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ts(r))}normalize(e){return t.stripTrailingSlash(function EF(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,Lw(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ts(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ts(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var r,o;null===(r=(o=this._locationStrategy).historyGo)||void 0===r||r.call(o,e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);var o;this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return t.normalizeQueryParams=Ts,t.joinWithSlash=Wg,t.stripTrailingSlash=Rw,t.\u0275fac=function(e){return new(e||t)(oe(Qi))},t.\u0275prov=Ze({token:t,factory:function(){return function DF(){return new Du(oe(Qi))}()},providedIn:"root"}),t})();function Lw(t){return t.replace(/\/index.html$/,"")}function Ww(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class uN{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tu=(()=>{class t{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new uN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),Kw(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Kw(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(g(so),g(Ro),g(Su))},t.\u0275dir=ht({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function Kw(t,n){t.context.$implicit=n.item}let _o=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new fN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Yw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Yw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(g(so),g(Ro))},t.\u0275dir=ht({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class fN{constructor(){this.$implicit=null,this.ngIf=null}}function Yw(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${hn(n)}'.`)}class yN{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class vN{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const _N=new vN,bN=new yN;let Qw=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(uu(e))return _N;if(Zb(e))return bN;throw function Mi(t,n){return new w(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(g(Je,16))},t.\u0275pipe=pr({name:"async",type:t,pure:!1}),t})(),Ji=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({}),t})();const eD="browser";function xs(t){return t===eD}let VN=(()=>{class t{}return t.\u0275prov=Ze({token:t,providedIn:"root",factory:()=>new HN(oe(Mr),window)}),t})();class HN{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function jN(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=tD(this.window.history)||tD(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function tD(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class nD{}class ay extends class UN extends class _F{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function vF(t){Hf||(Hf=t)}(new ay)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function GN(){return Mu=Mu||document.querySelector("base"),Mu?Mu.getAttribute("href"):null}();return null==e?null:function zN(t){Qf=Qf||document.createElement("a"),Qf.setAttribute("href",t);const n=Qf.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Mu=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Ww(document.cookie,n)}}let Qf,Mu=null;const rD=new It("TRANSITION_ID"),qN=[{provide:ja,useFactory:function WN(t,n,e){return()=>{e.get(Nf).donePromise.then(()=>{const r=Xi(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[rD,Mr,Mn],multi:!0}];let KN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();const Jf=new It("EventManagerPlugins");let ep=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(oe(Jf),oe(Be))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();class oD{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const o=Xi().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let iD=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),xu=(()=>{class t extends iD{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(sD),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(sD))}}return t.\u0275fac=function(e){return new(e||t)(oe(Mr))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();function sD(t){Xi().remove(t)}const ly={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cy=/%COMP%/g;function tp(t,n,e){for(let r=0;r<n.length;r++){let o=n[r];Array.isArray(o)?tp(t,o,e):(o=o.replace(cy,t),e.push(o))}return e}function cD(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let uy=(()=>{class t{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new dy(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case Vo.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new t2(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case Vo.ShadowDom:return new n2(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=tp(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(oe(ep),oe(xu),oe(Cu))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();class dy{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(ly[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(dD(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(dD(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=ly[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=ly[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(Po.DashCase|Po.Important)?n.style.setProperty(e,r,o&Po.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&Po.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,cD(r)):this.eventManager.addEventListener(n,e,cD(r))}}function dD(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class t2 extends dy{constructor(n,e,r,o){super(n),this.component=r;const i=tp(o+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function QN(t){return"_ngcontent-%COMP%".replace(cy,t)}(o+"-"+r.id),this.hostAttr=function JN(t){return"_nghost-%COMP%".replace(cy,t)}(o+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class n2 extends dy{constructor(n,e,r,o){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=tp(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let r2=(()=>{class t extends oD{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return t.\u0275fac=function(e){return new(e||t)(oe(Mr))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();const fD=["alt","control","meta","shift"],i2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pD={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},s2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let a2=(()=>{class t extends oD{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xi().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="";if(fD.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const a={};return a.domEventName=o,a.fullKey=s,a}static getEventFullKey(e){let r="",o=function l2(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&pD.hasOwnProperty(n)&&(n=pD[n]))}return i2[n]||n}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),fD.forEach(i=>{i!=o&&s2[i](e)&&(r+=i+".")}),r+=o,r}static eventCallback(e,r,o){return i=>{t.getEventFullKey(i)===e&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(oe(Mr))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();const hD=[{provide:oc,useValue:eD},{provide:rw,useValue:function c2(){ay.makeCurrent()},multi:!0},{provide:Mr,useFactory:function d2(){return function _M(t){zh=t}(document),document},deps:[]}],f2=pw(mF,"browser",hD),mD=new It(""),gD=[{provide:Lf,useClass:class ZN{addToWindow(n){vn.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},vn.getAllAngularTestabilities=()=>n.getAllTestabilities(),vn.getAllAngularRootElements=()=>n.getAllRootElements(),vn.frameworkStabilizers||(vn.frameworkStabilizers=[]),vn.frameworkStabilizers.push(r=>{const o=vn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?Xi().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:cw,useClass:Lg,deps:[Be,$g,Lf]},{provide:Lg,useClass:Lg,deps:[Be,$g,Lf]}],yD=[{provide:Cm,useValue:"root"},{provide:Pl,useFactory:function u2(){return new Pl},deps:[]},{provide:Jf,useClass:r2,multi:!0,deps:[Mr,Be,oc]},{provide:Jf,useClass:a2,multi:!0,deps:[Mr]},{provide:uy,useClass:uy,deps:[ep,xu,Cu]},{provide:gS,useExisting:uy},{provide:iD,useExisting:xu},{provide:xu,useClass:xu,deps:[Mr]},{provide:ep,useClass:ep,deps:[Jf,Be]},{provide:nD,useClass:KN,deps:[]},[]];let p2=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Cu,useValue:e.appId},{provide:rD,useExisting:Cu},qN]}}}return t.\u0275fac=function(e){return new(e||t)(oe(mD,12))},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({providers:[...yD,...gD],imports:[Ji,gF]}),t})(),vD=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(oe(Mr))},t.\u0275prov=Ze({token:t,factory:function(e){let r=null;return r=e?new e:function m2(){return new vD(oe(Mr))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let hy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:function(e){let r=null;return r=e?new(e||t):oe(CD),r},providedIn:"root"}),t})(),CD=(()=>{class t extends hy{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case On.NONE:return r;case On.HTML:return Gi(r,"HTML")?Uo(r):l0(this._doc,String(r)).toString();case On.STYLE:return Gi(r,"Style")?Uo(r):r;case On.SCRIPT:if(Gi(r,"Script"))return Uo(r);throw new Error("unsafe value used in a script context");case On.URL:return Gi(r,"URL")?Uo(r):tu(String(r));case On.RESOURCE_URL:if(Gi(r,"ResourceURL"))return Uo(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function MM(t){return new SM(t)}(e)}bypassSecurityTrustStyle(e){return function xM(t){return new wM(t)}(e)}bypassSecurityTrustScript(e){return function AM(t){return new DM(t)}(e)}bypassSecurityTrustUrl(e){return function kM(t){return new EM(t)}(e)}bypassSecurityTrustResourceUrl(e){return function PM(t){return new IM(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(oe(Mr))},t.\u0275prov=Ze({token:t,factory:function(e){let r=null;return r=e?new e:function w2(t){return new CD(t.get(Mr))}(oe(Mn)),r},providedIn:"root"}),t})();var zr=D(1158),D2=D(9233),ic=D.n(D2);let np,rp;function SD(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function wD(){return void 0!==rp}class DD{constructor(){this.requestEvent=new zr.j}dispatchRequest(n){if(n){try{n=new(ic())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let my=(()=>{class t{constructor(){this.installation=new DD,this.import=new DD,np&&this.installation.dispatchRequest(np),rp&&this.import.dispatchRequest(rp)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Lt(...t){return yn(t,Gn(t))}function sc(t,n){return _(n)?In(t,n,1):In(t,1)}function Wr(t,n){return be((e,r)=>{let o=0;e.subscribe(Fe(r,i=>t.call(n,i,o++)&&r.next(i)))})}class ED{}class ID{}class As{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof As?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new As;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof As?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class T2{encodeKey(n){return TD(n)}encodeValue(n){return TD(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const x2=/%(\d[a-f0-9])/gi,A2={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function TD(t){return encodeURIComponent(t).replace(x2,(n,e)=>{var r;return null!==(r=A2[e])&&void 0!==r?r:n})}function op(t){return`${t}`}class ia{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new T2,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function M2(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(op):[op(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new ia({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(op(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(op(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class k2{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function MD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function xD(t){return typeof Blob<"u"&&t instanceof Blob}function AD(t){return typeof FormData<"u"&&t instanceof FormData}class Au{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function P2(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new As),this.context||(this.context=new k2),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new ia,this.urlWithParams=e}serializeBody(){return null===this.body?null:MD(this.body)||xD(this.body)||AD(this.body)||function R2(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ia?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||AD(this.body)?null:xD(this.body)?this.body.type||null:MD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ia?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const r=n.method||this.method,o=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,c=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let u=n.headers||this.headers,p=n.params||this.params;const h=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((y,S)=>y.set(S,n.setHeaders[S]),u)),n.setParams&&(p=Object.keys(n.setParams).reduce((y,S)=>y.set(S,n.setParams[S]),p)),new Au(r,o,s,{params:p,headers:u,context:h,reportProgress:c,responseType:i,withCredentials:a})}}var yr=(()=>((yr=yr||{})[yr.Sent=0]="Sent",yr[yr.UploadProgress=1]="UploadProgress",yr[yr.ResponseHeader=2]="ResponseHeader",yr[yr.DownloadProgress=3]="DownloadProgress",yr[yr.Response=4]="Response",yr[yr.User=5]="User",yr))();class gy{constructor(n,e=200,r="OK"){this.headers=n.headers||new As,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class yy extends gy{constructor(n={}){super(n),this.type=yr.ResponseHeader}clone(n={}){return new yy({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class ip extends gy{constructor(n={}){super(n),this.type=yr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new ip({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class kD extends gy{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function vy(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let _y=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof Au)i=e;else{let c,u;c=o.headers instanceof As?o.headers:new As(o.headers),o.params&&(u=o.params instanceof ia?o.params:new ia({fromObject:o.params})),i=new Au(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=Lt(i).pipe(sc(c=>this.handler.handle(c)));if(e instanceof Au||"events"===o.observe)return s;const a=s.pipe(Wr(c=>c instanceof ip));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ne(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Ne(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Ne(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Ne(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new ia).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,vy(o,r))}post(e,r,o={}){return this.request("POST",e,vy(o,r))}put(e,r,o={}){return this.request("PUT",e,vy(o,r))}}return t.\u0275fac=function(e){return new(e||t)(oe(ED))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();class PD{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const RD=new It("HTTP_INTERCEPTORS");let O2=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();const F2=/^\)\]\}',?\n/;let OD=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qe(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((S,F)=>o.setRequestHeader(S,F.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const S=e.detectContentTypeHeader();null!==S&&o.setRequestHeader("Content-Type",S)}if(e.responseType){const S=e.responseType.toLowerCase();o.responseType="json"!==S?S:"text"}const i=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const S=o.statusText||"OK",F=new As(o.getAllResponseHeaders()),ge=function N2(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new yy({headers:F,status:o.status,statusText:S,url:ge}),s},c=()=>{let{headers:S,status:F,statusText:ge,url:ke}=a(),we=null;204!==F&&(we=typeof o.response>"u"?o.responseText:o.response),0===F&&(F=we?200:0);let Ue=F>=200&&F<300;if("json"===e.responseType&&"string"==typeof we){const he=we;we=we.replace(F2,"");try{we=""!==we?JSON.parse(we):null}catch(Ke){we=he,Ue&&(Ue=!1,we={error:Ke,text:we})}}Ue?(r.next(new ip({body:we,headers:S,status:F,statusText:ge,url:ke||void 0})),r.complete()):r.error(new kD({error:we,headers:S,status:F,statusText:ge,url:ke||void 0}))},u=S=>{const{url:F}=a(),ge=new kD({error:S,status:o.status||0,statusText:o.statusText||"Unknown Error",url:F||void 0});r.error(ge)};let p=!1;const h=S=>{p||(r.next(a()),p=!0);let F={type:yr.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(F.total=S.total),"text"===e.responseType&&!!o.responseText&&(F.partialText=o.responseText),r.next(F)},y=S=>{let F={type:yr.UploadProgress,loaded:S.loaded};S.lengthComputable&&(F.total=S.total),r.next(F)};return o.addEventListener("load",c),o.addEventListener("error",u),o.addEventListener("timeout",u),o.addEventListener("abort",u),e.reportProgress&&(o.addEventListener("progress",h),null!==i&&o.upload&&o.upload.addEventListener("progress",y)),o.send(i),r.next({type:yr.Sent}),()=>{o.removeEventListener("error",u),o.removeEventListener("abort",u),o.removeEventListener("load",c),o.removeEventListener("timeout",u),e.reportProgress&&(o.removeEventListener("progress",h),null!==i&&o.upload&&o.upload.removeEventListener("progress",y)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(oe(nD))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();const by=new It("XSRF_COOKIE_NAME"),Cy=new It("XSRF_HEADER_NAME");class FD{}let L2=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ww(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(oe(Mr),oe(oc),oe(by))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),Sy=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(oe(FD),oe(Cy))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),$2=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(RD,[]);this.chain=r.reduceRight((o,i)=>new PD(o,i),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(oe(ID),oe(Mn))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),B2=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Sy,useClass:O2}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:by,useValue:e.cookieName}:[],e.headerName?{provide:Cy,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({providers:[Sy,{provide:RD,useExisting:Sy,multi:!0},{provide:FD,useClass:L2},{provide:by,useValue:"XSRF-TOKEN"},{provide:Cy,useValue:"X-XSRF-TOKEN"}]}),t})(),V2=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({providers:[_y,{provide:ED,useClass:$2},OD,{provide:ID,useExisting:OD}],imports:[B2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();const{isArray:H2}=Array,{getPrototypeOf:j2,prototype:U2,keys:G2}=Object;function ND(t){if(1===t.length){const n=t[0];if(H2(n))return{args:n,keys:null};if(function z2(t){return t&&"object"==typeof t&&j2(t)===U2}(n)){const e=G2(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:W2}=Array;function wy(t){return Ne(n=>function q2(t,n){return W2(n)?t(...n):t(n)}(t,n))}function LD(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let $D=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(g(Ss),g(Ge))},t.\u0275dir=ht({type:t}),t})(),Ga=(()=>{class t extends $D{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Gr(t)))(r||t)}}(),t.\u0275dir=ht({type:t,features:[fn]}),t})();const bo=new It("NgValueAccessor"),Y2={provide:bo,useExisting:b(()=>Dy),multi:!0},Q2=new It("CompositionEventMode");let Dy=(()=>{class t extends $D{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function X2(){const t=Xi()?Xi().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(g(Ss),g(Ge),g(Q2,8))},t.\u0275dir=ht({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&We("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[En([Y2]),fn]}),t})();function sa(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function VD(t){return null!=t&&"number"==typeof t.length}const ao=new It("NgValidators"),aa=new It("NgAsyncValidators"),eL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ey{static min(n){return function HD(t){return n=>{if(sa(n.value)||sa(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function jD(t){return n=>{if(sa(n.value)||sa(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function UD(t){return sa(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function GD(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function zD(t){return sa(t.value)||eL.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function WD(t){return n=>sa(n.value)||!VD(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return qD(n)}static pattern(n){return function ZD(t){if(!t)return sp;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(sa(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return eE(n)}static composeAsync(n){return tE(n)}}function qD(t){return n=>VD(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function sp(t){return null}function KD(t){return null!=t}function YD(t){return uu(t)?yn(t):t}function XD(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function QD(t,n){return n.map(e=>e(t))}function JD(t){return t.map(n=>function tL(t){return!t.validate}(n)?n:e=>n.validate(e))}function eE(t){if(!t)return null;const n=t.filter(KD);return 0==n.length?null:function(e){return XD(QD(e,n))}}function Iy(t){return null!=t?eE(JD(t)):null}function tE(t){if(!t)return null;const n=t.filter(KD);return 0==n.length?null:function(e){return function Z2(...t){const n=fo(t),{args:e,keys:r}=ND(t),o=new qe(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,u=s;for(let p=0;p<s;p++){let h=!1;on(e[p]).subscribe(Fe(i,y=>{h||(h=!0,u--),a[p]=y},()=>c--,void 0,()=>{(!c||!h)&&(u||i.next(r?LD(r,a):a),i.complete())}))}});return n?o.pipe(wy(n)):o}(QD(e,n).map(YD)).pipe(Ne(XD))}}function Ty(t){return null!=t?tE(JD(t)):null}function nE(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function rE(t){return t._rawValidators}function oE(t){return t._rawAsyncValidators}function My(t){return t?Array.isArray(t)?t:[t]:[]}function ap(t,n){return Array.isArray(t)?t.includes(n):t===n}function iE(t,n){const e=My(n);return My(t).forEach(o=>{ap(e,o)||e.push(o)}),e}function sE(t,n){return My(n).filter(e=>!ap(t,e))}class aE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Iy(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Ty(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Co extends aE{get formDirective(){return null}get path(){return null}}class ks extends aE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lE{constructor(n){this._cd=n}get isTouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.touched)}get isUntouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.untouched)}get isPristine(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pristine)}get isDirty(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.dirty)}get isValid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.valid)}get isInvalid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.invalid)}get isPending(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let za=(()=>{class t extends lE{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(g(ks,2))},t.\u0275dir=ht({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&ea("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[fn]}),t})(),Wa=(()=>{class t extends lE{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(g(Co,10))},t.\u0275dir=ht({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&ea("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[fn]}),t})();const ku="VALID",cp="INVALID",ac="PENDING",Pu="DISABLED";function Py(t){return(up(t)?t.validators:t)||null}function uE(t){return Array.isArray(t)?Iy(t):t||null}function Ry(t,n){return(up(n)?n.asyncValidators:t)||null}function dE(t){return Array.isArray(t)?Ty(t):t||null}function up(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class hE{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=uE(this._rawValidators),this._composedAsyncValidatorFn=dE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ku}get invalid(){return this.status===cp}get pending(){return this.status==ac}get disabled(){return this.status===Pu}get enabled(){return this.status!==Pu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=uE(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=dE(n)}addValidators(n){this.setValidators(iE(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(iE(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(sE(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(sE(n,this._rawAsyncValidators))}hasValidator(n){return ap(this._rawValidators,n)}hasAsyncValidator(n){return ap(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ac,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Pu,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ku,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ku||this.status===ac)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pu:ku}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ac,this._hasOwnPendingAsyncValidator=!0;const e=YD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Kt,this.statusChanges=new Kt}_calculateStatus(){return this._allControlsDisabled()?Pu:this.errors?cp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ac)?ac:this._anyControlsHaveStatus(cp)?cp:ku}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){up(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class lc extends hE{constructor(n,e,r){super(Py(e),Ry(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function pE(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new w(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function fE(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new w(1e3,"");if(!r[e])throw new w(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const dp=lc;function Ru(t,n){var e,r;Oy(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&(null===(e=(r=n.valueAccessor).setDisabledState)||void 0===e||e.call(r,!0)),function uL(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&mE(t,n)})}(t,n),function fL(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function dL(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&mE(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function cL(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function pp(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),mp(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function hp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Oy(t,n){const e=rE(t);null!==n.validator?t.setValidators(nE(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=oE(t);null!==n.asyncValidator?t.setAsyncValidators(nE(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();hp(n._rawValidators,o),hp(n._rawAsyncValidators,o)}function mp(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=rE(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=oE(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return hp(n._rawValidators,r),hp(n._rawAsyncValidators,r),e}function mE(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _E(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function bE(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const qa=class extends hE{constructor(n=null,e,r){super(Py(e),Ry(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),up(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=bE(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){_E(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){_E(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){bE(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Nr=qa;let Za=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ht({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),IE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({}),t})();const $y=new It("NgModelWithFormControlWarning"),IL={provide:Co,useExisting:b(()=>Ps)};let Ps=(()=>{class t extends Co{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Kt,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(mp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Ru(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){pp(e.control||null,e,!1),function gL(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function vE(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(pp(r||null,e),(t=>t instanceof qa)(o)&&(Ru(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function gE(t,n){Oy(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function pL(t,n){return mp(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oy(this.form,this),this._oldForm&&mp(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(g(ao,10),g(aa,10))},t.\u0275dir=ht({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&We("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[En([IL]),fn,Er]}),t})();const xL={provide:ks,useExisting:b(()=>la)};let la=(()=>{class t extends ks{constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Kt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Ny(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===Dy?e=i:function mL(t){return Object.getPrototypeOf(t.constructor)===Ga}(i)?r=i:o=i}),o||r||e||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Fy(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function fp(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(g(Co,13),g(ao,10),g(aa,10),g(bo,10),g($y,8))},t.\u0275dir=ht({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[En([xL]),fn,Er]}),t})();let Ka=(()=>{class t{constructor(){this._validator=sp}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):sp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=ht({type:t,features:[Er]}),t})();const jL={provide:ao,useExisting:b(()=>Gy),multi:!0};let Gy=(()=>{class t extends Ka{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function RE(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>qD(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Gr(t)))(r||t)}}(),t.\u0275dir=ht({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Zi("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[En([jL]),fn]}),t})(),HE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[IE]}),t})(),Ya=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[HE]}),t})(),gp=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:$y,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[HE]}),t})();const zL=["addListener","removeListener"],WL=["addEventListener","removeEventListener"],qL=["on","off"];function Fu(t,n,e,r){if(_(e)&&(r=e,e=void 0),r)return Fu(t,n,e).pipe(wy(r));const[o,i]=function YL(t){return _(t.addEventListener)&&_(t.removeEventListener)}(t)?WL.map(s=>a=>t[s](n,a,e)):function ZL(t){return _(t.addListener)&&_(t.removeListener)}(t)?zL.map(jE(t,n)):function KL(t){return _(t.on)&&_(t.off)}(t)?qL.map(jE(t,n)):[];if(!o&&Yt(t))return In(s=>Fu(s,n,e))(on(t));if(!o)throw new TypeError("Invalid event target");return new qe(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function jE(t,n){return e=>r=>t[e](n,r)}class zo extends k{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function UE(...t){const n=Gn(t),e=fo(t),{args:r,keys:o}=ND(t);if(0===r.length)return yn([],n);const i=new qe(function XL(t,n,e=B){return r=>{GE(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)GE(n,()=>{const u=yn(t[c],n);let p=!1;u.subscribe(Fe(r,h=>{i[c]=h,p||(p=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>LD(o,s):B));return e?i.pipe(wy(e)):i}function GE(t,n,e){t?_r(e,t,n):n()}function cc(t,n){const e=_(t)?t:()=>t,r=o=>o.error(e());return new qe(n?o=>n.schedule(r,0,o):r)}const Nu=d(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Lu(...t){return function QL(){return Hr(1)}()(yn(t,Gn(t)))}function yp(t){return new qe(n=>{on(t()).subscribe(n)})}function zy(){return be((t,n)=>{let e=null;t._refCount++;const r=Fe(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class Wy extends qe{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,fe(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new R;const e=this.getSubject();n.add(this.source.subscribe(Fe(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=R.EMPTY)}return n}refCount(){return zy()(this)}}function Fo(t,n){return be((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(Fe(r,c=>{o?.unsubscribe();let u=0;const p=i++;on(t(c,p)).subscribe(o=Fe(r,h=>r.next(n?n(c,h,p,u++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Wo(t){return t<=0?()=>br:be((n,e)=>{let r=0;n.subscribe(Fe(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function zE(...t){const n=Gn(t);return be((e,r)=>{(n?Lu(t,e,n):Lu(t,e)).subscribe(r)})}function JL(t,n,e,r,o){return(i,s)=>{let a=e,c=n,u=0;i.subscribe(Fe(s,p=>{const h=u++;c=a?t(c,p,h):(a=!0,p),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function WE(t,n){return be(JL(t,n,arguments.length>=2,!0))}function ca(t){return be((n,e)=>{let i,r=null,o=!1;r=n.subscribe(Fe(e,void 0,void 0,s=>{i=on(t(s,ca(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function qy(t){return t<=0?()=>br:be((n,e)=>{let r=[];n.subscribe(Fe(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function qE(t=e$){return be((n,e)=>{let r=!1;n.subscribe(Fe(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function e$(){return new Nu}function Zy(t){return be((n,e)=>{let r=!1;n.subscribe(Fe(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function ua(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Wr((o,i)=>t(o,i,r)):B,Wo(1),e?Zy(n):qE(()=>new Nu))}function qr(t,n,e){const r=_(t)||n||e?{next:t,error:n,complete:e}:t;return r?be((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(Fe(i,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),i.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):B}function Ky(t){return Ne(()=>t)}function Yy(t){return be((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class Rs{constructor(n,e){this.id=n,this.url=e}}class vp extends Rs{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xa extends Rs{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _p extends Rs{constructor(n,e,r){super(n,e),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ZE extends Rs{constructor(n,e,r){super(n,e),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class n$ extends Rs{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r$ extends Rs{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o$ extends Rs{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class i$ extends Rs{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s$ extends Rs{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a${constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class l${constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c${constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u${constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d${constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f${constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KE{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class h${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function uc(t){return new h$(t)}const Xy="Redirecting to ",YE="ngNavigationCancelingError";function Qy(t){const n=Error("NavigationCancelingError: "+(t||""));return n[YE]=!0,n}function g$(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function es(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!XE(t[o],n[o]))return!1;return!0}function XE(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function QE(t){return Array.prototype.concat.apply([],t)}function JE(t){return t.length>0?t[t.length-1]:null}function Zr(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function da(t){return sg(t)?t:uu(t)?yn(Promise.resolve(t)):Lt(t)}const _$={exact:function nI(t,n,e){if(!Ja(t.segments,n.segments)||!bp(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!nI(t.children[r],n.children[r],e))return!1;return!0},subset:rI},eI={exact:function b$(t,n){return es(t,n)},subset:function C$(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>XE(t[e],n[e]))},ignored:()=>!0};function tI(t,n,e){return _$[e.paths](t.root,n.root,e.matrixParams)&&eI[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function rI(t,n,e){return oI(t,n,n.segments,e)}function oI(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Ja(o,e)||n.hasChildren()||!bp(o,e,r))}if(t.segments.length===e.length){if(!Ja(t.segments,e)||!bp(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!rI(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(Ja(t.segments,o)&&bp(t.segments,o,r)&&t.children[Jt])&&oI(t.children[Jt],n,i,r)}}function bp(t,n,e){return n.every((r,o)=>eI[e](t[o].parameters,r.parameters))}class Qa{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return D$.serialize(this)}}class cn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Zr(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cp(this)}}class $u{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=uc(this.parameters)),this._parameterMap}toString(){return lI(this)}}function Ja(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}class ev{}class iI{parse(n){const e=new R$(n);return new Qa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Bu(n.root,!0)}`,r=function T$(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${Sp(e)}=${Sp(o)}`).join("&"):`${Sp(e)}=${Sp(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function E$(t){return encodeURI(t)}(n.fragment)}`:""}`}}const D$=new iI;function Cp(t){return t.segments.map(n=>lI(n)).join("/")}function Bu(t,n){if(!t.hasChildren())return Cp(t);if(n){const e=t.children[Jt]?Bu(t.children[Jt],!1):"",r=[];return Zr(t.children,(o,i)=>{i!==Jt&&r.push(`${i}:${Bu(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function w$(t,n){let e=[];return Zr(t.children,(r,o)=>{o===Jt&&(e=e.concat(n(r,o)))}),Zr(t.children,(r,o)=>{o!==Jt&&(e=e.concat(n(r,o)))}),e}(t,(r,o)=>o===Jt?[Bu(t.children[Jt],!1)]:[`${o}:${Bu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Jt]?`${Cp(t)}/${e[0]}`:`${Cp(t)}/(${e.join("//")})`}}function sI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sp(t){return sI(t).replace(/%3B/gi,";")}function tv(t){return sI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wp(t){return decodeURIComponent(t)}function aI(t){return wp(t.replace(/\+/g,"%20"))}function lI(t){return`${tv(t.path)}${function I$(t){return Object.keys(t).map(n=>`;${tv(n)}=${tv(t[n])}`).join("")}(t.parameters)}`}const M$=/^[^\/()?;=#]+/;function Dp(t){const n=t.match(M$);return n?n[0]:""}const x$=/^[^=?&#]+/,k$=/^[^&#]+/;class R${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[Jt]=new cn(n,e)),r}parseSegment(){const n=Dp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(n),new $u(wp(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Dp(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=Dp(this.remaining);o&&(r=o,this.capture(r))}n[wp(e)]=wp(r)}parseQueryParam(n){const e=function A$(t){const n=t.match(x$);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function P$(t){const n=t.match(k$);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=aI(e),i=aI(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Dp(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new w(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Jt);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Jt]:new cn([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new w(4011,!1)}}class cI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=nv(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=nv(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=rv(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return rv(n,this._root).map(e=>e.value)}}function nv(t,n){if(t===n.value)return n;for(const e of n.children){const r=nv(t,e);if(r)return r}return null}function rv(t,n){if(t===n.value)return[n];for(const e of n.children){const r=rv(t,e);if(r.length)return r.unshift(n),r}return[]}class Os{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function dc(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class uI extends cI{constructor(n,e){super(n),this.snapshot=e,ov(this,n)}toString(){return this.snapshot.toString()}}function dI(t,n){const e=function O$(t,n){const s=new Ep([],{},{},"",{},Jt,n,null,t.root,-1,{});return new pI("",new Os(s,[]))}(t,n),r=new zo([new $u("",{})]),o=new zo({}),i=new zo({}),s=new zo({}),a=new zo(""),c=new Fs(r,o,s,a,i,Jt,n,e.root);return c.snapshot=e.root,new uI(new Os(c,[]),e)}class Fs{constructor(n,e,r,o,i,s,a,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ne(n=>uc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ne(n=>uc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fI(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function F$(t){return t.reduce((n,e)=>{var r;return{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...null===(r=e.routeConfig)||void 0===r?void 0:r.data,...e._resolvedData}}},{params:{},data:{},resolve:{}})}(e.slice(r))}class Ep{constructor(n,e,r,o,i,s,a,c,u,p,h,y){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=p,this._correctedLastPathIndex=y??p,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pI extends cI{constructor(n,e){super(e),this.url=n,ov(this,e)}toString(){return hI(this._root)}}function ov(t,n){n.value._routerState=t,n.children.forEach(e=>ov(t,e))}function hI(t){const n=t.children.length>0?` { ${t.children.map(hI).join(", ")} } `:"";return`${t.value}${n}`}function iv(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,es(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),es(n.params,e.params)||t.params.next(e.params),function y$(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!es(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),es(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function sv(t,n){const e=es(t.params,n.params)&&function S$(t,n){return Ja(t,n)&&t.every((e,r)=>es(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||sv(t.parent,n.parent))}function Vu(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function L$(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Vu(t,r,o);return Vu(t,r)})}(t,n,e);return new Os(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Vu(t,a)),s}}const r=function $$(t){return new Fs(new zo(t.url),new zo(t.params),new zo(t.queryParams),new zo(t.fragment),new zo(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>Vu(t,i));return new Os(r,o)}}function Ip(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Hu(t){return"object"==typeof t&&null!=t&&t.outlets}function lv(t,n,e,r,o){let i={};if(r&&Zr(r,(a,c)=>{i[c]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),t===n)return new Qa(e,i,o);const s=mI(t,n,e);return new Qa(s,i,o)}function mI(t,n,e){const r={};return Zr(t.children,(o,i)=>{r[i]=o===n?e:mI(o,n,e)}),new cn(t.segments,r)}class gI{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Ip(r[0]))throw new w(4003,false);const o=r.find(Hu);if(o&&o!==JE(r))throw new w(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cv{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function yI(t,n,e){if(t||(t=new cn([],{})),0===t.segments.length&&t.hasChildren())return Tp(t,n,e);const r=function G$(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(Hu(a))break;const c=`${a}`,u=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!_I(c,u,s))return i;r+=2}else{if(!_I(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new cn(t.segments.slice(0,r.pathIndex),{});return i.children[Jt]=new cn(t.segments.slice(r.pathIndex),t.children),Tp(i,0,o)}return r.match&&0===o.length?new cn(t.segments,{}):r.match&&!t.hasChildren()?uv(t,n,e):r.match?Tp(t,0,o):uv(t,n,e)}function Tp(t,n,e){if(0===e.length)return new cn(t.segments,{});{const r=function U$(t){return Hu(t[0])?t[0].outlets:{[Jt]:t}}(e),o={};return Zr(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=yI(t.children[s],n,i))}),Zr(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new cn(t.segments,o)}}function uv(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(Hu(i)){const c=z$(i.outlets);return new cn(r,c)}if(0===o&&Ip(e[0])){r.push(new $u(t.segments[n].path,vI(e[0]))),o++;continue}const s=Hu(i)?i.outlets[Jt]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Ip(a)?(r.push(new $u(s,vI(a))),o+=2):(r.push(new $u(s,{})),o++)}return new cn(r,{})}function z$(t){const n={};return Zr(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=uv(new cn([],{}),0,e))}),n}function vI(t){const n={};return Zr(t,(e,r)=>n[r]=`${e}`),n}function _I(t,n,e){return t==e.path&&es(n,e.parameters)}class W${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new el,this.attachRef=null}}class el{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const r=this.getOrCreateContext(n);r.outlet=e,this.contexts.set(n,r)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new W$,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}const Mp=!1;let bI=(()=>{class t{constructor(e,r,o,i,s){this.parentContexts=e,this.location=r,this.changeDetector=i,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.name=o||Jt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;(null===(e=this.parentContexts.getContext(this.name))||void 0===e?void 0:e.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,Mp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,Mp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,Mp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new w(4013,Mp);this._activatedRoute=e;const o=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new q$(e,a,o.injector);if(r&&function Z$(t){return!!t.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(s);this.activated=o.createComponent(u,o.length,c)}else this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(g(el),g(so),Ra("name"),g(Je),g($a))},t.\u0275dir=ht({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class q${constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Fs?this.route:n===el?this.childContexts:this.parent.get(n,e)}}let CI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=je({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&ut(0,"router-outlet")},dependencies:[bI],encapsulation:2}),t})();function SI(t,n){var e;return t.providers&&!t._injector&&(t._injector=kf(t.providers,n,`Route: ${t.path}`)),null!==(e=t._injector)&&void 0!==e?e:n}function fv(t){const n=t.children&&t.children.map(fv),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Jt&&(e.component=CI),e}function si(t){return t.outlet||Jt}function wI(t,n){const e=t.filter(r=>si(r)===n);return e.push(...t.filter(r=>si(r)!==n)),e}function DI(t){var n;if(!t)return null;if(null!==(n=t.routeConfig)&&void 0!==n&&n._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class J${constructor(n,e,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),iv(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=dc(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Zr(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=dc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=dc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const o=dc(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new f$(i.value.snapshot))}),n.children.length&&this.forwardEvent(new u$(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(iv(o),o===i)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),iv(c.route.value),this.activateChildRoutes(n,null,a.children)}else{var s;const c=DI(o.snapshot),u=null!==(s=c?.get(Cs))&&void 0!==s?s:null;a.attachRef=null,a.route=o,a.resolver=u,a.injector=c,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}function xp(t){return"function"==typeof t}function tl(t){return t instanceof Qa}const ju=Symbol("INITIAL_VALUE");function Uu(){return Fo(t=>UE(t.map(n=>n.pipe(Wo(1),zE(ju)))).pipe(WE((n,e)=>{let r=!1;return e.reduce((o,i,s)=>o!==ju?o:(i===ju&&(r=!0),r||!1!==i&&s!==e.length-1&&!tl(i)?o:i),n)},ju),Wr(n=>n!==ju),Ne(n=>tl(n)?n:!0===n),Wo(1)))}const EI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ap(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...EI}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||g$)(e,t,n);if(!i)return{...EI};const s={};Zr(i.posParams,(c,u)=>{s[u]=c.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function kp(t,n,e,r,o="corrected"){if(e.length>0&&function aB(t,n,e){return e.some(r=>Pp(t,n,r)&&si(r)!==Jt)}(t,e,r)){const s=new cn(n,function sB(t,n,e,r){const o={};o[Jt]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const i of e)if(""===i.path&&si(i)!==Jt){const s=new cn([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,o[si(i)]=s}return o}(t,n,r,new cn(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function lB(t,n,e){return e.some(r=>Pp(t,n,r))}(t,e,r)){const s=new cn(t.segments,function iB(t,n,e,r,o,i){const s={};for(const a of r)if(Pp(t,e,a)&&!o[si(a)]){const c=new cn([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===i?t.segments.length:n.length,s[si(a)]=c}return{...o,...s}}(t,n,e,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const i=new cn(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function Pp(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function II(t,n,e,r){return!!(si(t)===r||r!==Jt&&Pp(n,e,t))&&("**"===t.path||Ap(n,t,e).matched)}function TI(t,n,e){return 0===n.length&&!t.children[e]}const Rp=!1;class Op{constructor(n){this.segmentGroup=n||null}}class MI{constructor(n){this.urlTree=n}}function Gu(t){return cc(new Op(t))}function xI(t){return cc(new MI(t))}class fB{constructor(n,e,r,o,i){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const n=kp(this.urlTree.root,[],[],this.config).segmentGroup,e=new cn(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,Jt).pipe(Ne(i=>this.createUrlTree(pv(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ca(i=>{if(i instanceof MI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Op?this.noMatchError(i):i}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,Jt).pipe(Ne(o=>this.createUrlTree(pv(o),n.queryParams,n.fragment))).pipe(ca(o=>{throw o instanceof Op?this.noMatchError(o):o}))}noMatchError(n){return new w(4002,Rp)}createUrlTree(n,e,r){const o=n.segments.length>0?new cn([],{[Jt]:n}):n;return new Qa(o,e,r)}expandSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(Ne(i=>new cn([],i))):this.expandSegment(n,r,e,r.segments,o,!0)}expandChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return yn(o).pipe(sc(i=>{const s=r.children[i],a=wI(e,i);return this.expandSegmentGroup(n,a,s,i).pipe(Ne(c=>({segment:c,outlet:i})))}),WE((i,s)=>(i[s.outlet]=s.segment,i),{}),function t$(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Wr((o,i)=>t(o,i,r)):B,qy(1),e?Zy(n):qE(()=>new Nu))}())}expandSegment(n,e,r,o,i,s){return yn(r).pipe(sc(a=>this.expandSegmentAgainstRoute(n,e,r,a,o,i,s).pipe(ca(u=>{if(u instanceof Op)return Lt(null);throw u}))),ua(a=>!!a),ca((a,c)=>{if(a instanceof Nu||"EmptyError"===a.name)return TI(e,o,i)?Lt(new cn([],{})):Gu(e);throw a}))}expandSegmentAgainstRoute(n,e,r,o,i,s,a){return II(o,e,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s):Gu(e):Gu(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xI(i):this.lineralizeSegments(r,i).pipe(In(s=>{const a=new cn(s,{});return this.expandSegment(n,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:p}=Ap(e,o,i);if(!a)return Gu(e);const h=this.applyRedirectCommands(c,o.redirectTo,p);return o.redirectTo.startsWith("/")?xI(h):this.lineralizeSegments(o,h).pipe(In(y=>this.expandSegment(n,e,r,y.concat(u),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i){if("**"===r.path)return n=SI(r,n),r.loadChildren?(r._loadedRoutes?Lt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(Ne(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new cn(o,{})))):Lt(new cn(o,{}));const{matched:s,consumedSegments:a,remainingSegments:c}=Ap(e,r,o);return s?(n=SI(r,n),this.getChildConfig(n,r,o).pipe(In(p=>{var h;const y=null!==(h=p.injector)&&void 0!==h?h:n,S=p.routes,{segmentGroup:F,slicedSegments:ge}=kp(e,a,c,S),ke=new cn(F.segments,F.children);if(0===ge.length&&ke.hasChildren())return this.expandChildren(y,S,ke).pipe(Ne(Ke=>new cn(a,Ke)));if(0===S.length&&0===ge.length)return Lt(new cn(a,{}));const we=si(r)===i;return this.expandSegment(y,ke,S,ge,we?Jt:i,!0).pipe(Ne(he=>new cn(a.concat(he.segments),he.children)))}))):Gu(e)}getChildConfig(n,e,r){return e.children?Lt({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?Lt({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(n,e,r).pipe(In(o=>o?this.configLoader.loadChildren(n,e).pipe(qr(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function uB(t){return cc(Qy(Rp))}())):Lt({routes:[],injector:n})}runCanLoadGuards(n,e,r){const o=e.canLoad;return o&&0!==o.length?Lt(o.map(s=>{const a=n.get(s);return da(function tB(t){return t&&xp(t.canLoad)}(a)?a.canLoad(e,r):a(e,r))})).pipe(Uu(),qr(s=>{if(!tl(s))return;const a=Qy(Xy+this.urlSerializer.serialize(s));throw a.url=s,a}),Ne(s=>!0===s)):Lt(!0)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Lt(r);if(o.numberOfChildren>1||!o.children[Jt])return cc(new w(4e3,Rp));o=o.children[Jt]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreatreUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new Qa(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Zr(n,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return Zr(e.children,(a,c)=>{s[c]=this.createSegmentGroup(n,a,r,o)}),new cn(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new w(4001,Rp);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}function pv(t){const n={};for(const r of Object.keys(t.children)){const i=pv(t.children[r]);(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function pB(t){if(1===t.numberOfChildren&&t.children[Jt]){const n=t.children[Jt];return new cn(t.segments.concat(n.segments),n.children)}return t}(new cn(t.segments,n))}class AI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Fp{constructor(n,e){this.component=n,this.route=e}}function mB(t,n,e){const r=t._root;return zu(r,n?n._root:null,e,[r.value])}function Np(t,n,e){return(DI(n)??e).get(t)}function zu(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=dc(n);return t.children.forEach(s=>{(function yB(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function vB(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Ja(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Ja(t.url,n.url)||!es(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sv(t,n)||!es(t.queryParams,n.queryParams);default:return!sv(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new AI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),zu(t,n,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Fp(a.outlet.component,s))}else s&&Wu(n,a,o),o.canActivateChecks.push(new AI(r)),zu(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Zr(i,(s,a)=>Wu(s,e.getContext(a),o)),o}function Wu(t,n,e){const r=dc(t),o=t.value;Zr(r,(i,s)=>{Wu(i,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new Fp(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class TB{}function kI(t){return new qe(n=>n.error(t))}class xB{constructor(n,e,r,o,i,s){this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const n=kp(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,Jt);if(null===e)return null;const r=new Ep([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Os(r,e),i=new pI(this.url,o);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(n){const e=n.value,r=fI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,r)}processChildren(n,e){const r=[];for(const i of Object.keys(e.children)){const s=e.children[i],a=wI(n,i),c=this.processSegmentGroup(a,s,i);if(null===c)return null;r.push(...c)}const o=PI(r);return function AB(t){t.sort((n,e)=>n.value.outlet===Jt?-1:e.value.outlet===Jt?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(n,e,r,o){for(const i of n){const s=this.processSegmentAgainstRoute(i,e,r,o);if(null!==s)return s}return TI(e,r,o)?[]:null}processSegmentAgainstRoute(n,e,r,o){if(n.redirectTo||!II(n,e,r,o))return null;let i,s=[],a=[];if("**"===n.path){var c,u;const we=r.length>0?JE(r).parameters:{},Ue=OI(e)+r.length;i=new Ep(r,we,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,NI(n),si(n),null!==(c=null!==(u=n.component)&&void 0!==u?u:n._loadedComponent)&&void 0!==c?c:null,n,RI(e),Ue,LI(n),Ue)}else{var p,h;const we=Ap(e,n,r);if(!we.matched)return null;s=we.consumedSegments,a=we.remainingSegments;const Ue=OI(e)+s.length;i=new Ep(s,we.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,NI(n),si(n),null!==(p=null!==(h=n.component)&&void 0!==h?h:n._loadedComponent)&&void 0!==p?p:null,n,RI(e),Ue,LI(n),Ue)}const y=function kB(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:S,slicedSegments:F}=kp(e,s,a,y.filter(we=>void 0===we.redirectTo),this.relativeLinkResolution);if(0===F.length&&S.hasChildren()){const we=this.processChildren(y,S);return null===we?null:[new Os(i,we)]}if(0===y.length&&0===F.length)return[new Os(i,[])];const ge=si(n)===o,ke=this.processSegment(y,S,F,ge?Jt:o);return null===ke?null:[new Os(i,ke)]}}function PB(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function PI(t){const n=[],e=new Set;for(const r of t){if(!PB(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=PI(r.children);n.push(new Os(r.value,o))}return n.filter(r=>!e.has(r))}function RI(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function OI(t){var n;let e=t,r=null!==(n=e._segmentIndexShift)&&void 0!==n?n:0;for(;e._sourceSegment;){var o;e=e._sourceSegment,r+=null!==(o=e._segmentIndexShift)&&void 0!==o?o:0}return r-1}function NI(t){return t.data||{}}function LI(t){return t.resolve||{}}const mv=Symbol("RouteTitle");function $I(t){return"string"==typeof t.title||null===t.title}function gv(t){return Fo(n=>{const e=t(n);return e?yn(e).pipe(Ne(()=>n)):Lt(n)})}class BI{}class VB extends class BB{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const yv=new It("ROUTES");let vv=(()=>{class t{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Lt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=da(e.loadComponent()).pipe(qr(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),Yy(()=>{this.componentLoaders.delete(e)})),o=new Wy(r,()=>new k).pipe(zy());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Lt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ne(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,u,p=!1;Array.isArray(a)?u=a:(c=a.create(e).injector,u=QE(c.get(yv,[],Et.Self|Et.Optional)));return{routes:u.map(fv),injector:c}}),Yy(()=>{this.childrenLoaders.delete(r)})),s=new Wy(i,()=>new k).pipe(zy());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return da(e()).pipe(In(r=>r instanceof hS||Array.isArray(r)?Lt(r):yn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)(oe(Mn),oe(Rg))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();class jB{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function UB(t){throw t}function GB(t,n,e){return n.parse("/")}const zB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kn=(()=>{class t{constructor(e,r,o,i,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=UB,this.malformedUriErrorHandler=GB,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Lt(void 0),this.urlHandlingStrategy=new jB,this.routeReuseStrategy=new VB,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(vv),this.configLoader.onLoadEndListener=y=>this.triggerEvent(new l$(y)),this.configLoader.onLoadStartListener=y=>this.triggerEvent(new a$(y)),this.ngModule=s.get(ta),this.console=s.get(OO);const h=s.get(Be);this.isNgZoneEnabled=h instanceof Be&&Be.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function v$(){return new Qa(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dI(this.currentUrlTree,this.rootComponentType),this.transitions=new zo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Wr(o=>0!==o.id),Ne(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Fo(o=>{let i=!1,s=!1;return Lt(o).pipe(qr(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fo(a=>{const c=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return jI(a.source)&&(this.browserUrlTree=a.extractedUrl),Lt(a).pipe(Fo(h=>{const y=this.transitions.getValue();return r.next(new vp(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),y!==this.transitions.getValue()?br:Promise.resolve(h)}),function hB(t,n,e,r){return Fo(o=>function dB(t,n,e,r,o){return new fB(t,n,e,r,o).apply()}(t,n,e,o.extractedUrl,r).pipe(Ne(i=>({...o,urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),qr(h=>{this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects}}),function RB(t,n,e,r,o){return In(i=>function MB(t,n,e,r,o="emptyOnly",i="legacy"){try{const s=new xB(t,n,e,r,o,i).recognize();return null===s?kI(new TB):Lt(s)}catch(s){return kI(s)}}(t,n,i.urlAfterRedirects,e(i.urlAfterRedirects),r,o).pipe(Ne(s=>({...i,targetSnapshot:s}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),qr(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const S=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(S,h)}this.browserUrlTree=h.urlAfterRedirects}const y=new n$(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);r.next(y)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:y,extractedUrl:S,source:F,restoredState:ge,extras:ke}=a,we=new vp(y,this.serializeUrl(S),F,ge);r.next(we);const Ue=dI(S,this.rootComponentType).snapshot;return Lt({...a,targetSnapshot:Ue,urlAfterRedirects:S,extras:{...ke,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),br}),qr(a=>{const c=new r$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),Ne(a=>({...a,guards:mB(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function _B(t,n){return In(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?Lt({...e,guardsResult:!0}):function bB(t,n,e,r){return yn(t).pipe(In(o=>function IB(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?Lt(i.map(a=>{const c=Np(a,n,o);return da(function oB(t){return t&&xp(t.canDeactivate)}(c)?c.canDeactivate(t,n,e,r):c(t,n,e,r)).pipe(ua())})).pipe(Uu()):Lt(!0)}(o.component,o.route,e,n,r)),ua(o=>!0!==o,!0))}(s,r,o,t).pipe(In(a=>a&&function eB(t){return"boolean"==typeof t}(a)?function CB(t,n,e,r){return yn(n).pipe(sc(o=>Lu(function wB(t,n){return null!==t&&n&&n(new c$(t)),Lt(!0)}(o.route.parent,r),function SB(t,n){return null!==t&&n&&n(new d$(t)),Lt(!0)}(o.route,r),function EB(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function gB(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>yp(()=>Lt(s.guards.map(c=>{const u=Np(c,s.node,e);return da(function rB(t){return t&&xp(t.canActivateChild)}(u)?u.canActivateChild(r,t):u(r,t)).pipe(ua())})).pipe(Uu())));return Lt(i).pipe(Uu())}(t,o.path,e),function DB(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return Lt(!0);const o=r.map(i=>yp(()=>{const s=Np(i,n,e);return da(function nB(t){return t&&xp(t.canActivate)}(s)?s.canActivate(n,t):s(n,t)).pipe(ua())}));return Lt(o).pipe(Uu())}(t,o.route,e))),ua(o=>!0!==o,!0))}(r,i,t,n):Lt(a)),Ne(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),qr(a=>{if(tl(a.guardsResult)){const u=Qy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const c=new o$(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Wr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),gv(a=>{if(a.guards.canActivateChecks.length)return Lt(a).pipe(qr(c=>{const u=new i$(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}),Fo(c=>{let u=!1;return Lt(c).pipe(function OB(t,n){return In(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Lt(e);let i=0;return yn(o).pipe(sc(s=>function FB(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!$I(o)&&(i[mv]=o.title),function NB(t,n,e,r){const o=function LB(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return Lt({});const i={};return yn(o).pipe(In(s=>function $B(t,n,e,r){const o=Np(t,n,r);return da(o.resolve?o.resolve(n,e):o(n,e))}(t[s],n,e,r).pipe(ua(),qr(a=>{i[s]=a}))),qy(1),Ky(i),ca(s=>s instanceof Nu?br:cc(s)))}(i,t,n,r).pipe(Ne(s=>(t._resolvedData=s,t.data=fI(t,e).resolve,o&&$I(o)&&(t.data[mv]=o.title),null)))}(s.route,r,t,n)),qr(()=>i++),qy(1),In(s=>i===o.length?Lt(e):br))})}(this.paramsInheritanceStrategy,this.ngModule.injector),qr({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),qr(c=>{const u=new s$(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}))}),gv(a=>{const c=u=>{var p;const h=[];null!==(p=u.routeConfig)&&void 0!==p&&p.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(qr(y=>{u.component=y}),Ne(()=>{})));for(const y of u.children)h.push(...c(y));return h};return UE(c(a.targetSnapshot.root)).pipe(Zy(),Wo(1))}),gv(()=>this.afterPreactivation()),Ne(a=>{const c=function N$(t,n,e){const r=Vu(t,n._root,e?e._root:void 0);return new uI(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:c}}),qr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>Ne(r=>(new J$(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),qr({next(){i=!0},complete(){i=!0}}),Yy(()=>{var a;i||s||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===o.id&&(this.currentNavigation=null)}),ca(a=>{if(s=!0,function m$(t){return t&&t[YE]}(a)){const c=tl(a.url);c||(this.navigated=!0,this.restoreHistory(o,!0));const u=new _p(o.id,this.serializeUrl(o.extractedUrl),a.message);if(r.next(u),c){const p=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||jI(o.source)};this.scheduleNavigation(p,"imperative",null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const c=new ZE(o.id,this.serializeUrl(o.extractedUrl),a);r.next(c);try{o.resolve(this.errorHandler(a))}catch(u){o.reject(u)}}return br}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const i={replaceUrl:!0},s=null!==(o=e.state)&&void 0!==o&&o.navigationId?e.state:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(fv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=o||this.routerState.root,p=c?this.currentUrlTree.fragment:s;let h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...i};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}return null!==h&&(h=this.removeEmptyProps(h)),function B$(t,n,e,r,o){var i;if(0===e.length)return lv(n.root,n.root,n.root,r,o);const s=function V$(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new gI(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Zr(i.outlets,(c,u)=>{a[u]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new gI(e,n,r)}(e);if(s.toRoot())return lv(n.root,n.root,new cn([],{}),r,o);const c=function a(p){var h;const y=function H$(t,n,e,r){return t.isAbsolute?new cv(n.root,!0,0):-1===r?new cv(e,e===n.root,0):function j$(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new w(4005,!1);o=r.segments.length}return new cv(r,!1,o-i)}(e,r+(Ip(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,n,null===(h=t.snapshot)||void 0===h?void 0:h._urlSegment,p),S=y.processChildren?Tp(y.segmentGroup,y.index,s.commands):yI(y.segmentGroup,y.index,s.commands);return lv(n.root,y.segmentGroup,S,r,o)}(null===(i=t.snapshot)||void 0===i?void 0:i._lastPathIndex);return c}(u,this.currentUrlTree,e,h,p??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=tl(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function qB(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new w(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...zB}:!1===r?{...WB}:r,tl(e))return tI(this.currentUrlTree,e,o);const i=this.parseUrl(e);return tI(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{var r;this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Xa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((F,ge)=>{a=F,c=ge});const p=++this.navigationId;let h;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(o=this.location.getState()),o&&o.\u0275routerPageId)h=o.\u0275routerPageId;else if(i.replaceUrl||i.skipLocationChange){var y;h=null!==(y=this.browserPageId)&&void 0!==y?y:0}else{var S;h=(null!==(S=this.browserPageId)&&void 0!==S?S:0)+1}else h=0;return this.setTransition({id:p,targetPageId:h,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(F=>Promise.reject(F))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){var o,i;const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===s?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new _p(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){Am()},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();function jI(t){return"imperative"!==t}class UI{buildTitle(n){let e,r=n.root;for(;void 0!==r;){var o;e=null!==(o=this.getResolvedTitleForRoute(r))&&void 0!==o?o:e,r=r.children.find(i=>i.outlet===Jt)}return e}getResolvedTitleForRoute(n){return n.data[mv]}}let YB=(()=>{class t extends UI{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(oe(vD))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class GI{}let XB=(()=>{class t{preload(e,r){return r().pipe(ca(()=>Lt(null)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),zI=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Wr(e=>e instanceof Xa),sc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r){var i,s;c.providers&&!c._injector&&(c._injector=kf(c.providers,e,`Route: ${c.path}`));const u=null!==(i=c._injector)&&void 0!==i?i:e,p=null!==(s=c._loadedInjector)&&void 0!==s?s:u;if(c.loadChildren&&!c._loadedRoutes||c.loadComponent&&!c._loadedComponent)o.push(this.preloadConfig(u,c));else if(c.children||c._loadedRoutes){var a;o.push(this.processRoutes(p,null!==(a=c.children)&&void 0!==a?a:c._loadedRoutes))}}return yn(o).pipe(Hr())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Lt(null);const i=o.pipe(In(s=>{var a;return null===s?Lt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:e,s.routes))}));return r.loadComponent&&!r._loadedComponent?yn([i,this.loader.loadComponent(r)]).pipe(Hr()):i})}}return t.\u0275fac=function(e){return new(e||t)(oe(Kn),oe(Rg),oe($a),oe(GI),oe(vv))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();const WI=new It("");let QB=(()=>{class t{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof KE&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new KE(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Am()},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();const bv=new It("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),qI=new It("ROUTER_FORROOT_GUARD"),ZI=new It(""),JB=[Du,{provide:ev,useClass:iI},{provide:Kn,useFactory:function i3(t,n,e,r,o,i,s={},a,c,u,p){const h=new Kn(null,t,n,e,r,o,QE(i));return u&&(h.urlHandlingStrategy=u),p&&(h.routeReuseStrategy=p),h.titleStrategy=c??a,function s3(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,h),h},deps:[ev,el,Du,Mn,Rg,yv,bv,YB,[UI,new Xs],[class HB{},new Xs],[BI,new Xs]]},el,{provide:Fs,useFactory:function a3(t){return t.routerState.root},deps:[Kn]},vv];function e3(){return new dw("Router",Kn)}let Lp=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[JB,[],KI(e),{provide:qI,useFactory:o3,deps:[[Kn,new Xs,new Qc]]},{provide:bv,useValue:r||{}},null!=r&&r.useHash?{provide:Qi,useClass:Nw}:{provide:Qi,useClass:Fw},{provide:WI,useFactory:()=>{const t=Oa(Kn),n=Oa(VN),e=Oa(bv);return e.scrollOffset&&n.setOffset(e.scrollOffset),new QB(t,n,e)}},null!=r&&r.preloadingStrategy?h3(r.preloadingStrategy):[],{provide:dw,multi:!0,useFactory:e3},null!=r&&r.initialNavigation?c3(r):[],[{provide:YI,useFactory:l3},{provide:ow,multi:!0,useExisting:YI}]]}}static forChild(e){return{ngModule:t,providers:[KI(e)]}}}return t.\u0275fac=function(e){return new(e||t)(oe(qI,8),oe(Kn,8))},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({}),t})();function o3(t){return"guarded"}function KI(t){return[{provide:qT,multi:!0,useValue:t},{provide:yv,multi:!0,useValue:t}]}function l3(){const t=Oa(Mn);return n=>{var e,r;const o=t.get(ra);if(n!==o.components[0])return;const i=t.get(Kn),s=t.get(XI);null===t.get(Cv,null,Et.Optional)&&i.initialNavigation(),null===(e=t.get(ZI,null,Et.Optional))||void 0===e||e.setUpPreloading(),null===(r=t.get(WI,null,Et.Optional))||void 0===r||r.init(),i.resetRootComponentType(o.componentTypes[0]),s.next(),s.complete()}}const YI=new It("");function c3(t){return["disabled"===t.initialNavigation?[{provide:ja,multi:!0,useFactory:()=>{const t=Oa(Kn);return()=>{t.setUpLocationChangeListener()}}},{provide:Cv,useValue:"disabled"}]:[],"enabledBlocking"===t.initialNavigation?[{provide:Cv,useValue:"enabledBlocking"},{provide:ja,multi:!0,deps:[Mn],useFactory:t=>{const n=t.get(CF,Promise.resolve(null));let e=!1;return()=>n.then(()=>new Promise(o=>{const i=t.get(Kn),s=t.get(XI);(function r(o){const i=t.get(Kn);i.events.pipe(Wr(s=>s instanceof Xa||s instanceof _p||s instanceof ZE),Ne(s=>{if(s instanceof Xa)return!0;const a=i.navigationId!==s.id,c=s instanceof _p&&-1!==s.reason.indexOf(Xy);return!(!a&&!c)&&null}),Wr(s=>null!==s),Wo(1)).subscribe(()=>{o()})})(()=>{o(!0),e=!0}),i.afterPreactivation=()=>(o(!0),e||s.closed?Lt(void 0):s),i.initialNavigation()}))}}]:[]]}const XI=new It("",{factory:()=>new k}),Cv=new It("");function h3(t){return[zI,{provide:ZI,useExisting:zI},{provide:GI,useExisting:t}]}D(5794),D(932),D(2172);var Sv=D(537),fc=D(9158),Zu=D(4736),Ku=(D(9506),D(9703)),QI=(D(607),D(9479));function e1(t,n=B){return t=t??g3,be((e,r)=>{let o,i=!0;e.subscribe(Fe(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function g3(t,n){return t===n}const v3=Sv.i,rt=["*"],C3=["outlet"],S3=[[["","slot","top"]],"*"],w3=["[slot=top]","*"],t1=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),n1=t=>!!t.resolveComponentFactory;let Yu=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e??"",pc(this.el)}handleChangeEvent(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),pc(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),pc(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(ks)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>pc(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),pc(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(g(Mn),g(Ge))},t.\u0275dir=ht({type:t,hostBindings:function(e,r){1&e&&We("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const pc=t=>{t1(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=I3(n);wv(n,r);const o=n.closest("ion-item");o&&wv(o,e?[...r,"item-has-value"]:r)})},I3=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&T3(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},wv=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},T3=(t,n)=>t.substring(0,n.length)===n;let Dv=(()=>{class t extends Yu{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e??!1,pc(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(g(Mn),g(Ge))},t.\u0275dir=ht({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&We("ionChange",function(i){return r._handleIonChange(i.target)})},features:[En([{provide:bo,useExisting:t,multi:!0}]),fn]}),t})(),Xu=(()=>{class t extends Yu{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(g(Mn),g(Ge))},t.\u0275dir=ht({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&We("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[En([{provide:bo,useExisting:t,multi:!0}]),fn]}),t})(),nl=(()=>{class t extends Yu{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(g(Mn),g(Ge))},t.\u0275dir=ht({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&We("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[En([{provide:bo,useExisting:t,multi:!0}]),fn]}),t})();const A3=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},k3=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},_n=(t,n,e)=>{e.forEach(r=>t[r]=Fu(n,r))};function nt(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&A3(e,o),i&&k3(e,i),e}}let r1=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-app"]],ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0})],t),t})(),ai=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,_n(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),li=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["collapse"]})],t),t})(),ci=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,_n(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),ui=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],t),t})(),ts=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),rl=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,_n(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),di=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),Ev=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),Iv=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,_n(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["side"]})],t),t})(),Tv=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,_n(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),xi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],t),t})(),hc=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),Mv=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,_n(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),$p=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,_n(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t),t})(),Bp=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],t),t})(),Qu=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],t),t})(),xv=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],t),t})(),o1=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),fi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["color","size"]})],t),t})(),Av=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,_n(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],t),t})(),pi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(g(Je),g(Ge),g(Be))},t.\u0275cmp=je({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:rt,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2,changeDetection:0}),t=X([nt({defineCustomElementFn:void 0,inputs:["color","mode"]})],t),t})();class i1{constructor(n={}){this.data=n}get(n){return this.data[n]}}let Vp=(()=>{class t{constructor(e,r){this.zone=e,this.appRef=r}create(e,r,o){return new kV(e,r,o,this.appRef,this.zone)}}return t.\u0275fac=function(e){return new(e||t)(oe(Be),oe(ra))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();class kV{constructor(n,e,r,o,i){this.resolverOrInjector=n,this.injector=e,this.location=r,this.appRef=o,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{i(PV(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,n,e,r,o))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const PV=(t,n,e,r,o,i,s,a,c,u,p)=>{let h;const y=Mn.create({providers:OV(u),parent:e});if(n&&n1(n)){const ke=n.resolveComponentFactory(c);h=r?r.createComponent(ke,r.length,y):ke.create(y)}else{if(!r)return null;h=r.createComponent(c,{index:r.indexOf,injector:y,environmentInjector:n})}const S=h.instance,F=h.location.nativeElement;if(u&&Object.assign(S,u),p)for(const ke of p)F.classList.add(ke);const ge=s1(t,S,F);return a.appendChild(F),r||o.attachView(h.hostView),h.changeDetectorRef.reattach(),i.set(F,h),s.set(F,ge),F},RV=[Zu.L,Zu.a,Zu.b,Zu.c,Zu.d],s1=(t,n,e)=>t.run(()=>{const r=RV.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),a1=new It("NavParamsToken"),OV=t=>[{provide:a1,useValue:t},{provide:i1,useFactory:FV,deps:[a1]}],FV=t=>new i1(t),l1=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),kv=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},VV=(t,n)=>{if(!t)return;const e=c1(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},c1=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),u1=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class HV{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?c1(n):void 0}createView(n,e){var r;const o=kv(this.router,e),i=null===(r=n?.location)||void 0===r?void 0:r.nativeElement,s=s1(this.zone,n.instance,i);return{id:this.nextId++,stackId:VV(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:n,url:o}}getExistingView(n){const e=kv(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){var e,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const c=this.activeView,u=((t,n)=>!n||t.stackId!==n.stackId)(n,c);u&&(i="back",s=void 0);const p=this.views.slice();let h;const y=this.router;y.getCurrentNavigation?h=y.getCurrentNavigation():!(null===(e=y.navigations)||void 0===e)&&e.value&&(h=y.navigations.value),null!==(r=h?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const S=this.views.includes(n),F=this.insertView(n,i);S||n.ref.changeDetectorRef.detectChanges();const ge=n.animationBuilder;return void 0===a&&"back"===i&&!u&&void 0!==ge&&(a=ge),c&&(c.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(c&&c.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,c,s,this.canGoBack(1),!1,a).then(()=>jV(n,F,p,this.location,this.zone)).then(()=>({enteringView:n,direction:i,animation:s,tabSwitch:u})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(e);if(i.length<=n)return Promise.resolve(!1);const s=i[i.length-n-1];let a=s.url;const c=s.savedData;if(c){const p=c.get("primary");null!==(o=null===(r=p?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=p.route._routerState.snapshot.url)}const{animationBuilder:u}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:u})).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&d1(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(u1),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?l1(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):l1(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,c=e?e.element:void 0,u=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),u.commit)?u.commit(a,c,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){return Cn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const e=this.runningTask=n();return e.finally(()=>this.runningTask=void 0),e})}}const jV=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{d1(t,n,e,r,o),i()})}):Promise.resolve(),d1=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(u1)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let f1=(()=>{class t{get(e,r){const o=Pv();return o?o.get(e,r):null}getBoolean(e,r){const o=Pv();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=Pv();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const p1=new It("USERCONFIG"),Pv=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let UV=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new k,this.keyboardDidShow=new k,this.keyboardDidHide=new k,this.pause=new k,this.resume=new k,this.resize=new k,r.run(()=>{var o;let i;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(c=>c.register(s,u=>r.run(()=>a(u))))},mc(this.pause,e,"pause"),mc(this.resume,e,"resume"),mc(this.backButton,e,"ionBackButton"),mc(this.resize,this.win,"resize"),mc(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),mc(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?e.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(e){return(0,Sv.a)(this.win,e)}platforms(){return(0,Sv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return GV(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,r;return null===(r=(e=this.win).matchMedia)||void 0===r?void 0:r.call(e,"(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(oe(Mr),oe(Be))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const GV=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},mc=(t,n,e)=>{n&&n.addEventListener(e,r=>{t.next(r?.detail)})};let Ju=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=h1,this.animated=m1,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof vp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return Cn(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,r,o,i){this.direction=e,this.animated=zV(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=h1,this.animated=m1,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(oe(UV),oe(Du),oe(ev),oe(Kn,8))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const zV=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},h1="auto",m1=void 0;class Rv{}let ed=(()=>{class t{constructor(e,r,o,i,s,a,c,u,p,h,y,S,F,ge){this.parentContexts=e,this.location=r,this.config=s,this.navCtrl=a,this.environmentInjector=c,this.componentFactoryResolver=u,this.parentOutlet=ge,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new zo(null),this.stackEvents=new Kt,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.nativeEl=h.nativeElement,this.name=o||Jt,this.tabsPrefix="true"===i?kv(y,F):void 0,this.stackCtrl=new HV(this.tabsPrefix,this.nativeEl,y,a,S,p),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,fc.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,i=this.stackCtrl.getExistingView(e);if(i){o=this.activated=i.ref;const s=i.savedData;s&&(this.getContext().children.contexts=s),this.updateActivatedRouteProxy(o.instance,e)}else{const s=e._futureSnapshot,a=s.routeConfig.component;if(null==a&&s.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const c=this.parentContexts.getOrCreateContext(this.name).children,u=new zo(null),p=this.createActivatedRouteProxy(u,e),h=new WV(p,c,this.location.injector);if((r=r||this.componentFactoryResolver)&&n1(r)){const y=r.resolveComponentFactory(a);o=this.activated=this.location.createComponent(y,this.location.length,h)}else o=this.activated=this.location.createComponent(a,{index:this.location.length,injector:h,environmentInjector:r??this.environmentInjector});u.next(o.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,p),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.activatedView=i,this.stackCtrl.setActive(i).then(s=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(o.instance),this.stackEvents.emit(s)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new Fs;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(Wr(o=>!!o),Fo(o=>this.currentActivatedRoute$.pipe(Wr(i=>null!==i&&i.component===o),Fo(i=>i&&i.activatedRoute[r]),e1())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(g(el),g(so),Ra("name"),Ra("tabs"),g(f1),g(Ju),g(Rv,8),g(Cs,8),g(Du),g(Ge),g(Kn),g(Be),g(Fs),g(t,12))},t.\u0275dir=ht({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class WV{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Fs?this.route:n===el?this.childContexts:this.parent.get(n,e)}}let g1=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new Kt,this.ionTabsDidChange=new Kt}onPageSelected(e){const r=e.enteringView.stackId;e.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const u=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},u&&s===u.url&&u.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),u=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},u),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return t.\u0275fac=function(e){return new(e||t)(g(Ju))},t.\u0275cmp=je({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&function ws(t,n,e,r){const o=sn();if(o.firstCreatePass){const i=Mt();NS(o,new RS(n,e,r),i.index),function pO(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}FS(o,He(),e)}(o,xv,5),2&e){let i;ni(i=ri())&&(r.tabBar=i.first)}},viewQuery:function(e,r){if(1&e&&Rf(C3,5,ed),2&e){let o;ni(o=ri())&&(r.outlet=o.first)}},hostBindings:function(e,r){1&e&&We("ionTabButtonClick",function(i){return r.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:w3,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(e,r){1&e&&(tt(S3),et(0),ue(1,"div",0)(2,"ion-router-outlet",1,2),We("stackEvents",function(i){return r.onPageSelected(i)}),re()(),et(4,1))},dependencies:[ed],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),t})();class td{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let Ov=(()=>{class t extends td{constructor(){super(Ku.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gc=(()=>{class t extends td{constructor(){super(Ku.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ls=(()=>{class t extends td{constructor(){super(Ku.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ai=(()=>{class t extends td{constructor(e,r,o,i){super(Ku.m),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(oe(Vp),oe(Cs),oe(Mn),oe(Rv,8))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),nd=(()=>{class t extends td{constructor(e,r,o,i){super(Ku.c),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(oe(Vp),oe(Cs),oe(Mn),oe(Rv,8))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();class t4{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const n4=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(t=>{const n=window,e=n.Ionic;e&&e.config&&"Object"!==e.config.constructor.name||(n.Ionic=n.Ionic||{},n.Ionic.config=Object.assign(Object.assign({},n.Ionic.config),t))})(Object.assign(Object.assign({},t),{_zoneGate:i=>e.run(i)}));const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function y3(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(D.e(6748).then(D.t.bind(D,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(D.e(2214).then(D.t.bind(D,7320,23)))}return Promise.all(t)}().then(()=>((t,n)=>typeof window>"u"?Promise.resolve():(0,QI.p)().then(()=>(v3(),(0,QI.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),n))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:t1,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let fa=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:p1,useValue:e},{provide:ja,useFactory:n4,multi:!0,deps:[p1,Mr,Be]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({providers:[Vp,Ai,nd],imports:[[Ji]]}),t})();class r4 extends R{constructor(n,e){super()}schedule(n,e=0){return this}}const Hp={setInterval(t,n,...e){const{delegate:r}=Hp;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Hp;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},Fv={now:()=>(Fv.delegate||Date).now(),delegate:void 0};class rd{constructor(n,e=rd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}rd.now=Fv.now;const b1=new class i4 extends rd{constructor(n,e=rd.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class o4 extends r4{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return Hp.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;Hp.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,U(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),s4=b1;function C1(t=0,n,e=s4){let r=-1;return null!=n&&(gi(n)?e=n:r=n),new qe(o=>{let i=function a4(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class l4 extends k{constructor(n=1/0,e=1/0,r=Fv){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}let yc={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const f4=/[&<>"']/,p4=/[&<>"']/g,h4=/[<>"']|&(?!#?\w+;)/,m4=/[<>"']|&(?!#?\w+;)/g,g4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},w1=t=>g4[t];function Lr(t,n){if(n){if(f4.test(t))return t.replace(p4,w1)}else if(h4.test(t))return t.replace(m4,w1);return t}const y4=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function D1(t){return t.replace(y4,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const v4=/(^|[^\[])\^/g;function Fn(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(v4,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const _4=/[^\w:]/g,b4=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function E1(t,n,e){if(t){let r;try{r=decodeURIComponent(D1(e)).replace(_4,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!b4.test(e)&&(e=function D4(t,n){jp[" "+t]||(jp[" "+t]=C4.test(t)?t+"/":Gp(t,"/",!0));const e=-1===(t=jp[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(S4,"$1")+n:"/"===n.charAt(0)?e?n:t.replace(w4,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const jp={},C4=/^[^:]+:\/*[^/]*$/,S4=/^([^:]+:)[\s\S]*$/,w4=/^([^:]+:\/*[^/]*)[\s\S]*$/,Up={exec:function(){}};function ki(t){let e,r,n=1;for(;n<arguments.length;n++)for(r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function I1(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let c=!1,u=s;for(;--u>=0&&"\\"===a[u];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Gp(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function T1(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function M1(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function x1(t,n,e,r){const o=n.href,i=n.title?Lr(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:Lr(s)}}class Nv{constructor(n){this.options=n||yc}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Gp(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function I4(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim():e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const i=Gp(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}const o={type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,c,u,p,h,y,S,F,ge=e[1].trim();const ke=ge.length>1,we={type:"list",raw:"",ordered:ke,start:ke?+ge.slice(0,-1):"",loose:!1,items:[]};ge=ke?`\\d{1,9}\\${ge.slice(-1)}`:`\\${ge}`,this.options.pedantic&&(ge=ke?ge:"[*+-]");const Ue=new RegExp(`^( {0,3}${ge})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(F=!1,(e=Ue.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),p=e[2].split("\n",1)[0],h=n.split("\n",1)[0],this.options.pedantic?(s=2,S=p.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,S=p.slice(s),s+=e[1].length),c=!1,!p&&/^ *$/.test(h)&&(r+=h+"\n",n=n.substring(h.length+1),F=!0),!F){const Ke=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),lt=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),jt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),$r=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(y=n.split("\n",1)[0],p=y,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(jt.test(p)||$r.test(p)||Ke.test(p)||lt.test(n)));){if(p.search(/[^ ]/)>=s||!p.trim())S+="\n"+p.slice(s);else{if(c)break;S+="\n"+p}!c&&!p.trim()&&(c=!0),r+=y+"\n",n=n.substring(y.length+1)}}we.loose||(u?we.loose=!0:/\n *\n *$/.test(r)&&(u=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(S),o&&(i="[ ] "!==o[0],S=S.replace(/^\[[ xX]\] +/,""))),we.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:S}),we.raw+=r}we.items[we.items.length-1].raw=r.trimRight(),we.items[we.items.length-1].text=S.trimRight(),we.raw=we.raw.trimRight();const he=we.items.length;for(a=0;a<he;a++){this.lexer.state.top=!1,we.items[a].tokens=this.lexer.blockTokens(we.items[a].text,[]);const Ke=we.items[a].tokens.filter(jt=>"space"===jt.type),lt=Ke.every(jt=>{const $r=jt.raw.split("");let Ri=0;for(const md of $r)if("\n"===md&&(Ri+=1),Ri>1)return!0;return!1});!we.loose&&Ke.length&&lt&&(we.loose=!0,we.items[a].loose=!0)}return we}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(e[0]):Lr(e[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(n){const e=this.rules.block.def.exec(n);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:I1(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,c,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=I1(r.rows[i],r.header.length).map(u=>({text:u}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=[],this.lexer.inline(r.header[s].text,r.header[s].tokens);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],a=0;a<c.length;a++)c[a].tokens=[],this.lexer.inline(c[a].text,c[a].tokens);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e){const r={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(n){const e=this.rules.block.text.exec(n);if(e){const r={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:Lr(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Lr(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Gp(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function E4(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const c=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),x1(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o||!o.href){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return x1(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,c,u=s,p=0;const h="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=h.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){u+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){p+=c;continue}if(u-=c,u>0)continue;if(c=Math.min(c,c+u+p),Math.min(s,c)%2){const S=n.slice(1,s+o.index+c);return{type:"em",raw:n.slice(0,s+o.index+c+1),text:S,tokens:this.lexer.inlineTokens(S,[])}}const y=n.slice(2,s+o.index+c-1);return{type:"strong",raw:n.slice(0,s+o.index+c+1),text:y,tokens:this.lexer.inlineTokens(y,[])}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Lr(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=Lr(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=Lr(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=Lr(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Lr(r[0]),i="www."===r[1]?"http://"+o:o}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Lr(r[0]):r[0]:Lr(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const xt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Up,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};xt.def=Fn(xt.def).replace("label",xt._label).replace("title",xt._title).getRegex(),xt.bullet=/(?:[*+-]|\d{1,9}[.)])/,xt.listItemStart=Fn(/^( *)(bull) */).replace("bull",xt.bullet).getRegex(),xt.list=Fn(xt.list).replace(/bull/g,xt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+xt.def.source+")").getRegex(),xt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",xt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,xt.html=Fn(xt.html,"i").replace("comment",xt._comment).replace("tag",xt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xt.paragraph=Fn(xt._paragraph).replace("hr",xt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xt._tag).getRegex(),xt.blockquote=Fn(xt.blockquote).replace("paragraph",xt.paragraph).getRegex(),xt.normal=ki({},xt),xt.gfm=ki({},xt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),xt.gfm.table=Fn(xt.gfm.table).replace("hr",xt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xt._tag).getRegex(),xt.gfm.paragraph=Fn(xt._paragraph).replace("hr",xt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",xt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xt._tag).getRegex(),xt.pedantic=ki({},xt.normal,{html:Fn("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",xt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Up,paragraph:Fn(xt.normal._paragraph).replace("hr",xt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",xt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const pt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Up,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Up,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function T4(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function A1(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}pt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",pt.punctuation=Fn(pt.punctuation).replace(/punctuation/g,pt._punctuation).getRegex(),pt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,pt.escapedEmSt=/\\\*|\\_/g,pt._comment=Fn(xt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),pt.emStrong.lDelim=Fn(pt.emStrong.lDelim).replace(/punct/g,pt._punctuation).getRegex(),pt.emStrong.rDelimAst=Fn(pt.emStrong.rDelimAst,"g").replace(/punct/g,pt._punctuation).getRegex(),pt.emStrong.rDelimUnd=Fn(pt.emStrong.rDelimUnd,"g").replace(/punct/g,pt._punctuation).getRegex(),pt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,pt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,pt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,pt.autolink=Fn(pt.autolink).replace("scheme",pt._scheme).replace("email",pt._email).getRegex(),pt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,pt.tag=Fn(pt.tag).replace("comment",pt._comment).replace("attribute",pt._attribute).getRegex(),pt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,pt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,pt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,pt.link=Fn(pt.link).replace("label",pt._label).replace("href",pt._href).replace("title",pt._title).getRegex(),pt.reflink=Fn(pt.reflink).replace("label",pt._label).replace("ref",xt._label).getRegex(),pt.nolink=Fn(pt.nolink).replace("ref",xt._label).getRegex(),pt.reflinkSearch=Fn(pt.reflinkSearch,"g").replace("reflink",pt.reflink).replace("nolink",pt.nolink).getRegex(),pt.normal=ki({},pt),pt.pedantic=ki({},pt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Fn(/^!?\[(label)\]\((.*?)\)/).replace("label",pt._label).getRegex(),reflink:Fn(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",pt._label).getRegex()}),pt.gfm=ki({},pt.normal,{escape:Fn(pt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),pt.gfm.url=Fn(pt.gfm.url,"i").replace("email",pt.gfm._extended_email).getRegex(),pt.breaks=ki({},pt.gfm,{br:Fn(pt.br).replace("{2,}","*").getRegex(),text:Fn(pt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class $s{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||yc,this.options.tokenizer=this.options.tokenizer||new Nv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:xt.normal,inline:pt.normal};this.options.pedantic?(e.block=xt.pedantic,e.inline=pt.pedantic):this.options.gfm&&(e.block=xt.gfm,e.inline=this.options.breaks?pt.breaks:pt.gfm),this.tokenizer.rules=e}static get rules(){return{block:xt,inline:pt}}static lex(n,e){return new $s(e).lex(n)}static lexInline(n,e){return new $s(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,c,u)=>c+"    ".repeat(u.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=n.slice(1);let u;this.options.extensions.startBlock.forEach(function(p){u=p.call({lexer:this},c),"number"==typeof u&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e){this.inlineQueue.push({src:n,tokens:e})}inlineTokens(n,e=[]){let r,o,i,a,c,u,s=n;if(this.tokens.links){const p=Object.keys(this.tokens.links);if(p.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)p.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+M1("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+M1("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(p=>!!(r=p.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,u)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,A1)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,A1))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let p=1/0;const h=n.slice(1);let y;this.options.extensions.startInline.forEach(function(S){y=S.call({lexer:this},h),"number"==typeof y&&y>=0&&(p=Math.min(p,y))}),p<1/0&&p>=0&&(i=n.substring(0,p+1))}if(r=this.tokenizer.inlineText(i,T4)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(u=r.raw.slice(-1)),c=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const p="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(p);break}throw new Error(p)}}return e}}class vc{constructor(n){this.options=n||yc}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Lr(o,!0)+'">'+(r?n:Lr(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:Lr(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=E1(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+Lr(n)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=E1(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class k1{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class P1{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class Bs{constructor(n){this.options=n||yc,this.options.renderer=this.options.renderer||new vc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new k1,this.slugger=new P1}static parse(n,e){return new Bs(e).parse(n)}static parseInline(n,e){return new Bs(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,c,u,p,h,y,S,F,ge,ke,we,Ue,he,Ke,lt,jt,r="";const $r=n.length;for(o=0;o<$r;o++)if(S=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[S.type]&&(jt=this.options.extensions.renderers[S.type].call({parser:this},S),!1!==jt||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(S.type)))r+=jt||"";else switch(S.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(S.tokens),S.depth,D1(this.parseInline(S.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(S.text,S.lang,S.escaped);continue;case"table":for(h="",p="",a=S.header.length,i=0;i<a;i++)p+=this.renderer.tablecell(this.parseInline(S.header[i].tokens),{header:!0,align:S.align[i]});for(h+=this.renderer.tablerow(p),y="",a=S.rows.length,i=0;i<a;i++){for(u=S.rows[i],p="",c=u.length,s=0;s<c;s++)p+=this.renderer.tablecell(this.parseInline(u[s].tokens),{header:!1,align:S.align[s]});y+=this.renderer.tablerow(p)}r+=this.renderer.table(h,y);continue;case"blockquote":y=this.parse(S.tokens),r+=this.renderer.blockquote(y);continue;case"list":for(F=S.ordered,ge=S.start,ke=S.loose,a=S.items.length,y="",i=0;i<a;i++)Ue=S.items[i],he=Ue.checked,Ke=Ue.task,we="",Ue.task&&(lt=this.renderer.checkbox(he),ke?Ue.tokens.length>0&&"paragraph"===Ue.tokens[0].type?(Ue.tokens[0].text=lt+" "+Ue.tokens[0].text,Ue.tokens[0].tokens&&Ue.tokens[0].tokens.length>0&&"text"===Ue.tokens[0].tokens[0].type&&(Ue.tokens[0].tokens[0].text=lt+" "+Ue.tokens[0].tokens[0].text)):Ue.tokens.unshift({type:"text",text:lt}):we+=lt),we+=this.parse(Ue.tokens,ke),y+=this.renderer.listitem(we,Ke,he);r+=this.renderer.list(y,F,ge);continue;case"html":r+=this.renderer.html(S.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(S.tokens));continue;case"text":for(y=S.tokens?this.parseInline(S.tokens):S.text;o+1<$r&&"text"===n[o+1].type;)S=n[++o],y+="\n"+(S.tokens?this.parseInline(S.tokens):S.text);r+=e?this.renderer.paragraph(y):y;continue;default:{const Ri='Token with "'+S.type+'" type was not found.';if(this.options.silent)return void console.error(Ri);throw new Error(Ri)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return r}}function $t(t,n,e){if(typeof t>"u"||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(e=n,n=null),T1(n=ki({},$t.defaults,n||{})),e){const r=n.highlight;let o;try{o=$s.lex(t,n)}catch(a){return e(a)}const i=function(a){let c;if(!a)try{n.walkTokens&&$t.walkTokens(o,n.walkTokens),c=Bs.parse(o,n)}catch(u){a=u}return n.highlight=r,a?e(a):e(null,c)};if(!r||r.length<3||(delete n.highlight,!o.length))return i();let s=0;return $t.walkTokens(o,function(a){"code"===a.type&&(s++,setTimeout(()=>{r(a.text,a.lang,function(c,u){if(c)return i(c);null!=u&&u!==a.text&&(a.text=u,a.escaped=!0),s--,0===s&&i()})},0))}),void(0===s&&i())}try{const r=$s.lex(t,n);return n.walkTokens&&$t.walkTokens(r,n.walkTokens),Bs.parse(r,n)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Lr(r.message+"",!0)+"</pre>";throw r}}$t.options=$t.setOptions=function(t){return ki($t.defaults,t),function d4(t){yc=t}($t.defaults),$t},$t.getDefaults=function S1(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},$t.defaults=yc,$t.use=function(...t){const n=ki({},...t),e=$t.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(o=>{if(o.extensions&&(r=!0,o.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers?e.renderers[i.name]:null;e.renderers[i.name]=s?function(...a){let c=i.renderer.apply(this,a);return!1===c&&(c=s.apply(this,a)),c}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)})),o.renderer){const i=$t.defaults.renderer||new vc;for(const s in o.renderer){const a=i[s];i[s]=(...c)=>{let u=o.renderer[s].apply(i,c);return!1===u&&(u=a.apply(i,c)),u}}n.renderer=i}if(o.tokenizer){const i=$t.defaults.tokenizer||new Nv;for(const s in o.tokenizer){const a=i[s];i[s]=(...c)=>{let u=o.tokenizer[s].apply(i,c);return!1===u&&(u=a.apply(i,c)),u}}n.tokenizer=i}if(o.walkTokens){const i=$t.defaults.walkTokens;n.walkTokens=function(s){o.walkTokens.call(this,s),i&&i.call(this,s)}}r&&(n.extensions=e),$t.setOptions(n)})},$t.walkTokens=function(t,n){for(const e of t)switch(n.call($t,e),e.type){case"table":for(const r of e.header)$t.walkTokens(r.tokens,n);for(const r of e.rows)for(const o of r)$t.walkTokens(o.tokens,n);break;case"list":$t.walkTokens(e.items,n);break;default:$t.defaults.extensions&&$t.defaults.extensions.childTokens&&$t.defaults.extensions.childTokens[e.type]?$t.defaults.extensions.childTokens[e.type].forEach(function(r){$t.walkTokens(e[r],n)}):e.tokens&&$t.walkTokens(e.tokens,n)}},$t.parseInline=function(t,n){if(typeof t>"u"||null===t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");T1(n=ki({},$t.defaults,n||{}));try{const e=$s.lexInline(t,n);return n.walkTokens&&$t.walkTokens(e,n.walkTokens),Bs.parseInline(e,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Lr(e.message+"",!0)+"</pre>";throw e}},$t.Parser=Bs,$t.parser=Bs.parse,$t.Renderer=vc,$t.TextRenderer=k1,$t.Lexer=$s,$t.lexer=$s.lex,$t.Tokenizer=Nv,$t.Slugger=P1,$t.parse=$t;const M4=["*"];let Lv=(()=>{class t{constructor(){this._buttonClick$=new k,this.copied$=this._buttonClick$.pipe(Fo(()=>vi(Lt(!0),C1(3e3).pipe(Ky(!1)))),e1(),function c4(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,ls({connector:()=>new l4(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(zE(!1),Ne(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=je({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,r){1&e&&(ue(0,"button",0),We("click",function(){return r.onCopyToClipboardClick()}),Jl(1,"async"),Ve(2),Jl(3,"async"),re()),2&e&&(ea("copied",ec(1,3,r.copied$)),Xe(2),bs(ec(3,5,r.copiedText$)))},dependencies:[Qw],encapsulation:2,changeDetection:0}),t})();class k4{}var od=(()=>{return(t=od||(od={})).CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",od;var t})();class R1{}const O1=new It("SECURITY_CONTEXT");let $v=(()=>{class t{constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new vc},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new k,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,markedOptions:c=this.options}=r;a&&(this.renderer=this.extendRenderer(c.renderer||new vc));const u=this.trimIndentation(e),p=o?this.decodeHtml(u):u,h=s?this.parseEmoji(p):p,y=this.parseMarked(h,c,i);return this.sanitizer.sanitize(this.securityContext,y)||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:c,mermaid:u,mermaidOptions:p}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...c}),u&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...p}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(Ne(r=>this.handleExtension(e,r)))}highlight(e){if(!xs(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!xs(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),u=c>-1?a.substring(c+1):"";return u&&"md"!==u?"```"+u+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return xs(this.platform)?o?$t.parseInline(e,r):$t.parse(e,r):e}parseEmoji(e){if(!xs(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(xs(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!xs(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let c=0;c<a.length;c++){const u=a.item(c),p=document.createElement("div");p.style.position="relative",u.parentNode.insertBefore(p,u),p.appendChild(u);const h=document.createElement("div");let y,S;h.style.position="absolute",h.style.top=".5em",h.style.right=".5em",h.style.opacity="0",h.style.transition="opacity 250ms ease-out",p.insertAdjacentElement("beforeend",h),u.onmouseover=()=>h.style.opacity="1",u.onmouseout=()=>h.style.opacity="0",y=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Lv).hostView,y.rootNodes.forEach(F=>{F.onmouseover=()=>h.style.opacity="1",h.appendChild(F),S=new ClipboardJS(F,{text:()=>u.innerText})}),y.onDestroy(()=>S.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!xs(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(oe(oc),oe(O1),oe(_y,8),oe(k4,8),oe(R1,8),oe(hy))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),Bv=(()=>{class t{constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new Kt,this.load=new Kt,this.ready=new Kt,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new k}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function u4(t){return be((n,e)=>{on(t).subscribe(Fe(e,()=>e.complete(),T)),!e.closed&&n.subscribe(e)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){const i={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,i,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,od.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,od.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const c=this.toLispCase(s);o.item(i).setAttribute(c,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return t.\u0275fac=function(e){return new(e||t)(g(Ge),g($v),g(so))},t.\u0275cmp=je({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Er],ngContentSelectors:M4,decls:1,vars:0,template:function(e,r){1&e&&(tt(),et(0))},encapsulation:2}),t})(),Vv=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[$v,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:O1,useValue:e&&null!=e.sanitize?e.sanitize:On.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[Ji]}),t})();var F1;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(F1||(F1={}));var ye=D(3918);window;const N1=!navigator.userAgent.match(/(crios)|(fxios)/i),ns=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,L1=!!navigator.userAgent.match(/android/i);var pa=(()=>{return(t=pa||(pa={})).web="web",t.pwa="pwa",t.twa="twa",pa;var t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const H4=new Error("request for lock canceled");var $1=function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(p){try{u(r.next(p))}catch(h){s(h)}}function c(p){try{u(r.throw(p))}catch(h){s(h)}}function u(p){p.done?i(p.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(p.value).then(a,c)}u((r=r.apply(t,n||[])).next())})};class j4{constructor(n,e=H4){if(this._maxConcurrency=n,this._cancelError=e,this._queue=[],this._waiters=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}acquire(){const n=this.isLocked(),e=new Promise((r,o)=>this._queue.push({resolve:r,reject:o}));return n||this._dispatch(),e}runExclusive(n){return $1(this,void 0,void 0,function*(){const[e,r]=yield this.acquire();try{return yield n(e)}finally{r()}})}waitForUnlock(){return $1(this,void 0,void 0,function*(){return this.isLocked()?new Promise(e=>this._waiters.push({resolve:e})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let e=!1;this._currentReleaser=()=>{e||(e=!0,this._value++,this._resolveWaiters(),this._dispatch())},n.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(n=>n.resolve()),this._waiters=[]}}class rs{constructor(n){this._semaphore=new j4(1,n)}acquire(){return function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(p){try{u(r.next(p))}catch(h){s(h)}}function c(p){try{u(r.throw(p))}catch(h){s(h)}}function u(p){p.done?i(p.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(p.value).then(a,c)}u((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){const[,n]=yield this._semaphore.acquire();return n})}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const ha="session",_c="rom",ma="memory",Vs="state",zp="kvs",ga="memory-meta",ya="storage",Pi="storage-card",id="lock";class bc extends Error{constructor(n){super(n)}}function mn(t){return new Promise((n,e)=>{!function W4(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new bc(t.error?.message))})}function H1(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function q4(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const Wp="session",jv="memory",K4="memory-meta",Y4="storage",U1="storage-meta",G1="storage-card",Q4="storageId";function Uv(){return(Uv=(0,ye.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(Wp).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,u={...c,totalMemory:1024*c.ram*1024+e(c.device)};a.update(u),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Gv(){return(Gv=(0,ye.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function zv(){return(zv=(0,ye.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore(K4,{keyPath:"sessionId"});t.createObjectStore(Y4),t.createObjectStore(U1,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(Wp).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(e.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function Wv(){return(Wv=(0,ye.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(U1).name=G1})).apply(this,arguments)}function qv(){return(qv=(0,ye.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(G1).createIndex(Q4,"storageId")})).apply(this,arguments)}function Zv(){return(Zv=(0,ye.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}var aH=D(5023),lH=D.n(aH);const z1={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let qp;const cH=new Uint8Array(16);function uH(){if(!qp&&(qp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!qp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return qp(cH)}const Kr=[];for(let t=0;t<256;++t)Kr.push((t+256).toString(16).slice(1));const Kv=function dH(t,n,e){if(z1.randomUUID&&!n&&!t)return z1.randomUUID();const r=(t=t||{}).random||(t.rng||uH)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function W1(t,n=0){return(Kr[t[n+0]]+Kr[t[n+1]]+Kr[t[n+2]]+Kr[t[n+3]]+"-"+Kr[t[n+4]]+Kr[t[n+5]]+"-"+Kr[t[n+6]]+Kr[t[n+7]]+"-"+Kr[t[n+8]]+Kr[t[n+9]]+"-"+Kr[t[n+10]]+Kr[t[n+11]]+Kr[t[n+12]]+Kr[t[n+13]]+Kr[t[n+14]]+Kr[t[n+15]]).toLowerCase()}(r)},Zp="cloudpilot-session-preview";function q1(){localStorage.removeItem(Zp)}let Hs=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),So=(()=>{class t{constructor(e,r){this.alertController=e,this.emulationState=r,this.emergencySaveEvent=new zr.j}errorMessage(e){var r=this;return(0,ye.Z)(function*(){yield(yield r.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(e,r,o={},i="Close"){var s=this;return(0,ye.Z)(function*(){const a=yield s.alertController.create({header:e,message:r,backdropDismiss:!1,buttons:[...Object.keys(o).map(c=>({text:c,handler:()=>{a.dismiss(),o[c]()}})),{text:i,role:"cancel"}]});yield a.present()})()}updateAvailable(){var e=this;return(0,ye.Z)(function*(){yield(yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]})).present()})()}fatalError(e,r=!0){var o=this;return(0,ye.Z)(function*(){const i=!!o.emulationState.getCurrentSession();yield(yield o.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${i&&r?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...i&&r?[{text:"Save image",handler:()=>(o.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"})).present()})()}errorInNativeCode(e){var r=this;return(0,ye.Z)(function*(){r.emulationState.getCurrentSession(),yield(yield r.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]})).present()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}}return t.\u0275fac=function(e){return new(e||t)(oe(gc),oe(Hs))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),sd=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&q1(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new zr.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return t.\u0275fac=function(e){return new(e||t)(oe(So),oe(Be))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yv=new Error("page lock lost"),Z1=new Error("version mismatch"),K1=Kv();function nr(){return(t,n,e)=>{const r=e.value;return e.value=(0,ye.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof bc?o.fatalIDBDead():i===Z1?o.fatalVersionMismatch():i===Yv?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),e}}class nn{constructor(n,e){this.ngZone=n,this.errorService=e,this.saveMemory=(r,o,i)=>this.ngZone.runOutsideAngular(()=>{const s=r.objectStore(ma),a=r.objectStore(ga),c=new Uint32Array(256),u=new Uint8Array(c.buffer);s.delete(IDBKeyRange.bound([o,0],[o+1,0],!1,!0)),a.put({sessionId:o,totalSize:i.length});const h=i.length>>>10;for(let y=0;y<h;y++){u.set(i.subarray(1024*y,1024*(y+1)));const S=H1(c);if("number"==typeof S)s.put(S,[o,y]);else{const F=new Uint32Array(256);F.set(S),s.put(F,[o,y])}}}),this.loadMemory=(r,o)=>this.ngZone.runOutsideAngular((0,ye.Z)(function*(){const i=r.objectStore(ga),s=yield mn(i.get(o));if(s)return new Promise(function(){var a=(0,ye.Z)(function*(c,u){const p=r.objectStore(ma),h=new Uint32Array(s.totalSize>>>2),y=p.openCursor(IDBKeyRange.bound([o,0],[o+1,0],!1,!0));y.onsuccess=()=>{const S=y.result;if(!S)return c(new Uint8Array(h.buffer));const F=S.value,[,ge]=S.key;"number"==typeof F?h.subarray(256*ge,256*(ge+1)).fill(F|F<<8|F<<16|F<<24):h.subarray(256*ge,256*(ge+1)).set(1024===F.length?new Uint32Array(F.buffer):F),S.continue()},y.onerror=()=>u(new bc(y.error?.message))});return function(c,u){return a.apply(this,arguments)}}())})),this.sessionChangeEvent=new zr.j,this.storageCardChangeEvent=new zr.j,this.sessionUpdateMutex=new rs,this.requestPersistentStorage(),this.db=n.runOutsideAngular(()=>this.setupDb())}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,ye.Z)(function*(){const s=lH()(e),a=yield i.newTransaction(ha,_c,Vs,ma,ga),c=a.objectStore(ha),u=a.objectStore(_c);(yield mn(u.get(s)))||u.put(e,s);const{id:h,...y}=n,S=yield mn(c.add({...y,rom:s})),F=yield mn(c.get(S));return r&&i.saveMemory(a,F.id,r),o&&i.saveState(a,F.id,o),yield mn(a),F})()}getAllSessions(){var n=this;return(0,ye.Z)(function*(){const[e]=yield n.prepareObjectStore(ha);return yield mn(e.getAll())})()}getSession(n){var e=this;return(0,ye.Z)(function*(){const[r]=yield e.prepareObjectStore(ha);return yield mn(r.get(n))})()}deleteSession(n){var e=this;return(0,ye.Z)(function*(){const r=yield e.newTransaction(ha,_c,Vs,ma,ga),o=r.objectStore(ha),i=r.objectStore(_c);(n=yield mn(o.get(n.id)))&&(o.delete(n.id),0===(yield mn(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield mn(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,ye.Z)(function*(){const[o,i]=yield r.prepareObjectStore(ha),s=yield mn(o.get(n));if(!s)throw new Error(`no session with id ${n}`);const a={...s,...e};o.put(a),yield mn(i),r.sessionChangeEvent.dispatch([s.id,a])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,ye.Z)(function*(){const[r,o]=yield e.prepareObjectStore(ha),i=yield mn(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield mn(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n){var e=this;return(0,ye.Z)(function*(){const r=yield e.newTransaction(_c,Vs,ma,ga),o=r.objectStore(_c);return[yield mn(o.get(n.rom)),yield e.loadMemory(r,n.id),yield e.loadState(r,n.id)]})()}deleteStateForSession(n){var e=this;return(0,ye.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Vs);r.delete(n.id),yield mn(o)})()}addEmptyStorageCard(n){var e=this;return(0,ye.Z)(function*(){const[r]=yield e.prepareObjectStore(Pi),o=yield mn(r.add(n));return mn(r.get(o))})()}importStorageCard(n,e){var r=this;return(0,ye.Z)(function*(){return r.ngZone.runOutsideAngular((0,ye.Z)(function*(){const o=yield r.newTransaction(Pi,ya),i=o.objectStore(Pi),s=o.objectStore(ya),a=yield mn(i.add(n)),c=(n.size>>>13)+(e.length%8192==0?0:1),u=new Uint32Array(2048);for(let h=0;h<c;h++){const y=e.subarray(2048*h,2048*(h+1));h===c-1&&u.set(y);const S=q4(h===c-1?u:y);0!==S&&s.put("number"==typeof S?S:S?.slice(),[a,h])}const p=yield mn(i.get(a));return yield mn(o),p}))})()}getAllStorageCards(){var n=this;return(0,ye.Z)(function*(){const[e]=yield n.prepareObjectStore(Pi);return mn(e.getAll())})()}getCard(n){var e=this;return(0,ye.Z)(function*(){const[r]=yield e.prepareObjectStore(Pi);return mn(r.get(n))})()}updateStorageCard(n){var e=this;return(0,ye.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Pi),i=yield mn(r.get(n.id));if(!i)throw new Error(`no card with id ${n.id}`);if(n.storageId!==i.storageId)throw new Error("attempt to modify storage id");if(n.size!==i.size)throw new Error("attempt to modify card size");r.put(n),yield mn(o),e.storageCardChangeEvent.dispatch(n.id)})()}deleteStorageCard(n){var e=this;return(0,ye.Z)(function*(){const r=yield e.newTransaction(Pi,ya),o=r.objectStore(Pi),i=r.objectStore(ya);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield mn(r)})()}loadCardData(n,e){var r=this;return(0,ye.Z)(function*(){return r.ngZone.runOutsideAngular((0,ye.Z)(function*(){const i=(yield r.newTransaction(Pi,ya)).objectStore(ya);yield new Promise(function(){var s=(0,ye.Z)(function*(a,c){const u=i.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));u.onsuccess=()=>{const p=u.result;if(!p)return a();let h=p.value;const[,y]=p.key;"number"==typeof h?e.subarray(2048*y,2048*(y+1)).fill(h):(2048*(y+1)>e.length&&(h=h.subarray(0,2048-2048*(y+1)+e.length)),e.subarray(2048*y,2048*(y+1)).set(h)),p.continue()},u.onerror=()=>c(new bc(u.error?.message))});return function(a,c){return s.apply(this,arguments)}}())}))})()}kvsGet(n){var e=this;return(0,ye.Z)(function*(){const[r]=yield e.prepareObjectStore(zp);return mn(r.get(n))})()}kvsSet(n){var e=this;return(0,ye.Z)(function*(){const[r,o]=yield e.prepareObjectStore(zp);for(const i of Object.keys(n))r.put(n[i],i);yield mn(o)})()}kvsLoad(){var n=this;return(0,ye.Z)(function*(){const[e]=yield n.prepareObjectStore(zp);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new bc(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,ye.Z)(function*(){const[r,o]=yield e.prepareObjectStore(zp);r.delete(n),yield mn(o)})()}acquireLock(n){return(0,ye.Z)(function*(){if((yield mn(n.objectStore(id).get(0)))!==K1)throw n.abort(),n.db.close(),Yv})()}newTransaction(...n){var e=this;return(0,ye.Z)(function*(){const r=(yield e.db).transaction([id,...n],"readwrite");return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,ye.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(Vs);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(Vs).delete(e)}loadState(n,e){return mn(n.objectStore(Vs).get(e))}deleteMemory(n,e){const r=n.objectStore(ma),o=n.objectStore(ga);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,ye.Z)(function*(){const e=n.transaction(id,"readwrite");yield mn(e.objectStore(id).put(K1,0))})()}setupDb(){var n=this;return(0,ye.Z)(function*(){const e=setTimeout(()=>ns&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw Z1}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new bc("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,ye.Z)(function*(c){clearTimeout(e),c.oldVersion<1&&function J4(t){t.createObjectStore(Wp,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),c.oldVersion<2&&function eH(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(jv)&&t.deleteObjectStore(jv),n.objectStore(Wp).clear(),t.createObjectStore("rom"),t.createObjectStore(jv),t.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function tH(t,n){return Uv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function nH(t,n){return Gv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function rH(t,n){return zv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function oH(t,n){return Wv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function iH(t,n){return qv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function sH(t,n){return Zv.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,ye.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}}nn.\u0275fac=function(n){return new(n||nn)(oe(Be),oe(sd))},nn.\u0275prov=Ze({token:nn,factory:nn.\u0275fac,providedIn:"root"}),X([nr()],nn.prototype,"addSession",null),X([nr()],nn.prototype,"getAllSessions",null),X([nr()],nn.prototype,"getSession",null),X([nr()],nn.prototype,"deleteSession",null),X([nr()],nn.prototype,"updateSessionPartial",null),X([nr()],nn.prototype,"updateSession",null),X([nr()],nn.prototype,"loadSession",null),X([nr()],nn.prototype,"deleteStateForSession",null),X([nr()],nn.prototype,"addEmptyStorageCard",null),X([nr()],nn.prototype,"importStorageCard",null),X([nr()],nn.prototype,"getAllStorageCards",null),X([nr()],nn.prototype,"getCard",null),X([nr()],nn.prototype,"updateStorageCard",null),X([nr()],nn.prototype,"deleteStorageCard",null),X([nr()],nn.prototype,"loadCardData",null),X([nr()],nn.prototype,"kvsGet",null),X([nr()],nn.prototype,"kvsSet",null),X([nr()],nn.prototype,"kvsDelete",null),X([nr()],nn.prototype,"newTransaction",null),X([nr()],nn.prototype,"prepareObjectStore",null),X([nr()],nn.prototype,"initializeLock",null),X([nr()],nn.prototype,"setupDb",null);const Y1={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};let No=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,ye.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new zr.j,this.mutex=new rs,this.storageMutex=new rs,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,ye.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,ye.Z)(function*(){const r=e;try{const o={...Y1,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...Y1}}})()}}return t.\u0275fac=function(e){return new(e||t)(oe(nn))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),X1=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,ye.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ns||L1)&&this.installationMode===pa.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){!this.promptForInstall()||this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage()))}getInstallMessage(){return ns&&N1?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ns?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ns&&N1?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ns?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?pa.pwa:document.referrer.startsWith("android-app://")?pa.twa:window.matchMedia("(display-mode: standalone)").matches?pa.pwa:pa.web}}return t.\u0275fac=function(e){return new(e||t)(oe(No),oe(So))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function SH(t,n){1&t&&(ue(0,"div",6),ut(1,"ion-spinner"),re())}let ad=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}return t.\u0275fac=function(e){return new(e||t)(g(Ai))},t.\u0275cmp=je({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,r){1&e&&(ue(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ve(3),re(),ue(4,"ion-buttons",1)(5,"ion-button",2),We("click",function(){return r.modalController.dismiss()}),Ve(6,"Close"),re()()()(),ue(7,"ion-content",3),Xt(8,SH,2,0,"div",4),ue(9,"markdown",5),We("load",function(){return r.loading=!1}),re()()),2&e&&(Xe(3),bs(r.title),Xe(5),Qe("ngIf",r.loading),Xe(1),Qe("src",r.url))},dependencies:[_o,Bv,ai,li,ci,ui,Qu,pi,fi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const ol="1.7.8-3ee9b49 (preview)";var Kp=D(9897);let ld=null;const Yp=(t=t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:u})=>{if((t=>void 0!==t.method&&"call"===t.method)(u)){const{params:{timerId:p,timerType:h}}=u;if("interval"===h){const y=n.get(p);if("number"==typeof y){const S=r.get(y);if(void 0===S||S.timerId!==p||S.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof y<"u"))throw new Error("The timer is in an undefined state.");y()}}else if("timeout"===h){const y=e.get(p);if("number"==typeof y){const S=r.get(y);if(void 0===S||S.timerId!==p||S.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof y<"u"))throw new Error("The timer is in an undefined state.");y(),e.delete(p)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(u)){const{error:{message:p}}=u;throw new Error(p)}{const{id:p}=u,h=r.get(p);if(void 0===h)throw new Error("The timer is in an undefined state.");const{timerId:y,timerType:S}=h;r.delete(p),"interval"===S?n.delete(y):e.delete(y)}}}),{clearInterval:u=>{const p=(0,Kp.generateUniqueNumber)(r);r.set(p,{timerId:u,timerType:"interval"}),n.set(u,p),o.postMessage({id:p,method:"clear",params:{timerId:u,timerType:"interval"}})},clearTimeout:u=>{const p=(0,Kp.generateUniqueNumber)(r);r.set(p,{timerId:u,timerType:"timeout"}),e.set(u,p),o.postMessage({id:p,method:"clear",params:{timerId:u,timerType:"timeout"}})},setInterval:(u,p)=>{const h=(0,Kp.generateUniqueNumber)(n);return n.set(h,()=>{u(),"function"==typeof n.get(h)&&o.postMessage({id:null,method:"set",params:{delay:p,now:performance.now(),timerId:h,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:p,now:performance.now(),timerId:h,timerType:"interval"}}),h},setTimeout:(u,p)=>{const h=(0,Kp.generateUniqueNumber)(e);return e.set(h,u),o.postMessage({id:null,method:"set",params:{delay:p,now:performance.now(),timerId:h,timerType:"timeout"}}),h}}},()=>{if(null!==ld)return ld;const e=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(e);return ld=t(r),ld.setTimeout(()=>URL.revokeObjectURL(r),0),ld});var t,_a=(()=>(function(t){t[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout"}(_a||(_a={})),_a))();class J1{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return _a.animationFrame}}class xH{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>Yp().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){void 0!==this.handle&&((t=>{Yp().clearTimeout(t)})(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return _a.timeout}}const AH=[135,135,105],kH=[0,0,0],ba=new Array(16).fill(0).map((t,n)=>kH.map((e,r)=>Math.floor((n*e+(15-n)*AH[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),Xv=ba.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var z=(()=>(function(t){t.palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70"}(z||(z={})),z))(),Ca=(()=>(function(t){t.sdcard="sdcard",t.memorystick="memorystick",t.none="none"}(Ca||(Ca={})),Ca))();function cd(t){switch(t){case z.i710:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case z.handera330:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case z.pegS300:case z.pegS320:case z.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case z.pegT600c:case z.pegT400:case z.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case z.pegN600c:case z.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case z.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function Qv(t){switch(t){case z.pilot:case z.palmPilot:case z.iii:case z.palmV:case z.palmVx:case z.iiix:case z.iiixe:case z.iiie:case z.m100:case z.m105:case z.m125:case z.m500:case z.palmVII:case z.palmVIIEZ:case z.palmVIIx:case z.i705:case z.handera330:case z.pegS300:case z.pegS320:case z.pegT400:return!1;default:return!0}}function eT(t){switch(t){case z.pilot:return"Pilot";case z.palmPilot:return"Palm Pilot";case z.iii:return"Palm III";case z.m500:return"Palm m500";case z.m505:return"Palm m505";case z.m515:return"Palm m515";case z.palmVx:return"Palm Vx";case z.iiix:return"Palm IIIx";case z.iiixe:return"Palm IIIxe";case z.iiie:return"Palm IIIe";case z.palmV:return"Palm V";case z.palmVII:return"Palm VII";case z.palmVIIEZ:return"Palm VII EZ";case z.palmVIIx:return"Palm VIIx";case z.iiic:return"Palm IIIc";case z.m100:return"Palm m100";case z.m105:return"Palm m105";case z.m125:return"Palm m125";case z.m130:return"Palm m130";case z.i705:return"Palm i705";case z.i710:return"Tungsten W";case z.handera330:return"Handera 330";case z.pegS300:return"Sony PEG-S300";case z.pegS320:return"Sony PEG-S320";case z.pegT400:return"Sony PEG-T400 series";case z.pegN600c:return"Sony PEG-N600C series";case z.pegT600c:return"Sony PEG-T600C series";case z.pegN700c:return"Sony PEG-N700C series";case z.pegT650c:return"Sony PEG-T650C series";case z.pegNR70:return"Sony PEG-NR70 series";case z.pegS500c:return"Sony PEG-S500C series";default:throw new Error("bad device ID")}}function tT(t){switch(t){case z.m500:case z.m505:case z.m515:case z.m125:case z.m130:case z.i705:case z.i710:case z.handera330:return Ca.sdcard;case z.pegS300:case z.pegS500c:case z.pegS320:case z.pegT400:case z.pegN600c:case z.pegT600c:case z.pegN700c:case z.pegT650c:case z.pegNR70:return Ca.memorystick;default:return Ca.none}}class nT{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class OH{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const GH=new Error("transaction timeout"),oT=new Error("session does not match emulation");let ud=(()=>{class t{constructor(e,r,o,i){var s=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,ye.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new zr.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,ye.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,ye.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===oT)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===Yv)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,ye.Z)(function*(){const r=e.db.transaction([ma,ga,Vs,ya,Pi,id],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw oT;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield mn(r.objectStore(Pi).index("storageId").get(i)));const s=yield new Promise((a,c)=>{let u=!1;const p=performance.now();let h=0,y=0,S=0;const F=setTimeout(()=>{u=!0;try{r.abort()}catch{}c(GH)},6e3);r.oncomplete=()=>{clearTimeout(F),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:S,timeBlocking:y-h,timeTotal:performance.now()-p})},r.onerror=()=>{clearTimeout(F),c(new Error(r.error?.message))};try{h=performance.now(),S=e.saveDirtyMemory(r),o&&(S+=e.saveDirtyStorage(o,r)),e.saveSession(r),y=performance.now()}catch(ge){throw u||(clearTimeout(F),r.abort()),ge}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e){let r=0;const o=e.objectStore(ma),i=e.objectStore(ga),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let c=0;if(!this.dirtyPages||!this.pages){const p=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(p);for(let h=0;h<p;h++)this.pages[h]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let p=0;p<s.length;p++)if(this.dirtyPages[p]|=s[p],s[p]=0,0!==this.dirtyPages[p])for(let h=1;h<256&&!(r>=this.pages.length);h<<=1){if(this.dirtyPages[p]&h){const y=H1(a.subarray(256*r,256*(r+1)));"number"==typeof y?o.put(y,[this.sessionId,r]):(this.pages[r].set(y),o.put(this.pages[r],[this.sessionId,r])),c++}r++}else r+=8;return c}saveDirtyStorage(e,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,c=0;const u=r.objectStore(ya),p=(i.length>>11)+(i.length%2048>0?1:0);for(let h=0;h<o.length;h++)if(this.cardDirtyPages[h]|=o[h],o[h]=0,0!==this.cardDirtyPages[h])for(let y=1;y<256&&!(s>=p);y<<=1){if(this.cardDirtyPages[h]&y){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const S=this.cardPagePool[a++];S.set(i.subarray(2048*s,2048*(s+1))),u.put(S,[e.id,s]),c++}s++}else s+=8;return 8*c}saveSession(e){const r=e.objectStore(Vs);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}}return t.\u0275fac=function(e){return new(e||t)(oe(nn),oe(Hs),oe(sd),oe(Be))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zH(t,n){1&t&&(ue(0,"p",11),Ve(1," ERROR: URL must be served via HTTPS. "),re())}function WH(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(ic())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let qH=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(ic())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(ic())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new dp({url:new Nr("",WH)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=je({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(ue(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ve(3,"Enter download URL"),re(),ue(4,"ion-buttons",1)(5,"ion-button",2),We("click",function(){return r.continue()}),Ve(6,"OK"),re()(),ue(7,"ion-buttons",3)(8,"ion-button",4),We("click",function(){return r.onCancel()}),Ve(9,"Cancel"),re()()()(),ue(10,"ion-content",5)(11,"form",6),We("keydown",function(i){return r.formKeyDown(i)}),ue(12,"p"),Ve(13," Please enter the URL from which to download: "),re(),ue(14,"ion-item",7)(15,"ion-label",8),Ve(16,"URL"),re(),ut(17,"ion-input",9),re(),Xt(18,zH,2,0,"p",10),ue(19,"p"),Ve(20," Note that the remote server needs to support the CORS protocol. "),re()()()),2&e&&(Xe(5),Qe("disabled",r.formGroup.invalid),Xe(6),Qe("formGroup",r.formGroup),Xe(7),Qe("ngIf",r.isMixedContent))},dependencies:[_o,ai,li,ci,ui,rl,di,xi,pi,fi,nl,Za,za,Wa,Ps,la],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function Jv(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function iT(t){return`${Jv(t.name)}.bin`}function sT(t,n){return`backup_${Jv(t.name)}${n?"_with_rom":""}.zip`}function e_(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function aT(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let ZH=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new dp({username:new Nr(e?.username??""),password:new Nr(e?.password??"")})}}return t.\u0275fac=function(e){return new(e||t)(g(No))},t.\u0275cmp=je({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,r){1&e&&(ue(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ve(3,"Authenticate"),re(),ue(4,"ion-buttons",1)(5,"ion-button",2),We("click",function(){return r.saveAndContinue()}),Ve(6,"OK"),re()(),ue(7,"ion-buttons",3)(8,"ion-button",2),We("click",function(){return r.onCancel()}),Ve(9,"Cancel"),re()()()(),ue(10,"ion-content",4)(11,"form",5),We("keydown",function(i){return r.formKeyDown(i)}),ue(12,"p"),Ve(13," The server requires authentication. "),re(),ue(14,"ion-item",6)(15,"ion-label",7),Ve(16,"Username"),re(),ut(17,"ion-input",8),re(),ue(18,"ion-item",6)(19,"ion-label",7),Ve(20,"Password"),re(),ut(21,"ion-input",9),re()()()),2&e&&(Xe(11),Qe("formGroup",r.formGroup))},dependencies:[ai,li,ci,ui,rl,di,xi,pi,fi,nl,Za,za,Wa,Ps,la],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),lT=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,ye.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(ic())("string"==typeof e?e:e.url);let c,u,p=!1;for(;;)try{void 0!==i&&i>=0&&!c&&(c=yield o.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>c.present(),i));const h=o.kvsService.kvs.credentials[a.origin],y=new AbortController,S=window.setTimeout(()=>y.abort(),s),F=yield fetch(e,{...o.requestInit(r),signal:y.signal,headers:{...r?.headers||{},...p&&h?{Authorization:"Basic "+btoa(`${h.username}:${h.password}`)}:{}}});if(clearTimeout(S),401===F.status){if(!p&&h){p=!0;continue}if(c&&(c.dismiss(),clearTimeout(u),i=0,c=void 0),p=!0,yield o.authenticate(a.origin))continue}return F}finally{c&&(yield c.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,ye.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:ZH,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}}return t.\u0275fac=function(e){return new(e||t)(oe(Ls),oe(No),oe(Ai))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var YH=D(3272),XH=D.n(YH);const cT=[z.palmPilot,z.pilot,z.iii,z.palmVx,z.palmV,z.palmVII,z.palmVIIEZ,z.palmVIIx,z.iiixe,z.iiix,z.iiie,z.m500,z.m505,z.m515,z.iiic,z.m100,z.m105,z.m125,z.m130,z.i705,z.i710,z.handera330,z.pegS300,z.pegS320,z.pegS500c,z.pegT400,z.pegN600c,z.pegT600c,z.pegN700c,z.pegT650c,z.pegNR70];function gt(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class ft{constructor(n){this.module=n,this.fatalErrorEvent=new zr.j,this.pwmUpdateEvent=new zr.j,this.proxyDisconnectEvent=new zr.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,ye.Z)(function*(){return new ft(yield XH()({print:e=>console.log(e),printErr:e=>console.error(e),...void 0!==n?{locateFile:()=>n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:cT.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,ye.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,ye.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,c=0;if(void 0!==n.metadata){const p=(new TextEncoder).encode(JSON.stringify(n.metadata));c=p.length,a=this.copyIn(p)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,c);const u=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(p=>this.cloudpilot.Free(p)),u}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),c=e.GetDeviceId();if(!cT.includes(c))return void console.warn(`unsupported device ${c}`);let u;const p=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(p)try{u=JSON.parse((new TextDecoder).decode(p))}catch(h){console.warn("invalid metadata",h)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:u,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=this.cloudpilot.GetCardSize(n),o=(r>>>13)+(r%8192>0?1:0);return this.module.HEAPU8.subarray(e,e+((o>>>3)+(o%8>0?1:0)))}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAP8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}}X([gt()],ft.prototype,"getRomInfo",null),X([gt()],ft.prototype,"initializeSession",null),X([gt()],ft.prototype,"cyclesPerSecond",null),X([gt()],ft.prototype,"runEmulation",null),X([gt()],ft.prototype,"getFrame",null),X([gt()],ft.prototype,"isScreenDirty",null),X([gt()],ft.prototype,"markScreenClean",null),X([gt()],ft.prototype,"minRamForDevice",null),X([gt()],ft.prototype,"framebufferSizeForDevice",null),X([gt()],ft.prototype,"totalMemorySizeForDevice",null),X([gt()],ft.prototype,"queuePenMove",null),X([gt()],ft.prototype,"queuePenUp",null),X([gt()],ft.prototype,"queueButtonDown",null),X([gt()],ft.prototype,"queueButtonUp",null),X([gt()],ft.prototype,"queueKeyboardEvent",null),X([gt()],ft.prototype,"isPowerOff",null),X([gt()],ft.prototype,"isUiInitialized",null),X([gt()],ft.prototype,"isSetupComplete",null),X([gt()],ft.prototype,"getOSVersion",null),X([gt()],ft.prototype,"reset",null),X([gt()],ft.prototype,"resetNoExtensions",null),X([gt()],ft.prototype,"resetHard",null),X([gt()],ft.prototype,"installDb",null),X([gt()],ft.prototype,"getPalette2bitMapping",null),X([gt()],ft.prototype,"getMemory",null),X([gt()],ft.prototype,"getMemory32",null),X([gt()],ft.prototype,"getDirtyPages",null),X([gt()],ft.prototype,"loadMemory",null),X([gt()],ft.prototype,"getRomImage",null),X([gt()],ft.prototype,"getSavestate",null),X([gt()],ft.prototype,"saveState",null),X([gt()],ft.prototype,"loadState",null),X([gt()],ft.prototype,"getHotsyncName",null),X([gt()],ft.prototype,"setClockFactor",null),X([gt()],ft.prototype,"setHotsyncName",null),X([gt()],ft.prototype,"setClipboardIntegration",null),X([gt()],ft.prototype,"getClipboardIntegration",null),X([gt()],ft.prototype,"isSuspended",null),X([gt()],ft.prototype,"getSuspendKind",null),X([gt()],ft.prototype,"cancelSuspend",null),X([gt()],ft.prototype,"getSuspendContextClipboardCopy",null),X([gt()],ft.prototype,"getSuspendContextClipboardPaste",null),X([gt()],ft.prototype,"setNetworkRedirection",null),X([gt()],ft.prototype,"getNetworkRedirection",null),X([gt()],ft.prototype,"getSuspendContextNetworkConnect",null),X([gt()],ft.prototype,"getSuspendContextNetworkRpc",null),X([gt()],ft.prototype,"copyBuffer",null),X([gt()],ft.prototype,"freeBuffer",null),X([gt()],ft.prototype,"setHotsyncNameManagement",null),X([gt()],ft.prototype,"resolveBuffer",null),X([gt()],ft.prototype,"serializeSessionImage",null),X([gt()],ft.prototype,"deserializeSessionImage",null),X([gt()],ft.prototype,"launchAppByName",null),X([gt()],ft.prototype,"launchAppByDbHeader",null),X([gt()],ft.prototype,"deviceSupportsCardSize",null),X([gt()],ft.prototype,"clearExternalStorage",null),X([gt()],ft.prototype,"allocateCard",null),X([gt()],ft.prototype,"getCardData",null),X([gt()],ft.prototype,"getCardDirtyPages",null),X([gt()],ft.prototype,"getMountedKey",null),X([gt()],ft.prototype,"mountCard",null),X([gt()],ft.prototype,"removeCard",null),X([gt()],ft.prototype,"remountCards",null),X([gt()],ft.prototype,"getCardSupportLevel",null);let os=(()=>{class t{constructor(){this.cloudpilot=ft.create()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dd=(()=>{class t{constructor(e,r,o,i,s,a,c,u){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=c,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}saveSession(e){var r=this;return(0,ye.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);const c={deviceId:e.device,metadata:aT(e),rom:i,memory:s,savestate:a},u=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(c);u?r.saveFile(iT(e),u):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,ye.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),c=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const p={deviceId:e.device,metadata:aT(e),rom:s,memory:a,savestate:c},h=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(p);h&&o.saveFile(iT(e),h)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,ye.Z)(function*(){let i;try{i=new(ic())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");return void r({name:i.pathname.replace(/.*\//,""),content:new Uint8Array(yield s.arrayBuffer())})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,ye.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,ye.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:qH,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,ye.Z)(function*(i){const s=i.target;if(!s?.files?.length)return[];const a=[];for(let c=0;c<s.files?.length;c++){const u=s.files.item(c);if(!u)continue;const p=new Promise((h,y)=>{const S=new FileReader;S.onload=()=>h({content:new Uint8Array(S.result),name:u.name}),S.onerror=()=>y(S.error),S.readAsArrayBuffer(u)});a.push(p)}r(yield Promise.all(a))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}}return t.\u0275fac=function(e){return new(e||t)(oe(nn),oe(Ls),oe(Ov),oe(No),oe(Ai),oe(So),oe(lT),oe(os))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),t_=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new zr.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}return t.\u0275fac=function(e){return new(e||t)(oe(Be))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Xp=new Error("permission denied");let uT=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,ye.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===Xp)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,ye.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?Xp:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,ye.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,ye.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(u){s(u)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,ye.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,ye.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===Xp)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,ye.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?Xp:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,ye.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,ye.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(c){i(c)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,ye.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,ye.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,ye.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return t.\u0275fac=function(e){return new(e||t)(oe(gc),oe(So))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const JH="https:"===window.location.protocol?8667:8666,ej=/^[\da-z\-\.]+$/i,tj=/^[\da-z\-\.]+:\d+$/i;function n_(t){if(!t)return;const n=window.location.protocol;if(t.match(ej))return`${n}//${t}:${JH}`;if(t.match(tj))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function nj(t){return void 0!==n_(t.value)?null:{proxyAddress:"invalid"}}let r_=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,ye.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=n_(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield s.handshake(void 0,500);switch(c.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=Kv(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,a.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new zr.j,this.mutex=new rs,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,ye.Z)(function*(){const i=n_(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){!e||(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return t.\u0275fac=function(e){return new(e||t)(oe(No),oe(So),oe(Be),oe(lT))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),fT=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){!this.cloudpilot||(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pT=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var il=(()=>(function(t){t.dirty="dirty",t.clean="clean"}(il||(il={})),il))(),bn=(()=>(function(t){t.portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180"}(bn||(bn={})),bn))();let fd=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new rs,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,ye.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:bn.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const c=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),c})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,ye.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:bn.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const u=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield c.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,ye.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,ye.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,ye.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,ye.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}}return t.\u0275fac=function(e){return new(e||t)(oe(os),oe(nn),oe(Ls))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var lo=(()=>(function(t){t[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128"}(lo||(lo={})),lo))();function hT(t){switch(t){case lo.mb4:return 4046848;case lo.mb8:return 8110080;case lo.mb16:return 16220160;case lo.mb32:return 32473088;case lo.mb64:return 64978944;case lo.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}function mT(){return Kv().replace(/-/g,"")}let Cc=(()=>{class t{constructor(e,r,o,i,s,a){this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.loading=!0,this.cards=[],this.updateMutex=new rs,this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,r){var o=this;return(0,ye.Z)(function*(){const i={storageId:mT(),name:e,size:hT(r),status:il.clean},s=yield o.storageService.addEmptyStorageCard(i);return o.updateCardsFromDB(),s})()}createCardFromFile(e,r){var o=this;return(0,ye.Z)(function*(){const i={storageId:mT(),name:e,size:r.content.length,status:il.clean},s=yield o.loadingController.create({message:"Importing..."});try{yield s.present();const a=yield o.storageService.importStorageCard(i,new Uint32Array(r.content.buffer,r.content.byteOffset,r.content.length>>>2));return o.updateCardsFromDB(),a}finally{s.dismiss()}})()}updateCard(e){return this.storageService.updateStorageCard(e)}deleteCard(e){var r=this;return(0,ye.Z)(function*(){(yield r.cardIsMounted(e.id))&&(yield r.ejectCard()),yield r.storageService.deleteStorageCard(e.id),r.updateCardsFromDB()})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}mountCard(e){var r=this;return(0,ye.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=r.emulationStateService.getCurrentSession();if(!o)throw new Error("no current session");if(void 0!==o.mountedCard)throw new Error("session already has a mounted card");const i=yield r.loadCard(e),s=yield r.cloudpilotService.cloudpilot;if(r.storageService.updateSessionPartial(o.id,{mountedCard:e}),!s.mountCard(i.storageId))throw s.removeCard(i.storageId),new Error("failed to mount card");return i})()}loadCard(e){var r=this;return(0,ye.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return yield r.storageService.loadCardData(o.id,s),o})()}ejectCard(){var e=this;return(0,ye.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard()})()}updateCardsFromDB(){var e=this;return(0,ye.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,ye.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,ye.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}}return t.\u0275fac=function(e){return new(e||t)(oe(fd),oe(nn),oe(Hs),oe(os),oe(Ls),oe(ud))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),is=(()=>{class t extends class HH{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const u=this.cloudpilotInstance.isPowerOff(),p=this.cloudpilotInstance.isUiInitialized();if(u!==this.powerOff||p!==this.uiInitialized){const h=this.powerOff;this.powerOff=u,this.uiInitialized=p,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}p&&!u&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new zr.j,this.pwmUpdateEvent=new zr.j,this.emulationStateChangeEvent=new zr.j,this.powerOffChangeEvent=new zr.j,this.deviceId=z.m515,this.clockEmulator=0,this.scheduler=new J1(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new OH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new nT(20),this.timePerFrameAverage=new nT(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance&&(r&&(n=this.transformSilkscreenX(n)),this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o)}handlePointerUp(){!this.handleInput()||(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=cd(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){!this.cloudpilotInstance||(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){!this.running||(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n){const e=cd(this.deviceId);return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===_a.animationFrame?new J1(n=>this.onSchedule(n)):new xH(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=cd(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=Qv(n)?"white":Xv[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=ba[15],i=ba[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let u=n.margin;u<n.lineWidth+n.margin;u++)r[s++]=n.buffer[c+(u>>>3)]&128>>>(7&u)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[ba[15&o],ba[o>>>4&15],ba[o>>>8&15],ba[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let u=n.margin;u<n.lineWidth+n.margin;u++)r[s++]=i[n.buffer[c+(u>>>2)]>>6-2*(3&u)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=ba[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let c=0;c<n.lineWidth;c++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}{constructor(e,r,o,i,s,a,c,u,p,h,y,S,F,ge,ke,we,Ue){var he;super(),he=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=c,this.alertService=u,this.modalWatcher=p,this.clipboardService=h,this.kvsService=y,this.proxyService=S,this.buttonService=F,this.bootstrapService=ge,this.cloudpilotService=ke,this.storageCardService=we,this.app=Ue,this.switchSession=lt=>this.mutex.runExclusive((0,ye.Z)(function*(){if(lt===he.emulationState.getCurrentSession()?.id)return;yield he.bootstrapService.hasRendered();const jt=yield he.loadingController.create({message:"Loading..."});yield jt.present();try{const $r=yield he.storageService.getSession(lt);if(he.emulationState.setCurrentSession($r),!$r)throw new Error(`invalid session ${lt}`);const Ri=yield he.cloudpilotService.cloudpilot;yield he.restoreSession($r,Ri),function hH(t){localStorage.setItem(Zp,t+"")}(lt)}finally{yield jt.dismiss()}})),this.resume=()=>this.mutex.runExclusive((0,ye.Z)(function*(){!he.emulationState.getCurrentSession()||he.running||he.errorService.hasFatalError()||!he.cloudpilotInstance||(yield he.kvsService.mutex.runExclusive(()=>he.updateFeatures()),he.doResume(),he.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,ye.Z)(function*(){he.doPause(),!he.errorService.hasFatalError()&&he.emulationState.getCurrentSession()&&(yield he.snapshotService.waitForPendingSnapshot(),yield he.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive((0,ye.Z)(function*(){he.doStop(),he.emulationState.setCurrentSession(void 0)})),this.onSessionChange=([lt,jt])=>this.mutex.runExclusive((0,ye.Z)(function*(){lt===he.emulationState.getCurrentSession()?.id&&(he.emulationState.setCurrentSession(jt),he.emulationState.getCurrentSession()||(q1(),he.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,ye.Z)(function*(){const lt=he.emulationState.getCurrentSession();lt&&he.fileService.emergencySaveSession(lt,yield he.cloudpilotService.cloudpilot)})),this.mutex=new rs,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(lt=>{lt.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(lt),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Ke=function pH(){const t=localStorage.getItem(Zp);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Ke&&!wD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Ke))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();!r||this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?_a.timeout:_a.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&this.isUiInitialized()&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){!this.cloudpilotInstance||(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,ye.Z)(function*(){try{yield r.switchSession(e)}catch{ns&&(yield r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience."))}})()}restoreSession(e,r){var o=this;return(0,ye.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);if(r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCard(e.mountedCard)),!o.openSession(r,i,e.device,s,a))throw new Error("failed to open session");o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot)})()}}return t.\u0275fac=function(e){return new(e||t)(oe(nn),oe(Be),oe(Ls),oe(Hs),oe(ud),oe(sd),oe(dd),oe(So),oe(t_),oe(uT),oe(No),oe(r_),oe(fT),oe(pT),oe(os),oe(Cc),oe(ra))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Sa=new qe(T),lj={connector:()=>new k};function gT(t,n=lj){const{connector:e}=n;return be((r,o)=>{const i=e();on(t(function aj(t){return new qe(n=>t.subscribe(n))}(i))).subscribe(o),o.add(r.subscribe(i))})}function yT(t,n){return n?e=>Lu(n.pipe(Wo(1),function dj(){return be((t,n)=>{t.subscribe(Fe(n,T))})}()),e.pipe(yT(t))):In((e,r)=>t(e,r).pipe(Wo(1),Ky(e)))}const pd="Service workers are disabled or not supported by this browser";class Qp{constructor(n){if(this.serviceWorker=n,n){const r=Fu(n,"controllerchange").pipe(Ne(()=>n.controller)),i=Lu(yp(()=>Lt(n.controller)),r);this.worker=i.pipe(Wr(p=>!!p)),this.registration=this.worker.pipe(Fo(()=>n.getRegistration()));const u=Fu(n,"message").pipe(Ne(p=>p.data)).pipe(Wr(p=>p&&p.type)).pipe(function uj(t){return t?n=>gT(t)(n):n=>function cj(t,n){const e=_(t)?t:()=>t;return _(n)?gT(n,{connector:e}):r=>new Wy(r,e)}(new k)(n)}());u.connect(),this.events=u}else this.worker=this.events=this.registration=function pj(t){return yp(()=>cc(new Error(t)))}(pd)}postMessage(n,e){return this.worker.pipe(Wo(1),qr(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(n,e);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(Wr(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(Wo(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(Wr(e=>e.nonce===n),Wo(1),Ne(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let hj=(()=>{class t{constructor(e){if(this.sw=e,this.subscriptionChanges=new k,!e.isEnabled)return this.messages=Sa,this.notificationClicks=Sa,void(this.subscription=Sa);this.messages=this.sw.eventsOfType("PUSH").pipe(Ne(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ne(o=>o.data)),this.pushManager=this.sw.registration.pipe(Ne(o=>o.pushManager));const r=this.pushManager.pipe(Fo(o=>o.getSubscription()));this.subscription=vi(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(pd));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Fo(s=>s.subscribe(r)),Wo(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Wo(1),Fo(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(pd))}decodeBase64(e){return atob(e)}}return t.\u0275fac=function(e){return new(e||t)(oe(Qp))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})(),o_=(()=>{class t{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Sa,this.available=Sa,this.activated=Sa,void(this.unrecoverable=Sa);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Wr(r=>"VERSION_READY"===r.type),Ne(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(pd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(pd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return t.\u0275fac=function(e){return new(e||t)(oe(Qp))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();class i_{}const vT=new It("NGSW_REGISTER_SCRIPT");function mj(t,n,e,r){return()=>{if(!xs(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[a,...c]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=Lt(null);break;case"registerWithDelay":i=_T(+c[0]||0);break;case"registerWhenStable":i=c[0]?vi(bT(t),_T(+c[0])):bT(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(Be).runOutsideAngular(()=>i.pipe(Wo(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function _T(t){return Lt(null).pipe(function fj(t,n=b1){const e=C1(t,n);return yT(()=>e)}(t))}function bT(t){return t.get(ra).isStable.pipe(Wr(e=>e))}function gj(t,n){return new Qp(xs(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let yj=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[{provide:vT,useValue:e},{provide:i_,useValue:r},{provide:Qp,useFactory:gj,deps:[i_,oc]},{provide:ja,useFactory:mj,deps:[Mn,vT,i_,oc],multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({providers:[hj,o_]}),t})(),CT=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.updates=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,ye.Z)(function*(){const c=a.kvsService.kvs.version;void 0!==c?c!==ol&&(yield a.kvsService.set({version:ol,previousVersion:c,latestVersion:ol}),yield a.emulationService.bootstrapComplete(),a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${ol}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=ol})),this.mutex=new rs,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,ye.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,ye.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===ol){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,ye.Z)(function*(){yield(yield e.modalController.create({component:ad,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}return t.\u0275fac=function(e){return new(e||t)(oe(No),oe(is),oe(So),oe(Ai),oe(o_))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),_j=(()=>{class t{constructor(e,r,o){this.pwaService=e,this.updateService=r,this.bootstrapService=o}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}return t.\u0275fac=function(e){return new(e||t)(g(X1),g(CT),g(pT))},t.\u0275cmp=je({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(ue(0,"ion-app"),ut(1,"ion-router-outlet"),re())},dependencies:[r1,ed]}),t})(),ST=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=je({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,r){1&e&&(ue(0,"div"),Ve(1,"Dummy"),re())},encapsulation:2}),t})(),wT=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return t.\u0275fac=function(e){return new(e||t)(oe(my),oe(Kn))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const s_=z.m515,bj=Xv[2],Cj=Xv[0],Sc="rgba(0,0,0,0.2)";function DT(t){const n=cd(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=c=>({frameDevice:c,frameCanvas:c*e}),i=c=>({frameDevice:c,frameCanvas:r.frameCanvas+c*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function Ej(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}const Aj=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70"];function kj(t){const e=o=>function Tj(t){let n,e;const r=document.createElement("canvas");return function(){var o=(0,ye.Z)(function*(i,s){if(n===i&&e===s)return r;r.width=i,r.height=s;const a=r.getContext("2d");if(!a)throw new Error("get a new browser");return a.drawImage(yield t(),0,0,r.width,r.height),n=i,e=s,r});return function(i,s){return o.apply(this,arguments)}}()}(function n(o){let i;return(0,ye.Z)(function*(){if(!i){const s=(yield t)[o];i=function Mj(t){return()=>new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}((t=>`data:image/svg+xml;base64,${btoa(t)}`)(s))()}return i})}(o)),r={};for(const o of Aj)r[o]=e(o);return r}let Jp=(()=>{class t extends class Ij{constructor(n){this.skin=n,this.layout=DT(s_),this.onResize=new zr.j}get width(){switch(this.getOrientation()){case bn.portrait:case bn.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case bn.portrait:case bn.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let c=(n.clientX-o)/s*this.width/this.layout.scale,u=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case bn.landscape90:{const h=u;u=this.layout.height.frameDevice-c,c=h;break}case bn.landscape270:{const h=u;u=c,c=this.layout.width.frameDevice-h;break}case bn.portrait180:c=this.layout.width.frameDevice-c,u=this.layout.height.frameDevice-u}c-=this.layout.borderWidth.frameDevice,u-=this.layout.borderWidth.frameDevice,u>=this.layout.screenHeight.frameDevice&&(u<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?u=this.layout.screenHeight.frameDevice:u-=this.layout.separatorHeight.frameDevice);const p=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),u<0&&(u=0),u>=p&&(u=p-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||u<0||u>=p)return;return[c,u]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,ye.Z)(function*(){if(!n)return;e.layout=DT(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,ye.Z)(function*(){!e.ctx||(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Sc),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Sc),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Sc),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,Sc),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,Sc),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,Sc))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case bn.portrait:case void 0:break;case bn.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case bn.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case bn.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,ye.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,bj),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case z.pegT600c:case z.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case z.pegN700c:case z.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case z.pegS320:case z.pegS300:return this.skin.SILKSCREEN_PEG_S300;case z.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case z.pegT400:return this.skin.SILKSCREEN_PEG_T415;case z.palmPilot:case z.pilot:case z.iii:case z.palmVII:return this.skin.SILKSCREEN_PILOT;case z.m500:return this.skin.SILKSCREEN_M500;case z.m505:case z.m515:return this.skin.SILKSCREEN_M515;case z.iiic:return this.skin.SILKSCREEN_IIIC;case z.m100:case z.m105:case z.m125:return this.skin.SILKSCREEN_M100;case z.m130:return this.skin.SILKSCREEN_M130;case z.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case z.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case z.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case z.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case z.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case z.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case z.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case z.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case z.pegT400:case z.pegT600c:case z.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case z.pilot:case z.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case z.m500:return this.skin.HARD_BUTTONS_M500;case z.m505:case z.m515:return this.skin.HARD_BUTTONS_M515;case z.iiic:return this.skin.HARD_BUTTONS_IIIC;case z.m100:case z.m105:return this.skin.HARD_BUTTONS_M100;case z.m125:return this.skin.HARD_BUTTONS_M125;case z.m130:return this.skin.HARD_BUTTONS_M130;case z.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case z.iii:case z.iiix:case z.iiixe:case z.palmVII:case z.palmVIIEZ:case z.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case z.iiie:return this.skin.HARD_BUTTONS_IIIE;case z.i705:return this.skin.HARD_BUTTONS_I705;case z.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return Qv(this.getDeviceId())?"white":Cj}frameColor(){return Qv(this.getDeviceId())?"white":"#ccc"}}{constructor(){super(kj(D.e(4907).then(D.bind(D,4907)))),this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,ye.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,ye.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,ye.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??s_}getOrientation(){return this.session?.deviceOrientation??bn.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function Pj(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(cd(this.session?.device??s_).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((c,u)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*u)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),a_=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}}return t.\u0275fac=function(e){return new(e||t)(g(Kn),g(Jp),g(Hs))},t.\u0275cmp=je({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,r){1&e&&(ue(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),ut(4,"ion-icon",3),ue(5,"ion-label"),Ve(6,"Emulator"),re()(),ue(7,"ion-tab-button",4),ut(8,"ion-icon",5),ue(9,"ion-label"),Ve(10,"Sessions"),re()(),ue(11,"ion-tab-button",6),ut(12,"ion-icon",7),ue(13,"ion-label"),Ve(14,"Cards"),re()(),ue(15,"ion-tab-button",8),ut(16,"ion-icon",9),ue(17,"ion-label"),Ve(18,"Settings"),re()(),ue(19,"ion-tab-button",10),ut(20,"ion-icon",11),ue(21,"ion-label"),Ve(22,"About"),re()()()()()),2&e&&(Xe(2),ea("small-ui",r.smallUI)("disabled",r.isLocked()))},dependencies:[ts,xi,xv,o1,g1],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),hd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[Ji,Vv.forChild(),fa,Ya,gp]}),t})(),Rj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[Ji,Ya,fa,hd,Vv.forChild()]}),t})(),Oj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[Ji,Ya,fa,hd]}),t})(),Fj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[Ji,Ya,fa,gp,hd]}),t})(),Nj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[Ji,Ya,fa,hd,gp]}),t})(),Lj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[Ji,fa,Ya,gp,hd]}),t})();function $j(t,n){if(1&t){const e=qn();ue(0,"ion-button",1),We("click",function(){return mt(e),Pt(At().onClick())}),ut(1,"ion-icon",2),re()}if(2&t){const e=At();Xe(1),Qe("name",e.iconName)}}let eh=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return ns?"logo-apple-appstore":L1?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return t.\u0275fac=function(e){return new(e||t)(g(X1))},t.\u0275cmp=je({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,r){1&e&&Xt(0,$j,2,1,"ion-button",0),2&e&&Qe("ngIf",r.show)},dependencies:[_o,ai,ts]}),t})();function Bj(t,n){1&t&&(ue(0,"div",11),ut(1,"ion-spinner"),re())}function Vj(t,n){1&t&&(ue(0,"div"),Ve(1,"app cached for offline use"),re())}let Hj=(()=>{class t{constructor(e,r){this.modalController=e,this.updates=r,this.loading=!0}get version(){return ol}showChangelog(){var e=this;return(0,ye.Z)(function*(){yield(yield e.modalController.create({component:ad,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}return t.\u0275fac=function(e){return new(e||t)(g(Ai),g(o_))},t.\u0275cmp=je({type:t,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,r){1&e&&(ue(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ve(3,"About"),re(),ue(4,"ion-buttons",1),ut(5,"app-pwa-prompt"),re()()(),ue(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),Ve(10,"About"),re()()(),Xt(11,Bj,2,0,"div",4),ue(12,"div",5)(13,"markdown",6),We("load",function(){return r.loading=!1}),re()(),ue(14,"div",7),Ve(15),ut(16,"br"),ue(17,"a",8),We("click",function(){return r.showChangelog()}),Ve(18,"Changelog"),re(),Xt(19,Vj,2,0,"div",9),re(),ut(20,"img",10),re()),2&e&&(Qe("translucent",!0),Xe(11),Qe("ngIf",r.loading),Xe(4),Ei(" CloudpilotEmu version ",r.version," "),Xe(4),Qe("ngIf",r.serviceWorkerAvailable))},dependencies:[_o,li,ci,ui,Qu,pi,fi,eh,Bv],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function jj(t,n){if(1&t&&(ue(0,"ion-select-option",17),Ve(1),re()),2&t){const e=n.$implicit;Qe("value",e[0]),Xe(1),Ei("",e[1]," ")}}function Uj(t,n){if(1&t&&(ue(0,"ion-select-option",17),Ve(1),re()),2&t){const e=n.$implicit;Qe("value",e[0]),Xe(1),Ei("",e[1]," ")}}function Gj(t,n){if(1&t&&(ue(0,"ion-item",7)(1,"ion-label",8),Ve(2,"Hotsync name"),re(),ut(3,"ion-input",18),re()),2&t){const e=At();Xe(3),Qe("placeholder",e.placeholder)}}let ET=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[bn.portrait,"Portrait"],[bn.landscape90,"Landscape 90\xb0"],[bn.landscape270,"Landscape 270\xb0"],[bn.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,eT(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function PH(t){switch(t){case z.palmPilot:case z.pilot:case z.iii:case z.palmVII:case z.palmVx:case z.palmV:case z.palmVIIEZ:case z.palmVIIx:case z.iiic:case z.iiix:case z.iiixe:case z.iiie:case z.m100:case z.m105:case z.pegS300:case z.pegS500c:return 16;case z.m500:case z.m505:case z.m515:case z.m125:case z.m130:case z.i705:case z.i710:case z.handera330:case z.pegS320:case z.pegT400:case z.pegN600c:case z.pegT600c:case z.pegN700c:return 33;case z.pegT650c:case z.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new dp({name:new Nr(this.session.name,{validators:[Ey.required,this.validateNameUnique]}),manageHotsyncName:new Nr(!this.session.dontManageHotsyncName),hotsyncName:new Nr(this.session.hotsyncName||""),device:new Nr({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Nr((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Nr(this.session.deviceOrientation||bn.portrait)})}}return t.\u0275fac=function(e){return new(e||t)(g(fd),g(So))},t.\u0275cmp=je({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,r){1&e&&(ue(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ve(3,"Session settings"),re(),ue(4,"ion-buttons",1)(5,"ion-button",2),We("click",function(){return r.save()}),Ve(6,"Save"),re()(),ue(7,"ion-buttons",3)(8,"ion-button",4),We("click",function(){return r.onCancel()}),Ve(9,"Cancel"),re()()()(),ue(10,"ion-content",5)(11,"form",6),We("keydown.enter",function(){return r.onEnter()}),ue(12,"h1"),Ve(13,"Session"),re(),ue(14,"ion-item",7)(15,"ion-label",8),Ve(16,"Session name"),re(),ut(17,"ion-input",9),re(),ue(18,"h1"),Ve(19,"Device"),re(),ue(20,"ion-item",7)(21,"ion-label",8),Ve(22,"Device type"),re(),ue(23,"ion-select",10),Xt(24,jj,2,2,"ion-select-option",11),re()(),ue(25,"ion-item",7)(26,"ion-label",8),Ve(27,"Orientation"),re(),ue(28,"ion-select",12),Xt(29,Uj,2,2,"ion-select-option",11),re()(),ue(30,"ion-item",7)(31,"ion-label",13),Ve(32),re(),ut(33,"ion-range",14),re(),ue(34,"h1"),Ve(35,"Hotsync"),re(),ue(36,"ion-item",7)(37,"ion-label"),Ve(38,"Manage hotsync name"),re(),ut(39,"ion-toggle",15),re(),Xt(40,Gj,4,1,"ion-item",16),re()()),2&e&&(Xe(5),Qe("disabled",r.formGroup.invalid),Xe(6),Qe("formGroup",r.formGroup),Xe(13),Qe("ngForOf",r.deviceList),Xe(5),Qe("ngForOf",r.orientations),Xe(3),bs(r.speedLabel),Xe(8),Qe("ngIf",r.showHotsyncNameInput))},dependencies:[Tu,_o,ai,li,ci,ui,rl,di,xi,Mv,$p,Bp,Av,pi,fi,Dv,Xu,nl,Za,za,Wa,Gy,Ps,la],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),zj=(()=>{class t{constructor(e,r,o,i,s,a,c){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=c}saveBackup(e){var r=this;return(0,ye.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();let a,s=[];yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const c=yield r.cloudpilotService.cloudpilot;yield c.backup(function(){var u=(0,ye.Z)(function*(p){for(p.Init(e);p.IsInProgress();){const h=p.GetCurrentDatabase();p.Save()||s.push(h),yield new Promise(y=>setTimeout(y,0))}a=c.getArchive(p)});return function(p){return u.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${e_(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(sT(o,e),a)},"Cancel"):r.fileService.saveFile(sT(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}}return t.\u0275fac=function(e){return new(e||t)(oe(is),oe(Ls),oe(ud),oe(dd),oe(Hs),oe(So),oe(os))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Wj=window.AudioContext||window.webkitAudioContext;function l_(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}let c_=(()=>{class t extends class qj{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,ye.Z)(function*(){if(!e.initialized){try{e.context=new Wj}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,ye.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield l_(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield l_(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,ye.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new rs,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ns||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ns||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,ye.Z)(function*(){!n.context||(yield l_(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return t.\u0275fac=function(e){return new(e||t)(oe(is),oe(No),oe(t_))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),TT=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return t.\u0275fac=function(e){return new(e||t)(oe(is),oe(Be))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Kj(t,n){if(1&t){const e=qn();ue(0,"ion-item",4),We("click",function(){return mt(e),Pt(At().power())}),ue(1,"ion-label"),Ve(2,"Power"),re(),ut(3,"ion-icon",5),re()}if(2&t){const e=At();Qe("detail",!1)("disabled",!e.emulationService.isRunning())}}function Yj(t,n){if(1&t){const e=qn();ue(0,"ion-item",4),We("click",function(){return mt(e),Pt(At().hotsync())}),ue(1,"ion-label"),Ve(2,"Hotsync"),re(),ut(3,"ion-icon",6),re()}if(2&t){const e=At();Qe("detail",!1)("disabled",!e.emulationService.isRunning())}}function Xj(t,n){if(1&t){const e=qn();ue(0,"ion-item",4),We("click",function(){return mt(e),Pt(At().reset())}),ue(1,"ion-label"),Ve(2,"Reset"),re(),ut(3,"ion-icon",7),re()}if(2&t){const e=At();Qe("detail",!1)("disabled",!e.emulationService.isRunning())}}function Qj(t,n){if(1&t){const e=qn();ue(0,"ion-item",2),We("click",function(){return mt(e),Pt(At().insertCard())}),ue(1,"ion-label"),Ve(2),re(),ut(3,"ion-icon",8),re()}if(2&t){const e=At();Qe("detail",!1),Xe(2),Ei("Insert ",e.hasMemorystick?"stick":"SD card","")}}function Jj(t,n){if(1&t){const e=qn();ue(0,"ion-item",2),We("click",function(){return mt(e),Pt(At().ejectCard())}),ue(1,"ion-label"),Ve(2),re(),ut(3,"ion-icon",9),re()}if(2&t){const e=At();Qe("detail",!1),Xe(2),Ei("Eject ",e.hasMemorystick?"stick":"SD card","")}}function eU(t,n){if(1&t){const e=qn();ue(0,"ion-item",2),We("click",function(){return mt(e),Pt(At().mute(!1))}),ue(1,"ion-label"),Ve(2,"Enable audio"),re(),ut(3,"ion-icon",10),re()}2&t&&Qe("detail",!1)}function tU(t,n){if(1&t){const e=qn();ue(0,"ion-item",2),We("click",function(){return mt(e),Pt(At().mute(!0))}),ue(1,"ion-label"),Ve(2,"Disable audio"),re(),ut(3,"ion-icon",11),re()}2&t&&Qe("detail",!1)}function nU(t,n){if(1&t){const e=qn();ue(0,"ion-item",4),We("click",function(){return mt(e),Pt(At().backup())}),ue(1,"ion-label"),Ve(2,"Save backup"),re(),ut(3,"ion-icon",12),re()}if(2&t){const e=At();Qe("detail",!1)("disabled",e.backupDisabled)}}function rU(t,n){if(1&t){const e=qn();ue(0,"ion-item",2),We("click",function(){return mt(e),Pt(At().rotate())}),ue(1,"ion-label"),Ve(2,"Rotate"),re(),ut(3,"ion-icon",13),re()}2&t&&Qe("detail",!1)}function oU(t,n){if(1&t){const e=qn();ue(0,"ion-item",2),We("click",function(){return mt(e),Pt(At().editSettings())}),ue(1,"ion-label"),Ve(2,"Settings"),re(),ut(3,"ion-icon",14),re()}2&t&&Qe("detail",!1)}function iU(t){switch(t){case bn.portrait:case void 0:return bn.landscape90;case bn.landscape90:return bn.portrait180;case bn.portrait180:return bn.landscape270;case bn.landscape270:return bn.portrait;default:throw new Error("cannot happen")}}let sU=(()=>{class t{constructor(e,r,o,i,s,a,c,u,p,h,y,S,F,ge,ke,we,Ue,he,Ke){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=c,this.kvsService=u,this.modalController=p,this.sessionService=h,this.performanceWatchdogService=y,this.canvasDisplayService=S,this.cloudpilotService=F,this.storageCardService=ge,this.alertService=ke,this.alertController=we,this.storageService=Ue,this.loadingController=he,this.errorService=Ke,this.showHelp=()=>{}}ngOnInit(){}reset(){var e=this;return(0,ye.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,ye.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize(),this.popoverController.dismiss()}get backupDisabled(){return this.emulationStateService.getCurrentSession(),!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function RH(t){return[z.i705,z.i710,z.pegNR70,z.pegT650c].includes(t)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&tT(e.device)!==Ca.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&tT(e.device)===Ca.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,ye.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:ET,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,ye.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,ye.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:iU(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,ye.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.doMountCard(a)}],inputs:i.map((a,c)=>({label:a.name,type:"radio",value:a.id,checked:0===c})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,ye.Z)(function*(){try{yield e.storageCardService.ejectCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}doMountCard(e){var r=this;return(0,ye.Z)(function*(){const o=r.loadingController.create({message:"Inserting..."});yield(yield o).present();try{yield r.storageCardService.mountCard(e)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"mount failed")}finally{(yield o).dismiss()}})()}}return t.\u0275fac=function(e){return new(e||t)(g(is),g(Hs),g(zj),g(fT),g(Ov),g(nd),g(c_),g(No),g(Ai),g(fd),g(TT),g(Jp),g(os),g(Cc),g(So),g(gc),g(nn),g(Ls),g(sd))},t.\u0275cmp=je({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["button","",3,"detail","disabled","click",4,"ngIf"],["button","",3,"detail","click",4,"ngIf"],["button","",3,"detail","click"],["name","help-outline","slot","end"],["button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline"],["name","volume-mute-outline"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,r){1&e&&(ue(0,"ion-list"),Xt(1,Kj,4,2,"ion-item",0),Xt(2,Yj,4,2,"ion-item",0),Xt(3,Xj,4,2,"ion-item",0),Xt(4,Qj,4,2,"ion-item",1),Xt(5,Jj,4,2,"ion-item",1),Xt(6,eU,4,1,"ion-item",1),Xt(7,tU,4,1,"ion-item",1),Xt(8,nU,4,2,"ion-item",0),Xt(9,rU,4,1,"ion-item",1),Xt(10,oU,4,1,"ion-item",1),ue(11,"ion-item",2),We("click",function(){return r.help()}),ue(12,"ion-label"),Ve(13,"Help"),re(),ut(14,"ion-icon",3),re()()),2&e&&(Xe(1),Qe("ngIf",r.hasActiveSession&&!r.powerDisabled),Xe(1),Qe("ngIf",r.hasActiveSession),Xe(1),Qe("ngIf",r.hasActiveSession),Xe(1),Qe("ngIf",r.supportsStorageCard&&!r.hasMountedCard),Xe(1),Qe("ngIf",r.supportsStorageCard&&r.hasMountedCard),Xe(1),Qe("ngIf",r.isMuted&&!r.isAudioOff),Xe(1),Qe("ngIf",!r.isMuted&&!r.isAudioOff),Xe(1),Qe("ngIf",r.hasActiveSession),Xe(1),Qe("ngIf",r.hasActiveSession),Xe(1),Qe("ngIf",r.hasActiveSession),Xe(1),Qe("detail",!1))},dependencies:[_o,ts,di,xi,hc]}),t})(),lU=(()=>{class t extends class aU{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);!o||this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const u=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:u}),this.handleButtonDown(u)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const u=this.canvasDisplayService.eventToPalmCoordinates(s);if(!u||2!==this.determineArea(u)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const p=this.canvasDisplayService.determineButton(u);p===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):p!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=p,this.handleButtonDown(p));break}case 0:case 1:{const u=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!u)continue;this.emulationService.handlePointerMove(...u,1===c);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}}return t.\u0275fac=function(e){return new(e||t)(oe(is),oe(Jp),oe(t_),oe(Be),oe(ra))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function MT(t){return/\.(prc|pdb|pqa)$/i.test(t)}class pU{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var n=this;return(0,ye.Z)(function*(){for(const e of n.files)if(/\.zip/i.test(e.name)&&e.content.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else MT(e.name)?yield n.installOne(e.name,e.content):n.filesFail.push(e.name);return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,ye.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function fU(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,ye.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(n.content,function(){var o=(0,ye.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!MT(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield e.installOne(a,c),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function dU(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:e,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}let hU=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,ye.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new pU(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const c=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(p=>!!p).join("<br/><br/>");let u;u=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(u,c,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${e_(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${e_(e)} require a device reset.`:void 0}}return t.\u0275fac=function(e){return new(e||t)(oe(os),oe(is),oe(Ls),oe(ud),oe(So),oe(gc))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const mU=["canvas"];function gU(t,n){if(1&t){const e=qn();ue(0,"ion-button",5),We("click",function(){return mt(e),Pt(At().navigation.lock())}),ut(1,"ion-icon",10),re()}}function yU(t,n){if(1&t){const e=qn();ue(0,"ion-button",5),We("click",function(){return mt(e),Pt(At().navigation.unlock())}),ut(1,"ion-icon",11),re()}}function vU(t,n){if(1&t){const e=qn();ue(0,"ion-button",5),We("click",function(){return mt(e),Pt(At().showGameModeHint())}),ut(1,"ion-icon",12),re()}}function _U(t,n){if(1&t){const e=qn();ue(0,"ion-button",5),We("click",function(){return mt(e),Pt(At().showProxyConnectedHint())}),ut(1,"ion-icon",13),re()}}function bU(t,n){if(1&t){const e=qn();ue(0,"ion-button",5),We("click",function(){return mt(e),Pt(At().showSlowdowndHint())}),ut(1,"ion-icon",14),re()}}function CU(t,n){if(1&t){const e=qn();ue(0,"div",15),Ve(1," The device was reset forcefully. How do you want to boot? "),ue(2,"ion-button",16),We("click",function(){return mt(e),Pt(At().bootAfterForcefulReset())}),Ve(3,"Normal boot"),re(),ue(4,"ion-button",16),We("click",function(){return mt(e),Pt(At().bootAfterForcefulResetNoExtensions())}),Ve(5,"No extensions"),re(),ue(6,"ion-button",16),We("click",function(){return mt(e),Pt(At().bootAfterForcefulResetHardReset())}),Ve(7,"Hard reset"),re()()}}function SU(t,n){1&t&&(ue(0,"div",15)(1,"div"),Ve(2,"No session selected"),re()())}let wU=(()=>{class t{constructor(e,r,o,i,s,a,c,u,p,h,y,S,F,ge,ke,we,Ue){var he=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=c,this.modalController=u,this.alertService=p,this.fileService=h,this.snapshotService=y,this.installlationService=S,this.proxyService=F,this.navigation=ge,this.linkApi=ke,this.performanceWatchdogService=we,this.cloudpilotService=Ue,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,ye.Z)(function*(){yield he.emulationService.bootstrapComplete(),he.boostrapComplete=!0;const Ke=he.emulationState.getCurrentSession();Ke&&!Ke.wasResetForcefully&&(yield he.launchEmulator()),he.linkApi.installation.requestEvent.addHandler(he.handleLinkApiInstallationRequest),he.handleLinkApiInstallationRequest()})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=(0,ye.Z)(function*(){he.kvsService.kvs.showStatistics?he.canvasDisplayService.updateStatistics():he.canvasDisplayService.clearStatistics()}),this.onSnapshot=Ke=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Ke,this.emulationService.getStatistics())},this.onNewFrame=Ke=>{this.canvasDisplayService.updateEmulationCanvas(Ke)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Ke=this.linkApi.installation.receivePendingUrl();Ke&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Ke} ?`,{OK:()=>this.fileService.openUrl(Ke,jt=>this.installlationService.installFiles([jt]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Ke} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new rs}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,ye.Z)(function*(){(yield r.popoverController.create({component:sU,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{showHelp:()=>r.showHelp()}})).present()})()}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,ye.Z)(function*(){yield(yield e.modalController.create({component:ad,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,ye.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,ye.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,ye.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,ye.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,ye.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,ye.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,ye.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,ye.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}return t.\u0275fac=function(e){return new(e||t)(g(is),g(Hs),g(nn),g(lU),g(Jp),g(No),g(nd),g(Ai),g(So),g(dd),g(ud),g(hU),g(r_),g(a_),g(my),g(TT),g(os))},t.\u0275cmp=je({type:t,selectors:[["app-emulation"]],viewQuery:function(e,r){if(1&e&&Rf(mU,5),2&e){let o;ni(o=ri())&&(r.canvasRef=o.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,r){if(1&e&&(ue(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ve(3),re(),ue(4,"ion-buttons",0)(5,"ion-button",1),We("click",function(){return r.installFiles()}),ut(6,"ion-icon",2),re(),Xt(7,gU,2,0,"ion-button",3),Xt(8,yU,2,0,"ion-button",3),re(),ue(9,"ion-buttons",4)(10,"ion-button",5),We("click",function(i){return r.openContextMenu(i)}),ut(11,"ion-icon",6),re(),Xt(12,vU,2,0,"ion-button",3),Xt(13,_U,2,0,"ion-button",3),Xt(14,bU,2,0,"ion-button",3),re()()(),ue(15,"ion-content")(16,"div",7),We("touchstart",function(i){return r.cancelIfEmulationActive(i)})("touchmove",function(i){return r.cancelIfEmulationActive(i)}),ut(17,"canvas",null,8),re(),Xt(19,CU,8,0,"div",9),Xt(20,SU,3,0,"div",9),re()),2&e){let o,i;Xe(3),bs(r.title),Xe(2),Qe("disabled",r.installFileDisabled),Xe(2),Qe("ngIf",!r.navigation.isLocked()),Xe(1),Qe("ngIf",r.navigation.isLocked()),Xe(4),Qe("ngIf",r.eventHandlingService.isGameMode()),Xe(1),Qe("ngIf",r.proxyService.isConnected()),Xe(1),Qe("ngIf",r.performanceWatchdogService.isSlowdownDetected()),Xe(1),ea("locked",r.navigation.isLocked()),Xe(1),wf("display",!r.emulationState.getCurrentSession()||null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),Xe(1),wf("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),Xe(2),Qe("ngIf",null!=(i=r.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),Xe(1),Qe("ngIf",!r.emulationState.getCurrentSession()&&r.boostrapComplete)}},dependencies:[_o,ai,li,ci,ui,ts,pi,fi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:0;padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}"]}),t})();var DU=D(5541),EU=D.n(DU);function xT(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}let IU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=je({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:9,vars:4,consts:[["button","",3,"detail","click"]],template:function(e,r){1&e&&(ue(0,"ion-list")(1,"ion-item",0),We("click",function(){return r.onEdit()}),Ve(2," Edit "),re(),ue(3,"ion-item",0),We("click",function(){return r.onSave()}),Ve(4," Save "),re(),ue(5,"ion-item",0),We("click",function(){return r.onReset()}),Ve(6," Reset "),re(),ue(7,"ion-item",0),We("click",function(){return r.onDelete()}),Ve(8," Delete "),re()()),2&e&&(Xe(1),Qe("detail",!1),Xe(2),Qe("detail",!1),Xe(2),Qe("detail",!1),Xe(2),Qe("detail",!1))},dependencies:[di,hc]}),t})();const MU=["slidingItem"];function xU(t,n){if(1&t&&(ue(0,"span"),Ve(1),re()),2&t){const e=At();Xe(1),Ei(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let AU=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new Kt,this.reset=new Kt,this.edit=new Kt,this.save=new Kt,this.selectItem=new Kt,this.interaction=new Kt}get device(){return this.session?eT(this.session.device):""}onContextmenu(e){var r=this;return(0,ye.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit();const o=yield r.popoverController.create({component:IU,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{onEdit:()=>{o.dismiss(),r.edit.emit()},onSave:()=>{o.dismiss(),r.save.emit()},onDelete:()=>{o.dismiss(),r.delete.emit()},onReset:()=>{o.dismiss(),r.reset.emit()}}});o.present()})()}decodeVersion(e){if(void 0===e)return"";const r=function TU(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return t.\u0275fac=function(e){return new(e||t)(g(nd))},t.\u0275cmp=je({type:t,selectors:[["app-session-item"]],viewQuery:function(e,r){if(1&e&&Rf(MU,5),2&e){let o;ni(o=ri())&&(r.slidingItem=o.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",reset:"reset",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,r){if(1&e){const o=qn();ue(0,"ion-item-sliding",0,1),We("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit()}),ue(2,"ion-item-options",2)(3,"ion-item-option",3),We("click",function(){return mt(o),_s(1).close(),Pt(r.edit.emit(r.session))}),ut(4,"ion-icon",4),re(),ue(5,"ion-item-option",5),We("click",function(){return mt(o),_s(1).close(),Pt(r.save.emit(r.session))}),ut(6,"ion-icon",6),re()(),ue(7,"ion-item-options",7)(8,"ion-item-option",8),We("click",function(){return mt(o),_s(1).close(),Pt(r.reset.emit(r.session))}),ut(9,"ion-icon",9),re(),ue(10,"ion-item-option",10),We("click",function(){return mt(o),_s(1).close(),Pt(r.delete.emit(r.session))}),ut(11,"ion-icon",11),re()(),ue(12,"ion-item",12),We("click",function(){return r.selectItem.emit()}),ue(13,"ion-label")(14,"h2"),Ve(15),re(),ue(16,"p"),Ve(17),Xt(18,xU,2,1,"span",13),re()()()()}2&e&&(Xe(12),Qe("color",r.color),Xe(1),ea("in-item-color",r.selected),Xe(2),bs(null==r.session?null:r.session.name),Xe(2),Ef("",r.device,", ",null==r.session?null:r.session.ram,"MB RAM"),Xe(1),Qe("ngIf",null==r.session?null:r.session.osVersion))},dependencies:[_o,ts,di,Ev,Iv,Tv,xi]}),t})();function kU(t,n){1&t&&(ue(0,"div",10),ut(1,"ion-spinner"),re())}function PU(t,n){1&t&&(ue(0,"div",11)(1,"div",12),Ve(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),ut(3,"br")(4,"br"),Ve(5," You can find a collection of compatible ROMs on "),ue(6,"a",13),Ve(7,"PalmDB"),re(),Ve(8,". "),re()())}function RU(t,n){if(1&t){const e=qn();ue(0,"app-session-item",15),We("delete",function(){const i=mt(e).$implicit;return Pt(At(2).deleteSession(i))})("selectItem",function(){const i=mt(e).$implicit;return Pt(At(2).launchSession(i))})("edit",function(){const i=mt(e).$implicit;return Pt(At(2).editSession(i))})("save",function(){const i=mt(e).$implicit;return Pt(At(2).saveSession(i))})("reset",function(){const i=mt(e).$implicit;return Pt(At(2).resetSession(i))})("interaction",function(){const i=mt(e).$implicit;return Pt(At(2).lastSessionTouched=i.id)}),re()}if(2&t){const e=n.$implicit,r=At(2);Qe("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function OU(t,n){if(1&t&&(ue(0,"ion-list"),Xt(1,RU,1,3,"app-session-item",14),re()),2&t){const e=At();Xe(1),Qe("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}let FU=(()=>{class t{constructor(e,r,o,i,s,a,c,u,p,h,y){this.sessionService=e,this.fileService=r,this.alertController=o,this.alertService=i,this.emulationService=s,this.emulationState=a,this.storageService=c,this.modalController=u,this.linkApi=p,this.router=h,this.cloudpilotService=y,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const S=this.linkApi.import.receivePendingUrl();!S||this.alertService.message("Import request",`Do you want to import<br>${S} ?`,{OK:()=>this.fileService.openUrl(S,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest()}ionViewWillLeave(){this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,r)=>e.name.localeCompare(r.name))}deleteSession(e){var r=this;return(0,ye.Z)(function*(){yield(yield r.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>r.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var r=this;return(0,ye.Z)(function*(){const o={...e};(yield r.editSettings(e))&&!EU()(e,o)&&r.sessionService.updateSession(e)})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){this.fileService.saveSession(e)}trackSessionBy(e,r){return r.id}launchSession(e){var r=this;return(0,ye.Z)(function*(){r.lastSessionTouched=e.id,r.currentSessionOverride=e.id,yield r.emulationService.switchSession(e.id),r.currentSessionOverride=void 0,r.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var r=this;return(0,ye.Z)(function*(){const o=e.id===r.emulationState.getCurrentSession()?.id;o&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(e),yield r.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),o&&(yield r.emulationService.switchSession(e.id)),yield(yield r.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,ye.Z)(function*(){yield(yield e.modalController.create({component:ad,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}processFile(e){var r=this;return(0,ye.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(e.content);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(e.content);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(e.content,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(e,r=[e.device]){return new Promise(o=>{let i;this.modalController.create({component:ET,backdropDismiss:!1,componentProps:{session:e,availableDevices:r,onSave:()=>{i.dismiss(),o(!0)},onCancel:()=>{i.dismiss(),o(!1)}}}).then(s=>{i=s,i.present()})})}disambiguateSessionName(e){const r=this.sessionService.getSessions();return xT(e,o=>r.some(i=>i.name===o))}}return t.\u0275fac=function(e){return new(e||t)(g(fd),g(dd),g(gc),g(So),g(is),g(Hs),g(nn),g(Ai),g(my),g(Kn),g(os))},t.\u0275cmp=je({type:t,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","reset","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","reset","interaction"]],template:function(e,r){1&e&&(ue(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ve(3,"Sessions"),re(),ue(4,"ion-buttons",0)(5,"ion-button",1),We("click",function(){return r.importSession()}),ut(6,"ion-icon",2),re()(),ue(7,"ion-buttons",3)(8,"ion-button",1),We("click",function(){return r.showHelp()}),ut(9,"ion-icon",4),re(),ut(10,"app-pwa-prompt"),re()()(),ue(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ve(15,"Sessions"),re()()(),Xt(16,kU,2,0,"div",7),Xt(17,PU,9,0,"div",8),Xt(18,OU,2,2,"ion-list",9),re()),2&e&&(Xe(16),Qe("ngIf",r.sessionService.isLoading()),Xe(1),Qe("ngIf",!r.sessionService.isLoading()&&0===r.sessions.length),Xe(1),Qe("ngIf",!r.sessionService.isLoading()&&r.sessions.length>0))},dependencies:[Tu,_o,ai,li,ci,ui,ts,hc,Qu,pi,fi,eh,AU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),t})();function NU(t,n){1&t&&(ue(0,"ion-item",8)(1,"ion-label"),Ve(2,"Clipboard integration"),re(),ut(3,"ion-toggle",17),re())}function LU(t,n){if(1&t){const e=qn();ue(0,"ion-item",8)(1,"ion-label",18),Ve(2,"Proxy server"),re(),ue(3,"div",19),ut(4,"ion-input",20),ue(5,"ion-button",21),We("click",function(o){mt(e);const i=At();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())})("touchstart",function(o){mt(e);const i=At();return o.preventDefault(),o.stopPropagation(),Pt(i.testProxyConnection())}),Ve(6," Test "),re()()()}if(2&t){const e=At();Xe(5),Qe("disabled",!e.proxyServerValid)}}let $U=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,ye.Z)(function*(){yield(yield e.modalController.create({component:ad,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,ye.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,ye.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new dp({volume:new Nr(this.kvsService.kvs.volume),showStatistics:new Nr(this.kvsService.kvs.showStatistics),runHidden:new Nr(this.kvsService.kvs.runHidden),clipboardIntegration:new Nr(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Nr(this.kvsService.kvs.networkRedirection),proxyServer:new Nr(this.kvsService.kvs.proxyServer,{validators:[nj]}),autoLockUI:new Nr(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Nr(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Nr(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}return t.\u0275fac=function(e){return new(e||t)(g(Ai),g(No),g(uT),g(So),g(r_))},t.\u0275cmp=je({type:t,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,r){1&e&&(ue(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ve(3,"Settings"),re(),ue(4,"ion-buttons",1)(5,"ion-button",2),We("click",function(){return r.showHelp()}),ut(6,"ion-icon",3),re(),ut(7,"app-pwa-prompt"),re()()(),ue(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),Ve(12,"Settings"),re()()(),ue(13,"div",6)(14,"form",7)(15,"h1"),Ve(16,"Emulation"),re(),ue(17,"ion-item",8)(18,"ion-label"),Ve(19,"Volume"),re(),ut(20,"ion-range",9),re(),ue(21,"ion-item",8)(22,"ion-label"),Ve(23,"Enable audio on start"),re(),ut(24,"ion-toggle",10),re(),ue(25,"ion-item",8)(26,"ion-label"),Ve(27,"Run when hidden"),re(),ut(28,"ion-toggle",11),re(),ue(29,"h1"),Ve(30,"Host integration"),re(),Xt(31,NU,4,0,"ion-item",12),ue(32,"ion-item",8)(33,"ion-label"),Ve(34,"Network redirection"),re(),ut(35,"ion-toggle",13),re(),Xt(36,LU,7,1,"ion-item",12),ue(37,"h1"),Ve(38,"UI"),re(),ue(39,"ion-item",8)(40,"ion-label"),Ve(41,"Auto-lock UI"),re(),ut(42,"ion-toggle",14),re(),ue(43,"ion-item",8)(44,"ion-label"),Ve(45,"Show statistics"),re(),ut(46,"ion-toggle",15),re(),ue(47,"ion-item",8)(48,"ion-label"),Ve(49,"Open from remote sources"),re(),ut(50,"ion-toggle",16),re()()()()),2&e&&(Qe("translucent",!0),Xe(14),Qe("formGroup",r.formGroup),Xe(17),Qe("ngIf",r.clipboardService.isSupported()),Xe(5),Qe("ngIf",r.showProxyServer))},dependencies:[_o,Za,za,Wa,ai,li,ci,ui,ts,rl,di,xi,Mv,Av,pi,fi,Dv,Xu,nl,eh,Ps,la],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),u_=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=pr({name:"cardSize",type:t,pure:!0}),t})();function BU(t,n){1&t&&(ue(0,"div",13)(1,"b"),Ve(2,"WARNING:"),re(),Ve(3," This image cannot be used as a memory stick image."),re())}let AT=(()=>{class t{constructor(e){this.storageCardService=e,this.onCancel=()=>{},this.onSave=r=>{},this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.formGroup=new lc({name:new qa("",{nonNullable:!0,validators:[Ey.required,this.validateNameUnique]}),size:new qa({value:"dummy",disabled:!0})}),this.newCard=!1,this.cardSupportLevel=2}ngOnInit(){!this.card||this.formGroup.get("name")?.setValue(this.card.name)}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({...this.card,name:this.formGroup.value.name})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return t.\u0275fac=function(e){return new(e||t)(g(Cc))},t.\u0275cmp=je({type:t,selectors:[["app-edit-card-dialog"]],inputs:{onCancel:"onCancel",onSave:"onSave",card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel"},decls:24,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,r){1&e&&(ue(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ve(3),re(),ue(4,"ion-buttons",1)(5,"ion-button",2),We("click",function(){return r.save()}),Ve(6,"Save"),re()(),ue(7,"ion-buttons",3)(8,"ion-button",4),We("click",function(){return r.onCancel()}),Ve(9,"Cancel"),re()()()(),ue(10,"ion-content",5)(11,"form",6),We("keydown.enter",function(){return r.onEnter()}),ue(12,"ion-item",7)(13,"ion-label",8),Ve(14,"Card name"),re(),ut(15,"ion-input",9),re(),ue(16,"ion-item",7)(17,"ion-label",8),Ve(18,"Card size"),re(),ue(19,"ion-select",10)(20,"ion-select-option",11),Ve(21),Jl(22,"cardSize"),re()()()(),Xt(23,BU,4,0,"div",12),re()),2&e&&(Xe(3),bs(r.newCard?"New memory card":"Edit memory card"),Xe(2),Qe("disabled",r.formGroup.invalid),Xe(6),Qe("formGroup",r.formGroup),Xe(10),Ei("",ec(22,5,null==r.card?null:r.card.size)," "),Xe(2),Qe("ngIf",!r.memoryStickSupported))},dependencies:[_o,ai,li,ci,ui,rl,di,xi,$p,Bp,pi,fi,Xu,nl,Za,za,Wa,Ps,la,u_],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function VU(t,n){if(1&t&&(ue(0,"ion-select-option",12),Ve(1),Jl(2,"cardSize"),re()),2&t){const e=n.$implicit,r=At();Qe("value",e),Xe(1),Ei("",ec(2,2,r.sizeBytes(e))," ")}}const HU=[lo.mb4,lo.mb8,lo.mb16,lo.mb32,lo.mb64,lo.mb128];let jU=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=(r,o)=>{},this.onCancel=()=>{},this.formGroup=new lc({name:new qa("",{nonNullable:!0,validators:[Ey.required,this.validateNameUnique]}),size:new qa(lo.mb32,{nonNullable:!0})})}get sizes(){return HU}sizeBytes(e){return hT(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size)}onEnter(){this.create()}}return t.\u0275fac=function(e){return new(e||t)(g(Cc))},t.\u0275cmp=je({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,r){1&e&&(ue(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Ve(3,"New memory card"),re(),ue(4,"ion-buttons",1)(5,"ion-button",2),We("click",function(){return r.create()}),Ve(6,"Create"),re()(),ue(7,"ion-buttons",3)(8,"ion-button",4),We("click",function(){return r.onCancel()}),Ve(9,"Cancel"),re()()()(),ue(10,"ion-content",5)(11,"form",6),We("keydown.enter",function(){return r.onEnter()}),ue(12,"ion-item",7)(13,"ion-label",8),Ve(14,"Card name"),re(),ut(15,"ion-input",9),re(),ue(16,"ion-item",7)(17,"ion-label",8),Ve(18,"Card size"),re(),ue(19,"ion-select",10),Xt(20,VU,3,4,"ion-select-option",11),re()()()()),2&e&&(Xe(5),Qe("disabled",r.formGroup.invalid),Xe(6),Qe("formGroup",r.formGroup),Xe(9),Qe("ngForOf",r.sizes))},dependencies:[Tu,ai,li,ci,ui,rl,di,xi,$p,Bp,pi,fi,Xu,nl,Za,za,Wa,Ps,la,u_]}),t})(),UU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=je({type:t,selectors:[["app-storage-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:9,vars:4,consts:[["button","",3,"detail","click"]],template:function(e,r){1&e&&(ue(0,"ion-list")(1,"ion-item",0),We("click",function(){return r.onEdit()}),Ve(2," Edit "),re(),ue(3,"ion-item",0),We("click",function(){return r.onSave()}),Ve(4," Save "),re(),ue(5,"ion-item",0),We("click",function(){return r.onCheck()}),Ve(6," Check "),re(),ue(7,"ion-item",0),We("click",function(){return r.onDelete()}),Ve(8," Delete "),re()()),2&e&&(Xe(1),Qe("detail",!1),Xe(2),Qe("detail",!1),Xe(2),Qe("detail",!1),Xe(2),Qe("detail",!1))},dependencies:[di,hc]}),t})(),GU=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new Kt,this.select=new Kt,this.edit=new Kt,this.check=new Kt,this.delete=new Kt,this.save=new Kt}onContextmenu(e){var r=this;return(0,ye.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit();const o=yield r.popoverController.create({component:UU,event:e,backdropDismiss:!0,showBackdrop:!1,componentProps:{onEdit:()=>{o.dismiss(),r.edit.emit(r.card)},onSave:()=>{o.dismiss(),r.save.emit(r.card)},onCheck:()=>{o.dismiss(),r.check.emit()},onDelete:()=>{o.dismiss(),r.delete.emit()}}});o.present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;switch(this.card.status){case il.dirty:return"not checked";case il.clean:return"clean";default:throw new Error("unreachable")}}}return t.\u0275fac=function(e){return new(e||t)(g(Cc),g(nd))},t.\u0275cmp=je({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",select:"select",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,r){if(1&e){const o=qn();ue(0,"ion-item-sliding",0,1),We("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.card)}),ue(2,"ion-item-options",2)(3,"ion-item-option",3),We("click",function(){return mt(o),_s(1).close(),Pt(r.edit.emit(r.card))}),ut(4,"ion-icon",4),re(),ue(5,"ion-item-option",5),We("click",function(){return mt(o),_s(1).close(),Pt(r.save.emit(r.card))}),ut(6,"ion-icon",6),re()(),ue(7,"ion-item-options",7)(8,"ion-item-option",8),We("click",function(){return mt(o),_s(1).close(),Pt(r.check.emit(r.card))}),ut(9,"ion-icon",9),re(),ue(10,"ion-item-option",10),We("click",function(){return mt(o),_s(1).close(),Pt(r.delete.emit(r.card))}),ut(11,"ion-icon",11),re()(),ue(12,"ion-item",12),We("click",function(){return r.select.emit(),r.interaction.emit()}),ue(13,"ion-label")(14,"h2"),Ve(15),re(),ue(16,"p"),Ve(17),Jl(18,"cardSize"),re()()()()}2&e&&(Xe(12),Qe("color",r.color),Xe(3),bs(null==r.card?null:r.card.name),Xe(2),Ef("",ec(18,4,null==r.card?null:r.card.size),", ",r.status,""))},dependencies:[ts,di,Ev,Iv,Tv,xi,u_]}),t})();function zU(t,n){1&t&&(ue(0,"div",10),ut(1,"ion-spinner"),re())}function WU(t,n){1&t&&(ue(0,"div",11)(1,"div",12),Ve(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),re()())}function qU(t,n){if(1&t){const e=qn();ue(0,"app-storage-card",14),We("delete",function(){const i=mt(e).$implicit;return Pt(At(2).deleteCard(i))})("select",function(){const i=mt(e).$implicit;return Pt(At(2).selectCard(i))})("edit",function(){const i=mt(e).$implicit;return Pt(At(2).editCard(i))})("check",function(){const i=mt(e).$implicit;return Pt(At(2).checkCard(i))})("interaction",function(){const i=mt(e).$implicit;return Pt(At(2).lastCardTouched=i.id)})("save",function(){const i=mt(e).$implicit;return Pt(At(2).saveCard(i))}),re()}if(2&t){const e=n.$implicit,r=At(2);Qe("card",e)("touched",e.id===r.lastCardTouched)}}function ZU(t,n){if(1&t&&(ue(0,"ion-list"),Xt(1,qU,1,2,"app-storage-card",13),re()),2&t){const e=At();Xe(1),Qe("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}const KU=[{path:"tab",component:a_,children:[{path:"emulation",component:wU},{path:"sessions",component:FU},{path:"storage",component:(()=>{class t{constructor(e,r,o,i,s,a,c,u,p,h){var y=this;this.storageCardService=e,this.modalController=r,this.alertController=o,this.fileService=i,this.cloudpilotService=s,this.alertService=a,this.storageService=c,this.loadingController=u,this.actionSheetController=p,this.errorService=h,this.handleCardImport=function(){var S=(0,ye.Z)(function*(F){const ke=(yield y.cloudpilotService.cloudpilot).getCardSupportLevel(F.content.length);if(0===ke)return void y.alertService.errorMessage("This is not a supported card image.");const we=yield new Promise(function(){var Ue=(0,ye.Z)(function*(he){const Ke=yield y.modalController.create({component:AT,backdropDismiss:!1,componentProps:{card:{name:y.disambiguateName(F.name),size:F.content.length},cardSupportLevel:ke,newCard:!0,onCancel:()=>{Ke.dismiss(),he(void 0)},onSave:lt=>{he(lt),Ke.dismiss()}}});yield Ke.present()});return function(he){return Ue.apply(this,arguments)}}());we&&y.storageCardService.createCardFromFile(we.name,F)});return function(F){return S.apply(this,arguments)}}(),this.lastCardTouched=void 0}get cards(){return this.storageCardService.getAllCards()}addCardImage(){var e=this;return(0,ye.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()}]})).present()})()}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,ye.Z)(function*(){const r=yield e.modalController.create({component:jU,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(o,i)=>{e.storageCardService.createEmptyCard(o,i),r.dismiss()}}});yield r.present()})()}showHelp(){}selectCard(e){console.log(`select ${e.name}`)}editCard(e){var r=this;return(0,ye.Z)(function*(){const o=yield r.cloudpilotService.cloudpilot,i=yield r.modalController.create({component:AT,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:o.getCardSupportLevel(e.size),onCancel:()=>i.dismiss(),onSave:s=>{r.storageCardService.updateCard(s),i.dismiss()}}});yield i.present()})()}saveCard(e){var r=this;return(0,ye.Z)(function*(){const o=r.storageCardService.mountedInSession(e.id);if(o)return void r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be exported.`);const i=yield r.loadingController.create({message:"Exporting..."});yield i.present();const s=new Uint32Array(e.size>>>2);try{yield r.storageService.loadCardData(e.id,s)}finally{i.dismiss()}r.fileService.saveFile(`${Jv(e.name.replace(/\.img$/,""))}.img`,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}checkCard(e){this.alertService.message("Not implemented","File system verification is not implemented yet.")}deleteCard(e){var r=this;return(0,ye.Z)(function*(){const o=r.storageCardService.mountedInSession(e.id);o?r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be deleted.`):yield(yield r.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>r.doDeleteCard(e)}]})).present()})()}trackCardBy(e,r){return r.id}doDeleteCard(e){var r=this;return(0,ye.Z)(function*(){try{yield r.storageCardService.deleteCard(e)}catch(o){r.errorService.fatalBug(o instanceof Error?o.message:"delete failed")}})()}disambiguateName(e){const r=this.storageCardService.getAllCards();return xT(e,o=>r.some(i=>i.name===o))}}return t.\u0275fac=function(e){return new(e||t)(g(Cc),g(Ai),g(gc),g(dd),g(os),g(So),g(nn),g(Ls),g(Ov),g(sd))},t.\u0275cmp=je({type:t,selectors:[["app-storage"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","select","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","select","edit","check","interaction","save"]],template:function(e,r){1&e&&(ue(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ve(3,"Memory cards"),re(),ue(4,"ion-buttons",0)(5,"ion-button",1),We("click",function(){return r.addCardImage()}),ut(6,"ion-icon",2),re()(),ue(7,"ion-buttons",3)(8,"ion-button",1),We("click",function(){return r.showHelp()}),ut(9,"ion-icon",4),re(),ut(10,"app-pwa-prompt"),re()()(),ue(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Ve(15,"Memory cards"),re()()(),Xt(16,zU,2,0,"div",7),Xt(17,WU,3,0,"div",8),Xt(18,ZU,2,2,"ion-list",9),re()),2&e&&(Xe(16),Qe("ngIf",r.storageCardService.isLoading()),Xe(1),Qe("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),Xe(1),Qe("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Tu,_o,ai,li,ci,ui,ts,hc,Qu,pi,fi,eh,GU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),t})()},{path:"settings",component:$U},{path:"about",component:Hj},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let YU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[Lp.forChild(KU),Lp]}),t})(),XU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({imports:[fa,Ji,Ya,YU,Oj,Fj,Nj,Lj,Rj]}),t})(),QU=(()=>{class t extends Nw{pushState(e,r,o,i){this.replaceState(e,r,o,i)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Gr(t)))(r||t)}}(),t.\u0275prov=Ze({token:t,factory:t.\u0275fac}),t})();const JU=[{path:"install",component:ST,canActivate:[wT]},{path:"import",component:ST,canActivate:[wT]},{path:"",component:a_}];let e6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Tn({providers:[{provide:Qi,useClass:QU}],imports:[Lp.forRoot(JU,{preloadingStrategy:XB,useHash:!0}),XU,Lp]}),t})();const kT=["touch","click","keydown"];let t6=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,ye.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{kT.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};kT.forEach(o=>window.addEventListener(o,r,!0))})()}}return t.\u0275fac=function(e){return new(e||t)(oe(No),oe(c_))},t.\u0275prov=Ze({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const n6=()=>{const t=new vc;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let r6=(()=>{class t{constructor(e,r,o,i,s,a,c){}}return t.\u0275fac=function(e){return new(e||t)(oe(nn),oe(is),oe(c_),oe(fd),oe(No),oe(CT),oe(t6))},t.\u0275mod=An({type:t,bootstrap:[_j]}),t.\u0275inj=Tn({providers:[{provide:BI,useClass:t4},{provide:ja,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[No]}],imports:[p2,fa.forRoot(),e6,yj.register("ngsw-worker.js",{enabled:true}),Vv.forRoot({loader:_y,markedOptions:{provide:R1,useFactory:n6}}),V2]}),t})();window.global=window,function E2(){np=SD("#/install?"),rp=SD("#/import?")}(),function fH(){return!!localStorage.getItem(Zp)}()&&!wD()||function I2(){return void 0!==np}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),function eF(){bw=!1}(),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),f2().bootstrapModule(r6).catch(t=>console.log(t))},3272:Se=>{var D,Me=(D=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(_){var G,U,d=typeof(_=_||{})<"u"?_:{};d.ready=new Promise(function(l,f){G=l,U=f});var M,me,V,R=Object.assign({},d),$=[],A="./this.program",P=(l,f)=>{throw f},te="object"==typeof window,N="function"==typeof importScripts,T=("object"==typeof process&&"object"==typeof process.versions&&process,"");(te||N)&&(N?T=self.location.href:typeof document<"u"&&document.currentScript&&(T=document.currentScript.src),D&&(T=D),T=0!==T.indexOf("blob:")?T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):"",M=l=>{var f=new XMLHttpRequest;return f.open("GET",l,!1),f.send(null),f.responseText},N&&(V=l=>{var f=new XMLHttpRequest;return f.open("GET",l,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),me=(l,f,m)=>{var C=new XMLHttpRequest;C.open("GET",l,!0),C.responseType="arraybuffer",C.onload=()=>{200==C.status||0==C.status&&C.response?f(C.response):m()},C.onerror=m,C.send(null)});var Q,ie=d.print||console.log.bind(console),Z=d.printErr||console.warn.bind(console);Object.assign(d,R),R=null,d.arguments&&($=d.arguments),d.thisProgram&&(A=d.thisProgram),d.quit&&(P=d.quit),d.wasmBinary&&(Q=d.wasmBinary);var ve=d.noExitRuntime||!0;"object"!=typeof WebAssembly&&Xr("no native wasm support detected");var Y,ne,Pe=!1;function ae(l,f){l||Xr(f)}var Ae,$e,qe,W,L,K,de=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function xe(l,f,m){for(var C=f+m,x=f;l[x]&&!(x>=C);)++x;if(x-f>16&&l.buffer&&de)return de.decode(l.subarray(f,x));for(var J="";f<x;){var se=l[f++];if(128&se){var Ce=63&l[f++];if(192!=(224&se)){var Ye=63&l[f++];if((se=224==(240&se)?(15&se)<<12|Ce<<6|Ye:(7&se)<<18|Ce<<12|Ye<<6|63&l[f++])<65536)J+=String.fromCharCode(se);else{var St=se-65536;J+=String.fromCharCode(55296|St>>10,56320|1023&St)}}else J+=String.fromCharCode((31&se)<<6|Ce)}else J+=String.fromCharCode(se)}return J}function Ee(l,f){return l?xe(qe,l,f):""}function pe(l,f,m,C){if(!(C>0))return 0;for(var x=m,J=m+C-1,se=0;se<l.length;++se){var Ce=l.charCodeAt(se);if(Ce>=55296&&Ce<=57343&&(Ce=65536+((1023&Ce)<<10)|1023&l.charCodeAt(++se)),Ce<=127){if(m>=J)break;f[m++]=Ce}else if(Ce<=2047){if(m+1>=J)break;f[m++]=192|Ce>>6,f[m++]=128|63&Ce}else if(Ce<=65535){if(m+2>=J)break;f[m++]=224|Ce>>12,f[m++]=128|Ce>>6&63,f[m++]=128|63&Ce}else{if(m+3>=J)break;f[m++]=240|Ce>>18,f[m++]=128|Ce>>12&63,f[m++]=128|Ce>>6&63,f[m++]=128|63&Ce}}return f[m]=0,m-x}function B(l){for(var f=0,m=0;m<l.length;++m){var C=l.charCodeAt(m);C<=127?f++:C<=2047?f+=2:C>=55296&&C<=57343?(f+=4,++m):f+=3}return f}function fe(l){Ae=l,d.HEAP8=$e=new Int8Array(l),d.HEAP16=new Int16Array(l),d.HEAP32=W=new Int32Array(l),d.HEAPU8=qe=new Uint8Array(l),d.HEAPU16=new Uint16Array(l),d.HEAPU32=L=new Uint32Array(l),d.HEAPF32=new Float32Array(l),d.HEAPF64=K=new Float64Array(l)}var Fe,cr,Oe=[],Ne=[],dt=[],vt=[],ar=0,Xn=null,co=null;function hi(l){ar++,d.monitorRunDependencies&&d.monitorRunDependencies(ar)}function lr(l){if(ar--,d.monitorRunDependencies&&d.monitorRunDependencies(ar),0==ar&&(null!==Xn&&(clearInterval(Xn),Xn=null),co)){var f=co;co=null,f()}}function Xr(l){d.onAbort&&d.onAbort(l),Z(l="Aborted("+l+")"),Pe=!0,ne=1,l+=". Build with -sASSERTIONS for more info.";var f=new WebAssembly.RuntimeError(l);throw U(f),f}function Vr(l){return l.startsWith("data:application/octet-stream;base64,")}function Qr(l){try{if(l==cr&&Q)return new Uint8Array(Q);if(V)return V(l);throw"both async and sync fetching of the wasm failed"}catch(f){Xr(f)}}Vr(cr="cloudpilot_web.wasm")||(cr=function E(l){return d.locateFile?d.locateFile(l,T):T+l}(cr));var Bt,le,De={242196:l=>{Fe.grow(65536);for(let f=0;f<=65535;f++)Fe.set(Fe.length-65535-1+f,Fe.get(L[(l>>>2)+f]));return Fe.length-65535-1}};function en(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function pn(l){for(;l.length>0;)l.shift()(d)}function vr(l,f){return f+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*f:NaN}var Ft={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,f)=>{for(var m=0,C=l.length-1;C>=0;C--){var x=l[C];"."===x?l.splice(C,1):".."===x?(l.splice(C,1),m++):m&&(l.splice(C,1),m--)}if(f)for(;m;m--)l.unshift("..");return l},normalize:l=>{var f=Ft.isAbs(l),m="/"===l.substr(-1);return!(l=Ft.normalizeArray(l.split("/").filter(C=>!!C),!f).join("/"))&&!f&&(l="."),l&&m&&(l+="/"),(f?"/":"")+l},dirname:l=>{var f=Ft.splitPath(l),m=f[0],C=f[1];return m||C?(C&&(C=C.substr(0,C.length-1)),m+C):"."},basename:l=>{if("/"===l)return"/";var f=(l=(l=Ft.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===f?l:l.substr(f+1)},join:function(){var l=Array.prototype.slice.call(arguments);return Ft.normalize(l.join("/"))},join2:(l,f)=>Ft.normalize(l+"/"+f)},$n={resolve:function(){for(var l="",f=!1,m=arguments.length-1;m>=-1&&!f;m--){var C=m>=0?arguments[m]:v.cwd();if("string"!=typeof C)throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";l=C+"/"+l,f=Ft.isAbs(C)}return(f?"/":"")+(l=Ft.normalizeArray(l.split("/").filter(x=>!!x),!f).join("/"))||"."},relative:(l,f)=>{function m(St){for(var Gt=0;Gt<St.length&&""===St[Gt];Gt++);for(var an=St.length-1;an>=0&&""===St[an];an--);return Gt>an?[]:St.slice(Gt,an-Gt+1)}l=$n.resolve(l).substr(1),f=$n.resolve(f).substr(1);for(var C=m(l.split("/")),x=m(f.split("/")),J=Math.min(C.length,x.length),se=J,Ce=0;Ce<J;Ce++)if(C[Ce]!==x[Ce]){se=Ce;break}var Ye=[];for(Ce=se;Ce<C.length;Ce++)Ye.push("..");return(Ye=Ye.concat(x.slice(se))).join("/")}};function dr(l,f,m){var C=m>0?m:B(l)+1,x=new Array(C),J=pe(l,x,0,x.length);return f&&(x.length=J),x}var xn={ttys:[],init:function(){},shutdown:function(){},register:function(l,f){xn.ttys[l]={input:[],output:[],ops:f},v.registerDevice(l,xn.stream_ops)},stream_ops:{open:function(l){var f=xn.ttys[l.node.rdev];if(!f)throw new v.ErrnoError(43);l.tty=f,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,f,m,C,x){if(!l.tty||!l.tty.ops.get_char)throw new v.ErrnoError(60);for(var J=0,se=0;se<C;se++){var Ce;try{Ce=l.tty.ops.get_char(l.tty)}catch{throw new v.ErrnoError(29)}if(void 0===Ce&&0===J)throw new v.ErrnoError(6);if(null==Ce)break;J++,f[m+se]=Ce}return J&&(l.node.timestamp=Date.now()),J},write:function(l,f,m,C,x){if(!l.tty||!l.tty.ops.put_char)throw new v.ErrnoError(60);try{for(var J=0;J<C;J++)l.tty.ops.put_char(l.tty,f[m+J])}catch{throw new v.ErrnoError(29)}return C&&(l.node.timestamp=Date.now()),J}},default_tty_ops:{get_char:function(l){if(!l.input.length){var f=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(f=window.prompt("Input: "))&&(f+="\n"):"function"==typeof readline&&null!==(f=readline())&&(f+="\n"),!f)return null;l.input=dr(f,!0)}return l.input.shift()},put_char:function(l,f){null===f||10===f?(ie(xe(l.output,0)),l.output=[]):0!=f&&l.output.push(f)},fsync:function(l){l.output&&l.output.length>0&&(ie(xe(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,f){null===f||10===f?(Z(xe(l.output,0)),l.output=[]):0!=f&&l.output.push(f)},fsync:function(l){l.output&&l.output.length>0&&(Z(xe(l.output,0)),l.output=[])}}};function on(l){Xr()}var yt={ops_table:null,mount:function(l){return yt.createNode(null,"/",16895,0)},createNode:function(l,f,m,C){if(v.isBlkdev(m)||v.isFIFO(m))throw new v.ErrnoError(63);yt.ops_table||(yt.ops_table={dir:{node:{getattr:yt.node_ops.getattr,setattr:yt.node_ops.setattr,lookup:yt.node_ops.lookup,mknod:yt.node_ops.mknod,rename:yt.node_ops.rename,unlink:yt.node_ops.unlink,rmdir:yt.node_ops.rmdir,readdir:yt.node_ops.readdir,symlink:yt.node_ops.symlink},stream:{llseek:yt.stream_ops.llseek}},file:{node:{getattr:yt.node_ops.getattr,setattr:yt.node_ops.setattr},stream:{llseek:yt.stream_ops.llseek,read:yt.stream_ops.read,write:yt.stream_ops.write,allocate:yt.stream_ops.allocate,mmap:yt.stream_ops.mmap,msync:yt.stream_ops.msync}},link:{node:{getattr:yt.node_ops.getattr,setattr:yt.node_ops.setattr,readlink:yt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:yt.node_ops.getattr,setattr:yt.node_ops.setattr},stream:v.chrdev_stream_ops}});var x=v.createNode(l,f,m,C);return v.isDir(x.mode)?(x.node_ops=yt.ops_table.dir.node,x.stream_ops=yt.ops_table.dir.stream,x.contents={}):v.isFile(x.mode)?(x.node_ops=yt.ops_table.file.node,x.stream_ops=yt.ops_table.file.stream,x.usedBytes=0,x.contents=null):v.isLink(x.mode)?(x.node_ops=yt.ops_table.link.node,x.stream_ops=yt.ops_table.link.stream):v.isChrdev(x.mode)&&(x.node_ops=yt.ops_table.chrdev.node,x.stream_ops=yt.ops_table.chrdev.stream),x.timestamp=Date.now(),l&&(l.contents[f]=x,l.timestamp=x.timestamp),x},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,f){var m=l.contents?l.contents.length:0;if(!(m>=f)){f=Math.max(f,m*(m<1048576?2:1.125)>>>0),0!=m&&(f=Math.max(f,256));var x=l.contents;l.contents=new Uint8Array(f),l.usedBytes>0&&l.contents.set(x.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,f){if(l.usedBytes!=f)if(0==f)l.contents=null,l.usedBytes=0;else{var m=l.contents;l.contents=new Uint8Array(f),m&&l.contents.set(m.subarray(0,Math.min(f,l.usedBytes))),l.usedBytes=f}},node_ops:{getattr:function(l){var f={};return f.dev=v.isChrdev(l.mode)?l.id:1,f.ino=l.id,f.mode=l.mode,f.nlink=1,f.uid=0,f.gid=0,f.rdev=l.rdev,f.size=v.isDir(l.mode)?4096:v.isFile(l.mode)?l.usedBytes:v.isLink(l.mode)?l.link.length:0,f.atime=new Date(l.timestamp),f.mtime=new Date(l.timestamp),f.ctime=new Date(l.timestamp),f.blksize=4096,f.blocks=Math.ceil(f.size/f.blksize),f},setattr:function(l,f){void 0!==f.mode&&(l.mode=f.mode),void 0!==f.timestamp&&(l.timestamp=f.timestamp),void 0!==f.size&&yt.resizeFileStorage(l,f.size)},lookup:function(l,f){throw v.genericErrors[44]},mknod:function(l,f,m,C){return yt.createNode(l,f,m,C)},rename:function(l,f,m){if(v.isDir(l.mode)){var C;try{C=v.lookupNode(f,m)}catch{}if(C)for(var x in C.contents)throw new v.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=m,f.contents[m]=l,f.timestamp=l.parent.timestamp,l.parent=f},unlink:function(l,f){delete l.contents[f],l.timestamp=Date.now()},rmdir:function(l,f){var m=v.lookupNode(l,f);for(var C in m.contents)throw new v.ErrnoError(55);delete l.contents[f],l.timestamp=Date.now()},readdir:function(l){var f=[".",".."];for(var m in l.contents)!l.contents.hasOwnProperty(m)||f.push(m);return f},symlink:function(l,f,m){var C=yt.createNode(l,f,41471,0);return C.link=m,C},readlink:function(l){if(!v.isLink(l.mode))throw new v.ErrnoError(28);return l.link}},stream_ops:{read:function(l,f,m,C,x){var J=l.node.contents;if(x>=l.node.usedBytes)return 0;var se=Math.min(l.node.usedBytes-x,C);if(se>8&&J.subarray)f.set(J.subarray(x,x+se),m);else for(var Ce=0;Ce<se;Ce++)f[m+Ce]=J[x+Ce];return se},write:function(l,f,m,C,x,J){if(f.buffer===$e.buffer&&(J=!1),!C)return 0;var se=l.node;if(se.timestamp=Date.now(),f.subarray&&(!se.contents||se.contents.subarray)){if(J)return se.contents=f.subarray(m,m+C),se.usedBytes=C,C;if(0===se.usedBytes&&0===x)return se.contents=f.slice(m,m+C),se.usedBytes=C,C;if(x+C<=se.usedBytes)return se.contents.set(f.subarray(m,m+C),x),C}if(yt.expandFileStorage(se,x+C),se.contents.subarray&&f.subarray)se.contents.set(f.subarray(m,m+C),x);else for(var Ce=0;Ce<C;Ce++)se.contents[x+Ce]=f[m+Ce];return se.usedBytes=Math.max(se.usedBytes,x+C),C},llseek:function(l,f,m){var C=f;if(1===m?C+=l.position:2===m&&v.isFile(l.node.mode)&&(C+=l.node.usedBytes),C<0)throw new v.ErrnoError(28);return C},allocate:function(l,f,m){yt.expandFileStorage(l.node,f+m),l.node.usedBytes=Math.max(l.node.usedBytes,f+m)},mmap:function(l,f,m,C,x){if(!v.isFile(l.node.mode))throw new v.ErrnoError(43);var J,se,Ce=l.node.contents;if(2&x||Ce.buffer!==Ae){if((m>0||m+f<Ce.length)&&(Ce=Ce.subarray?Ce.subarray(m,m+f):Array.prototype.slice.call(Ce,m,m+f)),se=!0,!(J=on()))throw new v.ErrnoError(48);$e.set(Ce,J)}else se=!1,J=Ce.byteOffset;return{ptr:J,allocated:se}},msync:function(l,f,m,C,x){return yt.stream_ops.write(l,f,0,C,m,!1),0}}},v={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,f={})=>{if(!(l=$n.resolve(l)))return{path:"",node:null};if((f=Object.assign({follow_mount:!0,recurse_count:0},f)).recurse_count>8)throw new v.ErrnoError(32);for(var C=l.split("/").filter(an=>!!an),x=v.root,J="/",se=0;se<C.length;se++){var Ce=se===C.length-1;if(Ce&&f.parent)break;if(x=v.lookupNode(x,C[se]),J=Ft.join2(J,C[se]),v.isMountpoint(x)&&(!Ce||Ce&&f.follow_mount)&&(x=x.mounted.root),!Ce||f.follow)for(var Ye=0;v.isLink(x.mode);){var St=v.readlink(J);if(J=$n.resolve(Ft.dirname(J),St),x=v.lookupPath(J,{recurse_count:f.recurse_count+1}).node,Ye++>40)throw new v.ErrnoError(32)}}return{path:J,node:x}},getPath:l=>{for(var f;;){if(v.isRoot(l)){var m=l.mount.mountpoint;return f?"/"!==m[m.length-1]?m+"/"+f:m+f:m}f=f?l.name+"/"+f:l.name,l=l.parent}},hashName:(l,f)=>{for(var m=0,C=0;C<f.length;C++)m=(m<<5)-m+f.charCodeAt(C)|0;return(l+m>>>0)%v.nameTable.length},hashAddNode:l=>{var f=v.hashName(l.parent.id,l.name);l.name_next=v.nameTable[f],v.nameTable[f]=l},hashRemoveNode:l=>{var f=v.hashName(l.parent.id,l.name);if(v.nameTable[f]===l)v.nameTable[f]=l.name_next;else for(var m=v.nameTable[f];m;){if(m.name_next===l){m.name_next=l.name_next;break}m=m.name_next}},lookupNode:(l,f)=>{var m=v.mayLookup(l);if(m)throw new v.ErrnoError(m,l);for(var C=v.hashName(l.id,f),x=v.nameTable[C];x;x=x.name_next)if(x.parent.id===l.id&&x.name===f)return x;return v.lookup(l,f)},createNode:(l,f,m,C)=>{var x=new v.FSNode(l,f,m,C);return v.hashAddNode(x),x},destroyNode:l=>{v.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var f=v.flagModes[l];if(typeof f>"u")throw new Error("Unknown file open mode: "+l);return f},flagsToPermissionString:l=>{var f=["r","w","rw"][3&l];return 512&l&&(f+="w"),f},nodePermissions:(l,f)=>v.ignorePermissions?0:f.includes("r")&&!(292&l.mode)||f.includes("w")&&!(146&l.mode)||f.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>v.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,f)=>{try{return v.lookupNode(l,f),20}catch{}return v.nodePermissions(l,"wx")},mayDelete:(l,f,m)=>{var C;try{C=v.lookupNode(l,f)}catch(J){return J.errno}var x=v.nodePermissions(l,"wx");if(x)return x;if(m){if(!v.isDir(C.mode))return 54;if(v.isRoot(C)||v.getPath(C)===v.cwd())return 10}else if(v.isDir(C.mode))return 31;return 0},mayOpen:(l,f)=>l?v.isLink(l.mode)?32:v.isDir(l.mode)&&("r"!==v.flagsToPermissionString(f)||512&f)?31:v.nodePermissions(l,v.flagsToPermissionString(f)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,f=v.MAX_OPEN_FDS)=>{for(var m=l;m<=f;m++)if(!v.streams[m])return m;throw new v.ErrnoError(33)},getStream:l=>v.streams[l],createStream:(l,f,m)=>{v.FSStream||(v.FSStream=function(){this.shared={}},v.FSStream.prototype={},Object.defineProperties(v.FSStream.prototype,{object:{get:function(){return this.node},set:function(x){this.node=x}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(x){this.shared.flags=x}},position:{get:function(){return this.shared.position},set:function(x){this.shared.position=x}}})),l=Object.assign(new v.FSStream,l);var C=v.nextfd(f,m);return l.fd=C,v.streams[C]=l,l},closeStream:l=>{v.streams[l]=null},chrdev_stream_ops:{open:l=>{var f=v.getDevice(l.node.rdev);l.stream_ops=f.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new v.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,f)=>l<<8|f,registerDevice:(l,f)=>{v.devices[l]={stream_ops:f}},getDevice:l=>v.devices[l],getMounts:l=>{for(var f=[],m=[l];m.length;){var C=m.pop();f.push(C),m.push.apply(m,C.mounts)}return f},syncfs:(l,f)=>{"function"==typeof l&&(f=l,l=!1),v.syncFSRequests++,v.syncFSRequests>1&&Z("warning: "+v.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var m=v.getMounts(v.root.mount),C=0;function x(se){return v.syncFSRequests--,f(se)}function J(se){if(se)return J.errored?void 0:(J.errored=!0,x(se));++C>=m.length&&x(null)}m.forEach(se=>{if(!se.type.syncfs)return J(null);se.type.syncfs(se,l,J)})},mount:(l,f,m)=>{var J,C="/"===m,x=!m;if(C&&v.root)throw new v.ErrnoError(10);if(!C&&!x){var se=v.lookupPath(m,{follow_mount:!1});if(m=se.path,v.isMountpoint(J=se.node))throw new v.ErrnoError(10);if(!v.isDir(J.mode))throw new v.ErrnoError(54)}var Ce={type:l,opts:f,mountpoint:m,mounts:[]},Ye=l.mount(Ce);return Ye.mount=Ce,Ce.root=Ye,C?v.root=Ye:J&&(J.mounted=Ce,J.mount&&J.mount.mounts.push(Ce)),Ye},unmount:l=>{var f=v.lookupPath(l,{follow_mount:!1});if(!v.isMountpoint(f.node))throw new v.ErrnoError(28);var m=f.node,C=m.mounted,x=v.getMounts(C);Object.keys(v.nameTable).forEach(se=>{for(var Ce=v.nameTable[se];Ce;){var Ye=Ce.name_next;x.includes(Ce.mount)&&v.destroyNode(Ce),Ce=Ye}}),m.mounted=null;var J=m.mount.mounts.indexOf(C);m.mount.mounts.splice(J,1)},lookup:(l,f)=>l.node_ops.lookup(l,f),mknod:(l,f,m)=>{var x=v.lookupPath(l,{parent:!0}).node,J=Ft.basename(l);if(!J||"."===J||".."===J)throw new v.ErrnoError(28);var se=v.mayCreate(x,J);if(se)throw new v.ErrnoError(se);if(!x.node_ops.mknod)throw new v.ErrnoError(63);return x.node_ops.mknod(x,J,f,m)},create:(l,f)=>(f=void 0!==f?f:438,f&=4095,v.mknod(l,f|=32768,0)),mkdir:(l,f)=>(f=void 0!==f?f:511,f&=1023,v.mknod(l,f|=16384,0)),mkdirTree:(l,f)=>{for(var m=l.split("/"),C="",x=0;x<m.length;++x)if(m[x]){C+="/"+m[x];try{v.mkdir(C,f)}catch(J){if(20!=J.errno)throw J}}},mkdev:(l,f,m)=>(typeof m>"u"&&(m=f,f=438),v.mknod(l,f|=8192,m)),symlink:(l,f)=>{if(!$n.resolve(l))throw new v.ErrnoError(44);var C=v.lookupPath(f,{parent:!0}).node;if(!C)throw new v.ErrnoError(44);var x=Ft.basename(f),J=v.mayCreate(C,x);if(J)throw new v.ErrnoError(J);if(!C.node_ops.symlink)throw new v.ErrnoError(63);return C.node_ops.symlink(C,x,l)},rename:(l,f)=>{var Ce,Ye,m=Ft.dirname(l),C=Ft.dirname(f),x=Ft.basename(l),J=Ft.basename(f);if(Ce=v.lookupPath(l,{parent:!0}).node,Ye=v.lookupPath(f,{parent:!0}).node,!Ce||!Ye)throw new v.ErrnoError(44);if(Ce.mount!==Ye.mount)throw new v.ErrnoError(75);var an,St=v.lookupNode(Ce,x),Gt=$n.relative(l,C);if("."!==Gt.charAt(0))throw new v.ErrnoError(28);if("."!==(Gt=$n.relative(f,m)).charAt(0))throw new v.ErrnoError(55);try{an=v.lookupNode(Ye,J)}catch{}if(St!==an){var bt=v.isDir(St.mode),at=v.mayDelete(Ce,x,bt);if(at)throw new v.ErrnoError(at);if(at=an?v.mayDelete(Ye,J,bt):v.mayCreate(Ye,J))throw new v.ErrnoError(at);if(!Ce.node_ops.rename)throw new v.ErrnoError(63);if(v.isMountpoint(St)||an&&v.isMountpoint(an))throw new v.ErrnoError(10);if(Ye!==Ce&&(at=v.nodePermissions(Ce,"w")))throw new v.ErrnoError(at);v.hashRemoveNode(St);try{Ce.node_ops.rename(St,Ye,J)}catch(Vt){throw Vt}finally{v.hashAddNode(St)}}},rmdir:l=>{var m=v.lookupPath(l,{parent:!0}).node,C=Ft.basename(l),x=v.lookupNode(m,C),J=v.mayDelete(m,C,!0);if(J)throw new v.ErrnoError(J);if(!m.node_ops.rmdir)throw new v.ErrnoError(63);if(v.isMountpoint(x))throw new v.ErrnoError(10);m.node_ops.rmdir(m,C),v.destroyNode(x)},readdir:l=>{var m=v.lookupPath(l,{follow:!0}).node;if(!m.node_ops.readdir)throw new v.ErrnoError(54);return m.node_ops.readdir(m)},unlink:l=>{var m=v.lookupPath(l,{parent:!0}).node;if(!m)throw new v.ErrnoError(44);var C=Ft.basename(l),x=v.lookupNode(m,C),J=v.mayDelete(m,C,!1);if(J)throw new v.ErrnoError(J);if(!m.node_ops.unlink)throw new v.ErrnoError(63);if(v.isMountpoint(x))throw new v.ErrnoError(10);m.node_ops.unlink(m,C),v.destroyNode(x)},readlink:l=>{var m=v.lookupPath(l).node;if(!m)throw new v.ErrnoError(44);if(!m.node_ops.readlink)throw new v.ErrnoError(28);return $n.resolve(v.getPath(m.parent),m.node_ops.readlink(m))},stat:(l,f)=>{var C=v.lookupPath(l,{follow:!f}).node;if(!C)throw new v.ErrnoError(44);if(!C.node_ops.getattr)throw new v.ErrnoError(63);return C.node_ops.getattr(C)},lstat:l=>v.stat(l,!0),chmod:(l,f,m)=>{var C;if(!(C="string"==typeof l?v.lookupPath(l,{follow:!m}).node:l).node_ops.setattr)throw new v.ErrnoError(63);C.node_ops.setattr(C,{mode:4095&f|-4096&C.mode,timestamp:Date.now()})},lchmod:(l,f)=>{v.chmod(l,f,!0)},fchmod:(l,f)=>{var m=v.getStream(l);if(!m)throw new v.ErrnoError(8);v.chmod(m.node,f)},chown:(l,f,m,C)=>{var x;if(!(x="string"==typeof l?v.lookupPath(l,{follow:!C}).node:l).node_ops.setattr)throw new v.ErrnoError(63);x.node_ops.setattr(x,{timestamp:Date.now()})},lchown:(l,f,m)=>{v.chown(l,f,m,!0)},fchown:(l,f,m)=>{var C=v.getStream(l);if(!C)throw new v.ErrnoError(8);v.chown(C.node,f,m)},truncate:(l,f)=>{if(f<0)throw new v.ErrnoError(28);var m;if(!(m="string"==typeof l?v.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new v.ErrnoError(63);if(v.isDir(m.mode))throw new v.ErrnoError(31);if(!v.isFile(m.mode))throw new v.ErrnoError(28);var x=v.nodePermissions(m,"w");if(x)throw new v.ErrnoError(x);m.node_ops.setattr(m,{size:f,timestamp:Date.now()})},ftruncate:(l,f)=>{var m=v.getStream(l);if(!m)throw new v.ErrnoError(8);if(0==(2097155&m.flags))throw new v.ErrnoError(28);v.truncate(m.node,f)},utime:(l,f,m)=>{var x=v.lookupPath(l,{follow:!0}).node;x.node_ops.setattr(x,{timestamp:Math.max(f,m)})},open:(l,f,m)=>{if(""===l)throw new v.ErrnoError(44);var C;if(m=typeof m>"u"?438:m,m=64&(f="string"==typeof f?v.modeStringToFlags(f):f)?4095&m|32768:0,"object"==typeof l)C=l;else{l=Ft.normalize(l);try{C=v.lookupPath(l,{follow:!(131072&f)}).node}catch{}}var J=!1;if(64&f)if(C){if(128&f)throw new v.ErrnoError(20)}else C=v.mknod(l,m,0),J=!0;if(!C)throw new v.ErrnoError(44);if(v.isChrdev(C.mode)&&(f&=-513),65536&f&&!v.isDir(C.mode))throw new v.ErrnoError(54);if(!J){var se=v.mayOpen(C,f);if(se)throw new v.ErrnoError(se)}512&f&&!J&&v.truncate(C,0),f&=-131713;var Ce=v.createStream({node:C,path:v.getPath(C),flags:f,seekable:!0,position:0,stream_ops:C.stream_ops,ungotten:[],error:!1});return Ce.stream_ops.open&&Ce.stream_ops.open(Ce),d.logReadFiles&&!(1&f)&&(v.readFiles||(v.readFiles={}),l in v.readFiles||(v.readFiles[l]=1)),Ce},close:l=>{if(v.isClosed(l))throw new v.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(f){throw f}finally{v.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,f,m)=>{if(v.isClosed(l))throw new v.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new v.ErrnoError(70);if(0!=m&&1!=m&&2!=m)throw new v.ErrnoError(28);return l.position=l.stream_ops.llseek(l,f,m),l.ungotten=[],l.position},read:(l,f,m,C,x)=>{if(C<0||x<0)throw new v.ErrnoError(28);if(v.isClosed(l))throw new v.ErrnoError(8);if(1==(2097155&l.flags))throw new v.ErrnoError(8);if(v.isDir(l.node.mode))throw new v.ErrnoError(31);if(!l.stream_ops.read)throw new v.ErrnoError(28);var J=typeof x<"u";if(J){if(!l.seekable)throw new v.ErrnoError(70)}else x=l.position;var se=l.stream_ops.read(l,f,m,C,x);return J||(l.position+=se),se},write:(l,f,m,C,x,J)=>{if(C<0||x<0)throw new v.ErrnoError(28);if(v.isClosed(l))throw new v.ErrnoError(8);if(0==(2097155&l.flags))throw new v.ErrnoError(8);if(v.isDir(l.node.mode))throw new v.ErrnoError(31);if(!l.stream_ops.write)throw new v.ErrnoError(28);l.seekable&&1024&l.flags&&v.llseek(l,0,2);var se=typeof x<"u";if(se){if(!l.seekable)throw new v.ErrnoError(70)}else x=l.position;var Ce=l.stream_ops.write(l,f,m,C,x,J);return se||(l.position+=Ce),Ce},allocate:(l,f,m)=>{if(v.isClosed(l))throw new v.ErrnoError(8);if(f<0||m<=0)throw new v.ErrnoError(28);if(0==(2097155&l.flags))throw new v.ErrnoError(8);if(!v.isFile(l.node.mode)&&!v.isDir(l.node.mode))throw new v.ErrnoError(43);if(!l.stream_ops.allocate)throw new v.ErrnoError(138);l.stream_ops.allocate(l,f,m)},mmap:(l,f,m,C,x)=>{if(0!=(2&C)&&0==(2&x)&&2!=(2097155&l.flags))throw new v.ErrnoError(2);if(1==(2097155&l.flags))throw new v.ErrnoError(2);if(!l.stream_ops.mmap)throw new v.ErrnoError(43);return l.stream_ops.mmap(l,f,m,C,x)},msync:(l,f,m,C,x)=>l.stream_ops.msync?l.stream_ops.msync(l,f,m,C,x):0,munmap:l=>0,ioctl:(l,f,m)=>{if(!l.stream_ops.ioctl)throw new v.ErrnoError(59);return l.stream_ops.ioctl(l,f,m)},readFile:(l,f={})=>{if(f.flags=f.flags||0,f.encoding=f.encoding||"binary","utf8"!==f.encoding&&"binary"!==f.encoding)throw new Error('Invalid encoding type "'+f.encoding+'"');var m,C=v.open(l,f.flags),J=v.stat(l).size,se=new Uint8Array(J);return v.read(C,se,0,J,0),"utf8"===f.encoding?m=xe(se,0):"binary"===f.encoding&&(m=se),v.close(C),m},writeFile:(l,f,m={})=>{m.flags=m.flags||577;var C=v.open(l,m.flags,m.mode);if("string"==typeof f){var x=new Uint8Array(B(f)+1),J=pe(f,x,0,x.length);v.write(C,x,0,J,void 0,m.canOwn)}else{if(!ArrayBuffer.isView(f))throw new Error("Unsupported data type");v.write(C,f,0,f.byteLength,void 0,m.canOwn)}v.close(C)},cwd:()=>v.currentPath,chdir:l=>{var f=v.lookupPath(l,{follow:!0});if(null===f.node)throw new v.ErrnoError(44);if(!v.isDir(f.node.mode))throw new v.ErrnoError(54);var m=v.nodePermissions(f.node,"x");if(m)throw new v.ErrnoError(m);v.currentPath=f.path},createDefaultDirectories:()=>{v.mkdir("/tmp"),v.mkdir("/home"),v.mkdir("/home/web_user")},createDefaultDevices:()=>{v.mkdir("/dev"),v.registerDevice(v.makedev(1,3),{read:()=>0,write:(f,m,C,x,J)=>x}),v.mkdev("/dev/null",v.makedev(1,3)),xn.register(v.makedev(5,0),xn.default_tty_ops),xn.register(v.makedev(6,0),xn.default_tty1_ops),v.mkdev("/dev/tty",v.makedev(5,0)),v.mkdev("/dev/tty1",v.makedev(6,0));var l=function Qn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>Xr("randomDevice")}();v.createDevice("/dev","random",l),v.createDevice("/dev","urandom",l),v.mkdir("/dev/shm"),v.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{v.mkdir("/proc");var l=v.mkdir("/proc/self");v.mkdir("/proc/self/fd"),v.mount({mount:()=>{var f=v.createNode(l,"fd",16895,73);return f.node_ops={lookup:(m,C)=>{var J=v.getStream(+C);if(!J)throw new v.ErrnoError(8);var se={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>J.path}};return se.parent=se,se}},f}},{},"/proc/self/fd")},createStandardStreams:()=>{d.stdin?v.createDevice("/dev","stdin",d.stdin):v.symlink("/dev/tty","/dev/stdin"),d.stdout?v.createDevice("/dev","stdout",null,d.stdout):v.symlink("/dev/tty","/dev/stdout"),d.stderr?v.createDevice("/dev","stderr",null,d.stderr):v.symlink("/dev/tty1","/dev/stderr"),v.open("/dev/stdin",0),v.open("/dev/stdout",1),v.open("/dev/stderr",1)},ensureErrnoError:()=>{v.ErrnoError||(v.ErrnoError=function(f,m){this.node=m,this.setErrno=function(C){this.errno=C},this.setErrno(f),this.message="FS error"},v.ErrnoError.prototype=new Error,v.ErrnoError.prototype.constructor=v.ErrnoError,[44].forEach(l=>{v.genericErrors[l]=new v.ErrnoError(l),v.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{v.ensureErrnoError(),v.nameTable=new Array(4096),v.mount(yt,{},"/"),v.createDefaultDirectories(),v.createDefaultDevices(),v.createSpecialDirectories(),v.filesystems={MEMFS:yt}},init:(l,f,m)=>{v.init.initialized=!0,v.ensureErrnoError(),d.stdin=l||d.stdin,d.stdout=f||d.stdout,d.stderr=m||d.stderr,v.createStandardStreams()},quit:()=>{v.init.initialized=!1;for(var l=0;l<v.streams.length;l++){var f=v.streams[l];!f||v.close(f)}},getMode:(l,f)=>{var m=0;return l&&(m|=365),f&&(m|=146),m},findObject:(l,f)=>{var m=v.analyzePath(l,f);return m.exists?m.object:null},analyzePath:(l,f)=>{try{l=(m=v.lookupPath(l,{follow:!f})).path}catch{}var C={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var m=v.lookupPath(l,{parent:!0});C.parentExists=!0,C.parentPath=m.path,C.parentObject=m.node,C.name=Ft.basename(l),m=v.lookupPath(l,{follow:!f}),C.exists=!0,C.path=m.path,C.object=m.node,C.name=m.node.name,C.isRoot="/"===m.path}catch(x){C.error=x.errno}return C},createPath:(l,f,m,C)=>{l="string"==typeof l?l:v.getPath(l);for(var x=f.split("/").reverse();x.length;){var J=x.pop();if(J){var se=Ft.join2(l,J);try{v.mkdir(se)}catch{}l=se}}return se},createFile:(l,f,m,C,x)=>{var J=Ft.join2("string"==typeof l?l:v.getPath(l),f),se=v.getMode(C,x);return v.create(J,se)},createDataFile:(l,f,m,C,x,J)=>{var se=f;l&&(l="string"==typeof l?l:v.getPath(l),se=f?Ft.join2(l,f):l);var Ce=v.getMode(C,x),Ye=v.create(se,Ce);if(m){if("string"==typeof m){for(var St=new Array(m.length),Gt=0,an=m.length;Gt<an;++Gt)St[Gt]=m.charCodeAt(Gt);m=St}v.chmod(Ye,146|Ce);var bt=v.open(Ye,577);v.write(bt,m,0,m.length,0,J),v.close(bt),v.chmod(Ye,Ce)}return Ye},createDevice:(l,f,m,C)=>{var x=Ft.join2("string"==typeof l?l:v.getPath(l),f),J=v.getMode(!!m,!!C);v.createDevice.major||(v.createDevice.major=64);var se=v.makedev(v.createDevice.major++,0);return v.registerDevice(se,{open:Ce=>{Ce.seekable=!1},close:Ce=>{C&&C.buffer&&C.buffer.length&&C(10)},read:(Ce,Ye,St,Gt,an)=>{for(var bt=0,at=0;at<Gt;at++){var Vt;try{Vt=m()}catch{throw new v.ErrnoError(29)}if(void 0===Vt&&0===bt)throw new v.ErrnoError(6);if(null==Vt)break;bt++,Ye[St+at]=Vt}return bt&&(Ce.node.timestamp=Date.now()),bt},write:(Ce,Ye,St,Gt,an)=>{for(var bt=0;bt<Gt;bt++)try{C(Ye[St+bt])}catch{throw new v.ErrnoError(29)}return Gt&&(Ce.node.timestamp=Date.now()),bt}}),v.mkdev(x,J,se)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!M)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=dr(M(l.url),!0),l.usedBytes=l.contents.length}catch{throw new v.ErrnoError(29)}},createLazyFile:(l,f,m,C,x)=>{function J(){this.lengthKnown=!1,this.chunks=[]}if(J.prototype.get=function(at){if(!(at>this.length-1||at<0)){var Vt=at%this.chunkSize;return this.getter(at/this.chunkSize|0)[Vt]}},J.prototype.setDataGetter=function(at){this.getter=at},J.prototype.cacheLength=function(){var at=new XMLHttpRequest;if(at.open("HEAD",m,!1),at.send(null),!(at.status>=200&&at.status<300||304===at.status))throw new Error("Couldn't load "+m+". Status: "+at.status);var qt,Vt=Number(at.getResponseHeader("Content-length")),ko=(qt=at.getResponseHeader("Accept-Ranges"))&&"bytes"===qt,Ur=(qt=at.getResponseHeader("Content-Encoding"))&&"gzip"===qt,ze=1048576;ko||(ze=Vt);var hr=this;hr.setDataGetter(Rn=>{var ro=Rn*ze,Un=(Rn+1)*ze-1;if(Un=Math.min(Un,Vt-1),typeof hr.chunks[Rn]>"u"&&(hr.chunks[Rn]=((Rn,ro)=>{if(Rn>ro)throw new Error("invalid range ("+Rn+", "+ro+") or no bytes requested!");if(ro>Vt-1)throw new Error("only "+Vt+" bytes available! programmer error!");var Un=new XMLHttpRequest;if(Un.open("GET",m,!1),Vt!==ze&&Un.setRequestHeader("Range","bytes="+Rn+"-"+ro),Un.responseType="arraybuffer",Un.overrideMimeType&&Un.overrideMimeType("text/plain; charset=x-user-defined"),Un.send(null),!(Un.status>=200&&Un.status<300||304===Un.status))throw new Error("Couldn't load "+m+". Status: "+Un.status);return void 0!==Un.response?new Uint8Array(Un.response||[]):dr(Un.responseText||"",!0)})(ro,Un)),typeof hr.chunks[Rn]>"u")throw new Error("doXHR failed!");return hr.chunks[Rn]}),(Ur||!Vt)&&(ze=Vt=1,Vt=this.getter(0).length,ze=Vt,ie("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Vt,this._chunkSize=ze,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!N)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var se=new J;Object.defineProperties(se,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Ce={isDevice:!1,contents:se}}else Ce={isDevice:!1,url:m};var Ye=v.createFile(l,f,Ce,C,x);Ce.contents?Ye.contents=Ce.contents:Ce.url&&(Ye.contents=null,Ye.url=Ce.url),Object.defineProperties(Ye,{usedBytes:{get:function(){return this.contents.length}}});var St={};function an(bt,at,Vt,qt,ko){var Ur=bt.node.contents;if(ko>=Ur.length)return 0;var ze=Math.min(Ur.length-ko,qt);if(Ur.slice)for(var wt=0;wt<ze;wt++)at[Vt+wt]=Ur[ko+wt];else for(wt=0;wt<ze;wt++)at[Vt+wt]=Ur.get(ko+wt);return ze}return Object.keys(Ye.stream_ops).forEach(bt=>{var at=Ye.stream_ops[bt];St[bt]=function(){return v.forceLoadFile(Ye),at.apply(null,arguments)}}),St.read=(bt,at,Vt,qt,ko)=>(v.forceLoadFile(Ye),an(bt,at,Vt,qt,ko)),St.mmap=(bt,at,Vt,qt,ko)=>{v.forceLoadFile(Ye);var Ur=on();if(!Ur)throw new v.ErrnoError(48);return an(bt,$e,Ur,at,Vt),{ptr:Ur,allocated:!0}},Ye.stream_ops=St,Ye},createPreloadedFile:(l,f,m,C,x,J,se,Ce,Ye,St)=>{var Gt=f?$n.resolve(Ft.join2(l,f)):l;function bt(at){function Vt(qt){St&&St(),Ce||v.createDataFile(l,f,qt,C,x,Ye),J&&J(),lr()}Browser.handledByPreloadPlugin(at,Gt,Vt,()=>{se&&se(),lr()})||Vt(at)}hi(),"string"==typeof m?function Vn(l,f,m,C){var x=C?"":"al "+l;me(l,J=>{ae(J,'Loading data file "'+l+'" failed (no arrayBuffer).'),f(new Uint8Array(J)),x&&lr()},J=>{if(!m)throw'Loading data file "'+l+'" failed.';m()}),x&&hi()}(m,at=>bt(at),se):bt(m)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,f,m)=>{f=f||(()=>{}),m=m||(()=>{});var C=v.indexedDB();try{var x=C.open(v.DB_NAME(),v.DB_VERSION)}catch(J){return m(J)}x.onupgradeneeded=()=>{ie("creating db"),x.result.createObjectStore(v.DB_STORE_NAME)},x.onsuccess=()=>{var se=x.result.transaction([v.DB_STORE_NAME],"readwrite"),Ce=se.objectStore(v.DB_STORE_NAME),Ye=0,St=0,Gt=l.length;function an(){0==St?f():m()}l.forEach(bt=>{var at=Ce.put(v.analyzePath(bt).object.contents,bt);at.onsuccess=()=>{++Ye+St==Gt&&an()},at.onerror=()=>{St++,Ye+St==Gt&&an()}}),se.onerror=m},x.onerror=m},loadFilesFromDB:(l,f,m)=>{f=f||(()=>{}),m=m||(()=>{});var C=v.indexedDB();try{var x=C.open(v.DB_NAME(),v.DB_VERSION)}catch(J){return m(J)}x.onupgradeneeded=m,x.onsuccess=()=>{var J=x.result;try{var se=J.transaction([v.DB_STORE_NAME],"readonly")}catch(bt){return void m(bt)}var Ce=se.objectStore(v.DB_STORE_NAME),Ye=0,St=0,Gt=l.length;function an(){0==St?f():m()}l.forEach(bt=>{var at=Ce.get(bt);at.onsuccess=()=>{v.analyzePath(bt).exists&&v.unlink(bt),v.createDataFile(Ft.dirname(bt),Ft.basename(bt),at.result,!0,!0,!0),++Ye+St==Gt&&an()},at.onerror=()=>{St++,Ye+St==Gt&&an()}}),se.onerror=m},x.onerror=m}},fr={DEFAULT_POLLMASK:5,calculateAt:function(l,f,m){if(Ft.isAbs(f))return f;var C;if(C=-100===l?v.cwd():fr.getStreamFromFD(l).path,0==f.length){if(!m)throw new v.ErrnoError(44);return C}return Ft.join2(C,f)},doStat:function(l,f,m){try{var C=l(f)}catch(x){if(x&&x.node&&Ft.normalize(f)!==Ft.normalize(v.getPath(x.node)))return-54;throw x}return W[m>>2]=C.dev,W[m+8>>2]=C.ino,W[m+12>>2]=C.mode,L[m+16>>2]=C.nlink,W[m+20>>2]=C.uid,W[m+24>>2]=C.gid,W[m+28>>2]=C.rdev,le=[C.size>>>0,(Bt=C.size,+Math.abs(Bt)>=1?Bt>0?(0|Math.min(+Math.floor(Bt/4294967296),4294967295))>>>0:~~+Math.ceil((Bt-+(~~Bt>>>0))/4294967296)>>>0:0)],W[m+40>>2]=le[0],W[m+44>>2]=le[1],W[m+48>>2]=4096,W[m+52>>2]=C.blocks,le=[Math.floor(C.atime.getTime()/1e3)>>>0,(Bt=Math.floor(C.atime.getTime()/1e3),+Math.abs(Bt)>=1?Bt>0?(0|Math.min(+Math.floor(Bt/4294967296),4294967295))>>>0:~~+Math.ceil((Bt-+(~~Bt>>>0))/4294967296)>>>0:0)],W[m+56>>2]=le[0],W[m+60>>2]=le[1],L[m+64>>2]=0,le=[Math.floor(C.mtime.getTime()/1e3)>>>0,(Bt=Math.floor(C.mtime.getTime()/1e3),+Math.abs(Bt)>=1?Bt>0?(0|Math.min(+Math.floor(Bt/4294967296),4294967295))>>>0:~~+Math.ceil((Bt-+(~~Bt>>>0))/4294967296)>>>0:0)],W[m+72>>2]=le[0],W[m+76>>2]=le[1],L[m+80>>2]=0,le=[Math.floor(C.ctime.getTime()/1e3)>>>0,(Bt=Math.floor(C.ctime.getTime()/1e3),+Math.abs(Bt)>=1?Bt>0?(0|Math.min(+Math.floor(Bt/4294967296),4294967295))>>>0:~~+Math.ceil((Bt-+(~~Bt>>>0))/4294967296)>>>0:0)],W[m+88>>2]=le[0],W[m+92>>2]=le[1],L[m+96>>2]=0,le=[C.ino>>>0,(Bt=C.ino,+Math.abs(Bt)>=1?Bt>0?(0|Math.min(+Math.floor(Bt/4294967296),4294967295))>>>0:~~+Math.ceil((Bt-+(~~Bt>>>0))/4294967296)>>>0:0)],W[m+104>>2]=le[0],W[m+108>>2]=le[1],0},doMsync:function(l,f,m,C,x){if(!v.isFile(f.node.mode))throw new v.ErrnoError(43);if(2&C)return 0;var J=qe.slice(l,l+m);v.msync(f,J,x,m,C)},varargs:void 0,get:function(){return fr.varargs+=4,W[fr.varargs-4>>2]},getStr:function(l){return Ee(l)},getStreamFromFD:function(l){var f=v.getStream(l);if(!f)throw new v.ErrnoError(8);return f}};function Do(l){return l%4==0&&(l%100!=0||l%400==0)}var In=[0,31,60,91,121,152,182,213,244,274,305,335],Hr=[0,31,59,90,120,151,181,212,243,273,304,334];function br(l){return(Do(l.getFullYear())?In:Hr)[l.getMonth()]+l.getDate()-1}function gi(l){var f=B(l)+1,m=th(f);return m&&pe(l,$e,m,f),m}var Gn=[];function Sr(l){try{return Y.grow(l-Ae.byteLength+65535>>>16),fe(Y.buffer),1}catch{}}var Yo={};function yn(){if(!yn.strings){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:A||"./this.program"};for(var m in Yo)void 0===Yo[m]?delete f[m]:f[m]=Yo[m];var C=[];for(var m in f)C.push(m+"="+f[m]);yn.strings=C}return yn.strings}var q=[31,29,31,30,31,30,31,31,30,31,30,31],ce=[31,28,31,30,31,30,31,31,30,31,30,31];function _t(l,f){l<128?f.push(l):f.push(l%128|128,l>>7)}var kr=[];function Jn(l){var f=kr[l];return f||(l>=kr.length&&(kr.length=l+1),kr[l]=f=Fe.get(l)),f}var Li=void 0,zs=[];function gd(l,f){Fe.set(l,f),kr[l]=Fe.get(l)}var yd=function(l,f,m,C){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=v.nextInode++,this.name=f,this.mode=m,this.node_ops={},this.stream_ops={},this.rdev=C};Object.defineProperties(yd.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return v.isDir(this.mode)}},isDevice:{get:function(){return v.isChrdev(this.mode)}}}),v.FSNode=yd,v.staticInit();var Cl,gn={b:function Ot(l,f,m,C){Xr("Assertion failed: "+Ee(l)+", at: "+[f?Ee(f):"unknown filename",m,C?Ee(C):"unknown function"])},i:function Yt(l){const f=new Error(Ee(l));throw f.isAssert=!0,f},l:function Zo(l,f,m){try{var C=vr(f,m);return isNaN(C)?-61:(v.ftruncate(l,C),0)}catch(x){if(typeof v>"u"||!(x instanceof v.ErrnoError))throw x;return-x.errno}},e:function Lo(){return!0},f:function mi(l,f){var m=new Date(1e3*function _r(l){return L[l>>2]+4294967296*W[l+4>>2]}(l));W[f>>2]=m.getSeconds(),W[f+4>>2]=m.getMinutes(),W[f+8>>2]=m.getHours(),W[f+12>>2]=m.getDate(),W[f+16>>2]=m.getMonth(),W[f+20>>2]=m.getFullYear()-1900,W[f+24>>2]=m.getDay();var C=0|br(m);W[f+28>>2]=C,W[f+36>>2]=-60*m.getTimezoneOffset();var x=new Date(m.getFullYear(),0,1),J=new Date(m.getFullYear(),6,1).getTimezoneOffset(),se=x.getTimezoneOffset(),Ce=0|(J!=se&&m.getTimezoneOffset()==Math.min(se,J));W[f+32>>2]=Ce},g:function Fi(l){var f=new Date(W[l+20>>2]+1900,W[l+16>>2],W[l+12>>2],W[l+8>>2],W[l+4>>2],W[l>>2],0),m=W[l+32>>2],C=f.getTimezoneOffset(),x=new Date(f.getFullYear(),0,1),J=new Date(f.getFullYear(),6,1).getTimezoneOffset(),se=x.getTimezoneOffset(),Ce=Math.min(se,J);if(m<0)W[l+32>>2]=Number(J!=se&&Ce==C);else if(m>0!=(Ce==C)){var Ye=Math.max(se,J),St=m>0?Ce:Ye;f.setTime(f.getTime()+6e4*(St-C))}W[l+24>>2]=f.getDay();var Gt=0|br(f);return W[l+28>>2]=Gt,W[l>>2]=f.getSeconds(),W[l+4>>2]=f.getMinutes(),W[l+8>>2]=f.getHours(),W[l+12>>2]=f.getDate(),W[l+16>>2]=f.getMonth(),W[l+20>>2]=f.getYear(),f.getTime()/1e3|0},h:function $o(l,f,m){var C=(new Date).getFullYear(),x=new Date(C,0,1),J=new Date(C,6,1),se=x.getTimezoneOffset(),Ce=J.getTimezoneOffset(),Ye=Math.max(se,Ce);function St(Vt){var qt=Vt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return qt?qt[1]:"GMT"}L[l>>2]=60*Ye,W[f>>2]=Number(se!=Ce);var Gt=St(x),an=St(J),bt=gi(Gt),at=gi(an);Ce<se?(L[m>>2]=bt,L[m+4>>2]=at):(L[m>>2]=at,L[m+4>>2]=bt)},a:function fo(){Xr("")},j:function Cr(l,f,m){var C=function Ko(l,f){var m;for(Gn.length=0,f>>=2;m=qe[l++];)f+=105!=m&f,Gn.push(105==m?W[f]:K[f++>>1]),++f;return Gn}(f,m);return De[l].apply(null,C)},c:function ss(){return Date.now()},q:function as(l,f,m){qe.copyWithin(l,f,f+m)},p:function js(l){var Ye,f=qe.length,m=2147483648;if((l>>>=0)>m)return!1;for(var x=1;x<=4;x*=2){var J=f*(1+.2/x);if(J=Math.min(J,l+100663296),Sr(Math.min(m,(Ye=Math.max(l,J))+(65536-Ye%65536)%65536)))return!0}return!1},n:function ls(l,f){var m=0;return yn().forEach(function(C,x){var J=f+m;L[l+4*x>>2]=J,function vi(l,f,m){for(var C=0;C<l.length;++C)$e[f++>>0]=l.charCodeAt(C);m||($e[f>>0]=0)}(C,J),m+=C.length+1}),0},o:function Xo(l,f){var m=yn();L[l>>2]=m.length;var C=0;return m.forEach(function(x){C+=x.length+1}),L[f>>2]=C,0},r:function un(l){try{var f=fr.getStreamFromFD(l);return v.close(f),0}catch(m){if(typeof v>"u"||!(m instanceof v.ErrnoError))throw m;return m.errno}},d:function hn(l,f,m,C){try{var J=function Qo(l,f,m,C){for(var x=0,J=0;J<m;J++){var se=L[f>>2],Ce=L[f+4>>2];f+=8;var Ye=v.read(l,$e,se,Ce,C);if(Ye<0)return-1;if(x+=Ye,Ye<Ce)break}return x}(fr.getStreamFromFD(l),f,m);return L[C>>2]=J,0}catch(se){if(typeof v>"u"||!(se instanceof v.ErrnoError))throw se;return se.errno}},k:function Ni(l,f,m,C,x){try{var J=vr(f,m);if(isNaN(J))return 61;var se=fr.getStreamFromFD(l);return v.llseek(se,J,C),le=[se.position>>>0,(Bt=se.position,+Math.abs(Bt)>=1?Bt>0?(0|Math.min(+Math.floor(Bt/4294967296),4294967295))>>>0:~~+Math.ceil((Bt-+(~~Bt>>>0))/4294967296)>>>0:0)],W[x>>2]=le[0],W[x+4>>2]=le[1],se.getdents&&0===J&&0===C&&(se.getdents=null),0}catch(Ce){if(typeof v>"u"||!(Ce instanceof v.ErrnoError))throw Ce;return Ce.errno}},s:function b(l,f,m,C){try{var J=function Gs(l,f,m,C){for(var x=0,J=0;J<m;J++){var se=L[f>>2],Ce=L[f+4>>2];f+=8;var Ye=v.write(l,$e,se,Ce,C);if(Ye<0)return-1;x+=Ye}return x}(fr.getStreamFromFD(l),f,m);return L[C>>2]=J,0}catch(se){if(typeof v>"u"||!(se instanceof v.ErrnoError))throw se;return se.errno}},m:function _e(l,f,m,C,x){return function H(l,f,m,C){var x=W[C+40>>2],J={tm_sec:W[C>>2],tm_min:W[C+4>>2],tm_hour:W[C+8>>2],tm_mday:W[C+12>>2],tm_mon:W[C+16>>2],tm_year:W[C+20>>2],tm_wday:W[C+24>>2],tm_yday:W[C+28>>2],tm_isdst:W[C+32>>2],tm_gmtoff:W[C+36>>2],tm_zone:x?Ee(x):""},se=Ee(m),Ce={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ye in Ce)se=se.replace(new RegExp(Ye,"g"),Ce[Ye]);var St=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Gt=["January","February","March","April","May","June","July","August","September","October","November","December"];function an(ze,wt,hr){for(var Rn="number"==typeof ze?ze.toString():ze||"";Rn.length<wt;)Rn=hr[0]+Rn;return Rn}function bt(ze,wt){return an(ze,wt,"0")}function at(ze,wt){function hr(ro){return ro<0?-1:ro>0?1:0}var Rn;return 0===(Rn=hr(ze.getFullYear()-wt.getFullYear()))&&0===(Rn=hr(ze.getMonth()-wt.getMonth()))&&(Rn=hr(ze.getDate()-wt.getDate())),Rn}function Vt(ze){switch(ze.getDay()){case 0:return new Date(ze.getFullYear()-1,11,29);case 1:return ze;case 2:return new Date(ze.getFullYear(),0,3);case 3:return new Date(ze.getFullYear(),0,2);case 4:return new Date(ze.getFullYear(),0,1);case 5:return new Date(ze.getFullYear()-1,11,31);case 6:return new Date(ze.getFullYear()-1,11,30)}}function qt(ze){var wt=function w(l,f){for(var m=new Date(l.getTime());f>0;){var C=Do(m.getFullYear()),x=m.getMonth(),J=(C?q:ce)[x];if(!(f>J-m.getDate()))return m.setDate(m.getDate()+f),m;f-=J-m.getDate()+1,m.setDate(1),x<11?m.setMonth(x+1):(m.setMonth(0),m.setFullYear(m.getFullYear()+1))}return m}(new Date(ze.tm_year+1900,0,1),ze.tm_yday),hr=new Date(wt.getFullYear(),0,4),Rn=new Date(wt.getFullYear()+1,0,4),ro=Vt(hr),Un=Vt(Rn);return at(ro,wt)<=0?at(Un,wt)<=0?wt.getFullYear()+1:wt.getFullYear():wt.getFullYear()-1}var ko={"%a":function(ze){return St[ze.tm_wday].substring(0,3)},"%A":function(ze){return St[ze.tm_wday]},"%b":function(ze){return Gt[ze.tm_mon].substring(0,3)},"%B":function(ze){return Gt[ze.tm_mon]},"%C":function(ze){return bt((ze.tm_year+1900)/100|0,2)},"%d":function(ze){return bt(ze.tm_mday,2)},"%e":function(ze){return an(ze.tm_mday,2," ")},"%g":function(ze){return qt(ze).toString().substring(2)},"%G":function(ze){return qt(ze)},"%H":function(ze){return bt(ze.tm_hour,2)},"%I":function(ze){var wt=ze.tm_hour;return 0==wt?wt=12:wt>12&&(wt-=12),bt(wt,2)},"%j":function(ze){return bt(ze.tm_mday+function I(l,f){for(var m=0,C=0;C<=f;m+=l[C++]);return m}(Do(ze.tm_year+1900)?q:ce,ze.tm_mon-1),3)},"%m":function(ze){return bt(ze.tm_mon+1,2)},"%M":function(ze){return bt(ze.tm_min,2)},"%n":function(){return"\n"},"%p":function(ze){return ze.tm_hour>=0&&ze.tm_hour<12?"AM":"PM"},"%S":function(ze){return bt(ze.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ze){return ze.tm_wday||7},"%U":function(ze){return bt(Math.floor((ze.tm_yday+7-ze.tm_wday)/7),2)},"%V":function(ze){var wt=Math.floor((ze.tm_yday+7-(ze.tm_wday+6)%7)/7);if((ze.tm_wday+371-ze.tm_yday-2)%7<=2&&wt++,wt){if(53==wt){var Rn=(ze.tm_wday+371-ze.tm_yday)%7;4!=Rn&&(3!=Rn||!Do(ze.tm_year))&&(wt=1)}}else{wt=52;var hr=(ze.tm_wday+7-ze.tm_yday-1)%7;(4==hr||5==hr&&Do(ze.tm_year%400-1))&&wt++}return bt(wt,2)},"%w":function(ze){return ze.tm_wday},"%W":function(ze){return bt(Math.floor((ze.tm_yday+7-(ze.tm_wday+6)%7)/7),2)},"%y":function(ze){return(ze.tm_year+1900).toString().substring(2)},"%Y":function(ze){return ze.tm_year+1900},"%z":function(ze){var wt=ze.tm_gmtoff,hr=wt>=0;return wt=(wt=Math.abs(wt)/60)/60*100+wt%60,(hr?"+":"-")+String("0000"+wt).slice(-4)},"%Z":function(ze){return ze.tm_zone},"%%":function(){return"%"}};for(var Ye in se=se.replace(/%%/g,"\0\0"),ko)se.includes(Ye)&&(se=se.replace(new RegExp(Ye,"g"),ko[Ye](J)));var Ur=dr(se=se.replace(/\0\0/g,"%"),!1);return Ur.length>f?0:(function O(l,f){$e.set(l,f)}(Ur,l),Ur.length-1)}(l,f,m,C)}},th=(function ur(){var l={a:gn};function f(se,Ce){d.asm=se.exports,fe((Y=d.asm.t).buffer),Fe=d.asm.gc,function Br(l){Ne.unshift(l)}(d.asm.u),lr()}function m(se){f(se.instance)}function C(se){return function Oi(){return Q||!te&&!N||"function"!=typeof fetch?Promise.resolve().then(function(){return Qr(cr)}):fetch(cr,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+cr+"'";return l.arrayBuffer()}).catch(function(){return Qr(cr)})}().then(function(Ce){return WebAssembly.instantiate(Ce,l)}).then(function(Ce){return Ce}).then(se,function(Ce){Z("failed to asynchronously prepare wasm: "+Ce),Xr(Ce)})}if(hi(),d.instantiateWasm)try{return d.instantiateWasm(l,f)}catch(se){Z("Module.instantiateWasm callback failed with error: "+se),U(se)}(function x(){return Q||"function"!=typeof WebAssembly.instantiateStreaming||Vr(cr)||"function"!=typeof fetch?C(m):fetch(cr,{credentials:"same-origin"}).then(function(se){return WebAssembly.instantiateStreaming(se,l).then(m,function(Ye){return Z("wasm streaming compile failed: "+Ye),Z("falling back to ArrayBuffer instantiation"),C(m)})})})().catch(U)}(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.u).apply(null,arguments)},d._malloc=function(){return(th=d._malloc=d.asm.v).apply(null,arguments)}),nh=(d._main=function(){return(d._main=d.asm.w).apply(null,arguments)},d._emscripten_bind_VoidPtr___destroy___0=function(){return(nh=d._emscripten_bind_VoidPtr___destroy___0=d.asm.x).apply(null,arguments)}),Tn=d._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Tn=d._emscripten_bind_Cloudpilot_Cloudpilot_0=d.asm.y).apply(null,arguments)},sl=d._emscripten_bind_Cloudpilot_Malloc_1=function(){return(sl=d._emscripten_bind_Cloudpilot_Malloc_1=d.asm.z).apply(null,arguments)},Dc=d._emscripten_bind_Cloudpilot_Free_1=function(){return(Dc=d._emscripten_bind_Cloudpilot_Free_1=d.asm.A).apply(null,arguments)},vd=d._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(vd=d._emscripten_bind_Cloudpilot_Nullptr_0=d.asm.B).apply(null,arguments)},_d=d._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(_d=d._emscripten_bind_Cloudpilot_InitializeSession_3=d.asm.C).apply(null,arguments)},Ec=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(Ec=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=d.asm.D).apply(null,arguments)},Da=d._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(Da=d._emscripten_bind_Cloudpilot_RunEmulation_1=d.asm.E).apply(null,arguments)},al=d._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(al=d._emscripten_bind_Cloudpilot_SetClockFactor_1=d.asm.F).apply(null,arguments)},Ic=d._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(Ic=d._emscripten_bind_Cloudpilot_CopyFrame_0=d.asm.G).apply(null,arguments)},bd=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(bd=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=d.asm.H).apply(null,arguments)},Et=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Et=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=d.asm.I).apply(null,arguments)},ll=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(ll=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=d.asm.J).apply(null,arguments)},Cd=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Cd=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=d.asm.K).apply(null,arguments)},Bo=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Bo=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=d.asm.L).apply(null,arguments)},Tc=d._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(Tc=d._emscripten_bind_Cloudpilot_QueuePenMove_2=d.asm.M).apply(null,arguments)},rh=d._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(rh=d._emscripten_bind_Cloudpilot_QueuePenUp_0=d.asm.N).apply(null,arguments)},_i=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(_i=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=d.asm.O).apply(null,arguments)},To=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(To=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=d.asm.P).apply(null,arguments)},oh=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(oh=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=d.asm.Q).apply(null,arguments)},ih=d._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(ih=d._emscripten_bind_Cloudpilot_IsPowerOff_0=d.asm.R).apply(null,arguments)},Vo=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(Vo=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=d.asm.S).apply(null,arguments)},vn=d._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(vn=d._emscripten_bind_Cloudpilot_GetOSVersion_0=d.asm.T).apply(null,arguments)},sh=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(sh=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=d.asm.U).apply(null,arguments)},ah=d._emscripten_bind_Cloudpilot_Reset_0=function(){return(ah=d._emscripten_bind_Cloudpilot_Reset_0=d.asm.V).apply(null,arguments)},cs=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(cs=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=d.asm.W).apply(null,arguments)},dn=d._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(dn=d._emscripten_bind_Cloudpilot_ResetHard_0=d.asm.X).apply(null,arguments)},Ea=d._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(Ea=d._emscripten_bind_Cloudpilot_InstallDb_2=d.asm.Y).apply(null,arguments)},cl=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(cl=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=d.asm.Z).apply(null,arguments)},ul=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(ul=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=d.asm._).apply(null,arguments)},Mc=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(Mc=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=d.asm.$).apply(null,arguments)},Jo=d._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(Jo=d._emscripten_bind_Cloudpilot_GetMemorySize_0=d.asm.aa).apply(null,arguments)},Ws=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(Ws=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=d.asm.ba).apply(null,arguments)},Sd=d._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(Sd=d._emscripten_bind_Cloudpilot_GetRomPtr_0=d.asm.ca).apply(null,arguments)},je=d._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(je=d._emscripten_bind_Cloudpilot_GetRomSize_0=d.asm.da).apply(null,arguments)},wd=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(wd=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=d.asm.ea).apply(null,arguments)},xc=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(xc=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=d.asm.fa).apply(null,arguments)},Ac=d._emscripten_bind_Cloudpilot_SaveState_0=function(){return(Ac=d._emscripten_bind_Cloudpilot_SaveState_0=d.asm.ga).apply(null,arguments)},Dd=d._emscripten_bind_Cloudpilot_LoadState_2=function(){return(Dd=d._emscripten_bind_Cloudpilot_LoadState_2=d.asm.ha).apply(null,arguments)},An=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(An=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=d.asm.ia).apply(null,arguments)},Ed=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Ed=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=d.asm.ja).apply(null,arguments)},kc=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(kc=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=d.asm.ka).apply(null,arguments)},ht=d._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(ht=d._emscripten_bind_Cloudpilot_StartBackup_0=d.asm.la).apply(null,arguments)},pr=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(pr=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=d.asm.ma).apply(null,arguments)},Sn=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(Sn=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=d.asm.na).apply(null,arguments)},Rr=d._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(Rr=d._emscripten_bind_Cloudpilot_IsSuspended_0=d.asm.oa).apply(null,arguments)},Or=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(Or=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=d.asm.pa).apply(null,arguments)},Jr=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(Jr=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=d.asm.qa).apply(null,arguments)},po=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(po=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=d.asm.ra).apply(null,arguments)},it=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(it=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=d.asm.sa).apply(null,arguments)},Ht=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(Ht=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=d.asm.ta).apply(null,arguments)},kn=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(kn=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=d.asm.ua).apply(null,arguments)},eo=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(eo=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=d.asm.va).apply(null,arguments)},$i=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return($i=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=d.asm.wa).apply(null,arguments)},or=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(or=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=d.asm.xa).apply(null,arguments)},Bi=d._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Bi=d._emscripten_bind_Cloudpilot_AllocateCard_2=d.asm.ya).apply(null,arguments)},Bn=d._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Bn=d._emscripten_bind_Cloudpilot_MountCard_1=d.asm.za).apply(null,arguments)},qs=d._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(qs=d._emscripten_bind_Cloudpilot_RemoveCard_1=d.asm.Aa).apply(null,arguments)},us=d._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(us=d._emscripten_bind_Cloudpilot_GetCardData_1=d.asm.Ba).apply(null,arguments)},Wt=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(Wt=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=d.asm.Ca).apply(null,arguments)},Ia=d._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(Ia=d._emscripten_bind_Cloudpilot_GetCardSize_1=d.asm.Da).apply(null,arguments)},ds=d._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(ds=d._emscripten_bind_Cloudpilot_RemountCards_0=d.asm.Ea).apply(null,arguments)},dl=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(dl=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=d.asm.Fa).apply(null,arguments)},Vi=d._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(Vi=d._emscripten_bind_Cloudpilot_GetMountedKey_0=d.asm.Ga).apply(null,arguments)},wr=d._emscripten_bind_Cloudpilot___destroy___0=function(){return(wr=d._emscripten_bind_Cloudpilot___destroy___0=d.asm.Ha).apply(null,arguments)},Zs=d._emscripten_bind_RomInfo_RomInfo_2=function(){return(Zs=d._emscripten_bind_RomInfo_RomInfo_2=d.asm.Ia).apply(null,arguments)},fs=d._emscripten_bind_RomInfo_IsValid_0=function(){return(fs=d._emscripten_bind_RomInfo_IsValid_0=d.asm.Ja).apply(null,arguments)},Mo=d._emscripten_bind_RomInfo_CardVersion_0=function(){return(Mo=d._emscripten_bind_RomInfo_CardVersion_0=d.asm.Ka).apply(null,arguments)},ps=d._emscripten_bind_RomInfo_CardName_0=function(){return(ps=d._emscripten_bind_RomInfo_CardName_0=d.asm.La).apply(null,arguments)},Pc=d._emscripten_bind_RomInfo_RomVersion_0=function(){return(Pc=d._emscripten_bind_RomInfo_RomVersion_0=d.asm.Ma).apply(null,arguments)},wn=d._emscripten_bind_RomInfo_RomVersionString_0=function(){return(wn=d._emscripten_bind_RomInfo_RomVersionString_0=d.asm.Na).apply(null,arguments)},Id=d._emscripten_bind_RomInfo_Supports_1=function(){return(Id=d._emscripten_bind_RomInfo_Supports_1=d.asm.Oa).apply(null,arguments)},Td=d._emscripten_bind_RomInfo___destroy___0=function(){return(Td=d._emscripten_bind_RomInfo___destroy___0=d.asm.Pa).apply(null,arguments)},Ta=d._emscripten_bind_Frame_GetLineWidth_0=function(){return(Ta=d._emscripten_bind_Frame_GetLineWidth_0=d.asm.Qa).apply(null,arguments)},fl=d._emscripten_bind_Frame_GetBpp_0=function(){return(fl=d._emscripten_bind_Frame_GetBpp_0=d.asm.Ra).apply(null,arguments)},Ks=d._emscripten_bind_Frame_GetLines_0=function(){return(Ks=d._emscripten_bind_Frame_GetLines_0=d.asm.Sa).apply(null,arguments)},Ma=d._emscripten_bind_Frame_GetMargin_0=function(){return(Ma=d._emscripten_bind_Frame_GetMargin_0=d.asm.Ta).apply(null,arguments)},Hi=d._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(Hi=d._emscripten_bind_Frame_GetBytesPerLine_0=d.asm.Ua).apply(null,arguments)},Dr=d._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(Dr=d._emscripten_bind_Frame_GetFirstDirtyLine_0=d.asm.Va).apply(null,arguments)},Md=d._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Md=d._emscripten_bind_Frame_GetLastDirtyLine_0=d.asm.Wa).apply(null,arguments)},jr=d._emscripten_bind_Frame_GetHasChanges_0=function(){return(jr=d._emscripten_bind_Frame_GetHasChanges_0=d.asm.Xa).apply(null,arguments)},xo=d._emscripten_bind_Frame_GetBuffer_0=function(){return(xo=d._emscripten_bind_Frame_GetBuffer_0=d.asm.Ya).apply(null,arguments)},pl=d._emscripten_bind_Frame_GetBufferSize_0=function(){return(pl=d._emscripten_bind_Frame_GetBufferSize_0=d.asm.Za).apply(null,arguments)},xa=d._emscripten_bind_Frame_GetScaleX_0=function(){return(xa=d._emscripten_bind_Frame_GetScaleX_0=d.asm._a).apply(null,arguments)},Aa=d._emscripten_bind_Frame_GetScaleY_0=function(){return(Aa=d._emscripten_bind_Frame_GetScaleY_0=d.asm.$a).apply(null,arguments)},Ao=d._emscripten_bind_Frame___destroy___0=function(){return(Ao=d._emscripten_bind_Frame___destroy___0=d.asm.ab).apply(null,arguments)},xd=d._emscripten_bind_DbBackup_Init_1=function(){return(xd=d._emscripten_bind_DbBackup_Init_1=d.asm.bb).apply(null,arguments)},lh=d._emscripten_bind_DbBackup_IsInProgress_0=function(){return(lh=d._emscripten_bind_DbBackup_IsInProgress_0=d.asm.cb).apply(null,arguments)},Ad=d._emscripten_bind_DbBackup_IsDone_0=function(){return(Ad=d._emscripten_bind_DbBackup_IsDone_0=d.asm.db).apply(null,arguments)},kd=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(kd=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=d.asm.eb).apply(null,arguments)},ch=d._emscripten_bind_DbBackup_Save_0=function(){return(ch=d._emscripten_bind_DbBackup_Save_0=d.asm.fb).apply(null,arguments)},uh=d._emscripten_bind_DbBackup_Skip_0=function(){return(uh=d._emscripten_bind_DbBackup_Skip_0=d.asm.gb).apply(null,arguments)},dh=d._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(dh=d._emscripten_bind_DbBackup_GetArchivePtr_0=d.asm.hb).apply(null,arguments)},fh=d._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(fh=d._emscripten_bind_DbBackup_GetArchiveSize_0=d.asm.ib).apply(null,arguments)},ph=d._emscripten_bind_DbBackup___destroy___0=function(){return(ph=d._emscripten_bind_DbBackup___destroy___0=d.asm.jb).apply(null,arguments)},hh=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(hh=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=d.asm.kb).apply(null,arguments)},mh=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(mh=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=d.asm.lb).apply(null,arguments)},gh=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(gh=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=d.asm.mb).apply(null,arguments)},yh=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(yh=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=d.asm.nb).apply(null,arguments)},vh=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(vh=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=d.asm.ob).apply(null,arguments)},_h=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(_h=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=d.asm.pb).apply(null,arguments)},bh=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(bh=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=d.asm.qb).apply(null,arguments)},Ch=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(Ch=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=d.asm.rb).apply(null,arguments)},Sh=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(Sh=d._emscripten_bind_SuspendContextNetworkConnect_Resume_1=d.asm.sb).apply(null,arguments)},Rc=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Rc=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=d.asm.tb).apply(null,arguments)},hl=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(hl=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=d.asm.ub).apply(null,arguments)},wh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(wh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=d.asm.vb).apply(null,arguments)},Dh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(Dh=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=d.asm.wb).apply(null,arguments)},Eh=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(Eh=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=d.asm.xb).apply(null,arguments)},ji=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(ji=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=d.asm.yb).apply(null,arguments)},Pd=d._emscripten_bind_SuspendContext_GetKind_0=function(){return(Pd=d._emscripten_bind_SuspendContext_GetKind_0=d.asm.zb).apply(null,arguments)},Er=d._emscripten_bind_SuspendContext_Cancel_0=function(){return(Er=d._emscripten_bind_SuspendContext_Cancel_0=d.asm.Ab).apply(null,arguments)},Oc=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(Oc=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=d.asm.Bb).apply(null,arguments)},Rd=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(Rd=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=d.asm.Cb).apply(null,arguments)},Od=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(Od=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=d.asm.Db).apply(null,arguments)},Fc=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(Fc=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=d.asm.Eb).apply(null,arguments)},Nc=d._emscripten_bind_SuspendContext___destroy___0=function(){return(Nc=d._emscripten_bind_SuspendContext___destroy___0=d.asm.Fb).apply(null,arguments)},Fd=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(Fd=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=d.asm.Gb).apply(null,arguments)},ml=d._emscripten_bind_ZipfileWalker_GetState_0=function(){return(ml=d._emscripten_bind_ZipfileWalker_GetState_0=d.asm.Hb).apply(null,arguments)},Nd=d._emscripten_bind_ZipfileWalker_Next_0=function(){return(Nd=d._emscripten_bind_ZipfileWalker_Next_0=d.asm.Ib).apply(null,arguments)},ho=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(ho=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=d.asm.Jb).apply(null,arguments)},gl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(gl=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=d.asm.Kb).apply(null,arguments)},Ld=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(Ld=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=d.asm.Lb).apply(null,arguments)},yl=d._emscripten_bind_ZipfileWalker___destroy___0=function(){return(yl=d._emscripten_bind_ZipfileWalker___destroy___0=d.asm.Mb).apply(null,arguments)},$d=d._emscripten_bind_SessionImage_SessionImage_0=function(){return($d=d._emscripten_bind_SessionImage_SessionImage_0=d.asm.Nb).apply(null,arguments)},Ih=d._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(Ih=d._emscripten_bind_SessionImage_GetDeviceId_0=d.asm.Ob).apply(null,arguments)},zn=d._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(zn=d._emscripten_bind_SessionImage_SetDeviceId_1=d.asm.Pb).apply(null,arguments)},Bd=d._emscripten_bind_SessionImage_GetRomImage_0=function(){return(Bd=d._emscripten_bind_SessionImage_GetRomImage_0=d.asm.Qb).apply(null,arguments)},Th=d._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(Th=d._emscripten_bind_SessionImage_GetRomImageSize_0=d.asm.Rb).apply(null,arguments)},ka=d._emscripten_bind_SessionImage_SetRomImage_2=function(){return(ka=d._emscripten_bind_SessionImage_SetRomImage_2=d.asm.Sb).apply(null,arguments)},mo=d._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(mo=d._emscripten_bind_SessionImage_GetMemoryImage_0=d.asm.Tb).apply(null,arguments)},Vd=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(Vd=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=d.asm.Ub).apply(null,arguments)},vl=d._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(vl=d._emscripten_bind_SessionImage_SetMemoryImage_2=d.asm.Vb).apply(null,arguments)},hs=d._emscripten_bind_SessionImage_GetMetadata_0=function(){return(hs=d._emscripten_bind_SessionImage_GetMetadata_0=d.asm.Wb).apply(null,arguments)},to=d._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(to=d._emscripten_bind_SessionImage_GetMetadataSize_0=d.asm.Xb).apply(null,arguments)},Lc=d._emscripten_bind_SessionImage_SetMetadata_2=function(){return(Lc=d._emscripten_bind_SessionImage_SetMetadata_2=d.asm.Yb).apply(null,arguments)},_l=d._emscripten_bind_SessionImage_GetSavestate_0=function(){return(_l=d._emscripten_bind_SessionImage_GetSavestate_0=d.asm.Zb).apply(null,arguments)},Hd=d._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(Hd=d._emscripten_bind_SessionImage_GetSavestateSize_0=d.asm._b).apply(null,arguments)},bi=d._emscripten_bind_SessionImage_SetSavestate_2=function(){return(bi=d._emscripten_bind_SessionImage_SetSavestate_2=d.asm.$b).apply(null,arguments)},$c=d._emscripten_bind_SessionImage_GetVersion_0=function(){return($c=d._emscripten_bind_SessionImage_GetVersion_0=d.asm.ac).apply(null,arguments)},bl=d._emscripten_bind_SessionImage_Serialize_0=function(){return(bl=d._emscripten_bind_SessionImage_Serialize_0=d.asm.bc).apply(null,arguments)},Nt=d._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Nt=d._emscripten_bind_SessionImage_GetSerializedImage_0=d.asm.cc).apply(null,arguments)},Bc=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Bc=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=d.asm.dc).apply(null,arguments)},Mh=d._emscripten_bind_SessionImage_Deserialize_2=function(){return(Mh=d._emscripten_bind_SessionImage_Deserialize_2=d.asm.ec).apply(null,arguments)},jd=d._emscripten_bind_SessionImage___destroy___0=function(){return(jd=d._emscripten_bind_SessionImage___destroy___0=d.asm.fc).apply(null,arguments)};function kh(l){var f=d._main;try{var x=f(0,0);return function Le(l,f){ne=l,function Re(l){ne=l,function Tt(){return ve}()||(d.onExit&&d.onExit(l),Pe=!0),P(l,new en(l))}(l)}(x),x}catch(J){return function ot(l){if(l instanceof en||"unwind"==l)return ne;P(1,l)}(J)}}function He(l){function f(){Cl||(Cl=!0,d.calledRun=!0,!Pe&&(function Ar(){!d.noFSInit&&!v.init.initialized&&v.init(),v.ignorePermissions=!1,xn.init(),pn(Ne)}(),function Yn(){pn(dt)}(),G(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),sn&&kh(),function Cn(){if(d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)l=d.postRun.shift(),vt.unshift(l);var l;pn(vt)}()))}l=l||$,ar>0||(function X(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)l=d.preRun.shift(),Oe.unshift(l);var l;pn(Oe)}(),ar>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),f()},1)):f())}if(d.___original_main=function(){return(d.___original_main=d.asm.hc).apply(null,arguments)},d.___start_em_js=242387,d.___stop_em_js=242584,d.UTF8ToString=Ee,d.addFunction=function __(l,f){if(Li||(Li=new WeakMap,function wa(l,f){if(Li)for(var m=l;m<l+f;m++){var C=Jn(m);C&&Li.set(C,m)}}(0,Fe.length)),Li.has(l))return Li.get(l);var m=function v_(){if(zs.length)return zs.pop();try{Fe.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return Fe.length-1}();try{gd(m,l)}catch(x){if(!(x instanceof TypeError))throw x;gd(m,function Io(l,f){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Dt(l){for(var f={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},m={parameters:[],results:"v"==l[0]?[]:[f[l[0]]]},C=1;C<l.length;++C)m.parameters.push(f[l[C]]),"j"===l[C]&&m.parameters.push("i32");return m}(f),l);var m=[1];!function Nn(l,f){var m=l.slice(0,1),C=l.slice(1),x={i:127,p:127,j:126,f:125,d:124};f.push(96),_t(C.length,f);for(var J=0;J<C.length;++J)f.push(x[C[J]]);"v"==m?f.push(0):f.push(1,x[m])}(f,m);var C=[0,97,115,109,1,0,0,0,1];_t(m.length,C),C.push.apply(C,m),C.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var x=new WebAssembly.Module(new Uint8Array(C));return new WebAssembly.Instance(x,{e:{f:l}}).exports.f}(l,f))}return Li.set(l,m),m},co=function l(){Cl||He(),Cl||(co=l)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var sn=!0;function mt(){}function Pt(l){return(l||mt).__cache__}function Mt(l,f){var m=Pt(f),C=m[l];return C||((C=Object.create((f||mt).prototype)).ptr=l,m[l]=C)}d.noInitialRun&&(sn=!1),He(),(mt.prototype=Object.create(mt.prototype)).constructor=mt,mt.prototype.__class__=mt,mt.__cache__={},d.WrapperObject=mt,d.getCache=Pt,d.wrapPointer=Mt,d.castObject=function Ud(l,f){return Mt(l.ptr,f)},d.NULL=Mt(0),d.destroy=function Pa(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete Pt(l.__class__)[l.ptr]},d.compare=function ei(l,f){return l.ptr===f.ptr},d.getPointer=function Vc(l){return l.ptr},d.getClass=function Hc(l){return l.__class__};var Zt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Zt.needed){for(var l=0;l<Zt.temps.length;l++)d._free(Zt.temps[l]);Zt.temps.length=0,d._free(Zt.buffer),Zt.buffer=0,Zt.size+=Zt.needed,Zt.needed=0}Zt.buffer||(Zt.size+=128,Zt.buffer=d._malloc(Zt.size),ae(Zt.buffer)),Zt.pos=0},alloc:function(l,f){ae(Zt.buffer);var x,C=l.length*f.BYTES_PER_ELEMENT;return Zt.pos+(C=C+7&-8)>=Zt.size?(ae(C>0),Zt.needed+=C,x=d._malloc(C),Zt.temps.push(x)):(x=Zt.buffer+Zt.pos,Zt.pos+=C),x},copy:function(l,f,m){switch(m>>>=0,f.BYTES_PER_ELEMENT){case 2:m>>>=1;break;case 4:m>>>=2;break;case 8:m>>>=3}for(var x=0;x<l.length;x++)f[m+x]=l[x]}};function Fr(l){if("string"==typeof l){var f=dr(l),m=Zt.alloc(f,$e);return Zt.copy(f,$e,m),m}return l}function Pn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Te(){this.ptr=Tn(),Pt(Te)[this.ptr]=this}function tn(l,f){l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),this.ptr=Zs(l,f),Pt(tn)[this.ptr]=this}function Ut(){throw"cannot construct a Frame, no constructor in IDL"}function Dn(){throw"cannot construct a DbBackup, no constructor in IDL"}function Wn(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Hn(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function no(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function ir(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function jn(){throw"cannot construct a SuspendContext, no constructor in IDL"}function er(l,f){l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),this.ptr=Fd(l,f),Pt(er)[this.ptr]=this}function Ct(){this.ptr=$d(),Pt(Ct)[this.ptr]=this}return(Pn.prototype=Object.create(mt.prototype)).constructor=Pn,Pn.prototype.__class__=Pn,Pn.__cache__={},d.VoidPtr=Pn,Pn.prototype.__destroy__=Pn.prototype.__destroy__=function(){nh(this.ptr)},(Te.prototype=Object.create(mt.prototype)).constructor=Te,Te.prototype.__class__=Te,Te.__cache__={},d.Cloudpilot=Te,Te.prototype.Malloc=Te.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),Mt(sl(this.ptr,l),Pn)},Te.prototype.Free=Te.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),Dc(this.ptr,l)},Te.prototype.Nullptr=Te.prototype.Nullptr=function(){return Mt(vd(this.ptr),Pn)},Te.prototype.InitializeSession=Te.prototype.InitializeSession=function(l,f,m){var C=this.ptr;return Zt.prepare(),l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),m=m&&"object"==typeof m?m.ptr:Fr(m),!!_d(C,l,f,m)},Te.prototype.GetCyclesPerSecond=Te.prototype.GetCyclesPerSecond=function(){return Ec(this.ptr)},Te.prototype.RunEmulation=Te.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),Da(this.ptr,l)},Te.prototype.SetClockFactor=Te.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),al(this.ptr,l)},Te.prototype.CopyFrame=Te.prototype.CopyFrame=function(){return Mt(Ic(this.ptr),Ut)},Te.prototype.IsScreenDirty=Te.prototype.IsScreenDirty=function(){return!!bd(this.ptr)},Te.prototype.MarkScreenClean=Te.prototype.MarkScreenClean=function(){Et(this.ptr)},Te.prototype.MinMemoryForDevice=Te.prototype.MinMemoryForDevice=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),ll(f,l)},Te.prototype.FramebufferSizeForDevice=Te.prototype.FramebufferSizeForDevice=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),Cd(f,l)},Te.prototype.TotalMemoryForDevice=Te.prototype.TotalMemoryForDevice=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),Bo(f,l)},Te.prototype.QueuePenMove=Te.prototype.QueuePenMove=function(l,f){l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),Tc(this.ptr,l,f)},Te.prototype.QueuePenUp=Te.prototype.QueuePenUp=function(){rh(this.ptr)},Te.prototype.QueueButtonDown=Te.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),_i(this.ptr,l)},Te.prototype.QueueButtonUp=Te.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),To(this.ptr,l)},Te.prototype.QueueKeyboardEvent=Te.prototype.QueueKeyboardEvent=function(l,f){l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),oh(this.ptr,l,f)},Te.prototype.IsPowerOff=Te.prototype.IsPowerOff=function(){return!!ih(this.ptr)},Te.prototype.IsUIInitialized=Te.prototype.IsUIInitialized=function(){return!!Vo(this.ptr)},Te.prototype.GetOSVersion=Te.prototype.GetOSVersion=function(){return vn(this.ptr)},Te.prototype.IsSetupComplete=Te.prototype.IsSetupComplete=function(){return!!sh(this.ptr)},Te.prototype.Reset=Te.prototype.Reset=function(){ah(this.ptr)},Te.prototype.ResetNoExtensions=Te.prototype.ResetNoExtensions=function(){cs(this.ptr)},Te.prototype.ResetHard=Te.prototype.ResetHard=function(){dn(this.ptr)},Te.prototype.InstallDb=Te.prototype.InstallDb=function(l,f){return l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),Ea(this.ptr,l,f)},Te.prototype.GetPalette2bitMapping=Te.prototype.GetPalette2bitMapping=function(){return cl(this.ptr)},Te.prototype.GetMemoryPtr=Te.prototype.GetMemoryPtr=function(){return Mt(ul(this.ptr),Pn)},Te.prototype.GetDirtyPagesPtr=Te.prototype.GetDirtyPagesPtr=function(){return Mt(Mc(this.ptr),Pn)},Te.prototype.GetMemorySize=Te.prototype.GetMemorySize=function(){return Jo(this.ptr)},Te.prototype.ImportMemoryImage=Te.prototype.ImportMemoryImage=function(l,f){return l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),!!Ws(this.ptr,l,f)},Te.prototype.GetRomPtr=Te.prototype.GetRomPtr=function(){return Mt(Sd(this.ptr),Pn)},Te.prototype.GetRomSize=Te.prototype.GetRomSize=function(){return je(this.ptr)},Te.prototype.GetSavestatePtr=Te.prototype.GetSavestatePtr=function(){return Mt(wd(this.ptr),Pn)},Te.prototype.GetSavestateSize=Te.prototype.GetSavestateSize=function(){return xc(this.ptr)},Te.prototype.SaveState=Te.prototype.SaveState=function(){return!!Ac(this.ptr)},Te.prototype.LoadState=Te.prototype.LoadState=function(l,f){return l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),!!Dd(this.ptr,l,f)},Te.prototype.GetHotsyncName=Te.prototype.GetHotsyncName=function(){return Ee(An(this.ptr))},Te.prototype.SetHotsyncName=Te.prototype.SetHotsyncName=function(l){var f=this.ptr;Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),Ed(f,l)},Te.prototype.RegisterPwmHandler=Te.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),kc(this.ptr,l)},Te.prototype.StartBackup=Te.prototype.StartBackup=function(){return Mt(ht(this.ptr),Dn)},Te.prototype.SetClipboardIntegration=Te.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),pr(this.ptr,l)},Te.prototype.GetClipboardIntegration=Te.prototype.GetClipboardIntegration=function(){return!!Sn(this.ptr)},Te.prototype.IsSuspended=Te.prototype.IsSuspended=function(){return!!Rr(this.ptr)},Te.prototype.GetSuspendContext=Te.prototype.GetSuspendContext=function(){return Mt(Or(this.ptr),jn)},Te.prototype.SetNetworkRedirection=Te.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),Jr(this.ptr,l)},Te.prototype.GetNetworkRedirection=Te.prototype.GetNetworkRedirection=function(){return!!po(this.ptr)},Te.prototype.RegisterProxyDisconnectHandler=Te.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),it(this.ptr,l)},Te.prototype.SetHotsyncNameManagement=Te.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),Ht(this.ptr,l)},Te.prototype.LaunchAppByName=Te.prototype.LaunchAppByName=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),!!kn(f,l)},Te.prototype.LaunchAppByDbHeader=Te.prototype.LaunchAppByDbHeader=function(l,f){return l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),!!eo(this.ptr,l,f)},Te.prototype.DeviceSupportsCardSize=Te.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!$i(this.ptr,l)},Te.prototype.ClearExternalStorage=Te.prototype.ClearExternalStorage=function(){or(this.ptr)},Te.prototype.AllocateCard=Te.prototype.AllocateCard=function(l,f){var m=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),f&&"object"==typeof f&&(f=f.ptr),!!Bi(m,l,f)},Te.prototype.MountCard=Te.prototype.MountCard=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),!!Bn(f,l)},Te.prototype.RemoveCard=Te.prototype.RemoveCard=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),!!qs(f,l)},Te.prototype.GetCardData=Te.prototype.GetCardData=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),Mt(us(f,l),Pn)},Te.prototype.GetCardDirtyPages=Te.prototype.GetCardDirtyPages=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),Mt(Wt(f,l),Pn)},Te.prototype.GetCardSize=Te.prototype.GetCardSize=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),Ia(f,l)},Te.prototype.RemountCards=Te.prototype.RemountCards=function(){ds(this.ptr)},Te.prototype.GetSupportLevel=Te.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),dl(this.ptr,l)},Te.prototype.GetMountedKey=Te.prototype.GetMountedKey=function(){return Ee(Vi(this.ptr))},Te.prototype.__destroy__=Te.prototype.__destroy__=function(){wr(this.ptr)},(tn.prototype=Object.create(mt.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},d.RomInfo=tn,tn.prototype.IsValid=tn.prototype.IsValid=function(){return!!fs(this.ptr)},tn.prototype.CardVersion=tn.prototype.CardVersion=function(){return Mo(this.ptr)},tn.prototype.CardName=tn.prototype.CardName=function(){return Ee(ps(this.ptr))},tn.prototype.RomVersion=tn.prototype.RomVersion=function(){return Pc(this.ptr)},tn.prototype.RomVersionString=tn.prototype.RomVersionString=function(){return Ee(wn(this.ptr))},tn.prototype.Supports=tn.prototype.Supports=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),!!Id(f,l)},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){Td(this.ptr)},(Ut.prototype=Object.create(mt.prototype)).constructor=Ut,Ut.prototype.__class__=Ut,Ut.__cache__={},d.Frame=Ut,Ut.prototype.GetLineWidth=Ut.prototype.GetLineWidth=function(){return Ta(this.ptr)},Ut.prototype.GetBpp=Ut.prototype.GetBpp=function(){return fl(this.ptr)},Ut.prototype.GetLines=Ut.prototype.GetLines=function(){return Ks(this.ptr)},Ut.prototype.GetMargin=Ut.prototype.GetMargin=function(){return Ma(this.ptr)},Ut.prototype.GetBytesPerLine=Ut.prototype.GetBytesPerLine=function(){return Hi(this.ptr)},Ut.prototype.GetFirstDirtyLine=Ut.prototype.GetFirstDirtyLine=function(){return Dr(this.ptr)},Ut.prototype.GetLastDirtyLine=Ut.prototype.GetLastDirtyLine=function(){return Md(this.ptr)},Ut.prototype.GetHasChanges=Ut.prototype.GetHasChanges=function(){return!!jr(this.ptr)},Ut.prototype.GetBuffer=Ut.prototype.GetBuffer=function(){return Mt(xo(this.ptr),Pn)},Ut.prototype.GetBufferSize=Ut.prototype.GetBufferSize=function(){return pl(this.ptr)},Ut.prototype.GetScaleX=Ut.prototype.GetScaleX=function(){return xa(this.ptr)},Ut.prototype.GetScaleY=Ut.prototype.GetScaleY=function(){return Aa(this.ptr)},Ut.prototype.__destroy__=Ut.prototype.__destroy__=function(){Ao(this.ptr)},(Dn.prototype=Object.create(mt.prototype)).constructor=Dn,Dn.prototype.__class__=Dn,Dn.__cache__={},d.DbBackup=Dn,Dn.prototype.Init=Dn.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!xd(this.ptr,l)},Dn.prototype.IsInProgress=Dn.prototype.IsInProgress=function(){return!!lh(this.ptr)},Dn.prototype.IsDone=Dn.prototype.IsDone=function(){return!!Ad(this.ptr)},Dn.prototype.GetCurrentDatabase=Dn.prototype.GetCurrentDatabase=function(){return Ee(kd(this.ptr))},Dn.prototype.Save=Dn.prototype.Save=function(){return!!ch(this.ptr)},Dn.prototype.Skip=Dn.prototype.Skip=function(){uh(this.ptr)},Dn.prototype.GetArchivePtr=Dn.prototype.GetArchivePtr=function(){return Mt(dh(this.ptr),Pn)},Dn.prototype.GetArchiveSize=Dn.prototype.GetArchiveSize=function(){return fh(this.ptr)},Dn.prototype.__destroy__=Dn.prototype.__destroy__=function(){ph(this.ptr)},(Wn.prototype=Object.create(mt.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},d.SuspendContextClipboardCopy=Wn,Wn.prototype.Cancel=Wn.prototype.Cancel=function(){hh(this.ptr)},Wn.prototype.Resume=Wn.prototype.Resume=function(){mh(this.ptr)},Wn.prototype.GetClipboardContent=Wn.prototype.GetClipboardContent=function(){return Ee(gh(this.ptr))},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){yh(this.ptr)},(Hn.prototype=Object.create(mt.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},d.SuspendContextClipboardPaste=Hn,Hn.prototype.Cancel=Hn.prototype.Cancel=function(){vh(this.ptr)},Hn.prototype.Resume=Hn.prototype.Resume=function(l){var f=this.ptr;Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),_h(f,l)},Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){bh(this.ptr)},(no.prototype=Object.create(mt.prototype)).constructor=no,no.prototype.__class__=no,no.__cache__={},d.SuspendContextNetworkConnect=no,no.prototype.Cancel=no.prototype.Cancel=function(){Ch(this.ptr)},no.prototype.Resume=no.prototype.Resume=function(l){var f=this.ptr;Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),Sh(f,l)},no.prototype.__destroy__=no.prototype.__destroy__=function(){Rc(this.ptr)},(ir.prototype=Object.create(mt.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},d.SuspendContextNetworkRpc=ir,ir.prototype.Cancel=ir.prototype.Cancel=function(){hl(this.ptr)},ir.prototype.GetRequestSize=ir.prototype.GetRequestSize=function(){return wh(this.ptr)},ir.prototype.GetRequestData=ir.prototype.GetRequestData=function(){return Mt(Dh(this.ptr),Pn)},ir.prototype.ReceiveResponse=ir.prototype.ReceiveResponse=function(l,f){l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),Eh(this.ptr,l,f)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){ji(this.ptr)},(jn.prototype=Object.create(mt.prototype)).constructor=jn,jn.prototype.__class__=jn,jn.__cache__={},d.SuspendContext=jn,jn.prototype.GetKind=jn.prototype.GetKind=function(){return Pd(this.ptr)},jn.prototype.Cancel=jn.prototype.Cancel=function(){Er(this.ptr)},jn.prototype.AsContextClipboardCopy=jn.prototype.AsContextClipboardCopy=function(){return Mt(Oc(this.ptr),Wn)},jn.prototype.AsContextClipboardPaste=jn.prototype.AsContextClipboardPaste=function(){return Mt(Rd(this.ptr),Hn)},jn.prototype.AsContextNetworkConnect=jn.prototype.AsContextNetworkConnect=function(){return Mt(Od(this.ptr),no)},jn.prototype.AsContextNetworkRpc=jn.prototype.AsContextNetworkRpc=function(){return Mt(Fc(this.ptr),ir)},jn.prototype.__destroy__=jn.prototype.__destroy__=function(){Nc(this.ptr)},(er.prototype=Object.create(mt.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},d.ZipfileWalker=er,er.prototype.GetState=er.prototype.GetState=function(){return ml(this.ptr)},er.prototype.Next=er.prototype.Next=function(){return Nd(this.ptr)},er.prototype.GetCurrentEntrySize=er.prototype.GetCurrentEntrySize=function(){return ho(this.ptr)},er.prototype.GetCurrentEntryName=er.prototype.GetCurrentEntryName=function(){return Ee(gl(this.ptr))},er.prototype.GetCurrentEntryContent=er.prototype.GetCurrentEntryContent=function(){return Mt(Ld(this.ptr),Pn)},er.prototype.__destroy__=er.prototype.__destroy__=function(){yl(this.ptr)},(Ct.prototype=Object.create(mt.prototype)).constructor=Ct,Ct.prototype.__class__=Ct,Ct.__cache__={},d.SessionImage=Ct,Ct.prototype.GetDeviceId=Ct.prototype.GetDeviceId=function(){return Ee(Ih(this.ptr))},Ct.prototype.SetDeviceId=Ct.prototype.SetDeviceId=function(l){var f=this.ptr;return Zt.prepare(),l=l&&"object"==typeof l?l.ptr:Fr(l),Mt(zn(f,l),Ct)},Ct.prototype.GetRomImage=Ct.prototype.GetRomImage=function(){return Mt(Bd(this.ptr),Pn)},Ct.prototype.GetRomImageSize=Ct.prototype.GetRomImageSize=function(){return Th(this.ptr)},Ct.prototype.SetRomImage=Ct.prototype.SetRomImage=function(l,f){return l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),Mt(ka(this.ptr,l,f),Ct)},Ct.prototype.GetMemoryImage=Ct.prototype.GetMemoryImage=function(){return Mt(mo(this.ptr),Pn)},Ct.prototype.GetMemoryImageSize=Ct.prototype.GetMemoryImageSize=function(){return Vd(this.ptr)},Ct.prototype.SetMemoryImage=Ct.prototype.SetMemoryImage=function(l,f){return l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),Mt(vl(this.ptr,l,f),Ct)},Ct.prototype.GetMetadata=Ct.prototype.GetMetadata=function(){return Mt(hs(this.ptr),Pn)},Ct.prototype.GetMetadataSize=Ct.prototype.GetMetadataSize=function(){return to(this.ptr)},Ct.prototype.SetMetadata=Ct.prototype.SetMetadata=function(l,f){return l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),Mt(Lc(this.ptr,l,f),Ct)},Ct.prototype.GetSavestate=Ct.prototype.GetSavestate=function(){return Mt(_l(this.ptr),Pn)},Ct.prototype.GetSavestateSize=Ct.prototype.GetSavestateSize=function(){return Hd(this.ptr)},Ct.prototype.SetSavestate=Ct.prototype.SetSavestate=function(l,f){return l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),Mt(bi(this.ptr,l,f),Ct)},Ct.prototype.GetVersion=Ct.prototype.GetVersion=function(){return $c(this.ptr)},Ct.prototype.Serialize=Ct.prototype.Serialize=function(){return!!bl(this.ptr)},Ct.prototype.GetSerializedImage=Ct.prototype.GetSerializedImage=function(){return Mt(Nt(this.ptr),Pn)},Ct.prototype.GetSerializedImageSize=Ct.prototype.GetSerializedImageSize=function(){return Bc(this.ptr)},Ct.prototype.Deserialize=Ct.prototype.Deserialize=function(l,f){return l&&"object"==typeof l&&(l=l.ptr),f&&"object"==typeof f&&(f=f.ptr),!!Mh(this.ptr,l,f)},Ct.prototype.__destroy__=Ct.prototype.__destroy__=function(){jd(this.ptr)},_.ready});Se.exports=Me},2597:(Se,Me,D)=>{"use strict";D.d(Me,{c:()=>me});var _=D(9158);let d;const U=V=>V.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),R=V=>{if(void 0===d){const ie=void 0!==V.style.webkitAnimationName;d=void 0===V.style.animationName&&ie?"-webkit-":""}return d},$=(V,ee,ie)=>{const Z=ee.startsWith("animation")?R(V):"";V.style.setProperty(Z+ee,ie)},A=(V,ee)=>{const ie=ee.startsWith("animation")?R(V):"";V.style.removeProperty(ie+ee)},N=[],M=(V=[],ee)=>{if(void 0!==ee){const ie=Array.isArray(ee)?ee:[ee];return[...V,...ie]}return V},me=V=>{let ee,ie,Z,Q,ve,Y,xe,Ie,W,L,k,Fe,Oe,Pe=[],ne=[],ae=[],de=!1,Ee={},pe=[],B=[],Ae={},$e=0,qe=!1,st=!1,K=!0,fe=!1,be=!0,Ne=!1;const dt=V,vt=[],rn=[],Tt=[],X=[],Ar=[],Yn=[],Cn=[],Yr=[],Br=[],rr=[],ar="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Xn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ar,qo=()=>rr,Vr=(w,O)=>((O?.oneTimeCallback?rn:vt).push({c:w,o:O}),Oe),Qr=()=>{if(Xn)rr.forEach(w=>{w.cancel()}),rr.length=0;else{const w=Tt.slice();(0,_.r)(()=>{w.forEach(O=>{A(O,"animation-name"),A(O,"animation-duration"),A(O,"animation-timing-function"),A(O,"animation-iteration-count"),A(O,"animation-delay"),A(O,"animation-play-state"),A(O,"animation-fill-mode"),A(O,"animation-direction")})})}},Oi=()=>{Ar.forEach(w=>{w?.parentNode&&w.parentNode.removeChild(w)}),Ar.length=0},dr=()=>void 0!==ve?ve:xe?xe.getFill():"both",xn=()=>void 0!==W?W:void 0!==Y?Y:xe?xe.getDirection():"normal",on=()=>qe?"linear":void 0!==Z?Z:xe?xe.getEasing():"linear",yt=()=>st?0:void 0!==L?L:void 0!==ie?ie:xe?xe.getDuration():0,Vn=()=>void 0!==Q?Q:xe?xe.getIterations():1,v=()=>void 0!==k?k:void 0!==ee?ee:xe?xe.getDelay():0,Gn=()=>{0!==$e&&($e--,0===$e&&((()=>{Xo(),Yr.forEach(Re=>Re()),Br.forEach(Re=>Re());const w=K?1:0,O=pe,H=B,_e=Ae;Tt.forEach(Re=>{const Le=Re.classList;O.forEach(ot=>Le.add(ot)),H.forEach(ot=>Le.remove(ot));for(const ot in _e)_e.hasOwnProperty(ot)&&$(Re,ot,_e[ot])}),vt.forEach(Re=>Re.c(w,Oe)),rn.forEach(Re=>Re.c(w,Oe)),rn.length=0,be=!0,K&&(fe=!0),K=!0})(),xe&&xe.animationFinish()))},Ko=(w=!0)=>{Oi();const O=(V=>(V.forEach(ee=>{for(const ie in ee)if(ee.hasOwnProperty(ie)){const Z=ee[ie];if("easing"===ie)ee["animation-timing-function"]=Z,delete ee[ie];else{const Q=U(ie);Q!==ie&&(ee[Q]=Z,delete ee[ie])}}}),V))(Pe);Tt.forEach(H=>{if(O.length>0){const _e=((V=[])=>V.map(ee=>{const ie=ee.offset,Z=[];for(const Q in ee)ee.hasOwnProperty(Q)&&"offset"!==Q&&Z.push(`${Q}: ${ee[Q]};`);return`${100*ie}% { ${Z.join(" ")} }`}).join(" "))(O);Fe=void 0!==V?V:(V=>{let ee=N.indexOf(V);return ee<0&&(ee=N.push(V)-1),`ion-animation-${ee}`})(_e);const Re=((V,ee,ie)=>{const Z=(V=>{const ee=V.getRootNode();return ee.head||ee})(ie),Q=R(ie),ve=Z.querySelector("#"+V);if(ve)return ve;const Y=(ie.ownerDocument||document).createElement("style");return Y.id=V,Y.textContent=`@${Q}keyframes ${V} { ${ee} } @${Q}keyframes ${V}-alt { ${ee} }`,Z.appendChild(Y),Y})(Fe,_e,H);Ar.push(Re),$(H,"animation-duration",`${yt()}ms`),$(H,"animation-timing-function",on()),$(H,"animation-delay",`${v()}ms`),$(H,"animation-fill-mode",dr()),$(H,"animation-direction",xn());const Le=Vn()===1/0?"infinite":Vn().toString();$(H,"animation-iteration-count",Le),$(H,"animation-play-state","paused"),w&&$(H,"animation-name",`${Re.id}-alt`),(0,_.r)(()=>{$(H,"animation-name",Re.id||null)})}})},ss=(w=!0)=>{(()=>{Yn.forEach(_e=>_e()),Cn.forEach(_e=>_e());const w=ne,O=ae,H=Ee;Tt.forEach(_e=>{const Re=_e.classList;w.forEach(Le=>Re.add(Le)),O.forEach(Le=>Re.remove(Le));for(const Le in H)H.hasOwnProperty(Le)&&$(_e,Le,H[Le])})})(),Pe.length>0&&(Xn?(Tt.forEach(w=>{const O=w.animate(Pe,{id:dt,delay:v(),duration:yt(),easing:on(),iterations:Vn(),fill:dr(),direction:xn()});O.pause(),rr.push(O)}),rr.length>0&&(rr[0].onfinish=()=>{Gn()})):Ko(w)),de=!0},yi=w=>{if(w=Math.min(Math.max(w,0),.9999),Xn)rr.forEach(O=>{O.currentTime=O.effect.getComputedTiming().delay+yt()*w,O.pause()});else{const O=`-${yt()*w}ms`;Tt.forEach(H=>{Pe.length>0&&($(H,"animation-delay",O),$(H,"animation-play-state","paused"))})}},as=w=>{rr.forEach(O=>{O.effect.updateTiming({delay:v(),duration:yt(),easing:on(),iterations:Vn(),fill:dr(),direction:xn()})}),void 0!==w&&yi(w)},Eo=(w=!0,O)=>{(0,_.r)(()=>{Tt.forEach(H=>{$(H,"animation-name",Fe||null),$(H,"animation-duration",`${yt()}ms`),$(H,"animation-timing-function",on()),$(H,"animation-delay",void 0!==O?`-${O*yt()}ms`:`${v()}ms`),$(H,"animation-fill-mode",dr()||null),$(H,"animation-direction",xn()||null);const _e=Vn()===1/0?"infinite":Vn().toString();$(H,"animation-iteration-count",_e),w&&$(H,"animation-name",`${Fe}-alt`),(0,_.r)(()=>{$(H,"animation-name",Fe||null)})})})},Sr=(w=!1,O=!0,H)=>(w&&X.forEach(_e=>{_e.update(w,O,H)}),Xn?as(H):Eo(O,H),Oe),yn=()=>{de&&(Xn?rr.forEach(w=>{w.pause()}):Tt.forEach(w=>{$(w,"animation-play-state","paused")}),Ne=!0)},ls=()=>{Ie=void 0,Gn()},Xo=()=>{Ie&&clearTimeout(Ie)},Gs=w=>new Promise(O=>{w?.sync&&(st=!0,Vr(()=>st=!1,{oneTimeCallback:!0})),de||ss(),fe&&(Xn?(yi(0),as()):Eo(),fe=!1),be&&($e=X.length+1,be=!1),Vr(()=>O(),{oneTimeCallback:!0}),X.forEach(H=>{H.play()}),Xn?(rr.forEach(w=>{w.play()}),(0===Pe.length||0===Tt.length)&&Gn()):(()=>{if(Xo(),(0,_.r)(()=>{Tt.forEach(w=>{Pe.length>0&&$(w,"animation-play-state","running")})}),0===Pe.length||0===Tt.length)Gn();else{const w=v()||0,O=yt()||0,H=Vn()||1;isFinite(H)&&(Ie=setTimeout(ls,w+O*H+100)),((V,ee)=>{let ie;const Z={passive:!0},ve=Y=>{V===Y.target&&(ie&&ie(),Xo(),(0,_.r)(()=>{Tt.forEach(w=>{A(w,"animation-duration"),A(w,"animation-delay"),A(w,"animation-play-state")}),(0,_.r)(Gn)}))};V&&(V.addEventListener("webkitAnimationEnd",ve,Z),V.addEventListener("animationend",ve,Z),ie=()=>{V.removeEventListener("webkitAnimationEnd",ve,Z),V.removeEventListener("animationend",ve,Z)})})(Tt[0])}})(),Ne=!1}),I=(w,O)=>{const H=Pe[0];return void 0===H||void 0!==H.offset&&0!==H.offset?Pe=[{offset:0,[w]:O},...Pe]:H[w]=O,Oe};return Oe={parentAnimation:xe,elements:Tt,childAnimations:X,id:dt,animationFinish:Gn,from:I,to:(w,O)=>{const H=Pe[Pe.length-1];return void 0===H||void 0!==H.offset&&1!==H.offset?Pe=[...Pe,{offset:1,[w]:O}]:H[w]=O,Oe},fromTo:(w,O,H)=>I(w,O).to(w,H),parent:w=>(xe=w,Oe),play:Gs,pause:()=>(X.forEach(w=>{w.pause()}),yn(),Oe),stop:()=>{X.forEach(w=>{w.stop()}),de&&(Qr(),de=!1),qe=!1,st=!1,be=!0,W=void 0,L=void 0,k=void 0,$e=0,fe=!1,K=!0,Ne=!1},destroy:w=>(X.forEach(O=>{O.destroy(w)}),(w=>{Qr(),w&&Oi()})(w),Tt.length=0,X.length=0,Pe.length=0,vt.length=0,rn.length=0,de=!1,be=!0,Oe),keyframes:w=>{const O=Pe!==w;return Pe=w,O&&(w=>{Xn?qo().forEach(O=>{if(O.effect.setKeyframes)O.effect.setKeyframes(w);else{const H=new KeyframeEffect(O.effect.target,w,O.effect.getTiming());O.effect=H}}):Ko()})(Pe),Oe},addAnimation:w=>{if(null!=w)if(Array.isArray(w))for(const O of w)O.parent(Oe),X.push(O);else w.parent(Oe),X.push(w);return Oe},addElement:w=>{if(null!=w)if(1===w.nodeType)Tt.push(w);else if(w.length>=0)for(let O=0;O<w.length;O++)Tt.push(w[O]);else console.error("Invalid addElement value");return Oe},update:Sr,fill:w=>(ve=w,Sr(!0),Oe),direction:w=>(Y=w,Sr(!0),Oe),iterations:w=>(Q=w,Sr(!0),Oe),duration:w=>(!Xn&&0===w&&(w=1),ie=w,Sr(!0),Oe),easing:w=>(Z=w,Sr(!0),Oe),delay:w=>(ee=w,Sr(!0),Oe),getWebAnimations:qo,getKeyframes:()=>Pe,getFill:dr,getDirection:xn,getDelay:v,getIterations:Vn,getEasing:on,getDuration:yt,afterAddRead:w=>(Yr.push(w),Oe),afterAddWrite:w=>(Br.push(w),Oe),afterClearStyles:(w=[])=>{for(const O of w)Ae[O]="";return Oe},afterStyles:(w={})=>(Ae=w,Oe),afterRemoveClass:w=>(B=M(B,w),Oe),afterAddClass:w=>(pe=M(pe,w),Oe),beforeAddRead:w=>(Yn.push(w),Oe),beforeAddWrite:w=>(Cn.push(w),Oe),beforeClearStyles:(w=[])=>{for(const O of w)Ee[O]="";return Oe},beforeStyles:(w={})=>(Ee=w,Oe),beforeRemoveClass:w=>(ae=M(ae,w),Oe),beforeAddClass:w=>(ne=M(ne,w),Oe),onFinish:Vr,isRunning:()=>0!==$e&&!Ne,progressStart:(w=!1,O)=>(X.forEach(H=>{H.progressStart(w,O)}),yn(),qe=w,de||ss(),Sr(!1,!0,O),Oe),progressStep:w=>(X.forEach(O=>{O.progressStep(w)}),yi(w),Oe),progressEnd:(w,O,H)=>(qe=!1,X.forEach(_e=>{_e.progressEnd(w,O,H)}),void 0!==H&&(L=H),fe=!1,K=!0,0===w?(W="reverse"===xn()?"normal":"reverse","reverse"===W&&(K=!1),Xn?(Sr(),yi(1-O)):(k=(1-O)*yt()*-1,Sr(!1,!1))):1===w&&(Xn?(Sr(),yi(O)):(k=O*yt()*-1,Sr(!1,!1))),void 0!==w&&(Vr(()=>{L=void 0,W=void 0,k=void 0},{oneTimeCallback:!0}),xe||Gs()),Oe)}}},607:(Se,Me,D)=>{"use strict";D.d(Me,{G:()=>R});class d{constructor(A,P,te,N,j){this.id=P,this.name=te,this.disableScroll=j,this.priority=1e6*N+P,this.ctrl=A}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const A=this.ctrl.capture(this.name,this.id,this.priority);return A&&this.disableScroll&&this.ctrl.disableScroll(this.id),A}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class G{constructor(A,P,te,N){this.id=P,this.disable=te,this.disableScroll=N,this.ctrl=A}block(){if(this.ctrl){if(this.disable)for(const A of this.disable)this.ctrl.disableGesture(A,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const A of this.disable)this.ctrl.enableGesture(A,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const U="backdrop-no-scroll",R=new class _{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(A){return new d(this,this.newID(),A.name,A.priority||0,!!A.disableScroll)}createBlocker(A={}){return new G(this,this.newID(),A.disable,!!A.disableScroll)}start(A,P,te){return this.canStart(A)?(this.requestedStart.set(P,te),!0):(this.requestedStart.delete(P),!1)}capture(A,P,te){if(!this.start(A,P,te))return!1;const N=this.requestedStart;let j=-1e4;if(N.forEach(T=>{j=Math.max(j,T)}),j===te){this.capturedId=P,N.clear();const T=new CustomEvent("ionGestureCaptured",{detail:{gestureName:A}});return document.dispatchEvent(T),!0}return N.delete(P),!1}release(A){this.requestedStart.delete(A),this.capturedId===A&&(this.capturedId=void 0)}disableGesture(A,P){let te=this.disabledGestures.get(A);void 0===te&&(te=new Set,this.disabledGestures.set(A,te)),te.add(P)}enableGesture(A,P){const te=this.disabledGestures.get(A);void 0!==te&&te.delete(P)}disableScroll(A){this.disabledScroll.add(A),1===this.disabledScroll.size&&document.body.classList.add(U)}enableScroll(A){this.disabledScroll.delete(A),0===this.disabledScroll.size&&document.body.classList.remove(U)}canStart(A){return!(void 0!==this.capturedId||this.isDisabled(A))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(A){const P=this.disabledGestures.get(A);return!!(P&&P.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Se,Me,D)=>{"use strict";D.r(Me),D.d(Me,{MENU_BACK_BUTTON_PRIORITY:()=>R,OVERLAY_BACK_BUTTON_PRIORITY:()=>U,blockHardwareBackButton:()=>d,startHardwareBackButton:()=>G});var _=D(3918);const d=()=>{document.addEventListener("backbutton",()=>{})},G=()=>{const $=document;let A=!1;$.addEventListener("backbutton",()=>{if(A)return;let P=0,te=[];const N=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(E,M){te.push({priority:E,handler:M,id:P++})}}});$.dispatchEvent(N);const j=function(){var E=(0,_.Z)(function*(M){try{if(M?.handler){const me=M.handler(T);null!=me&&(yield me)}}catch(me){console.error(me)}});return function(me){return E.apply(this,arguments)}}(),T=()=>{if(te.length>0){let E={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};te.forEach(M=>{M.priority>=E.priority&&(E=M)}),A=!0,te=te.filter(M=>M.id!==E.id),j(E).then(()=>A=!1)}};T()})},U=100,R=99},9158:(Se,Me,D)=>{"use strict";D.d(Me,{a:()=>A,b:()=>P,c:()=>G,d:()=>M,e:()=>me,f:()=>E,g:()=>te,h:()=>ve,i:()=>$,j:()=>U,k:()=>T,l:()=>V,m:()=>j,n:()=>ee,o:()=>Q,p:()=>Z,q:()=>Y,r:()=>N,s:()=>Pe,t:()=>_,u:()=>ie});const _=(ne,ae=0)=>new Promise(de=>{d(ne,ae,de)}),d=(ne,ae=0,de)=>{let xe,Ee;const pe={passive:!0},Ae=()=>{xe&&xe()},$e=qe=>{(void 0===qe||ne===qe.target)&&(Ae(),de(qe))};return ne&&(ne.addEventListener("webkitTransitionEnd",$e,pe),ne.addEventListener("transitionend",$e,pe),Ee=setTimeout($e,ae+500),xe=()=>{Ee&&(clearTimeout(Ee),Ee=void 0),ne.removeEventListener("webkitTransitionEnd",$e,pe),ne.removeEventListener("transitionend",$e,pe)}),Ae},G=(ne,ae)=>{ne.componentOnReady?ne.componentOnReady().then(de=>ae(de)):N(()=>ae(ne))},U=(ne,ae=[])=>{const de={};return ae.forEach(xe=>{ne.hasAttribute(xe)&&(null!==ne.getAttribute(xe)&&(de[xe]=ne.getAttribute(xe)),ne.removeAttribute(xe))}),de},R=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],$=ne=>U(ne,R),A=(ne,ae,de,xe)=>{var Ee;if(typeof window<"u"){const B=null===(Ee=window?.Ionic)||void 0===Ee?void 0:Ee.config;if(B){const Ae=B.get("_ael");if(Ae)return Ae(ne,ae,de,xe);if(B._ael)return B._ael(ne,ae,de,xe)}}return ne.addEventListener(ae,de,xe)},P=(ne,ae,de,xe)=>{var Ee;if(typeof window<"u"){const B=null===(Ee=window?.Ionic)||void 0===Ee?void 0:Ee.config;if(B){const Ae=B.get("_rel");if(Ae)return Ae(ne,ae,de,xe);if(B._rel)return B._rel(ne,ae,de,xe)}}return ne.removeEventListener(ae,de,xe)},te=(ne,ae=ne)=>ne.shadowRoot||ae,N=ne=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ne):"function"==typeof requestAnimationFrame?requestAnimationFrame(ne):setTimeout(ne),j=ne=>!!ne.shadowRoot&&!!ne.attachShadow,T=ne=>{const ae=ne.closest("ion-item");return ae?ae.querySelector("ion-label"):null},E=ne=>{if(ne.focus(),ne.classList.contains("ion-focusable")){const ae=ne.closest("ion-app");ae&&ae.setFocus([ne])}},M=(ne,ae)=>{let de;const xe=ne.getAttribute("aria-labelledby"),Ee=ne.id;let pe=null!==xe&&""!==xe.trim()?xe:ae+"-lbl",B=null!==xe&&""!==xe.trim()?document.getElementById(xe):T(ne);return B?(null===xe&&(B.id=pe),de=B.textContent,B.setAttribute("aria-hidden","true")):""!==Ee.trim()&&(B=document.querySelector(`label[for="${Ee}"]`),B&&(""!==B.id?pe=B.id:B.id=pe=`${Ee}-lbl`,de=B.textContent)),{label:B,labelId:pe,labelText:de}},me=(ne,ae,de,xe,Ee)=>{if(ne||j(ae)){let pe=ae.querySelector("input.aux-input");pe||(pe=ae.ownerDocument.createElement("input"),pe.type="hidden",pe.classList.add("aux-input"),ae.appendChild(pe)),pe.disabled=Ee,pe.name=de,pe.value=xe||""}},V=(ne,ae,de)=>Math.max(ne,Math.min(ae,de)),ee=(ne,ae)=>{if(!ne){const de="ASSERT: "+ae;throw console.error(de),new Error(de)}},ie=ne=>ne.timeStamp||Date.now(),Z=ne=>{if(ne){const ae=ne.changedTouches;if(ae&&ae.length>0){const de=ae[0];return{x:de.clientX,y:de.clientY}}if(void 0!==ne.pageX)return{x:ne.pageX,y:ne.pageY}}return{x:0,y:0}},Q=ne=>{const ae="rtl"===document.dir;switch(ne){case"start":return ae;case"end":return!ae;default:throw new Error(`"${ne}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ve=(ne,ae)=>{const de=ne._original||ne;return{_original:ne,emit:Y(de.emit.bind(de),ae)}},Y=(ne,ae=0)=>{let de;return(...xe)=>{clearTimeout(de),de=setTimeout(ne,ae,...xe)}},Pe=(ne,ae)=>{if(ne??(ne={}),ae??(ae={}),ne===ae)return!0;const de=Object.keys(ne);if(de.length!==Object.keys(ae).length)return!1;for(const xe of de)if(!(xe in ae)||ne[xe]!==ae[xe])return!1;return!0}},2172:(Se,Me,D)=>{"use strict";D.r(Me),D.d(Me,{GESTURE_CONTROLLER:()=>_.G,createGesture:()=>te});var _=D(607);const d=(E,M,me,V)=>{const ee=G(E)?{capture:!!V.capture,passive:!!V.passive}:!!V.capture;let ie,Z;return E.__zone_symbol__addEventListener?(ie="__zone_symbol__addEventListener",Z="__zone_symbol__removeEventListener"):(ie="addEventListener",Z="removeEventListener"),E[ie](M,me,ee),()=>{E[Z](M,me,ee)}},G=E=>{if(void 0===U)try{const M=Object.defineProperty({},"passive",{get:()=>{U=!0}});E.addEventListener("optsTest",()=>{},M)}catch{U=!1}return!!U};let U;const A=E=>E instanceof Document?E:E.ownerDocument,te=E=>{let M=!1,me=!1,V=!0,ee=!1;const ie=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},E),Z=ie.canStart,Q=ie.onWillStart,ve=ie.onStart,Y=ie.onEnd,Pe=ie.notCaptured,ne=ie.onMove,ae=ie.threshold,de=ie.passive,xe=ie.blurOnStart,Ee={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},pe=((E,M,me)=>{const V=me*(Math.PI/180),ee="x"===E,ie=Math.cos(V),Z=M*M;let Q=0,ve=0,Y=!1,Pe=0;return{start(ne,ae){Q=ne,ve=ae,Pe=0,Y=!0},detect(ne,ae){if(!Y)return!1;const de=ne-Q,xe=ae-ve,Ee=de*de+xe*xe;if(Ee<Z)return!1;const pe=Math.sqrt(Ee),B=(ee?de:xe)/pe;return Pe=B>ie?1:B<-ie?-1:0,Y=!1,!0},isGesture:()=>0!==Pe,getDirection:()=>Pe}})(ie.direction,ie.threshold,ie.maxAngle),B=_.G.createGesture({name:E.gestureName,priority:E.gesturePriority,disableScroll:E.disableScroll}),qe=()=>{!M||(ee=!1,ne&&ne(Ee))},st=()=>!(B&&!B.capture()||(M=!0,V=!1,Ee.startX=Ee.currentX,Ee.startY=Ee.currentY,Ee.startTime=Ee.currentTime,Q?Q(Ee).then(W):W(),0)),W=()=>{xe&&(()=>{if(typeof document<"u"){const be=document.activeElement;be?.blur&&be.blur()}})(),ve&&ve(Ee),V=!0},L=()=>{M=!1,me=!1,ee=!1,V=!0,B.release()},k=be=>{const Fe=M,Oe=V;if(L(),Oe){if(N(Ee,be),Fe)return void(Y&&Y(Ee));Pe&&Pe(Ee)}},K=((E,M,me,V,ee)=>{let ie,Z,Q,ve,Y,Pe,ne,ae=0;const de=Ie=>{ae=Date.now()+2e3,M(Ie)&&(!Z&&me&&(Z=d(E,"touchmove",me,ee)),Q||(Q=d(Ie.target,"touchend",Ee,ee)),ve||(ve=d(Ie.target,"touchcancel",Ee,ee)))},xe=Ie=>{ae>Date.now()||!M(Ie)||(!Pe&&me&&(Pe=d(A(E),"mousemove",me,ee)),ne||(ne=d(A(E),"mouseup",pe,ee)))},Ee=Ie=>{B(),V&&V(Ie)},pe=Ie=>{Ae(),V&&V(Ie)},B=()=>{Z&&Z(),Q&&Q(),ve&&ve(),Z=Q=ve=void 0},Ae=()=>{Pe&&Pe(),ne&&ne(),Pe=ne=void 0},$e=()=>{B(),Ae()},qe=(Ie=!0)=>{Ie?(ie||(ie=d(E,"touchstart",de,ee)),Y||(Y=d(E,"mousedown",xe,ee))):(ie&&ie(),Y&&Y(),ie=Y=void 0,$e())};return{enable:qe,stop:$e,destroy:()=>{qe(!1),V=me=M=void 0}}})(ie.el,be=>{const Fe=T(be);return!(me||!V||(j(be,Ee),Ee.startX=Ee.currentX,Ee.startY=Ee.currentY,Ee.startTime=Ee.currentTime=Fe,Ee.velocityX=Ee.velocityY=Ee.deltaX=Ee.deltaY=0,Ee.event=be,Z&&!1===Z(Ee))||(B.release(),!B.start()))&&(me=!0,0===ae?st():(pe.start(Ee.startX,Ee.startY),!0))},be=>{M?!ee&&V&&(ee=!0,N(Ee,be),requestAnimationFrame(qe)):(N(Ee,be),pe.detect(Ee.currentX,Ee.currentY)&&(!pe.isGesture()||!st())&&fe())},k,{capture:!1,passive:de}),fe=()=>{L(),K.stop(),Pe&&Pe(Ee)};return{enable(be=!0){be||(M&&k(void 0),L()),K.enable(be)},destroy(){B.destroy(),K.destroy()}}},N=(E,M)=>{if(!M)return;const me=E.currentX,V=E.currentY,ee=E.currentTime;j(M,E);const ie=E.currentX,Z=E.currentY,ve=(E.currentTime=T(M))-ee;if(ve>0&&ve<100){const Pe=(Z-V)/ve;E.velocityX=(ie-me)/ve*.7+.3*E.velocityX,E.velocityY=.7*Pe+.3*E.velocityY}E.deltaX=ie-E.startX,E.deltaY=Z-E.startY,E.event=M},j=(E,M)=>{let me=0,V=0;if(E){const ee=E.changedTouches;if(ee&&ee.length>0){const ie=ee[0];me=ie.clientX,V=ie.clientY}else void 0!==E.pageX&&(me=E.pageX,V=E.pageY)}M.currentX=me,M.currentY=V},T=E=>E.timeStamp||Date.now()},4736:(Se,Me,D)=>{"use strict";D.d(Me,{L:()=>U,a:()=>R,b:()=>$,c:()=>A,d:()=>P,e:()=>ae,g:()=>Ee,l:()=>Pe,s:()=>de,t:()=>j});var _=D(3918),d=D(9479),G=D(9158);const U="ionViewWillEnter",R="ionViewDidEnter",$="ionViewWillLeave",A="ionViewDidLeave",P="ionViewWillUnload",j=pe=>new Promise((B,Ae)=>{(0,d.c)(()=>{T(pe),E(pe).then($e=>{$e.animation&&$e.animation.destroy(),M(pe),B($e)},$e=>{M(pe),Ae($e)})})}),T=pe=>{const B=pe.enteringEl,Ae=pe.leavingEl;xe(B,Ae,pe.direction),pe.showGoBack?B.classList.add("can-go-back"):B.classList.remove("can-go-back"),de(B,!1),B.style.setProperty("pointer-events","none"),Ae&&(de(Ae,!1),Ae.style.setProperty("pointer-events","none"))},E=function(){var pe=(0,_.Z)(function*(B){const Ae=yield me(B);return Ae&&d.B.isBrowser?V(Ae,B):ee(B)});return function(Ae){return pe.apply(this,arguments)}}(),M=pe=>{const B=pe.enteringEl,Ae=pe.leavingEl;B.classList.remove("ion-page-invisible"),B.style.removeProperty("pointer-events"),void 0!==Ae&&(Ae.classList.remove("ion-page-invisible"),Ae.style.removeProperty("pointer-events"))},me=function(){var pe=(0,_.Z)(function*(B){return B.leavingEl&&B.animated&&0!==B.duration?B.animationBuilder?B.animationBuilder:"ios"===B.mode?(yield Promise.resolve().then(D.bind(D,5794))).iosTransitionAnimation:(yield Promise.resolve().then(D.bind(D,932))).mdTransitionAnimation:void 0});return function(Ae){return pe.apply(this,arguments)}}(),V=function(){var pe=(0,_.Z)(function*(B,Ae){yield ie(Ae,!0);const $e=B(Ae.baseEl,Ae);ve(Ae.enteringEl,Ae.leavingEl);const qe=yield Q($e,Ae);return Ae.progressCallback&&Ae.progressCallback(void 0),qe&&Y(Ae.enteringEl,Ae.leavingEl),{hasCompleted:qe,animation:$e}});return function(Ae,$e){return pe.apply(this,arguments)}}(),ee=function(){var pe=(0,_.Z)(function*(B){const Ae=B.enteringEl,$e=B.leavingEl;return yield ie(B,!1),ve(Ae,$e),Y(Ae,$e),{hasCompleted:!0}});return function(Ae){return pe.apply(this,arguments)}}(),ie=function(){var pe=(0,_.Z)(function*(B,Ae){const qe=(void 0!==B.deepWait?B.deepWait:Ae)?[ae(B.enteringEl),ae(B.leavingEl)]:[ne(B.enteringEl),ne(B.leavingEl)];yield Promise.all(qe),yield Z(B.viewIsReady,B.enteringEl)});return function(Ae,$e){return pe.apply(this,arguments)}}(),Z=function(){var pe=(0,_.Z)(function*(B,Ae){B&&(yield B(Ae))});return function(Ae,$e){return pe.apply(this,arguments)}}(),Q=(pe,B)=>{const Ae=B.progressCallback,$e=new Promise(qe=>{pe.onFinish(st=>qe(1===st))});return Ae?(pe.progressStart(!0),Ae(pe)):pe.play(),$e},ve=(pe,B)=>{Pe(B,$),Pe(pe,U)},Y=(pe,B)=>{Pe(pe,R),Pe(B,A)},Pe=(pe,B)=>{if(pe){const Ae=new CustomEvent(B,{bubbles:!1,cancelable:!1});pe.dispatchEvent(Ae)}},ne=pe=>pe?new Promise(B=>(0,G.c)(pe,B)):Promise.resolve(),ae=function(){var pe=(0,_.Z)(function*(B){const Ae=B;if(Ae){if(null!=Ae.componentOnReady){if(null!=(yield Ae.componentOnReady()))return}else if(null!=Ae.__registerHost)return void(yield new Promise(qe=>(0,G.r)(qe)));yield Promise.all(Array.from(Ae.children).map(ae))}});return function(Ae){return pe.apply(this,arguments)}}(),de=(pe,B)=>{B?(pe.setAttribute("aria-hidden","true"),pe.classList.add("ion-page-hidden")):(pe.hidden=!1,pe.removeAttribute("aria-hidden"),pe.classList.remove("ion-page-hidden"))},xe=(pe,B,Ae)=>{void 0!==pe&&(pe.style.zIndex="back"===Ae?"99":"101"),void 0!==B&&(B.style.zIndex="100")},Ee=pe=>pe.classList.contains("ion-page")?pe:pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||pe},9479:(Se,Me,D)=>{"use strict";D.d(Me,{B:()=>Gs,H:()=>X,a:()=>fe,b:()=>fo,c:()=>Ni,e:()=>pn,f:()=>hn,g:()=>be,h:()=>rn,i:()=>en,j:()=>on,k:()=>Gn,p:()=>V,r:()=>ss,s:()=>M});var _=D(3918);let G,U,R,$=!1,A=!1,P=!1,te=!1,N=!1;const j=typeof window<"u"?window:{},T=j.document||{head:{}},E={$flags$:0,$resourcesUrl$:"",jmp:b=>b(),raf:b=>requestAnimationFrame(b),ael:(b,I,q,ce)=>b.addEventListener(I,q,ce),rel:(b,I,q,ce)=>b.removeEventListener(I,q,ce),ce:(b,I)=>new CustomEvent(b,I)},M=b=>{Object.assign(E,b)},V=b=>Promise.resolve(b),ee=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),ie=(b,I,q,ce)=>{q&&q.map(([w,O,H])=>{const _e=Q(b,w),Re=Z(I,H),Le=ve(w);E.ael(_e,O,Re,Le),(I.$rmListeners$=I.$rmListeners$||[]).push(()=>E.rel(_e,O,Re,Le))})},Z=(b,I)=>q=>{try{256&b.$flags$?b.$lazyInstance$[I](q):(b.$queuedListeners$=b.$queuedListeners$||[]).push([I,q])}catch(ce){Eo(ce)}},Q=(b,I)=>4&I?T:8&I?j:16&I?T.body:b,ve=b=>0!=(2&b),de="s-id",xe="sty-id",B="http://www.w3.org/1999/xlink",qe=new WeakMap,st=(b,I,q)=>{let ce=Yo.get(b);ee&&q?(ce=ce||new CSSStyleSheet,ce.replace(I)):ce=I,Yo.set(b,ce)},Ie=(b,I,q,ce)=>{let w=L(I,q);const O=Yo.get(w);if(b=11===b.nodeType?b:T,O)if("string"==typeof O){let _e,H=qe.get(b=b.head||b);H||qe.set(b,H=new Set),H.has(w)||(b.host&&(_e=b.querySelector(`[${xe}="${w}"]`))?_e.innerHTML=O:(_e=T.createElement("style"),_e.innerHTML=O,b.insertBefore(_e,b.querySelector("link"))),H&&H.add(w))}else b.adoptedStyleSheets.includes(O)||(b.adoptedStyleSheets=[...b.adoptedStyleSheets,O]);return w},L=(b,I)=>"sc-"+(I&&32&b.$flags$?b.$tagName$+"-"+I:b.$tagName$),k=b=>b.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),fe=b=>Us.push(b),be=b=>Cr(b).$modeName$,Fe={},vt=b=>"object"==(b=typeof b)||"function"===b,rn=(b,I,...q)=>{let ce=null,w=null,O=null,H=!1,_e=!1;const Re=[],Le=_t=>{for(let Dt=0;Dt<_t.length;Dt++)ce=_t[Dt],Array.isArray(ce)?Le(ce):null!=ce&&"boolean"!=typeof ce&&((H="function"!=typeof b&&!vt(ce))&&(ce=String(ce)),H&&_e?Re[Re.length-1].$text$+=ce:Re.push(H?Tt(null,ce):ce),_e=H)};if(Le(q),I){I.key&&(w=I.key),I.name&&(O=I.name);{const _t=I.className||I.class;_t&&(I.class="object"!=typeof _t?_t:Object.keys(_t).filter(Dt=>_t[Dt]).join(" "))}}if("function"==typeof b)return b(null===I?{}:I,Re,Yn);const ot=Tt(b,null);return ot.$attrs$=I,Re.length>0&&(ot.$children$=Re),ot.$key$=w,ot.$name$=O,ot},Tt=(b,I)=>({$flags$:0,$tag$:b,$text$:I,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),X={},Yn={forEach:(b,I)=>b.map(Cn).forEach(I),map:(b,I)=>b.map(Cn).map(I).map(Yr)},Cn=b=>({vattrs:b.$attrs$,vchildren:b.$children$,vkey:b.$key$,vname:b.$name$,vtag:b.$tag$,vtext:b.$text$}),Yr=b=>{if("function"==typeof b.vtag){const q=Object.assign({},b.vattrs);return b.vkey&&(q.key=b.vkey),b.vname&&(q.name=b.vname),rn(b.vtag,q,...b.vchildren||[])}const I=Tt(b.vtag,b.vtext);return I.$attrs$=b.vattrs,I.$children$=b.vchildren,I.$key$=b.vkey,I.$name$=b.vname,I},Br=(b,I,q,ce,w,O)=>{if(q!==ce){let H=as(b,I),_e=I.toLowerCase();if("class"===I){const Re=b.classList,Le=ar(q),ot=ar(ce);Re.remove(...Le.filter(_t=>_t&&!ot.includes(_t))),Re.add(...ot.filter(_t=>_t&&!Le.includes(_t)))}else if("style"===I){for(const Re in q)(!ce||null==ce[Re])&&(Re.includes("-")?b.style.removeProperty(Re):b.style[Re]="");for(const Re in ce)(!q||ce[Re]!==q[Re])&&(Re.includes("-")?b.style.setProperty(Re,ce[Re]):b.style[Re]=ce[Re])}else if("key"!==I)if("ref"===I)ce&&ce(b);else if(H||"o"!==I[0]||"n"!==I[1]){const Re=vt(ce);if((H||Re&&null!==ce)&&!w)try{if(b.tagName.includes("-"))b[I]=ce;else{const ot=ce??"";"list"===I?H=!1:(null==q||b[I]!=ot)&&(b[I]=ot)}}catch{}let Le=!1;_e!==(_e=_e.replace(/^xlink\:?/,""))&&(I=_e,Le=!0),null==ce||!1===ce?(!1!==ce||""===b.getAttribute(I))&&(Le?b.removeAttributeNS(B,I):b.removeAttribute(I)):(!H||4&O||w)&&!Re&&(ce=!0===ce?"":ce,Le?b.setAttributeNS(B,I,ce):b.setAttribute(I,ce))}else I="-"===I[2]?I.slice(3):as(j,_e)?_e.slice(2):_e[2]+I.slice(3),q&&E.rel(b,I,q,!1),ce&&E.ael(b,I,ce,!1)}},rr=/\s/,ar=b=>b?b.split(rr):[],Xn=(b,I,q,ce)=>{const w=11===I.$elm$.nodeType&&I.$elm$.host?I.$elm$.host:I.$elm$,O=b&&b.$attrs$||Fe,H=I.$attrs$||Fe;for(ce in O)ce in H||Br(w,ce,O[ce],void 0,q,I.$flags$);for(ce in H)Br(w,ce,O[ce],H[ce],q,I.$flags$)},co=(b,I,q,ce)=>{const w=I.$children$[q];let H,_e,Re,O=0;if($||(P=!0,"slot"===w.$tag$&&(G&&ce.classList.add(G+"-s"),w.$flags$|=w.$children$?2:1)),null!==w.$text$)H=w.$elm$=T.createTextNode(w.$text$);else if(1&w.$flags$)H=w.$elm$=T.createTextNode("");else{if(te||(te="svg"===w.$tag$),H=w.$elm$=T.createElementNS(te?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&w.$flags$?"slot-fb":w.$tag$),te&&"foreignObject"===w.$tag$&&(te=!1),Xn(null,w,te),(b=>null!=b)(G)&&H["s-si"]!==G&&H.classList.add(H["s-si"]=G),w.$children$)for(O=0;O<w.$children$.length;++O)_e=co(b,w,O,H),_e&&H.appendChild(_e);"svg"===w.$tag$?te=!1:"foreignObject"===H.tagName&&(te=!0)}return H["s-hn"]=R,3&w.$flags$&&(H["s-sr"]=!0,H["s-cr"]=U,H["s-sn"]=w.$name$||"",Re=b&&b.$children$&&b.$children$[q],Re&&Re.$tag$===w.$tag$&&b.$elm$&&qo(b.$elm$,!1)),H},qo=(b,I)=>{E.$flags$|=1;const q=b.childNodes;for(let ce=q.length-1;ce>=0;ce--){const w=q[ce];w["s-hn"]!==R&&w["s-ol"]&&(cr(w).insertBefore(w,Vr(w)),w["s-ol"].remove(),w["s-ol"]=void 0,P=!0),I&&qo(w,I)}E.$flags$&=-2},hi=(b,I,q,ce,w,O)=>{let _e,H=b["s-cr"]&&b["s-cr"].parentNode||b;for(H.shadowRoot&&H.tagName===R&&(H=H.shadowRoot);w<=O;++w)ce[w]&&(_e=co(null,q,w,b),_e&&(ce[w].$elm$=_e,H.insertBefore(_e,Vr(I))))},lr=(b,I,q,ce,w)=>{for(;I<=q;++I)(ce=b[I])&&(w=ce.$elm$,De(ce),A=!0,w["s-ol"]?w["s-ol"].remove():qo(w,!0),w.remove())},uo=(b,I)=>b.$tag$===I.$tag$&&("slot"===b.$tag$?b.$name$===I.$name$:b.$key$===I.$key$),Vr=b=>b&&b["s-ol"]||b,cr=b=>(b["s-ol"]?b["s-ol"]:b).parentNode,Qr=(b,I)=>{const q=I.$elm$=b.$elm$,ce=b.$children$,w=I.$children$,O=I.$tag$,H=I.$text$;let _e;null===H?(te="svg"===O||"foreignObject"!==O&&te,"slot"===O||Xn(b,I,te),null!==ce&&null!==w?((b,I,q,ce)=>{let Io,kr,w=0,O=0,H=0,_e=0,Re=I.length-1,Le=I[0],ot=I[Re],_t=ce.length-1,Dt=ce[0],Nn=ce[_t];for(;w<=Re&&O<=_t;)if(null==Le)Le=I[++w];else if(null==ot)ot=I[--Re];else if(null==Dt)Dt=ce[++O];else if(null==Nn)Nn=ce[--_t];else if(uo(Le,Dt))Qr(Le,Dt),Le=I[++w],Dt=ce[++O];else if(uo(ot,Nn))Qr(ot,Nn),ot=I[--Re],Nn=ce[--_t];else if(uo(Le,Nn))("slot"===Le.$tag$||"slot"===Nn.$tag$)&&qo(Le.$elm$.parentNode,!1),Qr(Le,Nn),b.insertBefore(Le.$elm$,ot.$elm$.nextSibling),Le=I[++w],Nn=ce[--_t];else if(uo(ot,Dt))("slot"===Le.$tag$||"slot"===Nn.$tag$)&&qo(ot.$elm$.parentNode,!1),Qr(ot,Dt),b.insertBefore(ot.$elm$,Le.$elm$),ot=I[--Re],Dt=ce[++O];else{for(H=-1,_e=w;_e<=Re;++_e)if(I[_e]&&null!==I[_e].$key$&&I[_e].$key$===Dt.$key$){H=_e;break}H>=0?(kr=I[H],kr.$tag$!==Dt.$tag$?Io=co(I&&I[O],q,H,b):(Qr(kr,Dt),I[H]=void 0,Io=kr.$elm$),Dt=ce[++O]):(Io=co(I&&I[O],q,O,b),Dt=ce[++O]),Io&&cr(Le.$elm$).insertBefore(Io,Vr(Le.$elm$))}w>Re?hi(b,null==ce[_t+1]?null:ce[_t+1].$elm$,q,ce,O,_t):O>_t&&lr(I,w,Re)})(q,ce,I,w):null!==w?(null!==b.$text$&&(q.textContent=""),hi(q,null,I,w,0,w.length-1)):null!==ce&&lr(ce,0,ce.length-1),te&&"svg"===O&&(te=!1)):(_e=q["s-cr"])?_e.parentNode.textContent=H:b.$text$!==H&&(q.data=H)},Oi=b=>{const I=b.childNodes;let q,ce,w,O,H,_e;for(ce=0,w=I.length;ce<w;ce++)if(q=I[ce],1===q.nodeType){if(q["s-sr"])for(H=q["s-sn"],q.hidden=!1,O=0;O<w;O++)if(_e=I[O].nodeType,I[O]["s-hn"]!==q["s-hn"]||""!==H){if(1===_e&&H===I[O].getAttribute("slot")){q.hidden=!0;break}}else if(1===_e||3===_e&&""!==I[O].textContent.trim()){q.hidden=!0;break}Oi(q)}},ur=[],Bt=b=>{let I,q,ce,w,O,H,_e=0;const Re=b.childNodes,Le=Re.length;for(;_e<Le;_e++){if(I=Re[_e],I["s-sr"]&&(q=I["s-cr"])&&q.parentNode)for(ce=q.parentNode.childNodes,w=I["s-sn"],H=ce.length-1;H>=0;H--)q=ce[H],!q["s-cn"]&&!q["s-nr"]&&q["s-hn"]!==I["s-hn"]&&(le(q,w)?(O=ur.find(ot=>ot.$nodeToRelocate$===q),A=!0,q["s-sn"]=q["s-sn"]||w,O?O.$slotRefNode$=I:ur.push({$slotRefNode$:I,$nodeToRelocate$:q}),q["s-sr"]&&ur.map(ot=>{le(ot.$nodeToRelocate$,q["s-sn"])&&(O=ur.find(_t=>_t.$nodeToRelocate$===q),O&&!ot.$slotRefNode$&&(ot.$slotRefNode$=O.$slotRefNode$))})):ur.some(ot=>ot.$nodeToRelocate$===q)||ur.push({$nodeToRelocate$:q}));1===I.nodeType&&Bt(I)}},le=(b,I)=>1===b.nodeType?null===b.getAttribute("slot")&&""===I||b.getAttribute("slot")===I:b["s-sn"]===I||""===I,De=b=>{b.$attrs$&&b.$attrs$.ref&&b.$attrs$.ref(null),b.$children$&&b.$children$.map(De)},en=b=>Cr(b).$hostElement$,pn=(b,I,q)=>{const ce=en(b);return{emit:w=>Ot(ce,I,{bubbles:!!(4&q),composed:!!(2&q),cancelable:!!(1&q),detail:w})}},Ot=(b,I,q)=>{const ce=E.ce(I,q);return b.dispatchEvent(ce),ce},vr=(b,I)=>{I&&!b.$onRenderResolve$&&I["s-p"]&&I["s-p"].push(new Promise(q=>b.$onRenderResolve$=q))},Ft=(b,I)=>{if(b.$flags$|=16,!(4&b.$flags$))return vr(b,b.$ancestorComponent$),Ni(()=>Qn(b,I));b.$flags$|=512},Qn=(b,I)=>{const ce=b.$lazyInstance$;let w;return I&&(b.$flags$|=256,b.$queuedListeners$&&(b.$queuedListeners$.map(([O,H])=>Vn(ce,O,H)),b.$queuedListeners$=null),w=Vn(ce,"componentWillLoad")),w=v(w,()=>Vn(ce,"componentWillRender")),v(w,()=>$n(b,ce,I))},$n=function(){var b=(0,_.Z)(function*(I,q,ce){const w=I.$hostElement$,H=w["s-rc"];ce&&(b=>{const I=b.$cmpMeta$,q=b.$hostElement$,ce=I.$flags$,O=Ie(q.shadowRoot?q.shadowRoot:q.getRootNode(),I,b.$modeName$);10&ce&&(q["s-sc"]=O,q.classList.add(O+"-h"),2&ce&&q.classList.add(O+"-s"))})(I);dr(I,q),H&&(H.map(Re=>Re()),w["s-rc"]=void 0);{const Re=w["s-p"],Le=()=>xn(I);0===Re.length?Le():(Promise.all(Re).then(Le),I.$flags$|=4,Re.length=0)}});return function(q,ce,w){return b.apply(this,arguments)}}(),dr=(b,I,q)=>{try{I=I.render&&I.render(),b.$flags$&=-17,b.$flags$|=2,((b,I)=>{const q=b.$hostElement$,ce=b.$cmpMeta$,w=b.$vnode$||Tt(null,null),O=(b=>b&&b.$tag$===X)(I)?I:rn(null,null,I);if(R=q.tagName,ce.$attrsToReflect$&&(O.$attrs$=O.$attrs$||{},ce.$attrsToReflect$.map(([H,_e])=>O.$attrs$[_e]=q[H])),O.$tag$=null,O.$flags$|=4,b.$vnode$=O,O.$elm$=w.$elm$=q.shadowRoot||q,G=q["s-sc"],U=q["s-cr"],$=0!=(1&ce.$flags$),A=!1,Qr(w,O),E.$flags$|=1,P){Bt(O.$elm$);let H,_e,Re,Le,ot,_t,Dt=0;for(;Dt<ur.length;Dt++)H=ur[Dt],_e=H.$nodeToRelocate$,_e["s-ol"]||(Re=T.createTextNode(""),Re["s-nr"]=_e,_e.parentNode.insertBefore(_e["s-ol"]=Re,_e));for(Dt=0;Dt<ur.length;Dt++)if(H=ur[Dt],_e=H.$nodeToRelocate$,H.$slotRefNode$){for(Le=H.$slotRefNode$.parentNode,ot=H.$slotRefNode$.nextSibling,Re=_e["s-ol"];Re=Re.previousSibling;)if(_t=Re["s-nr"],_t&&_t["s-sn"]===_e["s-sn"]&&Le===_t.parentNode&&(_t=_t.nextSibling,!_t||!_t["s-nr"])){ot=_t;break}(!ot&&Le!==_e.parentNode||_e.nextSibling!==ot)&&_e!==ot&&(!_e["s-hn"]&&_e["s-ol"]&&(_e["s-hn"]=_e["s-ol"].parentNode.nodeName),Le.insertBefore(_e,ot))}else 1===_e.nodeType&&(_e.hidden=!0)}A&&Oi(O.$elm$),E.$flags$&=-2,ur.length=0})(b,I)}catch(ce){Eo(ce,b.$hostElement$)}return null},xn=b=>{const q=b.$hostElement$,w=b.$lazyInstance$,O=b.$ancestorComponent$;Vn(w,"componentDidRender"),64&b.$flags$?Vn(w,"componentDidUpdate"):(b.$flags$|=64,fr(q),Vn(w,"componentDidLoad"),b.$onReadyResolve$(q),O||yt()),b.$onInstanceResolve$(q),b.$onRenderResolve$&&(b.$onRenderResolve$(),b.$onRenderResolve$=void 0),512&b.$flags$&&Qo(()=>Ft(b,!1)),b.$flags$&=-517},on=b=>{{const I=Cr(b),q=I.$hostElement$.isConnected;return q&&2==(18&I.$flags$)&&Ft(I,!1),q}},yt=b=>{fr(T.documentElement),Qo(()=>Ot(j,"appload",{detail:{namespace:"ionic"}}))},Vn=(b,I,q)=>{if(b&&b[I])try{return b[I](q)}catch(ce){Eo(ce)}},v=(b,I)=>b&&b.then?b.then(I):I(),fr=b=>b.classList.add("hydrated"),wo=(b,I,q,ce,w,O,H)=>{let _e,Re,Le,ot;if(1===O.nodeType){for(_e=O.getAttribute("c-id"),_e&&(Re=_e.split("."),(Re[0]===H||"0"===Re[0])&&(Le={$flags$:0,$hostId$:Re[0],$nodeId$:Re[1],$depth$:Re[2],$index$:Re[3],$tag$:O.tagName.toLowerCase(),$elm$:O,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},I.push(Le),O.removeAttribute("c-id"),b.$children$||(b.$children$=[]),b.$children$[Le.$index$]=Le,b=Le,ce&&"0"===Le.$depth$&&(ce[Le.$index$]=Le.$elm$))),ot=O.childNodes.length-1;ot>=0;ot--)wo(b,I,q,ce,w,O.childNodes[ot],H);if(O.shadowRoot)for(ot=O.shadowRoot.childNodes.length-1;ot>=0;ot--)wo(b,I,q,ce,w,O.shadowRoot.childNodes[ot],H)}else if(8===O.nodeType)Re=O.nodeValue.split("."),(Re[1]===H||"0"===Re[1])&&(_e=Re[0],Le={$flags$:0,$hostId$:Re[1],$nodeId$:Re[2],$depth$:Re[3],$index$:Re[4],$elm$:O,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===_e?(Le.$elm$=O.nextSibling,Le.$elm$&&3===Le.$elm$.nodeType&&(Le.$text$=Le.$elm$.textContent,I.push(Le),O.remove(),b.$children$||(b.$children$=[]),b.$children$[Le.$index$]=Le,ce&&"0"===Le.$depth$&&(ce[Le.$index$]=Le.$elm$))):Le.$hostId$===H&&("s"===_e?(Le.$tag$="slot",O["s-sn"]=Re[5]?Le.$name$=Re[5]:"",O["s-sr"]=!0,ce&&(Le.$elm$=T.createElement(Le.$tag$),Le.$name$&&Le.$elm$.setAttribute("name",Le.$name$),O.parentNode.insertBefore(Le.$elm$,O),O.remove(),"0"===Le.$depth$&&(ce[Le.$index$]=Le.$elm$)),q.push(Le),b.$children$||(b.$children$=[]),b.$children$[Le.$index$]=Le):"r"===_e&&(ce?O.remove():(w["s-cr"]=O,O["s-cn"]=!0))));else if(b&&"style"===b.$tag$){const _t=Tt(null,O.textContent);_t.$elm$=O,_t.$index$="0",b.$children$=[_t]}},Lo=(b,I)=>{if(1===b.nodeType){let q=0;for(;q<b.childNodes.length;q++)Lo(b.childNodes[q],I);if(b.shadowRoot)for(q=0;q<b.shadowRoot.childNodes.length;q++)Lo(b.shadowRoot.childNodes[q],I)}else if(8===b.nodeType){const q=b.nodeValue.split(".");"o"===q[0]&&(I.set(q[1]+"."+q[2],b),b.nodeValue="",b["s-en"]=q[3])}},Hr=(b,I,q)=>{if(I.$members$){b.watchers&&(I.$watchers$=b.watchers);const ce=Object.entries(I.$members$),w=b.prototype;if(ce.map(([O,[H]])=>{31&H||2&q&&32&H?Object.defineProperty(w,O,{get(){return((b,I)=>Cr(this).$instanceValues$.get(I))(0,O)},set(_e){((b,I,q,ce)=>{const w=Cr(b),O=w.$hostElement$,H=w.$instanceValues$.get(I),_e=w.$flags$,Re=w.$lazyInstance$;q=((b,I)=>null==b||vt(b)?b:4&I?"false"!==b&&(""===b||!!b):2&I?parseFloat(b):1&I?String(b):b)(q,ce.$members$[I][0]);const Le=Number.isNaN(H)&&Number.isNaN(q);if((!(8&_e)||void 0===H)&&q!==H&&!Le&&(w.$instanceValues$.set(I,q),Re)){if(ce.$watchers$&&128&_e){const _t=ce.$watchers$[I];_t&&_t.map(Dt=>{try{Re[Dt](q,H,I)}catch(Nn){Eo(Nn,O)}})}2==(18&_e)&&Ft(w,!1)}})(this,O,_e,I)},configurable:!0,enumerable:!0}):1&q&&64&H&&Object.defineProperty(w,O,{value(..._e){const Re=Cr(this);return Re.$onInstancePromise$.then(()=>Re.$lazyInstance$[O](..._e))}})}),1&q){const O=new Map;w.attributeChangedCallback=function(H,_e,Re){E.jmp(()=>{const Le=O.get(H);if(this.hasOwnProperty(Le))Re=this[Le],delete this[Le];else if(w.hasOwnProperty(Le)&&"number"==typeof this[Le]&&this[Le]==Re)return;this[Le]=(null!==Re||"boolean"!=typeof this[Le])&&Re})},b.observedAttributes=ce.filter(([H,_e])=>15&_e[0]).map(([H,_e])=>{const Re=_e[1]||H;return O.set(Re,H),512&_e[0]&&I.$attrsToReflect$.push([H,Re]),Re})}}return b},br=function(){var b=(0,_.Z)(function*(I,q,ce,w,O){if(0==(32&q.$flags$)){{if(q.$flags$|=32,(O=js(ce)).then){const Le=()=>{};O=yield O,Le()}O.isProxied||(ce.$watchers$=O.watchers,Hr(O,ce,2),O.isProxied=!0);const Re=()=>{};q.$flags$|=8;try{new O(q)}catch(Le){Eo(Le)}q.$flags$&=-9,q.$flags$|=128,Re(),mi(q.$lazyInstance$)}if(O.style){let Re=O.style;"string"!=typeof Re&&(Re=Re[q.$modeName$=(b=>Us.map(I=>I(b)).find(I=>!!I))(I)]);const Le=L(ce,q.$modeName$);if(!Yo.has(Le)){const ot=()=>{};st(Le,Re,!!(1&ce.$flags$)),ot()}}}const H=q.$ancestorComponent$,_e=()=>Ft(q,!0);H&&H["s-rc"]?H["s-rc"].push(_e):_e()});return function(q,ce,w,O,H){return b.apply(this,arguments)}}(),mi=b=>{Vn(b,"connectedCallback")},gi=b=>{const I=b["s-cr"]=T.createComment("");I["s-cn"]=!0,b.insertBefore(I,b.firstChild)},fo=(b,I={})=>{const ce=[],w=I.exclude||[],O=j.customElements,H=T.head,_e=H.querySelector("meta[charset]"),Re=T.createElement("style"),Le=[],ot=T.querySelectorAll(`[${xe}]`);let _t,Dt=!0,Nn=0;for(Object.assign(E,I),E.$resourcesUrl$=new URL(I.resourcesUrl||"./",T.baseURI).href,E.$flags$|=2;Nn<ot.length;Nn++)st(ot[Nn].getAttribute(xe),k(ot[Nn].innerHTML),!0);b.map(Io=>{Io[1].map(kr=>{const Jn={$flags$:kr[0],$tagName$:kr[1],$members$:kr[2],$listeners$:kr[3]};Jn.$members$=kr[2],Jn.$listeners$=kr[3],Jn.$attrsToReflect$=[],Jn.$watchers$={};const wa=Jn.$tagName$,Li=class extends HTMLElement{constructor(zs){super(zs),yi(zs=this,Jn),1&Jn.$flags$&&zs.attachShadow({mode:"open",delegatesFocus:!!(16&Jn.$flags$)})}connectedCallback(){_t&&(clearTimeout(_t),_t=null),Dt?Le.push(this):E.jmp(()=>(b=>{if(0==(1&E.$flags$)){const I=Cr(b),q=I.$cmpMeta$,ce=()=>{};if(1&I.$flags$)ie(b,I,q.$listeners$),mi(I.$lazyInstance$);else{let w;if(I.$flags$|=1,w=b.getAttribute(de),w){if(1&q.$flags$){const O=Ie(b.shadowRoot,q,b.getAttribute("s-mode"));b.classList.remove(O+"-h",O+"-s")}((b,I,q,ce)=>{const O=b.shadowRoot,H=[],Re=O?[]:null,Le=ce.$vnode$=Tt(I,null);E.$orgLocNodes$||Lo(T.body,E.$orgLocNodes$=new Map),b[de]=q,b.removeAttribute(de),wo(Le,H,[],Re,b,b,q),H.map(ot=>{const _t=ot.$hostId$+"."+ot.$nodeId$,Dt=E.$orgLocNodes$.get(_t),Nn=ot.$elm$;Dt&&""===Dt["s-en"]&&Dt.parentNode.insertBefore(Nn,Dt.nextSibling),O||(Nn["s-hn"]=I,Dt&&(Nn["s-ol"]=Dt,Nn["s-ol"]["s-nr"]=Nn)),E.$orgLocNodes$.delete(_t)}),O&&Re.map(ot=>{ot&&O.appendChild(ot)})})(b,q.$tagName$,w,I)}w||12&q.$flags$&&gi(b);{let O=b;for(;O=O.parentNode||O.host;)if(1===O.nodeType&&O.hasAttribute("s-id")&&O["s-p"]||O["s-p"]){vr(I,I.$ancestorComponent$=O);break}}q.$members$&&Object.entries(q.$members$).map(([O,[H]])=>{if(31&H&&b.hasOwnProperty(O)){const _e=b[O];delete b[O],b[O]=_e}}),Qo(()=>br(b,I,q))}ce()}})(this))}disconnectedCallback(){E.jmp(()=>(b=>{if(0==(1&E.$flags$)){const I=Cr(this),q=I.$lazyInstance$;I.$rmListeners$&&(I.$rmListeners$.map(ce=>ce()),I.$rmListeners$=void 0),Vn(q,"disconnectedCallback")}})())}componentOnReady(){return Cr(this).$onReadyPromise$}};Jn.$lazyBundleId$=Io[0],!w.includes(wa)&&!O.get(wa)&&(ce.push(wa),O.define(wa,Hr(Li,Jn,1)))})}),Re.innerHTML=ce+"{visibility:hidden}.hydrated{visibility:inherit}",Re.setAttribute("data-styles",""),H.insertBefore(Re,_e?_e.nextSibling:H.firstChild),Dt=!1,Le.length?Le.map(Io=>Io.connectedCallback()):E.jmp(()=>_t=setTimeout(yt,30))},Gn=b=>{const I=new URL(b,E.$resourcesUrl$);return I.origin!==j.location.origin?I.href:I.pathname},Ko=new WeakMap,Cr=b=>Ko.get(b),ss=(b,I)=>Ko.set(I.$lazyInstance$=b,I),yi=(b,I)=>{const q={$flags$:0,$hostElement$:b,$cmpMeta$:I,$instanceValues$:new Map};return q.$onInstancePromise$=new Promise(ce=>q.$onInstanceResolve$=ce),q.$onReadyPromise$=new Promise(ce=>q.$onReadyResolve$=ce),b["s-p"]=[],b["s-rc"]=[],ie(b,q,I.$listeners$),Ko.set(b,q)},as=(b,I)=>I in b,Eo=(b,I)=>(0,console.error)(b,I),Sr=new Map,js=(b,I,q)=>{const ce=b.$tagName$.replace(/-/g,"_"),w=b.$lazyBundleId$,O=Sr.get(w);return O?O[ce]:D(863)(`./${w}.entry.js`).then(H=>(Sr.set(w,H),H[ce]),Eo)},Yo=new Map,Us=[],yn=[],vi=[],ls=(b,I)=>q=>{b.push(q),N||(N=!0,I&&4&E.$flags$?Qo(un):E.raf(un))},Xo=b=>{for(let I=0;I<b.length;I++)try{b[I](performance.now())}catch(q){Eo(q)}b.length=0},un=()=>{Xo(yn),Xo(vi),(N=yn.length>0)&&E.raf(un)},Qo=b=>V().then(b),hn=ls(yn,!1),Ni=ls(vi,!0),Gs={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},9506:(Se,Me,D)=>{"use strict";D.d(Me,{m:()=>j});var _=D(3918),d=D(159),G=D(9158),U=D(537),R=D(2597);const $=T=>(0,R.c)().duration(T?400:300),A=T=>{let E,M;const me=T.width+8,V=(0,R.c)(),ee=(0,R.c)();T.isEndSide?(E=me+"px",M="0px"):(E=-me+"px",M="0px"),V.addElement(T.menuInnerEl).fromTo("transform",`translateX(${E})`,`translateX(${M})`);const Z="ios"===(0,U.b)(T),Q=Z?.2:.25;return ee.addElement(T.backdropEl).fromTo("opacity",.01,Q),$(Z).addAnimation([V,ee])},P=T=>{let E,M;const me=(0,U.b)(T),V=T.width;T.isEndSide?(E=-V+"px",M=V+"px"):(E=V+"px",M=-V+"px");const ee=(0,R.c)().addElement(T.menuInnerEl).fromTo("transform",`translateX(${M})`,"translateX(0px)"),ie=(0,R.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${E})`),Z=(0,R.c)().addElement(T.backdropEl).fromTo("opacity",.01,.32);return $("ios"===me).addAnimation([ee,ie,Z])},te=T=>{const E=(0,U.b)(T),M=T.width*(T.isEndSide?-1:1)+"px",me=(0,R.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${M})`);return $("ios"===E).addAnimation(me)},j=(()=>{const T=new Map,E=[],M=function(){var W=(0,_.Z)(function*(L){const k=yield ve(L);return!!k&&k.open()});return function(k){return W.apply(this,arguments)}}(),me=function(){var W=(0,_.Z)(function*(L){const k=yield void 0!==L?ve(L):Y();return void 0!==k&&k.close()});return function(k){return W.apply(this,arguments)}}(),V=function(){var W=(0,_.Z)(function*(L){const k=yield ve(L);return!!k&&k.toggle()});return function(k){return W.apply(this,arguments)}}(),ee=function(){var W=(0,_.Z)(function*(L,k){const K=yield ve(k);return K&&(K.disabled=!L),K});return function(k,K){return W.apply(this,arguments)}}(),ie=function(){var W=(0,_.Z)(function*(L,k){const K=yield ve(k);return K&&(K.swipeGesture=L),K});return function(k,K){return W.apply(this,arguments)}}(),Z=function(){var W=(0,_.Z)(function*(L){if(null!=L){const k=yield ve(L);return void 0!==k&&k.isOpen()}return void 0!==(yield Y())});return function(k){return W.apply(this,arguments)}}(),Q=function(){var W=(0,_.Z)(function*(L){const k=yield ve(L);return!!k&&!k.disabled});return function(k){return W.apply(this,arguments)}}(),ve=function(){var W=(0,_.Z)(function*(L){return yield Ie(),"start"===L||"end"===L?st(fe=>fe.side===L&&!fe.disabled)||st(fe=>fe.side===L):null!=L?st(K=>K.menuId===L):st(K=>!K.disabled)||(E.length>0?E[0].el:void 0)});return function(k){return W.apply(this,arguments)}}(),Y=function(){var W=(0,_.Z)(function*(){return yield Ie(),Ae()});return function(){return W.apply(this,arguments)}}(),Pe=function(){var W=(0,_.Z)(function*(){return yield Ie(),$e()});return function(){return W.apply(this,arguments)}}(),ne=function(){var W=(0,_.Z)(function*(){return yield Ie(),qe()});return function(){return W.apply(this,arguments)}}(),ae=(W,L)=>{T.set(W,L)},Ee=W=>{const L=W.side;E.filter(k=>k.side===L&&k!==W).forEach(k=>k.disabled=!0)},pe=function(){var W=(0,_.Z)(function*(L,k,K){if(qe())return!1;if(k){const fe=yield Y();fe&&L.el!==fe&&(yield fe.setOpen(!1,!1))}return L._setOpen(k,K)});return function(k,K,fe){return W.apply(this,arguments)}}(),Ae=()=>st(W=>W._isOpen),$e=()=>E.map(W=>W.el),qe=()=>E.some(W=>W.isAnimating),st=W=>{const L=E.find(W);if(void 0!==L)return L.el},Ie=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(W=>new Promise(L=>(0,G.c)(W,L))));return ae("reveal",te),ae("push",P),ae("overlay",A),typeof document<"u"&&document.addEventListener("ionBackButton",W=>{const L=Ae();L&&W.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>L.close())}),{registerAnimation:ae,get:ve,getMenus:Pe,getOpen:Y,isEnabled:Q,swipeGesture:ie,isAnimating:ne,isOpen:Z,enable:ee,toggle:V,close:me,open:M,_getOpenSync:Ae,_createAnimation:(W,L)=>{const k=T.get(W);if(!k)throw new Error("animation not registered");return k(L)},_register:W=>{E.indexOf(W)<0&&(W.disabled||Ee(W),E.push(W))},_unregister:W=>{const L=E.indexOf(W);L>-1&&E.splice(L,1)},_setOpen:pe,_setActiveMenu:Ee}})()},537:(Se,Me,D)=>{"use strict";D.d(Me,{a:()=>j,b:()=>qe,c:()=>G,g:()=>N,i:()=>st});var _=D(9479);class d{constructor(){this.m=new Map}reset(W){this.m=new Map(Object.entries(W))}get(W,L){const k=this.m.get(W);return void 0!==k?k:L}getBoolean(W,L=!1){const k=this.m.get(W);return void 0===k?L:"string"==typeof k?"true"===k:!!k}getNumber(W,L){const k=parseFloat(this.m.get(W));return isNaN(k)?void 0!==L?L:NaN:k}set(W,L){this.m.set(W,L)}}const G=new d,P="ionic:",te="ionic-persist-config",N=Ie=>T(Ie),j=(Ie,W)=>("string"==typeof Ie&&(W=Ie,Ie=void 0),N(Ie).includes(W)),T=(Ie=window)=>{if(typeof Ie>"u")return[];Ie.Ionic=Ie.Ionic||{};let W=Ie.Ionic.platforms;return null==W&&(W=Ie.Ionic.platforms=E(Ie),W.forEach(L=>Ie.document.documentElement.classList.add(`plt-${L}`))),W},E=Ie=>{const W=G.get("platform");return Object.keys(Ae).filter(L=>{const k=W?.[L];return"function"==typeof k?k(Ie):Ae[L](Ie)})},me=Ie=>!!(pe(Ie,/iPad/i)||pe(Ie,/Macintosh/i)&&Y(Ie)),ie=Ie=>pe(Ie,/android|sink/i),Y=Ie=>B(Ie,"(any-pointer:coarse)"),ne=Ie=>ae(Ie)||de(Ie),ae=Ie=>!!(Ie.cordova||Ie.phonegap||Ie.PhoneGap),de=Ie=>!!Ie.Capacitor?.isNative,pe=(Ie,W)=>W.test(Ie.navigator.userAgent),B=(Ie,W)=>{var L;return null===(L=Ie.matchMedia)||void 0===L?void 0:L.call(Ie,W).matches},Ae={ipad:me,iphone:Ie=>pe(Ie,/iPhone/i),ios:Ie=>pe(Ie,/iPhone|iPod/i)||me(Ie),android:ie,phablet:Ie=>{const W=Ie.innerWidth,L=Ie.innerHeight,k=Math.min(W,L),K=Math.max(W,L);return k>390&&k<520&&K>620&&K<800},tablet:Ie=>{const W=Ie.innerWidth,L=Ie.innerHeight,k=Math.min(W,L),K=Math.max(W,L);return me(Ie)||(Ie=>ie(Ie)&&!pe(Ie,/mobile/i))(Ie)||k>460&&k<820&&K>780&&K<1400},cordova:ae,capacitor:de,electron:Ie=>pe(Ie,/electron/i),pwa:Ie=>{var W;return!(!(null===(W=Ie.matchMedia)||void 0===W?void 0:W.call(Ie,"(display-mode: standalone)").matches)&&!Ie.navigator.standalone)},mobile:Y,mobileweb:Ie=>Y(Ie)&&!ne(Ie),desktop:Ie=>!Y(Ie),hybrid:ne};let $e;const qe=Ie=>Ie&&(0,_.g)(Ie)||$e,st=(Ie={})=>{if(typeof window>"u")return;const W=window.document,L=window,k=L.Ionic=L.Ionic||{},K={};Ie._ael&&(K.ael=Ie._ael),Ie._rel&&(K.rel=Ie._rel),Ie._ce&&(K.ce=Ie._ce),(0,_.s)(K);const fe=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ie=>{try{const W=Ie.sessionStorage.getItem(te);return null!==W?JSON.parse(W):{}}catch{return{}}})(L)),{persistConfig:!1}),k.config),(Ie=>{const W={};return Ie.location.search.slice(1).split("&").map(L=>L.split("=")).map(([L,k])=>[decodeURIComponent(L),decodeURIComponent(k)]).filter(([L])=>((Ie,W)=>Ie.substr(0,W.length)===W)(L,P)).map(([L,k])=>[L.slice(P.length),k]).forEach(([L,k])=>{W[L]=k}),W})(L)),Ie);G.reset(fe),G.getBoolean("persistConfig")&&((Ie,W)=>{try{Ie.sessionStorage.setItem(te,JSON.stringify(W))}catch{return}})(L,fe),T(L),k.config=G,k.mode=$e=G.get("mode",W.documentElement.getAttribute("mode")||(j(L,"ios")?"ios":"md")),G.set("mode",$e),W.documentElement.setAttribute("mode",$e),W.documentElement.classList.add($e),G.getBoolean("_testing")&&G.set("animated",!1);const be=Oe=>{var Ne;return null===(Ne=Oe.tagName)||void 0===Ne?void 0:Ne.startsWith("ION-")},Fe=Oe=>["ios","md"].includes(Oe);(0,_.a)(Oe=>{for(;Oe;){const Ne=Oe.mode||Oe.getAttribute("mode");if(Ne){if(Fe(Ne))return Ne;be(Oe)&&console.warn('Invalid ionic mode: "'+Ne+'", expected: "ios" or "md"')}Oe=Oe.parentElement}return $e})}},5794:(Se,Me,D)=>{"use strict";D.r(Me),D.d(Me,{iosTransitionAnimation:()=>T,shadow:()=>$});var _=D(2597),d=D(4736);D(9479);const R=E=>document.querySelector(`${E}.ion-cloned-element`),$=E=>E.shadowRoot||E,A=E=>{const M="ION-TABS"===E.tagName?E:E.querySelector("ion-tabs"),me="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=M){const V=M.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=V?V.querySelector(me):null}return E.querySelector(me)},P=(E,M)=>{const me="ION-TABS"===E.tagName?E:E.querySelector("ion-tabs");let V=[];if(null!=me){const ee=me.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ee&&(V=ee.querySelectorAll("ion-buttons"))}else V=E.querySelectorAll("ion-buttons");for(const ee of V){const ie=ee.closest("ion-header"),Z=ie&&!ie.classList.contains("header-collapse-condense-inactive"),Q=ee.querySelector("ion-back-button"),ve=ee.classList.contains("buttons-collapse"),Y="start"===ee.slot||""===ee.slot;if(null!==Q&&Y&&(ve&&Z&&M||!ve))return Q}return null},N=(E,M,me,V,ee,ie)=>{const Z=M?`calc(100% - ${ie.right+4}px)`:ie.left-4+"px",Q=M?"7px":"-7px",ve=M?"-4px":"4px",Y=M?"-4px":"4px",Pe=M?"right":"left",ne=M?"left":"right",xe=me?[{offset:0,opacity:1,transform:`translate3d(${ve}, ${ie.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Q}, ${ee.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Q}, ${ee.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${ve}, ${ie.top-46}px, 0) scale(1)`}],B=me?[{offset:0,opacity:1,transform:`translate3d(${Y}, ${ie.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Y}, ${ie.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Y}, ${ie.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Y}, ${ie.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Y}, ${ie.top-46}px, 0) scale(1)`}],Ae=(0,_.c)(),$e=(0,_.c)(),qe=R("ion-back-button"),st=$(qe).querySelector(".button-text"),Ie=$(qe).querySelector("ion-icon");qe.text=V.text,qe.mode=V.mode,qe.icon=V.icon,qe.color=V.color,qe.disabled=V.disabled,qe.style.setProperty("display","block"),qe.style.setProperty("position","fixed"),$e.addElement(Ie),Ae.addElement(st),Ae.beforeStyles({"transform-origin":`${Pe} center`}).beforeAddWrite(()=>{V.style.setProperty("display","none"),qe.style.setProperty(Pe,Z)}).afterAddWrite(()=>{V.style.setProperty("display",""),qe.style.setProperty("display","none"),qe.style.removeProperty(Pe)}).keyframes(xe),$e.beforeStyles({"transform-origin":`${ne} center`}).keyframes(B),E.addAnimation([Ae,$e])},j=(E,M,me,V,ee,ie)=>{const Z=M?`calc(100% - ${ee.right}px)`:`${ee.left}px`,Q=M?"-18px":"18px",ve=M?"right":"left",ne=me?[{offset:0,opacity:0,transform:`translate3d(${Q}, ${ie.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${ee.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${ee.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Q}, ${ie.top-4}px, 0) scale(0.5)`}],ae=R("ion-title"),de=(0,_.c)();ae.innerText=V.innerText,ae.size=V.size,ae.color=V.color,de.addElement(ae),de.beforeStyles({"transform-origin":`${ve} center`,height:"46px",display:"",position:"relative",[ve]:Z}).beforeAddWrite(()=>{V.style.setProperty("display","none")}).afterAddWrite(()=>{V.style.setProperty("display",""),ae.style.setProperty("display","none")}).keyframes(ne),E.addAnimation(de)},T=(E,M)=>{try{const me="cubic-bezier(0.32,0.72,0,1)",V="opacity",ee="transform",ie="0%",Q="rtl"===E.ownerDocument.dir,ve=Q?"-99.5%":"99.5%",Y=Q?"33%":"-33%",Pe=M.enteringEl,ne=M.leavingEl,ae="back"===M.direction,de=Pe.querySelector(":scope > ion-content"),xe=Pe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ee=Pe.querySelectorAll(":scope > ion-header > ion-toolbar"),pe=(0,_.c)(),B=(0,_.c)();if(pe.addElement(Pe).duration(M.duration||540).easing(M.easing||me).fill("both").beforeRemoveClass("ion-page-invisible"),ne&&E){const st=(0,_.c)();st.addElement(E),pe.addAnimation(st)}if(de||0!==Ee.length||0!==xe.length?(B.addElement(de),B.addElement(xe)):B.addElement(Pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),pe.addAnimation(B),ae?B.beforeClearStyles([V]).fromTo("transform",`translateX(${Y})`,`translateX(${ie})`).fromTo(V,.8,1):B.beforeClearStyles([V]).fromTo("transform",`translateX(${ve})`,`translateX(${ie})`),de){const st=$(de).querySelector(".transition-effect");if(st){const Ie=st.querySelector(".transition-cover"),W=st.querySelector(".transition-shadow"),L=(0,_.c)(),k=(0,_.c)(),K=(0,_.c)();L.addElement(st).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),k.addElement(Ie).beforeClearStyles([V]).fromTo(V,0,.1),K.addElement(W).beforeClearStyles([V]).fromTo(V,.03,.7),L.addAnimation([k,K]),B.addAnimation([L])}}const Ae=Pe.querySelector("ion-header.header-collapse-condense"),{forward:$e,backward:qe}=((E,M,me,V,ee)=>{const ie=P(V,me),Z=A(ee),Q=A(V),ve=P(ee,me),Y=null!==ie&&null!==Z&&!me,Pe=null!==Q&&null!==ve&&me;if(Y){const ne=Z.getBoundingClientRect(),ae=ie.getBoundingClientRect();j(E,M,me,Z,ne,ae),N(E,M,me,ie,ne,ae)}else if(Pe){const ne=Q.getBoundingClientRect(),ae=ve.getBoundingClientRect();j(E,M,me,Q,ne,ae),N(E,M,me,ve,ne,ae)}return{forward:Y,backward:Pe}})(pe,Q,ae,Pe,ne);if(Ee.forEach(st=>{const Ie=(0,_.c)();Ie.addElement(st),pe.addAnimation(Ie);const W=(0,_.c)();W.addElement(st.querySelector("ion-title"));const L=(0,_.c)(),k=Array.from(st.querySelectorAll("ion-buttons,[menuToggle]")),K=st.closest("ion-header"),fe=K?.classList.contains("header-collapse-condense-inactive");let be;be=k.filter(ae?vt=>{const rn=vt.classList.contains("buttons-collapse");return rn&&!fe||!rn}:vt=>!vt.classList.contains("buttons-collapse")),L.addElement(be);const Fe=(0,_.c)();Fe.addElement(st.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Oe=(0,_.c)();Oe.addElement($(st).querySelector(".toolbar-background"));const Ne=(0,_.c)(),dt=st.querySelector("ion-back-button");if(dt&&Ne.addElement(dt),Ie.addAnimation([W,L,Fe,Oe,Ne]),L.fromTo(V,.01,1),Fe.fromTo(V,.01,1),ae)fe||W.fromTo("transform",`translateX(${Y})`,`translateX(${ie})`).fromTo(V,.01,1),Fe.fromTo("transform",`translateX(${Y})`,`translateX(${ie})`),Ne.fromTo(V,.01,1);else if(Ae||W.fromTo("transform",`translateX(${ve})`,`translateX(${ie})`).fromTo(V,.01,1),Fe.fromTo("transform",`translateX(${ve})`,`translateX(${ie})`),Oe.beforeClearStyles([V,"transform"]),K?.translucent?Oe.fromTo("transform",Q?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Oe.fromTo(V,.01,"var(--opacity)"),$e||Ne.fromTo(V,.01,1),dt&&!$e){const rn=(0,_.c)();rn.addElement($(dt).querySelector(".button-text")).fromTo("transform",Q?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ie.addAnimation(rn)}}),ne){const st=(0,_.c)(),Ie=ne.querySelector(":scope > ion-content"),W=ne.querySelectorAll(":scope > ion-header > ion-toolbar"),L=ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ie||0!==W.length||0!==L.length?(st.addElement(Ie),st.addElement(L)):st.addElement(ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),pe.addAnimation(st),ae){st.beforeClearStyles([V]).fromTo("transform",`translateX(${ie})`,Q?"translateX(-100%)":"translateX(100%)");const k=(0,d.g)(ne);pe.afterAddWrite(()=>{"normal"===pe.getDirection()&&k.style.setProperty("display","none")})}else st.fromTo("transform",`translateX(${ie})`,`translateX(${Y})`).fromTo(V,1,.8);if(Ie){const k=$(Ie).querySelector(".transition-effect");if(k){const K=k.querySelector(".transition-cover"),fe=k.querySelector(".transition-shadow"),be=(0,_.c)(),Fe=(0,_.c)(),Oe=(0,_.c)();be.addElement(k).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Fe.addElement(K).beforeClearStyles([V]).fromTo(V,.1,0),Oe.addElement(fe).beforeClearStyles([V]).fromTo(V,.7,.03),be.addAnimation([Fe,Oe]),st.addAnimation([be])}}W.forEach(k=>{const K=(0,_.c)();K.addElement(k);const fe=(0,_.c)();fe.addElement(k.querySelector("ion-title"));const be=(0,_.c)(),Fe=k.querySelectorAll("ion-buttons,[menuToggle]"),Oe=k.closest("ion-header"),Ne=Oe?.classList.contains("header-collapse-condense-inactive"),dt=Array.from(Fe).filter(Yn=>{const Cn=Yn.classList.contains("buttons-collapse");return Cn&&!Ne||!Cn});be.addElement(dt);const vt=(0,_.c)(),rn=k.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");rn.length>0&&vt.addElement(rn);const Tt=(0,_.c)();Tt.addElement($(k).querySelector(".toolbar-background"));const X=(0,_.c)(),Ar=k.querySelector("ion-back-button");if(Ar&&X.addElement(Ar),K.addAnimation([fe,be,vt,X,Tt]),pe.addAnimation(K),X.fromTo(V,.99,0),be.fromTo(V,.99,0),vt.fromTo(V,.99,0),ae){if(Ne||fe.fromTo("transform",`translateX(${ie})`,Q?"translateX(-100%)":"translateX(100%)").fromTo(V,.99,0),vt.fromTo("transform",`translateX(${ie})`,Q?"translateX(-100%)":"translateX(100%)"),Tt.beforeClearStyles([V,"transform"]),Oe?.translucent?Tt.fromTo("transform","translateX(0px)",Q?"translateX(-100%)":"translateX(100%)"):Tt.fromTo(V,"var(--opacity)",0),Ar&&!qe){const Cn=(0,_.c)();Cn.addElement($(Ar).querySelector(".button-text")).fromTo("transform",`translateX(${ie})`,`translateX(${(Q?-124:124)+"px"})`),K.addAnimation(Cn)}}else Ne||fe.fromTo("transform",`translateX(${ie})`,`translateX(${Y})`).fromTo(V,.99,0).afterClearStyles([ee,V]),vt.fromTo("transform",`translateX(${ie})`,`translateX(${Y})`).afterClearStyles([ee,V]),X.afterClearStyles([V]),fe.afterClearStyles([V]),be.afterClearStyles([V])})}return pe}catch(me){throw me}}},932:(Se,Me,D)=>{"use strict";D.r(Me),D.d(Me,{mdTransitionAnimation:()=>U});var _=D(2597),d=D(4736);D(9479);const U=(R,$)=>{const te="back"===$.direction,j=$.leavingEl,T=(0,d.g)($.enteringEl),E=T.querySelector("ion-toolbar"),M=(0,_.c)();if(M.addElement(T).fill("both").beforeRemoveClass("ion-page-invisible"),te?M.duration($.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):M.duration($.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),E){const me=(0,_.c)();me.addElement(E),M.addAnimation(me)}if(j&&te){M.duration($.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const me=(0,_.c)();me.addElement((0,d.g)(j)).onFinish(V=>{1===V&&me.elements.length>0&&me.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),M.addAnimation(me)}return M}},9703:(Se,Me,D)=>{"use strict";D.d(Me,{B:()=>L,a:()=>P,b:()=>te,c:()=>E,d:()=>xe,e:()=>me,f:()=>pe,g:()=>$e,h:()=>$,i:()=>st,j:()=>ie,k:()=>ae,l:()=>N,m:()=>j,s:()=>W});var _=D(3918),d=D(537),G=D(159),U=D(9158);let R=0;const $=new WeakMap,A=k=>({create:K=>V(k,K),dismiss:(K,fe,be)=>Pe(document,K,fe,k,be),getTop:()=>(0,_.Z)(function*(){return ae(document,k)})()}),P=A("ion-alert"),te=A("ion-action-sheet"),N=A("ion-loading"),j=A("ion-modal"),E=A("ion-popover"),me=k=>{typeof document<"u"&&Y(document);const K=R++;k.overlayIndex=K,k.hasAttribute("id")||(k.id=`ion-overlay-${K}`)},V=(k,K)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(k).then(()=>{const fe=document.createElement(k);return fe.classList.add("overlay-hidden"),Object.assign(fe,Object.assign(Object.assign({},K),{hasController:!0})),B(document).appendChild(fe),new Promise(be=>(0,U.c)(fe,be))}):Promise.resolve(),ee='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',ie=(k,K)=>{let fe=k.querySelector(ee);const be=fe?.shadowRoot;be&&(fe=be.querySelector(ee)||fe),fe?(0,U.f)(fe):K.focus()},Q=(k,K)=>{const fe=Array.from(k.querySelectorAll(ee));let be=fe.length>0?fe[fe.length-1]:null;const Fe=be?.shadowRoot;Fe&&(be=Fe.querySelector(ee)||be),be?be.focus():K.focus()},Y=k=>{0===R&&(R=1,k.addEventListener("focus",K=>{((k,K)=>{const fe=ae(K,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),be=k.target;fe&&be&&!fe.classList.contains("ion-disable-focus-trap")&&(fe.shadowRoot?(()=>{if(fe.contains(be))fe.lastFocus=be;else{const Ne=fe.lastFocus;ie(fe,fe),Ne===K.activeElement&&Q(fe,fe),fe.lastFocus=K.activeElement}})():(()=>{if(fe===be)fe.lastFocus=void 0;else{const Ne=(0,U.g)(fe);if(!Ne.contains(be))return;const dt=Ne.querySelector(".ion-overlay-wrapper");if(!dt)return;if(dt.contains(be))fe.lastFocus=be;else{const vt=fe.lastFocus;ie(dt,fe),vt===K.activeElement&&Q(dt,fe),fe.lastFocus=K.activeElement}}})())})(K,k)},!0),k.addEventListener("ionBackButton",K=>{const fe=ae(k);fe?.backdropDismiss&&K.detail.register(G.OVERLAY_BACK_BUTTON_PRIORITY,()=>fe.dismiss(void 0,L))}),k.addEventListener("keyup",K=>{if("Escape"===K.key){const fe=ae(k);fe?.backdropDismiss&&fe.dismiss(void 0,L)}}))},Pe=(k,K,fe,be,Fe)=>{const Oe=ae(k,be,Fe);return Oe?Oe.dismiss(K,fe):Promise.reject("overlay does not exist")},ae=(k,K,fe)=>{const be=((k,K)=>(void 0===K&&(K="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(k.querySelectorAll(K)).filter(fe=>fe.overlayIndex>0)))(k,K).filter(Fe=>!(k=>k.classList.contains("overlay-hidden"))(Fe));return void 0===fe?be[be.length-1]:be.find(Fe=>Fe.id===fe)},de=(k=!1)=>{const fe=B(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!fe||(k?fe.setAttribute("aria-hidden","true"):fe.removeAttribute("aria-hidden"))},xe=function(){var k=(0,_.Z)(function*(K,fe,be,Fe,Oe){var Ne,dt;if(K.presented)return;de(!0),K.presented=!0,K.willPresent.emit(),null===(Ne=K.willPresentShorthand)||void 0===Ne||Ne.emit();const vt=(0,d.b)(K),rn=K.enterAnimation?K.enterAnimation:d.c.get(fe,"ios"===vt?be:Fe);(yield Ae(K,rn,K.el,Oe))&&(K.didPresent.emit(),null===(dt=K.didPresentShorthand)||void 0===dt||dt.emit()),"ION-TOAST"!==K.el.tagName&&Ee(K.el),K.keyboardClose&&(null===document.activeElement||!K.el.contains(document.activeElement))&&K.el.focus()});return function(fe,be,Fe,Oe,Ne){return k.apply(this,arguments)}}(),Ee=function(){var k=(0,_.Z)(function*(K){let fe=document.activeElement;if(!fe)return;const be=fe?.shadowRoot;be&&(fe=be.querySelector(ee)||fe),yield K.onDidDismiss(),fe.focus()});return function(fe){return k.apply(this,arguments)}}(),pe=function(){var k=(0,_.Z)(function*(K,fe,be,Fe,Oe,Ne,dt){var vt,rn;if(!K.presented)return!1;de(!1),K.presented=!1;try{K.el.style.setProperty("pointer-events","none"),K.willDismiss.emit({data:fe,role:be}),null===(vt=K.willDismissShorthand)||void 0===vt||vt.emit({data:fe,role:be});const Tt=(0,d.b)(K),X=K.leaveAnimation?K.leaveAnimation:d.c.get(Fe,"ios"===Tt?Oe:Ne);"gesture"!==be&&(yield Ae(K,X,K.el,dt)),K.didDismiss.emit({data:fe,role:be}),null===(rn=K.didDismissShorthand)||void 0===rn||rn.emit({data:fe,role:be}),$.delete(K),K.el.classList.add("overlay-hidden"),K.el.style.removeProperty("pointer-events")}catch(Tt){console.error(Tt)}return K.el.remove(),!0});return function(fe,be,Fe,Oe,Ne,dt,vt){return k.apply(this,arguments)}}(),B=k=>k.querySelector("ion-app")||k.body,Ae=function(){var k=(0,_.Z)(function*(K,fe,be,Fe){be.classList.remove("overlay-hidden");const Ne=fe(K.el,Fe);(!K.animated||!d.c.getBoolean("animated",!0))&&Ne.duration(0),K.keyboardClose&&Ne.beforeAddWrite(()=>{const vt=be.ownerDocument.activeElement;vt?.matches("input,ion-input, ion-textarea")&&vt.blur()});const dt=$.get(K)||[];return $.set(K,[...dt,Ne]),yield Ne.play(),!0});return function(fe,be,Fe,Oe){return k.apply(this,arguments)}}(),$e=(k,K)=>{let fe;const be=new Promise(Fe=>fe=Fe);return qe(k,K,Fe=>{fe(Fe.detail)}),be},qe=(k,K,fe)=>{const be=Fe=>{(0,U.b)(k,K,be),fe(Fe)};(0,U.a)(k,K,be)},st=k=>"cancel"===k||k===L,Ie=k=>k(),W=(k,K)=>{if("function"==typeof k)return d.c.get("_zoneGate",Ie)(()=>{try{return k(K)}catch(be){throw be}})},L="backdrop"},4263:(Se,Me,D)=>{"use strict";var _=D(9903),d=D(3855),G=d(_("String.prototype.indexOf"));Se.exports=function(R,$){var A=_(R,!!$);return"function"==typeof A&&G(R,".prototype.")>-1?d(A):A}},3855:(Se,Me,D)=>{"use strict";var _=D(224),d=D(9903),G=d("%Function.prototype.apply%"),U=d("%Function.prototype.call%"),R=d("%Reflect.apply%",!0)||_.call(U,G),$=d("%Object.getOwnPropertyDescriptor%",!0),A=d("%Object.defineProperty%",!0),P=d("%Math.max%");if(A)try{A({},"a",{value:1})}catch{A=null}Se.exports=function(j){var T=R(_,U,arguments);if($&&A){var E=$(T,"length");E.configurable&&A(T,"length",{value:1+P(0,j.length-(arguments.length-1))})}return T};var te=function(){return R(_,G,arguments)};A?A(Se.exports,"apply",{value:te}):Se.exports.apply=te},5107:Se=>{var Me={utf8:{stringToBytes:function(D){return Me.bin.stringToBytes(unescape(encodeURIComponent(D)))},bytesToString:function(D){return decodeURIComponent(escape(Me.bin.bytesToString(D)))}},bin:{stringToBytes:function(D){for(var _=[],d=0;d<D.length;d++)_.push(255&D.charCodeAt(d));return _},bytesToString:function(D){for(var _=[],d=0;d<D.length;d++)_.push(String.fromCharCode(D[d]));return _.join("")}}};Se.exports=Me},7175:Se=>{var Me,D;Me="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Se.exports=D={rotl:function(_,d){return _<<d|_>>>32-d},rotr:function(_,d){return _<<32-d|_>>>d},endian:function(_){if(_.constructor==Number)return 16711935&D.rotl(_,8)|4278255360&D.rotl(_,24);for(var d=0;d<_.length;d++)_[d]=D.endian(_[d]);return _},randomBytes:function(_){for(var d=[];_>0;_--)d.push(Math.floor(256*Math.random()));return d},bytesToWords:function(_){for(var d=[],G=0,U=0;G<_.length;G++,U+=8)d[U>>>5]|=_[G]<<24-U%32;return d},wordsToBytes:function(_){for(var d=[],G=0;G<32*_.length;G+=8)d.push(_[G>>>5]>>>24-G%32&255);return d},bytesToHex:function(_){for(var d=[],G=0;G<_.length;G++)d.push((_[G]>>>4).toString(16)),d.push((15&_[G]).toString(16));return d.join("")},hexToBytes:function(_){for(var d=[],G=0;G<_.length;G+=2)d.push(parseInt(_.substr(G,2),16));return d},bytesToBase64:function(_){for(var d=[],G=0;G<_.length;G+=3)for(var U=_[G]<<16|_[G+1]<<8|_[G+2],R=0;R<4;R++)d.push(8*G+6*R<=8*_.length?Me.charAt(U>>>6*(3-R)&63):"=");return d.join("")},base64ToBytes:function(_){_=_.replace(/[^A-Z0-9+\/]/gi,"");for(var d=[],G=0,U=0;G<_.length;U=++G%4)0!=U&&d.push((Me.indexOf(_.charAt(G-1))&Math.pow(2,-2*U+8)-1)<<2*U|Me.indexOf(_.charAt(G))>>>6-2*U);return d}}},5541:(Se,Me,D)=>{"use strict";var _=D(2093),d=D(9102),G=D(5734),U=D(6687),R=D(8704),$=D(8266),A=D(4666),P=D(2086),te=D(9903),N=D(4263),j=D(2107),T=D(2069),E=D(8432),M=D(5709),me=D(6189),V=N("Date.prototype.getTime"),ee=Object.getPrototypeOf,ie=N("Object.prototype.toString"),Z=te("%Set%",!0),Q=N("Map.prototype.has",!0),ve=N("Map.prototype.get",!0),Y=N("Map.prototype.size",!0),Pe=N("Set.prototype.add",!0),ne=N("Set.prototype.delete",!0),ae=N("Set.prototype.has",!0),de=N("Set.prototype.size",!0);function xe(L,k,K,fe){for(var Fe,be=T(L);(Fe=be.next())&&!Fe.done;)if($e(k,Fe.value,K,fe))return ne(L,Fe.value),!0;return!1}function Ee(L){return typeof L>"u"?null:"object"!=typeof L?"symbol"!=typeof L&&("string"!=typeof L&&"number"!=typeof L||+L==+L):void 0}function pe(L,k,K,fe,be,Fe){var Oe=Ee(K);if(null!=Oe)return Oe;var Ne=ve(k,Oe),dt=me({},be,{strict:!1});return!(typeof Ne>"u"&&!Q(k,Oe)||!$e(fe,Ne,dt,Fe))&&!Q(L,Oe)&&$e(fe,Ne,dt,Fe)}function B(L,k,K){var fe=Ee(K);return fe??(ae(k,fe)&&!ae(L,fe))}function Ae(L,k,K,fe,be,Fe){for(var Ne,dt,Oe=T(L);(Ne=Oe.next())&&!Ne.done;)if($e(K,dt=Ne.value,be,Fe)&&$e(fe,ve(k,dt),be,Fe))return ne(L,dt),!0;return!1}function $e(L,k,K,fe){var be=K||{};if(be.strict?G(L,k):L===k)return!0;if(P(L)!==P(k))return!1;if(!L||!k||"object"!=typeof L&&"object"!=typeof k)return be.strict?G(L,k):L==k;var vt,Ne=fe.has(L),dt=fe.has(k);if(Ne&&dt){if(fe.get(L)===fe.get(k))return!0}else vt={};return Ne||fe.set(L,vt),dt||fe.set(k,vt),function W(L,k,K,fe){var be,Fe;if(typeof L!=typeof k||null==L||null==k||ie(L)!==ie(k)||d(L)!==d(k))return!1;if($(L)!==$(k))return!1;var dt=L instanceof Error,vt=k instanceof Error;if(dt!==vt||(dt||vt)&&(L.name!==k.name||L.message!==k.message))return!1;var rn=U(L),Tt=U(k);if(rn!==Tt||(rn||Tt)&&(L.source!==k.source||R(L)!==R(k)))return!1;var X=A(L),Ar=A(k);if(X!==Ar||(X||Ar)&&V(L)!==V(k)||K.strict&&ee&&ee(L)!==ee(k)||M(L)!==M(k))return!1;var Yn=qe(L),Cn=qe(k);if(Yn!==Cn)return!1;if(Yn||Cn){if(L.length!==k.length)return!1;for(be=0;be<L.length;be++)if(L[be]!==k[be])return!1;return!0}if(typeof L!=typeof k)return!1;var Yr=_(L),Br=_(k);if(Yr.length!==Br.length)return!1;for(Yr.sort(),Br.sort(),be=Yr.length-1;be>=0;be--)if(Yr[be]!=Br[be])return!1;for(be=Yr.length-1;be>=0;be--)if(!$e(L[Fe=Yr[be]],k[Fe],K,fe))return!1;var rr=j(L),ar=j(k);return rr===ar&&("Set"===rr||"Set"===ar?function st(L,k,K,fe){if(de(L)!==de(k))return!1;for(var Oe,Ne,dt,be=T(L),Fe=T(k);(Oe=be.next())&&!Oe.done;)if(Oe.value&&"object"==typeof Oe.value)dt||(dt=new Z),Pe(dt,Oe.value);else if(!ae(k,Oe.value)){if(K.strict||!B(L,k,Oe.value))return!1;dt||(dt=new Z),Pe(dt,Oe.value)}if(dt){for(;(Ne=Fe.next())&&!Ne.done;)if(Ne.value&&"object"==typeof Ne.value){if(!xe(dt,Ne.value,K.strict,fe))return!1}else if(!K.strict&&!ae(L,Ne.value)&&!xe(dt,Ne.value,K.strict,fe))return!1;return 0===de(dt)}return!0}(L,k,K,fe):"Map"!==rr||function Ie(L,k,K,fe){if(Y(L)!==Y(k))return!1;for(var Oe,Ne,dt,vt,rn,Tt,be=T(L),Fe=T(k);(Oe=be.next())&&!Oe.done;)if(rn=Oe.value[1],(vt=Oe.value[0])&&"object"==typeof vt)dt||(dt=new Z),Pe(dt,vt);else if(typeof(Tt=ve(k,vt))>"u"&&!Q(k,vt)||!$e(rn,Tt,K,fe)){if(K.strict||!pe(L,k,vt,rn,K,fe))return!1;dt||(dt=new Z),Pe(dt,vt)}if(dt){for(;(Ne=Fe.next())&&!Ne.done;)if(Tt=Ne.value[1],(vt=Ne.value[0])&&"object"==typeof vt){if(!Ae(dt,L,vt,Tt,K,fe))return!1}else if(!(K.strict||L.has(vt)&&$e(ve(L,vt),Tt,K,fe)||Ae(dt,L,vt,Tt,me({},K,{strict:!1}),fe)))return!1;return 0===de(dt)}return!0}(L,k,K,fe))}(L,k,be,fe)}function qe(L){return!(!L||"object"!=typeof L||"number"!=typeof L.length||"function"!=typeof L.copy||"function"!=typeof L.slice||L.length>0&&"number"!=typeof L[0]||!(L.constructor&&L.constructor.isBuffer&&L.constructor.isBuffer(L)))}Se.exports=function(k,K,fe){return $e(k,K,fe,E())}},1790:(Se,Me,D)=>{"use strict";var _=D(2093),d="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),G=Object.prototype.toString,U=Array.prototype.concat,R=Object.defineProperty,A=D(9006)(),P=R&&A,te=function(j,T,E,M){T in j&&(!function(j){return"function"==typeof j&&"[object Function]"===G.call(j)}(M)||!M())||(P?R(j,T,{configurable:!0,enumerable:!1,value:E,writable:!0}):j[T]=E)},N=function(j,T){var E=arguments.length>2?arguments[2]:{},M=_(T);d&&(M=U.call(M,Object.getOwnPropertySymbols(T)));for(var me=0;me<M.length;me+=1)te(j,M[me],T[M[me]],E[M[me]])};N.supportsDescriptors=!!P,Se.exports=N},9897:function(Se,Me){!function(D){"use strict";var T,G=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,U=536870912,R=2*U,A=new WeakMap,te=function(T,E){return function(M){var me=E.get(M),V=void 0===me?M.size:me<R?me+1:0;if(!M.has(V))return T(M,V);if(M.size<U){for(;M.has(V);)V=Math.floor(Math.random()*R);return T(M,V)}if(M.size>G)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;M.has(V);)V=Math.floor(Math.random()*G);return T(M,V)}}((T=A,function(E,M){return T.set(E,M),M}),A),N=function(T){return function(E){var M=T(E);return E.add(M),M}}(te);D.addUniqueNumber=N,D.generateUniqueNumber=te,Object.defineProperty(D,"__esModule",{value:!0})}(Me)},3037:(Se,Me,D)=>{"use strict";var _=D(8642),d=Object.prototype.toString,G=Object.prototype.hasOwnProperty,U=function(te,N,j){for(var T=0,E=te.length;T<E;T++)G.call(te,T)&&(null==j?N(te[T],T,te):N.call(j,te[T],T,te))},R=function(te,N,j){for(var T=0,E=te.length;T<E;T++)null==j?N(te.charAt(T),T,te):N.call(j,te.charAt(T),T,te)},$=function(te,N,j){for(var T in te)G.call(te,T)&&(null==j?N(te[T],T,te):N.call(j,te[T],T,te))};Se.exports=function(te,N,j){if(!_(N))throw new TypeError("iterator must be a function");var T;arguments.length>=3&&(T=j),"[object Array]"===d.call(te)?U(te,N,T):"string"==typeof te?R(te,N,T):$(te,N,T)}},2199:Se=>{"use strict";var Me="Function.prototype.bind called on incompatible ",D=Array.prototype.slice,_=Object.prototype.toString,d="[object Function]";Se.exports=function(U){var R=this;if("function"!=typeof R||_.call(R)!==d)throw new TypeError(Me+R);for(var A,$=D.call(arguments,1),P=function(){if(this instanceof A){var E=R.apply(this,$.concat(D.call(arguments)));return Object(E)===E?E:this}return R.apply(U,$.concat(D.call(arguments)))},te=Math.max(0,R.length-$.length),N=[],j=0;j<te;j++)N.push("$"+j);if(A=Function("binder","return function ("+N.join(",")+"){ return binder.apply(this,arguments); }")(P),R.prototype){var T=function(){};T.prototype=R.prototype,A.prototype=new T,T.prototype=null}return A}},224:(Se,Me,D)=>{"use strict";var _=D(2199);Se.exports=Function.prototype.bind||_},3677:Se=>{"use strict";var Me=function(){return"string"==typeof function(){}.name},D=Object.getOwnPropertyDescriptor;if(D)try{D([],"length")}catch{D=null}Me.functionsHaveConfigurableNames=function(){if(!Me()||!D)return!1;var G=D(function(){},"name");return!!G&&!!G.configurable};var _=Function.prototype.bind;Me.boundFunctionsHaveNames=function(){return Me()&&"function"==typeof _&&""!==function(){}.bind().name},Se.exports=Me},9903:(Se,Me,D)=>{"use strict";var _,d=SyntaxError,G=Function,U=TypeError,R=function(xe){try{return G('"use strict"; return ('+xe+").constructor;")()}catch{}},$=Object.getOwnPropertyDescriptor;if($)try{$({},"")}catch{$=null}var A=function(){throw new U},P=$?function(){try{return A}catch{try{return $(arguments,"callee").get}catch{return A}}}():A,te=D(524)(),N=Object.getPrototypeOf||function(xe){return xe.__proto__},j={},T=typeof Uint8Array>"u"?_:N(Uint8Array),E={"%AggregateError%":typeof AggregateError>"u"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_:ArrayBuffer,"%ArrayIteratorPrototype%":te?N([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":typeof Atomics>"u"?_:Atomics,"%BigInt%":typeof BigInt>"u"?_:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?_:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_:FinalizationRegistry,"%Function%":G,"%GeneratorFunction%":j,"%Int8Array%":typeof Int8Array>"u"?_:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":te?N(N([][Symbol.iterator]())):_,"%JSON%":"object"==typeof JSON?JSON:_,"%Map%":typeof Map>"u"?_:Map,"%MapIteratorPrototype%":typeof Map>"u"||!te?_:N((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_:Promise,"%Proxy%":typeof Proxy>"u"?_:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_:Set,"%SetIteratorPrototype%":typeof Set>"u"||!te?_:N((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":te?N(""[Symbol.iterator]()):_,"%Symbol%":te?Symbol:_,"%SyntaxError%":d,"%ThrowTypeError%":P,"%TypedArray%":T,"%TypeError%":U,"%Uint8Array%":typeof Uint8Array>"u"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?_:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_:WeakSet},M=function xe(Ee){var pe;if("%AsyncFunction%"===Ee)pe=R("async function () {}");else if("%GeneratorFunction%"===Ee)pe=R("function* () {}");else if("%AsyncGeneratorFunction%"===Ee)pe=R("async function* () {}");else if("%AsyncGenerator%"===Ee){var B=xe("%AsyncGeneratorFunction%");B&&(pe=B.prototype)}else if("%AsyncIteratorPrototype%"===Ee){var Ae=xe("%AsyncGenerator%");Ae&&(pe=N(Ae.prototype))}return E[Ee]=pe,pe},me={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V=D(224),ee=D(4031),ie=V.call(Function.call,Array.prototype.concat),Z=V.call(Function.apply,Array.prototype.splice),Q=V.call(Function.call,String.prototype.replace),ve=V.call(Function.call,String.prototype.slice),Y=V.call(Function.call,RegExp.prototype.exec),Pe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ne=/\\(\\)?/g,ae=function(Ee){var pe=ve(Ee,0,1),B=ve(Ee,-1);if("%"===pe&&"%"!==B)throw new d("invalid intrinsic syntax, expected closing `%`");if("%"===B&&"%"!==pe)throw new d("invalid intrinsic syntax, expected opening `%`");var Ae=[];return Q(Ee,Pe,function($e,qe,st,Ie){Ae[Ae.length]=st?Q(Ie,ne,"$1"):qe||$e}),Ae},de=function(Ee,pe){var Ae,B=Ee;if(ee(me,B)&&(B="%"+(Ae=me[B])[0]+"%"),ee(E,B)){var $e=E[B];if($e===j&&($e=M(B)),typeof $e>"u"&&!pe)throw new U("intrinsic "+Ee+" exists, but is not available. Please file an issue!");return{alias:Ae,name:B,value:$e}}throw new d("intrinsic "+Ee+" does not exist!")};Se.exports=function(Ee,pe){if("string"!=typeof Ee||0===Ee.length)throw new U("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof pe)throw new U('"allowMissing" argument must be a boolean');if(null===Y(/^%?[^%]*%?$/g,Ee))throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var B=ae(Ee),Ae=B.length>0?B[0]:"",$e=de("%"+Ae+"%",pe),qe=$e.name,st=$e.value,Ie=!1,W=$e.alias;W&&(Ae=W[0],Z(B,ie([0,1],W)));for(var L=1,k=!0;L<B.length;L+=1){var K=B[L],fe=ve(K,0,1),be=ve(K,-1);if(('"'===fe||"'"===fe||"`"===fe||'"'===be||"'"===be||"`"===be)&&fe!==be)throw new d("property names with quotes must have matching quotes");if(("constructor"===K||!k)&&(Ie=!0),ee(E,qe="%"+(Ae+="."+K)+"%"))st=E[qe];else if(null!=st){if(!(K in st)){if(!pe)throw new U("base intrinsic for "+Ee+" exists, but the property is not available.");return}if($&&L+1>=B.length){var Fe=$(st,K);st=(k=!!Fe)&&"get"in Fe&&!("originalValue"in Fe.get)?Fe.get:st[K]}else k=ee(st,K),st=st[K];k&&!Ie&&(E[qe]=st)}}return st}},5861:Se=>{"use strict";var Me=typeof BigInt<"u"&&BigInt;Se.exports=function(){return"function"==typeof Me&&"function"==typeof BigInt&&"bigint"==typeof Me(42)&&"bigint"==typeof BigInt(42)}},9006:(Se,Me,D)=>{"use strict";var d=D(9903)("%Object.defineProperty%",!0),G=function(){if(d)try{return d({},"a",{value:1}),!0}catch{return!1}return!1};G.hasArrayLengthDefineBug=function(){if(!G())return null;try{return 1!==d([],"length",{value:1}).length}catch{return!0}},Se.exports=G},524:(Se,Me,D)=>{"use strict";var _=typeof Symbol<"u"&&Symbol,d=D(6858);Se.exports=function(){return"function"==typeof _&&"function"==typeof Symbol&&"symbol"==typeof _("foo")&&"symbol"==typeof Symbol("bar")&&d()}},6858:Se=>{"use strict";Se.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var D={},_=Symbol("test"),d=Object(_);if("string"==typeof _||"[object Symbol]"!==Object.prototype.toString.call(_)||"[object Symbol]"!==Object.prototype.toString.call(d))return!1;for(_ in D[_]=42,D)return!1;if("function"==typeof Object.keys&&0!==Object.keys(D).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(D).length)return!1;var U=Object.getOwnPropertySymbols(D);if(1!==U.length||U[0]!==_||!Object.prototype.propertyIsEnumerable.call(D,_))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var R=Object.getOwnPropertyDescriptor(D,_);if(42!==R.value||!0!==R.enumerable)return!1}return!0}},3261:(Se,Me,D)=>{"use strict";var _=D(6858);Se.exports=function(){return _()&&!!Symbol.toStringTag}},4031:(Se,Me,D)=>{"use strict";var _=D(224);Se.exports=_.call(Function.call,Object.prototype.hasOwnProperty)},9102:(Se,Me,D)=>{"use strict";var _=D(3261)(),G=D(4263)("Object.prototype.toString"),U=function(P){return!(_&&P&&"object"==typeof P&&Symbol.toStringTag in P)&&"[object Arguments]"===G(P)},R=function(P){return!!U(P)||null!==P&&"object"==typeof P&&"number"==typeof P.length&&P.length>=0&&"[object Array]"!==G(P)&&"[object Function]"===G(P.callee)},$=function(){return U(arguments)}();U.isLegacyArguments=R,Se.exports=$?U:R},3:(Se,Me,D)=>{"use strict";if(D(5861)()){var d=BigInt.prototype.valueOf;Se.exports=function(R){return!(null===R||typeof R>"u"||"boolean"==typeof R||"string"==typeof R||"number"==typeof R||"symbol"==typeof R||"function"==typeof R)&&("bigint"==typeof R||function(R){try{return d.call(R),!0}catch{}return!1}(R))}}else Se.exports=function(R){return!1}},6180:(Se,Me,D)=>{"use strict";var _=D(4263),d=_("Boolean.prototype.toString"),G=_("Object.prototype.toString"),$=D(3261)();Se.exports=function(P){return"boolean"==typeof P||null!==P&&"object"==typeof P&&($&&Symbol.toStringTag in P?function(P){try{return d(P),!0}catch{return!1}}(P):"[object Boolean]"===G(P))}},5057:Se=>{function Me(_){return!!_.constructor&&"function"==typeof _.constructor.isBuffer&&_.constructor.isBuffer(_)}Se.exports=function(_){return null!=_&&(Me(_)||function D(_){return"function"==typeof _.readFloatLE&&"function"==typeof _.slice&&Me(_.slice(0,0))}(_)||!!_._isBuffer)}},8642:Se=>{"use strict";var _,d,Me=Function.prototype.toString,D="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof D&&"function"==typeof Object.defineProperty)try{_=Object.defineProperty({},"length",{get:function(){throw d}}),d={},D(function(){throw 42},null,_)}catch(j){j!==d&&(D=null)}else D=null;var G=/^\s*class\b/,U=function(T){try{var E=Me.call(T);return G.test(E)}catch{return!1}},$=Object.prototype.toString,te="function"==typeof Symbol&&!!Symbol.toStringTag,N="object"==typeof document&&typeof document.all>"u"&&void 0!==document.all?document.all:{};Se.exports=D?function(T){if(T===N)return!0;if(!T||"function"!=typeof T&&"object"!=typeof T)return!1;if("function"==typeof T&&!T.prototype)return!0;try{D(T,null,_)}catch(E){if(E!==d)return!1}return!U(T)}:function(T){if(T===N)return!0;if(!T||"function"!=typeof T&&"object"!=typeof T)return!1;if("function"==typeof T&&!T.prototype)return!0;if(te)return function(T){try{return!U(T)&&(Me.call(T),!0)}catch{return!1}}(T);if(U(T))return!1;var E=$.call(T);return"[object Function]"===E||"[object GeneratorFunction]"===E}},4666:(Se,Me,D)=>{"use strict";var _=Date.prototype.getDay,G=Object.prototype.toString,R=D(3261)();Se.exports=function(A){return"object"==typeof A&&null!==A&&(R?function(A){try{return _.call(A),!0}catch{return!1}}(A):"[object Date]"===G.call(A))}},9898:Se=>{"use strict";var _,Me="function"==typeof Map&&Map.prototype?Map:null,D="function"==typeof Set&&Set.prototype?Set:null;Me||(_=function(R){return!1});var d=Me?Map.prototype.has:null,G=D?Set.prototype.has:null;!_&&!d&&(_=function(R){return!1}),Se.exports=_||function(R){if(!R||"object"!=typeof R)return!1;try{if(d.call(R),G)try{G.call(R)}catch{return!0}return R instanceof Me}catch{}return!1}},1046:(Se,Me,D)=>{"use strict";var _=Number.prototype.toString,G=Object.prototype.toString,R=D(3261)();Se.exports=function(A){return"number"==typeof A||"object"==typeof A&&(R?function(A){try{return _.call(A),!0}catch{return!1}}(A):"[object Number]"===G.call(A))}},6687:(Se,Me,D)=>{"use strict";var G,U,R,$,_=D(4263),d=D(3261)();if(d){G=_("Object.prototype.hasOwnProperty"),U=_("RegExp.prototype.exec"),R={};var A=function(){throw R};$={toString:A,valueOf:A},"symbol"==typeof Symbol.toPrimitive&&($[Symbol.toPrimitive]=A)}var P=_("Object.prototype.toString"),te=Object.getOwnPropertyDescriptor;Se.exports=d?function(T){if(!T||"object"!=typeof T)return!1;var E=te(T,"lastIndex");if(!E||!G(E,"value"))return!1;try{U(T,$)}catch(me){return me===R}}:function(T){return!(!T||"object"!=typeof T&&"function"!=typeof T)&&"[object RegExp]"===P(T)}},3870:Se=>{"use strict";var _,Me="function"==typeof Map&&Map.prototype?Map:null,D="function"==typeof Set&&Set.prototype?Set:null;D||(_=function(R){return!1});var d=Me?Map.prototype.has:null,G=D?Set.prototype.has:null;!_&&!G&&(_=function(R){return!1}),Se.exports=_||function(R){if(!R||"object"!=typeof R)return!1;try{if(G.call(R),d)try{d.call(R)}catch{return!0}return R instanceof D}catch{}return!1}},4764:(Se,Me,D)=>{"use strict";var _=String.prototype.valueOf,G=Object.prototype.toString,R=D(3261)();Se.exports=function(A){return"string"==typeof A||"object"==typeof A&&(R?function(A){try{return _.call(A),!0}catch{return!1}}(A):"[object String]"===G.call(A))}},6434:(Se,Me,D)=>{"use strict";var _=Object.prototype.toString;if(D(524)()){var G=Symbol.prototype.toString,U=/^Symbol\(.*\)$/;Se.exports=function(A){if("symbol"==typeof A)return!0;if("[object Symbol]"!==_.call(A))return!1;try{return function(A){return"symbol"==typeof A.valueOf()&&U.test(G.call(A))}(A)}catch{return!1}}}else Se.exports=function(A){return!1}},7673:(Se,Me,D)=>{"use strict";var _=D(3037),d=D(5271),G=D(4263),U=G("Object.prototype.toString"),R=D(3261)(),$=typeof globalThis>"u"?global:globalThis,A=d(),P=G("Array.prototype.indexOf",!0)||function(me,V){for(var ee=0;ee<me.length;ee+=1)if(me[ee]===V)return ee;return-1},te=G("String.prototype.slice"),N={},j=D(2292),T=Object.getPrototypeOf;R&&j&&T&&_(A,function(M){var me=new $[M];if(Symbol.toStringTag in me){var V=T(me),ee=j(V,Symbol.toStringTag);if(!ee){var ie=T(V);ee=j(ie,Symbol.toStringTag)}N[M]=ee.get}}),Se.exports=function(me){if(!me||"object"!=typeof me)return!1;if(!R||!(Symbol.toStringTag in me)){var V=te(U(me),8,-1);return P(A,V)>-1}return!!j&&function(me){var V=!1;return _(N,function(ee,ie){if(!V)try{V=ee.call(me)===ie}catch{}}),V}(me)}},5585:Se=>{"use strict";var _,Me="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,D="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Me||(_=function(R){return!1});var d=Me?Me.prototype.has:null,G=D?D.prototype.has:null;!_&&!d&&(_=function(R){return!1}),Se.exports=_||function(R){if(!R||"object"!=typeof R)return!1;try{if(d.call(R,d),G)try{G.call(R,G)}catch{return!0}return R instanceof Me}catch{}return!1}},1902:(Se,Me,D)=>{"use strict";var _=D(9903),d=D(4263),G=_("%WeakSet%",!0),U=d("WeakSet.prototype.has",!0);if(U){var R=d("WeakMap.prototype.has",!0);Se.exports=function(A){if(!A||"object"!=typeof A)return!1;try{if(U(A,U),R)try{R(A,R)}catch{return!0}return A instanceof G}catch{}return!1}}else Se.exports=function(A){return!1}},8266:Se=>{var Me={}.toString;Se.exports=Array.isArray||function(D){return"[object Array]"==Me.call(D)}},5023:(Se,Me,D)=>{var _,d,G,U,R;_=D(7175),d=D(5107).utf8,G=D(5057),U=D(5107).bin,(R=function($,A){$.constructor==String?$=A&&"binary"===A.encoding?U.stringToBytes($):d.stringToBytes($):G($)?$=Array.prototype.slice.call($,0):!Array.isArray($)&&$.constructor!==Uint8Array&&($=$.toString());for(var P=_.bytesToWords($),te=8*$.length,N=1732584193,j=-271733879,T=-1732584194,E=271733878,M=0;M<P.length;M++)P[M]=16711935&(P[M]<<8|P[M]>>>24)|4278255360&(P[M]<<24|P[M]>>>8);P[te>>>5]|=128<<te%32,P[14+(te+64>>>9<<4)]=te;var me=R._ff,V=R._gg,ee=R._hh,ie=R._ii;for(M=0;M<P.length;M+=16){var Z=N,Q=j,ve=T,Y=E;N=me(N,j,T,E,P[M+0],7,-680876936),E=me(E,N,j,T,P[M+1],12,-389564586),T=me(T,E,N,j,P[M+2],17,606105819),j=me(j,T,E,N,P[M+3],22,-1044525330),N=me(N,j,T,E,P[M+4],7,-176418897),E=me(E,N,j,T,P[M+5],12,1200080426),T=me(T,E,N,j,P[M+6],17,-1473231341),j=me(j,T,E,N,P[M+7],22,-45705983),N=me(N,j,T,E,P[M+8],7,1770035416),E=me(E,N,j,T,P[M+9],12,-1958414417),T=me(T,E,N,j,P[M+10],17,-42063),j=me(j,T,E,N,P[M+11],22,-1990404162),N=me(N,j,T,E,P[M+12],7,1804603682),E=me(E,N,j,T,P[M+13],12,-40341101),T=me(T,E,N,j,P[M+14],17,-1502002290),N=V(N,j=me(j,T,E,N,P[M+15],22,1236535329),T,E,P[M+1],5,-165796510),E=V(E,N,j,T,P[M+6],9,-1069501632),T=V(T,E,N,j,P[M+11],14,643717713),j=V(j,T,E,N,P[M+0],20,-373897302),N=V(N,j,T,E,P[M+5],5,-701558691),E=V(E,N,j,T,P[M+10],9,38016083),T=V(T,E,N,j,P[M+15],14,-660478335),j=V(j,T,E,N,P[M+4],20,-405537848),N=V(N,j,T,E,P[M+9],5,568446438),E=V(E,N,j,T,P[M+14],9,-1019803690),T=V(T,E,N,j,P[M+3],14,-187363961),j=V(j,T,E,N,P[M+8],20,1163531501),N=V(N,j,T,E,P[M+13],5,-1444681467),E=V(E,N,j,T,P[M+2],9,-51403784),T=V(T,E,N,j,P[M+7],14,1735328473),N=ee(N,j=V(j,T,E,N,P[M+12],20,-1926607734),T,E,P[M+5],4,-378558),E=ee(E,N,j,T,P[M+8],11,-2022574463),T=ee(T,E,N,j,P[M+11],16,1839030562),j=ee(j,T,E,N,P[M+14],23,-35309556),N=ee(N,j,T,E,P[M+1],4,-1530992060),E=ee(E,N,j,T,P[M+4],11,1272893353),T=ee(T,E,N,j,P[M+7],16,-155497632),j=ee(j,T,E,N,P[M+10],23,-1094730640),N=ee(N,j,T,E,P[M+13],4,681279174),E=ee(E,N,j,T,P[M+0],11,-358537222),T=ee(T,E,N,j,P[M+3],16,-722521979),j=ee(j,T,E,N,P[M+6],23,76029189),N=ee(N,j,T,E,P[M+9],4,-640364487),E=ee(E,N,j,T,P[M+12],11,-421815835),T=ee(T,E,N,j,P[M+15],16,530742520),N=ie(N,j=ee(j,T,E,N,P[M+2],23,-995338651),T,E,P[M+0],6,-198630844),E=ie(E,N,j,T,P[M+7],10,1126891415),T=ie(T,E,N,j,P[M+14],15,-1416354905),j=ie(j,T,E,N,P[M+5],21,-57434055),N=ie(N,j,T,E,P[M+12],6,1700485571),E=ie(E,N,j,T,P[M+3],10,-1894986606),T=ie(T,E,N,j,P[M+10],15,-1051523),j=ie(j,T,E,N,P[M+1],21,-2054922799),N=ie(N,j,T,E,P[M+8],6,1873313359),E=ie(E,N,j,T,P[M+15],10,-30611744),T=ie(T,E,N,j,P[M+6],15,-1560198380),j=ie(j,T,E,N,P[M+13],21,1309151649),N=ie(N,j,T,E,P[M+4],6,-145523070),E=ie(E,N,j,T,P[M+11],10,-1120210379),T=ie(T,E,N,j,P[M+2],15,718787259),j=ie(j,T,E,N,P[M+9],21,-343485551),N=N+Z>>>0,j=j+Q>>>0,T=T+ve>>>0,E=E+Y>>>0}return _.endian([N,j,T,E])})._ff=function($,A,P,te,N,j,T){var E=$+(A&P|~A&te)+(N>>>0)+T;return(E<<j|E>>>32-j)+A},R._gg=function($,A,P,te,N,j,T){var E=$+(A&te|P&~te)+(N>>>0)+T;return(E<<j|E>>>32-j)+A},R._hh=function($,A,P,te,N,j,T){var E=$+(A^P^te)+(N>>>0)+T;return(E<<j|E>>>32-j)+A},R._ii=function($,A,P,te,N,j,T){var E=$+(P^(A|~te))+(N>>>0)+T;return(E<<j|E>>>32-j)+A},R._blocksize=16,R._digestsize=16,Se.exports=function($,A){if(null==$)throw new Error("Illegal argument "+$);var P=_.wordsToBytes(R($,A));return A&&A.asBytes?P:A&&A.asString?U.bytesToString(P):_.bytesToHex(P)}},9052:(Se,Me)=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});var D=[];D[0]=function(){return function(){}},D[1]=function(U,R){return typeof R>"u"?U:function(A){U(A,R)}};var G=function(){function U(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return U.prototype.addHandler=function(R,$){return this.isHandlerAttached(R,$)||(this._handlers.push(R),this._contexts.push($),this._createDispatcher(),this._updateHasHandlers()),this},U.prototype.removeHandler=function(R,$){var A=this._getHandlerIndex(R,$);return typeof A<"u"&&(this._handlers.splice(A,1),this._contexts.splice(A,1),this._createDispatcher(),this._updateHasHandlers()),this},U.prototype.isHandlerAttached=function(R,$){return typeof this._getHandlerIndex(R,$)<"u"},U.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},U.prototype._getHandlerIndex=function(R,$){var P,A=this._handlers.length;for(P=0;P<A&&(this._handlers[P]!==R||this._contexts[P]!==$);P++);return P<A?P:void 0},U.prototype._createDispatcher=function(){this.dispatch=function _(U){return D[U]||(D[U]=function d(U){for(var R="return function dispatcher"+U+"(payload) {\n",$=[],A=[],P=0;P<U;P++)$.push("cb"+P),A.push("ctx"+P),R+="    cb"+P+"(payload, ctx"+P+");\n";return R+="};",new(Function.bind.apply(Function,[void 0].concat($.concat(A),[R])))}(U)),D[U]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},U}();Me.default=G},1158:(Se,Me,D)=>{"use strict";var d=D(9052);Me.j=d.default},8597:(Se,Me,D)=>{var _="function"==typeof Map&&Map.prototype,d=Object.getOwnPropertyDescriptor&&_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,G=_&&d&&"function"==typeof d.get?d.get:null,U=_&&Map.prototype.forEach,R="function"==typeof Set&&Set.prototype,$=Object.getOwnPropertyDescriptor&&R?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,A=R&&$&&"function"==typeof $.get?$.get:null,P=R&&Set.prototype.forEach,N="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,T="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,M="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,me=Boolean.prototype.valueOf,V=Object.prototype.toString,ee=Function.prototype.toString,ie=String.prototype.match,Z=String.prototype.slice,Q=String.prototype.replace,ve=String.prototype.toUpperCase,Y=String.prototype.toLowerCase,Pe=RegExp.prototype.test,ne=Array.prototype.concat,ae=Array.prototype.join,de=Array.prototype.slice,xe=Math.floor,Ee="function"==typeof BigInt?BigInt.prototype.valueOf:null,pe=Object.getOwnPropertySymbols,B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ae="function"==typeof Symbol&&"object"==typeof Symbol.iterator,$e="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,qe=Object.prototype.propertyIsEnumerable,st=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(le){return le.__proto__}:null);function Ie(le,De){if(le===1/0||le===-1/0||le!=le||le&&le>-1e3&&le<1e3||Pe.call(/e/,De))return De;var Yt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof le){var en=le<0?-xe(-le):xe(le);if(en!==le){var pn=String(en),Ot=Z.call(De,pn.length+1);return Q.call(pn,Yt,"$&_")+"."+Q.call(Q.call(Ot,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Q.call(De,Yt,"$&_")}var W=D(4654),L=W.custom,k=Tt(L)?L:null;function K(le,De,Yt){var en="double"===(Yt.quoteStyle||De)?'"':"'";return en+le+en}function fe(le){return Q.call(String(le),/"/g,"&quot;")}function be(le){return!("[object Array]"!==Cn(le)||$e&&"object"==typeof le&&$e in le)}function Oe(le){return!("[object RegExp]"!==Cn(le)||$e&&"object"==typeof le&&$e in le)}function Tt(le){if(Ae)return le&&"object"==typeof le&&le instanceof Symbol;if("symbol"==typeof le)return!0;if(!le||"object"!=typeof le||!B)return!1;try{return B.call(le),!0}catch{}return!1}Se.exports=function le(De,Yt,en,pn){var Ot=Yt||{};if(Yn(Ot,"quoteStyle")&&"single"!==Ot.quoteStyle&&"double"!==Ot.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Yn(Ot,"maxStringLength")&&("number"==typeof Ot.maxStringLength?Ot.maxStringLength<0&&Ot.maxStringLength!==1/0:null!==Ot.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var vr=!Yn(Ot,"customInspect")||Ot.customInspect;if("boolean"!=typeof vr&&"symbol"!==vr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Yn(Ot,"indent")&&null!==Ot.indent&&"\t"!==Ot.indent&&!(parseInt(Ot.indent,10)===Ot.indent&&Ot.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Yn(Ot,"numericSeparator")&&"boolean"!=typeof Ot.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ft=Ot.numericSeparator;if(typeof De>"u")return"undefined";if(null===De)return"null";if("boolean"==typeof De)return De?"true":"false";if("string"==typeof De)return lr(De,Ot);if("number"==typeof De){if(0===De)return 1/0/De>0?"0":"-0";var Qn=String(De);return Ft?Ie(De,Qn):Qn}if("bigint"==typeof De){var $n=String(De)+"n";return Ft?Ie(De,$n):$n}var dr=typeof Ot.depth>"u"?5:Ot.depth;if(typeof en>"u"&&(en=0),en>=dr&&dr>0&&"object"==typeof De)return be(De)?"[Array]":"[Object]";var xn=function Oi(le,De){var Yt;if("\t"===le.indent)Yt="\t";else{if(!("number"==typeof le.indent&&le.indent>0))return null;Yt=ae.call(Array(le.indent+1)," ")}return{base:Yt,prev:ae.call(Array(De+1),Yt)}}(Ot,en);if(typeof pn>"u")pn=[];else if(Br(pn,De)>=0)return"[Circular]";function on(fo,Gn,Ko){if(Gn&&(pn=de.call(pn)).push(Gn),Ko){var Cr={depth:Ot.depth};return Yn(Ot,"quoteStyle")&&(Cr.quoteStyle=Ot.quoteStyle),le(fo,Cr,en+1,pn)}return le(fo,Ot,en+1,pn)}if("function"==typeof De&&!Oe(De)){var yt=function Yr(le){if(le.name)return le.name;var De=ie.call(ee.call(le),/^function\s*([\w$]+)/);return De?De[1]:null}(De),Vn=Bt(De,on);return"[Function"+(yt?": "+yt:" (anonymous)")+"]"+(Vn.length>0?" { "+ae.call(Vn,", ")+" }":"")}if(Tt(De)){var v=Ae?Q.call(String(De),/^(Symbol\(.*\))_[^)]*$/,"$1"):B.call(De);return"object"!=typeof De||Ae?v:uo(v)}if(function hi(le){return!(!le||"object"!=typeof le)&&(typeof HTMLElement<"u"&&le instanceof HTMLElement||"string"==typeof le.nodeName&&"function"==typeof le.getAttribute)}(De)){for(var fr="<"+Y.call(String(De.nodeName)),Zo=De.attributes||[],wo=0;wo<Zo.length;wo++)fr+=" "+Zo[wo].name+"="+K(fe(Zo[wo].value),"double",Ot);return fr+=">",De.childNodes&&De.childNodes.length&&(fr+="..."),fr+"</"+Y.call(String(De.nodeName))+">"}if(be(De)){if(0===De.length)return"[]";var Lo=Bt(De,on);return xn&&!function Qr(le){for(var De=0;De<le.length;De++)if(Br(le[De],"\n")>=0)return!1;return!0}(Lo)?"["+ur(Lo,xn)+"]":"[ "+ae.call(Lo,", ")+" ]"}if(function Ne(le){return!("[object Error]"!==Cn(le)||$e&&"object"==typeof le&&$e in le)}(De)){var _r=Bt(De,on);return"cause"in Error.prototype||!("cause"in De)||qe.call(De,"cause")?0===_r.length?"["+String(De)+"]":"{ ["+String(De)+"] "+ae.call(_r,", ")+" }":"{ ["+String(De)+"] "+ae.call(ne.call("[cause]: "+on(De.cause),_r),", ")+" }"}if("object"==typeof De&&vr){if(k&&"function"==typeof De[k]&&W)return W(De,{depth:dr-en});if("symbol"!==vr&&"function"==typeof De.inspect)return De.inspect()}if(function rr(le){if(!G||!le||"object"!=typeof le)return!1;try{G.call(le);try{A.call(le)}catch{return!0}return le instanceof Map}catch{}return!1}(De)){var Do=[];return U.call(De,function(fo,Gn){Do.push(on(Gn,De,!0)+" => "+on(fo,De))}),cr("Map",G.call(De),Do,xn)}if(function co(le){if(!A||!le||"object"!=typeof le)return!1;try{A.call(le);try{G.call(le)}catch{return!0}return le instanceof Set}catch{}return!1}(De)){var In=[];return P.call(De,function(fo){In.push(on(fo,De))}),cr("Set",A.call(De),In,xn)}if(function ar(le){if(!N||!le||"object"!=typeof le)return!1;try{N.call(le,N);try{T.call(le,T)}catch{return!0}return le instanceof WeakMap}catch{}return!1}(De))return Vr("WeakMap");if(function qo(le){if(!T||!le||"object"!=typeof le)return!1;try{T.call(le,T);try{N.call(le,N)}catch{return!0}return le instanceof WeakSet}catch{}return!1}(De))return Vr("WeakSet");if(function Xn(le){if(!M||!le||"object"!=typeof le)return!1;try{return M.call(le),!0}catch{}return!1}(De))return Vr("WeakRef");if(function vt(le){return!("[object Number]"!==Cn(le)||$e&&"object"==typeof le&&$e in le)}(De))return uo(on(Number(De)));if(function X(le){if(!le||"object"!=typeof le||!Ee)return!1;try{return Ee.call(le),!0}catch{}return!1}(De))return uo(on(Ee.call(De)));if(function rn(le){return!("[object Boolean]"!==Cn(le)||$e&&"object"==typeof le&&$e in le)}(De))return uo(me.call(De));if(function dt(le){return!("[object String]"!==Cn(le)||$e&&"object"==typeof le&&$e in le)}(De))return uo(on(String(De)));if(!function Fe(le){return!("[object Date]"!==Cn(le)||$e&&"object"==typeof le&&$e in le)}(De)&&!Oe(De)){var Hr=Bt(De,on),br=st?st(De)===Object.prototype:De instanceof Object||De.constructor===Object,mi=De instanceof Object?"":"null prototype",Fi=!br&&$e&&Object(De)===De&&$e in De?Z.call(Cn(De),8,-1):mi?"Object":"",$o=(br||"function"!=typeof De.constructor?"":De.constructor.name?De.constructor.name+" ":"")+(Fi||mi?"["+ae.call(ne.call([],Fi||[],mi||[]),": ")+"] ":"");return 0===Hr.length?$o+"{}":xn?$o+"{"+ur(Hr,xn)+"}":$o+"{ "+ae.call(Hr,", ")+" }"}return String(De)};var Ar=Object.prototype.hasOwnProperty||function(le){return le in this};function Yn(le,De){return Ar.call(le,De)}function Cn(le){return V.call(le)}function Br(le,De){if(le.indexOf)return le.indexOf(De);for(var Yt=0,en=le.length;Yt<en;Yt++)if(le[Yt]===De)return Yt;return-1}function lr(le,De){if(le.length>De.maxStringLength){var Yt=le.length-De.maxStringLength,en="... "+Yt+" more character"+(Yt>1?"s":"");return lr(Z.call(le,0,De.maxStringLength),De)+en}return K(Q.call(Q.call(le,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Xr),"single",De)}function Xr(le){var De=le.charCodeAt(0),Yt={8:"b",9:"t",10:"n",12:"f",13:"r"}[De];return Yt?"\\"+Yt:"\\x"+(De<16?"0":"")+ve.call(De.toString(16))}function uo(le){return"Object("+le+")"}function Vr(le){return le+" { ? }"}function cr(le,De,Yt,en){return le+" ("+De+") {"+(en?ur(Yt,en):ae.call(Yt,", "))+"}"}function ur(le,De){if(0===le.length)return"";var Yt="\n"+De.prev+De.base;return Yt+ae.call(le,","+Yt)+"\n"+De.prev}function Bt(le,De){var Yt=be(le),en=[];if(Yt){en.length=le.length;for(var pn=0;pn<le.length;pn++)en[pn]=Yn(le,pn)?De(le[pn],le):""}var vr,Ot="function"==typeof pe?pe(le):[];if(Ae){vr={};for(var Ft=0;Ft<Ot.length;Ft++)vr["$"+Ot[Ft]]=Ot[Ft]}for(var Qn in le)!Yn(le,Qn)||Yt&&String(Number(Qn))===Qn&&Qn<le.length||Ae&&vr["$"+Qn]instanceof Symbol||(Pe.call(/[^\w$]/,Qn)?en.push(De(Qn,le)+": "+De(le[Qn],le)):en.push(Qn+": "+De(le[Qn],le)));if("function"==typeof pe)for(var $n=0;$n<Ot.length;$n++)qe.call(le,Ot[$n])&&en.push("["+De(Ot[$n])+"]: "+De(le[Ot[$n]],le));return en}},6872:Se=>{"use strict";var Me=function(D){return D!=D};Se.exports=function(_,d){return 0===_&&0===d?1/_==1/d:!!(_===d||Me(_)&&Me(d))}},5734:(Se,Me,D)=>{"use strict";var _=D(1790),d=D(3855),G=D(6872),U=D(3306),R=D(7715),$=d(U(),Object);_($,{getPolyfill:U,implementation:G,shim:R}),Se.exports=$},3306:(Se,Me,D)=>{"use strict";var _=D(6872);Se.exports=function(){return"function"==typeof Object.is?Object.is:_}},7715:(Se,Me,D)=>{"use strict";var _=D(3306),d=D(1790);Se.exports=function(){var U=_();return d(Object,{is:U},{is:function(){return Object.is!==U}}),U}},7010:(Se,Me,D)=>{"use strict";var _;if(!Object.keys){var d=Object.prototype.hasOwnProperty,G=Object.prototype.toString,U=D(5185),R=Object.prototype.propertyIsEnumerable,$=!R.call({toString:null},"toString"),A=R.call(function(){},"prototype"),P=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],te=function(E){var M=E.constructor;return M&&M.prototype===E},N={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},j=function(){if(typeof window>"u")return!1;for(var E in window)try{if(!N["$"+E]&&d.call(window,E)&&null!==window[E]&&"object"==typeof window[E])try{te(window[E])}catch{return!0}}catch{return!0}return!1}();_=function(M){var me=null!==M&&"object"==typeof M,V="[object Function]"===G.call(M),ee=U(M),ie=me&&"[object String]"===G.call(M),Z=[];if(!me&&!V&&!ee)throw new TypeError("Object.keys called on a non-object");var Q=A&&V;if(ie&&M.length>0&&!d.call(M,0))for(var ve=0;ve<M.length;++ve)Z.push(String(ve));if(ee&&M.length>0)for(var Y=0;Y<M.length;++Y)Z.push(String(Y));else for(var Pe in M)(!Q||"prototype"!==Pe)&&d.call(M,Pe)&&Z.push(String(Pe));if($)for(var ne=function(E){if(typeof window>"u"||!j)return te(E);try{return te(E)}catch{return!1}}(M),ae=0;ae<P.length;++ae)(!ne||"constructor"!==P[ae])&&d.call(M,P[ae])&&Z.push(P[ae]);return Z}}Se.exports=_},2093:(Se,Me,D)=>{"use strict";var _=Array.prototype.slice,d=D(5185),G=Object.keys,U=G?function(A){return G(A)}:D(7010),R=Object.keys;U.shim=function(){if(Object.keys){var A=function(){var P=Object.keys(arguments);return P&&P.length===arguments.length}(1,2);A||(Object.keys=function(te){return d(te)?R(_.call(te)):R(te)})}else Object.keys=U;return Object.keys||U},Se.exports=U},5185:Se=>{"use strict";var Me=Object.prototype.toString;Se.exports=function(_){var d=Me.call(_),G="[object Arguments]"===d;return G||(G="[object Array]"!==d&&null!==_&&"object"==typeof _&&"number"==typeof _.length&&_.length>=0&&"[object Function]"===Me.call(_.callee)),G}},2461:(Se,Me,D)=>{"use strict";var _=D(2093),d=function(te){return typeof te<"u"&&null!==te},G=D(6858)(),U=D(4263),R=Object,$=U("Array.prototype.push"),A=U("Object.prototype.propertyIsEnumerable"),P=G?Object.getOwnPropertySymbols:null;Se.exports=function(N,j){if(!d(N))throw new TypeError("target must be an object");var E,M,me,V,ee,ie,Z,T=R(N);for(E=1;E<arguments.length;++E){M=R(arguments[E]),V=_(M);var Q=G&&(Object.getOwnPropertySymbols||P);if(Q)for(ee=Q(M),me=0;me<ee.length;++me)A(M,Z=ee[me])&&$(V,Z);for(me=0;me<V.length;++me)ie=M[Z=V[me]],A(M,Z)&&(T[Z]=ie)}return T}},6189:(Se,Me,D)=>{"use strict";var _=D(1790),d=D(3855),G=D(2461),U=D(6255),R=D(152),$=d.apply(U()),A=function(te,N){return $(Object,arguments)};_(A,{getPolyfill:U,implementation:G,shim:R}),Se.exports=A},6255:(Se,Me,D)=>{"use strict";var _=D(2461);Se.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var U="abcdefghijklmnopqrst",R=U.split(""),$={},A=0;A<R.length;++A)$[R[A]]=R[A];var P=Object.assign({},$),te="";for(var N in P)te+=N;return U!==te}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var U=Object.preventExtensions({1:2});try{Object.assign(U,"xy")}catch{return"y"===U[1]}return!1}()?_:Object.assign}},152:(Se,Me,D)=>{"use strict";var _=D(1790),d=D(6255);Se.exports=function(){var U=d();return _(Object,{assign:U},{assign:function(){return Object.assign!==U}}),U}},151:(Se,Me)=>{"use strict";var D=Object.prototype.hasOwnProperty;function d($){try{return decodeURIComponent($.replace(/\+/g," "))}catch{return null}}function G($){try{return encodeURIComponent($)}catch{return null}}Me.stringify=function R($,A){A=A||"";var te,N,P=[];for(N in"string"!=typeof A&&(A="?"),$)if(D.call($,N)){if(!(te=$[N])&&(null==te||isNaN(te))&&(te=""),N=G(N),te=G(te),null===N||null===te)continue;P.push(N+"="+te)}return P.length?A+P.join("&"):""},Me.parse=function U($){for(var te,A=/([^=?#&]+)=?([^&]*)/g,P={};te=A.exec($);){var N=d(te[1]),j=d(te[2]);null===N||null===j||N in P||(P[N]=j)}return P}},4040:(Se,Me,D)=>{"use strict";var _=D(3677).functionsHaveConfigurableNames(),d=Object,G=TypeError;Se.exports=function(){if(null!=this&&this!==d(this))throw new G("RegExp.prototype.flags getter called on non-object");var R="";return this.hasIndices&&(R+="d"),this.global&&(R+="g"),this.ignoreCase&&(R+="i"),this.multiline&&(R+="m"),this.dotAll&&(R+="s"),this.unicode&&(R+="u"),this.sticky&&(R+="y"),R},_&&Object.defineProperty&&Object.defineProperty(Se.exports,"name",{value:"get flags"})},8704:(Se,Me,D)=>{"use strict";var _=D(1790),d=D(3855),G=D(4040),U=D(9783),R=D(9369),$=d(U());_($,{getPolyfill:U,implementation:G,shim:R}),Se.exports=$},9783:(Se,Me,D)=>{"use strict";var _=D(4040),d=D(1790).supportsDescriptors,G=Object.getOwnPropertyDescriptor;Se.exports=function(){if(d&&"gim"===/a/gim.flags){var R=G(RegExp.prototype,"flags");if(R&&"function"==typeof R.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var $="",A={};if(Object.defineProperty(A,"hasIndices",{get:function(){$+="d"}}),Object.defineProperty(A,"sticky",{get:function(){$+="y"}}),"dy"===$)return R.get}}return _}},9369:(Se,Me,D)=>{"use strict";var _=D(1790).supportsDescriptors,d=D(9783),G=Object.getOwnPropertyDescriptor,U=Object.defineProperty,R=TypeError,$=Object.getPrototypeOf,A=/a/;Se.exports=function(){if(!_||!$)throw new R("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var te=d(),N=$(A),j=G(N,"flags");return(!j||j.get!==te)&&U(N,"flags",{configurable:!0,enumerable:!1,get:te}),te}},47:Se=>{"use strict";Se.exports=function(D,_){if(_=_.split(":")[0],!(D=+D))return!1;switch(_){case"http":case"ws":return 80!==D;case"https":case"wss":return 443!==D;case"ftp":return 21!==D;case"gopher":return 70!==D;case"file":return!1}return 0!==D}},8432:(Se,Me,D)=>{"use strict";var _=D(9903),d=D(4263),G=D(8597),U=_("%TypeError%"),R=_("%WeakMap%",!0),$=_("%Map%",!0),A=d("WeakMap.prototype.get",!0),P=d("WeakMap.prototype.set",!0),te=d("WeakMap.prototype.has",!0),N=d("Map.prototype.get",!0),j=d("Map.prototype.set",!0),T=d("Map.prototype.has",!0),E=function(ee,ie){for(var Q,Z=ee;null!==(Q=Z.next);Z=Q)if(Q.key===ie)return Z.next=Q.next,Q.next=ee.next,ee.next=Q,Q};Se.exports=function(){var ie,Z,Q,ve={assert:function(Y){if(!ve.has(Y))throw new U("Side channel does not contain "+G(Y))},get:function(Y){if(R&&Y&&("object"==typeof Y||"function"==typeof Y)){if(ie)return A(ie,Y)}else if($){if(Z)return N(Z,Y)}else if(Q)return function(ee,ie){var Z=E(ee,ie);return Z&&Z.value}(Q,Y)},has:function(Y){if(R&&Y&&("object"==typeof Y||"function"==typeof Y)){if(ie)return te(ie,Y)}else if($){if(Z)return T(Z,Y)}else if(Q)return function(ee,ie){return!!E(ee,ie)}(Q,Y);return!1},set:function(Y,Pe){R&&Y&&("object"==typeof Y||"function"==typeof Y)?(ie||(ie=new R),P(ie,Y,Pe)):$?(Z||(Z=new $),j(Z,Y,Pe)):(Q||(Q={key:{},next:null}),function(ee,ie,Z){var Q=E(ee,ie);Q?Q.value=Z:ee.next={key:ie,next:ee.next,value:Z}}(Q,Y,Pe))}};return ve}},9233:(Se,Me,D)=>{"use strict";var _=D(47),d=D(151),G=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,U=/[\n\r\t]/g,R=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,$=/:\d+$/,A=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,P=/^[a-zA-Z]:/;function te(Z){return(Z||"").toString().replace(G,"")}var N=[["#","hash"],["?","query"],function(Q,ve){return E(ve.protocol)?Q.replace(/\\/g,"/"):Q},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],j={hash:1,query:1};function T(Z){var Q;Q=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ne,Y={},Pe=typeof(Z=Z||Q.location||{});if("blob:"===Z.protocol)Y=new V(unescape(Z.pathname),{});else if("string"===Pe)for(ne in Y=new V(Z,{}),j)delete Y[ne];else if("object"===Pe){for(ne in Z)ne in j||(Y[ne]=Z[ne]);void 0===Y.slashes&&(Y.slashes=R.test(Z.href))}return Y}function E(Z){return"file:"===Z||"ftp:"===Z||"http:"===Z||"https:"===Z||"ws:"===Z||"wss:"===Z}function M(Z,Q){Z=(Z=te(Z)).replace(U,""),Q=Q||{};var de,ve=A.exec(Z),Y=ve[1]?ve[1].toLowerCase():"",Pe=!!ve[2],ne=!!ve[3],ae=0;return Pe?ne?(de=ve[2]+ve[3]+ve[4],ae=ve[2].length+ve[3].length):(de=ve[2]+ve[4],ae=ve[2].length):ne?(de=ve[3]+ve[4],ae=ve[3].length):de=ve[4],"file:"===Y?ae>=2&&(de=de.slice(2)):E(Y)?de=ve[4]:Y?Pe&&(de=de.slice(2)):ae>=2&&E(Q.protocol)&&(de=ve[4]),{protocol:Y,slashes:Pe||E(Y),slashesCount:ae,rest:de}}function V(Z,Q,ve){if(Z=(Z=te(Z)).replace(U,""),!(this instanceof V))return new V(Z,Q,ve);var Y,Pe,ne,ae,de,xe,Ee=N.slice(),pe=typeof Q,B=this,Ae=0;for("object"!==pe&&"string"!==pe&&(ve=Q,Q=null),ve&&"function"!=typeof ve&&(ve=d.parse),Y=!(Pe=M(Z||"",Q=T(Q))).protocol&&!Pe.slashes,B.slashes=Pe.slashes||Y&&Q.slashes,B.protocol=Pe.protocol||Q.protocol||"",Z=Pe.rest,("file:"===Pe.protocol&&(2!==Pe.slashesCount||P.test(Z))||!Pe.slashes&&(Pe.protocol||Pe.slashesCount<2||!E(B.protocol)))&&(Ee[3]=[/(.*)/,"pathname"]);Ae<Ee.length;Ae++)"function"!=typeof(ae=Ee[Ae])?(xe=ae[1],(ne=ae[0])!=ne?B[xe]=Z:"string"==typeof ne?~(de="@"===ne?Z.lastIndexOf(ne):Z.indexOf(ne))&&("number"==typeof ae[2]?(B[xe]=Z.slice(0,de),Z=Z.slice(de+ae[2])):(B[xe]=Z.slice(de),Z=Z.slice(0,de))):(de=ne.exec(Z))&&(B[xe]=de[1],Z=Z.slice(0,de.index)),B[xe]=B[xe]||Y&&ae[3]&&Q[xe]||"",ae[4]&&(B[xe]=B[xe].toLowerCase())):Z=ae(Z,B);ve&&(B.query=ve(B.query)),Y&&Q.slashes&&"/"!==B.pathname.charAt(0)&&(""!==B.pathname||""!==Q.pathname)&&(B.pathname=function me(Z,Q){if(""===Z)return Q;for(var ve=(Q||"/").split("/").slice(0,-1).concat(Z.split("/")),Y=ve.length,Pe=ve[Y-1],ne=!1,ae=0;Y--;)"."===ve[Y]?ve.splice(Y,1):".."===ve[Y]?(ve.splice(Y,1),ae++):ae&&(0===Y&&(ne=!0),ve.splice(Y,1),ae--);return ne&&ve.unshift(""),("."===Pe||".."===Pe)&&ve.push(""),ve.join("/")}(B.pathname,Q.pathname)),"/"!==B.pathname.charAt(0)&&E(B.protocol)&&(B.pathname="/"+B.pathname),_(B.port,B.protocol)||(B.host=B.hostname,B.port=""),B.username=B.password="",B.auth&&(~(de=B.auth.indexOf(":"))?(B.username=B.auth.slice(0,de),B.username=encodeURIComponent(decodeURIComponent(B.username)),B.password=B.auth.slice(de+1),B.password=encodeURIComponent(decodeURIComponent(B.password))):B.username=encodeURIComponent(decodeURIComponent(B.auth)),B.auth=B.password?B.username+":"+B.password:B.username),B.origin="file:"!==B.protocol&&E(B.protocol)&&B.host?B.protocol+"//"+B.host:"null",B.href=B.toString()}V.prototype={set:function ee(Z,Q,ve){var Y=this;switch(Z){case"query":"string"==typeof Q&&Q.length&&(Q=(ve||d.parse)(Q)),Y[Z]=Q;break;case"port":Y[Z]=Q,_(Q,Y.protocol)?Q&&(Y.host=Y.hostname+":"+Q):(Y.host=Y.hostname,Y[Z]="");break;case"hostname":Y[Z]=Q,Y.port&&(Q+=":"+Y.port),Y.host=Q;break;case"host":Y[Z]=Q,$.test(Q)?(Q=Q.split(":"),Y.port=Q.pop(),Y.hostname=Q.join(":")):(Y.hostname=Q,Y.port="");break;case"protocol":Y.protocol=Q.toLowerCase(),Y.slashes=!ve;break;case"pathname":case"hash":if(Q){var Pe="pathname"===Z?"/":"#";Y[Z]=Q.charAt(0)!==Pe?Pe+Q:Q}else Y[Z]=Q;break;case"username":case"password":Y[Z]=encodeURIComponent(Q);break;case"auth":var ne=Q.indexOf(":");~ne?(Y.username=Q.slice(0,ne),Y.username=encodeURIComponent(decodeURIComponent(Y.username)),Y.password=Q.slice(ne+1),Y.password=encodeURIComponent(decodeURIComponent(Y.password))):Y.username=encodeURIComponent(decodeURIComponent(Q))}for(var ae=0;ae<N.length;ae++){var de=N[ae];de[4]&&(Y[de[1]]=Y[de[1]].toLowerCase())}return Y.auth=Y.password?Y.username+":"+Y.password:Y.username,Y.origin="file:"!==Y.protocol&&E(Y.protocol)&&Y.host?Y.protocol+"//"+Y.host:"null",Y.href=Y.toString(),Y},toString:function ie(Z){(!Z||"function"!=typeof Z)&&(Z=d.stringify);var Q,ve=this,Y=ve.host,Pe=ve.protocol;Pe&&":"!==Pe.charAt(Pe.length-1)&&(Pe+=":");var ne=Pe+(ve.protocol&&ve.slashes||E(ve.protocol)?"//":"");return ve.username?(ne+=ve.username,ve.password&&(ne+=":"+ve.password),ne+="@"):ve.password?(ne+=":"+ve.password,ne+="@"):"file:"!==ve.protocol&&E(ve.protocol)&&!Y&&"/"!==ve.pathname&&(ne+="@"),(":"===Y[Y.length-1]||$.test(ve.hostname)&&!ve.port)&&(Y+=":"),ne+=Y+ve.pathname,(Q="object"==typeof ve.query?Z(ve.query):ve.query)&&(ne+="?"!==Q.charAt(0)?"?"+Q:Q),ve.hash&&(ne+=ve.hash),ne}},V.extractProtocol=M,V.location=T,V.trimLeft=te,V.qs=d,Se.exports=V},2086:(Se,Me,D)=>{"use strict";var _=D(4764),d=D(1046),G=D(6180),U=D(6434),R=D(3);Se.exports=function(A){return null==A||"object"!=typeof A&&"function"!=typeof A?null:_(A)?"String":d(A)?"Number":G(A)?"Boolean":U(A)?"Symbol":R(A)?"BigInt":void 0}},5709:(Se,Me,D)=>{"use strict";var _=D(3037),d=D(5271),G=D(4263),U=G("Object.prototype.toString"),R=D(3261)(),$=typeof globalThis>"u"?global:globalThis,A=d(),P=G("String.prototype.slice"),te={},N=D(2292),j=Object.getPrototypeOf;R&&N&&j&&_(A,function(M){if("function"==typeof $[M]){var me=new $[M];if(Symbol.toStringTag in me){var V=j(me),ee=N(V,Symbol.toStringTag);if(!ee){var ie=j(V);ee=N(ie,Symbol.toStringTag)}te[M]=ee.get}}});var E=D(7673);Se.exports=function(me){return!!E(me)&&(R&&Symbol.toStringTag in me?function(me){var V=!1;return _(te,function(ee,ie){if(!V)try{var Z=ee.call(me);Z===ie&&(V=Z)}catch{}}),V}(me):P(U(me),8,-1))}},863:(Se,Me,D)=>{var _={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4812],"./ion-avatar_3.entry.js":[6655,8592,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8592,8308],"./ion-card_5.entry.js":[4690,8592,4690],"./ion-checkbox.entry.js":[4090,8592,4090],"./ion-chip.entry.js":[6214,8592,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime_3.entry.js":[9689,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9667],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,5473],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8592,8994],"./ion-radio_2.entry.js":[3592,8592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,290],"./ion-reorder_2.entry.js":[2666,8592,2666],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,8592,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8592,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8592,8395],"./ion-textarea.entry.js":[6357,8592,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function d(G){if(!D.o(_,G))return Promise.resolve().then(()=>{var $=new Error("Cannot find module '"+G+"'");throw $.code="MODULE_NOT_FOUND",$});var U=_[G],R=U[0];return Promise.all(U.slice(1).map(D.e)).then(()=>D(R))}d.keys=()=>Object.keys(_),d.id=863,Se.exports=d},4654:()=>{},5271:Se=>{"use strict";var Me=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],D=typeof globalThis>"u"?global:globalThis;Se.exports=function(){for(var d=[],G=0;G<Me.length;G++)"function"==typeof D[Me[G]]&&(d[d.length]=Me[G]);return d}},2292:(Se,Me,D)=>{"use strict";var d=D(9903)("%Object.getOwnPropertyDescriptor%",!0);if(d)try{d([],"length")}catch{d=null}Se.exports=d},2069:(Se,Me,D)=>{"use strict";var _=D(9102);if(D(524)()||D(6858)()){var d=Symbol.iterator;Se.exports=function(de){return null!=de&&typeof de[d]<"u"?de[d]():_(de)?Array.prototype[d].call(de):void 0}}else{var G=D(8266),U=D(4764),R=D(9903),$=R("%Map%",!0),A=R("%Set%",!0),P=D(4263),te=P("Array.prototype.push"),N=P("String.prototype.charCodeAt"),j=P("String.prototype.slice"),E=function(de){var xe=0;return{next:function(){var B,pe=xe>=de.length;return pe||(B=de[xe],xe+=1),{done:pe,value:B}}}},M=function(de,xe){if(G(de)||_(de))return E(de);if(U(de)){var Ee=0;return{next:function(){var B=function(de,xe){if(xe+1>=de.length)return xe+1;var pe=N(de,xe);if(pe<55296||pe>56319)return xe+1;var B=N(de,xe+1);return B<56320||B>57343?xe+1:xe+2}(de,Ee),Ae=j(de,Ee,B);return Ee=B,{done:B>de.length,value:Ae}}}}return xe&&typeof de["_es6-shim iterator_"]<"u"?de["_es6-shim iterator_"]():void 0};if($||A){var me=D(9898),V=D(3870),ee=P("Map.prototype.forEach",!0),ie=P("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var Z=P("Map.prototype.iterator",!0),Q=P("Set.prototype.iterator",!0),ve=function(ae){var de=!1;return{next:function(){try{return{done:de,value:de?void 0:ae.next()}}catch{return de=!0,{done:!0,value:void 0}}}}};var Y=P("Map.prototype.@@iterator",!0)||P("Map.prototype._es6-shim iterator_",!0),Pe=P("Set.prototype.@@iterator",!0)||P("Set.prototype._es6-shim iterator_",!0);Se.exports=function(de){return function(de){if(me(de)){if(Z)return ve(Z(de));if(Y)return Y(de);if(ee){var xe=[];return ee(de,function(pe,B){te(xe,[B,pe])}),E(xe)}}if(V(de)){if(Q)return ve(Q(de));if(Pe)return Pe(de);if(ie){var Ee=[];return ie(de,function(pe){te(Ee,pe)}),E(Ee)}}}(de)||M(de)}}else Se.exports=function(de){if(null!=de)return M(de,!0)}}},2107:(Se,Me,D)=>{"use strict";var _=D(9898),d=D(3870),G=D(5585),U=D(1902);Se.exports=function($){if($&&"object"==typeof $){if(_($))return"Map";if(d($))return"Set";if(G($))return"WeakMap";if(U($))return"WeakSet"}return!1}},3918:(Se,Me,D)=>{"use strict";function _(G,U,R,$,A,P,te){try{var N=G[P](te),j=N.value}catch(T){return void R(T)}N.done?U(j):Promise.resolve(j).then($,A)}function d(G){return function(){var U=this,R=arguments;return new Promise(function($,A){var P=G.apply(U,R);function te(j){_(P,$,A,te,N,"next",j)}function N(j){_(P,$,A,te,N,"throw",j)}te(void 0)})}}D.d(Me,{Z:()=>d})}},Se=>{Se(Se.s=9062)}]);
//# sourceMappingURL=main.5fd30dc3ed38afba.js.map