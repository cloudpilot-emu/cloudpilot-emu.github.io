(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{4940:(be,Ae,C)=>{"use strict";let T=null,Z=1;function O(e){const t=T;return T=e,t}function M(e){if((!ke(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Z)){if(!e.producerMustRecompute(e)&&!k(e))return e.dirty=!1,void(e.lastCleanEpoch=Z);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Z}}function k(e){Le(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(M(r),n!==r.version))return!0}return!1}function ie(e,t){if(function F(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Le(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)ie(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Le(o),o.producerIndexOfThis[n]=t}}function ke(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Le(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let ge=null;function ye(e){return"function"==typeof e}function Ie(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const Ee=Ie(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Xe(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class pt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(ye(n))try{n()}catch(i){t=i instanceof Ee?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{Yt(i)}catch(s){t=t??[],s instanceof Ee?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ee(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Yt(t);else{if(t instanceof pt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Xe(r,t)}remove(t){const{_finalizers:r}=this;r&&Xe(r,t),t instanceof pt&&t._removeParent(this)}}pt.EMPTY=(()=>{const e=new pt;return e.closed=!0,e})();const Dt=pt.EMPTY;function dn(e){return e instanceof pt||e&&"closed"in e&&ye(e.remove)&&ye(e.add)&&ye(e.unsubscribe)}function Yt(e){ye(e)?e():e.unsubscribe()}const Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},an={setTimeout(e,t,...r){const{delegate:n}=an;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=an;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function vr(e){an.setTimeout(()=>{const{onUnhandledError:t}=Qt;if(!t)throw e;t(e)})}function sr(){}const ei=Or("C",void 0,void 0);function Or(e,t,r){return{kind:e,value:t,error:r}}let Qn=null;function Eo(e){if(Qt.useDeprecatedSynchronousErrorHandling){const t=!Qn;if(t&&(Qn={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=Qn;if(Qn=null,r)throw n}}else e()}class ti extends pt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,dn(t)&&t.add(this)):this.destination=Xt}static create(t,r,n){return new Me(t,r,n)}next(t){this.isStopped?In(function ho(e){return Or("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?In(function Pr(e){return Or("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?In(ei,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ar=Function.prototype.bind;function oo(e,t){return ar.call(e,t)}class Te{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){tn(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){tn(n)}else tn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){tn(r)}}}class Me extends ti{constructor(t,r,n){let o;if(super(),ye(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&Qt.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&oo(t.next,i),error:t.error&&oo(t.error,i),complete:t.complete&&oo(t.complete,i)}):o=t}this.destination=new Te(o)}}function tn(e){Qt.useDeprecatedSynchronousErrorHandling?function Po(e){Qt.useDeprecatedSynchronousErrorHandling&&Qn&&(Qn.errorThrown=!0,Qn.error=e)}(e):vr(e)}function In(e,t){const{onStoppedNotification:r}=Qt;r&&an.setTimeout(()=>r(e,t))}const Xt={closed:!0,next:sr,error:function Ht(e){throw e},complete:sr},qn="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ln(e){return e}function Kr(e){return 0===e.length?Ln:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let kn=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function zi(e){return e&&e instanceof ti||function lo(e){return e&&ye(e.next)&&ye(e.error)&&ye(e.complete)}(e)&&dn(e)}(r)?r:new Me(r,n,o);return Eo(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Go(n))((o,i)=>{const s=new Me({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[qn](){return this}pipe(...r){return Kr(r)(this)}toPromise(r){return new(r=Go(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function Go(e){var t;return null!==(t=e??Qt.Promise)&&void 0!==t?t:Promise}const Uo=Ie(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xn=(()=>{class e extends kn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new yr(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Uo}next(r){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Dt:(this.currentObservers=null,i.push(r),new pt(()=>{this.currentObservers=null,Xe(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new kn;return r.source=this,r}}return e.create=(t,r)=>new yr(t,r),e})();class yr extends xn{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Dt}}function xr(e){return ye(e?.lift)}function vn(e){return t=>{if(xr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function gn(e,t,r,n,o){return new mi(e,t,r,n,o)}class mi extends ti{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function nn(e,t){return vn((r,n)=>{let o=0;r.subscribe(gn(n,i=>{n.next(e.call(t,i,o++))}))})}function ne(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Wo(e){return this instanceof Wo?(this.v=e,this):new Wo(e)}function yn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ti(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const qi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function g(e){return ye(e?.then)}function E(e){return ye(e[qn])}function z(e){return Symbol.asyncIterator&&ye(e?.[Symbol.asyncIterator])}function se(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ue=function Pe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ye(e){return ye(e?.[ue])}function A(e){return function ni(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(m){n[m]&&(o[m]=function(y){return new Promise(function(H,J){i.push([m,y,H,J])>1||a(m,y)})})}function a(m,y){try{!function l(m){m.value instanceof Wo?Promise.resolve(m.value.v).then(c,f):p(i[0][2],m)}(n[m](y))}catch(H){p(i[0][3],H)}}function c(m){a("next",m)}function f(m){a("throw",m)}function p(m,y){m(y),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield Wo(r.read());if(o)return yield Wo(void 0);yield yield Wo(n)}}finally{r.releaseLock()}})}function Qe(e){return ye(e?.getReader)}function je(e){if(e instanceof kn)return e;if(null!=e){if(E(e))return function ct(e){return new kn(t=>{const r=e[qn]();if(ye(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(qi(e))return function wt(e){return new kn(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(g(e))return function Et(e){return new kn(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,vr)})}(e);if(z(e))return pr(e);if(Ye(e))return function bn(e){return new kn(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(Qe(e))return function Mr(e){return pr(A(e))}(e)}throw se(e)}function pr(e){return new kn(t=>{(function jr(e,t){var r,n,o,i;return function Wi(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(p){s(p)}}function l(f){try{c(n.throw(f))}catch(p){s(p)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=yn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Un(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function Rn(e,t,r=1/0){return ye(t)?Rn((n,o)=>nn((i,s)=>t(n,i,o,s))(je(e(n,o))),r):("number"==typeof t&&(r=t),vn((n,o)=>function Ki(e,t,r,n,o,i,s,a){const l=[];let c=0,f=0,p=!1;const m=()=>{p&&!l.length&&!c&&t.complete()},y=J=>c<n?H(J):l.push(J),H=J=>{i&&t.next(J),c++;let _e=!1;je(r(J,f++)).subscribe(gn(t,we=>{o?.(we),i?y(we):t.next(we)},()=>{_e=!0},void 0,()=>{if(_e)try{for(c--;l.length&&c<n;){const we=l.shift();s?Un(t,s,()=>H(we)):H(we)}m()}catch(we){t.error(we)}}))};return e.subscribe(gn(t,y,()=>{p=!0,m()})),()=>{a?.()}}(n,o,e,r)))}function Oo(e=1/0){return Rn(Ln,e)}const Io=new kn(e=>e.complete());function Js(e){return e&&ye(e.schedule)}function Ns(e){return e[e.length-1]}function ea(e){return ye(Ns(e))?e.pop():void 0}function Xi(e){return Js(Ns(e))?e.pop():void 0}function ta(e,t=0){return vn((r,n)=>{r.subscribe(gn(n,o=>Un(n,e,()=>n.next(o),t),()=>Un(n,e,()=>n.complete(),t),o=>Un(n,e,()=>n.error(o),t)))})}function na(e,t=0){return vn((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function ra(e,t){if(!e)throw new Error("Iterable cannot be null");return new kn(r=>{Un(r,t,()=>{const n=e[Symbol.asyncIterator]();Un(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function br(e,t){return t?function Pa(e,t){if(null!=e){if(E(e))return function Ta(e,t){return je(e).pipe(na(t),ta(t))}(e,t);if(qi(e))return function Aa(e,t){return new kn(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(g(e))return function Ma(e,t){return je(e).pipe(na(t),ta(t))}(e,t);if(z(e))return ra(e,t);if(Ye(e))return function ka(e,t){return new kn(r=>{let n;return Un(r,t,()=>{n=e[ue](),Un(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>ye(n?.return)&&n.return()})}(e,t);if(Qe(e))return function Ra(e,t){return ra(A(e),t)}(e,t)}throw se(e)}(e,t):je(e)}function oa(...e){const t=Xi(e),r=function xa(e,t){return"number"==typeof Ns(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?je(n[0]):Oo(r)(br(n,t)):Io}class co extends xn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Gt(...e){return br(e,Xi(e))}function ia(e={}){const{connector:t=(()=>new xn),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,f=!1,p=!1;const m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=l=void 0,f=p=!1},H=()=>{const J=s;y(),J?.unsubscribe()};return vn((J,_e)=>{c++,!p&&!f&&m();const we=l=l??t();_e.add(()=>{c--,0===c&&!p&&!f&&(a=Fs(H,o))}),we.subscribe(_e),!s&&c>0&&(s=new Me({next:Re=>we.next(Re),error:Re=>{p=!0,m(),a=Fs(y,r,Re),we.error(Re)},complete:()=>{f=!0,m(),a=Fs(y,n),we.complete()}}),je(J).subscribe(s))})(i)}}function Fs(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new Me({next:()=>{n.unsubscribe(),e()}});return je(t(...r)).subscribe(n)}function Qr(e,t){return vn((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe(gn(n,l=>{o?.unsubscribe();let c=0;const f=i++;je(e(l,f)).subscribe(o=gn(n,p=>n.next(t?t(l,p,f,c++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Ls(e,t=Ln){return e=e??Oa,vn((r,n)=>{let o,i=!0;r.subscribe(gn(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function Oa(e,t){return e===t}function Pn(e){for(let t in e)if(e[t]===Pn)return t;throw Error("Could not find renamed property on target object.")}function ps(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Cr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Cr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function $s(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Na=Pn({__forward_ref__:Pn});function Fn(e){return e.__forward_ref__=Fn,e.toString=function(){return Cr(this())},e}function zt(e){return hs(e)?e():e}function hs(e){return"function"==typeof e&&e.hasOwnProperty(Na)&&e.__forward_ref__===Fn}function Bs(e){return e&&!!e.\u0275providers}const Vs="https://g.co/ng/security#xss";class Ke extends Error{constructor(t,r){super(function Qi(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const yi=Pn({\u0275cmp:Pn}),sa=Pn({\u0275dir:Pn}),aa=Pn({\u0275pipe:Pn}),la=Pn({\u0275mod:Pn}),ri=Pn({\u0275fac:Pn}),hr=Pn({__NG_ELEMENT_ID__:Pn}),Zo=Pn({__NG_ENV_ID__:Pn});function Lt(e){return"string"==typeof e?e:null==e?"":String(e)}function ms(e,t){throw new Ke(-201,!1)}function Jt(e,t){null==e&&function ut(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function $e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function rn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Vn(e){return tr(e,L)||tr(e,Je)}function tr(e,t){return e.hasOwnProperty(t)?e[t]:null}function h(e){return e&&(e.hasOwnProperty(ve)||e.hasOwnProperty($t))?e[ve]:null}const L=Pn({\u0275prov:Pn}),ve=Pn({\u0275inj:Pn}),Je=Pn({ngInjectableDef:Pn}),$t=Pn({ngInjectorDef:Pn});var At=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(At||{});let On;function pn(){return On}function wn(e){const t=On;return On=e,t}function oi(e,t,r){const n=Vn(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&At.Optional?null:void 0!==t?t:void ms(Cr(e))}const jn=globalThis;class ft{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=$e({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ql={},Eu="__NG_DI_FLAG__",kc="ngTempTokenPath",Sh=/\n/gm,tf="__source";let ml;function ca(e){const t=ml;return ml=e,t}function Dh(e,t=At.Default){if(void 0===ml)throw new Ke(-203,!1);return null===ml?oi(e,void 0,t):ml.get(e,t&At.Optional?null:void 0,t)}function ae(e,t=At.Default){return(pn()||Dh)(zt(e),t)}function ot(e,t=At.Default){return ae(e,Rc(t))}function Rc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Du(e){const t=[];for(let r=0;r<e.length;r++){const n=zt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Ke(900,!1);let o,i=At.Default;for(let s=0;s<n.length;s++){const a=n[s],l=Ih(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ae(o,i))}else t.push(ae(n))}return t}function Kl(e,t){return e[Eu]=t,e.prototype[Eu]=t,e}function Ih(e){return e[Eu]}function js(e){return{toString:e}.toString()}var Pc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Pc||{}),Ji=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ji||{});const gs={},zn=[];function rf(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function Iu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];af(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function sf(e){return 3===e||4===e||6===e}function af(e){return 64===e.charCodeAt(0)}function Yl(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||lf(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function lf(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const cf="ng-template";function Mh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==rf(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function uf(e){return 4===e.type&&e.value!==cf}function Ah(e,t,r){return t===(4!==e.type||r?e.value:cf)}function kh(e,t,r){let n=4;const o=e.attrs||[],i=function Oh(e){for(let t=0;t<e.length;t++)if(sf(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!Ah(e,l,r)||""===l&&1===t.length){if(es(n))return!1;s=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Mh(e.attrs,c,r)){if(es(n))return!1;s=!0}continue}const p=Rh(8&n?"class":l,o,uf(e),r);if(-1===p){if(es(n))return!1;s=!0;continue}if(""!==c){let m;m=p>i?"":o[p+1].toLowerCase();const y=8&n?m:null;if(y&&-1!==rf(y,c,0)||2&n&&c!==m){if(es(n))return!1;s=!0}}}}else{if(!s&&!es(n)&&!es(l))return!1;if(s&&es(l))continue;s=!1,n=l|1&n}}return es(n)||s}function es(e){return 0==(1&e)}function Rh(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Nh(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function df(e,t,r=!1){for(let n=0;n<t.length;n++)if(kh(e,t[n],r))return!0;return!1}function Fh(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function ff(e,t){return e?":not("+t.trim()+")":t}function Lh(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!es(s)&&(t+=ff(i,o),o=""),n=s,i=i||!es(n);r++}return""!==o&&(t+=ff(i,o)),t}function We(e){return js(()=>{const t=hf(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Pc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ji.Emulated,styles:e.styles||zn,_:null,schemas:e.schemas||null,tView:null,id:""};mf(r);const n=e.dependencies;return r.directiveDefs=Oc(n,!1),r.pipeDefs=Oc(n,!0),r.id=function Uh(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function Vh(e){return Cn(e)||go(e)}function jh(e){return null!==e}function eo(e){return js(()=>({type:e.type,bootstrap:e.bootstrap||zn,declarations:e.declarations||zn,imports:e.imports||zn,exports:e.exports||zn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function pf(e,t){if(null==e)return gs;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function Ot(e){return js(()=>{const t=hf(e);return mf(t),t})}function xo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Cn(e){return e[yi]||null}function go(e){return e[sa]||null}function No(e){return e[aa]||null}function qo(e,t){const r=e[la]||null;if(!r&&!0===t)throw new Error(`Type ${Cr(e)} does not have '\u0275mod' property.`);return r}function hf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||gs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||zn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pf(e.inputs,t),outputs:pf(e.outputs),debugInfo:null}}function mf(e){e.features?.forEach(t=>t(e))}function Oc(e,t){if(!e)return null;const r=t?No:Vh;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(jh)}const to=0,lt=1,Zt=2,$r=3,ts=4,Ko=5,ns=6,gl=7,mr=8,ii=9,Xl=10,on=11,Nc=12,Hh=13,_l=14,Gr=15,nr=16,bi=17,sn=18,Fc=19,zh=20,Fa=21,xu=22,vl=23,dt=25,To=1,Oe=7,En=9,ln=10;var po=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(po||{});function rr(e){return Array.isArray(e)&&"object"==typeof e[To]}function Jn(e){return Array.isArray(e)&&!0===e[To]}function _o(e){return 0!=(4&e.flags)}function vo(e){return e.componentOffset>-1}function Dr(e){return 1==(1&e.flags)}function Bt(e){return!!e.template}function si(e){return 0!=(512&e[Zt])}function Lc(e,t){return e.hasOwnProperty(ri)?e[ri]:null}class HP{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ci(){return IS}function IS(e){return e.type.prototype.ngOnChanges&&(e.setInput=WP),zP}function zP(){const e=TS(this),t=e?.current;if(t){const r=e.previous;if(r===gs)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function WP(e,t,r,n){const o=this.declaredInputs[r],i=TS(e)||function ZP(e,t){return e[xS]=t}(e,{previous:gs,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new HP(l&&l.currentValue,t,a===gs),e[n]=t}Ci.ngInherit=!0;const xS="__ngSimpleChanges__";function TS(e){return e[xS]||null}const La=function(e,t,r){};function Hr(e){for(;Array.isArray(e);)e=e[to];return e}function yf(e,t){return Hr(t[e])}function Mi(e,t){return Hr(t[e.index])}function bf(e,t){return e.data[t]}function Mu(e,t){return e[t]}function vs(e,t){const r=t[e];return rr(r)?r:r[to]}function ov(e){return 128==(128&e[Zt])}function $a(e,t){return null==t?null:e[t]}function kS(e){e[bi]=0}function QP(e){1024&e[Zt]||(e[Zt]|=1024,ov(e)&&Zh(e))}function PS(e){return 9216&e[Zt]||e[vl]?.dirty}function OS(e){PS(e)&&Zh(e)}function Zh(e){let t=e[$r];for(;null!==t&&!(Jn(t)&&t[Zt]&po.HasChildViewsToRefresh||rr(t)&&8192&t[Zt]);){if(Jn(t))t[Zt]|=po.HasChildViewsToRefresh;else if(t[Zt]|=8192,!ov(t))break;t=t[$r]}}function qh(e,t){if(256==(256&e[Zt]))throw new Ke(911,!1);null===e[Fa]&&(e[Fa]=[]),e[Fa].push(t)}const cn={lFrame:HS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function FS(){return cn.bindingsEnabled}function Au(){return null!==cn.skipHydrationRootTNode}function ze(){return cn.lFrame.lView}function Wn(){return cn.lFrame.tView}function It(e){return cn.lFrame.contextLView=e,e[mr]}function xt(e){return cn.lFrame.contextLView=null,e}function Ar(){let e=LS();for(;null!==e&&64===e.type;)e=e.parent;return e}function LS(){return cn.lFrame.currentTNode}function Ba(e,t){const r=cn.lFrame;r.currentTNode=e,r.isParent=t}function sv(){return cn.lFrame.isParent}function av(){cn.lFrame.isParent=!1}function Ai(){const e=cn.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function yl(){return cn.lFrame.bindingIndex}function Va(){return cn.lFrame.bindingIndex++}function bl(e){const t=cn.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function cO(e,t){const r=cn.lFrame;r.bindingIndex=r.bindingRootIndex=e,lv(t)}function lv(e){cn.lFrame.currentDirectiveIndex=e}function jS(){return cn.lFrame.currentQueryIndex}function uv(e){cn.lFrame.currentQueryIndex=e}function dO(e){const t=e[lt];return 2===t.type?t.declTNode:1===t.type?e[Ko]:null}function GS(e,t,r){if(r&At.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&At.Host||(o=dO(i),null===o||(i=i[_l],10&o.type))););if(null===o)return!1;t=o,e=i}const n=cn.lFrame=US();return n.currentTNode=t,n.lView=e,!0}function dv(e){const t=US(),r=e[lt];cn.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function US(){const e=cn.lFrame,t=null===e?null:e.child;return null===t?HS(e):t}function HS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function zS(){const e=cn.lFrame;return cn.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const WS=zS;function fv(){const e=zS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Si(){return cn.lFrame.selectedIndex}function $c(e){cn.lFrame.selectedIndex=e}function no(){const e=cn.lFrame;return bf(e.tView,e.selectedIndex)}let qS=!0;function Kh(){return qS}function Ql(e){qS=e}function Yh(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function Xh(e,t,r){KS(e,t,3,r)}function Qh(e,t,r,n){(3&e[Zt])===r&&KS(e,t,r,n)}function pv(e,t){let r=e[Zt];(3&r)===t&&(r&=16383,r+=1,e[Zt]=r)}function KS(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[bi]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[bi]+=65536),(a<i||-1==i)&&(vO(e,r,t,l),e[bi]=(4294901760&e[bi])+l+2),l++}function YS(e,t){La(4,e,t);const r=O(null);try{t.call(e)}finally{O(r),La(5,e,t)}}function vO(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[Zt]>>14<e[bi]>>16&&(3&e[Zt])===t&&(e[Zt]+=16384,YS(a,i)):YS(a,i)}const ku=-1;class Sf{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function mv(e){return e!==ku}function wf(e){return 32767&e}function Ef(e,t){let r=function wO(e){return e>>16}(e),n=t;for(;r>0;)n=n[_l],r--;return n}let gv=!0;function Jh(e){const t=gv;return gv=e,t}const XS=255,QS=5;let EO=0;const ja={};function em(e,t){const r=JS(e,t);if(-1!==r)return r;const n=t[lt];n.firstCreatePass&&(e.injectorIndex=t.length,_v(n.data,e),_v(t,null),_v(n.blueprint,null));const o=tm(e,t),i=e.injectorIndex;if(mv(o)){const s=wf(o),a=Ef(o,t),l=a[lt].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function _v(e,t){e.push(0,0,0,0,0,0,0,0,t)}function JS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function tm(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=sw(o),null===n)return ku;if(r++,o=o[_l],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return ku}function vv(e,t,r){!function DO(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(hr)&&(n=r[hr]),null==n&&(n=r[hr]=EO++);const o=n&XS;t.data[e+(o>>QS)]|=1<<o}(e,t,r)}function ew(e,t,r){if(r&At.Optional||void 0!==e)return e;ms()}function tw(e,t,r,n){if(r&At.Optional&&void 0===n&&(n=null),!(r&(At.Self|At.Host))){const o=e[ii],i=wn(void 0);try{return o?o.get(t,n,r&At.Optional):oi(t,n,r&At.Optional)}finally{wn(i)}}return ew(n,0,r)}function nw(e,t,r,n=At.Default,o){if(null!==e){if(2048&t[Zt]&&!(n&At.Self)){const s=function AO(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[Zt]&&!(512&s[Zt]);){const a=rw(i,s,r,n|At.Self,ja);if(a!==ja)return a;let l=i.parent;if(!l){const c=s[zh];if(c){const f=c.get(r,ja,n);if(f!==ja)return f}l=sw(s),s=s[_l]}i=l}return o}(e,t,r,n,ja);if(s!==ja)return s}const i=rw(e,t,r,n,ja);if(i!==ja)return i}return tw(t,r,n,o)}function rw(e,t,r,n,o){const i=function TO(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(hr)?e[hr]:void 0;return"number"==typeof t?t>=0?t&XS:MO:t}(r);if("function"==typeof i){if(!GS(t,e,n))return n&At.Host?ew(o,0,n):tw(t,r,n,o);try{let s;if(s=i(n),null!=s||n&At.Optional)return s;ms()}finally{WS()}}else if("number"==typeof i){let s=null,a=JS(e,t),l=ku,c=n&At.Host?t[Gr][Ko]:null;for((-1===a||n&At.SkipSelf)&&(l=-1===a?tm(e,t):t[a+8],l!==ku&&iw(n,!1)?(s=t[lt],a=wf(l),t=Ef(l,t)):a=-1);-1!==a;){const f=t[lt];if(ow(i,a,f.data)){const p=xO(a,t,r,s,n,c);if(p!==ja)return p}l=t[a+8],l!==ku&&iw(n,t[lt].data[a+8]===c)&&ow(i,a,t)?(s=f,a=wf(l),t=Ef(l,t)):a=-1}}return o}function xO(e,t,r,n,o,i){const s=t[lt],a=s.data[e+8],f=nm(a,s,r,null==n?vo(a)&&gv:n!=s&&0!=(3&a.type),o&At.Host&&i===a);return null!==f?Bc(t,s,f,a):ja}function nm(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,m=o?a+f:e.directiveEnd;for(let y=n?a:a+f;y<m;y++){const H=s[y];if(y<l&&r===H||y>=l&&H.type===r)return y}if(o){const y=s[l];if(y&&Bt(y)&&y.type===r)return l}return null}function Bc(e,t,r,n){let o=e[r];const i=t.data;if(function yO(e){return e instanceof Sf}(o)){const s=o;s.resolving&&function fl(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Mn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Lt(e)}(i[r]));const a=Jh(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?wn(s.injectImpl):null;GS(e,n,At.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function _O(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=IS(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==c&&wn(c),Jh(a),s.resolving=!1,WS()}}return o}function ow(e,t,r){return!!(r[t+(e>>QS)]&1<<e)}function iw(e,t){return!(e&At.Self||e&At.Host&&t)}class Yo{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return nw(this._tNode,this._lView,t,Rc(n),r)}}function MO(){return new Yo(Ar(),ze())}function zr(e){return js(()=>{const t=e.prototype.constructor,r=t[ri]||yv(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[ri]||yv(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function yv(e){return hs(e)?()=>{const t=yv(zt(e));return t&&t()}:Lc(e)}function sw(e){const t=e[lt],r=t.type;return 2===r?t.declTNode:1===r?e[Ko]:null}function Jl(e){return function IO(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(sf(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Ar(),e)}const Nu="__parameters__";function Lu(e,t,r){return js(()=>{const n=function bv(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,c,f){const p=l.hasOwnProperty(Nu)?l[Nu]:Object.defineProperty(l,Nu,{value:[]})[Nu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function Bu(e,t){e.forEach(r=>Array.isArray(r)?Bu(r,t):t(r))}function lw(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function rm(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function If(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function ys(e,t,r){let n=Vu(e,t);return n>=0?e[1|n]=r:(n=~n,function cw(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function Sv(e,t){const r=Vu(e,t);if(r>=0)return e[1|r]}function Vu(e,t){return function uw(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const im=Kl(Lu("Optional"),8),sm=Kl(Lu("SkipSelf"),4),Gu=new ft("ENVIRONMENT_INITIALIZER"),hw=new ft("INJECTOR",-1),Dv=new ft("INJECTOR_DEF_TYPES");class lm{get(t,r=ql){if(r===ql){const n=new Error(`NullInjectorError: No provider for ${Cr(t)}!`);throw n.name="NullInjectorError",n}return r}}function QO(...e){return{\u0275providers:mw(0,e),\u0275fromNgModule:!0}}function mw(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return Bu(t,s=>{const a=s;cm(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&gw(o,i),r}function gw(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];xv(o,i=>{t(i,n)})}}function cm(e,t,r,n){if(!(e=zt(e)))return!1;let o=null,i=h(e);const s=!i&&Cn(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=h(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)cm(c,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;n.add(o);try{Bu(i.imports,f=>{cm(f,t,r,n)&&(c||=[],c.push(f))})}finally{}void 0!==c&&gw(c,t)}if(!a){const c=Lc(o)||(()=>new o);t({provide:o,useFactory:c,deps:zn},o),t({provide:Dv,useValue:o,multi:!0},o),t({provide:Gu,useValue:()=>ae(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;xv(l,f=>{t(f,c)})}}}return o!==e&&void 0!==e.providers}function xv(e,t){for(let r of e)Bs(r)&&(r=r.\u0275providers),Array.isArray(r)?xv(r,t):t(r)}const JO=Pn({provide:String,useValue:Pn});function Tv(e){return null!==e&&"object"==typeof e&&JO in e}function Vc(e){return"function"==typeof e}const Mv=new ft("Set Injector scope."),um={},t2={};let Av;function dm(){return void 0===Av&&(Av=new lm),Av}class ai{}class Uu extends ai{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Rv(t,s=>this.processProvider(s)),this.records.set(hw,Hu(void 0,this)),o.has("environment")&&this.records.set(ai,Hu(void 0,this));const i=this.records.get(Mv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Dv,zn,At.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=ca(this),n=wn(void 0);try{return t()}finally{ca(r),wn(n)}}get(t,r=ql,n=At.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Zo))return t[Zo](this);n=Rc(n);const i=ca(this),s=wn(void 0);try{if(!(n&At.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function s2(e){return"function"==typeof e||"object"==typeof e&&e instanceof ft}(t)&&Vn(t);l=c&&this.injectableDefInScope(c)?Hu(kv(t),um):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&At.Self?dm():this.parent).get(t,r=n&At.Optional&&r===ql?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[kc]=a[kc]||[]).unshift(Cr(t)),i)throw a;return function xh(e,t,r,n){const o=e[kc];throw t[tf]&&o.unshift(t[tf]),e.message=function Th(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Cr(t);if(Array.isArray(t))o=t.map(Cr).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Cr(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(Sh,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[kc]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{wn(s),ca(i)}}resolveInjectorInitializers(){const t=ca(this),r=wn(void 0);try{const o=this.get(Gu,zn,At.Self);for(const i of o)i()}finally{ca(t),wn(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(Cr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processProvider(t){let r=Vc(t=zt(t))?t:zt(t&&t.provide);const n=function r2(e){return Tv(e)?Hu(void 0,e.useValue):Hu(yw(e),um)}(t);if(Vc(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Hu(void 0,um,!0),o.factory=()=>Du(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===um&&(r.value=t2,r.value=r.factory()),"object"==typeof r.value&&r.value&&function i2(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=zt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function kv(e){const t=Vn(e),r=null!==t?t.factory:Lc(e);if(null!==r)return r;if(e instanceof ft)throw new Ke(204,!1);if(e instanceof Function)return function n2(e){const t=e.length;if(t>0)throw If(t,"?"),new Ke(204,!1);const r=function Hn(e){return e&&(e[L]||e[Je])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Ke(204,!1)}function yw(e,t,r){let n;if(Vc(e)){const o=zt(e);return Lc(o)||kv(o)}if(Tv(e))n=()=>zt(e.useValue);else if(function vw(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...Du(e.deps||[]));else if(function _w(e){return!(!e||!e.useExisting)}(e))n=()=>ae(zt(e.useExisting));else{const o=zt(e&&(e.useClass||e.provide));if(!function o2(e){return!!e.deps}(e))return Lc(o)||kv(o);n=()=>new o(...Du(e.deps))}return n}function Hu(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Rv(e,t){for(const r of e)Array.isArray(r)?Rv(r,t):r&&Bs(r)?Rv(r.\u0275providers,t):t(r)}function ec(e,t){e instanceof Uu&&e.assertNotDestroyed();const n=ca(e),o=wn(void 0);try{return t()}finally{ca(n),wn(o)}}function ww(e,t=null,r=null,n){const o=Ew(e,t,r,n);return o.resolveInjectorInitializers(),o}function Ew(e,t=null,r=null,n,o=new Set){const i=[r||zn,QO(e)];return n=n||("object"==typeof e?void 0:Cr(e)),new Uu(i,t||dm(),n||null,o)}let Nv,Wr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return ww({name:""},o,n,"");{const i=n.name??"";return ww({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=ql,e.NULL=new lm,e.\u0275prov=$e({token:e,providedIn:"any",factory:()=>ae(hw)}),e.__NG_ELEMENT_ID__=-1,t})();const pm=new ft("AppId",{providedIn:"root",factory:()=>m2}),m2="ng",Iw=new ft("Platform Initializer"),rc=new ft("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xw=new ft("CSP nonce",{providedIn:"root",factory:()=>function nc(){if(void 0!==Nv)return Nv;if(typeof document<"u")return document;throw new Ke(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function bs(e){return e instanceof Function?e():e}function _m(e){return 128==(128&e.flags)}var sc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(sc||{});const D2=/^>|^->|<!--|-->|--!>|<!-$/g,I2=/(<|>)/g,x2="\u200b$1\u200b";const Vv=new Map;let T2=0;const Gv="__ngContext__";function wi(e,t){rr(t)?(e[Gv]=t[Fc],function A2(e){Vv.set(e[Fc],e)}(t)):e[Gv]=t}let Uv;function Hv(e,t){return Uv(e,t)}function Rf(e){const t=e[$r];return Jn(t)?t[$r]:t}function zw(e){return Zw(e[Nc])}function Ww(e){return Zw(e[ts])}function Zw(e){for(;null!==e&&!Jn(e);)e=e[ts];return e}function Wu(e,t,r,n,o){if(null!=n){let i,s=!1;Jn(n)?i=n:rr(n)&&(s=!0,n=n[to]);const a=Hr(n);0===e&&null!==r?null==o?Xw(t,r,a):jc(t,r,a,o||null,!0):1===e&&null!==r?jc(t,r,a,o||null,!0):2===e?function Em(e,t,r){const n=Sm(e,t);n&&function K2(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function Q2(e,t,r,n,o){const i=r[Oe];i!==Hr(r)&&Wu(t,e,n,i,o);for(let a=ln;a<r.length;a++){const l=r[a];Nf(l[lt],l,e,t,n,i)}}(t,e,i,r,o)}}function zv(e,t){return e.createComment(function Lw(e){return e.replace(D2,t=>t.replace(I2,x2))}(t))}function bm(e,t,r){return e.createElement(t,r)}function Kw(e,t){const r=e[En],n=r.indexOf(t);r.splice(n,1)}function Pf(e,t){if(e.length<=ln)return;const r=ln+t,n=e[r];if(n){const o=n[nr];null!==o&&o!==e&&Kw(o,n),t>0&&(e[r-1][ts]=n[ts]);const i=rm(e,ln+t);!function j2(e,t){Nf(e,t,t[on],2,null,null),t[to]=null,t[Ko]=null}(n[lt],n);const s=i[sn];null!==s&&s.detachView(i[lt]),n[$r]=null,n[ts]=null,n[Zt]&=-129}return n}function Cm(e,t){if(!(256&t[Zt])){const r=t[on];r.destroyNode&&Nf(e,t,r,3,null,null),function H2(e){let t=e[Nc];if(!t)return Wv(e[lt],e);for(;t;){let r=null;if(rr(t))r=t[Nc];else{const n=t[ln];n&&(r=n)}if(!r){for(;t&&!t[ts]&&t!==e;)rr(t)&&Wv(t[lt],t),t=t[$r];null===t&&(t=e),rr(t)&&Wv(t[lt],t),r=t&&t[ts]}t=r}}(t)}}function Wv(e,t){if(!(256&t[Zt])){t[Zt]&=-129,t[Zt]|=256,t[vl]&&function ee(e){if(Le(e),ke(e))for(let t=0;t<e.producerNode.length;t++)ie(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[vl]),function q2(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof Sf)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];La(4,a,l);try{l.call(a)}finally{La(5,a,l)}}else{La(4,o,i);try{i.call(o)}finally{La(5,o,i)}}}}}(e,t),function Z2(e,t){const r=e.cleanup,n=t[gl];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[gl]=null);const o=t[Fa];if(null!==o){t[Fa]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[lt].type&&t[on].destroy();const r=t[nr];if(null!==r&&Jn(t[$r])){r!==t[$r]&&Kw(r,t);const n=t[sn];null!==n&&n.detachView(e)}!function k2(e){Vv.delete(e[Fc])}(t)}}function Zv(e,t,r){return function Yw(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[to];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===Ji.None||i===Ji.Emulated)return null}return Mi(n,r)}}(e,t.parent,r)}function jc(e,t,r,n,o){e.insertBefore(t,r,n,o)}function Xw(e,t,r){e.appendChild(t,r)}function Qw(e,t,r,n,o){null!==n?jc(e,t,r,n,o):Xw(e,t,r)}function Sm(e,t){return e.parentNode(t)}function Jw(e,t,r){return tE(e,t,r)}let qv,Dm,tE=function eE(e,t,r){return 40&e.type?Mi(e,r):null};function wm(e,t,r,n){const o=Zv(e,n,t),i=t[on],a=Jw(n.parent||t[Ko],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)Qw(i,o,r[l],a,!1);else Qw(i,o,r,a,!1);void 0!==qv&&qv(i,n,t,r,o)}function Of(e,t){if(null!==t){const r=t.type;if(3&r)return Mi(t,e);if(4&r)return Kv(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Of(e,n);{const o=e[t.index];return Jn(o)?Kv(-1,o):Hr(o)}}if(32&r)return Hv(t,e)()||Hr(e[t.index]);{const n=rE(e,t);return null!==n?Array.isArray(n)?n[0]:Of(Rf(e[Gr]),n):Of(e,t.next)}}return null}function rE(e,t){return null!==t?e[Gr][Ko].projection[t.projection]:null}function Kv(e,t){const r=ln+e+1;if(r<t.length){const n=t[r],o=n[lt].firstChild;if(null!==o)return Of(n,o)}return t[Oe]}function Yv(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&wi(Hr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)Yv(e,t,r.child,n,o,i,!1),Wu(t,e,o,a,i);else if(32&l){const c=Hv(r,n);let f;for(;f=c();)Wu(t,e,o,f,i);Wu(t,e,o,a,i)}else 16&l?iE(e,t,n,r,o,i):Wu(t,e,o,a,i);r=s?r.projectionNext:r.next}}function Nf(e,t,r,n,o,i){Yv(r,n,e.firstChild,t,o,i,!1)}function iE(e,t,r,n,o,i){const s=r[Gr],l=s[Ko].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Wu(t,e,o,l[c],i);else{let c=l;const f=s[$r];_m(n)&&(c.flags|=128),Yv(e,t,c,f,o,i,!0)}}function sE(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function aE(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&Iu(e,t,n),null!==o&&sE(e,t,o),null!==i&&function eN(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function Zu(e){return function Xv(){if(void 0===Dm&&(Dm=null,jn.trustedTypes))try{Dm=jn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Dm}()?.createHTML(e)||e}class Gc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Vs})`}}class oN extends Gc{getTypeName(){return"HTML"}}class iN extends Gc{getTypeName(){return"Style"}}class sN extends Gc{getTypeName(){return"Script"}}class aN extends Gc{getTypeName(){return"URL"}}class lN extends Gc{getTypeName(){return"ResourceURL"}}function Cs(e){return e instanceof Gc?e.changingThisBreaksApplicationSecurity:e}function Ga(e,t){const r=function cN(e){return e instanceof Gc&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Vs})`)}return r===t}class mN{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(Zu(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class gN{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=Zu(t),r}}const vN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xm(e){return(e=String(e)).match(vN)?e:"unsafe:"+e}function Cl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function Ff(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const fE=Cl("area,br,col,hr,img,wbr"),pE=Cl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hE=Cl("rp,rt"),Jv=Ff(fE,Ff(pE,Cl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ff(hE,Cl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ff(hE,pE)),ey=Cl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mE=Ff(ey,Cl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Cl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),yN=Cl("script,style,template");class bN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!Jv.hasOwnProperty(r))return this.sanitizedSomething=!0,!yN.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!mE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;ey[a]&&(l=xm(l)),this.buf.push(" ",s,'="',gE(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();Jv.hasOwnProperty(r)&&!fE.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(gE(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const CN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,SN=/([^\#-~ |!])/g;function gE(e){return e.replace(/&/g,"&amp;").replace(CN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(SN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tm;function _E(e,t){let r=null;try{Tm=Tm||function dE(e){const t=new gN(e);return function _N(){try{return!!(new window.DOMParser).parseFromString(Zu(""),"text/html")}catch{return!1}}()?new mN(t):t}(e);let n=t?String(t):"";r=Tm.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=Tm.getInertBodyElement(n)}while(n!==i);return Zu((new bN).sanitizeChildren(ty(r)||r))}finally{if(r){const n=ty(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function ty(e){return"content"in e&&function wN(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ss=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ss||{});let CE=(e,t,r)=>null;function cy(e,t,r=!1){return CE(e,t,r)}class $N{}class EE{}class VN{resolveComponentFactory(t){throw function BN(e){const t=Error(`No component factory found for ${Cr(e)}.`);return t.ngComponent=e,t}(t)}}let Om=(()=>{class t{}return t.NULL=new VN,t})();function jN(){return Yu(Ar(),ze())}function Yu(e,t){return new et(Mi(e,t))}let et=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=jN,t})();function GN(e){return e instanceof et?e.nativeElement:e}class IE{}let Sl=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function UN(){const e=ze(),r=vs(Ar().index,e);return(rr(r)?r:e)[on]}(),t})(),HN=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>null}),t})();class Vf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const zN=new Vf("17.0.7"),fy={};function xE(e){const t=O(null);try{return e()}finally{O(t)}}function Nm(e){return!!function py(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class TE{constructor(){}supports(t){return Nm(t)}create(t){return new YN(t)}}const KN=(e,t)=>t;class YN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||KN}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<AE(n,o,i)?r:n,a=AE(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,f=l-o;if(c!=f){for(let m=0;m<c;m++){const y=m<i.length?i[m]:i[m]=0,H=y+m;f<=H&&H<c&&(i[m]=y+1)}i[s.previousIndex]=f-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Nm(t))throw new Ke(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function qN(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new XN(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new ME),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ME),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class XN{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class ME{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new QN,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AE(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function RE(){return new Fm([new TE])}let Fm=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||RE()),deps:[[t,new sm,new im]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Ke(901,!1)}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:RE}),t})();function Gf(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(Hr(i)),Jn(i)&&OE(i,n);const s=r.type;if(8&s)Gf(e,t,r.child,n);else if(32&s){const a=Hv(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=rE(t,r);if(Array.isArray(a))n.push(...a);else{const l=Rf(t[Gr]);Gf(l[lt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function OE(e,t){for(let r=ln;r<e.length;r++){const n=e[r],o=n[lt].firstChild;null!==o&&Gf(n[lt],n,o,t)}e[Oe]!==e[to]&&t.push(e[Oe])}let NE=[];const iF={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Zh(e.lView)},consumerOnSignalRead(){this.lView[vl]=this}};function hy(e){return e.ngOriginalError}class wl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&hy(t);for(;r&&hy(r);)r=hy(r);return r||null}}const LE=new ft("",{providedIn:"root",factory:()=>ot(wl).handleError.bind(void 0)}),BE=new ft("",{providedIn:"root",factory:()=>!1}),hn={};function pe(e){UE(Wn(),ze(),Si()+e,!1)}function UE(e,t,r,n){if(!n)if(3==(3&t[Zt])){const i=e.preOrderCheckHooks;null!==i&&Xh(t,i,r)}else{const i=e.preOrderHooks;null!==i&&Qh(t,i,0,r)}$c(r)}function _(e,t=At.Default){const r=ze();return null===r?ae(e,t):nw(Ar(),r,zt(e),t)}function $m(e,t,r,n,o,i,s,a,l,c,f){const p=t.blueprint.slice();return p[to]=o,p[Zt]=140|n,(null!==c||e&&2048&e[Zt])&&(p[Zt]|=2048),kS(p),p[$r]=p[_l]=e,p[mr]=r,p[Xl]=s||e&&e[Xl],p[on]=a||e&&e[on],p[ii]=l||e&&e[ii]||null,p[Ko]=i,p[Fc]=function M2(){return T2++}(),p[ns]=f,p[zh]=c,p[Gr]=2==t.type?e[Gr]:p,p}function Xu(e,t,r,n,o){let i=e.data[t];if(null===i)i=function my(e,t,r,n,o){const i=LS(),s=sv(),l=e.data[t]=function vF(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return Au()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function lO(){return cn.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function Cf(){const e=cn.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Ba(i,!0),i}function Uf(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function zE(e,t,r,n,o){const i=Si(),s=2&n;try{$c(-1),s&&t.length>dt&&UE(e,t,dt,!1),La(s?2:0,o),r(n,o)}finally{$c(i),La(s?3:1,o)}}function gy(e,t,r){if(_o(t)){const n=O(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{O(n)}}}function _y(e,t,r){FS()&&(function DF(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;vo(r)&&function RF(e,t,r){const n=Mi(t,e),o=WE(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=Bm(e,$m(e,o,null,s,n,t,null,e[Xl].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||em(r,t),wi(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],c=Bc(t,e,a,r);wi(c,t),null!==s&&PF(0,a-o,c,l,0,s),Bt(l)&&(vs(r.index,t)[mr]=Bc(t,e,a,r))}}(e,t,r,Mi(r,t)),64==(64&r.flags)&&XE(e,t,r))}function vy(e,t,r=Mi){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function WE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=yy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function yy(e,t,r,n,o,i,s,a,l,c,f){const p=dt+n,m=p+o,y=function fF(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:hn);return r}(p,m),H="function"==typeof c?c():c;return y[lt]={type:e,blueprint:y,template:r,queries:null,viewQuery:a,declTNode:t,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:H,incompleteFirstPass:!1,ssrId:f}}let ZE=e=>null;function qE(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?KE(r,t,o,i):n.hasOwnProperty(o)&&KE(r,t,n[o],i)}return r}function KE(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function ws(e,t,r,n,o,i,s,a){const l=Mi(t,r);let f,c=t.inputs;!a&&null!=c&&(f=c[n])?(Ey(e,r,f,n,o),vo(t)&&function CF(e,t){const r=vs(t,e);16&r[Zt]||(r[Zt]|=64)}(r,t.index)):3&t.type&&(n=function bF(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function by(e,t,r,n){if(FS()){const o=null===n?null:{"":-1},i=function xF(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(df(t,s.selectors,!1))if(n||(n=[]),Bt(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),Cy(e,t,a.length)}else n.unshift(s),Cy(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&YE(e,t,r,s,o,a),o&&function TF(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Ke(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=Yl(r.mergedAttrs,r.attrs)}function YE(e,t,r,n,o,i){for(let c=0;c<n.length;c++)vv(em(r,t),e,n[c].type);!function AF(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let c=0;c<n.length;c++){const f=n[c];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=Uf(e,t,n.length,null);for(let c=0;c<n.length;c++){const f=n[c];r.mergedAttrs=Yl(r.mergedAttrs,f.hostAttrs),kF(e,r,t,l,f),MF(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function yF(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let f=t.directiveStart;f<o;f++){const p=i[f],m=r?r.get(p):null,H=m?m.outputs:null;l=qE(p.inputs,f,l,m?m.inputs:null),c=qE(p.outputs,f,c,H);const J=null===l||null===s||uf(t)?null:OF(l,f,s);a.push(J)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,r,i)}function XE(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function uO(){return cn.lFrame.currentDirectiveIndex}();try{$c(i);for(let a=n;a<o;a++){const l=e.data[a],c=t[a];lv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&IF(l,c)}}finally{$c(-1),lv(s)}}function IF(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Cy(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function MF(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Bt(t)&&(r[""]=e)}}function kF(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=Lc(o.type)),s=new Sf(i,Bt(o),_);e.blueprint[n]=s,r[n]=s,function wF(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function EF(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,Uf(e,r,o.hostVars,hn),o)}function Ua(e,t,r,n,o,i){const s=Mi(e,t);!function Sy(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?Lt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[on],s,i,e.value,r,n,o)}function PF(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)QE(n,r,s[a++],s[a++],s[a++])}function QE(e,t,r,n,o){const i=O(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{O(i)}}function OF(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function JE(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function eD(e,t){const r=e.contentQueries;if(null!==r){const n=O(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];uv(r[o]),a.contentQueries(2,t[s],s)}}}finally{O(n)}}}function Bm(e,t){return e[Nc]?e[Hh][ts]=t:e[Nc]=t,e[Hh]=t,t}function wy(e,t,r){uv(0);const n=O(null);try{t(e,r)}finally{O(n)}}function tD(e){return e[gl]||(e[gl]=[])}function nD(e){return e.cleanup||(e.cleanup=[])}function Vm(e,t){const r=e[ii],n=r?r.get(wl,null):null;n&&n.handleError(t)}function Ey(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];QE(e.data[s],t[s],n,a,o)}}function El(e,t,r){const n=yf(t,e);!function qw(e,t,r){e.setValue(t,r)}(e[on],n,r)}function LF(e,t,r,n){const o=t[Zt];if(256==(256&o))return;t[Xl].inlineEffectRunner?.flush(),dv(t);let s=null,a=null;(function $F(e){return 2!==e.type})(e)&&(a=function nF(e){return e[vl]??function rF(e){const t=NE.pop()??Object.create(iF);return t.lView=e,t}(e)}(t),s=function te(e){return e&&(e.nextProducerIndex=0),O(e)}(a));try{kS(t),function BS(e){return cn.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&zE(e,t,r,2,n);const l=3==(3&o);if(l){const p=e.preOrderCheckHooks;null!==p&&Xh(t,p,null)}else{const p=e.preOrderHooks;null!==p&&Qh(t,p,0,null),pv(t,0)}if(function BF(e){for(let t=zw(e);null!==t;t=Ww(t)){if(!(t[Zt]&po.HasTransplantedViews))continue;const r=t[En];for(let n=0;n<r.length;n++){QP(r[n])}}}(t),oD(t,0),null!==e.contentQueries&&eD(e,t),l){const p=e.contentCheckHooks;null!==p&&Xh(t,p)}else{const p=e.contentHooks;null!==p&&Qh(t,p,1),pv(t,1)}!function dF(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)$c(~o);else{const i=o,s=r[++n],a=r[++n];cO(s,i),a(2,t[i])}}}finally{$c(-1)}}(e,t);const c=e.components;null!==c&&sD(t,c,0);const f=e.viewQuery;if(null!==f&&wy(2,f,n),l){const p=e.viewCheckHooks;null!==p&&Xh(t,p)}else{const p=e.viewHooks;null!==p&&Qh(t,p,2),pv(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[xu]){for(const p of t[xu])p();t[xu]=null}t[Zt]&=-73}catch(l){throw Zh(t),l}finally{null!==a&&(function W(e,t){if(O(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ke(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ie(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function oF(e){e.lView[vl]!==e&&(e.lView=null,NE.push(e))}(a)),fv()}}function oD(e,t){for(let r=zw(e);null!==r;r=Ww(r)){r[Zt]&=~po.HasChildViewsToRefresh;for(let n=ln;n<r.length;n++)iD(r[n],t)}}function VF(e,t,r){iD(vs(t,e),r)}function iD(e,t){ov(e)&&Iy(e,t)}function Iy(e,t){const n=e[lt],o=e[Zt],i=e[vl];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!k(i)),i&&(i.dirty=!1),e[Zt]&=-9217,s)LF(n,e,n.template,e[mr]);else if(8192&o){oD(e,1);const a=n.components;null!==a&&sD(e,a,1)}}function sD(e,t,r){for(let n=0;n<t.length;n++)VF(e,t[n],r)}function Hf(e){for(;e;){e[Zt]|=64;const t=Rf(e);if(si(e)&&!t)return e;e=t}return null}class zf{get rootNodes(){const t=this._lView,r=t[lt];return Gf(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mr]}set context(t){this._lView[mr]=t}get destroyed(){return 256==(256&this._lView[Zt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[$r];if(Jn(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(Pf(t,n),rm(r,n))}this._attachedToViewContainer=!1}Cm(this._lView[lt],this._lView)}onDestroy(t){qh(this._lView,t)}markForCheck(){Hf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Zt]&=-129}reattach(){OS(this._lView),this._lView[Zt]|=128}detectChanges(){this._lView[Zt]|=1024,function Dy(e,t=!0){const r=e[Xl],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function FF(e){Iy(e,0);let t=0;for(;PS(e);){if(100===t)throw new Ke(103,!1);t++,Iy(e,1)}}(e)}catch(s){throw t&&Vm(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function U2(e,t){Nf(e,t,t[on],2,null,null)}(this._lView[lt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ke(902,!1);this._appRef=t}}let at=(()=>{class t{}return t.__NG_ELEMENT_ID__=jF,t})();function jF(e){return function GF(e,t,r){if(vo(e)&&!r){const n=vs(e.index,t);return new zf(n,n)}return 47&e.type?new zf(t[Gr],t):null}(Ar(),ze(),16==(16&e))}let jm=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=WF,e.__NG_ENV_ID__=r=>r,t})();class zF extends jm{constructor(t){super(),this._lView=t}onDestroy(t){return qh(this._lView,t),()=>function iv(e,t){if(null===e[Fa])return;const r=e[Fa].indexOf(t);-1!==r&&e[Fa].splice(r,1)}(this._lView,t)}}function WF(){return new zF(ze())}const aD=new Set;function Uc(e){aD.has(e)||(aD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function xy(e){return t=>{setTimeout(e,void 0,t)}}const en=class JF extends xn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=xy(i),o&&(o=xy(o)),s&&(s=xy(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof pt&&t.add(a),a}};function lD(...e){}class He{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new en(!1),this.onMicrotaskEmpty=new en(!1),this.onStable=new en(!1),this.onError=new en(!1),typeof Zone>"u")throw new Ke(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function eL(){const e="function"==typeof jn.requestAnimationFrame;let t=jn[e?"requestAnimationFrame":"setTimeout"],r=jn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rL(e){const t=()=>{!function nL(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(jn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,My(e),e.isCheckStableRunning=!0,Ty(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),My(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function iL(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return cD(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),uD(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return cD(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),uD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,My(e),Ty(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new Ke(909,!1)}static assertNotInAngularZone(){if(He.isInAngularZone())throw new Ke(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,tL,lD,lD);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const tL={};function Ty(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function My(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function cD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function uD(e){e._nesting--,Ty(e)}class oL{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new en,this.onMicrotaskEmpty=new en,this.onStable=new en,this.onError=new en}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const dD=new ft("",{providedIn:"root",factory:fD});function fD(){const e=ot(He);let t=!0;return oa(new kn(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new kn(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{He.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(ia()))}var Hc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Hc||{});const pD={destroy(){}};function mD(e,t){!t&&function Pv(e){if(!pn()&&!function Eh(){return ml}())throw new Ke(-203,!1)}();const r=t?.injector??ot(Wr);if(!function oc(e){return"browser"===(e??ot(Wr)).get(rc)}(r))return pD;Uc("NgAfterNextRender");const n=r.get(Gm),o=n.handler??=new _D,i=t?.phase??Hc.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(jm).onDestroy(s),l=new gD(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class gD{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(He),this.errorHandler=t.get(wl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class _D{constructor(){this.executingCallbacks=!1,this.buckets={[Hc.EarlyRead]:new Set,[Hc.Write]:new Set,[Hc.MixedReadWrite]:new Set,[Hc.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Ke(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let Gm=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new e}),t})();function lL(e,t){const r=vs(t,e),n=r[lt];!function cL(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[to];null!==o&&null===r[ns]&&(r[ns]=cy(o,r[ii])),Ay(n,r,r[mr])}function Ay(e,t,r){dv(t);try{const n=e.viewQuery;null!==n&&wy(1,n,r);const o=e.template;null!==o&&zE(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&eD(e,t),e.staticViewQueries&&wy(2,e.viewQuery,r);const i=e.components;null!==i&&function uL(e,t){for(let r=0;r<t.length;r++)lL(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Zt]&=-5,fv()}}function Um(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=$s(o,a):2==i&&(n=$s(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class vD extends Om{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Cn(t);return new Wf(r,this.ngModule)}}function yD(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class fL{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Rc(n);const o=this.injector.get(t,fy,n);return o!==fy||r===fy?o:this.parentInjector.get(t,r,n)}}class Wf extends EE{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=yD(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return yD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function $h(e){return e.map(Lh).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof ai?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new fL(t,i):t,a=s.get(IE,null);if(null===a)throw new Ke(407,!1);const f={rendererFactory:a,sanitizer:s.get(HN,null),inlineEffectRunner:null,afterRenderEventManager:s.get(Gm,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=n?function pF(e,t,r,n){const i=n.get(BE,!1)||r===Ji.ShadowDom,s=e.selectRootElement(t,i);return function hF(e){ZE(e)}(s),s}(p,n,this.componentDef.encapsulation,s):bm(p,m,function dL(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),_e=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let we=null;null!==y&&(we=cy(y,s,!0));const Re=yy(0,null,null,1,0,null,null,null,null,null,null),_t=$m(null,Re,null,_e,null,null,f,p,s,null,we);let gt,qt;dv(_t);try{const Tt=this.componentDef;let ir,Ro=null;Tt.findHostDirectiveDefs?(ir=[],Ro=new Map,Tt.findHostDirectiveDefs(Tt,ir,Ro),ir.push(Tt)):ir=[Tt];const Da=function hL(e,t){const r=e[lt],n=dt;return e[n]=t,Xu(r,n,2,"#host",null)}(_t,y),ll=function mL(e,t,r,n,o,i,s){const a=o[lt];!function gL(e,t,r,n){for(const o of e)t.mergedAttrs=Yl(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Um(t,t.mergedAttrs,!0),null!==r&&aE(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=cy(t,o[ii]));const c=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const p=$m(o,WE(r),null,f,o[e.index],e,i,c,null,null,l);return a.firstCreatePass&&Cy(a,e,n.length-1),Bm(o,p),o[e.index]=p}(Da,y,Tt,ir,_t,f,p);qt=bf(Re,dt),y&&function vL(e,t,r,n){if(n)Iu(e,r,["ng-version",zN.full]);else{const{attrs:o,classes:i}=function Bh(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!es(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&Iu(e,r,o),i&&i.length>0&&sE(e,r,i.join(" "))}}(p,Tt,y,n),void 0!==r&&function yL(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(qt,this.ngContentSelectors,r),gt=function _L(e,t,r,n,o,i){const s=Ar(),a=o[lt],l=Mi(s,o);YE(a,o,s,r,null,n);for(let f=0;f<r.length;f++)wi(Bc(o,a,s.directiveStart+f,s),o);XE(a,o,s),l&&wi(l,o);const c=Bc(o,a,s.directiveStart+s.componentOffset,s);if(e[mr]=o[mr]=c,null!==i)for(const f of i)f(c,t);return gy(a,s,e),c}(ll,Tt,ir,Ro,_t,[bL]),Ay(Re,_t,null)}finally{fv()}return new pL(this.componentType,gt,Yu(qt,_t),_t,qt)}}class pL extends $N{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new zf(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;Ey(i[lt],i,o,t,r),this.previousInputValues.set(t,r),Hf(vs(this._tNode.index,i))}}get injector(){return new Yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function bL(){const e=Ar();Yh(ze()[lt],e)}function mn(e){let t=function bD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Bt(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ke(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=Hm(e.inputs),s.inputTransforms=Hm(e.inputTransforms),s.declaredInputs=Hm(e.declaredInputs),s.outputs=Hm(e.outputs);const a=o.hostBindings;a&&EL(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&SL(e,l),c&&wL(e,c),ps(e.inputs,o.inputs),ps(e.declaredInputs,o.declaredInputs),ps(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ps(s.inputTransforms,o.inputTransforms)),Bt(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===mn&&(r=!1)}}t=Object.getPrototypeOf(t)}!function CL(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=Yl(o.hostAttrs,r=Yl(r,o.hostAttrs))}}(n)}function Hm(e){return e===gs?{}:e===zn?[]:e}function SL(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function wL(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function EL(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function Ha(e,t,r){return e[t]=r}function Fo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function zc(e,t,r,n){const o=Fo(e,t,r);return Fo(e,t+1,n)||o}function Es(e,t,r,n){const o=ze();return Fo(o,Va(),t)&&(Wn(),Ua(no(),o,e,t,r,n)),Es}function Ju(e,t,r,n){return Fo(e,Va(),r)?t+Lt(r)+n:hn}function td(e,t,r,n,o,i,s,a){const c=function zm(e,t,r,n,o){const i=zc(e,t,r,n);return Fo(e,t+2,o)||i}(e,yl(),r,o,s);return bl(3),c?t+Lt(r)+n+Lt(o)+i+Lt(s)+a:hn}function Wm(e,t){return e<<17|t<<2}function ac(e){return e>>17&32767}function ky(e){return 2|e}function Wc(e){return(131068&e)>>2}function Ry(e,t){return-131069&e|t<<2}function Py(e){return 1|e}function OD(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?ac(i):Wc(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];NL(e[a],t)&&(l=!0,e[a+1]=n?Py(f):ky(f)),a=n?ac(f):Wc(f)}l&&(e[r+1]=n?ky(i):Py(i))}function NL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Vu(e,t)>=0}function Ce(e,t,r){const n=ze();return Fo(n,Va(),t)&&ws(Wn(),no(),n,e,t,n[on],r,!1),Ce}function Oy(e,t,r,n,o){const s=o?"class":"style";Ey(e,r,t.inputs[s],s,n)}function Zc(e,t,r){return da(e,t,r,!1),Zc}function Us(e,t){return da(e,t,null,!0),Us}function da(e,t,r,n){const o=ze(),i=Wn(),s=bl(2);i.firstUpdatePass&&function GD(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[Si()],s=function jD(e,t){return t>=e.expandoStartIndex}(e,r);(function WD(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function HL(e,t,r,n){const o=function cv(e){const t=cn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=qf(r=Ny(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=Ny(o,e,t,r,n),null===i){let l=function zL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==Wc(n))return e[ac(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=Ny(null,e,t,l[1],n),l=qf(l,t.attrs,n),function WL(e,t,r,n){e[ac(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function ZL(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=qf(n,e[i].hostAttrs,r);return qf(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function PL(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=ac(s),l=Wc(s);e[n]=r;let f,c=!1;if(Array.isArray(r)?(f=r[1],(null===f||Vu(r,f)>0)&&(c=!0)):f=r,o)if(0!==l){const m=ac(e[a+1]);e[n+1]=Wm(m,a),0!==m&&(e[m+1]=Ry(e[m+1],n)),e[a+1]=function kL(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=Wm(a,0),0!==a&&(e[a+1]=Ry(e[a+1],n)),a=n;else e[n+1]=Wm(l,0),0===a?a=n:e[l+1]=Ry(e[l+1],n),l=n;c&&(e[n+1]=ky(e[n+1])),OD(e,f,n,!0),OD(e,f,n,!1),function OL(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Vu(i,t)>=0&&(r[n+1]=Py(r[n+1]))}(t,f,e,n,i),s=Wm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==hn&&Fo(o,s,t)&&function HD(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],f=function RL(e){return 1==(1&e)}(c)?zD(l,t,r,o,Wc(c),s):void 0;Zm(f)||(Zm(i)||function AL(e){return 2==(2&e)}(c)&&(i=zD(l,null,r,o,a,s)),function J2(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:sc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=sc.Important),e.setStyle(r,n,o,i))}}(n,s,yf(Si(),r),o,i))}(i,i.data[Si()],o,o[on],e,o[s+1]=function XL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Cr(Cs(e)))),e}(t,r),n,s)}function Ny(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=qf(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function qf(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ys(e,s,!!r||t[++i]))}return void 0===e?null:e}function zD(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),f=c?l[1]:l,p=null===f;let m=r[o+1];m===hn&&(m=p?zn:void 0);let y=p?Sv(m,n):f===n?m:void 0;if(c&&!Zm(y)&&(y=Sv(l,n)),Zm(y)&&(a=y,s))return a;const H=e[o+1];o=s?ac(H):Wc(H)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=Sv(l,n))}return a}function Zm(e){return void 0!==e}let QD=(e,t)=>null;function ld(e,t){return QD(e,t)}function Jf(e,t,r,n){const o=t.tView,a=$m(e,o,r,4096&e[Zt]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[nr]=e[t.index];const c=e[sn];return null!==c&&(a[sn]=c.createEmbeddedView(o)),Ay(o,a,r),a}function cd(e,t){return!t||null===t.firstChild||_m(e)}function ep(e,t,r,n=!0){const o=t[lt];if(function z2(e,t,r,n){const o=ln+n,i=r.length;n>0&&(r[o-1][ts]=t),n<i-ln?(t[ts]=r[o],lw(r,ln+n,t)):(r.push(t),t[ts]=null),t[$r]=r;const s=t[nr];null!==s&&r!==s&&function W2(e,t){const r=e[En];t[Gr]!==t[$r][$r][Gr]&&(e[Zt]|=po.HasTransplantedViews),null===r?e[En]=[t]:r.push(t)}(s,t);const a=t[sn];null!==a&&a.insertView(e),OS(t),t[Zt]|=128}(o,t,e,r),n){const s=Kv(r,e),a=t[on],l=Sm(a,e[Oe]);null!==l&&function G2(e,t,r,n,o,i){n[to]=o,n[Ko]=t,Nf(e,n,r,1,o,i)}(o,e[Ko],a,t,l,s)}const i=t[ns];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let is=(()=>{class t{}return t.__NG_ELEMENT_ID__=k$,t})();function k$(){return iI(Ar(),ze())}const R$=is,rI=class extends R${constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Yu(this._hostTNode,this._hostLView)}get injector(){return new Yo(this._hostTNode,this._hostLView)}get parentInjector(){const t=tm(this._hostTNode,this._hostLView);if(mv(t)){const r=Ef(t,this._hostLView),n=wf(t);return new Yo(r[lt].data[n+8],r)}return new Yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=oI(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-ln}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const s=ld(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(r||{},i,s);return this.insertImpl(a,o,cd(this._hostTNode,s)),a}createComponent(t,r,n,o,i){const s=t&&!function Df(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const H=r||{};a=H.index,n=H.injector,o=H.projectableNodes,i=H.environmentInjector||H.ngModuleRef}const l=s?t:new Wf(Cn(t)),c=n||this.parentInjector;if(!i&&null==l.ngModule){const J=(s?c:this.parentInjector).get(ai,null);J&&(i=J)}const f=Cn(l.componentType??{}),p=ld(this._lContainer,f?.id??null),y=l.create(c,o,p?.firstChild??null,i);return this.insertImpl(y.hostView,a,cd(this._hostTNode,p)),y}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function XP(e){return Jn(e[$r])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[$r],c=new rI(l,l[Ko],l[$r]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return ep(s,o,i,n),t.attachToViewContainerRef(),lw(Hy(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=oI(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=Pf(this._lContainer,r);n&&(rm(Hy(this._lContainer),r),Cm(n[lt],n))}detach(t){const r=this._adjustIndex(t,-1),n=Pf(this._lContainer,r);return n&&null!=rm(Hy(this._lContainer),r)?new zf(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function oI(e){return e[8]}function Hy(e){return e[8]||(e[8]=[])}function iI(e,t){let r;const n=t[e.index];return Jn(n)?r=n:(r=JE(n,t,null,e),t[e.index]=r,Bm(t,r)),sI(r,t,e,n),new rI(r,e,t)}let sI=function lI(e,t,r,n){if(e[Oe])return;let o;o=8&r.type?Hr(n):function P$(e,t){const r=e[on],n=r.createComment(""),o=Mi(t,e);return jc(r,Sm(r,o),n,function Y2(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[Oe]=o},zy=(e,t,r)=>!1;function Wt(e,t,r,n,o,i,s,a){const l=ze(),c=Wn(),f=e+dt,p=c.firstCreatePass?function L$(e,t,r,n,o,i,s,a,l){const c=t.consts,f=Xu(t,e,4,s||null,$a(c,a));by(t,r,f,$a(c,l)),Yh(t,f);const p=f.tView=yy(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,f),p.queries=t.queries.embeddedTView(f)),f}(f,c,l,t,r,n,o,i,s):c.data[f];Ba(p,!1);const m=cI(c,l,p,e);Kh()&&wm(c,l,m,p),wi(m,l);const y=JE(m,l,m,p);return l[f]=y,Bm(l,y),function aI(e,t,r){return zy(e,t,r)}(y,p,l),Dr(p)&&_y(c,l,p),null!=s&&vy(l,p,a),Wt}let cI=function uI(e,t,r,n){return Ql(!0),t[on].createComment("")};function dI(e,t,r){Uc("NgControlFlow");const n=ze(),o=Va(),i=function Wy(e,t){return e[t]}(n,dt+e);if(Fo(n,o,t)){const a=O(null);try{if(function Uy(e,t){const r=Pf(e,t);return void 0!==r&&Cm(r[lt],r),r}(i,0),-1!==t){const l=function Zy(e,t){return bf(e,t)}(n[lt],dt+t),c=ld(i,l.tView.ssrId);ep(i,Jf(n,l,r,{dehydratedView:c}),0,cd(l,c))}}finally{O(a)}}else{const a=function nI(e,t){const r=ln+t;if(r<e.length)return e[r]}(i,0);void 0!==a&&(a[mr]=r)}}function j(e,t,r,n){const o=ze(),i=Wn(),s=dt+e,a=o[on],l=i.firstCreatePass?function D3(e,t,r,n,o,i){const s=t.consts,l=Xu(t,e,2,n,$a(s,o));return by(t,r,l,$a(s,i)),null!==l.attrs&&Um(l,l.attrs,!1),null!==l.mergedAttrs&&Um(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],c=OI(i,o,l,a,t,e);o[s]=c;const f=Dr(l);return Ba(l,!0),aE(a,c,l),32!=(32&l.flags)&&Kh()&&wm(i,o,c,l),0===function JP(){return cn.lFrame.elementDepthCount}()&&wi(c,o),function eO(){cn.lFrame.elementDepthCount++}(),f&&(_y(i,o,l),gy(i,l,o)),null!==n&&vy(o,l),j}function B(){let e=Ar();sv()?av():(e=e.parent,Ba(e,!1));const t=e;(function nO(e){return cn.skipHydrationRootTNode===e})(t)&&function sO(){cn.skipHydrationRootTNode=null}(),function tO(){cn.lFrame.elementDepthCount--}();const r=Wn();return r.firstCreatePass&&(Yh(r,e),_o(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function CO(e){return 0!=(8&e.flags)}(t)&&Oy(r,t,ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function SO(e){return 0!=(16&e.flags)}(t)&&Oy(r,t,ze(),t.stylesWithoutHost,!1),B}function Ve(e,t,r,n){return j(e,t,r,n),B(),Ve}let OI=(e,t,r,n,o,i)=>(Ql(!0),bm(n,o,function ZS(){return cn.lFrame.currentNamespace}()));function Kc(e,t,r){const n=ze(),o=Wn(),i=e+dt,s=o.firstCreatePass?function T3(e,t,r,n,o){const i=t.consts,s=$a(i,n),a=Xu(t,e,8,"ng-container",s);return null!==s&&Um(a,s,!0),by(t,r,a,$a(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];Ba(s,!0);const a=NI(o,n,s,e);return n[i]=a,Kh()&&wm(o,n,a,s),wi(a,n),Dr(s)&&(_y(o,n,s),gy(o,s,n)),null!=r&&vy(n,s),Kc}function Yc(){let e=Ar();const t=Wn();return sv()?av():(e=e.parent,Ba(e,!1)),t.firstCreatePass&&(Yh(t,e),_o(e)&&t.queries.elementEnd(e)),Yc}let NI=(e,t,r,n)=>(Ql(!0),zv(t[on],""));function Sn(){return ze()}const _d="en-US";let VI=_d;function cp(e){return!!e&&"function"==typeof e.then}function d1(e){return!!e&&"function"==typeof e.subscribe}function Fe(e,t,r,n){const o=ze(),i=Wn(),s=Ar();return function p1(e,t,r,n,o,i,s){const a=Dr(n),c=e.firstCreatePass&&nD(e),f=t[mr],p=tD(t);let m=!0;if(3&n.type||s){const J=Mi(n,t),_e=s?s(J):J,we=p.length,Re=s?gt=>s(Hr(gt[n.index])):n.index;let _t=null;if(!s&&a&&(_t=function xB(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[gl],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=i,_t.__ngLastListenerFn__=i,m=!1;else{i=m1(n,t,f,i,!1);const gt=r.listen(_e,o,i);p.push(i,gt),c&&c.push(o,Re,we,we+1)}}else i=m1(n,t,f,i,!1);const y=n.outputs;let H;if(m&&null!==y&&(H=y[o])){const J=H.length;if(J)for(let _e=0;_e<J;_e+=2){const qt=t[H[_e]][H[_e+1]].subscribe(i),Tt=p.length;p.push(i,qt),c&&c.push(o,n.index,Tt,-(Tt+1))}}}(i,o,o[on],s,e,t,n),Fe}function h1(e,t,r,n){try{return La(6,t,r),!1!==r(n)}catch(o){return Vm(e,o),!1}finally{La(7,t,r)}}function m1(e,t,r,n,o){return function i(s){if(s===Function)return n;Hf(e.componentOffset>-1?vs(e.index,t):t);let l=h1(t,r,n,s),c=i.__ngNextListenerFn__;for(;c;)l=h1(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function st(e=1){return function fO(e){return(cn.lFrame.contextLView=function RS(e,t){for(;e>0;)t=t[_l],e--;return t}(e,cn.lFrame.contextLView))[mr]}(e)}function TB(e,t){let r=null;const n=function Ph(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?df(e,i,!0):Fh(n,i))return o}else r=o}return r}function mt(e){const t=ze()[Gr][Ko];if(!t.projection){const n=t.projection=If(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?TB(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function ht(e,t=0,r){const n=ze(),o=Wn(),i=Xu(o,dt+e,16,null,r||null);null===i.projection&&(i.projection=t),av(),(!n[ns]||Au())&&32!=(32&i.flags)&&function X2(e,t,r){iE(t[on],0,t,r,Zv(e,r,t),Jw(r.parent||t[Ko],r,t))}(o,n,i)}function lg(e,t,r,n,o){const i=ze(),s=Ju(i,t,r,n);return s!==hn&&ws(Wn(),no(),i,e,s,i[on],o,!1),lg}function Ds(e){return Mu(function aO(){return cn.lFrame.contextLView}(),dt+e)}function Se(e,t=""){const r=ze(),n=Wn(),o=e+dt,i=n.firstCreatePass?Xu(n,o,1,t,null):n.data[o],s=O1(n,r,i,t,e);r[o]=s,Kh()&&wm(n,r,s,i),Ba(i,!1)}let O1=(e,t,r,n,o)=>(Ql(!0),function ym(e,t){return e.createText(t)}(t[on],n));function Ri(e){return li("",e,""),Ri}function li(e,t,r){const n=ze(),o=Ju(n,e,t,r);return o!==hn&&El(n,Si(),o),li}function up(e,t,r,n,o){const i=ze(),s=function ed(e,t,r,n,o,i){const a=zc(e,yl(),r,o);return bl(2),a?t+Lt(r)+n+Lt(o)+i:hn}(i,e,t,r,n,o);return s!==hn&&El(i,Si(),s),up}function ob(e,t,r,n,o,i,s){const a=ze(),l=td(a,e,t,r,n,o,i,s);return l!==hn&&El(a,Si(),l),ob}function ib(e,t,r,n,o){if(e=zt(e),Array.isArray(e))for(let i=0;i<e.length;i++)ib(e[i],t,r,n,o);else{const i=Wn(),s=ze(),a=Ar();let l=Vc(e)?e:zt(e.provide);const c=yw(e),f=1048575&a.providerIndexes,p=a.directiveStart,m=a.providerIndexes>>20;if(Vc(e)||!e.multi){const y=new Sf(c,o,_),H=ab(l,t,o?f:f+m,p);-1===H?(vv(em(a,s),i,l),sb(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(y),s.push(y)):(r[H]=y,s[H]=y)}else{const y=ab(l,t,f+m,p),H=ab(l,t,f,f+m),_e=H>=0&&r[H];if(o&&!_e||!o&&!(y>=0&&r[y])){vv(em(a,s),i,l);const we=function HB(e,t,r,n,o){const i=new Sf(e,r,_);return i.multi=[],i.index=t,i.componentProviders=0,j1(i,o,n&&!r),i}(o?UB:GB,r.length,o,n,c);!o&&_e&&(r[H].providerFactory=we),sb(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(we),s.push(we)}else sb(i,e,y>-1?y:H,j1(r[o?H:y],c,!o&&n));!o&&n&&_e&&r[H].componentProviders++}}}function sb(e,t,r,n){const o=Vc(t),i=function e2(e){return!!e.useClass}(t);if(o||i){const l=(i?zt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=c.indexOf(r);-1===f?c.push(r,[n,l]):c[f+1].push(n,l)}else c.push(r,l)}}}function j1(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function ab(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function GB(e,t,r,n){return lb(this.multi,[])}function UB(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Bc(r,r[lt],this.providerFactory.index,n);i=a.slice(0,s),lb(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],lb(o,i);return i}function lb(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function lr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function jB(e,t,r){const n=Wn();if(n.firstCreatePass){const o=Bt(e);ib(r,n.data,n.blueprint,o,!0),ib(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class Qc{}class G1{}class cb extends Qc{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vD(this);const o=qo(t);this._bootstrapComponents=bs(o.bootstrap),this._r3Injector=Ew(t,r,[{provide:Qc,useValue:this},{provide:Om,useValue:this.componentFactoryResolver},...n],Cr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ub extends G1{constructor(t){super(),this.moduleType=t}create(t){return new cb(this.moduleType,t,[])}}class U1 extends Qc{constructor(t){super(),this.componentFactoryResolver=new vD(this),this.instance=null;const r=new Uu([...t.providers,{provide:Qc,useValue:this},{provide:Om,useValue:this.componentFactoryResolver}],t.parent||dm(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function db(e,t,r=null){return new U1({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let ZB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=mw(0,n.type),i=o.length>0?db([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=$e({token:e,providedIn:"environment",factory:()=>new e(ae(ai))}),t})();function cg(e){Uc("NgStandalone"),e.getStandaloneInjector=t=>t.get(ZB).getOrCreateStandaloneInjector(e)}function J1(e,t,r,n,o,i){const s=t+r;return Fo(e,s,o)?Ha(e,s+1,i?n.call(i,o):n(o)):function dp(e,t){const r=e[t];return r===hn?void 0:r}(e,s+1)}function Za(e,t){const r=Wn();let n;const o=e+dt;r.firstCreatePass?(n=function fV(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=Lc(n.type)),a=wn(_);try{const l=Jh(!1),c=i();return Jh(l),function MB(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,ze(),o,c),c}finally{wn(a)}}function qa(e,t,r){const n=e+dt,o=ze(),i=Mu(o,n);return function fp(e,t){return e[lt].data[t].pure}(o,n)?J1(o,Ai(),t,i.transform,r,i):i.transform(r)}function _V(){return this._results[Symbol.iterator]()}class pb{get changes(){return this._changes??=new en}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=pb.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=_V)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function rs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function NO(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=bV,t})();const vV=pa,yV=class extends vV{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=Jf(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new zf(o)}};function bV(){return fg(Ar(),ze())}function fg(e,t){return 4&e.type?new yV(t,e,Yu(e,t)):null}class hb{constructor(t){this.queryList=t,this.matches=null}clone(){return new hb(this.queryList)}setDirty(){this.queryList.setDirty()}}class mb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new mb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==lx(t,r).matches&&this.queries[r].setDirty()}}class ox{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class gb{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new gb(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _b{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new _b(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,CV(r,i)),this.matchTNodeWithReadOption(t,r,nm(r,t,i,!1,!1))}else n===pa?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,nm(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===et||o===is||o===pa&&4&r.type)this.addMatch(r.index,-2);else{const i=nm(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function CV(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function wV(e,t,r,n){return-1===r?function SV(e,t){return 11&e.type?Yu(e,t):4&e.type?fg(e,t):null}(t,e):-2===r?function EV(e,t,r){return r===et?Yu(t,e):r===pa?fg(t,e):r===is?iI(t,e):void 0}(e,t,n):Bc(e,e[lt],r,t)}function ix(e,t,r,n){const o=t[sn].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:wV(t,i[c],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function vb(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=ix(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const c=i[a+1],f=t[-l];for(let p=ln;p<f.length;p++){const m=f[p];m[nr]===m[$r]&&vb(m[lt],m,c,n)}if(null!==f[En]){const p=f[En];for(let m=0;m<p.length;m++){const y=p[m];vb(y[lt],y,c,n)}}}}}return n}function Is(e){const t=ze(),r=Wn(),n=jS();uv(n+1);const o=lx(r,n);if(e.dirty&&function YP(e){return 4==(4&e[Zt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?vb(r,t,n,[]):ix(r,t,o,n);e.reset(i,GN),e.notifyOnChanges()}return!0}return!1}function cc(e,t,r){const n=Wn();n.firstCreatePass&&(ax(n,new ox(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),sx(n,ze(),t)}function vd(e,t,r,n){const o=Wn();if(o.firstCreatePass){const i=Ar();ax(o,new ox(t,r,n),i.index),function IV(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}sx(o,ze(),r)}function xs(){return function DV(e,t){return e[sn].queries[t].queryList}(ze(),jS())}function sx(e,t,r){const n=new pb(4==(4&r));(function _F(e,t,r,n){const o=tD(t);o.push(r),e.firstCreatePass&&nD(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[sn]&&(t[sn]=new mb),t[sn].queries.push(new hb(n))}function ax(e,t,r){null===e.queries&&(e.queries=new gb),e.queries.track(new _b(t,r))}function lx(e,t){return e.queries.getByIndex(t)}let Ex=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),hg=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new co(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class KV{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let Dx=(()=>{var e;class t{compileModuleSync(n){return new ub(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=bs(qo(n).declarations).reduce((a,l)=>{const c=Cn(l);return c&&a.push(new Wf(c)),a},[]);return new KV(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ax=new ft(""),gg=new ft("");let Ib,Eb=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ib||(function b4(e){Ib=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(He),ae(Db),ae(gg))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),Db=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Ib?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const mp=new ft("Application Initializer");let xb=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=ot(mp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(cp(s))n.push(s);else if(d1(s)){const a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Tb=new ft("appBootstrapListener");function Px(e,t){return Array.isArray(t)?t.reduce(Px,e):{...e,...t}}let ha=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ot(LE),this.zoneIsStable=ot(dD),this.componentTypes=[],this.components=[],this.isStable=ot(hg).hasPendingTasks.pipe(Qr(n=>n?Gt(!1):this.zoneIsStable),Ls()),this._injector=ot(ai)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof EE;if(!this._injector.get(xb).done)throw!i&&function ua(e){const t=Cn(e)||go(e)||No(e);return null!==t&&t.standalone}(n),new Ke(405,!1);let a;a=i?n:this._injector.get(Om).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function S4(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Qc),f=a.create(Wr.NULL,[],o||a.selector,l),p=f.location.nativeElement,m=f.injector.get(Ax,null);return m?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),_g(this.components,f),m?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Ke(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;_g(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(Tb,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_g(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ke(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function _g(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let E4=(()=>{var e;class t{constructor(){this.zone=ot(He),this.applicationRef=ot(ha)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function D4(){const e=ot(He),t=ot(wl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const Dl=new ft("LocaleId",{providedIn:"root",factory:()=>ot(Dl,At.Optional|At.SkipSelf)||function x4(){return typeof $localize<"u"&&$localize.locale||_d}()}),Mb=new ft("PlatformDestroyListeners");let Lx=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function sL(e="zone.js",t){return"noop"===e?new oL:"zone.js"===e?new He(t):e}(o?.ngZone,function Fx(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function WB(e,t,r){return new cb(e,t,r)}(n.moduleType,this.injector,function Nx(e){return[{provide:He,useFactory:e},{provide:Gu,multi:!0,useFactory:()=>{const t=ot(E4,{optional:!0});return()=>t.initialize()}},{provide:LE,useFactory:D4},{provide:dD,useFactory:fD}]}(()=>i)),a=s.injector.get(wl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{_g(this._modules,s),l.unsubscribe()})}),function Rx(e,t,r){try{const n=r();return cp(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get(xb);return l.runInitializers(),l.donePromise.then(()=>(function jI(e){Jt(e,"Expected localeId to be defined"),"string"==typeof e&&(VI=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Dl,_d)||_d),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=Px({},o);return function C4(e,t,r){const n=new ub(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(ha);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ke(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(Mb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Wr))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),uc=null;const $x=new ft("AllowMultipleToken");function Bx(e,t,r=[]){const n=`Platform: ${t}`,o=new ft(n);return(i=[])=>{let s=Ab();if(!s||s.injector.get($x,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function A4(e){if(uc&&!uc.get($x,!1))throw new Ke(400,!1);(function kx(){!function tt(e){ge=e}(()=>{throw new Ke(600,!1)})})(),uc=e;const t=e.get(Lx);(function jx(e){e.get(Iw,null)?.forEach(r=>r())})(e)}(function Vx(e=[],t){return Wr.create({name:t,providers:[{provide:Mv,useValue:"platform"},{provide:Mb,useValue:new Set([()=>uc=null])},...e]})}(a,n))}return function k4(e){const t=Ab();if(!t)throw new Ke(401,!1);return t}()}}function Ab(){return uc?.get(Lx)??null}const L4=Bx(null,"core",[]);let $4=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(ha))},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({}),t})();function uT(e){const t=Cn(e);if(!t)return null;const r=new Wf(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let Bb=null;function dc(){return Bb}class fj{}const ci=new ft("DocumentToken");let Vb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(hj),providedIn:"platform"}),t})();const pj=new ft("Location Initialized");let hj=(()=>{var e;class t extends Vb{constructor(){super(),this._doc=ot(ci),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dc().getBaseHref(this._doc)}onPopState(n){const o=dc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=dc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new e,providedIn:"platform"}),t})();function jb(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function dT(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Il(e){return e&&"?"!==e[0]?"?"+e:e}let Ka=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(pT),providedIn:"root"}),t})();const fT=new ft("appBaseHref");let pT=(()=>{var e;class t extends Ka{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??ot(ci).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return jb(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Il(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Il(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Vb),ae(fT,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),hT=(()=>{var e;class t extends Ka{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=jb(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Il(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Vb),ae(fT,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),fc=(()=>{var e;class t{constructor(n){this._subject=new en,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function _j(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(dT(mT(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Il(o))}normalize(n){return t.stripTrailingSlash(function gj(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,mT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Il(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Il,e.joinWithSlash=jb,e.stripTrailingSlash=dT,e.\u0275fac=function(n){return new(n||e)(ae(Ka))},e.\u0275prov=$e({token:e,factory:()=>function mj(){return new fc(ae(Ka))}(),providedIn:"root"}),t})();function mT(e){return e.replace(/\/index.html$/,"")}function ET(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class rG{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ml=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new rG(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),xT(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{xT(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(is),_(pa),_(Fm))},e.\u0275dir=Ot({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function xT(e,t){e.context.$implicit=t.item}let ko=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new oG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){TT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){TT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(is),_(pa))},e.\u0275dir=Ot({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class oG{constructor(){this.$implicit=null,this.ngIf=null}}function TT(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Cr(t)}'.`)}class Qb{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Fg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ot({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),MT=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new Qb(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(is),_(pa),_(Fg,9))},e.\u0275dir=Ot({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),AT=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new Qb(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(is),_(pa),_(Fg,9))},e.\u0275dir=Ot({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class lG{createSubscription(t,r){return xE(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){xE(()=>t.unsubscribe())}}class cG{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const uG=new cG,dG=new lG;let RT=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(cp(n))return uG;if(d1(n))return dG;throw function ga(e,t){return new Ke(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(at,16))},e.\u0275pipe=xo({name:"async",type:e,pure:!1,standalone:!0}),t})(),Ya=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({}),t})();const OT="browser";function Ed(e){return e===OT}function NT(e){return"server"===e}let RG=(()=>{var e;class t{}return(e=t).\u0275prov=$e({token:e,providedIn:"root",factory:()=>new PG(ae(ci),window)}),t})();class PG{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function OG(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class FT{}class rU extends fj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oC extends rU{static makeCurrent(){!function dj(e){Bb||(Bb=e)}(new oC)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function oU(){return Cp=Cp||document.querySelector("base"),Cp?Cp.getAttribute("href"):null}();return null==r?null:function iU(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){Cp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ET(document.cookie,t)}}let Cp=null,aU=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const iC=new ft("EventManagerPlugins");let VT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Ke(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(iC),ae(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class jT{constructor(t){this._doc=t}}const sC="ng-app-id";let GT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=NT(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${sC}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(sC),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(sC,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(ci),ae(pm),ae(xw,8),ae(rc))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const aC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lC=/%COMP%/g,dU=new ft("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function HT(e,t){return t.map(r=>r.replace(lC,e))}let zT=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=NT(l),this.defaultRenderer=new cC(n,a,c,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Ji.ShadowDom&&(o={...o,encapsulation:Ji.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof ZT?i.applyToHost(n):i instanceof uC&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,c=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(o.encapsulation){case Ji.Emulated:s=new ZT(c,f,o,this.appId,p,a,l,m);break;case Ji.ShadowDom:return new mU(c,f,n,o,a,l,this.nonce,m);default:s=new uC(c,f,o,p,a,l,m)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(VT),ae(GT),ae(pm),ae(dU),ae(ci),ae(rc),ae(He),ae(xw))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();class cC{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(aC[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(WT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(WT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Ke(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=aC[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=aC[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(sc.DashCase|sc.Important)?t.style.setProperty(r,n,o&sc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&sc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=dc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function WT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class mU extends cC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=HT(o.id,o.styles);for(const f of c){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class uC extends cC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?HT(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ZT extends uC{constructor(t,r,n,o,i,s,a,l){const c=o+"-"+n.id;super(t,r,n,i,s,a,l,c),this.contentAttr=function fU(e){return"_ngcontent-%COMP%".replace(lC,e)}(c),this.hostAttr=function pU(e){return"_nghost-%COMP%".replace(lC,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let gU=(()=>{var e;class t extends jT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(ci))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const qT=["alt","control","meta","shift"],_U={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vU={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let yU=(()=>{var e;class t extends jT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),qT.forEach(f=>{const p=o.indexOf(f);p>-1&&(o.splice(p,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,o){let i=_U[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qT.forEach(a=>{a!==i&&(0,vU[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(ci))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const wU=Bx(L4,"browser",[{provide:rc,useValue:OT},{provide:Iw,useValue:function bU(){oC.makeCurrent()},multi:!0},{provide:ci,useFactory:function SU(){return function h2(e){Nv=e}(document),document},deps:[]}]),EU=new ft(""),XT=[{provide:gg,useClass:class sU{addToWindow(t){jn.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Ke(5103,!1);return i},jn.getAllAngularTestabilities=()=>t.getAllTestabilities(),jn.getAllAngularRootElements=()=>t.getAllRootElements(),jn.frameworkStabilizers||(jn.frameworkStabilizers=[]),jn.frameworkStabilizers.push(n=>{const o=jn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?dc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:Ax,useClass:Eb,deps:[He,Db,gg]},{provide:Eb,useClass:Eb,deps:[He,Db,gg]}],QT=[{provide:Mv,useValue:"root"},{provide:wl,useFactory:function CU(){return new wl},deps:[]},{provide:iC,useClass:gU,multi:!0,deps:[ci,He,rc]},{provide:iC,useClass:yU,multi:!0,deps:[ci]},zT,GT,VT,{provide:IE,useExisting:zT},{provide:FT,useClass:aU,deps:[]},[]];let DU=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:pm,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(EU,12))},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({providers:[...QT,...XT],imports:[Ya,$4]}),t})(),JT=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(ci))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function xU(){return new JT(ae(ci))}(),o},providedIn:"root"}),t})();const pc=typeof window<"u"&&window||{};class TU{constructor(t,r){this.msPerTick=t,this.numTicks=r}}class MU{constructor(t){this.appRef=t.injector.get(ha)}timeChangeDetection(t){const r=t&&t.record,n="Change Detection",o=null!=pc.console.profile;r&&o&&pc.console.profile(n);const i=dC();let s=0;for(;s<5||dC()-i<500;)this.appRef.tick(),s++;const a=dC();r&&o&&pc.console.profileEnd(n);const l=(a-i)/s;return pc.console.log(`ran ${s} change detection cycles`),pc.console.log(`${l.toFixed(2)} ms per check`),new TU(l,s)}}function dC(){return pc.performance&&pc.performance.now?pc.performance.now():(new Date).getTime()}let fC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new(n||e):ae(nM),o},providedIn:"root"}),t})(),nM=(()=>{var e;class t extends fC{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case Ss.NONE:return o;case Ss.HTML:return Ga(o,"HTML")?Cs(o):_E(this._doc,String(o)).toString();case Ss.STYLE:return Ga(o,"Style")?Cs(o):o;case Ss.SCRIPT:if(Ga(o,"Script"))return Cs(o);throw new Ke(5200,!1);case Ss.URL:return Ga(o,"URL")?Cs(o):xm(String(o));case Ss.RESOURCE_URL:if(Ga(o,"ResourceURL"))return Cs(o);throw new Ke(5201,!1);default:throw new Ke(5202,!1)}}bypassSecurityTrustHtml(n){return function uN(e){return new oN(e)}(n)}bypassSecurityTrustStyle(n){return function dN(e){return new iN(e)}(n)}bypassSecurityTrustScript(n){return function fN(e){return new sN(e)}(n)}bypassSecurityTrustUrl(n){return function pN(e){return new aN(e)}(n)}bypassSecurityTrustResourceUrl(n){return function hN(e){return new lN(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(ci))},e.\u0275prov=$e({token:e,factory:function(n){let o=null;return o=n?new n:function RU(e){return new nM(e.get(ci))}(ae(Wr)),o},providedIn:"root"}),t})();var dr=C(5861),PU=C(6299),Dd=C.n(PU);let Bg,Vg;function oM(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function iM(){return void 0!==Vg}class sM{constructor(){this.requestEvent=new dr.j}dispatchRequest(t){if(t){try{t=new(Dd())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let pC=(()=>{var e;class t{constructor(){this.installation=new sM,this.import=new sM,Bg&&this.installation.dispatchRequest(Bg),Vg&&this.import.dispatchRequest(Vg)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var $=C(3918);function Id(e,t){return ye(t)?Rn(e,t,1):Rn(e,1)}function _a(e,t){return vn((r,n)=>{let o=0;r.subscribe(gn(n,i=>e.call(t,i,o++)&&n.next(i)))})}function Sp(e){return vn((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class jg{}class Gg{}class Zs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new Zs;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Zs?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class FU{encodeKey(t){return aM(t)}encodeValue(t){return aM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const $U=/%(\d[a-f0-9])/gi,BU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aM(e){return encodeURIComponent(e).replace($U,(t,r)=>BU[r]??t)}function Ug(e){return`${e}`}class hc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new FU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function LU(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(Ug):[Ug(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new hc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(Ug(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(Ug(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class VU{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function lM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function cM(e){return typeof Blob<"u"&&e instanceof Blob}function uM(e){return typeof FormData<"u"&&e instanceof FormData}class wp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function jU(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new Zs),this.context||(this.context=new VU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new hc,this.urlWithParams=r}serializeBody(){return null===this.body?null:lM(this.body)||cM(this.body)||uM(this.body)||function GU(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uM(this.body)?null:cM(this.body)?this.body.type||null:lM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((p,m)=>p.set(m,t.setHeaders[m]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((p,m)=>p.set(m,t.setParams[m]),c)),new wp(r,n,i,{params:c,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var mc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(mc||{});class hC{constructor(t,r=200,n="OK"){this.headers=t.headers||new Zs,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Hg extends hC{constructor(t={}){super(t),this.type=mc.ResponseHeader}clone(t={}){return new Hg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class eu extends hC{constructor(t={}){super(t),this.type=mc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new eu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class xd extends hC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function mC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let gC=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof wp)s=n;else{let c,f;c=i.headers instanceof Zs?i.headers:new Zs(i.headers),i.params&&(f=i.params instanceof hc?i.params:new hc({fromObject:i.params})),s=new wp(n,o,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Gt(s).pipe(Id(c=>this.handler.handle(c)));if(n instanceof wp||"events"===i.observe)return a;const l=a.pipe(_a(c=>c instanceof eu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(nn(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(nn(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(nn(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(nn(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new hc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,mC(i,o))}post(n,o,i={}){return this.request("POST",n,mC(i,o))}put(n,o,i={}){return this.request("PUT",n,mC(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(jg))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function fM(e,t){return t(e)}function ZU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const KU=new ft(""),Ep=new ft(""),pM=new ft(""),hM=new ft("");function YU(){let e=null;return(t,r)=>{null===e&&(e=(ot(KU,{optional:!0})??[]).reduceRight(ZU,fM));const n=ot(hg),o=n.add();return e(t,r).pipe(Sp(()=>n.remove(o)))}}let mM=(()=>{var e;class t extends jg{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=ot(hg);const i=ot(hM,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ep),...this.injector.get(pM,[])]));this.chain=i.reduceRight((s,a)=>function qU(e,t,r){return(n,o)=>ec(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),fM)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Sp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Gg),ae(ai))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const t6=/^\)\]\}',?\n/;let _M=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Ke(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?br(o.\u0275loadImpl()):Gt(null)).pipe(Qr(()=>new kn(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((_e,we)=>a.setRequestHeader(_e,we.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const _e=n.detectContentTypeHeader();null!==_e&&a.setRequestHeader("Content-Type",_e)}if(n.responseType){const _e=n.responseType.toLowerCase();a.responseType="json"!==_e?_e:"text"}const l=n.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const _e=a.statusText||"OK",we=new Zs(a.getAllResponseHeaders()),Re=function n6(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return c=new Hg({headers:we,status:a.status,statusText:_e,url:Re}),c},p=()=>{let{headers:_e,status:we,statusText:Re,url:_t}=f(),gt=null;204!==we&&(gt=typeof a.response>"u"?a.responseText:a.response),0===we&&(we=gt?200:0);let qt=we>=200&&we<300;if("json"===n.responseType&&"string"==typeof gt){const Tt=gt;gt=gt.replace(t6,"");try{gt=""!==gt?JSON.parse(gt):null}catch(ir){gt=Tt,qt&&(qt=!1,gt={error:ir,text:gt})}}qt?(s.next(new eu({body:gt,headers:_e,status:we,statusText:Re,url:_t||void 0})),s.complete()):s.error(new xd({error:gt,headers:_e,status:we,statusText:Re,url:_t||void 0}))},m=_e=>{const{url:we}=f(),Re=new xd({error:_e,status:a.status||0,statusText:a.statusText||"Unknown Error",url:we||void 0});s.error(Re)};let y=!1;const H=_e=>{y||(s.next(f()),y=!0);let we={type:mc.DownloadProgress,loaded:_e.loaded};_e.lengthComputable&&(we.total=_e.total),"text"===n.responseType&&a.responseText&&(we.partialText=a.responseText),s.next(we)},J=_e=>{let we={type:mc.UploadProgress,loaded:_e.loaded};_e.lengthComputable&&(we.total=_e.total),s.next(we)};return a.addEventListener("load",p),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),n.reportProgress&&(a.addEventListener("progress",H),null!==l&&a.upload&&a.upload.addEventListener("progress",J)),a.send(l),s.next({type:mc.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",p),a.removeEventListener("timeout",m),n.reportProgress&&(a.removeEventListener("progress",H),null!==l&&a.upload&&a.upload.removeEventListener("progress",J)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(FT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const yC=new ft("XSRF_ENABLED"),vM=new ft("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yM=new ft("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class bM{}let i6=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ET(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(ci),ae(rc),ae(vM))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function s6(e,t){const r=e.url.toLowerCase();if(!ot(yC)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=ot(bM).getToken(),o=ot(yM);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var gc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(gc||{});function tu(e,t){return{\u0275kind:e,\u0275providers:t}}function a6(...e){const t=[gC,_M,mM,{provide:jg,useExisting:mM},{provide:Gg,useExisting:_M},{provide:Ep,useValue:s6,multi:!0},{provide:yC,useValue:!0},{provide:bM,useClass:i6}];for(const r of e)t.push(...r.\u0275providers);return function Iv(e){return{\u0275providers:e}}(t)}const CM=new ft("LEGACY_INTERCEPTOR_FN");let c6=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({providers:[a6(tu(gc.LegacyInterceptors,[{provide:CM,useFactory:YU},{provide:Ep,useExisting:CM,multi:!0}]))]}),t})();const{isArray:g6}=Array,{getPrototypeOf:_6,prototype:v6,keys:y6}=Object;function TM(e){if(1===e.length){const t=e[0];if(g6(t))return{args:t,keys:null};if(function b6(e){return e&&"object"==typeof e&&_6(e)===v6}(t)){const r=y6(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:C6}=Array;function bC(e){return nn(t=>function S6(e,t){return C6(t)?e(...t):e(t)}(e,t))}function MM(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function Wg(...e){const t=Xi(e),r=ea(e),{args:n,keys:o}=TM(e);if(0===n.length)return br([],t);const i=new kn(function w6(e,t,r=Ln){return n=>{AM(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)AM(t,()=>{const c=br(e[l],t);let f=!1;c.subscribe(gn(n,p=>{i[l]=p,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>MM(o,s):Ln));return r?i.pipe(bC(r)):i}function AM(e,t,r){e?Un(r,e,t):t()}const Zg=Ie(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function CC(...e){return function E6(){return Oo(1)}()(br(e,Xi(e)))}function kM(e){return new kn(t=>{je(e()).subscribe(t)})}function qg(e,t){const r=ye(e)?e:()=>e,n=o=>o.error(r());return new kn(t?o=>t.schedule(n,0,o):n)}function SC(){return vn((e,t)=>{let r=null;e._refCount++;const n=gn(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class RM extends kn{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,xr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new pt;const r=this.getSubject();t.add(this.source.subscribe(gn(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=pt.EMPTY)}return t}refCount(){return SC()(this)}}function Td(e){return e<=0?()=>Io:vn((t,r)=>{let n=0;t.subscribe(gn(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function PM(...e){const t=Xi(e);return vn((r,n)=>{(t?CC(e,r,t):CC(e,r)).subscribe(n)})}function Kg(e){return vn((t,r)=>{let n=!1;t.subscribe(gn(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function OM(e=D6){return vn((t,r)=>{let n=!1;t.subscribe(gn(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function D6(){return new Zg}function _c(e,t){const r=arguments.length>=2;return n=>n.pipe(e?_a((o,i)=>e(o,i,n)):Ln,Td(1),r?Kg(t):OM(()=>new Zg))}function Ei(e,t,r){const n=ye(e)||t||r?{next:e,error:t,complete:r}:e;return n?vn((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe(gn(i,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var c;a=!1,null===(c=n.error)||void 0===c||c.call(n,l),i.error(l)},()=>{var l,c;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):Ln}function nu(e){return vn((t,r)=>{let i,n=null,o=!1;n=t.subscribe(gn(r,void 0,void 0,s=>{i=je(e(s,nu(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function wC(e){return e<=0?()=>Io:vn((t,r)=>{let n=[];t.subscribe(gn(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function NM(e){return nn(()=>e)}function FM(e){return vn((t,r)=>{je(e).subscribe(gn(r,()=>r.complete(),sr)),!r.closed&&t.subscribe(r)})}const _n="primary",Dp=Symbol("RouteTitle");class M6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Md(e){return new M6(e)}function A6(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function Xa(e,t){const r=e?EC(e):void 0,n=t?EC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!LM(e[o],t[o]))return!1;return!0}function EC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function LM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function $M(e){return e.length>0?e[e.length-1]:null}function vc(e){return function m6(e){return!!e&&(e instanceof kn||ye(e.lift)&&ye(e.subscribe))}(e)?e:cp(e)?br(Promise.resolve(e)):Gt(e)}const R6={exact:function jM(e,t,r){if(!ru(e.segments,t.segments)||!Yg(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!jM(e.children[n],t.children[n],r))return!1;return!0},subset:GM},BM={exact:function P6(e,t){return Xa(e,t)},subset:function O6(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>LM(e[r],t[r]))},ignored:()=>!0};function VM(e,t,r){return R6[r.paths](e.root,t.root,r.matrixParams)&&BM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function GM(e,t,r){return UM(e,t,t.segments,r)}function UM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!ru(o,r)||t.hasChildren()||!Yg(o,r,n))}if(e.segments.length===r.length){if(!ru(e.segments,r)||!Yg(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!GM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(ru(e.segments,o)&&Yg(e.segments,o,n)&&e.children[_n])&&UM(e.children[_n],t,i,n)}}function Yg(e,t,r){return t.every((n,o)=>BM[r](e[o].parameters,n.parameters))}class Ad{constructor(t=new kr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return L6.serialize(this)}}class kr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xg(this)}}class Ip{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Md(this.parameters)),this._parameterMap}toString(){return WM(this)}}function ru(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let ou=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>new DC,providedIn:"root"}),t})();class DC{parse(t){const r=new q6(t);return new Ad(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${xp(t.root,!0)}`,n=function V6(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${Qg(r)}=${Qg(o)}`).join("&"):`${Qg(r)}=${Qg(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function $6(e){return encodeURI(e)}(t.fragment)}`:""}`}}const L6=new DC;function Xg(e){return e.segments.map(t=>WM(t)).join("/")}function xp(e,t){if(!e.hasChildren())return Xg(e);if(t){const r=e.children[_n]?xp(e.children[_n],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==_n&&n.push(`${o}:${xp(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function F6(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===_n&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==_n&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===_n?[xp(e.children[_n],!1)]:[`${o}:${xp(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[_n]?`${Xg(e)}/${r[0]}`:`${Xg(e)}/(${r.join("//")})`}}function HM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qg(e){return HM(e).replace(/%3B/gi,";")}function IC(e){return HM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jg(e){return decodeURIComponent(e)}function zM(e){return Jg(e.replace(/\+/g,"%20"))}function WM(e){return`${IC(e.path)}${function B6(e){return Object.keys(e).map(t=>`;${IC(t)}=${IC(e[t])}`).join("")}(e.parameters)}`}const j6=/^[^\/()?;#]+/;function xC(e){const t=e.match(j6);return t?t[0]:""}const G6=/^[^\/()?;=#]+/,H6=/^[^=?&#]+/,W6=/^[^&#]+/;class q6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kr([],{}):new kr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[_n]=new kr(t,r)),n}parseSegment(){const t=xC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Ke(4009,!1);return this.capture(t),new Ip(Jg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function U6(e){const t=e.match(G6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=xC(this.remaining);o&&(n=o,this.capture(n))}t[Jg(r)]=Jg(n)}parseQueryParam(t){const r=function z6(e){const t=e.match(H6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function Z6(e){const t=e.match(W6);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=zM(r),i=zM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=xC(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Ke(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=_n);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[_n]:new kr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Ke(4011,!1)}}function ZM(e){return e.segments.length>0?new kr([],{[_n]:e}):e}function qM(e){const t={};for(const n of Object.keys(e.children)){const i=qM(e.children[n]);if(n===_n&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function K6(e){if(1===e.numberOfChildren&&e.children[_n]){const t=e.children[_n];return new kr(e.segments.concat(t.segments),t.children)}return e}(new kr(e.segments,t))}function iu(e){return e instanceof Ad}function KM(e){let t;const o=ZM(function r(i){const s={};for(const l of i.children){const c=r(l);s[l.outlet]=c}const a=new kr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function YM(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return TC(o,o,o,r,n);const i=function X6(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new QM(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new QM(r,t,n)}(t);if(i.toRoot())return TC(o,o,new kr([],{}),r,n);const s=function Q6(e,t,r){if(e.isAbsolute)return new t_(t,!0,0);if(!r)return new t_(t,!1,NaN);if(null===r.parent)return new t_(r,!0,0);const n=e_(e.commands[0])?0:1;return function J6(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Ke(4005,!1);o=n.segments.length}return new t_(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Mp(s.segmentGroup,s.index,i.commands):JM(s.segmentGroup,s.index,i.commands);return TC(o,s.segmentGroup,a,r,n)}function e_(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Tp(e){return"object"==typeof e&&null!=e&&e.outlets}function TC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),s=e===t?r:XM(e,t,r);const a=ZM(qM(s));return new Ad(a,i,o)}function XM(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:XM(i,t,r)}),new kr(e.segments,n)}class QM{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&e_(n[0]))throw new Ke(4003,!1);const o=n.find(Tp);if(o&&o!==$M(n))throw new Ke(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class t_{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function JM(e,t,r){if(e||(e=new kr([],{})),0===e.segments.length&&e.hasChildren())return Mp(e,t,r);const n=function tH(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(Tp(a))break;const l=`${a}`,c=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!tA(l,c,s))return i;n+=2}else{if(!tA(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new kr(e.segments.slice(0,n.pathIndex),{});return i.children[_n]=new kr(e.segments.slice(n.pathIndex),e.children),Mp(i,0,o)}return n.match&&0===o.length?new kr(e.segments,{}):n.match&&!e.hasChildren()?MC(e,t,r):n.match?Mp(e,0,o):MC(e,t,r)}function Mp(e,t,r){if(0===r.length)return new kr(e.segments,{});{const n=function eH(e){return Tp(e[0])?e[0].outlets:{[_n]:e}}(r),o={};if(Object.keys(n).some(i=>i!==_n)&&e.children[_n]&&1===e.numberOfChildren&&0===e.children[_n].segments.length){const i=Mp(e.children[_n],t,r);return new kr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=JM(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new kr(e.segments,o)}}function MC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(Tp(i)){const l=nH(i.outlets);return new kr(n,l)}if(0===o&&e_(r[0])){n.push(new Ip(e.segments[t].path,eA(r[0]))),o++;continue}const s=Tp(i)?i.outlets[_n]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&e_(a)?(n.push(new Ip(s,eA(a))),o+=2):(n.push(new Ip(s,{})),o++)}return new kr(n,{})}function nH(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=MC(new kr([],{}),0,n))}),t}function eA(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function tA(e,t,r){return e==r.path&&Xa(t,r.parameters)}const Ap="imperative";class Qa{constructor(t,r){this.id=t,this.url=r}}class kp extends Qa{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Al extends Qa{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kd extends Qa{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rd extends Qa{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class n_ extends Qa{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nA extends Qa{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rH extends Qa{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oH extends Qa{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iH extends Qa{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sH extends Qa{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rA{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class AC{}class kC{constructor(t){this.url=t}}class pH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new su,this.attachRef=null}}let su=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new pH,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class oA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=RC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=RC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=PC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return PC(t,this._root).map(r=>r.value)}}function RC(e,t){if(e===t.value)return t;for(const r of t.children){const n=RC(e,r);if(n)return n}return null}function PC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=PC(e,r);if(n.length)return n.unshift(t),n}return[]}class va{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function Pd(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class iA extends oA{constructor(t,r){super(t),this.snapshot=r,FC(this,t)}toString(){return this.snapshot.toString()}}function sA(e,t){const r=function hH(e,t){const s=new NC([],{},{},"",{},_n,t,null,{});return new aA("",new va(s,[]))}(0,t),n=new co([new Ip("",{})]),o=new co({}),i=new co({}),s=new co({}),a=new co(""),l=new Ja(n,o,s,a,i,_n,t,r.root);return l.snapshot=r.root,new iA(new va(l,[]),r)}class Ja{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(nn(c=>c[Dp]))??Gt(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(nn(t=>Md(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(nn(t=>Md(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&cA(o)&&(n.resolve[Dp]=o.title),n}class NC{get title(){return this.data?.[Dp]}constructor(t,r,n,o,i,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Md(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Md(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aA extends oA{constructor(t,r){super(r),this.url=t,FC(this,r)}toString(){return lA(this._root)}}function FC(e,t){t.value._routerState=e,t.children.forEach(r=>FC(e,r))}function lA(e){const t=e.children.length>0?` { ${e.children.map(lA).join(", ")} } `:"";return`${e.value}${t}`}function LC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Xa(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Xa(t.params,r.params)||e.paramsSubject.next(r.params),function k6(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Xa(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),Xa(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function $C(e,t){const r=Xa(e.params,t.params)&&function N6(e,t){return ru(e,t)&&e.every((r,n)=>Xa(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||$C(e.parent,t.parent))}function cA(e){return"string"==typeof e.title||null===e.title}let uA=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=_n,this.activateEvents=new en,this.deactivateEvents=new en,this.attachEvents=new en,this.detachEvents=new en,this.parentContexts=ot(su),this.location=ot(is),this.changeDetector=ot(at),this.environmentInjector=ot(ai),this.inputBinder=ot(r_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ke(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ke(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ke(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Ke(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new mH(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ot({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ci]}),t})();class mH{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Ja?this.route:t===su?this.childContexts:this.parent.get(t,r)}}const r_=new ft("");let dA=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=Wg([o.queryParams,o.params,o.data]).pipe(Qr(([s,a,l],c)=>(l={...s,...a,...l},0===c?Gt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=uT(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function Rp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function _H(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return Rp(e,n,o);return Rp(e,n)})}(e,t,r);return new va(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Rp(e,a)),s}}const n=function vH(e){return new Ja(new co(e.url),new co(e.params),new co(e.queryParams),new co(e.fragment),new co(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Rp(e,i));return new va(n,o)}}const BC="ngNavigationCancelingError";function fA(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=iu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=pA(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function pA(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[BC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function hA(e){return e&&e[BC]}let mA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["ng-component"]],standalone:!0,features:[cg],decls:1,vars:0,template:function(n,o){1&n&&Ve(0,"router-outlet")},dependencies:[uA],encapsulation:2}),t})();function VC(e){const t=e.children&&e.children.map(VC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==_n&&(r.component=mA),r}function el(e){return e.outlet||_n}function Pp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class IH{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),LC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=Pd(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Pd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=Pd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=Pd(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new fH(i.value.snapshot))}),t.children.length&&this.forwardEvent(new uH(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(LC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),LC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Pp(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class gA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class o_{constructor(t,r){this.component=t,this.route=r}}function xH(e,t,r){const n=e._root;return Op(n,t?t._root:null,r,[n.value])}function Od(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function Lr(e){return null!==Vn(e)}(e)?t.get(e):e:n}function Op(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Pd(t);return e.children.forEach(s=>{(function MH(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function AH(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!ru(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ru(e.url,t.url)||!Xa(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$C(e,t)||!Xa(e.queryParams,t.queryParams);default:return!$C(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new gA(n)):(i.data=s.data,i._resolvedData=s._resolvedData),Op(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new o_(a.outlet.component,s))}else s&&Np(t,a,o),o.canActivateChecks.push(new gA(n)),Op(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Np(a,r.getContext(s),o)),o}function Np(e,t,r){const n=Pd(e),o=e.value;Object.entries(n).forEach(([i,s])=>{Np(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new o_(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Fp(e){return"function"==typeof e}function _A(e){return e instanceof Zg||"EmptyError"===e?.name}const i_=Symbol("INITIAL_VALUE");function Nd(){return Qr(e=>Wg(e.map(t=>t.pipe(Td(1),PM(i_)))).pipe(nn(t=>{for(const r of t)if(!0!==r){if(r===i_)return i_;if(!1===r||r instanceof Ad)return r}return!0}),_a(t=>t!==i_),Td(1)))}function vA(e){return function Nr(...e){return Kr(e)}(Ei(t=>{if(iu(t))throw fA(0,t)}),nn(t=>!0===t))}class jC{constructor(t){this.segmentGroup=t||null}}class GC extends Error{constructor(t){super(),this.urlTree=t}}function Fd(e){return qg(new jC(e))}class YH{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Gt(n);if(o.numberOfChildren>1||!o.children[_n])return qg(new Ke(4e3,!1));o=o.children[_n]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new GC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new Ad(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new kr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Ke(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const UC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XH(e,t,r,n,o){const i=HC(e,t,r);return i.matched?(n=function bH(e,t){return e.providers&&!e._injector&&(e._injector=db(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function ZH(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Gt(o.map(s=>{const a=Od(s,e);return vc(function FH(e){return e&&Fp(e.canMatch)}(a)?a.canMatch(t,r):ec(e,()=>a(t,r)))})).pipe(Nd(),vA()):Gt(!0)}(n,t,r).pipe(nn(s=>!0===s?i:{...UC}))):Gt(i)}function HC(e,t,r){if("**"===t.path)return function QH(e){return{matched:!0,parameters:e.length>0?$M(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...UC}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||A6)(r,e,t);if(!o)return{...UC};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function yA(e,t,r,n){return r.length>0&&function tz(e,t,r){return r.some(n=>s_(e,t,n)&&el(n)!==_n)}(e,r,n)?{segmentGroup:new kr(t,ez(n,new kr(r,e.children))),slicedSegments:[]}:0===r.length&&function nz(e,t,r){return r.some(n=>s_(e,t,n))}(e,r,n)?{segmentGroup:new kr(e.segments,JH(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new kr(e.segments,e.children),slicedSegments:r}}function JH(e,t,r,n,o){const i={};for(const s of n)if(s_(e,r,s)&&!o[el(s)]){const a=new kr([],{});i[el(s)]=a}return{...o,...i}}function ez(e,t){const r={};r[_n]=t;for(const n of e)if(""===n.path&&el(n)!==_n){const o=new kr([],{});r[el(n)]=o}return r}function s_(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class iz{}class lz{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new YH(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Ke(4002,`'${t.segmentGroup}'`)}recognize(){const t=yA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(nn(r=>{const n=new NC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_n,this.rootComponentType,null,{}),o=new va(n,r),i=new aA("",o),s=function Y6(e,t,r=null,n=null){return YM(KM(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,_n).pipe(nu(n=>{if(n instanceof GC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof jC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=OC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(nn(i=>i instanceof va?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return br(o).pipe(Id(i=>{const s=n.children[i],a=function EH(e,t){const r=e.filter(n=>el(n)===t);return r.push(...e.filter(n=>el(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function x6(e,t){return vn(function I6(e,t,r,n,o){return(i,s)=>{let a=r,l=t,c=0;i.subscribe(gn(s,f=>{const p=c++;l=a?e(l,f,p):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),Kg(null),function T6(e,t){const r=arguments.length>=2;return n=>n.pipe(e?_a((o,i)=>e(o,i,n)):Ln,wC(1),r?Kg(t):OM(()=>new Zg))}(),Rn(i=>{if(null===i)return Fd(n);const s=bA(i);return function cz(e){e.sort((t,r)=>t.value.outlet===_n?-1:r.value.outlet===_n?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Gt(s)}))}processSegment(t,r,n,o,i,s){return br(r).pipe(Id(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(nu(l=>{if(l instanceof jC)return Gt(null);throw l}))),_c(a=>!!a),nu(a=>{if(_A(a))return function oz(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Gt(new iz):Fd(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function rz(e,t,r,n){return!!(el(e)===n||n!==_n&&s_(t,r,e))&&HC(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):Fd(o):Fd(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:f}=HC(r,o,i);if(!a)return Fd(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,c);return this.applyRedirects.lineralizeSegments(o,p).pipe(Rn(m=>this.processSegment(t,n,r,m.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=XH(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(Qr(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(Qr(({routes:l})=>{const c=n._loadedInjector??t,{consumedSegments:f,remainingSegments:p,parameters:m}=a,y=new NC(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function dz(e){return e.data||{}}(n),el(n),n.component??n._loadedComponent??null,n,function fz(e){return e.resolve||{}}(n)),{segmentGroup:H,slicedSegments:J}=yA(r,f,p,l);if(0===J.length&&H.hasChildren())return this.processChildren(c,l,H).pipe(nn(we=>null===we?null:new va(y,we)));if(0===l.length&&0===J.length)return Gt(new va(y,[]));const _e=el(n)===i;return this.processSegment(c,l,H,J,_e?_n:i,!0).pipe(nn(we=>new va(y,we instanceof va?[we]:[])))})):Fd(r)))}getChildConfig(t,r,n){return r.children?Gt({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Gt({routes:r._loadedRoutes,injector:r._loadedInjector}):function WH(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Gt(!0):Gt(o.map(s=>{const a=Od(s,e);return vc(function RH(e){return e&&Fp(e.canLoad)}(a)?a.canLoad(t,r):ec(e,()=>a(t,r)))})).pipe(Nd(),vA())}(t,r,n).pipe(Rn(o=>o?this.configLoader.loadChildren(t,r).pipe(Ei(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function KH(e){return qg(pA(!1,3))}())):Gt({routes:[],injector:t})}}function uz(e){const t=e.value.routeConfig;return t&&""===t.path}function bA(e){const t=[],r=new Set;for(const n of e){if(!uz(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=bA(n.children);t.push(new va(n.value,o))}return t.filter(n=>!r.has(n))}function CA(e){const t=e.children.map(r=>CA(r)).flat();return[e,...t]}function zC(e){return Qr(t=>{const r=e(t);return r?br(r).pipe(nn(()=>t)):Gt(t)})}let SA=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===_n);return o}getResolvedTitleForRoute(n){return n.data[Dp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(vz),providedIn:"root"}),t})(),vz=(()=>{var e;class t extends SA{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(JT))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ld=new ft("",{providedIn:"root",factory:()=>({})}),$d=new ft("ROUTES");let WC=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ot(Dx)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Gt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=vc(n.loadComponent()).pipe(nn(wA),Ei(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Sp(()=>{this.componentLoaders.delete(n)})),i=new RM(o,()=>new xn).pipe(SC());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Gt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function yz(e,t,r,n){return vc(e.loadChildren()).pipe(nn(wA),Rn(o=>o instanceof G1||Array.isArray(o)?Gt(o):br(t.compileModuleAsync(o))),nn(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get($d,[],{optional:!0,self:!0}).flat()),{routes:s.map(VC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(Sp(()=>{this.childrenLoaders.delete(o)})),a=new RM(s,()=>new xn).pipe(SC());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function wA(e){return function bz(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let ZC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(Cz),providedIn:"root"}),t})(),Cz=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const EA=new ft(""),DA=new ft("");function Sz(e,t,r){const n=e.get(DA),o=e.get(ci);return e.get(He).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function wz(e){return new Promise(t=>{mD(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&ec(e,()=>l({transition:a,from:t,to:r})),s})}let a_=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xn,this.transitionAbortSubject=new xn,this.configLoader=ot(WC),this.environmentInjector=ot(ai),this.urlSerializer=ot(ou),this.rootContexts=ot(su),this.location=ot(fc),this.inputBindingEnabled=null!==ot(r_,{optional:!0}),this.titleStrategy=ot(SA),this.options=ot(Ld,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ot(ZC),this.createViewTransition=ot(EA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Gt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new lH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new aH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new co({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ap,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(_a(s=>0!==s.id),nn(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qr(s=>{this.currentTransition=s;let a=!1,l=!1;return Gt(s).pipe(Ei(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qr(c=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new Rd(c.id,this.urlSerializer.serialize(c.rawUrl),m,0)),c.resolve(null),Io}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Gt(c).pipe(Qr(m=>{const y=this.transitions?.getValue();return this.events.next(new kp(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Io:Promise.resolve(m)}),function pz(e,t,r,n,o,i){return Rn(s=>function sz(e,t,r,n,o,i,s="emptyOnly"){return new lz(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(nn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ei(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const y=new nA(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:m,extractedUrl:y,source:H,restoredState:J,extras:_e}=c,we=new kp(m,this.urlSerializer.serialize(y),H,J);this.events.next(we);const Re=sA(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:Re,urlAfterRedirects:y,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=y,Gt(s)}{const m="";return this.events.next(new Rd(c.id,this.urlSerializer.serialize(c.extractedUrl),m,1)),c.resolve(null),Io}}),Ei(c=>{const f=new rH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),nn(c=>(this.currentTransition=s={...c,guards:xH(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function $H(e,t){return Rn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Gt({...r,guardsResult:!0}):function BH(e,t,r,n){return br(e).pipe(Rn(o=>function zH(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Gt(i.map(a=>{const l=Pp(t)??o,c=Od(a,l);return vc(function NH(e){return e&&Fp(e.canDeactivate)}(c)?c.canDeactivate(e,t,r,n):ec(l,()=>c(e,t,r,n))).pipe(_c())})).pipe(Nd()):Gt(!0)}(o.component,o.route,r,t,n)),_c(o=>!0!==o,!0))}(s,n,o,e).pipe(Rn(a=>a&&function kH(e){return"boolean"==typeof e}(a)?function VH(e,t,r,n){return br(t).pipe(Id(o=>CC(function GH(e,t){return null!==e&&t&&t(new cH(e)),Gt(!0)}(o.route.parent,n),function jH(e,t){return null!==e&&t&&t(new dH(e)),Gt(!0)}(o.route,n),function HH(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function TH(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>kM(()=>Gt(s.guards.map(l=>{const c=Pp(s.node)??r,f=Od(l,c);return vc(function OH(e){return e&&Fp(e.canActivateChild)}(f)?f.canActivateChild(n,e):ec(c,()=>f(n,e))).pipe(_c())})).pipe(Nd())));return Gt(i).pipe(Nd())}(e,o.path,r),function UH(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Gt(!0);const o=n.map(i=>kM(()=>{const s=Pp(t)??r,a=Od(i,s);return vc(function PH(e){return e&&Fp(e.canActivate)}(a)?a.canActivate(t,e):ec(s,()=>a(t,e))).pipe(_c())}));return Gt(o).pipe(Nd())}(e,o.route,r))),_c(o=>!0!==o,!0))}(n,i,e,t):Gt(a)),nn(a=>({...r,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ei(c=>{if(s.guardsResult=c.guardsResult,iu(c.guardsResult))throw fA(0,c.guardsResult);const f=new oH(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),_a(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),zC(c=>{if(c.guards.canActivateChecks.length)return Gt(c).pipe(Ei(f=>{const p=new iH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Qr(f=>{let p=!1;return Gt(f).pipe(function hz(e,t){return Rn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Gt(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of CA(l))s.add(c);let a=0;return br(s).pipe(Id(l=>i.has(l)?function mz(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!cA(o)&&(i[Dp]=o.title),function gz(e,t,r,n){const o=EC(e);if(0===o.length)return Gt({});const i={};return br(o).pipe(Rn(s=>function _z(e,t,r,n){const o=Pp(t)??n,i=Od(e,o);return vc(i.resolve?i.resolve(t,r):ec(o,()=>i(t,r)))}(e[s],t,r,n).pipe(_c(),Ei(a=>{i[s]=a}))),wC(1),NM(i),nu(s=>_A(s)?Io:qg(s)))}(i,e,t,n).pipe(nn(s=>(e._resolvedData=s,e.data=OC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=OC(l,l.parent,e).resolve,Gt(void 0))),Ei(()=>a++),wC(1),Rn(l=>a===s.size?Gt(r):Io))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ei({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",2)}}))}),Ei(f=>{const p=new sH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),zC(c=>{const f=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ei(y=>{p.component=y}),nn(()=>{})));for(const y of p.children)m.push(...f(y));return m};return Wg(f(c.targetSnapshot.root)).pipe(Kg(),Td(1))}),zC(()=>this.afterPreactivation()),Qr(()=>{const{currentSnapshot:c,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,c.root,f.root);return p?br(p).pipe(nn(()=>s)):Gt(s)}),nn(c=>{const f=function gH(e,t,r){const n=Rp(e,t._root,r?r._root:void 0);return new iA(n,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),Ei(()=>{this.events.next(new AC)}),((e,t,r,n)=>nn(o=>(new IH(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Td(1),Ei({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Al(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),FM(this.transitionAbortSubject.pipe(Ei(c=>{throw c}))),Sp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),nu(c=>{if(l=!0,hA(c))this.events.next(new kd(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function yH(e){return hA(e)&&iu(e.url)}(c)?this.events.next(new kC(c.url)):s.resolve(!1);else{this.events.next(new n_(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(f){s.reject(f)}}return Io}))}))}cancelNavigationTransition(n,o,i){const s=new kd(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Ez(e){return e!==Ap}let IA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(Iz),providedIn:"root"}),t})();class Dz{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let Iz=(()=>{var e;class t extends Dz{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),xA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:()=>ot(xz),providedIn:"root"}),t})(),xz=(()=>{var e;class t extends xA{constructor(){super(...arguments),this.location=ot(fc),this.urlSerializer=ot(ou),this.options=ot(Ld,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ot(ZC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ad,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=sA(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof kp)this.stateMemento=this.createStateMemento();else if(n instanceof Rd)this.rawUrlTree=o.initialUrl;else if(n instanceof nA){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof AC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof kd&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof n_?this.restoreHistory(o,!0):n instanceof Al&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Lp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Lp||{});function TA(e,t){e.events.pipe(_a(r=>r instanceof Al||r instanceof kd||r instanceof n_||r instanceof Rd),nn(r=>r instanceof Al||r instanceof Rd?Lp.COMPLETE:r instanceof kd&&(0===r.code||1===r.code)?Lp.REDIRECTING:Lp.FAILED),_a(r=>r!==Lp.REDIRECTING),Td(1)).subscribe(()=>{t()})}function Tz(e){throw e}const Mz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Az={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bo=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ot(Ex),this.stateManager=ot(xA),this.options=ot(Ld,{optional:!0})||{},this.pendingTasks=ot(hg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ot(a_),this.urlSerializer=ot(ou),this.location=ot(fc),this.urlHandlingStrategy=ot(ZC),this._events=new xn,this.errorHandler=this.options.errorHandler||Tz,this.navigated=!1,this.routeReuseStrategy=ot(IA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ot($d,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ot(r_,{optional:!0}),this.eventsSubscription=new pt,this.isNgZoneEnabled=ot(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof kd&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof Al)this.navigated=!0;else if(o instanceof kC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ez(i.source)};this.scheduleNavigation(a,Ap,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Rz(e){return!(e instanceof AC||e instanceof kC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ap,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(VC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=o,f=c?this.currentUrlTree.fragment:a;let m,p=null;switch(l){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{m=KM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return YM(m,n,p,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=iu(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ap,null,o)}navigate(n,o={skipLocationChange:!1}){return function kz(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Ke(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...Mz}:!1===o?{...Az}:o,iu(n))return VM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return VM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,f;a?(l=a.resolve,c=a.reject,f=a.promise):f=new Promise((m,y)=>{l=m,c=y});const p=this.pendingTasks.add();return TA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class MA{}let Nz=(()=>{var e;class t{preload(n,o){return o().pipe(nu(()=>Gt(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Fz=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(_a(n=>n instanceof Al),Id(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=db(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return br(i).pipe(Oo())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Gt(null);const s=i.pipe(Rn(a=>null===a?Gt(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?br([s,this.loader.loadComponent(o)]).pipe(Oo()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Bo),ae(Dx),ae(ai),ae(MA),ae(WC))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const qC=new ft("");let AA=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof kp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Al?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Rd&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rA&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rA(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function HE(){throw new Error("invalid")}()},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();function tl(e,t){return{\u0275kind:e,\u0275providers:t}}function RA(){const e=ot(Wr);return t=>{const r=e.get(ha);if(t!==r.components[0])return;const n=e.get(Bo),o=e.get(PA);1===e.get(KC)&&n.initialNavigation(),e.get(OA,null,At.Optional)?.setUpPreloading(),e.get(qC,null,At.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const PA=new ft("",{factory:()=>new xn}),KC=new ft("",{providedIn:"root",factory:()=>1}),OA=new ft("");function Vz(e){return tl(0,[{provide:OA,useExisting:Fz},{provide:MA,useExisting:e}])}function Gz(e){return tl(9,[{provide:EA,useValue:Sz},{provide:DA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const NA=new ft("ROUTER_FORROOT_GUARD"),Uz=[fc,{provide:ou,useClass:DC},Bo,su,{provide:Ja,useFactory:function kA(e){return e.routerState.root},deps:[Bo]},WC,[]];let l_=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[Uz,[],{provide:$d,multi:!0,useValue:n},{provide:NA,useFactory:Zz,deps:[[Bo,new im,new sm]]},{provide:Ld,useValue:o||{}},o?.useHash?{provide:Ka,useClass:hT}:{provide:Ka,useClass:pT},{provide:qC,useFactory:()=>{const e=ot(RG),t=ot(He),r=ot(Ld),n=ot(a_),o=ot(ou);return r.scrollOffset&&e.setOffset(r.scrollOffset),new AA(o,n,e,t,r)}},o?.preloadingStrategy?Vz(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?qz(o):[],o?.bindToComponentInputs?tl(8,[dA,{provide:r_,useExisting:dA}]).\u0275providers:[],o?.enableViewTransitions?Gz().\u0275providers:[],[{provide:FA,useFactory:RA},{provide:Tb,multi:!0,useExisting:FA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:$d,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(NA,8))},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({}),t})();function Zz(e){return"guarded"}function qz(e){return["disabled"===e.initialNavigation?tl(3,[{provide:mp,multi:!0,useFactory:()=>{const t=ot(Bo);return()=>{t.setUpLocationChangeListener()}}},{provide:KC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?tl(2,[{provide:KC,useValue:0},{provide:mp,multi:!0,deps:[Wr],useFactory:t=>{const r=t.get(pj,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(Bo),i=t.get(PA);TA(o,()=>{n(!0)}),t.get(a_).afterPreactivation=()=>(n(!0),i.closed?Gt(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const FA=new ft("");class Yz{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const yc=new Yz,BA=e=>jA(e),jA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=t5(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},t5=e=>{const t=yc.get("platform");return Object.keys(WA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):WA[r](e)})},YC=e=>!!(au(e,/iPad/i)||au(e,/Macintosh/i)&&c_(e)),GA=e=>au(e,/android|sink/i),c_=e=>d5(e,"(any-pointer:coarse)"),UA=e=>HA(e)||zA(e),HA=e=>!!(e.cordova||e.phonegap||e.PhoneGap),zA=e=>{const t=e.Capacitor;return!!t?.isNative},au=(e,t)=>t.test(e.navigator.userAgent),d5=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},WA={ipad:YC,iphone:e=>au(e,/iPhone/i),ios:e=>au(e,/iPhone|iPod/i)||YC(e),android:GA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return YC(e)||(e=>GA(e)&&!au(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:HA,capacitor:zA,electron:e=>au(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:c_,mobileweb:e=>c_(e)&&!UA(e),desktop:e=>!c_(e),hybrid:UA};var Bp=C(7687),f5=C(276);const p5=["addListener","removeListener"],h5=["addEventListener","removeEventListener"],m5=["on","off"];function u_(e,t,r,n){if(ye(r)&&(n=r,r=void 0),n)return u_(e,t,r).pipe(bC(n));const[o,i]=function v5(e){return ye(e.addEventListener)&&ye(e.removeEventListener)}(e)?h5.map(s=>a=>e[s](t,a,r)):function g5(e){return ye(e.addListener)&&ye(e.removeListener)}(e)?p5.map(ZA(e,t)):function _5(e){return ye(e.on)&&ye(e.off)}(e)?m5.map(ZA(e,t)):[];if(!o&&qi(e))return Rn(s=>u_(s,t,r))(je(e));if(!o)throw new TypeError("Invalid event target");return new kn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function ZA(e,t){return r=>n=>e[r](t,n)}let qA=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Sl),_(et))},e.\u0275dir=Ot({type:e}),t})(),lu=(()=>{var e;class t extends qA{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Ot({type:e,features:[mn]}),t})();const Fi=new ft("NgValueAccessor"),C5={provide:Fi,useExisting:Fn(()=>XC),multi:!0},w5=new ft("CompositionEventMode");let XC=(()=>{var e;class t extends qA{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function S5(){const e=dc()?dc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Sl),_(et),_(w5,8))},e.\u0275dir=Ot({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Fe("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[lr([C5]),mn]}),t})();function bc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function YA(e){return null!=e&&"number"==typeof e.length}const ui=new ft("NgValidators"),Cc=new ft("NgAsyncValidators"),E5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vp{static min(t){return XA(t)}static max(t){return QA(t)}static required(t){return function JA(e){return bc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function ek(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function tk(e){return bc(e.value)||E5.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function nk(e){return t=>bc(t.value)||!YA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return rk(t)}static pattern(t){return function ok(e){if(!e)return d_;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(bc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return uk(t)}static composeAsync(t){return dk(t)}}function XA(e){return t=>{if(bc(t.value)||bc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function QA(e){return t=>{if(bc(t.value)||bc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function rk(e){return t=>YA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function d_(e){return null}function ik(e){return null!=e}function sk(e){return cp(e)?br(e):e}function ak(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function lk(e,t){return t.map(r=>r(e))}function ck(e){return e.map(t=>function D5(e){return!e.validate}(t)?t:r=>t.validate(r))}function uk(e){if(!e)return null;const t=e.filter(ik);return 0==t.length?null:function(r){return ak(lk(r,t))}}function QC(e){return null!=e?uk(ck(e)):null}function dk(e){if(!e)return null;const t=e.filter(ik);return 0==t.length?null:function(r){return function y5(...e){const t=ea(e),{args:r,keys:n}=TM(e),o=new kn(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let f=0;f<s;f++){let p=!1;je(r[f]).subscribe(gn(i,m=>{p||(p=!0,c--),a[f]=m},()=>l--,void 0,()=>{(!l||!p)&&(c||i.next(n?MM(n,a):a),i.complete())}))}});return t?o.pipe(bC(t)):o}(lk(r,t).map(sk)).pipe(nn(ak))}}function JC(e){return null!=e?dk(ck(e)):null}function fk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function pk(e){return e._rawValidators}function hk(e){return e._rawAsyncValidators}function e0(e){return e?Array.isArray(e)?e:[e]:[]}function f_(e,t){return Array.isArray(e)?e.includes(t):e===t}function mk(e,t){const r=e0(t);return e0(e).forEach(o=>{f_(r,o)||r.push(o)}),r}function gk(e,t){return e0(t).filter(r=>!f_(e,r))}class _k{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=QC(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=JC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Li extends _k{get formDirective(){return null}get path(){return null}}class kl extends _k{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vk{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Rl=(()=>{var e;class t extends vk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(kl,2))},e.\u0275dir=Ot({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&Us("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[mn]}),t})(),Pl=(()=>{var e;class t extends vk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Li,10))},e.\u0275dir=Ot({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&Us("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[mn]}),t})();const jp="VALID",h_="INVALID",Vd="PENDING",Gp="DISABLED";function r0(e){return(m_(e)?e.validators:e)||null}function o0(e,t){return(m_(t)?t.asyncValidators:e)||null}function m_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Sk{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===jp}get invalid(){return this.status===h_}get pending(){return this.status==Vd}get disabled(){return this.status===Gp}get enabled(){return this.status!==Gp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(mk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(gk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(gk(t,this._rawAsyncValidators))}hasValidator(t){return f_(this._rawValidators,t)}hasAsyncValidator(t){return f_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Vd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=Gp,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=jp,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jp||this.status===Vd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gp:jp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Vd,this._hasOwnPendingAsyncValidator=!0;const r=sk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new en,this.statusChanges=new en}_calculateStatus(){return this._allControlsDisabled()?Gp:this.errors?h_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vd)?Vd:this._anyControlsHaveStatus(h_)?h_:jp}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){m_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function M5(e){return Array.isArray(e)?QC(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function A5(e){return Array.isArray(e)?JC(e):e||null}(this._rawAsyncValidators)}}class Sc extends Sk{constructor(t,r,n){super(r0(r),o0(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function Ck(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Ke(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function bk(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Ke(1e3,"");if(!n[r])throw new Ke(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const g_=Sc,cu=new ft("CallSetDisabledState",{providedIn:"root",factory:()=>Up}),Up="always";function Hp(e,t,r=Up){s0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function P5(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&wk(e,t)})}(e,t),function N5(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function O5(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&wk(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function R5(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function v_(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),b_(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function y_(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function s0(e,t){const r=pk(e);null!==t.validator?e.setValidators(fk(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=hk(e);null!==t.asyncValidator?e.setAsyncValidators(fk(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();y_(t._rawValidators,o),y_(t._rawAsyncValidators,o)}function b_(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=pk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=hk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return y_(t._rawValidators,n),y_(t._rawAsyncValidators,n),r}function wk(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Ik(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function xk(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const as=class extends Sk{constructor(t=null,r,n){super(r0(r),o0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),m_(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=xk(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ik(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ik(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){xk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},bo=as;let Ol=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ot({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Pk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({}),t})();const d0=new ft("NgModelWithFormControlWarning"),K5={provide:Li,useExisting:Fn(()=>ya)};let ya=(()=>{var e;class t extends Li{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new en,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(b_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return Hp(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){v_(n.control||null,n,!1),function B5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function Dk(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(v_(o||null,n),(e=>e instanceof as)(i)&&(Hp(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function Ek(e,t){s0(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function F5(e,t){return b_(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){s0(this.form,this),this._oldForm&&b_(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ui,10),_(Cc,10),_(cu,8))},e.\u0275dir=Ot({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Fe("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lr([K5]),mn,Ci]}),t})();const Q5={provide:kl,useExisting:Fn(()=>nl)};let nl=(()=>{var e;class t extends kl{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new en,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function c0(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===XC?r=i:function $5(e){return Object.getPrototypeOf(e.constructor)===lu}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function l0(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function __(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(_(Li,13),_(ui,10),_(Cc,10),_(Fi,10),_(d0,8))},e.\u0275dir=Ot({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[lr([Q5]),mn,Ci]}),t})();function jk(e){return"number"==typeof e?e:parseFloat(e)}let uu=(()=>{var e;class t{constructor(){this._validator=d_}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):d_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ot({type:e,features:[Ci]}),t})();const i8={provide:ui,useExisting:Fn(()=>g0),multi:!0};let g0=(()=>{var e;class t extends uu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>jk(n),this.createValidator=n=>QA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Ot({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Es("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[lr([i8]),mn]}),t})();const s8={provide:ui,useExisting:Fn(()=>_0),multi:!0};let _0=(()=>{var e;class t extends uu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>jk(n),this.createValidator=n=>XA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Ot({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Es("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[lr([s8]),mn]}),t})();const d8={provide:ui,useExisting:Fn(()=>y0),multi:!0};let y0=(()=>{var e;class t extends uu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function Vk(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>rk(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=Ot({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Es("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[lr([d8]),mn]}),t})(),Wk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Pk]}),t})(),du=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:cu,useValue:n.callSetDisabledState??Up}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Wk]}),t})(),C_=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:d0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:cu,useValue:n.callSetDisabledState??Up}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Wk]}),t})();const h8=["tabsInner"];let m8=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new xn,this.keyboardDidShow=new xn,this.keyboardDidHide=new xn,this.pause=new xn,this.resume=new xn,this.resize=new xn,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},jd(this.pause,r,"pause",n),jd(this.resume,r,"resume",n),jd(this.backButton,r,"ionBackButton",n),jd(this.resize,this.win,"resize",n),jd(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),jd(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),BA(e).includes(t)))(this.win,r)}platforms(){return BA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return g8(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ae(ci),ae(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const g8=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},jd=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let Gd=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=Zk,this.animated=qk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof kp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,$.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=_8(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=Zk,this.animated=qk,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ae(m8),ae(fc),ae(ou),ae(Bo,8))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _8=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},Zk="auto",qk=void 0;let Wp=(()=>{class e{get(r,n){const o=b0();return o?o.get(r,n):null}getBoolean(r,n){const o=b0();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=b0();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Kk=new ft("USERCONFIG"),b0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class Yk{constructor(t={}){this.data=t}get(t){return this.data[t]}}let Zp=(()=>{class e{constructor(){this.zone=ot(He),this.applicationRef=ot(ha)}create(r,n,o){return new v8(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class v8{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(y8(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const y8=(e,t,r,n,o,i,s,a,l,c,f)=>{const m=function uj(e,t){const r=Cn(e),n=t.elementInjector||dm();return new Wf(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Wr.create({providers:C8(l),parent:r})}),y=m.instance,H=m.location.nativeElement;if(l&&(f&&void 0!==y[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(y,l)),c)for(const _e of c)H.classList.add(_e);const J=Xk(e,y,H);return s.appendChild(H),n.attachView(m.hostView),o.set(H,m),i.set(H,J),H},b8=[Bp.L,Bp.a,Bp.b,Bp.c,Bp.d],Xk=(e,t,r)=>e.run(()=>{const n=b8.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),Qk=new ft("NavParamsToken"),C8=e=>[{provide:Qk,useValue:e},{provide:Yk,useFactory:S8,deps:[Qk]}],S8=e=>new Yk(e),w8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},E8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function S_(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&w8(r,o),i&&E8(r,i),r}}const Jk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),S0=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},eR=(e,t)=>!t||e.stackId!==t.stackId,O8=(e,t)=>{if(!e)return;const r=tR(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},tR=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),nR=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class N8{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?tR(t):void 0}createView(t,r){const n=S0(this.router,r),o=t?.location?.nativeElement,i=Xk(this.zone,t.instance,o);return{id:this.nextId++,stackId:O8(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=S0(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=eR(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let c;const f=this.router;f.getCurrentNavigation?c=f.getCurrentNavigation():f.navigations?.value&&(c=f.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const p=this.views.includes(t),m=this.insertView(t,n);p||t.ref.changeDetectorRef.detectChanges();const y=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==y&&(i=y),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>F8(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&rR(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(nR),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?Jk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):Jk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,$.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const F8=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{rR(e,t,r,n,o),i()})}):Promise.resolve(),rR=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(nR)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let oR=(()=>{class e{constructor(r,n,o,i,s,a,l,c){this.parentOutlet=c,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new co(null),this.activated=null,this._activatedRoute=null,this.name=_n,this.stackWillChange=new en,this.stackDidChange=new en,this.activateEvents=new en,this.deactivateEvents=new en,this.parentContexts=ot(su),this.location=ot(is),this.environmentInjector=ot(ai),this.inputBinder=ot(iR,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=ot(Wp),this.navCtrl=ot(Gd),this.nativeEl=i.nativeElement,this.name=r||_n,this.tabsPrefix="true"===n?S0(s,l):void 0,this.stackCtrl=new N8(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,f5.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new co(null),f=this.createActivatedRouteProxy(c,r),p=new L8(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:p,environmentInjector:n??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:eR(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new Ja;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(_a(o=>!!o),Qr(o=>this.currentActivatedRoute$.pipe(_a(i=>null!==i&&i.component===o),Qr(i=>i&&i.activatedRoute[n]),Ls())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(Jl("name"),Jl("tabs"),_(fc),_(et),_(Bo),_(He),_(Ja),_(e,12))},e.\u0275dir=Ot({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class L8{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Ja?this.route:t===su?this.childContexts:this.parent.get(t,r)}}const iR=new ft("");let $8=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=Wg([n.queryParams,n.params,n.data]).pipe(Qr(([i,s,a],l)=>(a={...i,...s,...a},0===l?Gt(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=uT(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();function V8(e){return e?.componentInputBindingEnabled?new $8:null}const j8=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let G8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(_(oR,8),_(Gd),_(Wp),_(et),_(He),_(at))},e.\u0275dir=Ot({type:e,hostBindings:function(r,n){1&r&&Fe("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=ne([S_({inputs:j8})],e),e})();const z8=["animated","animation","root","rootParams","swipeGesture"],W8=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Z8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=u_(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(_(et),_(ai),_(Wr),_(Zp),_(He),_(at))},e.\u0275dir=Ot({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=ne([S_({inputs:z8,methods:W8})],e),e})(),q8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new en,this.ionTabsDidChange=new en,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(_(Gd))},e.\u0275dir=Ot({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&cc(h8,7,et),2&r){let o;Is(o=xs())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Fe("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const sR=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let qp=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,Ud(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),Ud(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),Ud(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(kl)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>Ud(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),Ud(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(_(Wr),_(et))},e.\u0275dir=Ot({type:e,hostBindings:function(r,n){1&r&&Fe("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const Ud=e=>{sR(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=K8(t);w0(t,n);const o=t.closest("ion-item");o&&w0(o,r?[...n,"item-has-value"]:n)})},K8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&Y8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},w0=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},Y8=(e,t)=>e.substring(0,t.length)===t;class X8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class Kp{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var E0=C(2723),Q8=(C(8044),C(5444),C(5922),C(4923),C(5194)),D0=C(2984),Yp=(C(4656),C(7261)),J8=(C(6940),C(3426));C(4967);const t9=Q8.i,vt=["*"],r9=["outlet"],o9=[[["","slot","top"]],"*"],i9=["[slot=top]","*"];let Hd=(()=>{class e extends qp{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,Ud(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(_(Wr),_(et))},e.\u0275dir=Ot({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Fe("ionChange",function(i){return n._handleIonChange(i.target)})},features:[lr([{provide:Fi,useExisting:e,multi:!0}]),mn]}),e})(),Xp=(()=>{class e extends qp{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Wr),_(et))},e.\u0275dir=Ot({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Fe("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[lr([{provide:Fi,useExisting:e,multi:!0}]),mn]}),e})(),Nl=(()=>{class e extends qp{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(_(Wr),_(et))},e.\u0275dir=Ot({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Fe("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[lr([{provide:Fi,useExisting:e,multi:!0}]),mn]}),e})();const u9=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},d9=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},fr=(e,t,r)=>{r.forEach(n=>e[n]=u_(t,n))};function bt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&u9(r,o),i&&d9(r,i),r}}let aR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-app"]],ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({})],e),e})(),$i=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Bi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["collapse"]})],e),e})(),lR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Vi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["collapse","mode","translucent"]})],e),e})(),Vo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),Fl=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Co=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),w_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),E_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["side"]})],e),e})(),D_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Gi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["color","mode","position"]})],e),e})(),Ms=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),I0=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),Qp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),Jp=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["disabled","value"]})],e),e})(),eh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["color","duration","name","paused"]})],e),e})(),I_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),cR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),Ui=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["color","size"]})],e),e})(),th=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,fr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Hi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(_(at),_(et),_(He))},e.\u0275cmp=We({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e=ne([bt({inputs:["color","mode"]})],e),e})(),nh=(()=>{class e extends oR{constructor(r,n,o,i,s,a,l,c){super(r,n,o,i,s,a,l,c),this.parentOutlet=c}}return e.\u0275fac=function(r){return new(r||e)(Jl("name"),Jl("tabs"),_(fc),_(et),_(Bo),_(He),_(Ja),_(e,12))},e.\u0275dir=Ot({type:e,selectors:[["ion-router-outlet"]],features:[mn]}),e})(),uR=(()=>{class e extends q8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275cmp=We({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(vd(o,I_,5),vd(o,I_,4)),2&r){let i;Is(i=xs())&&(n.tabBar=i.first),Is(i=xs())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&cc(r9,5,nh),2&r){let o;Is(o=xs())&&(n.outlet=o.first)}},features:[mn],ngContentSelectors:i9,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(mt(o9),ht(0),j(1,"div",0,1)(3,"ion-router-outlet",2,3),Fe("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),B()(),ht(5,1))},dependencies:[nh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),dR=(()=>{class e extends G8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(nh,8),_(Gd),_(Wp),_(et),_(He),_(at))},e.\u0275cmp=We({type:e,selectors:[["ion-back-button"]],features:[mn],ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e})(),x0=(()=>{class e extends Z8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(_(et),_(ai),_(Wr),_(Zp),_(He),_(at))},e.\u0275cmp=We({type:e,selectors:[["ion-nav"]],features:[mn],ngContentSelectors:vt,decls:1,vars:0,template:function(r,n){1&r&&(mt(),ht(0))},encapsulation:2,changeDetection:0}),e})();const gW={provide:ui,useExisting:Fn(()=>fR),multi:!0};let fR=(()=>{class e extends g0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275dir=Ot({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Es("max",n._enabled?n.max:null)},features:[lr([gW]),mn]}),e})();const _W={provide:ui,useExisting:Fn(()=>pR),multi:!0};let pR=(()=>{class e extends _0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275dir=Ot({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Es("min",n._enabled?n.min:null)},features:[lr([_W]),mn]}),e})(),T0=(()=>{class e extends Kp{constructor(){super(Yp.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),rh=(()=>{class e extends Kp{constructor(){super(Yp.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qs=(()=>{class e extends Kp{constructor(){super(Yp.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ls=(()=>{class e extends Kp{constructor(){super(Yp.m),this.angularDelegate=ot(Zp),this.injector=ot(Wr),this.environmentInjector=ot(ai)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),e})();class Ll extends Kp{constructor(){super(Yp.c),this.angularDelegate=ot(Zp),this.injector=ot(Wr),this.environmentInjector=ot(ai)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const vW=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,D0.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function e9(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return t9(),(0,J8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:sR,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let wc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:Kk,useValue:r},{provide:mp,useFactory:vW,multi:!0,deps:[Kk,ci,He]},{provide:iR,useFactory:V8,deps:[Bo]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({providers:[Zp,ls,Ll],imports:[Ya]}),e})();function hR(e,t){(function yW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function M0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function oh(e){return(oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ao(e,t,r){return(t=function CW(e){var t=function bW(e,t){if("object"!==oh(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==oh(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===oh(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let fu={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function mR(e){fu=e}const gR=/[&<>"']/,SW=new RegExp(gR.source,"g"),_R=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,wW=new RegExp(_R.source,"g"),EW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vR=e=>EW[e];function As(e,t){if(t){if(gR.test(e))return e.replace(SW,vR)}else if(_R.test(e))return e.replace(wW,vR);return e}const DW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,xW=/(^|[^\[])\^/g;function gr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(xW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function yR(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const x_={exec:()=>null};function bR(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function T_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function CR(e,t,r,n){const o=t.href,i=t.title?As(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:As(s)}}class M_{constructor(t){ao(this,"options",void 0),ao(this,"rules",void 0),ao(this,"lexer",void 0),this.options=t||fu}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:T_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function MW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=T_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=T_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let p=r[2].split("\n",1)[0].replace(/^\t+/,we=>" ".repeat(3*we.length)),m=t.split("\n",1)[0],y=0;this.options.pedantic?(y=2,l=p.trimStart()):(y=r[2].search(/[^ ]/),y=y>4?1:y,l=p.slice(y),y+=r[1].length);let H=!1;if(!p&&/^ *$/.test(m)&&(a+=m+"\n",t=t.substring(m.length+1),f=!0),!f){const we=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Re=new RegExp(`^ {0,${Math.min(3,y-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),_t=new RegExp(`^ {0,${Math.min(3,y-1)}}(?:\`\`\`|~~~)`),gt=new RegExp(`^ {0,${Math.min(3,y-1)}}#`);for(;t;){const qt=t.split("\n",1)[0];if(m=qt,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),_t.test(m)||gt.test(m)||we.test(m)||Re.test(t))break;if(m.search(/[^ ]/)>=y||!m.trim())l+="\n"+m.slice(y);else{if(H||p.search(/[^ ]/)>=4||_t.test(p)||gt.test(p)||Re.test(p))break;l+="\n"+m}!H&&!m.trim()&&(H=!0),a+=qt+"\n",t=t.substring(qt.length+1),p=m.slice(y)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let _e,J=null;this.options.gfm&&(J=/^\[[ xX]\] /.exec(l),J&&(_e="[ ] "!==J[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!J,checked:_e,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const p=i.items[f].tokens.filter(y=>"space"===y.type),m=p.length>0&&p.some(y=>/\n.*\n/.test(y.raw));i.loose=m}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:bR(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const c=n.align[i];c&&(n.align[i]=/^ *-+: *$/.test(c)?"right":/^ *:-+: *$/.test(c)?"center":/^ *:-+ *$/.test(c)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=bR(n.rows[i],n.header.length).map(c=>({text:c,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:As(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=T_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function TW(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),CR(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return CR(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,c=s,f=0;const p="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=p.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){c+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+f);const m=[...o[0]][0].length,y=t.slice(0,s+o.index+m+l);if(Math.min(s,l)%2){const J=y.slice(1,-1);return{type:"em",raw:y,text:J,tokens:this.lexer.inlineTokens(J)}}const H=y.slice(2,-2);return{type:"strong",raw:y,text:H,tokens:this.lexer.inlineTokens(H)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=As(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=As(r[1]),o="mailto:"+n):(n=As(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=As(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=As(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:As(r[0]),{type:"text",raw:r[0],text:n}}}}const Kt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:x_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Kt.def=gr(Kt.def).replace("label",Kt._label).replace("title",Kt._title).getRegex(),Kt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Kt.listItemStart=gr(/^( *)(bull) */).replace("bull",Kt.bullet).getRegex(),Kt.list=gr(Kt.list).replace(/bull/g,Kt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Kt.def.source+")").getRegex(),Kt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Kt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Kt.html=gr(Kt.html,"i").replace("comment",Kt._comment).replace("tag",Kt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Kt.lheading=gr(Kt.lheading).replace(/bull/g,Kt.bullet).getRegex(),Kt.paragraph=gr(Kt._paragraph).replace("hr",Kt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Kt._tag).getRegex(),Kt.blockquote=gr(Kt.blockquote).replace("paragraph",Kt.paragraph).getRegex(),Kt.normal={...Kt},Kt.gfm={...Kt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Kt.gfm.table=gr(Kt.gfm.table).replace("hr",Kt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Kt._tag).getRegex(),Kt.gfm.paragraph=gr(Kt._paragraph).replace("hr",Kt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Kt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Kt._tag).getRegex(),Kt.pedantic={...Kt.normal,html:gr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Kt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:x_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gr(Kt.normal._paragraph).replace("hr",Kt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Kt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const kt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:x_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:x_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};kt.punctuation=gr(kt.punctuation,"u").replace(/punctuation/g,kt._punctuation).getRegex(),kt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,kt.anyPunctuation=/\\[punct]/g,kt._escapes=/\\([punct])/g,kt._comment=gr(Kt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),kt.emStrong.lDelim=gr(kt.emStrong.lDelim,"u").replace(/punct/g,kt._punctuation).getRegex(),kt.emStrong.rDelimAst=gr(kt.emStrong.rDelimAst,"gu").replace(/punct/g,kt._punctuation).getRegex(),kt.emStrong.rDelimUnd=gr(kt.emStrong.rDelimUnd,"gu").replace(/punct/g,kt._punctuation).getRegex(),kt.anyPunctuation=gr(kt.anyPunctuation,"gu").replace(/punct/g,kt._punctuation).getRegex(),kt._escapes=gr(kt._escapes,"gu").replace(/punct/g,kt._punctuation).getRegex(),kt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,kt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,kt.autolink=gr(kt.autolink).replace("scheme",kt._scheme).replace("email",kt._email).getRegex(),kt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,kt.tag=gr(kt.tag).replace("comment",kt._comment).replace("attribute",kt._attribute).getRegex(),kt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,kt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,kt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,kt.link=gr(kt.link).replace("label",kt._label).replace("href",kt._href).replace("title",kt._title).getRegex(),kt.reflink=gr(kt.reflink).replace("label",kt._label).replace("ref",Kt._label).getRegex(),kt.nolink=gr(kt.nolink).replace("ref",Kt._label).getRegex(),kt.reflinkSearch=gr(kt.reflinkSearch,"g").replace("reflink",kt.reflink).replace("nolink",kt.nolink).getRegex(),kt.normal={...kt},kt.pedantic={...kt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:gr(/^!?\[(label)\]\((.*?)\)/).replace("label",kt._label).getRegex(),reflink:gr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",kt._label).getRegex()},kt.gfm={...kt.normal,escape:gr(kt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},kt.gfm.url=gr(kt.gfm.url,"i").replace("email",kt.gfm._extended_email).getRegex(),kt.breaks={...kt.gfm,br:gr(kt.br).replace("{2,}","*").getRegex(),text:gr(kt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class rl{constructor(t){ao(this,"tokens",void 0),ao(this,"options",void 0),ao(this,"state",void 0),ao(this,"tokenizer",void 0),ao(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||fu,this.options.tokenizer=this.options.tokenizer||new M_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Kt.normal,inline:kt.normal};this.options.pedantic?(r.block=Kt.pedantic,r.inline=kt.pedantic):this.options.gfm&&(r.block=Kt.gfm,r.inline=this.options.breaks?kt.breaks:kt.gfm),this.tokenizer.rules=r}static get rules(){return{block:Kt,inline:kt}}static lex(t,r){return new rl(r).lex(t)}static lexInline(t,r){return new rl(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let c;this.options.extensions.startBlock.forEach(f=>{c=f.call({lexer:this},l),"number"==typeof c&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,c,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,c)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const p=t.slice(1);let m;this.options.extensions.startInline.forEach(y=>{m=y.call({lexer:this},p),"number"==typeof m&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(c=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class pu{constructor(t){ao(this,"options",void 0),this.options=t||fu}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+As(o)+'">'+(n?t:As(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:As(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=yR(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=yR(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class k0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class ol{constructor(t){ao(this,"options",void 0),ao(this,"renderer",void 0),ao(this,"textRenderer",void 0),this.options=t||fu,this.options.renderer=this.options.renderer||new pu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new k0}static parse(t,r){return new ol(r).parse(t)}static parseInline(t,r){return new ol(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(DW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let c="";for(let f=0;f<s.rows.length;f++){const p=s.rows[f];l="";for(let m=0;m<p.length;m++)l+=this.renderer.tablecell(this.parseInline(p[m].tokens),{header:!1,align:s.align[m]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,c=s.loose;let f="";for(let p=0;p<s.items.length;p++){const m=s.items[p],y=m.checked,H=m.task;let J="";if(m.task){const _e=this.renderer.checkbox(!!y);c?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=_e+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=_e+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:_e+" "}):J+=_e+" "}J+=this.parse(m.tokens,c),f+=this.renderer.listitem(J,H,!!y)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class ih{constructor(t){ao(this,"options",void 0),this.options=t||fu}preprocess(t){return t}postprocess(t){return t}}ao(ih,"passThroughHooks",new Set(["preprocess","postprocess"]));var R0=new WeakSet,SR=new WeakSet;function wR(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=M0(this,SR,kW).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function kW(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+As(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const hu=new class AW{constructor(...t){hR(this,SR),hR(this,R0),ao(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),ao(this,"options",this.setOptions),ao(this,"parse",M0(this,R0,wR).call(this,rl.lex,ol.parse)),ao(this,"parseInline",M0(this,R0,wR).call(this,rl.lexInline,ol.parseInline)),ao(this,"Parser",ol),ao(this,"Renderer",pu),ao(this,"TextRenderer",k0),ao(this,"Lexer",rl),ao(this,"Tokenizer",M_),ao(this,"Hooks",ih),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new pu(this.defaults);for(const s in n.renderer){const a=n.renderer[s],c=i[s];i[s]=(...f)=>{let p=a.apply(i,f);return!1===p&&(p=c.apply(i,f)),p||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new M_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],c=i[s];i[s]=(...f)=>{let p=a.apply(i,f);return!1===p&&(p=c.apply(i,f)),p}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new ih;for(const s in n.hooks){const a=n.hooks[s],c=i[s];i[s]=ih.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(m=>c.call(i,m));const p=a.call(i,f);return c.call(i,p)}:(...f)=>{let p=a.apply(i,f);return!1===p&&(p=c.apply(i,f)),p}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return rl.lex(t,r??this.defaults)}parser(t,r){return ol.parse(t,r??this.defaults)}};function or(e,t){return hu.parse(e,t)}or.options=or.setOptions=function(e){return hu.setOptions(e),mR(or.defaults=hu.defaults),or},or.getDefaults=function A0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},or.defaults=fu,or.use=function(...e){return hu.use(...e),mR(or.defaults=hu.defaults),or},or.walkTokens=function(e,t){return hu.walkTokens(e,t)},or.parseInline=hu.parseInline,or.Parser=ol,or.parser=ol.parse,or.Renderer=pu,or.TextRenderer=k0,or.Lexer=rl,or.lexer=rl.lex,or.Tokenizer=M_,or.Hooks=ih,or.parse=or;class RW extends pt{constructor(t,r){super()}schedule(t,r=0){return this}}const A_={setInterval(e,t,...r){const{delegate:n}=A_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=A_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},P0={now:()=>(P0.delegate||Date).now(),delegate:void 0};class sh{constructor(t,r=sh.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}sh.now=P0.now;const NW=new class OW extends sh{constructor(t,r=sh.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class PW extends RW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return A_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&A_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Xe(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class $W extends xn{constructor(t=1/0,r=1/0,n=P0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const VW=["*"];let ER=(()=>{var e;class t{constructor(){this._buttonClick$=new xn,this.copied$=this._buttonClick$.pipe(Qr(()=>oa(Gt(!0),function LW(e=0,t,r=NW){let n=-1;return null!=t&&(Js(t)?r=t:n=t),new kn(o=>{let i=function FW(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(NM(!1)))),Ls(),function BW(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,ia({connector:()=>new $W(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(PM(!1),nn(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[cg],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(j(0,"button",0),Fe("click",function(){return o.onCopyToClipboardClick()}),Za(1,"async"),Se(2),Za(3,"async"),B()),2&n&&(Us("copied",qa(1,3,o.copied$)),pe(2),Ri(qa(3,5,o.copiedText$)))},dependencies:[RT],encapsulation:2,changeDetection:0}),t})();const UW=new ft("CLIPBOARD_OPTIONS");var O0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(O0||{});const DR=new ft("MARKED_EXTENSIONS"),IR=new ft("MARKED_OPTIONS"),xR=new ft("SECURITY_CONTEXT");let N0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,c){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new pu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new xn,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,f={...this.options,...o.markedOptions},p=f.renderer||this.renderer||new pu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(p)),l&&(this.renderer=this.extendsRendererForMermaid(p));const m=this.trimIndentation(n),y=i?this.decodeHtml(m):m,H=a?this.parseEmoji(y):y,J=this.parseMarked(H,f,s);return(c?J:this.sanitizer.sanitize(this.securityContext,J))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:f,mermaidOptions:p}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...p}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(nn(o=>this.handleExtension(n,o)))}highlight(n){if(!Ed(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Ed(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&or.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),f=c>-1?l.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(or.use({renderer:o.renderer}),delete o.renderer),i?or.parseInline(n,o):or.parse(n,o)}parseEmoji(n){if(!Ed(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(Ed(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!Ed(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let c=0;c<l.length;c++){const f=l.item(c),p=document.createElement("div");p.style.position="relative",f.parentNode.insertBefore(p,f),p.appendChild(f);const m=document.createElement("div");let y,H;m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.opacity="0",m.style.transition="opacity 250ms ease-out",p.insertAdjacentElement("beforeend",m),f.onmouseover=()=>m.style.opacity="1",f.onmouseout=()=>m.style.opacity="0",y=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(ER).hostView,y.rootNodes.forEach(J=>{J.onmouseover=()=>m.style.opacity="1",m.appendChild(J),H=new ClipboardJS(J,{text:()=>f.innerText})}),y.onDestroy(()=>H.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!Ed(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(UW,8),ae(DR,8),ae(IR,8),ae(rc),ae(xR),ae(gC,8),ae(fC))},e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})(),F0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new en,this.load=new en,this.ready=new en,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new xn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(FM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,$.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,O0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,O0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(_(et),_(N0),_(is))},e.\u0275cmp=We({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[Ci,cg],ngContentSelectors:VW,decls:1,vars:0,template:function(n,o){1&n&&(mt(),ht(0))},encapsulation:2}),t})();function QW(e){return[N0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:DR,useValue:e?.markedExtensions??[]},{provide:xR,useValue:e?.sanitize??Ss.HTML}]}let L0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[QW(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Ya]}),t})();var TR;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(TR||(TR={}));const ah="safari"in window,So=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,MR=So&&!navigator.userAgent.match(/(crios)|(fxios)/i),$l=!!navigator.userAgent.match(/pwashell/i),$0=!!navigator.userAgent.match(/android/i),JW=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Bl=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(Bl||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const n7=new Error("request for lock canceled");class o7{constructor(t,r=n7){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(p){s(p)}}function l(f){try{c(n.throw(f))}catch(p){s(p)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class ba{constructor(t){this._semaphore=new o7(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{c(n.next(f))}catch(p){s(p)}}function l(f){try{c(n.throw(f))}catch(p){s(p)}}function c(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}c((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const kR=function a7(){if(!$l)return 0;const e=navigator.userAgent.match(/cpe-native-api-(\d+)/);if(!e)return 0;const t=parseInt(e[1],10);return isNaN(t)?0:t}(),B0=new dr.j;kR>0&&(window.__cpeCallFromNative=e=>B0.dispatch(e));let lh=(()=>{var e;class t{constructor(){this.netRpcResult=new dr.j,this.onNativeMessage=n=>{"netRpcResult"===n.type?this.netRpcResult.dispatch({sessionId:n.sessionId,rpcData:new Uint8Array(n.rpcData)}):console.error("unhandled native message",n)},B0.addHandler(this.onNativeMessage)}ngOnDestroy(){B0.removeHandler(this.onNativeMessage)}netOpenSession(){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netOpenSession"})}netCloseSession(n){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netCloseSession",sessionId:n})}netDispatchRpc(n,o){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netDispatchRpc",sessionId:n,rpcData:Array.from(o)}).then(i=>!!i)}assertNativeNetworkIntegrationSupported(){if(!t.supportsNativeNetworkIntegration())throw new Error("native network integration not supported")}static supportsNativeNetworkIntegration(){return $l&&kR>0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ks={production:!0,dbName:"cloudpilot-preview",releaseExtra:"preview",localStorageSuffix:"preview",debug:!0};function k_(e){return e+(Ks.localStorageSuffix?`-${Ks.localStorageSuffix}`:"")}function RR(e){return localStorage.getItem(k_(e))}function PR(e){return localStorage.getItem(k_(e))??localStorage.getItem(e)}function V0(e,t){localStorage.setItem(k_(e),t)}const R_="cloudpilot-session";function OR(){!function l7(e){localStorage.removeItem(k_(e))}(R_)}function Nn(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,$.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let Vl=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var zd;class NR{constructor(t){this.markup=t}}class ro{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new dr.j,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new NR(t)}errorMessage(t,r="Close"){var n=this;return(0,$.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,$.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}messageWithChoice(t,r,n,o,i={},s="Close"){var a=this;return(0,$.Z)(function*(){const l=yield a.alertController.create({header:t,message:a.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:s,role:"cancel"},...Object.keys(i).map(c=>({text:c,handler:()=>{i[c](),l.dismiss()}}))],inputs:[{type:"checkbox",label:n,checked:!1,handler:c=>o=!0===c.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border alert-message"});return yield l.present(),yield l.onDidDismiss(),o})()}updateAvailable(t){var r=this;return(0,$.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,$.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,$.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new D0.I(t instanceof NR?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(zd=ro).\u0275fac=function(t){return new(t||zd)(ae(T0),ae(Vl))},zd.\u0275prov=$e({token:zd,factory:zd.\u0275fac,providedIn:"root"}),ne([Nn()],ro.prototype,"updateAvailable",null),ne([Nn()],ro.prototype,"fatalError",null),ne([Nn()],ro.prototype,"errorInNativeCode",null);let mu=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&OR(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new dr.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(ro),ae(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Ir=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Ir||{});let ch=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Ir.none}claim(n,o){this.assertOwnership(n,Ir.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Ir.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(mu))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ec="session",Wd="rom",Dc="memory",jl="state",P_="kvs",Ic="memory-meta",il="storage",ks="storage-card",uh="lock";class gu extends Error{constructor(t){super(t)}}function Zn(e){return new Promise((t,r)=>{!function p7(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new gu(e.error?.message))})}function LR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function h7(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const O_="session",G0="memory",BR="storage-meta",VR="storage-card";function U0(){return(U0=(0,$.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(O_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function H0(){return(H0=(0,$.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function z0(){return(z0=(0,$.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(BR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(O_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function W0(){return(W0=(0,$.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(BR).name=VR})).apply(this,arguments)}function Z0(){return(Z0=(0,$.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(VR).createIndex("storageId","storageId")})).apply(this,arguments)}function q0(){return(q0=(0,$.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const T7=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function jR(e){let t=-1;for(let r=0;r<e.length;r++)t=T7[255&(t^e[r])]^t>>>8;return~t}var M7=C(3219),A7=C.n(M7);const GR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let N_;const k7=new Uint8Array(16);function R7(){if(!N_&&(N_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!N_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return N_(k7)}const hi=[];for(let e=0;e<256;++e)hi.push((e+256).toString(16).slice(1));const HR=function P7(e,t,r){if(GR.randomUUID&&!t&&!e)return GR.randomUUID();const n=(e=e||{}).random||(e.rng||R7)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function UR(e,t=0){return hi[e[t+0]]+hi[e[t+1]]+hi[e[t+2]]+hi[e[t+3]]+"-"+hi[e[t+4]]+hi[e[t+5]]+"-"+hi[e[t+6]]+hi[e[t+7]]+"-"+hi[e[t+8]]+hi[e[t+9]]+"-"+hi[e[t+10]]+hi[e[t+11]]+hi[e[t+12]]+hi[e[t+13]]+hi[e[t+14]]+hi[e[t+15]]}(n)};var Zd;const K0=new Error("page lock lost"),zR=new Error("version mismatch"),WR=HR();function wo(){return(e,t,r)=>{const n=r.value;return r.value=(0,$.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw console.error(s),s instanceof gu?i.fatalIDBDead():s===zR?i.fatalVersionMismatch():s===K0?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class Xn{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Dc),l=o.objectStore(Ic),c=new Uint32Array(256),f=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const m=s.length>>>10;for(let y=0;y<m;y++){f.set(s.subarray(1024*y,1024*(y+1)));const H=LR(c);if("number"==typeof H)a.put(H,[i,y]);else{const J=new Uint32Array(256);J.set(H),a.put(J,[i,y])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,$.Z)(function*(){const a=o.objectStore(Ic),l=yield Zn(a.get(i));if(!l)return;const c=yield new Promise(function(){var f=(0,$.Z)(function*(p,m){const y=o.objectStore(Dc),H=new Uint32Array(l.totalSize>>>2),J=y.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));J.onsuccess=()=>{const _e=J.result;if(!_e)return p(new Uint8Array(H.buffer));const we=_e.value,[,Re]=_e.key;"number"==typeof we?H.subarray(256*Re,256*(Re+1)).fill(we|we<<8|we<<16|we<<24):H.subarray(256*Re,256*(Re+1)).set(1024===we.length?new Uint32Array(we.buffer):we),_e.continue()},J.onerror=()=>m(new gu(J.error?.message))});return function(p,m){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&Ks.debug&&l.crc32!==jR(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new dr.j,this.storageCardChangeEvent=new dr.j,this.sessionUpdateMutex=new ba,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,$.Z)(function*(){const s=A7()(r),a=yield i.newTransaction(Ec,Wd,jl,Dc,Ic),l=a.objectStore(Ec),c=a.objectStore(Wd);(yield Zn(c.get(s)))||c.put(r,s);const{id:p,...m}=t,y=yield Zn(l.add({...m,rom:s})),H=yield Zn(l.get(y));return n&&i.saveMemory(a,H.id,n),o&&i.saveState(a,H.id,o),yield Zn(a),H})()}getAllSessions(){var t=this;return(0,$.Z)(function*(){const[r]=yield t.prepareObjectStore(Ec);return yield Zn(r.getAll())})()}getSession(t){var r=this;return(0,$.Z)(function*(){const[n]=yield r.prepareObjectStore(Ec);return yield Zn(n.get(t))})()}deleteSession(t){var r=this;return(0,$.Z)(function*(){const n=yield r.newTransaction(Ec,Wd,jl,Dc,Ic),o=n.objectStore(Ec),i=n.objectStore(Wd);(t=yield Zn(o.get(t.id)))&&(o.delete(t.id),0===(yield Zn(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield Zn(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,$.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[c,f]=yield n.prepareObjectStore(Ec),p=yield Zn(c.get(t));if(!p)throw new Error(`no session with id ${t}`);const m={...p,...l};c.put(m),yield Zn(f),n.sessionChangeEvent.dispatch([p.id,m])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,$.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Ec),i=yield Zn(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield Zn(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,$.Z)(function*(){const o=yield n.newTransaction(Wd,jl,Dc,Ic),i=o.objectStore(Wd);return[yield Zn(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,$.Z)(function*(){const[n,o]=yield r.prepareObjectStore(jl);n.delete(t.id),yield Zn(o)})()}addEmptyStorageCard(t){var r=this;return(0,$.Z)(function*(){const[n]=yield r.prepareObjectStore(ks),o=yield Zn(n.add(t)),i=yield Zn(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,$.Z)(function*(){return n.ngZone.runOutsideAngular((0,$.Z)(function*(){const o=yield n.newTransaction(ks,il),i=o.objectStore(ks),s=o.objectStore(il),a=yield Zn(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),c=new Uint32Array(2048);for(let p=0;p<l;p++){const m=r.subarray(2048*p,2048*(p+1));p===l-1&&c.set(m);const y=h7(p===l-1?c:m);0!==y&&s.put("number"==typeof y?y:y?.slice(),[a,p])}const f=yield Zn(i.get(a));return yield Zn(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,$.Z)(function*(){const[r]=yield t.prepareObjectStore(ks);return Zn(r.getAll())})()}getCard(t){var r=this;return(0,$.Z)(function*(){const[n]=yield r.prepareObjectStore(ks);return Zn(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,$.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,c]=yield n.prepareObjectStore(ks),f=yield Zn(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const p={...f,...a};l.put(p),yield Zn(c),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,$.Z)(function*(){const n=yield r.newTransaction(ks,il);r.storageCardContext.assertOwnership(t,Ir.none);const o=n.objectStore(ks),i=n.objectStore(il);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield Zn(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,$.Z)(function*(){r.fill(0);const i=yield o.newTransaction(ks,il);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(il);yield new Promise(function(){var a=(0,$.Z)(function*(l,c){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const p=f.result;if(!p)return l();let m=p.value;const[,y]=p.key;"number"==typeof m?r.subarray(2048*y,2048*(y+1)).fill(m):(2048*(y+1)>r.length&&(m=m.subarray(0,2048-2048*(y+1)+r.length)),r.subarray(2048*y,2048*(y+1)).set(m)),p.continue()},f.onerror=()=>c(new gu(f.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,$.Z)(function*(){const s=yield i.newTransaction(ks,il);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(ks),l=s.objectStore(il),c=yield Zn(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(r.length!==c.size>>>2)throw new Error("data size mismatch");const f=(c.size>>>13)+(c.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let p=0;for(let m=0;m<n.length;m++)for(let y=1;y<256&&!(p>=f);y<<=1)n[m]&y&&l.put(r.subarray(2048*p,2048*(p+1)).slice(),[c.id,p]),p++;yield Zn(s)}))}kvsGet(t){var r=this;return(0,$.Z)(function*(){const[n]=yield r.prepareObjectStore(P_);return Zn(n.get(t))})()}kvsSet(t){var r=this;return(0,$.Z)(function*(){const[n,o]=yield r.prepareObjectStore(P_);for(const i of Object.keys(t))n.put(t[i],i);yield Zn(o)})()}kvsLoad(){var t=this;return(0,$.Z)(function*(){const[r]=yield t.prepareObjectStore(P_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new gu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,$.Z)(function*(){const[n,o]=yield r.prepareObjectStore(P_);n.delete(t),yield Zn(o)})()}acquireLock(t){var r=this;return(0,$.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Zn(t.objectStore(uh).get(0)))!==WR)throw t.abort(),t.db.close(),K0})()}newTransaction(...t){var r=this;return(0,$.Z)(function*(){const n=(yield r.db).transaction([uh,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,$.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(jl);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(jl).delete(r)}loadState(t,r){return Zn(t.objectStore(jl).get(r))}deleteMemory(t,r){const n=t.objectStore(Dc),o=t.objectStore(Ic);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,$.Z)(function*(){const r=t.transaction(uh,"readwrite");yield Zn(r.objectStore(uh).put(WR,0))})()}setupDb(){var t=this;return(0,$.Z)(function*(){const r=setTimeout(()=>So&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>i.name===Ks.dbName);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw zR}const n=yield new Promise((o,i)=>{const s=indexedDB.open(Ks.dbName,9);s.onerror=()=>{i(new gu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new gu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,$.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function b7(e){e.createObjectStore(O_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function C7(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(G0)&&e.deleteObjectStore(G0),t.objectStore(O_).clear(),e.createObjectStore("rom"),e.createObjectStore(G0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function S7(e,t){return U0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function w7(e,t){return H0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function E7(e,t){return z0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function D7(e,t){return W0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function I7(e,t){return Z0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function x7(e,t){return q0.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,$.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(Zd=Xn).\u0275fac=function(t){return new(t||Zd)(ae(He),ae(mu),ae(ch))},Zd.\u0275prov=$e({token:Zd,factory:Zd.\u0275fac,providedIn:"root"}),ne([wo()],Xn.prototype,"addSession",null),ne([wo()],Xn.prototype,"getAllSessions",null),ne([wo()],Xn.prototype,"getSession",null),ne([wo()],Xn.prototype,"deleteSession",null),ne([wo()],Xn.prototype,"updateSessionPartial",null),ne([wo()],Xn.prototype,"updateSession",null),ne([wo()],Xn.prototype,"loadSession",null),ne([wo()],Xn.prototype,"deleteStateForSession",null),ne([wo()],Xn.prototype,"addEmptyStorageCard",null),ne([wo()],Xn.prototype,"importStorageCard",null),ne([wo()],Xn.prototype,"getAllStorageCards",null),ne([wo()],Xn.prototype,"getCard",null),ne([wo()],Xn.prototype,"updateStorageCardPartial",null),ne([wo()],Xn.prototype,"deleteStorageCard",null),ne([wo()],Xn.prototype,"loadCardData",null),ne([wo()],Xn.prototype,"kvsGet",null),ne([wo()],Xn.prototype,"kvsSet",null),ne([wo()],Xn.prototype,"kvsDelete",null),ne([wo()],Xn.prototype,"newTransaction",null),ne([wo()],Xn.prototype,"prepareObjectStore",null),ne([wo()],Xn.prototype,"initializeLock",null),ne([wo()],Xn.prototype,"setupDb",null);const ZR={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,networkRedirectionMode:lh.supportsNativeNetworkIntegration()?"native":"proxy",proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Di=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,$.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new dr.j,this.mutex=new ba,this.storageMutex=new ba,this.initializationPromise=this.startInitialization().then(()=>this.migrate())}initialize(){var n=this;return(0,$.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialization(){var n=this;return(0,$.Z)(function*(){const o=n;try{const i={...ZR,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,$.Z)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...ZR}}})()}migrate(){var n=this;return(0,$.Z)(function*(){switch(n.kvs.networkRedirectionMode){case"native":lh.supportsNativeNetworkIntegration()||(yield n.set({networkRedirectionMode:"proxy",networkRedirection:!1}));break;case"proxy":break;default:yield n.set({networkRedirectionMode:"proxy"})}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Xn))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const qR='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',F7=`\n    You can install CloudpilotEmu as an app either from the\n    ${qR} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,$7=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${qR} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let F_=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,$.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(So||$0)&&this.installationMode===Bl.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(So||$0||ah)&&this.installationMode===Bl.web&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return So?F7:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return So?$7:ah?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Bl.pwa:document.referrer.startsWith("android-app://")?Bl.twa:window.matchMedia("(display-mode: standalone)").matches?Bl.pwa:Bl.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Di),ae(ro))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function V7(e,t){1&e&&(j(0,"div",5),Ve(1,"ion-spinner"),B())}let _u=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls))},e.\u0275cmp=We({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3),B(),j(4,"ion-buttons",0)(5,"ion-button",1),Fe("click",function(){return o.modalController.dismiss()}),Se(6,"Close"),B()()()(),j(7,"ion-content",2),Wt(8,V7,2,0,"div",3),j(9,"markdown",4),Fe("load",function(){return o.loading=!1}),B()()),2&n&&(pe(3),Ri(o.title),pe(5),Ce("ngIf",o.loading),pe(1),Ce("src",o.url))},dependencies:[ko,F0,$i,Bi,Vi,ji,eh,Ui,Hi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const vu=Ks.releaseExtra?`1.10.5-6a8ad26 (${Ks.releaseExtra})`:"1.10.5",YR=C.p+"assets/doc/CHANGELOG-52399497a4ca6f45.md";var L_=C(1633);const $_=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:c})=>{if((e=>void 0!==e.method&&"call"===e.method)(c)){const{params:{timerId:f,timerType:p}}=c;if("interval"===p){const m=t.get(f);if("number"==typeof m){const y=n.get(m);if(void 0===y||y.timerId!==f||y.timerType!==p)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m()}}else if("timeout"===p){const m=r.get(f);if("number"==typeof m){const y=n.get(m);if(void 0===y||y.timerId!==f||y.timerType!==p)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(c)){const{error:{message:f}}=c;throw new Error(f)}{const{id:f}=c,p=n.get(f);if(void 0===p)throw new Error("The timer is in an undefined state.");const{timerId:m,timerType:y}=p;n.delete(f),"interval"===y?t.delete(m):r.delete(m)}}}),{clearInterval:c=>{const f=(0,L_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"interval"}),t.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"interval"}})},clearTimeout:c=>{const f=(0,L_.generateUniqueNumber)(n);n.set(f,{timerId:c,timerType:"timeout"}),r.set(c,f),o.postMessage({id:f,method:"clear",params:{timerId:c,timerType:"timeout"}})},setInterval:(c,f)=>{const p=(0,L_.generateUniqueNumber)(t);return t.set(p,()=>{c(),"function"==typeof t.get(p)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:p,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:p,timerType:"interval"}}),p},setTimeout:(c,f)=>{const p=(0,L_.generateUniqueNumber)(r);return r.set(p,c),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:p,timerType:"timeout"}}),p}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var qd=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(qd||{});class XR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return qd.animationFrame}}class W7{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>$_().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,$_().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return qd.timeout}}const Z7=[135,135,105],q7=[0,0,0],xc=new Array(16).fill(0).map((e,t)=>q7.map((r,n)=>Math.floor((t*r+(15-t)*Z7[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),Y0=xc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var Q=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(Q||{}),Kd=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(Kd||{});function dh(e){switch(e){case Q.i710:case Q.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.handera330:case Q.handera330c:case Q.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case Q.pegS300:case Q.pegS320:case Q.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case Q.pegT600c:case Q.pegT400:case Q.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case Q.pegN600c:case Q.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case Q.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case Q.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function X0(e){switch(e){case Q.pilot:case Q.palmPilot:case Q.iii:case Q.palmV:case Q.palmVx:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.m125:case Q.m500:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:case Q.i705:case Q.handera330:case Q.pegS300:case Q.pegS320:case Q.pegT400:case Q.acerS11:return!1;default:return!0}}function QR(e){switch(e){case Q.pilot:return"Pilot";case Q.palmPilot:return"Palm Pilot";case Q.iii:return"Palm III";case Q.m500:return"Palm m500";case Q.m505:return"Palm m505";case Q.m515:return"Palm m515";case Q.m520:return"Palm m520";case Q.palmVx:return"Palm Vx";case Q.iiix:return"Palm IIIx";case Q.iiixe:return"Palm IIIxe";case Q.iiie:return"Palm IIIe";case Q.palmV:return"Palm V";case Q.palmVII:return"Palm VII";case Q.palmVIIEZ:return"Palm VII EZ";case Q.palmVIIx:return"Palm VIIx";case Q.iiic:return"Palm IIIc";case Q.m100:return"Palm m100";case Q.m105:return"Palm m105";case Q.m125:return"Palm m125";case Q.m130:return"Palm m130";case Q.i705:return"Palm i705";case Q.i710:return"Tungsten W";case Q.handera330:return"Handera 330";case Q.handera330c:return"Handera 330c";case Q.pegS300:return"Sony PEG-S300";case Q.pegS320:return"Sony PEG-S320";case Q.pegT400:return"Sony PEG-T400 series";case Q.pegN600c:return"Sony PEG-N600C series";case Q.pegT600c:return"Sony PEG-T600C series";case Q.pegN700c:return"Sony PEG-N700C series";case Q.pegT650c:return"Sony PEG-T650C series";case Q.pegNR70:return"Sony PEG-NR70 series";case Q.pegS500c:return"Sony PEG-S500C series";case Q.acerS11:return"Acer S1x series";case Q.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function JR(e){switch(e){case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:return Kd.sdcard;case Q.pegS300:case Q.pegS500c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.pegT650c:case Q.pegNR70:case Q.acerS11:return Kd.memorystick;default:return Kd.none}}class eP{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class X7{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class nP{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new dr.j,this.dispatchEvent=new dr.j,this.isSync=!1}bind(t){this.transport!==t&&(this.transport&&this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}send(t,r){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,r),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync?.()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class sZ{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.isRunning||!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.handleSuspend());const c=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||f!==this.uiInitialized){const p=this.powerOff;this.powerOff=c,this.uiInitialized=f,p!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!c&&this.manageHotsyncName()&&!n&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new dr.j,this.pwmUpdateEvent=new dr.j,this.emulationStateChangeEvent=new dr.j,this.powerOffChangeEvent=new dr.j,this.deviceId=Q.m515,this.clockEmulator=0,this.scheduler=new XR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new X7(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new eP(20),this.timePerFrameAverage=new eP(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1,this.serialPortIR=new nP,this.serialPortSerial=new nP,this.serialSyncStartedAt=0,this.serialPortIR.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now())),this.serialPortSerial.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now()))}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=dh(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}getSerialPortSerial(){if(!this.serialPortSerial)throw new Error("emulator not initialized");return this.serialPortSerial}getSerialPortIR(){if(!this.serialPortIR)throw new Error("emulator not initialized");return this.serialPortIR}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance!==t&&(this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial())),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=dh(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===qd.animationFrame?new XR(t=>this.onSchedule(t)):new W7(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=dh(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=X0(t)?"white":Y0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=xc[15],i=xc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[xc[15&o],xc[o>>>4&15],xc[o>>>8&15],xc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)n[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=xc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class aZ{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const uZ=new Error("transaction timeout"),oP=new Error("session does not match emulation");let fh=(()=>{var e;class t{constructor(n,o,i,s,a,l){var c=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,$.Z)(function*(){try{yield c.triggerSnapshotUnguarded()}finally{c.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new dr.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,$.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,$.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===oP)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===K0)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,$.Z)(function*(){const o=n.db.transaction([Dc,Ic,jl,il,ks,uh],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield Zn(o.objectStore(ks).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,c)=>{let f=!1;const p=performance.now();let m=0,y=0,H=0;const J=new aZ(500,()=>{f=!0;try{o.abort()}catch{}c(uZ)});o.oncomplete=()=>{J.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:H,timeBlocking:y-m,timeTotal:performance.now()-p})},o.onerror=()=>{J.cancel(),c(new Error(o.error?.message))};try{n.assertSessionMatches(),m=performance.now(),H=n.saveDirtyMemory(o,J),i&&(H+=n.saveDirtyStorage(i,o,J)),n.saveSession(o),y=performance.now()}catch(_e){throw f||(J.cancel(),o.abort()),_e}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(Dc),a=n.objectStore(Ic),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const m=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(m);for(let y=0;y<m;y++)this.pages[y]=new Uint32Array(256)}const p={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&Ks.debug&&(p.crc32=jR(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(p);for(let m=0;m<l.length;m++)if(this.dirtyPages[m]|=l[m],l[m]=0,0!==this.dirtyPages[m])for(let y=1;y<256&&!(i>=this.pages.length);y<<=1){if(this.dirtyPages[m]&y){const H=LR(c.subarray(256*i,256*(i+1)));"number"==typeof H?s.put(H,[this.sessionId,i]):(this.pages[i].set(H),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Ir.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,f=0;const p=o.objectStore(il),m=(a.length>>11)+(a.length%2048>0?1:0);for(let y=0;y<s.length;y++)if(this.cardDirtyPages[y]|=s[y],s[y]=0,0!==this.cardDirtyPages[y])for(let H=1;H<256&&!(l>=m);H<<=1){if(this.cardDirtyPages[y]&H){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const J=this.cardPagePool[c++];J.set(a.subarray(2048*l,2048*(l+1))),p.put(J,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(jl);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw oP}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Xn),ae(Vl),ae(mu),ae(ch),ae(Di),ae(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Q0=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new dr.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var dZ=C(2227),fZ=C.n(dZ);function J0(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function iP(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}let pZ=0;const sP=[Q.palmPilot,Q.pilot,Q.iii,Q.palmVx,Q.palmV,Q.palmVII,Q.palmVIIEZ,Q.palmVIIx,Q.iiixe,Q.iiix,Q.iiie,Q.m500,Q.m505,Q.m515,Q.m520,Q.iiic,Q.m100,Q.m105,Q.m125,Q.m130,Q.i705,Q.i710,Q.handera330,Q.handera330c,Q.pegS300,Q.pegS320,Q.pegS500c,Q.pegT400,Q.pegN600c,Q.pegT600c,Q.pegN700c,Q.pegT650c,Q.pegNR70,Q.acerS11,Q.lp168];function Ft(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Rt{constructor(t){this.module=t,this.fatalErrorEvent=new dr.j,this.pwmUpdateEvent=new dr.j,this.proxyDisconnectEvent=new dr.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(()=>this.proxyDisconnectEvent.dispatch(),"v")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,$.Z)(function*(){const r=pZ++;return new Rt(yield fZ()({print:n=>console.log(`${r}: ${n}`),printErr:n=>console.error(`${r}: ${n}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}enableLogging(t){this.cloudpilot.EnableLogging(t)}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:sP.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,$.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.IsSuspended()?this.cloudpilot.GetSuspendContext().GetKind():void 0}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,$.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(iP(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const c=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),c}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!sP.includes(l))return void console.warn(`unsupported device ${l}`);let c;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{c=JSON.parse((new TextDecoder).decode(f))}catch(p){console.warn("invalid metadata",p)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=J0(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}wrapTransport(t){const r=new dr.j;return t.SetRequestTransferCallback(this.module.addFunction(()=>r.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const n=t.RxBytesPending();return this.copyOut(t.Receive(),n)},Send:(n,o)=>{const i=n&&this.copyIn(n);t.Send(n?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:r},t))}}ne([Ft()],Rt.prototype,"enableLogging",null),ne([Ft()],Rt.prototype,"getRomInfo",null),ne([Ft()],Rt.prototype,"initializeSession",null),ne([Ft()],Rt.prototype,"cyclesPerSecond",null),ne([Ft()],Rt.prototype,"runEmulation",null),ne([Ft()],Rt.prototype,"getFrame",null),ne([Ft()],Rt.prototype,"isScreenDirty",null),ne([Ft()],Rt.prototype,"markScreenClean",null),ne([Ft()],Rt.prototype,"minRamForDevice",null),ne([Ft()],Rt.prototype,"framebufferSizeForDevice",null),ne([Ft()],Rt.prototype,"totalMemorySizeForDevice",null),ne([Ft()],Rt.prototype,"queuePenMove",null),ne([Ft()],Rt.prototype,"queuePenUp",null),ne([Ft()],Rt.prototype,"queueButtonDown",null),ne([Ft()],Rt.prototype,"queueButtonUp",null),ne([Ft()],Rt.prototype,"queueKeyboardEvent",null),ne([Ft()],Rt.prototype,"isPowerOff",null),ne([Ft()],Rt.prototype,"isUiInitialized",null),ne([Ft()],Rt.prototype,"isSetupComplete",null),ne([Ft()],Rt.prototype,"getOSVersion",null),ne([Ft()],Rt.prototype,"reset",null),ne([Ft()],Rt.prototype,"resetNoExtensions",null),ne([Ft()],Rt.prototype,"resetHard",null),ne([Ft()],Rt.prototype,"installDb",null),ne([Ft()],Rt.prototype,"getPalette2bitMapping",null),ne([Ft()],Rt.prototype,"getMemory",null),ne([Ft()],Rt.prototype,"getMemory32",null),ne([Ft()],Rt.prototype,"getDirtyPages",null),ne([Ft()],Rt.prototype,"loadMemory",null),ne([Ft()],Rt.prototype,"getRomImage",null),ne([Ft()],Rt.prototype,"getSavestate",null),ne([Ft()],Rt.prototype,"saveState",null),ne([Ft()],Rt.prototype,"loadState",null),ne([Ft()],Rt.prototype,"getHotsyncName",null),ne([Ft()],Rt.prototype,"setClockFactor",null),ne([Ft()],Rt.prototype,"setHotsyncName",null),ne([Ft()],Rt.prototype,"setClipboardIntegration",null),ne([Ft()],Rt.prototype,"getClipboardIntegration",null),ne([Ft()],Rt.prototype,"isSuspended",null),ne([Ft()],Rt.prototype,"getSuspendKind",null),ne([Ft()],Rt.prototype,"cancelSuspend",null),ne([Ft()],Rt.prototype,"getSuspendContextClipboardCopy",null),ne([Ft()],Rt.prototype,"getSuspendContextClipboardPaste",null),ne([Ft()],Rt.prototype,"setNetworkRedirection",null),ne([Ft()],Rt.prototype,"getNetworkRedirection",null),ne([Ft()],Rt.prototype,"getSuspendContextNetworkConnect",null),ne([Ft()],Rt.prototype,"getSuspendContextNetworkRpc",null),ne([Ft()],Rt.prototype,"getSuspendContextSerialSync",null),ne([Ft()],Rt.prototype,"copyBuffer",null),ne([Ft()],Rt.prototype,"freeBuffer",null),ne([Ft()],Rt.prototype,"setHotsyncNameManagement",null),ne([Ft()],Rt.prototype,"resolveBuffer",null),ne([Ft()],Rt.prototype,"serializeSessionImage",null),ne([Ft()],Rt.prototype,"deserializeSessionImage",null),ne([Ft()],Rt.prototype,"launchAppByName",null),ne([Ft()],Rt.prototype,"launchAppByDbHeader",null),ne([Ft()],Rt.prototype,"deviceSupportsCardSize",null),ne([Ft()],Rt.prototype,"clearExternalStorage",null),ne([Ft()],Rt.prototype,"allocateCard",null),ne([Ft()],Rt.prototype,"decompressCard",null),ne([Ft()],Rt.prototype,"getCardData",null),ne([Ft()],Rt.prototype,"getCardDirtyPages",null),ne([Ft()],Rt.prototype,"getMountedKey",null),ne([Ft()],Rt.prototype,"mountCard",null),ne([Ft()],Rt.prototype,"removeCard",null),ne([Ft()],Rt.prototype,"remountCards",null),ne([Ft()],Rt.prototype,"getCardSupportLevel",null),ne([Ft()],Rt.prototype,"loadSkin",null);const B_=new Error("permission denied");let eS=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,$.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===B_)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,$.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?B_:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,$.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,$.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,$.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,$.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===B_)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,$.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?B_:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,$.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,$.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,$.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}},{text:"Paste",handler:(s=(0,$.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,$.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(T0),ae(ro))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const mZ="https:"===window.location.protocol?8667:8666,gZ=/^[\da-z\-\.]+$/i,_Z=/^[\da-z\-\.]+:\d+$/i;function tS(e){if(!e)return;const t=window.location.protocol;if(e.match(gZ))return`${t}//${e}:${mZ}`;if(e.match(_Z))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function vZ(e){return void 0!==tS(e.value)?null:{proxyAddress:"invalid"}}class CZ{constructor(t,r,n){this.proxyServer=t,this.alertService=r,this.fetchService=n,this.onSocketMessage=o=>{if(!(o.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),void this.unexpectedCloseEvent.dispatch(void 0);this.rpcResultEvent.dispatch(new Uint8Array(o.data))},this.onSocketError=o=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),this.unexpectedCloseEvent.dispatch(),console.error("ERROR: socket error",o)},this.onSocketClose=()=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.disconnect(),this.unexpectedCloseEvent.dispatch()},this.rpcResultEvent=new dr.j,this.unexpectedCloseEvent=new dr.j}connect(){var t=this;return(0,$.Z)(function*(){const r=tS(t.proxyServer);if(!r)return yield t.alertService.errorMessage(`Invalid proxy address: ${t.proxyServer}`),!1;const n=yield t.handshake(500);switch(n.status){case"failed":return t.alertService.errorMessage("Failed to connect to proxy."),!1;case"version_mismatch":return yield t.alertService.proxyVersionMismatchError(),!1;case"success":break;default:throw new Error("unreachable")}const o=new WebSocket(`${r.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(n.token)}`);o.binaryType="arraybuffer";const i=setTimeout(()=>o.close(),5e3);let s,a,l;try{return yield new Promise((c,f)=>{s=()=>c(),l=p=>f(p),a=()=>f(new Error("connection timeout")),o.addEventListener("open",s),o.addEventListener("error",l),o.addEventListener("close",a)}),clearTimeout(i),o.addEventListener("error",t.onSocketError),o.addEventListener("message",t.onSocketMessage),o.addEventListener("close",t.onSocketClose),t.socket=o,!0}catch(c){return console.error("socket failed to connect",c),!1}finally{o.removeEventListener("open",s),o.removeEventListener("error",l),o.removeEventListener("close",a)}})()}disconnect(){var t=this;return(0,$.Z)(function*(){t.socket&&(t.socket.removeEventListener("error",t.onSocketError),t.socket.removeEventListener("message",t.onSocketMessage),t.socket.removeEventListener("close",t.onSocketClose),t.socket.close(),t.socket=void 0)})()}handleRpc(t){var r=this;return(0,$.Z)(function*(){return!!r.socket&&(r.socket.send(t),!0)})()}handshake(t=-1){var r=this;return(0,$.Z)(function*(){const n=tS(r.proxyServer);if(!n)return{status:"failed"};try{const o=yield r.fetchService.fetch(`${n}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!o.ok)return{status:"failed"};const i=yield o.json();return i.version<3||i.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:i.token}}catch{return{status:"failed"}}})()}}class SZ{constructor(t){this.nativeAppService=t,this.onNetRpcResult=({sessionId:r,rpcData:n})=>r===this.sessionId&&this.rpcResultEvent.dispatch(n),this.rpcResultEvent=new dr.j,this.unexpectedCloseEvent=new dr.j}connect(){var t=this;return(0,$.Z)(function*(){if(void 0!==t.sessionId)throw new Error("session already open");return t.sessionId=yield t.nativeAppService.netOpenSession(),t.nativeAppService.netRpcResult.addHandler(t.onNetRpcResult),!0})()}disconnect(){var t=this;return(0,$.Z)(function*(){void 0!==t.sessionId&&(t.nativeAppService.netRpcResult.removeHandler(t.onNetRpcResult),yield t.nativeAppService.netCloseSession(t.sessionId),t.sessionId=void 0)})()}handleRpc(t){var r=this;return(0,$.Z)(function*(){if(void 0===r.sessionId)throw new Error("no open session");return r.nativeAppService.netDispatchRpc(r.sessionId,t)})()}}let wZ=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new g_({username:new bo(n?.username??""),password:new bo(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Di))},e.\u0275cmp=We({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Authenticate"),B(),j(4,"ion-buttons",0)(5,"ion-button",1),Fe("click",function(){return o.saveAndContinue()}),Se(6,"OK"),B()(),j(7,"ion-buttons",2)(8,"ion-button",1),Fe("click",function(){return o.onCancel()}),Se(9,"Cancel"),B()()()(),j(10,"ion-content",3)(11,"form",4),Fe("keydown",function(s){return o.formKeyDown(s)}),j(12,"p"),Se(13," The server requires authentication. "),B(),j(14,"ion-item",5)(15,"ion-label",6),Se(16,"Username"),B(),Ve(17,"ion-input",7),B(),j(18,"ion-item",5)(19,"ion-label",6),Se(20,"Password"),B(),Ve(21,"ion-input",8),B()()()),2&n&&(pe(11),Ce("formGroup",o.formGroup))},dependencies:[$i,Bi,Vi,ji,Fl,Co,Gi,Ui,Hi,Nl,Ol,Rl,Pl,ya,nl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),lP=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,$.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(Dd())("string"==typeof n?n:n.url);let c,f,p=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>c?.present(),s):c.present();const m=i.kvsService.kvs.credentials[l.origin],y=new AbortController,H=window.setTimeout(()=>y.abort(),a),J=yield fetch(n,{...i.requestInit(o),signal:y.signal,headers:{...o?.headers||{},...p&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(H),401===J.status){if(!p&&m){p=!0;continue}if(c?.dismiss(),clearTimeout(f),s=0,c=void 0,s=void 0,p=!0,yield i.authenticate(l.origin))continue}return J}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,$.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:wZ,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(qs),ae(Di),ae(ls))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),cP=(()=>{var e;class t{constructor(n,o,i,s){this.kvsService=n,this.alertService=o,this.fetchService=i,this.nativeAppService=s}createBackendProxy(n=this.kvsService.kvs.proxyServer){return new CZ(n,this.alertService,this.fetchService)}createBackend(){if(this.kvsService.kvs.networkRedirection)return"native"===this.kvsService.kvs.networkRedirectionMode&&lh.supportsNativeNetworkIntegration()?new SZ(this.nativeAppService):this.createBackendProxy()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Di),ae(ro),ae(lP),ae(lh))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),uP=(()=>{var e;class t{constructor(n,o){this.ngZone=n,this.backendFactory=o,this.onProxyDisconnect=()=>{this.reset()},this.onUnexpectedBackendClose=()=>this.reset(),this.onSessionResume=()=>this.resumeEvent.dispatch(),this.resumeEvent=new dr.j}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}isConnected(){return void 0!==this.session}reset(){this.session&&(this.session.backend.unexpectedCloseEvent.removeHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.removeHandler(this.onSessionResume),this.session.terminate(),this.ngZone.run(()=>this.session=void 0))}handleSuspend(){if(this.cloudpilot)switch(this.cloudpilot.getSuspendKind()){case 4:this.createNewSession(),this.session?this.session.handleConnect():4===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.session?this.session.handleRpc():3===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}createNewSession(){this.reset(),this.ngZone.run(()=>this.session=nS.create(this.backendFactory.createBackend(),this.cloudpilot)),this.session&&(this.session.backend.unexpectedCloseEvent.addHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.addHandler(this.onSessionResume))}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(He),ae(cP))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class nS{static create(t,r){if(r&&t)return new nS(t,r)}constructor(t,r){var n=this;this.backend=t,this.handleConnect=()=>{this.mutex.runExclusive((0,$.Z)(function*(){try{const o=yield n.backend.connect();4===n.cloudpilot?.getSuspendKind()&&(o?n.cloudpilot.getSuspendContextNetworkConnect().Resume():n.cloudpilot.getSuspendContextNetworkConnect().Cancel())}catch(o){console.error("failed to connect to backend",o),4===n.cloudpilot?.getSuspendKind()&&n.cloudpilot.getSuspendContextNetworkConnect().Cancel()}}))},this.handleRpc=()=>{this.mutex.runExclusive((0,$.Z)(function*(){if(3!==n.cloudpilot?.getSuspendKind())return;const o=n.cloudpilot.getSuspendContextNetworkRpc(),i=n.cloudpilot.resolveBuffer(o.GetRequestData(),o.GetRequestSize());try{!(yield n.backend.handleRpc(i))&&3===n.cloudpilot?.getSuspendKind()&&n.cloudpilot.getSuspendContextNetworkRpc().Cancel()}catch(s){console.error("failed to process rpc request",s),3===n.cloudpilot?.getSuspendKind()&&n.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}))},this.disconnect=()=>{this.mutex.runExclusive((0,$.Z)(function*(){n.backend&&(yield n.backend.disconnect())}))},this.onRpcResult=o=>{if(!this.cloudpilot)return;if(3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");const i=this.cloudpilot.copyBuffer(o);this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(i,o.length),this.cloudpilot.freeBuffer(i),this.resumeEvent.dispatch()},this.resumeEvent=new dr.j,this.mutex=new ba,this.cloudpilot=r,t.rpcResultEvent.addHandler(this.onRpcResult)}terminate(){this.cloudpilot=void 0,this.backend.rpcResultEvent.removeHandler(this.onRpcResult),this.disconnect()}}let dP=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),fP=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const IZ=C.p+"wasm/cloudpilot_web-94d55dd156bdfdde.wasm";let Ca=(()=>{var e;class t{constructor(){this.cloudpilot=Rt.create(IZ),this.cloudpilot.then(n=>this.cloudpilotInstance=n),window.__cp_enableLogging=n=>this.cloudpilotInstance?.enableLogging(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var xZ=C(3097),Yd=C.n(xZ);const rS=524288;class oS{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(rS),t.destroy(n)}static create(t,r){return(0,$.Z)(function*(){return new oS(yield Yd()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,$.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=rS){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,rS);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class iS{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,$.Z)(function*(){return new iS(yield Yd()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class sS{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,$.Z)(function*(){const n=yield Yd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new sS(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=J0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class V_{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,$.Z)(function*(){const n=yield Yd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new V_(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,$.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class aS{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,$.Z)(function*(){const n=yield Yd()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new aS(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,$.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const pP=new Map;class RZ{constructor(t="fstools_web.wasm"){let r=pP.get(t);r||(r=function TZ(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,$.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),pP.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,$.Z)(function*(){const n=yield iS.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,$.Z)(function*(){const n=yield V_.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return V_.create(this.instantiante,t)}createGzipContext(t){return aS.create(this.instantiante,t)}createFsckContext(t){return sS.create(t,this.instantiante)}createZipContext(t){return oS.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,$.Z)(function*(){const n=yield Yd()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),iP(new n.ZipfileWalker(t.length,i),n)})()}}var _r=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(_r||{});function Xd(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function Qd(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function lS(e){return`${Qd(e.name)}.img`}function hP(e,t){return`backup_${Qd(e.name)}${t?"_with_rom":""}.zip`}function cS(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var Rr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Rr||{});function j_(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const FZ=C.p+"wasm/fstools_web-a1f18544efa743ec.wasm";let G_=(()=>{var e;class t extends RZ{constructor(){super(FZ)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function LZ(e,t){1&e&&(j(0,"p",10),Se(1," ERROR: URL must be served via HTTPS. "),B())}function $Z(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(Dd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let BZ=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(Dd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(Dd())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new g_({url:new bo("",$Z)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Enter download URL"),B(),j(4,"ion-buttons",0)(5,"ion-button",1),Fe("click",function(){return o.continue()}),Se(6,"OK"),B()(),j(7,"ion-buttons",2)(8,"ion-button",3),Fe("click",function(){return o.onCancel()}),Se(9,"Cancel"),B()()()(),j(10,"ion-content",4)(11,"form",5),Fe("keydown",function(s){return o.formKeyDown(s)}),j(12,"p"),Se(13," Please enter the URL from which to download: "),B(),j(14,"ion-item",6)(15,"ion-label",7),Se(16,"URL"),B(),Ve(17,"ion-input",8),B(),Wt(18,LZ,2,0,"p",9),j(19,"p"),Se(20," Note that the remote server needs to support the CORS protocol. "),B()()()),2&n&&(pe(5),Ce("disabled",o.formGroup.invalid),pe(6),Ce("formGroup",o.formGroup),pe(7),Ce("ngIf",o.isMixedContent))},dependencies:[ko,$i,Bi,Vi,ji,Fl,Co,Gi,Ui,Hi,Nl,Ol,Rl,Pl,ya,nl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),Tc=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,$.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const p={deviceId:n.device,metadata:j_(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(p);m&&o.saveFile(lS(n),m)}finally{s.dismiss()}})()}saveFile(n,o,i="application/octet-stream"){const s=new Blob([o],{type:i}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=n,l.click()}openUrl(n,o){var i=this;return(0,$.Z)(function*(){let s;try{s=new(Dd())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(f=>new Uint8Array(f));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,$.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:j_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,$.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,$.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:BZ,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=ah||MR;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",So&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,$.Z)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,$.Z)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Xn),ae(qs),ae(rh),ae(Di),ae(ls),ae(ro),ae(lP),ae(Ca))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class mP extends Error{constructor(t){super(t)}}let Gl=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new ba,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,$.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,$.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o.sessions.map(y=>y.name));let f=1,p=!1;const m=[];for(;0===a.GetState();)try{i.message=`Importing ${f++}/${l}...`;const y=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!y)throw new mP(`${a.GetCurrentEntryName()} is not a valid session.`);const H=Xd(y.metadata?.name??a.GetCurrentEntryName(),J=>c.has(J));yield o.doAddSessionFromImage(y,H,y.metadata)}catch(y){if(!(y instanceof mP))throw y;m.push(a.GetCurrentEntryName()),p||(p=yield o.alertService.messageWithChoice("Error",y.message,"Skip further errors",p,{},"Continue"))}finally{a.Next()}m.length<=3&&m.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${m.join("<br>")}`):m.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${m.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${m.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,$.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Rr.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},c=yield a.loadingController.create({message:"Importing..."});yield c.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,$.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,$.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,$.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(lS(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,$.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(c);if(f){const p=Xd(c.name.replace(/[\/\\]/,"_").substring(0,200),m=>a.has(m));a.add(p),yield s.addEntry(p+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function PZ(){return`${Qd("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,$.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const p={deviceId:n.device,metadata:j_(n),rom:a,memory:l,savestate:c},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(p);m&&o.fileService.saveFile(lS(n),m)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,$.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:j_(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,$.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,$.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,$.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Rr.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Ca),ae(Xn),ae(qs),ae(G_),ae(ro),ae(Tc))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var VZ=C(8886),jZ=C.n(VZ),sl=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(sl||{}),yu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(yu||{});function GZ(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function gP(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:GZ(e.GetAttributes())}}class uS{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,$.Z)(function*(){return new uS(yield jZ()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=J0(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(gP(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:gP(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,$.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),c=i.GetZipSize();return 0!==l&&0!==c&&(a=o.module.HEAPU8.subarray(l,l+c).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,$.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,$.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(sl.success);case-3:return a(sl.cardFull);case-1:return a(sl.ioError);case-2:return a(sl.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,$.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return yu.success;case-2:return yu.cardFull;case-1:return yu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var UZ=C(307),_P=C.n(UZ);function vP(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const HZ=C.p+"wasm/vfs_web-eea1891fcbf521ce.wasm";let bu=(()=>{var e;class t{constructor(n,o,i,s,a){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new dr.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=uS.create(HZ),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,$.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,$.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Ir.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(n,c,Ir.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Ir.vfs),!1)})()}releaseCard(n){var o=this;return(0,$.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Ir.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,$.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||_P()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in CloudpilotEmu.`)})()}saveFile(n){var o=this;return(0,$.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,$.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(y=>y.isDirectory).map(y=>i.normalizePath(y.path)),c=n.filter(y=>!y.isDirectory).map(y=>i.normalizePath(y.path)),f=1===n.length?`${n[0].name}.zip`:function NZ(e){return`files_${Qd(e.name)}.zip`}(i.primaryCard),{archive:p,failedItems:m}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),p&&i.fileService.saveFile(f,p)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,$.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,$.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,$.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===_r.clean||n.status===_r.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,$.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(n,o);let f,p;switch(yield s.dismiss(),c){case sl.success:f="The archive was extracted successfully, but some entries were skipped.",p="Skipped entries";break;case sl.ioError:return void(yield i.fatalError("There was an error writing to the card."));case sl.cardFull:f="No space left on card.",p="No space left";break;case sl.zipfileError:f="There was an error reading from the archive.",p="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,y=H=>H>1?`${H} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(p,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${y(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(p,`\n                    ${f}\n                    <br><br>\n                    ${vP(y(l))} unpacked succesfully, but ${y(m)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,$.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case yu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case yu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,$.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${vP(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,$.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,f=!1,p=!1,m=!1;e:for(let y=0;y<n.length;y++){const H=n[y],J=s.find(we=>we.name===H.name);if(J&&J.isDirectory){if(!p){const{overwrite:Re,rememberChoice:_t}=yield i.overwriteFileDialog(H.name,"directory");m=Re,p=_t}let we=!0;if(m&&(we=!(yield l.deleteRecursive([i.normalizePath(`${o}/${H.name}`)])).success),we){a.push(H.name);continue}}if(J&&!J.isDirectory){if(!c){const{overwrite:we,rememberChoice:Re}=yield i.overwriteFileDialog(H.name,"file");f=we,c=Re}if(!f){a.push(H.name);continue}}let _e;try{_e=yield H.getContent()}catch(we){console.warn(we),a.push(H.name),yield i.alertService.errorMessage(`Unable to open ${H.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${H.name}`),_e)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(y).map(we=>we.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(H.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,$.Z)(function*(c){if(i)return o;const{overwrite:f,rememberChoice:p}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=f,i=p,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,$.Z)(function*(c){if(a)return s;const{overwrite:f,rememberChoice:p}=yield n.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=f,a=p,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,$.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,$.Z)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==sl.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,$.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===yu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,$.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Ir.vfs),yield n.storageService.loadCardData(o.id,s,Ir.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Ir.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,$.Z)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                     Do you want to overwrite the existing directory ${n}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,$.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,$.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:_r.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,$.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Ir.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,$.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,$.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Xn),ae(ch),ae(Tc),ae(qs),ae(ro))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var jo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(jo||{});class H_ extends Error{constructor(t){super(t)}}function yP(){return HR().replace(/-/g,"")}let Jd=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,p,m,y,H){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=f,this.fileService=p,this.vfsService=m,this.storageCardContext=y,this.fstools=H,this.mountCardEvent=new dr.j,this.deleteCardEvent=new dr.j,this.loading=!0,this.cards=[],this.updateMutex=new ba,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,$.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function zZ(e){switch(e){case jo.mb4:return 4;case jo.mb8:return 8;case jo.mb16:return 16;case jo.mb32:return 32;case jo.mb64:return 64;case jo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:yP(),name:n,size:4*l.length,status:_r.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,$.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Ir.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,$.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Ir.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Ir.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,$.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:_r.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Ir.cloudpilot)})()}checkCard(n){var o=this;return(0,$.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Ir.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,$.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Ir.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,$.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=_r.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,$.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,$.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(n){var o=this;return(0,$.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const f of n){c++;const p=yield o.getCard(f);if(!p)continue;i.message=`Exporting ${c}/${n.length}...`;const m=Xd(p.name,H=>a.has(H));a.add(m);const y=yield o.getCardData(p,m,l);y&&(yield s.addEntry(`${m}.img.gz`,y))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function OZ(){return`${Qd("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,$.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,$.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=So?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,c=yield o.fstools.createZipfileWalker(n);if(-1===c.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const f=c.GetTotalEntries(),p=new Set((yield o.getAllCards()).map(_e=>_e.name)),m=yield o.fstools.createGunzipContext();let y=1,H=!1;const J=[];for(;0===c.GetState();){a.message=`Importing ${y++}/${f}...`;let _e=c.GetCurrentEntryName();try{if(!i.test(_e))throw new H_(`${_e} has the wrong suffix to be considered as a card image.`);let we=c.GetCurrentEntryContent();if(_e.endsWith(".gz")&&we&&(m.initialize(we),we=(yield m.gunzip())?m.getDecompressedData():void 0,_e=_e.substring(0,_e.length-3)),void 0===we)throw new H_(`Failed to extract ${_e}. ${s}`);if(0===l.getCardSupportLevel(we.length))throw new H_(`${_e} is not a valid card image.`);const Re=Xd(_e.replace(i,""),_t=>p.has(_t));yield o.doCreateCardFromImage(Re,we,!1,!0)}catch(we){if(!(we instanceof H_))throw we;J.push(_e),H||(H=yield o.alertService.messageWithChoice("Error",we.message,"Skip further errors",H,{},"Continue"))}finally{c.Next()}}J.length<=3&&J.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${J.join("<br>")}`):J.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${J.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${J.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,$.Z)(function*(){const l={storageId:yP(),name:n,size:o.length,status:s?_r.dirty:_r.clean,dontFsckAutomatically:i},c=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,c);else{const[f,p]=yield a.fsckNewCard(c,l);yield a.storageService.importStorageCard(p,f)}})()}getCardData(n,o,i){var s=this;return(0,$.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let c;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,$.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,$.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,$.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,$.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===_r.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Ir.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case _r.clean:break;case _r.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case _r.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case _r.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,$.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Ir.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Ir.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:_r.clean}),o.storageCardContext.release(n,Ir.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:_r.unformatted}),o.storageCardContext.release(n,Ir.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:_r.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:_r.unfixable}),o.storageCardContext.release(n,Ir.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,$.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Ir.fstools),yield i.storageService.updateStorageCardPartial(n,{status:_r.clean}),i.storageCardContext.release(n,Ir.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,$.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:_r.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:_r.clean}]:[n,{...o,status:_r.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:_r.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:_r.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,$.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:_r.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,$.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:_r.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,$.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Gl),ae(Xn),ae(Vl),ae(Ca),ae(qs),ae(fh),ae(ro),ae(mu),ae(Tc),ae(bu),ae(ch),ae(G_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const bP="cp-indicator-fix-portrait",CP="cp-indicator-fix-landscape",SP="cloudpilot-indicator-fix-mode";let z_;function wP(){return PR(SP)??"none"}function dS(){return MR&&!navigator?.standalone}function EP(e){if(!dS())return;z_||(z_=document.createElement("style"),z_.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${bP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${CP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(z_)),void 0!==e?V0(SP,e):e=wP();const t=document.documentElement.classList;t.toggle(bP,"all"===e||"portrait"===e),t.toggle(CP,"all"===e||"landscape"===e)}let fS=(()=>{var e;class t{constructor(n,o){this.pwaService=n,this.clipboardService=o,this.injectStyles()}get runHidden(){return this.pwaService.getInstallationMode()!==Bl.pwa}get nativeNetworkIntegration(){return lh.supportsNativeNetworkIntegration()}featureStyle(n,o){return(o?"":`.feature-${n} { display: none }\n`)+(o?`.no-feature-${n} { display: none }`:"")}injectStyles(){const n=document.createElement("style");n.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",dS())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",$l)}\n            ${this.featureStyle("ios-not-native",So&&!$l)}\n            ${this.featureStyle("ios-or-safari",So&&!$l||ah)}\n            ${this.featureStyle("ios",So)}\n        `,document.head.appendChild(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(F_),ae(eS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),Sa=(()=>{var e;class t extends sZ{constructor(n,o,i,s,a,l,c,f,p,m,y,H,J,_e,we,Re,_t,gt,qt){var Tt;super(),Tt=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=f,this.clipboardService=p,this.kvsService=m,this.networkService=y,this.buttonService=H,this.bootstrapService=J,this.cloudpilotService=_e,this.storageCardService=we,this.storageCardContext=Re,this.sessionsService=_t,this.featureService=gt,this.app=qt,this.switchSession=(Ro,Da={})=>this.mutex.runExclusive((0,$.Z)(function*(){if(Ro===Tt.emulationState.getCurrentSession()?.id)return!0;let ll;yield Tt.stopUnchecked(),yield Tt.bootstrapService.hasRendered(),(Da.showLoader??1)&&(ll=yield Tt.loadingController.create({message:"Loading..."}),yield ll.present());try{const K_=yield Tt.storageService.getSession(Ro);if(!K_)throw new Error(`invalid session ${Ro}`);Tt.emulationState.setCurrentSession(void 0);const RX=yield Tt.cloudpilotService.cloudpilot;if(!(yield Tt.restoreSession(K_,RX)))return Tt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Tt.emulationState.setCurrentSession(K_),yield Tt.sessionsService.updateSession({...K_,lastLaunch:Date.now()}),function d7(e){V0(R_,e+"")}(Ro)}finally{ll&&(yield ll.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,$.Z)(function*(){!Tt.emulationState.getCurrentSession()||Tt.running||Tt.errorService.hasFatalError()||!Tt.cloudpilotInstance||(yield Tt.kvsService.mutex.runExclusive(()=>Tt.updateFeatures()),Tt.doResume(),Tt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,$.Z)(function*(){Tt.doPause(),!Tt.errorService.hasFatalError()&&Tt.emulationState.getCurrentSession()&&(yield Tt.snapshotService.waitForPendingSnapshot(),yield Tt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Ro,Da])=>this.mutex.runExclusive((0,$.Z)(function*(){const ll=Tt.emulationState.getCurrentSession();Ro===ll?.id&&(void 0!==ll.mountedCard&&void 0===Da&&Tt.storageCardContext.release(ll.mountedCard,Ir.cloudpilot),Tt.emulationState.setCurrentSession(Da),Tt.emulationState.getCurrentSession()||(OR(),Tt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,$.Z)(function*(){const Ro=Tt.emulationState.getCurrentSession();Ro&&Tt.sessionsService.emergencySaveSession(Ro)})),this.mutex=new ba,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Ro=>{Ro.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.networkService.initialize(Ro),this.networkService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const ir=function u7(){const e=RR(R_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==ir&&!iM()&&(this.bootstrapCompletePromise=this.recoverStoredSession(ir))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden&&this.featureService.runHidden?qd.timeout:qd.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.networkService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,$.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.networkService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,$.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,$.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{So&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,$.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.networkService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Xn),ae(He),ae(qs),ae(Vl),ae(fh),ae(mu),ae(ro),ae(Q0),ae(eS),ae(Di),ae(uP),ae(dP),ae(fP),ae(Ca),ae(Jd),ae(ch),ae(Gl),ae(fS),ae(ha))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),pS=(()=>{var e;class t{constructor(n,o){var i=this;this.loadingController=n,this.alertService=o,this.register=()=>this.registerMutex.runExclusive((0,$.Z)(function*(){if(i.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>i.reloadOnControllerChange&&window.location.reload()),yield new Promise(s=>setTimeout(s,3e3));try{i.setupRegistration(yield i.doRegister())}catch(s){console.error(s)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new ba,this.updateAvailableEvent=new dr.j,this.register()}isEnabled(){return Ks.production&&!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var n=this;return(0,$.Z)(function*(){if(!n.registration)return;const o=yield n.loadingController.create();yield o.present();try{if(!(yield n.registration.unregister()))throw new Error("failed to unregister worker")}catch{return void(yield n.alertService.errorMessage("Failed to unregister service worker."))}finally{yield o.dismiss()}yield n.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var n=this;return(0,$.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,$.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}doRegister(){return(0,$.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(qs),ae(ro))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),DP=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,$.Z)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==vu&&(yield l.kvsService.set({version:vu,previousVersion:c,latestVersion:vu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${vu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=vu})),this.mutex=new ba,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,$.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,$.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===vu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,$.Z)(function*(){yield(yield n.modalController.create({component:_u,componentProps:{url:YR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,$.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Di),ae(Sa),ae(ro),ae(ls),ae(pS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),XZ=(()=>{var e;class t{constructor(n,o,i,s){this.kvsService=n,this.alertService=o,this.emulationService=i,this.pwaService=s}start(){var n=this;return(0,$.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o),n.pwaService.getInstallationMode()===Bl.pwa&&So&&!$l&&(n.kvsService.kvs.ios174UpdateWarningId=yield n.showIOS174UpdateWarning(n.kvsService.kvs.ios174UpdateWarningId))})()}showInfo(n){var o=this;return(0,$.Z)(function*(){return 2===n&&So&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(n){var o=this;return(0,$.Z)(function*(){return(n??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Di),ae(ro),ae(Sa),ae(F_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),QZ=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,$.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(F_),_(DP),_(fP),_(XZ))},e.\u0275cmp=We({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(j(0,"ion-app"),Ve(1,"ion-router-outlet"),B())},dependencies:[aR,nh]}),t})(),IP=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(j(0,"div"),Se(1,"Dummy"),B())},encapsulation:2}),t})(),xP=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(pC),ae(Bo))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const hS=Q.m515,JZ=Y0[2],eq=Y0[0],ef="rgba(0,0,0,0.2)";function TP(e){const t=dh(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function oq(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class iq{constructor(t){this.skinLoader=t,this.layout=TP(hS),this.onResize=new dr.j}get width(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Rr.landscape90:{const p=c;c=this.layout.height.frameDevice-l,l=p;break}case Rr.landscape270:{const p=c;c=l,l=this.layout.width.frameDevice-p;break}case Rr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=f&&(c=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=f)return;return[l,c]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,$.Z)(function*(){if(!t)return;r.layout=TP(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,$.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,ef),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,ef),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,ef),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,ef),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,ef),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,ef))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Rr.portrait:case void 0:break;case Rr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Rr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Rr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,$.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,JZ),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case Q.pegT600c:case Q.pegT650c:return"silkscreen/clie-t600.svg";case Q.pegN700c:case Q.pegN600c:return"silkscreen/clie-n610.svg";case Q.pegS320:case Q.pegS300:return"silkscreen/clie-s300.svg";case Q.pegS500c:return"silkscreen/clie-s500.svg";case Q.pegT400:return"silkscreen/clie-t415.svg";case Q.acerS11:return"silkscreen/acer-s10.svg";case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:return"silkscreen/pilot.svg";case Q.m500:return"silkscreen/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"silkscreen/m515.svg";case Q.iiic:return"silkscreen/iiic.svg";case Q.m100:case Q.m105:case Q.m125:return"silkscreen/m100.svg";case Q.m130:return"silkscreen/m130.svg";case Q.i710:return"silkscreen/tungstenw.svg";case Q.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case Q.acerS11:return"hard-buttons/acer-s10.svg";case Q.pegNR70:return"hard-buttons/clie-nr70.svg";case Q.pegN700c:return"hard-buttons/clie-n700.svg";case Q.pegN600c:return"hard-buttons/clie-n610.svg";case Q.pegS300:return"hard-buttons/clie-s300.svg";case Q.pegS500c:return"hard-buttons/clie-s500.svg";case Q.pegS320:return"hard-buttons/clie-s320.svg";case Q.pegT400:case Q.pegT600c:case Q.pegT650c:return"hard-buttons/clie-t415.svg";case Q.pilot:case Q.palmPilot:return"hard-buttons/pilot.svg";case Q.m500:return"hard-buttons/m500.svg";case Q.m505:case Q.m515:case Q.m520:return"hard-buttons/m515.svg";case Q.iiic:return"hard-buttons/iiic.svg";case Q.m100:case Q.m105:return"hard-buttons/m100.svg";case Q.m125:return"hard-buttons/m125.svg";case Q.m130:return"hard-buttons/m130.svg";case Q.i710:return"hard-buttons/tungstenw.svg";case Q.iii:case Q.iiix:case Q.iiixe:case Q.palmVII:case Q.palmVIIEZ:case Q.palmVIIx:return"hard-buttons/iiix.svg";case Q.iiie:return"hard-buttons/iiie.svg";case Q.i705:return"hard-buttons/i705.svg";case Q.handera330:return"hard-buttons/handera330.svg";case Q.handera330c:return"hard-buttons/handera330c.svg";case Q.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return X0(this.getDeviceId())?"white":eq}frameColor(){return X0(this.getDeviceId())?"white":"#ccc"}}function aq(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class cq{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,aq((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function sq(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,$.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(ah||So)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let W_=(()=>{var e;class t extends iq{constructor(n){super(new cq(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,$.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,$.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,$.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??hS}getOrientation(){return this.session?.deviceOrientation??Rr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function uq(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(dh(this.session?.device??hS).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Ca))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),mS=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Bo),_(W_),_(Vl))},e.\u0275cmp=We({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(j(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),Ve(4,"ion-icon",3),j(5,"ion-label"),Se(6,"Emulator"),B()(),j(7,"ion-tab-button",4),Ve(8,"ion-icon",5),j(9,"ion-label"),Se(10,"Sessions"),B()(),j(11,"ion-tab-button",6),Ve(12,"ion-icon",7),j(13,"ion-label"),Se(14,"Cards"),B()(),j(15,"ion-tab-button",8),Ve(16,"ion-icon",9),j(17,"ion-label"),Se(18,"Settings"),B()(),j(19,"ion-tab-button",10),Ve(20,"ion-icon",11),j(21,"ion-label"),Se(22,"About"),B()()()()()),2&n&&(pe(2),Us("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Vo,Gi,I_,cR,uR],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),ph=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Ya,L0.forChild(),wc,du,C_]}),t})(),dq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Ya,du,wc,ph,L0.forChild()]}),t})(),fq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Ya,du,wc,ph]}),t})(),pq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Ya,du,wc,C_,ph]}),t})(),hq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Ya,du,wc,ph,C_]}),t})(),mq=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[Ya,wc,du,C_,ph]}),t})();const gq=C.p+"assets/doc/about-3f271545181df70a.md";function _q(e,t){if(1&e){const r=Sn();j(0,"ion-button",1),Fe("click",function(){return It(r),xt(st().onClick())}),Ve(1,"ion-icon",2),B()}if(2&e){const r=st();pe(1),Ce("name",r.iconName)}}let Z_=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return So?"logo-apple-appstore":$0?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(F_))},e.\u0275cmp=We({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&Wt(0,_q,2,1,"ion-button",0),2&n&&Ce("ngIf",o.show)},dependencies:[ko,$i,Vo]}),t})();var hh;function vq(e,t){1&e&&(j(0,"div",9),Ve(1,"ion-spinner"),B())}function yq(e,t){if(1&e){const r=Sn();j(0,"div"),Se(1,"app cached for offline use"),B(),j(2,"a",7),Fe("click",function(){return It(r),xt(st().resetWorker())}),Se(3,"reset worker"),B()}}class gS{constructor(t,r){this.modalController=t,this.serviceWorkerService=r,this.loading=!0}get version(){return vu}get url(){return gq}showChangelog(){var t=this;return(0,$.Z)(function*(){yield(yield t.modalController.create({component:_u,componentProps:{url:YR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,$.Z)(function*(){yield t.serviceWorkerService.reset()})()}}function bq(e,t){if(1&e&&(j(0,"ion-select-option",16),Se(1),B()),2&e){const r=t.$implicit;Ce("value",r[0]),pe(1),li("",r[1]," ")}}function Cq(e,t){if(1&e&&(j(0,"ion-select-option",16),Se(1),B()),2&e){const r=t.$implicit;Ce("value",r[0]),pe(1),li("",r[1]," ")}}function Sq(e,t){if(1&e&&(j(0,"ion-item",6)(1,"ion-label",7),Se(2,"Hotsync name"),B(),Ve(3,"ion-input",17),B()),2&e){const r=st();pe(3),Ce("placeholder",r.placeholder)}}(hh=gS).\u0275fac=function(t){return new(t||hh)(_(ls),_(pS))},hh.\u0275cmp=We({type:hh,selectors:[["app-about"]],decls:21,vars:5,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","disableSanitizer","load"],[1,"version"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(t,r){1&t&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"About"),B(),j(4,"ion-buttons",0),Ve(5,"app-pwa-prompt"),B()()(),j(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Se(10,"About"),B()()(),Wt(11,vq,2,0,"div",3),j(12,"div",4)(13,"markdown",5),Fe("load",function(){return r.loading=!1}),B()(),j(14,"div",6),Se(15),Ve(16,"br"),j(17,"a",7),Fe("click",function(){return r.showChangelog()}),Se(18,"Changelog"),B(),Wt(19,yq,4,0),B(),Ve(20,"img",8),B()),2&t&&(pe(11),Ce("ngIf",r.loading),pe(2),Ce("src",r.url)("disableSanitizer",!0),pe(2),li(" CloudpilotEmu version ",r.version," "),pe(4),dI(19,r.serviceWorkerAvailable?19:-1))},dependencies:[ko,Bi,Vi,ji,eh,Ui,Hi,Z_,F0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),ne([Nn()],gS.prototype,"resetWorker",null);let MP=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Rr.portrait,"Portrait"],[Rr.landscape90,"Landscape 90\xb0"],[Rr.landscape270,"Landscape 270\xb0"],[Rr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,QR(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function K7(e){switch(e){case Q.palmPilot:case Q.pilot:case Q.iii:case Q.palmVII:case Q.palmVx:case Q.palmV:case Q.palmVIIEZ:case Q.palmVIIx:case Q.iiic:case Q.iiix:case Q.iiixe:case Q.iiie:case Q.m100:case Q.m105:case Q.pegS300:case Q.pegS500c:return 16;case Q.m500:case Q.m505:case Q.m515:case Q.m520:case Q.m125:case Q.m130:case Q.i705:case Q.i710:case Q.handera330:case Q.handera330c:case Q.pegS320:case Q.pegT400:case Q.pegN600c:case Q.pegT600c:case Q.pegN700c:case Q.acerS11:return 33;case Q.pegT650c:case Q.pegNR70:case Q.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new g_({name:new bo(this.session.name,{validators:[Vp.required,this.validateNameUnique]}),manageHotsyncName:new bo(!this.session.dontManageHotsyncName),hotsyncName:new bo(this.session.hotsyncName||""),device:new bo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new bo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new bo(this.session.deviceOrientation||Rr.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Gl),_(ro))},e.\u0275cmp=We({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Session settings"),B(),j(4,"ion-buttons",0)(5,"ion-button",1),Fe("click",function(){return o.save()}),Se(6,"Save"),B()(),j(7,"ion-buttons",2)(8,"ion-button",3),Fe("click",function(){return o.onCancel()}),Se(9,"Cancel"),B()()()(),j(10,"ion-content",4)(11,"form",5),Fe("keydown.enter",function(){return o.onEnter()}),j(12,"h1"),Se(13,"Session"),B(),j(14,"ion-item",6)(15,"ion-label",7),Se(16,"Session name"),B(),Ve(17,"ion-input",8),B(),j(18,"h1"),Se(19,"Device"),B(),j(20,"ion-item",6)(21,"ion-label",7),Se(22,"Device type"),B(),j(23,"ion-select",9),Wt(24,bq,2,2,"ion-select-option",10),B()(),j(25,"ion-item",6)(26,"ion-label",7),Se(27,"Orientation"),B(),j(28,"ion-select",11),Wt(29,Cq,2,2,"ion-select-option",10),B()(),j(30,"ion-item",6)(31,"ion-label",12),Se(32),B(),j(33,"ion-range",13),Fe("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),B()(),j(34,"h1"),Se(35,"Hotsync"),B(),j(36,"ion-item",6)(37,"ion-label"),Se(38,"Manage hotsync name"),B(),Ve(39,"ion-toggle",14),B(),Wt(40,Sq,4,1,"ion-item",15),B()()),2&n&&(pe(5),Ce("disabled",o.formGroup.invalid),pe(6),Ce("formGroup",o.formGroup),pe(13),Ce("ngForOf",o.deviceList),pe(5),Ce("ngForOf",o.orientations),pe(3),Ri(o.speedLabel),pe(8),Ce("ngIf",o.showHotsyncNameInput))},dependencies:[Ml,ko,$i,Bi,Vi,ji,Fl,Co,Gi,I0,Qp,Jp,Ui,th,Hi,Hd,Xp,Nl,Ol,Rl,Pl,y0,ya,nl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),wq=(()=>{var e;class t{constructor(n,o,i,s,a,l,c){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(n){var o=this;return(0,$.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,$.Z)(function*(p){for(p.Init(n);p.IsInProgress();){const m=p.GetCurrentDatabase();p.Save()||a.push(m),yield new Promise(y=>setTimeout(y,0))}l=c.getArchive(p)});return function(p){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${cS(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(hP(i,n),l)},"Cancel"):o.fileService.saveFile(hP(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Sa),ae(qs),ae(fh),ae(Tc),ae(Vl),ae(ro),ae(Ca))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Eq=window.AudioContext||window.webkitAudioContext;function _S(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class Dq{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,$.Z)(function*(){for(let n=0;n<3;n++)if(yield r.initializeAudioUnguarded())return!1;return!0})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,$.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield _S(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield _S(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,$.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new ba,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),So||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||So||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}initializeAudioUnguarded(){var t=this;return(0,$.Z)(function*(){if(t.initialized)return!0;try{t.context=new Eq}catch(r){return console.error(r),console.error("web audio not available"),!1}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),console.error("failed to initialize audio context"),!1}return t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0,!0})()}start(){var t=this;return(0,$.Z)(function*(){t.context&&(yield _S(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let vS=(()=>{var e;class t extends Dq{constructor(n,o,i,s){super(n),this.kvs=o,this.modalWatcher=i,this.featureService=s,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Sa),ae(Di),ae(Q0),ae(fS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),kP=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Sa),ae(He))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function xq(e,t){if(1&e){const r=Sn();j(0,"ion-item",4),Fe("click",function(){return It(r),xt(st().power())}),j(1,"ion-label"),Se(2,"Power"),B(),Ve(3,"ion-icon",5),B()}if(2&e){const r=st();Ce("detail",!1)("disabled",!r.emulationService.isRunning())}}function Tq(e,t){if(1&e){const r=Sn();j(0,"ion-item",4),Fe("click",function(){return It(r),xt(st().hotsync())}),j(1,"ion-label"),Se(2,"Hotsync"),B(),Ve(3,"ion-icon",6),B()}if(2&e){const r=st();Ce("detail",!1)("disabled",!r.emulationService.isRunning())}}function Mq(e,t){if(1&e){const r=Sn();j(0,"ion-item",4),Fe("click",function(){return It(r),xt(st().reset())}),j(1,"ion-label"),Se(2,"Reset"),B(),Ve(3,"ion-icon",7),B()}if(2&e){const r=st();Ce("detail",!1)("disabled",!r.emulationService.isRunning())}}function Aq(e,t){if(1&e){const r=Sn();j(0,"ion-item",8),Fe("click",function(){return It(r),xt(st().insertCard())}),j(1,"ion-label"),Se(2),B(),Ve(3,"ion-icon",9),B()}if(2&e){const r=st();Ce("detail",!1),pe(2),li("Insert ",r.hasMemorystick?"stick":"SD card","")}}function kq(e,t){if(1&e){const r=Sn();j(0,"ion-item",8),Fe("click",function(){return It(r),xt(st().ejectCard())}),j(1,"ion-label"),Se(2),B(),Ve(3,"ion-icon",10),B()}if(2&e){const r=st();Ce("detail",!1),pe(2),li("Eject ",r.hasMemorystick?"stick":"SD card","")}}function Rq(e,t){if(1&e){const r=Sn();j(0,"ion-item",8),Fe("click",function(){return It(r),xt(st().mute(!1))}),j(1,"ion-label"),Se(2,"Enable audio"),B(),Ve(3,"ion-icon",11),B()}2&e&&Ce("detail",!1)}function Pq(e,t){if(1&e){const r=Sn();j(0,"ion-item",8),Fe("click",function(){return It(r),xt(st().mute(!0))}),j(1,"ion-label"),Se(2,"Disable audio"),B(),Ve(3,"ion-icon",12),B()}2&e&&Ce("detail",!1)}function Oq(e,t){if(1&e){const r=Sn();j(0,"ion-item",4),Fe("click",function(){return It(r),xt(st().backup())}),j(1,"ion-label"),Se(2,"Save backup"),B(),Ve(3,"ion-icon",13),B()}if(2&e){const r=st();Ce("detail",!1)("disabled",r.backupDisabled)}}function Nq(e,t){if(1&e){const r=Sn();j(0,"ion-item",8),Fe("click",function(){return It(r),xt(st().rotate())}),j(1,"ion-label"),Se(2,"Rotate"),B(),Ve(3,"ion-icon",14),B()}2&e&&Ce("detail",!1)}function Fq(e,t){if(1&e){const r=Sn();j(0,"ion-item",8),Fe("click",function(){return It(r),xt(st().editSettings())}),j(1,"ion-label"),Se(2,"Settings"),B(),Ve(3,"ion-icon",15),B()}2&e&&Ce("detail",!1)}function Lq(e){switch(e){case Rr.portrait:case void 0:return Rr.landscape90;case Rr.landscape90:return Rr.portrait180;case Rr.portrait180:return Rr.landscape270;case Rr.landscape270:return Rr.portrait;default:throw new Error("cannot happen")}}let $q=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f,p,m,y,H,J,_e,we,Re,_t,gt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=f,this.modalController=p,this.sessionService=m,this.performanceWatchdogService=y,this.canvasDisplayService=H,this.cloudpilotService=J,this.storageCardService=_e,this.alertService=we,this.alertController=Re,this.storageService=_t,this.errorService=gt,this.showHelp=()=>{}}reset(){var n=this;return(0,$.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,$.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function Y7(e){switch(e){case Q.i705:case Q.i710:case Q.pegNR70:case Q.pegT650c:case Q.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&JR(n.device)!==Kd.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&JR(n.device)===Kd.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,$.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:MP,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,$.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,$.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:Lq(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,$.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,$.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Sa),_(Vl),_(wq),_(dP),_(rh),_(Ll),_(vS),_(Di),_(ls),_(Gl),_(kP),_(W_),_(Ca),_(Jd),_(ro),_(T0),_(Xn),_(mu))},e.\u0275cmp=We({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list"),Wt(1,xq,4,2,"ion-item",0)(2,Tq,4,2,"ion-item",0)(3,Mq,4,2,"ion-item",0)(4,Aq,4,2,"ion-item",1)(5,kq,4,2,"ion-item",1)(6,Rq,4,1,"ion-item",1)(7,Pq,4,1,"ion-item",1)(8,Oq,4,2,"ion-item",0)(9,Nq,4,1,"ion-item",1)(10,Fq,4,1,"ion-item",1),j(11,"ion-item",2),Fe("click",function(){return o.help()}),j(12,"ion-label"),Se(13,"Help"),B(),Ve(14,"ion-icon",3),B()()),2&n&&(pe(1),Ce("ngIf",o.hasActiveSession&&!o.powerDisabled),pe(1),Ce("ngIf",o.hasActiveSession),pe(1),Ce("ngIf",o.hasActiveSession),pe(1),Ce("ngIf",o.supportsStorageCard&&!o.hasMountedCard),pe(1),Ce("ngIf",o.supportsStorageCard&&o.hasMountedCard),pe(1),Ce("ngIf",o.isMuted&&!o.isAudioOff),pe(1),Ce("ngIf",!o.isMuted&&!o.isAudioOff),pe(1),Ce("ngIf",o.hasActiveSession),pe(1),Ce("ngIf",o.hasActiveSession),pe(1),Ce("ngIf",o.hasActiveSession),pe(1),Ce("detail",!1))},dependencies:[ko,Vo,Co,Gi,Ms]}),t})();const Bq=C.p+"assets/doc/emulation-43714ce6b9b92f30.md";function Vq(e,t){if(1&e){const r=Sn();j(0,"ion-item",2),Fe("click",function(){const i=It(r).$implicit;return xt(st(2).onSelect(i))}),j(1,"div",3),Se(2),B()()}if(2&e){const r=t.$implicit,n=t.index,o=st(2);Ce("detail",!1)("lines",n===o.sessions.length-1?"none":"full"),pe(2),Ri(r.name)}}function jq(e,t){if(1&e&&(j(0,"ion-list"),Wt(1,Vq,3,3,"ion-item",1),B()),2&e){const r=st();pe(1),Ce("ngForOf",r.sessions)}}let Gq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[1,"text-wrapper"]],template:function(n,o){1&n&&Wt(0,jq,2,1,"ion-list",0),2&n&&Ce("ngIf",o.sessions)},dependencies:[Ml,ko,Co,Ms],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}),t})();class Uq{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(c);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let Hq=(()=>{var e;class t extends Uq{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Sa),ae(W_),ae(Q0),ae(He),ae(ha))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function RP(e){return/\.(prc|pdb|pqa)$/i.test(e)}class Kq{constructor(t,r,n,o,i){this.cloudpilotService=t,this.fstools=r,this.alertService=n,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,$.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else RP(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,$.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function qq(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,$.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!RP(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function Zq(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,r,"Skip any remaining errors",!1,{},"Continue").then(n=>{this.skipErrors=n})}}let Yq=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(n){var o=this;return(0,$.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new Kq(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(p=>!!p).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${cS(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${cS(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Ca),ae(Sa),ae(qs),ae(fh),ae(ro),ae(G_))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),yS=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Xq(e,t){1&e&&Ve(0,"div",2)}const Qq=["*"];let Jq=0,PP=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new en,this.triggerId="breadcrumb-trigger-"+Jq++}handleClick(n){this.disabled||(n.preventDefault(),this.trigger.emit(this.triggerId))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(n,o){1&n&&Fe("click",function(s){return o.handleClick(s)}),2&n&&(Es("id",o.triggerId),Us("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},ngContentSelectors:Qq,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(n,o){1&n&&(mt(),j(0,"div",0),ht(1),B(),Wt(2,Xq,1,0,"div",1)),2&n&&(pe(2),Ce("ngIf",!o.disabled))},dependencies:[ko],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),t})();var mh;const eK=["canvas"];function tK(e,t){1&e&&Ve(0,"div",11),2&e&&Zc("width",st().iosPlaceholderWidth)}function nK(e,t){if(1&e){const r=Sn();j(0,"ion-button",12),Fe("click",function(){return It(r),xt(st().navigation.lock())}),Ve(1,"ion-icon",13),B()}}function rK(e,t){if(1&e){const r=Sn();j(0,"ion-button",12),Fe("click",function(){return It(r),xt(st().navigation.unlock())}),Ve(1,"ion-icon",14),B()}}function oK(e,t){if(1&e){const r=Sn();j(0,"ion-button",12),Fe("click",function(o){return It(r),xt(st().openContextMenu(o))}),Ve(1,"ion-icon",15),B()}}function iK(e,t){if(1&e){const r=Sn();j(0,"ion-button",12),Fe("click",function(){return It(r),xt(st().showGameModeHint())}),Ve(1,"ion-icon",16),B()}}function sK(e,t){if(1&e){const r=Sn();j(0,"ion-button",12),Fe("click",function(){return It(r),xt(st().showProxyConnectedHint())}),Ve(1,"ion-icon",17),B()}}function aK(e,t){if(1&e){const r=Sn();j(0,"ion-button",12),Fe("click",function(){return It(r),xt(st().showSlowdowndHint())}),Ve(1,"ion-icon",18),B()}}function lK(e,t){if(1&e){const r=Sn();j(0,"ion-button",12),Fe("click",function(o){return It(r),xt(st().openContextMenu(o))}),Ve(1,"ion-icon",15),B()}}function cK(e,t){if(1&e){const r=Sn();j(0,"div",19),Se(1," The device was reset forcefully. How do you want to boot? "),j(2,"ion-button",20),Fe("click",function(){return It(r),xt(st().bootAfterForcefulReset())}),Se(3,"Normal boot"),B(),j(4,"ion-button",20),Fe("click",function(){return It(r),xt(st().bootAfterForcefulResetNoExtensions())}),Se(5,"No extensions"),B(),j(6,"ion-button",20),Fe("click",function(){return It(r),xt(st().bootAfterForcefulResetHardReset())}),Se(7,"Hard reset"),B()()}}function uK(e,t){1&e&&(j(0,"div",19)(1,"div"),Se(2,"No session selected"),B()())}class wa{constructor(t,r,n,o,i,s,a,l,c,f,p,m,y,H,J,_e,we,Re,_t,gt,qt){var Tt=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=f,this.snapshotService=p,this.installlationService=m,this.networkService=y,this.navigation=H,this.linkApi=J,this.performanceWatchdogService=_e,this.cloudpilotService=we,this.dragDropService=Re,this.sessionService=_t,this.loadingController=gt,this.config=qt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,$.Z)(function*(){yield Tt.emulationService.bootstrapComplete(),Tt.bootstrapComplete=!0;const ir=Tt.emulationState.getCurrentSession();ir&&!ir.wasResetForcefully&&(yield Tt.launchEmulator()),Tt.linkApi.installation.requestEvent.addHandler(Tt.handleLinkApiInstallationRequest),Tt.handleLinkApiInstallationRequest(),Tt.dragDropService.registerClient(Tt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=ir=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(ir,this.emulationService.getStatistics())},this.onNewFrame=ir=>{this.canvasDisplayService.updateEmulationCanvas(ir)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const ir=this.linkApi.installation.receivePendingUrl();ir&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${ir} ?`,{OK:()=>this.fileService.openUrl(ir,Da=>this.installlationService.installFiles([Da]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${ir} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new ba}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t,r="trigger"){var n=this;return(0,$.Z)(function*(){(yield n.popoverController.create({component:$q,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,$.Z)(function*(){yield(yield t.modalController.create({component:_u,componentProps:{url:Bq}})).present()})()}showGameModeHint(){var t=this;return(0,$.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,$.Z)(function*(){yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,$.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,$.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,$.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,$.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.networkService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var r=this;return(0,$.Z)(function*(){(yield r.popoverController.create({component:Gq,componentProps:{sessions:r.sessionService.getSessions().filter(o=>o.id!==r.emulationState.getCurrentSession()?.id),onSelect:o=>r.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.getSessions()}get currentSession(){return this.emulationState.getCurrentSession()}clearForcefulReset(){var t=this;return(0,$.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.getCurrentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,$.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var r=this;return(0,$.Z)(function*(){const n=yield r.loadingController.create();yield n.present();try{if(r.lastTitle=r.title,r.switching=!0,yield r.emulationService.pause(),!(yield r.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield r.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield r.launchEmulator())}finally{n.dismiss(),r.switching=!1}})()}}(mh=wa).\u0275fac=function(t){return new(t||mh)(_(Sa),_(Vl),_(Xn),_(Hq),_(W_),_(Di),_(Ll),_(ls),_(ro),_(Tc),_(fh),_(Yq),_(uP),_(mS),_(pC),_(kP),_(Ca),_(yS),_(Gl),_(qs),_(Wp))},mh.\u0275cmp=We({type:mh,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&cc(eK,5),2&t){let n;Is(n=xs())&&(r.canvasRef=n.first)}},decls:23,vars:23,consts:[[3,"disabled","trigger"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",0),Fe("trigger",function(o){return r.onBreadcrumbTrigger(o)}),Wt(4,tK,1,2,"div",1),Se(5),B()(),j(6,"ion-buttons",2)(7,"ion-button",3),Fe("click",function(){return r.installFiles()}),Ve(8,"ion-icon",4),B(),Wt(9,nK,2,0,"ion-button",5)(10,rK,2,0,"ion-button",5),B(),j(11,"ion-buttons",6),Wt(12,oK,2,0,"ion-button",5)(13,iK,2,0,"ion-button",5)(14,sK,2,0,"ion-button",5)(15,aK,2,0,"ion-button",5)(16,lK,2,0,"ion-button",5),B()()(),j(17,"ion-content",7),Fe("contextmenu",function(o){return r.onContextMenu(o)}),j(18,"div",8),Fe("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),Ve(19,"canvas",null,9),B(),Wt(21,cK,8,0,"div",10)(22,uK,3,0,"div",10),B()),2&t){let n,o;pe(3),Ce("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.currentSession||0===r.sessions.length),pe(1),Ce("ngIf","ios"===r.config.get("mode")),pe(1),li(" ",r.title,""),pe(2),Ce("disabled",r.installFileDisabled),pe(2),Ce("ngIf",!r.navigation.isLocked()),pe(1),Ce("ngIf",r.navigation.isLocked()),pe(2),Ce("ngIf","ios"===r.config.get("mode")),pe(1),Ce("ngIf",r.eventHandlingService.isGameMode()),pe(1),Ce("ngIf",r.networkService.isConnected()),pe(1),Ce("ngIf",r.performanceWatchdogService.isSlowdownDetected()),pe(1),Ce("ngIf","ios"!==r.config.get("mode")),pe(1),Us("locked",r.navigation.isLocked()),pe(1),Zc("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),pe(1),Zc("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),pe(2),Ce("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),pe(1),Ce("ngIf",!r.emulationState.getCurrentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[ko,$i,Bi,Vi,ji,Vo,Ui,Hi,PP],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),ne([Nn()],wa.prototype,"openContextMenu",null),ne([Nn()],wa.prototype,"showHelp",null),ne([Nn()],wa.prototype,"showGameModeHint",null),ne([Nn()],wa.prototype,"showProxyConnectedHint",null),ne([Nn()],wa.prototype,"showSlowdowndHint",null),ne([Nn()],wa.prototype,"bootAfterForcefulReset",null),ne([Nn()],wa.prototype,"bootAfterForcefulResetNoExtensions",null),ne([Nn()],wa.prototype,"bootAfterForcefulResetHardReset",null),ne([Nn()],wa.prototype,"onBreadcrumbTrigger",null);const OP="reduced-animations",dK=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,E0.c)()),fK=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,E0.c)()},pK=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,E0.c)()};function NP(e){V0(OP,e?"1":"0")}function FP(){return"1"===(PR(OP)??"0")}const mK=C.p+"assets/doc/settings-2a27b0ba9938d4bf.md";function gK(e,t){1&e&&(j(0,"ion-item",7)(1,"ion-label"),Se(2,"Run when hidden"),B(),Ve(3,"ion-toggle",17),B())}function _K(e,t){1&e&&(j(0,"ion-item",7)(1,"ion-label"),Se(2,"Clipboard integration"),B(),Ve(3,"ion-toggle",18),B())}function vK(e,t){if(1&e&&(j(0,"ion-select-option",21),Se(1),B()),2&e){const r=t.$implicit;Ce("value",r[0]),pe(1),li("",r[1]," ")}}function yK(e,t){if(1&e&&(j(0,"ion-item",7)(1,"ion-select",19),Wt(2,vK,2,2,"ion-select-option",20),B()()),2&e){const r=st();pe(2),Ce("ngForOf",r.networkRedirectionModes)}}function bK(e,t){if(1&e){const r=Sn();j(0,"ion-item",7)(1,"ion-label",22),Se(2,"Proxy server"),B(),j(3,"div",23),Ve(4,"ion-input",24),j(5,"ion-button",25),Fe("click",function(o){It(r);const i=st();return o.preventDefault(),o.stopPropagation(),xt(i.testProxyConnection())})("touchstart",function(o){It(r);const i=st();return o.preventDefault(),o.stopPropagation(),xt(i.testProxyConnection())}),Se(6," Test "),B()()()}if(2&e){const r=st();pe(5),Ce("disabled",!r.proxyServerValid)}}function CK(e,t){if(1&e&&(j(0,"ion-item",7)(1,"ion-select",26)(2,"ion-select-option",21),Se(3,"Off"),B(),j(4,"ion-select-option",21),Se(5,"Portrait"),B(),j(6,"ion-select-option",21),Se(7,"Landscape"),B(),j(8,"ion-select-option",21),Se(9,"Always"),B()()()),2&e){const r=st();pe(2),Ce("value",r.indicatorFixNone),pe(2),Ce("value",r.indicatorFixPortrait),pe(2),Ce("value",r.indicatorFixLandscape),pe(2),Ce("value",r.indicatorFixAll)}}function SK(e,t){1&e&&(Kc(0),j(1,"h1"),Se(2,"Debug"),B(),j(3,"ion-item",7)(4,"ion-label"),Se(5,"Snapshot validation (slow)"),B(),Ve(6,"ion-toggle",27),B(),Yc())}let wK=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.networkBackendFactory=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,So&&$l?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.onReducedAnimationsChange=c=>{NP(c),this.alertService.message("Reduce animations",c?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on older iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                CloudpilotEmu reloads.\n            ":"\n                This option will only take effect the next time CloudpilotEmu reloads.\n            ")},this.networkRedirectionModes=[["native","Native"],["proxy","Proxy"]],this.onIndicatorFixModeChange=c=>EP(c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,$.Z)(function*(){yield(yield n.modalController.create({component:_u,componentProps:{url:mK}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,$.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&"proxy"===n.formGroup.get("networkRedirectionMode")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,networkRedirectionMode:n.featureService.nativeNetworkIntegration?n.formGroup.get("networkRedirectionMode")?.value??"proxy":"proxy",proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),NP(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,$.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.networkBackendFactory.createBackendProxy(n.formGroup.get("proxyServer")?.value).handshake(0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value&&"native"!==this.formGroup.get("networkRedirectionMode")?.value}get showRedirectionMode(){return this.formGroup.get("networkRedirection")?.value&&this.featureService.nativeNetworkIntegration}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return Ks.debug}get isIndicatorFixApplicable(){return dS()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new g_({volume:new bo(this.kvsService.kvs.volume),showStatistics:new bo(this.kvsService.kvs.showStatistics),runHidden:new bo(this.kvsService.kvs.runHidden),clipboardIntegration:new bo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new bo(this.kvsService.kvs.networkRedirection),networkRedirectionMode:new bo(this.kvsService.kvs.networkRedirectionMode),proxyServer:new bo(this.kvsService.kvs.proxyServer,{validators:[vZ]}),autoLockUI:new bo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new bo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new bo(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new bo(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new bo(FP()),indicatorFixMode:new bo(wP())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(_(ls),_(Di),_(eS),_(ro),_(cP),_(fS))},e.\u0275cmp=We({type:e,selectors:[["app-settings"]],decls:55,vars:7,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","runHidden"],["formControlName","clipboardIntegration"],["formControlName","networkRedirectionMode","label","Redirection method",1,"redirection-mode-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Settings"),B(),j(4,"ion-buttons",0)(5,"ion-button",1),Fe("click",function(){return o.showHelp()}),Ve(6,"ion-icon",2),B(),Ve(7,"app-pwa-prompt"),B()()(),j(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Se(12,"Settings"),B()()(),j(13,"div",5)(14,"form",6)(15,"h1"),Se(16,"Emulation"),B(),j(17,"ion-item",7)(18,"ion-label"),Se(19,"Volume"),B(),Ve(20,"ion-range",8),B(),j(21,"ion-item",7)(22,"ion-label"),Se(23,"Enable audio on start"),B(),Ve(24,"ion-toggle",9),B(),Wt(25,gK,4,0,"ion-item",10),j(26,"h1"),Se(27,"Host integration"),B(),Wt(28,_K,4,0,"ion-item",10),j(29,"ion-item",7)(30,"ion-label"),Se(31,"Network redirection"),B(),Ve(32,"ion-toggle",11),B(),Wt(33,yK,3,1,"ion-item",10)(34,bK,7,1,"ion-item",10),j(35,"h1"),Se(36,"User interface"),B(),j(37,"ion-item",7)(38,"ion-label"),Se(39,"Auto-lock UI"),B(),Ve(40,"ion-toggle",12),B(),j(41,"ion-item",7)(42,"ion-label"),Se(43,"Reduce animations"),B(),Ve(44,"ion-toggle",13),B(),j(45,"ion-item",7)(46,"ion-label"),Se(47,"Show statistics"),B(),Ve(48,"ion-toggle",14),B(),j(49,"ion-item",7)(50,"ion-label"),Se(51,"Open from remote sources"),B(),Ve(52,"ion-toggle",15),B(),Wt(53,CK,10,4,"ion-item",10)(54,SK,7,0,"ng-container",16),B()()()),2&n&&(pe(14),Ce("formGroup",o.formGroup),pe(11),Ce("ngIf",o.featureRunHidden),pe(3),Ce("ngIf",o.clipboardService.isSupported()),pe(5),Ce("ngIf",o.showRedirectionMode),pe(1),Ce("ngIf",o.showProxyServer),pe(19),Ce("ngIf",o.isIndicatorFixApplicable),pe(1),Ce("ngIf",o.showDebugOptions))},dependencies:[Ml,ko,Ol,Rl,Pl,$i,Bi,Vi,ji,Vo,Fl,Co,Gi,I0,Qp,Jp,Ui,th,Hi,Hd,Xp,Nl,Z_,ya,nl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}"]}),t})(),bS=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=xo({name:"cardSize",type:e,pure:!0}),t})();function EK(e,t){1&e&&(j(0,"div",13)(1,"b"),Se(2,"WARNING:"),B(),Se(3," This image cannot be used as a memory stick image."),B())}let LP=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Sc({name:new as("",{nonNullable:!0,validators:[Vp.required,this.validateNameUnique]}),size:new as({value:"dummy",disabled:!0}),checkAutomatically:new as(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Jd))},e.\u0275cmp=We({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3),B(),j(4,"ion-buttons",0)(5,"ion-button",1),Fe("click",function(){return o.save()}),Se(6,"Save"),B()(),j(7,"ion-buttons",2)(8,"ion-button",3),Fe("click",function(){return o.onCancel()}),Se(9,"Cancel"),B()()()(),j(10,"ion-content",4)(11,"form",5),Fe("keydown.enter",function(){return o.onEnter()}),j(12,"ion-item",6)(13,"ion-label",7),Se(14,"Card name"),B(),Ve(15,"ion-input",8),B(),j(16,"ion-item",6)(17,"ion-label",7),Se(18,"Card size"),B(),j(19,"ion-select",9)(20,"ion-select-option",10),Se(21),Za(22,"cardSize"),B()()(),j(23,"ion-item",6)(24,"ion-label"),Se(25,"Check for errors automatically"),B(),Ve(26,"ion-toggle",11),B()(),Wt(27,EK,4,0,"div",12),B()),2&n&&(pe(3),Ri(o.newCard?"New memory card":"Edit memory card"),pe(2),Ce("disabled",o.formGroup.invalid),pe(6),Ce("formGroup",o.formGroup),pe(10),li("",qa(22,5,null==o.card?null:o.card.size)," "),pe(6),Ce("ngIf",!o.memoryStickSupported))},dependencies:[ko,$i,Bi,Vi,ji,Fl,Co,Gi,Qp,Jp,Ui,th,Hi,Hd,Xp,Nl,Ol,Rl,Pl,ya,nl,bS],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function DK(e,t){if(1&e&&(j(0,"ion-select-option",12),Se(1),Za(2,"cardSize"),B()),2&e){const r=t.$implicit,n=st();Ce("value",r),pe(1),li("",qa(2,2,n.sizeBytes(r))," ")}}const IK=[jo.mb4,jo.mb8,jo.mb16,jo.mb32,jo.mb64,jo.mb128];let xK=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Sc({name:new as("",{nonNullable:!0,validators:[Vp.required,this.validateNameUnique]}),size:new as(jo.mb32,{nonNullable:!0}),checkAutomatically:new as(!0,{nonNullable:!0})})}get sizes(){return IK}sizeBytes(n){return function WZ(e){switch(e){case jo.mb4:return 4046848;case jo.mb8:return 8110080;case jo.mb16:return 16220160;case jo.mb32:return 32473088;case jo.mb64:return 64978944;case jo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Jd))},e.\u0275cmp=We({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"New memory card"),B(),j(4,"ion-buttons",0)(5,"ion-button",1),Fe("click",function(){return o.create()}),Se(6,"Create"),B()(),j(7,"ion-buttons",2)(8,"ion-button",3),Fe("click",function(){return o.onCancel()}),Se(9,"Cancel"),B()()()(),j(10,"ion-content",4)(11,"form",5),Fe("keydown.enter",function(){return o.onEnter()}),j(12,"ion-item",6)(13,"ion-label",7),Se(14,"Card name"),B(),Ve(15,"ion-input",8),B(),j(16,"ion-item",6)(17,"ion-label",7),Se(18,"Card size"),B(),j(19,"ion-select",9),Wt(20,DK,3,4,"ion-select-option",10),B()(),j(21,"ion-item",6)(22,"ion-label"),Se(23,"Check for errors automatically"),B(),Ve(24,"ion-toggle",11),B()()()),2&n&&(pe(5),Ce("disabled",o.formGroup.invalid),pe(6),Ce("formGroup",o.formGroup),pe(9),Ce("ngForOf",o.sizes))},dependencies:[Ml,$i,Bi,Vi,ji,Fl,Co,Gi,Qp,Jp,Ui,th,Hi,Hd,Xp,Nl,Ol,Rl,Pl,ya,nl,bS]}),t})();function Mc(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const TK=C.p+"assets/doc/cards-75195154c07dfe52.md";let MK=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Fe("click",function(){return null==o.onExport?null:o.onExport()}),Ve(2,"ion-icon",1),Se(3," Export "),B(),j(4,"ion-item",0),Fe("click",function(){return null==o.onDelete?null:o.onDelete()}),Ve(5,"ion-icon",2),Se(6," Delete "),B(),j(7,"ion-item",3),Fe("click",function(){return null==o.onHelp?null:o.onHelp()}),Ve(8,"ion-icon",4),Se(9," Help "),B()()),2&n&&(pe(1),Ce("detail",!1)("disabled",0===o.cardCount),pe(3),Ce("detail",!1)("disabled",0===o.cardCount),pe(3),Ce("detail",!1))},dependencies:[Vo,Co,Ms]}),t})(),AK=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Fe("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Se(3," Edit "),B(),j(4,"ion-item",0),Fe("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Se(6," Export "),B(),j(7,"ion-item",0),Fe("click",function(){return o.onCheck()}),Ve(8,"ion-icon",3),Se(9," Check "),B(),j(10,"ion-item",4),Fe("click",function(){return o.onDelete()}),Ve(11,"ion-icon",5),Se(12," Delete "),B()()),2&n&&(pe(1),Ce("detail",!1),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1))},dependencies:[Vo,Co,Ms]}),t})();function kK(e,t){1&e&&Ve(0,"ion-icon",15)}function RK(e,t){1&e&&Ve(0,"ion-icon",16)}let PK=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new en,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new en,this.edit=new en,this.check=new en,this.delete=new en,this.save=new en,this.checkSessions=Mc(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,$.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:AK,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case _r.dirty:return"needs check";case _r.clean:return"no errors";case _r.unformatted:return"no filesystem";case _r.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Jd),_(Ll),_(Gl),_(at))},e.\u0275cmp=We({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Sn();j(0,"ion-item-sliding",0,1),Fe("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),j(2,"ion-item-options",2)(3,"ion-item-option",3),Fe("click",function(){return It(i),Ds(1).close(),xt(o.edit.emit(o.card))}),Ve(4,"ion-icon",4),B(),j(5,"ion-item-option",5),Fe("click",function(){return It(i),Ds(1).close(),xt(o.save.emit(o.card))}),Ve(6,"ion-icon",6),B()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),Fe("click",function(){return It(i),Ds(1).close(),xt(o.check.emit(o.card))}),Ve(9,"ion-icon",9),B(),j(10,"ion-item-option",10),Fe("click",function(){return It(i),Ds(1).close(),xt(o.delete.emit(o.card))}),Ve(11,"ion-icon",11),B()(),j(12,"ion-item",12),Fe("click",function(){return o.selectCard.emit(),o.interaction.emit()}),j(13,"ion-label")(14,"h2"),Se(15),B(),j(16,"p"),Se(17),Za(18,"cardSize"),B()(),Wt(19,kK,1,0,"ion-icon",13)(20,RK,1,0,"ion-icon",14),B()()}2&n&&(pe(12),Ce("color",o.color),pe(1),Us("selecting",o.selecting),pe(2),Ri(null==o.card?null:o.card.name),pe(2),up("",qa(18,8,null==o.card?null:o.card.size),", ",o.status,""),pe(2),Ce("ngIf",o.selecting&&!o.selectedForExport),pe(1),Ce("ngIf",o.selecting&&o.selectedForExport))},dependencies:[ko,Vo,Co,w_,E_,D_,Gi,bS],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var gh;function OK(e,t){if(1&e){const r=Sn();j(0,"ion-toolbar")(1,"ion-title"),Se(2,"Memory cards"),B(),j(3,"ion-buttons",6)(4,"ion-button",7),Fe("click",function(){return It(r),xt(st().addCardImage())}),Ve(5,"ion-icon",8),B()(),j(6,"ion-buttons",9)(7,"ion-button",7),Fe("click",function(o){return It(r),xt(st().openActionMenu(o))}),Ve(8,"ion-icon",10),B(),Ve(9,"app-pwa-prompt"),B()()}}function NK(e,t){1&e&&(j(0,"ion-title"),Se(1,"Export"),B())}function FK(e,t){1&e&&(j(0,"ion-title"),Se(1,"Delete"),B())}function LK(e,t){if(1&e){const r=Sn();j(0,"ion-buttons",9)(1,"ion-button",7),Fe("click",function(){return It(r),xt(st(2).onSelectAll())}),Se(2,"Select all"),B()()}}function $K(e,t){if(1&e){const r=Sn();j(0,"ion-buttons",9)(1,"ion-button",7),Fe("click",function(){return It(r),xt(st(2).selection.clear())}),Se(2,"Clear"),B()()}}function BK(e,t){if(1&e){const r=Sn();j(0,"ion-toolbar"),Wt(1,NK,2,0,"ion-title",0)(2,FK,2,0,"ion-title",0),j(3,"ion-buttons",6)(4,"ion-button",7),Fe("click",function(){return It(r),xt(st().onSelectionDone())}),Se(5),B()(),Wt(6,LK,3,0,"ion-buttons",11)(7,$K,3,0,"ion-buttons",11),B()}if(2&e){const r=st();pe(1),Ce("ngIf","select-for-export"===r.mode),pe(1),Ce("ngIf","select-for-delete"===r.mode),pe(3),Ri(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),pe(1),Ce("ngIf",r.selection.size!==r.cards.length),pe(1),Ce("ngIf",r.selection.size===r.cards.length)}}function VK(e,t){1&e&&(j(0,"ion-title",12),Se(1,"Memory cards"),B())}function jK(e,t){1&e&&(j(0,"ion-title",12),Se(1,"Select for export"),B())}function GK(e,t){1&e&&(j(0,"ion-title",12),Se(1,"Select for delete"),B())}function UK(e,t){1&e&&(j(0,"div",13),Ve(1,"ion-spinner"),B())}function HK(e,t){1&e&&(j(0,"div",14)(1,"div",15),Se(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),B()())}function zK(e,t){if(1&e){const r=Sn();j(0,"app-storage-card",17),Fe("delete",function(){const i=It(r).$implicit;return xt(st(2).deleteCard(i))})("selectCard",function(){const i=It(r).$implicit,s=st(2);return xt("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=It(r).$implicit;return xt(st(2).editCard(i))})("check",function(){const i=It(r).$implicit;return xt(st(2).checkCard(i))})("interaction",function(){const i=It(r).$implicit;return xt(st(2).lastCardTouched=i.id)})("save",function(){const i=It(r).$implicit;return xt(st(2).saveCard(i))}),B()}if(2&e){const r=t.$implicit,n=st(2);Ce("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function WK(e,t){if(1&e&&(j(0,"ion-list"),Wt(1,zK,1,4,"app-storage-card",16),B()),2&e){const r=st();pe(1),Ce("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class al{constructor(t,r,n,o,i,s,a,l,c,f,p,m){var y=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=f,this.cd=m,this.handleCardImport=function(){var H=(0,$.Z)(function*(J){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(J.name))return void y.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(J.name.endsWith(".zip")){let gt=!1;return yield y.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>gt=!0},"Cancel"),void(gt&&(yield y.storageCardService.addAllCardsFromArchive(yield J.getContent())))}const _e=yield y.cloudpilotService.cloudpilot;let we;try{we=yield J.getContent()}catch(gt){return console.warn(gt),void(yield y.alertService.errorMessage(`Unable to open ${J.name}".`))}if(/\.gz$/.test(J.name)){const gt=yield y.loadingController.create({message:"Unpacking..."});yield gt.present();try{we=yield y.fstools.gunzip(we)}finally{yield gt.dismiss()}}const Re=we?_e.getCardSupportLevel(we.length):0;if(void 0===we||0===Re)return void y.alertService.errorMessage("This is not a supported card image.");const _t=yield new Promise(function(){var gt=(0,$.Z)(function*(qt){const Tt=yield y.modalController.create({component:LP,backdropDismiss:!1,componentProps:{card:{name:y.disambiguateName(J.name.replace(/\.gz$/,"")),size:we.length},cardSupportLevel:Re,newCard:!0,onCancel:()=>{Tt.dismiss(),qt(void 0)},onSave:ir=>{qt(ir),Tt.dismiss()}}});yield Tt.present()});return function(qt){return gt.apply(this,arguments)}}());_t&&(yield y.storageCardService.createCardFromImage(_t.name,we,!!_t.dontFsckAutomatically))});return function(J){return H.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=Mc(m,[],()=>this.storageCardService.getAllCards()),this.checkSessions=Mc(m,void 0,()=>p.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,$.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,$.Z)(function*(){yield(yield t.modalController.create({component:_u,componentProps:{url:TK}})).present()})()}browseCard(t){var r=this;return(0,$.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,$.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:LP,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,$.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,$.Z)(function*(){const n=`${Qd(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,$.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,$.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,$.Z)(function*(){const o=yield n.popoverController.create({component:MK,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,$.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,$.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,$.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,$.Z)(function*(){const r=yield t.modalController.create({component:xK,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,$.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return Xd(t,n=>r.some(o=>o.name===n))}}function ZK(e,t){1&e&&Ve(0,"ion-icon",8)}function qK(e,t){1&e&&Ve(0,"ion-icon",9)}function KK(e,t){1&e&&Ve(0,"ion-icon",10)}function YK(e,t){if(1&e){const r=Sn();j(0,"ion-item",2),Fe("click",function(){const i=It(r).index;return xt(st(2).onSelect(i))}),Kc(1,3),Wt(2,ZK,1,0,"ion-icon",4)(3,qK,1,0,"ion-icon",5)(4,KK,1,0,"ion-icon",6),Yc(),j(5,"div",7),Se(6),B()()}if(2&e){const r=t.$implicit,n=t.index,o=st(2);Ce("detail",!1)("lines",n===o.entries.length-1?"none":"full"),pe(1),Ce("ngSwitch",o.entries.length),pe(1),Ce("ngSwitchCase",n+1),pe(1),Ce("ngSwitchCase",n+2),pe(3),Ri(r)}}function XK(e,t){if(1&e&&(j(0,"ion-list"),Wt(1,YK,7,6,"ion-item",1),B()),2&e){const r=st();pe(1),Ce("ngForOf",r.entries)}}(gh=al).\u0275fac=function(t){return new(t||gh)(_(rh),_(Jd),_(ls),_(Ca),_(ro),_(mu),_(Tc),_(qs),_(G_),_(Ll),_(Gl),_(at))},gh.\u0275cmp=We({type:gh,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(j(0,"ion-header"),Wt(1,OK,10,0,"ion-toolbar",0)(2,BK,8,5,"ion-toolbar",0),B(),j(3,"ion-content",1),Fe("contextmenu",function(o){return r.onContextMenu(o)}),j(4,"ion-header",2)(5,"ion-toolbar"),Wt(6,VK,2,0,"ion-title",3)(7,jK,2,0,"ion-title",3)(8,GK,2,0,"ion-title",3),B()(),Wt(9,UK,2,0,"div",4)(10,HK,3,0,"div",5)(11,WK,2,2,"ion-list",0),B()),2&t&&(pe(1),Ce("ngIf","manage"===r.mode),pe(1),Ce("ngIf","manage"!==r.mode),pe(4),Ce("ngIf","manage"===r.mode),pe(1),Ce("ngIf","select-for-export"===r.mode),pe(1),Ce("ngIf","select-for-delete"===r.mode),pe(1),Ce("ngIf",r.storageCardService.isLoading()),pe(1),Ce("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),pe(1),Ce("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Ml,ko,$i,Bi,Vi,ji,Vo,Ms,eh,Ui,Hi,Z_,PK],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),ne([Nn()],al.prototype,"addCardImage",null),ne([Nn()],al.prototype,"browseCard",null),ne([Nn()],al.prototype,"editCard",null),ne([Nn()],al.prototype,"saveCard",null),ne([Nn()],al.prototype,"checkCard",null),ne([Nn()],al.prototype,"deleteCard",null),ne([Nn()],al.prototype,"onSelectionDone",null),ne([Nn()],al.prototype,"openActionMenu",null);let QK=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&Wt(0,XK,2,1,"ion-list",0),2&n&&Ce("ngIf",o.entries)},dependencies:[Ml,ko,Fg,MT,AT,Vo,Co,Ms],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}),t})(),JK=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(_(bu))},e.\u0275cmp=We({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Fe("click",function(){return o.onStartSelection()}),Ve(2,"ion-icon",1),Se(3," Start selection "),B(),j(4,"ion-item",2),Fe("click",function(){return o.onAddFiles()}),Ve(5,"ion-icon",3),Se(6," Add files "),B(),j(7,"ion-item",2),Fe("click",function(){return o.onCreateDirectry()}),Ve(8,"ion-icon",4),Se(9," Add directory "),B(),j(10,"ion-item",2),Fe("click",function(){return o.onExtractZipfile()}),Ve(11,"ion-icon",5),Se(12," Extract zip "),B(),j(13,"ion-item",0),Fe("click",function(){return o.onPaste()}),Ve(14,"ion-icon",6),Se(15," Paste "),B(),j(16,"ion-item",7),Fe("click",function(){return o.onHelp()}),Ve(17,"ion-icon",8),Se(18," Help "),B()()),2&n&&(pe(1),Ce("detail",!1)("disabled",o.emptyDirectory),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),pe(3),Ce("detail",!1))},dependencies:[Vo,Co,Ms]}),t})();var _h;class q_{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Sc({name:new as("",{nonNullable:!0,validators:[Vp.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new as(!1,{nonNullable:!0}),attrHidden:new as(!1,{nonNullable:!0}),attrSystem:new as(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,$.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,$.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,$.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(_h=q_).\u0275fac=function(t){return new(t||_h)(_(ls),_(bu))},_h.\u0275cmp=We({type:_h,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3),B(),j(4,"ion-buttons",0)(5,"ion-button",1),Fe("click",function(){return r.onSaveClick()}),Se(6,"Save"),B()(),j(7,"ion-buttons",2)(8,"ion-button",3),Fe("click",function(){return r.onCancelClick()}),Se(9,"Cancel"),B()()()(),j(10,"ion-content",4)(11,"form",5),Fe("keydown.enter",function(){return r.onEnter()}),j(12,"ion-item",6)(13,"ion-label",7),Se(14),B(),Ve(15,"ion-input",8),B(),j(16,"ion-item",6)(17,"h2"),Se(18,"Attributes"),B()(),j(19,"ion-item",6)(20,"ion-label"),Ve(21,"ion-icon",9),Se(22,"Readonly"),B(),Ve(23,"ion-checkbox",10),B(),j(24,"ion-item",6)(25,"ion-label"),Ve(26,"ion-icon",11),Se(27,"Hidden"),B(),Ve(28,"ion-checkbox",12),B(),j(29,"ion-item",6)(30,"ion-label"),Ve(31,"ion-icon",13),Se(32,"System"),B(),Ve(33,"ion-checkbox",14),B()()()),2&t&&(pe(3),li("Edit ",r.subjectName.toLowerCase(),""),pe(2),Ce("disabled",r.formGroup.invalid),pe(6),Ce("formGroup",r.formGroup),pe(3),li("",r.subjectName," name"),pe(1),lg("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[$i,Bi,lR,Vi,ji,Vo,Fl,Co,Gi,Ui,Hi,Hd,Nl,Ol,Rl,Pl,ya,nl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),ne([Nn()],q_.prototype,"onSaveClick",null),ne([Nn()],q_.prototype,"onEnter",null);let eY=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(et),_(He))},e.\u0275dir=Ot({type:e,selectors:[["","appAutofocus",""]]}),t})(),tY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Sc({name:new as("",{nonNullable:!0,validators:[Vp.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(_(bu),_(ls))},e.\u0275cmp=We({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Se(3,"Create directory"),B(),j(4,"ion-buttons",0)(5,"ion-button",1),Fe("click",function(){return o.onCreateClick()}),Se(6,"Create"),B()(),j(7,"ion-buttons",2)(8,"ion-button",3),Fe("click",function(){return o.onCancelClick()}),Se(9,"Cancel"),B()()()(),j(10,"ion-content",4)(11,"form",5),Fe("keydown.enter",function(){return o.onEnter()}),j(12,"ion-item",6)(13,"ion-label",7),Se(14,"Directory name"),B(),Ve(15,"ion-input",8),B()()()),2&n&&(pe(5),Ce("disabled",o.formGroup.invalid),pe(6),Ce("formGroup",o.formGroup))},dependencies:[$i,Bi,Vi,ji,Fl,Co,Gi,Ui,Hi,Nl,Ol,Rl,Pl,ya,nl,eY]}),t})();function $P(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const nY=C.p+"assets/doc/card-browser-5a0261814255810d.md";let rY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Fe("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Se(3," Edit "),B(),j(4,"ion-item",0),Fe("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Se(6," Save "),B(),j(7,"ion-item",0),Fe("click",function(){return o.onCopy()}),Ve(8,"ion-icon",3),Se(9," Copy "),B(),j(10,"ion-item",0),Fe("click",function(){return o.onCut()}),Ve(11,"ion-icon",4),Se(12," Cut "),B(),j(13,"ion-item",5),Fe("click",function(){return o.onDelete()}),Ve(14,"ion-icon",6),Se(15," Delete "),B()()),2&n&&(pe(1),Ce("detail",!1),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1))},dependencies:[Vo,Co,Ms]}),t})(),BP=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=xo({name:"fileSize",type:e,pure:!0}),t})();const oY=["slidingItem"];function iY(e,t){1&e&&Ve(0,"ion-icon",24)}function sY(e,t){1&e&&Ve(0,"ion-icon",25)}function aY(e,t){1&e&&Ve(0,"ion-icon",26)}function lY(e,t){1&e&&Ve(0,"ion-icon",27)}function cY(e,t){1&e&&Ve(0,"ion-icon",28)}function uY(e,t){1&e&&Ve(0,"ion-icon",29)}function dY(e,t){1&e&&Ve(0,"ion-icon",30)}function fY(e,t){1&e&&Ve(0,"ion-icon",31)}function pY(e,t){1&e&&Ve(0,"ion-icon",32)}function hY(e,t){if(1&e&&(Kc(0),Se(1),Za(2,"fileSize"),Yc()),2&e){const r=st();pe(1),li(" - ",qa(2,1,null==r.entry?null:r.entry.size)," ")}}let mY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new en,this.selectEntry=new en,this.editEntry=new en,this.copyEntry=new en,this.cutEntry=new en,this.deleteEntry=new en,this.saveEntry=new en,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,$.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:rY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,$.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(_(rh),_(Ll),_(bu))},e.\u0275cmp=We({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&cc(oY,5),2&n){let i;Is(i=xs())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Ci],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Sn();j(0,"ion-item-sliding",0,1),Fe("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),j(2,"ion-item-options",2)(3,"ion-item-option",3),Fe("click",function(){return It(i),Ds(1).close(),xt(o.editEntry.emit(o.entry))}),Ve(4,"ion-icon",4),B(),j(5,"ion-item-option",5),Fe("click",function(){return It(i),Ds(1).close(),xt(o.saveEntry.emit(o.entry))}),Ve(6,"ion-icon",6),B()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),Fe("click",function(){return It(i),Ds(1).close(),xt(o.cutOrCopyEntry())}),Ve(9,"ion-icon",9),B(),j(10,"ion-item-option",10),Fe("click",function(){return It(i),Ds(1).close(),xt(o.deleteEntry.emit(o.entry))}),Ve(11,"ion-icon",11),B()(),j(12,"ion-item",12),Fe("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),Wt(13,iY,1,0,"ion-icon",13)(14,sY,1,0,"ion-icon",14),j(15,"div",15),Wt(16,aY,1,0,"ion-icon",16)(17,lY,1,0,"ion-icon",17)(18,cY,1,0,"ion-icon",18)(19,uY,1,0,"ion-icon",19)(20,dY,1,0,"ion-icon",20),B(),Wt(21,fY,1,0,"ion-icon",21)(22,pY,1,0,"ion-icon",22),j(23,"ion-label")(24,"h2"),Se(25),B(),j(26,"p"),Se(27),Wt(28,hY,3,3,"ng-container",23),B()()()()}2&n&&(Ce("disabled",o.selecting),pe(12),Zc("opacity",o.touched?1:.99999),Us("is-directory",null==o.entry?null:o.entry.isDirectory),Ce("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),pe(1),Ce("ngIf",null==o.entry?null:o.entry.isDirectory),pe(1),Ce("ngIf",!(null!=o.entry&&o.entry.isDirectory)),pe(2),Ce("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),pe(1),Ce("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),pe(1),Ce("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),pe(1),Ce("ngIf",o.markedForCopy),pe(1),Ce("ngIf",o.markedForCut),pe(1),Ce("ngIf",o.selecting&&!o.selected),pe(1),Ce("ngIf",o.selecting&&o.selected),pe(1),Zc("padding-right",o.safetyMargin),Us("selecting",o.selecting),pe(2),Ri(null==o.entry?null:o.entry.name),pe(2),li(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),pe(1),Ce("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[ko,Vo,Co,w_,E_,D_,Gi,BP],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var vh;function gY(e,t){if(1&e){const r=Sn();j(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",6),Fe("trigger",function(o){return It(r),xt(st().openBreadcrumbMenu(o))}),Se(3),B()(),j(4,"ion-buttons",7),Ve(5,"ion-back-button"),B(),j(6,"ion-buttons",8)(7,"ion-button",9),Fe("click",function(o){return It(r),xt(st().openContextMenu(o,"trigger"))}),Ve(8,"ion-icon",10),B()()()}if(2&e){const r=st();pe(3),Ri(r.title)}}function _Y(e,t){if(1&e){const r=Sn();j(0,"ion-buttons",12)(1,"ion-button",9),Fe("click",function(){return It(r),xt(st(2).onSelectAll())}),Se(2,"Select all"),B()()}}function vY(e,t){if(1&e){const r=Sn();j(0,"ion-buttons",12)(1,"ion-button",9),Fe("click",function(){return It(r),xt(st(2).selection.clear())}),Se(2,"Clear"),B()()}}function yY(e,t){if(1&e){const r=Sn();j(0,"ion-toolbar")(1,"ion-title"),Se(2,"Selection"),B(),j(3,"ion-buttons",8)(4,"ion-button",9),Fe("click",function(){return It(r),xt(st().onSelectionDone())}),Se(5),B()(),Wt(6,_Y,3,0,"ion-buttons",11)(7,vY,3,0,"ion-buttons",11),B()}if(2&e){const r=st();pe(5),Ri(0===r.selection.size?"Cancel":"Done"),pe(1),Ce("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),pe(1),Ce("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function bY(e,t){if(1&e&&(j(0,"div",13)(1,"div",14),Se(2),B()()),2&e){const r=st();pe(2),li("empty ",r.isRoot?"card":"directory","")}}function CY(e,t){if(1&e){const r=Sn();j(0,"app-file-entry",15),Fe("selectEntry",function(){const i=It(r).$implicit;return xt(st().onSelect(i))})("editEntry",function(){const i=It(r).$implicit;return xt(st().onEditEntry(i))})("saveEntry",function(){const i=It(r).$implicit;return xt(st().onSaveEntry(i))})("copyEntry",function(){const i=It(r).$implicit;return xt(st().onCopyEntry(i))})("cutEntry",function(){const i=It(r).$implicit;return xt(st().onCutEntry(i))})("deleteEntry",function(){const i=It(r).$implicit;return xt(st().onDeleteEntry(i))})("interaction",function(){const i=It(r).$implicit;return xt(st().lastEntryTouched=i.name)}),B()}if(2&e){const r=t.$implicit,n=st();Ce("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function SY(e,t){if(1&e&&(j(0,"p"),Se(1),Za(2,"fileSize"),Za(3,"fileSize"),B()),2&e){const r=st(2);pe(1),up("",qa(2,2,r.bytesFree)," free, ",qa(3,4,r.bytesTotal)," total")}}function wY(e,t){if(1&e&&(j(0,"p"),Se(1),Za(2,"fileSize"),B()),2&e){const r=st(2);pe(1),ob(" ",qa(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function EY(e,t){if(1&e&&(j(0,"ion-item",16)(1,"ion-label"),Wt(2,SY,4,6,"p",0)(3,wY,3,5,"p",0),B()()),2&e){const r=st();pe(2),Ce("ngIf",r.isRoot),pe(1),Ce("ngIf",r.fileCount>0)}}function DY(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class Ea{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=$P(c=>c?.reduce((f,p)=>f+(p.isDirectory?0:p.size),0)??0),this.fileCountMemoized=$P(c=>c?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.checkEntries=Mc(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=Mc(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(DY):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,$.Z)(function*(){yield(yield r.modalController.create({component:q_,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,$.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,$.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,$.Z)(function*(){yield(yield t.modalController.create({component:tY,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,$.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,$.Z)(function*(){yield(yield t.modalController.create({component:_u,componentProps:{url:nY}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,$.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,$.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,$.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,$.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:QK,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,r){var n=this;return(0,$.Z)(function*(){(yield n.popoverController.create({component:JK,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,$.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(vh=Ea).\u0275fac=function(t){return new(t||vh)(_(bu),_(Ll),_(Wp),_(ro),_(rh),_(ls),_(Tc),_(at))},vh.\u0275cmp=We({type:vh,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(j(0,"ion-header"),Wt(1,gY,9,1,"ion-toolbar",0)(2,yY,8,3,"ion-toolbar",0),B(),j(3,"ion-content",1),Fe("contextmenu",function(o){return r.onContextMenu(o)}),j(4,"div",2),Wt(5,bY,3,1,"div",3),j(6,"ion-list"),Wt(7,CY,1,4,"app-file-entry",4)(8,EY,4,2,"ion-item",5),B()()()),2&t&&(pe(1),Ce("ngIf","browse"===r.mode),pe(1),Ce("ngIf","select"===r.mode),pe(3),Ce("ngIf",0===(null==r.entries?null:r.entries.length)),pe(2),Ce("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),pe(1),Ce("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Ml,ko,$i,Bi,Vi,ji,Vo,Co,Gi,Ms,Ui,Hi,dR,PP,mY,BP],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),ne([Nn()],Ea.prototype,"onSaveEntry",null),ne([Nn()],Ea.prototype,"onDeleteEntry",null),ne([Nn()],Ea.prototype,"onCreateDirectory",null),ne([Nn()],Ea.prototype,"onPaste",null),ne([Nn()],Ea.prototype,"onHelp",null),ne([Nn()],Ea.prototype,"onSelectionDone",null),ne([Nn()],Ea.prototype,"onSaveZip",null),ne([Nn()],Ea.prototype,"onDeleteSelection",null);const IY=["nav"];let xY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Ea,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=al,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,$.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,$.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!JW}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Ea,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(_(bu),_(yS))},e.\u0275cmp=We({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&cc(IY,5),2&n){let i;Is(i=xs())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ve(0,"ion-nav",0,1),2&n&&Ce("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[x0]}),t})();const TY=C.p+"assets/doc/sessions-868d7e6c0550348b.md";let MY=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Fe("click",function(){return null==o.onExport?null:o.onExport()}),Ve(2,"ion-icon",1),Se(3," Export "),B(),j(4,"ion-item",0),Fe("click",function(){return null==o.onDelete?null:o.onDelete()}),Ve(5,"ion-icon",2),Se(6," Delete "),B(),j(7,"ion-item",3),Fe("click",function(){return null==o.onHelp?null:o.onHelp()}),Ve(8,"ion-icon",4),Se(9," Help "),B()()),2&n&&(pe(1),Ce("detail",!1)("disabled",0===o.sessionCount),pe(3),Ce("detail",!1)("disabled",0===o.sessionCount),pe(3),Ce("detail",!1))},dependencies:[Vo,Co,Ms]}),t})(),AY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(j(0,"ion-list")(1,"ion-item",0),Fe("click",function(){return o.onEdit()}),Ve(2,"ion-icon",1),Se(3," Edit "),B(),j(4,"ion-item",0),Fe("click",function(){return o.onSave()}),Ve(5,"ion-icon",2),Se(6," Export "),B(),j(7,"ion-item",0),Fe("click",function(){return o.onReset()}),Ve(8,"ion-icon",3),Se(9," Reset "),B(),j(10,"ion-item",4),Fe("click",function(){return o.onDelete()}),Ve(11,"ion-icon",5),Se(12," Delete "),B()()),2&n&&(pe(1),Ce("detail",!1),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1),pe(3),Ce("detail",!1))},dependencies:[Vo,Co,Ms]}),t})();const RY=["slidingItem"];function PY(e,t){if(1&e&&(j(0,"span"),Se(1),B()),2&e){const r=st();pe(1),li(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function OY(e,t){1&e&&Ve(0,"ion-icon",16)}function NY(e,t){1&e&&Ve(0,"ion-icon",17)}let FY=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new en,this.resetSession=new en,this.edit=new en,this.save=new en,this.selectItem=new en,this.interaction=new en}get device(){return this.session?QR(this.session.device):""}onContextmenu(n){var o=this;return(0,$.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:AY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function kY(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(_(Ll))},e.\u0275cmp=We({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&cc(RY,5),2&n){let i;Is(i=xs())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Sn();j(0,"ion-item-sliding",0,1),Fe("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),j(2,"ion-item-options",2)(3,"ion-item-option",3),Fe("click",function(){return It(i),Ds(1).close(),xt(o.edit.emit(o.session))}),Ve(4,"ion-icon",4),B(),j(5,"ion-item-option",5),Fe("click",function(){return It(i),Ds(1).close(),xt(o.save.emit(o.session))}),Ve(6,"ion-icon",6),B()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),Fe("click",function(){return It(i),Ds(1).close(),xt(o.resetSession.emit(o.session))}),Ve(9,"ion-icon",9),B(),j(10,"ion-item-option",10),Fe("click",function(){return It(i),Ds(1).close(),xt(o.delete.emit(o.session))}),Ve(11,"ion-icon",11),B()(),j(12,"ion-item",12),Fe("click",function(){return o.selectItem.emit()}),j(13,"ion-label")(14,"h2"),Se(15),B(),j(16,"p"),Se(17),Wt(18,PY,2,1,"span",13),B()(),Wt(19,OY,1,0,"ion-icon",14)(20,NY,1,0,"ion-icon",15),B()()}2&n&&(Ce("disabled",o.selecting),pe(12),Ce("color",o.color),pe(1),Us("in-item-color",o.selected)("selecting",o.selecting),pe(2),Ri(null==o.session?null:o.session.name),pe(2),up("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),pe(1),Ce("ngIf",null==o.session?null:o.session.osVersion),pe(1),Ce("ngIf",o.selecting&&!o.selectedForExport),pe(1),Ce("ngIf",o.selecting&&o.selectedForExport))},dependencies:[ko,Vo,Co,w_,E_,D_,Gi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var yh;function LY(e,t){if(1&e){const r=Sn();j(0,"ion-toolbar")(1,"ion-title"),Se(2,"Sessions"),B(),j(3,"ion-buttons",6)(4,"ion-button",7),Fe("click",function(){return It(r),xt(st().importSession())}),Ve(5,"ion-icon",8),B()(),j(6,"ion-buttons",9)(7,"ion-button",7),Fe("click",function(o){return It(r),xt(st().openActionMenu(o))}),Ve(8,"ion-icon",10),B(),Ve(9,"app-pwa-prompt"),B()()}}function $Y(e,t){1&e&&(j(0,"ion-title"),Se(1,"Export"),B())}function BY(e,t){1&e&&(j(0,"ion-title"),Se(1,"Delete"),B())}function VY(e,t){if(1&e){const r=Sn();j(0,"ion-buttons",9)(1,"ion-button",7),Fe("click",function(){return It(r),xt(st(2).onSelectAll())}),Se(2,"Select all"),B()()}}function jY(e,t){if(1&e){const r=Sn();j(0,"ion-buttons",9)(1,"ion-button",7),Fe("click",function(){return It(r),xt(st(2).selection.clear())}),Se(2,"Clear"),B()()}}function GY(e,t){if(1&e){const r=Sn();j(0,"ion-toolbar"),Wt(1,$Y,2,0,"ion-title",0)(2,BY,2,0,"ion-title",0),j(3,"ion-buttons",6)(4,"ion-button",7),Fe("click",function(){return It(r),xt(st().onSelectionDone())}),Se(5),B()(),Wt(6,VY,3,0,"ion-buttons",11)(7,jY,3,0,"ion-buttons",11),B()}if(2&e){const r=st();pe(1),Ce("ngIf","select-for-export"===r.mode),pe(1),Ce("ngIf","select-for-delete"===r.mode),pe(3),Ri(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),pe(1),Ce("ngIf",r.selection.size!==r.sessionCount),pe(1),Ce("ngIf",r.selection.size===r.sessionCount)}}function UY(e,t){1&e&&(j(0,"ion-title",12),Se(1,"Sessions"),B())}function HY(e,t){1&e&&(j(0,"ion-title",12),Se(1,"Select for export"),B())}function zY(e,t){1&e&&(j(0,"ion-title",12),Se(1,"Select for delete"),B())}function WY(e,t){1&e&&(j(0,"div",13),Ve(1,"ion-spinner"),B())}function ZY(e,t){1&e&&(Kc(0),Ve(1,"br")(2,"br"),Se(3," You can find a collection of compatible ROMs on "),j(4,"a",16),Se(5,"PalmDB"),B(),Se(6,". "),Yc())}function qY(e,t){if(1&e&&(j(0,"div",14)(1,"div",15),Se(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),Wt(3,ZY,7,0,"ng-container",0),B()()),2&e){const r=st();pe(3),Ce("ngIf",r.showPalmdbLink)}}function KY(e,t){if(1&e){const r=Sn();j(0,"app-session-item",18),Fe("delete",function(){const i=It(r).$implicit;return xt(st(2).deleteSession(i))})("selectItem",function(){const i=It(r).$implicit,s=st(2);return xt("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=It(r).$implicit;return xt(st(2).editSession(i))})("save",function(){const i=It(r).$implicit;return xt(st(2).saveSession(i))})("resetSession",function(){const i=It(r).$implicit;return xt(st(2).resetSession(i))})("interaction",function(){const i=It(r).$implicit;return xt(st(2).lastSessionTouched=i.id)}),B()}if(2&e){const r=t.$implicit,n=st(2);Ce("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function YY(e,t){if(1&e&&(j(0,"ion-list"),Wt(1,KY,1,5,"app-session-item",17),B()),2&e){const r=st();pe(1),Ce("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class Ul{constructor(t,r,n,o,i,s,a,l,c,f,p,m,y,H){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=f,this.dragDropService=p,this.popoverController=m,this.loadingController=y,this.cd=H,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const J=this.linkApi.import.receivePendingUrl();J&&this.alertService.message("Import request",`Do you want to import<br>${J} ?`,{OK:()=>this.fileService.openUrl(J,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=Mc(H,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=Mc(H,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=Mc(H,!0,()=>this.sessionService.isLoading())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,$.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,$.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!_P()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,$.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,$.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,$.Z)(function*(){yield(yield t.modalController.create({component:_u,componentProps:{url:TY}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,$.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,$.Z)(function*(){const o=yield n.popoverController.create({component:MY,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(So&&$l)}executeMassExport(t){var r=this;return(0,$.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,$.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,$.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:MP,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return Xd(t,n=>r.some(o=>o.name===n))}}(yh=Ul).\u0275fac=function(t){return new(t||yh)(_(Gl),_(Tc),_(ro),_(Sa),_(Vl),_(Xn),_(ls),_(pC),_(Bo),_(Ca),_(yS),_(Ll),_(qs),_(at))},yh.\u0275cmp=We({type:yh,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(j(0,"ion-header"),Wt(1,LY,10,0,"ion-toolbar",0)(2,GY,8,5,"ion-toolbar",0),B(),j(3,"ion-content",1),Fe("contextmenu",function(o){return r.onContextMenu(o)}),j(4,"ion-header",2)(5,"ion-toolbar"),Wt(6,UY,2,0,"ion-title",3)(7,HY,2,0,"ion-title",3)(8,zY,2,0,"ion-title",3),B()(),Wt(9,WY,2,0,"div",4)(10,qY,4,1,"div",5)(11,YY,2,2,"ion-list",0),B()),2&t&&(pe(1),Ce("ngIf","manage"===r.mode),pe(1),Ce("ngIf","manage"!==r.mode),pe(4),Ce("ngIf","manage"===r.mode),pe(1),Ce("ngIf","select-for-export"===r.mode),pe(1),Ce("ngIf","select-for-delete"===r.mode),pe(1),Ce("ngIf",r.sessionService.isLoading()),pe(1),Ce("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),pe(1),Ce("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[Ml,ko,$i,Bi,Vi,ji,Vo,Ms,eh,Ui,Hi,Z_,FY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),ne([Nn()],Ul.prototype,"deleteSession",null),ne([Nn()],Ul.prototype,"editSession",null),ne([Nn()],Ul.prototype,"saveSession",null),ne([Nn()],Ul.prototype,"launchSession",null),ne([Nn()],Ul.prototype,"resetSession",null),ne([Nn()],Ul.prototype,"onSelectionDone",null),ne([Nn()],Ul.prototype,"openActionMenu",null);const XY=["nav"],QY=()=>({}),JY=e=>({selfReference:e}),eX=[{path:"tab",component:mS,children:[{path:"emulation",component:wa},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=Ul}ionViewDidLeave(){var n=this;return(0,$.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var n=this;return(0,$.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var n=this;return(0,$.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=We({type:e,selectors:[["app-sessions-wrapper"]],viewQuery:function(n,o){if(1&n&&cc(XY,5),2&n){let i;Is(i=xs())&&(o.nav=i.first)}},decls:2,vars:6,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&Ve(0,"ion-nav",0,1),2&n&&Ce("animated",!1)("root",o.navRoot)("rootParams",function Q1(e,t,r,n){return J1(ze(),Ai(),e,t,r,n)}(4,JY,function X1(e,t,r){const n=Ai()+e,o=ze();return o[n]===hn?Ha(o,n,r?t.call(r):t()):function Zf(e,t){return e[t]}(o,n)}(3,QY)))},dependencies:[x0],encapsulation:2}),t})()},{path:"storage",component:xY},{path:"settings",component:wK},{path:"about",component:gS},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let tX=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[l_.forChild(eX),l_]}),t})(),nX=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({imports:[wc,Ya,du,tX,fq,pq,hq,mq,dq]}),t})(),rX=(()=>{var e;class t extends hT{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=$e({token:e,factory:e.\u0275fac}),t})();const oX=[{path:"install",component:IP,canActivate:[xP]},{path:"import",component:IP,canActivate:[xP]},{path:"",component:mS}];let iX=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=eo({type:e}),e.\u0275inj=rn({providers:[{provide:Ka,useClass:rX}],imports:[l_.forRoot(oX,{preloadingStrategy:Nz,useHash:!0}),nX,l_]}),t})();var CS=C(588);function aX(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var SS={exports:{}};!function(t,r,n){function o(l){var c=this,f=function a(){var l=4022871197;return function(f){f=String(f);for(var p=0;p<f.length;p++){var m=.02519603282416938*(l+=f.charCodeAt(p));m-=l=m>>>0,l=(m*=l)>>>0,l+=4294967296*(m-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var p=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=p-(c.c=0|p)},c.c=1,c.s0=f(" "),c.s1=f(" "),c.s2=f(" "),c.s0-=f(l),c.s0<0&&(c.s0+=1),c.s1-=f(l),c.s1<0&&(c.s1+=1),c.s2-=f(l),c.s2<0&&(c.s2+=1),f=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var f=new o(l),p=c&&c.state,m=f.next;return m.int32=function(){return 4294967296*f.next()|0},m.double=function(){return m()+11102230246251565e-32*(2097152*m()|0)},m.quick=m,p&&("object"==typeof p&&i(p,f),m.state=function(){return i(f,{})}),m}r&&r.exports?r.exports=s:this.alea=s}(0,SS);const cX=aX(SS.exports),VP=CS.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![\/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),mX=new RegExp("(?<==)(?:true|false)"),gX=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),_X=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),vX=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),yX=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function wS(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function uX(e,t={}){const r=e.trim().replace(/[\,]+$/,"");if(""===r)return"{}";if(!function dX(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(r))throw new TypeError("Unexpected input format");let n="";VP.reset(r);for(const o of VP)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}n+=o.value}return n.replace(/\,([\}\]])/g,"$1")}(t)):t}const jP=CS.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[\.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:mX,value:e=>"true"===e},NumericLiteral:{match:gX,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:_X,value:wS,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:vX,value:wS,type:()=>"StringLiteral"},UnquotedLiteral:{match:yX,value:wS,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const SX=CS.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function CX(e){let t=null;const r=jP.reset(e),n={};Object.defineProperties(n,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function bX(e){let t="";for(const r in e){const n=e[r];switch(typeof n){case"object":t+=` ${r}='${JSON.stringify(n)}'`;break;case"string":t+=` ${r}="${n}"`;break;case"number":case"boolean":t+=` ${r}=${n}`}}return t.slice(1)}(n)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(jP.reset(e))}});const o=[];for(const{type:i,value:s}of r)switch(i){case"AttributeName":t=s,n[t]=t;break;case"AttributeShorthand":const a=s[0];"."===a?o.push(s.slice(1)):"#"===a&&(n.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),n[t]=s,t=null)}return o.length&&(n.class=o.join(" ")),n}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function wX(e){const{type:t,level:r,raw:n,content:o,marker:i,tag:s}=e,a=SX.reset(o);let l,c,f="",p=[];for(const{type:m,value:y}of a)switch(m){case"name":l=y;break;case"attrs":c=y;break;case"text":case"blockText":f=y,p="container"===r?this.lexer.blockTokens(y):this.lexer.inlineTokens(y)}return{type:t,raw:n,meta:{level:r,marker:i,tag:s,name:l},attrs:c,text:f,tokens:p}}function GP(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function IX(e){const{meta:t,attrs:r,tokens:n=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=r?" "+r.toString():"",i+=GP(o)?" />":">",i+="container"===t.level?"\n":"",GP(o)||(i+="container"===t.level?this.parser.parse(n):this.parser.parseInline(n),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const xX=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function TX(e=xX){return{extensions:e.map(({level:t,marker:r,tag:n,renderer:o})=>{const i=cX(r).int32(),s=`directive${function DX(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(r)))?void 0:l.index},tokenizer(a){const l=function EX(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,r),c=a.match(new RegExp(l));if(c){const[f,p=""]=c;return wX.call(this,{type:s,level:t,raw:f,content:p,marker:r,tag:n||("inline"===t?"span":"div")})}},renderer:o||IX}})}}const UP=["touchstart","click","keydown"];let MX=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,$.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;So&&$l&&n.audioService.initialize();const o=()=>{UP.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};UP.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Di),ae(vS))},e.\u0275prov=$e({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const AX=()=>{const e=new pu;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let kX=(()=>{var e;class t{constructor(n,o,i,s,a,l,c,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(ae(Xn),ae(Sa),ae(vS),ae(Gl),ae(Di),ae(DP),ae(MX),ae(pS))},e.\u0275mod=eo({type:e,bootstrap:[QZ]}),e.\u0275inj=rn({providers:[{provide:IA,useClass:X8},{provide:mp,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Di]}],imports:[DU,wc.forRoot({...FP()?{actionSheetEnter:dK,loadingEnter:fK,alertEnter:pK}:{},innerHTMLTemplatesEnabled:!0}),iX,L0.forRoot({loader:gC,markedOptions:{provide:IR,useFactory:AX},markedExtensions:[TX()]}),c6]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function OU(){Bg=oM("#/install?"),Vg=oM("#/import?")}(),function c7(){return!!RR(R_)}()&&!iM()||function NU(){return void 0!==Bg}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),So&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),EP()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),wU().bootstrapModule(kX).then(e=>Ks.production||function AU(e){return function eM(e,t){(typeof COMPILED>"u"||!COMPILED)&&((jn.ng=jn.ng||{})[e]=t)}("profiler",new MU(e)),e}(e.injector.get(ha).components[0])).catch(e=>console.log(e))},2227:be=>{var C,Ae=(C=typeof document<"u"?document.currentScript?.src:void 0,function(w={}){var Z,V,De,te,d=w,O=new Promise((u,b)=>{Z=u,V=b}),I="object"==typeof window,x="function"==typeof importScripts,U=("object"==typeof process&&"object"==typeof process.versions&&process,Object.assign({},d)),G="./this.program",M=(u,b)=>{throw b},N="";(I||x)&&(x?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),C&&(N=C),N=N.startsWith("blob:")?"":N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),x&&(te=u=>{var b=new XMLHttpRequest;return b.open("GET",u,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),De=u=>fetch(u,{credentials:"same-origin"}).then(b=>b.ok?b.arrayBuffer():Promise.reject(new Error(b.status+" : "+b.url))));var ee,W=d.print||console.log.bind(console),k=d.printErr||console.error.bind(console);Object.assign(d,U),U=null,d.thisProgram&&(G=d.thisProgram),d.quit&&(M=d.quit),d.wasmBinary&&(ee=d.wasmBinary);var ce,ke,F,P,S,D,ge,ie=!1;function Le(u,b){u||Dt(b)}function Ge(){var u=ce.buffer;d.HEAP8=F=new Int8Array(u),d.HEAP16=new Int16Array(u),d.HEAPU8=P=new Uint8Array(u),d.HEAPU16=new Uint16Array(u),d.HEAP32=S=new Int32Array(u),d.HEAPU32=D=new Uint32Array(u),d.HEAPF32=new Float32Array(u),d.HEAPF64=ge=new Float64Array(u)}function fe(){if(!ie){var u=mr();0==u&&(u+=4);var b=D[u>>2],Y=D[u+4>>2];(34821223!=b||2310721022!=Y)&&Dt(`Stack overflow! Stack cookie has been overwritten at ${Te(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Te(Y)} ${Te(b)}`),1668509029!=D[0]&&Dt("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Ne=[],me=[],xe=[],qe=[],ye=0,Ie=null,Ee=null;function Dt(u){d.onAbort?.(u),k(u="Aborted("+u+")"),ie=!0,ke=1,u+=". Build with -sASSERTIONS for more info.";var b=new WebAssembly.RuntimeError(u);throw V(b),b}var an,Yt=u=>u.startsWith("data:application/octet-stream;base64,");function vr(u){if(u==an&&ee)return new Uint8Array(ee);if(te)return te(u);throw"both async and sync fetching of the wasm failed"}function ei(u,b,Y){return function sr(u){return ee?Promise.resolve().then(()=>vr(u)):De(u).then(b=>new Uint8Array(b),()=>vr(u))}(u).then(Ze=>WebAssembly.instantiate(Ze,b)).then(Y,Ze=>{k(`failed to asynchronously prepare wasm: ${Ze}`),Dt(Ze)})}var Qn,Eo={428576:u=>{Xr.grow(65536);for(let b=0;b<=65535;b++)Xr.set(Xr.length-65535-1+b,Xr.get(D[(u>>>2)+b]));return Xr.length-65535-1}};function ti(u){this.name="ExitStatus",this.message=`Program terminated with exit(${u})`,this.status=u}var Xr,g,on,ar=u=>{for(;u.length>0;)u.shift()(d)},oo=d.noExitRuntime||!0,Te=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),Me=typeof TextDecoder<"u"?new TextDecoder:void 0,tn=(u,b,Y)=>{for(var Ze=b+Y,jt=b;u[jt]&&!(jt>=Ze);)++jt;if(jt-b>16&&u.buffer&&Me)return Me.decode(u.subarray(b,jt));for(var Dn="";b<jt;){var Yn=u[b++];if(128&Yn){var An=63&u[b++];if(192!=(224&Yn)){var so=63&u[b++];if((Yn=224==(240&Yn)?(15&Yn)<<12|An<<6|so:(7&Yn)<<18|An<<12|so<<6|63&u[b++])<65536)Dn+=String.fromCharCode(Yn);else{var _s=Yn-65536;Dn+=String.fromCharCode(55296|_s>>10,56320|1023&_s)}}else Dn+=String.fromCharCode((31&Yn)<<6|An)}else Dn+=String.fromCharCode(Yn)}return Dn},Ht=(u,b)=>u?tn(P,u,b):"",Xt=(u,b)=>b+2097152>>>0<4194305-!!u?(u>>>0)+4294967296*b:NaN,lo=[0,31,60,91,121,152,182,213,244,274,305,335],zi=[0,31,59,90,120,151,181,212,243,273,304,334],Uo=u=>((u=>u%4==0&&(u%100!=0||u%400==0))(u.getFullYear())?lo:zi)[u.getMonth()]+u.getDate()-1,vn=(u,b,Y,Ze)=>{if(!(Ze>0))return 0;for(var jt=Y,Dn=Y+Ze-1,Yn=0;Yn<u.length;++Yn){var An=u.charCodeAt(Yn);if(An>=55296&&An<=57343&&(An=65536+((1023&An)<<10)|1023&u.charCodeAt(++Yn)),An<=127){if(Y>=Dn)break;b[Y++]=An}else if(An<=2047){if(Y+1>=Dn)break;b[Y++]=192|An>>6,b[Y++]=128|63&An}else if(An<=65535){if(Y+2>=Dn)break;b[Y++]=224|An>>12,b[Y++]=128|An>>6&63,b[Y++]=128|63&An}else{if(Y+3>=Dn)break;b[Y++]=240|An>>18,b[Y++]=128|An>>12&63,b[Y++]=128|An>>6&63,b[Y++]=128|63&An}}return b[Y]=0,Y-jt},gn=(u,b,Y)=>vn(u,P,b,Y),nn=[],Ii=u=>{var Y=(u-ce.buffer.byteLength+65535)/65536;try{return ce.grow(Y),Ge(),1}catch{}},di={},fi=()=>{if(!fi.strings){var b={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var Y in di)void 0===di[Y]?delete b[Y]:b[Y]=di[Y];var Ze=[];for(var Y in b)Ze.push(`${Y}=${b[Y]}`);fi.strings=Ze}return fi.strings},us=[null,[],[]],Rs=(u,b)=>{var Y=us[u];0===b||10===b?((1===u?W:k)(tn(Y,0)),Y.length=0):Y.push(b)},yn=(u,b)=>{ke=u,(u=>{ke=u,oo||(d.onExit?.(u),ie=!0),M(u,new ti(u))})(u)},Xs=u=>{for(var b=0,Y=0;Y<u.length;++Y){var Ze=u.charCodeAt(Y);Ze<=127?b++:Ze<=2047?b+=2:Ze>=55296&&Ze<=57343?(b+=4,++Y):b+=3}return b},nt=(u,b)=>{u<128?b.push(u):b.push(u%128|128,u>>7)},pi=[],yt=u=>{var b=pi[u];return b||(u>=pi.length&&(pi.length=u+1),pi[u]=b=Xr.get(u)),b},z=[],Pe=(u,b)=>{Xr.set(u,b),pi[u]=Xr.get(u)},Ye={a:(u,b,Y,Ze)=>{Dt(`Assertion failed: ${Ht(u)}, at: `+[b?Ht(b):"unknown filename",Y,Ze?Ht(Ze):"unknown function"])},q:function Po(u){const b=new Error(Ht(u));throw b.isAssert=!0,b},l:function qn(u,b,Y){Xt(b,Y)},h:()=>{Dt("")},g:()=>1,c:(u,b,Y)=>P.copyWithin(u,b,b+Y),i:function xn(u,b,Y){var Ze=Xt(u,b),jt=new Date(1e3*Ze);S[Y>>2]=jt.getSeconds(),S[Y+4>>2]=jt.getMinutes(),S[Y+8>>2]=jt.getHours(),S[Y+12>>2]=jt.getDate(),S[Y+16>>2]=jt.getMonth(),S[Y+20>>2]=jt.getFullYear()-1900,S[Y+24>>2]=jt.getDay();var Dn=0|Uo(jt);S[Y+28>>2]=Dn,S[Y+36>>2]=-60*jt.getTimezoneOffset();var Yn=new Date(jt.getFullYear(),0,1),An=new Date(jt.getFullYear(),6,1).getTimezoneOffset(),so=Yn.getTimezoneOffset(),_s=0|(An!=so&&jt.getTimezoneOffset()==Math.min(so,An));S[Y+32>>2]=_s},j:function(u){var b=(()=>{var Y=new Date(S[u+20>>2]+1900,S[u+16>>2],S[u+12>>2],S[u+8>>2],S[u+4>>2],S[u>>2],0),Ze=S[u+32>>2],jt=Y.getTimezoneOffset(),Dn=new Date(Y.getFullYear(),0,1),Yn=new Date(Y.getFullYear(),6,1).getTimezoneOffset(),An=Dn.getTimezoneOffset(),so=Math.min(An,Yn);if(Ze<0)S[u+32>>2]=+(Yn!=An&&so==jt);else if(Ze>0!=(so==jt)){var _s=Math.max(An,Yn),gf=Ze>0?so:_s;Y.setTime(Y.getTime()+6e4*(gf-jt))}S[u+24>>2]=Y.getDay();var _f=0|Uo(Y);S[u+28>>2]=_f,S[u>>2]=Y.getSeconds(),S[u+4>>2]=Y.getMinutes(),S[u+8>>2]=Y.getHours(),S[u+12>>2]=Y.getDate(),S[u+16>>2]=Y.getMonth(),S[u+20>>2]=Y.getYear();var Tu=Y.getTime();return isNaN(Tu)?-1:Tu/1e3})();return(u=>{ns(u)})((Qn=b,+Math.abs(Qn)>=1?Qn>0?+Math.floor(Qn/4294967296)>>>0:~~+Math.ceil((Qn-+(~~Qn>>>0))/4294967296)>>>0:0)),b>>>0},p:(u,b,Y,Ze)=>{var jt=(new Date).getFullYear(),Dn=new Date(jt,0,1),Yn=new Date(jt,6,1),An=Dn.getTimezoneOffset(),so=Yn.getTimezoneOffset(),_s=Math.max(An,so);D[u>>2]=60*_s,S[b>>2]=+(An!=so);var gf=tv=>{var ES=tv>=0?"-":"+",vf=Math.abs(tv);return`UTC${ES}${String(Math.floor(vf/60)).padStart(2,"0")}${String(vf%60).padStart(2,"0")}`},_f=gf(An),Tu=gf(so);so<An?(gn(_f,Y,17),gn(Tu,Ze,17)):(gn(_f,Ze,17),gn(Tu,Y,17))},r:(u,b,Y)=>((u,b,Y)=>{var Ze=((u,b)=>{nn.length=0;for(var Y;Y=P[u++];){var Ze=105!=Y;b+=(Ze&=112!=Y)&&b%8?4:0,nn.push(112==Y?D[b>>2]:105==Y?S[b>>2]:ge[b>>3]),b+=Ze?8:4}return nn})(b,Y);return Eo[u](...Ze)})(u,b,Y),b:()=>Date.now(),o:u=>{var so,b=P.length,Y=2147483648;if((u>>>=0)>Y)return!1;for(var jt=1;jt<=4;jt*=2){var Dn=b*(1+.2/jt);Dn=Math.min(Dn,u+100663296);var Yn=Math.min(Y,(so=Math.max(u,Dn))+(65536-so%65536)%65536);if(Ii(Yn))return!0}return!1},m:(u,b)=>{var Y=0;return fi().forEach((Ze,jt)=>{var Dn=b+Y;D[u+4*jt>>2]=Dn,((u,b)=>{for(var Y=0;Y<u.length;++Y)F[b++]=u.charCodeAt(Y);F[b]=0})(Ze,Dn),Y+=Ze.length+1}),0},n:(u,b)=>{var Y=fi();D[u>>2]=Y.length;var Ze=0;return Y.forEach(jt=>Ze+=jt.length+1),D[b>>2]=Ze,0},d:u=>52,f:(u,b,Y,Ze)=>52,k:function mo(u,b,Y,Ze,jt){return Xt(b,Y),70},e:(u,b,Y,Ze)=>{for(var jt=0,Dn=0;Dn<Y;Dn++){var Yn=D[b>>2],An=D[b+4>>2];b+=8;for(var so=0;so<An;so++)Rs(u,P[Yn+so]);jt+=An}return D[Ze>>2]=jt,0}},A=function Or(){var u=function ho(){return{a:Ye}}();function b(Ze,jt){return ce=(A=Ze.exports).s,Ge(),Xr=A.Vc,function Vt(u){me.unshift(u)}(A.t),function pt(u){if(ye--,d.monitorRunDependencies?.(ye),0==ye&&(null!==Ie&&(clearInterval(Ie),Ie=null),Ee)){var b=Ee;Ee=null,b()}}(),A}if(function Xe(u){ye++,d.monitorRunDependencies?.(ye)}(),d.instantiateWasm)try{return d.instantiateWasm(u,b)}catch(Ze){k(`Module.instantiateWasm callback failed with error: ${Ze}`),V(Ze)}return an||(an=function Qt(){var u="cloudpilot_web.wasm";return Yt(u)?u:function he(u){return d.locateFile?d.locateFile(u,N):N+u}(u)}()),function Pr(u,b,Y,Ze){return u||"function"!=typeof WebAssembly.instantiateStreaming||Yt(b)||"function"!=typeof fetch?ei(b,Y,Ze):fetch(b,{credentials:"same-origin"}).then(jt=>WebAssembly.instantiateStreaming(jt,Y).then(Ze,function(Yn){return k(`wasm streaming compile failed: ${Yn}`),k("falling back to ArrayBuffer instantiation"),ei(b,Y,Ze)}))}(ee,an,u,function Y(Ze){b(Ze.instance)}).catch(V),{}}(),wt=(d._malloc=u=>(d._malloc=A.u)(u),d._free=u=>(d._free=A.v)(u),d._main=(u,b)=>(wt=d._main=A.w)(u,b)),pr=(d._webidl_free=u=>(d._webidl_free=A.x)(u),d._webidl_malloc=u=>(d._webidl_malloc=A.y)(u),d._emscripten_bind_VoidPtr___destroy___0=u=>(pr=d._emscripten_bind_VoidPtr___destroy___0=A.z)(u)),Mr=d._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(Mr=d._emscripten_bind_Cloudpilot_Cloudpilot_0=A.A)(),jr=d._emscripten_bind_Cloudpilot_Malloc_1=(u,b)=>(jr=d._emscripten_bind_Cloudpilot_Malloc_1=A.B)(u,b),Un=d._emscripten_bind_Cloudpilot_Free_1=(u,b)=>(Un=d._emscripten_bind_Cloudpilot_Free_1=A.C)(u,b),Ki=d._emscripten_bind_Cloudpilot_Nullptr_0=u=>(Ki=d._emscripten_bind_Cloudpilot_Nullptr_0=A.D)(u),Rn=d._emscripten_bind_Cloudpilot_EnableLogging_1=(u,b)=>(Rn=d._emscripten_bind_Cloudpilot_EnableLogging_1=A.E)(u,b),Oo=d._emscripten_bind_Cloudpilot_InitializeSession_3=(u,b,Y,Ze)=>(Oo=d._emscripten_bind_Cloudpilot_InitializeSession_3=A.F)(u,b,Y,Ze),Io=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=u=>(Io=d._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=A.G)(u),Yi=d._emscripten_bind_Cloudpilot_RunEmulation_1=(u,b)=>(Yi=d._emscripten_bind_Cloudpilot_RunEmulation_1=A.H)(u,b),Ia=d._emscripten_bind_Cloudpilot_SetClockFactor_1=(u,b)=>(Ia=d._emscripten_bind_Cloudpilot_SetClockFactor_1=A.I)(u,b),Js=d._emscripten_bind_Cloudpilot_CopyFrame_0=u=>(Js=d._emscripten_bind_Cloudpilot_CopyFrame_0=A.J)(u),Ns=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=u=>(Ns=d._emscripten_bind_Cloudpilot_IsScreenDirty_0=A.K)(u),ea=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=u=>(ea=d._emscripten_bind_Cloudpilot_MarkScreenClean_0=A.L)(u),Xi=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(u,b)=>(Xi=d._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=A.M)(u,b),xa=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(u,b)=>(xa=d._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=A.N)(u,b),ta=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(u,b)=>(ta=d._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=A.O)(u,b),na=d._emscripten_bind_Cloudpilot_QueuePenMove_2=(u,b,Y)=>(na=d._emscripten_bind_Cloudpilot_QueuePenMove_2=A.P)(u,b,Y),Ta=d._emscripten_bind_Cloudpilot_QueuePenUp_0=u=>(Ta=d._emscripten_bind_Cloudpilot_QueuePenUp_0=A.Q)(u),Ma=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=(u,b)=>(Ma=d._emscripten_bind_Cloudpilot_QueueButtonDown_1=A.R)(u,b),Aa=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=(u,b)=>(Aa=d._emscripten_bind_Cloudpilot_QueueButtonUp_1=A.S)(u,b),ka=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(u,b,Y)=>(ka=d._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=A.T)(u,b,Y),ra=d._emscripten_bind_Cloudpilot_IsPowerOff_0=u=>(ra=d._emscripten_bind_Cloudpilot_IsPowerOff_0=A.U)(u),Ra=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=u=>(Ra=d._emscripten_bind_Cloudpilot_IsUIInitialized_0=A.V)(u),Pa=d._emscripten_bind_Cloudpilot_GetOSVersion_0=u=>(Pa=d._emscripten_bind_Cloudpilot_GetOSVersion_0=A.W)(u),br=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=u=>(br=d._emscripten_bind_Cloudpilot_IsSetupComplete_0=A.X)(u),oa=d._emscripten_bind_Cloudpilot_Reset_0=u=>(oa=d._emscripten_bind_Cloudpilot_Reset_0=A.Y)(u),co=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=u=>(co=d._emscripten_bind_Cloudpilot_ResetNoExtensions_0=A.Z)(u),Gt=d._emscripten_bind_Cloudpilot_ResetHard_0=u=>(Gt=d._emscripten_bind_Cloudpilot_ResetHard_0=A._)(u),ia=d._emscripten_bind_Cloudpilot_InstallDb_2=(u,b,Y)=>(ia=d._emscripten_bind_Cloudpilot_InstallDb_2=A.$)(u,b,Y),Fs=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=u=>(Fs=d._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=A.aa)(u),Qr=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=u=>(Qr=d._emscripten_bind_Cloudpilot_GetMemoryPtr_0=A.ba)(u),Ls=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=u=>(Ls=d._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=A.ca)(u),Oa=d._emscripten_bind_Cloudpilot_GetMemorySize_0=u=>(Oa=d._emscripten_bind_Cloudpilot_GetMemorySize_0=A.da)(u),Pn=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(u,b,Y)=>(Pn=d._emscripten_bind_Cloudpilot_ImportMemoryImage_2=A.ea)(u,b,Y),ps=d._emscripten_bind_Cloudpilot_GetRomPtr_0=u=>(ps=d._emscripten_bind_Cloudpilot_GetRomPtr_0=A.fa)(u),Cr=d._emscripten_bind_Cloudpilot_GetRomSize_0=u=>(Cr=d._emscripten_bind_Cloudpilot_GetRomSize_0=A.ga)(u),$s=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=u=>($s=d._emscripten_bind_Cloudpilot_GetSavestatePtr_0=A.ha)(u),cl=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=u=>(cl=d._emscripten_bind_Cloudpilot_GetSavestateSize_0=A.ia)(u),Na=d._emscripten_bind_Cloudpilot_SaveState_0=u=>(Na=d._emscripten_bind_Cloudpilot_SaveState_0=A.ja)(u),Fn=d._emscripten_bind_Cloudpilot_LoadState_2=(u,b,Y)=>(Fn=d._emscripten_bind_Cloudpilot_LoadState_2=A.ka)(u,b,Y),zt=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=u=>(zt=d._emscripten_bind_Cloudpilot_GetHotsyncName_0=A.la)(u),hs=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=(u,b)=>(hs=d._emscripten_bind_Cloudpilot_SetHotsyncName_1=A.ma)(u,b),Bs=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(u,b)=>(Bs=d._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=A.na)(u,b),ul=d._emscripten_bind_Cloudpilot_StartBackup_0=u=>(ul=d._emscripten_bind_Cloudpilot_StartBackup_0=A.oa)(u),Vs=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(u,b)=>(Vs=d._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=A.pa)(u,b),Ke=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=u=>(Ke=d._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=A.qa)(u),Qi=d._emscripten_bind_Cloudpilot_IsSuspended_0=u=>(Qi=d._emscripten_bind_Cloudpilot_IsSuspended_0=A.ra)(u),yi=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=u=>(yi=d._emscripten_bind_Cloudpilot_GetSuspendContext_0=A.sa)(u),sa=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(u,b)=>(sa=d._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=A.ta)(u,b),aa=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=u=>(aa=d._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=A.ua)(u),la=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(u,b)=>(la=d._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=A.va)(u,b),ri=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(u,b)=>(ri=d._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=A.wa)(u,b),hr=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=(u,b)=>(hr=d._emscripten_bind_Cloudpilot_LaunchAppByName_1=A.xa)(u,b),Zo=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(u,b,Y)=>(Zo=d._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=A.ya)(u,b,Y),Lt=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(u,b)=>(Lt=d._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=A.za)(u,b),Mn=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=u=>(Mn=d._emscripten_bind_Cloudpilot_ClearExternalStorage_0=A.Aa)(u),Hl=d._emscripten_bind_Cloudpilot_AllocateCard_2=(u,b,Y)=>(Hl=d._emscripten_bind_Cloudpilot_AllocateCard_2=A.Ba)(u,b,Y),dl=d._emscripten_bind_Cloudpilot_AdoptCard_3=(u,b,Y,Ze)=>(dl=d._emscripten_bind_Cloudpilot_AdoptCard_3=A.Ca)(u,b,Y,Ze),fl=d._emscripten_bind_Cloudpilot_MountCard_1=(u,b)=>(fl=d._emscripten_bind_Cloudpilot_MountCard_1=A.Da)(u,b),zl=d._emscripten_bind_Cloudpilot_RemoveCard_1=(u,b)=>(zl=d._emscripten_bind_Cloudpilot_RemoveCard_1=A.Ea)(u,b),$n=d._emscripten_bind_Cloudpilot_GetCardData_1=(u,b)=>($n=d._emscripten_bind_Cloudpilot_GetCardData_1=A.Fa)(u,b),ms=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(u,b)=>(ms=d._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=A.Ga)(u,b),Tn=d._emscripten_bind_Cloudpilot_GetCardSize_1=(u,b)=>(Tn=d._emscripten_bind_Cloudpilot_GetCardSize_1=A.Ha)(u,b),uo=d._emscripten_bind_Cloudpilot_RemountCards_0=u=>(uo=d._emscripten_bind_Cloudpilot_RemountCards_0=A.Ia)(u),fo=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=(u,b)=>(fo=d._emscripten_bind_Cloudpilot_GetSupportLevel_1=A.Ja)(u,b),Sr=d._emscripten_bind_Cloudpilot_GetMountedKey_0=u=>(Sr=d._emscripten_bind_Cloudpilot_GetMountedKey_0=A.Ka)(u),Bn=d._emscripten_bind_Cloudpilot_GetTransportIR_0=u=>(Bn=d._emscripten_bind_Cloudpilot_GetTransportIR_0=A.La)(u),er=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=u=>(er=d._emscripten_bind_Cloudpilot_GetTransportSerial_0=A.Ma)(u),wr=d._emscripten_bind_Cloudpilot___destroy___0=u=>(wr=d._emscripten_bind_Cloudpilot___destroy___0=A.Na)(u),Er=d._emscripten_bind_RomInfo_RomInfo_2=(u,b)=>(Er=d._emscripten_bind_RomInfo_RomInfo_2=A.Oa)(u,b),v=d._emscripten_bind_RomInfo_IsValid_0=u=>(v=d._emscripten_bind_RomInfo_IsValid_0=A.Pa)(u),q=d._emscripten_bind_RomInfo_CardVersion_0=u=>(q=d._emscripten_bind_RomInfo_CardVersion_0=A.Qa)(u),le=d._emscripten_bind_RomInfo_CardName_0=u=>(le=d._emscripten_bind_RomInfo_CardName_0=A.Ra)(u),rt=d._emscripten_bind_RomInfo_RomVersion_0=u=>(rt=d._emscripten_bind_RomInfo_RomVersion_0=A.Sa)(u),Ct=d._emscripten_bind_RomInfo_RomVersionString_0=u=>(Ct=d._emscripten_bind_RomInfo_RomVersionString_0=A.Ta)(u),Jt=d._emscripten_bind_RomInfo_Supports_1=(u,b)=>(Jt=d._emscripten_bind_RomInfo_Supports_1=A.Ua)(u,b),ut=d._emscripten_bind_RomInfo___destroy___0=u=>(ut=d._emscripten_bind_RomInfo___destroy___0=A.Va)(u),fn=d._emscripten_bind_Frame_GetLineWidth_0=u=>(fn=d._emscripten_bind_Frame_GetLineWidth_0=A.Wa)(u),Nt=d._emscripten_bind_Frame_GetBpp_0=u=>(Nt=d._emscripten_bind_Frame_GetBpp_0=A.Xa)(u),Kn=d._emscripten_bind_Frame_GetLines_0=u=>(Kn=d._emscripten_bind_Frame_GetLines_0=A.Ya)(u),Jr=d._emscripten_bind_Frame_GetMargin_0=u=>(Jr=d._emscripten_bind_Frame_GetMargin_0=A.Za)(u),$e=d._emscripten_bind_Frame_GetBytesPerLine_0=u=>($e=d._emscripten_bind_Frame_GetBytesPerLine_0=A._a)(u),Pt=d._emscripten_bind_Frame_GetFirstDirtyLine_0=u=>(Pt=d._emscripten_bind_Frame_GetFirstDirtyLine_0=A.$a)(u),rn=d._emscripten_bind_Frame_GetLastDirtyLine_0=u=>(rn=d._emscripten_bind_Frame_GetLastDirtyLine_0=A.ab)(u),Vn=d._emscripten_bind_Frame_GetHasChanges_0=u=>(Vn=d._emscripten_bind_Frame_GetHasChanges_0=A.bb)(u),Lr=d._emscripten_bind_Frame_GetBuffer_0=u=>(Lr=d._emscripten_bind_Frame_GetBuffer_0=A.cb)(u),tr=d._emscripten_bind_Frame_GetBufferSize_0=u=>(tr=d._emscripten_bind_Frame_GetBufferSize_0=A.db)(u),Hn=d._emscripten_bind_Frame_GetScaleX_0=u=>(Hn=d._emscripten_bind_Frame_GetScaleX_0=A.eb)(u),h=d._emscripten_bind_Frame_GetScaleY_0=u=>(h=d._emscripten_bind_Frame_GetScaleY_0=A.fb)(u),L=d._emscripten_bind_Frame___destroy___0=u=>(L=d._emscripten_bind_Frame___destroy___0=A.gb)(u),ve=d._emscripten_bind_DbBackup_Init_1=(u,b)=>(ve=d._emscripten_bind_DbBackup_Init_1=A.hb)(u,b),Je=d._emscripten_bind_DbBackup_IsInProgress_0=u=>(Je=d._emscripten_bind_DbBackup_IsInProgress_0=A.ib)(u),$t=d._emscripten_bind_DbBackup_IsDone_0=u=>($t=d._emscripten_bind_DbBackup_IsDone_0=A.jb)(u),At=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=u=>(At=d._emscripten_bind_DbBackup_GetCurrentDatabase_0=A.kb)(u),On=d._emscripten_bind_DbBackup_Save_0=u=>(On=d._emscripten_bind_DbBackup_Save_0=A.lb)(u),pn=d._emscripten_bind_DbBackup_Skip_0=u=>(pn=d._emscripten_bind_DbBackup_Skip_0=A.mb)(u),wn=d._emscripten_bind_DbBackup_GetArchivePtr_0=u=>(wn=d._emscripten_bind_DbBackup_GetArchivePtr_0=A.nb)(u),oi=d._emscripten_bind_DbBackup_GetArchiveSize_0=u=>(oi=d._emscripten_bind_DbBackup_GetArchiveSize_0=A.ob)(u),Wl=d._emscripten_bind_DbBackup___destroy___0=u=>(Wl=d._emscripten_bind_DbBackup___destroy___0=A.pb)(u),jn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=u=>(jn=d._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=A.qb)(u),pl=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=u=>(pl=d._emscripten_bind_SuspendContextClipboardCopy_Resume_0=A.rb)(u),Cu=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=u=>(Cu=d._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=A.sb)(u),ft=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=u=>(ft=d._emscripten_bind_SuspendContextClipboardCopy___destroy___0=A.tb)(u),hl=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=u=>(hl=d._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=A.ub)(u),Zl=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(u,b)=>(Zl=d._emscripten_bind_SuspendContextClipboardPaste_Resume_1=A.vb)(u,b),Ac=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=u=>(Ac=d._emscripten_bind_SuspendContextClipboardPaste___destroy___0=A.wb)(u),Su=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=u=>(Su=d._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=A.xb)(u),bh=d._emscripten_bind_SuspendContextNetworkConnect_Resume_0=u=>(bh=d._emscripten_bind_SuspendContextNetworkConnect_Resume_0=A.yb)(u),wu=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=u=>(wu=d._emscripten_bind_SuspendContextNetworkConnect___destroy___0=A.zb)(u),Y_=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=u=>(Y_=d._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=A.Ab)(u),X_=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=u=>(X_=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=A.Bb)(u),Q_=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=u=>(Q_=d._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=A.Cb)(u),J_=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(u,b,Y)=>(J_=d._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=A.Db)(u,b,Y),ev=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=u=>(ev=d._emscripten_bind_SuspendContextNetworkRpc___destroy___0=A.Eb)(u),ql=d._emscripten_bind_SuspendContextSerialSync_Cancel_0=u=>(ql=d._emscripten_bind_SuspendContextSerialSync_Cancel_0=A.Fb)(u),Eu=d._emscripten_bind_SuspendContextSerialSync_Resume_0=u=>(Eu=d._emscripten_bind_SuspendContextSerialSync_Resume_0=A.Gb)(u),kc=d._emscripten_bind_SuspendContextSerialSync___destroy___0=u=>(kc=d._emscripten_bind_SuspendContextSerialSync___destroy___0=A.Hb)(u),Ch=d._emscripten_bind_SuspendContext_GetKind_0=u=>(Ch=d._emscripten_bind_SuspendContext_GetKind_0=A.Ib)(u),Sh=d._emscripten_bind_SuspendContext_Cancel_0=u=>(Sh=d._emscripten_bind_SuspendContext_Cancel_0=A.Jb)(u),wh=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=u=>(wh=d._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=A.Kb)(u),tf=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=u=>(tf=d._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=A.Lb)(u),ml=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=u=>(ml=d._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=A.Mb)(u),Eh=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=u=>(Eh=d._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=A.Nb)(u),ca=d._emscripten_bind_SuspendContext_AsContextSerialSync_0=u=>(ca=d._emscripten_bind_SuspendContext_AsContextSerialSync_0=A.Ob)(u),Dh=d._emscripten_bind_SuspendContext___destroy___0=u=>(Dh=d._emscripten_bind_SuspendContext___destroy___0=A.Pb)(u),ae=d._emscripten_bind_SessionImage_SessionImage_0=()=>(ae=d._emscripten_bind_SessionImage_SessionImage_0=A.Qb)(),nf=d._emscripten_bind_SessionImage_GetDeviceId_0=u=>(nf=d._emscripten_bind_SessionImage_GetDeviceId_0=A.Rb)(u),ot=d._emscripten_bind_SessionImage_SetDeviceId_1=(u,b)=>(ot=d._emscripten_bind_SessionImage_SetDeviceId_1=A.Sb)(u,b),Rc=d._emscripten_bind_SessionImage_GetRomImage_0=u=>(Rc=d._emscripten_bind_SessionImage_GetRomImage_0=A.Tb)(u),Du=d._emscripten_bind_SessionImage_GetRomImageSize_0=u=>(Du=d._emscripten_bind_SessionImage_GetRomImageSize_0=A.Ub)(u),Kl=d._emscripten_bind_SessionImage_SetRomImage_2=(u,b,Y)=>(Kl=d._emscripten_bind_SessionImage_SetRomImage_2=A.Vb)(u,b,Y),Ih=d._emscripten_bind_SessionImage_GetMemoryImage_0=u=>(Ih=d._emscripten_bind_SessionImage_GetMemoryImage_0=A.Wb)(u),xh=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=u=>(xh=d._emscripten_bind_SessionImage_GetMemoryImageSize_0=A.Xb)(u),Th=d._emscripten_bind_SessionImage_SetMemoryImage_2=(u,b,Y)=>(Th=d._emscripten_bind_SessionImage_SetMemoryImage_2=A.Yb)(u,b,Y),js=d._emscripten_bind_SessionImage_GetMetadata_0=u=>(js=d._emscripten_bind_SessionImage_GetMetadata_0=A.Zb)(u),Pc=d._emscripten_bind_SessionImage_GetMetadataSize_0=u=>(Pc=d._emscripten_bind_SessionImage_GetMetadataSize_0=A._b)(u),Ji=d._emscripten_bind_SessionImage_SetMetadata_2=(u,b,Y)=>(Ji=d._emscripten_bind_SessionImage_SetMetadata_2=A.$b)(u,b,Y),gs=d._emscripten_bind_SessionImage_GetSavestate_0=u=>(gs=d._emscripten_bind_SessionImage_GetSavestate_0=A.ac)(u),zn=d._emscripten_bind_SessionImage_GetSavestateSize_0=u=>(zn=d._emscripten_bind_SessionImage_GetSavestateSize_0=A.bc)(u),rf=d._emscripten_bind_SessionImage_SetSavestate_2=(u,b,Y)=>(rf=d._emscripten_bind_SessionImage_SetSavestate_2=A.cc)(u,b,Y),Iu=d._emscripten_bind_SessionImage_GetVersion_0=u=>(Iu=d._emscripten_bind_SessionImage_GetVersion_0=A.dc)(u),sf=d._emscripten_bind_SessionImage_Serialize_0=u=>(sf=d._emscripten_bind_SessionImage_Serialize_0=A.ec)(u),af=d._emscripten_bind_SessionImage_GetSerializedImage_0=u=>(af=d._emscripten_bind_SessionImage_GetSerializedImage_0=A.fc)(u),Yl=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=u=>(Yl=d._emscripten_bind_SessionImage_GetSerializedImageSize_0=A.gc)(u),lf=d._emscripten_bind_SessionImage_Deserialize_2=(u,b,Y)=>(lf=d._emscripten_bind_SessionImage_Deserialize_2=A.hc)(u,b,Y),cf=d._emscripten_bind_SessionImage___destroy___0=u=>(cf=d._emscripten_bind_SessionImage___destroy___0=A.ic)(u),Mh=d._emscripten_bind_SkinLoader_SkinLoader_1=u=>(Mh=d._emscripten_bind_SkinLoader_SkinLoader_1=A.jc)(u),uf=d._emscripten_bind_SkinLoader_GetData_0=u=>(uf=d._emscripten_bind_SkinLoader_GetData_0=A.kc)(u),Ah=d._emscripten_bind_SkinLoader_GetSize_0=u=>(Ah=d._emscripten_bind_SkinLoader_GetSize_0=A.lc)(u),kh=d._emscripten_bind_SkinLoader___destroy___0=u=>(kh=d._emscripten_bind_SkinLoader___destroy___0=A.mc)(u),es=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=u=>(es=d._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=A.nc)(u),Rh=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=u=>(Rh=d._emscripten_bind_EmTransportSerialBuffer_Receive_0=A.oc)(u),df=d._emscripten_bind_EmTransportSerialBuffer_Send_3=(u,b,Y,Ze)=>(df=d._emscripten_bind_EmTransportSerialBuffer_Send_3=A.pc)(u,b,Y,Ze),Ph=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=u=>(Ph=d._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=A.qc)(u),Oh=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=u=>(Oh=d._emscripten_bind_EmTransportSerialBuffer_Rts_0=A.rc)(u),Nh=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=u=>(Nh=d._emscripten_bind_EmTransportSerialBuffer_Dtr_0=A.sc)(u),Fh=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=u=>(Fh=d._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=A.tc)(u),ff=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=u=>(ff=d._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=A.uc)(u),Lh=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=u=>(Lh=d._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=A.vc)(u),$h=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=u=>($h=d._emscripten_bind_EmTransportSerialBuffer_GetParity_0=A.wc)(u),Bh=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=u=>(Bh=d._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=A.xc)(u),We=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=u=>(We=d._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=A.yc)(u),Vh=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=u=>(Vh=d._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=A.zc)(u),jh=d._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=u=>(jh=d._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=A.Ac)(u),eo=d._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=(u,b)=>(eo=d._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=A.Bc)(u,b),pf=d._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=u=>(pf=d._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=A.Cc)(u),Ot=d._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=(u,b)=>(Ot=d._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=A.Dc)(u,b),xo=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=u=>(xo=d._emscripten_bind_EmTransportSerialBuffer___destroy___0=A.Ec)(u),Cn=d._emscripten_bind_GunzipContext_GunzipContext_3=(u,b,Y)=>(Cn=d._emscripten_bind_GunzipContext_GunzipContext_3=A.Fc)(u,b,Y),go=d._emscripten_bind_GunzipContext_GetState_0=u=>(go=d._emscripten_bind_GunzipContext_GetState_0=A.Gc)(u),No=d._emscripten_bind_GunzipContext_Continue_0=u=>(No=d._emscripten_bind_GunzipContext_Continue_0=A.Hc)(u),ua=d._emscripten_bind_GunzipContext_GetUncompressedData_0=u=>(ua=d._emscripten_bind_GunzipContext_GetUncompressedData_0=A.Ic)(u),qo=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=u=>(qo=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=A.Jc)(u),hf=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=u=>(hf=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=A.Kc)(u),mf=d._emscripten_bind_GunzipContext_GetError_0=u=>(mf=d._emscripten_bind_GunzipContext_GetError_0=A.Lc)(u),Oc=d._emscripten_bind_GunzipContext___destroy___0=u=>(Oc=d._emscripten_bind_GunzipContext___destroy___0=A.Mc)(u),Gh=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(u,b)=>(Gh=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=A.Nc)(u,b),Uh=d._emscripten_bind_ZipfileWalker_GetState_0=u=>(Uh=d._emscripten_bind_ZipfileWalker_GetState_0=A.Oc)(u),to=d._emscripten_bind_ZipfileWalker_Next_0=u=>(to=d._emscripten_bind_ZipfileWalker_Next_0=A.Pc)(u),lt=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=u=>(lt=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=A.Qc)(u),Zt=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=u=>(Zt=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=A.Rc)(u),$r=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=u=>($r=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=A.Sc)(u),ts=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=u=>(ts=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=A.Tc)(u),Ko=d._emscripten_bind_ZipfileWalker___destroy___0=u=>(Ko=d._emscripten_bind_ZipfileWalker___destroy___0=A.Uc)(u),ns=u=>(ns=A.Wc)(u),gl=()=>(gl=A.Xc)(),mr=()=>(mr=A.Yc)(),ii=()=>(ii=A.Zc)();function _l(){function u(){on||(on=!0,d.calledRun=!0,!ie&&(function Be(){fe(),ar(me)}(),function it(){fe(),ar(xe)}(),Z(d),d.onRuntimeInitialized?.(),Gr&&function Nc(){var u=wt;try{var Ze=u(0,0);return yn(Ze),Ze}catch(jt){return(u=>{if(u instanceof ti||"unwind"==u)return ke;fe(),u instanceof WebAssembly.RuntimeError&&ii()<=0&&k("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(1,u)})(jt)}}(),function Ue(){if(fe(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)u=d.postRun.shift(),qe.unshift(u);var u;ar(qe)}()))}ye>0||(function Hh(){gl(),function tt(){var u=mr();0==u&&(u+=4),D[u>>2]=34821223,D[u+4>>2]=2310721022,D[0]=1668509029}()}(),function de(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)u=d.preRun.shift(),Ne.unshift(u);var u;ar(Ne)}(),ye>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),u()},1)):u(),fe())}if(d.___original_main=()=>(d.___original_main=A._c)(),d.addFunction=(u,b)=>{var Y=(u=>(g||(g=new WeakMap,((u,b)=>{if(g)for(var Y=0;Y<0+b;Y++){var Ze=yt(Y);Ze&&g.set(Ze,Y)}})(0,Xr.length)),g.get(u)||0))(u);if(Y)return Y;var Ze=(()=>{if(z.length)return z.pop();try{Xr.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return Xr.length-1})();try{Pe(Ze,u)}catch(Dn){if(!(Dn instanceof TypeError))throw Dn;var jt=((u,b)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var b={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Y={parameters:[],results:"v"==u[0]?[]:[b[u[0]]]},Ze=1;Ze<u.length;++Ze)Y.parameters.push(b[u[Ze]]);return Y})(b),u);var Y=[1];((u,b)=>{var Y=u.slice(0,1),Ze=u.slice(1),jt={i:127,p:127,j:126,f:125,d:124,e:111};b.push(96),nt(Ze.length,b);for(var Dn=0;Dn<Ze.length;++Dn)b.push(jt[Ze[Dn]]);"v"==Y?b.push(0):b.push(1,jt[Y])})(b,Y);var Ze=[0,97,115,109,1,0,0,0,1];nt(Y.length,Ze),Ze.push(...Y),Ze.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var jt=new WebAssembly.Module(new Uint8Array(Ze));return new WebAssembly.Instance(jt,{e:{f:u}}).exports.f})(u,b);Pe(Ze,jt)}return g.set(u,Ze),Ze},d.UTF8ToString=Ht,Ee=function u(){on||_l(),on||(Ee=u)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Gr=!0;function nr(){}function bi(u){return(u||nr).__cache__}function sn(u,b){var Y=bi(b),Ze=Y[u];return Ze||((Ze=Object.create((b||nr).prototype)).ptr=u,Y[u]=Ze)}d.noInitialRun&&(Gr=!1),_l(),(nr.prototype=Object.create(nr.prototype)).constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},d.WrapperObject=nr,d.getCache=bi,d.wrapPointer=sn,d.castObject=function Fc(u,b){return sn(u.ptr,b)},d.NULL=sn(0),d.destroy=function zh(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete bi(u.__class__)[u.ptr]},d.compare=function Fa(u,b){return u.ptr===b.ptr},d.getPointer=function xu(u){return u.ptr},d.getClass=function vl(u){return u.__class__};var dt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(dt.needed){for(var u=0;u<dt.temps.length;u++)d._webidl_free(dt.temps[u]);dt.temps.length=0,d._webidl_free(dt.buffer),dt.buffer=0,dt.size+=dt.needed,dt.needed=0}dt.buffer||(dt.size+=128,dt.buffer=d._webidl_malloc(dt.size),Le(dt.buffer)),dt.pos=0},alloc(u,b){Le(dt.buffer);var jt,Ze=u.length*b.BYTES_PER_ELEMENT;return Ze=((u,b)=>8*Math.ceil(u/8))(Ze),dt.pos+Ze>=dt.size?(Le(Ze>0),dt.needed+=Ze,jt=d._webidl_malloc(Ze),dt.temps.push(jt)):(jt=dt.buffer+dt.pos,dt.pos+=Ze),jt},copy(u,b,Y){Y/=b.BYTES_PER_ELEMENT;for(var Ze=0;Ze<u.length;Ze++)b[Y+Ze]=u[Ze]}};function To(u){if("string"==typeof u){var b=function ds(u,b,Y){var Ze=Y>0?Y:Xs(u)+1,jt=new Array(Ze),Dn=vn(u,jt,0,jt.length);return b&&(jt.length=Dn),jt}(u),Y=dt.alloc(b,F);return dt.copy(b,F,Y),Y}return u}function Gn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Oe(){this.ptr=Mr(),bi(Oe)[this.ptr]=this}function Br(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=Er(u,b),bi(Br)[this.ptr]=this}function En(){throw"cannot construct a Frame, no constructor in IDL"}function ln(){throw"cannot construct a DbBackup, no constructor in IDL"}function po(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function rr(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Jn(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function _o(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function vo(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function Dr(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Bt(){this.ptr=ae(),bi(Bt)[this.ptr]=this}function si(u){dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),this.ptr=Mh(u),bi(si)[this.ptr]=this}function un(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function io(u,b,Y){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),Y&&"object"==typeof Y&&(Y=Y.ptr),this.ptr=Cn(u,b,Y),bi(io)[this.ptr]=this}function Ur(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),this.ptr=Gh(u,b),bi(Ur)[this.ptr]=this}return(Gn.prototype=Object.create(nr.prototype)).constructor=Gn,Gn.prototype.__class__=Gn,Gn.__cache__={},d.VoidPtr=Gn,Gn.prototype.__destroy__=Gn.prototype.__destroy__=function(){pr(this.ptr)},(Oe.prototype=Object.create(nr.prototype)).constructor=Oe,Oe.prototype.__class__=Oe,Oe.__cache__={},d.Cloudpilot=Oe,Oe.prototype.Malloc=Oe.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),sn(jr(this.ptr,u),Gn)},Oe.prototype.Free=Oe.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),Un(this.ptr,u)},Oe.prototype.Nullptr=Oe.prototype.Nullptr=function(){return sn(Ki(this.ptr),Gn)},Oe.prototype.EnableLogging=Oe.prototype.EnableLogging=function(u){u&&"object"==typeof u&&(u=u.ptr),Rn(this.ptr,u)},Oe.prototype.InitializeSession=Oe.prototype.InitializeSession=function(u,b,Y){var Ze=this.ptr;return dt.prepare(),u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),Y=Y&&"object"==typeof Y?Y.ptr:To(Y),!!Oo(Ze,u,b,Y)},Oe.prototype.GetCyclesPerSecond=Oe.prototype.GetCyclesPerSecond=function(){return Io(this.ptr)},Oe.prototype.RunEmulation=Oe.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),Yi(this.ptr,u)},Oe.prototype.SetClockFactor=Oe.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),Ia(this.ptr,u)},Oe.prototype.CopyFrame=Oe.prototype.CopyFrame=function(){return sn(Js(this.ptr),En)},Oe.prototype.IsScreenDirty=Oe.prototype.IsScreenDirty=function(){return!!Ns(this.ptr)},Oe.prototype.MarkScreenClean=Oe.prototype.MarkScreenClean=function(){ea(this.ptr)},Oe.prototype.MinMemoryForDevice=Oe.prototype.MinMemoryForDevice=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),Xi(b,u)},Oe.prototype.FramebufferSizeForDevice=Oe.prototype.FramebufferSizeForDevice=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),xa(b,u)},Oe.prototype.TotalMemoryForDevice=Oe.prototype.TotalMemoryForDevice=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),ta(b,u)},Oe.prototype.QueuePenMove=Oe.prototype.QueuePenMove=function(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),na(this.ptr,u,b)},Oe.prototype.QueuePenUp=Oe.prototype.QueuePenUp=function(){Ta(this.ptr)},Oe.prototype.QueueButtonDown=Oe.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),Ma(this.ptr,u)},Oe.prototype.QueueButtonUp=Oe.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),Aa(this.ptr,u)},Oe.prototype.QueueKeyboardEvent=Oe.prototype.QueueKeyboardEvent=function(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),ka(this.ptr,u,b)},Oe.prototype.IsPowerOff=Oe.prototype.IsPowerOff=function(){return!!ra(this.ptr)},Oe.prototype.IsUIInitialized=Oe.prototype.IsUIInitialized=function(){return!!Ra(this.ptr)},Oe.prototype.GetOSVersion=Oe.prototype.GetOSVersion=function(){return Pa(this.ptr)},Oe.prototype.IsSetupComplete=Oe.prototype.IsSetupComplete=function(){return!!br(this.ptr)},Oe.prototype.Reset=Oe.prototype.Reset=function(){oa(this.ptr)},Oe.prototype.ResetNoExtensions=Oe.prototype.ResetNoExtensions=function(){co(this.ptr)},Oe.prototype.ResetHard=Oe.prototype.ResetHard=function(){Gt(this.ptr)},Oe.prototype.InstallDb=Oe.prototype.InstallDb=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),ia(this.ptr,u,b)},Oe.prototype.GetPalette2bitMapping=Oe.prototype.GetPalette2bitMapping=function(){return Fs(this.ptr)},Oe.prototype.GetMemoryPtr=Oe.prototype.GetMemoryPtr=function(){return sn(Qr(this.ptr),Gn)},Oe.prototype.GetDirtyPagesPtr=Oe.prototype.GetDirtyPagesPtr=function(){return sn(Ls(this.ptr),Gn)},Oe.prototype.GetMemorySize=Oe.prototype.GetMemorySize=function(){return Oa(this.ptr)},Oe.prototype.ImportMemoryImage=Oe.prototype.ImportMemoryImage=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Pn(this.ptr,u,b)},Oe.prototype.GetRomPtr=Oe.prototype.GetRomPtr=function(){return sn(ps(this.ptr),Gn)},Oe.prototype.GetRomSize=Oe.prototype.GetRomSize=function(){return Cr(this.ptr)},Oe.prototype.GetSavestatePtr=Oe.prototype.GetSavestatePtr=function(){return sn($s(this.ptr),Gn)},Oe.prototype.GetSavestateSize=Oe.prototype.GetSavestateSize=function(){return cl(this.ptr)},Oe.prototype.SaveState=Oe.prototype.SaveState=function(){return!!Na(this.ptr)},Oe.prototype.LoadState=Oe.prototype.LoadState=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Fn(this.ptr,u,b)},Oe.prototype.GetHotsyncName=Oe.prototype.GetHotsyncName=function(){return Ht(zt(this.ptr))},Oe.prototype.SetHotsyncName=Oe.prototype.SetHotsyncName=function(u){var b=this.ptr;dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),hs(b,u)},Oe.prototype.RegisterPwmHandler=Oe.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),Bs(this.ptr,u)},Oe.prototype.StartBackup=Oe.prototype.StartBackup=function(){return sn(ul(this.ptr),ln)},Oe.prototype.SetClipboardIntegration=Oe.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),Vs(this.ptr,u)},Oe.prototype.GetClipboardIntegration=Oe.prototype.GetClipboardIntegration=function(){return!!Ke(this.ptr)},Oe.prototype.IsSuspended=Oe.prototype.IsSuspended=function(){return!!Qi(this.ptr)},Oe.prototype.GetSuspendContext=Oe.prototype.GetSuspendContext=function(){return sn(yi(this.ptr),Dr)},Oe.prototype.SetNetworkRedirection=Oe.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),sa(this.ptr,u)},Oe.prototype.GetNetworkRedirection=Oe.prototype.GetNetworkRedirection=function(){return!!aa(this.ptr)},Oe.prototype.RegisterProxyDisconnectHandler=Oe.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),la(this.ptr,u)},Oe.prototype.SetHotsyncNameManagement=Oe.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),ri(this.ptr,u)},Oe.prototype.LaunchAppByName=Oe.prototype.LaunchAppByName=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),!!hr(b,u)},Oe.prototype.LaunchAppByDbHeader=Oe.prototype.LaunchAppByDbHeader=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!Zo(this.ptr,u,b)},Oe.prototype.DeviceSupportsCardSize=Oe.prototype.DeviceSupportsCardSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!Lt(this.ptr,u)},Oe.prototype.ClearExternalStorage=Oe.prototype.ClearExternalStorage=function(){Mn(this.ptr)},Oe.prototype.AllocateCard=Oe.prototype.AllocateCard=function(u,b){var Y=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),b&&"object"==typeof b&&(b=b.ptr),!!Hl(Y,u,b)},Oe.prototype.AdoptCard=Oe.prototype.AdoptCard=function(u,b,Y){var Ze=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),b&&"object"==typeof b&&(b=b.ptr),Y&&"object"==typeof Y&&(Y=Y.ptr),!!dl(Ze,u,b,Y)},Oe.prototype.MountCard=Oe.prototype.MountCard=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),!!fl(b,u)},Oe.prototype.RemoveCard=Oe.prototype.RemoveCard=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),!!zl(b,u)},Oe.prototype.GetCardData=Oe.prototype.GetCardData=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),sn($n(b,u),Gn)},Oe.prototype.GetCardDirtyPages=Oe.prototype.GetCardDirtyPages=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),sn(ms(b,u),Gn)},Oe.prototype.GetCardSize=Oe.prototype.GetCardSize=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),Tn(b,u)},Oe.prototype.RemountCards=Oe.prototype.RemountCards=function(){uo(this.ptr)},Oe.prototype.GetSupportLevel=Oe.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),fo(this.ptr,u)},Oe.prototype.GetMountedKey=Oe.prototype.GetMountedKey=function(){return Ht(Sr(this.ptr))},Oe.prototype.GetTransportIR=Oe.prototype.GetTransportIR=function(){return sn(Bn(this.ptr),un)},Oe.prototype.GetTransportSerial=Oe.prototype.GetTransportSerial=function(){return sn(er(this.ptr),un)},Oe.prototype.__destroy__=Oe.prototype.__destroy__=function(){wr(this.ptr)},(Br.prototype=Object.create(nr.prototype)).constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},d.RomInfo=Br,Br.prototype.IsValid=Br.prototype.IsValid=function(){return!!v(this.ptr)},Br.prototype.CardVersion=Br.prototype.CardVersion=function(){return q(this.ptr)},Br.prototype.CardName=Br.prototype.CardName=function(){return Ht(le(this.ptr))},Br.prototype.RomVersion=Br.prototype.RomVersion=function(){return rt(this.ptr)},Br.prototype.RomVersionString=Br.prototype.RomVersionString=function(){return Ht(Ct(this.ptr))},Br.prototype.Supports=Br.prototype.Supports=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),!!Jt(b,u)},Br.prototype.__destroy__=Br.prototype.__destroy__=function(){ut(this.ptr)},(En.prototype=Object.create(nr.prototype)).constructor=En,En.prototype.__class__=En,En.__cache__={},d.Frame=En,En.prototype.GetLineWidth=En.prototype.GetLineWidth=function(){return fn(this.ptr)},En.prototype.GetBpp=En.prototype.GetBpp=function(){return Nt(this.ptr)},En.prototype.GetLines=En.prototype.GetLines=function(){return Kn(this.ptr)},En.prototype.GetMargin=En.prototype.GetMargin=function(){return Jr(this.ptr)},En.prototype.GetBytesPerLine=En.prototype.GetBytesPerLine=function(){return $e(this.ptr)},En.prototype.GetFirstDirtyLine=En.prototype.GetFirstDirtyLine=function(){return Pt(this.ptr)},En.prototype.GetLastDirtyLine=En.prototype.GetLastDirtyLine=function(){return rn(this.ptr)},En.prototype.GetHasChanges=En.prototype.GetHasChanges=function(){return!!Vn(this.ptr)},En.prototype.GetBuffer=En.prototype.GetBuffer=function(){return sn(Lr(this.ptr),Gn)},En.prototype.GetBufferSize=En.prototype.GetBufferSize=function(){return tr(this.ptr)},En.prototype.GetScaleX=En.prototype.GetScaleX=function(){return Hn(this.ptr)},En.prototype.GetScaleY=En.prototype.GetScaleY=function(){return h(this.ptr)},En.prototype.__destroy__=En.prototype.__destroy__=function(){L(this.ptr)},(ln.prototype=Object.create(nr.prototype)).constructor=ln,ln.prototype.__class__=ln,ln.__cache__={},d.DbBackup=ln,ln.prototype.Init=ln.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!ve(this.ptr,u)},ln.prototype.IsInProgress=ln.prototype.IsInProgress=function(){return!!Je(this.ptr)},ln.prototype.IsDone=ln.prototype.IsDone=function(){return!!$t(this.ptr)},ln.prototype.GetCurrentDatabase=ln.prototype.GetCurrentDatabase=function(){return Ht(At(this.ptr))},ln.prototype.Save=ln.prototype.Save=function(){return!!On(this.ptr)},ln.prototype.Skip=ln.prototype.Skip=function(){pn(this.ptr)},ln.prototype.GetArchivePtr=ln.prototype.GetArchivePtr=function(){return sn(wn(this.ptr),Gn)},ln.prototype.GetArchiveSize=ln.prototype.GetArchiveSize=function(){return oi(this.ptr)},ln.prototype.__destroy__=ln.prototype.__destroy__=function(){Wl(this.ptr)},(po.prototype=Object.create(nr.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},d.SuspendContextClipboardCopy=po,po.prototype.Cancel=po.prototype.Cancel=function(){jn(this.ptr)},po.prototype.Resume=po.prototype.Resume=function(){pl(this.ptr)},po.prototype.GetClipboardContent=po.prototype.GetClipboardContent=function(){return Ht(Cu(this.ptr))},po.prototype.__destroy__=po.prototype.__destroy__=function(){ft(this.ptr)},(rr.prototype=Object.create(nr.prototype)).constructor=rr,rr.prototype.__class__=rr,rr.__cache__={},d.SuspendContextClipboardPaste=rr,rr.prototype.Cancel=rr.prototype.Cancel=function(){hl(this.ptr)},rr.prototype.Resume=rr.prototype.Resume=function(u){var b=this.ptr;dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),Zl(b,u)},rr.prototype.__destroy__=rr.prototype.__destroy__=function(){Ac(this.ptr)},(Jn.prototype=Object.create(nr.prototype)).constructor=Jn,Jn.prototype.__class__=Jn,Jn.__cache__={},d.SuspendContextNetworkConnect=Jn,Jn.prototype.Cancel=Jn.prototype.Cancel=function(){Su(this.ptr)},Jn.prototype.Resume=Jn.prototype.Resume=function(){bh(this.ptr)},Jn.prototype.__destroy__=Jn.prototype.__destroy__=function(){wu(this.ptr)},(_o.prototype=Object.create(nr.prototype)).constructor=_o,_o.prototype.__class__=_o,_o.__cache__={},d.SuspendContextNetworkRpc=_o,_o.prototype.Cancel=_o.prototype.Cancel=function(){Y_(this.ptr)},_o.prototype.GetRequestSize=_o.prototype.GetRequestSize=function(){return X_(this.ptr)},_o.prototype.GetRequestData=_o.prototype.GetRequestData=function(){return sn(Q_(this.ptr),Gn)},_o.prototype.ReceiveResponse=_o.prototype.ReceiveResponse=function(u,b){u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),J_(this.ptr,u,b)},_o.prototype.__destroy__=_o.prototype.__destroy__=function(){ev(this.ptr)},(vo.prototype=Object.create(nr.prototype)).constructor=vo,vo.prototype.__class__=vo,vo.__cache__={},d.SuspendContextSerialSync=vo,vo.prototype.Cancel=vo.prototype.Cancel=function(){ql(this.ptr)},vo.prototype.Resume=vo.prototype.Resume=function(){Eu(this.ptr)},vo.prototype.__destroy__=vo.prototype.__destroy__=function(){kc(this.ptr)},(Dr.prototype=Object.create(nr.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},d.SuspendContext=Dr,Dr.prototype.GetKind=Dr.prototype.GetKind=function(){return Ch(this.ptr)},Dr.prototype.Cancel=Dr.prototype.Cancel=function(){Sh(this.ptr)},Dr.prototype.AsContextClipboardCopy=Dr.prototype.AsContextClipboardCopy=function(){return sn(wh(this.ptr),po)},Dr.prototype.AsContextClipboardPaste=Dr.prototype.AsContextClipboardPaste=function(){return sn(tf(this.ptr),rr)},Dr.prototype.AsContextNetworkConnect=Dr.prototype.AsContextNetworkConnect=function(){return sn(ml(this.ptr),Jn)},Dr.prototype.AsContextNetworkRpc=Dr.prototype.AsContextNetworkRpc=function(){return sn(Eh(this.ptr),_o)},Dr.prototype.AsContextSerialSync=Dr.prototype.AsContextSerialSync=function(){return sn(ca(this.ptr),vo)},Dr.prototype.__destroy__=Dr.prototype.__destroy__=function(){Dh(this.ptr)},(Bt.prototype=Object.create(nr.prototype)).constructor=Bt,Bt.prototype.__class__=Bt,Bt.__cache__={},d.SessionImage=Bt,Bt.prototype.GetDeviceId=Bt.prototype.GetDeviceId=function(){return Ht(nf(this.ptr))},Bt.prototype.SetDeviceId=Bt.prototype.SetDeviceId=function(u){var b=this.ptr;return dt.prepare(),u=u&&"object"==typeof u?u.ptr:To(u),sn(ot(b,u),Bt)},Bt.prototype.GetRomImage=Bt.prototype.GetRomImage=function(){return sn(Rc(this.ptr),Gn)},Bt.prototype.GetRomImageSize=Bt.prototype.GetRomImageSize=function(){return Du(this.ptr)},Bt.prototype.SetRomImage=Bt.prototype.SetRomImage=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),sn(Kl(this.ptr,u,b),Bt)},Bt.prototype.GetMemoryImage=Bt.prototype.GetMemoryImage=function(){return sn(Ih(this.ptr),Gn)},Bt.prototype.GetMemoryImageSize=Bt.prototype.GetMemoryImageSize=function(){return xh(this.ptr)},Bt.prototype.SetMemoryImage=Bt.prototype.SetMemoryImage=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),sn(Th(this.ptr,u,b),Bt)},Bt.prototype.GetMetadata=Bt.prototype.GetMetadata=function(){return sn(js(this.ptr),Gn)},Bt.prototype.GetMetadataSize=Bt.prototype.GetMetadataSize=function(){return Pc(this.ptr)},Bt.prototype.SetMetadata=Bt.prototype.SetMetadata=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),sn(Ji(this.ptr,u,b),Bt)},Bt.prototype.GetSavestate=Bt.prototype.GetSavestate=function(){return sn(gs(this.ptr),Gn)},Bt.prototype.GetSavestateSize=Bt.prototype.GetSavestateSize=function(){return zn(this.ptr)},Bt.prototype.SetSavestate=Bt.prototype.SetSavestate=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),sn(rf(this.ptr,u,b),Bt)},Bt.prototype.GetVersion=Bt.prototype.GetVersion=function(){return Iu(this.ptr)},Bt.prototype.Serialize=Bt.prototype.Serialize=function(){return!!sf(this.ptr)},Bt.prototype.GetSerializedImage=Bt.prototype.GetSerializedImage=function(){return sn(af(this.ptr),Gn)},Bt.prototype.GetSerializedImageSize=Bt.prototype.GetSerializedImageSize=function(){return Yl(this.ptr)},Bt.prototype.Deserialize=Bt.prototype.Deserialize=function(u,b){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),!!lf(this.ptr,u,b)},Bt.prototype.__destroy__=Bt.prototype.__destroy__=function(){cf(this.ptr)},(si.prototype=Object.create(nr.prototype)).constructor=si,si.prototype.__class__=si,si.__cache__={},d.SkinLoader=si,si.prototype.GetData=si.prototype.GetData=function(){return sn(uf(this.ptr),Gn)},si.prototype.GetSize=si.prototype.GetSize=function(){return Ah(this.ptr)},si.prototype.__destroy__=si.prototype.__destroy__=function(){kh(this.ptr)},(un.prototype=Object.create(nr.prototype)).constructor=un,un.prototype.__class__=un,un.__cache__={},d.EmTransportSerialBuffer=un,un.prototype.RxBytesPending=un.prototype.RxBytesPending=function(){return es(this.ptr)},un.prototype.Receive=un.prototype.Receive=function(){return sn(Rh(this.ptr),Gn)},un.prototype.Send=un.prototype.Send=function(u,b,Y){return u&&"object"==typeof u&&(u=u.ptr),b&&"object"==typeof b&&(b=b.ptr),Y&&"object"==typeof Y&&(Y=Y.ptr),df(this.ptr,u,b,Y)},un.prototype.IsOpen=un.prototype.IsOpen=function(){return!!Ph(this.ptr)},un.prototype.Rts=un.prototype.Rts=function(){return Oh(this.ptr)},un.prototype.Dtr=un.prototype.Dtr=function(){return!!Nh(this.ptr)},un.prototype.IsBreak=un.prototype.IsBreak=function(){return!!Fh(this.ptr)},un.prototype.BufferSize=un.prototype.BufferSize=function(){return ff(this.ptr)},un.prototype.GetBaud=un.prototype.GetBaud=function(){return Lh(this.ptr)},un.prototype.GetParity=un.prototype.GetParity=function(){return $h(this.ptr)},un.prototype.GetStopBits=un.prototype.GetStopBits=function(){return Bh(this.ptr)},un.prototype.GetDataBits=un.prototype.GetDataBits=function(){return We(this.ptr)},un.prototype.GetHwrHandshake=un.prototype.GetHwrHandshake=function(){return Vh(this.ptr)},un.prototype.GetModeSync=un.prototype.GetModeSync=function(){return!!jh(this.ptr)},un.prototype.SetModeSync=un.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),eo(this.ptr,u)},un.prototype.IsFrameComplete=un.prototype.IsFrameComplete=function(){return!!pf(this.ptr)},un.prototype.SetRequestTransferCallback=un.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),Ot(this.ptr,u)},un.prototype.__destroy__=un.prototype.__destroy__=function(){xo(this.ptr)},(io.prototype=Object.create(nr.prototype)).constructor=io,io.prototype.__class__=io,io.__cache__={},d.GunzipContext=io,io.prototype.GetState=io.prototype.GetState=function(){return go(this.ptr)},io.prototype.Continue=io.prototype.Continue=function(){return No(this.ptr)},io.prototype.GetUncompressedData=io.prototype.GetUncompressedData=function(){return sn(ua(this.ptr),Gn)},io.prototype.ReleaseUncompressedData=io.prototype.ReleaseUncompressedData=function(){return sn(qo(this.ptr),Gn)},io.prototype.GetUncompressedSize=io.prototype.GetUncompressedSize=function(){return hf(this.ptr)},io.prototype.GetError=io.prototype.GetError=function(){return Ht(mf(this.ptr))},io.prototype.__destroy__=io.prototype.__destroy__=function(){Oc(this.ptr)},(Ur.prototype=Object.create(nr.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},d.ZipfileWalker=Ur,Ur.prototype.GetState=Ur.prototype.GetState=function(){return Uh(this.ptr)},Ur.prototype.Next=Ur.prototype.Next=function(){return to(this.ptr)},Ur.prototype.GetTotalEntries=Ur.prototype.GetTotalEntries=function(){return lt(this.ptr)},Ur.prototype.GetCurrentEntrySize=Ur.prototype.GetCurrentEntrySize=function(){return Zt(this.ptr)},Ur.prototype.GetCurrentEntryName=Ur.prototype.GetCurrentEntryName=function(){return Ht($r(this.ptr))},Ur.prototype.GetCurrentEntryContent=Ur.prototype.GetCurrentEntryContent=function(){return sn(ts(this.ptr),Gn)},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){Ko(this.ptr)},O});be.exports=Ae},3097:be=>{var C,Ae=(C=typeof document<"u"?document.currentScript?.src:void 0,function(w={}){var Z,V,De,te,d=w,O=new Promise((v,q)=>{Z=v,V=q}),I="object"==typeof window,x="function"==typeof importScripts,U=("object"==typeof process&&"object"==typeof process.versions&&process,Object.assign({},d)),G="./this.program",M=(v,q)=>{throw q},N="";(I||x)&&(x?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),C&&(N=C),N=N.startsWith("blob:")?"":N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),x&&(te=v=>{var q=new XMLHttpRequest;return q.open("GET",v,!1),q.responseType="arraybuffer",q.send(null),new Uint8Array(q.response)}),De=v=>fetch(v,{credentials:"same-origin"}).then(q=>q.ok?q.arrayBuffer():Promise.reject(new Error(q.status+" : "+q.url))));var ee,W=d.print||console.log.bind(console),k=d.printErr||console.error.bind(console);Object.assign(d,U),U=null,d.thisProgram&&(G=d.thisProgram),d.quit&&(M=d.quit),d.wasmBinary&&(ee=d.wasmBinary);var ce,ke,F,P,S,D,ge,ie=!1;function Le(v,q){v||Dt(q)}function Ge(){var v=ce.buffer;d.HEAP8=F=new Int8Array(v),d.HEAP16=new Int16Array(v),d.HEAPU8=P=new Uint8Array(v),d.HEAPU16=new Uint16Array(v),d.HEAP32=S=new Int32Array(v),d.HEAPU32=D=new Uint32Array(v),d.HEAPF32=new Float32Array(v),d.HEAPF64=ge=new Float64Array(v)}function fe(){if(!ie){var v=Vs();0==v&&(v+=4);var q=D[v>>2],le=D[v+4>>2];(34821223!=q||2310721022!=le)&&Dt(`Stack overflow! Stack cookie has been overwritten at ${Ht(v)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Ht(le)} ${Ht(q)}`),1668509029!=D[0]&&Dt("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Ne=[],me=[],xe=[],qe=[],ye=0,Ie=null,Ee=null;function Dt(v){d.onAbort?.(v),k(v="Aborted("+v+")"),ie=!0,ke=1,v+=". Build with -sASSERTIONS for more info.";var q=new WebAssembly.RuntimeError(v);throw V(q),q}var Pr,Yt=v=>v.startsWith("data:application/octet-stream;base64,"),Qt=0;function an(v){return(...q)=>{if(ie)throw"program has already aborted!";Qt+=1;try{return v(...q)}catch(le){if(ie||Qt>1||le===1/0||"unwind"===le)throw le;Dt("unhandled exception: "+[le,le.stack])}finally{Qt-=1}}}function ho(v){if(v==Pr&&ee)return new Uint8Array(ee);if(te)return te(v);throw"both async and sync fetching of the wasm failed"}function Qn(v,q,le){return function Or(v){return ee?Promise.resolve().then(()=>ho(v)):De(v).then(q=>new Uint8Array(q),()=>ho(v))}(v).then(rt=>WebAssembly.instantiate(rt,q)).then(le,rt=>{k(`failed to asynchronously prepare wasm: ${rt}`),Dt(rt)})}var ar,oo={46051:()=>{throw new Error("terminated")}};function Te(v){this.name="ExitStatus",this.message=`Program terminated with exit(${v})`,this.status=v}var In,yi,Me=v=>{for(;v.length>0;)v.shift()(d)},tn=d.noExitRuntime||!0,Ht=v=>"0x"+(v>>>=0).toString(16).padStart(8,"0"),Xt=typeof TextDecoder<"u"?new TextDecoder:void 0,qn=(v,q,le)=>{for(var rt=q+le,Ct=q;v[Ct]&&!(Ct>=rt);)++Ct;if(Ct-q>16&&v.buffer&&Xt)return Xt.decode(v.subarray(q,Ct));for(var Jt="";q<Ct;){var ut=v[q++];if(128&ut){var fn=63&v[q++];if(192!=(224&ut)){var Nt=63&v[q++];if((ut=224==(240&ut)?(15&ut)<<12|fn<<6|Nt:(7&ut)<<18|fn<<12|Nt<<6|63&v[q++])<65536)Jt+=String.fromCharCode(ut);else{var Kn=ut-65536;Jt+=String.fromCharCode(55296|Kn>>10,56320|1023&Kn)}}else Jt+=String.fromCharCode((31&ut)<<6|fn)}else Jt+=String.fromCharCode(ut)}return Jt},Ln=(v,q)=>v?qn(P,v,q):"",Kr=(v,q)=>q+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*q:NaN,Go={varargs:void 0,getStr:v=>Ln(v)},xr=[0,31,60,91,121,152,182,213,244,274,305,335],vn=[0,31,59,90,120,151,181,212,243,273,304,334],gn=v=>((v=>v%4==0&&(v%100!=0||v%400==0))(v.getFullYear())?xr:vn)[v.getMonth()]+v.getDate()-1,gi=(v,q,le,rt)=>{if(!(rt>0))return 0;for(var Ct=le,Jt=le+rt-1,ut=0;ut<v.length;++ut){var fn=v.charCodeAt(ut);if(fn>=55296&&fn<=57343&&(fn=65536+((1023&fn)<<10)|1023&v.charCodeAt(++ut)),fn<=127){if(le>=Jt)break;q[le++]=fn}else if(fn<=2047){if(le+1>=Jt)break;q[le++]=192|fn>>6,q[le++]=128|63&fn}else if(fn<=65535){if(le+2>=Jt)break;q[le++]=224|fn>>12,q[le++]=128|fn>>6&63,q[le++]=128|63&fn}else{if(le+3>=Jt)break;q[le++]=240|fn>>18,q[le++]=128|fn>>12&63,q[le++]=128|fn>>6&63,q[le++]=128|63&fn}}return q[le]=0,le-Ct},Ho=(v,q,le)=>gi(v,P,q,le),ne=[],fi=v=>{var le=(v-ce.buffer.byteLength+65535)/65536;try{return ce.grow(le),Ge(),1}catch{}},Fr={},xi=()=>{if(!xi.strings){var q={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var le in Fr)void 0===Fr[le]?delete q[le]:q[le]=Fr[le];var rt=[];for(var le in q)rt.push(`${le}=${q[le]}`);xi.strings=rt}return xi.strings},ni=(v,q)=>{ke=v,(v=>{ke=v,tn||(d.onExit?.(v),ie=!0),M(v,new Te(v))})(v)},ds=[null,[],[]],Qs=(v,q)=>{var le=ds[v];0===q||10===q?((1===v?W:k)(qn(le,0)),le.length=0):le.push(q)},Xr={b:(v,q,le,rt)=>{Dt(`Assertion failed: ${Ln(v)}, at: `+[q?Ln(q):"unknown filename",le,rt?Ln(rt):"unknown function"])},n:function kn(v,q,le){Kr(q,le)},h:function lo(v,q,le,rt){Go.varargs=rt},i:()=>{Dt("")},f:(v,q,le)=>P.copyWithin(v,q,q+le),j:function xn(v,q,le){var rt=Kr(v,q),Ct=new Date(1e3*rt);S[le>>2]=Ct.getUTCSeconds(),S[le+4>>2]=Ct.getUTCMinutes(),S[le+8>>2]=Ct.getUTCHours(),S[le+12>>2]=Ct.getUTCDate(),S[le+16>>2]=Ct.getUTCMonth(),S[le+20>>2]=Ct.getUTCFullYear()-1900,S[le+24>>2]=Ct.getUTCDay();var Jt=Date.UTC(Ct.getUTCFullYear(),0,1,0,0,0,0),ut=(Ct.getTime()-Jt)/864e5|0;S[le+28>>2]=ut},k:function mi(v,q,le){var rt=Kr(v,q),Ct=new Date(1e3*rt);S[le>>2]=Ct.getSeconds(),S[le+4>>2]=Ct.getMinutes(),S[le+8>>2]=Ct.getHours(),S[le+12>>2]=Ct.getDate(),S[le+16>>2]=Ct.getMonth(),S[le+20>>2]=Ct.getFullYear()-1900,S[le+24>>2]=Ct.getDay();var Jt=0|gn(Ct);S[le+28>>2]=Jt,S[le+36>>2]=-60*Ct.getTimezoneOffset();var ut=new Date(Ct.getFullYear(),0,1),fn=new Date(Ct.getFullYear(),6,1).getTimezoneOffset(),Nt=ut.getTimezoneOffset(),Kn=0|(fn!=Nt&&Ct.getTimezoneOffset()==Math.min(Nt,fn));S[le+32>>2]=Kn},l:function(v){var q=(()=>{var le=new Date(S[v+20>>2]+1900,S[v+16>>2],S[v+12>>2],S[v+8>>2],S[v+4>>2],S[v>>2],0),rt=S[v+32>>2],Ct=le.getTimezoneOffset(),Jt=new Date(le.getFullYear(),0,1),ut=new Date(le.getFullYear(),6,1).getTimezoneOffset(),fn=Jt.getTimezoneOffset(),Nt=Math.min(fn,ut);if(rt<0)S[v+32>>2]=+(ut!=fn&&Nt==Ct);else if(rt>0!=(Nt==Ct)){var Kn=Math.max(fn,ut),Jr=rt>0?Nt:Kn;le.setTime(le.getTime()+6e4*(Jr-Ct))}S[v+24>>2]=le.getDay();var $e=0|gn(le);S[v+28>>2]=$e,S[v>>2]=le.getSeconds(),S[v+4>>2]=le.getMinutes(),S[v+8>>2]=le.getHours(),S[v+12>>2]=le.getDate(),S[v+16>>2]=le.getMonth(),S[v+20>>2]=le.getYear();var Pt=le.getTime();return isNaN(Pt)?-1:Pt/1e3})();return(v=>{Bs(v)})((ar=q,+Math.abs(ar)>=1?ar>0?+Math.floor(ar/4294967296)>>>0:~~+Math.ceil((ar-+(~~ar>>>0))/4294967296)>>>0:0)),q>>>0},p:(v,q,le,rt)=>{var Ct=(new Date).getFullYear(),Jt=new Date(Ct,0,1),ut=new Date(Ct,6,1),fn=Jt.getTimezoneOffset(),Nt=ut.getTimezoneOffset(),Kn=Math.max(fn,Nt);D[v>>2]=60*Kn,S[q>>2]=+(fn!=Nt);var Jr=rn=>{var Vn=rn>=0?"-":"+",Lr=Math.abs(rn);return`UTC${Vn}${String(Math.floor(Lr/60)).padStart(2,"0")}${String(Lr%60).padStart(2,"0")}`},$e=Jr(fn),Pt=Jr(Nt);Nt<fn?(Ho($e,le,17),Ho(Pt,rt,17)):(Ho($e,rt,17),Ho(Pt,le,17))},a:(v,q,le)=>((v,q,le)=>{var rt=((v,q)=>{ne.length=0;for(var le;le=P[v++];){var rt=105!=le;q+=(rt&=112!=le)&&q%8?4:0,ne.push(112==le?D[q>>2]:105==le?S[q>>2]:ge[q>>3]),q+=rt?8:4}return ne})(q,le);return oo[v](...rt)})(v,q,le),d:()=>Date.now(),o:v=>{var Nt,q=P.length,le=2147483648;if((v>>>=0)>le)return!1;for(var Ct=1;Ct<=4;Ct*=2){var Jt=q*(1+.2/Ct);Jt=Math.min(Jt,v+100663296);var ut=Math.min(le,(Nt=Math.max(v,Jt))+(65536-Nt%65536)%65536);if(fi(ut))return!0}return!1},q:(v,q)=>{var le=0;return xi().forEach((rt,Ct)=>{var Jt=q+le;D[v+4*Ct>>2]=Jt,((v,q)=>{for(var le=0;le<v.length;++le)F[q++]=v.charCodeAt(le);F[q]=0})(rt,Jt),le+=rt.length+1}),0},r:(v,q)=>{var le=xi();D[v>>2]=le.length;var rt=0;return le.forEach(Ct=>rt+=Ct.length+1),D[q>>2]=rt,0},s:ni,e:v=>52,c:(v,q,le,rt)=>52,m:function Xs(v,q,le,rt,Ct){return Kr(q,le),70},g:(v,q,le,rt)=>{for(var Ct=0,Jt=0;Jt<le;Jt++){var ut=D[q>>2],fn=D[q+4>>2];q+=8;for(var Nt=0;Nt<fn;Nt++)Qs(v,P[ut+Nt]);Ct+=fn}return D[rt>>2]=Ct,0}},yt=function ti(){var v=function Po(){return{a:Xr}}();function q(rt,Ct){return yt=function vr(v){var q={};for(var le in v){var rt=v[le];q[le]="function"==typeof rt?an(rt):rt}return q}(yt=rt.exports),ce=yt.t,Ge(),In=yt.xa,function Vt(v){me.unshift(v)}(yt.u),function sr(){var v=In.get,q={};In.get=le=>{var rt=v.call(In,le),Ct=q[le];return(!Ct||Ct.func!==rt)&&(Ct=q[le]={func:rt,wrapper:an(rt)}),Ct.wrapper}}(),function pt(v){if(ye--,d.monitorRunDependencies?.(ye),0==ye&&(null!==Ie&&(clearInterval(Ie),Ie=null),Ee)){var q=Ee;Ee=null,q()}}(),yt}if(function Xe(v){ye++,d.monitorRunDependencies?.(ye)}(),d.instantiateWasm)try{return d.instantiateWasm(v,q)}catch(rt){k(`Module.instantiateWasm callback failed with error: ${rt}`),V(rt)}return Pr||(Pr=function ei(){var v="fstools_web.wasm";return Yt(v)?v:function he(v){return d.locateFile?d.locateFile(v,N):N+v}(v)}()),function Eo(v,q,le,rt){return v||"function"!=typeof WebAssembly.instantiateStreaming||Yt(q)||"function"!=typeof fetch?Qn(q,le,rt):fetch(q,{credentials:"same-origin"}).then(Ct=>WebAssembly.instantiateStreaming(Ct,le).then(rt,function(ut){return k(`wasm streaming compile failed: ${ut}`),k("falling back to ArrayBuffer instantiation"),Qn(q,le,rt)}))}(ee,Pr,v,function le(rt){q(rt.instance)}).catch(V),{}}(),Pe=(d._free=v=>(d._free=yt.v)(v),d._malloc=v=>(d._malloc=yt.w)(v),d._webidl_free=v=>(d._webidl_free=yt.x)(v),d._webidl_malloc=v=>(d._webidl_malloc=yt.y)(v),d._emscripten_bind_VoidPtr___destroy___0=v=>(Pe=d._emscripten_bind_VoidPtr___destroy___0=yt.z)(v)),ue=d._emscripten_bind_FSTools_FSTools_0=()=>(ue=d._emscripten_bind_FSTools_FSTools_0=yt.A)(),Ye=d._emscripten_bind_FSTools_Malloc_1=(v,q)=>(Ye=d._emscripten_bind_FSTools_Malloc_1=yt.B)(v,q),A=d._emscripten_bind_FSTools_Free_1=(v,q)=>(A=d._emscripten_bind_FSTools_Free_1=yt.C)(v,q),Qe=d._emscripten_bind_FSTools_Nullptr_0=v=>(Qe=d._emscripten_bind_FSTools_Nullptr_0=yt.D)(v),je=d._emscripten_bind_FSTools___destroy___0=v=>(je=d._emscripten_bind_FSTools___destroy___0=yt.E)(v),ct=d._emscripten_bind_MkfsContext_MkfsContext_0=()=>(ct=d._emscripten_bind_MkfsContext_MkfsContext_0=yt.F)(),wt=d._emscripten_bind_MkfsContext_Mkfs_2=(v,q,le)=>(wt=d._emscripten_bind_MkfsContext_Mkfs_2=yt.G)(v,q,le),Et=d._emscripten_bind_MkfsContext_GetImage_0=v=>(Et=d._emscripten_bind_MkfsContext_GetImage_0=yt.H)(v),bn=d._emscripten_bind_MkfsContext_GetImageSize_0=v=>(bn=d._emscripten_bind_MkfsContext_GetImageSize_0=yt.I)(v),pr=d._emscripten_bind_MkfsContext___destroy___0=v=>(pr=d._emscripten_bind_MkfsContext___destroy___0=yt.J)(v),Mr=d._emscripten_bind_FsckContext_FsckContext_1=v=>(Mr=d._emscripten_bind_FsckContext_FsckContext_1=yt.K)(v),jr=d._emscripten_bind_FsckContext_GetImage_0=v=>(jr=d._emscripten_bind_FsckContext_GetImage_0=yt.L)(v),Un=d._emscripten_bind_FsckContext_GetDirtyPages_0=v=>(Un=d._emscripten_bind_FsckContext_GetDirtyPages_0=yt.M)(v),Ki=d._emscripten_bind_FsckContext_GetImageSize_0=v=>(Ki=d._emscripten_bind_FsckContext_GetImageSize_0=yt.N)(v),Rn=d._emscripten_bind_FsckContext_Fsck_0=v=>(Rn=d._emscripten_bind_FsckContext_Fsck_0=yt.O)(v),Oo=d._emscripten_bind_FsckContext_GetResult_0=v=>(Oo=d._emscripten_bind_FsckContext_GetResult_0=yt.P)(v),Io=d._emscripten_bind_FsckContext___destroy___0=v=>(Io=d._emscripten_bind_FsckContext___destroy___0=yt.Q)(v),Yi=d._emscripten_bind_GunzipContext_GunzipContext_3=(v,q,le)=>(Yi=d._emscripten_bind_GunzipContext_GunzipContext_3=yt.R)(v,q,le),Ia=d._emscripten_bind_GunzipContext_GetState_0=v=>(Ia=d._emscripten_bind_GunzipContext_GetState_0=yt.S)(v),Js=d._emscripten_bind_GunzipContext_Continue_0=v=>(Js=d._emscripten_bind_GunzipContext_Continue_0=yt.T)(v),Ns=d._emscripten_bind_GunzipContext_GetUncompressedData_0=v=>(Ns=d._emscripten_bind_GunzipContext_GetUncompressedData_0=yt.U)(v),ea=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=v=>(ea=d._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=yt.V)(v),Xi=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=v=>(Xi=d._emscripten_bind_GunzipContext_GetUncompressedSize_0=yt.W)(v),xa=d._emscripten_bind_GunzipContext_GetError_0=v=>(xa=d._emscripten_bind_GunzipContext_GetError_0=yt.X)(v),ta=d._emscripten_bind_GunzipContext___destroy___0=v=>(ta=d._emscripten_bind_GunzipContext___destroy___0=yt.Y)(v),na=d._emscripten_bind_GzipContext_GzipContext_3=(v,q,le)=>(na=d._emscripten_bind_GzipContext_GzipContext_3=yt.Z)(v,q,le),Ta=d._emscripten_bind_GzipContext_SetFilename_1=(v,q)=>(Ta=d._emscripten_bind_GzipContext_SetFilename_1=yt._)(v,q),Ma=d._emscripten_bind_GzipContext_SetMtime_1=(v,q)=>(Ma=d._emscripten_bind_GzipContext_SetMtime_1=yt.$)(v,q),Aa=d._emscripten_bind_GzipContext_Continue_0=v=>(Aa=d._emscripten_bind_GzipContext_Continue_0=yt.aa)(v),ka=d._emscripten_bind_GzipContext_GetState_0=v=>(ka=d._emscripten_bind_GzipContext_GetState_0=yt.ba)(v),ra=d._emscripten_bind_GzipContext_GetGzipData_0=v=>(ra=d._emscripten_bind_GzipContext_GetGzipData_0=yt.ca)(v),Ra=d._emscripten_bind_GzipContext_GetGzipSize_0=v=>(Ra=d._emscripten_bind_GzipContext_GetGzipSize_0=yt.da)(v),Pa=d._emscripten_bind_GzipContext_GetError_0=v=>(Pa=d._emscripten_bind_GzipContext_GetError_0=yt.ea)(v),br=d._emscripten_bind_GzipContext___destroy___0=v=>(br=d._emscripten_bind_GzipContext___destroy___0=yt.fa)(v),oa=d._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(oa=d._emscripten_bind_CreateZipContext_CreateZipContext_0=yt.ga)(),co=d._emscripten_bind_CreateZipContext_Initialize_1=(v,q)=>(co=d._emscripten_bind_CreateZipContext_Initialize_1=yt.ha)(v,q),Gt=d._emscripten_bind_CreateZipContext_AddEntry_1=(v,q)=>(Gt=d._emscripten_bind_CreateZipContext_AddEntry_1=yt.ia)(v,q),ia=d._emscripten_bind_CreateZipContext_WriteData_2=(v,q,le)=>(ia=d._emscripten_bind_CreateZipContext_WriteData_2=yt.ja)(v,q,le),Fs=d._emscripten_bind_CreateZipContext_GetZipData_0=v=>(Fs=d._emscripten_bind_CreateZipContext_GetZipData_0=yt.ka)(v),Qr=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=v=>(Qr=d._emscripten_bind_CreateZipContext_GetZipDataSize_0=yt.la)(v),Ls=d._emscripten_bind_CreateZipContext_GetLastError_0=v=>(Ls=d._emscripten_bind_CreateZipContext_GetLastError_0=yt.ma)(v),Oa=d._emscripten_bind_CreateZipContext___destroy___0=v=>(Oa=d._emscripten_bind_CreateZipContext___destroy___0=yt.na)(v),Pn=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(v,q)=>(Pn=d._emscripten_bind_ZipfileWalker_ZipfileWalker_2=yt.oa)(v,q),ps=d._emscripten_bind_ZipfileWalker_GetState_0=v=>(ps=d._emscripten_bind_ZipfileWalker_GetState_0=yt.pa)(v),Cr=d._emscripten_bind_ZipfileWalker_Next_0=v=>(Cr=d._emscripten_bind_ZipfileWalker_Next_0=yt.qa)(v),$s=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=v=>($s=d._emscripten_bind_ZipfileWalker_GetTotalEntries_0=yt.ra)(v),cl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=v=>(cl=d._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=yt.sa)(v),Na=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=v=>(Na=d._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=yt.ta)(v),Fn=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=v=>(Fn=d._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=yt.ua)(v),zt=d._emscripten_bind_ZipfileWalker___destroy___0=v=>(zt=d._emscripten_bind_ZipfileWalker___destroy___0=yt.va)(v),hs=d._main=(v,q)=>(hs=d._main=yt.wa)(v,q),Bs=v=>(Bs=yt.ya)(v),ul=()=>(ul=yt.za)(),Vs=()=>(Vs=yt.Aa)(),Ke=()=>(Ke=yt.Ba)();function la(){function v(){yi||(yi=!0,d.calledRun=!0,!ie&&(function Be(){fe(),Me(me)}(),function it(){fe(),Me(xe)}(),Z(d),d.onRuntimeInitialized?.(),ri&&function sa(){var v=hs;try{Qt+=1;var rt=v(0,0);return ni(rt),rt}catch(Ct){return(v=>{if(v instanceof Te||"unwind"==v)return ke;fe(),v instanceof WebAssembly.RuntimeError&&Ke()<=0&&k("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(1,v)})(Ct)}finally{Qt-=1}}(),function Ue(){if(fe(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)v=d.postRun.shift(),qe.unshift(v);var v;Me(qe)}()))}ye>0||(function aa(){ul(),function tt(){var v=Vs();0==v&&(v+=4),D[v>>2]=34821223,D[v+4>>2]=2310721022,D[0]=1668509029}()}(),function de(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)v=d.preRun.shift(),Ne.unshift(v);var v;Me(Ne)}(),ye>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),v()},1)):v(),fe())}if(d.___original_main=()=>(d.___original_main=yt.Ca)(),Ee=function v(){yi||la(),yi||(Ee=v)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var ri=!0;function hr(){}function Zo(v){return(v||hr).__cache__}function Lt(v,q){var le=Zo(q),rt=le[v];return rt||((rt=Object.create((q||hr).prototype)).ptr=v,le[v]=rt)}d.noInitialRun&&(ri=!1),la(),(hr.prototype=Object.create(hr.prototype)).constructor=hr,hr.prototype.__class__=hr,hr.__cache__={},d.WrapperObject=hr,d.getCache=Zo,d.wrapPointer=Lt,d.castObject=function Mn(v,q){return Lt(v.ptr,q)},d.NULL=Lt(0),d.destroy=function Hl(v){if(!v.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";v.__destroy__(),delete Zo(v.__class__)[v.ptr]},d.compare=function dl(v,q){return v.ptr===q.ptr},d.getPointer=function fl(v){return v.ptr},d.getClass=function zl(v){return v.__class__};var $n={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if($n.needed){for(var v=0;v<$n.temps.length;v++)d._webidl_free($n.temps[v]);$n.temps.length=0,d._webidl_free($n.buffer),$n.buffer=0,$n.size+=$n.needed,$n.needed=0}$n.buffer||($n.size+=128,$n.buffer=d._webidl_malloc($n.size),Le($n.buffer)),$n.pos=0},alloc(v,q){Le($n.buffer);var Ct,rt=v.length*q.BYTES_PER_ELEMENT;return rt=((v,q)=>8*Math.ceil(v/8))(rt),$n.pos+rt>=$n.size?(Le(rt>0),$n.needed+=rt,Ct=d._webidl_malloc(rt),$n.temps.push(Ct)):(Ct=$n.buffer+$n.pos,$n.pos+=rt),Ct},copy(v,q,le){le/=q.BYTES_PER_ELEMENT;for(var rt=0;rt<v.length;rt++)q[le+rt]=v[rt]}};function ms(v){if("string"==typeof v){var q=function fs(v,q,le){var rt=le>0?le:(v=>{for(var q=0,le=0;le<v.length;++le){var rt=v.charCodeAt(le);rt<=127?q++:rt<=2047?q+=2:rt>=55296&&rt<=57343?(q+=4,++le):q+=3}return q})(v)+1,Ct=new Array(rt),Jt=gi(v,Ct,0,Ct.length);return q&&(Ct.length=Jt),Ct}(v),le=$n.alloc(q,F);return $n.copy(q,F,le),le}return v}function Tn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function uo(){this.ptr=ue(),Zo(uo)[this.ptr]=this}function fo(){this.ptr=ct(),Zo(fo)[this.ptr]=this}function Sr(v){v&&"object"==typeof v&&(v=v.ptr),this.ptr=Mr(v),Zo(Sr)[this.ptr]=this}function Bn(v,q,le){v&&"object"==typeof v&&(v=v.ptr),q&&"object"==typeof q&&(q=q.ptr),le&&"object"==typeof le&&(le=le.ptr),this.ptr=Yi(v,q,le),Zo(Bn)[this.ptr]=this}function er(v,q,le){v&&"object"==typeof v&&(v=v.ptr),q&&"object"==typeof q&&(q=q.ptr),le&&"object"==typeof le&&(le=le.ptr),this.ptr=na(v,q,le),Zo(er)[this.ptr]=this}function wr(){this.ptr=oa(),Zo(wr)[this.ptr]=this}function Er(v,q){v&&"object"==typeof v&&(v=v.ptr),q&&"object"==typeof q&&(q=q.ptr),this.ptr=Pn(v,q),Zo(Er)[this.ptr]=this}return(Tn.prototype=Object.create(hr.prototype)).constructor=Tn,Tn.prototype.__class__=Tn,Tn.__cache__={},d.VoidPtr=Tn,Tn.prototype.__destroy__=Tn.prototype.__destroy__=function(){Pe(this.ptr)},(uo.prototype=Object.create(hr.prototype)).constructor=uo,uo.prototype.__class__=uo,uo.__cache__={},d.FSTools=uo,uo.prototype.Malloc=uo.prototype.Malloc=function(v){return v&&"object"==typeof v&&(v=v.ptr),Lt(Ye(this.ptr,v),Tn)},uo.prototype.Free=uo.prototype.Free=function(v){v&&"object"==typeof v&&(v=v.ptr),A(this.ptr,v)},uo.prototype.Nullptr=uo.prototype.Nullptr=function(){return Lt(Qe(this.ptr),Tn)},uo.prototype.__destroy__=uo.prototype.__destroy__=function(){je(this.ptr)},(fo.prototype=Object.create(hr.prototype)).constructor=fo,fo.prototype.__class__=fo,fo.__cache__={},d.MkfsContext=fo,fo.prototype.Mkfs=fo.prototype.Mkfs=function(v,q){var le=this.ptr;return $n.prepare(),v&&"object"==typeof v&&(v=v.ptr),q=q&&"object"==typeof q?q.ptr:ms(q),!!wt(le,v,q)},fo.prototype.GetImage=fo.prototype.GetImage=function(){return Lt(Et(this.ptr),Tn)},fo.prototype.GetImageSize=fo.prototype.GetImageSize=function(){return bn(this.ptr)},fo.prototype.__destroy__=fo.prototype.__destroy__=function(){pr(this.ptr)},(Sr.prototype=Object.create(hr.prototype)).constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},d.FsckContext=Sr,Sr.prototype.GetImage=Sr.prototype.GetImage=function(){return Lt(jr(this.ptr),Tn)},Sr.prototype.GetDirtyPages=Sr.prototype.GetDirtyPages=function(){return Lt(Un(this.ptr),Tn)},Sr.prototype.GetImageSize=Sr.prototype.GetImageSize=function(){return Ki(this.ptr)},Sr.prototype.Fsck=Sr.prototype.Fsck=function(){return Rn(this.ptr)},Sr.prototype.GetResult=Sr.prototype.GetResult=function(){return Oo(this.ptr)},Sr.prototype.__destroy__=Sr.prototype.__destroy__=function(){Io(this.ptr)},(Bn.prototype=Object.create(hr.prototype)).constructor=Bn,Bn.prototype.__class__=Bn,Bn.__cache__={},d.GunzipContext=Bn,Bn.prototype.GetState=Bn.prototype.GetState=function(){return Ia(this.ptr)},Bn.prototype.Continue=Bn.prototype.Continue=function(){return Js(this.ptr)},Bn.prototype.GetUncompressedData=Bn.prototype.GetUncompressedData=function(){return Lt(Ns(this.ptr),Tn)},Bn.prototype.ReleaseUncompressedData=Bn.prototype.ReleaseUncompressedData=function(){return Lt(ea(this.ptr),Tn)},Bn.prototype.GetUncompressedSize=Bn.prototype.GetUncompressedSize=function(){return Xi(this.ptr)},Bn.prototype.GetError=Bn.prototype.GetError=function(){return Ln(xa(this.ptr))},Bn.prototype.__destroy__=Bn.prototype.__destroy__=function(){ta(this.ptr)},(er.prototype=Object.create(hr.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},d.GzipContext=er,er.prototype.SetFilename=er.prototype.SetFilename=function(v){var q=this.ptr;return $n.prepare(),v=v&&"object"==typeof v?v.ptr:ms(v),Lt(Ta(q,v),er)},er.prototype.SetMtime=er.prototype.SetMtime=function(v){return v&&"object"==typeof v&&(v=v.ptr),Lt(Ma(this.ptr,v),er)},er.prototype.Continue=er.prototype.Continue=function(){return Aa(this.ptr)},er.prototype.GetState=er.prototype.GetState=function(){return ka(this.ptr)},er.prototype.GetGzipData=er.prototype.GetGzipData=function(){return Lt(ra(this.ptr),Tn)},er.prototype.GetGzipSize=er.prototype.GetGzipSize=function(){return Ra(this.ptr)},er.prototype.GetError=er.prototype.GetError=function(){return Ln(Pa(this.ptr))},er.prototype.__destroy__=er.prototype.__destroy__=function(){br(this.ptr)},(wr.prototype=Object.create(hr.prototype)).constructor=wr,wr.prototype.__class__=wr,wr.__cache__={},d.CreateZipContext=wr,wr.prototype.Initialize=wr.prototype.Initialize=function(v){return v&&"object"==typeof v&&(v=v.ptr),!!co(this.ptr,v)},wr.prototype.AddEntry=wr.prototype.AddEntry=function(v){var q=this.ptr;return $n.prepare(),v=v&&"object"==typeof v?v.ptr:ms(v),!!Gt(q,v)},wr.prototype.WriteData=wr.prototype.WriteData=function(v,q){return v&&"object"==typeof v&&(v=v.ptr),q&&"object"==typeof q&&(q=q.ptr),!!ia(this.ptr,v,q)},wr.prototype.GetZipData=wr.prototype.GetZipData=function(){return Lt(Fs(this.ptr),Tn)},wr.prototype.GetZipDataSize=wr.prototype.GetZipDataSize=function(){return Qr(this.ptr)},wr.prototype.GetLastError=wr.prototype.GetLastError=function(){return Ln(Ls(this.ptr))},wr.prototype.__destroy__=wr.prototype.__destroy__=function(){Oa(this.ptr)},(Er.prototype=Object.create(hr.prototype)).constructor=Er,Er.prototype.__class__=Er,Er.__cache__={},d.ZipfileWalker=Er,Er.prototype.GetState=Er.prototype.GetState=function(){return ps(this.ptr)},Er.prototype.Next=Er.prototype.Next=function(){return Cr(this.ptr)},Er.prototype.GetTotalEntries=Er.prototype.GetTotalEntries=function(){return $s(this.ptr)},Er.prototype.GetCurrentEntrySize=Er.prototype.GetCurrentEntrySize=function(){return cl(this.ptr)},Er.prototype.GetCurrentEntryName=Er.prototype.GetCurrentEntryName=function(){return Ln(Na(this.ptr))},Er.prototype.GetCurrentEntryContent=Er.prototype.GetCurrentEntryContent=function(){return Lt(Fn(this.ptr),Tn)},Er.prototype.__destroy__=Er.prototype.__destroy__=function(){zt(this.ptr)},O});be.exports=Ae},8886:be=>{var C,Ae=(C=typeof document<"u"?document.currentScript?.src:void 0,function(w={}){var Z,V,De,te,d=w,O=new Promise((h,L)=>{Z=h,V=L}),I="object"==typeof window,x="function"==typeof importScripts,U=("object"==typeof process&&"object"==typeof process.versions&&process,Object.assign({},d)),G="./this.program",M=(h,L)=>{throw L},N="";(I||x)&&(x?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),C&&(N=C),N=N.startsWith("blob:")?"":N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),x&&(te=h=>{var L=new XMLHttpRequest;return L.open("GET",h,!1),L.responseType="arraybuffer",L.send(null),new Uint8Array(L.response)}),De=h=>fetch(h,{credentials:"same-origin"}).then(L=>L.ok?L.arrayBuffer():Promise.reject(new Error(L.status+" : "+L.url))));var ee,W=d.print||console.log.bind(console),k=d.printErr||console.error.bind(console);Object.assign(d,U),U=null,d.thisProgram&&(G=d.thisProgram),d.quit&&(M=d.quit),d.wasmBinary&&(ee=d.wasmBinary);var ce,ke,F,P,S,D,ie=!1;function Le(h,L){h||Dt(L)}function Ge(){var h=ce.buffer;d.HEAP8=F=new Int8Array(h),d.HEAP16=new Int16Array(h),d.HEAPU8=P=new Uint8Array(h),d.HEAPU16=new Uint16Array(h),d.HEAP32=S=new Int32Array(h),d.HEAPU32=D=new Uint32Array(h),d.HEAPF32=new Float32Array(h),d.HEAPF64=new Float64Array(h)}function fe(){if(!ie){var h=Tn();0==h&&(h+=4);var L=D[h>>2],ve=D[h+4>>2];(34821223!=L||2310721022!=ve)&&Dt(`Stack overflow! Stack cookie has been overwritten at ${tn(h)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${tn(ve)} ${tn(L)}`),1668509029!=D[0]&&Dt("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Ne=[],me=[],xe=[],qe=[],ye=0,Ie=null,Ee=null;function Dt(h){d.onAbort?.(h),k(h="Aborted("+h+")"),ie=!0,ke=1,h+=". Build with -sASSERTIONS for more info.";var L=new WebAssembly.RuntimeError(h);throw V(L),L}var Pr,ar,Yt=h=>h.startsWith("data:application/octet-stream;base64,"),Qt=0;function an(h){return(...L)=>{if(ie)throw"program has already aborted!";Qt+=1;try{return h(...L)}catch(ve){if(ie||Qt>1||ve===1/0||"unwind"===ve)throw ve;Dt("unhandled exception: "+[ve,ve.stack])}finally{Qt-=1}}}function ho(h){if(h==Pr&&ee)return new Uint8Array(ee);if(te)return te(h);throw"both async and sync fetching of the wasm failed"}function Qn(h,L,ve){return function Or(h){return ee?Promise.resolve().then(()=>ho(h)):De(h).then(L=>new Uint8Array(L),()=>ho(h))}(h).then(Je=>WebAssembly.instantiate(Je,L)).then(ve,Je=>{k(`failed to asynchronously prepare wasm: ${Je}`),Dt(Je)})}function oo(h){this.name="ExitStatus",this.message=`Program terminated with exit(${h})`,this.status=h}var Ht,Sr,Te=h=>{for(;h.length>0;)h.shift()(d)},Me=d.noExitRuntime||!0,tn=h=>"0x"+(h>>>=0).toString(16).padStart(8,"0"),In=typeof TextDecoder<"u"?new TextDecoder:void 0,Xt=(h,L,ve)=>{for(var Je=L+ve,$t=L;h[$t]&&!($t>=Je);)++$t;if($t-L>16&&h.buffer&&In)return In.decode(h.subarray(L,$t));for(var At="";L<$t;){var On=h[L++];if(128&On){var pn=63&h[L++];if(192!=(224&On)){var wn=63&h[L++];if((On=224==(240&On)?(15&On)<<12|pn<<6|wn:(7&On)<<18|pn<<12|wn<<6|63&h[L++])<65536)At+=String.fromCharCode(On);else{var oi=On-65536;At+=String.fromCharCode(55296|oi>>10,56320|1023&oi)}}else At+=String.fromCharCode((31&On)<<6|pn)}else At+=String.fromCharCode(On)}return At},qn=(h,L)=>h?Xt(P,h,L):"",Nr=(h,L)=>L+2097152>>>0<4194305-!!h?(h>>>0)+4294967296*L:NaN,xn=[0,31,60,91,121,152,182,213,244,274,305,335],yr=[0,31,59,90,120,151,181,212,243,273,304,334],xr=h=>((h=>h%4==0&&(h%100!=0||h%400==0))(h.getFullYear())?xn:yr)[h.getMonth()]+h.getDate()-1,nn=(h,L,ve,Je)=>{if(!(Je>0))return 0;for(var $t=ve,At=ve+Je-1,On=0;On<h.length;++On){var pn=h.charCodeAt(On);if(pn>=55296&&pn<=57343&&(pn=65536+((1023&pn)<<10)|1023&h.charCodeAt(++On)),pn<=127){if(ve>=At)break;L[ve++]=pn}else if(pn<=2047){if(ve+1>=At)break;L[ve++]=192|pn>>6,L[ve++]=128|63&pn}else if(pn<=65535){if(ve+2>=At)break;L[ve++]=224|pn>>12,L[ve++]=128|pn>>6&63,L[ve++]=128|63&pn}else{if(ve+3>=At)break;L[ve++]=240|pn>>18,L[ve++]=128|pn>>12&63,L[ve++]=128|pn>>6&63,L[ve++]=128|63&pn}}return L[ve]=0,ve-$t},Do=(h,L,ve)=>nn(h,P,L,ve),cs=h=>{var ve=(h-ce.buffer.byteLength+65535)/65536;try{return ce.grow(ve),Ge(),1}catch{}},zo={},vi=()=>{if(!vi.strings){var L={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var ve in zo)void 0===zo[ve]?delete L[ve]:L[ve]=zo[ve];var Je=[];for(var ve in L)Je.push(`${ve}=${L[ve]}`);vi.strings=Je}return vi.strings},mo=[null,[],[]],us=(h,L)=>{var ve=mo[h];0===L||10===L?((1===h?W:k)(Xt(ve,0)),ve.length=0):ve.push(L)},Tr=(h,L)=>{ke=h,(h=>{ke=h,Me||(d.onExit?.(h),ie=!0),M(h,new oo(h))})(h)},Ys=h=>{for(var L=0,ve=0;ve<h.length;++ve){var Je=h.charCodeAt(ve);Je<=127?L++:Je<=2047?L+=2:Je>=55296&&Je<=57343?(L+=4,++ve):L+=3}return L},Qs={a:(h,L,ve,Je)=>{Dt(`Assertion failed: ${qn(h)}, at: `+[L?qn(L):"unknown filename",ve,Je?qn(Je):"unknown function"])},m:function Kr(h,L,ve){Nr(L,ve)},p:()=>{Dt("")},i:()=>1,e:(h,L,ve)=>P.copyWithin(h,L,L+ve),j:function vn(h,L,ve){var Je=Nr(h,L),$t=new Date(1e3*Je);S[ve>>2]=$t.getSeconds(),S[ve+4>>2]=$t.getMinutes(),S[ve+8>>2]=$t.getHours(),S[ve+12>>2]=$t.getDate(),S[ve+16>>2]=$t.getMonth(),S[ve+20>>2]=$t.getFullYear()-1900,S[ve+24>>2]=$t.getDay();var At=0|xr($t);S[ve+28>>2]=At,S[ve+36>>2]=-60*$t.getTimezoneOffset();var On=new Date($t.getFullYear(),0,1),pn=new Date($t.getFullYear(),6,1).getTimezoneOffset(),wn=On.getTimezoneOffset(),oi=0|(pn!=wn&&$t.getTimezoneOffset()==Math.min(wn,pn));S[ve+32>>2]=oi},k:function(h){var L=(()=>{var ve=new Date(S[h+20>>2]+1900,S[h+16>>2],S[h+12>>2],S[h+8>>2],S[h+4>>2],S[h>>2],0),Je=S[h+32>>2],$t=ve.getTimezoneOffset(),At=new Date(ve.getFullYear(),0,1),On=new Date(ve.getFullYear(),6,1).getTimezoneOffset(),pn=At.getTimezoneOffset(),wn=Math.min(pn,On);if(Je<0)S[h+32>>2]=+(On!=pn&&wn==$t);else if(Je>0!=(wn==$t)){var oi=Math.max(pn,On),Wl=Je>0?wn:oi;ve.setTime(ve.getTime()+6e4*(Wl-$t))}S[h+24>>2]=ve.getDay();var jn=0|xr(ve);S[h+28>>2]=jn,S[h>>2]=ve.getSeconds(),S[h+4>>2]=ve.getMinutes(),S[h+8>>2]=ve.getHours(),S[h+12>>2]=ve.getDate(),S[h+16>>2]=ve.getMonth(),S[h+20>>2]=ve.getYear();var pl=ve.getTime();return isNaN(pl)?-1:pl/1e3})();return(h=>{$n(h)})((ar=L,+Math.abs(ar)>=1?ar>0?+Math.floor(ar/4294967296)>>>0:~~+Math.ceil((ar-+(~~ar>>>0))/4294967296)>>>0:0)),L>>>0},d:(h,L,ve,Je)=>{var $t=(new Date).getFullYear(),At=new Date($t,0,1),On=new Date($t,6,1),pn=At.getTimezoneOffset(),wn=On.getTimezoneOffset(),oi=Math.max(pn,wn);D[h>>2]=60*oi,S[L>>2]=+(pn!=wn);var Wl=Cu=>{var ft=Cu>=0?"-":"+",hl=Math.abs(Cu);return`UTC${ft}${String(Math.floor(hl/60)).padStart(2,"0")}${String(hl%60).padStart(2,"0")}`},jn=Wl(pn),pl=Wl(wn);wn<pn?(Do(jn,ve,17),Do(pl,Je,17)):(Do(jn,Je,17),Do(pl,ve,17))},b:()=>Date.now(),c:h=>{var wn,L=P.length,ve=2147483648;if((h>>>=0)>ve)return!1;for(var $t=1;$t<=4;$t*=2){var At=L*(1+.2/$t);At=Math.min(At,h+100663296);var On=Math.min(ve,(wn=Math.max(h,At))+(65536-wn%65536)%65536);if(cs(On))return!0}return!1},n:(h,L)=>{var ve=0;return vi().forEach((Je,$t)=>{var At=L+ve;D[h+4*$t>>2]=At,((h,L)=>{for(var ve=0;ve<h.length;++ve)F[L++]=h.charCodeAt(ve);F[L]=0})(Je,At),ve+=Je.length+1}),0},o:(h,L)=>{var ve=vi();D[h>>2]=ve.length;var Je=0;return ve.forEach($t=>Je+=$t.length+1),D[L>>2]=Je,0},f:h=>52,h:(h,L,ve,Je)=>52,l:function Ti(h,L,ve,Je,$t){return Nr(L,ve),70},g:(h,L,ve,Je)=>{for(var $t=0,At=0;At<ve;At++){var On=D[L>>2],pn=D[L+4>>2];L+=8;for(var wn=0;wn<pn;wn++)us(h,P[On+wn]);$t+=pn}return D[Je>>2]=$t,0}},nt=function ti(){var h=function Po(){return{a:Qs}}();function L(Je,$t){return nt=function vr(h){var L={};for(var ve in h){var Je=h[ve];L[ve]="function"==typeof Je?an(Je):Je}return L}(nt=Je.exports),ce=nt.q,Ge(),Ht=nt.Sa,function Vt(h){me.unshift(h)}(nt.r),function sr(){var h=Ht.get,L={};Ht.get=ve=>{var Je=h.call(Ht,ve),$t=L[ve];return(!$t||$t.func!==Je)&&($t=L[ve]={func:Je,wrapper:an(Je)}),$t.wrapper}}(),function pt(h){if(ye--,d.monitorRunDependencies?.(ye),0==ye&&(null!==Ie&&(clearInterval(Ie),Ie=null),Ee)){var L=Ee;Ee=null,L()}}(),nt}if(function Xe(h){ye++,d.monitorRunDependencies?.(ye)}(),d.instantiateWasm)try{return d.instantiateWasm(h,L)}catch(Je){k(`Module.instantiateWasm callback failed with error: ${Je}`),V(Je)}return Pr||(Pr=function ei(){var h="vfs_web.wasm";return Yt(h)?h:function he(h){return d.locateFile?d.locateFile(h,N):N+h}(h)}()),function Eo(h,L,ve,Je){return h||"function"!=typeof WebAssembly.instantiateStreaming||Yt(L)||"function"!=typeof fetch?Qn(L,ve,Je):fetch(L,{credentials:"same-origin"}).then($t=>WebAssembly.instantiateStreaming($t,ve).then(Je,function(On){return k(`wasm streaming compile failed: ${On}`),k("falling back to ArrayBuffer instantiation"),Qn(L,ve,Je)}))}(ee,Pr,h,function ve(Je){L(Je.instance)}).catch(V),{}}(),yt=(d._malloc=h=>(d._malloc=nt.s)(h),d._free=h=>(d._free=nt.t)(h),d._webidl_free=h=>(d._webidl_free=nt.u)(h),d._webidl_malloc=h=>(d._webidl_malloc=nt.v)(h),d._emscripten_bind_VoidPtr___destroy___0=h=>(yt=d._emscripten_bind_VoidPtr___destroy___0=nt.w)(h)),qi=d._emscripten_bind_FileEntry_GetName_0=h=>(qi=d._emscripten_bind_FileEntry_GetName_0=nt.x)(h),g=d._emscripten_bind_FileEntry_IsDirectory_0=h=>(g=d._emscripten_bind_FileEntry_IsDirectory_0=nt.y)(h),E=d._emscripten_bind_FileEntry_GetSize_0=h=>(E=d._emscripten_bind_FileEntry_GetSize_0=nt.z)(h),z=d._emscripten_bind_FileEntry_GetModifiedTS_0=h=>(z=d._emscripten_bind_FileEntry_GetModifiedTS_0=nt.A)(h),se=d._emscripten_bind_FileEntry_GetAttributes_0=h=>(se=d._emscripten_bind_FileEntry_GetAttributes_0=nt.B)(h),Pe=d._emscripten_bind_FileEntry___destroy___0=h=>(Pe=d._emscripten_bind_FileEntry___destroy___0=nt.C)(h),ue=d._emscripten_bind_Vfs_Vfs_0=()=>(ue=d._emscripten_bind_Vfs_Vfs_0=nt.D)(),Ye=d._emscripten_bind_Vfs_Malloc_1=(h,L)=>(Ye=d._emscripten_bind_Vfs_Malloc_1=nt.E)(h,L),A=d._emscripten_bind_Vfs_Free_1=(h,L)=>(A=d._emscripten_bind_Vfs_Free_1=nt.F)(h,L),Qe=d._emscripten_bind_Vfs_Nullptr_0=h=>(Qe=d._emscripten_bind_Vfs_Nullptr_0=nt.G)(h),je=d._emscripten_bind_Vfs_AllocateImage_1=(h,L)=>(je=d._emscripten_bind_Vfs_AllocateImage_1=nt.H)(h,L),ct=d._emscripten_bind_Vfs_MountImage_1=(h,L)=>(ct=d._emscripten_bind_Vfs_MountImage_1=nt.I)(h,L),wt=d._emscripten_bind_Vfs_UnmountImage_1=(h,L)=>(wt=d._emscripten_bind_Vfs_UnmountImage_1=nt.J)(h,L),Et=d._emscripten_bind_Vfs_SwitchSlot_1=(h,L)=>(Et=d._emscripten_bind_Vfs_SwitchSlot_1=nt.K)(h,L),bn=d._emscripten_bind_Vfs_GetPendingImageSize_0=h=>(bn=d._emscripten_bind_Vfs_GetPendingImageSize_0=nt.L)(h),pr=d._emscripten_bind_Vfs_GetSize_1=(h,L)=>(pr=d._emscripten_bind_Vfs_GetSize_1=nt.M)(h,L),Mr=d._emscripten_bind_Vfs_GetPendingImage_0=h=>(Mr=d._emscripten_bind_Vfs_GetPendingImage_0=nt.N)(h),jr=d._emscripten_bind_Vfs_GetImage_1=(h,L)=>(jr=d._emscripten_bind_Vfs_GetImage_1=nt.O)(h,L),Un=d._emscripten_bind_Vfs_GetDirtyPages_1=(h,L)=>(Un=d._emscripten_bind_Vfs_GetDirtyPages_1=nt.P)(h,L),Ki=d._emscripten_bind_Vfs_RenameFile_2=(h,L,ve)=>(Ki=d._emscripten_bind_Vfs_RenameFile_2=nt.Q)(h,L,ve),Rn=d._emscripten_bind_Vfs_ChmodFile_3=(h,L,ve,Je)=>(Rn=d._emscripten_bind_Vfs_ChmodFile_3=nt.R)(h,L,ve,Je),Oo=d._emscripten_bind_Vfs_StatFile_1=(h,L)=>(Oo=d._emscripten_bind_Vfs_StatFile_1=nt.S)(h,L),Io=d._emscripten_bind_Vfs_UnlinkFile_1=(h,L)=>(Io=d._emscripten_bind_Vfs_UnlinkFile_1=nt.T)(h,L),Yi=d._emscripten_bind_Vfs_Mkdir_1=(h,L)=>(Yi=d._emscripten_bind_Vfs_Mkdir_1=nt.U)(h,L),Ia=d._emscripten_bind_Vfs_GetEntry_0=h=>(Ia=d._emscripten_bind_Vfs_GetEntry_0=nt.V)(h),Js=d._emscripten_bind_Vfs_BytesFree_1=(h,L)=>(Js=d._emscripten_bind_Vfs_BytesFree_1=nt.W)(h,L),Ns=d._emscripten_bind_Vfs_BytesTotal_1=(h,L)=>(Ns=d._emscripten_bind_Vfs_BytesTotal_1=nt.X)(h,L),ea=d._emscripten_bind_Vfs_ReadFile_1=(h,L)=>(ea=d._emscripten_bind_Vfs_ReadFile_1=nt.Y)(h,L),Xi=d._emscripten_bind_Vfs_GetCurrentFileSize_0=h=>(Xi=d._emscripten_bind_Vfs_GetCurrentFileSize_0=nt.Z)(h),xa=d._emscripten_bind_Vfs_GetCurrentFileContent_0=h=>(xa=d._emscripten_bind_Vfs_GetCurrentFileContent_0=nt._)(h),ta=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=h=>(ta=d._emscripten_bind_Vfs_ReleaseCurrentFile_0=nt.$)(h),na=d._emscripten_bind_Vfs_WriteFile_3=(h,L,ve,Je)=>(na=d._emscripten_bind_Vfs_WriteFile_3=nt.aa)(h,L,ve,Je),Ta=d._emscripten_bind_Vfs___destroy___0=h=>(Ta=d._emscripten_bind_Vfs___destroy___0=nt.ba)(h),Ma=d._emscripten_bind_ReaddirContext_ReaddirContext_1=h=>(Ma=d._emscripten_bind_ReaddirContext_ReaddirContext_1=nt.ca)(h),Aa=d._emscripten_bind_ReaddirContext_Next_0=h=>(Aa=d._emscripten_bind_ReaddirContext_Next_0=nt.da)(h),ka=d._emscripten_bind_ReaddirContext_GetEntry_0=h=>(ka=d._emscripten_bind_ReaddirContext_GetEntry_0=nt.ea)(h),ra=d._emscripten_bind_ReaddirContext_GetStatus_0=h=>(ra=d._emscripten_bind_ReaddirContext_GetStatus_0=nt.fa)(h),Ra=d._emscripten_bind_ReaddirContext_GetError_0=h=>(Ra=d._emscripten_bind_ReaddirContext_GetError_0=nt.ga)(h),Pa=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=h=>(Pa=d._emscripten_bind_ReaddirContext_GetErrorDescription_0=nt.ha)(h),br=d._emscripten_bind_ReaddirContext___destroy___0=h=>(br=d._emscripten_bind_ReaddirContext___destroy___0=nt.ia)(h),oa=d._emscripten_bind_ExportZipContext_ExportZipContext_2=(h,L)=>(oa=d._emscripten_bind_ExportZipContext_ExportZipContext_2=nt.ja)(h,L),co=d._emscripten_bind_ExportZipContext_AddFile_1=(h,L)=>(co=d._emscripten_bind_ExportZipContext_AddFile_1=nt.ka)(h,L),Gt=d._emscripten_bind_ExportZipContext_AddDirectory_1=(h,L)=>(Gt=d._emscripten_bind_ExportZipContext_AddDirectory_1=nt.la)(h,L),ia=d._emscripten_bind_ExportZipContext_Continue_0=h=>(ia=d._emscripten_bind_ExportZipContext_Continue_0=nt.ma)(h),Fs=d._emscripten_bind_ExportZipContext_GetState_0=h=>(Fs=d._emscripten_bind_ExportZipContext_GetState_0=nt.na)(h),Qr=d._emscripten_bind_ExportZipContext_GetZipContent_0=h=>(Qr=d._emscripten_bind_ExportZipContext_GetZipContent_0=nt.oa)(h),Ls=d._emscripten_bind_ExportZipContext_GetZipSize_0=h=>(Ls=d._emscripten_bind_ExportZipContext_GetZipSize_0=nt.pa)(h),Oa=d._emscripten_bind_ExportZipContext_GetErrorItem_0=h=>(Oa=d._emscripten_bind_ExportZipContext_GetErrorItem_0=nt.qa)(h),Pn=d._emscripten_bind_ExportZipContext___destroy___0=h=>(Pn=d._emscripten_bind_ExportZipContext___destroy___0=nt.ra)(h),ps=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=h=>(ps=d._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=nt.sa)(h),Cr=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=(h,L)=>(Cr=d._emscripten_bind_DeleteRecursiveContext_AddFile_1=nt.ta)(h,L),$s=d._emscripten_bind_DeleteRecursiveContext_Continue_0=h=>($s=d._emscripten_bind_DeleteRecursiveContext_Continue_0=nt.ua)(h),cl=d._emscripten_bind_DeleteRecursiveContext_GetState_0=h=>(cl=d._emscripten_bind_DeleteRecursiveContext_GetState_0=nt.va)(h),Na=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=h=>(Na=d._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=nt.wa)(h),Fn=d._emscripten_bind_DeleteRecursiveContext___destroy___0=h=>(Fn=d._emscripten_bind_DeleteRecursiveContext___destroy___0=nt.xa)(h),zt=d._emscripten_bind_UnzipContext_UnzipContext_4=(h,L,ve,Je)=>(zt=d._emscripten_bind_UnzipContext_UnzipContext_4=nt.ya)(h,L,ve,Je),hs=d._emscripten_bind_UnzipContext_GetState_0=h=>(hs=d._emscripten_bind_UnzipContext_GetState_0=nt.za)(h),Bs=d._emscripten_bind_UnzipContext_Continue_0=h=>(Bs=d._emscripten_bind_UnzipContext_Continue_0=nt.Aa)(h),ul=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=h=>(ul=d._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=nt.Ba)(h),Vs=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=h=>(Vs=d._emscripten_bind_UnzipContext_GetCurrentEntry_0=nt.Ca)(h),Ke=d._emscripten_bind_UnzipContext_GetCollisionPath_0=h=>(Ke=d._emscripten_bind_UnzipContext_GetCollisionPath_0=nt.Da)(h),Qi=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=h=>(Qi=d._emscripten_bind_UnzipContext_GetEntriesTotal_0=nt.Ea)(h),yi=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=h=>(yi=d._emscripten_bind_UnzipContext_GetEntriesSuccess_0=nt.Fa)(h),sa=d._emscripten_bind_UnzipContext___destroy___0=h=>(sa=d._emscripten_bind_UnzipContext___destroy___0=nt.Ga)(h),aa=d._emscripten_bind_PasteContext_PasteContext_3=(h,L,ve)=>(aa=d._emscripten_bind_PasteContext_PasteContext_3=nt.Ha)(h,L,ve),la=d._emscripten_bind_PasteContext_AddFile_1=(h,L)=>(la=d._emscripten_bind_PasteContext_AddFile_1=nt.Ia)(h,L),ri=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(h,L)=>(ri=d._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=nt.Ja)(h,L),hr=d._emscripten_bind_PasteContext_GetState_0=h=>(hr=d._emscripten_bind_PasteContext_GetState_0=nt.Ka)(h),Zo=d._emscripten_bind_PasteContext_Continue_0=h=>(Zo=d._emscripten_bind_PasteContext_Continue_0=nt.La)(h),Lt=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=h=>(Lt=d._emscripten_bind_PasteContext_ContinueWithOverwrite_0=nt.Ma)(h),Mn=d._emscripten_bind_PasteContext_GetCurrentEntry_0=h=>(Mn=d._emscripten_bind_PasteContext_GetCurrentEntry_0=nt.Na)(h),Hl=d._emscripten_bind_PasteContext_GetCollisionPath_0=h=>(Hl=d._emscripten_bind_PasteContext_GetCollisionPath_0=nt.Oa)(h),dl=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=h=>(dl=d._emscripten_bind_PasteContext_GetEntriesSuccess_0=nt.Pa)(h),fl=d._emscripten_bind_PasteContext___destroy___0=h=>(fl=d._emscripten_bind_PasteContext___destroy___0=nt.Qa)(h),zl=d._main=(h,L)=>(zl=d._main=nt.Ra)(h,L),$n=h=>($n=nt.Ta)(h),ms=()=>(ms=nt.Ua)(),Tn=()=>(Tn=nt.Va)(),uo=()=>(uo=nt.Wa)();function wr(){function h(){Sr||(Sr=!0,d.calledRun=!0,!ie&&(function Be(){fe(),Te(me)}(),function it(){fe(),Te(xe)}(),Z(d),d.onRuntimeInitialized?.(),Er&&function Bn(){var h=zl;try{Qt+=1;var Je=h(0,0);return Tr(Je),Je}catch($t){return(h=>{if(h instanceof oo||"unwind"==h)return ke;fe(),h instanceof WebAssembly.RuntimeError&&uo()<=0&&k("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),M(1,h)})($t)}finally{Qt-=1}}(),function Ue(){if(fe(),d.postRun)for("function"==typeof d.postRun&&(d.postRun=[d.postRun]);d.postRun.length;)h=d.postRun.shift(),qe.unshift(h);var h;Te(qe)}()))}ye>0||(function er(){ms(),function tt(){var h=Tn();0==h&&(h+=4),D[h>>2]=34821223,D[h+4>>2]=2310721022,D[0]=1668509029}()}(),function de(){if(d.preRun)for("function"==typeof d.preRun&&(d.preRun=[d.preRun]);d.preRun.length;)h=d.preRun.shift(),Ne.unshift(h);var h;Te(Ne)}(),ye>0)||(d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),h()},1)):h(),fe())}if(d.___original_main=()=>(d.___original_main=nt.Xa)(),Ee=function h(){Sr||wr(),Sr||(Ee=h)},d.preInit)for("function"==typeof d.preInit&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();var Er=!0;function v(){}function q(h){return(h||v).__cache__}function le(h,L){var ve=q(L),Je=ve[h];return Je||((Je=Object.create((L||v).prototype)).ptr=h,ve[h]=Je)}d.noInitialRun&&(Er=!1),wr(),(v.prototype=Object.create(v.prototype)).constructor=v,v.prototype.__class__=v,v.__cache__={},d.WrapperObject=v,d.getCache=q,d.wrapPointer=le,d.castObject=function rt(h,L){return le(h.ptr,L)},d.NULL=le(0),d.destroy=function Ct(h){if(!h.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";h.__destroy__(),delete q(h.__class__)[h.ptr]},d.compare=function Jt(h,L){return h.ptr===L.ptr},d.getPointer=function ut(h){return h.ptr},d.getClass=function fn(h){return h.__class__};var Nt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Nt.needed){for(var h=0;h<Nt.temps.length;h++)d._webidl_free(Nt.temps[h]);Nt.temps.length=0,d._webidl_free(Nt.buffer),Nt.buffer=0,Nt.size+=Nt.needed,Nt.needed=0}Nt.buffer||(Nt.size+=128,Nt.buffer=d._webidl_malloc(Nt.size),Le(Nt.buffer)),Nt.pos=0},alloc(h,L){Le(Nt.buffer);var $t,Je=h.length*L.BYTES_PER_ELEMENT;return Je=((h,L)=>8*Math.ceil(h/8))(Je),Nt.pos+Je>=Nt.size?(Le(Je>0),Nt.needed+=Je,$t=d._webidl_malloc(Je),Nt.temps.push($t)):($t=Nt.buffer+Nt.pos,Nt.pos+=Je),$t},copy(h,L,ve){ve/=L.BYTES_PER_ELEMENT;for(var Je=0;Je<h.length;Je++)L[ve+Je]=h[Je]}};function Kn(h){if("string"==typeof h){var L=function Xs(h,L,ve){var Je=ve>0?ve:Ys(h)+1,$t=new Array(Je),At=nn(h,$t,0,$t.length);return L&&($t.length=At),$t}(h),ve=Nt.alloc(L,F);return Nt.copy(L,F,ve),ve}return h}function Jr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function $e(){throw"cannot construct a FileEntry, no constructor in IDL"}function Pt(){this.ptr=ue(),q(Pt)[this.ptr]=this}function rn(h){Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),this.ptr=Ma(h),q(rn)[this.ptr]=this}function Vn(h,L){Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),L&&"object"==typeof L&&(L=L.ptr),this.ptr=oa(h,L),q(Vn)[this.ptr]=this}function Lr(h){h&&"object"==typeof h&&(h=h.ptr),this.ptr=ps(h),q(Lr)[this.ptr]=this}function tr(h,L,ve,Je){Nt.prepare(),h&&"object"==typeof h&&(h=h.ptr),L=L&&"object"==typeof L?L.ptr:Kn(L),ve&&"object"==typeof ve&&(ve=ve.ptr),Je&&"object"==typeof Je&&(Je=Je.ptr),this.ptr=zt(h,L,ve,Je),q(tr)[this.ptr]=this}function Hn(h,L,ve){Nt.prepare(),h&&"object"==typeof h&&(h=h.ptr),L=L&&"object"==typeof L?L.ptr:Kn(L),ve=ve&&"object"==typeof ve?ve.ptr:Kn(ve),this.ptr=aa(h,L,ve),q(Hn)[this.ptr]=this}return(Jr.prototype=Object.create(v.prototype)).constructor=Jr,Jr.prototype.__class__=Jr,Jr.__cache__={},d.VoidPtr=Jr,Jr.prototype.__destroy__=Jr.prototype.__destroy__=function(){yt(this.ptr)},($e.prototype=Object.create(v.prototype)).constructor=$e,$e.prototype.__class__=$e,$e.__cache__={},d.FileEntry=$e,$e.prototype.GetName=$e.prototype.GetName=function(){return qn(qi(this.ptr))},$e.prototype.IsDirectory=$e.prototype.IsDirectory=function(){return!!g(this.ptr)},$e.prototype.GetSize=$e.prototype.GetSize=function(){return E(this.ptr)},$e.prototype.GetModifiedTS=$e.prototype.GetModifiedTS=function(){return z(this.ptr)},$e.prototype.GetAttributes=$e.prototype.GetAttributes=function(){return se(this.ptr)},$e.prototype.__destroy__=$e.prototype.__destroy__=function(){Pe(this.ptr)},(Pt.prototype=Object.create(v.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},d.Vfs=Pt,Pt.prototype.Malloc=Pt.prototype.Malloc=function(h){return h&&"object"==typeof h&&(h=h.ptr),le(Ye(this.ptr,h),Jr)},Pt.prototype.Free=Pt.prototype.Free=function(h){h&&"object"==typeof h&&(h=h.ptr),A(this.ptr,h)},Pt.prototype.Nullptr=Pt.prototype.Nullptr=function(){return le(Qe(this.ptr),Jr)},Pt.prototype.AllocateImage=Pt.prototype.AllocateImage=function(h){h&&"object"==typeof h&&(h=h.ptr),je(this.ptr,h)},Pt.prototype.MountImage=Pt.prototype.MountImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),!!ct(this.ptr,h)},Pt.prototype.UnmountImage=Pt.prototype.UnmountImage=function(h){h&&"object"==typeof h&&(h=h.ptr),wt(this.ptr,h)},Pt.prototype.SwitchSlot=Pt.prototype.SwitchSlot=function(h){h&&"object"==typeof h&&(h=h.ptr),Et(this.ptr,h)},Pt.prototype.GetPendingImageSize=Pt.prototype.GetPendingImageSize=function(){return bn(this.ptr)},Pt.prototype.GetSize=Pt.prototype.GetSize=function(h){return h&&"object"==typeof h&&(h=h.ptr),pr(this.ptr,h)},Pt.prototype.GetPendingImage=Pt.prototype.GetPendingImage=function(){return le(Mr(this.ptr),Jr)},Pt.prototype.GetImage=Pt.prototype.GetImage=function(h){return h&&"object"==typeof h&&(h=h.ptr),le(jr(this.ptr,h),Jr)},Pt.prototype.GetDirtyPages=Pt.prototype.GetDirtyPages=function(h){return h&&"object"==typeof h&&(h=h.ptr),le(Un(this.ptr,h),Jr)},Pt.prototype.RenameFile=Pt.prototype.RenameFile=function(h,L){var ve=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),L=L&&"object"==typeof L?L.ptr:Kn(L),Ki(ve,h,L)},Pt.prototype.ChmodFile=Pt.prototype.ChmodFile=function(h,L,ve){var Je=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),L&&"object"==typeof L&&(L=L.ptr),ve&&"object"==typeof ve&&(ve=ve.ptr),Rn(Je,h,L,ve)},Pt.prototype.StatFile=Pt.prototype.StatFile=function(h){var L=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),Oo(L,h)},Pt.prototype.UnlinkFile=Pt.prototype.UnlinkFile=function(h){var L=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),Io(L,h)},Pt.prototype.Mkdir=Pt.prototype.Mkdir=function(h){var L=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),Yi(L,h)},Pt.prototype.GetEntry=Pt.prototype.GetEntry=function(){return le(Ia(this.ptr),$e)},Pt.prototype.BytesFree=Pt.prototype.BytesFree=function(h){return h&&"object"==typeof h&&(h=h.ptr),Js(this.ptr,h)},Pt.prototype.BytesTotal=Pt.prototype.BytesTotal=function(h){return h&&"object"==typeof h&&(h=h.ptr),Ns(this.ptr,h)},Pt.prototype.ReadFile=Pt.prototype.ReadFile=function(h){var L=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),!!ea(L,h)},Pt.prototype.GetCurrentFileSize=Pt.prototype.GetCurrentFileSize=function(){return Xi(this.ptr)},Pt.prototype.GetCurrentFileContent=Pt.prototype.GetCurrentFileContent=function(){return le(xa(this.ptr),Jr)},Pt.prototype.ReleaseCurrentFile=Pt.prototype.ReleaseCurrentFile=function(){ta(this.ptr)},Pt.prototype.WriteFile=Pt.prototype.WriteFile=function(h,L,ve){var Je=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),L&&"object"==typeof L&&(L=L.ptr),ve&&"object"==typeof ve&&(ve=ve.ptr),na(Je,h,L,ve)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){Ta(this.ptr)},(rn.prototype=Object.create(v.prototype)).constructor=rn,rn.prototype.__class__=rn,rn.__cache__={},d.ReaddirContext=rn,rn.prototype.Next=rn.prototype.Next=function(){return Aa(this.ptr)},rn.prototype.GetEntry=rn.prototype.GetEntry=function(){return le(ka(this.ptr),$e)},rn.prototype.GetStatus=rn.prototype.GetStatus=function(){return ra(this.ptr)},rn.prototype.GetError=rn.prototype.GetError=function(){return Ra(this.ptr)},rn.prototype.GetErrorDescription=rn.prototype.GetErrorDescription=function(){return qn(Pa(this.ptr))},rn.prototype.__destroy__=rn.prototype.__destroy__=function(){br(this.ptr)},(Vn.prototype=Object.create(v.prototype)).constructor=Vn,Vn.prototype.__class__=Vn,Vn.__cache__={},d.ExportZipContext=Vn,Vn.prototype.AddFile=Vn.prototype.AddFile=function(h){var L=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),le(co(L,h),Vn)},Vn.prototype.AddDirectory=Vn.prototype.AddDirectory=function(h){var L=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),le(Gt(L,h),Vn)},Vn.prototype.Continue=Vn.prototype.Continue=function(){return ia(this.ptr)},Vn.prototype.GetState=Vn.prototype.GetState=function(){return Fs(this.ptr)},Vn.prototype.GetZipContent=Vn.prototype.GetZipContent=function(){return le(Qr(this.ptr),Jr)},Vn.prototype.GetZipSize=Vn.prototype.GetZipSize=function(){return Ls(this.ptr)},Vn.prototype.GetErrorItem=Vn.prototype.GetErrorItem=function(){return qn(Oa(this.ptr))},Vn.prototype.__destroy__=Vn.prototype.__destroy__=function(){Pn(this.ptr)},(Lr.prototype=Object.create(v.prototype)).constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},d.DeleteRecursiveContext=Lr,Lr.prototype.AddFile=Lr.prototype.AddFile=function(h){var L=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),le(Cr(L,h),Lr)},Lr.prototype.Continue=Lr.prototype.Continue=function(){return $s(this.ptr)},Lr.prototype.GetState=Lr.prototype.GetState=function(){return cl(this.ptr)},Lr.prototype.GetFailingPath=Lr.prototype.GetFailingPath=function(){return qn(Na(this.ptr))},Lr.prototype.__destroy__=Lr.prototype.__destroy__=function(){Fn(this.ptr)},(tr.prototype=Object.create(v.prototype)).constructor=tr,tr.prototype.__class__=tr,tr.__cache__={},d.UnzipContext=tr,tr.prototype.GetState=tr.prototype.GetState=function(){return hs(this.ptr)},tr.prototype.Continue=tr.prototype.Continue=function(){return Bs(this.ptr)},tr.prototype.ContinueWithOverwrite=tr.prototype.ContinueWithOverwrite=function(){return ul(this.ptr)},tr.prototype.GetCurrentEntry=tr.prototype.GetCurrentEntry=function(){return qn(Vs(this.ptr))},tr.prototype.GetCollisionPath=tr.prototype.GetCollisionPath=function(){return qn(Ke(this.ptr))},tr.prototype.GetEntriesTotal=tr.prototype.GetEntriesTotal=function(){return Qi(this.ptr)},tr.prototype.GetEntriesSuccess=tr.prototype.GetEntriesSuccess=function(){return yi(this.ptr)},tr.prototype.__destroy__=tr.prototype.__destroy__=function(){sa(this.ptr)},(Hn.prototype=Object.create(v.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},d.PasteContext=Hn,Hn.prototype.AddFile=Hn.prototype.AddFile=function(h){var L=this.ptr;return Nt.prepare(),h=h&&"object"==typeof h?h.ptr:Kn(h),le(la(L,h),Hn)},Hn.prototype.SetDeleteAfterCopy=Hn.prototype.SetDeleteAfterCopy=function(h){return h&&"object"==typeof h&&(h=h.ptr),le(ri(this.ptr,h),Hn)},Hn.prototype.GetState=Hn.prototype.GetState=function(){return hr(this.ptr)},Hn.prototype.Continue=Hn.prototype.Continue=function(){return Zo(this.ptr)},Hn.prototype.ContinueWithOverwrite=Hn.prototype.ContinueWithOverwrite=function(){return Lt(this.ptr)},Hn.prototype.GetCurrentEntry=Hn.prototype.GetCurrentEntry=function(){return qn(Mn(this.ptr))},Hn.prototype.GetCollisionPath=Hn.prototype.GetCollisionPath=function(){return qn(Hl(this.ptr))},Hn.prototype.GetEntriesSuccess=Hn.prototype.GetEntriesSuccess=function(){return dl(this.ptr)},Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){fl(this.ptr)},O});be.exports=Ae},276:(be,Ae,C)=>{"use strict";C.d(Ae,{c:()=>d,r:()=>R});const d=(F,P)=>{F.componentOnReady?F.componentOnReady().then(re=>P(re)):R(()=>P(F))},R=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F)},7687:(be,Ae,C)=>{"use strict";C.d(Ae,{L:()=>w,a:()=>T,b:()=>d,c:()=>Z,d:()=>V,g:()=>F});const w="ionViewWillEnter",T="ionViewDidEnter",d="ionViewWillLeave",Z="ionViewDidLeave",V="ionViewWillUnload",F=P=>P.classList.contains("ion-page")?P:P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||P},2723:(be,Ae,C)=>{"use strict";C.d(Ae,{c:()=>De});var w=C(6940),T=C(4675);let d;const V=te=>te.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),O=te=>(void 0===d&&(d=void 0===te.style.animationName&&void 0!==te.style.webkitAnimationName?"-webkit-":""),d),I=(te,W,k)=>{const ee=W.startsWith("animation")?O(te):"";te.style.setProperty(ee+W,k)},x=(te,W)=>{const k=W.startsWith("animation")?O(te):"";te.style.removeProperty(k+W)},R=[],he=(te=[],W)=>{if(void 0!==W){const k=Array.isArray(W)?W:[W];return[...te,...k]}return te},De=te=>{let W,k,ee,ce,ie,ke,oe,Ne,me,xe,qe,it,Ue,Le=[],F=[],P=[],re=!1,S={},D=[],K=[],ge={},Ge=0,tt=!1,fe=!1,St=!0,de=!1,Be=!0,Mt=!1;const Vt=te,Ut=[],ye=[],Ie=[],Ee=[],Xe=[],pt=[],Dt=[],dn=[],Yt=[],Qt=[],an=[],vr="function"==typeof AnimationEffect||void 0!==w.w&&"function"==typeof w.w.AnimationEffect,sr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&vr,Pr=()=>an,Po=(g,E)=>{const z=E.findIndex(se=>se.c===g);z>-1&&E.splice(z,1)},ar=(g,E)=>((E?.oneTimeCallback?ye:Ut).push({c:g,o:E}),Ue),Te=()=>{if(sr)an.forEach(g=>{g.cancel()}),an.length=0;else{const g=Ee.slice();(0,T.r)(()=>{g.forEach(E=>{x(E,"animation-name"),x(E,"animation-duration"),x(E,"animation-timing-function"),x(E,"animation-iteration-count"),x(E,"animation-delay"),x(E,"animation-play-state"),x(E,"animation-fill-mode"),x(E,"animation-direction")})})}},Me=()=>{pt.forEach(g=>{g?.parentNode&&g.parentNode.removeChild(g)}),pt.length=0},Uo=()=>void 0!==ie?ie:oe?oe.getFill():"both",xn=()=>void 0!==me?me:void 0!==ke?ke:oe?oe.getDirection():"normal",yr=()=>tt?"linear":void 0!==ee?ee:oe?oe.getEasing():"linear",xr=()=>fe?0:void 0!==xe?xe:void 0!==k?k:oe?oe.getDuration():0,vn=()=>void 0!==ce?ce:oe?oe.getIterations():1,gn=()=>void 0!==qe?qe:void 0!==W?W:oe?oe.getDelay():0,Fr=()=>{0!==Ge&&(Ge--,0===Ge&&((()=>{ds(),Yt.forEach(Pe=>Pe()),Qt.forEach(Pe=>Pe());const g=St?1:0,E=D,z=K,se=ge;Ee.forEach(Pe=>{const ue=Pe.classList;E.forEach(Ye=>ue.add(Ye)),z.forEach(Ye=>ue.remove(Ye));for(const Ye in se)se.hasOwnProperty(Ye)&&I(Pe,Ye,se[Ye])}),xe=void 0,me=void 0,qe=void 0,Ut.forEach(Pe=>Pe.c(g,Ue)),ye.forEach(Pe=>Pe.c(g,Ue)),ye.length=0,Be=!0,St&&(de=!0),St=!0})(),oe&&oe.animationFinish()))},Zi=(g=!0)=>{Me();const E=(te=>(te.forEach(W=>{for(const k in W)if(W.hasOwnProperty(k)){const ee=W[k];if("easing"===k)W["animation-timing-function"]=ee,delete W[k];else{const ce=V(k);ce!==k&&(W[ce]=ee,delete W[k])}}}),te))(Le);Ee.forEach(z=>{if(E.length>0){const se=((te=[])=>te.map(W=>{const k=W.offset,ee=[];for(const ce in W)W.hasOwnProperty(ce)&&"offset"!==ce&&ee.push(`${ce}: ${W[ce]};`);return`${100*k}% { ${ee.join(" ")} }`}).join(" "))(E);it=void 0!==te?te:(te=>{let W=R.indexOf(te);return W<0&&(W=R.push(te)-1),`ion-animation-${W}`})(se);const Pe=((te,W,k)=>{var ee;const ce=(te=>{const W=void 0!==te.getRootNode?te.getRootNode():te;return W.head||W})(k),ie=O(k),ke=ce.querySelector("#"+te);if(ke)return ke;const Le=(null!==(ee=k.ownerDocument)&&void 0!==ee?ee:document).createElement("style");return Le.id=te,Le.textContent=`@${ie}keyframes ${te} { ${W} } @${ie}keyframes ${te}-alt { ${W} }`,ce.appendChild(Le),Le})(it,se,z);pt.push(Pe),I(z,"animation-duration",`${xr()}ms`),I(z,"animation-timing-function",yr()),I(z,"animation-delay",`${gn()}ms`),I(z,"animation-fill-mode",Uo()),I(z,"animation-direction",xn());const ue=vn()===1/0?"infinite":vn().toString();I(z,"animation-iteration-count",ue),I(z,"animation-play-state","paused"),g&&I(z,"animation-name",`${Pe.id}-alt`),(0,T.r)(()=>{I(z,"animation-name",Pe.id||null)})}})},Ti=(g=!0)=>{(()=>{Dt.forEach(se=>se()),dn.forEach(se=>se());const g=F,E=P,z=S;Ee.forEach(se=>{const Pe=se.classList;g.forEach(ue=>Pe.add(ue)),E.forEach(ue=>Pe.remove(ue));for(const ue in z)z.hasOwnProperty(ue)&&I(se,ue,z[ue])})})(),Le.length>0&&(sr?(Ee.forEach(g=>{const E=g.animate(Le,{id:Vt,delay:gn(),duration:xr(),easing:yr(),iterations:vn(),fill:Uo(),direction:xn()});E.pause(),an.push(E)}),an.length>0&&(an[0].onfinish=()=>{Fr()})):Zi(g)),re=!0},mo=g=>{if(g=Math.min(Math.max(g,0),.9999),sr)an.forEach(E=>{E.currentTime=E.effect.getComputedTiming().delay+xr()*g,E.pause()});else{const E=`-${xr()*g}ms`;Ee.forEach(z=>{Le.length>0&&(I(z,"animation-delay",E),I(z,"animation-play-state","paused"))})}},us=g=>{an.forEach(E=>{E.effect.updateTiming({delay:gn(),duration:xr(),easing:yr(),iterations:vn(),fill:Uo(),direction:xn()})}),void 0!==g&&mo(g)},Rs=(g=!0,E)=>{(0,T.r)(()=>{Ee.forEach(z=>{I(z,"animation-name",it||null),I(z,"animation-duration",`${xr()}ms`),I(z,"animation-timing-function",yr()),I(z,"animation-delay",void 0!==E?`-${E*xr()}ms`:`${gn()}ms`),I(z,"animation-fill-mode",Uo()||null),I(z,"animation-direction",xn()||null);const se=vn()===1/0?"infinite":vn().toString();I(z,"animation-iteration-count",se),g&&I(z,"animation-name",`${it}-alt`),(0,T.r)(()=>{I(z,"animation-name",it||null)})})})},Yr=(g=!1,E=!0,z)=>(g&&Xe.forEach(se=>{se.update(g,E,z)}),sr?us(z):Rs(E,z),Ue),yn=()=>{re&&(sr?an.forEach(g=>{g.pause()}):Ee.forEach(g=>{I(g,"animation-play-state","paused")}),Mt=!0)},Xs=()=>{Ne=void 0,Fr()},ds=()=>{Ne&&clearTimeout(Ne)},fs=g=>new Promise(E=>{g?.sync&&(fe=!0,ar(()=>fe=!1,{oneTimeCallback:!0})),re||Ti(),de&&(sr?(mo(0),us()):Rs(),de=!1),Be&&(Ge=Xe.length+1,Be=!1);const z=()=>{Po(se,ye),E()},se=()=>{Po(z,Ie),E()};ar(se,{oneTimeCallback:!0}),((g,E)=>{Ie.push({c:g,o:{oneTimeCallback:!0}})})(z),Xe.forEach(Pe=>{Pe.play()}),sr?(an.forEach(g=>{g.play()}),(0===Le.length||0===Ee.length)&&Fr()):(()=>{if(ds(),(0,T.r)(()=>{Ee.forEach(g=>{Le.length>0&&I(g,"animation-play-state","running")})}),0===Le.length||0===Ee.length)Fr();else{const g=gn()||0,E=xr()||0,z=vn()||1;isFinite(z)&&(Ne=setTimeout(Xs,g+E*z+100)),((te,W)=>{let k;const ee={passive:!0},ie=ke=>{te===ke.target&&(k&&k(),ds(),(0,T.r)(()=>{Ee.forEach(g=>{x(g,"animation-duration"),x(g,"animation-delay"),x(g,"animation-play-state")}),(0,T.r)(Fr)}))};te&&(te.addEventListener("webkitAnimationEnd",ie,ee),te.addEventListener("animationend",ie,ee),k=()=>{te.removeEventListener("webkitAnimationEnd",ie,ee),te.removeEventListener("animationend",ie,ee)})})(Ee[0])}})(),Mt=!1}),Xr=(g,E)=>{const z=Le[0];return void 0===z||void 0!==z.offset&&0!==z.offset?Le=[{offset:0,[g]:E},...Le]:z[g]=E,Ue};return Ue={parentAnimation:oe,elements:Ee,childAnimations:Xe,id:Vt,animationFinish:Fr,from:Xr,to:(g,E)=>{const z=Le[Le.length-1];return void 0===z||void 0!==z.offset&&1!==z.offset?Le=[...Le,{offset:1,[g]:E}]:z[g]=E,Ue},fromTo:(g,E,z)=>Xr(g,E).to(g,z),parent:g=>(oe=g,Ue),play:fs,pause:()=>(Xe.forEach(g=>{g.pause()}),yn(),Ue),stop:()=>{Xe.forEach(g=>{g.stop()}),re&&(Te(),re=!1),tt=!1,fe=!1,Be=!0,me=void 0,xe=void 0,qe=void 0,Ge=0,de=!1,St=!0,Mt=!1,Ie.forEach(g=>g.c(0,Ue)),Ie.length=0},destroy:g=>(Xe.forEach(E=>{E.destroy(g)}),(g=>{Te(),g&&Me()})(g),Ee.length=0,Xe.length=0,Le.length=0,Ut.length=0,ye.length=0,re=!1,Be=!0,Ue),keyframes:g=>{const E=Le!==g;return Le=g,E&&(g=>{sr?Pr().forEach(E=>{const z=E.effect;if(z.setKeyframes)z.setKeyframes(g);else{const se=new KeyframeEffect(z.target,g,z.getTiming());E.effect=se}}):Zi()})(Le),Ue},addAnimation:g=>{if(null!=g)if(Array.isArray(g))for(const E of g)E.parent(Ue),Xe.push(E);else g.parent(Ue),Xe.push(g);return Ue},addElement:g=>{if(null!=g)if(1===g.nodeType)Ee.push(g);else if(g.length>=0)for(let E=0;E<g.length;E++)Ee.push(g[E]);else console.error("Invalid addElement value");return Ue},update:Yr,fill:g=>(ie=g,Yr(!0),Ue),direction:g=>(ke=g,Yr(!0),Ue),iterations:g=>(ce=g,Yr(!0),Ue),duration:g=>(!sr&&0===g&&(g=1),k=g,Yr(!0),Ue),easing:g=>(ee=g,Yr(!0),Ue),delay:g=>(W=g,Yr(!0),Ue),getWebAnimations:Pr,getKeyframes:()=>Le,getFill:Uo,getDirection:xn,getDelay:gn,getIterations:vn,getEasing:yr,getDuration:xr,afterAddRead:g=>(Yt.push(g),Ue),afterAddWrite:g=>(Qt.push(g),Ue),afterClearStyles:(g=[])=>{for(const E of g)ge[E]="";return Ue},afterStyles:(g={})=>(ge=g,Ue),afterRemoveClass:g=>(K=he(K,g),Ue),afterAddClass:g=>(D=he(D,g),Ue),beforeAddRead:g=>(Dt.push(g),Ue),beforeAddWrite:g=>(dn.push(g),Ue),beforeClearStyles:(g=[])=>{for(const E of g)S[E]="";return Ue},beforeStyles:(g={})=>(S=g,Ue),beforeRemoveClass:g=>(P=he(P,g),Ue),beforeAddClass:g=>(F=he(F,g),Ue),onFinish:ar,isRunning:()=>0!==Ge&&!Mt,progressStart:(g=!1,E)=>(Xe.forEach(z=>{z.progressStart(g,E)}),yn(),tt=g,re||Ti(),Yr(!1,!0,E),Ue),progressStep:g=>(Xe.forEach(E=>{E.progressStep(g)}),mo(g),Ue),progressEnd:(g,E,z)=>(tt=!1,Xe.forEach(se=>{se.progressEnd(g,E,z)}),void 0!==z&&(xe=z),de=!1,St=!0,0===g?(me="reverse"===xn()?"normal":"reverse","reverse"===me&&(St=!1),sr?(Yr(),mo(1-E)):(qe=(1-E)*xr()*-1,Yr(!1,!1))):1===g&&(sr?(Yr(),mo(E)):(qe=E*xr()*-1,Yr(!1,!1))),void 0!==g&&!oe&&fs(),Ue)}}},2984:(be,Ae,C)=>{"use strict";C.d(Ae,{E:()=>U,I:()=>I,a:()=>w,s:()=>x});const w=R=>{try{if(R instanceof I)return R.value;if(!Z()||"string"!=typeof R||""===R)return R;if(R.includes("onload="))return"";const G=document.createDocumentFragment(),M=document.createElement("div");G.appendChild(M),M.innerHTML=R,O.forEach(te=>{const W=G.querySelectorAll(te);for(let k=W.length-1;k>=0;k--){const ee=W[k];ee.parentNode?ee.parentNode.removeChild(ee):G.removeChild(ee);const ce=d(ee);for(let ie=0;ie<ce.length;ie++)T(ce[ie])}});const N=d(G);for(let te=0;te<N.length;te++)T(N[te]);const he=document.createElement("div");he.appendChild(G);const De=he.querySelector("div");return null!==De?De.innerHTML:he.innerHTML}catch(G){return console.error(G),""}},T=R=>{if(R.nodeType&&1!==R.nodeType)return;if(typeof NamedNodeMap<"u"&&!(R.attributes instanceof NamedNodeMap))return void R.remove();for(let M=R.attributes.length-1;M>=0;M--){const N=R.attributes.item(M),he=N.name;if(!V.includes(he.toLowerCase())){R.removeAttribute(he);continue}const De=N.value,te=R[he];(null!=De&&De.toLowerCase().includes("javascript:")||null!=te&&te.toLowerCase().includes("javascript:"))&&R.removeAttribute(he)}const G=d(R);for(let M=0;M<G.length;M++)T(G[M])},d=R=>null!=R.children?R.children:R.childNodes,Z=()=>{var R;const G=window,M=null===(R=G?.Ionic)||void 0===R?void 0:R.config;return!M||(M.get?M.get("sanitizerEnabled",!0):!0===M.sanitizerEnabled||void 0===M.sanitizerEnabled)},V=["class","id","href","src","name","slot"],O=["script","style","iframe","meta","link","object","embed"];class I{constructor(G){this.value=G}}const x=R=>{const G=window,M=G.Ionic;if(!M||!M.config||"Object"===M.config.constructor.name)return G.Ionic=G.Ionic||{},G.Ionic.config=Object.assign(Object.assign({},G.Ionic.config),R),G.Ionic.config},U=!1},8573:(be,Ae,C)=>{"use strict";C.d(Ae,{C:()=>V,a:()=>d,d:()=>Z});var w=C(3918),T=C(4675);const d=function(){var O=(0,w.Z)(function*(I,x,X,U,R,G){var M;if(I)return I.attachViewToDom(x,X,R,U);if(!(G||"string"==typeof X||X instanceof HTMLElement))throw new Error("framework delegate is missing");const N="string"==typeof X?null===(M=x.ownerDocument)||void 0===M?void 0:M.createElement(X):X;return U&&U.forEach(he=>N.classList.add(he)),R&&Object.assign(N,R),x.appendChild(N),yield new Promise(he=>(0,T.c)(N,he)),N});return function(x,X,U,R,G,M){return O.apply(this,arguments)}}(),Z=(O,I)=>{if(I){if(O)return O.removeViewFromDom(I.parentElement,I);I.remove()}return Promise.resolve()},V=()=>{let O,I;return{attachViewToDom:function(){var U=(0,w.Z)(function*(R,G,M={},N=[]){var he,De;let te;if(O=R,G){const k="string"==typeof G?null===(he=O.ownerDocument)||void 0===he?void 0:he.createElement(G):G;N.forEach(ee=>k.classList.add(ee)),Object.assign(k,M),O.appendChild(k),te=k,yield new Promise(ee=>(0,T.c)(k,ee))}else if(O.children.length>0&&("ION-MODAL"===O.tagName||"ION-POPOVER"===O.tagName)&&!(te=O.children[0]).classList.contains("ion-delegate-host")){const ee=null===(De=O.ownerDocument)||void 0===De?void 0:De.createElement("div");ee.classList.add("ion-delegate-host"),N.forEach(ce=>ee.classList.add(ce)),ee.append(...O.children),O.appendChild(ee),te=ee}const W=document.querySelector("ion-app")||document.body;return I=document.createComment("ionic teleport"),O.parentNode.insertBefore(I,O),W.appendChild(O),te??O});return function(G,M){return U.apply(this,arguments)}}(),removeViewFromDom:()=>(O&&I&&(I.parentNode.insertBefore(O,I),I.remove()),Promise.resolve())}}},4967:(be,Ae,C)=>{"use strict";C.d(Ae,{G:()=>V});class T{constructor(I,x,X,U,R){this.id=x,this.name=X,this.disableScroll=R,this.priority=1e6*U+x,this.ctrl=I}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const I=this.ctrl.capture(this.name,this.id,this.priority);return I&&this.disableScroll&&this.ctrl.disableScroll(this.id),I}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class d{constructor(I,x,X,U){this.id=x,this.disable=X,this.disableScroll=U,this.ctrl=I}block(){if(this.ctrl){if(this.disable)for(const I of this.disable)this.ctrl.disableGesture(I,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const I of this.disable)this.ctrl.enableGesture(I,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Z="backdrop-no-scroll",V=new class w{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(I){var x;return new T(this,this.newID(),I.name,null!==(x=I.priority)&&void 0!==x?x:0,!!I.disableScroll)}createBlocker(I={}){return new d(this,this.newID(),I.disable,!!I.disableScroll)}start(I,x,X){return this.canStart(I)?(this.requestedStart.set(x,X),!0):(this.requestedStart.delete(x),!1)}capture(I,x,X){if(!this.start(I,x,X))return!1;const U=this.requestedStart;let R=-1e4;if(U.forEach(G=>{R=Math.max(R,G)}),R===X){this.capturedId=x,U.clear();const G=new CustomEvent("ionGestureCaptured",{detail:{gestureName:I}});return document.dispatchEvent(G),!0}return U.delete(x),!1}release(I){this.requestedStart.delete(I),this.capturedId===I&&(this.capturedId=void 0)}disableGesture(I,x){let X=this.disabledGestures.get(I);void 0===X&&(X=new Set,this.disabledGestures.set(I,X)),X.add(x)}enableGesture(I,x){const X=this.disabledGestures.get(I);void 0!==X&&X.delete(x)}disableScroll(I){this.disabledScroll.add(I),1===this.disabledScroll.size&&document.body.classList.add(Z)}enableScroll(I){this.disabledScroll.delete(I),0===this.disabledScroll.size&&document.body.classList.remove(Z)}canStart(I){return!(void 0!==this.capturedId||this.isDisabled(I))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(I){const x=this.disabledGestures.get(I);return!!(x&&x.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(be,Ae,C)=>{"use strict";C.r(Ae),C.d(Ae,{MENU_BACK_BUTTON_PRIORITY:()=>V,OVERLAY_BACK_BUTTON_PRIORITY:()=>Z,blockHardwareBackButton:()=>T,startHardwareBackButton:()=>d});var w=C(3918);const T=()=>{document.addEventListener("backbutton",()=>{})},d=()=>{const O=document;let I=!1;O.addEventListener("backbutton",()=>{if(I)return;let x=0,X=[];const U=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(M,N){X.push({priority:M,handler:N,id:x++})}}});O.dispatchEvent(U);const R=function(){var M=(0,w.Z)(function*(N){try{if(N?.handler){const he=N.handler(G);null!=he&&(yield he)}}catch(he){console.error(he)}});return function(he){return M.apply(this,arguments)}}(),G=()=>{if(X.length>0){let M={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};X.forEach(N=>{N.priority>=M.priority&&(M=N)}),I=!0,X=X.filter(N=>N.id!==M.id),R(M).then(()=>I=!1)}};G()})},Z=100,V=99},4675:(be,Ae,C)=>{"use strict";C.d(Ae,{a:()=>x,b:()=>X,c:()=>d,d:()=>De,e:()=>he,f:()=>N,g:()=>U,h:()=>M,i:()=>I,j:()=>ie,k:()=>V,l:()=>te,m:()=>Z,n:()=>G,o:()=>W,p:()=>ce,q:()=>ke,r:()=>R,s:()=>Le,t:()=>w,u:()=>k,v:()=>ee});const w=(F,P=0)=>new Promise(re=>{T(F,P,re)}),T=(F,P=0,re)=>{let oe,S;const D={passive:!0},ge=()=>{oe&&oe()},Ge=tt=>{(void 0===tt||F===tt.target)&&(ge(),re(tt))};return F&&(F.addEventListener("webkitTransitionEnd",Ge,D),F.addEventListener("transitionend",Ge,D),S=setTimeout(Ge,P+500),oe=()=>{S&&(clearTimeout(S),S=void 0),F.removeEventListener("webkitTransitionEnd",Ge,D),F.removeEventListener("transitionend",Ge,D)}),ge},d=(F,P)=>{F.componentOnReady?F.componentOnReady().then(re=>P(re)):R(()=>P(F))},Z=F=>void 0!==F.componentOnReady,V=(F,P=[])=>{const re={};return P.forEach(oe=>{F.hasAttribute(oe)&&(null!==F.getAttribute(oe)&&(re[oe]=F.getAttribute(oe)),F.removeAttribute(oe))}),re},O=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],I=(F,P)=>{let re=O;return P&&P.length>0&&(re=re.filter(oe=>!P.includes(oe))),V(F,re)},x=(F,P,re,oe)=>{var S;if(typeof window<"u"){const D=window,K=null===(S=D?.Ionic)||void 0===S?void 0:S.config;if(K){const ge=K.get("_ael");if(ge)return ge(F,P,re,oe);if(K._ael)return K._ael(F,P,re,oe)}}return F.addEventListener(P,re,oe)},X=(F,P,re,oe)=>{var S;if(typeof window<"u"){const D=window,K=null===(S=D?.Ionic)||void 0===S?void 0:S.config;if(K){const ge=K.get("_rel");if(ge)return ge(F,P,re,oe);if(K._rel)return K._rel(F,P,re,oe)}}return F.removeEventListener(P,re,oe)},U=(F,P=F)=>F.shadowRoot||P,R=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F),G=F=>!!F.shadowRoot&&!!F.attachShadow,M=F=>{const P=F.closest("ion-item");return P?P.querySelector("ion-label"):null},N=F=>{if(F.focus(),F.classList.contains("ion-focusable")){const P=F.closest("ion-app");P&&P.setFocus([F])}},he=(F,P)=>{let re;const oe=F.getAttribute("aria-labelledby"),S=F.id;let D=null!==oe&&""!==oe.trim()?oe:P+"-lbl",K=null!==oe&&""!==oe.trim()?document.getElementById(oe):M(F);return K?(null===oe&&(K.id=D),re=K.textContent,K.setAttribute("aria-hidden","true")):""!==S.trim()&&(K=document.querySelector(`label[for="${S}"]`),K&&(""!==K.id?D=K.id:K.id=D=`${S}-lbl`,re=K.textContent)),{label:K,labelId:D,labelText:re}},De=(F,P,re,oe,S)=>{if(F||G(P)){let D=P.querySelector("input.aux-input");D||(D=P.ownerDocument.createElement("input"),D.type="hidden",D.classList.add("aux-input"),P.appendChild(D)),D.disabled=S,D.name=re,D.value=oe||""}},te=(F,P,re)=>Math.max(F,Math.min(P,re)),W=(F,P)=>{if(!F){const re="ASSERT: "+P;throw console.error(re),new Error(re)}},k=F=>F.timeStamp||Date.now(),ee=F=>{if(F){const P=F.changedTouches;if(P&&P.length>0){const re=P[0];return{x:re.clientX,y:re.clientY}}if(void 0!==F.pageX)return{x:F.pageX,y:F.pageY}}return{x:0,y:0}},ce=F=>{const P="rtl"===document.dir;switch(F){case"start":return P;case"end":return!P;default:throw new Error(`"${F}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ie=(F,P)=>{const re=F._original||F;return{_original:F,emit:ke(re.emit.bind(re),P)}},ke=(F,P=0)=>{let re;return(...oe)=>{clearTimeout(re),re=setTimeout(F,P,...oe)}},Le=(F,P)=>{if(F??(F={}),P??(P={}),F===P)return!0;const re=Object.keys(F);if(re.length!==Object.keys(P).length)return!1;for(const oe of re)if(!(oe in P)||F[oe]!==P[oe])return!1;return!0}},4656:(be,Ae,C)=>{"use strict";C.d(Ae,{m:()=>M});var w=C(3918),T=C(6940),d=C(1940),Z=C(6240),V=C(4675),O=C(5194),I=C(2723);const x=N=>(0,I.c)().duration(N?400:300),X=N=>{let he,De;const te=N.width+8,W=(0,I.c)(),k=(0,I.c)();N.isEndSide?(he=te+"px",De="0px"):(he=-te+"px",De="0px"),W.addElement(N.menuInnerEl).fromTo("transform",`translateX(${he})`,`translateX(${De})`);const ce="ios"===(0,O.b)(N),ie=ce?.2:.25;return k.addElement(N.backdropEl).fromTo("opacity",.01,ie),x(ce).addAnimation([W,k])},U=N=>{let he,De;const te=(0,O.b)(N),W=N.width;N.isEndSide?(he=-W+"px",De=W+"px"):(he=W+"px",De=-W+"px");const k=(0,I.c)().addElement(N.menuInnerEl).fromTo("transform",`translateX(${De})`,"translateX(0px)"),ee=(0,I.c)().addElement(N.contentEl).fromTo("transform","translateX(0px)",`translateX(${he})`),ce=(0,I.c)().addElement(N.backdropEl).fromTo("opacity",.01,.32);return x("ios"===te).addAnimation([k,ee,ce])},R=N=>{const he=(0,O.b)(N),De=N.width*(N.isEndSide?-1:1)+"px",te=(0,I.c)().addElement(N.contentEl).fromTo("transform","translateX(0px)",`translateX(${De})`);return x("ios"===he).addAnimation(te)},M=(()=>{const N=new Map,he=[],De=function(){var me=(0,w.Z)(function*(xe){const qe=yield ke(xe,!0);return!!qe&&qe.open()});return function(qe){return me.apply(this,arguments)}}(),te=function(){var me=(0,w.Z)(function*(xe){const qe=yield void 0!==xe?ke(xe,!0):Le();return void 0!==qe&&qe.close()});return function(qe){return me.apply(this,arguments)}}(),W=function(){var me=(0,w.Z)(function*(xe){const qe=yield ke(xe,!0);return!!qe&&qe.toggle()});return function(qe){return me.apply(this,arguments)}}(),k=function(){var me=(0,w.Z)(function*(xe,qe){const St=yield ke(qe);return St&&(St.disabled=!xe),St});return function(qe,St){return me.apply(this,arguments)}}(),ee=function(){var me=(0,w.Z)(function*(xe,qe){const St=yield ke(qe);return St&&(St.swipeGesture=xe),St});return function(qe,St){return me.apply(this,arguments)}}(),ce=function(){var me=(0,w.Z)(function*(xe){if(null!=xe){const qe=yield ke(xe);return void 0!==qe&&qe.isOpen()}return void 0!==(yield Le())});return function(qe){return me.apply(this,arguments)}}(),ie=function(){var me=(0,w.Z)(function*(xe){const qe=yield ke(xe);return!!qe&&!qe.disabled});return function(qe){return me.apply(this,arguments)}}(),ke=function(){var me=(0,w.Z)(function*(xe,qe=!1){if(yield Ne(),"start"===xe||"end"===xe){const de=he.filter(it=>it.side===xe&&!it.disabled);if(de.length>=1)return de.length>1&&qe&&(0,Z.p)(`menuController queried for a menu on the "${xe}" side, but ${de.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,de.map(it=>it.el)),de[0].el;const Be=he.filter(it=>it.side===xe);if(Be.length>=1)return Be.length>1&&qe&&(0,Z.p)(`menuController queried for a menu on the "${xe}" side, but ${Be.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Be.map(it=>it.el)),Be[0].el}else if(null!=xe)return fe(de=>de.menuId===xe);return fe(de=>!de.disabled)||(he.length>0?he[0].el:void 0)});return function(qe){return me.apply(this,arguments)}}(),Le=function(){var me=(0,w.Z)(function*(){return yield Ne(),ge()});return function(){return me.apply(this,arguments)}}(),F=function(){var me=(0,w.Z)(function*(){return yield Ne(),Ge()});return function(){return me.apply(this,arguments)}}(),P=function(){var me=(0,w.Z)(function*(){return yield Ne(),tt()});return function(){return me.apply(this,arguments)}}(),re=(me,xe)=>{N.set(me,xe)},D=function(){var me=(0,w.Z)(function*(xe,qe,St){if(tt())return!1;if(qe){const de=yield Le();de&&xe.el!==de&&(yield de.setOpen(!1,!1))}return xe._setOpen(qe,St)});return function(qe,St,de){return me.apply(this,arguments)}}(),ge=()=>fe(me=>me._isOpen),Ge=()=>he.map(me=>me.el),tt=()=>he.some(me=>me.isAnimating),fe=me=>{const xe=he.find(me);if(void 0!==xe)return xe.el},Ne=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(me=>new Promise(xe=>(0,V.c)(me,xe))));return re("reveal",R),re("push",U),re("overlay",X),null==T.d||T.d.addEventListener("ionBackButton",me=>{const xe=ge();xe&&me.detail.register(d.MENU_BACK_BUTTON_PRIORITY,()=>xe.close())}),{registerAnimation:re,get:ke,getMenus:F,getOpen:Le,isEnabled:ie,swipeGesture:ee,isAnimating:P,isOpen:ce,enable:k,toggle:W,close:te,open:De,_getOpenSync:ge,_createAnimation:(me,xe)=>{const qe=N.get(me);if(!qe)throw new Error("animation not registered");return qe(xe)},_register:me=>{he.indexOf(me)<0&&he.push(me)},_unregister:me=>{const xe=he.indexOf(me);xe>-1&&he.splice(xe,1)},_setOpen:D}})()},4923:(be,Ae,C)=>{"use strict";C.r(Ae),C.d(Ae,{GESTURE_CONTROLLER:()=>w.G,createGesture:()=>X});var w=C(4967);const T=(M,N,he,De)=>{const te=d(M)?{capture:!!De.capture,passive:!!De.passive}:!!De.capture;let W,k;return M.__zone_symbol__addEventListener?(W="__zone_symbol__addEventListener",k="__zone_symbol__removeEventListener"):(W="addEventListener",k="removeEventListener"),M[W](N,he,te),()=>{M[k](N,he,te)}},d=M=>{if(void 0===Z)try{const N=Object.defineProperty({},"passive",{get:()=>{Z=!0}});M.addEventListener("optsTest",()=>{},N)}catch{Z=!1}return!!Z};let Z;const I=M=>M instanceof Document?M:M.ownerDocument,X=M=>{let N=!1,he=!1,De=!0,te=!1;const W=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},M),k=W.canStart,ee=W.onWillStart,ce=W.onStart,ie=W.onEnd,ke=W.notCaptured,Le=W.onMove,F=W.threshold,P=W.passive,re=W.blurOnStart,oe={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},S=((M,N,he)=>{const De=he*(Math.PI/180),te="x"===M,W=Math.cos(De),k=N*N;let ee=0,ce=0,ie=!1,ke=0;return{start(Le,F){ee=Le,ce=F,ke=0,ie=!0},detect(Le,F){if(!ie)return!1;const P=Le-ee,re=F-ce,oe=P*P+re*re;if(oe<k)return!1;const S=Math.sqrt(oe),D=(te?P:re)/S;return ke=D>W?1:D<-W?-1:0,ie=!1,!0},isGesture:()=>0!==ke,getDirection:()=>ke}})(W.direction,W.threshold,W.maxAngle),D=w.G.createGesture({name:M.gestureName,priority:M.gesturePriority,disableScroll:M.disableScroll}),Ge=()=>{N&&(te=!1,Le&&Le(oe))},tt=()=>!!D.capture()&&(N=!0,De=!1,oe.startX=oe.currentX,oe.startY=oe.currentY,oe.startTime=oe.currentTime,ee?ee(oe).then(Ne):Ne(),!0),Ne=()=>{re&&(()=>{if(typeof document<"u"){const de=document.activeElement;de?.blur&&de.blur()}})(),ce&&ce(oe),De=!0},me=()=>{N=!1,he=!1,te=!1,De=!0,D.release()},xe=de=>{const Be=N,it=De;if(me(),it){if(U(oe,de),Be)return void(ie&&ie(oe));ke&&ke(oe)}},qe=((M,N,he,De,te)=>{let W,k,ee,ce,ie,ke,Le,F=0;const P=fe=>{F=Date.now()+2e3,N(fe)&&(!k&&he&&(k=T(M,"touchmove",he,te)),ee||(ee=T(fe.target,"touchend",oe,te)),ce||(ce=T(fe.target,"touchcancel",oe,te)))},re=fe=>{F>Date.now()||N(fe)&&(!ke&&he&&(ke=T(I(M),"mousemove",he,te)),Le||(Le=T(I(M),"mouseup",S,te)))},oe=fe=>{D(),De&&De(fe)},S=fe=>{K(),De&&De(fe)},D=()=>{k&&k(),ee&&ee(),ce&&ce(),k=ee=ce=void 0},K=()=>{ke&&ke(),Le&&Le(),ke=Le=void 0},ge=()=>{D(),K()},Ge=(fe=!0)=>{fe?(W||(W=T(M,"touchstart",P,te)),ie||(ie=T(M,"mousedown",re,te))):(W&&W(),ie&&ie(),W=ie=void 0,ge())};return{enable:Ge,stop:ge,destroy:()=>{Ge(!1),De=he=N=void 0}}})(W.el,de=>{const Be=G(de);return!(he||!De||(R(de,oe),oe.startX=oe.currentX,oe.startY=oe.currentY,oe.startTime=oe.currentTime=Be,oe.velocityX=oe.velocityY=oe.deltaX=oe.deltaY=0,oe.event=de,k&&!1===k(oe))||(D.release(),!D.start()))&&(he=!0,0===F?tt():(S.start(oe.startX,oe.startY),!0))},de=>{N?!te&&De&&(te=!0,U(oe,de),requestAnimationFrame(Ge)):(U(oe,de),S.detect(oe.currentX,oe.currentY)&&(!S.isGesture()||!tt())&&St())},xe,{capture:!1,passive:P}),St=()=>{me(),qe.stop(),ke&&ke(oe)};return{enable(de=!0){de||(N&&xe(void 0),me()),qe.enable(de)},destroy(){D.destroy(),qe.destroy()}}},U=(M,N)=>{if(!N)return;const he=M.currentX,De=M.currentY,te=M.currentTime;R(N,M);const W=M.currentX,k=M.currentY,ce=(M.currentTime=G(N))-te;if(ce>0&&ce<100){const ke=(k-De)/ce;M.velocityX=(W-he)/ce*.7+.3*M.velocityX,M.velocityY=.7*ke+.3*M.velocityY}M.deltaX=W-M.startX,M.deltaY=k-M.startY,M.event=N},R=(M,N)=>{let he=0,De=0;if(M){const te=M.changedTouches;if(te&&te.length>0){const W=te[0];he=W.clientX,De=W.clientY}else void 0!==M.pageX&&(he=M.pageX,De=M.pageY)}N.currentX=he,N.currentY=De},G=M=>M.timeStamp||Date.now()},8044:(be,Ae,C)=>{"use strict";C.d(Ae,{b:()=>O,c:()=>I,d:()=>x,e:()=>F,g:()=>oe,l:()=>ke,s:()=>P,t:()=>R,w:()=>Le});var w=C(3918),T=C(3426),d=C(4675);const O="ionViewWillLeave",I="ionViewDidLeave",x="ionViewWillUnload",R=S=>new Promise((D,K)=>{(0,T.w)(()=>{G(S),M(S).then(ge=>{ge.animation&&ge.animation.destroy(),N(S),D(ge)},ge=>{N(S),K(ge)})})}),G=S=>{const D=S.enteringEl,K=S.leavingEl;re(D,K,S.direction),S.showGoBack?D.classList.add("can-go-back"):D.classList.remove("can-go-back"),P(D,!1),D.style.setProperty("pointer-events","none"),K&&(P(K,!1),K.style.setProperty("pointer-events","none"))},M=function(){var S=(0,w.Z)(function*(D){const K=yield he(D);return K&&T.B.isBrowser?De(K,D):te(D)});return function(K){return S.apply(this,arguments)}}(),N=S=>{const D=S.enteringEl,K=S.leavingEl;D.classList.remove("ion-page-invisible"),D.style.removeProperty("pointer-events"),void 0!==K&&(K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events"))},he=function(){var S=(0,w.Z)(function*(D){return D.leavingEl&&D.animated&&0!==D.duration?D.animationBuilder?D.animationBuilder:"ios"===D.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(K){return S.apply(this,arguments)}}(),De=function(){var S=(0,w.Z)(function*(D,K){yield W(K,!0);const ge=D(K.baseEl,K);ce(K.enteringEl,K.leavingEl);const Ge=yield ee(ge,K);return K.progressCallback&&K.progressCallback(void 0),Ge&&ie(K.enteringEl,K.leavingEl),{hasCompleted:Ge,animation:ge}});return function(K,ge){return S.apply(this,arguments)}}(),te=function(){var S=(0,w.Z)(function*(D){const K=D.enteringEl,ge=D.leavingEl;return yield W(D,!1),ce(K,ge),ie(K,ge),{hasCompleted:!0}});return function(K){return S.apply(this,arguments)}}(),W=function(){var S=(0,w.Z)(function*(D,K){(void 0!==D.deepWait?D.deepWait:K)&&(yield Promise.all([F(D.enteringEl),F(D.leavingEl)])),yield k(D.viewIsReady,D.enteringEl)});return function(K,ge){return S.apply(this,arguments)}}(),k=function(){var S=(0,w.Z)(function*(D,K){D&&(yield D(K))});return function(K,ge){return S.apply(this,arguments)}}(),ee=(S,D)=>{const K=D.progressCallback,ge=new Promise(Ge=>{S.onFinish(tt=>Ge(1===tt))});return K?(S.progressStart(!0),K(S)):S.play(),ge},ce=(S,D)=>{ke(D,O),ke(S,"ionViewWillEnter")},ie=(S,D)=>{ke(S,"ionViewDidEnter"),ke(D,I)},ke=(S,D)=>{if(S){const K=new CustomEvent(D,{bubbles:!1,cancelable:!1});S.dispatchEvent(K)}},Le=()=>new Promise(S=>(0,d.r)(()=>(0,d.r)(()=>S()))),F=function(){var S=(0,w.Z)(function*(D){const K=D;if(K){if(null!=K.componentOnReady){if(null!=(yield K.componentOnReady()))return}else if(null!=K.__registerHost)return void(yield new Promise(Ge=>(0,d.r)(Ge)));yield Promise.all(Array.from(K.children).map(F))}});return function(K){return S.apply(this,arguments)}}(),P=(S,D)=>{D?(S.setAttribute("aria-hidden","true"),S.classList.add("ion-page-hidden")):(S.hidden=!1,S.removeAttribute("aria-hidden"),S.classList.remove("ion-page-hidden"))},re=(S,D,K)=>{void 0!==S&&(S.style.zIndex="back"===K?"99":"101"),void 0!==D&&(D.style.zIndex="100")},oe=S=>S.classList.contains("ion-page")?S:S.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||S},6240:(be,Ae,C)=>{"use strict";C.d(Ae,{a:()=>T,b:()=>d,p:()=>w});const w=(Z,...V)=>console.warn(`[Ionic Warning]: ${Z}`,...V),T=(Z,...V)=>console.error(`[Ionic Error]: ${Z}`,...V),d=(Z,...V)=>console.error(`<${Z.tagName.toLowerCase()}> must be used inside ${V.join(" or ")}.`)},6940:(be,Ae,C)=>{"use strict";C.d(Ae,{d:()=>T,w:()=>w});const w=typeof window<"u"?window:void 0,T=typeof document<"u"?document:void 0},3426:(be,Ae,C)=>{"use strict";C.d(Ae,{B:()=>G,H:()=>tt,a:()=>Ys,b:()=>cs,c:()=>it,d:()=>Ut,e:()=>yt,f:()=>Vt,g:()=>Ue,h:()=>ge,i:()=>Uo,j:()=>M,r:()=>Zi,w:()=>qi});var w=C(3918);let Z,V,O,I=!1,x=!1,X=!1,U=!1,R=!1;const G={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},M=g=>{const E=new URL(g,yn.$resourcesUrl$);return E.origin!==ni.location.origin?E.href:E.pathname},ee="s-id",ce="sty-id",Le="slot-fb{display:contents}slot-fb[hidden]{display:none}",F="http://www.w3.org/1999/xlink",P={},D=g=>"object"==(g=typeof g)||"function"===g;function K(g){var E,z,se;return null!==(se=null===(z=null===(E=g.head)||void 0===E?void 0:E.querySelector('meta[name="csp-nonce"]'))||void 0===z?void 0:z.getAttribute("content"))&&void 0!==se?se:void 0}const ge=(g,E,...z)=>{let se=null,Pe=null,ue=null,Ye=!1,A=!1;const Qe=[],je=wt=>{for(let Et=0;Et<wt.length;Et++)se=wt[Et],Array.isArray(se)?je(se):null!=se&&"boolean"!=typeof se&&((Ye="function"!=typeof g&&!D(se))&&(se=String(se)),Ye&&A?Qe[Qe.length-1].$text$+=se:Qe.push(Ye?Ge(null,se):se),A=Ye)};if(je(z),E){E.key&&(Pe=E.key),E.name&&(ue=E.name);{const wt=E.className||E.class;wt&&(E.class="object"!=typeof wt?wt:Object.keys(wt).filter(Et=>wt[Et]).join(" "))}}if("function"==typeof g)return g(null===E?{}:E,Qe,Ne);const ct=Ge(g,null);return ct.$attrs$=E,Qe.length>0&&(ct.$children$=Qe),ct.$key$=Pe,ct.$name$=ue,ct},Ge=(g,E)=>({$flags$:0,$tag$:g,$text$:E,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),tt={},Ne={forEach:(g,E)=>g.map(me).forEach(E),map:(g,E)=>g.map(me).map(E).map(xe)},me=g=>({vattrs:g.$attrs$,vchildren:g.$children$,vkey:g.$key$,vname:g.$name$,vtag:g.$tag$,vtext:g.$text$}),xe=g=>{if("function"==typeof g.vtag){const z=Object.assign({},g.vattrs);return g.vkey&&(z.key=g.vkey),g.vname&&(z.name=g.vname),ge(g.vtag,z,...g.vchildren||[])}const E=Ge(g.vtag,g.vtext);return E.$attrs$=g.vattrs,E.$children$=g.vchildren,E.$key$=g.vkey,E.$name$=g.vname,E},St=(g,E,z,se,Pe,ue,Ye)=>{let A,Qe,je,ct;if(1===ue.nodeType){for(A=ue.getAttribute("c-id"),A&&(Qe=A.split("."),(Qe[0]===Ye||"0"===Qe[0])&&(je={$flags$:0,$hostId$:Qe[0],$nodeId$:Qe[1],$depth$:Qe[2],$index$:Qe[3],$tag$:ue.tagName.toLowerCase(),$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},E.push(je),ue.removeAttribute("c-id"),g.$children$||(g.$children$=[]),g.$children$[je.$index$]=je,g=je,se&&"0"===je.$depth$&&(se[je.$index$]=je.$elm$))),ct=ue.childNodes.length-1;ct>=0;ct--)St(g,E,z,se,Pe,ue.childNodes[ct],Ye);if(ue.shadowRoot)for(ct=ue.shadowRoot.childNodes.length-1;ct>=0;ct--)St(g,E,z,se,Pe,ue.shadowRoot.childNodes[ct],Ye)}else if(8===ue.nodeType)Qe=ue.nodeValue.split("."),(Qe[1]===Ye||"0"===Qe[1])&&(A=Qe[0],je={$flags$:0,$hostId$:Qe[1],$nodeId$:Qe[2],$depth$:Qe[3],$index$:Qe[4],$elm$:ue,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===A?(je.$elm$=ue.nextSibling,je.$elm$&&3===je.$elm$.nodeType&&(je.$text$=je.$elm$.textContent,E.push(je),ue.remove(),g.$children$||(g.$children$=[]),g.$children$[je.$index$]=je,se&&"0"===je.$depth$&&(se[je.$index$]=je.$elm$))):je.$hostId$===Ye&&("s"===A?(je.$tag$="slot",ue["s-sn"]=Qe[5]?je.$name$=Qe[5]:"",ue["s-sr"]=!0,se&&(je.$elm$=Tr.createElement(je.$tag$),je.$name$&&je.$elm$.setAttribute("name",je.$name$),ue.parentNode.insertBefore(je.$elm$,ue),ue.remove(),"0"===je.$depth$&&(se[je.$index$]=je.$elm$)),z.push(je),g.$children$||(g.$children$=[]),g.$children$[je.$index$]=je):"r"===A&&(se?ue.remove():(Pe["s-cr"]=ue,ue["s-cn"]=!0))));else if(g&&"style"===g.$tag$){const wt=Ge(null,ue.textContent);wt.$elm$=ue,wt.$index$="0",g.$children$=[wt]}},de=(g,E)=>{if(1===g.nodeType){let z=0;for(;z<g.childNodes.length;z++)de(g.childNodes[z],E);if(g.shadowRoot)for(z=0;z<g.shadowRoot.childNodes.length;z++)de(g.shadowRoot.childNodes[z],E)}else if(8===g.nodeType){const z=g.nodeValue.split(".");"o"===z[0]&&(E.set(z[1]+"."+z[2],g),g.nodeValue="",g["s-en"]=z[3])}},it=g=>Wo.push(g),Ue=g=>Fr(g).$modeName$,Vt=g=>Fr(g).$hostElement$,Ut=(g,E,z)=>{const se=Vt(g);return{emit:Pe=>ye(se,E,{bubbles:!!(4&z),composed:!!(2&z),cancelable:!!(1&z),detail:Pe})}},ye=(g,E,z)=>{const se=yn.ce(E,z);return g.dispatchEvent(se),se},Ie=new WeakMap,Ee=(g,E,z)=>{let se=Yr.get(g);Qs&&z?(se=se||new CSSStyleSheet,"string"==typeof se?se=E:se.replaceSync(E)):se=E,Yr.set(g,se)},Xe=(g,E,z)=>{var se;const Pe=Dt(E,z),ue=Yr.get(Pe);if(g=11===g.nodeType?g:Tr,ue)if("string"==typeof ue){let A,Ye=Ie.get(g=g.head||g);if(Ye||Ie.set(g,Ye=new Set),!Ye.has(Pe)){if(g.host&&(A=g.querySelector(`[${ce}="${Pe}"]`)))A.innerHTML=ue;else{A=Tr.createElement("style"),A.innerHTML=ue;const Qe=null!==(se=yn.$nonce$)&&void 0!==se?se:K(Tr);null!=Qe&&A.setAttribute("nonce",Qe),g.insertBefore(A,g.querySelector("link"))}4&E.$flags$&&(A.innerHTML+=Le),Ye&&Ye.add(Pe)}}else g.adoptedStyleSheets.includes(ue)||(g.adoptedStyleSheets=[...g.adoptedStyleSheets,ue]);return Pe},Dt=(g,E)=>"sc-"+(E&&32&g.$flags$?g.$tagName$+"-"+E:g.$tagName$),dn=g=>g.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Yt=(g,E,z,se,Pe,ue)=>{if(z!==se){let Ye=Ti(g,E),A=E.toLowerCase();if("class"===E){const Qe=g.classList,je=an(z),ct=an(se);Qe.remove(...je.filter(wt=>wt&&!ct.includes(wt))),Qe.add(...ct.filter(wt=>wt&&!je.includes(wt)))}else if("style"===E){for(const Qe in z)(!se||null==se[Qe])&&(Qe.includes("-")?g.style.removeProperty(Qe):g.style[Qe]="");for(const Qe in se)(!z||se[Qe]!==z[Qe])&&(Qe.includes("-")?g.style.setProperty(Qe,se[Qe]):g.style[Qe]=se[Qe])}else if("key"!==E)if("ref"===E)se&&se(g);else if(Ye||"o"!==E[0]||"n"!==E[1]){const Qe=D(se);if((Ye||Qe&&null!==se)&&!Pe)try{if(g.tagName.includes("-"))g[E]=se;else{const ct=se??"";"list"===E?Ye=!1:(null==z||g[E]!=ct)&&(g[E]=ct)}}catch{}let je=!1;A!==(A=A.replace(/^xlink\:?/,""))&&(E=A,je=!0),null==se||!1===se?(!1!==se||""===g.getAttribute(E))&&(je?g.removeAttributeNS(F,E):g.removeAttribute(E)):(!Ye||4&ue||Pe)&&!Qe&&(se=!0===se?"":se,je?g.setAttributeNS(F,E,se):g.setAttribute(E,se))}else if(E="-"===E[2]?E.slice(3):Ti(ni,A)?A.slice(2):A[2]+E.slice(3),z||se){const Qe=E.endsWith(vr);E=E.replace(sr,""),z&&yn.rel(g,E,z,Qe),se&&yn.ael(g,E,se,Qe)}}},Qt=/\s/,an=g=>g?g.split(Qt):[],vr="Capture",sr=new RegExp(vr+"$"),ei=(g,E,z,se)=>{const Pe=11===E.$elm$.nodeType&&E.$elm$.host?E.$elm$.host:E.$elm$,ue=g&&g.$attrs$||P,Ye=E.$attrs$||P;for(se in ue)se in Ye||Yt(Pe,se,ue[se],void 0,z,E.$flags$);for(se in Ye)Yt(Pe,se,ue[se],Ye[se],z,E.$flags$)},Pr=(g,E,z,se)=>{var Pe;const ue=E.$children$[z];let A,Qe,je,Ye=0;if(I||(X=!0,"slot"===ue.$tag$&&(Z&&se.classList.add(Z+"-s"),ue.$flags$|=ue.$children$?2:1)),null!==ue.$text$)A=ue.$elm$=Tr.createTextNode(ue.$text$);else if(1&ue.$flags$)A=ue.$elm$=Tr.createTextNode("");else{if(U||(U="svg"===ue.$tag$),A=ue.$elm$=Tr.createElementNS(U?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ue.$flags$?"slot-fb":ue.$tag$),U&&"foreignObject"===ue.$tag$&&(U=!1),ei(null,ue,U),(g=>null!=g)(Z)&&A["s-si"]!==Z&&A.classList.add(A["s-si"]=Z),ue.$children$)for(Ye=0;Ye<ue.$children$.length;++Ye)Qe=Pr(g,ue,Ye,A),Qe&&A.appendChild(Qe);"svg"===ue.$tag$?U=!1:"foreignObject"===A.tagName&&(U=!0)}return A["s-hn"]=O,3&ue.$flags$&&(A["s-sr"]=!0,A["s-fs"]=null===(Pe=ue.$attrs$)||void 0===Pe?void 0:Pe.slot,A["s-cr"]=V,A["s-sn"]=ue.$name$||"",je=g&&g.$children$&&g.$children$[z],je&&je.$tag$===ue.$tag$&&g.$elm$&&ho(g.$elm$,!1)),A},ho=(g,E)=>{var z;yn.$flags$|=1;const se=g.childNodes;for(let Pe=se.length-1;Pe>=0;Pe--){const ue=se[Pe];ue["s-hn"]!==O&&ue["s-ol"]&&(ar(ue).insertBefore(ue,ti(ue)),ue["s-ol"].remove(),ue["s-ol"]=void 0,ue["s-sh"]=void 0,1===ue.nodeType&&ue.setAttribute("slot",null!==(z=ue["s-sn"])&&void 0!==z?z:""),X=!0),E&&ho(ue,E)}yn.$flags$&=-2},Or=(g,E,z,se,Pe,ue)=>{let A,Ye=g["s-cr"]&&g["s-cr"].parentNode||g;for(Ye.shadowRoot&&Ye.tagName===O&&(Ye=Ye.shadowRoot);Pe<=ue;++Pe)se[Pe]&&(A=Pr(null,z,Pe,g),A&&(se[Pe].$elm$=A,Ye.insertBefore(A,ti(E))))},Qn=(g,E,z)=>{for(let se=E;se<=z;++se){const Pe=g[se];if(Pe){const ue=Pe.$elm$;In(Pe),ue&&(x=!0,ue["s-ol"]?ue["s-ol"].remove():ho(ue,!0),ue.remove())}}},Po=(g,E)=>g.$tag$===E.$tag$&&("slot"===g.$tag$?g.$name$===E.$name$:g.$key$===E.$key$),ti=g=>g&&g["s-ol"]||g,ar=g=>(g["s-ol"]?g["s-ol"]:g).parentNode,oo=(g,E)=>{const z=E.$elm$=g.$elm$,se=g.$children$,Pe=E.$children$,ue=E.$tag$,Ye=E.$text$;let A;null===Ye?(U="svg"===ue||"foreignObject"!==ue&&U,"slot"===ue||ei(g,E,U),null!==se&&null!==Pe?((g,E,z,se)=>{let pr,Mr,Pe=0,ue=0,Ye=0,A=0,Qe=E.length-1,je=E[0],ct=E[Qe],wt=se.length-1,Et=se[0],bn=se[wt];for(;Pe<=Qe&&ue<=wt;)if(null==je)je=E[++Pe];else if(null==ct)ct=E[--Qe];else if(null==Et)Et=se[++ue];else if(null==bn)bn=se[--wt];else if(Po(je,Et))oo(je,Et),je=E[++Pe],Et=se[++ue];else if(Po(ct,bn))oo(ct,bn),ct=E[--Qe],bn=se[--wt];else if(Po(je,bn))("slot"===je.$tag$||"slot"===bn.$tag$)&&ho(je.$elm$.parentNode,!1),oo(je,bn),g.insertBefore(je.$elm$,ct.$elm$.nextSibling),je=E[++Pe],bn=se[--wt];else if(Po(ct,Et))("slot"===je.$tag$||"slot"===bn.$tag$)&&ho(ct.$elm$.parentNode,!1),oo(ct,Et),g.insertBefore(ct.$elm$,je.$elm$),ct=E[--Qe],Et=se[++ue];else{for(Ye=-1,A=Pe;A<=Qe;++A)if(E[A]&&null!==E[A].$key$&&E[A].$key$===Et.$key$){Ye=A;break}Ye>=0?(Mr=E[Ye],Mr.$tag$!==Et.$tag$?pr=Pr(E&&E[ue],z,Ye,g):(oo(Mr,Et),E[Ye]=void 0,pr=Mr.$elm$),Et=se[++ue]):(pr=Pr(E&&E[ue],z,ue,g),Et=se[++ue]),pr&&ar(je.$elm$).insertBefore(pr,ti(je.$elm$))}Pe>Qe?Or(g,null==se[wt+1]?null:se[wt+1].$elm$,z,se,ue,wt):ue>wt&&Qn(E,Pe,Qe)})(z,se,E,Pe):null!==Pe?(null!==g.$text$&&(z.textContent=""),Or(z,null,E,Pe,0,Pe.length-1)):null!==se&&Qn(se,0,se.length-1),U&&"svg"===ue&&(U=!1)):(A=z["s-cr"])?A.parentNode.textContent=Ye:g.$text$!==Ye&&(z.data=Ye)},Te=g=>{const E=g.childNodes;for(const z of E)if(1===z.nodeType){if(z["s-sr"]){const se=z["s-sn"];z.hidden=!1;for(const Pe of E)if(Pe!==z)if(Pe["s-hn"]!==z["s-hn"]||""!==se){if(1===Pe.nodeType&&(se===Pe.getAttribute("slot")||se===Pe["s-sn"])){z.hidden=!0;break}}else if(1===Pe.nodeType||3===Pe.nodeType&&""!==Pe.textContent.trim()){z.hidden=!0;break}}Te(z)}},Me=[],tn=g=>{let E,z,se;for(const Pe of g.childNodes){if(Pe["s-sr"]&&(E=Pe["s-cr"])&&E.parentNode){z=E.parentNode.childNodes;const ue=Pe["s-sn"];for(se=z.length-1;se>=0;se--)if(E=z[se],!E["s-cn"]&&!E["s-nr"]&&E["s-hn"]!==Pe["s-hn"])if(Ht(E,ue)){let Ye=Me.find(A=>A.$nodeToRelocate$===E);x=!0,E["s-sn"]=E["s-sn"]||ue,Ye?(Ye.$nodeToRelocate$["s-sh"]=Pe["s-hn"],Ye.$slotRefNode$=Pe):(E["s-sh"]=Pe["s-hn"],Me.push({$slotRefNode$:Pe,$nodeToRelocate$:E})),E["s-sr"]&&Me.map(A=>{Ht(A.$nodeToRelocate$,E["s-sn"])&&(Ye=Me.find(Qe=>Qe.$nodeToRelocate$===E),Ye&&!A.$slotRefNode$&&(A.$slotRefNode$=Ye.$slotRefNode$))})}else Me.some(Ye=>Ye.$nodeToRelocate$===E)||Me.push({$nodeToRelocate$:E})}1===Pe.nodeType&&tn(Pe)}},Ht=(g,E)=>1===g.nodeType?null===g.getAttribute("slot")&&""===E||g.getAttribute("slot")===E:g["s-sn"]===E||""===E,In=g=>{g.$attrs$&&g.$attrs$.ref&&g.$attrs$.ref(null),g.$children$&&g.$children$.map(In)},qn=(g,E)=>{E&&!g.$onRenderResolve$&&E["s-p"]&&E["s-p"].push(new Promise(z=>g.$onRenderResolve$=z))},Ln=(g,E)=>{if(g.$flags$|=16,!(4&g.$flags$))return qn(g,g.$ancestorComponent$),qi(()=>Nr(g,E));g.$flags$|=512},Nr=(g,E)=>{const se=g.$lazyInstance$;let Pe;return E&&(g.$flags$|=256,g.$queuedListeners$&&(g.$queuedListeners$.map(([ue,Ye])=>yr(se,ue,Ye)),g.$queuedListeners$=void 0),Pe=yr(se,"componentWillLoad")),Pe=Kr(Pe,()=>yr(se,"componentWillRender")),Kr(Pe,()=>Go(g,se,E))},Kr=(g,E)=>kn(g)?g.then(E):E(),kn=g=>g instanceof Promise||g&&g.then&&"function"==typeof g.then,Go=function(){var g=(0,w.Z)(function*(E,z,se){var Pe;const ue=E.$hostElement$,A=ue["s-rc"];se&&(g=>{const E=g.$cmpMeta$,z=g.$hostElement$,se=E.$flags$,ue=Xe(z.shadowRoot?z.shadowRoot:z.getRootNode(),E,g.$modeName$);10&se&&(z["s-sc"]=ue,z.classList.add(ue+"-h"),2&se&&z.classList.add(ue+"-s"))})(E);lo(E,z,ue,se),A&&(A.map(je=>je()),ue["s-rc"]=void 0);{const je=null!==(Pe=ue["s-p"])&&void 0!==Pe?Pe:[],ct=()=>zi(E);0===je.length?ct():(Promise.all(je).then(ct),E.$flags$|=4,je.length=0)}});return function(z,se,Pe){return g.apply(this,arguments)}}(),lo=(g,E,z,se)=>{try{E=E.render&&E.render(),g.$flags$&=-17,g.$flags$|=2,((g,E,z=!1)=>{var se,Pe,ue,Ye;const A=g.$hostElement$,Qe=g.$cmpMeta$,je=g.$vnode$||Ge(null,null),ct=(g=>g&&g.$tag$===tt)(E)?E:ge(null,null,E);if(O=A.tagName,Qe.$attrsToReflect$&&(ct.$attrs$=ct.$attrs$||{},Qe.$attrsToReflect$.map(([wt,Et])=>ct.$attrs$[Et]=A[wt])),z&&ct.$attrs$)for(const wt of Object.keys(ct.$attrs$))A.hasAttribute(wt)&&!["key","ref","style","class"].includes(wt)&&(ct.$attrs$[wt]=A[wt]);if(ct.$tag$=null,ct.$flags$|=4,g.$vnode$=ct,ct.$elm$=je.$elm$=A.shadowRoot||A,Z=A["s-sc"],V=A["s-cr"],I=0!=(1&Qe.$flags$),x=!1,oo(je,ct),yn.$flags$|=1,X){tn(ct.$elm$);for(const wt of Me){const Et=wt.$nodeToRelocate$;if(!Et["s-ol"]){const bn=Tr.createTextNode("");bn["s-nr"]=Et,Et.parentNode.insertBefore(Et["s-ol"]=bn,Et)}}for(const wt of Me){const Et=wt.$nodeToRelocate$,bn=wt.$slotRefNode$;if(bn){const pr=bn.parentNode;let Mr=bn.nextSibling;{let jr=null===(se=Et["s-ol"])||void 0===se?void 0:se.previousSibling;for(;jr;){let Un=null!==(Pe=jr["s-nr"])&&void 0!==Pe?Pe:null;if(Un&&Un["s-sn"]===Et["s-sn"]&&pr===Un.parentNode&&(Un=Un.nextSibling,!Un||!Un["s-nr"])){Mr=Un;break}jr=jr.previousSibling}}(!Mr&&pr!==Et.parentNode||Et.nextSibling!==Mr)&&Et!==Mr&&(!Et["s-hn"]&&Et["s-ol"]&&(Et["s-hn"]=Et["s-ol"].parentNode.nodeName),pr.insertBefore(Et,Mr),1===Et.nodeType&&(Et.hidden=null!==(ue=Et["s-ih"])&&void 0!==ue&&ue))}else 1===Et.nodeType&&(z&&(Et["s-ih"]=null!==(Ye=Et.hidden)&&void 0!==Ye&&Ye),Et.hidden=!0)}}x&&Te(ct.$elm$),yn.$flags$&=-2,Me.length=0})(g,E,se)}catch(Pe){mo(Pe,g.$hostElement$)}return null},zi=g=>{const z=g.$hostElement$,Pe=g.$lazyInstance$,ue=g.$ancestorComponent$;yr(Pe,"componentDidRender"),64&g.$flags$?yr(Pe,"componentDidUpdate"):(g.$flags$|=64,xr(z),yr(Pe,"componentDidLoad"),g.$onReadyResolve$(z),ue||xn()),g.$onInstanceResolve$(z),g.$onRenderResolve$&&(g.$onRenderResolve$(),g.$onRenderResolve$=void 0),512&g.$flags$&&Xr(()=>Ln(g,!1)),g.$flags$&=-517},Uo=g=>{{const E=Fr(g),z=E.$hostElement$.isConnected;return z&&2==(18&E.$flags$)&&Ln(E,!1),z}},xn=g=>{xr(Tr.documentElement),Xr(()=>ye(ni,"appload",{detail:{namespace:"ionic"}}))},yr=(g,E,z)=>{if(g&&g[E])try{return g[E](z)}catch(se){mo(se)}},xr=g=>g.classList.add("hydrated"),mi=(g,E,z)=>{var se;const Pe=g.prototype;if(E.$members$){g.watchers&&(E.$watchers$=g.watchers);const ue=Object.entries(E.$members$);if(ue.map(([Ye,[A]])=>{31&A||2&z&&32&A?Object.defineProperty(Pe,Ye,{get(){return((g,E)=>Fr(this).$instanceValues$.get(E))(0,Ye)},set(Qe){((g,E,z,se)=>{const Pe=Fr(g),ue=Pe.$hostElement$,Ye=Pe.$instanceValues$.get(E),A=Pe.$flags$,Qe=Pe.$lazyInstance$;z=((g,E)=>null==g||D(g)?g:4&E?"false"!==g&&(""===g||!!g):2&E?parseFloat(g):1&E?String(g):g)(z,se.$members$[E][0]);const je=Number.isNaN(Ye)&&Number.isNaN(z);if((!(8&A)||void 0===Ye)&&z!==Ye&&!je&&(Pe.$instanceValues$.set(E,z),Qe)){if(se.$watchers$&&128&A){const wt=se.$watchers$[E];wt&&wt.map(Et=>{try{Qe[Et](z,Ye,E)}catch(bn){mo(bn,ue)}})}2==(18&A)&&Ln(Pe,!1)}})(this,Ye,Qe,E)},configurable:!0,enumerable:!0}):1&z&&64&A&&Object.defineProperty(Pe,Ye,{value(...Qe){var je;const ct=Fr(this);return null===(je=ct?.$onInstancePromise$)||void 0===je?void 0:je.then(()=>{var wt;return null===(wt=ct.$lazyInstance$)||void 0===wt?void 0:wt[Ye](...Qe)})}})}),1&z){const Ye=new Map;Pe.attributeChangedCallback=function(A,Qe,je){yn.jmp(()=>{var ct;const wt=Ye.get(A);if(this.hasOwnProperty(wt))je=this[wt],delete this[wt];else{if(Pe.hasOwnProperty(wt)&&"number"==typeof this[wt]&&this[wt]==je)return;if(null==wt){const Et=Fr(this),bn=Et?.$flags$;if(bn&&!(8&bn)&&128&bn&&je!==Qe){const pr=Et.$lazyInstance$,Mr=null===(ct=E.$watchers$)||void 0===ct?void 0:ct[A];Mr?.forEach(jr=>{null!=pr[jr]&&pr[jr].call(pr,je,Qe,A)})}return}}this[wt]=(null!==je||"boolean"!=typeof this[wt])&&je})},g.observedAttributes=Array.from(new Set([...Object.keys(null!==(se=E.$watchers$)&&void 0!==se?se:{}),...ue.filter(([A,Qe])=>15&Qe[0]).map(([A,Qe])=>{var je;const ct=Qe[1]||A;return Ye.set(ct,A),512&Qe[0]&&(null===(je=E.$attrsToReflect$)||void 0===je||je.push([A,ct])),ct})]))}}return g},nn=function(){var g=(0,w.Z)(function*(E,z,se,Pe){let ue;if(!(32&z.$flags$)){z.$flags$|=32;{if(ue=Rs(se),ue.then){const je=()=>{};ue=yield ue,je()}ue.isProxied||(se.$watchers$=ue.watchers,mi(ue,se,2),ue.isProxied=!0);const Qe=()=>{};z.$flags$|=8;try{new ue(z)}catch(je){mo(je)}z.$flags$&=-9,z.$flags$|=128,Qe(),Do(z.$lazyInstance$)}if(ue.style){let Qe=ue.style;"string"!=typeof Qe&&(Qe=Qe[z.$modeName$=(g=>Wo.map(E=>E(g)).find(E=>!!E))(E)]);const je=Dt(se,z.$modeName$);if(!Yr.has(je)){const ct=()=>{};Ee(je,Qe,!!(1&se.$flags$)),ct()}}}const Ye=z.$ancestorComponent$,A=()=>Ln(z,!0);Ye&&Ye["s-rc"]?Ye["s-rc"].push(A):A()});return function(z,se,Pe,ue){return g.apply(this,arguments)}}(),Do=g=>{yr(g,"connectedCallback")},Ho=g=>{const E=g["s-cr"]=Tr.createComment("");E["s-cn"]=!0,g.insertBefore(E,g.firstChild)},_i=g=>{yr(g,"disconnectedCallback")},ne=function(){var g=(0,w.Z)(function*(E){if(!(1&yn.$flags$)){const z=Fr(E);z.$rmListeners$&&(z.$rmListeners$.map(se=>se()),z.$rmListeners$=void 0),z?.$lazyInstance$?_i(z.$lazyInstance$):z?.$onReadyPromise$&&z.$onReadyPromise$.then(()=>_i(z.$lazyInstance$))}});return function(z){return g.apply(this,arguments)}}(),cs=(g,E={})=>{var z;const Pe=[],ue=E.exclude||[],Ye=ni.customElements,A=Tr.head,Qe=A.querySelector("meta[charset]"),je=Tr.createElement("style"),ct=[],wt=Tr.querySelectorAll(`[${ce}]`);let Et,bn=!0,pr=0;for(Object.assign(yn,E),yn.$resourcesUrl$=new URL(E.resourcesUrl||"./",Tr.baseURI).href,yn.$flags$|=2;pr<wt.length;pr++)Ee(wt[pr].getAttribute(ce),dn(wt[pr].innerHTML),!0);let Mr=!1;if(g.map(jr=>{jr[1].map(Un=>{var Ki;const Rn={$flags$:Un[0],$tagName$:Un[1],$members$:Un[2],$listeners$:Un[3]};4&Rn.$flags$&&(Mr=!0),Rn.$members$=Un[2],Rn.$listeners$=Un[3],Rn.$attrsToReflect$=[],Rn.$watchers$=null!==(Ki=Un[4])&&void 0!==Ki?Ki:{};const Oo=Rn.$tagName$,Io=class extends HTMLElement{constructor(Yi){super(Yi),xi(Yi=this,Rn),1&Rn.$flags$&&Yi.attachShadow({mode:"open",delegatesFocus:!!(16&Rn.$flags$)})}connectedCallback(){Et&&(clearTimeout(Et),Et=null),bn?ct.push(this):yn.jmp(()=>(g=>{if(!(1&yn.$flags$)){const E=Fr(g),z=E.$cmpMeta$,se=()=>{};if(1&E.$flags$)Ii(g,E,z.$listeners$),E?.$lazyInstance$?Do(E.$lazyInstance$):E?.$onReadyPromise$&&E.$onReadyPromise$.then(()=>Do(E.$lazyInstance$));else{let Pe;if(E.$flags$|=1,Pe=g.getAttribute(ee),Pe){if(1&z.$flags$){const ue=Xe(g.shadowRoot,z,g.getAttribute("s-mode"));g.classList.remove(ue+"-h",ue+"-s")}((g,E,z,se)=>{const ue=g.shadowRoot,Ye=[],Qe=ue?[]:null,je=se.$vnode$=Ge(E,null);yn.$orgLocNodes$||de(Tr.body,yn.$orgLocNodes$=new Map),g[ee]=z,g.removeAttribute(ee),St(je,Ye,[],Qe,g,g,z),Ye.map(ct=>{const wt=ct.$hostId$+"."+ct.$nodeId$,Et=yn.$orgLocNodes$.get(wt),bn=ct.$elm$;Et&&Xs&&""===Et["s-en"]&&Et.parentNode.insertBefore(bn,Et.nextSibling),ue||(bn["s-hn"]=E,Et&&(bn["s-ol"]=Et,bn["s-ol"]["s-nr"]=bn)),yn.$orgLocNodes$.delete(wt)}),ue&&Qe.map(ct=>{ct&&ue.appendChild(ct)})})(g,z.$tagName$,Pe,E)}Pe||12&z.$flags$&&Ho(g);{let ue=g;for(;ue=ue.parentNode||ue.host;)if(1===ue.nodeType&&ue.hasAttribute("s-id")&&ue["s-p"]||ue["s-p"]){qn(E,E.$ancestorComponent$=ue);break}}z.$members$&&Object.entries(z.$members$).map(([ue,[Ye]])=>{if(31&Ye&&g.hasOwnProperty(ue)){const A=g[ue];delete g[ue],g[ue]=A}}),nn(g,E,z)}se()}})(this))}disconnectedCallback(){yn.jmp(()=>ne(this))}componentOnReady(){return Fr(this).$onReadyPromise$}};Rn.$lazyBundleId$=jr[0],!ue.includes(Oo)&&!Ye.get(Oo)&&(Pe.push(Oo),Ye.define(Oo,mi(Io,Rn,1)))})}),Mr&&(je.innerHTML+=Le),je.innerHTML+=Pe+"{visibility:hidden}.hydrated{visibility:inherit}",je.innerHTML.length){je.setAttribute("data-styles","");const jr=null!==(z=yn.$nonce$)&&void 0!==z?z:K(Tr);null!=jr&&je.setAttribute("nonce",jr),A.insertBefore(je,Qe?Qe.nextSibling:A.firstChild)}bn=!1,ct.length?ct.map(jr=>jr.connectedCallback()):yn.jmp(()=>Et=setTimeout(xn,30))},Ii=(g,E,z,se)=>{z&&z.map(([Pe,ue,Ye])=>{const A=di(g,Pe),Qe=zo(E,Ye),je=vi(Pe);yn.ael(A,ue,Qe,je),(E.$rmListeners$=E.$rmListeners$||[]).push(()=>yn.rel(A,ue,Qe,je))})},zo=(g,E)=>z=>{try{256&g.$flags$?g.$lazyInstance$[E](z):(g.$queuedListeners$=g.$queuedListeners$||[]).push([E,z])}catch(se){mo(se)}},di=(g,E)=>4&E?Tr:8&E?ni:16&E?Tr.body:g,vi=g=>0!=(2&g),Wi=new WeakMap,Fr=g=>Wi.get(g),Zi=(g,E)=>Wi.set(E.$lazyInstance$=g,E),xi=(g,E)=>{const z={$flags$:0,$hostElement$:g,$cmpMeta$:E,$instanceValues$:new Map};return z.$onInstancePromise$=new Promise(se=>z.$onInstanceResolve$=se),z.$onReadyPromise$=new Promise(se=>z.$onReadyResolve$=se),g["s-p"]=[],g["s-rc"]=[],Ii(g,z,E.$listeners$),Wi.set(g,z)},Ti=(g,E)=>E in g,mo=(g,E)=>(0,console.error)(g,E),us=new Map,Rs=(g,E,z)=>{const se=g.$tagName$.replace(/-/g,"_"),Pe=g.$lazyBundleId$,ue=us.get(Pe);return ue?ue[se]:C(863)(`./${Pe}.entry.js`).then(Ye=>(us.set(Pe,Ye),Ye[se]),mo)},Yr=new Map,Wo=[],ni=typeof window<"u"?window:{},Tr=ni.document||{head:{}},yn={$flags$:0,$resourcesUrl$:"",jmp:g=>g(),raf:g=>requestAnimationFrame(g),ael:(g,E,z,se)=>g.addEventListener(E,z,se),rel:(g,E,z,se)=>g.removeEventListener(E,z,se),ce:(g,E)=>new CustomEvent(g,E)},Ys=g=>{Object.assign(yn,g)},Xs=!0,Qs=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),nt=[],Ps=[],Os=(g,E)=>z=>{g.push(z),R||(R=!0,E&&4&yn.$flags$?Xr(pi):yn.raf(pi))},fs=g=>{for(let E=0;E<g.length;E++)try{g[E](performance.now())}catch(z){mo(z)}g.length=0},pi=()=>{fs(nt),fs(Ps),(R=nt.length>0)&&yn.raf(pi)},Xr=g=>Promise.resolve(void 0).then(g),yt=Os(nt,!1),qi=Os(Ps,!0)},5194:(be,Ae,C)=>{"use strict";C.d(Ae,{a:()=>R,b:()=>Ge,c:()=>d,i:()=>tt});var w=C(3426);class T{constructor(){this.m=new Map}reset(Ne){this.m=new Map(Object.entries(Ne))}get(Ne,me){const xe=this.m.get(Ne);return void 0!==xe?xe:me}getBoolean(Ne,me=!1){const xe=this.m.get(Ne);return void 0===xe?me:"string"==typeof xe?"true"===xe:!!xe}getNumber(Ne,me){const xe=parseFloat(this.m.get(Ne));return isNaN(xe)?void 0!==me?me:NaN:xe}set(Ne,me){this.m.set(Ne,me)}}const d=new T,x="ionic:",X="ionic-persist-config",R=(fe,Ne)=>("string"==typeof fe&&(Ne=fe,fe=void 0),(fe=>G(fe))(fe).includes(Ne)),G=(fe=window)=>{if(typeof fe>"u")return[];fe.Ionic=fe.Ionic||{};let Ne=fe.Ionic.platforms;return null==Ne&&(Ne=fe.Ionic.platforms=M(fe),Ne.forEach(me=>fe.document.documentElement.classList.add(`plt-${me}`))),Ne},M=fe=>{const Ne=d.get("platform");return Object.keys(K).filter(me=>{const xe=Ne?.[me];return"function"==typeof xe?xe(fe):K[me](fe)})},he=fe=>!!(S(fe,/iPad/i)||S(fe,/Macintosh/i)&&ie(fe)),W=fe=>S(fe,/android|sink/i),ie=fe=>D(fe,"(any-pointer:coarse)"),Le=fe=>F(fe)||P(fe),F=fe=>!!(fe.cordova||fe.phonegap||fe.PhoneGap),P=fe=>{const Ne=fe.Capacitor;return!!Ne?.isNative},S=(fe,Ne)=>Ne.test(fe.navigator.userAgent),D=(fe,Ne)=>{var me;return null===(me=fe.matchMedia)||void 0===me?void 0:me.call(fe,Ne).matches},K={ipad:he,iphone:fe=>S(fe,/iPhone/i),ios:fe=>S(fe,/iPhone|iPod/i)||he(fe),android:W,phablet:fe=>{const Ne=fe.innerWidth,me=fe.innerHeight,xe=Math.min(Ne,me),qe=Math.max(Ne,me);return xe>390&&xe<520&&qe>620&&qe<800},tablet:fe=>{const Ne=fe.innerWidth,me=fe.innerHeight,xe=Math.min(Ne,me),qe=Math.max(Ne,me);return he(fe)||(fe=>W(fe)&&!S(fe,/mobile/i))(fe)||xe>460&&xe<820&&qe>780&&qe<1400},cordova:F,capacitor:P,electron:fe=>S(fe,/electron/i),pwa:fe=>{var Ne;return!!(null!==(Ne=fe.matchMedia)&&void 0!==Ne&&Ne.call(fe,"(display-mode: standalone)").matches||fe.navigator.standalone)},mobile:ie,mobileweb:fe=>ie(fe)&&!Le(fe),desktop:fe=>!ie(fe),hybrid:Le};let ge;const Ge=fe=>fe&&(0,w.g)(fe)||ge,tt=(fe={})=>{if(typeof window>"u")return;const Ne=window.document,me=window,xe=me.Ionic=me.Ionic||{},qe={};fe._ael&&(qe.ael=fe._ael),fe._rel&&(qe.rel=fe._rel),fe._ce&&(qe.ce=fe._ce),(0,w.a)(qe);const St=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(fe=>{try{const Ne=fe.sessionStorage.getItem(X);return null!==Ne?JSON.parse(Ne):{}}catch{return{}}})(me)),{persistConfig:!1}),xe.config),(fe=>{const Ne={};return fe.location.search.slice(1).split("&").map(me=>me.split("=")).map(([me,xe])=>[decodeURIComponent(me),decodeURIComponent(xe)]).filter(([me])=>((fe,Ne)=>fe.substr(0,Ne.length)===Ne)(me,x)).map(([me,xe])=>[me.slice(6),xe]).forEach(([me,xe])=>{Ne[me]=xe}),Ne})(me)),fe);d.reset(St),d.getBoolean("persistConfig")&&((fe,Ne)=>{try{fe.sessionStorage.setItem(X,JSON.stringify(Ne))}catch{return}})(me,St),G(me),xe.config=d,xe.mode=ge=d.get("mode",Ne.documentElement.getAttribute("mode")||(R(me,"ios")?"ios":"md")),d.set("mode",ge),Ne.documentElement.setAttribute("mode",ge),Ne.documentElement.classList.add(ge),d.getBoolean("_testing")&&d.set("animated",!1);const de=it=>{var Ue;return null===(Ue=it.tagName)||void 0===Ue?void 0:Ue.startsWith("ION-")},Be=it=>["ios","md"].includes(it);(0,w.c)(it=>{for(;it;){const Ue=it.mode||it.getAttribute("mode");if(Ue){if(Be(Ue))return Ue;de(it)&&console.warn('Invalid ionic mode: "'+Ue+'", expected: "ios" or "md"')}it=it.parentElement}return ge})}},5444:(be,Ae,C)=>{"use strict";C.r(Ae),C.d(Ae,{iosTransitionAnimation:()=>M,shadow:()=>I});var w=C(2723),T=C(8044);C(6940),C(3426);const O=he=>document.querySelector(`${he}.ion-cloned-element`),I=he=>he.shadowRoot||he,x=he=>{const De="ION-TABS"===he.tagName?he:he.querySelector("ion-tabs"),te="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=De){const W=De.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=W?W.querySelector(te):null}return he.querySelector(te)},X=(he,De)=>{const te="ION-TABS"===he.tagName?he:he.querySelector("ion-tabs");let W=[];if(null!=te){const k=te.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=k&&(W=k.querySelectorAll("ion-buttons"))}else W=he.querySelectorAll("ion-buttons");for(const k of W){const ee=k.closest("ion-header"),ce=ee&&!ee.classList.contains("header-collapse-condense-inactive"),ie=k.querySelector("ion-back-button"),ke=k.classList.contains("buttons-collapse");if(null!==ie&&("start"===k.slot||""===k.slot)&&(ke&&ce&&De||!ke))return ie}return null},R=(he,De,te,W,k,ee,ce,ie,ke)=>{var Le,F;const P=De?`calc(100% - ${k.right+4}px)`:k.left-4+"px",re=De?"right":"left",oe=De?"left":"right",S=De?"right":"left",D=(null===(Le=ee.textContent)||void 0===Le?void 0:Le.trim())===(null===(F=ie.textContent)||void 0===F?void 0:F.trim()),ge=(ke.height-N)/ce.height,Ge=D?`scale(${ke.width/ce.width}, ${ge})`:`scale(${ge})`,tt="scale(1)",Ne=I(W).querySelector("ion-icon").getBoundingClientRect(),me=De?Ne.width/2-(Ne.right-k.right)+"px":k.left-Ne.width/2+"px",xe=De?`-${window.innerWidth-k.right}px`:`${k.left}px`,qe=`${ke.top}px`,St=`${k.top}px`,it=te?[{offset:0,transform:`translate3d(${xe}, ${St}, 0)`},{offset:1,transform:`translate3d(${me}, ${qe}, 0)`}]:[{offset:0,transform:`translate3d(${me}, ${qe}, 0)`},{offset:1,transform:`translate3d(${xe}, ${St}, 0)`}],Vt=te?[{offset:0,opacity:1,transform:tt},{offset:1,opacity:0,transform:Ge}]:[{offset:0,opacity:0,transform:Ge},{offset:1,opacity:1,transform:tt}],Ie=te?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Ee=(0,w.c)(),Xe=(0,w.c)(),pt=(0,w.c)(),Dt=O("ion-back-button"),dn=I(Dt).querySelector(".button-text"),Yt=I(Dt).querySelector("ion-icon");Dt.text=W.text,Dt.mode=W.mode,Dt.icon=W.icon,Dt.color=W.color,Dt.disabled=W.disabled,Dt.style.setProperty("display","block"),Dt.style.setProperty("position","fixed"),Xe.addElement(Yt),Ee.addElement(dn),pt.addElement(Dt),pt.beforeStyles({position:"absolute",top:"0px",[S]:"0px"}).keyframes(it),Ee.beforeStyles({"transform-origin":`${re} top`}).beforeAddWrite(()=>{W.style.setProperty("display","none"),Dt.style.setProperty(re,P)}).afterAddWrite(()=>{W.style.setProperty("display",""),Dt.style.setProperty("display","none"),Dt.style.removeProperty(re)}).keyframes(Vt),Xe.beforeStyles({"transform-origin":`${oe} center`}).keyframes(Ie),he.addAnimation([Ee,Xe,pt])},G=(he,De,te,W,k,ee,ce,ie)=>{var ke,Le;const F=De?"right":"left",P=De?`calc(100% - ${k.right}px)`:`${k.left}px`,oe=`${k.top}px`,D=De?`-${window.innerWidth-ie.right-8}px`:ie.x-8+"px",ge=ie.y-2+"px",Ge=(null===(ke=ce.textContent)||void 0===ke?void 0:ke.trim())===(null===(Le=W.textContent)||void 0===Le?void 0:Le.trim()),fe=ie.height/(ee.height-N),Ne="scale(1)",me=Ge?`scale(${ie.width/ee.width}, ${fe})`:`scale(${fe})`,St=te?[{offset:0,opacity:0,transform:`translate3d(${D}, ${ge}, 0) ${me}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${oe}, 0) ${Ne}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${oe}, 0) ${Ne}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${D}, ${ge}, 0) ${me}`}],de=O("ion-title"),Be=(0,w.c)();de.innerText=W.innerText,de.size=W.size,de.color=W.color,Be.addElement(de),Be.beforeStyles({"transform-origin":`${F} top`,height:`${k.height}px`,display:"",position:"relative",[F]:P}).beforeAddWrite(()=>{W.style.setProperty("opacity","0")}).afterAddWrite(()=>{W.style.setProperty("opacity",""),de.style.setProperty("display","none")}).keyframes(St),he.addAnimation(Be)},M=(he,De)=>{var te;try{const W="cubic-bezier(0.32,0.72,0,1)",k="opacity",ee="transform",ce="0%",ke="rtl"===he.ownerDocument.dir,Le=ke?"-99.5%":"99.5%",F=ke?"33%":"-33%",P=De.enteringEl,re=De.leavingEl,oe="back"===De.direction,S=P.querySelector(":scope > ion-content"),D=P.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),K=P.querySelectorAll(":scope > ion-header > ion-toolbar"),ge=(0,w.c)(),Ge=(0,w.c)();if(ge.addElement(P).duration((null!==(te=De.duration)&&void 0!==te?te:0)||540).easing(De.easing||W).fill("both").beforeRemoveClass("ion-page-invisible"),re&&null!=he){const me=(0,w.c)();me.addElement(he),ge.addAnimation(me)}if(S||0!==K.length||0!==D.length?(Ge.addElement(S),Ge.addElement(D)):Ge.addElement(P.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ge.addAnimation(Ge),oe?Ge.beforeClearStyles([k]).fromTo("transform",`translateX(${F})`,`translateX(${ce})`).fromTo(k,.8,1):Ge.beforeClearStyles([k]).fromTo("transform",`translateX(${Le})`,`translateX(${ce})`),S){const me=I(S).querySelector(".transition-effect");if(me){const xe=me.querySelector(".transition-cover"),qe=me.querySelector(".transition-shadow"),St=(0,w.c)(),de=(0,w.c)(),Be=(0,w.c)();St.addElement(me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),de.addElement(xe).beforeClearStyles([k]).fromTo(k,0,.1),Be.addElement(qe).beforeClearStyles([k]).fromTo(k,.03,.7),St.addAnimation([de,Be]),Ge.addAnimation([St])}}const tt=P.querySelector("ion-header.header-collapse-condense"),{forward:fe,backward:Ne}=((he,De,te,W,k)=>{const ee=X(W,te),ce=x(k),ie=x(W),ke=X(k,te),Le=null!==ee&&null!==ce&&!te,F=null!==ie&&null!==ke&&te;if(Le){const P=ce.getBoundingClientRect(),re=ee.getBoundingClientRect(),oe=I(ee).querySelector(".button-text"),S=oe.getBoundingClientRect(),K=I(ce).querySelector(".toolbar-title").getBoundingClientRect();G(he,De,te,ce,P,K,oe,S),R(he,De,te,ee,re,oe,S,ce,K)}else if(F){const P=ie.getBoundingClientRect(),re=ke.getBoundingClientRect(),oe=I(ke).querySelector(".button-text"),S=oe.getBoundingClientRect(),K=I(ie).querySelector(".toolbar-title").getBoundingClientRect();G(he,De,te,ie,P,K,oe,S),R(he,De,te,ke,re,oe,S,ie,K)}return{forward:Le,backward:F}})(ge,ke,oe,P,re);if(K.forEach(me=>{const xe=(0,w.c)();xe.addElement(me),ge.addAnimation(xe);const qe=(0,w.c)();qe.addElement(me.querySelector("ion-title"));const St=(0,w.c)(),de=Array.from(me.querySelectorAll("ion-buttons,[menuToggle]")),Be=me.closest("ion-header"),it=Be?.classList.contains("header-collapse-condense-inactive");let Ue;Ue=de.filter(oe?Ie=>{const Ee=Ie.classList.contains("buttons-collapse");return Ee&&!it||!Ee}:Ie=>!Ie.classList.contains("buttons-collapse")),St.addElement(Ue);const Mt=(0,w.c)();Mt.addElement(me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Vt=(0,w.c)();Vt.addElement(I(me).querySelector(".toolbar-background"));const Ut=(0,w.c)(),ye=me.querySelector("ion-back-button");if(ye&&Ut.addElement(ye),xe.addAnimation([qe,St,Mt,Vt,Ut]),St.fromTo(k,.01,1),Mt.fromTo(k,.01,1),oe)it||qe.fromTo("transform",`translateX(${F})`,`translateX(${ce})`).fromTo(k,.01,1),Mt.fromTo("transform",`translateX(${F})`,`translateX(${ce})`),Ut.fromTo(k,.01,1);else if(tt||qe.fromTo("transform",`translateX(${Le})`,`translateX(${ce})`).fromTo(k,.01,1),Mt.fromTo("transform",`translateX(${Le})`,`translateX(${ce})`),Vt.beforeClearStyles([k,"transform"]),Be?.translucent?Vt.fromTo("transform",ke?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Vt.fromTo(k,.01,"var(--opacity)"),fe||Ut.fromTo(k,.01,1),ye&&!fe){const Ee=(0,w.c)();Ee.addElement(I(ye).querySelector(".button-text")).fromTo("transform",ke?"translateX(-100px)":"translateX(100px)","translateX(0px)"),xe.addAnimation(Ee)}}),re){const me=(0,w.c)(),xe=re.querySelector(":scope > ion-content"),qe=re.querySelectorAll(":scope > ion-header > ion-toolbar"),St=re.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(xe||0!==qe.length||0!==St.length?(me.addElement(xe),me.addElement(St)):me.addElement(re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ge.addAnimation(me),oe){me.beforeClearStyles([k]).fromTo("transform",`translateX(${ce})`,ke?"translateX(-100%)":"translateX(100%)");const de=(0,T.g)(re);ge.afterAddWrite(()=>{"normal"===ge.getDirection()&&de.style.setProperty("display","none")})}else me.fromTo("transform",`translateX(${ce})`,`translateX(${F})`).fromTo(k,1,.8);if(xe){const de=I(xe).querySelector(".transition-effect");if(de){const Be=de.querySelector(".transition-cover"),it=de.querySelector(".transition-shadow"),Ue=(0,w.c)(),Mt=(0,w.c)(),Vt=(0,w.c)();Ue.addElement(de).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Mt.addElement(Be).beforeClearStyles([k]).fromTo(k,.1,0),Vt.addElement(it).beforeClearStyles([k]).fromTo(k,.7,.03),Ue.addAnimation([Mt,Vt]),me.addAnimation([Ue])}}qe.forEach(de=>{const Be=(0,w.c)();Be.addElement(de);const it=(0,w.c)();it.addElement(de.querySelector("ion-title"));const Ue=(0,w.c)(),Mt=de.querySelectorAll("ion-buttons,[menuToggle]"),Vt=de.closest("ion-header"),Ut=Vt?.classList.contains("header-collapse-condense-inactive"),ye=Array.from(Mt).filter(dn=>{const Yt=dn.classList.contains("buttons-collapse");return Yt&&!Ut||!Yt});Ue.addElement(ye);const Ie=(0,w.c)(),Ee=de.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ee.length>0&&Ie.addElement(Ee);const Xe=(0,w.c)();Xe.addElement(I(de).querySelector(".toolbar-background"));const pt=(0,w.c)(),Dt=de.querySelector("ion-back-button");if(Dt&&pt.addElement(Dt),Be.addAnimation([it,Ue,Ie,pt,Xe]),ge.addAnimation(Be),pt.fromTo(k,.99,0),Ue.fromTo(k,.99,0),Ie.fromTo(k,.99,0),oe){if(Ut||it.fromTo("transform",`translateX(${ce})`,ke?"translateX(-100%)":"translateX(100%)").fromTo(k,.99,0),Ie.fromTo("transform",`translateX(${ce})`,ke?"translateX(-100%)":"translateX(100%)"),Xe.beforeClearStyles([k,"transform"]),Vt?.translucent?Xe.fromTo("transform","translateX(0px)",ke?"translateX(-100%)":"translateX(100%)"):Xe.fromTo(k,"var(--opacity)",0),Dt&&!Ne){const Yt=(0,w.c)();Yt.addElement(I(Dt).querySelector(".button-text")).fromTo("transform",`translateX(${ce})`,`translateX(${(ke?-124:124)+"px"})`),Be.addAnimation(Yt)}}else Ut||it.fromTo("transform",`translateX(${ce})`,`translateX(${F})`).fromTo(k,.99,0).afterClearStyles([ee,k]),Ie.fromTo("transform",`translateX(${ce})`,`translateX(${F})`).afterClearStyles([ee,k]),pt.afterClearStyles([k]),it.afterClearStyles([k]),Ue.afterClearStyles([k])})}return ge}catch(W){throw W}},N=10},5922:(be,Ae,C)=>{"use strict";C.r(Ae),C.d(Ae,{mdTransitionAnimation:()=>V});var w=C(2723),T=C(8044);C(6940),C(3426);const V=(O,I)=>{var x,X,U;const R="40px",M="back"===I.direction,he=I.leavingEl,De=(0,T.g)(I.enteringEl),te=De.querySelector("ion-toolbar"),W=(0,w.c)();if(W.addElement(De).fill("both").beforeRemoveClass("ion-page-invisible"),M?W.duration((null!==(x=I.duration)&&void 0!==x?x:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):W.duration((null!==(X=I.duration)&&void 0!==X?X:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${R})`,"translateY(0px)").fromTo("opacity",.01,1),te){const k=(0,w.c)();k.addElement(te),W.addAnimation(k)}if(he&&M){W.duration((null!==(U=I.duration)&&void 0!==U?U:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const k=(0,w.c)();k.addElement((0,T.g)(he)).onFinish(ee=>{1===ee&&k.elements.length>0&&k.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${R})`).fromTo("opacity",1,0),W.addAnimation(k)}return W}},7261:(be,Ae,C)=>{"use strict";C.d(Ae,{B:()=>it,G:()=>Ue,O:()=>Mt,a:()=>G,b:()=>M,c:()=>te,d:()=>Vt,e:()=>Ut,f:()=>Ge,g:()=>fe,h:()=>xe,i:()=>St,j:()=>k,k:()=>ee,l:()=>N,m:()=>he,n:()=>U,o:()=>ke,q:()=>K,s:()=>Be});var w=C(3918),T=C(6940),d=C(5194),Z=C(8573),V=C(1940),O=C(4675),I=C(6240);let x=0,X=0;const U=new WeakMap,R=ye=>({create:Ie=>ce(ye,Ie),dismiss:(Ie,Ee,Xe)=>oe(document,Ie,Ee,ye,Xe),getTop:()=>(0,w.Z)(function*(){return K(document,ye)})()}),G=R("ion-alert"),M=R("ion-action-sheet"),N=R("ion-loading"),he=R("ion-modal"),te=R("ion-popover"),k=ye=>{typeof document<"u"&&re(document);const Ie=x++;ye.overlayIndex=Ie},ee=ye=>(ye.hasAttribute("id")||(ye.id="ion-overlay-"+ ++X),ye.id),ce=(ye,Ie)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ye).then(()=>{const Ee=document.createElement(ye);return Ee.classList.add("overlay-hidden"),Object.assign(Ee,Object.assign(Object.assign({},Ie),{hasController:!0})),Ne(document).appendChild(Ee),new Promise(Xe=>(0,O.c)(Ee,Xe))}):Promise.resolve(),ie='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ke=(ye,Ie)=>{let Ee=ye.querySelector(ie);const Xe=Ee?.shadowRoot;Xe&&(Ee=Xe.querySelector(ie)||Ee),Ee?(0,O.f)(Ee):Ie.focus()},F=(ye,Ie)=>{const Ee=Array.from(ye.querySelectorAll(ie));let Xe=Ee.length>0?Ee[Ee.length-1]:null;const pt=Xe?.shadowRoot;pt&&(Xe=pt.querySelector(ie)||Xe),Xe?Xe.focus():Ie.focus()},re=ye=>{0===x&&(x=1,ye.addEventListener("focus",Ie=>{((ye,Ie)=>{const Ee=K(Ie,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Xe=ye.target;Ee&&Xe&&!Ee.classList.contains("ion-disable-focus-trap")&&(Ee.shadowRoot?(()=>{if(Ee.contains(Xe))Ee.lastFocus=Xe;else{const dn=Ee.lastFocus;ke(Ee,Ee),dn===Ie.activeElement&&F(Ee,Ee),Ee.lastFocus=Ie.activeElement}})():(()=>{if(Ee===Xe)Ee.lastFocus=void 0;else{const dn=(0,O.g)(Ee);if(!dn.contains(Xe))return;const Yt=dn.querySelector(".ion-overlay-wrapper");if(!Yt)return;if(Yt.contains(Xe)||Xe===dn.querySelector("ion-backdrop"))Ee.lastFocus=Xe;else{const Qt=Ee.lastFocus;ke(Yt,Ee),Qt===Ie.activeElement&&F(Yt,Ee),Ee.lastFocus=Ie.activeElement}}})())})(Ie,ye)},!0),ye.addEventListener("ionBackButton",Ie=>{const Ee=K(ye);Ee?.backdropDismiss&&Ie.detail.register(V.OVERLAY_BACK_BUTTON_PRIORITY,()=>Ee.dismiss(void 0,it))}),ye.addEventListener("keydown",Ie=>{if("Escape"===Ie.key){const Ee=K(ye);Ee?.backdropDismiss&&Ee.dismiss(void 0,it)}}))},oe=(ye,Ie,Ee,Xe,pt)=>{const Dt=K(ye,Xe,pt);return Dt?Dt.dismiss(Ie,Ee):Promise.reject("overlay does not exist")},D=(ye,Ie)=>((ye,Ie)=>(void 0===Ie&&(Ie="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ye.querySelectorAll(Ie)).filter(Ee=>Ee.overlayIndex>0)))(ye,Ie).filter(Ee=>!(ye=>ye.classList.contains("overlay-hidden"))(Ee)),K=(ye,Ie,Ee)=>{const Xe=D(ye,Ie);return void 0===Ee?Xe[Xe.length-1]:Xe.find(pt=>pt.id===Ee)},ge=(ye=!1)=>{const Ee=Ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Ee&&(ye?Ee.setAttribute("aria-hidden","true"):Ee.removeAttribute("aria-hidden"))},Ge=function(){var ye=(0,w.Z)(function*(Ie,Ee,Xe,pt,Dt){var dn,Yt;if(Ie.presented)return;ge(!0),Ie.presented=!0,Ie.willPresent.emit(),null===(dn=Ie.willPresentShorthand)||void 0===dn||dn.emit();const Qt=(0,d.b)(Ie),an=Ie.enterAnimation?Ie.enterAnimation:d.c.get(Ee,"ios"===Qt?Xe:pt);(yield me(Ie,an,Ie.el,Dt))&&(Ie.didPresent.emit(),null===(Yt=Ie.didPresentShorthand)||void 0===Yt||Yt.emit()),"ION-TOAST"!==Ie.el.tagName&&tt(Ie.el),Ie.keyboardClose&&(null===document.activeElement||!Ie.el.contains(document.activeElement))&&Ie.el.focus()});return function(Ee,Xe,pt,Dt,dn){return ye.apply(this,arguments)}}(),tt=function(){var ye=(0,w.Z)(function*(Ie){let Ee=document.activeElement;if(!Ee)return;const Xe=Ee?.shadowRoot;Xe&&(Ee=Xe.querySelector(ie)||Ee),yield Ie.onDidDismiss(),Ee.focus()});return function(Ee){return ye.apply(this,arguments)}}(),fe=function(){var ye=(0,w.Z)(function*(Ie,Ee,Xe,pt,Dt,dn,Yt){var Qt,an;if(!Ie.presented)return!1;void 0!==T.d&&1===D(T.d).length&&ge(!1),Ie.presented=!1;try{Ie.el.style.setProperty("pointer-events","none"),Ie.willDismiss.emit({data:Ee,role:Xe}),null===(Qt=Ie.willDismissShorthand)||void 0===Qt||Qt.emit({data:Ee,role:Xe});const vr=(0,d.b)(Ie),sr=Ie.leaveAnimation?Ie.leaveAnimation:d.c.get(pt,"ios"===vr?Dt:dn);Xe!==Ue&&(yield me(Ie,sr,Ie.el,Yt)),Ie.didDismiss.emit({data:Ee,role:Xe}),null===(an=Ie.didDismissShorthand)||void 0===an||an.emit({data:Ee,role:Xe}),U.delete(Ie),Ie.el.classList.add("overlay-hidden"),Ie.el.style.removeProperty("pointer-events"),void 0!==Ie.el.lastFocus&&(Ie.el.lastFocus=void 0)}catch(vr){console.error(vr)}return Ie.el.remove(),!0});return function(Ee,Xe,pt,Dt,dn,Yt,Qt){return ye.apply(this,arguments)}}(),Ne=ye=>ye.querySelector("ion-app")||ye.body,me=function(){var ye=(0,w.Z)(function*(Ie,Ee,Xe,pt){Xe.classList.remove("overlay-hidden");const dn=Ee(Ie.el,pt);(!Ie.animated||!d.c.getBoolean("animated",!0))&&dn.duration(0),Ie.keyboardClose&&dn.beforeAddWrite(()=>{const Qt=Xe.ownerDocument.activeElement;Qt?.matches("input,ion-input, ion-textarea")&&Qt.blur()});const Yt=U.get(Ie)||[];return U.set(Ie,[...Yt,dn]),yield dn.play(),!0});return function(Ee,Xe,pt,Dt){return ye.apply(this,arguments)}}(),xe=(ye,Ie)=>{let Ee;const Xe=new Promise(pt=>Ee=pt);return qe(ye,Ie,pt=>{Ee(pt.detail)}),Xe},qe=(ye,Ie,Ee)=>{const Xe=pt=>{(0,O.b)(ye,Ie,Xe),Ee(pt)};(0,O.a)(ye,Ie,Xe)},St=ye=>"cancel"===ye||ye===it,de=ye=>ye(),Be=(ye,Ie)=>{if("function"==typeof ye)return d.c.get("_zoneGate",de)(()=>{try{return ye(Ie)}catch(Xe){throw Xe}})},it="backdrop",Ue="gesture",Mt=39,Vt=ye=>{let Ee,Ie=!1;const Xe=(0,Z.C)(),pt=(Yt=!1)=>{if(Ee&&!Yt)return{delegate:Ee,inline:Ie};const{el:Qt,hasController:an,delegate:vr}=ye;return Ie=null!==Qt.parentNode&&!an,Ee=Ie?vr||Xe:vr,{inline:Ie,delegate:Ee}};return{attachViewToDom:function(){var Yt=(0,w.Z)(function*(Qt){const{delegate:an}=pt(!0);if(an)return yield an.attachViewToDom(ye.el,Qt);const{hasController:vr}=ye;if(vr&&void 0!==Qt)throw new Error("framework delegate is missing");return null});return function(an){return Yt.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Yt}=pt();Yt&&void 0!==ye.el&&Yt.removeViewFromDom(ye.el.parentElement,ye.el)}}},Ut=()=>{let ye;const Ie=()=>{ye&&(ye(),ye=void 0)};return{addClickListener:(Xe,pt)=>{Ie();const Dt=void 0!==pt?document.getElementById(pt):null;Dt?ye=((Yt,Qt)=>{const an=()=>{Qt.present()};return Yt.addEventListener("click",an),()=>{Yt.removeEventListener("click",an)}})(Dt,Xe):(0,I.p)(`A trigger element with the ID "${pt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Xe)},removeClickListener:Ie}}},2410:(be,Ae,C)=>{"use strict";var T=C(1491)("ArrayBuffer.prototype.byteLength",!0),d=C(9850);be.exports=function(V){return d(V)?T?T(V):V.byteLength:NaN}},1491:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(1773),d=T(w("String.prototype.indexOf"));be.exports=function(V,O){var I=w(V,!!O);return"function"==typeof I&&d(V,".prototype.")>-1?T(I):I}},1773:(be,Ae,C)=>{"use strict";var w=C(8956),T=C(3485),d=C(3931),Z=T("%TypeError%"),V=T("%Function.prototype.apply%"),O=T("%Function.prototype.call%"),I=T("%Reflect.apply%",!0)||w.call(O,V),x=T("%Object.defineProperty%",!0),X=T("%Math.max%");if(x)try{x({},"a",{value:1})}catch{x=null}be.exports=function(G){if("function"!=typeof G)throw new Z("a function is required");var M=I(w,O,arguments);return d(M,1+X(0,G.length-(arguments.length-1)),!0)};var U=function(){return I(w,V,arguments)};x?x(be.exports,"apply",{value:U}):be.exports.apply=U},7303:be=>{var Ae={utf8:{stringToBytes:function(C){return Ae.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(Ae.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var w=[],T=0;T<C.length;T++)w.push(255&C.charCodeAt(T));return w},bytesToString:function(C){for(var w=[],T=0;T<C.length;T++)w.push(String.fromCharCode(C[T]));return w.join("")}}};be.exports=Ae},3754:be=>{var Ae,C;Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",be.exports=C={rotl:function(w,T){return w<<T|w>>>32-T},rotr:function(w,T){return w<<32-T|w>>>T},endian:function(w){if(w.constructor==Number)return 16711935&C.rotl(w,8)|4278255360&C.rotl(w,24);for(var T=0;T<w.length;T++)w[T]=C.endian(w[T]);return w},randomBytes:function(w){for(var T=[];w>0;w--)T.push(Math.floor(256*Math.random()));return T},bytesToWords:function(w){for(var T=[],d=0,Z=0;d<w.length;d++,Z+=8)T[Z>>>5]|=w[d]<<24-Z%32;return T},wordsToBytes:function(w){for(var T=[],d=0;d<32*w.length;d+=8)T.push(w[d>>>5]>>>24-d%32&255);return T},bytesToHex:function(w){for(var T=[],d=0;d<w.length;d++)T.push((w[d]>>>4).toString(16)),T.push((15&w[d]).toString(16));return T.join("")},hexToBytes:function(w){for(var T=[],d=0;d<w.length;d+=2)T.push(parseInt(w.substr(d,2),16));return T},bytesToBase64:function(w){for(var T=[],d=0;d<w.length;d+=3)for(var Z=w[d]<<16|w[d+1]<<8|w[d+2],V=0;V<4;V++)T.push(8*d+6*V<=8*w.length?Ae.charAt(Z>>>6*(3-V)&63):"=");return T.join("")},base64ToBytes:function(w){w=w.replace(/[^A-Z0-9+\/]/gi,"");for(var T=[],d=0,Z=0;d<w.length;Z=++d%4)0!=Z&&T.push((Ae.indexOf(w.charAt(d-1))&Math.pow(2,-2*Z+8)-1)<<2*Z|Ae.indexOf(w.charAt(d))>>>6-2*Z);return T}}},307:(be,Ae,C)=>{"use strict";var w=C(5747),T=C(1491),d=C(4300),Z=C(3485),V=C(1324),O=C(4355),I=C(500),x=C(1568),X=C(9604),U=C(9850),R=C(6994),G=C(9649),M=C(5327),N=C(5692),he=C(8460),De=C(9148),te=C(927),W=C(2410),k=T("SharedArrayBuffer.prototype.byteLength",!0),ee=T("Date.prototype.getTime"),ce=Object.getPrototypeOf,ie=T("Object.prototype.toString"),ke=Z("%Set%",!0),Le=T("Map.prototype.has",!0),F=T("Map.prototype.get",!0),P=T("Map.prototype.size",!0),re=T("Set.prototype.add",!0),oe=T("Set.prototype.delete",!0),S=T("Set.prototype.has",!0),D=T("Set.prototype.size",!0);function K(de,Be,it,Ue){for(var Vt,Mt=V(de);(Vt=Mt.next())&&!Vt.done;)if(Ne(Be,Vt.value,it,Ue))return oe(de,Vt.value),!0;return!1}function ge(de){return typeof de>"u"?null:"object"!=typeof de?"symbol"!=typeof de&&("string"!=typeof de&&"number"!=typeof de||+de==+de):void 0}function Ge(de,Be,it,Ue,Mt,Vt){var Ut=ge(it);if(null!=Ut)return Ut;var ye=F(Be,Ut),Ie=w({},Mt,{strict:!1});return!(typeof ye>"u"&&!Le(Be,Ut)||!Ne(Ue,ye,Ie,Vt))&&!Le(de,Ut)&&Ne(Ue,ye,Ie,Vt)}function tt(de,Be,it){var Ue=ge(it);return Ue??(S(Be,Ue)&&!S(de,Ue))}function fe(de,Be,it,Ue,Mt,Vt){for(var ye,Ie,Ut=V(de);(ye=Ut.next())&&!ye.done;)if(Ne(it,Ie=ye.value,Mt,Vt)&&Ne(Ue,F(Be,Ie),Mt,Vt))return oe(de,Ie),!0;return!1}function Ne(de,Be,it,Ue){var Mt=it||{};if(Mt.strict?I(de,Be):de===Be)return!0;if(he(de)!==he(Be))return!1;if(!de||!Be||"object"!=typeof de&&"object"!=typeof Be)return Mt.strict?I(de,Be):de==Be;var Ee,ye=Ue.has(de),Ie=Ue.has(Be);if(ye&&Ie){if(Ue.get(de)===Ue.get(Be))return!0}else Ee={};return ye||Ue.set(de,Ee),Ie||Ue.set(Be,Ee),function St(de,Be,it,Ue){var Mt,Vt;if(typeof de!=typeof Be||null==de||null==Be||ie(de)!==ie(Be)||x(de)!==x(Be))return!1;if(X(de)!==X(Be))return!1;var Ie=de instanceof Error,Ee=Be instanceof Error;if(Ie!==Ee||(Ie||Ee)&&(de.name!==Be.name||de.message!==Be.message))return!1;var Xe=G(de),pt=G(Be);if(Xe!==pt||(Xe||pt)&&(de.source!==Be.source||d(de)!==d(Be)))return!1;var Dt=R(de),dn=R(Be);if(Dt!==dn||(Dt||dn)&&ee(de)!==ee(Be)||it.strict&&ce&&ce(de)!==ce(Be))return!1;var Yt=te(de),Qt=te(Be);if(Yt!==Qt)return!1;if(Yt||Qt){if(de.length!==Be.length)return!1;for(Mt=0;Mt<de.length;Mt++)if(de[Mt]!==Be[Mt])return!1;return!0}var an=me(de),vr=me(Be);if(an!==vr)return!1;if(an||vr){if(de.length!==Be.length)return!1;for(Mt=0;Mt<de.length;Mt++)if(de[Mt]!==Be[Mt])return!1;return!0}var sr=U(de),ei=U(Be);if(sr!==ei)return!1;if(sr||ei)return W(de)===W(Be)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(de),new Uint8Array(Be),it,Ue);var Pr=M(de),ho=M(Be);if(Pr!==ho)return!1;if(Pr||ho)return k(de)===k(Be)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(de),new Uint8Array(Be),it,Ue);if(typeof de!=typeof Be)return!1;var Or=N(de),Qn=N(Be);if(Or.length!==Qn.length)return!1;for(Or.sort(),Qn.sort(),Mt=Or.length-1;Mt>=0;Mt--)if(Or[Mt]!=Qn[Mt])return!1;for(Mt=Or.length-1;Mt>=0;Mt--)if(!Ne(de[Vt=Or[Mt]],Be[Vt],it,Ue))return!1;var Eo=De(de),Po=De(Be);return Eo===Po&&("Set"===Eo||"Set"===Po?function xe(de,Be,it,Ue){if(D(de)!==D(Be))return!1;for(var Ut,ye,Ie,Mt=V(de),Vt=V(Be);(Ut=Mt.next())&&!Ut.done;)if(Ut.value&&"object"==typeof Ut.value)Ie||(Ie=new ke),re(Ie,Ut.value);else if(!S(Be,Ut.value)){if(it.strict||!tt(de,Be,Ut.value))return!1;Ie||(Ie=new ke),re(Ie,Ut.value)}if(Ie){for(;(ye=Vt.next())&&!ye.done;)if(ye.value&&"object"==typeof ye.value){if(!K(Ie,ye.value,it.strict,Ue))return!1}else if(!it.strict&&!S(de,ye.value)&&!K(Ie,ye.value,it.strict,Ue))return!1;return 0===D(Ie)}return!0}(de,Be,it,Ue):"Map"!==Eo||function qe(de,Be,it,Ue){if(P(de)!==P(Be))return!1;for(var Ut,ye,Ie,Ee,Xe,pt,Mt=V(de),Vt=V(Be);(Ut=Mt.next())&&!Ut.done;)if(Xe=Ut.value[1],(Ee=Ut.value[0])&&"object"==typeof Ee)Ie||(Ie=new ke),re(Ie,Ee);else if(typeof(pt=F(Be,Ee))>"u"&&!Le(Be,Ee)||!Ne(Xe,pt,it,Ue)){if(it.strict||!Ge(de,Be,Ee,Xe,it,Ue))return!1;Ie||(Ie=new ke),re(Ie,Ee)}if(Ie){for(;(ye=Vt.next())&&!ye.done;)if(pt=ye.value[1],(Ee=ye.value[0])&&"object"==typeof Ee){if(!fe(Ie,de,Ee,pt,it,Ue))return!1}else if(!(it.strict||de.has(Ee)&&Ne(F(de,Ee),pt,it,Ue)||fe(Ie,de,Ee,pt,w({},it,{strict:!1}),Ue)))return!1;return 0===D(Ie)}return!0}(de,Be,it,Ue))}(de,Be,Mt,Ue)}function me(de){return!(!de||"object"!=typeof de||"number"!=typeof de.length||"function"!=typeof de.copy||"function"!=typeof de.slice||de.length>0&&"number"!=typeof de[0]||!(de.constructor&&de.constructor.isBuffer&&de.constructor.isBuffer(de)))}be.exports=function(Be,it,Ue){return Ne(Be,it,Ue,O())}},4467:(be,Ae,C)=>{"use strict";var w=C(7811)(),T=C(3485),d=w&&T("%Object.defineProperty%",!0);if(d)try{d({},"a",{value:1})}catch{d=!1}var Z=T("%SyntaxError%"),V=T("%TypeError%"),O=C(6078);be.exports=function(x,X,U){if(!x||"object"!=typeof x&&"function"!=typeof x)throw new V("`obj` must be an object or a function`");if("string"!=typeof X&&"symbol"!=typeof X)throw new V("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new V("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new V("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new V("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new V("`loose`, if provided, must be a boolean");var R=arguments.length>3?arguments[3]:null,G=arguments.length>4?arguments[4]:null,M=arguments.length>5?arguments[5]:null,N=arguments.length>6&&arguments[6],he=!!O&&O(x,X);if(d)d(x,X,{configurable:null===M&&he?he.configurable:!M,enumerable:null===R&&he?he.enumerable:!R,value:U,writable:null===G&&he?he.writable:!G});else{if(!N&&(R||G||M))throw new Z("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");x[X]=U}}},9567:(be,Ae,C)=>{"use strict";var w=C(5692),T="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),d=Object.prototype.toString,Z=Array.prototype.concat,V=C(4467),I=C(7811)(),x=function(U,R,G,M){if(R in U)if(!0===M){if(U[R]===G)return}else if(!function(U){return"function"==typeof U&&"[object Function]"===d.call(U)}(M)||!M())return;I?V(U,R,G,!0):V(U,R,G)},X=function(U,R){var G=arguments.length>2?arguments[2]:{},M=w(R);T&&(M=Z.call(M,Object.getOwnPropertySymbols(R)));for(var N=0;N<M.length;N+=1)x(U,M[N],R[M[N]],G[M[N]])};X.supportsDescriptors=!!I,be.exports=X},1633:function(be,Ae){!function(C){"use strict";var G,d=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,Z=536870912,V=2*Z,I=new WeakMap,X=function(G,M){return function(N){var he=M.get(N),De=void 0===he?N.size:he<V?he+1:0;if(!N.has(De))return G(N,De);if(N.size<Z){for(;N.has(De);)De=Math.floor(Math.random()*V);return G(N,De)}if(N.size>d)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;N.has(De);)De=Math.floor(Math.random()*d);return G(N,De)}}((G=I,function(M,N){return G.set(M,N),N}),I),U=function(G){return function(M){var N=G(M);return M.add(N),N}}(X);C.addUniqueNumber=U,C.generateUniqueNumber=X}(Ae)},2418:(be,Ae,C)=>{"use strict";var w=C(5487),T=Object.prototype.toString,d=Object.prototype.hasOwnProperty;be.exports=function(X,U,R){if(!w(U))throw new TypeError("iterator must be a function");var G;arguments.length>=3&&(G=R),"[object Array]"===T.call(X)?function(X,U,R){for(var G=0,M=X.length;G<M;G++)d.call(X,G)&&(null==R?U(X[G],G,X):U.call(R,X[G],G,X))}(X,U,G):"string"==typeof X?function(X,U,R){for(var G=0,M=X.length;G<M;G++)null==R?U(X.charAt(G),G,X):U.call(R,X.charAt(G),G,X)}(X,U,G):function(X,U,R){for(var G in X)d.call(X,G)&&(null==R?U(X[G],G,X):U.call(R,X[G],G,X))}(X,U,G)}},8026:be=>{"use strict";var C=Object.prototype.toString,w=Math.max,d=function(I,x){for(var X=[],U=0;U<I.length;U+=1)X[U]=I[U];for(var R=0;R<x.length;R+=1)X[R+I.length]=x[R];return X};be.exports=function(I){var x=this;if("function"!=typeof x||"[object Function]"!==C.apply(x))throw new TypeError("Function.prototype.bind called on incompatible "+x);for(var U,X=function(I,x){for(var X=[],U=1,R=0;U<I.length;U+=1,R+=1)X[R]=I[U];return X}(arguments),G=w(0,x.length-X.length),M=[],N=0;N<G;N++)M[N]="$"+N;if(U=Function("binder","return function ("+function(O,I){for(var x="",X=0;X<O.length;X+=1)x+=O[X],X+1<O.length&&(x+=",");return x}(M)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof U){var De=x.apply(this,d(X,arguments));return Object(De)===De?De:this}return x.apply(I,d(X,arguments))}),x.prototype){var he=function(){};he.prototype=x.prototype,U.prototype=new he,he.prototype=null}return U}},8956:(be,Ae,C)=>{"use strict";var w=C(8026);be.exports=Function.prototype.bind||w},7688:be=>{"use strict";var Ae=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}Ae.functionsHaveConfigurableNames=function(){if(!Ae()||!C)return!1;var d=C(function(){},"name");return!!d&&!!d.configurable};var w=Function.prototype.bind;Ae.boundFunctionsHaveNames=function(){return Ae()&&"function"==typeof w&&""!==function(){}.bind().name},be.exports=Ae},3485:(be,Ae,C)=>{"use strict";var w,T=SyntaxError,d=Function,Z=TypeError,V=function(S){try{return d('"use strict"; return ('+S+").constructor;")()}catch{}},O=Object.getOwnPropertyDescriptor;if(O)try{O({},"")}catch{O=null}var I=function(){throw new Z},x=O?function(){try{return I}catch{try{return O(arguments,"callee").get}catch{return I}}}():I,X=C(2337)(),U=C(1441)(),R=Object.getPrototypeOf||(U?function(S){return S.__proto__}:null),G={},M=typeof Uint8Array>"u"||!R?w:R(Uint8Array),N={"%AggregateError%":typeof AggregateError>"u"?w:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?w:ArrayBuffer,"%ArrayIteratorPrototype%":X&&R?R([][Symbol.iterator]()):w,"%AsyncFromSyncIteratorPrototype%":w,"%AsyncFunction%":G,"%AsyncGenerator%":G,"%AsyncGeneratorFunction%":G,"%AsyncIteratorPrototype%":G,"%Atomics%":typeof Atomics>"u"?w:Atomics,"%BigInt%":typeof BigInt>"u"?w:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?w:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?w:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?w:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?w:Float32Array,"%Float64Array%":typeof Float64Array>"u"?w:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?w:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":G,"%Int8Array%":typeof Int8Array>"u"?w:Int8Array,"%Int16Array%":typeof Int16Array>"u"?w:Int16Array,"%Int32Array%":typeof Int32Array>"u"?w:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":X&&R?R(R([][Symbol.iterator]())):w,"%JSON%":"object"==typeof JSON?JSON:w,"%Map%":typeof Map>"u"?w:Map,"%MapIteratorPrototype%":typeof Map>"u"||!X||!R?w:R((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?w:Promise,"%Proxy%":typeof Proxy>"u"?w:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?w:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?w:Set,"%SetIteratorPrototype%":typeof Set>"u"||!X||!R?w:R((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?w:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":X&&R?R(""[Symbol.iterator]()):w,"%Symbol%":X?Symbol:w,"%SyntaxError%":T,"%ThrowTypeError%":x,"%TypedArray%":M,"%TypeError%":Z,"%Uint8Array%":typeof Uint8Array>"u"?w:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?w:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?w:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?w:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?w:WeakMap,"%WeakRef%":typeof WeakRef>"u"?w:WeakRef,"%WeakSet%":typeof WeakSet>"u"?w:WeakSet};if(R)try{null.error}catch(S){var he=R(R(S));N["%Error.prototype%"]=he}var De=function S(D){var K;if("%AsyncFunction%"===D)K=V("async function () {}");else if("%GeneratorFunction%"===D)K=V("function* () {}");else if("%AsyncGeneratorFunction%"===D)K=V("async function* () {}");else if("%AsyncGenerator%"===D){var ge=S("%AsyncGeneratorFunction%");ge&&(K=ge.prototype)}else if("%AsyncIteratorPrototype%"===D){var Ge=S("%AsyncGenerator%");Ge&&R&&(K=R(Ge.prototype))}return N[D]=K,K},te={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=C(8956),k=C(7528),ee=W.call(Function.call,Array.prototype.concat),ce=W.call(Function.apply,Array.prototype.splice),ie=W.call(Function.call,String.prototype.replace),ke=W.call(Function.call,String.prototype.slice),Le=W.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,oe=function(D,K){var Ge,ge=D;if(k(te,ge)&&(ge="%"+(Ge=te[ge])[0]+"%"),k(N,ge)){var tt=N[ge];if(tt===G&&(tt=De(ge)),typeof tt>"u"&&!K)throw new Z("intrinsic "+D+" exists, but is not available. Please file an issue!");return{alias:Ge,name:ge,value:tt}}throw new T("intrinsic "+D+" does not exist!")};be.exports=function(D,K){if("string"!=typeof D||0===D.length)throw new Z("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof K)throw new Z('"allowMissing" argument must be a boolean');if(null===Le(/^%?[^%]*%?$/,D))throw new T("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ge=function(D){var K=ke(D,0,1),ge=ke(D,-1);if("%"===K&&"%"!==ge)throw new T("invalid intrinsic syntax, expected closing `%`");if("%"===ge&&"%"!==K)throw new T("invalid intrinsic syntax, expected opening `%`");var Ge=[];return ie(D,F,function(tt,fe,Ne,me){Ge[Ge.length]=Ne?ie(me,P,"$1"):fe||tt}),Ge}(D),Ge=ge.length>0?ge[0]:"",tt=oe("%"+Ge+"%",K),fe=tt.name,Ne=tt.value,me=!1,xe=tt.alias;xe&&(Ge=xe[0],ce(ge,ee([0,1],xe)));for(var qe=1,St=!0;qe<ge.length;qe+=1){var de=ge[qe],Be=ke(de,0,1),it=ke(de,-1);if(('"'===Be||"'"===Be||"`"===Be||'"'===it||"'"===it||"`"===it)&&Be!==it)throw new T("property names with quotes must have matching quotes");if(("constructor"===de||!St)&&(me=!0),k(N,fe="%"+(Ge+="."+de)+"%"))Ne=N[fe];else if(null!=Ne){if(!(de in Ne)){if(!K)throw new Z("base intrinsic for "+D+" exists, but the property is not available.");return}if(O&&qe+1>=ge.length){var Ue=O(Ne,de);Ne=(St=!!Ue)&&"get"in Ue&&!("originalValue"in Ue.get)?Ue.get:Ne[de]}else St=k(Ne,de),Ne=Ne[de];St&&!me&&(N[fe]=Ne)}}return Ne}},6078:(be,Ae,C)=>{"use strict";var T=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(T)try{T([],"length")}catch{T=null}be.exports=T},5112:be=>{"use strict";var Ae=typeof BigInt<"u"&&BigInt;be.exports=function(){return"function"==typeof Ae&&"function"==typeof BigInt&&"bigint"==typeof Ae(42)&&"bigint"==typeof BigInt(42)}},7811:(be,Ae,C)=>{"use strict";var T=C(3485)("%Object.defineProperty%",!0),d=function(){if(T)try{return T({},"a",{value:1}),!0}catch{return!1}return!1};d.hasArrayLengthDefineBug=function(){if(!d())return null;try{return 1!==T([],"length",{value:1}).length}catch{return!0}},be.exports=d},1441:be=>{"use strict";var Ae={foo:{}},C=Object;be.exports=function(){return{__proto__:Ae}.foo===Ae.foo&&!({__proto__:null}instanceof C)}},2337:(be,Ae,C)=>{"use strict";var w=typeof Symbol<"u"&&Symbol,T=C(2759);be.exports=function(){return"function"==typeof w&&"function"==typeof Symbol&&"symbol"==typeof w("foo")&&"symbol"==typeof Symbol("bar")&&T()}},2759:be=>{"use strict";be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},w=Symbol("test"),T=Object(w);if("string"==typeof w||"[object Symbol]"!==Object.prototype.toString.call(w)||"[object Symbol]"!==Object.prototype.toString.call(T))return!1;for(w in C[w]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var Z=Object.getOwnPropertySymbols(C);if(1!==Z.length||Z[0]!==w||!Object.prototype.propertyIsEnumerable.call(C,w))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var V=Object.getOwnPropertyDescriptor(C,w);if(42!==V.value||!0!==V.enumerable)return!1}return!0}},6518:(be,Ae,C)=>{"use strict";var w=C(2759);be.exports=function(){return w()&&!!Symbol.toStringTag}},7528:(be,Ae,C)=>{"use strict";var w=Function.prototype.call,T=Object.prototype.hasOwnProperty,d=C(8956);be.exports=d.call(w,T)},2605:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(7528),d=C(4355)(),Z=w("%TypeError%"),V={assert:function(O,I){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new Z("`O` is not an object");if("string"!=typeof I)throw new Z("`slot` must be a string");if(d.assert(O),!V.has(O,I))throw new Z("`"+I+"` is not present on `O`")},get:function(O,I){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new Z("`O` is not an object");if("string"!=typeof I)throw new Z("`slot` must be a string");var x=d.get(O);return x&&x["$"+I]},has:function(O,I){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new Z("`O` is not an object");if("string"!=typeof I)throw new Z("`slot` must be a string");var x=d.get(O);return!!x&&T(x,"$"+I)},set:function(O,I,x){if(!O||"object"!=typeof O&&"function"!=typeof O)throw new Z("`O` is not an object");if("string"!=typeof I)throw new Z("`slot` must be a string");var X=d.get(O);X||d.set(O,X={}),X["$"+I]=x}};Object.freeze&&Object.freeze(V),be.exports=V},1568:(be,Ae,C)=>{"use strict";var w=C(6518)(),d=C(1491)("Object.prototype.toString"),Z=function(x){return!(w&&x&&"object"==typeof x&&Symbol.toStringTag in x)&&"[object Arguments]"===d(x)},V=function(x){return!!Z(x)||null!==x&&"object"==typeof x&&"number"==typeof x.length&&x.length>=0&&"[object Array]"!==d(x)&&"[object Function]"===d(x.callee)},O=function(){return Z(arguments)}();Z.isLegacyArguments=V,be.exports=O?Z:V},9850:(be,Ae,C)=>{"use strict";var w=C(1773),T=C(1491),d=C(3485),Z=C(3631),V=d("ArrayBuffer",!0),O=d("Float32Array",!0),I=T("ArrayBuffer.prototype.byteLength",!0),x=V&&!I&&(new V).slice,X=x&&w(x);be.exports=I||X?function(R){if(!R||"object"!=typeof R)return!1;try{return I?I(R):X(R,0),!0}catch{return!1}}:O?function(R){try{return new O(R).buffer===R&&!Z(R)}catch(G){return"object"==typeof R&&"RangeError"===G.name}}:function(R){return!1}},7050:(be,Ae,C)=>{"use strict";if(C(5112)()){var T=BigInt.prototype.valueOf;be.exports=function(V){return!(null===V||typeof V>"u"||"boolean"==typeof V||"string"==typeof V||"number"==typeof V||"symbol"==typeof V||"function"==typeof V)&&("bigint"==typeof V||function(V){try{return T.call(V),!0}catch{}return!1}(V))}}else be.exports=function(V){return!1}},2856:(be,Ae,C)=>{"use strict";var w=C(1491),T=w("Boolean.prototype.toString"),d=w("Object.prototype.toString"),O=C(6518)();be.exports=function(x){return"boolean"==typeof x||null!==x&&"object"==typeof x&&(O&&Symbol.toStringTag in x?function(x){try{return T(x),!0}catch{return!1}}(x):"[object Boolean]"===d(x))}},7617:be=>{function Ae(w){return!!w.constructor&&"function"==typeof w.constructor.isBuffer&&w.constructor.isBuffer(w)}be.exports=function(w){return null!=w&&(Ae(w)||function C(w){return"function"==typeof w.readFloatLE&&"function"==typeof w.slice&&Ae(w.slice(0,0))}(w)||!!w._isBuffer)}},5487:be=>{"use strict";var w,T,Ae=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{w=Object.defineProperty({},"length",{get:function(){throw T}}),T={},C(function(){throw 42},null,w)}catch(te){te!==T&&(C=null)}else C=null;var d=/^\s*class\b/,Z=function(W){try{var k=Ae.call(W);return d.test(k)}catch{return!1}},V=function(W){try{return!Z(W)&&(Ae.call(W),!0)}catch{return!1}},O=Object.prototype.toString,M="function"==typeof Symbol&&!!Symbol.toStringTag,N=!(0 in[,]),he=function(){return!1};if("object"==typeof document){var De=document.all;O.call(De)===O.call(document.all)&&(he=function(W){if((N||!W)&&(typeof W>"u"||"object"==typeof W))try{var k=O.call(W);return("[object HTMLAllCollection]"===k||"[object HTML document.all class]"===k||"[object HTMLCollection]"===k||"[object Object]"===k)&&null==W("")}catch{}return!1})}be.exports=C?function(W){if(he(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;try{C(W,null,w)}catch(k){if(k!==T)return!1}return!Z(W)&&V(W)}:function(W){if(he(W))return!0;if(!W||"function"!=typeof W&&"object"!=typeof W)return!1;if(M)return V(W);if(Z(W))return!1;var k=O.call(W);return!("[object Function]"!==k&&"[object GeneratorFunction]"!==k&&!/^\[object HTML/.test(k))&&V(W)}},6994:(be,Ae,C)=>{"use strict";var w=Date.prototype.getDay,d=Object.prototype.toString,V=C(6518)();be.exports=function(I){return"object"==typeof I&&null!==I&&(V?function(I){try{return w.call(I),!0}catch{return!1}}(I):"[object Date]"===d.call(I))}},6128:be=>{"use strict";var w,Ae="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;Ae||(w=function(V){return!1});var T=Ae?Map.prototype.has:null,d=C?Set.prototype.has:null;!w&&!T&&(w=function(V){return!1}),be.exports=w||function(V){if(!V||"object"!=typeof V)return!1;try{if(T.call(V),d)try{d.call(V)}catch{return!0}return V instanceof Ae}catch{}return!1}},9065:(be,Ae,C)=>{"use strict";var w=Number.prototype.toString,d=Object.prototype.toString,V=C(6518)();be.exports=function(I){return"number"==typeof I||"object"==typeof I&&(V?function(I){try{return w.call(I),!0}catch{return!1}}(I):"[object Number]"===d.call(I))}},9649:(be,Ae,C)=>{"use strict";var d,Z,V,O,w=C(1491),T=C(6518)();if(T){d=w("Object.prototype.hasOwnProperty"),Z=w("RegExp.prototype.exec"),V={};var I=function(){throw V};O={toString:I,valueOf:I},"symbol"==typeof Symbol.toPrimitive&&(O[Symbol.toPrimitive]=I)}var x=w("Object.prototype.toString"),X=Object.getOwnPropertyDescriptor;be.exports=T?function(G){if(!G||"object"!=typeof G)return!1;var M=X(G,"lastIndex");if(!M||!d(M,"value"))return!1;try{Z(G,O)}catch(he){return he===V}}:function(G){return!(!G||"object"!=typeof G&&"function"!=typeof G)&&"[object RegExp]"===x(G)}},5918:be=>{"use strict";var w,Ae="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(w=function(V){return!1});var T=Ae?Map.prototype.has:null,d=C?Set.prototype.has:null;!w&&!d&&(w=function(V){return!1}),be.exports=w||function(V){if(!V||"object"!=typeof V)return!1;try{if(d.call(V),T)try{T.call(V)}catch{return!0}return V instanceof C}catch{}return!1}},5327:(be,Ae,C)=>{"use strict";var T=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);be.exports=T?function(Z){if(!Z||"object"!=typeof Z)return!1;try{return T(Z),!0}catch{return!1}}:function(Z){return!1}},2706:(be,Ae,C)=>{"use strict";var w=String.prototype.valueOf,d=Object.prototype.toString,V=C(6518)();be.exports=function(I){return"string"==typeof I||"object"==typeof I&&(V?function(I){try{return w.call(I),!0}catch{return!1}}(I):"[object String]"===d.call(I))}},2630:(be,Ae,C)=>{"use strict";var w=Object.prototype.toString;if(C(2337)()){var d=Symbol.prototype.toString,Z=/^Symbol\(.*\)$/;be.exports=function(I){if("symbol"==typeof I)return!0;if("[object Symbol]"!==w.call(I))return!1;try{return function(I){return"symbol"==typeof I.valueOf()&&Z.test(d.call(I))}(I)}catch{return!1}}}else be.exports=function(I){return!1}},3631:(be,Ae,C)=>{"use strict";var w=C(927);be.exports=function(d){return!!w(d)}},1545:be=>{"use strict";var w,Ae="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ae||(w=function(V){return!1});var T=Ae?Ae.prototype.has:null,d=C?C.prototype.has:null;!w&&!T&&(w=function(V){return!1}),be.exports=w||function(V){if(!V||"object"!=typeof V)return!1;try{if(T.call(V,T),d)try{d.call(V,d)}catch{return!0}return V instanceof Ae}catch{}return!1}},9043:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(1491),d=w("%WeakSet%",!0),Z=T("WeakSet.prototype.has",!0);if(Z){var V=T("WeakMap.prototype.has",!0);be.exports=function(I){if(!I||"object"!=typeof I)return!1;try{if(Z(I,Z),V)try{V(I,V)}catch{return!0}return I instanceof d}catch{}return!1}}else be.exports=function(I){return!1}},9604:be=>{var Ae={}.toString;be.exports=Array.isArray||function(C){return"[object Array]"==Ae.call(C)}},3219:(be,Ae,C)=>{var w,T,d,Z,V;w=C(3754),T=C(7303).utf8,d=C(7617),Z=C(7303).bin,(V=function(O,I){O.constructor==String?O=I&&"binary"===I.encoding?Z.stringToBytes(O):T.stringToBytes(O):d(O)?O=Array.prototype.slice.call(O,0):!Array.isArray(O)&&O.constructor!==Uint8Array&&(O=O.toString());for(var x=w.bytesToWords(O),X=8*O.length,U=1732584193,R=-271733879,G=-1732584194,M=271733878,N=0;N<x.length;N++)x[N]=16711935&(x[N]<<8|x[N]>>>24)|4278255360&(x[N]<<24|x[N]>>>8);x[X>>>5]|=128<<X%32,x[14+(X+64>>>9<<4)]=X;var he=V._ff,De=V._gg,te=V._hh,W=V._ii;for(N=0;N<x.length;N+=16){var k=U,ee=R,ce=G,ie=M;U=he(U,R,G,M,x[N+0],7,-680876936),M=he(M,U,R,G,x[N+1],12,-389564586),G=he(G,M,U,R,x[N+2],17,606105819),R=he(R,G,M,U,x[N+3],22,-1044525330),U=he(U,R,G,M,x[N+4],7,-176418897),M=he(M,U,R,G,x[N+5],12,1200080426),G=he(G,M,U,R,x[N+6],17,-1473231341),R=he(R,G,M,U,x[N+7],22,-45705983),U=he(U,R,G,M,x[N+8],7,1770035416),M=he(M,U,R,G,x[N+9],12,-1958414417),G=he(G,M,U,R,x[N+10],17,-42063),R=he(R,G,M,U,x[N+11],22,-1990404162),U=he(U,R,G,M,x[N+12],7,1804603682),M=he(M,U,R,G,x[N+13],12,-40341101),G=he(G,M,U,R,x[N+14],17,-1502002290),U=De(U,R=he(R,G,M,U,x[N+15],22,1236535329),G,M,x[N+1],5,-165796510),M=De(M,U,R,G,x[N+6],9,-1069501632),G=De(G,M,U,R,x[N+11],14,643717713),R=De(R,G,M,U,x[N+0],20,-373897302),U=De(U,R,G,M,x[N+5],5,-701558691),M=De(M,U,R,G,x[N+10],9,38016083),G=De(G,M,U,R,x[N+15],14,-660478335),R=De(R,G,M,U,x[N+4],20,-405537848),U=De(U,R,G,M,x[N+9],5,568446438),M=De(M,U,R,G,x[N+14],9,-1019803690),G=De(G,M,U,R,x[N+3],14,-187363961),R=De(R,G,M,U,x[N+8],20,1163531501),U=De(U,R,G,M,x[N+13],5,-1444681467),M=De(M,U,R,G,x[N+2],9,-51403784),G=De(G,M,U,R,x[N+7],14,1735328473),U=te(U,R=De(R,G,M,U,x[N+12],20,-1926607734),G,M,x[N+5],4,-378558),M=te(M,U,R,G,x[N+8],11,-2022574463),G=te(G,M,U,R,x[N+11],16,1839030562),R=te(R,G,M,U,x[N+14],23,-35309556),U=te(U,R,G,M,x[N+1],4,-1530992060),M=te(M,U,R,G,x[N+4],11,1272893353),G=te(G,M,U,R,x[N+7],16,-155497632),R=te(R,G,M,U,x[N+10],23,-1094730640),U=te(U,R,G,M,x[N+13],4,681279174),M=te(M,U,R,G,x[N+0],11,-358537222),G=te(G,M,U,R,x[N+3],16,-722521979),R=te(R,G,M,U,x[N+6],23,76029189),U=te(U,R,G,M,x[N+9],4,-640364487),M=te(M,U,R,G,x[N+12],11,-421815835),G=te(G,M,U,R,x[N+15],16,530742520),U=W(U,R=te(R,G,M,U,x[N+2],23,-995338651),G,M,x[N+0],6,-198630844),M=W(M,U,R,G,x[N+7],10,1126891415),G=W(G,M,U,R,x[N+14],15,-1416354905),R=W(R,G,M,U,x[N+5],21,-57434055),U=W(U,R,G,M,x[N+12],6,1700485571),M=W(M,U,R,G,x[N+3],10,-1894986606),G=W(G,M,U,R,x[N+10],15,-1051523),R=W(R,G,M,U,x[N+1],21,-2054922799),U=W(U,R,G,M,x[N+8],6,1873313359),M=W(M,U,R,G,x[N+15],10,-30611744),G=W(G,M,U,R,x[N+6],15,-1560198380),R=W(R,G,M,U,x[N+13],21,1309151649),U=W(U,R,G,M,x[N+4],6,-145523070),M=W(M,U,R,G,x[N+11],10,-1120210379),G=W(G,M,U,R,x[N+2],15,718787259),R=W(R,G,M,U,x[N+9],21,-343485551),U=U+k>>>0,R=R+ee>>>0,G=G+ce>>>0,M=M+ie>>>0}return w.endian([U,R,G,M])})._ff=function(O,I,x,X,U,R,G){var M=O+(I&x|~I&X)+(U>>>0)+G;return(M<<R|M>>>32-R)+I},V._gg=function(O,I,x,X,U,R,G){var M=O+(I&X|x&~X)+(U>>>0)+G;return(M<<R|M>>>32-R)+I},V._hh=function(O,I,x,X,U,R,G){var M=O+(I^x^X)+(U>>>0)+G;return(M<<R|M>>>32-R)+I},V._ii=function(O,I,x,X,U,R,G){var M=O+(x^(I|~X))+(U>>>0)+G;return(M<<R|M>>>32-R)+I},V._blocksize=16,V._digestsize=16,be.exports=function(O,I){if(null==O)throw new Error("Illegal argument "+O);var x=w.wordsToBytes(V(O,I));return I&&I.asBytes?x:I&&I.asString?Z.bytesToString(x):w.bytesToHex(x)}},5580:(be,Ae)=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(Z,V){return typeof V>"u"?Z:function(I){Z(I,V)}};var d=function(){function Z(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return Z.prototype.addHandler=function(V,O){return this.isHandlerAttached(V,O)||(this._handlers.push(V),this._contexts.push(O),this._createDispatcher(),this._updateHasHandlers()),this},Z.prototype.removeHandler=function(V,O){var I=this._getHandlerIndex(V,O);return typeof I<"u"&&(this._handlers.splice(I,1),this._contexts.splice(I,1),this._createDispatcher(),this._updateHasHandlers()),this},Z.prototype.isHandlerAttached=function(V,O){return typeof this._getHandlerIndex(V,O)<"u"},Z.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},Z.prototype._getHandlerIndex=function(V,O){var x,I=this._handlers.length;for(x=0;x<I&&(this._handlers[x]!==V||this._contexts[x]!==O);x++);return x<I?x:void 0},Z.prototype._createDispatcher=function(){this.dispatch=function w(Z){return C[Z]||(C[Z]=function T(Z){for(var V="return function dispatcher"+Z+"(payload) {\n",O=[],I=[],x=0;x<Z;x++)O.push("cb"+x),I.push("ctx"+x),V+="    cb"+x+"(payload, ctx"+x+");\n";return V+="};",new(Function.bind.apply(Function,[void 0].concat(O.concat(I),[V])))}(Z)),C[Z]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},Z}();Ae.default=d},5861:(be,Ae,C)=>{"use strict";var T=C(5580);Ae.j=T.default},588:function(be,Ae){var C,T;void 0!==(T="function"==typeof(C=function(){"use strict";var d=Object.prototype.hasOwnProperty,Z=Object.prototype.toString,V="boolean"==typeof(new RegExp).sticky;function O(S){return S&&"[object RegExp]"===Z.call(S)}function I(S){return S&&"object"==typeof S&&!O(S)&&!Array.isArray(S)}function X(S){return new RegExp("|"+S).exec("").length-1}function U(S){return"("+S+")"}function R(S){return S.length?"(?:"+S.map(function(K){return"(?:"+K+")"}).join("|")+")":"(?!)"}function G(S){if("string"==typeof S)return"(?:"+function x(S){return S.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(S)+")";if(O(S)){if(S.ignoreCase)throw new Error("RegExp /i flag not allowed");if(S.global)throw new Error("RegExp /g flag is implied");if(S.sticky)throw new Error("RegExp /y flag is implied");if(S.multiline)throw new Error("RegExp /m flag is implied");return S.source}throw new Error("Not a pattern: "+S)}function M(S,D){return S.length>D?S:Array(D-S.length+1).join(" ")+S}function te(S,D){if(I(D)||(D={match:D}),D.include)throw new Error("Matching rules cannot also include states");var K={defaultType:S,lineBreaks:!!D.error||!!D.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var ge in D)d.call(D,ge)&&(K[ge]=D[ge]);if("string"==typeof K.type&&S!==K.type)throw new Error("Type transform cannot be a string (type '"+K.type+"' for token '"+S+"')");var Ge=K.match;return K.match=Array.isArray(Ge)?Ge:Ge?[Ge]:[],K.match.sort(function(tt,fe){return O(tt)&&O(fe)?0:O(fe)?-1:O(tt)?1:fe.length-tt.length}),K}function W(S){return Array.isArray(S)?function De(S){for(var D=[],K=0;K<S.length;K++){var ge=S[K];if(ge.include)for(var Ge=[].concat(ge.include),tt=0;tt<Ge.length;tt++)D.push({include:Ge[tt]});else{if(!ge.type)throw new Error("Rule has no type: "+JSON.stringify(ge));D.push(te(ge.type,ge))}}return D}(S):function he(S){for(var D=Object.getOwnPropertyNames(S),K=[],ge=0;ge<D.length;ge++){var Ge=D[ge],fe=[].concat(S[Ge]);if("include"!==Ge){var me=[];fe.forEach(function(xe){I(xe)?(me.length&&K.push(te(Ge,me)),K.push(te(Ge,xe)),me=[]):me.push(xe)}),me.length&&K.push(te(Ge,me))}else for(var Ne=0;Ne<fe.length;Ne++)K.push({include:fe[Ne]})}return K}(S)}var k=te("error",{lineBreaks:!0,shouldThrow:!0});function ee(S,D){for(var K=null,ge=Object.create(null),Ge=!0,tt=null,fe=[],Ne=[],me=0;me<S.length;me++)S[me].fallback&&(Ge=!1);for(me=0;me<S.length;me++){var xe=S[me];if(xe.include)throw new Error("Inheritance is not allowed in stateless lexers");if(xe.error||xe.fallback){if(K)throw!xe.fallback==!K.fallback?new Error("Multiple "+(xe.fallback?"fallback":"error")+" rules not allowed (for token '"+xe.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+xe.defaultType+"')");K=xe}var qe=xe.match.slice();if(Ge)for(;qe.length&&"string"==typeof qe[0]&&1===qe[0].length;)ge[qe.shift().charCodeAt(0)]=xe;if(xe.pop||xe.push||xe.next){if(!D)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+xe.defaultType+"')");if(xe.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+xe.defaultType+"')")}if(0!==qe.length){Ge=!1,fe.push(xe);for(var de=0;de<qe.length;de++){var Be=qe[de];if(O(Be))if(null===tt)tt=Be.unicode;else if(tt!==Be.unicode&&!1===xe.fallback)throw new Error("If one rule is /u then all must be")}var it=R(qe.map(G)),Ue=new RegExp(it);if(Ue.test(""))throw new Error("RegExp matches empty string: "+Ue);if(X(it)>0)throw new Error("RegExp has capture groups: "+Ue+"\nUse (?: \u2026 ) instead");if(!xe.lineBreaks&&Ue.test("\n"))throw new Error("Rule should declare lineBreaks: "+Ue);Ne.push(U(it))}}var Vt=K&&K.fallback,Ut=V&&!Vt?"ym":"gm",ye=V||Vt?"":"|";return!0===tt&&(Ut+="u"),{regexp:new RegExp(R(Ne)+ye,Ut),groups:fe,fast:ge,error:K||k}}function ie(S,D,K){var ge=S&&(S.push||S.next);if(ge&&!K[ge])throw new Error("Missing state '"+ge+"' (in token '"+S.defaultType+"' of state '"+D+"')");if(S&&S.pop&&1!=+S.pop)throw new Error("pop must be 1 (in token '"+S.defaultType+"' of state '"+D+"')")}var F=function(S,D){this.startState=D,this.states=S,this.buffer="",this.stack=[],this.reset()};F.prototype.reset=function(S,D){return this.buffer=S||"",this.index=0,this.line=D?D.line:1,this.col=D?D.col:1,this.queuedToken=D?D.queuedToken:null,this.queuedText=D?D.queuedText:"",this.queuedThrow=D?D.queuedThrow:null,this.setState(D?D.state:this.startState),this.stack=D&&D.stack?D.stack.slice():[],this},F.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},F.prototype.setState=function(S){if(S&&this.state!==S){this.state=S;var D=this.states[S];this.groups=D.groups,this.error=D.error,this.re=D.regexp,this.fast=D.fast}},F.prototype.popState=function(){this.setState(this.stack.pop())},F.prototype.pushState=function(S){this.stack.push(this.state),this.setState(S)};var P=V?function(S,D){return S.exec(D)}:function(S,D){var K=S.exec(D);return 0===K[0].length?null:K};function re(){return this.value}if(F.prototype._getGroup=function(S){for(var D=this.groups.length,K=0;K<D;K++)if(void 0!==S[K+1])return this.groups[K];throw new Error("Cannot find token type for matched text")},F.prototype.next=function(){var S=this.index;if(this.queuedGroup){var D=this._token(this.queuedGroup,this.queuedText,S);return this.queuedGroup=null,this.queuedText="",D}var K=this.buffer;if(S!==K.length){if(fe=this.fast[K.charCodeAt(S)])return this._token(fe,K.charAt(S),S);var ge=this.re;ge.lastIndex=S;var Ge=P(ge,K),tt=this.error;if(null==Ge)return this._token(tt,K.slice(S,K.length),S);var fe=this._getGroup(Ge),Ne=Ge[0];return tt.fallback&&Ge.index!==S?(this.queuedGroup=fe,this.queuedText=Ne,this._token(tt,K.slice(S,Ge.index),S)):this._token(fe,Ne,S)}},F.prototype._token=function(S,D,K){var ge=0;if(S.lineBreaks){var Ge=/\n/g,tt=1;if("\n"===D)ge=1;else for(;Ge.exec(D);)ge++,tt=Ge.lastIndex}var fe={type:"function"==typeof S.type&&S.type(D)||S.defaultType,value:"function"==typeof S.value?S.value(D):D,text:D,toString:re,offset:K,lineBreaks:ge,line:this.line,col:this.col},Ne=D.length;if(this.index+=Ne,this.line+=ge,0!==ge?this.col=Ne-tt+1:this.col+=Ne,S.shouldThrow)throw new Error(this.formatError(fe,"invalid syntax"));return S.pop?this.popState():S.push?this.pushState(S.push):S.next&&this.setState(S.next),fe},typeof Symbol<"u"&&Symbol.iterator){var oe=function(S){this.lexer=S};oe.prototype.next=function(){var S=this.lexer.next();return{value:S,done:!S}},oe.prototype[Symbol.iterator]=function(){return this},F.prototype[Symbol.iterator]=function(){return new oe(this)}}return F.prototype.formatError=function(S,D){if(null==S){var K=this.buffer.slice(this.index);S={text:K,offset:this.index,lineBreaks:-1===K.indexOf("\n")?0:1,line:this.line,col:this.col}}var Ge=Math.max(S.line-2,1),fe=String(S.line+2).length,Ne=function N(S,D){for(var K=S.length,ge=0;;){var Ge=S.lastIndexOf("\n",K-1);if(-1===Ge||(K=Ge,++ge===D)||0===K)break}return S.substring(ge<D?0:K+1).split("\n")}(this.buffer,this.line-S.line+2+1).slice(0,5),me=[];me.push(D+" at line "+S.line+" col "+S.col+":"),me.push("");for(var xe=0;xe<Ne.length;xe++){var qe=Ne[xe],St=Ge+xe;me.push(M(String(St),fe)+"  "+qe),St===S.line&&me.push(M("",fe+S.col+1)+"^")}return me.join("\n")},F.prototype.clone=function(){return new F(this.states,this.state)},F.prototype.has=function(S){return!0},{compile:function ce(S){var D=ee(W(S));return new F({start:D},"start")},states:function ke(S,D){var K=S.$all?W(S.$all):[];delete S.$all;var ge=Object.getOwnPropertyNames(S);D||(D=ge[0]);for(var Ge=Object.create(null),tt=0;tt<ge.length;tt++)Ge[fe=ge[tt]]=W(S[fe]).concat(K);for(tt=0;tt<ge.length;tt++)for(var Ne=Ge[fe=ge[tt]],me=Object.create(null),xe=0;xe<Ne.length;xe++){var qe=Ne[xe];if(qe.include){var St=[xe,1];if(qe.include!==fe&&!me[qe.include]){me[qe.include]=!0;var de=Ge[qe.include];if(!de)throw new Error("Cannot include nonexistent state '"+qe.include+"' (in state '"+fe+"')");for(var Be=0;Be<de.length;Be++){var it=de[Be];-1===Ne.indexOf(it)&&St.push(it)}}Ne.splice.apply(Ne,St),xe--}}var Ue=Object.create(null);for(tt=0;tt<ge.length;tt++){var fe;Ue[fe=ge[tt]]=ee(Ge[fe],!0)}for(tt=0;tt<ge.length;tt++){var Mt=ge[tt],Vt=Ue[Mt],Ut=Vt.groups;for(xe=0;xe<Ut.length;xe++)ie(Ut[xe],Mt,Ue);var ye=Object.getOwnPropertyNames(Vt.fast);for(xe=0;xe<ye.length;xe++)ie(Vt.fast[ye[xe]],Mt,Ue)}return new F(Ue,D)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function Le(S){for(var D=typeof Map<"u",K=D?new Map:Object.create(null),ge=Object.getOwnPropertyNames(S),Ge=0;Ge<ge.length;Ge++){var tt=ge[Ge],fe=S[tt];(Array.isArray(fe)?fe:[fe]).forEach(function(me){if("string"!=typeof me)throw new Error("keyword must be string (in keyword '"+tt+"')");D?K.set(me,tt):K[me]=tt})}return function(me){return D?K.get(me):K[me]}}}})?C.apply(Ae,[]):C)&&(be.exports=T)},2720:(be,Ae,C)=>{var w="function"==typeof Map&&Map.prototype,T=Object.getOwnPropertyDescriptor&&w?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,d=w&&T&&"function"==typeof T.get?T.get:null,Z=w&&Map.prototype.forEach,V="function"==typeof Set&&Set.prototype,O=Object.getOwnPropertyDescriptor&&V?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,I=V&&O&&"function"==typeof O.get?O.get:null,x=V&&Set.prototype.forEach,U="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,G="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,N="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,he=Boolean.prototype.valueOf,De=Object.prototype.toString,te=Function.prototype.toString,W=String.prototype.match,k=String.prototype.slice,ee=String.prototype.replace,ce=String.prototype.toUpperCase,ie=String.prototype.toLowerCase,ke=RegExp.prototype.test,Le=Array.prototype.concat,F=Array.prototype.join,P=Array.prototype.slice,re=Math.floor,oe="function"==typeof BigInt?BigInt.prototype.valueOf:null,S=Object.getOwnPropertySymbols,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,K="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ge="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Ge=Object.prototype.propertyIsEnumerable,tt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Te){return Te.__proto__}:null);function fe(Te,Me){if(Te===1/0||Te===-1/0||Te!=Te||Te&&Te>-1e3&&Te<1e3||ke.call(/e/,Me))return Me;var tn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Te){var Ht=Te<0?-re(-Te):re(Te);if(Ht!==Te){var In=String(Ht),Xt=k.call(Me,In.length+1);return ee.call(In,tn,"$&_")+"."+ee.call(ee.call(Xt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ee.call(Me,tn,"$&_")}var Ne=C(4654),me=Ne.custom,xe=ye(me)?me:null;function qe(Te,Me,tn){var Ht="double"===(tn.quoteStyle||Me)?'"':"'";return Ht+Te+Ht}function St(Te){return ee.call(String(Te),/"/g,"&quot;")}function de(Te){return!("[object Array]"!==pt(Te)||ge&&"object"==typeof Te&&ge in Te)}function it(Te){return!("[object RegExp]"!==pt(Te)||ge&&"object"==typeof Te&&ge in Te)}function ye(Te){if(K)return Te&&"object"==typeof Te&&Te instanceof Symbol;if("symbol"==typeof Te)return!0;if(!Te||"object"!=typeof Te||!D)return!1;try{return D.call(Te),!0}catch{}return!1}be.exports=function Te(Me,tn,Ht,In){var Xt=tn||{};if(Xe(Xt,"quoteStyle")&&"single"!==Xt.quoteStyle&&"double"!==Xt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Xe(Xt,"maxStringLength")&&("number"==typeof Xt.maxStringLength?Xt.maxStringLength<0&&Xt.maxStringLength!==1/0:null!==Xt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var qn=!Xe(Xt,"customInspect")||Xt.customInspect;if("boolean"!=typeof qn&&"symbol"!==qn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Xe(Xt,"indent")&&null!==Xt.indent&&"\t"!==Xt.indent&&!(parseInt(Xt.indent,10)===Xt.indent&&Xt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Xe(Xt,"numericSeparator")&&"boolean"!=typeof Xt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ln=Xt.numericSeparator;if(typeof Me>"u")return"undefined";if(null===Me)return"null";if("boolean"==typeof Me)return Me?"true":"false";if("string"==typeof Me)return Pr(Me,Xt);if("number"==typeof Me){if(0===Me)return 1/0/Me>0?"0":"-0";var Nr=String(Me);return Ln?fe(Me,Nr):Nr}if("bigint"==typeof Me){var Kr=String(Me)+"n";return Ln?fe(Me,Kr):Kr}var kn=typeof Xt.depth>"u"?5:Xt.depth;if(typeof Ht>"u"&&(Ht=0),Ht>=kn&&kn>0&&"object"==typeof Me)return de(Me)?"[Array]":"[Object]";var Go=function ti(Te,Me){var tn;if("\t"===Te.indent)tn="\t";else{if(!("number"==typeof Te.indent&&Te.indent>0))return null;tn=F.call(Array(Te.indent+1)," ")}return{base:tn,prev:F.call(Array(Me+1),tn)}}(Xt,Ht);if(typeof In>"u")In=[];else if(dn(In,Me)>=0)return"[Circular]";function lo(zo,di,vi){if(di&&(In=P.call(In)).push(di),vi){var fi={depth:Xt.depth};return Xe(Xt,"quoteStyle")&&(fi.quoteStyle=Xt.quoteStyle),Te(zo,fi,Ht+1,In)}return Te(zo,Xt,Ht+1,In)}if("function"==typeof Me&&!it(Me)){var zi=function Dt(Te){if(Te.name)return Te.name;var Me=W.call(te.call(Te),/^function\s*([\w$]+)/);return Me?Me[1]:null}(Me),Uo=oo(Me,lo);return"[Function"+(zi?": "+zi:" (anonymous)")+"]"+(Uo.length>0?" { "+F.call(Uo,", ")+" }":"")}if(ye(Me)){var xn=K?ee.call(String(Me),/^(Symbol\(.*\))_[^)]*$/,"$1"):D.call(Me);return"object"!=typeof Me||K?xn:Or(xn)}if(function ei(Te){return!(!Te||"object"!=typeof Te)&&(typeof HTMLElement<"u"&&Te instanceof HTMLElement||"string"==typeof Te.nodeName&&"function"==typeof Te.getAttribute)}(Me)){for(var yr="<"+ie.call(String(Me.nodeName)),xr=Me.attributes||[],vn=0;vn<xr.length;vn++)yr+=" "+xr[vn].name+"="+qe(St(xr[vn].value),"double",Xt);return yr+=">",Me.childNodes&&Me.childNodes.length&&(yr+="..."),yr+"</"+ie.call(String(Me.nodeName))+">"}if(de(Me)){if(0===Me.length)return"[]";var gn=oo(Me,lo);return Go&&!function Po(Te){for(var Me=0;Me<Te.length;Me++)if(dn(Te[Me],"\n")>=0)return!1;return!0}(gn)?"["+ar(gn,Go)+"]":"[ "+F.call(gn,", ")+" ]"}if(function Ue(Te){return!("[object Error]"!==pt(Te)||ge&&"object"==typeof Te&&ge in Te)}(Me)){var mi=oo(Me,lo);return"cause"in Error.prototype||!("cause"in Me)||Ge.call(Me,"cause")?0===mi.length?"["+String(Me)+"]":"{ ["+String(Me)+"] "+F.call(mi,", ")+" }":"{ ["+String(Me)+"] "+F.call(Le.call("[cause]: "+lo(Me.cause),mi),", ")+" }"}if("object"==typeof Me&&qn){if(xe&&"function"==typeof Me[xe]&&Ne)return Ne(Me,{depth:kn-Ht});if("symbol"!==qn&&"function"==typeof Me.inspect)return Me.inspect()}if(function Yt(Te){if(!d||!Te||"object"!=typeof Te)return!1;try{d.call(Te);try{I.call(Te)}catch{return!0}return Te instanceof Map}catch{}return!1}(Me)){var nn=[];return Z&&Z.call(Me,function(zo,di){nn.push(lo(di,Me,!0)+" => "+lo(zo,Me))}),Eo("Map",d.call(Me),nn,Go)}if(function vr(Te){if(!I||!Te||"object"!=typeof Te)return!1;try{I.call(Te);try{d.call(Te)}catch{return!0}return Te instanceof Set}catch{}return!1}(Me)){var Do=[];return x&&x.call(Me,function(zo){Do.push(lo(zo,Me))}),Eo("Set",I.call(Me),Do,Go)}if(function Qt(Te){if(!U||!Te||"object"!=typeof Te)return!1;try{U.call(Te,U);try{G.call(Te,G)}catch{return!0}return Te instanceof WeakMap}catch{}return!1}(Me))return Qn("WeakMap");if(function sr(Te){if(!G||!Te||"object"!=typeof Te)return!1;try{G.call(Te,G);try{U.call(Te,U)}catch{return!0}return Te instanceof WeakSet}catch{}return!1}(Me))return Qn("WeakSet");if(function an(Te){if(!N||!Te||"object"!=typeof Te)return!1;try{return N.call(Te),!0}catch{}return!1}(Me))return Qn("WeakRef");if(function Vt(Te){return!("[object Number]"!==pt(Te)||ge&&"object"==typeof Te&&ge in Te)}(Me))return Or(lo(Number(Me)));if(function Ie(Te){if(!Te||"object"!=typeof Te||!oe)return!1;try{return oe.call(Te),!0}catch{}return!1}(Me))return Or(lo(oe.call(Me)));if(function Ut(Te){return!("[object Boolean]"!==pt(Te)||ge&&"object"==typeof Te&&ge in Te)}(Me))return Or(he.call(Me));if(function Mt(Te){return!("[object String]"!==pt(Te)||ge&&"object"==typeof Te&&ge in Te)}(Me))return Or(lo(String(Me)));if(typeof window<"u"&&Me===window)return"{ [object Window] }";if(Me===global)return"{ [object globalThis] }";if(!function Be(Te){return!("[object Date]"!==pt(Te)||ge&&"object"==typeof Te&&ge in Te)}(Me)&&!it(Me)){var gi=oo(Me,lo),Ho=tt?tt(Me)===Object.prototype:Me instanceof Object||Me.constructor===Object,_i=Me instanceof Object?"":"null prototype",ne=!Ho&&ge&&Object(Me)===Me&&ge in Me?k.call(pt(Me),8,-1):_i?"Object":"",Ii=(Ho||"function"!=typeof Me.constructor?"":Me.constructor.name?Me.constructor.name+" ":"")+(ne||_i?"["+F.call(Le.call([],ne||[],_i||[]),": ")+"] ":"");return 0===gi.length?Ii+"{}":Go?Ii+"{"+ar(gi,Go)+"}":Ii+"{ "+F.call(gi,", ")+" }"}return String(Me)};var Ee=Object.prototype.hasOwnProperty||function(Te){return Te in this};function Xe(Te,Me){return Ee.call(Te,Me)}function pt(Te){return De.call(Te)}function dn(Te,Me){if(Te.indexOf)return Te.indexOf(Me);for(var tn=0,Ht=Te.length;tn<Ht;tn++)if(Te[tn]===Me)return tn;return-1}function Pr(Te,Me){if(Te.length>Me.maxStringLength){var tn=Te.length-Me.maxStringLength,Ht="... "+tn+" more character"+(tn>1?"s":"");return Pr(k.call(Te,0,Me.maxStringLength),Me)+Ht}return qe(ee.call(ee.call(Te,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ho),"single",Me)}function ho(Te){var Me=Te.charCodeAt(0),tn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Me];return tn?"\\"+tn:"\\x"+(Me<16?"0":"")+ce.call(Me.toString(16))}function Or(Te){return"Object("+Te+")"}function Qn(Te){return Te+" { ? }"}function Eo(Te,Me,tn,Ht){return Te+" ("+Me+") {"+(Ht?ar(tn,Ht):F.call(tn,", "))+"}"}function ar(Te,Me){if(0===Te.length)return"";var tn="\n"+Me.prev+Me.base;return tn+F.call(Te,","+tn)+"\n"+Me.prev}function oo(Te,Me){var tn=de(Te),Ht=[];if(tn){Ht.length=Te.length;for(var In=0;In<Te.length;In++)Ht[In]=Xe(Te,In)?Me(Te[In],Te):""}var qn,Xt="function"==typeof S?S(Te):[];if(K){qn={};for(var Ln=0;Ln<Xt.length;Ln++)qn["$"+Xt[Ln]]=Xt[Ln]}for(var Nr in Te)Xe(Te,Nr)&&(tn&&String(Number(Nr))===Nr&&Nr<Te.length||K&&qn["$"+Nr]instanceof Symbol||(ke.call(/[^\w$]/,Nr)?Ht.push(Me(Nr,Te)+": "+Me(Te[Nr],Te)):Ht.push(Nr+": "+Me(Te[Nr],Te))));if("function"==typeof S)for(var Kr=0;Kr<Xt.length;Kr++)Ge.call(Te,Xt[Kr])&&Ht.push("["+Me(Xt[Kr])+"]: "+Me(Te[Xt[Kr]],Te));return Ht}},5376:be=>{"use strict";var Ae=function(C){return C!=C};be.exports=function(w,T){return 0===w&&0===T?1/w==1/T:!!(w===T||Ae(w)&&Ae(T))}},500:(be,Ae,C)=>{"use strict";var w=C(9567),T=C(1773),d=C(5376),Z=C(8204),V=C(2688),O=T(Z(),Object);w(O,{getPolyfill:Z,implementation:d,shim:V}),be.exports=O},8204:(be,Ae,C)=>{"use strict";var w=C(5376);be.exports=function(){return"function"==typeof Object.is?Object.is:w}},2688:(be,Ae,C)=>{"use strict";var w=C(8204),T=C(9567);be.exports=function(){var Z=w();return T(Object,{is:Z},{is:function(){return Object.is!==Z}}),Z}},1601:(be,Ae,C)=>{"use strict";var w;if(!Object.keys){var T=Object.prototype.hasOwnProperty,d=Object.prototype.toString,Z=C(6755),V=Object.prototype.propertyIsEnumerable,O=!V.call({toString:null},"toString"),I=V.call(function(){},"prototype"),x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],X=function(M){var N=M.constructor;return N&&N.prototype===M},U={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},R=function(){if(typeof window>"u")return!1;for(var M in window)try{if(!U["$"+M]&&T.call(window,M)&&null!==window[M]&&"object"==typeof window[M])try{X(window[M])}catch{return!0}}catch{return!0}return!1}();w=function(N){var he=null!==N&&"object"==typeof N,De="[object Function]"===d.call(N),te=Z(N),W=he&&"[object String]"===d.call(N),k=[];if(!he&&!De&&!te)throw new TypeError("Object.keys called on a non-object");var ee=I&&De;if(W&&N.length>0&&!T.call(N,0))for(var ce=0;ce<N.length;++ce)k.push(String(ce));if(te&&N.length>0)for(var ie=0;ie<N.length;++ie)k.push(String(ie));else for(var ke in N)(!ee||"prototype"!==ke)&&T.call(N,ke)&&k.push(String(ke));if(O)for(var Le=function(M){if(typeof window>"u"||!R)return X(M);try{return X(M)}catch{return!1}}(N),F=0;F<x.length;++F)(!Le||"constructor"!==x[F])&&T.call(N,x[F])&&k.push(x[F]);return k}}be.exports=w},5692:(be,Ae,C)=>{"use strict";var w=Array.prototype.slice,T=C(6755),d=Object.keys,Z=d?function(I){return d(I)}:C(1601),V=Object.keys;Z.shim=function(){if(Object.keys){var I=function(){var x=Object.keys(arguments);return x&&x.length===arguments.length}(1,2);I||(Object.keys=function(X){return T(X)?V(w.call(X)):V(X)})}else Object.keys=Z;return Object.keys||Z},be.exports=Z},6755:be=>{"use strict";var Ae=Object.prototype.toString;be.exports=function(w){var T=Ae.call(w),d="[object Arguments]"===T;return d||(d="[object Array]"!==T&&null!==w&&"object"==typeof w&&"number"==typeof w.length&&w.length>=0&&"[object Function]"===Ae.call(w.callee)),d}},8032:(be,Ae,C)=>{"use strict";var w=C(5692),T=C(2759)(),d=C(1491),Z=Object,V=d("Array.prototype.push"),O=d("Object.prototype.propertyIsEnumerable"),I=T?Object.getOwnPropertySymbols:null;be.exports=function(X,U){if(null==X)throw new TypeError("target must be an object");var R=Z(X);if(1===arguments.length)return R;for(var G=1;G<arguments.length;++G){var M=Z(arguments[G]),N=w(M),he=T&&(Object.getOwnPropertySymbols||I);if(he)for(var De=he(M),te=0;te<De.length;++te){var W=De[te];O(M,W)&&V(N,W)}for(var k=0;k<N.length;++k){var ee=N[k];O(M,ee)&&(R[ee]=M[ee])}}return R}},5747:(be,Ae,C)=>{"use strict";var w=C(9567),T=C(1773),d=C(8032),Z=C(9530),V=C(4096),O=T.apply(Z()),I=function(X,U){return O(Object,arguments)};w(I,{getPolyfill:Z,implementation:d,shim:V}),be.exports=I},9530:(be,Ae,C)=>{"use strict";var w=C(8032);be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var Z="abcdefghijklmnopqrst",V=Z.split(""),O={},I=0;I<V.length;++I)O[V[I]]=V[I];var x=Object.assign({},O),X="";for(var U in x)X+=U;return Z!==X}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var Z=Object.preventExtensions({1:2});try{Object.assign(Z,"xy")}catch{return"y"===Z[1]}return!1}()?w:Object.assign}},4096:(be,Ae,C)=>{"use strict";var w=C(9567),T=C(9530);be.exports=function(){var Z=T();return w(Object,{assign:Z},{assign:function(){return Object.assign!==Z}}),Z}},6716:(be,Ae)=>{"use strict";var C=Object.prototype.hasOwnProperty;function T(O){try{return decodeURIComponent(O.replace(/\+/g," "))}catch{return null}}function d(O){try{return encodeURIComponent(O)}catch{return null}}Ae.stringify=function V(O,I){I=I||"";var X,U,x=[];for(U in"string"!=typeof I&&(I="?"),O)if(C.call(O,U)){if(!(X=O[U])&&(null==X||isNaN(X))&&(X=""),U=d(U),X=d(X),null===U||null===X)continue;x.push(U+"="+X)}return x.length?I+x.join("&"):""},Ae.parse=function Z(O){for(var X,I=/([^=?#&]+)=?([^&]*)/g,x={};X=I.exec(O);){var U=T(X[1]),R=T(X[2]);null===U||null===R||U in x||(x[U]=R)}return x}},7732:(be,Ae,C)=>{"use strict";var w=C(2562),T=Object,d=TypeError;be.exports=w(function(){if(null!=this&&this!==T(this))throw new d("RegExp.prototype.flags getter called on non-object");var V="";return this.hasIndices&&(V+="d"),this.global&&(V+="g"),this.ignoreCase&&(V+="i"),this.multiline&&(V+="m"),this.dotAll&&(V+="s"),this.unicode&&(V+="u"),this.unicodeSets&&(V+="v"),this.sticky&&(V+="y"),V},"get flags",!0)},4300:(be,Ae,C)=>{"use strict";var w=C(9567),T=C(1773),d=C(7732),Z=C(5848),V=C(6472),O=T(Z());w(O,{getPolyfill:Z,implementation:d,shim:V}),be.exports=O},5848:(be,Ae,C)=>{"use strict";var w=C(7732),T=C(9567).supportsDescriptors,d=Object.getOwnPropertyDescriptor;be.exports=function(){if(T&&"gim"===/a/gim.flags){var V=d(RegExp.prototype,"flags");if(V&&"function"==typeof V.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var O="",I={};if(Object.defineProperty(I,"hasIndices",{get:function(){O+="d"}}),Object.defineProperty(I,"sticky",{get:function(){O+="y"}}),"dy"===O)return V.get}}return w}},6472:(be,Ae,C)=>{"use strict";var w=C(9567).supportsDescriptors,T=C(5848),d=Object.getOwnPropertyDescriptor,Z=Object.defineProperty,V=TypeError,O=Object.getPrototypeOf,I=/a/;be.exports=function(){if(!w||!O)throw new V("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var X=T(),U=O(I),R=d(U,"flags");return(!R||R.get!==X)&&Z(U,"flags",{configurable:!0,enumerable:!1,get:X}),X}},716:be=>{"use strict";be.exports=function(C,w){if(w=w.split(":")[0],!(C=+C))return!1;switch(w){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(4467),d=C(7811)(),Z=C(6078),V=w("%TypeError%"),O=w("%Math.floor%");be.exports=function(x,X){if("function"!=typeof x)throw new V("`fn` is not a function");if("number"!=typeof X||X<0||X>4294967295||O(X)!==X)throw new V("`length` must be a positive 32-bit integer");var U=arguments.length>2&&!!arguments[2],R=!0,G=!0;if("length"in x&&Z){var M=Z(x,"length");M&&!M.configurable&&(R=!1),M&&!M.writable&&(G=!1)}return(R||G||!U)&&(d?T(x,"length",X,!0,!0):T(x,"length",X)),x}},2562:(be,Ae,C)=>{"use strict";var w=C(4467),T=C(7811)(),d=C(7688).functionsHaveConfigurableNames(),Z=TypeError;be.exports=function(O,I){if("function"!=typeof O)throw new Z("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||d)&&(T?w(O,"name",I,!0,!0):w(O,"name",I)),O}},4355:(be,Ae,C)=>{"use strict";var w=C(3485),T=C(1491),d=C(2720),Z=w("%TypeError%"),V=w("%WeakMap%",!0),O=w("%Map%",!0),I=T("WeakMap.prototype.get",!0),x=T("WeakMap.prototype.set",!0),X=T("WeakMap.prototype.has",!0),U=T("Map.prototype.get",!0),R=T("Map.prototype.set",!0),G=T("Map.prototype.has",!0),M=function(te,W){for(var ee,k=te;null!==(ee=k.next);k=ee)if(ee.key===W)return k.next=ee.next,ee.next=te.next,te.next=ee,ee};be.exports=function(){var W,k,ee,ce={assert:function(ie){if(!ce.has(ie))throw new Z("Side channel does not contain "+d(ie))},get:function(ie){if(V&&ie&&("object"==typeof ie||"function"==typeof ie)){if(W)return I(W,ie)}else if(O){if(k)return U(k,ie)}else if(ee)return function(te,W){var k=M(te,W);return k&&k.value}(ee,ie)},has:function(ie){if(V&&ie&&("object"==typeof ie||"function"==typeof ie)){if(W)return X(W,ie)}else if(O){if(k)return G(k,ie)}else if(ee)return function(te,W){return!!M(te,W)}(ee,ie);return!1},set:function(ie,ke){V&&ie&&("object"==typeof ie||"function"==typeof ie)?(W||(W=new V),x(W,ie,ke)):O?(k||(k=new O),R(k,ie,ke)):(ee||(ee={key:{},next:null}),function(te,W,k){var ee=M(te,W);ee?ee.value=k:te.next={key:W,next:te.next,value:k}}(ee,ie,ke))}};return ce}},118:(be,Ae,C)=>{"use strict";var w=C(2605),T=SyntaxError,d="object"==typeof StopIteration?StopIteration:null;be.exports=function(V){if(!d)throw new T("this environment lacks StopIteration");w.set(V,"[[Done]]",!1);var O={next:function(){var x=w.get(this,"[[Iterator]]"),X=w.get(x,"[[Done]]");try{return{done:X,value:X?void 0:x.next()}}catch(U){if(w.set(x,"[[Done]]",!0),U!==d)throw U;return{done:!0,value:void 0}}}};return w.set(O,"[[Iterator]]",V),O}},6299:(be,Ae,C)=>{"use strict";var w=C(716),T=C(6716),d=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Z=/[\n\r\t]/g,V=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,O=/:\d+$/,I=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,x=/^[a-zA-Z]:/;function X(k){return(k||"").toString().replace(d,"")}var U=[["#","hash"],["?","query"],function(ee,ce){return M(ce.protocol)?ee.replace(/\\/g,"/"):ee},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],R={hash:1,query:1};function G(k){var ee;ee=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Le,ie={},ke=typeof(k=k||ee.location||{});if("blob:"===k.protocol)ie=new De(unescape(k.pathname),{});else if("string"===ke)for(Le in ie=new De(k,{}),R)delete ie[Le];else if("object"===ke){for(Le in k)Le in R||(ie[Le]=k[Le]);void 0===ie.slashes&&(ie.slashes=V.test(k.href))}return ie}function M(k){return"file:"===k||"ftp:"===k||"http:"===k||"https:"===k||"ws:"===k||"wss:"===k}function N(k,ee){k=(k=X(k)).replace(Z,""),ee=ee||{};var P,ce=I.exec(k),ie=ce[1]?ce[1].toLowerCase():"",ke=!!ce[2],Le=!!ce[3],F=0;return ke?Le?(P=ce[2]+ce[3]+ce[4],F=ce[2].length+ce[3].length):(P=ce[2]+ce[4],F=ce[2].length):Le?(P=ce[3]+ce[4],F=ce[3].length):P=ce[4],"file:"===ie?F>=2&&(P=P.slice(2)):M(ie)?P=ce[4]:ie?ke&&(P=P.slice(2)):F>=2&&M(ee.protocol)&&(P=ce[4]),{protocol:ie,slashes:ke||M(ie),slashesCount:F,rest:P}}function De(k,ee,ce){if(k=(k=X(k)).replace(Z,""),!(this instanceof De))return new De(k,ee,ce);var ie,ke,Le,F,P,re,oe=U.slice(),S=typeof ee,D=this,K=0;for("object"!==S&&"string"!==S&&(ce=ee,ee=null),ce&&"function"!=typeof ce&&(ce=T.parse),ie=!(ke=N(k||"",ee=G(ee))).protocol&&!ke.slashes,D.slashes=ke.slashes||ie&&ee.slashes,D.protocol=ke.protocol||ee.protocol||"",k=ke.rest,("file:"===ke.protocol&&(2!==ke.slashesCount||x.test(k))||!ke.slashes&&(ke.protocol||ke.slashesCount<2||!M(D.protocol)))&&(oe[3]=[/(.*)/,"pathname"]);K<oe.length;K++)"function"!=typeof(F=oe[K])?(re=F[1],(Le=F[0])!=Le?D[re]=k:"string"==typeof Le?~(P="@"===Le?k.lastIndexOf(Le):k.indexOf(Le))&&("number"==typeof F[2]?(D[re]=k.slice(0,P),k=k.slice(P+F[2])):(D[re]=k.slice(P),k=k.slice(0,P))):(P=Le.exec(k))&&(D[re]=P[1],k=k.slice(0,P.index)),D[re]=D[re]||ie&&F[3]&&ee[re]||"",F[4]&&(D[re]=D[re].toLowerCase())):k=F(k,D);ce&&(D.query=ce(D.query)),ie&&ee.slashes&&"/"!==D.pathname.charAt(0)&&(""!==D.pathname||""!==ee.pathname)&&(D.pathname=function he(k,ee){if(""===k)return ee;for(var ce=(ee||"/").split("/").slice(0,-1).concat(k.split("/")),ie=ce.length,ke=ce[ie-1],Le=!1,F=0;ie--;)"."===ce[ie]?ce.splice(ie,1):".."===ce[ie]?(ce.splice(ie,1),F++):F&&(0===ie&&(Le=!0),ce.splice(ie,1),F--);return Le&&ce.unshift(""),("."===ke||".."===ke)&&ce.push(""),ce.join("/")}(D.pathname,ee.pathname)),"/"!==D.pathname.charAt(0)&&M(D.protocol)&&(D.pathname="/"+D.pathname),w(D.port,D.protocol)||(D.host=D.hostname,D.port=""),D.username=D.password="",D.auth&&(~(P=D.auth.indexOf(":"))?(D.username=D.auth.slice(0,P),D.username=encodeURIComponent(decodeURIComponent(D.username)),D.password=D.auth.slice(P+1),D.password=encodeURIComponent(decodeURIComponent(D.password))):D.username=encodeURIComponent(decodeURIComponent(D.auth)),D.auth=D.password?D.username+":"+D.password:D.username),D.origin="file:"!==D.protocol&&M(D.protocol)&&D.host?D.protocol+"//"+D.host:"null",D.href=D.toString()}De.prototype={set:function te(k,ee,ce){var ie=this;switch(k){case"query":"string"==typeof ee&&ee.length&&(ee=(ce||T.parse)(ee)),ie[k]=ee;break;case"port":ie[k]=ee,w(ee,ie.protocol)?ee&&(ie.host=ie.hostname+":"+ee):(ie.host=ie.hostname,ie[k]="");break;case"hostname":ie[k]=ee,ie.port&&(ee+=":"+ie.port),ie.host=ee;break;case"host":ie[k]=ee,O.test(ee)?(ee=ee.split(":"),ie.port=ee.pop(),ie.hostname=ee.join(":")):(ie.hostname=ee,ie.port="");break;case"protocol":ie.protocol=ee.toLowerCase(),ie.slashes=!ce;break;case"pathname":case"hash":if(ee){var ke="pathname"===k?"/":"#";ie[k]=ee.charAt(0)!==ke?ke+ee:ee}else ie[k]=ee;break;case"username":case"password":ie[k]=encodeURIComponent(ee);break;case"auth":var Le=ee.indexOf(":");~Le?(ie.username=ee.slice(0,Le),ie.username=encodeURIComponent(decodeURIComponent(ie.username)),ie.password=ee.slice(Le+1),ie.password=encodeURIComponent(decodeURIComponent(ie.password))):ie.username=encodeURIComponent(decodeURIComponent(ee))}for(var F=0;F<U.length;F++){var P=U[F];P[4]&&(ie[P[1]]=ie[P[1]].toLowerCase())}return ie.auth=ie.password?ie.username+":"+ie.password:ie.username,ie.origin="file:"!==ie.protocol&&M(ie.protocol)&&ie.host?ie.protocol+"//"+ie.host:"null",ie.href=ie.toString(),ie},toString:function W(k){(!k||"function"!=typeof k)&&(k=T.stringify);var ee,ce=this,ie=ce.host,ke=ce.protocol;ke&&":"!==ke.charAt(ke.length-1)&&(ke+=":");var Le=ke+(ce.protocol&&ce.slashes||M(ce.protocol)?"//":"");return ce.username?(Le+=ce.username,ce.password&&(Le+=":"+ce.password),Le+="@"):ce.password?(Le+=":"+ce.password,Le+="@"):"file:"!==ce.protocol&&M(ce.protocol)&&!ie&&"/"!==ce.pathname&&(Le+="@"),(":"===ie[ie.length-1]||O.test(ce.hostname)&&!ce.port)&&(ie+=":"),Le+=ie+ce.pathname,(ee="object"==typeof ce.query?k(ce.query):ce.query)&&(Le+="?"!==ee.charAt(0)?"?"+ee:ee),ce.hash&&(Le+=ce.hash),Le}},De.extractProtocol=N,De.location=G,De.trimLeft=X,De.qs=T,be.exports=De},8460:(be,Ae,C)=>{"use strict";var w=C(2706),T=C(9065),d=C(2856),Z=C(2630),V=C(7050);be.exports=function(I){return null==I||"object"!=typeof I&&"function"!=typeof I?null:w(I)?"String":T(I)?"Number":d(I)?"Boolean":Z(I)?"Symbol":V(I)?"BigInt":void 0}},927:(be,Ae,C)=>{"use strict";var w=C(2418),T=C(1001),d=C(1773),Z=C(1491),V=C(6078),O=Z("Object.prototype.toString"),I=C(6518)(),x=typeof globalThis>"u"?global:globalThis,X=T(),U=Z("String.prototype.slice"),R=Object.getPrototypeOf,G=Z("Array.prototype.indexOf",!0)||function(te,W){for(var k=0;k<te.length;k+=1)if(te[k]===W)return k;return-1},M={__proto__:null};w(X,I&&V&&R?function(De){var te=new x[De];if(Symbol.toStringTag in te){var W=R(te),k=V(W,Symbol.toStringTag);if(!k){var ee=R(W);k=V(ee,Symbol.toStringTag)}M["$"+De]=d(k.get)}}:function(De){var te=new x[De],W=te.slice||te.set;W&&(M["$"+De]=d(W))}),be.exports=function(te){if(!te||"object"!=typeof te)return!1;if(!I){var W=U(O(te),8,-1);return G(X,W)>-1?W:"Object"===W&&function(te){var W=!1;return w(M,function(k,ee){if(!W)try{k(te),W=U(ee,1)}catch{}}),W}(te)}return V?function(te){var W=!1;return w(M,function(k,ee){if(!W)try{"$"+k(te)===ee&&(W=U(ee,1))}catch{}}),W}(te):null}},863:(be,Ae,C)=>{var w={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function T(d){if(!C.o(w,d))return Promise.resolve().then(()=>{var O=new Error("Cannot find module '"+d+"'");throw O.code="MODULE_NOT_FOUND",O});var Z=w[d],V=Z[0];return Promise.all(Z.slice(1).map(C.e)).then(()=>C(V))}T.keys=()=>Object.keys(w),T.id=863,be.exports=T},4654:()=>{},1001:be=>{"use strict";var Ae=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;be.exports=function(){for(var T=[],d=0;d<Ae.length;d++)"function"==typeof C[Ae[d]]&&(T[T.length]=Ae[d]);return T}},1324:(be,Ae,C)=>{"use strict";var w=C(1568),T=C(118);if(C(2337)()||C(2759)()){var d=Symbol.iterator;be.exports=function(P){return null!=P&&typeof P[d]<"u"?P[d]():w(P)?Array.prototype[d].call(P):void 0}}else{var Z=C(9604),V=C(2706),O=C(3485),I=O("%Map%",!0),x=O("%Set%",!0),X=C(1491),U=X("Array.prototype.push"),R=X("String.prototype.charCodeAt"),G=X("String.prototype.slice"),N=function(P){var re=0;return{next:function(){var D,S=re>=P.length;return S||(D=P[re],re+=1),{done:S,value:D}}}},he=function(P,re){if(Z(P)||w(P))return N(P);if(V(P)){var oe=0;return{next:function(){var D=function(P,re){if(re+1>=P.length)return re+1;var S=R(P,re);if(S<55296||S>56319)return re+1;var D=R(P,re+1);return D<56320||D>57343?re+1:re+2}(P,oe),K=G(P,oe,D);return oe=D,{done:D>P.length,value:K}}}}return re&&typeof P["_es6-shim iterator_"]<"u"?P["_es6-shim iterator_"]():void 0};if(I||x){var De=C(6128),te=C(5918),W=X("Map.prototype.forEach",!0),k=X("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var ee=X("Map.prototype.iterator",!0),ce=X("Set.prototype.iterator",!0);var ie=X("Map.prototype.@@iterator",!0)||X("Map.prototype._es6-shim iterator_",!0),ke=X("Set.prototype.@@iterator",!0)||X("Set.prototype._es6-shim iterator_",!0);be.exports=function(P){return function(P){if(De(P)){if(ee)return T(ee(P));if(ie)return ie(P);if(W){var re=[];return W(P,function(S,D){U(re,[D,S])}),N(re)}}if(te(P)){if(ce)return T(ce(P));if(ke)return ke(P);if(k){var oe=[];return k(P,function(S){U(oe,S)}),N(oe)}}}(P)||he(P)}}else be.exports=function(P){if(null!=P)return he(P,!0)}}},9148:(be,Ae,C)=>{"use strict";var w=C(6128),T=C(5918),d=C(1545),Z=C(9043);be.exports=function(O){if(O&&"object"==typeof O){if(w(O))return"Map";if(T(O))return"Set";if(d(O))return"WeakMap";if(Z(O))return"WeakSet"}return!1}},3918:(be,Ae,C)=>{"use strict";function w(d,Z,V,O,I,x,X){try{var U=d[x](X),R=U.value}catch(G){return void V(G)}U.done?Z(R):Promise.resolve(R).then(O,I)}function T(d){return function(){var Z=this,V=arguments;return new Promise(function(O,I){var x=d.apply(Z,V);function X(R){w(x,O,I,X,U,"next",R)}function U(R){w(x,O,I,X,U,"throw",R)}X(void 0)})}}C.d(Ae,{Z:()=>T})}},be=>{be(be.s=4940)}]);
//# sourceMappingURL=main.70d115e80e8ea13c.js.map