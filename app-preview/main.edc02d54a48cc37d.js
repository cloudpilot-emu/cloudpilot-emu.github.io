(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{78:(Z,we,_)=>{"use strict";var S=_(8447);Z.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var H="abcdefghijklmnopqrst",k=H.split(""),f={},O=0;O<k.length;++O)f[k[O]]=k[O];var E=Object.assign({},f),P="";for(var R in E)P+=R;return H!==P}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var H=Object.preventExtensions({1:2});try{Object.assign(H,"xy")}catch{return"y"===H[1]}return!1}()?S:Object.assign}},158:(Z,we,_)=>{"use strict";var S=_(8344),x=_(5712);if(_(1459)()||_(6497)()){var L=Symbol.iterator;Z.exports=function(ve){return null!=ve&&typeof ve[L]<"u"?ve[L]():S(ve)?Array.prototype[L].call(ve):void 0}}else{var H=_(7638),k=_(6837),f=_(2521),O=f("%Map%",!0),E=f("%Set%",!0),P=_(3463),R=P("Array.prototype.push"),V=P("String.prototype.charCodeAt"),N=P("String.prototype.slice"),T=function(ve){var ue=0;return{next:function(){var K,B=ue>=ve.length;return B||(K=ve[ue],ue+=1),{done:B,value:K}}}},se=function(ve,ue){if(H(ve)||S(ve))return T(ve);if(k(ve)){var Ie=0;return{next:function(){var K=function(ve,ue){if(ue+1>=ve.length)return ue+1;var B=V(ve,ue);if(B<55296||B>56319)return ue+1;var K=V(ve,ue+1);return K<56320||K>57343?ue+1:ue+2}(ve,Ie),je=N(ve,Ie,K);return Ie=K,{done:K>ve.length,value:je}}}}return ue&&typeof ve["_es6-shim iterator_"]<"u"?ve["_es6-shim iterator_"]():void 0};if(O||E){var le=_(5217),_e=_(9116),Q=P("Map.prototype.forEach",!0),W=P("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var Y=P("Map.prototype.iterator",!0),me=P("Set.prototype.iterator",!0);var Te=P("Map.prototype.@@iterator",!0)||P("Map.prototype._es6-shim iterator_",!0),Xe=P("Set.prototype.@@iterator",!0)||P("Set.prototype._es6-shim iterator_",!0);Z.exports=function(ve){return function(ve){if(le(ve)){if(Y)return x(Y(ve));if(Te)return Te(ve);if(Q){var ue=[];return Q(ve,function(B,K){R(ue,[K,B])}),T(ue)}}if(_e(ve)){if(me)return x(me(ve));if(Xe)return Xe(ve);if(W){var Ie=[];return W(ve,function(B){R(Ie,B)}),T(Ie)}}}(ve)||se(ve)}}else Z.exports=function(ve){if(null!=ve)return se(ve,!0)}}},159:Z=>{"use strict";Z.exports=Number.isNaN||function(_){return _!=_}},362:Z=>{"use strict";var we=typeof BigInt<"u"&&BigInt;Z.exports=function(){return"function"==typeof we&&"function"==typeof BigInt&&"bigint"==typeof we(42)&&"bigint"==typeof BigInt(42)}},497:(Z,we,_)=>{"use strict";var S=_(159);Z.exports=function(L){return S(L)||0===L?L:L<0?-1:1}},545:(Z,we,_)=>{"use strict";var S=_(592),x=_(6283),L=_(9831),H=_(9110),k=_(5796),f=x(H(),Object);S(f,{getPolyfill:H,implementation:L,shim:k}),Z.exports=f},566:(Z,we,_)=>{"use strict";_.d(we,{B:()=>H,G:()=>k});class x{constructor(O,E,P,R,V){this.id=E,this.name=P,this.disableScroll=V,this.priority=1e6*R+E,this.ctrl=O}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const O=this.ctrl.capture(this.name,this.id,this.priority);return O&&this.disableScroll&&this.ctrl.disableScroll(this.id),O}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class L{constructor(O,E,P,R){this.id=E,this.disable=P,this.disableScroll=R,this.ctrl=O}block(){if(this.ctrl){if(this.disable)for(const O of this.disable)this.ctrl.disableGesture(O,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const O of this.disable)this.ctrl.enableGesture(O,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const H="backdrop-no-scroll",k=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(O){var E;return new x(this,this.newID(),O.name,null!==(E=O.priority)&&void 0!==E?E:0,!!O.disableScroll)}createBlocker(O={}){return new L(this,this.newID(),O.disable,!!O.disableScroll)}start(O,E,P){return this.canStart(O)?(this.requestedStart.set(E,P),!0):(this.requestedStart.delete(E),!1)}capture(O,E,P){if(!this.start(O,E,P))return!1;const R=this.requestedStart;let V=-1e4;if(R.forEach(N=>{V=Math.max(V,N)}),V===P){this.capturedId=E,R.clear();const N=new CustomEvent("ionGestureCaptured",{detail:{gestureName:O}});return document.dispatchEvent(N),!0}return R.delete(E),!1}release(O){this.requestedStart.delete(O),this.capturedId===O&&(this.capturedId=void 0)}disableGesture(O,E){let P=this.disabledGestures.get(O);void 0===P&&(P=new Set,this.disabledGestures.set(O,P)),P.add(E)}enableGesture(O,E){const P=this.disabledGestures.get(O);void 0!==P&&P.delete(E)}disableScroll(O){this.disabledScroll.add(O),1===this.disabledScroll.size&&document.body.classList.add(H)}enableScroll(O){this.disabledScroll.delete(O),0===this.disabledScroll.size&&document.body.classList.remove(H)}canStart(O){return!(void 0!==this.capturedId||this.isDisabled(O))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(O){const E=this.disabledGestures.get(O);return!!(E&&E.size>0)}newID(){return this.gestureId++,this.gestureId}}},575:(Z,we,_)=>{"use strict";_.d(we,{d:()=>x,w:()=>S});const S=typeof window<"u"?window:void 0,x=typeof document<"u"?document:void 0},592:(Z,we,_)=>{"use strict";var S=_(9209),x="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),L=Object.prototype.toString,H=Array.prototype.concat,k=_(1197),O=_(6652)(),E=function(R,V,N,D){if(V in R)if(!0===D){if(R[V]===N)return}else if(!function(R){return"function"==typeof R&&"[object Function]"===L.call(R)}(D)||!D())return;O?k(R,V,N,!0):k(R,V,N)},P=function(R,V){var N=arguments.length>2?arguments[2]:{},D=S(V);x&&(D=H.call(D,Object.getOwnPropertySymbols(V)));for(var T=0;T<D.length;T+=1)E(R,D[T],V[D[T]],N[D[T]])};P.supportsDescriptors=!!O,Z.exports=P},603:(Z,we,_)=>{"use strict";var S=_(2521),x=_(840),L=_(3687),H=_(2375),k=_(8519),f=S("%WeakMap%",!0),O=x("WeakMap.prototype.get",!0),E=x("WeakMap.prototype.set",!0),P=x("WeakMap.prototype.has",!0),R=x("WeakMap.prototype.delete",!0);Z.exports=f?function(){var N,D,T={assert:function(se){if(!T.has(se))throw new k("Side channel does not contain "+L(se))},delete:function(se){if(f&&se&&("object"==typeof se||"function"==typeof se)){if(N)return R(N,se)}else if(H&&D)return D.delete(se);return!1},get:function(se){return f&&se&&("object"==typeof se||"function"==typeof se)&&N?O(N,se):D&&D.get(se)},has:function(se){return f&&se&&("object"==typeof se||"function"==typeof se)&&N?P(N,se):!!D&&D.has(se)},set:function(se,le){f&&se&&("object"==typeof se||"function"==typeof se)?(N||(N=new f),E(N,se,le)):H&&(D||(D=H()),D.set(se,le))}};return T}:H},814:Z=>{"use strict";Z.exports=Function.prototype.apply},840:(Z,we,_)=>{"use strict";var S=_(2521),x=_(2282),L=x([S("%String.prototype.indexOf%")]);Z.exports=function(k,f){var O=S(k,!!f);return"function"==typeof O&&L(k,".prototype.")>-1?x([O]):O}},863:(Z,we,_)=>{"use strict";var S=_(3687),x=_(8519),L=function(E,P,R){for(var N,V=E;null!=(N=V.next);V=N)if(N.key===P)return V.next=N.next,R||(N.next=E.next,E.next=N),N};Z.exports=function(){var P,R={assert:function(V){if(!R.has(V))throw new x("Side channel does not contain "+S(V))},delete:function(V){var N=P&&P.next,D=function(E,P){if(E)return L(E,P,!0)}(P,V);return D&&N&&N===D&&(P=void 0),!!D},get:function(V){return function(E,P){if(E){var R=L(E,P);return R&&R.value}}(P,V)},has:function(V){return function(E,P){return!!E&&!!L(E,P)}(P,V)},set:function(V,N){P||(P={next:void 0}),function(E,P,R){var V=L(E,P);V?V.value=R:E.next={key:P,next:E.next,value:R}}(P,V,N)}};return R}},894:(Z,we,_)=>{"use strict";let S;function x(){return S}function L(e){const t=S;return S=e,t}const k=Symbol("NotFound");function O(e){return e===k||"\u0275NotFound"===e?.name}function E(e,t){return Object.is(e,t)}Error;let P=null,R=!1,V=1;const D=Symbol("SIGNAL");function T(e){const t=P;return P=e,t}const Q={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function W(e){if(R)throw new Error("");if(null===P)return;P.consumerOnSignalRead(e);const t=P.producersTail;if(void 0!==t&&t.producer===e)return;let n;const r=P.recomputing;if(r&&(n=void 0!==t?t.nextProducer:P.producers,void 0!==n&&n.producer===e))return P.producersTail=n,void(n.lastReadVersion=e.version);const o=e.consumersTail;if(void 0!==o&&o.consumer===P&&(!r||function ye(e,t){const n=t.producersTail;if(void 0!==n){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(void 0!==r)}return!1}(o,P)))return;const i=U(P),s={producer:e,consumer:P,nextProducer:n,prevConsumer:o,lastReadVersion:e.version,nextConsumer:void 0};P.producersTail=s,void 0!==t?t.nextProducer=s:P.producers=s,i&&K(e,s)}function me(e){if((!U(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==V)){if(!e.producerMustRecompute(e)&&!Ie(e))return void Ee(e);e.producerRecomputeValue(e),Ee(e)}}function Te(e){if(void 0===e.consumers)return;const t=R;R=!0;try{for(let n=e.consumers;void 0!==n;n=n.nextConsumer){const r=n.consumer;r.dirty||ee(r)}}finally{R=t}}function Xe(){return!1!==P?.consumerAllowSignalWrites}function ee(e){e.dirty=!0,Te(e),e.consumerMarkedDirty?.(e)}function Ee(e){e.dirty=!1,e.lastCleanEpoch=V}function ve(e){return e&&(e.producersTail=void 0,e.recomputing=!0),T(e)}function ue(e,t){if(T(t),!e)return;e.recomputing=!1;const n=e.producersTail;let r=void 0!==n?n.nextProducer:e.producers;if(void 0!==r){if(U(e))do{r=je(r)}while(void 0!==r);void 0!==n?n.nextProducer=void 0:e.producers=void 0}}function Ie(e){for(let t=e.producers;void 0!==t;t=t.nextProducer){const n=t.producer,r=t.lastReadVersion;if(r!==n.version||(me(n),r!==n.version))return!0}return!1}function B(e){if(U(e)){let t=e.producers;for(;void 0!==t;)t=je(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function K(e,t){const n=e.consumersTail,r=U(e);if(void 0!==n?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let o=e.producers;void 0!==o;o=o.nextProducer)K(o.producer,o)}function je(e){const t=e.producer,n=e.nextProducer,r=e.nextConsumer,o=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,void 0!==r?r.prevConsumer=o:t.consumersTail=o,void 0!==o)o.nextConsumer=r;else if(t.consumers=r,!U(t)){let i=t.producers;for(;void 0!==i;)i=je(i)}return n}function U(e){return e.consumerIsAlwaysLive||void 0!==e.consumers}const $e=Symbol("UNSET"),be=Symbol("COMPUTING"),tt=Symbol("ERRORED"),St={...Q,value:$e,dirty:!0,error:null,equal:E,kind:"computed",producerMustRecompute:e=>e.value===$e||e.value===be,producerRecomputeValue(e){if(e.value===be)throw new Error("");const t=e.value;e.value=be;const n=ve(e);let r,o=!1;try{r=e.computation(),T(null),o=t!==$e&&t!==tt&&r!==tt&&e.equal(t,r)}catch(i){r=tt,e.error=i}finally{ue(e,n)}o?e.value=t:(e.value=r,e.version++)}};let Ge=function Ae(){throw new Error};function mt(e){Ge(e)}function st(e,t){const n=Object.create(wn);n.value=e,void 0!==t&&(n.equal=t);const r=()=>function Ye(e){return W(e),e.value}(n);return r[D]=n,[r,s=>_t(n,s),s=>function Nt(e,t){Xe()||mt(e),_t(e,t(e.value))}(n,s)]}function _t(e,t){Xe()||mt(e),e.equal(e.value,t)||(e.value=t,function qt(e){e.version++,function Y(){V++}(),Te(e)}(e))}const wn={...Q,equal:E,value:void 0,kind:"signal"};function Mt(e){return"function"==typeof e}function qe(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Oe=qe(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function ze(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class dt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Mt(r))try{r()}catch(i){t=i instanceof Oe?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{An(i)}catch(s){t=t??[],s instanceof Oe?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Oe(t)}}add(t){var n;if(t&&t!==this)if(this.closed)An(t);else{if(t instanceof dt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ze(n,t)}remove(t){const{_finalizers:n}=this;n&&ze(n,t),t instanceof dt&&t._removeParent(this)}}dt.EMPTY=(()=>{const e=new dt;return e.closed=!0,e})();const Qt=dt.EMPTY;function fn(e){return e instanceof dt||e&&"closed"in e&&Mt(e.remove)&&Mt(e.add)&&Mt(e.unsubscribe)}function An(e){Mt(e)?e():e.unsubscribe()}const an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cn={setTimeout(e,t,...n){const{delegate:r}=Cn;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Cn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function rr(e){Cn.setTimeout(()=>{const{onUnhandledError:t}=an;if(!t)throw e;t(e)})}function pr(){}const Xr=No("C",void 0,void 0);function No(e,t,n){return{kind:e,value:t,error:n}}let Qr=null;function ln(e){if(an.useDeprecatedSynchronousErrorHandling){const t=!Qr;if(t&&(Qr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Qr;if(Qr=null,n)throw r}}else e()}class Me extends dt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fn(t)&&t.add(this)):this.destination=Er}static create(t,n,r){return new En(t,n,r)}next(t){this.isStopped?Ur(function Vr(e){return No("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Ur(function go(e){return No("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ur(Xr,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Kt(e,t){return Pe.call(e,t)}class Hn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Jt(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Jt(r)}else Jt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Jt(n)}}}class En extends Me{constructor(t,n,r){let o;if(super(),Mt(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&an.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Kt(t.next,i),error:t.error&&Kt(t.error,i),complete:t.complete&&Kt(t.complete,i)}):o=t}this.destination=new Hn(o)}}function Jt(e){an.useDeprecatedSynchronousErrorHandling?function ri(e){an.useDeprecatedSynchronousErrorHandling&&Qr&&(Qr.errorThrown=!0,Qr.error=e)}(e):rr(e)}function Ur(e,t){const{onStoppedNotification:n}=an;n&&Cn.setTimeout(()=>n(e,t))}const Er={closed:!0,next:pr,error:function uo(e){throw e},complete:pr},oo="function"==typeof Symbol&&Symbol.observable||"@@observable";function Jr(e){return e}function Dr(e){return 0===e.length?Jr:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}let Dn=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function fo(e){return e&&e instanceof Me||function oi(e){return e&&Mt(e.next)&&Mt(e.error)&&Mt(e.complete)}(e)&&fn(e)}(n)?n:new En(n,r,o);return ln(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=mo(r))((o,i)=>{const s=new En({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[oo](){return this}pipe(...n){return Dr(n)(this)}toPromise(n){return new(n=mo(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function mo(e){var t;return null!==(t=e??an.Promise)&&void 0!==t?t:Promise}const Go=qe(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $n=(()=>{class e extends Dn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Oo(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Go}next(n){ln(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ln(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ln(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Qt:(this.currentObservers=null,i.push(n),new dt(()=>{this.currentObservers=null,ze(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new Dn;return n.source=this,n}}return e.create=(t,n)=>new Oo(t,n),e})();class Oo extends $n{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Qt}}class Ir extends $n{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const zo="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class Le extends Error{code;constructor(t,n){super(Hr(t,n)),this.code=t}}function Hr(e,t){return`${function cr(e){return`NG0${Math.abs(e)}`}(e)}${t?": "+t:""}`}const Vn=globalThis;function hn(e){for(let t in e)if(e[t]===hn)return t;throw Error("")}function ii(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Lr(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(Lr).join(", ")}]`;if(null==e)return""+e;const t=e.overriddenName||e.name;if(t)return`${t}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return r>=0?n.slice(0,r):n}function xi(e,t){return e?t?`${e} ${t}`:e:t||""}const js=hn({__forward_ref__:hn});function Bn(e){return e.__forward_ref__=Bn,e.toString=function(){return Lr(this())},e}function jt(e){return vr(e)?e():e}function vr(e){return"function"==typeof e&&e.hasOwnProperty(js)&&e.__forward_ref__===Bn}function et(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function jn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ps(e){return function Ml(e,t){return e.hasOwnProperty(t)&&e[t]||null}(e,Vs)}function Vi(e){return e&&e.hasOwnProperty(da)?e[da]:null}const Vs=hn({\u0275prov:hn}),da=hn({\u0275inj:hn});class it{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=et({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function mi(e){return e&&!!e.\u0275providers}const Gi=hn({\u0275cmp:hn}),zi=hn({\u0275dir:hn}),Hs=hn({\u0275pipe:hn}),bs=hn({\u0275mod:hn}),ai=hn({\u0275fac:hn}),Ko=hn({__NG_ELEMENT_ID__:hn}),vi=hn({__NG_ENV_ID__:hn});function Wt(e){return"string"==typeof e?e:null==e?"":String(e)}const vo=hn({ngErrorCode:hn}),Cs=hn({ngErrorMessage:hn}),ki=hn({ngTokenPath:hn});function Wi(e,t){return qs("",-200,t)}function ws(e,t){throw new Le(-201,!1)}function qs(e,t,n){const r=new Le(t,e);return r[vo]=t,r[Cs]=e,n&&(r[ki]=n),r}let yo;function Ys(){return yo}function eo(e){const t=yo;return yo=e,t}function qi(e,t,n){const r=ps(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:8&n?null:void 0!==t?t:void ws()}const Po={};class va{injector;constructor(t){this.injector=t}retrieve(t,n){const r=yi(n)||0;try{return this.injector.get(t,8&r?null:Po,r)}catch(o){if(O(o))return o;throw o}}}function Ks(e,t=0){const n=x();if(void 0===n)throw new Le(-203,!1);if(null===n)return qi(e,void 0,t);{const r=function ya(e){return{optional:!!(8&e),host:!!(1&e),self:!!(2&e),skipSelf:!!(4&e)}}(t),o=n.retrieve(e,r);if(O(o)){if(r.optional)return null;throw o}return o}}function oe(e,t=0){return(Ys()||Ks)(jt(e),t)}function Be(e,t){return oe(e,yi(t))}function yi(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Zi(e){const t=[];for(let n=0;n<e.length;n++){const r=jt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Le(900,!1);let o,i=0;for(let s=0;s<r.length;s++){const a=r[s],l=Va(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(oe(o,i))}else t.push(oe(r))}return t}function Va(e){return e.__NG_DI_FLAG__}function p(e,t){return e.hasOwnProperty(ai)?e[ai]:null}function A(e,t){e.forEach(n=>Array.isArray(n)?A(n,t):t(n))}function X(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function te(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function ge(e,t,n){let r=rt(e,t);return r>=0?e[1|r]=n:(r=~r,function Ke(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Fe(e,t){const n=rt(e,t);if(n>=0)return e[1|n]}function rt(e,t){return function ft(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const At={},ht=[],vn=new it(""),gr=new it("",-1),$t=new it("");class In{get(t,n=Po){if(n===Po){const o=qs("",-201);throw o.name="\u0275NotFound",o}return n}}function Mn(e){return e[bs]||null}function Tt(e){return e[Gi]||null}function en(e){return e[zi]||null}function xn(e){return e[Hs]||null}function Zt(e){return{\u0275providers:e}}function $(...e){return{\u0275providers:ce(0,e),\u0275fromNgModule:!0}}function ce(e,...t){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return A(t,s=>{const a=s;kt(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&Qe(o,i),n}function Qe(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];On(o,i=>{t(i,r)})}}function kt(e,t,n,r){if(!(e=jt(e)))return!1;let o=null,i=Vi(e);const s=!i&&Tt(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=Vi(l),!i)return!1;o=l}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)kt(c,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;r.add(o);try{A(i.imports,d=>{kt(d,t,n,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&Qe(c,t)}if(!a){const c=p(o)||(()=>new o);t({provide:o,useFactory:c,deps:ht},o),t({provide:$t,useValue:o,multi:!0},o),t({provide:vn,useValue:()=>oe(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const c=e;On(l,d=>{t(d,c)})}}}return o!==e&&void 0!==e.providers}function On(e,t){for(let n of e)mi(n)&&(n=n.\u0275providers),Array.isArray(n)?On(n,t):t(n)}const Un=hn({provide:String,useValue:hn});function zr(e){return null!==e&&"object"==typeof e&&Un in e}function or(e){return"function"==typeof e}const Ot=new it(""),yr={},Qn={};let kr;function ir(){return void 0===kr&&(kr=new In),kr}class sn{}class g extends sn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Ha(t,s=>this.processProvider(s)),this.records.set(gr,Rn(void 0,this)),o.has("environment")&&this.records.set(sn,Rn(void 0,this));const i=this.records.get(Ot);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get($t,ht,{self:!0}))}retrieve(t,n){const r=yi(n)||0;try{return this.get(t,Po,r)}catch(o){if(O(o))return o;throw o}}destroy(){pn(this),this._destroyed=!0;const t=T(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),T(t)}}onDestroy(t){return pn(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){pn(this);const n=L(this),r=eo(void 0);try{return t()}finally{L(n),eo(r)}}get(t,n=Po,r){if(pn(this),t.hasOwnProperty(vi))return t[vi](this);const o=yi(r),s=L(this),a=eo(void 0);try{if(!(4&o)){let c=this.records.get(t);if(void 0===c){const d=function Ua(e){return"function"==typeof e||"object"==typeof e&&"InjectionToken"===e.ngMetadataName}(t)&&ps(t);c=d&&this.injectableDefInScope(d)?Rn(z(t),yr):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c,o)}return(2&o?ir():this.parent).get(t,n=8&o&&n===Po?null:n)}catch(l){const c=function ga(e){return e[vo]}(l);throw-200===c||-201===c?new Le(c,null):l}finally{eo(a),L(s)}}resolveInjectorInitializers(){const t=T(null),n=L(this),r=eo(void 0);try{const i=this.get(vn,ht,{self:!0});for(const s of i)s()}finally{L(n),eo(r),T(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Lr(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){let n=or(t=jt(t))?t:jt(t&&t.provide);const r=function lt(e){return zr(e)?Rn(void 0,e.useValue):Rn(Gt(e),yr)}(t);if(!or(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Rn(void 0,yr,!0),o.factory=()=>Zi(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){const o=T(null);try{if(n.value===Qn)throw Wi(Lr(t));return n.value===yr&&(n.value=Qn,n.value=n.factory(void 0,r)),"object"==typeof n.value&&n.value&&function _o(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{T(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=jt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function z(e){const t=ps(e),n=null!==t?t.factory:p(e);if(null!==n)return n;if(e instanceof it)throw new Le(204,!1);if(e instanceof Function)return function Ce(e){if(e.length>0)throw new Le(204,!1);const n=function ua(e){return(e?.[Vs]??null)||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Le(204,!1)}function Gt(e,t,n){let r;if(or(e)){const o=jt(e);return p(o)||z(o)}if(zr(e))r=()=>jt(e.useValue);else if(function xr(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Zi(e.deps||[]));else if(function cn(e){return!(!e||!e.useExisting)}(e))r=(o,i)=>oe(jt(e.useExisting),void 0!==i&&8&i?8:void 0);else{const o=jt(e&&(e.useClass||e.provide));if(!function zn(e){return!!e.deps}(e))return p(o)||z(o);r=()=>new o(...Zi(e.deps))}return r}function pn(e){if(e.destroyed)throw new Le(205,!1)}function Rn(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ha(e,t){for(const n of e)Array.isArray(n)?Ha(n,t):n&&mi(n)?Ha(n.\u0275providers,t):t(n)}function bo(e,t){let n;e instanceof g?(pn(e),n=e):n=new va(e);const o=L(n),i=eo(void 0);try{return t()}finally{L(o),eo(i)}}function _a(){return void 0!==Ys()||null!=x()}function qr(e){return Array.isArray(e)&&"object"==typeof e[1]}function li(e){return Array.isArray(e)&&!0===e[1]}function Cf(e){return!!(4&e.flags)}function Sa(e){return e.componentOffset>-1}function Ol(e){return!(1&~e.flags)}function Oi(e){return!!e.template}function qa(e){return!!(512&e[2])}function wa(e){return!(256&~e[2])}function xo(e){for(;Array.isArray(e);)e=e[0];return e}function Pl(e,t){return xo(t[e])}function po(e,t){return xo(t[e.index])}function Fl(e,t){return e.data[t]}function Za(e,t){return e[t]}function ci(e,t){const n=t[e];return qr(n)?n:n[0]}function Tf(e){return!(128&~e[2])}function ui(e,t){return null==t?null:e[t]}function Ll(e){e[17]=0}function Fh(e){1024&e[2]||(e[2]|=1024,Tf(e)&&dr(e))}function _c(e){return!!(9216&e[2]||e[24]?.dirty)}function Af(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),_c(e)&&dr(e)}function dr(e){e[10].changeDetectionScheduler?.notify(0);let t=Ya(e);for(;null!==t&&!(8192&t[2])&&(t[2]|=8192,Tf(t));)t=Ya(t)}function Ds(e,t){if(wa(e))throw new Le(911,!1);null===e[21]&&(e[21]=[]),e[21].push(t)}function Ya(e){const t=e[3];return li(t)?t[3]:t}function $h(e){return e[7]??=[]}function Bh(e){return e.cleanup??=[]}const _n={lFrame:CD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let sr=!1;function Wn(){_n.lFrame.elementDepthCount--}function _r(){return _n.bindingsEnabled}function Qo(){return null!==_n.skipHydrationRootTNode}function _i(e){return _n.skipHydrationRootTNode===e}function Br(){_n.skipHydrationRootTNode=null}function De(){return _n.lFrame.lView}function Yt(){return _n.lFrame.tView}function Ze(e){return _n.lFrame.contextLView=e,e[8]}function at(e){return _n.lFrame.contextLView=null,e}function Pt(){let e=u();for(;null!==e&&64===e.type;)e=e.parent;return e}function u(){return _n.lFrame.currentTNode}function ie(e,t){const n=_n.lFrame;n.currentTNode=e,n.isParent=t}function ct(){return _n.lFrame.isParent}function Xt(){_n.lFrame.isParent=!1}function $l(){return sr}function Bl(e){const t=sr;return sr=e,t}function Lo(){const e=_n.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ki(){return _n.lFrame.bindingIndex}function Li(){return _n.lFrame.bindingIndex++}function Ea(e){const t=_n.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function _L(e,t){const n=_n.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ny(t)}function Ny(e){_n.lFrame.currentDirectiveIndex=e}function Py(){return _n.lFrame.currentQueryIndex}function Uh(e){_n.lFrame.currentQueryIndex=e}function CL(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[5]:null}function _D(e,t,n){if(4&n){let o=t,i=e;for(;!(o=o.parent,null!==o||1&n||(o=CL(i),null===o||(i=i[14],10&o.type))););if(null===o)return!1;t=o,e=i}const r=_n.lFrame=bD();return r.currentTNode=t,r.lView=e,!0}function Fy(e){const t=bD(),n=e[1];_n.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bD(){const e=_n.lFrame,t=null===e?null:e.child;return null===t?CD(e):t}function CD(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function SD(){const e=_n.lFrame;return _n.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wD=SD;function Ly(){const e=SD();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bi(){return _n.lFrame.selectedIndex}function ru(e){_n.lFrame.selectedIndex=e}function Ka(){const e=_n.lFrame;return Fl(e.tView,e.selectedIndex)}let ED=!0;function Hh(){return ED}function xf(e){ED=e}let $y={elements:void 0};function DD(e,t=null,n=null,r){const o=ID(e,t,n,r);return o.resolveInjectorInitializers(),o}function ID(e,t=null,n=null,r,o=new Set){const i=[n||ht,$(e)];return r=r||("object"==typeof e?void 0:Lr(e)),new g(i,t||ir(),r||null,o)}class co{static THROW_IF_NOT_FOUND=Po;static NULL=new In;static create(t,n){if(Array.isArray(t))return DD({name:""},n,t,"");{const r=t.name??"";return DD({name:r},t.parent,t.providers,r)}}static \u0275prov=et({token:co,providedIn:"any",factory:()=>oe(gr)});static __NG_ELEMENT_ID__=-1}const Ci=new it("");let Qs=(()=>class e{static __NG_ELEMENT_ID__=ML;static __NG_ENV_ID__=n=>n})();class TD extends Qs{_lView;constructor(t){super(),this._lView=t}get destroyed(){return wa(this._lView)}onDestroy(t){const n=this._lView;return Ds(n,t),()=>function Pn(e,t){if(null===e[21])return;const n=e[21].indexOf(t);-1!==n&&e[21].splice(n,1)}(n,t)}}function ML(){return new TD(De())}class td{_console=console;handleError(t){this._console.error("ERROR",t)}}const Xa=new it("",{providedIn:"root",factory:()=>{const e=Be(sn);let t;return n=>{e.destroyed&&!t?setTimeout(()=>{throw n}):(t??=e.get(td),t.handleError(n))}}}),xL={provide:vn,useValue:()=>{Be(td)},multi:!0};function Si(e,t){const[n,r,o]=st(e,t?.equal),i=n;return i.set=r,i.update=o,i.asReadonly=jy.bind(i),i}function jy(){const e=this[D];if(void 0===e.readonlyFn){const t=()=>this();t[D]=e,e.readonlyFn=t}return e.readonlyFn}class nd{}const xD=new it("",{providedIn:"root",factory:()=>!1}),kD=new it(""),RD=new it("");let Vy=(()=>class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=RL})();function RL(){return new Vy(De(),Pt())}let bc=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ir(!1);get hasPendingTasks(){return!this.destroyed&&this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Dn(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})(),Gh=(()=>{class e{internalPendingTasks=Be(bc);scheduler=Be(nd);errorHandler=Be(Xa);add(){const n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){const r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})();function kf(...e){}let ND=(()=>{class e{static \u0275prov=et({token:e,providedIn:"root",factory:()=>new NL})}return e})();class NL{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){const r=this.queues.get(t.zone);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){const n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(const[n,r]of this.queues)t||=null===n?this.flushQueue(r):n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(const r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}}let OD=null;function Cc(){return OD}class PL{}let Uy=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Be(LL),providedIn:"platform"})}return e})();const FL=new it("");let LL=(()=>{class e extends Uy{_location;_history;_doc=Be(Ci);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Cc().getBaseHref(this._doc)}onPopState(n){const r=Cc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Cc().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function Hy(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function PD(e){const t=e.search(/#|\?|$/);return"/"===e[t-1]?e.slice(0,t-1)+e.slice(t):e}function jl(e){return e&&"?"!==e[0]?`?${e}`:e}let hl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Be(LD),providedIn:"root"})}return e})();const FD=new it("");let LD=(()=>{class e extends hl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Be(Ci).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Hy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+jl(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+jl(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+jl(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(oe(Uy),oe(FD,8))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sc=(()=>{class e{_subject=new $n;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function jL(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(PD($D(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+jl(r))}normalize(n){return e.stripTrailingSlash(function BL(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,$D(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jl(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=jl;static joinWithSlash=Hy;static stripTrailingSlash=PD;static \u0275fac=function(r){return new(r||e)(oe(hl))};static \u0275prov=et({token:e,factory:()=>function $L(){return new Sc(oe(hl))}(),providedIn:"root"})}return e})();function $D(e){return e.replace(/\/index.html$/,"")}function BD(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class jD{}var F=_(1890);function VD(e){return Mt(e?.lift)}function ei(e){return t=>{if(VD(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $o(e,t,n,r,o){return new VL(e,t,n,r,o)}class VL extends Me{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Zn(e,t){return ei((n,r)=>{let o=0;n.subscribe($o(r,i=>{r.next(e.call(t,i,o++))}))})}function Vl(e){return{toString:e}.toString()}class e${previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function GD(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}const Xi=(()=>{const e=()=>zD;return e.ngInherit=!0,e})();function zD(e){return e.type.prototype.ngOnChanges&&(e.setInput=n$),t$}function t$(){const e=qD(this),t=e?.current;if(t){const n=e.previous;if(n===At)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function n$(e,t,n,r,o){const i=this.declaredInputs[r],s=qD(e)||function r$(e,t){return e[WD]=t}(e,{previous:At,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[i];a[i]=new e$(c&&c.currentValue,n,l===At),GD(e,t,o,n)}const WD="__ngSimpleChanges__";function qD(e){return e[WD]||null}const ou=[],Rr=function(e,t=null,n){for(let r=0;r<ou.length;r++)(0,ou[r])(e,t,n)};function ZD(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=d&&(e.destroyHooks??=[]).push(n,d)}}function Wh(e,t,n){YD(e,t,3,n)}function qh(e,t,n,r){(3&e[2])===n&&YD(e,t,n,r)}function Wy(e,t){let n=e[2];(3&n)===t&&(n&=16383,n+=1,e[2]=n)}function YD(e,t,n,r){const i=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[17]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[17]+=65536),(a<i||-1==i)&&(l$(e,n,t,l),e[17]=(4294901760&e[17])+l+2),l++}function KD(e,t){Rr(4,e,t);const n=T(null);try{t.call(e)}finally{T(n),Rr(5,e,t)}}function l$(e,t,n,r){const o=n[r]<0,i=n[r+1],a=e[o?-n[r]:n[r]];o?e[2]>>14<e[17]>>16&&(3&e[2])===t&&(e[2]+=16384,KD(a,i)):KD(a,i)}class Nf{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,o){this.factory=t,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}}function QD(e){return 3===e||4===e||6===e}function JD(e){return 64===e.charCodeAt(0)}function ld(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||eI(e,n,o,0,-1===n||2===n?t[++r]:null)}}return e}function eI(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n)return void(null!==o&&(e[i+1]=o));i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}function Zy(e){return-1!==e}function Of(e){return 32767&e}function Pf(e,t){let n=function f$(e){return e>>16}(e),r=t;for(;n>0;)r=r[14],n--;return r}let Yy=!0;function Zh(e){const t=Yy;return Yy=e,t}let p$=0;const gl={};function Yh(e,t){const n=rI(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ky(r.data,e),Ky(t,null),Ky(r.blueprint,null));const o=Kh(e,t),i=e.injectorIndex;if(Zy(o)){const s=Of(o),a=Pf(o,t),l=a[1].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=o,i}function Ky(e,t){e.push(0,0,0,0,0,0,0,0,t)}function rI(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Kh(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=uI(o),null===r)return-1;if(n++,o=o[14],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Xy(e,t,n){!function h$(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ko)&&(r=n[Ko]),null==r&&(r=n[Ko]=p$++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function oI(e,t,n){if(8&n||void 0!==e)return e;ws()}function iI(e,t,n,r){if(8&n&&void 0===r&&(r=null),!(3&n)){const o=e[9],i=eo(void 0);try{return o?o.get(t,r,8&n):qi(t,r,8&n)}finally{eo(i)}}return oI(r,0,n)}function sI(e,t,n,r=0,o){if(null!==e){if(2048&t[2]&&!(2&r)){const s=function _$(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[2]&&!qa(s);){const a=aI(i,s,n,2|r,gl);if(a!==gl)return a;let l=i.parent;if(!l){const c=s[20];if(c){const d=c.get(n,gl,r);if(d!==gl)return d}l=uI(s),s=s[14]}i=l}return o}(e,t,n,r,gl);if(s!==gl)return s}const i=aI(e,t,n,r,gl);if(i!==gl)return i}return iI(t,n,r,o)}function aI(e,t,n,r,o){const i=function v$(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ko)?e[Ko]:void 0;return"number"==typeof t?t>=0?255&t:y$:t}(n);if("function"==typeof i){if(!_D(t,e,r))return 1&r?oI(o,0,r):iI(t,n,r,o);try{let s;if(s=i(r),null!=s||8&r)return s;ws()}finally{wD()}}else if("number"==typeof i){let s=null,a=rI(e,t),l=-1,c=1&r?t[15][5]:null;for((-1===a||4&r)&&(l=-1===a?Kh(e,t):t[a+8],-1!==l&&cI(r,!1)?(s=t[1],a=Of(l),t=Pf(l,t)):a=-1);-1!==a;){const d=t[1];if(lI(i,a,d.data)){const h=m$(a,t,n,s,r,c);if(h!==gl)return h}l=t[a+8],-1!==l&&cI(r,t[1].data[a+8]===c)&&lI(i,a,t)?(s=d,a=Of(l),t=Pf(l,t)):a=-1}}return o}function m$(e,t,n,r,o,i){const s=t[1],a=s.data[e+8],d=Xh(a,s,n,null==r?Sa(a)&&Yy:r!=s&&!!(3&a.type),1&o&&i===a);return null!==d?Ff(t,s,d,a,o):gl}function Xh(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,d=i>>20,v=o?a+d:e.directiveEnd;for(let C=r?a:a+d;C<v;C++){const M=s[C];if(C<l&&n===M||C>=l&&M.type===n)return C}if(o){const C=s[l];if(C&&Oi(C)&&C.type===n)return l}return null}function Ff(e,t,n,r,o){let i=e[n];const s=t.data;if(i instanceof Nf){const a=i;if(a.resolving)throw function dn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Wt(e)}(s[n]),Wi();const l=Zh(a.canSeeViewProviders);a.resolving=!0;const h=a.injectImpl?eo(a.injectImpl):null;_D(e,r,0);try{i=e[n]=a.factory(void 0,o,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function a$(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=zD(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,s[n],t)}finally{null!==h&&eo(h),Zh(l),a.resolving=!1,wD()}}return i}function lI(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function cI(e,t){return!(2&e||1&e&&t)}class Co{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return sI(this._tNode,this._lView,t,yi(r),n)}}function y$(){return new Co(Pt(),De())}function Zr(e){return Vl(()=>{const t=e.prototype.constructor,n=t[ai]||Qy(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[ai]||Qy(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Qy(e){return vr(e)?()=>{const t=Qy(jt(e));return t&&t()}:p(e)}function uI(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[5]:null}function Ul(e){return function g$(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(QD(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(Pt(),e)}function T$(){return cd(Pt(),De())}function cd(e,t){return new ot(po(e,t))}let ot=(()=>class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=T$})();function gI(e){return e instanceof ot?e.nativeElement:e}function A$(){return this._results[Symbol.iterator]()}class M${_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new $n}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function w(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function m(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=A$}function Lf(e){return!(128&~e.flags)}var Jh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Jh||{});const eg=new Map;let R$=0;function t_(e){eg.delete(e[19])}const r_="__ngContext__";function Ts(e,t){qr(t)?(e[r_]=t[19],function O$(e){eg.set(e[19],e)}(t)):e[r_]=t}function II(e){return AI(e[12])}function TI(e){return AI(e[4])}function AI(e){for(;null!==e&&!li(e);)e=e[4];return e}let o_;const Bf=new it("",{providedIn:"root",factory:()=>nB}),nB="ng",PI=new it(""),ng=new it("",{providedIn:"platform",factory:()=>"unknown"}),FI=new it("",{providedIn:"root",factory:()=>function Ec(){if(void 0!==o_)return o_;if(typeof document<"u")return document;throw new Le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),uB=new it("",{providedIn:"root",factory:()=>!1}),hB=new it("");function sg(e){return!(32&~e.flags)}function a1(e,t){const n=e.contentQueries;if(null!==n){const r=T(null);try{for(let o=0;o<n.length;o+=2){const s=n[o+1];if(-1!==s){const a=e.data[s];Uh(n[o]),a.contentQueries(2,t[s],s)}}}finally{T(r)}}}function C_(e,t,n){Uh(0);const r=T(null);try{t(e,n)}finally{T(r)}}function S_(e,t,n){if(Cf(t)){const r=T(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{T(r)}}}var Hl=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Hl||{});let dg;function hd(e){return function l1(){if(void 0===dg&&(dg=null,Vn.trustedTypes))try{dg=Vn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return dg}()?.createHTML(e)||e}class su{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zo})`}}class jB extends su{getTypeName(){return"HTML"}}class VB extends su{getTypeName(){return"Style"}}class UB extends su{getTypeName(){return"Script"}}class HB extends su{getTypeName(){return"URL"}}class GB extends su{getTypeName(){return"ResourceURL"}}function Js(e){return e instanceof su?e.changingThisBreaksApplicationSecurity:e}function ml(e,t){const n=function zB(e){return e instanceof su&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${zo})`)}return n===t}class XB{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(hd(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}}class QB{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=hd(t),n}}const e3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pg(e){return(e=String(e)).match(e3)?e:"unsafe:"+e}function Gl(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Uf(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const p1=Gl("area,br,col,hr,img,wbr"),h1=Gl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g1=Gl("rp,rt"),E_=Uf(p1,Uf(h1,Gl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Uf(g1,Gl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Uf(g1,h1)),D_=Gl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),m1=Uf(D_,Gl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),t3=Gl("script,style,template");class n3{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,o=[];for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)o.push(n),n=i3(n);else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=o3(n);if(i){n=i;break}n=o.pop()}return this.buf.join("")}startElement(t){const n=v1(t).toLowerCase();if(!E_.hasOwnProperty(n))return this.sanitizedSomething=!0,!t3.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!m1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;D_[a]&&(l=pg(l)),this.buf.push(" ",s,'="',_1(l),'"')}return this.buf.push(">"),!0}endElement(t){const n=v1(t).toLowerCase();E_.hasOwnProperty(n)&&!p1.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(_1(t))}}function o3(e){const t=e.nextSibling;if(t&&e!==t.previousSibling)throw y1(t);return t}function i3(e){const t=e.firstChild;if(t&&function r3(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,t))throw y1(t);return t}function v1(e){const t=e.nodeName;return"string"==typeof t?t:"FORM"}function y1(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const s3=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,a3=/([^\#-~ |!])/g;function _1(e){return e.replace(/&/g,"&amp;").replace(s3,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(a3,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hg;function b1(e,t){let n=null;try{hg=hg||function f1(e){const t=new QB(e);return function JB(){try{return!!(new window.DOMParser).parseFromString(hd(""),"text/html")}catch{return!1}}()?new XB(t):t}(e);let r=t?String(t):"";n=hg.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=hg.getInertBodyElement(r)}while(r!==i);return hd((new n3).sanitizeChildren(I_(n)||n))}finally{if(n){const r=I_(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function I_(e){return"content"in e&&function l3(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var As=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(As||{});const g3=/^>|^->|<!--|-->|--!>|<!-$/g,m3=/(<|>)/g;function vl(e){return e instanceof Function?e():e}function M3(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}const R1="ng-template";function x3(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==M3(t[o+1].toLowerCase(),n,0))return!0}else if(M_(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===n)return!0}return!1}function M_(e){return 4===e.type&&e.value!==R1}function k3(e,t,n){return t===(4!==e.type||n?e.value:R1)}function R3(e,t,n){let r=4;const o=e.attrs,i=null!==o?function P3(e){for(let t=0;t<e.length;t++)if(QD(e[t]))return t;return e.length}(o):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!k3(e,l,n)||""===l&&1===t.length){if(Qa(r))return!1;s=!0}}else if(8&r){if(null===o||!x3(e,o,l,n)){if(Qa(r))return!1;s=!0}}else{const c=t[++a],d=N3(l,o,M_(e),n);if(-1===d){if(Qa(r))return!1;s=!0;continue}if(""!==c){let h;if(h=d>i?"":o[d+1].toLowerCase(),2&r&&c!==h){if(Qa(r))return!1;s=!0}}}}else{if(!s&&!Qa(r)&&!Qa(l))return!1;if(s&&Qa(l))continue;s=!1,r=l|1&r}}return Qa(r)||s}function Qa(e){return!(1&e)}function N3(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function F3(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function N1(e,t,n=!1){for(let r=0;r<t.length;r++)if(R3(e,t[r],n))return!0;return!1}function L3(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let o=0;o<e.length;o++)if(e[o]!==r[o])continue e;return!0}}return!1}function O1(e,t){return e?":not("+t.trim()+")":t}function $3(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Qa(s)&&(t+=O1(i,o),o=""),r=s,i=i||!Qa(r);n++}return""!==o&&(t+=O1(i,o)),t}const Ar={};function k_(e,t){return e.createComment(function E1(e){return e.replace(g3,t=>t.replace(m3,"\u200b$1\u200b"))}(t))}function vg(e,t,n){return e.createElement(t,n)}function au(e,t,n,r,o){e.insertBefore(t,n,r,o)}function F1(e,t,n){e.appendChild(t,n)}function L1(e,t,n,r,o){null!==r?au(e,t,n,r,o):F1(e,t,n)}function B1(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&function d$(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{const i=o,s=n[++r];JD(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}}(e,t,r),null!==o&&function U3(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}(e,t,o),null!==i&&function V3(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function R_(e,t,n,r,o,i,s,a,l,c,d){const h=26+r,v=h+o,C=function H3(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ar);return n}(h,v),M="function"==typeof c?c():c;return C[1]={type:e,blueprint:C,template:n,queries:null,viewQuery:a,declTNode:t,data:C.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:M,incompleteFirstPass:!1,ssrId:d}}function yg(e,t,n,r,o,i,s,a,l,c,d){const h=t.blueprint.slice();return h[0]=o,h[2]=1228|r,(null!==c||e&&2048&e[2])&&(h[2]|=2048),Ll(h),h[3]=h[14]=e,h[8]=n,h[10]=s||e&&e[10],h[11]=a||e&&e[11],h[9]=l||e&&e[9]||null,h[5]=i,h[19]=function N$(){return R$++}(),h[6]=d,h[20]=c,h[15]=2==t.type?e[15]:h,h}function N_(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function zf(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function O_(e,t){return e[12]?e[13][4]=t:e[12]=t,e[13]=t,t}function fe(e=1){V1(Yt(),De(),bi()+e,!1)}function V1(e,t,n,r){if(!r)if(3&~t[2]){const i=e.preOrderHooks;null!==i&&qh(t,i,0,n)}else{const i=e.preOrderCheckHooks;null!==i&&Wh(t,i,n)}ru(n)}var _g=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(_g||{});function Wf(e,t,n,r){const o=T(null);try{const[i,s,a]=e.inputs[n];let l=null;0!==(s&_g.SignalBased)&&(l=t[i][D]),null!==l&&void 0!==l.transformFn?r=l.transformFn(r):null!==a&&(r=a.call(t,r)),null!==e.setInput?e.setInput(t,l,r,n,i):GD(t,l,i,r)}finally{T(o)}}var Ic=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ic||{});function F_(e,t){return undefined(e,t)}function md(e,t,n,r,o){if(null!=r){let i,s=!1;li(r)?i=r:qr(r)&&(s=!0,r=r[0]);const a=xo(r);0===e&&null!==n?null==o?F1(t,n,a):au(t,n,a,o||null,!0):1===e&&null!==n?au(t,n,a,o||null,!0):2===e?function Gf(e,t,n){e.removeChild(null,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function X3(e,t,n,r,o){const i=n[7];i!==xo(n)&&md(t,e,r,i,o);for(let a=10;a<n.length;a++){const l=n[a];Cg(l[1],l,e,t,r,i)}}(t,e,i,n,o)}}function H1(e,t){t[10].changeDetectionScheduler?.notify(9),Cg(e,t,t[11],2,null,null)}function L_(e,t){const n=e[9],r=n.indexOf(t);n.splice(r,1)}function qf(e,t){if(wa(t))return;const n=t[11];n.destroyNode&&Cg(e,t,n,3,null,null),function q3(e){let t=e[12];if(!t)return $_(e[1],e);for(;t;){let n=null;if(qr(t))n=t[12];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)qr(t)&&$_(t[1],t),t=t[3];null===t&&(t=e),qr(t)&&$_(t[1],t),n=t&&t[4]}t=n}}(t)}function $_(e,t){if(wa(t))return;const n=T(null);try{t[2]&=-129,t[2]|=256,t[24]&&B(t[24]),function Y3(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Nf)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];Rr(4,a,l);try{l.call(a)}finally{Rr(5,a,l)}}else{Rr(4,o,i);try{i.call(o)}finally{Rr(5,o,i)}}}}}(e,t),function Z3(e,t){const n=e.cleanup,r=t[7];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[7]=null);const o=t[21];if(null!==o){t[21]=null;for(let s=0;s<o.length;s++)(0,o[s])()}const i=t[23];if(null!==i){t[23]=null;for(const s of i)s.destroy()}}(e,t),1===t[1].type&&t[11].destroy();const r=t[16];if(null!==r&&li(t[3])){r!==t[3]&&L_(r,t);const o=t[18];null!==o&&o.detachView(e)}t_(t)}finally{T(n)}}function B_(e,t,n){return function G1(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[0];if(Sa(r)){const{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Hl.None||o===Hl.Emulated)return null}return po(r,n)}(e,t.parent,n)}function z1(e,t,n){return q1(e,t,n)}let q1=function W1(e,t,n){return 40&e.type?po(e,n):null};function V_(e,t,n,r){const o=B_(e,r,t),i=t[11],a=z1(r.parent||t[5],r,t);if(null!=o)if(Array.isArray(n))for(let l=0;l<n.length;l++)L1(i,o,n[l],a,!1);else L1(i,o,n,a,!1)}function lu(e,t){if(null!==t){const n=t.type;if(3&n)return po(t,e);if(4&n)return bg(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return lu(e,r);{const o=e[t.index];return li(o)?bg(-1,o):xo(o)}}if(128&n)return lu(e,t.next);if(32&n)return F_(t,e)()||xo(e[t.index]);{const r=Y1(e,t);return null!==r?Array.isArray(r)?r[0]:lu(Ya(e[15]),r):lu(e,t.next)}}return null}function Y1(e,t){return null!==t?e[15][5].projection[t.projection]:null}function bg(e,t){const n=10+e+1;if(n<t.length){const r=t[n],o=r[1].firstChild;if(null!==o)return lu(r,o)}return t[7]}function U_(e,t,n,r,o,i,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Ts(xo(a),r),n.flags|=2),!sg(n))if(8&l)U_(e,t,n.child,r,o,i,!1),md(t,e,o,a,i);else if(32&l){const c=F_(n,r);let d;for(;d=c();)md(t,e,o,d,i);md(t,e,o,a,i)}else 16&l?K1(e,t,r,n,o,i):md(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Cg(e,t,n,r,o,i){U_(n,r,e.firstChild,t,o,i,!1)}function K1(e,t,n,r,o,i){const s=n[15],l=s[5].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)md(t,e,o,l[c],i);else{let c=l;const d=s[3];Lf(r)&&(c.flags|=128),U_(e,t,c,d,o,i,!0)}}function X1(e,t,n,r,o){const i=bi(),s=2&r;try{ru(-1),s&&t.length>26&&V1(e,t,26,!1),Rr(s?2:0,o,n),n(r,o)}finally{ru(i),Rr(s?3:1,o,n)}}function Sg(e,t,n){(function rj(e,t,n){const r=n.directiveStart,o=n.directiveEnd;Sa(n)&&function G3(e,t,n){const r=po(t,e),o=function j1(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=R_(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}(n),i=e[10].rendererFactory,s=O_(e,yg(e,o,null,N_(n),r,t,null,i.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Yh(n,t);const i=n.initialInputs;for(let s=r;s<o;s++){const a=e.data[s],l=Ff(t,e,s,n);Ts(l,t),null!==i&&aj(0,s-r,l,a,0,i),Oi(a)&&(ci(n.index,t)[8]=Ff(t,e,s,n))}})(e,t,n),!(64&~n.flags)&&function oj(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function bL(){return _n.lFrame.currentDirectiveIndex}();try{ru(i);for(let a=r;a<o;a++){const l=e.data[a],c=t[a];Ny(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&ij(l,c)}}finally{ru(-1),Ny(s)}}(e,t,n)}function vd(e,t,n=po){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}let Q1=()=>null;function H_(e,t,n,r,o,i){Ig(e,t[1],t,n,r)?Sa(e)&&function J1(e,t){const n=ci(t,e);16&n[2]||(n[2]|=64)}(t,e.index):(3&e.type&&(n=function nj(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n)),function G_(e,t,n,r,o,i){if(3&e.type){const s=po(e,t);r=null!=i?i(r,e.value||"",n):r,o.setProperty(s,n,r)}}(e,t,n,r,o,i))}function ij(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function z_(e,t){const n=e.directiveRegistry;let r=null;if(n)for(let o=0;o<n.length;o++){const i=n[o];N1(t,i.selectors,!1)&&(r??=[],Oi(i)?r.unshift(i):r.push(i))}return r}function aj(e,t,n,r,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;a+=2)Wf(r,n,s[a],s[a+1])}function Eg(e,t,n,r,o){const i=26+n,s=t[1],a=o(s,t,e,r,n);t[i]=a,ie(e,!0);const l=2===e.type;return l?(B1(t[11],a,e),(0===function Ue(){return _n.lFrame.elementDepthCount}()||Ol(e))&&Ts(a,t),function lo(){_n.lFrame.elementDepthCount++}()):Ts(a,t),Hh()&&(!l||!sg(e))&&V_(s,t,a,e),e}function Dg(e){let t=e;return ct()?Xt():(t=t.parent,ie(t,!1)),t}function Ig(e,t,n,r,o){const i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r];let a=!1;if(s)for(let l=0;l<s.length;l+=2){const c=s[l];Wf(t.data[c],n[c],s[l+1],o),a=!0}if(i)for(const l of i)Wf(t.data[l],n[l],r,o),a=!0;return a}function cj(e,t){const n=ci(t,e),r=n[1];!function uj(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[0];null!==o&&null===n[6]&&(n[6]=null),Rr(18),Tg(r,n,n[8]),Rr(19,n[8])}function Tg(e,t,n){Fy(t);try{const r=e.viewQuery;null!==r&&C_(1,r,n);const o=e.template;null!==o&&X1(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[18]?.finishViewCreation(e),e.staticContentQueries&&a1(e,t),e.staticViewQueries&&C_(2,e.viewQuery,n);const i=e.components;null!==i&&function dj(e,t){for(let n=0;n<t.length;n++)cj(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ly()}}function yd(e,t,n,r){const o=T(null);try{const i=t.tView,l=yg(e,i,n,4096&e[2]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[16]=e[t.index];const d=e[18];return null!==d&&(l[18]=d.createEmbeddedView(i)),Tg(i,l,n),l}finally{T(o)}}function cu(e,t){return!t||null===t.firstChild||Lf(e)}function Zf(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=t[n.index];null!==i&&r.push(xo(i)),li(i)&&pj(i,r);const s=n.type;if(8&s)Zf(e,t,n.child,r);else if(32&s){const a=F_(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Y1(t,n);if(Array.isArray(a))r.push(...a);else{const l=Ya(t[15]);Zf(l[1],l,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function pj(e,t){for(let n=10;n<e.length;n++){const r=e[n],o=r[1].firstChild;null!==o&&Zf(r[1],r,o,t)}e[7]!==e[0]&&t.push(e[7])}function rT(e){if(null!==e[25]){for(const t of e[25])t.impl.addSequence(t);e[25].length=0}}let oT=[];const vj={...Q,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{dr(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},_j={...Q,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Ya(e.lView);for(;t&&!iT(t[1]);)t=Ya(t);t&&Fh(t)},consumerOnSignalRead(){this.lView[24]=this}};function iT(e){return 2!==e.type}function sT(e){if(null===e[23])return;let t=!0;for(;t;){let n=!1;for(const r of e[23])r.dirty&&(n=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(8192&e[2])}}function Ag(e,t=0){const r=e[10].rendererFactory;r.begin?.();try{!function Cj(e,t){const n=$l();try{Bl(!0),q_(e,t);let r=0;for(;_c(e);){if(100===r)throw new Le(103,!1);r++,q_(e,1)}}finally{Bl(n)}}(e,t)}finally{r.end?.()}}function aT(e,t,n,r){if(wa(t))return;const o=t[2];Fy(t);let a=!0,l=null,c=null;iT(e)?(c=function hj(e){return e[24]??function gj(e){const t=oT.pop()??Object.create(vj);return t.lView=e,t}(e)}(t),l=ve(c)):null===function se(){return P}()?(a=!1,c=function yj(e){const t=e[24]??Object.create(_j);return t.lView=e,t}(t),l=ve(c)):t[24]&&(B(t[24]),t[24]=null);try{Ll(t),function Mf(e){return _n.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&X1(e,t,n,2,r);const d=!(3&~o);if(d){const C=e.preOrderCheckHooks;null!==C&&Wh(t,C,null)}else{const C=e.preOrderHooks;null!==C&&qh(t,C,0,null),Wy(t,0)}if(function wj(e){for(let t=II(e);null!==t;t=TI(t)){if(!(2&t[2]))continue;const n=t[9];for(let r=0;r<n.length;r++)Fh(n[r])}}(t),sT(t),lT(t,0),null!==e.contentQueries&&a1(e,t),d){const C=e.contentCheckHooks;null!==C&&Wh(t,C)}else{const C=e.contentHooks;null!==C&&qh(t,C,1),Wy(t,1)}!function Dj(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)ru(~o);else{const i=o,s=n[++r],a=n[++r];_L(s,i);const l=t[i];Rr(24,l),a(2,l),Rr(25,l)}}}finally{ru(-1)}}(e,t);const h=e.components;null!==h&&uT(t,h,0);const v=e.viewQuery;if(null!==v&&C_(2,v,r),d){const C=e.viewCheckHooks;null!==C&&Wh(t,C)}else{const C=e.viewHooks;null!==C&&qh(t,C,2),Wy(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[22]){for(const C of t[22])C();t[22]=null}rT(t),t[2]&=-73}catch(d){throw dr(t),d}finally{null!==c&&(ue(c,l),a&&function mj(e){e.lView[24]!==e&&(e.lView=null,oT.push(e))}(c)),Ly()}}function lT(e,t){for(let n=II(e);null!==n;n=TI(n))for(let r=10;r<n.length;r++)cT(n[r],t)}function Ej(e,t,n){Rr(18);const r=ci(t,e);cT(r,n),Rr(19,r[8])}function cT(e,t){Tf(e)&&q_(e,t)}function q_(e,t){const r=e[1],o=e[2],i=e[24];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!Ie(i)),s||=!1,i&&(i.dirty=!1),e[2]&=-9217,s)aT(r,e,r.template,e[8]);else if(8192&o){const a=T(null);try{sT(e),lT(e,1);const l=r.components;null!==l&&uT(e,l,1),rT(e)}finally{T(a)}}}function uT(e,t,n){for(let r=0;r<t.length;r++)Ej(e,t[r],n)}function _d(e,t){const n=$l()?64:1088;for(e[10].changeDetectionScheduler?.notify(t);e;){e[2]|=n;const r=Ya(e);if(qa(e)&&!r)return e;e=r}return null}function dT(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function bd(e,t,n,r=!0){const o=t[1];if(function Ij(e,t,n,r){const o=10+r,i=n.length;r>0&&(n[o-1][4]=t),r<i-10?(t[4]=n[o],X(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[16];null!==s&&n!==s&&pT(s,t);const a=t[18];null!==a&&a.insertView(e),Af(t),t[2]|=128}(o,t,e,n),r){const s=bg(n,e),a=t[11],l=a.parentNode(e[7]);null!==l&&function W3(e,t,n,r,o,i){r[0]=o,r[5]=t,Cg(e,r,n,1,o,i)}(o,e[5],a,t,l,s)}const i=t[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function Yf(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[16];null!==o&&o!==e&&L_(o,r),t>0&&(e[n-1][4]=r[4]);const i=te(e,10+t);!function U1(e,t){H1(e,t),t[0]=null,t[5]=null}(r[1],r);const s=i[18];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function pT(e,t){const n=e[9],r=t[3];(qr(r)||t[15]!==r[3][15])&&(e[2]|=2),null===n?e[9]=[t]:n.push(t)}class Kf{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){const t=this._lView,n=t[1];return Zf(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return wa(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(li(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Yf(t,r),te(n,r))}this._attachedToViewContainer=!1}qf(this._lView[1],this._lView)}onDestroy(t){Ds(this._lView,t)}markForCheck(){_d(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Af(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Ag(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=qa(this._lView),n=this._lView[16];null!==n&&!t&&L_(n,this._lView),H1(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=t;const n=qa(this._lView),r=this._lView[16];null!==r&&!n&&pT(r,this._lView),Af(this._lView)}}let Ja=(()=>class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Tj;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const i=yd(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Kf(i)}})();function Tj(){return Mg(Pt(),De())}function Mg(e,t){return 4&e.type?new Ja(t,e,cd(e,t)):null}function uu(e,t,n,r,o){let i=e.data[t];if(null===i)i=function Q_(e,t,n,r,o){const i=u(),s=ct(),l=e.data[t]=function Fj(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return Qo()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return function Pj(e,t,n,r){null===e.firstChild&&(e.firstChild=t),null!==n&&(r?null==n.child&&null!==t.parent&&(n.child=t):null===n.next&&(n.next=t,t.prev=n))}(e,l,i,s),l}(e,t,n,r,o),function Ry(){return _n.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function I(){const e=_n.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return ie(i,!0),i}let yV=class{},$T=class{};class _V{resolveComponentFactory(t){throw new Le(917,!1)}}let Lg=class{static NULL=new _V};class ib{}let zl=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function bV(){const e=De(),n=ci(Pt().index,e);return(qr(n)?n:e)[11]}()})(),CV=(()=>{class e{static \u0275prov=et({token:e,providedIn:"root",factory:()=>null})}return e})();const ab={};class Sd{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const o=this.injector.get(t,ab,r);return o!==ab||n===ab?o:this.parentInjector.get(t,n,r)}}function Bg(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=xi(o,a):2==i&&(r=xi(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function y(e,t=0){const n=De();return null===n?oe(e,t):sI(Pt(),n,jt(e),t)}function VT(e,t,n,r,o){const i=null===r?null:{"":-1},s=o(e,n);if(null!==s){let a=s,l=null,c=null;for(const d of s)if(null!==d.resolveHostDirectives){[a,l,c]=d.resolveHostDirectives(s);break}!function TV(e,t,n,r,o,i,s){const a=r.length;let l=!1;for(let v=0;v<a;v++){const C=r[v];!l&&Oi(C)&&(l=!0,IV(e,n,v)),Xy(Yh(n,t),e,C.type)}!function NV(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,a);for(let v=0;v<a;v++){const C=r[v];C.providersResolver&&C.providersResolver(C)}let c=!1,d=!1,h=zf(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let v=0;v<a;v++){const C=r[v];if(n.mergedAttrs=ld(n.mergedAttrs,C.hostAttrs),MV(e,n,t,h,C),RV(h,C,o),null!==s&&s.has(C)){const[G,de]=s.get(C);n.directiveToIndex.set(C.type,[h,G+n.directiveStart,de+n.directiveStart])}else(null===i||!i.has(C))&&n.directiveToIndex.set(C.type,h);null!==C.contentQueries&&(n.flags|=4),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(n.flags|=64);const M=C.type.prototype;!c&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(M.ngOnChanges||M.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),h++}!function AV(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){const o=e.data[r];if(null!==n&&n.has(o)){const i=n.get(o);HT(0,t,i,r),HT(1,t,i,r),zT(t,r,!0)}else UT(0,t,o,r),UT(1,t,o,r),zT(t,r,!1)}}(e,n,i)}(e,t,n,a,i,l,c)}null!==i&&null!==r&&function DV(e,t,n){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new Le(-301,!1);r.push(t[o],i)}}(n,r,i)}function IV(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function UT(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){let s;s=0===e?t.inputs??={}:t.outputs??={},s[i]??=[],s[i].push(r),GT(t,i)}}function HT(e,t,n,r){const o=0===e?n.inputs:n.outputs;for(const i in o)if(o.hasOwnProperty(i)){const s=o[i];let a;a=0===e?t.hostDirectiveInputs??={}:t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),GT(t,s)}}function GT(e,t){"class"===t?e.flags|=8:"style"===t&&(e.flags|=16)}function zT(e,t,n){const{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(null===r||!n&&null===o||n&&null===i||M_(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;if(!n&&o.hasOwnProperty(l)){const c=o[l];for(const d of c)if(d===t){s??=[],s.push(l,r[a+1]);break}}else if(n&&i.hasOwnProperty(l)){const c=i[l];for(let d=0;d<c.length;d+=2)if(c[d]===t){s??=[],s.push(c[d+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function MV(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=p(o.type)),s=new Nf(i,Oi(o),y,null);e.blueprint[r]=s,n[r]=s,function xV(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function kV(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(e,t,r,zf(e,n,o.hostVars,Ar),o)}function RV(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Oi(t)&&(n[""]=e)}}function lb(e,t,n,r,o,i,s,a){const l=t[1],c=l.consts,h=uu(l,e,n,r,ui(c,s));return i&&VT(l,t,h,ui(c,a),o),h.mergedAttrs=ld(h.mergedAttrs,h.attrs),null!==h.attrs&&Bg(h,h.attrs,!1),null!==h.mergedAttrs&&Bg(h,h.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,h),h}function cb(e,t){ZD(e,t),Cf(t)&&e.queries.elementEnd(t)}function jg(e){return!!function ub(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function yl(e,t,n){return e[t]=n}function no(e,t,n){return n!==Ar&&(!Object.is(e[t],n)&&(e[t]=n,!0))}function pu(e,t,n,r){const o=no(e,t,n);return no(e,t+1,r)||o}function ap(e,t,n){return function r(o){_d(Sa(e)?ci(e.index,t):t,5);const s=t[8];let a=qT(t,s,n,o),l=r.__ngNextListenerFn__;for(;l;)a=qT(t,s,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function qT(e,t,n,r){const o=T(null);try{return Rr(6,t,n),!1!==n(r)}catch(i){return function W_(e,t){const n=e[9];if(!n)return;let r;try{r=n.get(Xa,null)}catch{r=null}r?.(t)}(e,i),!1}finally{Rr(7,t,n),T(o)}}function ZT(e,t,n,r,o,i,s,a){const l=Ol(e);let c=!1,d=null;if(!r&&l&&(d=function LV(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=t[7],l=o[i+2];return a&&a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(t,n,i,e.index)),null!==d)(d.__ngLastListenerFn__||d).__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0;else{const h=po(e,n),v=r?r(h):h,C=o.listen(v,i,a);YT(r?G=>r(xo(G[e.index])):e.index,t,n,i,a,C,!1)}return c}function YT(e,t,n,r,o,i,s){const a=t.firstCreatePass?Bh(t):null,l=$h(n),c=l.length;l.push(o,i),a&&a.push(r,e,c,(c+1)*(s?-1:1))}function Ug(e,t,n,r,o,i){const a=t[1],h=t[n][a.data[n].outputs[r]].subscribe(i);YT(e.index,a,t,o,i,h,!0)}const Ac=Symbol("BINDING");class KT extends Lg{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Tt(t);return new lp(n,this.ngModule)}}class lp extends $T{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function zV(e){return Object.keys(e).map(t=>{const[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:0!==(r&_g.SignalBased)};return o&&(i.transform=o),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function WV(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function B3(e){return e.map($3).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o,i,s){Rr(22);const a=T(null);try{const l=this.componentDef,c=function XV(e,t,n,r){const o=e?["ng-version","20.2.4"]:function j3(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Qa(o))break;o=i}r++}return n.length&&t.push(1,...n),t}(t.selectors[0]);let i=null,s=null,a=0;if(n)for(const d of n)a+=d[Ac].requiredVars,d.create&&(d.targetIdx=0,(i??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){const h=r[d];if("function"!=typeof h)for(const v of h.bindings){a+=v[Ac].requiredVars;const C=d+1;v.create&&(v.targetIdx=C,(i??=[]).push(v)),v.update&&(v.targetIdx=C,(s??=[]).push(v))}}const l=[t];if(r)for(const d of r){const v=en("function"==typeof d?d:d.type);l.push(v)}return R_(0,null,function QV(e,t){return e||t?n=>{if(1&n&&e)for(const r of e)r.create();if(2&n&&t)for(const r of t)r.update()}:null}(i,s),1,a,l,null,null,null,[o],null)}(r,l,s,i),d=function qV(e,t,n){let r=t instanceof sn?t:t?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new Sd(n,r):n}(l,o||this.ngModule,t),h=function ZV(e){const t=e.get(ib,null);if(null===t)throw new Le(407,!1);return{rendererFactory:t,sanitizer:e.get(CV,null),changeDetectionScheduler:e.get(nd,null),ngReflect:!1}}(d),v=h.rendererFactory.createRenderer(null,l),C=r?function J3(e,t,n,r){const i=r.get(uB,!1)||n===Hl.ShadowDom,s=e.selectRootElement(t,i);return function ej(e){Q1(e)}(s),s}(v,r,l.encapsulation,d):function YV(e,t){const n=function KV(e){return(e.selectors[0][0]||"div").toLowerCase()}(e);return vg(t,n,"svg"===n?"svg":"math"===n?"math":null)}(l,v),M=s?.some(XT)||i?.some(he=>"function"!=typeof he&&he.bindings.some(XT)),G=yg(null,c,null,512|N_(l),null,null,h,v,d,null,null);G[26]=C,Fy(G);let de=null;try{const he=lb(26,G,2,"#host",()=>c.directiveRegistry,!0,0);C&&(B1(v,C,he),Ts(C,G)),Sg(c,G,he),S_(c,he,G),cb(c,he),void 0!==n&&function eU(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i&&i.length?Array.from(i):null)}}(he,this.ngContentSelectors,n),de=ci(he.index,G),G[8]=de[8],Tg(c,G,null)}catch(he){throw null!==de&&t_(de),t_(G),he}finally{Rr(23),Ly()}return new JV(this.componentType,G,!!M)}finally{T(a)}}}function XT(e){const t=e[Ac].kind;return"input"===t||"twoWay"===t}class JV extends yV{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Fl(n[1],26),this.location=cd(this._tNode,n),this.instance=ci(this._tNode.index,n)[8],this.hostView=this.changeDetectorRef=new Kf(n,void 0),this.componentType=t}setInput(t,n){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Ig(r,o[1],o,t,n),this.previousInputValues.set(t,n),_d(ci(r.index,o),1)}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}let Qi=(()=>class e{static __NG_ELEMENT_ID__=tU})();function tU(){return eA(Pt(),De())}const nU=Qi,QT=class extends nU{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return cd(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){const t=Kh(this._hostTNode,this._hostLView);if(Zy(t)){const n=Pf(t,this._hostLView),r=Of(t);return new Co(n[1].data[r+8],n)}return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=JT(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(a,o,cu(this._hostTNode,null)),a}createComponent(t,n,r,o,i,s,a){const l=t&&!function Rf(e){return"function"==typeof e}(t);let c;if(l)c=n;else{const de=n||{};c=de.index,r=de.injector,o=de.projectableNodes,i=de.environmentInjector||de.ngModuleRef,s=de.directives,a=de.bindings}const d=l?t:new lp(Tt(t)),h=r||this.parentInjector;if(!i&&null==d.ngModule){const he=(l?h:this.parentInjector).get(sn,null);he&&(i=he)}Tt(d.componentType??{});const G=d.create(h,o,null,i,s,a);return this.insertImpl(G.hostView,c,cu(this._hostTNode,null)),G}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function ky(e){return li(e[3])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[3],c=new QT(l,l[5],l[3]);c.detach(c.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;return bd(s,o,i,r),t.attachToViewContainerRef(),X(db(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=JT(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Yf(this._lContainer,n);r&&(te(db(this._lContainer),n),qf(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=Yf(this._lContainer,n);return r&&null!=te(db(this._lContainer),n)?new Kf(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function JT(e){return e[8]}function db(e){return e[8]||(e[8]=[])}function eA(e,t){let n;const r=t[e.index];return li(r)?n=r:(n=dT(r,t,null,e),t[e.index]=n,O_(t,n)),tA(n,t,e,r),new QT(n,e,t)}let tA=function rA(e,t,n,r){if(e[7])return;let o;o=8&n.type?xo(r):function rU(e,t){const n=e[11],r=n.createComment(""),o=po(t,e),i=n.parentNode(o);return au(n,i,r,n.nextSibling(o),!1),r}(t,n),e[7]=o};class pb{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new pb(this.queryList)}setDirty(){this.queryList.setDirty()}}class hb{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const s=n.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new hb(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==_b(t,n).matches&&this.queries[n].setDirty()}}class oA{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function uU(e){return e.split(",").map(t=>t.trim())}(t):t}}class gb{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new gb(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class mb{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new mb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,sU(n,i)),this.matchTNodeWithReadOption(t,n,Xh(n,t,i,!1,!1))}else r===Ja?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Xh(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===ot||o===Qi||o===Ja&&4&n.type)this.addMatch(n.index,-2);else{const i=Xh(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function sU(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function lU(e,t,n,r){return-1===n?function aU(e,t){return 11&e.type?cd(e,t):4&e.type?Mg(e,t):null}(t,e):-2===n?function cU(e,t,n){return n===ot?cd(t,e):n===Ja?Mg(t,e):n===Qi?eA(t,e):void 0}(e,t,r):Ff(e,e[1],n,t)}function iA(e,t,n,r){const o=t[18].queries[r];if(null===o.matches){const i=e.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:lU(t,i[c],s[l+1],n.metadata.read))}o.matches=a}return o.matches}function vb(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const s=iA(e,t,o,n);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)r.push(s[a/2]);else{const c=i[a+1],d=t[-l];for(let h=10;h<d.length;h++){const v=d[h];v[16]===v[3]&&vb(v[1],v,c,r)}if(null!==d[9]){const h=d[9];for(let v=0;v<h.length;v++){const C=h[v];vb(C[1],C,c,r)}}}}}return r}function sA(e,t,n){const r=new M$(!(4&~n));return function jh(e,t,n,r){const o=$h(t);o.push(n),e.firstCreatePass&&Bh(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[18]??=new hb).queries.push(new pb(r))-1}function cA(e,t,n){null===e.queries&&(e.queries=new gb),e.queries.track(new mb(t,n))}function _b(e,t){return e.queries.getByIndex(t)}function uA(e,t){const n=e[1],r=_b(n,t);return r.crossesNgTemplate?vb(n,e,t,[]):iA(n,e,r,t)}const gA=new Set;function wi(e){gA.has(e)||(gA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let hu=class{},mA=class{};class Sb extends hu{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new KT(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;const i=Mn(t);this._bootstrapComponents=vl(i.bootstrap),this._r3Injector=ID(t,n,[{provide:hu,useValue:this},{provide:Lg,useValue:this.componentFactoryResolver},...r],Lr(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vA extends mA{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Sb(this.moduleType,t,[])}}class wU extends hu{injector;componentFactoryResolver=new KT(this);instance=null;constructor(t){super();const n=new g([...t.providers,{provide:hu,useValue:this},{provide:Lg,useValue:this.componentFactoryResolver}],t.parent||ir(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Hg(e,t,n=null){return new wU({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let EU=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=ce(0,n.type),o=r.length>0?Hg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=et({token:e,providedIn:"environment",factory:()=>new e(oe(sn))})}return e})();function Je(e){return Vl(()=>{const t=_A(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Jh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(EU).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Hl.Emulated,styles:e.styles||ht,_:null,schemas:e.schemas||null,tView:null,id:""};t.standalone&&wi("NgStandalone"),bA(n);const r=e.dependencies;return n.directiveDefs=Gg(r,yA),n.pipeDefs=Gg(r,xn),n.id=function AU(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function yA(e){return Tt(e)||en(e)}function Bo(e){return Vl(()=>({type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function DU(e,t){if(null==e)return At;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,s,a,l;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,l=o[3]||null):(i=o,s=o,a=_g.None,l=null),n[i]=[r,a,l],t[i]=s}return n}function IU(e){if(null==e)return At;const t={};for(const n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Vt(e){return Vl(()=>{const t=_A(e);return bA(t),t})}function di(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function _A(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||At,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:DU(e.inputs,t),outputs:IU(e.outputs),debugInfo:null}}function bA(e){e.features?.forEach(t=>t(e))}function Gg(e,t){return e?()=>{const n="function"==typeof e?e():e,r=[];for(const o of n){const i=t(o);null!==i&&r.push(i)}return r}:null}function Fn(e){let t=function CA(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Oi(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Le(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const s=e;s.inputs=wb(e.inputs),s.declaredInputs=wb(e.declaredInputs),s.outputs=wb(e.outputs);const a=o.hostBindings;a&&NU(e,a);const l=o.viewQuery,c=o.contentQueries;if(l&&kU(e,l),c&&RU(e,c),MU(e,o),ii(e.outputs,o.outputs),Oi(o)&&o.data.animation){const d=e.data;d.animation=(d.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===Fn&&(n=!1)}}t=Object.getPrototypeOf(t)}!function xU(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=ld(o.hostAttrs,n=ld(n,o.hostAttrs))}}(r)}function MU(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function wb(e){return e===At?{}:e===ht?[]:e}function kU(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function RU(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function NU(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function IA(e,t,n,r,o,i,s,a){if(n.firstCreatePass){e.mergedAttrs=ld(e.mergedAttrs,e.attrs);const d=e.tView=R_(2,e,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);null!==n.queries&&(n.queries.template(n,e),d.queries=n.queries.embeddedTView(e))}a&&(e.flags|=a),ie(e,!1);const l=AA(n,t,e,r);Hh()&&V_(n,t,l,e),Ts(l,t);const c=dT(l,t,l,e);t[r+26]=c,O_(t,c)}function gu(e,t,n,r,o,i,s,a,l,c,d){const h=n+26;let v;if(t.firstCreatePass){if(v=uu(t,h,4,s||null,a||null),null!=c){const C=ui(t.consts,c);v.localNames=[];for(let M=0;M<C.length;M+=2)v.localNames.push(C[M],-1)}}else v=t.data[h];return IA(v,e,t,n,r,o,i,l),null!=c&&vd(e,v,d),v}function nn(e,t,n,r,o,i,s,a){const l=De(),c=Yt();return function jU(e,t,n,r,o,i,s,a,l,c,d){const h=n+26;let v;t.firstCreatePass?(v=uu(t,h,4,s||null,a||null),_r()&&VT(t,e,v,ui(t.consts,c),z_),ZD(t,v)):v=t.data[h],IA(v,e,t,n,r,o,i,l),Ol(v)&&Sg(t,e,v),null!=c&&vd(e,v,d)}(l,c,e,t,n,r,o,ui(c.consts,i),void 0,s,a),nn}let AA=function MA(e,t,n,r){return xf(!0),t[11].createComment("")};var Db=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Db||{});const fp=new it(""),OA=!1,mn=class WU extends $n{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,_a()&&(this.destroyRef=Be(Qs,{optional:!0})??void 0,this.pendingTasks=Be(bc,{optional:!0})??void 0)}emit(t){const n=T(null);try{super.next(t)}finally{T(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof dt&&t.add(a),a}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{void 0!==r&&this.pendingTasks?.remove(r)}})}}};function PA(e){let t,n;function r(){e=kf;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function FA(e){return queueMicrotask(()=>e()),()=>{e=kf}}const Ib="isAngularZone",Zg=Ib+"_ID";let qU=0;class We{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new mn(!1);onMicrotaskEmpty=new mn(!1);onStable=new mn(!1);onError=new mn(!1);constructor(t){const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=OA}=t;if(typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function KU(e){const t=()=>{!function YU(e){function t(){PA(()=>{e.callbackScheduled=!1,Ab(e),e.isCheckStableRunning=!0,Tb(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Ab(e))}(e)},n=qU++;e._inner=e._inner.fork({name:"angular",properties:{[Ib]:!0,[Zg]:n,[Zg+n]:!0},onInvokeTask:(r,o,i,s,a,l)=>{if(function XU(e){return BA(e,"__ignore_ng_zone__")}(l))return r.invokeTask(i,s,a,l);try{return LA(e),r.invokeTask(i,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),$A(e)}},onInvoke:(r,o,i,s,a,l,c)=>{try{return LA(e),r.invoke(i,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function QU(e){return BA(e,"__scheduler_tick__")}(l)&&t(),$A(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Ab(e),Tb(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Ib)}static assertInAngularZone(){if(!We.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new Le(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,ZU,kf,kf);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const ZU={};function Tb(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ab(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function LA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $A(e){e._nesting--,Tb(e)}class Mb{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new mn;onMicrotaskEmpty=new mn;onStable=new mn;onError=new mn;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function BA(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}let jA=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})();const VA=[0,1,2,3];let e4=(()=>{class e{ngZone=Be(We);scheduler=Be(nd);errorHandler=Be(td,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){Be(fp,{optional:!0})}execute(){const n=this.sequences.size>0;n&&Rr(16),this.executing=!0;for(const r of VA)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[r])(o.pipelinedValue),o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Rr(17)}register(n){const{view:r}=n;void 0!==r?((r[25]??=[]).push(n),dr(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Db.AFTER_NEXT_RENDER,n):n()}static \u0275prov=et({token:e,providedIn:"root",factory:()=>new e})}return e})();class UA{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const t=this.view?.[25];t&&(this.view[25]=t.filter(n=>n!==this))}}function xb(e,t){const n=t?.injector??Be(co);return wi("NgAfterNextRender"),function HA(e,t,n,r){const o=t.get(jA);o.impl??=t.get(e4);const i=t.get(fp,null,{optional:!0}),s=!0!==n?.manualCleanup?t.get(Qs):null,a=t.get(Vy,null,{optional:!0}),l=new UA(o.impl,function n4(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e),a?.view,r,s,i?.snapshot(null));return o.impl.register(l),l}(e,n,t,!0)}let QA=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const pM=new it(""),Jg=new it("");let Bb,Lb=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,r,o){this._ngZone=n,this.registry=r,_a()&&(this._destroyRef=Be(Qs,{optional:!0})??void 0),Bb||(function iH(e){Bb=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),r=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),r.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static \u0275fac=function(r){return new(r||e)(oe(We),oe($b),oe(Jg))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),$b=(()=>{class e{_applications=new Map;registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Bb?.findTestabilityInTree(this,n,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function gp(e){return!!e&&"function"==typeof e.then}function hM(e){return!!e&&"function"==typeof e.subscribe}const jb=new it("");function Vb(e){return Zt([{provide:jb,multi:!0,useValue:e}])}let gM=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=Be(jb,{optional:!0})??[];injector=Be(co);constructor(){}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=bo(this.injector,o);if(gp(i))n.push(i);else if(hM(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const mM=new it("");function vM(e,t){return Array.isArray(t)?t.reduce(vM,e):{...e,...t}}let ks=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=Be(Xa);afterRenderManager=Be(jA);zonelessEnabled=Be(xD);rootEffectScheduler=Be(ND);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new $n;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=Be(bc);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Zn(n=>!n))}constructor(){Be(fp,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=Be(sn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=co.NULL){return this._injector.get(We).run(()=>{Rr(10);const s=n instanceof $T;if(!this._injector.get(gM).done)throw new Le(405,"");let l;l=s?n:this._injector.get(Lg).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const c=function aH(e){return e.isBoundToModule}(l)?void 0:this._injector.get(hu),h=l.create(o,[],r||l.selector,c),v=h.location.nativeElement,C=h.injector.get(pM,null);return C?.registerApplication(v),h.onDestroy(()=>{this.detachView(h.hostView),em(this.components,h),C?.unregisterApplication(v)}),this._loadComponent(h),Rr(11,h),h})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Rr(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Db.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Le(101,!1);const n=T(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,T(n),this.afterTick.next(),Rr(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ib,null,{optional:!0}));let n=0;for(;0!==this.dirtyFlags&&n++<10;)Rr(14),this.synchronizeOnce(),Rr(15)}synchronizeOnce(){16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews)(r||_c(o))&&(Ag(o,r&&!this.zonelessEnabled?0:1),n=!0);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>_c(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;em(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(mM,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>em(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function em(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ea(e,t,n,r){const o=De();return no(o,Li(),t)&&(Yt(),function sj(e,t,n,r,o,i){const s=po(e,t);!function wg(e,t,n,r,o,i,s){if(null==i)e.removeAttribute(t,o,n);else{const a=null==s?Wt(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}(t[11],s,i,e.value,n,r,o)}(Ka(),o,e,t,n,r)),ea}const TM=new it("",{providedIn:"root",factory:()=>!1}),GH=new it("",{providedIn:"root",factory:()=>zH}),zH=4e3;function Jb(e,t,n,r,o,i,s,a){wi("NgControlFlow");const l=De(),c=Yt();return gu(l,c,e,t,n,r,o,ui(c.consts,i),512,s,a),Jb}function BM(e,t){wi("NgControlFlow");const n=De(),r=Li(),o=n[r]!==Ar?n[r]:-1,i=-1!==o?sm(n,26+o):void 0;if(no(n,r,e)){const a=T(null);try{if(void 0!==i&&function Z_(e,t){const n=Yf(e,t);return void 0!==n&&qf(n[1],n),n}(i,0),-1!==e){const l=26+e,c=sm(n,l),d=function eC(e,t){return Fl(e,t)}(n[1],l),h=null;bd(c,yd(n,d,t,{dehydratedView:h}),0,cu(d,h))}}finally{T(a)}}else if(void 0!==i){const a=function fT(e,t){const n=10+t;if(n<e.length)return e[n]}(i,0);void 0!==a&&(a[8]=t)}}function sm(e,t){return e[t]}function pe(e,t,n){const r=De();return no(r,Li(),t)&&(Yt(),H_(Ka(),r,e,t,r[11],n)),pe}function tC(e,t,n,r,o){Ig(t,e,n,o?"class":"style",r)}function j(e,t,n,r){const o=De(),i=o[1],s=e+26,a=i.firstCreatePass?lb(s,o,2,t,z_,_r(),n,r):i.data[s];if(Eg(a,o,e,t,nC),Ol(a)){const l=o[1];Sg(l,o,a),S_(l,a,o)}return null!=r&&vd(o,a),j}function q(){const e=Yt(),n=Dg(Pt());return e.firstCreatePass&&cb(e,n),_i(n)&&Br(),Wn(),null!=n.classesWithoutHost&&function c$(e){return!!(8&e.flags)}(n)&&tC(e,n,De(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function u$(e){return!!(16&e.flags)}(n)&&tC(e,n,De(),n.stylesWithoutHost,!1),q}function nt(e,t,n,r){return j(e,t,n,r),q(),nt}function am(e,t,n,r){const o=De(),i=o[1],s=e+26,a=i.firstCreatePass?function WT(e,t,n,r,o,i){const s=t.consts,l=uu(t,e,n,r,ui(s,o));if(l.mergedAttrs=ld(l.mergedAttrs,l.attrs),null!=i){const c=ui(s,i);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return null!==l.attrs&&Bg(l,l.attrs,!1),null!==l.mergedAttrs&&Bg(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,2,t,n,r):i.data[s];return Eg(a,o,e,t,nC),null!=r&&vd(o,a),am}function lm(){return _i(Dg(Pt()))&&Br(),Wn(),lm}typeof document<"u"&&document;let nC=(e,t,n,r,o)=>(xf(!0),vg(t[11],r,function TL(){return _n.lFrame.currentNamespace}()));function Rc(e,t,n){const r=De(),o=r[1],i=e+26,s=o.firstCreatePass?lb(i,r,8,"ng-container",z_,_r(),t,n):o.data[i];if(Eg(s,r,e,"ng-container",oC),Ol(s)){const a=r[1];Sg(a,r,s),S_(a,s,r)}return null!=n&&vd(r,s),Rc}function Wl(){const e=Yt(),n=Dg(Pt());return e.firstCreatePass&&cb(e,n),Wl}let oC=(e,t,n,r,o)=>(xf(!0),k_(t[11],""));function Nn(){return De()}const um="en-US";let qM=um;function He(e,t,n){const r=De(),o=Yt(),i=Pt();return function lC(e,t,n,r,o,i,s){let a=!0,l=null;if((3&r.type||s)&&(l??=ap(r,t,i),ZT(r,e,t,s,n,o,i,l)&&(a=!1)),a){const c=r.outputs?.[o],d=r.hostDirectiveOutputs?.[o];if(d&&d.length)for(let h=0;h<d.length;h+=2){const v=d[h],C=d[h+1];l??=ap(r,t,i),Ug(r,t,v,C,o,l)}if(c&&c.length)for(const h of c)l??=ap(r,t,i),Ug(r,t,h,o,o,l)}}(o,r,r[11],i,e,t,n),He}function aC(e,t,n){const r=De(),o=Yt(),i=Pt();return(3&i.type||n)&&ZT(i,o,r,n,r[11],e,t,ap(i,r,t)),aC}function vt(e=1){return function SL(e){return(_n.lFrame.contextLView=function Lh(e,t){for(;e>0;)t=t[14],e--;return t}(e,_n.lFrame.contextLView))[8]}(e)}function l6(e,t){let n=null;const r=function O3(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===r?N1(e,i,!0):L3(r,i))return o}else n=o}return n}function bt(e){const t=De()[15][5];if(!t.projection){const r=t.projection=function Ve(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),o=r.slice();let i=t.child;for(;null!==i;){if(128!==i.type){const s=e?l6(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function yt(e,t=0,n,r,o,i){const s=De(),a=Yt(),l=r?e+1:null;null!==l&&gu(s,a,l,r,o,i,null,n);const c=uu(a,26+e,16,null,n||null);null===c.projection&&(c.projection=t),Xt();const h=!s[6]||Qo();null===s[15][5].projection[c.projection]&&null!==l?function c6(e,t,n){const r=26+n,o=t.data[r],i=e[r];bd(i,yd(e,o,void 0,{dehydratedView:null}),0,cu(o,null))}(s,a,l):h&&!sg(c)&&function K3(e,t,n){K1(t[11],0,t,n,B_(e,n,t),z1(n.parent||t[5],n,t))}(a,s,c)}function Su(e,t,n,r){!function lA(e,t,n,r){const o=Yt();if(o.firstCreatePass){const i=Pt();cA(o,new oA(t,n,r),i.index),function dU(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return sA(o,De(),n)}(e,t,n,r)}function ql(e,t,n){!function aA(e,t,n){const r=Yt();return r.firstCreatePass&&(cA(r,new oA(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),sA(r,De(),t)}(e,t,n)}function es(e){const t=De(),n=Yt(),r=Py();Uh(r+1);const o=_b(n,r);if(e.dirty&&function Ph(e){return!(4&~e[2])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=uA(t,r);e.reset(i,gI),e.notifyOnChanges()}return!0}return!1}function ts(){return function yb(e,t){return e[18].queries[t].queryList}(De(),Py())}function ta(e){return Za(function kn(){return _n.lFrame.contextLView}(),26+e)}function hm(e,t){return e<<17|t<<2}function wu(e){return e>>17&32767}function cC(e){return 2|e}function Od(e){return(131068&e)>>2}function uC(e,t){return-131069&e|t<<2}function dC(e){return 1|e}function fx(e,t,n,r){const o=e[n+1],i=null===t;let s=r?wu(o):Od(o),a=!1;for(;0!==s&&(!1===a||i);){const c=e[s+1];y6(e[s],t)&&(a=!0,e[s+1]=r?dC(c):cC(c)),s=r?wu(c):Od(c)}a&&(e[n+1]=r?cC(o):dC(o))}function y6(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&rt(e,t)>=0}function Eu(e,t,n){return _x(e,t,n,!1),Eu}function Ta(e,t){return _x(e,t,null,!0),Ta}function _x(e,t,n,r){const o=De(),i=Yt(),s=Ea(2);i.firstUpdatePass&&function Sx(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[bi()],s=function Cx(e,t){return t>=e.expandoStartIndex}(e,n);(function Ix(e,t){return!!(e.flags&(t?8:16))})(i,r)&&null===t&&!s&&(t=!1),t=function M6(e,t,n,r){const o=function Oy(e){const t=_n.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Sp(n=fC(null,e,t,n,r),t.attrs,r),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(n=fC(o,e,t,n,r),null===i){let l=function x6(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Od(r))return e[wu(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=fC(null,e,t,l[1],r),l=Sp(l,t.attrs,r),function k6(e,t,n,r){e[wu(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else i=function R6(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Sp(r,e[i].hostAttrs,n);return Sp(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function m6(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=wu(s),l=Od(s);e[r]=n;let d,c=!1;if(Array.isArray(n)?(d=n[1],(null===d||rt(n,d)>0)&&(c=!0)):d=n,o)if(0!==l){const v=wu(e[a+1]);e[r+1]=hm(v,a),0!==v&&(e[v+1]=uC(e[v+1],r)),e[a+1]=function h6(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=hm(a,0),0!==a&&(e[a+1]=uC(e[a+1],r)),a=r;else e[r+1]=hm(l,0),0===a?a=r:e[l+1]=uC(e[l+1],r),l=r;c&&(e[r+1]=cC(e[r+1])),fx(e,d,r,!0),fx(e,d,r,!1),function v6(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&rt(i,t)>=0&&(n[r+1]=dC(n[r+1]))}(t,d,e,r,i),s=hm(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,n,s,r)}}(i,e,s,r),t!==Ar&&no(o,s,t)&&function Ex(e,t,n,r,o,i,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],d=function g6(e){return!(1&~e)}(c)?Dx(l,t,n,o,Od(c),s):void 0;gm(d)||(gm(i)||function p6(e){return!(2&~e)}(c)&&(i=Dx(l,null,n,o,a,s)),function Q3(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Ic.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ic.Important),e.setStyle(n,r,o,i))}}(r,s,Pl(bi(),n),o,i))}(i,i.data[bi()],o,o[11],e,o[s+1]=function F6(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Lr(Js(e)))),e}(t,n),r,s)}function fC(e,t,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=t[a],r=Sp(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Sp(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ge(e,s,!!n||t[++i]))}return void 0===e?null:e}function Dx(e,t,n,r,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],c=Array.isArray(l),d=c?l[1]:l,h=null===d;let v=n[o+1];v===Ar&&(v=h?ht:void 0);let C=h?Fe(v,r):d===r?v:void 0;if(c&&!gm(C)&&(C=Fe(l,r)),gm(C)&&(a=C,s))return a;const M=e[o+1];o=s?wu(M):Od(M)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=Fe(l,r))}return a}function gm(e){return void 0!==e}function Re(e,t=""){const n=De(),r=Yt(),o=e+26,i=r.firstCreatePass?uu(r,o,1,t,null):r.data[o],s=Tx(r,n,i,t,e);n[o]=s,Hh()&&V_(r,n,s,i),ie(i,!1)}let Tx=(e,t,n,r,o)=>(xf(!0),function x_(e,t){return e.createText(t)}(t[11],r));function Mx(e,t,n,r=""){return no(e,Li(),n)?t+Wt(n)+r:Ar}function kx(e,t,n,r,o,i,s,a=""){const c=function Vg(e,t,n,r,o){const i=pu(e,t,n,r);return no(e,t+2,o)||i}(e,Ki(),n,o,s);return Ea(3),c?t+Wt(n)+r+Wt(o)+i+Wt(s)+a:Ar}function Ns(e){return Di("",e),Ns}function Di(e,t,n){const r=De(),o=Mx(r,e,t,n);return o!==Ar&&Zl(r,bi(),o),Di}function wp(e,t,n,r,o){const i=De(),s=function xx(e,t,n,r,o,i=""){const a=pu(e,Ki(),n,o);return Ea(2),a?t+Wt(n)+r+Wt(o)+i:Ar}(i,e,t,n,r,o);return s!==Ar&&Zl(i,bi(),s),wp}function pC(e,t,n,r,o,i,s){const a=De(),l=kx(a,e,t,n,r,o,i,s);return l!==Ar&&Zl(a,bi(),l),pC}function Zl(e,t,n){const r=Pl(t,e);!function P1(e,t,n){e.setValue(t,n)}(e[11],r,n)}function hC(e,t,n=""){return Mx(De(),e,t,n)}function gC(e,t,n,r,o){if(e=jt(e),Array.isArray(e))for(let i=0;i<e.length;i++)gC(e[i],t,n,r,o);else{const i=Yt(),s=De(),a=Pt();let l=or(e)?e:jt(e.provide);const c=Gt(e),d=1048575&a.providerIndexes,h=a.directiveStart,v=a.providerIndexes>>20;if(or(e)||!e.multi){const C=new Nf(c,o,y,null),M=vC(l,t,o?d:d+v,h);-1===M?(Xy(Yh(a,s),i,l),mC(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(C),s.push(C)):(n[M]=C,s[M]=C)}else{const C=vC(l,t,d+v,h),M=vC(l,t,d,d+v),de=M>=0&&n[M];if(o&&!de||!o&&!(C>=0&&n[C])){Xy(Yh(a,s),i,l);const he=function J6(e,t,n,r,o){const s=new Nf(e,n,y,null);return s.multi=[],s.index=t,s.componentProviders=0,Zx(s,o,r&&!n),s}(o?Q6:X6,n.length,o,r,c);!o&&de&&(n[M].providerFactory=he),mC(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(he),s.push(he)}else mC(i,e,C>-1?C:M,Zx(n[o?M:C],c,!o&&r));!o&&r&&de&&n[M].componentProviders++}}}function mC(e,t,n,r){const o=or(t),i=function ur(e){return!!e.useClass}(t);if(o||i){const l=(i?jt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const d=c.indexOf(n);-1===d?c.push(n,[r,l]):c[d+1].push(r,l)}else c.push(n,l)}}}function Zx(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function vC(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function X6(e,t,n,r,o){return yC(this.multi,[])}function Q6(e,t,n,r,o){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,l=Ff(r,r[1],this.providerFactory.index,o);s=l.slice(0,a),yC(i,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],yC(i,s);return s}function yC(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function br(e,t=[]){return n=>{n.providersResolver=(r,o)=>function K6(e,t,n){const r=Yt();if(r.firstCreatePass){const o=Oi(e);gC(n,r.data,r.blueprint,o,!0),gC(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}function Qx(e,t,n,r,o,i){const s=t+n;return no(e,s,o)?yl(e,s+1,i?r.call(i,o):r(o)):function Ep(e,t){const n=e[t];return n===Ar?void 0:n}(e,s+1)}function Nc(e,t){const n=Yt();let r;const o=e+26;n.firstCreatePass?(r=function fz(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=p(r.type)),a=eo(y);try{const l=Zh(!1),c=i();return Zh(l),function ed(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,De(),o,c),c}finally{eo(a)}}function Oc(e,t,n){const r=e+26,o=De(),i=Za(o,r);return function Dp(e,t){return e[1].data[t].pure}(o,r)?Qx(o,Lo(),t,i.transform,n,i):i.transform(n)}class zz{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Wz=(()=>{class e{compileModuleSync(n){return new vA(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=vl(Mn(n).declarations).reduce((s,a)=>{const l=Tt(a);return l&&s.push(new lp(l)),s},[]);return new zz(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zz=(()=>{class e{zone=Be(We);changeDetectionScheduler=Be(nd);applicationRef=Be(ks);applicationErrorHandler=Be(Xa);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bk({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new We({...wC(),scheduleInRootZone:n}),[{provide:We,useFactory:e},{provide:vn,multi:!0,useFactory:()=>{const r=Be(Zz,{optional:!0});return()=>r.initialize()}},{provide:vn,multi:!0,useFactory:()=>{const r=Be(Kz);return()=>{r.initialize()}}},!0===t?{provide:kD,useValue:!0}:[],{provide:RD,useValue:n??OA},{provide:Xa,useFactory:()=>{const r=Be(We),o=Be(sn);let i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(td),i.handleError(s))})}}}]}function wC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Kz=(()=>{class e{subscription=new dt;initialized=!1;zone=Be(We);pendingTasks=Be(bc);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),wk=(()=>{class e{applicationErrorHandler=Be(Xa);appRef=Be(ks);taskService=Be(bc);ngZone=Be(We);zonelessEnabled=Be(xD);tracing=Be(fp,{optional:!0});disableScheduling=Be(kD,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new dt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zg):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(Be(RD,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Mb||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;let r=!1;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const o=this.useMicrotaskScheduler?FA:PA;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,FA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Fc=new it("",{providedIn:"root",factory:()=>Be(Fc,{optional:!0,skipSelf:!0})||function Xz(){return typeof $localize<"u"&&$localize.locale||um}()}),Cm=Symbol("InputSignalNode#UNSET"),Tk={...wn,transformFn:void 0,applyValueToInputSignal(e,t){_t(e,t)}};function Ak(e,t){const n=Object.create(Tk);function r(){if(W(n),n.value===Cm)throw new Le(-950,null);return n.value}return n.value=e,n.transformFn=t?.transform,r[D]=n,r}function Mk(e,t){return Ak(e,t)}new it("").__NG_ELEMENT_ID__=e=>{const t=Pt();if(null===t)throw new Le(204,!1);if(2&t.type)return t.value;if(8&e)return null;throw new Le(204,!1)};const l8=(Mk.required=function a8(e){return Ak(Cm,e)},Mk),wm=new it(""),p8=new it("");function Tp(e){return!e.moduleRef}let Pk;function Fk(){Pk=h8}function h8(e,t){const n=e.injector.get(ks);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Le(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}let Lk=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,r){const o=r?.scheduleInRootZone,s=r?.ignoreChangesOutsideZone,a=[bk({ngZoneFactory:()=>function JU(e="zone.js",t){return"noop"===e?new Mb:"zone.js"===e?new We(t):e}(r?.ngZone,{...wC({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:s}),{provide:nd,useExisting:wk},xL],l=function SU(e,t,n){return new Sb(e,t,n,!1)}(n.moduleType,this.injector,a);return Fk(),function Ok(e){const t=Tp(e)?e.r3Injector:e.moduleRef.injector,n=t.get(We);return n.run(()=>{Tp(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(Xa);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),Tp(e)){const i=()=>t.destroy(),s=e.platformInjector.get(wm);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{const i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(wm);s.add(i),e.moduleRef.onDestroy(()=>{em(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return function g8(e,t,n){try{const r=n();return gp(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}(r,n,()=>{const i=t.get(bc),s=i.add(),a=t.get(gM);return a.runInitializers(),a.donePromise.then(()=>{if(function DG(e){"string"==typeof e&&(qM=e.toLowerCase().replace(/_/g,"-"))}(t.get(Fc,um)||um),!t.get(p8,!0))return Tp(e)?t.get(ks):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Tp(e)){const d=t.get(ks);return void 0!==e.rootComponent&&d.bootstrap(e.rootComponent),d}return Pk?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{i.remove(s)})})})}({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,r=[]){const o=vM({},r);return Fk(),function c8(e,t,n){const r=new vA(n);return Promise.resolve(r)}(0,0,n).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(wm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(oe(co))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Lc=null;const $k=new it("");function Bk(e,t,n=[]){const r=`Platform: ${t}`,o=new it(r);return(i=[])=>{let s=AC();if(!s||s.injector.get($k,!1)){const a=[...n,...i,{provide:o,useValue:!0}];e?e(a):function m8(e){if(Lc&&!Lc.get($k,!1))throw new Le(400,!1);(function sH(){!function pt(e){Ge=e}(()=>{throw new Le(600,"")})})(),Lc=e;const t=e.get(Lk);(function Vk(e){const t=e.get(PI,null);bo(e,()=>{t?.forEach(n=>n())})})(e)}(function jk(e=[],t){return co.create({name:t,providers:[{provide:Ot,useValue:"platform"},{provide:wm,useValue:new Set([()=>Lc=null])},...e]})}(a,r))}return function v8(){const t=AC();if(!t)throw new Le(401,!1);return t}()}}function AC(){return Lc?.get(Lk)??null}let gt=(()=>class e{static __NG_ELEMENT_ID__=_8})();function _8(e){return function b8(e,t,n){if(Sa(e)&&!n){const r=ci(e.index,t);return new Kf(r,r)}return 175&e.type?new Kf(t[15],t):null}(Pt(),De(),!(16&~e))}class Hk{constructor(){}supports(t){return jg(t)}create(t){return new S8(t)}}const C8=(e,t)=>t;class S8{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||C8}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<zk(r,o,i)?n:r,a=zk(s,o,i),l=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const c=a-o,d=l-o;if(c!=d){for(let v=0;v<c;v++){const C=v<i.length?i[v]:i[v]=0,M=C+v;d<=M&&M<c&&(i[v]=C+1)}i[s.previousIndex]=d-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!jg(t))throw new Le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function PV(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new w8(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gk),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gk),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class w8{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}}class E8{_head=null;_tail=null;add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Gk{map=new Map;put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new E8,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zk(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function qk(){return new MC([new Hk])}let MC=(()=>{class e{factories;static \u0275prov=et({token:e,providedIn:"root",factory:qk});constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:()=>{const r=Be(e,{optional:!0,skipSelf:!0});return e.create(n,r||qk())}}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Le(901,!1)}}return e})();const M8=Bk(null,"core",[]);let x8=(()=>{class e{constructor(n){}static \u0275fac=function(r){return new(r||e)(oe(ks))};static \u0275mod=Bo({type:e});static \u0275inj=jn({})}return e})();function cR(e){const t=Tt(e);if(!t)return null;const n=new lp(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}const uR="browser";function Bd(e){return e===uR}let i5=(()=>{class e{static \u0275prov=et({token:e,providedIn:"root",factory:()=>new s5(Be(Ci),window)})}return e})();class s5{document;window;offset=()=>[0,0];constructor(t,n){this.document=t,this.window=n}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,n){this.window.scrollTo({...n,left:t[0],top:t[1]})}scrollToAnchor(t,n){const r=function a5(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Hr(2400,!1))}}scrollToElement(t,n){const r=t.getBoundingClientRect(),o=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo({...n,left:o-s[0],top:i-s[1]})}}function Yr(e){return function $5(e){const t=T(null);try{return e()}finally{T(t)}}(e)}function Os(e,t){return function Ne(e,t){const n=Object.create(St);n.computation=e,void 0!==t&&(n.equal=t);const r=()=>{if(me(n),W(n),n.value===tt)throw n.error;return n.value};return r[D]=n,r}(e,t?.equal)}Error,Error;let MR=(()=>{class e extends hl{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Hy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+jl(i))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+jl(i))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(oe(Uy),oe(FD,8))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class jW{$implicit;ngForOf;index;count;constructor(t,n,r,o){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kl=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new jW(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),jR(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{jR(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(Qi),y(Ja),y(MC))};static \u0275dir=Vt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function jR(e,t){e.context.$implicit=t.item}let wo=(()=>{class e{_viewContainer;_context=new VW;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){VR(n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){VR(n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(y(Qi),y(Ja))};static \u0275dir=Vt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class VW{$implicit=null;ngIf=null}function VR(e,t){if(e&&!e.createEmbeddedView)throw new Le(2020,!1)}class WC{_viewContainerRef;_templateRef;_created=!1;constructor(t,n){this._viewContainerRef=t,this._templateRef=n}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Hm=(()=>{class e{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const r=n===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const r of this._defaultViews)r.enforceState(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Vt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return e})(),UR=(()=>{class e{ngSwitch;_view;ngSwitchCase;constructor(n,r,o){this.ngSwitch=o,o._addCase(),this._view=new WC(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||e)(y(Qi),y(Ja),y(Hm,9))};static \u0275dir=Vt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return e})(),HR=(()=>{class e{constructor(n,r,o){o._addDefault(new WC(n,r))}static \u0275fac=function(r){return new(r||e)(y(Qi),y(Ja),y(Hm,9))};static \u0275dir=Vt({type:e,selectors:[["","ngSwitchDefault",""]]})}return e})(),Xl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bo({type:e});static \u0275inj=jn({})}return e})();const KC=new it("");let WR=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new Le(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(oe(KC),oe(We))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class qR{_doc;constructor(t){this._doc=t}manager}const XC="ng-app-id";function ZR(e){for(const t of e)t.remove()}function YR(e,t){const n=t.createElement("style");return n.textContent=e,n}function QC(e,t){const n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}let KR=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,function f9(e,t,n,r){const o=e.head?.querySelectorAll(`style[${XC}="${t}"],link[${XC}="${t}"]`);if(o)for(const i of o)i.removeAttribute(XC),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(const o of n)this.addUsage(o,this.inline,YR);r?.forEach(o=>this.addUsage(o,this.external,QC))}removeStyles(n,r){for(const o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){const i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){const o=r.get(n);o&&(o.usage--,o.usage<=0&&(ZR(o.elements),r.delete(n)))}ngOnDestroy(){for(const[,{elements:n}]of[...this.inline,...this.external])ZR(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(const[r,{elements:o}]of this.inline)o.push(this.addElement(n,YR(r,this.doc)));for(const[r,{elements:o}]of this.external)o.push(this.addElement(n,QC(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(oe(Ci),oe(Bf),oe(FI,8),oe(ng))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const JC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},eS=/%COMP%/g,y9=new it("",{providedIn:"root",factory:()=>!0});function QR(e,t){return t.map(n=>n.replace(eS,e))}let JR=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(n,r,o,i,s,a,l,c=null,d,h,v=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.animationDisabled=d,this.maxAnimationTimeout=h,this.tracingService=v,this.platformIsServer=!1,this.defaultRenderer=new tS(n,s,l,this.platformIsServer,this.tracingService,this.registry=function By(){return $y}(),this.maxAnimationTimeout)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const o=this.getOrCreateRenderer(n,r);return o instanceof tN?o.applyToHost(n):o instanceof nS&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case Hl.Emulated:i=new tN(l,c,r,this.appId,d,s,a,h,v,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case Hl.ShadowDom:return new S9(l,c,n,r,s,a,this.nonce,h,v,this.registry,this.maxAnimationTimeout);default:i=new nS(l,c,r,d,s,a,h,v,this.registry,this.animationDisabled,this.maxAnimationTimeout)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(oe(WR),oe(KR),oe(Bf),oe(y9),oe(Ci),oe(ng),oe(We),oe(FI),oe(TM),oe(GH),oe(fp,8))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class tS{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,o,i,s,a){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i,this.registry=s,this.maxAnimationTimeout=a}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(JC[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(eN(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(eN(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){const{elements:r}=this.registry;r?r.animate(n,()=>n.remove(),this.maxAnimationTimeout):n.remove()}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Le(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=JC[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=JC[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(Ic.DashCase|Ic.Important)?t.style.setProperty(n,r,o&Ic.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ic.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,o){if("string"==typeof t&&!(t=Cc().getGlobalEventTarget(this.doc,t)))throw new Le(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,n,i)),this.eventManager.addEventListener(t,n,i,o)}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&n.preventDefault()}}}function eN(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class S9 extends tS{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,o,i,s,a,l,c,d,h){super(t,i,s,l,c,d,h),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=o.styles;v=QR(o.id,v);for(const M of v){const G=document.createElement("style");a&&G.setAttribute("nonce",a),G.textContent=M,this.shadowRoot.appendChild(G)}const C=o.getExternalStyles?.();if(C)for(const M of C){const G=QC(M,i);a&&G.setAttribute("nonce",a),this.shadowRoot.appendChild(G)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nS extends tS{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,n,r,o,i,s,a,l,c,d,h,v){super(t,i,s,a,l,c,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this._animationDisabled=d;let C=r.styles;this.styles=v?QR(v,C):C,this.styleUrls=r.getExternalStyles?.(v)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements)return void this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}}class tN extends nS{contentAttr;hostAttr;constructor(t,n,r,o,i,s,a,l,c,d,h,v){const C=o+"-"+r.id;super(t,n,r,i,s,a,l,c,d,h,v,C),this.contentAttr=function _9(e){return"_ngcontent-%COMP%".replace(eS,e)}(C),this.hostAttr=function b9(e){return"_nghost-%COMP%".replace(eS,e)}(C)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class rS extends PL{supportsDOMEvents=!0;static makeCurrent(){!function OL(e){OD??=e}(new rS)}onAndCancel(t,n,r,o){return t.addEventListener(n,r,o),()=>{t.removeEventListener(n,r,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function w9(){return Np=Np||document.head.querySelector("base"),Np?Np.getAttribute("href"):null}();return null==n?null:function E9(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Np=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return BD(document.cookie,t)}}let Np=null,I9=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),T9=(()=>{class e extends qR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(oe(Ci))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const nN=["alt","control","meta","shift"],A9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M9={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let x9=(()=>{class e extends qR{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o,i){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cc().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nN.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const l={};return l.domEventName=o,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let o=A9[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),nN.forEach(s=>{s!==o&&(0,M9[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static \u0275fac=function(r){return new(r||e)(oe(Ci))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const O9=Bk(M8,"browser",[{provide:ng,useValue:uR},{provide:PI,useValue:function k9(){rS.makeCurrent()},multi:!0},{provide:Ci,useFactory:function N9(){return function tB(e){o_=e}(document),document}}]),iN=[{provide:Jg,useClass:class D9{addToWindow(t){Vn.getAngularTestability=(r,o=!0)=>{const i=t.findTestabilityInTree(r,o);if(null==i)throw new Le(5103,!1);return i},Vn.getAllAngularTestabilities=()=>t.getAllTestabilities(),Vn.getAllAngularRootElements=()=>t.getAllRootElements(),Vn.frameworkStabilizers||(Vn.frameworkStabilizers=[]),Vn.frameworkStabilizers.push(r=>{const o=Vn.getAllAngularTestabilities();let i=o.length;const s=function(){i--,0==i&&r()};o.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Cc().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}}},{provide:pM,useClass:Lb,deps:[We,$b,Jg]},{provide:Lb,useClass:Lb,deps:[We,$b,Jg]}],sN=[{provide:Ot,useValue:"root"},{provide:td,useFactory:function R9(){return new td}},{provide:KC,useClass:T9,multi:!0,deps:[Ci]},{provide:KC,useClass:x9,multi:!0,deps:[Ci]},JR,KR,WR,{provide:ib,useExisting:JR},{provide:jD,useClass:I9},[]];let P9=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bo({type:e});static \u0275inj=jn({providers:[...sN,...iN],imports:[Xl,x8]})}return e})(),F9=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(oe(Ci))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let oS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:function(r){let o=null;return o=r?new(r||e):oe(V9),o},providedIn:"root"})}return e})(),V9=(()=>{class e extends oS{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case As.NONE:return r;case As.HTML:return ml(r,"HTML")?Js(r):b1(this._doc,String(r)).toString();case As.STYLE:return ml(r,"Style")?Js(r):r;case As.SCRIPT:if(ml(r,"Script"))return Js(r);throw new Le(5200,!1);case As.URL:return ml(r,"URL")?Js(r):pg(String(r));case As.RESOURCE_URL:if(ml(r,"ResourceURL"))return Js(r);throw new Le(5201,!1);default:throw new Le(5202,!1)}}bypassSecurityTrustHtml(n){return function WB(e){return new jB(e)}(n)}bypassSecurityTrustStyle(n){return function qB(e){return new VB(e)}(n)}bypassSecurityTrustScript(n){return function ZB(e){return new UB(e)}(n)}bypassSecurityTrustUrl(n){return function YB(e){return new HB(e)}(n)}bypassSecurityTrustResourceUrl(n){return function KB(e){return new GB(e)}(n)}static \u0275fac=function(r){return new(r||e)(oe(Ci))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Pp="safari"in window,ho=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,cN=ho&&!navigator.userAgent.match(/(crios)|(fxios)/i),_l=!!navigator.userAgent.match(/pwashell/i),iS=!!navigator.userAgent.match(/android/i),U9=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;function Gm(e){return e+"-preview"}function sS(e){return localStorage.getItem(Gm(e))}function aS(e,t){localStorage.setItem(Gm(e),t)}const uN="DYNAMIC_FONTS";function dN(){return!!Vd()&&"1"===(sS(uN)??"1")}function Vd(){return ho}function fN(){Vd()&&(dN()?document.documentElement.style.removeProperty("--ion-dynamic-font"):document.documentElement.style.setProperty("--ion-dynamic-font","initial"))}const pN="cp-indicator-fix-portrait",hN="cp-indicator-fix-landscape",gN="cloudpilot-indicator-fix-mode";let zm;function mN(){return function H9(e){return localStorage.getItem(Gm(e))??localStorage.getItem(e)}(gN)??"none"}function lS(){return cN&&!navigator?.standalone}function vN(e){if(!lS())return;zm||(zm=document.createElement("style"),zm.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${pN} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${hN} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(zm)),void 0!==e?aS(gN,e):e=mN();const t=document.documentElement.classList;t.toggle(pN,"all"===e||"portrait"===e),t.toggle(hN,"all"===e||"landscape"===e)}const Wm="cloudpilot-session";function yN(){!function G9(e){localStorage.removeItem(Gm(e))}(Wm)}var mr=_(6784),K9=_(3028),Ud=_.n(K9);let qm,Zm;function _N(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const n=t.split("&").map(r=>r.split("="));for(const[r,o]of n)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function bN(){return void 0!==Zm}class CN{constructor(){this.requestEvent=new mr.J}dispatchRequest(t){if(t){try{t=new(Ud())(t).toString()}catch(n){return void console.error(`invalid URL: ${t}`,n)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let cS=(()=>{var e;class t{constructor(){this.installation=new CN,this.import=new CN,qm&&this.installation.dispatchRequest(qm),Zm&&this.import.dispatchRequest(Zm)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function re(e,t,n,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,n,i):s(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function Bc(e){return this instanceof Bc?(this.v=e,this):new Bc(e)}function DN(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function pS(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const gS=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function IN(e){return Mt(e?.then)}function TN(e){return Mt(e[oo])}function AN(e){return Symbol.asyncIterator&&Mt(e?.[Symbol.asyncIterator])}function MN(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xN=function E7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kN(e){return Mt(e?.[xN])}function RN(e){return function EN(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(C){return function(M){return Promise.resolve(M).then(C,h)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(C,M){r[C]&&(o[C]=function(G){return new Promise(function(de,he){i.push([C,G,de,he])>1||l(C,G)})},M&&(o[C]=M(o[C])))}function l(C,M){try{!function c(C){C.value instanceof Bc?Promise.resolve(C.value.v).then(d,h):v(i[0][2],C)}(r[C](M))}catch(G){v(i[0][3],G)}}function d(C){l("next",C)}function h(C){l("throw",C)}function v(C,M){C(M),i.shift(),i.length&&l(i[0][0],i[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield Bc(n.read());if(o)return yield Bc(void 0);yield yield Bc(r)}}finally{n.releaseLock()}})}function NN(e){return Mt(e?.getReader)}function Ps(e){if(e instanceof Dn)return e;if(null!=e){if(TN(e))return function D7(e){return new Dn(t=>{const n=e[oo]();if(Mt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(gS(e))return function I7(e){return new Dn(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(IN(e))return function T7(e){return new Dn(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,rr)})}(e);if(AN(e))return ON(e);if(kN(e))return function A7(e){return new Dn(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(NN(e))return function M7(e){return ON(RN(e))}(e)}throw MN(e)}function ON(e){return new Dn(t=>{(function x7(e,t){var n,r,o,i;return function SN(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=DN(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Ql(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Ii(e,t,n=1/0){return Mt(t)?Ii((r,o)=>Zn((i,s)=>t(r,i,o,s))(Ps(e(r,o))),n):("number"==typeof t&&(n=t),ei((r,o)=>function k7(e,t,n,r,o,i,s,a){const l=[];let c=0,d=0,h=!1;const v=()=>{h&&!l.length&&!c&&t.complete()},C=G=>c<r?M(G):l.push(G),M=G=>{i&&t.next(G),c++;let de=!1;Ps(n(G,d++)).subscribe($o(t,he=>{o?.(he),i?C(he):t.next(he)},()=>{de=!0},void 0,()=>{if(de)try{for(c--;l.length&&c<r;){const he=l.shift();s?Ql(t,s,()=>M(he)):M(he)}v()}catch(he){t.error(he)}}))};return e.subscribe($o(t,C,()=>{h=!0,v()})),()=>{a?.()}}(r,o,e,n)))}function Hd(e,t){return Mt(t)?Ii(e,t,1):Ii(e,1)}function ka(e,t){return ei((n,r)=>{let o=0;n.subscribe($o(r,i=>e.call(t,i,o++)&&r.next(i)))})}function Fp(e){return ei((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function fi(e,t){return ei((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe($o(r,l=>{o?.unsubscribe();let c=0;const d=i++;Ps(e(l,d)).subscribe(o=$o(r,h=>r.next(t?t(l,h,d,c++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function PN(e){return e&&Mt(e.schedule)}function mS(e){return e[e.length-1]}function FN(e){return Mt(mS(e))?e.pop():void 0}function Lp(e){return PN(mS(e))?e.pop():void 0}function LN(e,t=0){return ei((n,r)=>{n.subscribe($o(r,o=>Ql(r,e,()=>r.next(o),t),()=>Ql(r,e,()=>r.complete(),t),o=>Ql(r,e,()=>r.error(o),t)))})}function $N(e,t=0){return ei((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function BN(e,t){if(!e)throw new Error("Iterable cannot be null");return new Dn(n=>{Ql(n,t,()=>{const r=e[Symbol.asyncIterator]();Ql(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function ni(e,t){return t?function $7(e,t){if(null!=e){if(TN(e))return function N7(e,t){return Ps(e).pipe($N(t),LN(t))}(e,t);if(gS(e))return function P7(e,t){return new Dn(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(IN(e))return function O7(e,t){return Ps(e).pipe($N(t),LN(t))}(e,t);if(AN(e))return BN(e,t);if(kN(e))return function F7(e,t){return new Dn(n=>{let r;return Ql(n,t,()=>{r=e[xN](),Ql(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>Mt(r?.return)&&r.return()})}(e,t);if(NN(e))return function L7(e,t){return BN(RN(e),t)}(e,t)}throw MN(e)}(e,t):Ps(e)}function un(...e){return ni(e,Lp(e))}class Ym{}class Km{}class nl{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof nl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new nl;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof nl?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const o=("a"===t.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}addHeaderEntry(t,n){const r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class B7{encodeKey(t){return jN(t)}encodeValue(t){return jN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const V7=/%(\d[a-f0-9])/gi,U7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jN(e){return encodeURIComponent(e).replace(V7,(t,n)=>U7[n]??t)}function Xm(e){return`${e}`}class jc{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new B7,t.fromString){if(t.fromObject)throw new Le(2805,!1);this.map=function j7(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],o=Array.isArray(r)?r.map(Xm):[Xm(r)];this.map.set(n,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(i=>{n.push({param:r,value:i,op:"a"})}):n.push({param:r,value:o,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new jc({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Xm(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(Xm(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class H7{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function VN(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function UN(e){return typeof Blob<"u"&&e instanceof Blob}function HN(e){return typeof FormData<"u"&&e instanceof FormData}const $p="Content-Type",vS="X-Request-URL",GN="text/plain",zN="application/json",WN=`${zN}, ${GN}, */*`;class Bp{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,o){let i;if(this.url=n,this.method=t.toUpperCase(),function G7(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i){if(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,this.keepalive=!!i.keepalive,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),i.priority&&(this.priority=i.priority),i.cache&&(this.cache=i.cache),i.credentials&&(this.credentials=i.credentials),"number"==typeof i.timeout){if(i.timeout<1||!Number.isInteger(i.timeout))throw new Le(2822,"");this.timeout=i.timeout}i.mode&&(this.mode=i.mode),i.redirect&&(this.redirect=i.redirect),i.integrity&&(this.integrity=i.integrity),i.referrer&&(this.referrer=i.referrer),this.transferCache=i.transferCache}if(this.headers??=new nl,this.context??=new H7,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new jc,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||VN(this.body)||UN(this.body)||HN(this.body)||function z7(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof jc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||HN(this.body)?null:UN(this.body)?this.body.type||null:VN(this.body)?null:"string"==typeof this.body?GN:this.body instanceof jc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?zN:null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,i=t.keepalive??this.keepalive,s=t.priority||this.priority,a=t.cache||this.cache,l=t.mode||this.mode,c=t.redirect||this.redirect,d=t.credentials||this.credentials,h=t.referrer||this.referrer,v=t.integrity||this.integrity,C=t.transferCache??this.transferCache,M=t.timeout??this.timeout,G=void 0!==t.body?t.body:this.body,de=t.withCredentials??this.withCredentials,he=t.reportProgress??this.reportProgress;let ke=t.headers||this.headers,It=t.params||this.params;const Ut=t.context??this.context;return void 0!==t.setHeaders&&(ke=Object.keys(t.setHeaders).reduce((Ht,Bt)=>Ht.set(Bt,t.setHeaders[Bt]),ke)),t.setParams&&(It=Object.keys(t.setParams).reduce((Ht,Bt)=>Ht.set(Bt,t.setParams[Bt]),It)),new Bp(n,r,G,{params:It,headers:ke,context:Ut,reportProgress:he,responseType:o,withCredentials:de,transferCache:C,keepalive:i,cache:a,priority:s,timeout:M,mode:l,redirect:c,credentials:d,referrer:h,integrity:v})}}var Vc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Vc||{});class yS{headers;status;statusText;url;ok;type;redirected;constructor(t,n=200,r="OK"){this.headers=t.headers||new nl,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}}class Jm extends yS{constructor(t={}){super(t)}type=Vc.ResponseHeader;clone(t={}){return new Jm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class jp extends yS{body;constructor(t={}){super(t),this.body=void 0!==t.body?t.body:null}type=Vc.Response;clone(t={}){return new jp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}}class Iu extends yS{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _S(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}let bS=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,o={}){let i;if(n instanceof Bp)i=n;else{let l,c;l=o.headers instanceof nl?o.headers:new nl(o.headers),o.params&&(c=o.params instanceof jc?o.params:new jc({fromObject:o.params})),i=new Bp(n,r,void 0!==o.body?o.body:null,{headers:l,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache,keepalive:o.keepalive,priority:o.priority,cache:o.cache,mode:o.mode,redirect:o.redirect,credentials:o.credentials,referrer:o.referrer,integrity:o.integrity,timeout:o.timeout})}const s=un(i).pipe(Hd(l=>this.handler.handle(l)));if(n instanceof Bp||"events"===o.observe)return s;const a=s.pipe(ka(l=>l instanceof jp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Zn(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Le(2806,!1);return l.body}));case"blob":return a.pipe(Zn(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Le(2807,!1);return l.body}));case"text":return a.pipe(Zn(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Le(2808,!1);return l.body}));default:return a.pipe(Zn(l=>l.body))}case"response":return a;default:throw new Le(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new jc).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,o={}){return this.request("PATCH",n,_S(o,r))}post(n,r,o={}){return this.request("POST",n,_S(o,r))}put(n,r,o={}){return this.request("PUT",n,_S(o,r))}static \u0275fac=function(r){return new(r||e)(oe(Ym))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const YN=new it("");function KN(e,t){return t(e)}function X7(e,t){return(n,r)=>t.intercept(n,{handle:o=>e(o,r)})}const J7=new it(""),Vp=new it(""),eq=new it(""),XN=new it("",{providedIn:"root",factory:()=>!0});function tq(){let e=null;return(t,n)=>{null===e&&(e=(Be(J7,{optional:!0})??[]).reduceRight(X7,KN));const r=Be(Gh);if(Be(XN)){const i=r.add();return e(t,n).pipe(Fp(i))}return e(t,n)}}let QN=(()=>{class e extends Ym{backend;injector;chain=null;pendingTasks=Be(Gh);contributeToStability=Be(XN);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Vp),...this.injector.get(eq,[])]));this.chain=r.reduceRight((o,i)=>function Q7(e,t,n){return(r,o)=>bo(n,()=>t(r,i=>e(i,o)))}(o,i,this.injector),KN)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Fp(r))}return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(oe(Km),oe(sn))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const iq=/^\)\]\}',?\n/,sq=RegExp(`^${vS}:`,"m");let eO=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Le(-2800,!1);const r=this.xhrFactory;return un(null).pipe(fi(()=>new Dn(i=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((de,he)=>s.setRequestHeader(de,he.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept",WN),!n.headers.has($p)){const de=n.detectContentTypeHeader();null!==de&&s.setRequestHeader($p,de)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){const de=n.responseType.toLowerCase();s.responseType="json"!==de?de:"text"}const a=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const de=s.statusText||"OK",he=new nl(s.getAllResponseHeaders()),ke=function aq(e){return"responseURL"in e&&e.responseURL?e.responseURL:sq.test(e.getAllResponseHeaders())?e.getResponseHeader(vS):null}(s)||n.url;return l=new Jm({headers:he,status:s.status,statusText:de,url:ke}),l},d=()=>{let{headers:de,status:he,statusText:ke,url:It}=c(),Ut=null;204!==he&&(Ut=typeof s.response>"u"?s.responseText:s.response),0===he&&(he=Ut?200:0);let Ht=he>=200&&he<300;if("json"===n.responseType&&"string"==typeof Ut){const Bt=Ut;Ut=Ut.replace(iq,"");try{Ut=""!==Ut?JSON.parse(Ut):null}catch(Yn){Ut=Bt,Ht&&(Ht=!1,Ut={error:Yn,text:Ut})}}Ht?(i.next(new jp({body:Ut,headers:de,status:he,statusText:ke,url:It||void 0})),i.complete()):i.error(new Iu({error:Ut,headers:de,status:he,statusText:ke,url:It||void 0}))},h=de=>{const{url:he}=c(),ke=new Iu({error:de,status:s.status||0,statusText:s.statusText||"Unknown Error",url:he||void 0});i.error(ke)};let v=h;n.timeout&&(v=de=>{const{url:he}=c(),ke=new Iu({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:he||void 0});i.error(ke)});let C=!1;const M=de=>{C||(i.next(c()),C=!0);let he={type:Vc.DownloadProgress,loaded:de.loaded};de.lengthComputable&&(he.total=de.total),"text"===n.responseType&&s.responseText&&(he.partialText=s.responseText),i.next(he)},G=de=>{let he={type:Vc.UploadProgress,loaded:de.loaded};de.lengthComputable&&(he.total=de.total),i.next(he)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",v),s.addEventListener("abort",h),n.reportProgress&&(s.addEventListener("progress",M),null!==a&&s.upload&&s.upload.addEventListener("progress",G)),s.send(a),i.next({type:Vc.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",v),n.reportProgress&&(s.removeEventListener("progress",M),null!==a&&s.upload&&s.upload.removeEventListener("progress",G)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(oe(jD))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();const wS=new it(""),tO=new it("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),nO=new it("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class rO{}let uq=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r){this.doc=n,this.cookieName=r}getToken(){const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=BD(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(oe(Ci),oe(tO))};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();function dq(e,t){const n=e.url.toLowerCase();if(!Be(wS)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=Be(rO).getToken(),o=Be(nO);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),t(e)}var Uc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Uc||{});function Tu(e,t){return{\u0275kind:e,\u0275providers:t}}function fq(...e){const t=[bS,eO,QN,{provide:Ym,useExisting:QN},{provide:Km,useFactory:()=>Be(YN,{optional:!0})??Be(eO)},{provide:Vp,useValue:dq,multi:!0},{provide:wS,useValue:!0},{provide:rO,useClass:uq}];for(const n of e)t.push(...n.\u0275providers);return Zt(t)}const oO=new it(""),{isArray:gq}=Array,{getPrototypeOf:mq,prototype:vq,keys:yq}=Object;function iO(e){if(1===e.length){const t=e[0];if(gq(t))return{args:t,keys:null};if(function _q(e){return e&&"object"==typeof e&&mq(e)===vq}(t)){const n=yq(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:bq}=Array;function ES(e){return Zn(t=>function Cq(e,t){return bq(t)?e(...t):e(t)}(e,t))}function sO(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function ev(...e){const t=Lp(e),n=FN(e),{args:r,keys:o}=iO(e);if(0===r.length)return ni([],t);const i=new Dn(function Sq(e,t,n=Jr){return r=>{aO(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)aO(t,()=>{const c=ni(e[l],t);let d=!1;c.subscribe($o(r,h=>{i[l]=h,d||(d=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,o?s=>sO(o,s):Jr));return n?i.pipe(ES(n)):i}function aO(e,t,n){e?Ql(n,e,t):t()}const tv=qe(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Gd(e=1/0){return Ii(Jr,e)}function DS(...e){return function wq(){return Gd(1)}()(ni(e,Lp(e)))}function IS(e){return new Dn(t=>{Ps(e()).subscribe(t)})}function nv(e,t){const n=Mt(e)?e:()=>e,r=o=>o.error(n());return new Dn(t?o=>t.schedule(r,0,o):r)}const Ra=new Dn(e=>e.complete());function TS(){return ei((e,t)=>{let n=null;e._refCount++;const r=$o(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class lO extends Dn{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,VD(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new dt;const n=this.getSubject();t.add(this.source.subscribe($o(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=dt.EMPTY)}return t}refCount(){return TS()(this)}}function zd(e){return e<=0?()=>Ra:ei((t,n)=>{let r=0;t.subscribe($o(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function rv(e){return ei((t,n)=>{let r=!1;t.subscribe($o(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function cO(e=Iq){return ei((t,n)=>{let r=!1;t.subscribe($o(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Iq(){return new tv}function Hc(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ka((o,i)=>e(o,i,r)):Jr,zd(1),n?rv(t):cO(()=>new tv))}function $i(e,t,n){const r=Mt(e)||t||n?{next:e,error:t,complete:n}:e;return r?ei((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe($o(i,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),i.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),i.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),i.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Jr}function Au(e){return ei((t,n)=>{let i,r=null,o=!1;r=t.subscribe($o(n,void 0,void 0,s=>{i=Ps(e(s,Au(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function AS(e){return e<=0?()=>Ra:ei((t,n)=>{let r=[];t.subscribe($o(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function MS(e){return ei((t,n)=>{Ps(e).subscribe($o(n,()=>n.complete(),pr)),!n.closed&&t.subscribe(n)})}const Ln="primary",Up=Symbol("RouteTitle");class xq{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Wd(e){return new xq(e)}function kq(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=e[i];if(":"===s[0])o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function bl(e,t){const n=e?xS(e):void 0,r=t?xS(t):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!uO(e[o],t[o]))return!1;return!0}function xS(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function uO(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((o,i)=>r[i]===o)}return e===t}function dO(e){return e.length>0?e[e.length-1]:null}function Jl(e){return function hq(e){return!!e&&(e instanceof Dn||Mt(e.lift)&&Mt(e.subscribe))}(e)?e:gp(e)?ni(Promise.resolve(e)):un(e)}const Nq={exact:function hO(e,t,n){if(!xu(e.segments,t.segments)||!ov(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!hO(e.children[r],t.children[r],n))return!1;return!0},subset:gO},fO={exact:function Oq(e,t){return bl(e,t)},subset:function Pq(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>uO(e[n],t[n]))},ignored:()=>!0};function pO(e,t,n){return Nq[n.paths](e.root,t.root,n.matrixParams)&&fO[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function gO(e,t,n){return mO(e,t,t.segments,n)}function mO(e,t,n,r){if(e.segments.length>n.length){const o=e.segments.slice(0,n.length);return!(!xu(o,n)||t.hasChildren()||!ov(o,n,r))}if(e.segments.length===n.length){if(!xu(e.segments,n)||!ov(e.segments,n,r))return!1;for(const o in t.children)if(!e.children[o]||!gO(e.children[o],t.children[o],r))return!1;return!0}{const o=n.slice(0,e.segments.length),i=n.slice(e.segments.length);return!!(xu(e.segments,o)&&ov(e.segments,o,r)&&e.children[Ln])&&mO(e.children[Ln],t,i,r)}}function ov(e,t,n){return t.every((r,o)=>fO[n](e[o].parameters,r.parameters))}class Mu{root;queryParams;fragment;_queryParamMap;constructor(t=new Pr([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wd(this.queryParams),this._queryParamMap}toString(){return $q.serialize(this)}}class Pr{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sv(this)}}class Hp{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Wd(this.parameters),this._parameterMap}toString(){return _O(this)}}function xu(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let qd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>new iv,providedIn:"root"})}return e})();class iv{parse(t){const n=new Yq(t);return new Mu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Gp(t.root,!0)}`,r=function Vq(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(o=>`${av(n)}=${av(o)}`).join("&"):`${av(n)}=${av(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function Bq(e){return encodeURI(e)}(t.fragment)}`:""}`}}const $q=new iv;function sv(e){return e.segments.map(t=>_O(t)).join("/")}function Gp(e,t){if(!e.hasChildren())return sv(e);if(t){const n=e.children[Ln]?Gp(e.children[Ln],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Ln&&r.push(`${o}:${Gp(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Lq(e,t){let n=[];return Object.entries(e.children).forEach(([r,o])=>{r===Ln&&(n=n.concat(t(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Ln&&(n=n.concat(t(o,r)))}),n}(e,(r,o)=>o===Ln?[Gp(e.children[Ln],!1)]:[`${o}:${Gp(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Ln]?`${sv(e)}/${n[0]}`:`${sv(e)}/(${n.join("//")})`}}function vO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function av(e){return vO(e).replace(/%3B/gi,";")}function kS(e){return vO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lv(e){return decodeURIComponent(e)}function yO(e){return lv(e.replace(/\+/g,"%20"))}function _O(e){return`${kS(e.path)}${function jq(e){return Object.entries(e).map(([t,n])=>`;${kS(t)}=${kS(n)}`).join("")}(e.parameters)}`}const Uq=/^[^\/()?;#]+/;function RS(e){const t=e.match(Uq);return t?t[0]:""}const Hq=/^[^\/()?;=#]+/,zq=/^[^=?&#]+/,qq=/^[^&#]+/;class Yq{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pr([],{}):new Pr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Ln]=new Pr(t,n)),r}parseSegment(){const t=RS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Le(4009,!1);return this.capture(t),new Hp(lv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Gq(e){const t=e.match(Hq);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=RS(this.remaining);o&&(r=o,this.capture(r))}t[lv(n)]=lv(r)}parseQueryParam(t){const n=function Wq(e){const t=e.match(zq);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Zq(e){const t=e.match(qq);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=yO(n),i=yO(r);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=RS(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Le(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ln);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[Ln]:new Pr([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Le(4011,!1)}}function bO(e){return e.segments.length>0?new Pr([],{[Ln]:e}):e}function CO(e){const t={};for(const[r,o]of Object.entries(e.children)){const i=CO(o);if(r===Ln&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[r]=i)}return function Kq(e){if(1===e.numberOfChildren&&e.children[Ln]){const t=e.children[Ln];return new Pr(e.segments.concat(t.segments),t.children)}return e}(new Pr(e.segments,t))}function ku(e){return e instanceof Mu}function SO(e){let t;const o=bO(function n(i){const s={};for(const l of i.children){const c=n(l);s[l.outlet]=c}const a=new Pr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function wO(e,t,n,r){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return NS(o,o,o,n,r);const i=function Qq(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new DO(!0,0,e);let t=0,n=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new DO(n,t,r)}(t);if(i.toRoot())return NS(o,o,new Pr([],{}),n,r);const s=function Jq(e,t,n){if(e.isAbsolute)return new uv(t,!0,0);if(!n)return new uv(t,!1,NaN);if(null===n.parent)return new uv(n,!0,0);const r=cv(e.commands[0])?0:1;return function eZ(e,t,n){let r=e,o=t,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Le(4005,!1);o=r.segments.length}return new uv(r,!1,o-i)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Wp(s.segmentGroup,s.index,i.commands):IO(s.segmentGroup,s.index,i.commands);return NS(o,s.segmentGroup,a,n,r)}function cv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zp(e){return"object"==typeof e&&null!=e&&e.outlets}function NS(e,t,n,r,o){let s,i={};r&&Object.entries(r).forEach(([l,c])=>{i[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=e===t?n:EO(e,t,n);const a=bO(CO(s));return new Mu(a,i,o)}function EO(e,t,n){const r={};return Object.entries(e.children).forEach(([o,i])=>{r[o]=i===t?n:EO(i,t,n)}),new Pr(e.segments,r)}class DO{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&cv(r[0]))throw new Le(4003,!1);const o=r.find(zp);if(o&&o!==dO(r))throw new Le(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class uv{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function IO(e,t,n){if(e??=new Pr([],{}),0===e.segments.length&&e.hasChildren())return Wp(e,t,n);const r=function nZ(e,t,n){let r=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=n.length)return i;const s=e.segments[o],a=n[r];if(zp(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(o>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!AO(l,c,s))return i;r+=2}else{if(!AO(l,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,t,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new Pr(e.segments.slice(0,r.pathIndex),{});return i.children[Ln]=new Pr(e.segments.slice(r.pathIndex),e.children),Wp(i,0,o)}return r.match&&0===o.length?new Pr(e.segments,{}):r.match&&!e.hasChildren()?OS(e,t,n):r.match?Wp(e,0,o):OS(e,t,n)}function Wp(e,t,n){if(0===n.length)return new Pr(e.segments,{});{const r=function tZ(e){return zp(e[0])?e[0].outlets:{[Ln]:e}}(n),o={};if(Object.keys(r).some(i=>i!==Ln)&&e.children[Ln]&&1===e.numberOfChildren&&0===e.children[Ln].segments.length){const i=Wp(e.children[Ln],t,n);return new Pr(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=IO(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new Pr(e.segments,o)}}function OS(e,t,n){const r=e.segments.slice(0,t);let o=0;for(;o<n.length;){const i=n[o];if(zp(i)){const l=rZ(i.outlets);return new Pr(r,l)}if(0===o&&cv(n[0])){r.push(new Hp(e.segments[t].path,TO(n[0]))),o++;continue}const s=zp(i)?i.outlets[Ln]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&cv(a)?(r.push(new Hp(s,TO(a))),o+=2):(r.push(new Hp(s,{})),o++)}return new Pr(r,{})}function rZ(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=OS(new Pr([],{}),0,r))}),t}function TO(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function AO(e,t,n){return e==n.path&&bl(t,n.parameters)}const qp="imperative";var tr=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(tr||{});class Cl{id;url;constructor(t,n){this.id=t,this.url=n}}class Zp extends Cl{type=tr.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",o=null){super(t,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ec extends Cl{urlAfterRedirects;type=tr.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Fs=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Fs||{}),dv=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(dv||{});class Ru extends Cl{reason;code;type=tr.NavigationCancel;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zd extends Cl{reason;code;type=tr.NavigationSkipped;constructor(t,n,r,o){super(t,n),this.reason=r,this.code=o}}class PS extends Cl{error;target;type=tr.NavigationError;constructor(t,n,r,o){super(t,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class MO extends Cl{urlAfterRedirects;state;type=tr.RoutesRecognized;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oZ extends Cl{urlAfterRedirects;state;type=tr.GuardsCheckStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iZ extends Cl{urlAfterRedirects;state;shouldActivate;type=tr.GuardsCheckEnd;constructor(t,n,r,o,i){super(t,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sZ extends Cl{urlAfterRedirects;state;type=tr.ResolveStart;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aZ extends Cl{urlAfterRedirects;state;type=tr.ResolveEnd;constructor(t,n,r,o){super(t,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lZ{route;type=tr.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class cZ{route;type=tr.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uZ{snapshot;type=tr.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dZ{snapshot;type=tr.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fZ{snapshot;type=tr.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pZ{snapshot;type=tr.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xO{routerEvent;position;anchor;type=tr.Scroll;constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class FS{}class fv{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}}function rl(e){return e.outlet||Ln}function Yd(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class bZ{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Yd(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Nu(this.rootInjector)}}let Nu=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new bZ(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(oe(sn))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class kO{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=LS(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=LS(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=$S(t,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return $S(t,this._root).map(n=>n.value)}}function LS(e,t){if(e===t.value)return t;for(const n of t.children){const r=LS(e,n);if(r)return r}return null}function $S(e,t){if(e===t.value)return[t];for(const n of t.children){const r=$S(e,n);if(r.length)return r.unshift(t),r}return[]}class ol{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Kd(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class RO extends kO{snapshot;constructor(t,n){super(t),this.snapshot=n,BS(this,t)}toString(){return this.snapshot.toString()}}function NO(e){const t=function CZ(e){const i=new hv([],{},{},"",{},Ln,e,null,{});return new OO("",new ol(i,[]))}(e),n=new Ir([new Hp("",{})]),r=new Ir({}),o=new Ir({}),i=new Ir({}),s=new Ir(""),a=new tc(n,r,i,s,o,Ln,e,t.root);return a.snapshot=t.root,new RO(new ol(a,[]),t)}class tc{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Zn(c=>c[Up]))??un(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Zn(t=>Wd(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Zn(t=>Wd(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pv(e,t,n="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===t||"always"!==n&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&FO(o)&&(r.resolve[Up]=o.title),r}class hv{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Up]}constructor(t,n,r,o,i,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OO extends kO{url;constructor(t,n){super(n),this.url=t,BS(this,n)}toString(){return PO(this._root)}}function BS(e,t){t.value._routerState=e,t.children.forEach(n=>BS(e,n))}function PO(e){const t=e.children.length>0?` { ${e.children.map(PO).join(", ")} } `:"";return`${e.value}${t}`}function jS(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,bl(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),bl(t.params,n.params)||e.paramsSubject.next(n.params),function Rq(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!bl(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),bl(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function VS(e,t){const n=bl(e.params,t.params)&&function Fq(e,t){return xu(e,t)&&e.every((n,r)=>bl(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||VS(e.parent,t.parent))}function FO(e){return"string"==typeof e.title||null===e.title}const SZ=new it("");let LO=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ln;activateEvents=new mn;deactivateEvents=new mn;attachEvents=new mn;detachEvents=new mn;routerOutletData=l8(void 0);parentContexts=Be(Nu);location=Be(Qi);changeDetector=Be(gt);inputBinder=Be(gv,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Le(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Le(4013,!1);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new wZ(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Vt({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xi]})}return e})();class wZ{route;childContexts;parent;outletData;constructor(t,n,r,o){this.route=t,this.childContexts=n,this.parent=r,this.outletData=o}get(t,n){return t===tc?this.route:t===Nu?this.childContexts:t===SZ?this.outletData:this.parent.get(t,n)}}const gv=new it("");let $O=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=ev([r.queryParams,r.params,r.data]).pipe(fi(([i,s,a],l)=>(a={...i,...s,...a},0===l?un(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=cR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})(),BO=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Je({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){1&r&&nt(0,"router-outlet")},dependencies:[LO],encapsulation:2})}return e})();function US(e){const t=e.children&&e.children.map(US),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ln&&(n.component=BO),n}function Yp(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const o=function DZ(e,t,n){return t.children.map(r=>{for(const o of n.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Yp(e,r,o);return Yp(e,r)})}(e,t,n);return new ol(r,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Yp(e,a)),s}}const r=function IZ(e){return new tc(new Ir(e.url),new Ir(e.params),new Ir(e.queryParams),new Ir(e.fragment),new Ir(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>Yp(e,i));return new ol(r,o)}}class HS{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}}const jO="ngNavigationCancelingError";function mv(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ku(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=VO(!1,Fs.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function VO(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[jO]=!0,n.cancellationCode=t,n}function UO(e){return!!e&&e[jO]}class MZ{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,o,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),jS(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const o=Kd(n);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Kd(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),o=r&&t.value.component?r.children:n,i=Kd(t);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const o=Kd(n);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new pZ(i.value.snapshot))}),t.children.length&&this.forwardEvent(new dZ(t.value.snapshot))}activateRoutes(t,n,r){const o=t.value,i=n?n.value:null;if(jS(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jS(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}}class HO{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vv{component;route;constructor(t,n){this.component=t,this.route=n}}function xZ(e,t,n){const r=e._root;return Kp(r,t?t._root:null,n,[r.value])}function Xd(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function $a(e){return null!==ps(e)}(e)?t.get(e):e:r}function Kp(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Kd(t);return e.children.forEach(s=>{(function RZ(e,t,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function NZ(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!xu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xu(e.url,t.url)||!bl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VS(e,t)||!bl(e.queryParams,t.queryParams);default:return!VS(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new HO(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Kp(e,t,i.component?a?a.children:null:n,r,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new vv(a.outlet.component,s))}else s&&Xp(t,a,o),o.canActivateChecks.push(new HO(r)),Kp(e,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Xp(a,n.getContext(s),o)),o}function Xp(e,t,n){const r=Kd(e),o=e.value;Object.entries(r).forEach(([i,s])=>{Xp(s,o.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new vv(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Qp(e){return"function"==typeof e}function GO(e){return e instanceof tv||"EmptyError"===e?.name}const yv=Symbol("INITIAL_VALUE");function Qd(){return fi(e=>ev(e.map(t=>t.pipe(zd(1),function Dq(...e){const t=Lp(e);return ei((n,r)=>{(t?DS(e,n,t):DS(e,n)).subscribe(r)})}(yv)))).pipe(Zn(t=>{for(const n of t)if(!0!==n){if(n===yv)return yv;if(!1===n||jZ(n))return n}return!0}),ka(t=>t!==yv),zd(1)))}function jZ(e){return ku(e)||e instanceof HS}function zO(e){return function Ao(...e){return Dr(e)}($i(t=>{if("boolean"!=typeof t)throw mv(0,t)}),Zn(t=>!0===t))}class GS{segmentGroup;constructor(t){this.segmentGroup=t||null}}class zS extends Error{urlTree;constructor(t){super(),this.urlTree=t}}function Jd(e){return nv(new GS(e))}function XZ(e){return nv(new Le(4e3,!1))}class JZ{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return un(r);if(o.numberOfChildren>1||!o.children[Ln])return XZ();o=o.children[Ln]}}applyRedirectCommands(t,n,r,o,i){return function eY(e,t,n){if("string"==typeof e)return un(e);const r=e,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,params:c,data:d,title:h}=t;return Jl(bo(n,()=>r({params:c,data:d,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:l,title:h})))}(n,o,i).pipe(Zn(s=>{if(s instanceof Mu)throw new zS(s);const a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,r);if("/"===s[0])throw new zS(a);return a}))}applyRedirectCreateUrlTree(t,n,r,o){const i=this.createSegmentGroup(t,n.root,r,o);return new Mu(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,o){const i=this.createSegments(t,n.segments,r,o);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,o)}),new Pr(i,s)}createSegments(t,n,r,o){return n.map(i=>":"===i.path[0]?this.findPosParam(t,i,o):this.findOrReturn(i,r))}findPosParam(t,n,r){const o=r[n.path.substring(1)];if(!o)throw new Le(4001,!1);return o}findOrReturn(t,n){let r=0;for(const o of n){if(o.path===t.path)return n.splice(r),o;r++}return t}}const WS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tY(e,t,n,r,o){const i=WO(e,t,n);return i.matched?(r=function gZ(e,t){return e.providers&&!e._injector&&(e._injector=Hg(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function KZ(e,t,n,r){const o=t.canMatch;return o&&0!==o.length?un(o.map(s=>{const a=Xd(s,e);return Jl(function BZ(e){return e&&Qp(e.canMatch)}(a)?a.canMatch(t,n):bo(e,()=>a(t,n)))})).pipe(Qd(),zO()):un(!0)}(r,t,n).pipe(Zn(s=>!0===s?i:{...WS}))):un(i)}function WO(e,t,n){if("**"===t.path)return function nY(e){return{matched:!0,parameters:e.length>0?dO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...WS}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(t.matcher||kq)(n,e,t);if(!o)return{...WS};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function qO(e,t,n,r){return n.length>0&&function iY(e,t,n){return n.some(r=>_v(e,t,r)&&rl(r)!==Ln)}(e,n,r)?{segmentGroup:new Pr(t,oY(r,new Pr(n,e.children))),slicedSegments:[]}:0===n.length&&function sY(e,t,n){return n.some(r=>_v(e,t,r))}(e,n,r)?{segmentGroup:new Pr(e.segments,rY(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Pr(e.segments,e.children),slicedSegments:n}}function rY(e,t,n,r){const o={};for(const i of n)if(_v(e,t,i)&&!r[rl(i)]){const s=new Pr([],{});o[rl(i)]=s}return{...r,...o}}function oY(e,t){const n={};n[Ln]=t;for(const r of e)if(""===r.path&&rl(r)!==Ln){const o=new Pr([],{});n[rl(r)]=o}return n}function _v(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class lY{}class dY{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,o,i,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new JZ(this.urlSerializer,this.urlTree)}noMatchError(t){return new Le(4002,`'${t.segmentGroup}'`)}recognize(){const t=qO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Zn(({children:n,rootSnapshot:r})=>{const o=new ol(r,n),i=new OO("",o),s=function Xq(e,t,n=null,r=null){return wO(SO(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(t){const n=new hv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ln,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ln,n).pipe(Zn(r=>({children:r,rootSnapshot:n})),Au(r=>{if(r instanceof zS)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof GS?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,o,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r,i):this.processSegment(t,n,r,r.segments,o,!0,i).pipe(Zn(s=>s instanceof ol?[s]:[]))}processChildren(t,n,r,o){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ni(i).pipe(Hd(s=>{const a=r.children[s],l=function _Z(e,t){const n=e.filter(r=>rl(r)===t);return n.push(...e.filter(r=>rl(r)!==t)),n}(n,s);return this.processSegmentGroup(t,l,a,s,o)}),function Aq(e,t){return ei(function Tq(e,t,n,r,o){return(i,s)=>{let a=n,l=t,c=0;i.subscribe($o(s,d=>{const h=c++;l=a?e(l,d,h):(a=!0,d),r&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),rv(null),function Mq(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ka((o,i)=>e(o,i,r)):Jr,AS(1),n?rv(t):cO(()=>new tv))}(),Ii(s=>{if(null===s)return Jd(r);const a=ZO(s);return function fY(e){e.sort((t,n)=>t.value.outlet===Ln?-1:n.value.outlet===Ln?1:t.value.outlet.localeCompare(n.value.outlet))}(a),un(a)}))}processSegment(t,n,r,o,i,s,a){return ni(n).pipe(Hd(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,o,i,s,a).pipe(Au(c=>{if(c instanceof GS)return un(null);throw c}))),Hc(l=>!!l),Au(l=>{if(GO(l))return function aY(e,t,n){return 0===t.length&&!e.children[n]}(r,o,i)?un(new lY):Jd(r);throw l}))}processSegmentAgainstRoute(t,n,r,o,i,s,a,l){return rl(r)===s||s!==Ln&&_v(o,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,i,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,n,r,i,s,l):Jd(o):Jd(o)}expandSegmentAgainstRouteUsingRedirect(t,n,r,o,i,s,a){const{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:h,remainingSegments:v}=WO(n,o,i);if(!l)return Jd(n);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const C=new hv(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YO(o),rl(o),o.component??o._loadedComponent??null,o,KO(o)),M=pv(C,a,this.paramsInheritanceStrategy);return C.params=Object.freeze(M.params),C.data=Object.freeze(M.data),this.applyRedirects.applyRedirectCommands(d,o.redirectTo,h,C,t).pipe(fi(de=>this.applyRedirects.lineralizeSegments(o,de)),Ii(de=>this.processSegment(t,r,n,de.concat(v),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,o,i,s){const a=tY(n,r,o,t);return"**"===r.path&&(n.children={}),a.pipe(fi(l=>l.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(fi(({routes:c})=>{const d=r._loadedInjector??t,{parameters:h,consumedSegments:v,remainingSegments:C}=l,M=new hv(v,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,YO(r),rl(r),r.component??r._loadedComponent??null,r,KO(r)),G=pv(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(G.params),M.data=Object.freeze(G.data);const{segmentGroup:de,slicedSegments:he}=qO(n,v,C,c);if(0===he.length&&de.hasChildren())return this.processChildren(d,c,de,M).pipe(Zn(It=>new ol(M,It)));if(0===c.length&&0===he.length)return un(new ol(M,[]));const ke=rl(r)===i;return this.processSegment(d,c,de,he,ke?Ln:i,!0,M).pipe(Zn(It=>new ol(M,It instanceof ol?[It]:[])))})):Jd(n)))}getChildConfig(t,n,r){return n.children?un({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?un({routes:n._loadedRoutes,injector:n._loadedInjector}):function YZ(e,t,n,r){const o=t.canLoad;return void 0===o||0===o.length?un(!0):un(o.map(s=>{const a=Xd(s,e);return Jl(function PZ(e){return e&&Qp(e.canLoad)}(a)?a.canLoad(t,n):bo(e,()=>a(t,n)))})).pipe(Qd(),zO())}(t,n,r).pipe(Ii(o=>o?this.configLoader.loadChildren(t,n).pipe($i(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function QZ(){return nv(VO(!1,Fs.GuardRejected))}())):un({routes:[],injector:t})}}function pY(e){const t=e.value.routeConfig;return t&&""===t.path}function ZO(e){const t=[],n=new Set;for(const r of e){if(!pY(r)){t.push(r);continue}const o=t.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):t.push(r)}for(const r of n){const o=ZO(r.children);t.push(new ol(r.value,o))}return t.filter(r=>!n.has(r))}function YO(e){return e.data||{}}function KO(e){return e.resolve||{}}function XO(e){const t=e.children.map(n=>XO(n)).flat();return[e,...t]}function qS(e){return fi(t=>{const n=e(t);return n?ni(n).pipe(Zn(()=>t)):un(t)})}let QO=(()=>{class e{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Ln);return r}getResolvedTitleForRoute(n){return n.data[Up]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Be(_Y),providedIn:"root"})}return e})(),_Y=(()=>{class e extends QO{title;constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(oe(F9))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ef=new it("",{providedIn:"root",factory:()=>({})}),bv=new it("");let ZS=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=Be(Wz);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return un(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const o=Jl(bo(n,()=>r.loadComponent())).pipe(Zn(JO),fi(eP),$i(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Fp(()=>{this.componentLoaders.delete(r)})),i=new lO(o,()=>new $n).pipe(TS());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return un({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function bY(e,t,n,r){return Jl(bo(n,()=>e.loadChildren())).pipe(Zn(JO),fi(eP),Ii(o=>o instanceof mA||Array.isArray(o)?un(o):ni(t.compileModuleAsync(o))),Zn(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(n).injector,s=i.get(bv,[],{optional:!0,self:!0}).flat()),{routes:s.map(US),injector:i}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(Fp(()=>{this.childrenLoaders.delete(r)})),s=new lO(i,()=>new $n).pipe(TS());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JO(e){return function CY(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}function eP(e){return un(e)}let YS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Be(SY),providedIn:"root"})}return e})(),SY=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const tP=new it(""),nP=new it("");function wY(e,t,n){const r=e.get(nP),o=e.get(Ci);if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let i;const s=new Promise(c=>{i=c}),a=o.startViewTransition(()=>(i(),function EY(e){return new Promise(t=>{xb({read:()=>setTimeout(t)},{injector:e})})}(e)));a.ready.catch(c=>{});const{onViewTransitionCreated:l}=r;return l&&bo(e,()=>l({transition:a,from:t,to:n})),s}const rP=new it("");let KS=(()=>{class e{currentNavigation=Si(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new $n;transitionAbortWithErrorSubject=new $n;configLoader=Be(ZS);environmentInjector=Be(sn);destroyRef=Be(Qs);urlSerializer=Be(qd);rootContexts=Be(Nu);location=Be(Sc);inputBindingEnabled=null!==Be(gv,{optional:!0});titleStrategy=Be(QO);options=Be(ef,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=Be(YS);createViewTransition=Be(tP,{optional:!0});navigationErrorHandler=Be(rP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>un(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=o=>this.events.next(new cZ(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new lZ(o)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;Yr(()=>{this.transitions?.next({...n,extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r})})}setupNavigations(n){return this.transitions=new Ir(null),this.transitions.pipe(ka(r=>null!==r),fi(r=>{let o=!1;return un(r).pipe(fi(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Fs.SupersededByNewNavigation),Ra;this.currentTransition=r,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:"string"==typeof i.extras.browserUrl?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null,abort:()=>i.abortController.abort()});const s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!s&&"reload"!==(i.extras.onSameUrlNavigation??n.onSameUrlNavigation))return this.events.next(new Zd(i.id,this.urlSerializer.serialize(i.rawUrl),"",dv.IgnoredSameUrlNavigation)),i.resolve(!1),Ra;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return un(i).pipe(fi(l=>(this.events.next(new Zp(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ra:Promise.resolve(l))),function hY(e,t,n,r,o,i){return Ii(s=>function cY(e,t,n,r,o,i,s="emptyOnly"){return new dY(e,t,n,r,o,s,i).recognize()}(e,t,n,r,s.extractedUrl,o,i).pipe(Zn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),$i(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=l.urlAfterRedirects,d));const c=new MO(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){const{id:l,extractedUrl:c,source:d,restoredState:h,extras:v}=i,C=new Zp(l,this.urlSerializer.serialize(c),d,h);this.events.next(C);const M=NO(this.rootComponentType).snapshot;return this.currentTransition=r={...i,targetSnapshot:M,urlAfterRedirects:c,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.update(G=>(G.finalUrl=c,G)),un(r)}return this.events.next(new Zd(i.id,this.urlSerializer.serialize(i.extractedUrl),"",dv.IgnoredByUrlHandlingStrategy)),i.resolve(!1),Ra}),$i(i=>{const s=new oZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),Zn(i=>(this.currentTransition=r={...i,guards:xZ(i.targetSnapshot,i.currentSnapshot,this.rootContexts)},r)),function VZ(e,t){return Ii(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?un({...n,guardsResult:!0}):function UZ(e,t,n,r){return ni(e).pipe(Ii(o=>function ZZ(e,t,n,r,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?un(i.map(a=>{const l=Yd(t)??o,c=Xd(a,l);return Jl(function $Z(e){return e&&Qp(e.canDeactivate)}(c)?c.canDeactivate(e,t,n,r):bo(l,()=>c(e,t,n,r))).pipe(Hc())})).pipe(Qd()):un(!0)}(o.component,o.route,n,t,r)),Hc(o=>!0!==o,!0))}(s,r,o,e).pipe(Ii(a=>a&&function OZ(e){return"boolean"==typeof e}(a)?function HZ(e,t,n,r){return ni(t).pipe(Hd(o=>DS(function zZ(e,t){return null!==e&&t&&t(new uZ(e)),un(!0)}(o.route.parent,r),function GZ(e,t){return null!==e&&t&&t(new fZ(e)),un(!0)}(o.route,r),function qZ(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function kZ(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>IS(()=>un(s.guards.map(l=>{const c=Yd(s.node)??n,d=Xd(l,c);return Jl(function LZ(e){return e&&Qp(e.canActivateChild)}(d)?d.canActivateChild(r,e):bo(c,()=>d(r,e))).pipe(Hc())})).pipe(Qd())));return un(i).pipe(Qd())}(e,o.path,n),function WZ(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return un(!0);const o=r.map(i=>IS(()=>{const s=Yd(t)??n,a=Xd(i,s);return Jl(function FZ(e){return e&&Qp(e.canActivate)}(a)?a.canActivate(t,e):bo(s,()=>a(t,e))).pipe(Hc())}));return un(o).pipe(Qd())}(e,o.route,n))),Hc(o=>!0!==o,!0))}(r,i,e,t):un(a)),Zn(a=>({...n,guardsResult:a})))})}(this.environmentInjector,i=>this.events.next(i)),$i(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&"boolean"!=typeof i.guardsResult)throw mv(0,i.guardsResult);const s=new iZ(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),ka(i=>!!i.guardsResult||(this.cancelNavigationTransition(i,"",Fs.GuardRejected),!1)),qS(i=>{if(0!==i.guards.canActivateChecks.length)return un(i).pipe($i(s=>{const a=new sZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),fi(s=>{let a=!1;return un(s).pipe(function gY(e,t){return Ii(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return un(n);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const c of XO(l))s.add(c);let a=0;return ni(s).pipe(Hd(l=>i.has(l)?function mY(e,t,n,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!FO(o)&&(i[Up]=o.title),IS(()=>(e.data=pv(e,e.parent,n).resolve,function vY(e,t,n,r){const o=xS(e);if(0===o.length)return un({});const i={};return ni(o).pipe(Ii(s=>function yY(e,t,n,r){const o=Yd(t)??r,i=Xd(e,o);return Jl(i.resolve?i.resolve(t,n):bo(o,()=>i(t,n)))}(e[s],t,n,r).pipe(Hc(),$i(a=>{if(a instanceof HS)throw mv(new iv,a);i[s]=a}))),AS(1),Zn(()=>i),Au(s=>GO(s)?Ra:nv(s)))}(i,e,t,r).pipe(Zn(s=>(e._resolvedData=s,e.data={...e.data,...s},null)))))}(l,r,e,t):(l.data=pv(l,l.parent,e).resolve,un(void 0))),$i(()=>a++),AS(1),Ii(l=>a===s.size?un(n):Ra))})}(this.paramsInheritanceStrategy,this.environmentInjector),$i({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Fs.NoDataFromResolver)}}))}),$i(s=>{const a=new aZ(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),qS(i=>{const s=a=>{const l=[];if(a.routeConfig?.loadComponent){const c=Yd(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe($i(d=>{a.component=d}),Zn(()=>{})))}for(const c of a.children)l.push(...s(c));return l};return ev(s(i.targetSnapshot.root)).pipe(rv(null),zd(1))}),qS(()=>this.afterPreactivation()),fi(()=>{const{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?ni(a).pipe(Zn(()=>r)):un(r)}),Zn(i=>{const s=function EZ(e,t,n){const r=Yp(e,t._root,n?n._root:void 0);return new RO(r,t)}(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r={...i,targetRouterState:s},this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),$i(()=>{this.events.next(new FS)}),((e,t,n,r)=>Zn(o=>(new MZ(t,o.targetRouterState,o.currentRouterState,n,r).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),zd(1),MS(new Dn(i=>{const s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(ka(()=>!o&&!r.targetRouterState),$i(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Fs.Aborted)}))),$i({next:i=>{o=!0,this.lastSuccessfulNavigation=Yr(this.currentNavigation),this.events.next(new ec(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),MS(this.transitionAbortWithErrorSubject.pipe($i(i=>{throw i}))),Fp(()=>{o||this.cancelNavigationTransition(r,"",Fs.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Au(i=>{if(this.destroyed)return r.resolve(!1),Ra;if(o=!0,UO(i))this.events.next(new Ru(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),function TZ(e){return UO(e)&&ku(e.url)}(i)?this.events.next(new fv(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{const s=new PS(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{const a=bo(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(!(a instanceof HS))throw this.events.next(s),i;{const{message:l,cancellationCode:c}=mv(0,a);this.events.next(new Ru(r.id,this.urlSerializer.serialize(r.extractedUrl),l,c)),this.events.next(new fv(a.redirectTo,a.navigationBehaviorOptions))}}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ra}))}))}cancelNavigationTransition(n,r,o){const i=new Ru(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Yr(this.currentNavigation),o=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==o?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function DY(e){return e!==qp}let oP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Be(TY),providedIn:"root"})}return e})();class IY{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let TY=(()=>{class e extends IY{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zr(e)))(o||e)}})();static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),iP=(()=>{class e{urlSerializer=Be(qd);options=Be(ef,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=Be(Sc);urlHandlingStrategy=Be(YS);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Mu;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){const i=void 0!==n?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Mu?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=NO(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:()=>Be(AY),providedIn:"root"})}return e})(),AY=(()=>{class e extends iP{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Zp?this.updateStateMemento():n instanceof Zd?this.commitTransition(r):n instanceof MO?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof FS?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Ru&&n.code!==Fs.SupersededByNewNavigation&&n.code!==Fs.Redirect?this.restoreHistory(r):n instanceof PS?this.restoreHistory(r,!0):n instanceof ec&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){const{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){const a=this.browserPageId,l={...s,...this.generateNgRouterState(o,a)};this.location.replaceState(n,"",l)}else{const a={...s,...this.generateNgRouterState(o,this.browserPageId+1)};this.location.go(n,"",a)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&0===i&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zr(e)))(o||e)}})();static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sP(e,t){e.events.pipe(ka(n=>n instanceof ec||n instanceof Ru||n instanceof PS||n instanceof Zd),Zn(n=>n instanceof ec||n instanceof Zd?0:n instanceof Ru&&(n.code===Fs.Redirect||n.code===Fs.SupersededByNewNavigation)?2:1),ka(n=>2!==n),zd(1)).subscribe(()=>{t()})}const MY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=Be(QA);stateManager=Be(iP);options=Be(ef,{optional:!0})||{};pendingTasks=Be(bc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=Be(KS);urlSerializer=Be(qd);location=Be(Sc);urlHandlingStrategy=Be(YS);injector=Be(sn);_events=new $n;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=Be(oP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=Be(bv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!Be(gv,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new dt;subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=Yr(this.navigationTransitions.currentNavigation);if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof Ru&&r.code!==Fs.Redirect&&r.code!==Fs.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ec)this.navigated=!0;else if(r instanceof fv){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||DY(o.source),...s};this.scheduleNavigation(a,qp,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function hZ(e){return!(e instanceof FS||e instanceof fv)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const l={...o};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(l=>{this.disposed||this.injector.get(Xa)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Yr(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(US),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let h,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d={...this.currentUrlTree.queryParams,...i};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}null!==d&&(d=this.removeEmptyProps(d));try{h=SO(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),h=this.currentUrlTree.root}return wO(h,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=ku(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,qp,null,r)}navigate(n,r={skipLocationChange:!1}){return function kY(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Le(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...MY}:!1===r?{...xY}:r,ku(n))return pO(this.currentUrlTree,n,o);const i=this.parseUrl(n);return pO(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((h,v)=>{a=h,l=v});const d=this.pendingTasks.add();return sP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class aP{}let OY=(()=>{class e{preload(n,r){return r().pipe(Au(()=>un(null)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),PY=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,o,i){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(ka(n=>n instanceof ec),Hd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=Hg(i.providers,n,`Route: ${i.path}`));const s=i._injector??n,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return ni(o).pipe(Gd())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):un(null);const i=o.pipe(Ii(s=>null===s?un(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?ni([i,this.loader.loadComponent(n,r)]).pipe(Gd()):i})}static \u0275fac=function(r){return new(r||e)(oe(Ti),oe(sn),oe(aP),oe(ZS))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const XS=new it("");let lP=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=qp;restoredId=0;store={};constructor(n,r,o,i,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Zp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ec?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Zd&&n.code===dv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof xO&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){var o=this;this.zone.runOutsideAngular((0,F.A)(function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),o.zone.run(()=>{o.transitions.events.next(new xO(n,"popstate"===o.lastSource?o.store[o.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function jT(){throw new Error("invalid")}()};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();function Sl(e,t){return{\u0275kind:e,\u0275providers:t}}function uP(){const e=Be(co);return t=>{const n=e.get(ks);if(t!==n.components[0])return;const r=e.get(Ti),o=e.get(dP);1===e.get(QS)&&r.initialNavigation(),e.get(fP,null,{optional:!0})?.setUpPreloading(),e.get(XS,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const dP=new it("",{factory:()=>new $n}),QS=new it("",{providedIn:"root",factory:()=>1}),fP=new it("");function BY(e){return Sl(0,[{provide:fP,useExisting:PY},{provide:aP,useExisting:e}])}function VY(e){return wi("NgRouterViewTransitions"),Sl(9,[{provide:tP,useValue:wY},{provide:nP,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const UY=[Sc,{provide:qd,useClass:iv},Ti,Nu,{provide:tc,useFactory:function cP(e){return e.routerState.root},deps:[Ti]},ZS,[]];let Cv=(()=>{class e{constructor(){}static forRoot(n,r){return{ngModule:e,providers:[UY,[],{provide:bv,multi:!0,useValue:n},[],r?.errorHandler?{provide:rP,useValue:r.errorHandler}:[],{provide:ef,useValue:r||{}},r?.useHash?{provide:hl,useClass:MR}:{provide:hl,useClass:LD},{provide:XS,useFactory:()=>{const e=Be(i5),t=Be(We),n=Be(ef),r=Be(KS),o=Be(qd);return n.scrollOffset&&e.setOffset(n.scrollOffset),new lP(o,r,e,t,n)}},r?.preloadingStrategy?BY(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?WY(r):[],r?.bindToComponentInputs?Sl(8,[$O,{provide:gv,useExisting:$O}]).\u0275providers:[],r?.enableViewTransitions?VY().\u0275providers:[],[{provide:pP,useFactory:uP},{provide:mM,multi:!0,useExisting:pP}]]}}static forChild(n){return{ngModule:e,providers:[{provide:bv,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bo({type:e});static \u0275inj=jn({})}return e})();function WY(e){return["disabled"===e.initialNavigation?Sl(3,[Vb(()=>{Be(Ti).setUpLocationChangeListener()}),{provide:QS,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Sl(2,[{provide:hB,useValue:!0},{provide:QS,useValue:0},Vb(()=>{const t=Be(co);return t.get(FL,Promise.resolve()).then(()=>new Promise(r=>{const o=t.get(Ti),i=t.get(dP);sP(o,()=>{r(!0)}),t.get(KS).afterPreactivation=()=>(r(!0),i.closed?un(void 0):i),o.initialNavigation()}))})]).\u0275providers:[]]}const pP=new it("");var ZY=_(5886);const hP=e=>mP(e),mP=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=YY(e),t.forEach(n=>e.document.documentElement.classList.add(`plt-${n}`))),t},YY=e=>{const t=ZY.c.get("platform");return Object.keys(CP).filter(n=>{const r=t?.[n];return"function"==typeof r?r(e):CP[n](e)})},JS=e=>!!(Ou(e,/iPad/i)||Ou(e,/Macintosh/i)&&Sv(e)),vP=e=>Ou(e,/android|sink/i),Sv=e=>iK(e,"(any-pointer:coarse)"),yP=e=>_P(e)||bP(e),_P=e=>!!(e.cordova||e.phonegap||e.PhoneGap),bP=e=>{const t=e.Capacitor;return!!(t?.isNative||t?.isNativePlatform&&t.isNativePlatform())},Ou=(e,t)=>t.test(e.navigator.userAgent),iK=(e,t)=>{var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},CP={ipad:JS,iphone:e=>Ou(e,/iPhone/i),ios:e=>Ou(e,/iPhone|iPod/i)||JS(e),android:vP,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return r>390&&r<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),o=Math.max(t,n);return JS(e)||(e=>vP(e)&&!Ou(e,/mobile/i))(e)||r>460&&r<820&&o>780&&o<1400},cordova:_P,capacitor:bP,electron:e=>Ou(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:Sv,mobileweb:e=>Sv(e)&&!yP(e),desktop:e=>!Sv(e),hybrid:yP};var eh=_(3112);const fK=["addListener","removeListener"],pK=["addEventListener","removeEventListener"],hK=["on","off"];function wv(e,t,n,r){if(Mt(n)&&(r=n,n=void 0),r)return wv(e,t,n).pipe(ES(r));const[o,i]=function vK(e){return Mt(e.addEventListener)&&Mt(e.removeEventListener)}(e)?pK.map(s=>a=>e[s](t,a,n)):function gK(e){return Mt(e.addListener)&&Mt(e.removeListener)}(e)?fK.map(SP(e,t)):function mK(e){return Mt(e.on)&&Mt(e.off)}(e)?hK.map(SP(e,t)):[];if(!o&&gS(e))return Ii(s=>wv(s,t,n))(Ps(e));if(!o)throw new TypeError("Invalid event target");return new Dn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function SP(e,t){return n=>r=>e[n](t,r)}function wP(e,t=Jr){return e=e??yK,ei((n,r)=>{let o,i=!0;n.subscribe($o(r,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function yK(e,t){return e===t}let EP=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(y(zl),y(ot))};static \u0275dir=Vt({type:e})}return e})(),Pu=(()=>{class e extends EP{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zr(e)))(o||e)}})();static \u0275dir=Vt({type:e,features:[Fn]})}return e})();const Ls=new it(""),CK={provide:Ls,useExisting:Bn(()=>e0),multi:!0},wK=new it("");let e0=(()=>{class e extends EP{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function SK(){const e=Cc()?Cc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(y(zl),y(ot),y(wK,8))};static \u0275dir=Vt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&He("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[br([CK]),Fn]})}return e})();function t0(e){return null==e||0===n0(e)}function n0(e){return null==e?null:Array.isArray(e)||"string"==typeof e?e.length:e instanceof Set?e.size:null}const pi=new it(""),Gc=new it(""),EK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class th{static min(t){return IP(t)}static max(t){return TP(t)}static required(t){return function AP(e){return t0(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function MP(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function xP(e){return t0(e.value)||EK.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function kP(e){return t=>{const n=t.value?.length??n0(t.value);return null===n||0===n?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}(t)}static maxLength(t){return RP(t)}static pattern(t){return function NP(e){if(!e)return Ev;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(t0(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return BP(t)}static composeAsync(t){return jP(t)}}function IP(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function TP(e){return t=>{if(null==t.value||null==e)return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function RP(e){return t=>{const n=t.value?.length??n0(t.value);return null!==n&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function Ev(e){return null}function OP(e){return null!=e}function PP(e){return gp(e)?ni(e):e}function FP(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function LP(e,t){return t.map(n=>n(e))}function $P(e){return e.map(t=>function DK(e){return!e.validate}(t)?t:n=>t.validate(n))}function BP(e){if(!e)return null;const t=e.filter(OP);return 0==t.length?null:function(n){return FP(LP(n,t))}}function r0(e){return null!=e?BP($P(e)):null}function jP(e){if(!e)return null;const t=e.filter(OP);return 0==t.length?null:function(n){return function _K(...e){const t=FN(e),{args:n,keys:r}=iO(e),o=new Dn(i=>{const{length:s}=n;if(!s)return void i.complete();const a=new Array(s);let l=s,c=s;for(let d=0;d<s;d++){let h=!1;Ps(n[d]).subscribe($o(i,v=>{h||(h=!0,c--),a[d]=v},()=>l--,void 0,()=>{(!l||!h)&&(c||i.next(r?sO(r,a):a),i.complete())}))}});return t?o.pipe(ES(t)):o}(LP(n,t).map(PP)).pipe(Zn(FP))}}function o0(e){return null!=e?jP($P(e)):null}function VP(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function UP(e){return e._rawValidators}function HP(e){return e._rawAsyncValidators}function s0(e){return e?Array.isArray(e)?e:[e]:[]}function Dv(e,t){return Array.isArray(e)?e.includes(t):e===t}function GP(e,t){const n=s0(t);return s0(e).forEach(o=>{Dv(n,o)||n.push(o)}),n}function zP(e,t){return s0(t).filter(n=>!Dv(e,n))}class WP{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=r0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=o0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class rs extends WP{name;get formDirective(){return null}get path(){return null}}class nc extends WP{_parent=null;name=null;valueAccessor=null}class qP{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let rc=(()=>{class e extends qP{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(nc,2))};static \u0275dir=Vt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&Ta("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Fn]})}return e})(),oc=(()=>{class e extends qP{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(y(rs,10))};static \u0275dir=Vt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&Ta("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Fn]})}return e})();const nh="VALID",Tv="INVALID",nf="PENDING",rh="DISABLED";class rf{}class YP extends rf{value;source;constructor(t,n){super(),this.value=t,this.source=n}}class c0 extends rf{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}}class u0 extends rf{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}}class Av extends rf{status;source;constructor(t,n){super(),this.status=t,this.source=n}}class KP extends rf{source;constructor(t){super(),this.source=t}}class XP extends rf{source;constructor(t){super(),this.source=t}}function d0(e){return(Mv(e)?e.validators:e)||null}function f0(e,t){return(Mv(t)?t.asyncValidators:e)||null}function Mv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class p0{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Yr(this.statusReactive)}set status(t){Yr(()=>this.statusReactive.set(t))}_status=Os(()=>this.statusReactive());statusReactive=Si(void 0);get valid(){return this.status===nh}get invalid(){return this.status===Tv}get pending(){return this.status==nf}get disabled(){return this.status===rh}get enabled(){return this.status!==rh}errors;get pristine(){return Yr(this.pristineReactive)}set pristine(t){Yr(()=>this.pristineReactive.set(t))}_pristine=Os(()=>this.pristineReactive());pristineReactive=Si(!0);get dirty(){return!this.pristine}get touched(){return Yr(this.touchedReactive)}set touched(t){Yr(()=>this.touchedReactive.set(t))}_touched=Os(()=>this.touchedReactive());touchedReactive=Si(!1);get untouched(){return!this.touched}_events=new $n;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(GP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(GP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zP(t,this._rawAsyncValidators))}hasValidator(t){return Dv(this._rawValidators,t)}hasAsyncValidator(t){return Dv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const n=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new u0(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&!1!==t.emitEvent&&this._events.next(new u0(!1,r))}markAsDirty(t={}){const n=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),n&&!1!==t.emitEvent&&this._events.next(new c0(!1,r))}markAsPristine(t={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&!1!==t.emitEvent&&this._events.next(new c0(!0,r))}markAsPending(t={}){this.status=nf;const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Av(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:n})}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=rh,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new YP(this.value,r)),this._events.next(new Av(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=nh,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nh||this.status===nf)&&this._runAsyncValidator(r,t.emitEvent)}const n=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new YP(this.value,n)),this._events.next(new Av(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:n})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rh:nh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=nf,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n,shouldHaveEmitted:!1!==t};const r=PP(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Av(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new mn,this.statusChanges=new mn}_calculateStatus(){return this._allControlsDisabled()?rh:this.errors?Tv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nf)?nf:this._anyControlsHaveStatus(Tv)?Tv:nh}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),o&&this._events.next(new c0(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new u0(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Mv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function RK(e){return Array.isArray(e)?r0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function NK(e){return Array.isArray(e)?o0(e):e||null}(this._rawAsyncValidators)}}class zc extends p0{constructor(t,n,r){super(d0(n),f0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function JP(e,t,n){e._forEachChild((r,o)=>{if(void 0===n[o])throw new Le(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function QP(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Le(1e3,"");if(!r[n])throw new Le(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const xv=zc,Fu=new it("",{providedIn:"root",factory:()=>oh}),oh="always";function ih(e,t,n=oh){h0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function FK(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&eF(e,t)})}(e,t),function $K(e,t){const n=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function LK(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&eF(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function PK(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Rv(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ov(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Nv(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function h0(e,t){const n=UP(e);null!==t.validator?e.setValidators(VP(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=HP(e);null!==t.asyncValidator?e.setAsyncValidators(VP(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const o=()=>e.updateValueAndValidity();Nv(t._rawValidators,o),Nv(t._rawAsyncValidators,o)}function Ov(e,t){let n=!1;if(null!==e){if(null!==t.validator){const o=UP(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=HP(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return Nv(t._rawValidators,r),Nv(t._rawAsyncValidators,r),n}function eF(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function rF(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function oF(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const $s=class extends p0{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(d0(n),f0(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=oF(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){rF(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){rF(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){oF(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Eo=$s;Promise.resolve();let ic=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=Vt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();const y0=new it(""),eX={provide:rs,useExisting:Bn(()=>Na)};let Na=(()=>{class e extends rs{callSetDisabledState;get submitted(){return Yr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Os(()=>this._submittedReactive());_submittedReactive=Si(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new mn;constructor(n,r,o){super(),this.callSetDisabledState=o,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ov(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return ih(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Rv(n.control||null,n,!1),function UK(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),function nF(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new KP(this.control)),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),!1!==r?.emitEvent&&this.form._events.next(new XP(this.form))}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,o=this.form.get(n.path);r!==o&&(Rv(r||null,n),(e=>e instanceof $s)(o)&&(ih(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function tF(e,t){h0(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function BK(e,t){return Ov(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){h0(this.form,this),this._oldForm&&Ov(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(y(pi,10),y(Gc,10),y(Fu,8))};static \u0275dir=Vt({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&He("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[br([eX]),Fn,Xi]})}return e})();const rX={provide:nc,useExisting:Bn(()=>wl)};let wl=(()=>{class e extends nc{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new mn;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,o,i,s){super(),this._ngModelWarningConfig=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function v0(e,t){if(!t)return null;let n,r,o;return Array.isArray(t),t.forEach(i=>{i.constructor===e0?n=i:function VK(e){return Object.getPrototypeOf(e.constructor)===Pu}(i)?r=i:o=i}),o||r||n||null}(0,i)}ngOnChanges(n){this._added||this._setUpControl(),function m0(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function kv(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(y(rs,13),y(pi,10),y(Gc,10),y(Ls,10),y(y0,8))};static \u0275dir=Vt({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[br([rX]),Fn,Xi]})}return e})();function gF(e){return"number"==typeof e?e:parseFloat(e)}let Lu=(()=>{class e{_validator=Ev;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ev,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Vt({type:e,features:[Xi]})}return e})();const uX={provide:pi,useExisting:Bn(()=>C0),multi:!0};let C0=(()=>{class e extends Lu{max;inputName="max";normalizeInput=n=>gF(n);createValidator=n=>TP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zr(e)))(o||e)}})();static \u0275dir=Vt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ea("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[br([uX]),Fn]})}return e})();const dX={provide:pi,useExisting:Bn(()=>S0),multi:!0};let S0=(()=>{class e extends Lu{min;inputName="min";normalizeInput=n=>gF(n);createValidator=n=>IP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zr(e)))(o||e)}})();static \u0275dir=Vt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ea("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[br([dX]),Fn]})}return e})();const mX={provide:pi,useExisting:Bn(()=>E0),multi:!0};let E0=(()=>{class e extends Lu{maxlength;inputName="maxlength";normalizeInput=n=>function hF(e){return"number"==typeof e?e:parseInt(e,10)}(n);createValidator=n=>RP(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zr(e)))(o||e)}})();static \u0275dir=Vt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ea("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[br([mX]),Fn]})}return e})(),bF=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bo({type:e});static \u0275inj=jn({})}return e})(),$u=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Fu,useValue:n.callSetDisabledState??oh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bo({type:e});static \u0275inj=jn({imports:[bF]})}return e})(),Bv=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:y0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Fu,useValue:n.callSetDisabledState??oh}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bo({type:e});static \u0275inj=jn({imports:[bF]})}return e})();const _X=["tabsInner"];let bX=(()=>{class e{doc;_readyPromise;win;backButton=new $n;keyboardDidShow=new $n;keyboardDidHide=new $n;pause=new $n;resume=new $n;resize=new $n;constructor(n,r){this.doc=n,r.run(()=>{let o;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>r.run(()=>s(l))))},sf(this.pause,n,"pause",r),sf(this.resume,n,"resume",r),sf(this.backButton,n,"ionBackButton",r),sf(this.resize,this.win,"resize",r),sf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",r),sf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",r),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?n.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(n){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),hP(e).includes(t)))(this.win,n)}platforms(){return hP(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return CX(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(r){return new(r||e)(oe(Ci),oe(We))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const CX=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},sf=(e,t,n,r)=>{t&&t.addEventListener(n,o=>{r.run(()=>{const i=o?.detail;e.next(i)})})};let af=(()=>{class e{location;serializer;router;topOutlet;direction=CF;animated=SF;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(n,r,o,i){this.location=r,this.serializer=o,this.router=i,i&&i.events.subscribe(s=>{if(s instanceof Zp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=this.guessAnimation=a<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?s.id:a}}),n.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,F.A)(function*(){let r=n.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})()}setDirection(n,r,o,i){this.direction=n,this.animated=SX(n,r,o),this.animationBuilder=i}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const o=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=CF,this.animated=SF,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:o}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const o=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(o.queryParams={...r.queryParams}),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}static \u0275fac=function(r){return new(r||e)(oe(bX),oe(Sc),oe(qd),oe(Ti,8))};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const SX=(e,t,n)=>{if(!1!==t){if(void 0!==n)return n;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},CF="auto",SF=void 0;let lh=(()=>{class e{get(n,r){const o=I0();return o?o.get(n,r):null}getBoolean(n,r){const o=I0();return!!o&&o.getBoolean(n,r)}getNumber(n,r){const o=I0();return o?o.getNumber(n,r):0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const D0=new it("USERCONFIG"),I0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class wF{data;constructor(t={}){this.data=t,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(t){return this.data[t]}}const wX=new it("IonModalToken");let ch=(()=>{class e{zone=Be(We);applicationRef=Be(ks);config=Be(D0);create(n,r,o){return new EX(n,r,this.applicationRef,this.zone,o,this.config.useSetInputAPI??!1)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class EX{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(t,n,r,o,i,s){this.environmentInjector=t,this.injector=n,this.applicationRef=r,this.zone=o,this.elementReferenceKey=i,this.enableSignalsSupport=s}attachViewToDom(t,n,r,o){return this.zone.run(()=>new Promise(i=>{const s={...r};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(DX(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,n,s,o,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(t,n){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(n);if(o){o.destroy(),this.elRefMap.delete(n);const i=this.elEventsMap.get(n);i&&(i(),this.elEventsMap.delete(n))}r()}))}}const DX=(e,t,n,r,o,i,s,a,l,c,d,h)=>{const v=TX(l);"ion-modal"===s.tagName.toLowerCase()&&v.push({provide:wX,useValue:s});const M=function r5(e,t){const n=Tt(e),r=t.elementInjector||ir();return new lp(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}(a,{environmentInjector:t,elementInjector:co.create({providers:v,parent:n})}),G=M.instance,de=M.location.nativeElement;if(l)if(d&&void 0!==G[d]&&console.error(`[Ionic Error]: ${d} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${d}" property from ${a.name}.`),!0===h&&void 0!==M.setInput){const{modal:ke,popover:It,...Ut}=l;for(const Ht in Ut)M.setInput(Ht,Ut[Ht]);void 0!==ke&&Object.assign(G,{modal:ke}),void 0!==It&&Object.assign(G,{popover:It})}else Object.assign(G,l);if(c)for(const ke of c)de.classList.add(ke);const he=EF(e,G,de);return s.appendChild(de),r.attachView(M.hostView),o.set(de,M),i.set(de,he),de},IX=[eh.L,eh.a,eh.b,eh.c,eh.d],EF=(e,t,n)=>e.run(()=>{const r=IX.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return n.addEventListener(o,i),()=>n.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),DF=new it("NavParamsToken"),TX=e=>[{provide:DF,useValue:e},{provide:wF,useFactory:AX,deps:[DF]}],AX=e=>new wF(e),MX=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},xX=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})};function jv(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&MX(n,o),i&&xX(n,i),n}}const IF=(e,t)=>((e=e.filter(n=>n.stackId!==t.stackId)).push(t),e),A0=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},TF=(e,t)=>!t||e.stackId!==t.stackId,jX=(e,t)=>{if(!e)return;const n=AF(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},AF=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),MF=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class VX{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(t,n,r,o,i,s){this.containerEl=n,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.tabsPrefix=void 0!==t?AF(t):void 0}createView(t,n){const r=A0(this.router,n),o=t?.location?.nativeElement,i=EF(this.zone,t.instance,o);return{id:this.nextId++,stackId:jX(this.tabsPrefix,r),unlistenEvents:i,element:o,ref:t,url:r}}getExistingView(t){const n=A0(this.router,t),r=this.views.find(o=>o.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(t){const n=this.navCtrl.consumeTransition();let{direction:r,animation:o,animationBuilder:i}=n;const s=this.activeView,a=TF(t,s);a&&(r="back",o=void 0);const l=this.views.slice();let c;const d=this.router;d.getCurrentNavigation?c=d.getCurrentNavigation():d.navigations?.value&&(c=d.navigations.value),c?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),v=this.insertView(t,r);h||t.ref.changeDetectorRef.detectChanges();const C=t.animationBuilder;return void 0===i&&"back"===r&&!a&&void 0!==C&&(i=C),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>UX(t,v,l,this.location,this.zone)).then(()=>({enteringView:t,direction:r,animation:o,tabSwitch:a})))))}canGoBack(t,n=this.getActiveStackId()){return this.getStack(n).length>t}pop(t,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=t)return Promise.resolve(!1);const o=r[r.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const n=this.getStack(t.stackId),r=n[n.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&xF(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const n=this.getStack(t);return n.length>0?n[n.length-1]:void 0}getRootUrl(t){const n=this.getStack(t);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(MF),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(n=>n.stackId===t)}insertView(t,n){return this.activeView=t,this.views=((e,t,n)=>"root"===n?IF(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(r=>r.stackId!==t.stackId||r.id<=t.id):IF(e,t))(e,t))(this.views,t,n),this.views.slice()}transition(t,n,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=n?n.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),c.commit)?c.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var n=this;return(0,F.A)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=t();return r.finally(()=>n.runningTask=void 0),r})()}}const UX=(e,t,n,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{xF(e,t,n,r,o),i()})}):Promise.resolve(),xF=(e,t,n,r,o)=>{o.run(()=>n.filter(i=>!t.includes(i)).forEach(MF)),t.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let kF=(()=>{class e{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new Ir(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ln;stackWillChange=new mn;stackDidChange=new mn;activateEvents=new mn;deactivateEvents=new mn;parentContexts=Be(Nu);location=Be(Qi);environmentInjector=Be(sn);inputBinder=Be(RF,{optional:!0});supportsBindingToComponentInputs=!0;config=Be(lh);navCtrl=Be(af);set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}constructor(n,r,o,i,s,a,l,c){this.parentOutlet=c,this.nativeEl=i.nativeElement,this.name=n||Ln,this.tabsPrefix="true"===r?A0(s,l):void 0,this.stackCtrl=new VX(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();n?.route&&this.activateWith(n.route,n.injector)}new Promise(n=>((e,t)=>{e.componentOnReady?e.componentOnReady().then(n=>t(n)):(e=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)})(()=>t(e))})(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route={...r.route}),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let o,i=this.stackCtrl.getExistingView(n);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,n)}else{const a=n._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Ir(null),d=this.createActivatedRouteProxy(c,n),h=new HX(d,l,this.location.injector);o=this.activated=this.outletContent.createComponent(a.routeConfig.component??a.component,{index:this.outletContent.length,injector:h,environmentInjector:r??this.environmentInjector}),c.next(o.instance),i=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(o.instance,d),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:n})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:TF(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const o=new tc;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(n,"paramMap"),o._queryParamMap=this.proxyObservable(n,"queryParamMap"),o.url=this.proxyObservable(n,"url"),o.params=this.proxyObservable(n,"params"),o.queryParams=this.proxyObservable(n,"queryParams"),o.fragment=this.proxyObservable(n,"fragment"),o.data=this.proxyObservable(n,"data"),o}proxyObservable(n,r){return n.pipe(ka(o=>!!o),fi(o=>this.currentActivatedRoute$.pipe(ka(i=>null!==i&&i.component===o),fi(i=>i&&i.activatedRoute[r]),wP())))}updateActivatedRouteProxy(n,r){const o=this.proxyMap.get(n);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}static \u0275fac=function(r){return new(r||e)(Ul("name"),Ul("tabs"),y(Sc),y(ot),y(Ti),y(We),y(tc),y(e,12))};static \u0275dir=Vt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"],standalone:!1})}return e})();class HX{route;childContexts;parent;constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===tc?this.route:t===Nu?this.childContexts:this.parent.get(t,n)}}const RF=new it("");let GX=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,o=ev([r.queryParams,r.params,r.data]).pipe(fi(([i,s,a],l)=>(a={...i,...s,...a},0===l?un(a):Promise.resolve(a)))).subscribe(i=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=cR(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();function WX(e){return e?.componentInputBindingEnabled?new GX:null}const NF=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let Vv=(()=>{class e{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(n,r){this.injector=n,this.elementRef=r}writeValue(n){this.elementRef.nativeElement.value=this.lastValue=n,lf(this.elementRef)}handleValueChange(n,r){n===this.elementRef.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),lf(this.elementRef))}_handleBlurEvent(n){n===this.elementRef.nativeElement?(this.onTouched(),lf(this.elementRef)):n.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.elementRef.nativeElement.disabled=n}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let n;try{n=this.injector.get(nc)}catch{}if(!n)return;n.statusChanges&&(this.statusChanges=n.statusChanges.subscribe(()=>lf(this.elementRef)));const r=n.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),lf(this.elementRef)}}})}static \u0275fac=function(r){return new(r||e)(y(co),y(ot))};static \u0275dir=Vt({type:e,hostBindings:function(r,o){1&r&&He("ionBlur",function(s){return o._handleBlurEvent(s.target)})},standalone:!1})}return e})();const lf=e=>{NF(()=>{const t=e.nativeElement,n=null!=t.value&&t.value.toString().length>0,r=qX(t);M0(t,r);const o=t.closest("ion-item");o&&M0(o,n?[...r,"item-has-value"]:r)})},qX=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const o=t.item(r);null!==o&&ZX(o,"ng-")&&n.push(`ion-${o.substring(3)}`)}return n},M0=(e,t)=>{const n=e.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...t)},ZX=(e,t)=>e.substring(0,t.length)===t,YX=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let KX=(()=>{let e=class Lw{routerOutlet;navCtrl;config;r;z;el;constructor(n,r,o,i,s,a){this.routerOutlet=n,this.navCtrl=r,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(n){const r=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),n.preventDefault()):null!=r&&(this.navCtrl.navigateBack(r,{animation:this.routerAnimation}),n.preventDefault())}static \u0275fac=function(r){return new(r||Lw)(y(kF,8),y(af),y(lh),y(ot),y(We),y(gt))};static \u0275dir=Vt({type:Lw,hostBindings:function(r,o){1&r&&He("click",function(s){return o.onClick(s)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},standalone:!1})};return e=re([jv({inputs:YX})],e),e})();const XX=["animated","animation","root","rootParams","swipeGesture"],QX=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let JX=(()=>{let e=class $w{z;el;constructor(n,r,o,i,s,a){this.z=s,a.detach(),this.el=n.nativeElement,n.nativeElement.delegate=i.create(r,o),((e,t,n)=>{n.forEach(r=>e[r]=wv(t,r))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(r){return new(r||$w)(y(ot),y(sn),y(co),y(ch),y(We),y(gt))};static \u0275dir=Vt({type:$w,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},standalone:!1})};return e=re([jv({inputs:XX,methods:QX})],e),e})(),nQ=(()=>{class e{navCtrl;tabsInner;ionTabsWillChange=new mn;ionTabsDidChange=new mn;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(n){this.navCtrl=n}ngAfterViewInit(){const n=this.tabs.length>0?this.tabs.first:void 0;n&&(this.hasTab=!0,this.setActiveTab(n.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:n,tabSwitch:r}){const o=n.stackId;r&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(n){const r="string"==typeof n,o=r?n:n.detail.tab;if(this.hasTab)return this.setActiveTab(o),void this.tabSwitch();const i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||n.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const c=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...c&&s===c.url&&c.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,c=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...c,animated:!0,animationDirection:"back"})}}setActiveTab(n){const o=this.tabs.find(i=>i.tab===n);o?(this.leavingTab=this.selectedTab,this.selectedTab=o,this.ionTabsWillChange.emit({tab:n}),o.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${n}" does not exist`)}tabSwitch(){const{selectedTab:n,leavingTab:r}=this;this.tabBar&&n&&(this.tabBar.selectedTab=n.tab),r?.tab!==n?.tab&&r?.el&&(r.el.active=!1),n&&this.ionTabsDidChange.emit({tab:n.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(n=>{const r=n.el.getAttribute("slot");r!==this.tabBarSlot&&(this.tabBarSlot=r,this.relocateTabBar())})}relocateTabBar(){const n=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(n):this.tabsInner.nativeElement.after(n)}static \u0275fac=function(r){return new(r||e)(y(af))};static \u0275dir=Vt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,o){if(1&r&&ql(_X,7,ot),2&r){let i;es(i=ts())&&(o.tabsInner=i.first)}},hostBindings:function(r,o){1&r&&He("ionTabButtonClick",function(s){return o.select(s)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},standalone:!1})}return e})();class uh{ctrl;constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,n,r){return this.ctrl.dismiss(t,n,r)}getTop(){return this.ctrl.getTop()}}class rQ{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,n){}retrieve(t){return null}shouldReuseRoute(t,n){if(t.routeConfig!==n.routeConfig)return!1;const r=t.params,o=n.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}_(7133),_(6780),_(9805),_(1393),_(5860);var oQ=_(9919),iQ=(_(6721),_(9335)),x0=_(3460),dh=(_(5989),_(7433));_(575),_(566),_(4896),_(5827);const sQ=oQ.i,aQ=function(){var e=(0,F.A)(function*(t,n){if(!(typeof window>"u"))return yield sQ(),(0,iQ.b)(JSON.parse('[["ion-menu_3",[[289,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[289,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[257,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[289,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[289,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[257,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[257,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[256,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[288,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[289,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16,"router-animation"]}]]],["ion-toast",[[289,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16,"html-attributes"],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[289,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}],[288,"ion-card-content"],[289,"ion-card-header",{"color":[513],"translucent":[4]}],[289,"ion-card-subtitle",{"color":[513]}],[289,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[289,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[288,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[256,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[305,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[289,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[288,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[256,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[289,"ion-reorder",null,[[2,"click","onClick"]]],[256,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[289,"ion-segment-button",{"contentId":[513,"content-id"],"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[289,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[16,"ionSegmentViewScroll","handleSegmentViewScroll"],[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-chip",[[289,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-input",[[294,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16,"counter-formatter"],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-searchbar",[[290,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[289,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[257,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16,"root-params"],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[256,"ion-nav-link",{"component":[1],"componentProps":[16,"component-props"],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}]]],["ion-tab_2",[[257,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[257,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-textarea",[[294,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16,"counter-formatter"],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},[[2,"click","onClickCapture"]],{"debounce":["debounceChanged"],"value":["valueChanged"],"dir":["onDirChanged"]}]]],["ion-backdrop",[[289,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[290,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[289,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"]}],[289,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-tab-bar_2",[[289,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[289,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-datetime-button",[[289,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16,"component-props"],"beforeLeave":[16,"before-leave"],"beforeEnter":[16,"before-enter"]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[257,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"target":[1]}]]],["ion-avatar_3",[[289,"ion-avatar"],[289,"ion-badge",{"color":[513]}],[257,"ion-thumbnail"]]],["ion-col_3",[[257,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[257,"ion-grid",{"fixed":[4]}],[257,"ion-row"]]],["ion-img",[[257,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-input-otp",[[294,"ion-input-otp",{"autocapitalize":[1],"color":[513],"disabled":[516],"fill":[1],"inputmode":[1],"length":[2],"pattern":[1],"readonly":[516],"separators":[1],"shape":[1],"size":[1],"type":[1],"value":[1032],"inputValues":[32],"hasFocus":[32],"previousInputValues":[32],"setFocus":[64]},null,{"value":["valueChanged"],"separators":["processSeparators"],"length":["processSeparators"]}]]],["ion-progress-bar",[[289,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[289,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16,"pin-formatter"],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"step":["stepChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-segment-content",[[257,"ion-segment-content"]]],["ion-segment-view",[[289,"ion-segment-view",{"disabled":[4],"isManualScroll":[32],"setContent":[64]},[[1,"scroll","handleScroll"],[1,"touchstart","handleScrollStart"],[1,"touchend","handleTouchEnd"]]]]],["ion-split-pane",[[289,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[257,"ion-text",{"color":[513]}]]],["ion-select-modal",[[290,"ion-select-modal",{"header":[1],"multiple":[4],"options":[16]}]]],["ion-datetime_3",[[289,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16,"format-options"],"readonly":[4],"isDateEnabled":[16,"is-date-enabled"],"showAdjacentDays":[4,"show-adjacent-days"],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16,"title-selected-dates-formatter"],"multiple":[4],"highlightedDates":[16,"highlighted-dates"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[290,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[288,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-action-sheet",[[290,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[290,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-modal",[[289,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"breakpoints":[16],"expandToScroll":[4,"expand-to-scroll"],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16,"component-props"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16,"presenting-element"],"htmlAttributes":[16,"html-attributes"],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},[[9,"resize","onWindowResize"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-picker",[[289,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[257,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-picker-column-option",[[289,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[289,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16,"enter-animation"],"leaveAnimation":[16,"leave-animation"],"component":[1],"componentProps":[16,"component-props"],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16,"html-attributes"],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[289,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"required":[4],"setFocus":[64]}]]],["ion-item_8",[[289,"ion-item-divider",{"color":[513],"sticky":[4]}],[288,"ion-item-group"],[289,"ion-note",{"color":[513]}],[257,"ion-skeleton-text",{"animated":[4]}],[294,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[289,"ion-list-header",{"color":[513],"lines":[1]}],[289,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16,"router-animation"],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32],"isInteractive":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[288,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}]]],["ion-app_8",[[256,"ion-app",{"setFocus":[64]}],[292,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[257,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16,"swipe-handler"],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[257,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[292,"ion-header",{"collapse":[1],"translucent":[4]}],[289,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[289,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[294,"ion-buttons",{"collapse":[4]}]]],["ion-select_3",[[289,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"required":[4],"isExpanded":[32],"hasFocus":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[257,"ion-select-option",{"disabled":[4],"value":[8]}],[290,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-spinner",[[257,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-radio_2",[[289,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[292,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032],"helperText":[1,"helper-text"],"errorText":[1,"error-text"],"setFocus":[64]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[257,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[289,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16,"router-animation"],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"],"aria-checked":["onAriaChanged"],"aria-label":["onAriaChanged"]}],[257,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]]]'),n)});return function(n,r){return e.apply(this,arguments)}}();!function(){if(typeof window<"u"&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();const wt=["*"],lQ=["outletContent"],cQ=["outlet"],uQ=[[["","slot","top"]],"*",[["ion-tab"]]],dQ=["[slot=top]","*","ion-tab"];function fQ(e,t){if(1&e){const n=Nn();j(0,"ion-router-outlet",5,1),He("stackWillChange",function(o){return Ze(n),at(vt().onStackWillChange(o))})("stackDidChange",function(o){return Ze(n),at(vt().onStackDidChange(o))}),q()}}function pQ(e,t){1&e&&yt(0,2,["*ngIf","tabs.length > 0"])}let cf=(()=>{class e extends Vv{constructor(n,r){super(n,r)}writeValue(n){this.elementRef.nativeElement.checked=this.lastValue=n,lf(this.elementRef)}_handleIonChange(n){this.handleValueChange(n,n.checked)}static \u0275fac=function(r){return new(r||e)(y(co),y(ot))};static \u0275dir=Vt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,o){1&r&&He("ionChange",function(s){return o._handleIonChange(s.target)})},standalone:!1,features:[br([{provide:Ls,useExisting:e,multi:!0}]),Fn]})}return e})(),k0=(()=>{class e extends Vv{el;constructor(n,r){super(n,r),this.el=r}handleInputEvent(n){this.handleValueChange(n,n.value)}registerOnChange(n){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName||"ION-INPUT-OTP"===this.el.nativeElement.tagName?r=>{n(""===r?null:parseFloat(r))}:n)}static \u0275fac=function(r){return new(r||e)(y(co),y(ot))};static \u0275dir=Vt({type:e,selectors:[["ion-input","type","number"],["ion-input-otp",3,"type","text"],["ion-range"]],hostBindings:function(r,o){1&r&&He("ionInput",function(s){return o.handleInputEvent(s.target)})},standalone:!1,features:[br([{provide:Ls,useExisting:e,multi:!0}]),Fn]})}return e})(),fh=(()=>{class e extends Vv{constructor(n,r){super(n,r)}_handleChangeEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(co),y(ot))};static \u0275dir=Vt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,o){1&r&&He("ionChange",function(s){return o._handleChangeEvent(s.target)})},standalone:!1,features:[br([{provide:Ls,useExisting:e,multi:!0}]),Fn]})}return e})(),sc=(()=>{class e extends Vv{constructor(n,r){super(n,r)}_handleInputEvent(n){this.handleValueChange(n,n.value)}static \u0275fac=function(r){return new(r||e)(y(co),y(ot))};static \u0275dir=Vt({type:e,selectors:[["ion-input",3,"type","number"],["ion-input-otp","type","text"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(r,o){1&r&&He("ionInput",function(s){return o._handleInputEvent(s.target)})},standalone:!1,features:[br([{provide:Ls,useExisting:e,multi:!0}]),Fn]})}return e})();const mQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)},configurable:!0})})},vQ=(e,t)=>{const n=e.prototype;t.forEach(r=>{n[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},lr=(e,t,n)=>{n.forEach(r=>e[r]=wv(t,r))};function Dt(e){return function(n){const{defineCustomElementFn:r,inputs:o,methods:i}=e;return void 0!==r&&r(),o&&mQ(n,o),i&&vQ(n,i),n}}let OF=(()=>{let e=class Hw{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||Hw)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:Hw,selectors:[["ion-app"]],standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({methods:["setFocus"]})],e),e})(),os=(()=>{let e=class Yw{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,lr(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||Yw)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:Yw,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),is=(()=>{let e=class Kw{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||Kw)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:Kw,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["collapse"]})],e),e})(),PF=(()=>{let e=class nE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||nE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:nE,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",errorText:"errorText",helperText:"helperText",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["alignment","checked","color","disabled","errorText","helperText","indeterminate","justify","labelPlacement","mode","name","required","value"]})],e),e})(),ss=(()=>{let e=class iE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,lr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(r){return new(r||iE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:iE,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),as=(()=>{let e=class pE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||pE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:pE,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["collapse","mode","translucent"]})],e),e})(),Uo=(()=>{let e=class hE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||hE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:hE,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),ac=(()=>{let e=class yE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,lr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(r){return new(r||yE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:yE,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Do=(()=>{let e=class CE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||CE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:CE,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),Uv=(()=>{let e=class EE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||EE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:EE,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),Hv=(()=>{let e=class DE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,lr(this,this.el,["ionSwipe"])}static \u0275fac=function(r){return new(r||DE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:DE,selectors:[["ion-item-options"]],inputs:{side:"side"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["side"]})],e),e})(),Gv=(()=>{let e=class IE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,lr(this,this.el,["ionDrag"])}static \u0275fac=function(r){return new(r||IE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:IE,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Bu=(()=>{let e=class TE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||TE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:TE,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","mode","position"]})],e),e})(),ra=(()=>{let e=class AE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||AE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:AE,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),R0=(()=>{let e=class HE{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}static \u0275fac=function(r){return new(r||HE)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:HE,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),ph=(()=>{let e=class tD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||tD)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:tD,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",errorText:"errorText",expandedIcon:"expandedIcon",fill:"fill",helperText:"helperText",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",required:"required",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["cancelText","color","compareWith","disabled","errorText","expandedIcon","fill","helperText","interface","interfaceOptions","justify","label","labelPlacement","mode","multiple","name","okText","placeholder","required","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),hh=(()=>{let e=class rD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||rD)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:rD,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["disabled","value"]})],e),e})(),gh=(()=>{let e=class iD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||iD)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:iD,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","duration","name","paused"]})],e),e})(),FF=(()=>{let e=class aD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||aD)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:aD,selectors:[["ion-tab"]],inputs:{component:"component",tab:"tab"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["component","tab"],methods:["setActive"]})],e),e})(),zv=(()=>{let e=class lD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||lD)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:lD,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),LF=(()=>{let e=class cD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||cD)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:cD,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),ls=(()=>{let e=class pD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||pD)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:pD,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","size"]})],e),e})(),mh=(()=>{let e=class gD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionFocus","ionBlur"])}static \u0275fac=function(r){return new(r||gD)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:gD,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",errorText:"errorText",helperText:"helperText",justify:"justify",labelPlacement:"labelPlacement",mode:"mode",name:"name",required:"required",value:"value"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","errorText","helperText","justify","labelPlacement","mode","name","required","value"]})],e),e})(),cs=(()=>{let e=class mD{z;el;constructor(n,r,o){this.z=o,n.detach(),this.el=r.nativeElement}static \u0275fac=function(r){return new(r||mD)(y(gt),y(ot),y(We))};static \u0275cmp=Je({type:mD,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},standalone:!1,ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})};return e=re([Dt({inputs:["color","mode"]})],e),e})(),vh=(()=>{class e extends kF{parentOutlet;outletContent;constructor(n,r,o,i,s,a,l,c){super(n,r,o,i,s,a,l,c),this.parentOutlet=c}static \u0275fac=function(r){return new(r||e)(Ul("name"),Ul("tabs"),y(Sc),y(ot),y(Ti),y(We),y(tc),y(e,12))};static \u0275cmp=Je({type:e,selectors:[["ion-router-outlet"]],viewQuery:function(r,o){if(1&r&&ql(lQ,7,Qi),2&r){let i;es(i=ts())&&(o.outletContent=i.first)}},standalone:!1,features:[Fn],ngContentSelectors:wt,decls:3,vars:0,consts:[["outletContent",""]],template:function(r,o){1&r&&(bt(),Rc(0,null,0),yt(2),Wl())},encapsulation:2})}return e})(),$F=(()=>{class e extends nQ{outlet;tabBar;tabBars;tabs;static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zr(e)))(o||e)}})();static \u0275cmp=Je({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,o,i){if(1&r&&(Su(i,zv,5),Su(i,zv,4),Su(i,FF,4)),2&r){let s;es(s=ts())&&(o.tabBar=s.first),es(s=ts())&&(o.tabBars=s),es(s=ts())&&(o.tabs=s)}},viewQuery:function(r,o){if(1&r&&ql(cQ,5,vh),2&r){let i;es(i=ts())&&(o.outlet=i.first)}},standalone:!1,features:[Fn],ngContentSelectors:dQ,decls:6,vars:2,consts:[["tabsInner",""],["outlet",""],[1,"tabs-inner"],["tabs","true",3,"stackWillChange","stackDidChange",4,"ngIf"],[4,"ngIf"],["tabs","true",3,"stackWillChange","stackDidChange"]],template:function(r,o){1&r&&(bt(uQ),yt(0),j(1,"div",2,0),nn(3,fQ,2,0,"ion-router-outlet",3)(4,pQ,1,0,"ng-content",4),q(),yt(5,1)),2&r&&(fe(3),pe("ngIf",0===o.tabs.length),fe(),pe("ngIf",o.tabs.length>0))},dependencies:[wo,vh],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]})}return e})(),BF=(()=>{class e extends KX{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(y(vh,8),y(af),y(lh),y(ot),y(We),y(gt))};static \u0275cmp=Je({type:e,selectors:[["ion-back-button"]],standalone:!1,features:[Fn],ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})}return e})(),N0=(()=>{class e extends JX{constructor(n,r,o,i,s,a){super(n,r,o,i,s,a)}static \u0275fac=function(r){return new(r||e)(y(ot),y(sn),y(co),y(ch),y(We),y(gt))};static \u0275cmp=Je({type:e,selectors:[["ion-nav"]],standalone:!1,features:[Fn],ngContentSelectors:wt,decls:1,vars:0,template:function(r,o){1&r&&(bt(),yt(0))},encapsulation:2,changeDetection:0})}return e})();const xJ={provide:pi,useExisting:Bn(()=>jF),multi:!0};let jF=(()=>{class e extends C0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zr(e)))(o||e)}})();static \u0275dir=Vt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ea("max",o._enabled?o.max:null)},standalone:!1,features:[br([xJ]),Fn]})}return e})();const kJ={provide:pi,useExisting:Bn(()=>VF),multi:!0};let VF=(()=>{class e extends S0{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Zr(e)))(o||e)}})();static \u0275dir=Vt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,o){2&r&&ea("min",o._enabled?o.min:null)},standalone:!1,features:[br([kJ]),Fn]})}return e})(),O0=(()=>{class e extends uh{constructor(){super(dh.a)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yh=(()=>{class e extends uh{constructor(){super(dh.b)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),oa=(()=>{class e extends uh{constructor(){super(dh.l)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bs=(()=>{class e extends uh{angularDelegate=Be(ch);injector=Be(co);environmentInjector=Be(sn);constructor(){super(dh.m)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(r){return new(r||e)};static \u0275prov=et({token:e,factory:e.\u0275fac})}return e})();class lc extends uh{angularDelegate=Be(ch);injector=Be(co);environmentInjector=Be(sn);constructor(){super(dh.c)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const RJ=(e,t,n)=>()=>{const r=t.defaultView;if(r&&typeof window<"u"){(0,x0.s)({...e,_zoneGate:i=>n.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return aQ(r,{exclude:["ion-tabs"],syncQueue:!0,raf:NF,jmp:i=>n.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}})}};let Wc=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:D0,useValue:n},{provide:jb,useFactory:RJ,multi:!0,deps:[D0,Ci,We]},ch,{provide:RF,useFactory:WX,deps:[Ti]}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Bo({type:e});static \u0275inj=jn({providers:[Bs,lc],imports:[Xl]})}return e})();var P0=_(1051);function OJ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"&&self;var F0={exports:{}};!function(t,n){function o(l){var c=this,d=function a(){var l=4022871197;return function(d){d=String(d);for(var h=0;h<d.length;h++){var v=.02519603282416938*(l+=d.charCodeAt(h));v-=l=v>>>0,l=(v*=l)>>>0,l+=4294967296*(v-=l)}return 2.3283064365386963e-10*(l>>>0)}}();c.next=function(){var h=2091639*c.s0+2.3283064365386963e-10*c.c;return c.s0=c.s1,c.s1=c.s2,c.s2=h-(c.c=0|h)},c.c=1,c.s0=d(" "),c.s1=d(" "),c.s2=d(" "),c.s0-=d(l),c.s0<0&&(c.s0+=1),c.s1-=d(l),c.s1<0&&(c.s1+=1),c.s2-=d(l),c.s2<0&&(c.s2+=1),d=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function s(l,c){var d=new o(l),h=c&&c.state,v=d.next;return v.int32=function(){return 4294967296*d.next()|0},v.double=function(){return v()+11102230246251565e-32*(2097152*v()|0)},v.quick=v,h&&("object"==typeof h&&i(h,d),v.state=function(){return i(d,{})}),v}n&&n.exports?n.exports=s:this.alea=s}(0,F0);const FJ=OJ(F0.exports),UF=P0.compile({WhiteSpace:{match:/[\t\v\f\ufeff\p{Zs}]+/u,lineBreaks:!0},Lines:{match:/\r?\n|[\r\u2028\u2029]/u,lineBreaks:!0},ObjectKey:/\[?(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+\]?(?=:)/u,Punctuator:/--|\+\+|=>|\.{3}|\??\.(?!\d)|(?:&&|\|\||\?\?|[+\-%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2}|\/(?![/*]))=?|[?~,:;[\](){}]/u,BooleanLiteral:/true|false/u,NumericLiteral:/(?:0[xX][\da-fA-F](?:_?[\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|0n|[1-9](?:_?\d)*n|(?:(?:0(?!\d)|0\d*[89]\d*|[1-9](?:_?\d)*)(?:\.(?:\d(?:_?\d)*)?)?|\.\d(?:_?\d)*)(?:[eE][+-]?\d(?:_?\d)*)?|0[0-7]+/u,StringLiteral:{match:/(?:'(?:(?!')[^\\\n\r]|\\(?:\r\n|[^]))*')|(?:"(?:(?!")[^\\\n\r]|\\(?:\r\n|[^]))*")/u,value:e=>`"${e.slice(1,-1)}"`},Identifier:/(?:\x23)?(?=[$_\p{ID_Start}\\])(?:[$_\u200C\u200D\p{ID_Continue}]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+/u}),UJ=new RegExp("(?<==)(?:true|false)"),HJ=new RegExp("(?<==)-?(?:(?:0[xX][\\da-fA-F](?:_?[\\da-fA-F])*|0[oO][0-7](?:_?[0-7])*|0[bB][01](?:_?[01])*)n?|-?0n|-?[1-9](?:_?\\d)*n|(?:(?:0(?!\\d)|0\\d*[89]\\d*|[1-9](?:_?\\d)*)(?:\\.(?:\\d(?:_?\\d)*)?)?|\\.\\d(?:_?\\d)*)(?:[eE][+-]?\\d(?:_?\\d)*)?|-?0[0-7]+)"),GJ=new RegExp("(?<==)'(?!.*&[0-9a-zA-Z]+;)[^'\\\\]*(?:\\\\.|\\\\n[^\"\\\\]*|&[^0-9a-zA-Z;]*)*'"),zJ=new RegExp('(?<==)"(?!.*&[0-9a-zA-Z]+;)[^"\\\\]*(?:\\\\.|\\\\n[^"\\\\]*|&[^0-9a-zA-Z;]*)*"'),WJ=new RegExp("(?<==)[^\"\\s'`=<>\\x00]+");function L0(e){const t="string"==typeof e&&/^(['"]).*?\1$/.test(e)?e.slice(1,-1):e;return t.startsWith("[")&&t.endsWith("]")||t.startsWith("{")&&t.endsWith("}")?JSON.parse(function LJ(e,t={}){const n=e.trim().replace(/[,]+$/,"");if(""===n)return"{}";if(!function $J(e){return e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")}(n))throw new TypeError("Unexpected input format");let r="";UF.reset(n);for(const o of UF)if("WhiteSpace"!==o.type&&"Lines"!==o.type){switch(o.type){case"Identifier":o.value=`"${t[o.value]||o.value}"`;break;case"ObjectKey":o.value="["===o.value.slice(0,1)&&"]"===o.value.slice(-1)?`"${t[o.value.slice(1,-1)]||o.value.slice(1,-1)}"`:`"${o.value}"`}r+=o.value}return r.replace(/,([}\]])/g,"$1")}(t)):t}const HF=P0.states({main:{WhiteSpace:/[ \t\v\f\ufeff]+/,AttributeShorthand:/[.#](?:(?!-?\d)(?:[a-zA-Z0-9\xA0-\uFFFF_-])+)/,BooleanLiteral:{match:UJ,value:e=>"true"===e},NumericLiteral:{match:HJ,value(e){const t=Number(e);return Number.isNaN(t)?Number(e.replace(/_|n$/g,"")):Number(e)}},SingleQuotedValue:{match:GJ,value:L0,type:()=>"StringLiteral"},DoubleQuotedLiteral:{match:zJ,value:L0,type:()=>"StringLiteral"},UnquotedLiteral:{match:WJ,value:L0,type:()=>"StringLiteral"},AttributeName:/(?:(?![\s\x00\x22\x27\x3E\x2F\x3D\x00-\x1F\x7F-\x9F])[^\s\x00-\x1F\x7F-\x9F\x22\x27\x3E\x2F\x3D])+/,Separator:"="}});const YJ=P0.compile({spaces:/[\t\v\f\ufeff ]+/,name:/[a-zA-Z][\w-]*/,attrs:{match:/\{.*\}/,value:e=>function ZJ(e){let t=null;const n=HF.reset(e),r={};Object.defineProperties(r,{toString:{writable:!1,enumerable:!1,configurable:!1,value:()=>function qJ(e){let t="";for(const n in e){const r=e[n];switch(typeof r){case"object":t+=` ${n}='${JSON.stringify(r)}'`;break;case"string":t+=` ${n}="${r}"`;break;case"number":case"boolean":t+=` ${n}=${r}`}}return t.slice(1)}(r)},getTokens:{writable:!1,enumerable:!1,configurable:!1,value:()=>Array.from(HF.reset(e))}});const o=[];for(const{type:i,value:s}of n)switch(i){case"AttributeName":t=s,r[t]=t;break;case"AttributeShorthand":"."===s[0]?o.push(s.slice(1)):"#"===s[0]&&(r.id=s.slice(1));break;case"BooleanLiteral":case"NumericLiteral":case"StringLiteral":t&&("class"===t&&o.push(s),r[t]=s,t=null)}return o.length&&(r.class=o.join(" ")),r}(e.slice(1,-1))},text:{match:/\[.*\]/,value:e=>e.slice(1,-1)},blockText:{match:/[\s\S]+/,lineBreaks:!0}});function KJ(e){const{type:t,level:n,raw:r,content:o,marker:i,tag:s}=e,a=YJ.reset(o);let l,c,d="",h=[];for(const{type:v,value:C}of a)switch(v){case"name":l=C;break;case"attrs":c=C;break;case"text":case"blockText":d=C,h="container"===n?this.lexer.blockTokens(C):this.lexer.inlineTokens(C)}return{type:t,raw:r,meta:{level:n,marker:i,tag:s,name:l},attrs:c,text:d,tokens:h}}function GF(e){return["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"].includes(e)}function JJ(e){const{meta:t,attrs:n,tokens:r=[]}=e,o=t.name||t.tag;let i=`<${o}`;return i+=n?" "+n.toString():"",i+=GF(o)?" />":">",i+="container"===t.level?"\n":"",GF(o)||(i+="container"===t.level?this.parser.parse(r):this.parser.parseInline(r),i+=`</${o}>`),i+="inline"===t.level?"":"\n",i}const eee=[{level:"container",marker:":::"},{level:"block",marker:"::"},{level:"inline",marker:":"}];function tee(e=eee){return{extensions:e.map(({level:t,marker:n,tag:r,renderer:o})=>{const i=FJ(n).int32(),s=`directive${function QJ(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()}(t)}${i}`;return{name:s,level:"inline"===t?"inline":"block",start:a=>{var l;return null==(l=a.match(new RegExp(n)))?void 0:l.index},tokenizer(a){const l=function XJ(e,t){switch(e){case"container":return`^${t}([\\s\\S]*?)\\n${t}`;case"block":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{\\[].*?[\\}\\]])+)`;case"inline":return`^${t}((?:[a-zA-Z][\\w-]*|[\\{].*?[\\}]+|[\\[].*?[\\]])+)`}}(t,n),c=a.match(new RegExp(l));if(c){const[d,h=""]=c;return KJ.call(this,{type:s,level:t,raw:d,content:h,marker:n,tag:r||("inline"===t?"span":"div")})}},renderer:o||JJ}})}}var ju={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function zF(e){ju=e}var _h={exec:()=>null};function Cr(e,t=""){let n="string"==typeof e?e:e.source,r={replace:(o,i)=>{let s="string"==typeof i?i:i.source;return s=s.replace(us.caret,"$1"),n=n.replace(o,s),r},getRegex:()=>new RegExp(n,t)};return r}var us={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},bh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,B0=/(?:[*+-]|\d{1,9}[.)])/,WF=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,qF=Cr(WF).replace(/bull/g,B0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),see=Cr(WF).replace(/bull/g,B0).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),j0=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,V0=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,lee=Cr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",V0).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),cee=Cr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,B0).getRegex(),Wv="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U0=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,uee=Cr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",U0).replace("tag",Wv).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ZF=Cr(j0).replace("hr",bh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wv).getRegex(),H0={blockquote:Cr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ZF).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:lee,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:bh,html:uee,lheading:qF,list:cee,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:ZF,table:_h,text:/^[^\n]+/},YF=Cr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",bh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wv).getRegex(),fee={...H0,lheading:see,table:YF,paragraph:Cr(j0).replace("hr",bh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",YF).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wv).getRegex()},pee={...H0,html:Cr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",U0).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:_h,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Cr(j0).replace("hr",bh).replace("heading"," *#{1,6} *[^\n]").replace("lheading",qF).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},KF=/^( {2,}|\\)\n(?!\s*$)/,qv=/[\p{P}\p{S}]/u,G0=/[\s\p{P}\p{S}]/u,XF=/[^\s\p{P}\p{S}]/u,vee=Cr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,G0).getRegex(),QF=/(?!~)[\p{P}\p{S}]/u,JF=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Cee=Cr(JF,"u").replace(/punct/g,qv).getRegex(),See=Cr(JF,"u").replace(/punct/g,QF).getRegex(),e2="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",wee=Cr(e2,"gu").replace(/notPunctSpace/g,XF).replace(/punctSpace/g,G0).replace(/punct/g,qv).getRegex(),Eee=Cr(e2,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,QF).getRegex(),Dee=Cr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,XF).replace(/punctSpace/g,G0).replace(/punct/g,qv).getRegex(),Iee=Cr(/\\(punct)/,"gu").replace(/punct/g,qv).getRegex(),Tee=Cr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Aee=Cr(U0).replace("(?:--\x3e|$)","--\x3e").getRegex(),Mee=Cr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Aee).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Zv=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`[^`]*`|[^\[\]\\`])*?/,xee=Cr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Zv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),t2=Cr(/^!?\[(label)\]\[(ref)\]/).replace("label",Zv).replace("ref",V0).getRegex(),n2=Cr(/^!?\[(ref)\](?:\[\])?/).replace("ref",V0).getRegex(),z0={_backpedal:_h,anyPunctuation:Iee,autolink:Tee,blockSkip:/\[[^\[\]]*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,br:KF,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:_h,emStrongLDelim:Cee,emStrongRDelimAst:wee,emStrongRDelimUnd:Dee,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:xee,nolink:n2,punctuation:vee,reflink:t2,reflinkSearch:Cr("reflink|nolink(?!\\()","g").replace("reflink",t2).replace("nolink",n2).getRegex(),tag:Mee,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:_h},Ree={...z0,link:Cr(/^!?\[(label)\]\((.*?)\)/).replace("label",Zv).getRegex(),reflink:Cr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Zv).getRegex()},W0={...z0,emStrongRDelimAst:Eee,emStrongLDelim:See,url:Cr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Nee={...W0,br:Cr(KF).replace("{2,}","*").getRegex(),text:Cr(W0.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Yv={normal:H0,gfm:fee,pedantic:pee},Ch={normal:z0,gfm:W0,breaks:Nee,pedantic:Ree},Oee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},r2=e=>Oee[e];function El(e,t){if(t){if(us.escapeTest.test(e))return e.replace(us.escapeReplace,r2)}else if(us.escapeTestNoEncode.test(e))return e.replace(us.escapeReplaceNoEncode,r2);return e}function o2(e){try{e=encodeURI(e).replace(us.percentDecode,"%")}catch{return null}return e}function i2(e,t){let r=e.replace(us.findPipe,(i,s,a)=>{let l=!1,c=s;for(;--c>=0&&"\\"===a[c];)l=!l;return l?"|":" |"}).split(us.splitPipe),o=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(us.slashPipe,"|");return r}function Sh(e,t,n){let r=e.length;if(0===r)return"";let o=0;for(;o<r;){let i=e.charAt(r-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,r-o)}function s2(e,t,n,r,o){let i=t.href,s=t.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;let l={type:"!"===e[0].charAt(0)?"image":"link",raw:n,href:i,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}var Kv=class{options;rules;lexer;constructor(e){this.options=e||ju}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Sh(n,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],r=function Fee(e,t,n){let r=e.match(n.other.indentCodeCompensation);if(null===r)return t;let o=r[1];return t.split("\n").map(i=>{let s=i.match(n.other.beginningSpace);if(null===s)return i;let[a]=s;return a.length>=o.length?i.slice(o.length):i}).join("\n")}(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let r=Sh(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Sh(t[0],"\n")}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=Sh(t[0],"\n").split("\n"),r="",o="",i=[];for(;n.length>0;){let l,s=!1,a=[];for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),s=!0;else{if(s)break;a.push(n[l])}n=n.slice(l);let c=a.join("\n"),d=c.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}\n${c}`:c,o=o?`${o}\n${d}`:d;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,i,!0),this.lexer.state.top=h,0===n.length)break;let v=i.at(-1);if("code"===v?.type)break;if("blockquote"===v?.type){let C=v,M=C.raw+"\n"+n.join("\n"),G=this.blockquote(M);i[i.length-1]=G,r=r.substring(0,r.length-C.raw.length)+G.raw,o=o.substring(0,o.length-C.text.length)+G.text;break}if("list"===v?.type){let C=v,M=C.raw+"\n"+n.join("\n"),G=this.list(M);i[i.length-1]=G,r=r.substring(0,r.length-v.raw.length)+G.raw,o=o.substring(0,o.length-C.raw.length)+G.raw,n=M.substring(i.at(-1).raw.length).split("\n");continue}}return{type:"blockquote",raw:r,tokens:i,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),s=!1;for(;e;){let l=!1,c="",d="";if(!(t=i.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let h=t[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,he=>" ".repeat(3*he.length)),v=e.split("\n",1)[0],C=!h.trim(),M=0;if(this.options.pedantic?(M=2,d=h.trimStart()):C?M=t[1].length+1:(M=t[2].search(this.rules.other.nonSpaceChar),M=M>4?1:M,d=h.slice(M),M+=t[1].length),C&&this.rules.other.blankLine.test(v)&&(c+=v+"\n",e=e.substring(v.length+1),l=!0),!l){let he=this.rules.other.nextBulletRegex(M),ke=this.rules.other.hrRegex(M),It=this.rules.other.fencesBeginRegex(M),Ut=this.rules.other.headingBeginRegex(M),Ht=this.rules.other.htmlBeginRegex(M);for(;e;){let Yn,Bt=e.split("\n",1)[0];if(v=Bt,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),Yn=v):Yn=v.replace(this.rules.other.tabCharGlobal,"    "),It.test(v)||Ut.test(v)||Ht.test(v)||he.test(v)||ke.test(v))break;if(Yn.search(this.rules.other.nonSpaceChar)>=M||!v.trim())d+="\n"+Yn.slice(M);else{if(C||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||It.test(h)||Ut.test(h)||ke.test(h))break;d+="\n"+v}!C&&!v.trim()&&(C=!0),c+=Bt+"\n",e=e.substring(Bt.length+1),h=Yn.slice(M)}}o.loose||(s?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(s=!0));let de,G=null;this.options.gfm&&(G=this.rules.other.listIsTask.exec(d),G&&(de="[ ] "!==G[0],d=d.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:c,task:!!G,checked:de,loose:!1,text:d,tokens:[]}),o.raw+=c}let a=o.items.at(-1);if(!a)return;a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd(),o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){let c=o.items[l].tokens.filter(h=>"space"===h.type),d=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));o.loose=d}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=i2(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],i={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let s of r)this.rules.other.tableAlignRight.test(s)?i.align.push("right"):this.rules.other.tableAlignCenter.test(s)?i.align.push("center"):this.rules.other.tableAlignLeft.test(s)?i.align.push("left"):i.align.push(null);for(let s=0;s<n.length;s++)i.header.push({text:n[s],tokens:this.lexer.inline(n[s]),header:!0,align:i.align[s]});for(let s of o)i.rows.push(i2(s,i.header.length).map((a,l)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:i.align[l]})));return i}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Sh(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{let i=function Pee(e,t){if(-1===e.indexOf(t[1]))return-1;let n=0;for(let r=0;r<e.length;r++)if("\\"===e[r])r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}(t[2],"()");if(-2===i)return;if(i>-1){let s=(0===t[0].indexOf("!")?5:4)+t[1].length+i;t[2]=t[2].substring(0,i),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],o=i[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(r=this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r.slice(1):r.slice(1,-1)),s2(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=t[(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!o){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return s2(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!r[1]&&!r[2]||!n||this.rules.inline.punctuation.exec(n))){let i,s,o=[...r[0]].length-1,a=o,l=0,c="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+o);null!=(r=c.exec(t));){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(s=[...i].length,r[3]||r[4]){a+=s;continue}if((r[5]||r[6])&&o%3&&!((o+s)%3)){l+=s;continue}if(a-=s,a>0)continue;s=Math.min(s,s+a+l);let d=[...r[0]][0].length,h=e.slice(0,o+r.index+d+s);if(Math.min(o,s)%2){let C=h.slice(1,-1);return{type:"em",raw:h,text:C,tokens:this.lexer.inlineTokens(C)}}let v=h.slice(2,-2);return{type:"strong",raw:h,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,r;return"@"===t[2]?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,r;if("@"===t[2])n=t[0],r="mailto:"+n;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);n=t[0],r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],escaped:this.lexer.state.inRawBlock}}},cc=class vD{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ju,this.options.tokenizer=this.options.tokenizer||new Kv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:us,block:Yv.normal,inline:Ch.normal};this.options.pedantic?(n.block=Yv.pedantic,n.inline=Ch.pedantic):this.options.gfm&&(n.block=Yv.gfm,n.inline=this.options.breaks?Ch.breaks:Ch.gfm),this.tokenizer.rules=n}static get rules(){return{block:Yv,inline:Ch}}static lex(t,n){return new vD(n).lex(t)}static lexInline(t,n){return new vD(n).inlineTokens(t)}lex(t){t=t.replace(us.carriageReturn,"\n"),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){for(this.options.pedantic&&(t=t.replace(us.tabCharGlobal,"    ").replace(us.spaceLine,""));t;){let o;if(this.options.extensions?.block?.some(s=>!!(o=s.call({lexer:this},t,n))&&(t=t.substring(o.raw.length),n.push(o),!0)))continue;if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length);let s=n.at(-1);1===o.raw.length&&void 0!==s?s.raw+="\n":n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length);let s=n.at(-1);"paragraph"===s?.type||"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title},n.push(o));continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}let i=t;if(this.options.extensions?.startBlock){let l,s=1/0,a=t.slice(1);this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),"number"==typeof l&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(i=t.substring(0,s+1))}if(this.state.top&&(o=this.tokenizer.paragraph(i))){let s=n.at(-1);r&&"paragraph"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o),r=i.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length);let s=n.at(-1);"text"===s?.type?(s.raw+=(s.raw.endsWith("\n")?"":"\n")+o.raw,s.text+="\n"+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):n.push(o);continue}if(t){let s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(s);break}throw new Error(s)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let r=t,o=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(r));)a.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.anyPunctuation.exec(r));)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(r));)r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let i=!1,s="";for(;t;){let a;if(i||(s=""),i=!1,this.options.extensions?.inline?.some(c=>!!(a=c.call({lexer:this},t,n))&&(t=t.substring(a.raw.length),n.push(a),!0)))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);let c=n.at(-1);"text"===a.type&&"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,r,s)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if(this.options.extensions?.startInline){let h,c=1/0,d=t.slice(1);this.options.extensions.startInline.forEach(v=>{h=v.call({lexer:this},d),"number"==typeof h&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){t=t.substring(a.raw.length),"_"!==a.raw.slice(-1)&&(s=a.raw.slice(-1)),i=!0;let c=n.at(-1);"text"===c?.type?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return n}},qc=class{options;parser;constructor(e){this.options=e||ju}space(e){return""}code({text:e,lang:t,escaped:n}){let r=(t||"").match(us.notSpaceStart)?.[0],o=e.replace(us.endingNewline,"")+"\n";return r?'<pre><code class="language-'+El(r)+'">'+(n?o:El(o,!0))+"</code></pre>\n":"<pre><code>"+(n?o:El(o,!0))+"</code></pre>\n"}blockquote({tokens:e}){return`<blockquote>\n${this.parser.parse(e)}</blockquote>\n`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>\n`}hr(e){return"<hr>\n"}list(e){let t=e.ordered,n=e.start,r="";for(let s=0;s<e.items.length;s++)r+=this.listitem(e.items[s]);let o=t?"ol":"ul";return"<"+o+(t&&1!==n?' start="'+n+'"':"")+">\n"+r+"</"+o+">\n"}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?"paragraph"===e.tokens[0]?.type?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&"text"===e.tokens[0].tokens[0].type&&(e.tokens[0].tokens[0].text=n+" "+El(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>\n`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>\n`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let r="";for(let o=0;o<e.rows.length;o++){let i=e.rows[o];n="";for(let s=0;s<i.length;s++)n+=this.tablecell(i[s]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow({text:e}){return`<tr>\n${e}</tr>\n`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>\n`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${El(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let r=this.parser.parseInline(n),o=o2(e);if(null===o)return r;let i='<a href="'+(e=o)+'"';return t&&(i+=' title="'+El(t)+'"'),i+=">"+r+"</a>",i}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let o=o2(e);if(null===o)return El(n);let i=`<img src="${e=o}" alt="${n}"`;return t&&(i+=` title="${El(t)}"`),i+=">",i}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:El(e.text)}},q0=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},uc=class yD{options;renderer;textRenderer;constructor(t){this.options=t||ju,this.options.renderer=this.options.renderer||new qc,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new q0}static parse(t,n){return new yD(n).parse(t)}static parseInline(t,n){return new yD(n).parseInline(t)}parse(t,n=!0){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=i,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(!1!==l||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){r+=l||"";continue}}let s=i;switch(s.type){case"space":r+=this.renderer.space(s);continue;case"hr":r+=this.renderer.hr(s);continue;case"heading":r+=this.renderer.heading(s);continue;case"code":r+=this.renderer.code(s);continue;case"table":r+=this.renderer.table(s);continue;case"blockquote":r+=this.renderer.blockquote(s);continue;case"list":r+=this.renderer.list(s);continue;case"html":r+=this.renderer.html(s);continue;case"def":r+=this.renderer.def(s);continue;case"paragraph":r+=this.renderer.paragraph(s);continue;case"text":{let a=s,l=this.renderer.text(a);for(;o+1<t.length&&"text"===t[o+1].type;)a=t[++o],l+="\n"+this.renderer.text(a);r+=n?this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(t,n=this.renderer){let r="";for(let o=0;o<t.length;o++){let i=t[o];if(this.options.extensions?.renderers?.[i.type]){let a=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==a||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=a||"";continue}}let s=i;switch(s.type){case"escape":case"text":r+=n.text(s);break;case"html":r+=n.html(s);break;case"link":r+=n.link(s);break;case"image":r+=n.image(s);break;case"strong":r+=n.strong(s);break;case"em":r+=n.em(s);break;case"codespan":r+=n.codespan(s);break;case"br":r+=n.br(s);break;case"del":r+=n.del(s);break;default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},Xv=class{options;block;constructor(e){this.options=e||ju}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?cc.lex:cc.lexInline}provideParser(){return this.block?uc.parse:uc.parseInline}},Vu=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=uc;Renderer=qc;TextRenderer=q0;Lexer=cc;Tokenizer=Kv;Hooks=Xv;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(this,r)),r.type){case"table":{let o=r;for(let i of o.header)n=n.concat(this.walkTokens(i.tokens,t));for(let i of o.rows)for(let s of i)n=n.concat(this.walkTokens(s.tokens,t));break}case"list":n=n.concat(this.walkTokens(r.items,t));break;default:{let o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(i=>{let s=o[i].flat(1/0);n=n.concat(this.walkTokens(s,t))}):o.tokens&&(n=n.concat(this.walkTokens(o.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let i=t.renderers[o.name];t.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");let i=t[o.level];i?i.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){let o=this.defaults.renderer||new qc(this.defaults);for(let i in n.renderer){if(!(i in o))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let a=n.renderer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d||""}}r.renderer=o}if(n.tokenizer){let o=this.defaults.tokenizer||new Kv(this.defaults);for(let i in n.tokenizer){if(!(i in o))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let a=n.tokenizer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.tokenizer=o}if(n.hooks){let o=this.defaults.hooks||new Xv;for(let i in n.hooks){if(!(i in o))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let a=n.hooks[i],l=o[i];o[i]=Xv.passThroughHooks.has(i)?c=>{if(this.defaults.async)return Promise.resolve(a.call(o,c)).then(h=>l.call(o,h));let d=a.call(o,c);return l.call(o,d)}:(...c)=>{let d=a.apply(o,c);return!1===d&&(d=l.apply(o,c)),d}}r.hooks=o}if(n.walkTokens){let o=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(s){let a=[];return a.push(i.call(this,s)),o&&(a=a.concat(o.call(this,s))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return cc.lex(e,t??this.defaults)}parser(e,t){return uc.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let r={...n},o={...this.defaults,...r},i=this.onError(!!o.silent,!!o.async);if(!0===this.defaults.async&&!1===r.async)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||null===t)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof t)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);let s=o.hooks?o.hooks.provideLexer():e?cc.lex:cc.lexInline,a=o.hooks?o.hooks.provideParser():e?uc.parse:uc.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(l=>s(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>a(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(i);try{o.hooks&&(t=o.hooks.preprocess(t));let l=s(t,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=a(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return i(l)}}}onError(e,t){return n=>{if(n.message+="\nPlease report this to https://github.com/markedjs/marked.",e){let r="<p>An error occurred:</p><pre>"+El(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}};function fr(e,t){return Vu.parse(e,t)}fr.options=fr.setOptions=function(e){return Vu.setOptions(e),zF(fr.defaults=Vu.defaults),fr},fr.getDefaults=function $0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},fr.defaults=ju,fr.use=function(...e){return Vu.use(...e),zF(fr.defaults=Vu.defaults),fr},fr.walkTokens=function(e,t){return Vu.walkTokens(e,t)},fr.parseInline=Vu.parseInline,fr.Parser=uc,fr.parser=uc.parse,fr.Renderer=qc,fr.TextRenderer=q0,fr.Lexer=cc,fr.lexer=cc.lex,fr.Tokenizer=Kv,fr.Hooks=Xv,fr.parse=fr;class Hee extends dt{constructor(t,n){super()}schedule(t,n=0){return this}}const Qv={setInterval(e,t,...n){const{delegate:r}=Qv;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Qv;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},Z0={now:()=>(Z0.delegate||Date).now(),delegate:void 0};class wh{constructor(t,n=wh.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}wh.now=Z0.now;const Wee=new class zee extends wh{constructor(t,n=wh.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class Gee extends Hee{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return Qv.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Qv.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let o,r=!1;try{this.work(t)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ze(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}});class Kee extends $n{constructor(t=1/0,n=1/0,r=Z0){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;n||(r.push(t),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=r?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=n.now();let a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}function Y0(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new En({next:()=>{r.unsubscribe(),e()}});return Ps(t(...n)).subscribe(r)}const Jee=["*"];let a2=(()=>{var e;class t{constructor(){this._buttonClick$=new $n,this.copied=function jee(e,t){const r=t?.manualCleanup?null:t?.injector?.get(Qs)??Be(Qs),o=function Vee(e=Object.is){return(t,n)=>1===t.kind&&1===n.kind&&e(t.value,n.value)}(t?.equal);let i,s;i=Si(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue},{equal:o});const a=e.subscribe({next:l=>i.set({kind:1,value:l}),error:l=>{i.set({kind:2,error:l}),s?.()},complete:()=>{s?.()}});if(t?.requireSync&&0===i().kind)throw new Le(601,!1);return s=r?.onDestroy(a.unsubscribe.bind(a)),Os(()=>{const l=i();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new Le(601,!1)}},{equal:t?.equal})}(this._buttonClick$.pipe(fi(()=>function Uee(...e){const t=Lp(e),n=function R7(e,t){return"number"==typeof mS(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Ps(r[0]):Gd(n)(ni(r,t)):Ra}(un(!0),function Zee(e=0,t,n=Wee){let r=-1;return null!=t&&(PN(t)?n=t:r=t),new Dn(o=>{let i=function qee(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(3e3).pipe(function Yee(e){return Zn(()=>e)}(!1)))),wP(),function Qee(e,t,n){let r,o=!1;return e&&"object"==typeof e?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:n}=e):r=e??1/0,function Xee(e={}){const{connector:t=()=>new $n,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,c=0,d=!1,h=!1;const v=()=>{a?.unsubscribe(),a=void 0},C=()=>{v(),s=l=void 0,d=h=!1},M=()=>{const G=s;C(),G?.unsubscribe()};return ei((G,de)=>{c++,!h&&!d&&v();const he=l=l??t();de.add(()=>{c--,0===c&&!h&&!d&&(a=Y0(M,o))}),he.subscribe(de),!s&&c>0&&(s=new En({next:ke=>he.next(ke),error:ke=>{h=!0,v(),a=Y0(C,n,ke),he.error(ke)},complete:()=>{d=!0,v(),a=Y0(C,r),he.complete()}}),Ps(G).subscribe(s))})(i)}}({connector:()=>new Kee(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1))),this.copiedText=Os(()=>this.copied()?"Copied":"Copy")}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["markdown-clipboard"]],decls:2,vars:3,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(o,i){1&o&&(am(0,"button",0),aC("click",function(){return i.onCopyToClipboardClick()}),Re(1),lm()),2&o&&(Ta("copied",i.copied()),fe(),Ns(i.copiedText()))},encapsulation:2,changeDetection:0}))}return e(),t})();const nte=new it("CLIPBOARD_OPTIONS");var K0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(K0||{});const l2=new it("MARKED_EXTENSIONS"),c2=new it("MARKED_OPTIONS"),ote=new it("MERMAID_OPTIONS"),u2=new it("SANITIZE");let X0=(()=>{var e;class t{get options(){return this._options}set options(r){this._options={...this.DEFAULT_MARKED_OPTIONS,...r}}get renderer(){return this.options.renderer}set renderer(r){this.options.renderer=r}constructor(r,o,i,s,a,l,c,d){this.clipboardOptions=r,this.extensions=o,this.mermaidOptions=s,this.platform=a,this.sanitize=l,this.http=c,this.sanitizer=d,this.DEFAULT_MARKED_OPTIONS={renderer:new qc},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new $n,this.reload$=this._reload$.asObservable(),this.options=i}parse(r,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:c}=o,d={...this.options,...o.markedOptions},h=d.renderer||this.renderer||new qc;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const v=this.trimIndentation(r),C=i?this.decodeHtml(v):v,M=a?this.parseEmoji(C):C,G=this.parseMarked(M,d,s);return c?G:this.sanitizeHtml(G)}render(r,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:c,mermaid:d,mermaidOptions:h}=o;l&&this.renderKatex(r,{...this.DEFAULT_KATEX_OPTIONS,...c}),d&&this.renderMermaid(r,{...this.DEFAULT_MERMAID_OPTIONS,...this.mermaidOptions,...h}),s&&this.renderClipboard(r,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),this.highlight(r)}reload(){this._reload$.next()}getSource(r){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(r,{responseType:"text"}).pipe(Zn(o=>this.handleExtension(r,o)))}highlight(r){if(!Bd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;r||(r=document);const o=r.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(r)}decodeHtml(r){if(!Bd(this.platform))return r;const o=document.createElement("textarea");return o.innerHTML=r,o.value}extendsRendererForExtensions(r){const o=r;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&fr.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),r}extendsRendererForMermaid(r){const o=r;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return r;const i=r.code;return r.code=s=>"mermaid"===s.lang?`<div class="mermaid">${s.text}</div>`:i(s),o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,r}handleExtension(r,o){const i=r.lastIndexOf("://"),s=i>-1?r.substring(i+4):r,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),d=c>-1?l.substring(c+1):"";return d&&"md"!==d?"```"+d+"\n"+o+"\n```":o}parseMarked(r,o,i=!1){if(o.renderer){const s={...o.renderer};delete s.\u0275NgxMarkdownRendererExtendedForExtensions,delete s.\u0275NgxMarkdownRendererExtendedForMermaid,delete o.renderer,fr.use({renderer:s})}return i?fr.parseInline(r,o):fr.parse(r,o)}parseEmoji(r){if(!Bd(this.platform))return r;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(r)}renderKatex(r,o){if(Bd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(r,o)}}renderClipboard(r,o,i){if(!Bd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=r.querySelectorAll("pre");for(let c=0;c<l.length;c++){const d=l.item(c),h=document.createElement("div");h.style.position="relative",d.parentNode.insertBefore(h,d),h.appendChild(d);const v=document.createElement("div");let C,M;if(v.classList.add("markdown-clipboard-toolbar"),v.style.position="absolute",v.style.top=".5em",v.style.right=".5em",v.style.zIndex="1",h.insertAdjacentElement("beforeend",v),h.onmouseenter=()=>v.classList.add("hover"),h.onmouseleave=()=>v.classList.remove("hover"),s){const G=o.createComponent(s);C=G.hostView,G.changeDetectorRef.markForCheck()}else if(a)C=o.createEmbeddedView(a);else{const G=o.createComponent(a2);C=G.hostView,G.changeDetectorRef.markForCheck()}C.rootNodes.forEach(G=>{v.appendChild(G),M=new ClipboardJS(G,{text:()=>d.innerText})}),C.onDestroy(()=>M.destroy())}}renderMermaid(r,o=this.DEFAULT_MERMAID_OPTIONS){if(!Bd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=r.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(r){if(!r)return"";let o;return r.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}sanitizeHtml(r){var o=this;return(0,F.A)(function*(){return function ite(e){return"function"==typeof e}(o.sanitize)?o.sanitize(yield r):o.sanitize!==As.NONE?o.sanitizer.sanitize(o.sanitize,r)??"":r})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(nte,8),oe(l2,8),oe(c2,8),oe(ote,8),oe(ng),oe(u2),oe(bS,8),oe(oS))},this.\u0275prov=et({token:t,factory:t.\u0275fac}))}return e(),t})(),Q0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(r){this._disableSanitizer=this.coerceBooleanProperty(r)}get inline(){return this._inline}set inline(r){this._inline=this.coerceBooleanProperty(r)}get clipboard(){return this._clipboard}set clipboard(r){this._clipboard=this.coerceBooleanProperty(r)}get emoji(){return this._emoji}set emoji(r){this._emoji=this.coerceBooleanProperty(r)}get katex(){return this._katex}set katex(r){this._katex=this.coerceBooleanProperty(r)}get mermaid(){return this._mermaid}set mermaid(r){this._mermaid=this.coerceBooleanProperty(r)}get lineHighlight(){return this._lineHighlight}set lineHighlight(r){this._lineHighlight=this.coerceBooleanProperty(r)}get lineNumbers(){return this._lineNumbers}set lineNumbers(r){this._lineNumbers=this.coerceBooleanProperty(r)}get commandLine(){return this._commandLine}set commandLine(r){this._commandLine=this.coerceBooleanProperty(r)}constructor(r,o,i){this.element=r,this.markdownService=o,this.viewContainerRef=i,this.error=new mn,this.load=new mn,this.ready=new mn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new $n}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(MS(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(r){var o=this;return(0,F.A)(function*(i,s=!1){const a={decodeHtml:s,inline:o.inline,emoji:o.emoji,mermaid:o.mermaid,disableSanitizer:o.disableSanitizer},l={clipboard:o.clipboard,clipboardOptions:o.getClipboardOptions(),katex:o.katex,katexOptions:o.katexOptions,mermaid:o.mermaid,mermaidOptions:o.mermaidOptions},c=yield o.markdownService.parse(i,a);o.element.nativeElement.innerHTML=c,o.handlePlugins(),o.markdownService.render(o.element.nativeElement,l,o.viewContainerRef),o.ready.emit()}).apply(this,arguments)}coerceBooleanProperty(r){return null!=r&&"false"!=`${String(r)}`}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:r=>{this.render(r).then(()=>{this.load.emit(r)})},error:r=>this.error.emit(r)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,K0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,K0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(r,o){const i=r.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const c=this.toLispCase(a);i.item(s).setAttribute(c,l.toString())}})}toLispCase(r){const o=r.match(/([A-Z])/g);if(!o)return r;let i=r.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(ot),y(X0),y(Qi))},this.\u0275cmp=Je({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Xi],ngContentSelectors:Jee,decls:1,vars:0,template:function(o,i){1&o&&(bt(),yt(0))},encapsulation:2}))}return e(),t})();function pte(e){return[X0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],e?.mermaidOptions??[],e?.markedExtensions??[],gte(e?.sanitize)??[]]}function gte(e){return function hte(e){return null!=e&&null!=e.provide}(e)?e:{provide:u2,useValue:e??As.HTML}}let J0=(()=>{var e;class t{static forRoot(r){return{ngModule:t,providers:[pte(r)]}}static forChild(){return{ngModule:t}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({}))}return e(),t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const yte=new Error("request for lock canceled");class bte{constructor(t,n=yte){this._value=t,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}acquire(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,o)=>{const i={resolve:r,reject:o,weight:t,priority:n},s=d2(this._queue,a=>n<=a.priority);-1===s&&t<=this._value?this._dispatchItem(i):this._queue.splice(s+1,0,i)})}runExclusive(t){return function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}(this,arguments,void 0,function*(n,r=1,o=0){const[i,s]=yield this.acquire(r,o);try{return yield n(i)}finally{s()}})}waitForUnlock(t=1,n=0){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return this._couldLockImmediately(t,n)?Promise.resolve():new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),function Cte(e,t){const n=d2(e,r=>t.priority<=r.priority);e.splice(n+1,0,t)}(this._weightedWaiters[t-1],{resolve:r,priority:n})})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatchQueue()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatchQueue()}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatchQueue(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()}_dispatchItem(t){const n=this._value;this._value-=t.weight,t.resolve([n,this._newReleaser(t.weight)])}_newReleaser(t){let n=!1;return()=>{n||(n=!0,this.release(t))}}_drainUnlockWaiters(){if(0===this._queue.length)for(let t=this._value;t>0;t--){const n=this._weightedWaiters[t-1];n&&(n.forEach(r=>r.resolve()),this._weightedWaiters[t-1]=[])}else{const t=this._queue[0].priority;for(let n=this._value;n>0;n--){const r=this._weightedWaiters[n-1];if(!r)continue;const o=r.findIndex(i=>i.priority<=t);(-1===o?r:r.splice(0,o)).forEach(i=>i.resolve())}}}_couldLockImmediately(t,n){return(0===this._queue.length||this._queue[0].priority<n)&&t<=this._value}}function d2(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}class Oa{constructor(t){this._semaphore=new bte(1,t)}acquire(){return e=this,t=arguments,r=function*(t=0){const[,n]=yield this._semaphore.acquire(1,t);return n},new((n=void 0)||(n=Promise))(function(i,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function l(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?i(d.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(d.value).then(a,l)}c((r=r.apply(e,t||[])).next())});var e,t,n,r}runExclusive(t,n=0){return this._semaphore.runExclusive(()=>t(),1,n)}isLocked(){return this._semaphore.isLocked()}waitForUnlock(t=0){return this._semaphore.waitForUnlock(1,t)}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const uf=function Dte(){if(!_l)return 0;const e=navigator.userAgent.match(/cpe-native-api-(\d+)/);if(!e)return 0;const t=parseInt(e[1],10);return isNaN(t)?0:t}(),ew=new mr.J;uf>0&&(window.__cpeCallFromNative=e=>ew.dispatch(e));let ia=(()=>{var e;class t{constructor(){this.netRpcResult=new mr.J,this.onNativeMessage=r=>{"netRpcResult"===r.type?this.netRpcResult.dispatch({sessionId:r.sessionId,rpcData:new Uint8Array(r.rpcData)}):console.error("unhandled native message",r)},ew.addHandler(this.onNativeMessage)}ngOnDestroy(){ew.removeHandler(this.onNativeMessage)}netOpenSession(){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netOpenSession"})}netCloseSession(r){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netCloseSession",sessionId:r})}netDispatchRpc(r,o){return this.assertNativeNetworkIntegrationSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"netDispatchRpc",sessionId:r,rpcData:Array.from(o)}).then(i=>!!i)}clipboardRead(){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardRead"})}clipboardWrite(r){return this.assertNativeClipboardSupported(),window.webkit.messageHandlers.nativeCall.postMessage({type:"clipboardWrite",data:r})}isResumeFromBackground(){return void 0!==window.__cpeLastResume&&Date.now()-window.__cpeLastResume<=3e3}setWorkerRegistered(r){return(0,F.A)(function*(){uf>2&&(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"setWorkerRegistered",workerRegistered:r}))})()}getWorkerFailed(){return(0,F.A)(function*(){return!(uf<3||!(yield window.webkit.messageHandlers.nativeCall.postMessage({type:"getWorkerFailed"})))})()}clearWorkerFailed(){uf>2&&window.webkit.messageHandlers.nativeCall.postMessage({type:"clearWorkerFailed"})}assertNativeNetworkIntegrationSupported(){if(!t.supportsNativeNetworkIntegration())throw new Error("native network integration not supported")}assertNativeClipboardSupported(){if(!t.supportsNativeClipboard())throw new Error("native clipboard is not supported")}static supportsNativeNetworkIntegration(){return _l&&uf>0}static supportsNativeClipboard(){return _l&&uf>1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Ite=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function p2(e){let t=-1;for(let n=0;n<e.length;n++)t=Ite[255&(t^e[n])]^t>>>8;return~t}var Tte=_(6243),Ate=_.n(Tte);const h2={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let tw;const Mte=new Uint8Array(16),Ai=[];for(let e=0;e<256;++e)Ai.push((e+256).toString(16).slice(1));const m2=function kte(e,t,n){if(h2.randomUUID&&!t&&!e)return h2.randomUUID();const r=(e=e||{}).random??e.rng?.()??function xte(){if(!tw){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");tw=crypto.getRandomValues.bind(crypto)}return tw(Mte)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let o=0;o<16;++o)t[n+o]=r[o];return t}return function g2(e,t=0){return(Ai[e[t+0]]+Ai[e[t+1]]+Ai[e[t+2]]+Ai[e[t+3]]+"-"+Ai[e[t+4]]+Ai[e[t+5]]+"-"+Ai[e[t+6]]+Ai[e[t+7]]+"-"+Ai[e[t+8]]+Ai[e[t+9]]+"-"+Ai[e[t+10]]+Ai[e[t+11]]+Ai[e[t+12]]+Ai[e[t+13]]+Ai[e[t+14]]+Ai[e[t+15]]).toLowerCase()}(r)};function Gn(){return(e,t,n)=>{const r=n.value;let o=!1;return n.value=(0,F.A)(function*(...i){if(!o){o=!0;try{return yield r.apply(this,i)}finally{o=!1}}}),n}}let dc=(()=>{var e;class t{constructor(){this._currentSession=Si(void 0)}get currentSession(){return this._currentSession}setCurrentSession(r){this._currentSession.set(r)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var v2;class y2{constructor(t){this.markup=t}}class Sr{constructor(t,n){this.alertController=t,this.emulationState=n,this.emergencySaveEvent=new mr.J,this.sanitizeDiv=document.createElement("div")}verbatim(t){return new y2(t)}errorMessage(t){var n=this;return(0,F.A)(function*(r,o="Close"){const i=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(r),buttons:[{text:o,role:"cancel"}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()}).apply(this,arguments)}message(t,n){var r=this;return(0,F.A)(function*(o,i,s={},a="Close"){const l=yield r.alertController.create({header:o,message:r.sanitizeMessage(i),backdropDismiss:!1,buttons:[{text:a,role:"cancel"},...Object.keys(s).map(c=>({text:c,handler:()=>{s[c](),l.dismiss()}}))],cssClass:"cpe-alert-message"});yield l.present(),yield l.onDidDismiss()}).apply(this,arguments)}messageWithChoice(t,n,r,o){var i=this;return(0,F.A)(function*(s,a,l,c,d={},h="Close"){const v=yield i.alertController.create({header:s,message:i.sanitizeMessage(a),backdropDismiss:!1,buttons:[{text:h,role:"cancel"},...Object.keys(d).map(C=>({text:C,handler:()=>{d[C](),v.dismiss()}}))],inputs:[{type:"checkbox",label:l,checked:!1,handler:C=>c=!0===C.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border cpe-alert-message"});return yield v.present(),yield v.onDidDismiss(),c}).apply(this,arguments)}updateAvailable(t){var n=this;return(0,F.A)(function*(){const r=yield n.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield r.present(),yield r.onDidDismiss()})()}fatalError(t){var n=this;return(0,F.A)(function*(r,o=!0){const i=!!n.emulationState.currentSession(),s=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${r}\n                <br/><br/>\n                Please close or reload this window.\n                ${i&&o?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...i&&o?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield s.present(),yield s.onDidDismiss()}).apply(this,arguments)}errorInNativeCode(t){var n=this;return(0,F.A)(function*(){const r=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}snapshotTimeout(){var t=this;return(0,F.A)(function*(){yield t.message("Timeout while saving state","Your browser's IndexedDB is either slow to respond or has crashed. You can either retry or reload CloudpilotEmu.",{Reload:()=>window.location.reload()},"Retry")})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new x0.I(t instanceof y2?t.markup:t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(n=>(this.sanitizeDiv.textContent=n,this.sanitizeDiv.innerHTML)).join("<br/>"))}static#e=v2=()=>(this.\u0275fac=function(n){return new(n||Sr)(oe(O0),oe(dc))},this.\u0275prov=et({token:Sr,factory:Sr.\u0275fac,providedIn:"root"}))}v2(),re([Gn()],Sr.prototype,"updateAvailable",null),re([Gn()],Sr.prototype,"fatalError",null),re([Gn()],Sr.prototype,"errorInNativeCode",null),re([Gn()],Sr.prototype,"snapshotTimeout",null);let Uu=(()=>{var e;class t{constructor(r,o,i){this.alertService=r,this.nativeAppService=o,this.ngZone=i,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>{this.nativeAppService.isResumeFromBackground()?window.location.reload():this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1)},this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=s=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${s}.`),this.fatalInNativeCode=s=>this.fatalWithMessage(s.message,!0,!1),this.fatalWithMessage=(s,a=!0,l=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,a&&yN(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(s,l))}),this.fatalErrorEvent=new mr.J,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Sr),oe(ia),oe(We))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var Mr=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Mr||{});let Eh=(()=>{var e;class t{constructor(r){this.errorService=r,this.ownershipMmap=new Map}getOwner(r){return this.ownershipMmap.get(r)??Mr.none}claim(r,o){this.assertOwnership(r,Mr.none),this.ownershipMmap.set(r,o)}release(r,o){this.assertOwnership(r,o),this.ownershipMmap.delete(r)}assertOwnership(r,o){if(this.getOwner(r)===o)return;const i=o===Mr.none?`Card alread claimed for ${this.getOwner(r)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(r)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(r,o,i){this.assertOwnership(r,o),this.ownershipMmap.set(r,i)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Uu))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class Hu extends Error{constructor(t){super(t)}}const Zc="session",df="rom",Yc="memory",fc="state",ey="kvs",Kc="memory-meta",Dl="storage",sa="storage-card",Dh="lock",ty="session",rw="memory",C2="storage-meta",S2="storage-card";function ow(){return(ow=(0,F.A)(function*(e,t){function n(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(ty).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,c={...l,totalMemory:1024*l.ram*1024+n(l.device)};a.update(c),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function iw(){return(iw=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=t.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=n.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(n.put(r,"credentials"),n.delete("proxyCredentials"))})).apply(this,arguments)}function sw(){return(sw=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");const n=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(C2,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(ty).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(n.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function aw(){return(aw=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(C2).name=S2})).apply(this,arguments)}function lw(){return(lw=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(S2).createIndex("storageId","storageId")})).apply(this,arguments)}function cw(){return(cw=(0,F.A)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}function nr(e){return new Promise((t,n)=>{!function Wte(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>n(new Hu(e.error?.message))})}function w2(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let n=0;n<256;n++)if(e[n]!==t)return e;return 255&e[0]}function qte(e){const t=e[0];for(let n=1;n<2048;n++)if(e[n]!==t)return e;return t}var E2;const uw=new Error("page lock lost"),D2=new Error("version mismatch"),I2=m2();function Io(){return(e,t,n)=>{const r=n.value;return n.value=(0,F.A)(function*(...o){const i=this.errorService;try{return yield r.apply(this,o)}catch(s){throw console.error(s),s instanceof Hu?i.fatalIDBDead():s===D2?i.fatalVersionMismatch():s===uw?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),n}}class qn{constructor(t,n,r){this.ngZone=t,this.errorService=n,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Yc),l=o.objectStore(Kc),c=new Uint32Array(256),d=new Uint8Array(c.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const v=s.length>>>10;for(let C=0;C<v;C++){d.set(s.subarray(1024*C,1024*(C+1)));const M=w2(c);if("number"==typeof M)a.put(M,[i,C]);else{const G=new Uint32Array(256);G.set(M),a.put(G,[i,C])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,F.A)(function*(){const a=o.objectStore(Kc),l=yield nr(a.get(i));if(!l)return;const c=yield new Promise(function(){var d=(0,F.A)(function*(h,v){const C=o.objectStore(Yc),M=new Uint32Array(l.totalSize>>>2),G=C.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));G.onsuccess=()=>{const de=G.result;if(!de)return h(new Uint8Array(M.buffer));const he=de.value,[,ke]=de.key;"number"==typeof he?M.subarray(256*ke,256*(ke+1)).fill(he|he<<8|he<<16|he<<24):M.subarray(256*ke,256*(ke+1)).set(1024===he.length?new Uint32Array(he.buffer):he),de.continue()},G.onerror=()=>v(new Hu(G.error?.message))});return function(h,v){return d.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&l.crc32!==p2(c))throw new Error("snapshot CRC mismatch");return c})),this.sessionChangeEvent=new mr.J,this.storageCardChangeEvent=new mr.J,this.sessionUpdateMutex=new Oa,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,n,r,o){var i=this;return(0,F.A)(function*(){const s=Ate()(n),a=yield i.newTransaction(Zc,df,fc,Yc,Kc),l=a.objectStore(Zc),c=a.objectStore(df);(yield nr(c.get(s)))||c.put(n,s);const{id:h,...v}=t,C=yield nr(l.add({...v,rom:s})),M=yield nr(l.get(C));return r&&i.saveMemory(a,M.id,r),o&&i.saveState(a,M.id,o),yield nr(a),M})()}getAllSessions(){var t=this;return(0,F.A)(function*(){const[n]=yield t.prepareObjectStore(Zc);return yield nr(n.getAll())})()}getSession(t){var n=this;return(0,F.A)(function*(){const[r]=yield n.prepareObjectStore(Zc);return yield nr(r.get(t))})()}deleteSession(t){var n=this;return(0,F.A)(function*(){const r=yield n.newTransaction(Zc,df,fc,Yc,Kc),o=r.objectStore(Zc),i=r.objectStore(df);(t=yield nr(o.get(t.id)))&&(o.delete(t.id),0===(yield nr(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),n.deleteMemory(r,t.id),n.deleteState(r,t.id),yield nr(r),n.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,n){var r=this;return this.sessionUpdateMutex.runExclusive((0,F.A)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=n,[c,d]=yield r.prepareObjectStore(Zc),h=yield nr(c.get(t));if(!h)throw new Error(`no session with id ${t}`);const v={...h,...l};c.put(v),yield nr(d),r.sessionChangeEvent.dispatch([h.id,v])}))}updateSession(t){var n=this;return this.sessionUpdateMutex.runExclusive((0,F.A)(function*(){const[r,o]=yield n.prepareObjectStore(Zc),i=yield nr(r.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");r.put(t),yield nr(o),n.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,n){var r=this;return(0,F.A)(function*(){const o=yield r.newTransaction(df,fc,Yc,Kc),i=o.objectStore(df);return[yield nr(i.get(t.rom)),yield r.loadMemory(o,t.id,n),yield r.loadState(o,t.id)]})()}deleteStateForSession(t){var n=this;return(0,F.A)(function*(){const[r,o]=yield n.prepareObjectStore(fc);r.delete(t.id),yield nr(o)})()}addEmptyStorageCard(t){var n=this;return(0,F.A)(function*(){const[r]=yield n.prepareObjectStore(sa),o=yield nr(r.add(t)),i=yield nr(r.get(o));return n.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,n){var r=this;return(0,F.A)(function*(){return r.ngZone.runOutsideAngular((0,F.A)(function*(){const o=yield r.newTransaction(sa,Dl),i=o.objectStore(sa),s=o.objectStore(Dl),a=yield nr(i.add(t)),l=(t.size>>>13)+(n.length%8192==0?0:1),c=new Uint32Array(2048);for(let h=0;h<l;h++){const v=n.subarray(2048*h,2048*(h+1));h===l-1&&c.set(v);const C=qte(h===l-1?c:v);0!==C&&s.put("number"==typeof C?C:C?.slice(),[a,h])}const d=yield nr(i.get(a));return yield nr(o),r.storageCardChangeEvent.dispatch(d.id),d}))})()}getAllStorageCards(){var t=this;return(0,F.A)(function*(){const[n]=yield t.prepareObjectStore(sa);return nr(n.getAll())})()}getCard(t){var n=this;return(0,F.A)(function*(){const[r]=yield n.prepareObjectStore(sa);return nr(r.get(t))})()}updateStorageCardPartial(t,n){var r=this;return(0,F.A)(function*(){const{storageId:o,size:i,id:s,...a}=n,[l,c]=yield r.prepareObjectStore(sa),d=yield nr(l.get(t));if(!d)throw new Error(`no card with id ${t}`);const h={...d,...a};l.put(h),yield nr(c),r.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var n=this;return(0,F.A)(function*(){const r=yield n.newTransaction(sa,Dl);n.storageCardContext.assertOwnership(t,Mr.none);const o=r.objectStore(sa),i=r.objectStore(Dl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield nr(r),n.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,n,r){var o=this;return this.ngZone.runOutsideAngular((0,F.A)(function*(){n.fill(0);const i=yield o.newTransaction(sa,Dl);o.storageCardContext.assertOwnership(t,r);const s=i.objectStore(Dl);yield new Promise(function(){var a=(0,F.A)(function*(l,c){const d=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));d.onsuccess=()=>{const h=d.result;if(!h)return l();let v=h.value;const[,C]=h.key;"number"==typeof v?n.subarray(2048*C,2048*(C+1)).fill(v):(2048*(C+1)>n.length&&(v=v.subarray(0,2048-2048*(C+1)+n.length)),n.subarray(2048*C,2048*(C+1)).set(v)),h.continue()},d.onerror=()=>c(new Hu(d.error?.message))});return function(l,c){return a.apply(this,arguments)}}())}))}updateCardData(t,n,r,o){var i=this;return this.ngZone.runOutsideAngular((0,F.A)(function*(){const s=yield i.newTransaction(sa,Dl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(sa),l=s.objectStore(Dl),c=yield nr(a.get(t));if(!c)throw new Error(`no card with ID ${t}`);if(n.length!==c.size>>>2)throw new Error("data size mismatch");const d=(c.size>>>13)+(c.size%8192>0?1:0);if((d>>>3)+(d%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let h=0;for(let v=0;v<r.length;v++)for(let C=1;C<256&&!(h>=d);C<<=1)r[v]&C&&l.put(n.subarray(2048*h,2048*(h+1)).slice(),[c.id,h]),h++;yield nr(s)}))}kvsGet(t){var n=this;return(0,F.A)(function*(){const[r]=yield n.prepareObjectStore(ey);return nr(r.get(t))})()}kvsSet(t){var n=this;return(0,F.A)(function*(){const[r,o]=yield n.prepareObjectStore(ey);for(const i of Object.keys(t))r.put(t[i],i);yield nr(o)})()}kvsLoad(){var t=this;return(0,F.A)(function*(){const[n]=yield t.prepareObjectStore(ey);return new Promise((r,o)=>{const i={},s=n.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Hu(s.error?.message))})})()}kvsDelete(t){var n=this;return(0,F.A)(function*(){const[r,o]=yield n.prepareObjectStore(ey);r.delete(t),yield nr(o)})()}acquireLock(t){var n=this;return(0,F.A)(function*(){if(n.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield nr(t.objectStore(Dh).get(0)))!==I2)throw t.abort(),t.db.close(),uw})()}newTransaction(...t){var n=this;return(0,F.A)(function*(){const r=(yield n.db).transaction([Dh,...t],"readwrite",{durability:"relaxed"});return yield n.acquireLock(r),r})()}prepareObjectStore(t){var n=this;return(0,F.A)(function*(){const r=yield n.newTransaction(t);return[r.objectStore(t),r]})()}saveState(t,n,r){const o=t.objectStore(fc);r?o.put(r,n):o.delete(n)}deleteState(t,n){t.objectStore(fc).delete(n)}loadState(t,n){return nr(t.objectStore(fc).get(n))}deleteMemory(t,n){const r=t.objectStore(Yc),o=t.objectStore(Kc);r.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),o.delete(n)}initializeLock(t){return(0,F.A)(function*(){const n=t.transaction(Dh,"readwrite");yield nr(n.objectStore(Dh).put(I2,0))})()}setupDb(){var t=this;return(0,F.A)(function*(){const n=setTimeout(()=>ho&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(n),o&&void 0!==o.version&&o.version>9)throw D2}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new Hu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new Hu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,F.A)(function*(l){clearTimeout(n),l.oldVersion<1&&function $te(e){e.createObjectStore(ty,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function Bte(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(rw)&&e.deleteObjectStore(rw),t.objectStore(ty).clear(),e.createObjectStore("rom"),e.createObjectStore(rw),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function jte(e,t){return ow.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function Vte(e,t){return iw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function Ute(e,t){return sw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function Hte(e,t){return aw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function Gte(e,t){return lw.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function zte(e,t){return cw.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(r),r}finally{clearTimeout(n)}})()}requestPersistentStorage(){return(0,F.A)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}static#e=E2=()=>(this.\u0275fac=function(n){return new(n||qn)(oe(We),oe(Uu),oe(Eh))},this.\u0275prov=et({token:qn,factory:qn.\u0275fac,providedIn:"root"}))}E2(),re([Io()],qn.prototype,"addSession",null),re([Io()],qn.prototype,"getAllSessions",null),re([Io()],qn.prototype,"getSession",null),re([Io()],qn.prototype,"deleteSession",null),re([Io()],qn.prototype,"updateSessionPartial",null),re([Io()],qn.prototype,"updateSession",null),re([Io()],qn.prototype,"loadSession",null),re([Io()],qn.prototype,"deleteStateForSession",null),re([Io()],qn.prototype,"addEmptyStorageCard",null),re([Io()],qn.prototype,"importStorageCard",null),re([Io()],qn.prototype,"getAllStorageCards",null),re([Io()],qn.prototype,"getCard",null),re([Io()],qn.prototype,"updateStorageCardPartial",null),re([Io()],qn.prototype,"deleteStorageCard",null),re([Io()],qn.prototype,"loadCardData",null),re([Io()],qn.prototype,"kvsGet",null),re([Io()],qn.prototype,"kvsSet",null),re([Io()],qn.prototype,"kvsDelete",null),re([Io()],qn.prototype,"newTransaction",null),re([Io()],qn.prototype,"prepareObjectStore",null),re([Io()],qn.prototype,"initializeLock",null),re([Io()],qn.prototype,"setupDb",null);const T2={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,networkRedirectionMode:ia.supportsNativeNetworkIntegration()?"native":"proxy",proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Bi=(()=>{var e;class t{constructor(r){var o=this;this.storageService=r,this.set=i=>this.storageMutex.runExclusive((0,F.A)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new mr.J,this.mutex=new Oa,this.storageMutex=new Oa,this.initializationPromise=this.startInitialization().then(()=>this.migrate())}initialize(){var r=this;return(0,F.A)(function*(){return r.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialization(){var r=this;return(0,F.A)(function*(){const o=r;try{const i={...T2,...yield r.storageService.kvsLoad()};r.rawKvs=i,r.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive((0,F.A)(function*(){yield o.storageService.kvsSet({[a]:l})})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),r.kvsProxy={...T2}}})()}migrate(){var r=this;return(0,F.A)(function*(){switch(r.kvs.networkRedirectionMode){case"native":ia.supportsNativeNetworkIntegration()||(yield r.set({networkRedirectionMode:"proxy",networkRedirection:!1}));break;case"proxy":break;default:yield r.set({networkRedirectionMode:"proxy"})}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(qn))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),A2=(()=>{var e;class t{constructor(){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-dummy"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(j(0,"div"),Re(1,"Dummy"),q())},encapsulation:2}))}return e(),t})(),M2=(()=>{var e;class t{constructor(r,o){this.linkApi=r,this.router=o}canActivate(r){return r.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!r.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(r.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(cS),oe(Ti))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Ih=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({imports:[Xl,J0.forChild(),Wc,$u,Bv]}))}return e(),t})(),Zte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({imports:[Xl,$u,Wc,Ih,J0.forChild()]}))}return e(),t})(),Yte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({imports:[Xl,$u,Wc,Ih]}))}return e(),t})(),Kte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({imports:[Xl,$u,Wc,Bv,Ih]}))}return e(),t})(),Xte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({imports:[Xl,$u,Wc,Ih,Bv]}))}return e(),t})(),Qte=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({imports:[Xl,Wc,$u,Bv,Ih]}))}return e(),t})();const Jte=_.p+"assets/doc/about-0d56c8de99bbc738.md",x2=_.p+"assets/doc/CHANGELOG-953953eae59b19b7.md";function ene(e,t){1&e&&(j(0,"div",5),nt(1,"ion-spinner"),q())}let Gu=(()=>{var e;class t{constructor(r){this.modalController=r,this.title="Help",this.loading=!0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Bs))},this.\u0275cmp=Je({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},standalone:!1,decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"load","src"],[1,"loader"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3),q(),j(4,"ion-buttons",0)(5,"ion-button",1),He("click",function(){return i.modalController.dismiss()}),Re(6,"Close"),q()()()(),j(7,"ion-content",2),nn(8,ene,2,0,"div",3),j(9,"markdown",4),He("load",function(){return i.loading=!1}),q()()),2&o&&(fe(3),Ns(i.title),fe(5),pe("ngIf",i.loading),fe(),pe("src",i.url))},dependencies:[wo,Q0,os,is,ss,as,gh,ls,cs],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}))}return e(),t})();const zu="1.10.11-43de450 (preview)";let ny=(()=>{var e;class t{constructor(r,o,i){var s=this;this.loadingController=r,this.alertService=o,this.nativeAppService=i,this.updateNativeAppRegistrationStatus=a=>this.updateNativeAppRegistrationStatusMutex.runExclusive(()=>this.nativeAppService.setWorkerRegistered(a)),this.register=()=>this.registerMutex.runExclusive((0,F.A)(function*(){if(s.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>s.reloadOnControllerChange&&window.location.reload()),yield new Promise(a=>setTimeout(a,3e3));try{s.setupRegistration(yield s.doRegister())}catch(a){console.error(a)}}})),this.reloadOnControllerChange=!1,this.registerMutex=new Oa,this.updateNativeAppRegistrationStatusMutex=new Oa,this.updateAvailableEvent=new mr.J,this.register(),this.isEnabled()&&this.updateNativeAppRegistrationStatus(this.isRegistered())}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}reset(){var r=this;return(0,F.A)(function*(){if(!r.registration)return;const o=yield r.loadingController.create();yield o.present();try{if(!(yield r.registration.unregister()))throw new Error("failed to unregister worker");yield r.updateNativeAppRegistrationStatus(!1)}catch(i){return console.error(i),void(yield r.alertService.errorMessage("Failed to unregister service worker."))}finally{yield o.dismiss()}yield r.alertService.message("Service worker unregistered","\n            The current service worker has been unregistered. Please reload the app\n            in order to register a new worker for offline usage.\n        ",{},"Reload"),window.location.reload()})()}update(){var r=this;return(0,F.A)(function*(){r.registration&&r.registration.update()})()}activateUpdate(){var r=this;return(0,F.A)(function*(){r.registration?.waiting&&(yield(yield r.loadingController.create({message:"Updating..."})).present(),r.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}doRegister(){return(0,F.A)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(r){this.registration=r,r.waiting&&this.dispatchUpdate(),r.installing&&this.handleInstallingWorker(r.installing),r.addEventListener("updatefound",()=>r.installing&&this.handleInstallingWorker(r.installing))}handleInstallingWorker(r){let o=!1;r.addEventListener("statechange",()=>{"installed"!==r.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(oa),oe(Sr),oe(ia))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var pc=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(pc||{});const R2='<a href="https://apps.apple.com/us/app/cloudpilotemu/id6478502699" target="_blank">App Store</a>',ine=`\n    You can install CloudpilotEmu as an app either from the\n    ${R2} or by selecting "Share" and "Add to Home Screen"\n    in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`,ane=`\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app either from the\n    ${R2} or by selecting "Share"\n    and "Add to Home Screen" in Safari.\n    <br/><br/>\n    If you continue to run CloudpilotEmu in the browser iOS will remove your data after seven days\n    of inactivity.\n`;let ry=(()=>{var e;class t{constructor(r,o){var i=this;this.kvsService=r,this.alertService=o,this.serviceWorkerKeepalive=(0,F.A)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch(s){console.error(s)}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ho||iS)&&this.installationMode===pc.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.alertService.verbatim(this.getInstallMessage()))}invite(){(ho||iS||Pp)&&this.installationMode===pc.web&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,Object.prototype.hasOwnProperty.call(window,"onbeforeinstallprompt")||this.alertService.message("App available",this.alertService.verbatim(this.getInviteMessage()))))}getInstallMessage(){return ho?ine:'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ho?ane:Pp?'\n    Howdy! It seems that you are running CloudpilotEmu on a Mac. Safari will delete all\n    data after seven days of inactivity. However, you can click the "Share"\n    icon in the browser toolbar and select "Add to dock" to install\n    CloudpilotEmu as an app.\n    <br><br>\n    This will keep Safari from deleting your\n    data.\n':'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?pc.pwa:document.referrer.startsWith("android-app://")?pc.twa:window.matchMedia("(display-mode: standalone)").matches?pc.pwa:pc.web}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Bi),oe(Sr))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function cne(e,t){if(1&e){const n=Nn();j(0,"ion-button",1),He("click",function(){return Ze(n),at(vt().onClick())}),nt(1,"ion-icon",2),q()}if(2&e){const n=vt();fe(),pe("name",n.iconName)}}let oy=(()=>{var e;class t{constructor(r){this.pwaService=r}onClick(){this.pwaService.install()}get iconName(){return ho?"logo-apple-appstore":iS?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(ry))},this.\u0275cmp=Je({type:t,selectors:[["app-pwa-prompt"]],standalone:!1,decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(o,i){1&o&&nn(0,cne,2,1,"ion-button",0),2&o&&pe("ngIf",i.show)},dependencies:[wo,os,Uo],encapsulation:2}))}return e(),t})();var N2;function une(e,t){1&e&&(j(0,"div",11),nt(1,"ion-spinner"),q())}function dne(e,t){if(1&e){const n=Nn();j(0,"div"),Re(1,"app cached for offline use"),q(),j(2,"a",9),He("click",function(){return Ze(n),at(vt().resetWorker())}),Re(3,"reset worker"),q()}}class Th{constructor(t,n){this.modalController=t,this.serviceWorkerService=n,this.loading=!0}get version(){return zu}get url(){return Jte}showChangelog(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Gu,componentProps:{url:x2,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}resetWorker(){var t=this;return(0,F.A)(function*(){yield t.serviceWorkerService.reset()})()}static#e=N2=()=>(this.\u0275fac=function(n){return new(n||Th)(y(Bs),y(ny))},this.\u0275cmp=Je({type:Th,selectors:[["app-about"]],standalone:!1,decls:21,vars:7,consts:[[3,"translucent"],["slot","secondary"],[3,"fullscreen"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"load","src","disableSanitizer"],[1,"version"],["href","javascript:",3,"click"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,r){1&n&&(j(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Re(3,"About"),q(),j(4,"ion-buttons",1),nt(5,"app-pwa-prompt"),q()()(),j(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),Re(10,"About"),q()()(),nn(11,une,2,0,"div",5),j(12,"div",6)(13,"markdown",7),He("load",function(){return r.loading=!1}),q()(),j(14,"div",8),Re(15),nt(16,"br"),j(17,"a",9),He("click",function(){return r.showChangelog()}),Re(18,"Changelog"),q(),function $M(e,t,n,r,o,i,s,a){wi("NgControlFlow");const l=De(),c=Yt();return gu(l,c,e,t,n,r,o,ui(c.consts,i),256,s,a),Jb}(19,dne,4,0),q(),nt(20,"img",10),q()),2&n&&(pe("translucent",!0),fe(6),pe("fullscreen",!0),fe(5),pe("ngIf",r.loading),fe(2),pe("src",r.url)("disableSanitizer",!0),fe(2),Di(" CloudpilotEmu version ",r.version," "),fe(4),BM(r.serviceWorkerAvailable?19:-1))},dependencies:[wo,is,ss,as,gh,ls,cs,oy,Q0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:1em;margin-right:1em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}))}N2(),re([Gn()],Th.prototype,"resetWorker",null);const fne=_.p+"assets/doc/emulation-43714ce6b9b92f30.md";function pne(e,t){if(1&e){const n=Nn();j(0,"ion-item",2),He("click",function(){const o=Ze(n).$implicit;return at(vt(2).onSelect(o))}),j(1,"div",3),Re(2),q()()}if(2&e){const n=t.$implicit,r=t.index,o=vt(2);pe("detail",!1)("lines",r===o.sessions.length-1?"none":"full"),fe(2),Ns(n.name)}}function hne(e,t){if(1&e&&(j(0,"ion-list"),nn(1,pne,3,3,"ion-item",1),q()),2&e){const n=vt();fe(),pe("ngForOf",n.sessions)}}let gne=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[1,"text-wrapper"]],template:function(o,i){1&o&&nn(0,hne,2,1,"ion-list",0),2&o&&pe("ngIf",i.sessions)},dependencies:[Kl,wo,Do,ra],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}))}return e(),t})();var J=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(J||{}),ff=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(ff||{});function Ah(e){switch(e){case J.i710:case J.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case J.handera330:case J.handera330c:case J.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case J.pegS300:case J.pegS320:case J.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case J.pegT600c:case J.pegT400:case J.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case J.pegN600c:case J.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case J.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case J.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function dw(e){switch(e){case J.pilot:case J.palmPilot:case J.iii:case J.palmV:case J.palmVx:case J.iiix:case J.iiixe:case J.iiie:case J.m100:case J.m105:case J.m125:case J.m500:case J.palmVII:case J.palmVIIEZ:case J.palmVIIx:case J.i705:case J.handera330:case J.pegS300:case J.pegS320:case J.pegT400:case J.acerS11:return!1;default:return!0}}function O2(e){switch(e){case J.pilot:return"Pilot";case J.palmPilot:return"Palm Pilot";case J.iii:return"Palm III";case J.m500:return"Palm m500";case J.m505:return"Palm m505";case J.m515:return"Palm m515";case J.m520:return"Palm m520";case J.palmVx:return"Palm Vx";case J.iiix:return"Palm IIIx";case J.iiixe:return"Palm IIIxe";case J.iiie:return"Palm IIIe";case J.palmV:return"Palm V";case J.palmVII:return"Palm VII";case J.palmVIIEZ:return"Palm VII EZ";case J.palmVIIx:return"Palm VIIx";case J.iiic:return"Palm IIIc";case J.m100:return"Palm m100";case J.m105:return"Palm m105";case J.m125:return"Palm m125";case J.m130:return"Palm m130";case J.i705:return"Palm i705";case J.i710:return"Tungsten W";case J.handera330:return"Handera 330";case J.handera330c:return"Handera 330c";case J.pegS300:return"Sony PEG-S300";case J.pegS320:return"Sony PEG-S320";case J.pegT400:return"Sony PEG-T400 series";case J.pegN600c:return"Sony PEG-N600C series";case J.pegT600c:return"Sony PEG-T600C series";case J.pegN700c:return"Sony PEG-N700C series";case J.pegT650c:return"Sony PEG-T650C series";case J.pegNR70:return"Sony PEG-NR70 series";case J.pegS500c:return"Sony PEG-S500C series";case J.acerS11:return"Acer S1x series";case J.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function P2(e){switch(e){case J.m500:case J.m505:case J.m515:case J.m520:case J.m125:case J.m130:case J.i705:case J.i710:case J.handera330:case J.handera330c:return ff.sdcard;case J.pegS300:case J.pegS500c:case J.pegS320:case J.pegT400:case J.pegN600c:case J.pegT600c:case J.pegN700c:case J.pegT650c:case J.pegNR70:case J.acerS11:return ff.memorystick;default:return ff.none}}var Fr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Fr||{});function Mh(e){let t,n,r=!1;return o=>((!r||o!==t)&&(t=o,r=!0,n=e(o)),n)}function pf(e,t){let n=e,r=1;for(;t(n);)n=`${e} (${r++})`;return n}function hf(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function fw(e){return`${hf(e.name)}.img`}function F2(e,t){return`backup_${hf(e.name)}${t?"_with_rom":""}.zip`}function pw(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}function iy(e){const{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:n,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}var Cne=_(7510),Sne=_.n(Cne);function L2(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const n=t.getPointer(e.GetCurrentEntryContent()),r=e.GetCurrentEntrySize();return n>0&&r>0?t.HEAPU8.subarray(n,n+r):void 0}},e)}function hw(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}let wne=0;const $2=[J.palmPilot,J.pilot,J.iii,J.palmVx,J.palmV,J.palmVII,J.palmVIIEZ,J.palmVIIx,J.iiixe,J.iiix,J.iiie,J.m500,J.m505,J.m515,J.m520,J.iiic,J.m100,J.m105,J.m125,J.m130,J.i705,J.i710,J.handera330,J.handera330c,J.pegS300,J.pegS320,J.pegS500c,J.pegT400,J.pegN600c,J.pegT600c,J.pegN700c,J.pegT650c,J.pegNR70,J.acerS11,J.lp168];function Lt(){return(e,t,n)=>{const r=n.value;return n.value=function(o,i){return this.guard(()=>r.call(this,o,i))},n}}class Rt{constructor(t){this.module=t,this.fatalErrorEvent=new mr.J,this.pwmUpdateEvent=new mr.J,this.proxyDisconnectEvent=new mr.J,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((n,r)=>this.pwmUpdateEvent.dispatch({frequency:n,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(()=>this.proxyDisconnectEvent.dispatch(),"v")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,F.A)(function*(){const n=wne++;return new Rt(yield Sne()({print:r=>console.log(`${n}: ${r}`),printErr:r=>console.error(`${n}: ${r}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}enableLogging(t){this.cloudpilot.EnableLogging(t)}getRomInfo(t){const n=this.copyIn(t),r=new this.module.RomInfo(n,t.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:$2.filter(r.Supports.bind(r))}),this.cloudpilot.Free(n),this.module.destroy(r),o}initializeSession(t,n){const r=this.copyIn(t),o=this.cloudpilot.InitializeSession(r,t.length,n);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),n=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(n,n+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,n){this.cloudpilot.QueuePenMove(t,n)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,n){this.cloudpilot.QueueKeyboardEvent(t,n)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const n=this.copyIn(t),r=this.cloudpilot.InstallDb(n,t.length);return this.cloudpilot.Free(n),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),n=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((n>>>13)+(n%8192==0?0:1)))}loadMemory(t){const n=this.getMemory32();if((()=>{if(t.length!==n.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==n[n.length-o])return!1;if(4294967295===n[n.length-o])break}return!0})())return n.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const n=this.copyIn(t),r=this.cloudpilot.LoadState(n,t.length);return this.cloudpilot.Free(n),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var n=this;return(0,F.A)(function*(){const r=n.guard(()=>n.cloudpilot.StartBackup());try{return yield t(n.wrap(r))}finally{n.module.destroy(r)}})()}getArchive(t){const n=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),n)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.IsSuspended()?this.cloudpilot.GetSuspendContext().GetKind():void 0}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,n){const r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+n)}withZipfileWalker(t,n){var r=this;return(0,F.A)(function*(){const o=r.guard(()=>{const i=r.copyIn(t),s=new r.module.ZipfileWalker(t.length,i);return r.cloudpilot.Free(i),s});try{return yield n(L2(r.wrap(o),r.module))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(t,n){const r=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return n(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(t){const n=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):r,s=void 0!==t.savestate?this.copyIn(t.savestate):r;let a=r,l=0;if(void 0!==t.metadata){const d=(new TextEncoder).encode(JSON.stringify(t.metadata));l=d.length,a=this.copyIn(d)}n.SetRomImage(o,t.rom.length),n.SetMemoryImage(i,t.memory?.length||0),n.SetDeviceId(t.deviceId),n.SetSavestate(s,t.savestate?.length||0),n.SetMetadata(a,l);const c=n.Serialize()?this.copyOut(n.GetSerializedImage(),n.GetSerializedImageSize()):void 0;return this.module.destroy(n),[o,i,s,a].forEach(d=>this.cloudpilot.Free(d)),c}deserializeSessionImage(t){if(!t)return;const n=new this.module.SessionImage,r=this.copyIn(t),o=(()=>{if(!n.Deserialize(r,t.length))return;const i=this.copyOut(n.GetRomImage(),n.GetRomImageSize()),s=this.copyOut(n.GetMemoryImage(),n.GetMemoryImageSize()),a=this.copyOut(n.GetSavestate(),n.GetSavestateSize()),l=n.GetDeviceId();if(!$2.includes(l))return void console.warn(`unsupported device ${l}`);let c;const d=this.copyOut(n.GetMetadata(),n.GetMetadataSize());if(d)try{c=JSON.parse((new TextDecoder).decode(d))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:c,version:n.GetVersion()}})();return this.module.destroy(n),this.cloudpilot.Free(r),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const n=this.copyIn(t.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(n,32);return this.cloudpilot.Free(n),r}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,n){return this.cloudpilot.AllocateCard(t,n>>>9)}decompressCard(t,n){const r=this.copyIn(n);let o;try{for(o=new this.module.GunzipContext(r,n.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(r),o&&this.module.destroy(o)}}getCardData(t){const n=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==n)return this.module.HEAPU32.subarray(n>>>2,n+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const n=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===n)return;const r=hw(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(n,n+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const n=new this.module.SkinLoader(t);try{const r=this.module.getPointer(n.GetData());return 0===r?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(r,r+n.GetSize()))}finally{this.module.destroy(n)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(n){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(n instanceof Error?n:new Error("unknown error")),n}}copyIn(t){const n=this.cloudpilot.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}copyIn32(t){const n=this.cloudpilot.Malloc(t.length<<2),r=this.module.getPointer(n);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+t.length).set(t),n}copyOut(t,n){const r=this.module.getPointer(t);return r>0&&n>0?this.module.HEAPU8.subarray(r,r+n).slice():void 0}wrap(t){return new Proxy(t,{get:(n,r)=>{const o=n[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(n,i))}})}wrapTransport(t){const n=new mr.J;return t.SetRequestTransferCallback(this.module.addFunction(()=>n.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const r=t.RxBytesPending();return this.copyOut(t.Receive(),r)},Send:(r,o)=>{const i=r&&this.copyIn(r);t.Send(r?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:n},t))}}re([Lt()],Rt.prototype,"enableLogging",null),re([Lt()],Rt.prototype,"getRomInfo",null),re([Lt()],Rt.prototype,"initializeSession",null),re([Lt()],Rt.prototype,"cyclesPerSecond",null),re([Lt()],Rt.prototype,"runEmulation",null),re([Lt()],Rt.prototype,"getFrame",null),re([Lt()],Rt.prototype,"isScreenDirty",null),re([Lt()],Rt.prototype,"markScreenClean",null),re([Lt()],Rt.prototype,"minRamForDevice",null),re([Lt()],Rt.prototype,"framebufferSizeForDevice",null),re([Lt()],Rt.prototype,"totalMemorySizeForDevice",null),re([Lt()],Rt.prototype,"queuePenMove",null),re([Lt()],Rt.prototype,"queuePenUp",null),re([Lt()],Rt.prototype,"queueButtonDown",null),re([Lt()],Rt.prototype,"queueButtonUp",null),re([Lt()],Rt.prototype,"queueKeyboardEvent",null),re([Lt()],Rt.prototype,"isPowerOff",null),re([Lt()],Rt.prototype,"isUiInitialized",null),re([Lt()],Rt.prototype,"isSetupComplete",null),re([Lt()],Rt.prototype,"getOSVersion",null),re([Lt()],Rt.prototype,"reset",null),re([Lt()],Rt.prototype,"resetNoExtensions",null),re([Lt()],Rt.prototype,"resetHard",null),re([Lt()],Rt.prototype,"installDb",null),re([Lt()],Rt.prototype,"getPalette2bitMapping",null),re([Lt()],Rt.prototype,"getMemory",null),re([Lt()],Rt.prototype,"getMemory32",null),re([Lt()],Rt.prototype,"getDirtyPages",null),re([Lt()],Rt.prototype,"loadMemory",null),re([Lt()],Rt.prototype,"getRomImage",null),re([Lt()],Rt.prototype,"getSavestate",null),re([Lt()],Rt.prototype,"saveState",null),re([Lt()],Rt.prototype,"loadState",null),re([Lt()],Rt.prototype,"getHotsyncName",null),re([Lt()],Rt.prototype,"setClockFactor",null),re([Lt()],Rt.prototype,"setHotsyncName",null),re([Lt()],Rt.prototype,"setClipboardIntegration",null),re([Lt()],Rt.prototype,"getClipboardIntegration",null),re([Lt()],Rt.prototype,"isSuspended",null),re([Lt()],Rt.prototype,"getSuspendKind",null),re([Lt()],Rt.prototype,"cancelSuspend",null),re([Lt()],Rt.prototype,"getSuspendContextClipboardCopy",null),re([Lt()],Rt.prototype,"getSuspendContextClipboardPaste",null),re([Lt()],Rt.prototype,"setNetworkRedirection",null),re([Lt()],Rt.prototype,"getNetworkRedirection",null),re([Lt()],Rt.prototype,"getSuspendContextNetworkConnect",null),re([Lt()],Rt.prototype,"getSuspendContextNetworkRpc",null),re([Lt()],Rt.prototype,"getSuspendContextSerialSync",null),re([Lt()],Rt.prototype,"copyBuffer",null),re([Lt()],Rt.prototype,"freeBuffer",null),re([Lt()],Rt.prototype,"setHotsyncNameManagement",null),re([Lt()],Rt.prototype,"resolveBuffer",null),re([Lt()],Rt.prototype,"serializeSessionImage",null),re([Lt()],Rt.prototype,"deserializeSessionImage",null),re([Lt()],Rt.prototype,"launchAppByName",null),re([Lt()],Rt.prototype,"launchAppByDbHeader",null),re([Lt()],Rt.prototype,"deviceSupportsCardSize",null),re([Lt()],Rt.prototype,"clearExternalStorage",null),re([Lt()],Rt.prototype,"allocateCard",null),re([Lt()],Rt.prototype,"decompressCard",null),re([Lt()],Rt.prototype,"getCardData",null),re([Lt()],Rt.prototype,"getCardDirtyPages",null),re([Lt()],Rt.prototype,"getMountedKey",null),re([Lt()],Rt.prototype,"mountCard",null),re([Lt()],Rt.prototype,"removeCard",null),re([Lt()],Rt.prototype,"remountCards",null),re([Lt()],Rt.prototype,"getCardSupportLevel",null),re([Lt()],Rt.prototype,"loadSkin",null);const Ene=_.p+"wasm/cloudpilot_web-e5ee624b68fa8f8f.wasm";let il=(()=>{var e;class t{constructor(){this.cloudpilot=Rt.create(Ene),this.cloudpilot.then(r=>this.cloudpilotInstance=r),window.__cp_enableLogging=r=>this.cloudpilotInstance?.enableLogging(r)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var Ine=_(6778),gf=_.n(Ine);const gw=524288;class mw{constructor(t,n){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(n))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const r=new t.FSTools;this.chunkBufferPtr=r.Malloc(gw),t.destroy(r)}static create(t,n){return(0,F.A)(function*(){return new mw(yield gf()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:n}),t)})()}addEntry(t,n){var r=this;return(0,F.A)(function*(){if(!r.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${r.nativeContext.GetLastError()}`);const o=r.module.getPointer(r.chunkBufferPtr);for(let i=0;i<n.length;i+=gw){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(n.length-i,gw);if(r.module.HEAPU8.subarray(o,o+s).set(n.subarray(i,i+s)),!r.nativeContext.WriteData(r.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${r.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class vw{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,F.A)(function*(){return new vw(yield gf()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==n)return this.module.HEAPU32.subarray(n>>>2,n+t>>>2)}}class yw{constructor(t,n){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(n>>>9)}static create(t,n){return(0,F.A)(function*(){const r=yield gf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:n});return new yw(r,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),n=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(n>>>2,n+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),n=hw(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+n)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class sy{constructor(t,n){this.module=t,n&&this.initialize(n)}static create(t,n){return(0,F.A)(function*(){const r=yield gf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new sy(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t.length);const r=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(r,r+t.length).set(t),this.module.destroy(n),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,F.A)(function*(){const n=t.getNativeContext();for(;0===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gunzip failed: ${n.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),n=t.GetUncompressedSize(),r=t.GetUncompressedData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class _w{constructor(t,n){this.module=t,void 0!==n&&this.initialize(n)}static create(t,n){return(0,F.A)(function*(){const r=yield gf()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new _w(r,n)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const n=new this.module.FSTools;this.bufferPtr&&n.Free(this.bufferPtr),this.bufferPtr=n.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(n),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,F.A)(function*(){const n=t.getNativeContext();for(n.Continue();1===n.Continue();)yield new Promise(r=>setTimeout(r,0));return-1!==n.GetState()||(console.error(`gzip failed: ${n.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),n=t.GetGzipSize(),r=t.GetGzipData(),o=this.module.getPointer(r);return this.module.HEAPU8.subarray(o,o+n)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const B2=new Map;class xne{constructor(t="fstools_web.wasm"){let n=B2.get(t);n||(n=function Dne(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));return function(){var n=(0,F.A)(function*(r,o){return o(yield WebAssembly.instantiate(yield t,r))});return function(r,o){return n.apply(this,arguments)}}()}(t),B2.set(t,n)),this.instantiante=n}mkfs(t){var n=this;return(0,F.A)(function*(){const r=yield vw.create(n.instantiante);if(r.mkfs(t))return r.getImage()})()}gunzip(t){var n=this;return(0,F.A)(function*(){const r=yield sy.create(n.instantiante,t);if(yield r.gunzip())return r.getDecompressedData()})()}createGunzipContext(t){return sy.create(this.instantiante,t)}createGzipContext(t){return _w.create(this.instantiante,t)}createFsckContext(t){return yw.create(t,this.instantiante)}createZipContext(t){return mw.create(t,this.instantiante)}createZipfileWalker(t){var n=this;return(0,F.A)(function*(){const r=yield gf()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:n.instantiante}),o=new r.FSTools,i=o.Malloc(t.length),s=r.getPointer(i);return r.HEAPU8.subarray(s,s+t.length).set(t),r.destroy(o),L2(new r.ZipfileWalker(t.length,i),r)})()}}const kne=_.p+"wasm/fstools_web-61ec0e1f6fadaffc.wasm";let ay=(()=>{var e;class t extends xne{constructor(){super(kne)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Rne(e,t){1&e&&(j(0,"p",9),Re(1,"ERROR: URL must be served via HTTPS."),q())}function Nne(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(Ud())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let One=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.continue()}continue(){this.onContinue(new(Ud())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const r=this.formGroup.get("url")?.value;if(!r)return!1;try{const o=new(Ud())(r);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new xv({url:new Eo("",Nne)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},standalone:!1,decls:19,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","URL","labelPlacement","stacked","placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"Enter download URL"),q(),j(4,"ion-buttons",0)(5,"ion-button",1),He("click",function(){return i.continue()}),Re(6,"OK"),q()(),j(7,"ion-buttons",2)(8,"ion-button",3),He("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),j(10,"ion-content",4)(11,"form",5),He("keydown",function(a){return i.formKeyDown(a)}),j(12,"p"),Re(13,"Please enter the URL from which to download:"),q(),j(14,"ion-item",6),nt(15,"ion-input",7),q(),nn(16,Rne,2,0,"p",8),j(17,"p"),Re(18,"Note that the remote server needs to support the CORS protocol."),q()()()),2&o&&(fe(5),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup),fe(5),pe("ngIf",i.isMixedContent))},dependencies:[wo,os,is,ss,as,ac,Do,ls,cs,sc,ic,rc,oc,Na,wl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}))}return e(),t})(),Pne=(()=>{var e;class t{constructor(r){this.kvs=r,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(r){"Enter"===r.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const r=this.kvs.kvs.credentials[this.origin];this.formGroup=new xv({username:new Eo(r?.username??""),password:new Eo(r?.password??"")})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Bi))},this.\u0275cmp=Je({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},standalone:!1,decls:18,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"keydown","formGroup"],["lines","inset"],["label","Username","labelPlacement","stacked","placeholder","Enter username","formControlName","username"],["label","Password","labelPlacement","stacked","placeholder","Enter password","formControlName","password","type","password"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"Authenticate"),q(),j(4,"ion-buttons",0)(5,"ion-button",1),He("click",function(){return i.saveAndContinue()}),Re(6,"OK"),q()(),j(7,"ion-buttons",2)(8,"ion-button",1),He("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),j(10,"ion-content",3)(11,"form",4),He("keydown",function(a){return i.formKeyDown(a)}),j(12,"p"),Re(13,"The server requires authentication."),q(),j(14,"ion-item",5),nt(15,"ion-input",6),q(),j(16,"ion-item",5),nt(17,"ion-input",7),q()()()),2&o&&(fe(11),pe("formGroup",i.formGroup))},dependencies:[os,is,ss,as,ac,Do,ls,cs,sc,ic,rc,oc,Na,wl],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}))}return e(),t})(),j2=(()=>{var e;class t{constructor(r,o,i){this.loadingController=r,this.kvsService=o,this.modalController=i}fetch(r,o){var i=this;return(0,F.A)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(Ud())("string"==typeof r?r:r.url);let c,d,h=!1;for(;;)try{c||(c=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===d?d=window.setTimeout(()=>c?.present(),s):c.present();const v=i.kvsService.kvs.credentials[l.origin],C=new AbortController,M=window.setTimeout(()=>C.abort(),a),G=yield fetch(r,{...i.requestInit(o),signal:C.signal,headers:{...o?.headers||{},...h&&v?{Authorization:"Basic "+btoa(`${v.username}:${v.password}`)}:{}}});if(clearTimeout(M),401===G.status){if(!h&&v){h=!0;continue}if(c?.dismiss(),clearTimeout(d),s=0,c=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return G}finally{c&&(yield c.dismiss()),clearTimeout(d)}})()}requestInit(r){if(!r)return;const{timeout:o,loaderDelay:i,...s}=r;return s}authenticate(r){var o=this;return(0,F.A)(function*(){const i=yield new Promise(s=>o.modalController.create({component:Pne,backdropDismiss:!1,componentProps:{origin:r,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(oa),oe(Bi),oe(Bs))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Xc=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d){this.storageService=r,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=c,this.cloudpilotService=d}openFile(r){this.openFilesImpl(!1,o=>{o.length>0&&r(o[0])})}openFiles(r){this.openFilesImpl(!0,r)}openFromDrop(r,o){"drop"!==r.type||!r.dataTransfer?.files||o(Array.from(r.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(r){var o=this;return(0,F.A)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(r.device)<0)throw new Error(`invalid device ID ${r.device}`);const h={deviceId:r.device,metadata:iy(r),rom:a,memory:l,savestate:c},v=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);v&&o.saveFile(fw(r),v)}finally{s.dismiss()}})()}saveFile(r,o,i="application/octet-stream"){const s=new Blob([o],{type:i}),a=URL.createObjectURL(s),l=document.createElement("a");l.href=a,l.download=r,l.click()}openUrl(r,o){var i=this;return(0,F.A)(function*(){let s;try{s=new(Ud())(r)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${r}`))}try{const a=yield i.fetchService.fetch(r);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const c=a.arrayBuffer().then(d=>new Uint8Array(d));return c.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>c})}catch{yield i.alertService.errorMessage(`Download from ${r} failed.`)}})()}serializeSession(r){var o=this;return(0,F.A)(function*(){const[i,s,a]=yield o.storageService.loadSession(r,!1);if(!i)throw new Error(`invalid ROM ${r.rom}`);const l={deviceId:r.device,metadata:iy(r),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(r,o){var i=this;return(0,F.A)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(r,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(r,o)})()}queryAndOpenFileRemote(r){var o=this;return(0,F.A)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:One,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>r([s]))})()}openFilesLocal(r,o){var i=this;const s=Pp||cN;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=r,this.input.type="file",ho&&(this.input.accept="application/octet-stream"),this.input.addEventListener("change",function(){var a=(0,F.A)(function*(l){const c=l.target;c?.files&&o(Array.from(c.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(r){let o;const i=function(){var s=(0,F.A)(function*(){return o||(o=new Promise((a,l)=>{const c=new FileReader;c.onload=()=>a(new Uint8Array(c.result)),c.onerror=()=>{console.warn(c.error),l(c.error)},c.readAsArrayBuffer(r)}),o)});return function(){return s.apply(this,arguments)}}();return{name:r.name,getContent:i}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(qn),oe(oa),oe(yh),oe(Bi),oe(Bs),oe(Sr),oe(j2),oe(il))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class V2 extends Error{constructor(t){super(t)}}let Qc=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.cloudpilotService=r,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this._sessions=Si([]),this._loading=Si(!0),this.updateMutex=new Oa,this.updateSessionsFromStorage().then(()=>this._loading.set(!1)),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}get loading(){return this._loading}addSessionFromImage(r,o){var i=this;return(0,F.A)(function*(s,a,l={}){const c=yield i.loadingController.create({message:"Importing..."});yield c.present();try{return i.doAddSessionFromImage(s,a,l)}finally{yield c.dismiss()}}).apply(this,arguments)}addSessionsFromArchive(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(r);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),c=new Set(o._sessions().map(C=>C.name));let d=1,h=!1;const v=[];for(;0===a.GetState();)try{i.message=`Importing ${d++}/${l}...`;const C=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!C)throw new V2(`${a.GetCurrentEntryName()} is not a valid session.`);const M=pf(C.metadata?.name??a.GetCurrentEntryName(),G=>c.has(G));yield o.doAddSessionFromImage(C,M,C.metadata)}catch(C){if(!(C instanceof V2))throw C;v.push(a.GetCurrentEntryName()),h||(h=yield o.alertService.messageWithChoice("Error",C.message,"Skip further errors",h,{},"Continue"))}finally{a.Next()}v.length<=3&&v.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${v.join("<br>")}`):v.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${v.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${v.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(r,o,i){var s=this;return(0,F.A)(function*(a,l,c,d={}){const h={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Fr.portrait,...d,id:-1,name:l,device:c,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(c)/1024/1024,rom:""},v=yield s.loadingController.create({message:"Importing..."});yield v.present();const C=yield s.storageService.addSession(h,a);return yield s.updateSessionsFromStorage(),yield v.dismiss(),C}).apply(this,arguments)}get sessions(){return this._sessions}deleteSession(r){var o=this;return(0,F.A)(function*(){yield o.storageService.deleteSession(r)})()}updateSession(r){var o=this;return(0,F.A)(function*(){yield o.storageService.updateSession(r)})()}saveSession(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(r);s?o.fileService.saveFile(fw(r),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const c of r){i.message=`Exporting ${l++}/${r.length}...`;const d=yield o.serializeSession(c);if(d){const h=pf(c.name.replace(/[/\\]/,"_").substring(0,200),v=>a.has(v));a.add(h),yield s.addEntry(h+".img",d)}else yield o.alertService.errorMessage(`Failed  to export session '${c.name}'.`,"Continue")}o.fileService.saveFile(function yne(){return`${hf("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(r){var o=this;return(0,F.A)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),c=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(r.device)<0)throw new Error(`invalid device ID ${r.device}`);const h={deviceId:r.device,metadata:iy(r),rom:a,memory:l,savestate:c},v=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);v&&o.fileService.saveFile(fw(r),v)}finally{s.dismiss()}})()}serializeSession(r){var o=this;return(0,F.A)(function*(){const[i,s,a]=yield o.storageService.loadSession(r,!1);if(!i)throw new Error(`invalid ROM ${r.rom}`);const l={deviceId:r.device,metadata:iy(r),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var r=this;return(0,F.A)(function*(){r._sessions.set(yield r.updateMutex.runExclusive((0,F.A)(function*(){return(yield r.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}doAddSessionFromImage(r,o){var i=this;return(0,F.A)(function*(s,a,l={}){const c={hotsyncName:s.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Fr.portrait,...l,id:-1,name:a,device:s.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(s.deviceId)/1024/1024,rom:"",osVersion:s?.metadata?.osVersion},d=yield i.storageService.addSession(c,s.rom,s.memory,s.savestate);return yield i.updateSessionsFromStorage(),d}).apply(this,arguments)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(il),oe(qn),oe(oa),oe(ay),oe(Sr),oe(Xc))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Lne(e,t){if(1&e&&(j(0,"ion-select-option",14),Re(1),q()),2&e){const n=t.$implicit;pe("value",n[0]),fe(),Di("",n[1]," ")}}function $ne(e,t){if(1&e&&(j(0,"ion-select-option",14),Re(1),q()),2&e){const n=t.$implicit;pe("value",n[0]),fe(),Di("",n[1]," ")}}function Bne(e,t){if(1&e&&(j(0,"ion-item",6),nt(1,"ion-input",15),q()),2&e){const n=vt();fe(),pe("placeholder",n.placeholder)}}let U2=(()=>{var e;class t{constructor(r,o){this.sessionService=r,this.alertService=o,this.memoizedDevicelist=Mh(i=>i.map(s=>[s,O2(s)])),this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.sessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Fr.portrait,"Portrait"],[Fr.landscape90,"Landscape 90\xb0"],[Fr.landscape270,"Landscape 270\xb0"],[Fr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.memoizedDevicelist(this.availableDevices)}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const r=this.speedTransient??this.formControlSpeed.value??0;return r>=0?1+r:1/(1-r)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function mne(e){switch(e){case J.palmPilot:case J.pilot:case J.iii:case J.palmVII:case J.palmVx:case J.palmV:case J.palmVIIEZ:case J.palmVIIx:case J.iiic:case J.iiix:case J.iiixe:case J.iiie:case J.m100:case J.m105:case J.pegS300:case J.pegS500c:return 16;case J.m500:case J.m505:case J.m515:case J.m520:case J.m125:case J.m130:case J.i705:case J.i710:case J.handera330:case J.handera330c:case J.pegS320:case J.pegT400:case J.pegN600c:case J.pegT600c:case J.pegN700c:case J.acerS11:return 33;case J.pegT650c:case J.pegNR70:case J.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(r){this.speedTransient=r.detail?.value}createFormGroup(){this.formGroup=new xv({name:new Eo(this.session.name,{validators:[th.required,this.validateNameUnique]}),manageHotsyncName:new Eo(!this.session.dontManageHotsyncName),hotsyncName:new Eo(this.session.hotsyncName||""),device:new Eo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Eo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Eo(this.session.deviceOrientation||Fr.portrait)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Qc),y(Sr))},this.\u0275cmp=Je({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},standalone:!1,decls:32,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Session name","labelPlacement","stacked","placeholder","Enter session name","formControlName","name"],["label","Device type","labelPlacement","stacked","formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["label","Orientation","labelPlacement","stacked","formControlName","orientation"],["labelPlacement","fixed","min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",1,"label-speed",3,"ionInput","ionKnobMoveEnd","label"],["labelPlacement","fixed","formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["label","Hotsync name","labelPlacement","stacked","formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"Session settings"),q(),j(4,"ion-buttons",0)(5,"ion-button",1),He("click",function(){return i.save()}),Re(6,"Save"),q()(),j(7,"ion-buttons",2)(8,"ion-button",3),He("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),j(10,"ion-content",4)(11,"form",5),He("keydown.enter",function(){return i.onEnter()}),j(12,"h1"),Re(13,"Session"),q(),j(14,"ion-item",6),nt(15,"ion-input",7),q(),j(16,"h1"),Re(17,"Device"),q(),j(18,"ion-item",6)(19,"ion-select",8),nn(20,Lne,2,2,"ion-select-option",9),q()(),j(21,"ion-item",6)(22,"ion-select",10),nn(23,$ne,2,2,"ion-select-option",9),q()(),j(24,"ion-item",6)(25,"ion-range",11),He("ionInput",function(a){return i.onSpeedDrag(a)})("ionKnobMoveEnd",function(){return i.speedTransient=void 0}),q()(),j(26,"h1"),Re(27,"Hotsync"),q(),j(28,"ion-item",6)(29,"ion-toggle",12),Re(30,"Manage hotsync name"),q()(),nn(31,Bne,2,1,"ion-item",13),q()()),2&o&&(fe(5),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup),fe(9),pe("ngForOf",i.deviceList),fe(3),pe("ngForOf",i.orientations),fe(2),pe("label",function qx(e){return no(De(),Li(),e)?Wt(e):Ar}(i.speedLabel)),fe(6),pe("ngIf",i.showHotsyncNameInput))},dependencies:[Kl,wo,os,is,ss,as,ac,Do,R0,ph,hh,ls,mh,cs,cf,k0,fh,sc,ic,rc,oc,E0,Na,wl],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}))}return e(),t})();var bw=_(8081);const H2=new WeakMap,Vne=e=>({...e,connect:({call:t})=>(0,F.A)(function*(){const{port1:n,port2:r}=new MessageChannel,o=yield t("connect",{port:n},[n]);return H2.set(r,o),r}),disconnect:({call:t})=>function(){var n=(0,F.A)(function*(r){const o=H2.get(r);if(void 0===o)throw new Error("The given port is not connected.");yield t("disconnect",{portId:o})});return function(r){return n.apply(this,arguments)}}(),isSupported:({call:t})=>()=>t("isSupported")}),Cw=new WeakMap,Wu=new Map([[0,null]]),qu=new Map([[0,null]]),Gne=(e=>{const t=Vne(e);return n=>{const r=(e=>{if(Cw.has(e))return Cw.get(e);const t=new Map;return Cw.set(e,t),t})(n);n.addEventListener("message",({data:a})=>{const{id:l}=a;if(null!==l&&r.has(l)){const{reject:c,resolve:d}=r.get(l);r.delete(l),void 0===a.error?d(a.result):c(new Error(a.error.message))}}),(e=>"function"==typeof e.start)(n)&&n.start();const o=(a,l=null,c=[])=>new Promise((d,h)=>{const v=(0,bw.generateUniqueNumber)(r);r.set(v,{reject:h,resolve:d}),n.postMessage(null===l?{id:v,method:a}:{id:v,method:a,params:l},c)}),i=(a,l,c=[])=>{n.postMessage({id:null,method:a,params:l},c)};let s={};for(const[a,l]of Object.entries(t))s={...s,[a]:l({call:o,notify:i})};return{...s}}})({clearInterval:({call:e})=>t=>{"symbol"==typeof Wu.get(t)&&(Wu.set(t,null),e("clear",{timerId:t,timerType:"interval"}).then(()=>{Wu.delete(t)}))},clearTimeout:({call:e})=>t=>{"symbol"==typeof qu.get(t)&&(qu.set(t,null),e("clear",{timerId:t,timerType:"timeout"}).then(()=>{qu.delete(t)}))},setInterval:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,bw.generateUniqueNumber)(Wu);Wu.set(i,o);const s=()=>e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"interval"}).then(()=>{const a=Wu.get(i);if(void 0===a)throw new Error("The timer is in an undefined state.");a===o&&(t(...r),Wu.get(i)===o&&s())});return s(),i},setTimeout:({call:e})=>(t,n=0,...r)=>{const o=Symbol(),i=(0,bw.generateUniqueNumber)(qu);return qu.set(i,o),e("set",{delay:n,now:performance.timeOrigin+performance.now(),timerId:i,timerType:"timeout"}).then(()=>{const s=qu.get(i);if(void 0===s)throw new Error("The timer is in an undefined state.");s===o&&(qu.delete(i),t(...r))}),i}}),ly=(()=>{let n=null;return()=>{if(null!==n)return n;const r=new Blob(['(()=>{var e={455:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,s=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<s?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*s);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,u=r(i),c=a(u,i),l=t(c);e.addUniqueNumber=l,e.generateUniqueNumber=c}(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}(()=>{"use strict";const e=-32603,t=-32602,n=-32601,o=(e,t)=>Object.assign(new Error(e),{status:t}),s=t=>o(\'The handler of the method called "\'.concat(t,\'" returned an unexpected result.\'),e),a=(t,r)=>async({data:{id:a,method:i,params:u}})=>{const c=r[i];try{if(void 0===c)throw(e=>o(\'The requested method called "\'.concat(e,\'" is not supported.\'),n))(i);const r=void 0===u?c():c(u);if(void 0===r)throw(t=>o(\'The handler of the method called "\'.concat(t,\'" returned no required result.\'),e))(i);const l=r instanceof Promise?await r:r;if(null===a){if(void 0!==l.result)throw s(i)}else{if(void 0===l.result)throw s(i);const{result:e,transferables:r=[]}=l;t.postMessage({id:a,result:e},r)}}catch(e){const{message:r,status:n=-32603}=e;t.postMessage({error:{code:n,message:r},id:a})}};var i=r(455);const u=new Map,c=(e,r,n)=>({...r,connect:({port:t})=>{t.start();const n=e(t,r),o=(0,i.generateUniqueNumber)(u);return u.set(o,()=>{n(),t.close(),u.delete(o)}),{result:o}},disconnect:({portId:e})=>{const r=u.get(e);if(void 0===r)throw(e=>o(\'The specified parameter called "portId" with the given value "\'.concat(e,\'" does not identify a port connected to this worker.\'),t))(e);return r(),{result:null}},isSupported:async()=>{if(await new Promise(e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=({data:t})=>e(null!==t),n.postMessage(t,[t])})){const e=n();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),l=(e,t,r=()=>!0)=>{const n=c(l,t,r),o=a(e,n);return e.addEventListener("message",o),()=>e.removeEventListener("message",o)},d=(e,t)=>r=>{const n=t.get(r);if(void 0===n)return Promise.resolve(!1);const[o,s]=n;return e(o),t.delete(r),s(!1),Promise.resolve(!0)},f=(e,t,r,n)=>(o,s,a)=>{const i=o+s-t.timeOrigin,u=i-t.now();return new Promise(t=>{e.set(a,[r(n,u,i,e,t,a),t])})},m=new Map,h=d(globalThis.clearTimeout,m),p=new Map,v=d(globalThis.clearTimeout,p),w=((e,t)=>{const r=(n,o,s,a)=>{const i=n-e.now();i>0?o.set(a,[t(r,i,n,o,s,a),s]):(o.delete(a),s(!0))};return r})(performance,globalThis.setTimeout),g=f(m,performance,globalThis.setTimeout,w),T=f(p,performance,globalThis.setTimeout,w);l(self,{clear:async({timerId:e,timerType:t})=>({result:await("interval"===t?h(e):v(e))}),set:async({delay:e,now:t,timerId:r,timerType:n})=>({result:await("interval"===n?g:T)(e,t,r)})})})()})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return n=(e=>{const t=new Worker(e);return Gne(t)})(o),setTimeout(()=>URL.revokeObjectURL(o)),n}})();var mf=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(mf||{});class G2{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return mf.animationFrame}}class qne{constructor(t,n=60){this.callback=t,this.fps=n}schedule(){if(void 0!==this.handle)return;const t=performance.now(),n=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((...e)=>ly().setTimeout(...e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(n-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,ly().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return mf.timeout}}class z2{constructor(t,n){this.queue=new Array(t).fill(0),this.reset(n)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let n=0;n<this.size;n++)t+=this.queue[n];return t/this.size}}class Zne{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const Yne=[135,135,105],Kne=[0,0,0],Jc=new Array(16).fill(0).map((e,t)=>Kne.map((n,r)=>Math.floor((t*n+(15-t)*Yne[r])/15))).map(([e,t,n])=>4278190080|n<<16|t<<8|e),Sw=Jc.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));class q2{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new mr.J,this.dispatchEvent=new mr.J,this.isSync=!1}bind(t){this.transport!==t&&(this.transport&&this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}send(t,n){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,n),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync?.()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class ire{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.isRunning||!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const n=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!n&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.handleSuspend());const c=this.cloudpilotInstance.isPowerOff(),d=this.cloudpilotInstance.isUiInitialized();if(c!==this.powerOff||d!==this.uiInitialized){const h=this.powerOff;this.powerOff=c,this.uiInitialized=d,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}d&&!c&&this.manageHotsyncName()&&!r&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new mr.J,this.pwmUpdateEvent=new mr.J,this.emulationStateChangeEvent=new mr.J,this.powerOffChangeEvent=new mr.J,this.deviceId=J.m515,this.clockEmulator=0,this.scheduler=new G2(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new Zne(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new z2(20),this.timePerFrameAverage=new z2(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1,this.serialPortIR=new q2,this.serialPortSerial=new q2,this.serialSyncStartedAt=0,this.serialPortIR.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now())),this.serialPortSerial.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now()))}handlePointerMove(t,n,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=Ah(this.deviceId);t=this.transformSilkscreenX(t,i),n=this.transformSilkscreenY(n,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(n)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,n=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,n)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}getSerialPortSerial(){if(!this.serialPortSerial)throw new Error("emulator not initialized");return this.serialPortSerial}getSerialPortIR(){if(!this.serialPortIR)throw new Error("emulator not initialized");return this.serialPortIR}onAfterAdvanceEmulation(t,n){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,n,r,o,i){let s=!1;return!!t.initializeSession(n,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance!==t&&(this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial())),this.cloudpilotInstance=t,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=Ah(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const n=this.canvas.getContext("2d");if(!n)throw new Error("get a new browser");this.context=n;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,n){return void 0===n.silkscreenOvershoot?t:(t-n.width/2)/(n.width/(n.width+2*n.silkscreenOvershoot))+n.width/2}transformSilkscreenY(t,n){return void 0===n.siklscreenShift?t:t+n.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const n=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=n<=this.emulationSpeed||t-n>=.05?n:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===mf.animationFrame?new G2(t=>this.onSchedule(t)):new qne(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,n=Ah(t);this.context.beginPath(),this.context.rect(0,0,n.width,n.height),this.context.fillStyle=dw(t)?"white":Sw[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=Jc[15],i=Jc[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)r[s++]=t.buffer[l+(c>>>3)]&128>>>(7&c)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Jc[15&o],Jc[o>>>4&15],Jc[o>>>8&15],Jc[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let c=t.margin;c<t.lineWidth+t.margin;c++)r[s++]=i[t.buffer[l+(c>>>2)]>>6-2*(3&c)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)r[o++]=Jc[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)r.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const n=1!==t.scaleX||1!==t.scaleY;(n?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),n&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class Z2{constructor(t,n,r=window.document){this.timeoutRemaining=t,this.cb=n,this.document=r,this.onVisibilityChange=()=>{switch(this.tainted=!0,this.document.visibilityState){case"hidden":if("running"!==this.state)return;this.cancelTimeout(),this.update(),"finished"!==this.state&&(this.state="paused");break;case"visible":if("paused"!==this.state||this.timeoutRemaining<0)return;this.schedule(),this.state="running"}},this.onTimeout=()=>{this.handle=void 0,this.update(),this.timeoutRemaining>0&&"running"===this.state&&this.schedule()},this.state="created",this.timoutStartedAt=performance.now(),this.tainted=!1,this.accumulatedTimeout=0}start(){return this.setState("running"),this.schedule(),this.document.addEventListener("visibilitychange",this.onVisibilityChange),this}increase(t){return this.timeoutRemaining+=t,this}cancel(){return this.setState("finished"),this}isTainted(){return this.tainted}getAccumulatedTimeout(){return this.accumulatedTimeout}schedule(){void 0===this.handle&&(this.timoutStartedAt=performance.now(),this.handle=setTimeout(()=>this.onTimeout(),this.timeoutRemaining))}update(){if("running"!==this.state)return;const t=performance.now()-this.timoutStartedAt;this.timeoutRemaining-=t,this.accumulatedTimeout+=t,this.timeoutRemaining<=0&&(this.setState("finished"),this.cb())}cancelTimeout(){void 0!==this.handle&&(clearTimeout(this.handle),this.handle=void 0)}setState(t){if(t!==this.state){if("finished"===this.state||"created"===t)throw new Error(`invalid state transition: ${this.state} -> ${t}`);"finished"===t&&(this.cancelTimeout(),this.document.removeEventListener("visibilitychange",this.onVisibilityChange)),this.state=t}}}const Y2=new Error("session does not match emulation");let xh=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d){var h=this;this.storageService=r,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.alertService=l,this.loadingController=c,this.ngZone=d,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.timeoutDeltaMsecPerKb=this.timeoutDeltaMsecPerKbStart,this.pendingSnapshotPromise=(0,F.A)(function*(){try{yield h.triggerSnapshotUnguarded()}finally{h.snapshotInProgress=!1,h.hideLoader()}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new mr.J,this.sessionId=-1,this.consecutiveErrorCount=0,this.timeoutDeltaMsecPerKbStart=.5,this.timeoutDeltaMsecPerKb=.5,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(r,o){var i=this;return(0,F.A)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=r.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var r=this;return(0,F.A)(function*(){for(;;)try{return yield r.triggerSnapshotOnce(),void(r.consecutiveErrorCount=0)}catch(o){if(o instanceof Z2){if(o.isTainted())continue;console.log(`snapshot timeout expired after ${o.getAccumulatedTimeout()} msec`),r.timeoutDeltaMsecPerKb>.5&&(yield r.alertService.snapshotTimeout(),yield r.showLoader()),r.timeoutDeltaMsecPerKb*=2,r.timeoutDeltaMsecPerKbStart=Math.min(2*r.timeoutDeltaMsecPerKbStart,4);continue}if(console.error("snapshot error",o),o===Y2)throw r.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===uw)throw r.errorService.fatalPageLockLost(),o;if(++r.consecutiveErrorCount>3)throw r.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var r=this;return(0,F.A)(function*(){const o=r.db.transaction([Yc,Kc,fc,Dl,sa,Dh],"readwrite",{durability:"relaxed"});let i;yield r.storageService.acquireLock(o);const s=r.cloudpilot.getMountedKey();if(s&&(i=yield nr(o.objectStore(sa).index("storageId").get(s))),r.cloudpilot.isSuspended())return;r.assertSessionMatches();const a=yield new Promise((l,c)=>{let d=!1;const h=performance.now();let v=0,C=0,M=0;const G=new Z2(500,()=>{d=!0;try{o.abort()}catch{}c(G)});o.oncomplete=()=>{G.cancel(),r.dirtyPages?.fill(0),r.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:M,timeBlocking:C-v,timeTotal:performance.now()-h})},o.onerror=()=>{G.cancel(),c(new Error(o.error?.message))};try{r.assertSessionMatches(),v=performance.now(),M=r.saveDirtyMemory(o,G),i&&(M+=r.saveDirtyStorage(i,o,G)),r.saveSession(o),G.start(),C=performance.now()}catch(de){throw d||(G.cancel(),o.abort()),de}});r.snapshotEvent.dispatch(a)})()}saveDirtyMemory(r,o){let i=0;const s=r.objectStore(Yc),a=r.objectStore(Kc),l=this.cloudpilot.getDirtyPages(),c=this.cloudpilot.getMemory32();let d=0;if(!this.dirtyPages||!this.pages){const v=c.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(v);for(let C=0;C<v;C++)this.pages[C]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:c.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&(h.crc32=p2(new Uint8Array(c.buffer,c.byteOffset,c.byteLength))),a.put(h);for(let v=0;v<l.length;v++)if(this.dirtyPages[v]|=l[v],l[v]=0,0!==this.dirtyPages[v])for(let C=1;C<256&&!(i>=this.pages.length);C<<=1){if(this.dirtyPages[v]&C){const M=w2(c.subarray(256*i,256*(i+1)));"number"==typeof M?s.put(M,[this.sessionId,i]):(this.pages[i].set(M),s.put(this.pages[i],[this.sessionId,i])),o.increase(this.timeoutDeltaMsecPerKb),d++}i++}else i+=8;return d}saveDirtyStorage(r,o,i){const s=this.cloudpilot.getCardDirtyPages(r.storageId),a=this.cloudpilot.getCardData(r.storageId);if(!a)return console.log(`seems ${r.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(r.id,Mr.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${r.name}`);if(a.length!==r.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,c=0,d=0;const h=o.objectStore(Dl),v=(a.length>>11)+(a.length%2048>0?1:0);for(let C=0;C<s.length;C++)if(this.cardDirtyPages[C]|=s[C],s[C]=0,0!==this.cardDirtyPages[C])for(let M=1;M<256&&!(l>=v);M<<=1){if(this.cardDirtyPages[C]&M){c>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const G=this.cardPagePool[c++];G.set(a.subarray(2048*l,2048*(l+1))),h.put(G,[r.id,l]),i.increase(8*this.timeoutDeltaMsecPerKb),d++}l++}else l+=8;return 8*d}saveSession(r){const o=r.objectStore(fc);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.currentSession()?.id!==this.sessionId)throw Y2}showLoader(){var r=this;return(0,F.A)(function*(){r.loader||(r.loader=yield r.loadingController.create({message:"Saving..."}),yield r.loader.present())})()}hideLoader(){this.loader&&(this.loader.dismiss(),this.loader=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(qn),oe(dc),oe(Uu),oe(Eh),oe(Bi),oe(Sr),oe(oa),oe(We))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),ww=(()=>{var e;class t{constructor(r){this.zone=r,this.modalVisibilityChangeEvent=new mr.J,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const r=document.querySelectorAll("ion-alert, ion-modal").length>0;r!==this.modalActive&&this.zone.run(()=>{this.modalActive=r,this.modalVisibilityChangeEvent.dispatch(r)})}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(We))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const uy=new Error("permission denied");let Ew=(()=>{var e;class t{constructor(r,o,i){this.alertController=r,this.alertService=o,this.nativeAppService=i,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText||ia.supportsNativeClipboard()}handleSuspend(r){switch(r.getSuspendKind()){case 1:this.handleCopy(r);break;case 2:this.handlePaste(r)}}handleCopy(r){var o=this;return(0,F.A)(function*(){const i=r.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();if(ia.supportsNativeClipboard())try{yield o.nativeAppService.clipboardWrite(s),i.Resume()}catch(a){console.error(a),i.Cancel()}else{try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===uy)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}}})()}tryCopyDirect(r){var o=this;return(0,F.A)(function*(){try{yield navigator.clipboard.writeText(r)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?uy:i}})()}tryCopyWithInteraction(r){var o=this;return new Promise(function(){var i=(0,F.A)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(c=(0,F.A)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(r),s(!0)}catch(d){a(d)}}),function(){return c.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var c});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(r){var o=this;return(0,F.A)(function*(){const i=r.getSuspendContextClipboardPaste();if(ia.supportsNativeClipboard()){try{i.Resume(yield o.nativeAppService.clipboardRead())}catch(a){console.error(a),i.Resume("")}return}const s=yield o.tryPaste();i.Resume(s??""),void 0!==s&&(o.clipboardContent=s,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var r=this;return(0,F.A)(function*(){if(performance.now()-r.lastClipboardReadAt<3e3)return r.clipboardContent;try{return yield r.tryPasteDirect()}catch(o){if(o===uy)return void(yield r.msgPermissionDenied())}try{return yield r.tryPasteWithInteraction()}catch{return void(yield r.msgPasteFailed())}})()}tryPasteDirect(){var r=this;return(0,F.A)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield r.isPermissionDenied("clipboard-read"))?uy:o}})()}tryPasteWithInteraction(){var r=this;return new Promise(function(){var o=(0,F.A)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,F.A)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(c){s(c)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}isPermissionDenied(r){return(0,F.A)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:r}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(O0),oe(Sr),oe(ia))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class ure{constructor(t){this.nativeAppService=t,this.onNetRpcResult=({sessionId:n,rpcData:r})=>n===this.sessionId&&this.rpcResultEvent.dispatch(r),this.rpcResultEvent=new mr.J,this.unexpectedCloseEvent=new mr.J}connect(){var t=this;return(0,F.A)(function*(){if(void 0!==t.sessionId)throw new Error("session already open");return t.sessionId=yield t.nativeAppService.netOpenSession(),t.nativeAppService.netRpcResult.addHandler(t.onNetRpcResult),!0})()}disconnect(){var t=this;return(0,F.A)(function*(){void 0!==t.sessionId&&(t.nativeAppService.netRpcResult.removeHandler(t.onNetRpcResult),yield t.nativeAppService.netCloseSession(t.sessionId),t.sessionId=void 0)})()}handleRpc(t){var n=this;return(0,F.A)(function*(){if(void 0===n.sessionId)throw new Error("no open session");return n.nativeAppService.netDispatchRpc(n.sessionId,t)})()}}const dre="https:"===window.location.protocol?8667:8666,fre=/^[\da-z\-.]+$/i,pre=/^[\da-z\-.]+:\d+$/i;function Dw(e){if(!e)return;const t=window.location.protocol;if(e.match(fre))return`${t}//${e}:${dre}`;if(e.match(pre))return`${t}//${e}`;try{const n=new URL(e);if("https:"===n.protocol||"http:"===n.protocol)return n.toString().replace(/\/+$/,"")}catch{}}function hre(e){return void 0!==Dw(e.value)?null:{proxyAddress:"invalid"}}class vre{constructor(t,n,r){this.proxyServer=t,this.alertService=n,this.fetchService=r,this.onSocketMessage=o=>{if(!(o.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),void this.unexpectedCloseEvent.dispatch(void 0);this.rpcResultEvent.dispatch(new Uint8Array(o.data))},this.onSocketError=o=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(),this.unexpectedCloseEvent.dispatch(),console.error("ERROR: socket error",o)},this.onSocketClose=()=>{this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.disconnect(),this.unexpectedCloseEvent.dispatch()},this.rpcResultEvent=new mr.J,this.unexpectedCloseEvent=new mr.J}connect(){var t=this;return(0,F.A)(function*(){const n=Dw(t.proxyServer);if(!n)return yield t.alertService.errorMessage(`Invalid proxy address: ${t.proxyServer}`),!1;const r=yield t.handshake(500);switch(r.status){case"failed":return t.alertService.errorMessage("Failed to connect to proxy."),!1;case"version_mismatch":return yield t.alertService.proxyVersionMismatchError(),!1;case"success":break;default:throw new Error("unreachable")}const o=new WebSocket(`${n.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(r.token)}`);o.binaryType="arraybuffer";const i=setTimeout(()=>o.close(),5e3);let s,a,l;try{return yield new Promise((c,d)=>{s=()=>c(),l=h=>d(h),a=()=>d(new Error("connection timeout")),o.addEventListener("open",s),o.addEventListener("error",l),o.addEventListener("close",a)}),clearTimeout(i),o.addEventListener("error",t.onSocketError),o.addEventListener("message",t.onSocketMessage),o.addEventListener("close",t.onSocketClose),t.socket=o,!0}catch(c){return console.error("socket failed to connect",c),!1}finally{o.removeEventListener("open",s),o.removeEventListener("error",l),o.removeEventListener("close",a)}})()}disconnect(){var t=this;return(0,F.A)(function*(){t.socket&&(t.socket.removeEventListener("error",t.onSocketError),t.socket.removeEventListener("message",t.onSocketMessage),t.socket.removeEventListener("close",t.onSocketClose),t.socket.close(),t.socket=void 0)})()}handleRpc(t){var n=this;return(0,F.A)(function*(){return!!n.socket&&(n.socket.send(t),!0)})()}handshake(){var t=this;return(0,F.A)(function*(n=-1){const r=Dw(t.proxyServer);if(!r)return{status:"failed"};try{const o=yield t.fetchService.fetch(`${r}/network-proxy/handshake`,{method:"POST",loaderDelay:n});if(!o.ok)return{status:"failed"};const i=yield o.json();return i.version<3||i.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:i.token}}catch{return{status:"failed"}}}).apply(this,arguments)}}let X2=(()=>{var e;class t{constructor(r,o,i,s){this.kvsService=r,this.alertService=o,this.fetchService=i,this.nativeAppService=s}createBackendProxy(r=this.kvsService.kvs.proxyServer){return new vre(r,this.alertService,this.fetchService)}createBackend(){if(this.kvsService.kvs.networkRedirection)return"native"===this.kvsService.kvs.networkRedirectionMode&&ia.supportsNativeNetworkIntegration()?new ure(this.nativeAppService):this.createBackendProxy()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Bi),oe(Sr),oe(j2),oe(ia))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Q2=(()=>{var e;class t{constructor(r,o){this.ngZone=r,this.backendFactory=o,this.onProxyDisconnect=()=>{this.reset()},this.onUnexpectedBackendClose=()=>this.reset(),this.onSessionResume=()=>this.resumeEvent.dispatch(),this.resumeEvent=new mr.J}initialize(r){this.cloudpilot=r,r.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}isConnected(){return void 0!==this.session}reset(){this.session&&(this.session.backend.unexpectedCloseEvent.removeHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.removeHandler(this.onSessionResume),this.session.terminate(),this.ngZone.run(()=>this.session=void 0))}handleSuspend(){if(this.cloudpilot)switch(this.cloudpilot.getSuspendKind()){case 4:this.createNewSession(),this.session?this.session.handleConnect().then(r=>r||this.reset()):4===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkConnect().Cancel();break;case 3:this.session?this.session.handleRpc():3===this.cloudpilot.getSuspendKind()&&this.cloudpilot.getSuspendContextNetworkRpc().Cancel()}}createNewSession(){this.reset(),this.ngZone.run(()=>this.session=Iw.create(this.backendFactory.createBackend(),this.cloudpilot)),this.session&&(this.session.backend.unexpectedCloseEvent.addHandler(this.onUnexpectedBackendClose),this.session.resumeEvent.addHandler(this.onSessionResume))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(We),oe(X2))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();class Iw{static create(t,n){if(n&&t)return new Iw(t,n)}constructor(t,n){var r=this;this.backend=t,this.handleConnect=()=>this.mutex.runExclusive((0,F.A)(function*(){try{const o=yield r.backend.connect();return 4===r.cloudpilot?.getSuspendKind()&&(o?r.cloudpilot.getSuspendContextNetworkConnect().Resume():r.cloudpilot.getSuspendContextNetworkConnect().Cancel()),o}catch(o){return console.error("failed to connect to backend",o),4===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkConnect().Cancel(),!1}})),this.handleRpc=()=>this.mutex.runExclusive((0,F.A)(function*(){if(3!==r.cloudpilot?.getSuspendKind())return;const o=r.cloudpilot.getSuspendContextNetworkRpc(),i=r.cloudpilot.resolveBuffer(o.GetRequestData(),o.GetRequestSize());try{!(yield r.backend.handleRpc(i))&&3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}catch(s){console.error("failed to process rpc request",s),3===r.cloudpilot?.getSuspendKind()&&r.cloudpilot.getSuspendContextNetworkRpc().Cancel()}})),this.disconnect=()=>{this.mutex.runExclusive((0,F.A)(function*(){r.backend&&(yield r.backend.disconnect())}))},this.onRpcResult=o=>{if(!this.cloudpilot)return;if(3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");const i=this.cloudpilot.copyBuffer(o);this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(i,o.length),this.cloudpilot.freeBuffer(i),this.resumeEvent.dispatch()},this.resumeEvent=new mr.J,this.mutex=new Oa,this.cloudpilot=n,t.rpcResultEvent.addHandler(this.onRpcResult)}terminate(){this.cloudpilot=void 0,this.backend.rpcResultEvent.removeHandler(this.onRpcResult),this.disconnect()}}let J2=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(r){this.cloudpilot=r,this.buttons.clear(),[6,7].forEach(o=>r.queueButtonUp(o))}engage(r){this.cloudpilot&&(this.buttons.has(r)?this.buttons.get(r).timer=0:(this.buttons.set(r,{button:r,timer:0}),this.cloudpilot?.queueButtonDown(r)))}tick(r){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*r,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),eL=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(r=>this.hasRenderedResolve=r)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var wr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(wr||{}),_re=_(2922),bre=_.n(_re),Il=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(Il||{}),Zu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(Zu||{});function Cre(e){return{readonly:!!(1&e),hidden:!!(2&e),system:!!(4&e)}}function tL(e,t){const n=e.GetName(),r=e.GetModifiedTS();return{path:t,name:n,size:e.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:Cre(e.GetAttributes())}}class Tw{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,F.A)(function*(){return new Tw(yield bre()({print:n=>console.log(n),printErr:n=>console.error(n),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),n=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==n)return this.module.HEAPU32.subarray(t>>>2,t+n>>>2)}getImageInSlot(t){const n=this.module.getPointer(this.vfsNative.GetImage(t)),r=this.vfsNative.GetSize(t);if(0!==n&&0!==r)return this.module.HEAPU32.subarray(n>>>2,n+r>>>2)}getDirtyPagesForSlot(t){const n=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===n)return;const r=hw(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(n,n+r)}readdir(t){const n=new this.module.ReaddirContext(t);try{const r=[];for(;0===n.GetStatus();){const o=n.GetEntry();r.push(tL(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),n.Next()}if(2===n.GetStatus()){console.warn(`readdir failed: ${n.GetErrorDescription()}`);const o=n.GetError();return{error:0===o?2:o,reason:n.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(n)}}rename(t,n){return this.vfsNative.RenameFile(t,n)}chmod(t,n){let r=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(n.hidden,2),i(n.readonly,1),i(n.system,4),this.vfsNative.ChmodFile(t,r,o)}stat(t){const n=this.vfsNative.StatFile(t);return 0!==n?{result:n,entry:void 0}:{entry:tL(this.vfsNative.GetEntry(),t),result:n}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const n=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(n,n+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive(t){var n=this;return(0,F.A)(function*({files:r,directories:o,prefix:i}){const s=new n.module.ExportZipContext(i,25),a=[];try{for(r&&r.forEach(h=>s.AddFile(h)),o&&o.forEach(h=>s.AddDirectory(h));2!==s.GetState();){switch(s.Continue()){case-2:case-1:a.push(s.GetErrorItem())}2!==s.GetState()&&(yield new Promise(h=>setTimeout(h,0)))}let l;const c=n.module.getPointer(s.GetZipContent()),d=s.GetZipSize();return 0!==c&&0!==d&&(l=n.module.HEAPU8.subarray(c,c+d).slice()),{archive:l,failedItems:a}}finally{n.module.destroy(s)}}).apply(this,arguments)}deleteRecursive(t){var n=this;return(0,F.A)(function*(){const r=new n.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>r.AddFile(o));1===r.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===r.GetState()?{success:!0}:{success:!1,failingItem:r.GetFailingPath()}}finally{n.module.destroy(r)}})()}writeFile(t,n){const r=this.copyIn(n);try{return this.vfsNative.WriteFile(t,n.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(t,n,r){var o=this;return(0,F.A)(function*(){const i=o.copyIn(n),s=new o.module.UnzipContext(25,t,i,n.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),s.GetState()){case 1:return a(Il.success);case-3:return a(Il.cardFull);case-1:return a(Il.ioError);case-2:return a(Il.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,n,r,o,i){var s=this;return(0,F.A)(function*(){const a=new s.module.PasteContext(25,t,n);r.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(c=>setTimeout(c,0)),a.GetState()){case 1:return Zu.success;case-2:return Zu.cardFull;case-1:return Zu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const n=this.vfsNative.Malloc(t.length),r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+t.length).set(t),n}}const Sre=_.p+"wasm/vfs_web-613e3af364aa0f85.wasm";var wre=_(9250),nL=_.n(wre);function rL(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}let Yu=(()=>{var e;class t{constructor(r,o,i,s,a){this.storageService=r,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new mr.J,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=Tw.create(Sre),this.directoryCache=new Map,this._bytesFree=Si(0),this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this._change=new mn,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(r){this.storageCardService=r,r.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),r.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(r){return("/"+r).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(r){return this.normalizePath(r).replace(/^\/+/,"").split("/")}dirname(r){return this.normalizePath(r).replace(/\/[^/]*$/,"")}isFilenameValid(r){return void 0===r||!/[/\\]/.test(r)}isEntryInClipboard(r){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(r.path)?this.clipboard.operation:void 0}activateCard(r){var o=this;return(0,F.A)(function*(){if(o.primaryCard?.id!==r){if(o.secondaryCard?.id===r)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${r} not mounted in VFS`)}})()}mountCardUnchecked(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.storageService.getCard(r);if(!a)throw new Error(`no card with id ${r}`);if(s.primaryCard?.id===r||s.secondaryCard?.id===r)throw new Error(`card ${r} already mounted in VFS`);s.storageCardContext.claim(r,Mr.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const c=l.getPendingImage();if(!c)throw new Error("failed to allocate image");return i?c.set(i):yield s.storageService.loadCardData(r,c,Mr.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(r,Mr.vfs),!1)})()}releaseCard(r){var o=this;return(0,F.A)(function*(){let i;if(o.primaryCard?.id===r)i=o.primarySlot;else{if(o.secondaryCard?.id!==r)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(r,Mr.vfs),o.onReleaseCard.dispatch(r)})()}readdir(r){if(!this.vfsInstance)return[];const o=this.normalizePath(r);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(r);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.vfs;if(r=i.normalizePath(r),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(r);if(0===a)try{if(void 0!==o.attributes&&!nL()(o.attributes,l.attributes)&&0!==(i.directoryCache.delete(i.dirname(r)),s.chmod(r,o.attributes)))return void(yield i.fatalError("Unable to write the updated file attributes."));if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(r)),s.rename(r,`${i.dirname(r)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to rename file."))}yield i.sync()}finally{i._change.emit()}else yield i.error(`The path ${r} is invalid. This is a bug in CloudpilotEmu.`)})()}saveFile(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(r.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${r.name}'.`));o.fileService.saveFile(r.name,a)}finally{yield i.dismiss(),o._change.emit()}})()}archiveFiles(r,o){var i=this;return(0,F.A)(function*(){if(0===r.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=r.filter(C=>C.isDirectory).map(C=>i.normalizePath(C.path)),c=r.filter(C=>!C.isDirectory).map(C=>i.normalizePath(C.path)),d=1===r.length?`${r[0].name}.zip`:function bne(e){return`files_${hf(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:v}=yield a.createZipArchive({directories:l,files:c,prefix:o});yield s.dismiss(),v.length>0&&(v.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${v.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${v.slice(0,3).join("<br>")}<br><br> and ${v.length-3} other file`)),h&&i.fileService.saveFile(d,h)}finally{yield s.dismiss()}})()}unlinkEntry(r){var o=this;return(0,F.A)(function*(){if(r.isDirectory)return;const s=(yield o.vfs).unlinkFile(r.path);if(0!==s)return console.error(`failed to unlink ${r.path}: ${s}`),void(yield o.error(`Failed to delete: ${r.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r.path)),o._change.emit()})()}deleteRecursive(r){var o=this;return(0,F.A)(function*(){const i=r.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss(),o._change.emit()}})()}mkdir(r){var o=this;return(0,F.A)(function*(){switch((yield o.vfs).mkdir(r)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${r}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(r)),o._change.emit()})()}get bytesFree(){return this._bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const r=this.storageCardService.cards().find(o=>o.storageId===this.clipboard?.storageId);return!!r&&(r.status===wr.clean||r.status===wr.dirty&&!!r.dontFsckAutomatically)}invalidateClipboardForCard(r){this.clipboard?.storageId===r.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(r,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(r),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${r}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this._change.emit())}unpackArchive(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:c}=yield i.unpackArchiveUnchecked(r,o);let d,h;switch(yield s.dismiss(),c){case Il.success:d="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case Il.ioError:return void(yield i.fatalError("There was an error writing to the card."));case Il.cardFull:d="No space left on card.",h="No space left";break;case Il.zipfileError:d="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const v=a-l,C=M=>M>1?`${M} entries`:"one entry";a>0&&v===a&&(yield i.alertService.message(h,`\n                    ${d}\n                    <br><br>\n                    The archive contains ${C(a)}, but none could be unpacked.\n                `)),v>0&&l>0&&(yield i.alertService.message(h,`\n                    ${d}\n                    <br><br>\n                    ${rL(C(l))} unpacked succesfully, but ${C(v)} could not be unpacked.\n                `))}finally{s.dismiss(),i._change.emit()}})()}paste(r){var o=this;return(0,F.A)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(r);switch(yield i.dismiss(),s){case Zu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case Zu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss(),o._change.emit()}})()}addFiles(r,o){var i=this;return(0,F.A)(function*(){if(0===r.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(r,o);yield s.dismiss();const l=c=>c>1?`${c} entries`:"one file";a.length===r.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(r.length-a.length)} to card. ${rL(l(a.length))} could not be added.\n                `))}finally{s.dismiss(),i._change.emit()}})()}get change(){return this._change}addFilesUnchecked(r,o){var i=this;return(0,F.A)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let c=!1,d=!1,h=!1,v=!1;e:for(let C=0;C<r.length;C++){const M=r[C],G=s.find(he=>he.name===M.name);if(G&&G.isDirectory){if(!h){const{overwrite:ke,rememberChoice:It}=yield i.overwriteFileDialog(M.name,"directory");v=ke,h=It}let he=!0;if(v&&(he=!(yield l.deleteRecursive([i.normalizePath(`${o}/${M.name}`)])).success),he){a.push(M.name);continue}}if(G&&!G.isDirectory){if(!c){const{overwrite:he,rememberChoice:ke}=yield i.overwriteFileDialog(M.name,"file");d=he,c=ke}if(!d){a.push(M.name);continue}}let de;try{de=yield M.getContent()}catch(he){console.warn(he),a.push(M.name),yield i.alertService.errorMessage(`Unable to open ${M.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${M.name}`),de)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...r.slice(C).map(he=>he.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(M.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var r=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,F.A)(function*(c){if(i)return o;const{overwrite:d,rememberChoice:h}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"file");return o=d,i=h,o}),function(d){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,F.A)(function*(c){if(a)return s;const{overwrite:d,rememberChoice:h}=yield r.overwriteFileDialog(c.replace(/^\d:/,""),"directory");return s=d,a=h,s});return function(d){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(r,o){var i=this;return(0,F.A)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),r,{...i.collisionHandlers(),onInvalidEntry:(l=(0,F.A)(function*(c){yield i.alertService.message("Invalid entry",`Could not extract ${c}`,{},"Continue")}),function(d){return l.apply(this,arguments)})});var l;return a.result!==Il.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(r){var o=this;return(0,F.A)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(r)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===Zu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var r=this;return(0,F.A)(function*(){if(!r.clipboard||!r.primaryCard||!r.storageCardService)throw new Error("invalid state for paste");if(r.clipboard.storageId===r.primaryCard.storageId)return r.primarySlot;if(r.secondaryCard&&r.clipboard.storageId===r.secondaryCard.storageId)return r.secondarySlot;r.secondaryCard&&(yield r.releaseCard(r.secondaryCard.id));const o=r.storageCardService.cards().find(a=>a.storageId===r.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield r.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(r.storageCardContext.claim(o.id,Mr.vfs),yield r.storageService.loadCardData(o.id,s,Mr.vfs),!i.mountImage(r.secondarySlot))throw r.storageCardContext.release(o.id,Mr.vfs),new Error("unable to mount card");return r.secondaryCard=o,r.secondarySlot})()}overwriteFileDialog(r,o){var i=this;return(0,F.A)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${r}?`:`\n                     Do you want to overwrite the existing directory ${r}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(r){var o=this;return(0,F.A)(function*(){yield o.alertService.errorMessage(r)})()}fatalError(r){var o=this;return(0,F.A)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:wr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${r}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var r=this;return(0,F.A)(function*(o=r.primarySlot){const i=r.mountedCards[o];if(!i)return;const s=yield r.vfs,a=s.getImageInSlot(o),l=s.getDirtyPagesForSlot(o);!a||!l||(yield r.storageService.updateCardData(i.id,a,l,Mr.vfs),l.fill(0))}).apply(this,arguments)}activatePrimaryCard(){var r=this;return(0,F.A)(function*(){const o=yield r.vfs;o.switchSlot(r.primarySlot),r._bytesFree.set(o.bytesFree(r.primarySlot)),r.bytesTotal=o.bytesTotal(r.primarySlot),r.directoryCache.clear()})()}updateBytesFree(){var r=this;return(0,F.A)(function*(){r._bytesFree.set((yield r.vfs).bytesFree(r.primarySlot))})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(r){this.mountedCards[this.primarySlot]=r}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(r){this.mountedCards[this.secondarySlot]=r}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(qn),oe(Eh),oe(Xc),oe(oa),oe(Sr))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();var Ho=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Ho||{});class fy extends Error{constructor(t){super(t)}}function oL(){return m2().replace(/-/g,"")}let vf=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,h,v,C,M){this.sessionService=r,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=c,this.errorService=d,this.fileService=h,this.vfsService=v,this.storageCardContext=C,this.fstools=M,this.mountCardEvent=new mr.J,this.deleteCardEvent=new mr.J,this.loading=!0,this._cards=Si([]),this.updateMutex=new Oa,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}get cards(){return this._cards}createEmptyCard(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function Ere(e){switch(e){case Ho.mb4:return 4;case Ho.mb8:return 8;case Ho.mb16:return 16;case Ho.mb32:return 32;case Ho.mb64:return 64;case Ho.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const c={storageId:oL(),name:r,size:4*l.length,status:wr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(c,l)}finally{a.dismiss()}})()}createCardFromImage(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(r,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const r=this.emulationStateService.currentSession()?.mountedCard;void 0!==r&&this.storageCardContext.release(r,Mr.cloudpilot)}loadCardInEmulator(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);yield i.vfsService.releaseCard(r);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(r,Mr.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Mr.cloudpilot),s})()}ejectCurrentCard(){var r=this;return(0,F.A)(function*(){const o=r.emulationStateService.currentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield r.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield r.storageService.updateStorageCardPartial(i,{status:wr.dirty}),yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield r.cloudpilotService.cloudpilot).removeCard(s.storageId),r.snapshotService.resetCard(),r.storageCardContext.release(i,Mr.cloudpilot)})()}checkCard(r){var o=this;return(0,F.A)(function*(){const i=o.mountedInSession(r.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(r.id)}const s=yield o.executeFsckAndUpdateCard(r.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${r.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(r.id,s):o.storageCardContext.release(r.id,Mr.fstools))}}})()}insertCard(r){return this.checkAndClaimCard(r,"insert")}browseCard(r){var o=this;return(0,F.A)(function*(){if(o.storageCardContext.getOwner(r.id)===Mr.vfs)return yield o.vfsService.activateCard(r.id),!0;const i=o.mountedInSession(r.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(r.id)}return o.checkAndClaimCard(r.id,"vfs")})()}updateCard(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=wr.dirty),i.storageService.updateStorageCardPartial(r,o)})()}deleteCard(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o._cards().find(a=>a.id===r);yield o.vfsService.releaseCard(r),yield o.ejectCard(r),yield o.storageService.deleteStorageCard(r),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.getCard(r);if(!a)throw new Error(`no card with id ${r}`);const l=yield s.loadingController.create({message:"Exporting..."});let c;try{yield l.present(),c=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}c&&s.fileService.saveFile(i?`${o}.gz`:o,c)})()}saveCards(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let c=0;for(const d of r){c++;const h=yield o.getCard(d);if(!h)continue;i.message=`Exporting ${c}/${r.length}...`;const v=pf(h.name,M=>a.has(M));a.add(v);const C=yield o.getCardData(h,v,l);C&&(yield s.addEntry(`${v}.img.gz`,C))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function _ne(){return`${hf("cards")}.zip`}(),s.getContent())})()}getCard(r){var o=this;return(0,F.A)(function*(){return o.storageService.getCard(r)})()}mountedInSession(r){return this.sessionService.sessions().find(o=>o.mountedCard===r)}isLoading(){return this.loading}addAllCardsFromArchive(r){var o=this;return(0,F.A)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=ho?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,c=yield o.fstools.createZipfileWalker(r);if(-1===c.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const d=c.GetTotalEntries(),h=new Set(o.cards().map(de=>de.name)),v=yield o.fstools.createGunzipContext();let C=1,M=!1;const G=[];for(;0===c.GetState();){a.message=`Importing ${C++}/${d}...`;let de=c.GetCurrentEntryName();try{if(!i.test(de))throw new fy(`${de} has the wrong suffix to be considered as a card image.`);let he=c.GetCurrentEntryContent();if(de.endsWith(".gz")&&he&&(v.initialize(he),he=(yield v.gunzip())?v.getDecompressedData():void 0,de=de.substring(0,de.length-3)),void 0===he)throw new fy(`Failed to extract ${de}. ${s}`);if(0===l.getCardSupportLevel(he.length))throw new fy(`${de} is not a valid card image.`);const ke=pf(de.replace(i,""),It=>h.has(It));yield o.doCreateCardFromImage(ke,he,!1,!0)}catch(he){if(!(he instanceof fy))throw he;G.push(de),M||(M=yield o.alertService.messageWithChoice("Error",he.message,"Skip further errors",M,{},"Continue"))}finally{c.Next()}}G.length<=3&&G.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${G.join("<br>")}`):G.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${G.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${G.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(r,o,i){var s=this;return(0,F.A)(function*(a,l,c,d=!1){const h={storageId:oL(),name:a,size:l.length,status:d?wr.dirty:wr.clean,dontFsckAutomatically:c},v=new Uint32Array(l.buffer,l.byteOffset,l.byteLength>>>2);if(d||c)yield s.storageService.importStorageCard(h,v);else{const[C,M]=yield s.fsckNewCard(v,h);yield s.storageService.importStorageCard(M,C)}}).apply(this,arguments)}getCardData(r,o,i){var s=this;return(0,F.A)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(r.size),i){const d=i.getBuffer();a=new Uint32Array(d.buffer,d.byteOffset,d.byteLength>>2)}const l=s.mountedInSession(r.id);let c;return l&&l.id===s.emulationStateService.currentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),c=(yield s.cloudpilotService.cloudpilot).getCardData(r.storageId),c&&(a?a.set(c):a=c)),c||(a||(a=new Uint32Array(r.size>>>2)),yield s.storageService.loadCardData(r.id,a,s.storageCardContext.getOwner(r.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var r=this;return(0,F.A)(function*(){r._cards.set(yield r.updateMutex.runExclusive((0,F.A)(function*(){return(yield r.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))})))})()}cardIsMounted(r){var o=this;return(0,F.A)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===r)})()}checkAndClaimCard(r,o){var i=this;return(0,F.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");let s=yield i.getCard(r);if(!s)throw new Error(`no card with id ${r}`);let a,l=!0,c=!1;if(!s.dontFsckAutomatically){if(s.status===wr.dirty){if(a=yield i.executeFsckAndUpdateCard(r),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(r,Mr.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(r),!s)throw new Error(`no card with id ${r}`)}switch(s.status){case wr.clean:break;case wr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;break;case wr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case wr.unfixable:if(l=!1,c=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(r),yield i.mountCardInEmulator(r,a?.getImageData())):(yield i.mountCardForBrowsing(r,c,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(d){return i.errorService.fatalBug(d instanceof Error?d.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(r))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(r);if(!s)throw new Error(`no card with id ${r}`);yield o.vfsService.releaseCard(r),o.storageCardContext.claim(r,Mr.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Mr.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(r,{status:wr.clean}),o.storageCardContext.release(r,Mr.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(r,{status:wr.unformatted}),o.storageCardContext.release(r,Mr.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(r,{status:wr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(r,{status:wr.unfixable}),o.storageCardContext.release(r,Mr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(r,o){var i=this;return(0,F.A)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(r,o.getImageData(),o.getDirtyPages(),Mr.fstools),yield i.storageService.updateStorageCardPartial(r,{status:wr.clean}),i.storageCardContext.release(r,Mr.fstools)}finally{s.dismiss()}})()}fsckNewCard(r,o){var i=this;return(0,F.A)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(r),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[r,{...o,status:wr.clean}];case 2:{let c=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[a.getImageData(),{...o,status:wr.clean}]:[r,{...o,status:wr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[r,{...o,status:wr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[r,{...o,status:wr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(r){var o=this;return(0,F.A)(function*(){const i=o.mountedInSession(r),s=yield o.storageService.getCard(r);!i||!s||(i.id===o.emulationStateService.currentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(r,{status:wr.dirty})))})()}mountCardInEmulator(r,o){var i=this;return(0,F.A)(function*(){if(yield i.cardIsMounted(r))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(r);const a=i.emulationStateService.currentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(r,o),c=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(r,{status:wr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:r}),!c.mountCard(l.storageId))throw c.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(r,o,i){var s=this;return(0,F.A)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(r,o,i)}finally{a.dismiss()}})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Qc),oe(qn),oe(dc),oe(il),oe(oa),oe(xh),oe(Sr),oe(Uu),oe(Xc),oe(Yu),oe(Eh),oe(ay))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Aw=(()=>{var e;class t{constructor(r,o){this.pwaService=r,this.clipboardService=o,this.injectStyles()}get runHidden(){return this.pwaService.getInstallationMode()!==pc.pwa}get nativeNetworkIntegration(){return ia.supportsNativeNetworkIntegration()}get nativeClipboard(){return ia.supportsNativeClipboard()}featureStyle(r,o){return(o?"":`.feature-${r} { display: none }\n`)+(o?`.no-feature-${r} { display: none }`:"")}injectStyles(){const r=document.createElement("style");r.textContent=`\n            ${this.featureStyle("run-hidden",this.runHidden)}\n            ${this.featureStyle("indicator-fix",lS())}\n            ${this.featureStyle("clipboard-integration",this.clipboardService.isSupported())}\n            ${this.featureStyle("native-app",_l)}\n            ${this.featureStyle("ios-not-native",ho&&!_l)}\n            ${this.featureStyle("ios-or-safari",ho&&!_l||Pp)}\n            ${this.featureStyle("ios",ho)}\n            ${this.featureStyle("native-network",this.nativeNetworkIntegration)}\n            ${this.featureStyle("dynamic-font-size",Vd())}\n        `,document.head.appendChild(r)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(ry),oe(Ew))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),sl=(()=>{var e;class t extends ire{constructor(r,o,i,s,a,l,c,d,h,v,C,M,G,de,he,ke,It,Ut,Ht){var Bt;super(),Bt=this,this.storageService=r,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=c,this.modalWatcher=d,this.clipboardService=h,this.kvsService=v,this.networkService=C,this.buttonService=M,this.bootstrapService=G,this.cloudpilotService=de,this.storageCardService=he,this.storageCardContext=ke,this.sessionsService=It,this.featureService=Ut,this.app=Ht,this.switchSession=(To,ll={})=>this.mutex.runExclusive((0,F.A)(function*(){if(To===Bt.emulationState.currentSession()?.id)return!0;let cl;yield Bt.stopUnchecked(),yield Bt.bootstrapService.hasRendered(),(ll.showLoader??1)&&(cl=yield Bt.loadingController.create({message:"Loading..."}),yield cl.present());try{const hy=yield Bt.storageService.getSession(To);if(!hy)throw new Error(`invalid session ${To}`);Bt.emulationState.setCurrentSession(void 0);const Ese=yield Bt.cloudpilotService.cloudpilot;if(!(yield Bt.restoreSession(hy,Ese)))return Bt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Bt.emulationState.setCurrentSession(hy),yield Bt.sessionsService.updateSession({...hy,lastLaunch:Date.now()}),function Y9(e){aS(Wm,e+"")}(To)}finally{cl&&(yield cl.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,F.A)(function*(){!Bt.emulationState.currentSession()||Bt.running||Bt.errorService.hasFatalError()||!Bt.cloudpilotInstance||(yield Bt.kvsService.mutex.runExclusive(()=>Bt.updateFeatures()),Bt.doResume(),Bt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,F.A)(function*(){Bt.doPause(),!Bt.errorService.hasFatalError()&&Bt.emulationState.currentSession()&&(yield Bt.snapshotService.waitForPendingSnapshot(),yield Bt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([To,ll])=>this.mutex.runExclusive((0,F.A)(function*(){const cl=Bt.emulationState.currentSession();To===cl?.id&&(void 0!==cl.mountedCard&&void 0===ll&&Bt.storageCardContext.release(cl.mountedCard,Mr.cloudpilot),Bt.emulationState.setCurrentSession(ll),Bt.emulationState.currentSession()||(yN(),Bt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,F.A)(function*(){const To=Bt.emulationState.currentSession();To&&Bt.sessionsService.emergencySaveSession(To)})),this.mutex=new Oa,this.lastSnapshotAt=0,r.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(To=>{To.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.networkService.initialize(To),this.networkService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Yn=function Z9(){const e=sS(Wm);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Yn&&!bN()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Yn))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.currentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.currentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.currentSession()?.hotsyncName}updateConfiguredHotsyncName(r){const o=this.emulationState.currentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:r})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden&&this.featureService.runHidden?mf.timeout:mf.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(r,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.currentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),r-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=r),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.networkService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var r=this;return(0,F.A)(function*(){r.emulationState.currentSession()&&(r.doStop(),yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),r.storageCardService.onEmulatorStop(),r.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const r=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==r&&this.cloudpilotInstance.setClipboardIntegration(r),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.networkService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.currentSession()?.dontManageHotsyncName)}recoverStoredSession(r){var o=this;return(0,F.A)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,F.A)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(r,{showLoader:!1})}catch(a){ho&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience."),console.error(a)}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(r,o){var i=this;return(0,F.A)(function*(){const[s,a,l]=yield i.storageService.loadSession(r,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${r.rom}`);return o.clearExternalStorage(),void 0!==r.mountedCard&&(yield i.storageCardService.loadCardInEmulator(r.mountedCard)),!!i.openSession(o,s,r.device,a,l)&&(i.networkService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(r,yield i.cloudpilotService.cloudpilot),!0)})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(qn),oe(We),oe(oa),oe(dc),oe(xh),oe(Uu),oe(Sr),oe(ww),oe(Ew),oe(Bi),oe(Q2),oe(J2),oe(eL),oe(il),oe(vf),oe(Eh),oe(Qc),oe(Aw),oe(ks))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Tre=(()=>{var e;class t{constructor(r,o,i,s,a,l,c){this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=c}saveBackup(r){var o=this;return(0,F.A)(function*(){const i=o.emulationStateService.currentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const c=yield o.cloudpilotService.cloudpilot;yield c.backup(function(){var d=(0,F.A)(function*(h){for(h.Init(r);h.IsInProgress();){const v=h.GetCurrentDatabase();h.Save()||a.push(v),yield new Promise(C=>setTimeout(C,0))}l=c.getArchive(h)});return function(h){return d.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${pw(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(F2(i,r),l)},"Cancel"):o.fileService.saveFile(F2(i,r),l):yield o.alertService.errorMessage("Backup failed.")})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(sl),oe(oa),oe(xh),oe(Xc),oe(dc),oe(Sr),oe(il))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Are=window.AudioContext||window.webkitAudioContext;function Mw(e,t=100){return new Promise((n,r)=>{setTimeout(()=>r(new Error("timeout")),t),e.then(n,r)})}class Mre{constructor(t){var n=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,F.A)(function*(){for(let r=0;r<3;r++)if(yield n.initializeAudioUnguarded())return!1;return!0})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,F.A)(function*(){if(!n.context||n.isRunning()===n.shouldRun())return;!r&&!n.isRunning()&&n.shouldRun()&&n.applyPwmUpdate();const o=n.context.state;if(n.shouldRun())try{n.updateGain(),yield Mw(n.context.resume()),console.log("resume audio context")}catch(i){console.error(`failed to resume audio from state ${o}`,i)}else try{yield Mw(n.context.suspend()),console.log("suspend audio context")}catch(i){console.error(`failed to suspend audio from state ${o}`,i)}console.log(`audio context state change ${o} -> ${n.context.state}`)})),this.onPwmUpdate=function(){var r=(0,F.A)(function*(o){n.pendingPwmUpdate=o,n.initialized&&(n.shouldRun()!==n.isRunning()&&n.updateState(!0),n.shouldRun()&&n.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Oa,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ho||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ho||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}initializeAudioUnguarded(){var t=this;return(0,F.A)(function*(){if(t.initialized)return!0;try{t.context=new Are}catch(n){return console.error("web audio not available",n),!1}try{t.context.destination.channelCount=1}catch(n){console.warn("audio driver: failed to set channel count",n)}try{yield t.start()}catch(n){return console.error("failed to initialize audio context",n),!1}return t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0,!0})()}start(){var t=this;return(0,F.A)(function*(){t.context&&(yield Mw(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:n}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||n<=0||t>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/t),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<n?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let xw=(()=>{var e;class t extends Mre{constructor(r,o,i,s){super(r),this.kvs=o,this.modalWatcher=i,this.featureService=s,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden&&this.featureService.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(sl),oe(Bi),oe(ww),oe(Aw))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),sL=(()=>{var e;class t{constructor(r,o){this.emulationService=r,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(sl),oe(We))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const kw=J.m515,kre=Sw[2],Rre=Sw[0],yf="rgba(0,0,0,0.2)";function aL(e){const t=Ah(e),n=(0===t.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:n},o=l=>({frameDevice:l,frameCanvas:l*n}),i=l=>({frameDevice:l,frameCanvas:r.frameCanvas+l*n}),s=o(t.silkscreenHeight>0?1:0),a=o(function Fre(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:n,borderWidth:r,height:o(2*r.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class Lre{constructor(t){this.skinLoader=t,this.layout=aL(kw),this.onResize=new mr.J}get width(){switch(this.getOrientation()){case Fr.portrait:case Fr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Fr.portrait:case Fr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.setupTransformation(),this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,n=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,c=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Fr.landscape90:{const h=c;c=this.layout.height.frameDevice-l,l=h;break}case Fr.landscape270:{const h=c;c=l,l=this.layout.width.frameDevice-h;break}case Fr.portrait180:l=this.layout.width.frameDevice-l,c=this.layout.height.frameDevice-c}l-=this.layout.borderWidth.frameDevice,c-=this.layout.borderWidth.frameDevice,c>=this.layout.screenHeight.frameDevice&&(c<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?c=this.layout.screenHeight.frameDevice:c-=this.layout.separatorHeight.frameDevice);const d=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(n)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),c<0&&(c=0),c>=d&&(c=d-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||c<0||c>=d)return;return[l,c]}isSilkscreen(t){const[,n]=t;return!this.isButtons(t)&&n>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,n]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(){var t=this;return(0,F.A)(function*(n=t.ctx?.canvas){if(!n)return;t.layout=aL(t.getDeviceId()),t.onResize.dispatch(),n.width=t.width,n.height=t.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])}).apply(this,arguments)}drawButtons(){var t=this;return(0,F.A)(function*(n=[]){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),n.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,yf),n.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,yf),n.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,yf),n.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,yf),n.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,yf),n.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,yf))}).apply(this,arguments)}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx.resetTransform(),this.getOrientation()){case Fr.portrait:case void 0:break;case Fr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Fr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Fr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,F.A)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,kre),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,n,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,n,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case J.pegT600c:case J.pegT650c:return"silkscreen/clie-t600.svg";case J.pegN700c:case J.pegN600c:return"silkscreen/clie-n610.svg";case J.pegS320:case J.pegS300:return"silkscreen/clie-s300.svg";case J.pegS500c:return"silkscreen/clie-s500.svg";case J.pegT400:return"silkscreen/clie-t415.svg";case J.acerS11:return"silkscreen/acer-s10.svg";case J.palmPilot:case J.pilot:case J.iii:case J.palmVII:return"silkscreen/pilot.svg";case J.m500:return"silkscreen/m500.svg";case J.m505:case J.m515:case J.m520:return"silkscreen/m515.svg";case J.iiic:return"silkscreen/iiic.svg";case J.m100:case J.m105:case J.m125:return"silkscreen/m100.svg";case J.m130:return"silkscreen/m130.svg";case J.i710:return"silkscreen/tungstenw.svg";case J.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case J.acerS11:return"hard-buttons/acer-s10.svg";case J.pegNR70:return"hard-buttons/clie-nr70.svg";case J.pegN700c:return"hard-buttons/clie-n700.svg";case J.pegN600c:return"hard-buttons/clie-n610.svg";case J.pegS300:return"hard-buttons/clie-s300.svg";case J.pegS500c:return"hard-buttons/clie-s500.svg";case J.pegS320:return"hard-buttons/clie-s320.svg";case J.pegT400:case J.pegT600c:case J.pegT650c:return"hard-buttons/clie-t415.svg";case J.pilot:case J.palmPilot:return"hard-buttons/pilot.svg";case J.m500:return"hard-buttons/m500.svg";case J.m505:case J.m515:case J.m520:return"hard-buttons/m515.svg";case J.iiic:return"hard-buttons/iiic.svg";case J.m100:case J.m105:return"hard-buttons/m100.svg";case J.m125:return"hard-buttons/m125.svg";case J.m130:return"hard-buttons/m130.svg";case J.i710:return"hard-buttons/tungstenw.svg";case J.iii:case J.iiix:case J.iiixe:case J.palmVII:case J.palmVIIEZ:case J.palmVIIx:return"hard-buttons/iiix.svg";case J.iiie:return"hard-buttons/iiie.svg";case J.i705:return"hard-buttons/i705.svg";case J.handera330:return"hard-buttons/handera330.svg";case J.handera330c:return"hard-buttons/handera330c.svg";case J.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return dw(this.getDeviceId())?"white":Rre}frameColor(){return dw(this.getDeviceId())?"white":"#ccc"}}function Bre(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=()=>n(),r.src=e})}class Vre{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const n=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,Bre((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),r=function $re(e,t){let n,r;const o=document.createElement("canvas");return function(){var i=(0,F.A)(function*(s,a){if(n===s&&r===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(Pp||ho)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(c=>setTimeout(c,0)),l.drawImage(yield e,0,0,o.width,o.height)),n=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(n.then(([,o])=>o),n.then(([o])=>o));return this.images.set(t,r),r}}let py=(()=>{var e;class t extends Lre{constructor(r){super(new Vre(r.cloudpilot)),this.cloudpilotService=r,this.statisticsVisible=!1}initialize(r){var o=this;return(0,F.A)(function*(i,s=o.session){o.session=s,yield o.initWithCanvas(i)}).apply(this,arguments)}clearStatistics(){var r=this;return(0,F.A)(function*(){r.statisticsVisible=!1,r.layout.silkscreenHeight.frameCanvas>0?yield r.drawSilkscreen():yield r.drawEmulationCanvas()})()}updateStatistics(r,o){var i=this;return(0,F.A)(function*(){yield i.clearStatistics(),i.drawStatistics(r,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=r,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??kw}getOrientation(){return this.session?.deviceOrientation??Fr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(r,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function Ure(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Ah(this.session?.device??kw).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...r||o?[]:["collecting statistics..."],...r?[`last snapshot          : ${new Date(r.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${r.pages}`,`snapshot time total    : ${r.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${r.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((c,d)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*d)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(il))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function Hre(e,t){if(1&e){const n=Nn();j(0,"ion-item",4),He("click",function(){return Ze(n),at(vt().power())}),j(1,"ion-label"),Re(2,"Power"),q(),nt(3,"ion-icon",5),q()}if(2&e){const n=vt();pe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Gre(e,t){if(1&e){const n=Nn();j(0,"ion-item",4),He("click",function(){return Ze(n),at(vt().hotsync())}),j(1,"ion-label"),Re(2,"Hotsync"),q(),nt(3,"ion-icon",6),q()}if(2&e){const n=vt();pe("detail",!1)("disabled",!n.emulationService.isRunning())}}function zre(e,t){if(1&e){const n=Nn();j(0,"ion-item",4),He("click",function(){return Ze(n),at(vt().reset())}),j(1,"ion-label"),Re(2,"Reset"),q(),nt(3,"ion-icon",7),q()}if(2&e){const n=vt();pe("detail",!1)("disabled",!n.emulationService.isRunning())}}function Wre(e,t){if(1&e){const n=Nn();j(0,"ion-item",8),He("click",function(){return Ze(n),at(vt().insertCard())}),j(1,"ion-label"),Re(2),q(),nt(3,"ion-icon",9),q()}if(2&e){const n=vt();pe("detail",!1),fe(2),Di("Insert ",n.hasMemorystick?"stick":"SD card")}}function qre(e,t){if(1&e){const n=Nn();j(0,"ion-item",8),He("click",function(){return Ze(n),at(vt().ejectCard())}),j(1,"ion-label"),Re(2),q(),nt(3,"ion-icon",10),q()}if(2&e){const n=vt();pe("detail",!1),fe(2),Di("Eject ",n.hasMemorystick?"stick":"SD card")}}function Zre(e,t){if(1&e){const n=Nn();j(0,"ion-item",8),He("click",function(){return Ze(n),at(vt().mute(!1))}),j(1,"ion-label"),Re(2,"Enable audio"),q(),nt(3,"ion-icon",11),q()}2&e&&pe("detail",!1)}function Yre(e,t){if(1&e){const n=Nn();j(0,"ion-item",8),He("click",function(){return Ze(n),at(vt().mute(!0))}),j(1,"ion-label"),Re(2,"Disable audio"),q(),nt(3,"ion-icon",12),q()}2&e&&pe("detail",!1)}function Kre(e,t){if(1&e){const n=Nn();j(0,"ion-item",4),He("click",function(){return Ze(n),at(vt().backup())}),j(1,"ion-label"),Re(2,"Save backup"),q(),nt(3,"ion-icon",13),q()}if(2&e){const n=vt();pe("detail",!1)("disabled",n.backupDisabled)}}function Xre(e,t){if(1&e){const n=Nn();j(0,"ion-item",8),He("click",function(){return Ze(n),at(vt().rotate())}),j(1,"ion-label"),Re(2,"Rotate"),q(),nt(3,"ion-icon",14),q()}2&e&&pe("detail",!1)}function Qre(e,t){if(1&e){const n=Nn();j(0,"ion-item",8),He("click",function(){return Ze(n),at(vt().editSettings())}),j(1,"ion-label"),Re(2,"Settings"),q(),nt(3,"ion-icon",15),q()}2&e&&pe("detail",!1)}function Jre(e){switch(e){case Fr.portrait:case void 0:return Fr.landscape90;case Fr.landscape90:return Fr.portrait180;case Fr.portrait180:return Fr.landscape270;case Fr.landscape270:return Fr.portrait;default:throw new Error("cannot happen")}}let eoe=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d,h,v,C,M,G,de,he,ke,It,Ut){this.emulationService=r,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=c,this.kvsService=d,this.modalController=h,this.sessionService=v,this.performanceWatchdogService=C,this.canvasDisplayService=M,this.cloudpilotService=G,this.storageCardService=de,this.alertService=he,this.alertController=ke,this.storageService=It,this.errorService=Ut,this.showHelp=()=>{}}reset(){var r=this;return(0,F.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>r.emulationService.reset()},{text:"No extensions",handler:()=>r.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>r.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var r=this;return(0,F.A)(function*(){r.popoverController.dismiss(),(yield r.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>r.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>r.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(r){r?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const r=this.emulationStateService.currentSession();return!!r&&function vne(e){switch(e){case J.i705:case J.i710:case J.pegNR70:case J.pegT650c:case J.lp168:return!0;default:return!1}}(r.device)}get hasActiveSession(){return!!this.emulationStateService.currentSession()}get supportsStorageCard(){const r=this.emulationStateService.currentSession();return!!r&&P2(r.device)!==ff.none}get hasMemorystick(){const r=this.emulationStateService.currentSession();return!!r&&P2(r.device)===ff.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.currentSession()?.mountedCard}editSettings(){var r=this;return(0,F.A)(function*(){const o=r.emulationStateService.currentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield r.modalController.create({component:U2,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,F.A)(function*(){i!==o.speed&&r.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(r.canvasDisplayService.initialize(void 0,o),r.canvasDisplayService.updateEmulationCanvas()),yield r.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield r.popoverController.dismiss(),yield a.present()})()}rotate(){var r=this;return(0,F.A)(function*(){const o=r.emulationStateService.currentSession();if(!o)return;yield r.storageService.updateSessionPartial(o.id,{deviceOrientation:Jre(o.deviceOrientation)});const i=r.emulationStateService.currentSession();yield r.canvasDisplayService.initialize(void 0,i),r.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var r=this;return(0,F.A)(function*(){if(r.popoverController.dismiss(),void 0===r.emulationStateService.currentSession()?.device)return;const i=yield r.cloudpilotService.cloudpilot,s=r.storageCardService.cards().filter(l=>i.deviceSupportsCardSize(l.size)&&!r.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield r.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>r.storageCardService.insertCard(l)}],inputs:s.map((l,c)=>({label:l.name,type:"radio",value:l.id,checked:0===c})),backdropDismiss:!1})).present():r.alertService.message("No image available",`There is no ${r.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var r=this;return(0,F.A)(function*(){try{yield r.storageCardService.ejectCurrentCard()}catch(o){r.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}r.popoverController.dismiss()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(sl),y(dc),y(Tre),y(J2),y(yh),y(lc),y(xw),y(Bi),y(Bs),y(Qc),y(sL),y(py),y(il),y(vf),y(Sr),y(O0),y(qn),y(Uu))},this.\u0275cmp=Je({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},standalone:!1,decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"],["lines","full","button","",3,"click","detail","disabled"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list"),nn(1,Hre,4,2,"ion-item",0)(2,Gre,4,2,"ion-item",0)(3,zre,4,2,"ion-item",0)(4,Wre,4,2,"ion-item",1)(5,qre,4,2,"ion-item",1)(6,Zre,4,1,"ion-item",1)(7,Yre,4,1,"ion-item",1)(8,Kre,4,2,"ion-item",0)(9,Xre,4,1,"ion-item",1)(10,Qre,4,1,"ion-item",1),j(11,"ion-item",2),He("click",function(){return i.help()}),j(12,"ion-label"),Re(13,"Help"),q(),nt(14,"ion-icon",3),q()()),2&o&&(fe(),pe("ngIf",i.hasActiveSession&&!i.powerDisabled),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("ngIf",i.supportsStorageCard&&!i.hasMountedCard),fe(),pe("ngIf",i.supportsStorageCard&&i.hasMountedCard),fe(),pe("ngIf",i.isMuted&&!i.isAudioOff),fe(),pe("ngIf",!i.isMuted&&!i.isAudioOff),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("ngIf",i.hasActiveSession),fe(),pe("detail",!1))},dependencies:[wo,Uo,Do,Bu,ra],encapsulation:2}))}return e(),t})();class toe{constructor(t,n){this.emulationService=t,this.canvasDisplayService=n,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const c=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:c}),this.handleButtonDown(c)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const c=this.canvasDisplayService.eventToPalmCoordinates(s);if(!c||2!==this.determineArea(c)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const d=this.canvasDisplayService.determineButton(c);d===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):d!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=d,this.handleButtonDown(d));break}case 0:case 1:{const c=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!c)continue;this.emulationService.handlePointerMove(...c,1===l);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,n=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=n||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,n,r,o){t.addEventListener(n,r,o)}removeEventListener(t,n,r,o){t.removeEventListener(n,r,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let noe=(()=>{var e;class t extends toe{constructor(r,o,i,s,a){super(r,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(r,o,i,s){this.ngZone.runOutsideAngular(()=>r.addEventListener(o,i,s))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(sl),oe(py),oe(ww),oe(We),oe(ks))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();function lL(e){return/\.(prc|pdb|pqa)$/i.test(e)}class aoe{constructor(t,n,r,o,i){this.cloudpilotService=t,this.fstools=n,this.alertService=r,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,F.A)(function*(){for(const n of t.files){let r;try{r=yield n.getContent()}catch(o){console.warn(o),t.filesFail.push(n.name);continue}if(/\.zip/i.test(n.name)&&r.length<33554432)try{yield t.installZip(n)}catch{t.filesFail.push(n.name)}else lL(n.name)?yield t.installOne(n.name,r):t.filesFail.push(n.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,n){var r=this;return(0,F.A)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(n);switch(i){case 2:r.filesRequireReset.push(t),r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;case 1:r.filesSuccess.push(t),r.sizeInstalledSinceLastsnapshot+=n.length;break;default:r.filesFail.push(t),yield r.reportError(t,i)}if(2===i||1===i)try{const s=function soe(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(n);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${t} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,t)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var n=this;return(0,F.A)(function*(){const r=yield n.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===r.GetState();){const i=r.GetCurrentEntryName().replace(/^.*\//,"");if(!lL(r.GetCurrentEntryName())){r.Next();continue}const s=r.GetCurrentEntryContent();s?(yield n.installOne(i,s),o++):n.filesFail.push(i),r.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,n){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function ioe(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(n)}.`)}errorDialog(t,n){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,n,"Skip any remaining errors",!1,{},"Continue").then(r=>{this.skipErrors=r})}}let loe=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.cloudpilotService=r,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(r){var o=this;return(0,F.A)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new aoe(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,r).run()}finally{i.dismiss(),o.emulationService.resume()}const c=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let d;d=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(d,c,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(r){switch(r.length){case 0:return;case 1:return`Installation of ${r[0]} successful.`;default:return`Installation of ${r.length} items successful.`}}messageFailed(r){return r.length>0?`Installation of  ${pw(r)} failed.`:void 0}messageRequireReset(r){return r.length>0?`${pw(r)} require a device reset.`:void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(il),oe(sl),oe(oa),oe(xh),oe(Sr),oe(ay))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),Rw=(()=>{var e;class t{constructor(r,o,i){this.router=r,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=function coe(e){const t=document.querySelectorAll(e);for(let n=0;n<t.length;n++){const r=t[n].getBoundingClientRect();if(r.height>0)return r.height}return 0}("ion-header");this.useSmallUI=void 0!==a&&this.canvasArea(window.innerHeight-a-(s?56:50)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.currentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(r,o){let i,s;return r=Math.min(r,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/r>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=r,i=r/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Ti),y(py),y(dc))},this.\u0275cmp=Je({type:t,selectors:[["app-tabs"]],standalone:!1,decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(o,i){1&o&&(j(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),nt(4,"ion-icon",3),j(5,"ion-label"),Re(6,"Emulator"),q()(),j(7,"ion-tab-button",4),nt(8,"ion-icon",5),j(9,"ion-label"),Re(10,"Sessions"),q()(),j(11,"ion-tab-button",6),nt(12,"ion-icon",7),j(13,"ion-label"),Re(14,"Cards"),q()(),j(15,"ion-tab-button",8),nt(16,"ion-icon",9),j(17,"ion-label"),Re(18,"Settings"),q()(),j(19,"ion-tab-button",10),nt(20,"ion-icon",11),j(21,"ion-label"),Re(22,"About"),q()()()()()),2&o&&(fe(2),Ta("small-ui",i.smallUI)("disabled",i.isLocked()))},dependencies:[Uo,Bu,zv,LF,$F],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px;position:absolute;bottom:1px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}))}return e(),t})(),Nw=(()=>{var e;class t{constructor(){this.onDragOver=r=>{r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=r=>{r.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(r)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(r){this.currentClient=r}unregisterClient(r){r===this.currentClient&&(this.currentClient=void 0)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const uoe=["*"];function doe(e,t){1&e&&nt(0,"div",2)}let foe=0,cL=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new mn,this.triggerId="breadcrumb-trigger-"+foe++}handleClick(r){this.disabled||(r.preventDefault(),this.trigger.emit(this.triggerId))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(o,i){1&o&&He("click",function(a){return i.handleClick(a)}),2&o&&(ea("id",i.triggerId),Ta("disabled",i.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},standalone:!1,ngContentSelectors:uoe,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(o,i){1&o&&(bt(),j(0,"div",0),yt(1),q(),nn(2,doe,1,0,"div",1)),2&o&&(fe(2),pe("ngIf",!i.disabled))},dependencies:[wo],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}))}return e(),t})();var uL;const poe=["canvas"];function hoe(e,t){1&e&&nt(0,"div",11),2&e&&Eu("width",vt().iosPlaceholderWidth)}function goe(e,t){if(1&e){const n=Nn();j(0,"ion-button",12),He("click",function(){return Ze(n),at(vt().navigation.lock())}),nt(1,"ion-icon",13),q()}}function moe(e,t){if(1&e){const n=Nn();j(0,"ion-button",12),He("click",function(){return Ze(n),at(vt().navigation.unlock())}),nt(1,"ion-icon",14),q()}}function voe(e,t){if(1&e){const n=Nn();j(0,"ion-button",12),He("click",function(o){return Ze(n),at(vt().openContextMenu(o))}),nt(1,"ion-icon",15),q()}}function yoe(e,t){if(1&e){const n=Nn();j(0,"ion-button",12),He("click",function(){return Ze(n),at(vt().showGameModeHint())}),nt(1,"ion-icon",16),q()}}function _oe(e,t){if(1&e){const n=Nn();j(0,"ion-button",12),He("click",function(){return Ze(n),at(vt().showProxyConnectedHint())}),nt(1,"ion-icon",17),q()}}function boe(e,t){if(1&e){const n=Nn();j(0,"ion-button",12),He("click",function(){return Ze(n),at(vt().showSlowdowndHint())}),nt(1,"ion-icon",18),q()}}function Coe(e,t){if(1&e){const n=Nn();j(0,"ion-button",12),He("click",function(o){return Ze(n),at(vt().openContextMenu(o))}),nt(1,"ion-icon",15),q()}}function Soe(e,t){if(1&e){const n=Nn();j(0,"div",19),Re(1," The device was reset forcefully. How do you want to boot? "),j(2,"ion-button",20),He("click",function(){return Ze(n),at(vt().bootAfterForcefulReset())}),Re(3,"Normal boot"),q(),j(4,"ion-button",20),He("click",function(){return Ze(n),at(vt().bootAfterForcefulResetNoExtensions())}),Re(5,"No extensions"),q(),j(6,"ion-button",20),He("click",function(){return Ze(n),at(vt().bootAfterForcefulResetHardReset())}),Re(7,"Hard reset"),q()()}}function woe(e,t){1&e&&(j(0,"div",19)(1,"div"),Re(2,"No session selected"),q()())}class aa{constructor(t,n,r,o,i,s,a,l,c,d,h,v,C,M,G,de,he,ke,It,Ut,Ht){var Bt=this;this.emulationService=t,this.emulationState=n,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=c,this.fileService=d,this.snapshotService=h,this.installlationService=v,this.networkService=C,this.navigation=M,this.linkApi=G,this.performanceWatchdogService=de,this.cloudpilotService=he,this.dragDropService=ke,this.sessionService=It,this.loadingController=Ut,this.config=Ht,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,F.A)(function*(){yield Bt.emulationService.bootstrapComplete(),Bt.bootstrapComplete=!0;const Yn=Bt.emulationState.currentSession();Yn&&!Yn.wasResetForcefully&&(yield Bt.launchEmulator()),Bt.linkApi.installation.requestEvent.addHandler(Bt.handleLinkApiInstallationRequest),Bt.handleLinkApiInstallationRequest(),Bt.dragDropService.registerClient(Bt)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Yn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Yn,this.emulationService.getStatistics())},this.onNewFrame=Yn=>{this.canvasDisplayService.updateEmulationCanvas(Yn)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Yn=this.linkApi.installation.receivePendingUrl();Yn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.currentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Yn} ?`,{OK:()=>this.fileService.openUrl(Yn,ll=>this.installlationService.installFiles([ll]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Yn} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new Oa}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t){var n=this;return(0,F.A)(function*(r,o="trigger"){(yield n.popoverController.create({component:eoe,event:r,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:o})).present()}).apply(this,arguments)}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Gu,componentProps:{url:fne}})).present()})()}showGameModeHint(){var t=this;return(0,F.A)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,F.A)(function*(){"native"===t.kvsService.kvs.networkRedirectionMode?yield t.alertService.message("Network session","PalmOS has opened a network session."):yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,F.A)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,F.A)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,F.A)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,F.A)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.networkService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.currentSession()&&!this.emulationState.currentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var n=this;return(0,F.A)(function*(){(yield n.popoverController.create({component:gne,componentProps:{sessions:n.sessionService.sessions().filter(o=>o.id!==n.emulationState.currentSession()?.id),onSelect:o=>n.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.sessions()}clearForcefulReset(){var t=this;return(0,F.A)(function*(){const n=t.emulationState.currentSession();n&&(yield t.storageService.updateSessionPartial(n.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.currentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,F.A)(function*(){const n=t.emulationState.currentSession();n&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,n).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var n=this;return(0,F.A)(function*(){const r=yield n.loadingController.create();yield r.present();try{if(n.lastTitle=n.title,n.switching=!0,yield n.emulationService.pause(),!(yield n.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield n.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield n.launchEmulator())}finally{r.dismiss(),n.switching=!1}})()}static#e=uL=()=>(this.\u0275fac=function(n){return new(n||aa)(y(sl),y(dc),y(qn),y(noe),y(py),y(Bi),y(lc),y(Bs),y(Sr),y(Xc),y(xh),y(loe),y(Q2),y(Rw),y(cS),y(sL),y(il),y(Nw),y(Qc),y(oa),y(lh))},this.\u0275cmp=Je({type:aa,selectors:[["app-emulation"]],viewQuery:function(n,r){if(1&n&&ql(poe,5),2&n){let o;es(o=ts())&&(r.canvasRef=o.first)}},standalone:!1,decls:23,vars:23,consts:[["canvas",""],[3,"trigger","disabled"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"click","disabled"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(n,r){if(1&n){const o=Nn();j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",1),He("trigger",function(s){return Ze(o),at(r.onBreadcrumbTrigger(s))}),nn(4,hoe,1,2,"div",2),Re(5),q()(),j(6,"ion-buttons",3)(7,"ion-button",4),He("click",function(){return Ze(o),at(r.installFiles())}),nt(8,"ion-icon",5),q(),nn(9,goe,2,0,"ion-button",6)(10,moe,2,0,"ion-button",6),q(),j(11,"ion-buttons",7),nn(12,voe,2,0,"ion-button",6)(13,yoe,2,0,"ion-button",6)(14,_oe,2,0,"ion-button",6)(15,boe,2,0,"ion-button",6)(16,Coe,2,0,"ion-button",6),q()()(),j(17,"ion-content",8),He("contextmenu",function(s){return Ze(o),at(r.onContextMenu(s))}),j(18,"div",9),He("touchstart",function(s){return Ze(o),at(r.cancelIfEmulationActive(s))})("touchmove",function(s){return Ze(o),at(r.cancelIfEmulationActive(s))}),nt(19,"canvas",null,0),q(),nn(21,Soe,8,0,"div",10)(22,woe,3,0,"div",10),q()}if(2&n){let o,i;fe(3),pe("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.emulationState.currentSession()||0===r.sessions.length),fe(),pe("ngIf","ios"===r.config.get("mode")),fe(),Di(" ",r.title),fe(2),pe("disabled",r.installFileDisabled),fe(2),pe("ngIf",!r.navigation.isLocked()),fe(),pe("ngIf",r.navigation.isLocked()),fe(2),pe("ngIf","ios"===r.config.get("mode")),fe(),pe("ngIf",r.eventHandlingService.isGameMode()),fe(),pe("ngIf",r.networkService.isConnected()),fe(),pe("ngIf",r.performanceWatchdogService.isSlowdownDetected()),fe(),pe("ngIf","ios"!==r.config.get("mode")),fe(),Ta("locked",r.navigation.isLocked()),fe(),Eu("display",!r.emulationState.currentSession()||null!=(o=r.emulationState.currentSession())&&o.wasResetForcefully?"none":void 0),fe(),Eu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.currentSession()?"block":"none"),fe(2),pe("ngIf",null!=(i=r.emulationState.currentSession())&&i.wasResetForcefully?"none":void 0),fe(),pe("ngIf",!r.emulationState.currentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[wo,os,is,ss,as,Uo,ls,cs,cL],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{cursor:default;text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc,#eee)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}))}uL(),re([Gn()],aa.prototype,"openContextMenu",null),re([Gn()],aa.prototype,"showHelp",null),re([Gn()],aa.prototype,"showGameModeHint",null),re([Gn()],aa.prototype,"showProxyConnectedHint",null),re([Gn()],aa.prototype,"showSlowdowndHint",null),re([Gn()],aa.prototype,"bootAfterForcefulReset",null),re([Gn()],aa.prototype,"bootAfterForcefulResetNoExtensions",null),re([Gn()],aa.prototype,"bootAfterForcefulResetHardReset",null),re([Gn()],aa.prototype,"onBreadcrumbTrigger",null);const Eoe=_.p+"assets/doc/sessions-868d7e6c0550348b.md";let Doe=(()=>{var e;class t{constructor(){this.sessionCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),He("click",function(){return null==i.onExport?null:i.onExport()}),nt(2,"ion-icon",1),Re(3," Export "),q(),j(4,"ion-item",0),He("click",function(){return null==i.onDelete?null:i.onDelete()}),nt(5,"ion-icon",2),Re(6," Delete "),q(),j(7,"ion-item",3),He("click",function(){return null==i.onHelp?null:i.onHelp()}),nt(8,"ion-icon",4),Re(9," Help "),q()()),2&o&&(fe(),pe("detail",!1)("disabled",0===i.sessionCount),fe(3),pe("detail",!1)("disabled",0===i.sessionCount),fe(3),pe("detail",!1))},dependencies:[Uo,Do,ra],encapsulation:2}))}return e(),t})(),Toe=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),He("click",function(){return i.onEdit()}),nt(2,"ion-icon",1),Re(3," Edit "),q(),j(4,"ion-item",0),He("click",function(){return i.onSave()}),nt(5,"ion-icon",2),Re(6," Export "),q(),j(7,"ion-item",0),He("click",function(){return i.onReset()}),nt(8,"ion-icon",3),Re(9," Reset "),q(),j(10,"ion-item",4),He("click",function(){return i.onDelete()}),nt(11,"ion-icon",5),Re(12," Delete "),q()()),2&o&&(fe(),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1))},dependencies:[Uo,Do,ra],encapsulation:2}))}return e(),t})();const Aoe=["slidingItem"];function Moe(e,t){if(1&e&&(j(0,"span"),Re(1),q()),2&e){const n=vt();fe(),Di(", OS ",n.decodeVersion(null==n.session?null:n.session.osVersion))}}function xoe(e,t){1&e&&nt(0,"ion-icon",16)}function koe(e,t){1&e&&nt(0,"ion-icon",17)}let Roe=(()=>{var e;class t{constructor(r){this.popoverController=r,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new mn,this.resetSession=new mn,this.edit=new mn,this.save=new mn,this.selectItem=new mn,this.interaction=new mn}get device(){return this.session?O2(this.session.device):""}onContextmenu(r){var o=this;return(0,F.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Toe,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(r){if(void 0===r)return"";const o=function Ioe(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(r);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(lc))},this.\u0275cmp=Je({type:t,selectors:[["app-session-item"]],viewQuery:function(o,i){if(1&o&&ql(Aoe,5),2&o){let s;es(s=ts())&&(i.slidingItem=s.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},standalone:!1,decls:21,vars:12,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Nn();j(0,"ion-item-sliding",1,0),He("contextmenu",function(l){return Ze(s),at(i.onContextmenu(l))})("ionDrag",function(){return Ze(s),at(i.interaction.emit())}),j(2,"ion-item-options",2)(3,"ion-item-option",3),He("click",function(){return Ze(s),ta(1).close(),at(i.edit.emit(i.session))}),nt(4,"ion-icon",4),q(),j(5,"ion-item-option",5),He("click",function(){return Ze(s),ta(1).close(),at(i.save.emit(i.session))}),nt(6,"ion-icon",6),q()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),He("click",function(){return Ze(s),ta(1).close(),at(i.resetSession.emit(i.session))}),nt(9,"ion-icon",9),q(),j(10,"ion-item-option",10),He("click",function(){return Ze(s),ta(1).close(),at(i.delete.emit(i.session))}),nt(11,"ion-icon",11),q()(),j(12,"ion-item",12),He("click",function(){return Ze(s),at(i.selectItem.emit())}),j(13,"ion-label")(14,"h2"),Re(15),q(),j(16,"p"),Re(17),nn(18,Moe,2,1,"span",13),q()(),nn(19,xoe,1,0,"ion-icon",14)(20,koe,1,0,"ion-icon",15),q()()}2&o&&(pe("disabled",i.selecting),fe(12),pe("color",i.color),fe(),Ta("in-item-color",i.selected)("selecting",i.selecting),fe(2),Ns(null==i.session?null:i.session.name),fe(2),wp(" ",i.device,", ",null==i.session?null:i.session.ram,"MB RAM"),fe(),pe("ngIf",null==i.session?null:i.session.osVersion),fe(),pe("ngIf",i.selecting&&!i.selectedForExport),fe(),pe("ngIf",i.selecting&&i.selectedForExport))},dependencies:[wo,Uo,Do,Uv,Hv,Gv,Bu],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var dL;function Noe(e,t){if(1&e){const n=Nn();j(0,"ion-toolbar")(1,"ion-title"),Re(2,"Sessions"),q(),j(3,"ion-buttons",7)(4,"ion-button",8),He("click",function(){return Ze(n),at(vt().importSession())}),nt(5,"ion-icon",9),q()(),j(6,"ion-buttons",10)(7,"ion-button",8),He("click",function(o){return Ze(n),at(vt().openActionMenu(o))}),nt(8,"ion-icon",11),q(),nt(9,"app-pwa-prompt"),q()()}}function Ooe(e,t){1&e&&(j(0,"ion-title"),Re(1,"Export"),q())}function Poe(e,t){1&e&&(j(0,"ion-title"),Re(1,"Delete"),q())}function Foe(e,t){if(1&e){const n=Nn();j(0,"ion-buttons",10)(1,"ion-button",8),He("click",function(){return Ze(n),at(vt(2).onSelectAll())}),Re(2,"Select all"),q()()}}function Loe(e,t){if(1&e){const n=Nn();j(0,"ion-buttons",10)(1,"ion-button",8),He("click",function(){return Ze(n),at(vt(2).selection.clear())}),Re(2,"Clear"),q()()}}function $oe(e,t){if(1&e){const n=Nn();j(0,"ion-toolbar"),nn(1,Ooe,2,0,"ion-title",1)(2,Poe,2,0,"ion-title",1),j(3,"ion-buttons",7)(4,"ion-button",8),He("click",function(){return Ze(n),at(vt().onSelectionDone())}),Re(5),q()(),nn(6,Foe,3,0,"ion-buttons",12)(7,Loe,3,0,"ion-buttons",12),q()}if(2&e){const n=vt();fe(),pe("ngIf","select-for-export"===n.mode),fe(),pe("ngIf","select-for-delete"===n.mode),fe(3),Ns(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),fe(),pe("ngIf",n.selection.size!==n.sessionCount),fe(),pe("ngIf",n.selection.size===n.sessionCount)}}function Boe(e,t){1&e&&(j(0,"ion-title",13),Re(1,"Sessions"),q())}function joe(e,t){1&e&&(j(0,"ion-title",13),Re(1,"Select for export"),q())}function Voe(e,t){1&e&&(j(0,"ion-title",13),Re(1,"Select for delete"),q())}function Uoe(e,t){1&e&&(j(0,"div",14),nt(1,"ion-spinner"),q())}function Hoe(e,t){1&e&&(Rc(0),nt(1,"br")(2,"br"),Re(3," You can find a collection of compatible ROMs on "),j(4,"a",17),Re(5,"PalmDB"),q(),Re(6,". "),Wl())}function Goe(e,t){if(1&e&&(j(0,"div",15)(1,"div",16),Re(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),nn(3,Hoe,7,0,"ng-container",1),q()()),2&e){const n=vt();fe(3),pe("ngIf",n.showPalmdbLink)}}function zoe(e,t){if(1&e){const n=Nn();j(0,"app-session-item",19),He("delete",function(){const o=Ze(n).$implicit;return at(vt(2).deleteSession(o))})("selectItem",function(){const o=Ze(n).$implicit,i=vt(2);return at("manage"===i.mode?i.launchSession(o):i.toggleSelection(o))})("edit",function(){const o=Ze(n).$implicit;return at(vt(2).editSession(o))})("save",function(){const o=Ze(n).$implicit;return at(vt(2).saveSession(o))})("resetSession",function(){const o=Ze(n).$implicit;return at(vt(2).resetSession(o))})("interaction",function(){const o=Ze(n).$implicit;return at(vt(2).lastSessionTouched=o.id)}),q()}if(2&e){const n=t.$implicit,r=vt(2);pe("session",n)("selected",r.currentSessionId()===n.id)("touched",n.id===r.lastSessionTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function Woe(e,t){if(1&e&&(j(0,"ion-list"),nn(1,zoe,1,5,"app-session-item",18),q()),2&e){const n=vt();fe(),pe("ngForOf",n.sessions)("ngForTrackBy",n.trackSessionBy)}}class al{constructor(t,n,r,o,i,s,a,l,c,d,h,v,C,M){this.sessionService=t,this.fileService=n,this.alertService=r,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=c,this.cloudpilotService=d,this.dragDropService=h,this.popoverController=v,this.loadingController=C,this.cd=M,this.memoizedSessions=Mh(G=>[...G].sort((de,he)=>de.name.localeCompare(he.name))),this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const G=this.linkApi.import.receivePendingUrl();G&&this.alertService.message("Import request",`Do you want to import<br>${G} ?`,{OK:()=>this.fileService.openUrl(G,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.currentSessionOverride=Si(void 0),this.currentSessionId=Os(()=>this.currentSessionOverride()??this.emulationState.currentSession()?.id)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.memoizedSessions(this.sessionService.sessions())}get sessionCount(){return this.sessionService.sessions().length}deleteSession(t){var n=this;return(0,F.A)(function*(){let r=!0;if(yield n.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{yield n.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var n=this;return(0,F.A)(function*(){const r={...t};(yield n.editSettings(t))&&!nL()(t,r)&&(yield n.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,n){return n.id}launchSession(t){var n=this;return(0,F.A)(function*(){n.lastSessionTouched=t.id,n.currentSessionOverride.set(t.id);const r=yield n.emulationService.switchSession(t.id);n.currentSessionOverride.set(void 0),r&&n.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var n=this;return(0,F.A)(function*(){const r=t.id===n.emulationState.currentSession()?.id;r&&(yield n.emulationService.stop()),yield n.storageService.deleteStateForSession(t),yield n.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),r&&(yield n.emulationService.switchSession(t.id)),yield n.alertService.message("Done",`Session ${t.name} has been reset.`)})()}showHelp(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Gu,componentProps:{url:Eoe}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,F.A)(function*(){const n=new Map(t.sessionService.sessions().map(i=>[i.id,i])),r=Array.from(t.selection).map(i=>n.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(r);break;case"select-for-export":yield t.executeMassExport(r)}})()}onSelectAll(){this.sessionService.sessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,F.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:Doe,event:r,componentProps:{sessionCount:n.sessionCount,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}get showPalmdbLink(){return!(ho&&_l)}executeMassExport(t){var n=this;return(0,F.A)(function*(){1===t.length&&(yield n.sessionService.saveSession(t[0])),t.length>1&&(yield n.sessionService.saveSessions(t))})()}executeMassDelete(t){var n=this;return(0,F.A)(function*(){if(1===t.length&&(yield n.deleteSession(t[0])),t.length>1){let r=!0;if(yield n.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield n.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var n=this;return(0,F.A)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void n.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let r;try{r=yield t.getContent()}catch(i){return console.warn(i),void(yield n.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield n.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield n.sessionService.addSessionsFromArchive(r)))}const o=(yield n.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:n.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield n.editSettings(i)){const s=yield n.sessionService.addSessionFromImage(o,i.name,i);n.lastSessionTouched=s.id}}else{const i=(yield n.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void n.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void n.alertService.errorMessage("No supported device for this ROM.");const s={name:n.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield n.editSettings(s,i.supportedDevices)){const a=yield n.sessionService.addSessionFromRom(r,s.name,s.device,s);n.lastSessionTouched=a.id}}})()}editSettings(t,n=[t.device]){return new Promise(r=>{let o;this.modalController.create({component:U2,backdropDismiss:!1,componentProps:{session:t,availableDevices:n,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const n=this.sessionService.sessions();return pf(t,r=>n.some(o=>o.name===r))}static#e=dL=()=>(this.\u0275fac=function(n){return new(n||al)(y(Qc),y(Xc),y(Sr),y(sl),y(dc),y(qn),y(Bs),y(cS),y(Ti),y(il),y(Nw),y(lc),y(oa),y(gt))},this.\u0275cmp=Je({type:al,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectItem","edit","save","resetSession","interaction","session","selected","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(j(0,"ion-header",0),nn(1,Noe,10,0,"ion-toolbar",1)(2,$oe,8,5,"ion-toolbar",1),q(),j(3,"ion-content",2),He("contextmenu",function(i){return r.onContextMenu(i)}),j(4,"ion-header",3)(5,"ion-toolbar"),nn(6,Boe,2,0,"ion-title",4)(7,joe,2,0,"ion-title",4)(8,Voe,2,0,"ion-title",4),q()(),nn(9,Uoe,2,0,"div",5)(10,Goe,4,1,"div",6)(11,Woe,2,2,"ion-list",1),q()),2&n&&(pe("translucent",!0),fe(),pe("ngIf","manage"===r.mode),fe(),pe("ngIf","manage"!==r.mode),fe(),pe("fullscreen",!0),fe(3),pe("ngIf","manage"===r.mode),fe(),pe("ngIf","select-for-export"===r.mode),fe(),pe("ngIf","select-for-delete"===r.mode),fe(),pe("ngIf",r.sessionService.loading()),fe(),pe("ngIf",!r.sessionService.loading()&&0===r.sessionCount),fe(),pe("ngIf",!r.sessionService.loading()&&r.sessionCount>0))},dependencies:[Kl,wo,os,is,ss,as,Uo,ra,gh,ls,cs,oy,Roe],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}dL(),re([Gn()],al.prototype,"deleteSession",null),re([Gn()],al.prototype,"editSession",null),re([Gn()],al.prototype,"saveSession",null),re([Gn()],al.prototype,"launchSession",null),re([Gn()],al.prototype,"resetSession",null),re([Gn()],al.prototype,"onSelectionDone",null),re([Gn()],al.prototype,"openActionMenu",null);const qoe=["nav"],Zoe=()=>({}),Yoe=e=>({selfReference:e});let Koe=(()=>{var e;class t{constructor(){this.navRoot=al}ionViewDidLeave(){var r=this;return(0,F.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var r=this;return(0,F.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var r=this;return(0,F.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-sessions-wrapper"]],viewQuery:function(o,i){if(1&o&&ql(qoe,5),2&o){let s;es(s=ts())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:6,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&nt(0,"ion-nav",1,0),2&o&&pe("animated",!1)("root",i.navRoot)("rootParams",function Xx(e,t,n,r){return Qx(De(),Lo(),e,t,n,r)}(4,Yoe,function Kx(e,t,n){const r=Lo()+e,o=De();return o[r]===Ar?yl(o,r,n?t.call(n):t()):function sp(e,t){return e[t]}(o,r)}(3,Zoe)))},dependencies:[N0],encapsulation:2}))}return e(),t})();const Xoe=_.p+"assets/doc/settings-3481d9e6fe535377.md";function Qoe(e,t){1&e&&(j(0,"ion-item",9)(1,"ion-toggle",18),Re(2,"Run when hidden"),q()())}function Joe(e,t){1&e&&(j(0,"ion-item",9)(1,"ion-toggle",19),Re(2,"Clipboard integration"),q()())}function eie(e,t){if(1&e&&(j(0,"ion-select-option",22),Re(1),q()),2&e){const n=t.$implicit;pe("value",n[0]),fe(),Di("",n[1]," ")}}function tie(e,t){if(1&e&&(j(0,"ion-item",9)(1,"ion-select",20),nn(2,eie,2,2,"ion-select-option",21),q()()),2&e){const n=vt();fe(2),pe("ngForOf",n.networkRedirectionModes)}}function nie(e,t){if(1&e){const n=Nn();j(0,"ion-item",9)(1,"div",23),nt(2,"ion-input",24),j(3,"ion-button",25),He("click",function(o){Ze(n);const i=vt();return o.preventDefault(),o.stopPropagation(),at(i.testProxyConnection())})("touchstart",function(o){Ze(n);const i=vt();return o.preventDefault(),o.stopPropagation(),at(i.testProxyConnection())}),Re(4," Test "),q()()()}if(2&e){const n=vt();fe(3),pe("disabled",!n.proxyServerValid)}}function rie(e,t){1&e&&(j(0,"ion-item",9)(1,"ion-toggle",26),Re(2,"Fixed font size"),q()())}function oie(e,t){if(1&e&&(j(0,"ion-item",9)(1,"ion-select",27)(2,"ion-select-option",22),Re(3,"Off"),q(),j(4,"ion-select-option",22),Re(5,"Portrait"),q(),j(6,"ion-select-option",22),Re(7,"Landscape"),q(),j(8,"ion-select-option",22),Re(9,"Always"),q()()()),2&e){const n=vt();fe(2),pe("value",n.indicatorFixNone),fe(2),pe("value",n.indicatorFixPortrait),fe(2),pe("value",n.indicatorFixLandscape),fe(2),pe("value",n.indicatorFixAll)}}function iie(e,t){1&e&&(Rc(0),j(1,"h1"),Re(2,"Debug"),q(),j(3,"ion-item",9)(4,"ion-toggle",28),Re(5,"Snapshot validation (slow)"),q()(),Wl())}let sie=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.modalController=r,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.networkBackendFactory=a,this.featureService=l,this.onAudioOnStartChange=c=>{this.kvsService.kvs.enableAudioOnFirstInteraction=c,ho&&_l?this.alertService.message("Enable audio on start","\n                    This option will take effect the next time the app restarts.\n                "):c&&this.alertService.message("Enable audio on start","\n                Audio will automatically turn on after the first interaction with the application\n                (i.e. touch, click or keyboard event).\n                <br><br>\n                This option will take effect the next time CloudpilotEmu reloads.\n            ")},this.networkRedirectionModes=[["native","Native"],["proxy","Proxy"]],this.onIndicatorFixModeChange=c=>vN(c),this.onFixedFontSizeChange=c=>function W9(e){Vd()&&(aS(uN,e?"1":"0"),fN())}(!c),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var r=this;return(0,F.A)(function*(){yield(yield r.modalController.create({component:Gu,componentProps:{url:Xoe}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var r=this;return(0,F.A)(function*(){r.formGroup.get("networkRedirection")?.value&&"proxy"===r.formGroup.get("networkRedirectionMode")?.value&&!r.formGroup.get("proxyServer")?.valid&&(r.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),r.formGroup.get("networkRedirection").setValue(!1)),r.formGroup.get("networkRedirection")?.value||r.formGroup.get("proxyServer")?.setValue(r.kvsService.kvs.proxyServer),yield r.kvsService.set({volume:r.formGroup.get("volume").value,showStatistics:r.formGroup.get("showStatistics").value,clipboardIntegration:r.formGroup.get("clipboardIntegration")?.value,networkRedirection:r.formGroup.get("networkRedirection")?.value,networkRedirectionMode:r.featureService.nativeNetworkIntegration?r.formGroup.get("networkRedirectionMode")?.value??"proxy":"proxy",proxyServer:r.formGroup.get("proxyServer")?.value,runHidden:r.formGroup.get("runHidden")?.value,autoLockUI:r.formGroup.get("autoLockUI")?.value,enableRemoteInstall:r.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:r.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:r.formGroup.get("snapshotIntegrityCheck")?.value}),r.mutexReleasePromise&&(yield r.mutexReleasePromise)()})()}testProxyConnection(){var r=this;return(0,F.A)(function*(){if(!r.connectionTestInProgress){r.connectionTestInProgress=!0;try{switch((yield r.networkBackendFactory.createBackendProxy(r.formGroup.get("proxyServer")?.value).handshake(0)).status){case"failed":r.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":r.alertService.proxyVersionMismatchError();break;default:r.alertService.message("Success","Connection to proxy successful.")}}finally{r.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value&&"native"!==this.formGroup.get("networkRedirectionMode")?.value}get showRedirectionMode(){return this.formGroup.get("networkRedirection")?.value&&this.featureService.nativeNetworkIntegration}get proxyServerValid(){const r=this.formGroup.get("proxyServer");return!(!r?.value||!r?.valid)}get showDebugOptions(){return true}get isIndicatorFixApplicable(){return lS()}get dynmicFontsSupprted(){return Vd()}get featureRunHidden(){return this.featureService.runHidden}createFormGroup(){this.formGroup=new xv({volume:new Eo(this.kvsService.kvs.volume),showStatistics:new Eo(this.kvsService.kvs.showStatistics),runHidden:new Eo(this.kvsService.kvs.runHidden),clipboardIntegration:new Eo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Eo(this.kvsService.kvs.networkRedirection),networkRedirectionMode:new Eo(this.kvsService.kvs.networkRedirectionMode),proxyServer:new Eo(this.kvsService.kvs.proxyServer,{validators:[hre]}),autoLockUI:new Eo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Eo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Eo(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Eo(this.kvsService.kvs.snapshotIntegrityCheck),indicatorFixMode:new Eo(mN()),fixedFontSize:new Eo(!dN())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange),this.formGroup.get("fixedFontSize")?.valueChanges.subscribe(this.onFixedFontSizeChange)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Bs),y(Bi),y(Ew),y(Sr),y(X2),y(Aw))},this.\u0275cmp=Je({type:t,selectors:[["app-settings"]],standalone:!1,decls:45,vars:10,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["label","Volume","labelPlacement","fixed","min","0","max","1","step","0.1","formControlName","volume"],["labelPlacement","fixed","formControlName","audioOnStart"],["lines","none",4,"ngIf"],["labelPlacement","fixed","formControlName","networkRedirection"],["labelPlacement","fixed","formControlName","autoLockUI"],["labelPlacement","fixed","formControlName","showStatistics"],["labelPlacement","fixed","formControlName","enableRemoteInstall"],[4,"ngIf"],["labelPlacement","fixed","formControlName","runHidden"],["labelPlacement","fixed","formControlName","clipboardIntegration"],["formControlName","networkRedirectionMode","label","Redirection method",1,"redirection-mode-select"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"server-container"],["label","Proxy server","labelPlacement","stacked","placeholder","Proxy server host or URL","formControlName","proxyServer"],[1,"test-proxy-button",3,"click","touchstart","disabled"],["labelPlacement","fixed","formControlName","fixedFontSize"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],["labelPlacement","fixed","formControlName","snapshotIntegrityCheck"]],template:function(o,i){1&o&&(j(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Re(3,"Settings"),q(),j(4,"ion-buttons",1)(5,"ion-button",2),He("click",function(){return i.showHelp()}),nt(6,"ion-icon",3),q(),nt(7,"app-pwa-prompt"),q()()(),j(8,"ion-content",4)(9,"ion-header",5)(10,"ion-toolbar")(11,"ion-title",6),Re(12,"Settings"),q()()(),j(13,"div",7)(14,"form",8)(15,"h1"),Re(16,"Emulation"),q(),j(17,"ion-item",9),nt(18,"ion-range",10),q(),j(19,"ion-item",9)(20,"ion-toggle",11),Re(21,"Enable audio on start"),q()(),nn(22,Qoe,3,0,"ion-item",12),j(23,"h1"),Re(24,"Host integration"),q(),nn(25,Joe,3,0,"ion-item",12),j(26,"ion-item",9)(27,"ion-toggle",13),Re(28,"Network redirection"),q()(),nn(29,tie,3,1,"ion-item",12)(30,nie,5,1,"ion-item",12),j(31,"h1"),Re(32,"User interface"),q(),j(33,"ion-item",9)(34,"ion-toggle",14),Re(35,"Auto-lock UI"),q()(),nn(36,rie,3,0,"ion-item",12),j(37,"ion-item",9)(38,"ion-toggle",15),Re(39,"Show statistics"),q()(),j(40,"ion-item",9)(41,"ion-toggle",16),Re(42,"Open from remote sources"),q()(),nn(43,oie,10,4,"ion-item",12)(44,iie,6,0,"ng-container",17),q()()()),2&o&&(pe("translucent",!0),fe(8),pe("fullscreen",!0),fe(6),pe("formGroup",i.formGroup),fe(8),pe("ngIf",i.featureRunHidden),fe(3),pe("ngIf",i.clipboardService.isSupported()),fe(4),pe("ngIf",i.showRedirectionMode),fe(),pe("ngIf",i.showProxyServer),fe(6),pe("ngIf",i.dynmicFontsSupprted),fe(7),pe("ngIf",i.isIndicatorFixApplicable),fe(),pe("ngIf",i.showDebugOptions))},dependencies:[Kl,wo,ic,rc,oc,os,is,ss,as,Uo,ac,Do,R0,ph,hh,ls,mh,cs,cf,k0,fh,sc,oy,Na,wl],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-bottom:2em}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}.test-proxy-button[_ngcontent-%COMP%]{max-height:1.5em;align-self:end;margin-right:12px}"]}))}return e(),t})();const aie=_.p+"assets/doc/cards-75195154c07dfe52.md";let Ow=(()=>{var e;class t{transform(r){return void 0!==r?`${Math.round(r/1024/1024)} MB`:""}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=di({name:"cardSize",type:t,pure:!0,standalone:!1}))}return e(),t})();function lie(e,t){1&e&&(j(0,"div",12)(1,"b"),Re(2,"WARNING:"),q(),Re(3," This image cannot be used as a memory stick image. "),q())}let fL=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new zc({name:new $s("",{nonNullable:!0,validators:[th.required,this.validateNameUnique]}),size:new $s({value:"dummy",disabled:!0}),checkAutomatically:new $s(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(vf))},this.\u0275cmp=Je({type:t,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},standalone:!1,decls:23,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],["value","dummy"],["labelPlacement","fixed","formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3),q(),j(4,"ion-buttons",0)(5,"ion-button",1),He("click",function(){return i.save()}),Re(6,"Save"),q()(),j(7,"ion-buttons",2)(8,"ion-button",3),He("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),j(10,"ion-content",4)(11,"form",5),He("keydown.enter",function(){return i.onEnter()}),j(12,"ion-item",6),nt(13,"ion-input",7),q(),j(14,"ion-item",6)(15,"ion-select",8)(16,"ion-select-option",9),Re(17),Nc(18,"cardSize"),q()()(),j(19,"ion-item",6)(20,"ion-toggle",10),Re(21,"Check for errors automatically"),q()()(),nn(22,lie,4,0,"div",11),q()),2&o&&(fe(3),Ns(i.newCard?"New memory card":"Edit memory card"),fe(2),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup),fe(6),Di("",Oc(18,5,null==i.card?null:i.card.size)," "),fe(5),pe("ngIf",!i.memoryStickSupported))},dependencies:[wo,os,is,ss,as,ac,Do,ph,hh,ls,mh,cs,cf,fh,sc,ic,rc,oc,Na,wl,Ow],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}))}return e(),t})(),cie=(()=>{var e;class t{constructor(){this.cardCount=0}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},standalone:!1,decls:10,vars:5,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),He("click",function(){return null==i.onExport?null:i.onExport()}),nt(2,"ion-icon",1),Re(3," Export "),q(),j(4,"ion-item",0),He("click",function(){return null==i.onDelete?null:i.onDelete()}),nt(5,"ion-icon",2),Re(6," Delete "),q(),j(7,"ion-item",3),He("click",function(){return null==i.onHelp?null:i.onHelp()}),nt(8,"ion-icon",4),Re(9," Help "),q()()),2&o&&(fe(),pe("detail",!1)("disabled",0===i.cardCount),fe(3),pe("detail",!1)("disabled",0===i.cardCount),fe(3),pe("detail",!1))},dependencies:[Uo,Do,ra],encapsulation:2}))}return e(),t})();function uie(e,t){if(1&e&&(j(0,"ion-select-option",11),Re(1),Nc(2,"cardSize"),q()),2&e){const n=t.$implicit,r=vt();pe("value",n),fe(),Di("",Oc(2,2,r.sizeBytes(n))," ")}}const die=[Ho.mb4,Ho.mb8,Ho.mb16,Ho.mb32,Ho.mb64,Ho.mb128];let fie=(()=>{var e;class t{constructor(r){this.storageCardService=r,this.validateNameUnique=o=>this.storageCardService.cards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new zc({name:new $s("",{nonNullable:!0,validators:[th.required,this.validateNameUnique]}),size:new $s(Ho.mb32,{nonNullable:!0}),checkAutomatically:new $s(!0,{nonNullable:!0})})}get sizes(){return die}sizeBytes(r){return function Dre(e){switch(e){case Ho.mb4:return 4046848;case Ho.mb8:return 8110080;case Ho.mb16:return 16220160;case Ho.mb32:return 32473088;case Ho.mb64:return 64978944;case Ho.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(r)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(vf))},this.\u0275cmp=Je({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},standalone:!1,decls:20,vars:3,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Card name","labelPlacement","stacked","placeholder","Enter card name","formControlName","name"],["label","Card size","labelPlacement","stacked","formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["labelPlacement","fixed","formControlName","checkAutomatically"],[3,"value"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"New memory card"),q(),j(4,"ion-buttons",0)(5,"ion-button",1),He("click",function(){return i.create()}),Re(6,"Create"),q()(),j(7,"ion-buttons",2)(8,"ion-button",3),He("click",function(){return i.onCancel()}),Re(9,"Cancel"),q()()()(),j(10,"ion-content",4)(11,"form",5),He("keydown.enter",function(){return i.onEnter()}),j(12,"ion-item",6),nt(13,"ion-input",7),q(),j(14,"ion-item",6)(15,"ion-select",8),nn(16,uie,3,4,"ion-select-option",9),q()(),j(17,"ion-item",6)(18,"ion-toggle",10),Re(19,"Check for errors automatically"),q()()()()),2&o&&(fe(5),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup),fe(5),pe("ngForOf",i.sizes))},dependencies:[Kl,os,is,ss,as,ac,Do,ph,hh,ls,mh,cs,cf,fh,sc,ic,rc,oc,Na,wl,Ow],encapsulation:2}))}return e(),t})(),pie=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},standalone:!1,decls:13,vars:4,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),He("click",function(){return i.onEdit()}),nt(2,"ion-icon",1),Re(3," Edit "),q(),j(4,"ion-item",0),He("click",function(){return i.onSave()}),nt(5,"ion-icon",2),Re(6," Export "),q(),j(7,"ion-item",0),He("click",function(){return i.onCheck()}),nt(8,"ion-icon",3),Re(9," Check "),q(),j(10,"ion-item",4),He("click",function(){return i.onDelete()}),nt(11,"ion-icon",5),Re(12," Delete "),q()()),2&o&&(fe(),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1))},dependencies:[Uo,Do,ra],encapsulation:2}))}return e(),t})();function hie(e,t){1&e&&nt(0,"ion-icon",15)}function gie(e,t){1&e&&nt(0,"ion-icon",16)}let mie=(()=>{var e;class t{constructor(r,o,i){this.storageCardService=r,this.popoverController=o,this.sessionService=i,this.touched=!1,this.interaction=new mn,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new mn,this.edit=new mn,this.check=new mn,this.delete=new mn,this.save=new mn}onContextmenu(r){var o=this;return(0,F.A)(function*(){r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:pie,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";this.sessionService.sessions();const r=this.storageCardService.mountedInSession(this.card?.id);if(r)return`attached to '${r.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case wr.dirty:return"needs check";case wr.clean:return"no errors";case wr.unformatted:return"no filesystem";case wr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(vf),y(lc),y(Qc))},this.\u0275cmp=Je({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},standalone:!1,decls:21,vars:10,consts:[["slidingItem",""],[3,"contextmenu","ionDrag"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Nn();j(0,"ion-item-sliding",1,0),He("contextmenu",function(l){return Ze(s),at(i.onContextmenu(l))})("ionDrag",function(){return Ze(s),at(i.interaction.emit(i.card))}),j(2,"ion-item-options",2)(3,"ion-item-option",3),He("click",function(){return Ze(s),ta(1).close(),at(i.edit.emit(i.card))}),nt(4,"ion-icon",4),q(),j(5,"ion-item-option",5),He("click",function(){return Ze(s),ta(1).close(),at(i.save.emit(i.card))}),nt(6,"ion-icon",6),q()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),He("click",function(){return Ze(s),ta(1).close(),at(i.check.emit(i.card))}),nt(9,"ion-icon",9),q(),j(10,"ion-item-option",10),He("click",function(){return Ze(s),ta(1).close(),at(i.delete.emit(i.card))}),nt(11,"ion-icon",11),q()(),j(12,"ion-item",12),He("click",function(){return Ze(s),i.selectCard.emit(),at(i.interaction.emit())}),j(13,"ion-label")(14,"h2"),Re(15),q(),j(16,"p"),Re(17),Nc(18,"cardSize"),q()(),nn(19,hie,1,0,"ion-icon",13)(20,gie,1,0,"ion-icon",14),q()()}2&o&&(fe(12),pe("color",i.color),fe(),Ta("selecting",i.selecting),fe(2),Ns(null==i.card?null:i.card.name),fe(2),wp("",Oc(18,8,null==i.card?null:i.card.size),", ",i.status),fe(2),pe("ngIf",i.selecting&&!i.selectedForExport),fe(),pe("ngIf",i.selecting&&i.selectedForExport))},dependencies:[wo,Uo,Do,Uv,Hv,Gv,Bu,Ow],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}))}return e(),t})();var pL;function vie(e,t){if(1&e){const n=Nn();j(0,"ion-toolbar")(1,"ion-title"),Re(2,"Memory cards"),q(),j(3,"ion-buttons",7)(4,"ion-button",8),He("click",function(){return Ze(n),at(vt().addCardImage())}),nt(5,"ion-icon",9),q()(),j(6,"ion-buttons",10)(7,"ion-button",8),He("click",function(o){return Ze(n),at(vt().openActionMenu(o))}),nt(8,"ion-icon",11),q(),nt(9,"app-pwa-prompt"),q()()}}function yie(e,t){1&e&&(j(0,"ion-title"),Re(1,"Export"),q())}function _ie(e,t){1&e&&(j(0,"ion-title"),Re(1,"Delete"),q())}function bie(e,t){if(1&e){const n=Nn();j(0,"ion-buttons",10)(1,"ion-button",8),He("click",function(){return Ze(n),at(vt(2).onSelectAll())}),Re(2,"Select all"),q()()}}function Cie(e,t){if(1&e){const n=Nn();j(0,"ion-buttons",10)(1,"ion-button",8),He("click",function(){return Ze(n),at(vt(2).selection.clear())}),Re(2,"Clear"),q()()}}function Sie(e,t){if(1&e){const n=Nn();j(0,"ion-toolbar"),nn(1,yie,2,0,"ion-title",1)(2,_ie,2,0,"ion-title",1),j(3,"ion-buttons",7)(4,"ion-button",8),He("click",function(){return Ze(n),at(vt().onSelectionDone())}),Re(5),q()(),nn(6,bie,3,0,"ion-buttons",12)(7,Cie,3,0,"ion-buttons",12),q()}if(2&e){const n=vt();fe(),pe("ngIf","select-for-export"===n.mode),fe(),pe("ngIf","select-for-delete"===n.mode),fe(3),Ns(0===n.selection.size?"Cancel":"select-for-export"===n.mode?"Export":"Delete"),fe(),pe("ngIf",n.selection.size!==n.cards.length),fe(),pe("ngIf",n.selection.size===n.cards.length)}}function wie(e,t){1&e&&(j(0,"ion-title",13),Re(1,"Memory cards"),q())}function Eie(e,t){1&e&&(j(0,"ion-title",13),Re(1,"Select for export"),q())}function Die(e,t){1&e&&(j(0,"ion-title",13),Re(1,"Select for delete"),q())}function Iie(e,t){1&e&&(j(0,"div",14),nt(1,"ion-spinner"),q())}function Tie(e,t){1&e&&(j(0,"div",15)(1,"div",16),Re(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),q()())}function Aie(e,t){if(1&e){const n=Nn();j(0,"app-storage-card",18),He("delete",function(){const o=Ze(n).$implicit;return at(vt(2).deleteCard(o))})("selectCard",function(){const o=Ze(n).$implicit,i=vt(2);return at("manage"===i.mode?i.browseCard(o):i.toggleSelection(o))})("edit",function(){const o=Ze(n).$implicit;return at(vt(2).editCard(o))})("check",function(){const o=Ze(n).$implicit;return at(vt(2).checkCard(o))})("interaction",function(){const o=Ze(n).$implicit;return at(vt(2).lastCardTouched=o.id)})("save",function(){const o=Ze(n).$implicit;return at(vt(2).saveCard(o))}),q()}if(2&e){const n=t.$implicit,r=vt(2);pe("card",n)("touched",n.id===r.lastCardTouched)("selecting","manage"!==r.mode)("selectedForExport",r.selection.has(n.id))}}function Mie(e,t){if(1&e&&(j(0,"ion-list"),nn(1,Aie,1,4,"app-storage-card",17),q()),2&e){const n=vt();fe(),pe("ngForOf",n.cards)("ngForTrackBy",n.trackCardBy)}}class Pa{constructor(t,n,r,o,i,s,a,l,c,d,h){var v=this;this.actionSheetController=t,this.storageCardService=n,this.modalController=r,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=c,this.popoverController=d,this.cd=h,this.handleCardImport=function(){var C=(0,F.A)(function*(M){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(M.name))return void v.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(M.name.endsWith(".zip")){let It=!1;return yield v.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>It=!0},"Cancel"),void(It&&(yield v.storageCardService.addAllCardsFromArchive(yield M.getContent())))}const G=yield v.cloudpilotService.cloudpilot;let de;try{de=yield M.getContent()}catch(It){return console.warn(It),void(yield v.alertService.errorMessage(`Unable to open ${M.name}".`))}if(/\.gz$/.test(M.name)){const It=yield v.loadingController.create({message:"Unpacking..."});yield It.present();try{de=yield v.fstools.gunzip(de)}finally{yield It.dismiss()}}const he=de?G.getCardSupportLevel(de.length):0;if(void 0===de||0===he)return void v.alertService.errorMessage("This is not a supported card image.");const ke=yield new Promise(function(){var It=(0,F.A)(function*(Ut){const Ht=yield v.modalController.create({component:fL,backdropDismiss:!1,componentProps:{card:{name:v.disambiguateName(M.name.replace(/\.gz$/,"")),size:de.length},cardSupportLevel:he,newCard:!0,onCancel:()=>{Ht.dismiss(),Ut(void 0)},onSave:Bt=>{Ut(Bt),Ht.dismiss()}}});yield Ht.present()});return function(Ut){return It.apply(this,arguments)}}());ke&&(yield v.storageCardService.createCardFromImage(ke.name,de,!!ke.dontFsckAutomatically))});return function(M){return C.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.cards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,F.A)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Gu,componentProps:{url:aie}})).present()})()}browseCard(t){var n=this;return(0,F.A)(function*(){(yield n.storageCardService.browseCard(t))&&n.onMountForBrowse(t)})()}editCard(t){var n=this;return(0,F.A)(function*(){const r=yield n.cloudpilotService.cloudpilot,o=yield n.modalController.create({component:fL,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:r.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,F.A)(function*(s){yield n.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var n=this;return(0,F.A)(function*(){const r=`${hf(t.name.replace(/\.img$/,""))}.img`;yield(yield n.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!0)},{text:"Export uncompressed image",handler:()=>n.storageCardService.saveCard(t.id,r,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var n=this;return(0,F.A)(function*(){let r=!0;if(yield n.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{yield n.storageCardService.deleteCard(t.id)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,n){return n.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,F.A)(function*(){const n=t.mode;switch(t.mode="manage",n){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t){var n=this;return(0,F.A)(function*(r,o="trigger"){const i=yield n.popoverController.create({component:cie,event:r,componentProps:{cardCount:n.cards.length,onExport:()=>{i.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{i.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{i.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:o});i.present()}).apply(this,arguments)}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var n=this;return(0,F.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.saveCard(r));break}default:yield n.exportSelection(t)}})()}executeMassDelete(t){var n=this;return(0,F.A)(function*(){switch(t.length){case 0:break;case 1:{const r=yield n.storageCardService.getCard(t[0]);r&&(yield n.deleteCard(r));break}default:{let r=!0;if(yield n.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>r=!1},"Cancel"),r)return;const o=yield n.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield n.storageCardService.deleteCard(i)}catch(i){n.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var n=this;return(0,F.A)(function*(){const r=new Map(yield n.storageCardService.cards().map(i=>[i.id,i]));if(t.map(i=>r.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield n.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield n.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,F.A)(function*(){const n=yield t.modalController.create({component:fie,backdropDismiss:!1,componentProps:{onCancel:()=>n.dismiss(),onCreate:(r=(0,F.A)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield n.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield n.present()})()}disambiguateName(t){const n=this.storageCardService.cards();return pf(t,r=>n.some(o=>o.name===r))}static#e=pL=()=>(this.\u0275fac=function(n){return new(n||Pa)(y(yh),y(vf),y(Bs),y(il),y(Sr),y(Uu),y(Xc),y(oa),y(ay),y(lc),y(gt))},this.\u0275cmp=Je({type:Pa,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},standalone:!1,decls:12,vars:10,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"delete","selectCard","edit","check","interaction","save","card","touched","selecting","selectedForExport"]],template:function(n,r){1&n&&(j(0,"ion-header",0),nn(1,vie,10,0,"ion-toolbar",1)(2,Sie,8,5,"ion-toolbar",1),q(),j(3,"ion-content",2),He("contextmenu",function(i){return r.onContextMenu(i)}),j(4,"ion-header",3)(5,"ion-toolbar"),nn(6,wie,2,0,"ion-title",4)(7,Eie,2,0,"ion-title",4)(8,Die,2,0,"ion-title",4),q()(),nn(9,Iie,2,0,"div",5)(10,Tie,3,0,"div",6)(11,Mie,2,2,"ion-list",1),q()),2&n&&(pe("translucent",!0),fe(),pe("ngIf","manage"===r.mode),fe(),pe("ngIf","manage"!==r.mode),fe(),pe("fullscreen",!0),fe(3),pe("ngIf","manage"===r.mode),fe(),pe("ngIf","select-for-export"===r.mode),fe(),pe("ngIf","select-for-delete"===r.mode),fe(),pe("ngIf",r.storageCardService.isLoading()),fe(),pe("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),fe(),pe("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[Kl,wo,os,is,ss,as,Uo,ra,gh,ls,cs,oy,mie],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}))}pL(),re([Gn()],Pa.prototype,"addCardImage",null),re([Gn()],Pa.prototype,"browseCard",null),re([Gn()],Pa.prototype,"editCard",null),re([Gn()],Pa.prototype,"saveCard",null),re([Gn()],Pa.prototype,"checkCard",null),re([Gn()],Pa.prototype,"deleteCard",null),re([Gn()],Pa.prototype,"onSelectionDone",null),re([Gn()],Pa.prototype,"openActionMenu",null);const xie=_.p+"assets/doc/card-browser-5a0261814255810d.md";function Rie(e,t){1&e&&nt(0,"ion-icon",8)}function Nie(e,t){1&e&&nt(0,"ion-icon",9)}function Oie(e,t){1&e&&nt(0,"ion-icon",10)}function Pie(e,t){if(1&e){const n=Nn();j(0,"ion-item",2),He("click",function(){const o=Ze(n).index;return at(vt(2).onSelect(o))}),Rc(1,3),nn(2,Rie,1,0,"ion-icon",4)(3,Nie,1,0,"ion-icon",5)(4,Oie,1,0,"ion-icon",6),Wl(),j(5,"div",7),Re(6),q()()}if(2&e){const n=t.$implicit,r=t.index,o=vt(2);pe("detail",!1)("lines",r===o.entries.length-1?"none":"full"),fe(),pe("ngSwitch",o.entries.length),fe(),pe("ngSwitchCase",r+1),fe(),pe("ngSwitchCase",r+2),fe(3),Ns(n)}}function Fie(e,t){if(1&e&&(j(0,"ion-list"),nn(1,Pie,7,6,"ion-item",1),q()),2&e){const n=vt();fe(),pe("ngForOf",n.entries)}}let Lie=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"click","detail","lines"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(o,i){1&o&&nn(0,Fie,2,1,"ion-list",0),2&o&&pe("ngIf",i.entries)},dependencies:[Kl,wo,Hm,UR,HR,Uo,Do,ra],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}))}return e(),t})(),$ie=(()=>{var e;class t{constructor(r){this.vfsService=r,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Yu))},this.\u0275cmp=Je({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},standalone:!1,decls:19,vars:8,consts:[["lines","full","button","",3,"click","detail","disabled"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"click","detail"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","help-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),He("click",function(){return i.onStartSelection()}),nt(2,"ion-icon",1),Re(3," Start selection "),q(),j(4,"ion-item",2),He("click",function(){return i.onAddFiles()}),nt(5,"ion-icon",3),Re(6," Add files "),q(),j(7,"ion-item",2),He("click",function(){return i.onCreateDirectry()}),nt(8,"ion-icon",4),Re(9," Add directory "),q(),j(10,"ion-item",2),He("click",function(){return i.onExtractZipfile()}),nt(11,"ion-icon",5),Re(12," Extract zip "),q(),j(13,"ion-item",0),He("click",function(){return i.onPaste()}),nt(14,"ion-icon",6),Re(15," Paste "),q(),j(16,"ion-item",7),He("click",function(){return i.onHelp()}),nt(17,"ion-icon",8),Re(18," Help "),q()()),2&o&&(fe(),pe("detail",!1)("disabled",i.emptyDirectory),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1)("disabled",!i.vfsService.isClipboardPopulated()),fe(3),pe("detail",!1))},dependencies:[Uo,Do,ra],encapsulation:2}))}return e(),t})();var hL;class _f{constructor(t,n){this.modalController=t,this.vfsService=n,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new zc({name:new $s("",{nonNullable:!0,validators:[th.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new $s(!1,{nonNullable:!0}),attrHidden:new $s(!1,{nonNullable:!0}),attrSystem:new $s(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,F.A)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,F.A)(function*(){yield t.save()})()}save(){var t=this;return(0,F.A)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}static#e=hL=()=>(this.\u0275fac=function(n){return new(n||_f)(y(Bs),y(Yu))},this.\u0275cmp=Je({type:_f,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},standalone:!1,decls:29,vars:7,consts:[["slot","primary"],[3,"click","disabled"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["labelPlacement","stacked","formControlName","name",3,"label","placeholder"],["labelPlacement","fixed","formControlName","attrReadonly"],["name","lock-closed-outline","size","small"],["labelPlacement","fixed","formControlName","attrHidden"],["name","eye-off-outline","size","small"],["labelPlacement","fixed","formControlName","attrSystem"],["name","cog-outline","size","small"]],template:function(n,r){1&n&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3),q(),j(4,"ion-buttons",0)(5,"ion-button",1),He("click",function(){return r.onSaveClick()}),Re(6,"Save"),q()(),j(7,"ion-buttons",2)(8,"ion-button",3),He("click",function(){return r.onCancelClick()}),Re(9,"Cancel"),q()()()(),j(10,"ion-content",4)(11,"form",5),He("keydown.enter",function(){return r.onEnter()}),j(12,"ion-item",6),nt(13,"ion-input",7),q(),j(14,"ion-item",6)(15,"h2"),Re(16,"Attributes"),q()(),j(17,"ion-item",6)(18,"ion-checkbox",8),nt(19,"ion-icon",9),Re(20,"Readonly"),q()(),j(21,"ion-item",6)(22,"ion-checkbox",10),nt(23,"ion-icon",11),Re(24,"Hidden"),q()(),j(25,"ion-item",6)(26,"ion-checkbox",12),nt(27,"ion-icon",13),Re(28,"System"),q()()()()),2&n&&(fe(3),Di("Edit ",r.subjectName.toLowerCase()),fe(2),pe("disabled",r.formGroup.invalid),fe(6),pe("formGroup",r.formGroup),fe(2),pe("label",hC("",r.subjectName," name"))("placeholder",hC("Enter ",r.subjectName.toLowerCase()," name")))},dependencies:[os,is,PF,ss,as,Uo,ac,Do,ls,cs,cf,sc,ic,rc,oc,Na,wl],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}))}hL(),re([Gn()],_f.prototype,"onSaveClick",null),re([Gn()],_f.prototype,"onEnter",null);let Bie=(()=>{var e;class t{constructor(r,o){this.el=r,this.zone=o;const i=r.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const r=this.el.nativeElement.querySelector("input");r&&(setTimeout(()=>r.focus(),100),this.observer?.disconnect())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(ot),y(We))},this.\u0275dir=Vt({type:t,selectors:[["","appAutofocus",""]],standalone:!1}))}return e(),t})(),jie=(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new zc({name:new $s("",{nonNullable:!0,validators:[th.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Yu),y(Bs))},this.\u0275cmp=Je({type:t,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},standalone:!1,decls:14,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"click","disabled"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"keydown.enter","formGroup"],["lines","none"],["label","Directory name","labelPlacement","stacked","placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(o,i){1&o&&(j(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Re(3,"Create directory"),q(),j(4,"ion-buttons",0)(5,"ion-button",1),He("click",function(){return i.onCreateClick()}),Re(6,"Create"),q()(),j(7,"ion-buttons",2)(8,"ion-button",3),He("click",function(){return i.onCancelClick()}),Re(9,"Cancel"),q()()()(),j(10,"ion-content",4)(11,"form",5),He("keydown.enter",function(){return i.onEnter()}),j(12,"ion-item",6),nt(13,"ion-input",7),q()()()),2&o&&(fe(5),pe("disabled",i.formGroup.invalid),fe(6),pe("formGroup",i.formGroup))},dependencies:[os,is,ss,as,ac,Do,ls,cs,sc,ic,rc,oc,Na,wl,Bie],encapsulation:2}))}return e(),t})(),Vie=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275cmp=Je({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},standalone:!1,decls:16,vars:5,consts:[["lines","full","button","",3,"click","detail"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"click","detail"],["name","trash-outline","slot","end"]],template:function(o,i){1&o&&(j(0,"ion-list")(1,"ion-item",0),He("click",function(){return i.onEdit()}),nt(2,"ion-icon",1),Re(3," Edit "),q(),j(4,"ion-item",0),He("click",function(){return i.onSave()}),nt(5,"ion-icon",2),Re(6," Save "),q(),j(7,"ion-item",0),He("click",function(){return i.onCopy()}),nt(8,"ion-icon",3),Re(9," Copy "),q(),j(10,"ion-item",0),He("click",function(){return i.onCut()}),nt(11,"ion-icon",4),Re(12," Cut "),q(),j(13,"ion-item",5),He("click",function(){return i.onDelete()}),nt(14,"ion-icon",6),Re(15," Delete "),q()()),2&o&&(fe(),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1),fe(3),pe("detail",!1))},dependencies:[Uo,Do,ra],encapsulation:2}))}return e(),t})(),gL=(()=>{var e;class t{transform(r){return void 0===r?"":r<1024?`${r} bytes`:r<1048576?`${(r/1024).toFixed(1)} kB`:`${(r/1024/1024).toFixed(1)} MB`}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275pipe=di({name:"fileSize",type:t,pure:!0,standalone:!1}))}return e(),t})();const Uie=["slidingItem"];function Hie(e,t){1&e&&nt(0,"ion-icon",24)}function Gie(e,t){1&e&&nt(0,"ion-icon",25)}function zie(e,t){1&e&&nt(0,"ion-icon",26)}function Wie(e,t){1&e&&nt(0,"ion-icon",27)}function qie(e,t){1&e&&nt(0,"ion-icon",28)}function Zie(e,t){1&e&&nt(0,"ion-icon",29)}function Yie(e,t){1&e&&nt(0,"ion-icon",30)}function Kie(e,t){1&e&&nt(0,"ion-icon",31)}function Xie(e,t){1&e&&nt(0,"ion-icon",32)}function Qie(e,t){if(1&e&&(Rc(0),Re(1),Nc(2,"fileSize"),Wl()),2&e){const n=vt();fe(),Di(" - ",Oc(2,1,null==n.entry?null:n.entry.size)," ")}}let Jie=(()=>{var e;class t{constructor(r,o,i){this.actionSheetController=r,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new mn,this.selectEntry=new mn,this.editEntry=new mn,this.copyEntry=new mn,this.cutEntry=new mn,this.deleteEntry=new mn,this.saveEntry=new mn,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(r){r.selecting&&r.selecting.currentValue&&!r.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(r){var o=this;return(0,F.A)(function*(){o.selecting||(r.stopPropagation(),r.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:Vie,event:r,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var r=this;return(0,F.A)(function*(){const o=r.entry?.isDirectory?"directory":"file";(yield r.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>r.copyEntry.emit(r.entry)},{text:`Cut ${o}`,handler:()=>r.cutEntry.emit(r.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let r=0;return this.entry?.attributes.readonly&&(r+=1.7),this.entry?.attributes.hidden&&(r+=1.7),this.entry?.attributes.system&&(r+=1.7),(this.markedForCopy||this.markedForCut)&&(r+=1.7),0===r?"0":(r+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,r+"em")}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(yh),y(lc),y(Yu))},this.\u0275cmp=Je({type:t,selectors:[["app-file-entry"]],viewQuery:function(o,i){if(1&o&&ql(Uie,5),2&o){let s;es(s=ts())&&(i.slidingItem=s.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},standalone:!1,features:[Xi],decls:29,vars:23,consts:[["slidingItem",""],[3,"contextmenu","ionDrag","disabled"],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"click","color","detail"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(o,i){if(1&o){const s=Nn();j(0,"ion-item-sliding",1,0),He("contextmenu",function(l){return Ze(s),at(i.onContextmenu(l))})("ionDrag",function(){return Ze(s),at(i.interaction.emit(i.entry))}),j(2,"ion-item-options",2)(3,"ion-item-option",3),He("click",function(){return Ze(s),ta(1).close(),at(i.editEntry.emit(i.entry))}),nt(4,"ion-icon",4),q(),j(5,"ion-item-option",5),He("click",function(){return Ze(s),ta(1).close(),at(i.saveEntry.emit(i.entry))}),nt(6,"ion-icon",6),q()(),j(7,"ion-item-options",7)(8,"ion-item-option",8),He("click",function(){return Ze(s),ta(1).close(),at(i.cutOrCopyEntry())}),nt(9,"ion-icon",9),q(),j(10,"ion-item-option",10),He("click",function(){return Ze(s),ta(1).close(),at(i.deleteEntry.emit(i.entry))}),nt(11,"ion-icon",11),q()(),j(12,"ion-item",12),He("click",function(){return Ze(s),i.selectEntry.emit(),at(i.interaction.emit())}),nn(13,Hie,1,0,"ion-icon",13)(14,Gie,1,0,"ion-icon",14),j(15,"div",15),nn(16,zie,1,0,"ion-icon",16)(17,Wie,1,0,"ion-icon",17)(18,qie,1,0,"ion-icon",18)(19,Zie,1,0,"ion-icon",19)(20,Yie,1,0,"ion-icon",20),q(),nn(21,Kie,1,0,"ion-icon",21)(22,Xie,1,0,"ion-icon",22),j(23,"ion-label")(24,"h2"),Re(25),q(),j(26,"p"),Re(27),nn(28,Qie,3,3,"ng-container",23),q()()()()}2&o&&(pe("disabled",i.selecting),fe(12),Eu("opacity",i.touched?1:.99999),Ta("is-directory",null==i.entry?null:i.entry.isDirectory),pe("color",i.color)("detail",(null==i.entry?null:i.entry.isDirectory)&&!i.selecting),fe(),pe("ngIf",null==i.entry?null:i.entry.isDirectory),fe(),pe("ngIf",!(null!=i.entry&&i.entry.isDirectory)),fe(2),pe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.readonly),fe(),pe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.hidden),fe(),pe("ngIf",null==i.entry||null==i.entry.attributes?null:i.entry.attributes.system),fe(),pe("ngIf",i.markedForCopy),fe(),pe("ngIf",i.markedForCut),fe(),pe("ngIf",i.selecting&&!i.selected),fe(),pe("ngIf",i.selecting&&i.selected),fe(),Eu("padding-right",i.safetyMargin),Ta("selecting",i.selecting),fe(2),Ns(null==i.entry?null:i.entry.name),fe(2),Di(" ",null==i.entry?null:i.entry.lastModifiedLocalDate," "),fe(),pe("ngIf",!(null!=i.entry&&i.entry.isDirectory)))},dependencies:[wo,Uo,Do,Uv,Hv,Gv,Bu,gL],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}))}return e(),t})();var mL;function ese(e,t){if(1&e){const n=Nn();j(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",7),He("trigger",function(o){return Ze(n),at(vt().openBreadcrumbMenu(o))}),Re(3),q()(),j(4,"ion-buttons",8),nt(5,"ion-back-button"),q(),j(6,"ion-buttons",9)(7,"ion-button",10),He("click",function(o){return Ze(n),at(vt().openContextMenu(o,"trigger"))}),nt(8,"ion-icon",11),q()()()}if(2&e){const n=vt();fe(3),Ns(n.title)}}function tse(e,t){if(1&e){const n=Nn();j(0,"ion-buttons",13)(1,"ion-button",10),He("click",function(){return Ze(n),at(vt(2).onSelectAll())}),Re(2,"Select all"),q()()}}function nse(e,t){if(1&e){const n=Nn();j(0,"ion-buttons",13)(1,"ion-button",10),He("click",function(){return Ze(n),at(vt(2).selection.clear())}),Re(2,"Clear"),q()()}}function rse(e,t){if(1&e){const n=Nn();j(0,"ion-toolbar")(1,"ion-title"),Re(2,"Selection"),q(),j(3,"ion-buttons",9)(4,"ion-button",10),He("click",function(){return Ze(n),at(vt().onSelectionDone())}),Re(5),q()(),nn(6,tse,3,0,"ion-buttons",12)(7,nse,3,0,"ion-buttons",12),q()}if(2&e){const n=vt();fe(5),Ns(0===n.selection.size?"Cancel":"Done"),fe(),pe("ngIf",n.selection.size!==(null==n.entries?null:n.entries.length)),fe(),pe("ngIf",n.selection.size===(null==n.entries?null:n.entries.length))}}function ose(e,t){if(1&e&&(j(0,"div",14)(1,"div",15),Re(2),q()()),2&e){const n=vt();fe(2),Di("empty ",n.isRoot?"card":"directory")}}function ise(e,t){if(1&e){const n=Nn();j(0,"app-file-entry",16),He("selectEntry",function(){const o=Ze(n).$implicit;return at(vt().onSelect(o))})("editEntry",function(){const o=Ze(n).$implicit;return at(vt().onEditEntry(o))})("saveEntry",function(){const o=Ze(n).$implicit;return at(vt().onSaveEntry(o))})("copyEntry",function(){const o=Ze(n).$implicit;return at(vt().onCopyEntry(o))})("cutEntry",function(){const o=Ze(n).$implicit;return at(vt().onCutEntry(o))})("deleteEntry",function(){const o=Ze(n).$implicit;return at(vt().onDeleteEntry(o))})("interaction",function(){const o=Ze(n).$implicit;return at(vt().lastEntryTouched=o.name)}),q()}if(2&e){const n=t.$implicit,r=vt();pe("entry",n)("selecting","select"===r.mode)("selected",r.selection.has(n.name))("touched",n.name===r.lastEntryTouched)}}function sse(e,t){if(1&e&&(j(0,"p"),Re(1),Nc(2,"fileSize"),Nc(3,"fileSize"),q()),2&e){const n=vt(2);fe(),wp("",Oc(2,2,n.bytesFree())," free, ",Oc(3,4,n.bytesTotal)," total")}}function ase(e,t){if(1&e&&(j(0,"p"),Re(1),Nc(2,"fileSize"),q()),2&e){const n=vt(2);fe(),pC(" ",Oc(2,3,n.bytesInFiles)," in ",n.fileCount," ",1===n.fileCount?"file":"files"," ")}}function lse(e,t){if(1&e&&(j(0,"ion-item",17)(1,"ion-label",18),nn(2,sse,4,6,"p",1)(3,ase,3,5,"p",1),q()()),2&e){const n=vt();fe(2),pe("ngIf",n.isRoot),fe(),pe("ngIf",n.fileCount>0)}}const cse=[];function use(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class la{constructor(t,n,r,o,i,s,a,l){this.vfsService=t,this.popoverController=n,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.memoizedEntries=Mh(c=>[...c].sort(use)),this.bytesInFilesMemoized=Mh(c=>c?.reduce((d,h)=>d+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=Mh(c=>c?.filter(d=>!d.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.subscriptions=[],t.change.subscribe(function kie(e,t,n){return()=>{const r=n();r!==t&&(e.markForCheck(),t=r)}}(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0))}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}handleDragDropEvent(t){this.fileService.openFromDrop(t,n=>this.vfsService.addFiles(n,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.bytesFree}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?this.memoizedEntries(this.vfsService.readdir(this.path)):cse}trackEntryBy(t,n){return n.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var n=this;return(0,F.A)(function*(){yield(yield n.modalController.create({component:_f,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var n=this;return(0,F.A)(function*(){n.path&&(t.isDirectory?yield n.vfsService.archiveFiles([t],n.path):yield n.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var n=this;return(0,F.A)(function*(){t.isDirectory?yield n.vfsService.deleteRecursive([t]):yield n.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:jie,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:r=>t.vfsService.mkdir(`${t.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,F.A)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,F.A)(function*(){yield(yield t.modalController.create({component:Gu,componentProps:{url:xie}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,F.A)(function*(){if(!t.entries)return;const n=Array.from(t.selection),r=new Map(t.entries.map(a=>[a.name,a])),o=n.every(a=>!r.get(a)?.isDirectory),i=n.every(a=>r.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,F.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.archiveFiles(n,t.path))})()}onDeleteSelection(){var t=this;return(0,F.A)(function*(){const n=t.materializeSelection();!n||!t.path||(yield t.vfsService.deleteRecursive(n))})()}openBreadcrumbMenu(t){var n=this;return(0,F.A)(function*(){if(!n.card||!n.path)return;const r=[..."/"===n.path?[]:[...n.vfsService.splitPath(n.path).reverse().slice(1),n.card.name],"Memory cards"];(yield n.popoverController.create({component:Lie,componentProps:{entries:r,onSelect:i=>n.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===n.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,n){var r=this;return(0,F.A)(function*(){(yield r.popoverController.create({component:$ie,componentProps:{emptyDirectory:0===r.entries?.length,onStartSelection:r.onStartSelection.bind(r),onAddFiles:r.onAddFiles.bind(r),onCreateDirectry:r.onCreateDirectory.bind(r),onExtractZipfile:r.onExtractZipfile.bind(r),onPaste:r.onPaste.bind(r),onHelp:r.onHelp.bind(r)},event:t,dismissOnSelect:!0,arrow:!1,reference:n})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(n=>[n.name,n]));return Array.from(this.selection).map(n=>t.get(n)).filter(n=>!!n)}extractZipArchive(t){var n=this;return(0,F.A)(function*(){/\.zip$/.test(t.name)?n.vfsService.unpackArchive(yield t.getContent(),n.path||"/"):yield n.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}static#e=mL=()=>(this.\u0275fac=function(n){return new(n||la)(y(Yu),y(lc),y(lh),y(Sr),y(yh),y(Bs),y(Xc),y(gt))},this.\u0275cmp=Je({type:la,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},standalone:!1,decls:9,vars:8,consts:[[3,"translucent"],[4,"ngIf"],[3,"contextmenu","fullscreen"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction","entry","selecting","selected","touched"],["lines","none",1,"metadata"],[1,"directory-stats"]],template:function(n,r){1&n&&(j(0,"ion-header",0),nn(1,ese,9,1,"ion-toolbar",1)(2,rse,8,3,"ion-toolbar",1),q(),j(3,"ion-content",2),He("contextmenu",function(i){return r.onContextMenu(i)}),j(4,"div",3),nn(5,ose,3,1,"div",4),j(6,"ion-list"),nn(7,ise,1,4,"app-file-entry",5)(8,lse,4,2,"ion-item",6),q()()()),2&n&&(pe("translucent",!0),fe(),pe("ngIf","browse"===r.mode),fe(),pe("ngIf","select"===r.mode),fe(),pe("fullscreen",!0),fe(2),pe("ngIf",0===(null==r.entries?null:r.entries.length)),fe(2),pe("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),fe(),pe("ngIf",r.isRoot||r.fileCount>0))},dependencies:[Kl,wo,os,is,ss,as,Uo,Do,Bu,ra,ls,cs,BF,cL,Jie,gL],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{cursor:default;text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}.directory-stats[_ngcontent-%COMP%]{cursor:default}"],changeDetection:0}))}mL(),re([Gn()],la.prototype,"onSaveEntry",null),re([Gn()],la.prototype,"onDeleteEntry",null),re([Gn()],la.prototype,"onCreateDirectory",null),re([Gn()],la.prototype,"onPaste",null),re([Gn()],la.prototype,"onHelp",null),re([Gn()],la.prototype,"onSelectionDone",null),re([Gn()],la.prototype,"onSaveZip",null),re([Gn()],la.prototype,"onDeleteSelection",null);const dse=["nav"],fse=[{path:"tab",component:Rw,children:[{path:"emulation",component:aa},{path:"sessions",component:Koe},{path:"storage",component:(()=>{var e;class t{constructor(r,o){this.vfsService=r,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(la,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=Pa,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var r=this;return(0,F.A)(function*(){(yield r.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(r){var o=this;return(0,F.A)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(r)})()}get animateNav(){return!U9}browseCard(r){this.currentlyBrowsingCard=r,this.nav?.push(la,{card:r,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(r){r!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(Yu),y(Nw))},this.\u0275cmp=Je({type:t,selectors:[["app-storage"]],viewQuery:function(o,i){if(1&o&&ql(dse,5),2&o){let s;es(s=ts())&&(i.nav=s.first)}},standalone:!1,decls:2,vars:3,consts:[["nav",""],[3,"animated","root","rootParams"]],template:function(o,i){1&o&&nt(0,"ion-nav",1,0),2&o&&pe("animated",i.animateNav)("root",i.navRoot)("rootParams",i.navRootProps)},dependencies:[N0],encapsulation:2}))}return e(),t})()},{path:"settings",component:sie},{path:"about",component:Th},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let pse=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({imports:[Cv.forChild(fse),Cv]}))}return e(),t})(),hse=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({imports:[Wc,Xl,$u,pse,Yte,Kte,Xte,Qte,Zte]}))}return e(),t})(),gse=(()=>{var e;class t extends MR{pushState(r,o,i,s){this.replaceState(r,o,i,s)}static#e=e=()=>(this.\u0275fac=(()=>{let r;return function(i){return(r||(r=Zr(t)))(i||t)}})(),this.\u0275prov=et({token:t,factory:t.\u0275fac}))}return e(),t})();const mse=[{path:"install",component:A2,canActivate:[M2]},{path:"import",component:A2,canActivate:[M2]},{path:"",component:Rw}];let vse=(()=>{var e;class t{static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)},this.\u0275mod=Bo({type:t}),this.\u0275inj=jn({providers:[{provide:hl,useClass:gse}],imports:[Cv.forRoot(mse,{preloadingStrategy:OY,useHash:!0}),hse,Cv]}))}return e(),t})(),vL=(()=>{var e;class t{constructor(r,o,i,s,a){var l=this;this.kvsService=r,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,F.A)(function*(){const c=l.kvsService.kvs.version;void 0!==c?c!==zu&&(yield l.kvsService.set({version:zu,previousVersion:c,latestVersion:zu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${zu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=zu})),this.mutex=new Oa,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var r=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,F.A)(function*(){yield r.emulationService.bootstrapComplete(),r.alertService.updateAvailable(()=>r.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var r=this;return(0,F.A)(function*(){if(yield r.kvsService.initialize(),r.kvsService.kvs.previousVersion===zu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield r.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var r=this;return(0,F.A)(function*(){yield(yield r.modalController.create({component:Gu,componentProps:{url:x2,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var r=this;setTimeout((0,F.A)(function*(){yield r.serviceWorkerService.update(),r.scheduleUpdateCheck()}),9e5)}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Bi),oe(sl),oe(Sr),oe(Bs),oe(ny))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),_se=(()=>{var e;class t{constructor(r,o,i,s,a,l){this.kvsService=r,this.alertService=o,this.emulationService=i,this.pwaService=s,this.nativeAppService=a,this.serviceWorkerService=l}start(){var r=this;return(0,F.A)(function*(){yield r.handleiOSNativeAppServiceWorkerBug();const o=r.kvsService.kvs.infoId??0;r.kvsService.kvs.infoId=yield r.showInfo(o),r.pwaService.getInstallationMode()===pc.pwa&&ho&&!_l&&(r.kvsService.kvs.ios174UpdateWarningId=yield r.showIOS174UpdateWarning(r.kvsService.kvs.ios174UpdateWarningId))})()}handleiOSNativeAppServiceWorkerBug(){var r=this;return(0,F.A)(function*(){if(!r.serviceWorkerService.isEnabled()||!(yield r.nativeAppService.getWorkerFailed()))return;let i=!1;yield r.alertService.message("App failed to load offline",'\n            It seems the app failed to load without internet. This is caused by an iOS bug.\n            <br><br>\n            You can fix by resetting the service worker now or by tapping\n            "reset worker" at the bottom of the "About" tab later.\n            ',{"Fix now":()=>i=!0},"Close"),i?yield r.serviceWorkerService.reset():r.nativeAppService.clearWorkerFailed()})()}showInfo(r){var o=this;return(0,F.A)(function*(){return 2===r&&ho&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(r){var o=this;return(0,F.A)(function*(){return(r??0)>0&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4","\n                    Apple has backpedaled and will not disable homescreen apps in the European\n                    Union. The update to 17.4 is expected to be safe, and CloudpilotEmu will\n                    continue to work as before.\n                ")),0})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Bi),oe(Sr),oe(sl),oe(ry),oe(ia),oe(ny))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})(),bse=(()=>{var e;class t{constructor(r,o,i,s){this.pwaService=r,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var r=this;return(0,F.A)(function*(){r.bootstrapService.notifyHasRendered(),yield r.infoService.start(),r.pwaService.invite(),r.updateService.start()})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(y(ry),y(vL),y(eL),y(_se))},this.\u0275cmp=Je({type:t,selectors:[["app-root"]],standalone:!1,decls:2,vars:0,template:function(o,i){1&o&&(j(0,"ion-app"),nt(1,"ion-router-outlet"),q())},dependencies:[OF,vh],encapsulation:2}))}return e(),t})();const yL=["touchstart","click","keydown"];let Cse=(()=>{var e;class t{constructor(r,o){this.kvsService=r,this.audioService=o,this.initialize()}initialize(){var r=this;return(0,F.A)(function*(){if(yield r.kvsService.initialize(),!r.kvsService.kvs.enableAudioOnFirstInteraction)return;ho&&_l&&r.audioService.initialize();const o=()=>{yL.forEach(i=>window.removeEventListener(i,o,!0)),r.audioService.initialize()};yL.forEach(i=>window.addEventListener(i,o,!0))})()}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(Bi),oe(xw))},this.\u0275prov=et({token:t,factory:t.\u0275fac,providedIn:"root"}))}return e(),t})();const Sse=()=>{const e=new qc;return e.link=function({href:t,tokens:n}){return`<a href="${t}" target="_blank" rel="external">${this.parser.parseInline(n)||t}</a>`},{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let wse=(()=>{var e;class t{constructor(r,o,i,s,a,l,c,d){}static#e=e=()=>(this.\u0275fac=function(o){return new(o||t)(oe(qn),oe(sl),oe(xw),oe(Qc),oe(Bi),oe(vL),oe(Cse),oe(ny))},this.\u0275mod=Bo({type:t,bootstrap:[bse]}),this.\u0275inj=jn({providers:[{provide:oP,useClass:rQ},Vb(()=>{return(o=Be(Bi)).initialize.bind(o)();var o}),fq(Tu(Uc.LegacyInterceptors,[{provide:oO,useFactory:tq},{provide:Vp,useExisting:oO,multi:!0}]))],imports:[P9,Wc.forRoot({innerHTMLTemplatesEnabled:!0}),vse,J0.forRoot({loader:bS,markedOptions:{provide:c2,useFactory:Sse},markedExtensions:[{provide:l2,useFactory:tee,multi:!0}]})]}))}return e(),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function z9(){Vd()&&fN()}(),function X9(){qm=_N("#/install?"),Zm=_N("#/import?")}(),function q9(){return!!sS(Wm)}()&&!bN()||function Q9(){return void 0!==qm}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),ho&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),vN()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),O9().bootstrapModule(wse).then(e=>true).catch(e=>console.log(e))},1051:function(Z,we){var _,x;void 0!==(x="function"==typeof(_=function(){"use strict";var L=Object.prototype.hasOwnProperty,H=Object.prototype.toString,k="boolean"==typeof(new RegExp).sticky;function f(B){return B&&"[object RegExp]"===H.call(B)}function O(B){return B&&"object"==typeof B&&!f(B)&&!Array.isArray(B)}function P(B){return new RegExp("|"+B).exec("").length-1}function R(B){return"("+B+")"}function V(B){return B.length?"(?:"+B.map(function(je){return"(?:"+je+")"}).join("|")+")":"(?!)"}function N(B){if("string"==typeof B)return"(?:"+function E(B){return B.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(B)+")";if(f(B)){if(B.ignoreCase)throw new Error("RegExp /i flag not allowed");if(B.global)throw new Error("RegExp /g flag is implied");if(B.sticky)throw new Error("RegExp /y flag is implied");if(B.multiline)throw new Error("RegExp /m flag is implied");return B.source}throw new Error("Not a pattern: "+B)}function D(B,K){return B.length>K?B:Array(K-B.length+1).join(" ")+B}function _e(B,K){if(O(K)||(K={match:K}),K.include)throw new Error("Matching rules cannot also include states");var je={defaultType:B,lineBreaks:!!K.error||!!K.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var U in K)L.call(K,U)&&(je[U]=K[U]);if("string"==typeof je.type&&B!==je.type)throw new Error("Type transform cannot be a string (type '"+je.type+"' for token '"+B+"')");var ne=je.match;return je.match=Array.isArray(ne)?ne:ne?[ne]:[],je.match.sort(function(ae,ye){return f(ae)&&f(ye)?0:f(ye)?-1:f(ae)?1:ye.length-ae.length}),je}function Q(B){return Array.isArray(B)?function le(B){for(var K=[],je=0;je<B.length;je++){var U=B[je];if(U.include)for(var ne=[].concat(U.include),ae=0;ae<ne.length;ae++)K.push({include:ne[ae]});else{if(!U.type)throw new Error("Rule has no type: "+JSON.stringify(U));K.push(_e(U.type,U))}}return K}(B):function se(B){for(var K=Object.getOwnPropertyNames(B),je=[],U=0;U<K.length;U++){var ne=K[U],ye=[].concat(B[ne]);if("include"!==ne){var $e=[];ye.forEach(function(be){O(be)?($e.length&&je.push(_e(ne,$e)),je.push(_e(ne,be)),$e=[]):$e.push(be)}),$e.length&&je.push(_e(ne,$e))}else for(var Ne=0;Ne<ye.length;Ne++)je.push({include:ye[Ne]})}return je}(B)}var W=_e("error",{lineBreaks:!0,shouldThrow:!0});function Y(B,K){for(var je=null,U=Object.create(null),ne=!0,ae=null,ye=[],Ne=[],$e=0;$e<B.length;$e++)B[$e].fallback&&(ne=!1);for($e=0;$e<B.length;$e++){var be=B[$e];if(be.include)throw new Error("Inheritance is not allowed in stateless lexers");if(be.error||be.fallback){if(je)throw!be.fallback==!je.fallback?new Error("Multiple "+(be.fallback?"fallback":"error")+" rules not allowed (for token '"+be.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+be.defaultType+"')");je=be}var tt=be.match.slice();if(ne)for(;tt.length&&"string"==typeof tt[0]&&1===tt[0].length;)U[tt.shift().charCodeAt(0)]=be;if(be.pop||be.push||be.next){if(!K)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+be.defaultType+"')");if(be.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+be.defaultType+"')")}if(0!==tt.length){ne=!1,ye.push(be);for(var Ae=0;Ae<tt.length;Ae++){var Ge=tt[Ae];if(f(Ge))if(null===ae)ae=Ge.unicode;else if(ae!==Ge.unicode&&!1===be.fallback)throw new Error("If one rule is /u then all must be")}var mt=V(tt.map(N)),pt=new RegExp(mt);if(pt.test(""))throw new Error("RegExp matches empty string: "+pt);if(P(mt)>0)throw new Error("RegExp has capture groups: "+pt+"\nUse (?: \u2026 ) instead");if(!be.lineBreaks&&pt.test("\n"))throw new Error("Rule should declare lineBreaks: "+pt);Ne.push(R(mt))}}var st=je&&je.fallback,Et=k&&!st?"ym":"gm",Ye=k||st?"":"|";return!0===ae&&(Et+="u"),{regexp:new RegExp(V(Ne)+Ye,Et),groups:ye,fast:U,error:je||W}}function Te(B,K,je){var U=B&&(B.push||B.next);if(U&&!je[U])throw new Error("Missing state '"+U+"' (in token '"+B.defaultType+"' of state '"+K+"')");if(B&&B.pop&&1!=+B.pop)throw new Error("pop must be 1 (in token '"+B.defaultType+"' of state '"+K+"')")}var Ee=function(B,K){this.startState=K,this.states=B,this.buffer="",this.stack=[],this.reset()};Ee.prototype.reset=function(B,K){return this.buffer=B||"",this.index=0,this.line=K?K.line:1,this.col=K?K.col:1,this.queuedToken=K?K.queuedToken:null,this.queuedText=K?K.queuedText:"",this.queuedThrow=K?K.queuedThrow:null,this.setState(K?K.state:this.startState),this.stack=K&&K.stack?K.stack.slice():[],this},Ee.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},Ee.prototype.setState=function(B){if(B&&this.state!==B){this.state=B;var K=this.states[B];this.groups=K.groups,this.error=K.error,this.re=K.regexp,this.fast=K.fast}},Ee.prototype.popState=function(){this.setState(this.stack.pop())},Ee.prototype.pushState=function(B){this.stack.push(this.state),this.setState(B)};var ve=k?function(B,K){return B.exec(K)}:function(B,K){var je=B.exec(K);return 0===je[0].length?null:je};function ue(){return this.value}if(Ee.prototype._getGroup=function(B){for(var K=this.groups.length,je=0;je<K;je++)if(void 0!==B[je+1])return this.groups[je];throw new Error("Cannot find token type for matched text")},Ee.prototype.next=function(){var B=this.index;if(this.queuedGroup){var K=this._token(this.queuedGroup,this.queuedText,B);return this.queuedGroup=null,this.queuedText="",K}var je=this.buffer;if(B!==je.length){if(ye=this.fast[je.charCodeAt(B)])return this._token(ye,je.charAt(B),B);var U=this.re;U.lastIndex=B;var ne=ve(U,je),ae=this.error;if(null==ne)return this._token(ae,je.slice(B,je.length),B);var ye=this._getGroup(ne),Ne=ne[0];return ae.fallback&&ne.index!==B?(this.queuedGroup=ye,this.queuedText=Ne,this._token(ae,je.slice(B,ne.index),B)):this._token(ye,Ne,B)}},Ee.prototype._token=function(B,K,je){var U=0;if(B.lineBreaks){var ne=/\n/g,ae=1;if("\n"===K)U=1;else for(;ne.exec(K);)U++,ae=ne.lastIndex}var ye={type:"function"==typeof B.type&&B.type(K)||B.defaultType,value:"function"==typeof B.value?B.value(K):K,text:K,toString:ue,offset:je,lineBreaks:U,line:this.line,col:this.col},Ne=K.length;if(this.index+=Ne,this.line+=U,0!==U?this.col=Ne-ae+1:this.col+=Ne,B.shouldThrow)throw new Error(this.formatError(ye,"invalid syntax"));return B.pop?this.popState():B.push?this.pushState(B.push):B.next&&this.setState(B.next),ye},typeof Symbol<"u"&&Symbol.iterator){var Ie=function(B){this.lexer=B};Ie.prototype.next=function(){var B=this.lexer.next();return{value:B,done:!B}},Ie.prototype[Symbol.iterator]=function(){return this},Ee.prototype[Symbol.iterator]=function(){return new Ie(this)}}return Ee.prototype.formatError=function(B,K){if(null==B){var je=this.buffer.slice(this.index);B={text:je,offset:this.index,lineBreaks:-1===je.indexOf("\n")?0:1,line:this.line,col:this.col}}var ne=Math.max(B.line-2,1),ye=String(B.line+2).length,Ne=function T(B,K){for(var je=B.length,U=0;;){var ne=B.lastIndexOf("\n",je-1);if(-1===ne||(je=ne,++U===K)||0===je)break}return B.substring(U<K?0:je+1).split("\n")}(this.buffer,this.line-B.line+2+1).slice(0,5),$e=[];$e.push(K+" at line "+B.line+" col "+B.col+":"),$e.push("");for(var be=0;be<Ne.length;be++){var tt=Ne[be],St=ne+be;$e.push(D(String(St),ye)+"  "+tt),St===B.line&&$e.push(D("",ye+B.col+1)+"^")}return $e.join("\n")},Ee.prototype.clone=function(){return new Ee(this.states,this.state)},Ee.prototype.has=function(B){return!0},{compile:function me(B){var K=Y(Q(B));return new Ee({start:K},"start")},states:function Xe(B,K){var je=B.$all?Q(B.$all):[];delete B.$all;var U=Object.getOwnPropertyNames(B);K||(K=U[0]);for(var ne=Object.create(null),ae=0;ae<U.length;ae++)ne[ye=U[ae]]=Q(B[ye]).concat(je);for(ae=0;ae<U.length;ae++)for(var Ne=ne[ye=U[ae]],$e=Object.create(null),be=0;be<Ne.length;be++){var tt=Ne[be];if(tt.include){var St=[be,1];if(tt.include!==ye&&!$e[tt.include]){$e[tt.include]=!0;var Ae=ne[tt.include];if(!Ae)throw new Error("Cannot include nonexistent state '"+tt.include+"' (in state '"+ye+"')");for(var Ge=0;Ge<Ae.length;Ge++){var mt=Ae[Ge];-1===Ne.indexOf(mt)&&St.push(mt)}}Ne.splice.apply(Ne,St),be--}}var pt=Object.create(null);for(ae=0;ae<U.length;ae++){var ye;pt[ye=U[ae]]=Y(ne[ye],!0)}for(ae=0;ae<U.length;ae++){var Ct=U[ae],st=pt[Ct],Et=st.groups;for(be=0;be<Et.length;be++)Te(Et[be],Ct,pt);var Ye=Object.getOwnPropertyNames(st.fast);for(be=0;be<Ye.length;be++)Te(st.fast[Ye[be]],Ct,pt)}return new Ee(pt,K)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function ee(B){for(var K=typeof Map<"u",je=K?new Map:Object.create(null),U=Object.getOwnPropertyNames(B),ne=0;ne<U.length;ne++){var ae=U[ne],ye=B[ae];(Array.isArray(ye)?ye:[ye]).forEach(function($e){if("string"!=typeof $e)throw new Error("keyword must be string (in keyword '"+ae+"')");K?je.set($e,ae):je[$e]=ae})}return function($e){return K?je.get($e):je[$e]}}}})?_.apply(we,[]):_)&&(Z.exports=x)},1123:Z=>{"use strict";Z.exports=Error},1143:(Z,we,_)=>{"use strict";var S=_(6330),x=_(8519),L=Object;Z.exports=S(function(){if(null==this||this!==L(this))throw new x("RegExp.prototype.flags getter called on non-object");var k="";return this.hasIndices&&(k+="d"),this.global&&(k+="g"),this.ignoreCase&&(k+="i"),this.multiline&&(k+="m"),this.dotAll&&(k+="s"),this.unicode&&(k+="u"),this.unicodeSets&&(k+="v"),this.sticky&&(k+="y"),k},"get flags",!0)},1197:(Z,we,_)=>{"use strict";var S=_(1963),x=_(4880),L=_(8519),H=_(9263);Z.exports=function(f,O,E){if(!f||"object"!=typeof f&&"function"!=typeof f)throw new L("`obj` must be an object or a function`");if("string"!=typeof O&&"symbol"!=typeof O)throw new L("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new L("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new L("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new L("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new L("`loose`, if provided, must be a boolean");var P=arguments.length>3?arguments[3]:null,R=arguments.length>4?arguments[4]:null,V=arguments.length>5?arguments[5]:null,N=arguments.length>6&&arguments[6],D=!!H&&H(f,O);if(S)S(f,O,{configurable:null===V&&D?D.configurable:!V,enumerable:null===P&&D?D.enumerable:!P,value:E,writable:null===R&&D?D.writable:!R});else{if(!N&&(P||R||V))throw new x("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");f[O]=E}}},1393:(Z,we,_)=>{"use strict";_.r(we),_.d(we,{mdTransitionAnimation:()=>f});var S=_(7133),x=_(6780);_(9335),_(575),_(6721);const f=(O,E)=>{var P,R,V;const N="40px",T="back"===E.direction,le=E.leavingEl,_e=(0,x.g)(E.enteringEl),Q=_e.querySelector("ion-toolbar"),W=(0,S.c)();if(W.addElement(_e).fill("both").beforeRemoveClass("ion-page-invisible"),T?W.duration((null!==(P=E.duration)&&void 0!==P?P:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):W.duration((null!==(R=E.duration)&&void 0!==R?R:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${N})`,"translateY(0px)").fromTo("opacity",.01,1),Q){const Y=(0,S.c)();Y.addElement(Q),W.addAnimation(Y)}if(le&&T){W.duration((null!==(V=E.duration)&&void 0!==V?V:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Y=(0,S.c)();Y.addElement((0,x.g)(le)).onFinish(me=>{1===me&&Y.elements.length>0&&Y.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${N})`).fromTo("opacity",1,0),W.addAnimation(Y)}return W}},1459:(Z,we,_)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,x=_(6497);Z.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&x()}},1516:Z=>{"use strict";Z.exports=Math.pow},1568:(Z,we,_)=>{"use strict";var S=_(3996),x=_(9364),L=_(8580);Z.exports=S?function(k){return S(k)}:x?function(k){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new TypeError("getProto: not an object");return x(k)}:L?function(k){return L(k)}:null},1890:(Z,we,_)=>{"use strict";function S(L,H,k,f,O,E,P){try{var R=L[E](P),V=R.value}catch(N){return void k(N)}R.done?H(V):Promise.resolve(V).then(f,O)}function x(L){return function(){var H=this,k=arguments;return new Promise(function(f,O){var E=L.apply(H,k);function P(V){S(E,f,O,P,R,"next",V)}function R(V){S(E,f,O,P,R,"throw",V)}P(void 0)})}}_.d(we,{A:()=>x})},1963:Z=>{"use strict";var we=Object.defineProperty||!1;if(we)try{we({},"a",{value:1})}catch{we=!1}Z.exports=we},2090:(Z,we,_)=>{"use strict";var x=_(840)("SharedArrayBuffer.prototype.byteLength",!0);Z.exports=x?function(H){if(!H||"object"!=typeof H)return!1;try{return x(H),!0}catch{return!1}}:function(H){return!1}},2136:Z=>{"use strict";Z.exports=Math.max},2179:(Z,we,_)=>{"use strict";var S=_(3889),x=_(5492)(),L=_(8519),H={assert:function(k,f){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");if(x.assert(k),!H.has(k,f))throw new L("`"+f+"` is not present on `O`")},get:function(k,f){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var O=x.get(k);return O&&O["$"+f]},has:function(k,f){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var O=x.get(k);return!!O&&S(O,"$"+f)},set:function(k,f,O){if(!k||"object"!=typeof k&&"function"!=typeof k)throw new L("`O` is not an object");if("string"!=typeof f)throw new L("`slot` must be a string");var E=x.get(k);E||x.set(k,E={}),E["$"+f]=O}};Object.freeze&&Object.freeze(H),Z.exports=H},2219:(Z,we,_)=>{"use strict";var x=_(840)("ArrayBuffer.prototype.byteLength",!0),L=_(3066);Z.exports=function(k){return L(k)?x?x(k):k.byteLength:NaN}},2282:(Z,we,_)=>{"use strict";var S=_(7707),x=_(8519),L=_(7648),H=_(5124);Z.exports=function(f){if(f.length<1||"function"!=typeof f[0])throw new x("a function is required");return H(S,L,f)}},2375:(Z,we,_)=>{"use strict";var S=_(2521),x=_(840),L=_(3687),H=_(8519),k=S("%Map%",!0),f=x("Map.prototype.get",!0),O=x("Map.prototype.set",!0),E=x("Map.prototype.has",!0),P=x("Map.prototype.delete",!0),R=x("Map.prototype.size",!0);Z.exports=!!k&&function(){var N,D={assert:function(T){if(!D.has(T))throw new H("Side channel does not contain "+L(T))},delete:function(T){if(N){var se=P(N,T);return 0===R(N)&&(N=void 0),se}return!1},get:function(T){if(N)return f(N,T)},has:function(T){return!!N&&E(N,T)},set:function(T,se){N||(N=new k),O(N,T,se)}};return D}},2490:Z=>{function we(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}Z.exports=function(S){return null!=S&&(we(S)||function _(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&we(S.slice(0,0))}(S)||!!S._isBuffer)}},2521:(Z,we,_)=>{"use strict";var S,x=_(7888),L=_(1123),H=_(2905),k=_(7718),f=_(3286),O=_(4880),E=_(8519),P=_(2781),R=_(7598),V=_(3116),N=_(2136),D=_(3462),T=_(1516),se=_(5714),le=_(497),_e=Function,Q=function(st){try{return _e('"use strict"; return ('+st+").constructor;")()}catch{}},W=_(9263),Y=_(1963),me=function(){throw new E},Te=W?function(){try{return me}catch{try{return W(arguments,"callee").get}catch{return me}}}():me,Xe=_(1459)(),ee=_(1568),Ee=_(9364),ve=_(3996),ue=_(814),Ie=_(7648),B={},K=typeof Uint8Array>"u"||!ee?S:ee(Uint8Array),je={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":Xe&&ee?ee([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":L,"%eval%":eval,"%EvalError%":H,"%Float16Array%":typeof Float16Array>"u"?S:Float16Array,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":_e,"%GeneratorFunction%":B,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xe&&ee?ee(ee([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xe||!ee?S:ee((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":x,"%Object.getOwnPropertyDescriptor%":W,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":k,"%ReferenceError%":f,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xe||!ee?S:ee((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xe&&ee?ee(""[Symbol.iterator]()):S,"%Symbol%":Xe?Symbol:S,"%SyntaxError%":O,"%ThrowTypeError%":Te,"%TypedArray%":K,"%TypeError%":E,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":P,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet,"%Function.prototype.call%":Ie,"%Function.prototype.apply%":ue,"%Object.defineProperty%":Y,"%Object.getPrototypeOf%":Ee,"%Math.abs%":R,"%Math.floor%":V,"%Math.max%":N,"%Math.min%":D,"%Math.pow%":T,"%Math.round%":se,"%Math.sign%":le,"%Reflect.getPrototypeOf%":ve};if(ee)try{null.error}catch(st){var U=ee(ee(st));je["%Error.prototype%"]=U}var ne=function st(Et){var Ye;if("%AsyncFunction%"===Et)Ye=Q("async function () {}");else if("%GeneratorFunction%"===Et)Ye=Q("function* () {}");else if("%AsyncGeneratorFunction%"===Et)Ye=Q("async function* () {}");else if("%AsyncGenerator%"===Et){var _t=st("%AsyncGeneratorFunction%");_t&&(Ye=_t.prototype)}else if("%AsyncIteratorPrototype%"===Et){var Nt=st("%AsyncGenerator%");Nt&&ee&&(Ye=ee(Nt.prototype))}return je[Et]=Ye,Ye},ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ye=_(7707),Ne=_(3889),$e=ye.call(Ie,Array.prototype.concat),be=ye.call(ue,Array.prototype.splice),tt=ye.call(Ie,String.prototype.replace),St=ye.call(Ie,String.prototype.slice),Ae=ye.call(Ie,RegExp.prototype.exec),Ge=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mt=/\\(\\)?/g,Ct=function(Et,Ye){var Nt,_t=Et;if(Ne(ae,_t)&&(_t="%"+(Nt=ae[_t])[0]+"%"),Ne(je,_t)){var Sn=je[_t];if(Sn===B&&(Sn=ne(_t)),typeof Sn>"u"&&!Ye)throw new E("intrinsic "+Et+" exists, but is not available. Please file an issue!");return{alias:Nt,name:_t,value:Sn}}throw new O("intrinsic "+Et+" does not exist!")};Z.exports=function(Et,Ye){if("string"!=typeof Et||0===Et.length)throw new E("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ye)throw new E('"allowMissing" argument must be a boolean');if(null===Ae(/^%?[^%]*%?$/,Et))throw new O("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var _t=function(Et){var Ye=St(Et,0,1),_t=St(Et,-1);if("%"===Ye&&"%"!==_t)throw new O("invalid intrinsic syntax, expected closing `%`");if("%"===_t&&"%"!==Ye)throw new O("invalid intrinsic syntax, expected opening `%`");var Nt=[];return tt(Et,Ge,function(Sn,wn,qt,Mt){Nt[Nt.length]=qt?tt(Mt,mt,"$1"):wn||Sn}),Nt}(Et),Nt=_t.length>0?_t[0]:"",Sn=Ct("%"+Nt+"%",Ye),wn=Sn.name,qt=Sn.value,Mt=!1,qe=Sn.alias;qe&&(Nt=qe[0],be(_t,$e([0,1],qe)));for(var Oe=1,ze=!0;Oe<_t.length;Oe+=1){var dt=_t[Oe],Qt=St(dt,0,1),fn=St(dt,-1);if(('"'===Qt||"'"===Qt||"`"===Qt||'"'===fn||"'"===fn||"`"===fn)&&Qt!==fn)throw new O("property names with quotes must have matching quotes");if(("constructor"===dt||!ze)&&(Mt=!0),Ne(je,wn="%"+(Nt+="."+dt)+"%"))qt=je[wn];else if(null!=qt){if(!(dt in qt)){if(!Ye)throw new E("base intrinsic for "+Et+" exists, but the property is not available.");return}if(W&&Oe+1>=_t.length){var An=W(qt,dt);qt=(ze=!!An)&&"get"in An&&!("originalValue"in An.get)?An.get:qt[dt]}else ze=Ne(qt,dt),qt=qt[dt];ze&&!Mt&&(je[wn]=qt)}}return qt}},2634:()=>{},2781:Z=>{"use strict";Z.exports=URIError},2905:Z=>{"use strict";Z.exports=EvalError},2922:(Z,we,_)=>{var L,S=_(5e3).default,x=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(H={}){var f=H,O="object"==typeof window,E=typeof WorkerGlobalScope<"u",V=("object"==typeof process&&process.versions?.node&&process,"./this.program"),N=(g,z)=>{throw z};E&&(L=self.location.href);var se,le,D="";if(O||E){try{D=new URL(".",L).href}catch{}E&&(le=g=>{var z=new XMLHttpRequest;return z.open("GET",g,!1),z.responseType="arraybuffer",z.send(null),new Uint8Array(z.response)}),se=function(){var g=S(function*(z){var Ce=yield fetch(z,{credentials:"same-origin"});if(Ce.ok)return Ce.arrayBuffer();throw new Error(Ce.status+" : "+Ce.url)});return function(Ce){return g.apply(this,arguments)}}()}var W,me,_e=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Te(g,z){g||Ye(z)}function ee(){if(!Y){var g=In();0==g&&(g+=4);var z=ne[g>>2],Ce=ne[g+4>>2];(34821223!=z||2310721022!=Ce)&&Ye(`Stack overflow! Stack cookie has been overwritten at ${Vr(g)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Vr(Ce)} ${Vr(z)}`),1668509029!=ne[0]&&Ye("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Ee,ve,ue,Ie,B,U,ne,Ne,be=!1;function tt(){var g=ue.buffer;Ie=new Int8Array(g),new Int16Array(g),f.HEAPU8=B=new Uint8Array(g),new Uint16Array(g),U=new Int32Array(g),f.HEAPU32=ne=new Uint32Array(g),new Float32Array(g),new Float64Array(g),Ne=new BigInt64Array(g),new BigUint64Array(g)}var _t,pt=0,Ct=null;function Ye(g){f.onAbort?.(g),Q(g="Aborted("+g+")"),Y=!0,g+=". Build with -sASSERTIONS for more info.";var z=new WebAssembly.RuntimeError(g);throw ve?.(z),z}function qt(){return(qt=S(function*(g){if(!W)try{var z=yield se(g);return new Uint8Array(z)}catch{}return function Sn(g){if(g==_t&&W)return new Uint8Array(W);if(le)return le(g);throw"both async and sync fetching of the wasm failed"}(g)})).apply(this,arguments)}function qe(){return qe=S(function*(g,z){try{var Ce=yield function wn(g){return qt.apply(this,arguments)}(g);return yield WebAssembly.instantiate(Ce,z)}catch(Gt){Q(`failed to asynchronously prepare wasm: ${Gt}`),Ye(Gt)}}),qe.apply(this,arguments)}function ze(){return ze=S(function*(g,z,Ce){if(!g&&"function"==typeof WebAssembly.instantiateStreaming)try{var lt=fetch(z,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(lt,Ce)}catch(pn){Q(`wasm streaming compile failed: ${pn}`),Q("falling back to ArrayBuffer instantiation")}return function Mt(g,z){return qe.apply(this,arguments)}(z,Ce)}),ze.apply(this,arguments)}function fn(){return fn=S(function*(){function g(pn,Rn){return ue=(en=pn.exports).s,tt(),fs=en.Ua,function Tt(g){f._malloc=g.u,f._free=g.v,f._main=ua=g.w,f._webidl_free=g.x,f._webidl_malloc=g.y,f._emscripten_bind_VoidPtr___destroy___0=da=g.z,f._emscripten_bind_FileEntry_GetName_0=it=g.A,f._emscripten_bind_FileEntry_IsDirectory_0=hs=g.B,f._emscripten_bind_FileEntry_GetSize_0=Ui=g.C,f._emscripten_bind_FileEntry_GetModifiedTS_0=gs=g.D,f._emscripten_bind_FileEntry_GetAttributes_0=si=g.E,f._emscripten_bind_FileEntry___destroy___0=fa=g.F,f._emscripten_bind_Vfs_Vfs_0=ms=g.G,f._emscripten_bind_Vfs_Malloc_1=Us=g.H,f._emscripten_bind_Vfs_Free_1=Yo=g.I,f._emscripten_bind_Vfs_Nullptr_0=vs=g.J,f._emscripten_bind_Vfs_AllocateImage_1=gi=g.K,f._emscripten_bind_Vfs_MountImage_1=ys=g.L,f._emscripten_bind_Vfs_UnmountImage_1=_s=g.M,f._emscripten_bind_Vfs_SwitchSlot_1=Hi=g.N,f._emscripten_bind_Vfs_GetPendingImageSize_0=so=g.O,f._emscripten_bind_Vfs_GetSize_1=mi=g.P,f._emscripten_bind_Vfs_GetPendingImage_0=Gi=g.Q,f._emscripten_bind_Vfs_GetImage_1=zi=g.R,f._emscripten_bind_Vfs_GetDirtyPages_1=Hs=g.S,f._emscripten_bind_Vfs_RenameFile_2=bs=g.T,f._emscripten_bind_Vfs_ChmodFile_3=ai=g.U,f._emscripten_bind_Vfs_StatFile_1=Ko=g.V,f._emscripten_bind_Vfs_UnlinkFile_1=vi=g.W,f._emscripten_bind_Vfs_Mkdir_1=Wt=g.X,f._emscripten_bind_Vfs_GetEntry_0=dn=g.Y,f._emscripten_bind_Vfs_BytesFree_1=pa=g.Z,f._emscripten_bind_Vfs_BytesTotal_1=Gs=g._,f._emscripten_bind_Vfs_ReadFile_1=vo=g.$,f._emscripten_bind_Vfs_GetCurrentFileSize_0=Cs=g.aa,f._emscripten_bind_Vfs_GetCurrentFileContent_0=ki=g.ba,f._emscripten_bind_Vfs_ReleaseCurrentFile_0=Wi=g.ca,f._emscripten_bind_Vfs_WriteFile_3=Ss=g.da,f._emscripten_bind_Vfs___destroy___0=Ba=g.ea,f._emscripten_bind_ReaddirContext_ReaddirContext_1=zs=g.fa,f._emscripten_bind_ReaddirContext_Next_0=ws=g.ga,f._emscripten_bind_ReaddirContext_GetEntry_0=ha=g.ha,f._emscripten_bind_ReaddirContext_GetStatus_0=Ws=g.ia,f._emscripten_bind_ReaddirContext_GetError_0=qs=g.ja,f._emscripten_bind_ReaddirContext_GetErrorDescription_0=ga=g.ka,f._emscripten_bind_ReaddirContext___destroy___0=Zs=g.la,f._emscripten_bind_ExportZipContext_ExportZipContext_2=yo=g.ma,f._emscripten_bind_ExportZipContext_AddFile_1=Ys=g.na,f._emscripten_bind_ExportZipContext_AddDirectory_1=eo=g.oa,f._emscripten_bind_ExportZipContext_Continue_0=qi=g.pa,f._emscripten_bind_ExportZipContext_GetState_0=ma=g.qa,f._emscripten_bind_ExportZipContext_GetZipContent_0=ja=g.ra,f._emscripten_bind_ExportZipContext_GetZipSize_0=Po=g.sa,f._emscripten_bind_ExportZipContext_GetErrorItem_0=Es=g.ta,f._emscripten_bind_ExportZipContext___destroy___0=va=g.ua,f._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=Ks=g.va,f._emscripten_bind_DeleteRecursiveContext_AddFile_1=oe=g.wa,f._emscripten_bind_DeleteRecursiveContext_Continue_0=Xs=g.xa,f._emscripten_bind_DeleteRecursiveContext_GetState_0=Be=g.ya,f._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=yi=g.za,f._emscripten_bind_DeleteRecursiveContext___destroy___0=ya=g.Aa,f._emscripten_bind_UnzipContext_UnzipContext_4=Zi=g.Ba,f._emscripten_bind_UnzipContext_GetState_0=Ri=g.Ca,f._emscripten_bind_UnzipContext_Continue_0=Va=g.Da,f._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=p=g.Ea,f._emscripten_bind_UnzipContext_GetCurrentEntry_0=m=g.Fa,f._emscripten_bind_UnzipContext_GetCollisionPath_0=w=g.Ga,f._emscripten_bind_UnzipContext_GetEntriesTotal_0=A=g.Ha,f._emscripten_bind_UnzipContext_GetEntriesSuccess_0=X=g.Ia,f._emscripten_bind_UnzipContext___destroy___0=te=g.Ja,f._emscripten_bind_PasteContext_PasteContext_3=Ve=g.Ka,f._emscripten_bind_PasteContext_AddFile_1=Se=g.La,f._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=Ke=g.Ma,f._emscripten_bind_PasteContext_GetState_0=ge=g.Na,f._emscripten_bind_PasteContext_Continue_0=Fe=g.Oa,f._emscripten_bind_PasteContext_ContinueWithOverwrite_0=rt=g.Pa,f._emscripten_bind_PasteContext_GetCurrentEntry_0=ft=g.Qa,f._emscripten_bind_PasteContext_GetCollisionPath_0=At=g.Ra,f._emscripten_bind_PasteContext_GetEntriesSuccess_0=ht=g.Sa,f._emscripten_bind_PasteContext___destroy___0=vn=g.Ta,gr=g.Va,$t=g.Wa,In=g.Xa,Mn=g.Ya,f.___original_main=g.Za}(en),function Et(){if(pt--,f.monitorRunDependencies?.(pt),0==pt&&Ct){var z=Ct;Ct=null,z()}}(),en}!function st(){pt++,f.monitorRunDependencies?.(pt)}();var Ce=function dt(){return{a:Xn}}();if(f.instantiateWasm)return new Promise((pn,Rn)=>{f.instantiateWasm(Ce,(zn,_o)=>{pn(g(zn))})});_t??=function Nt(){return function T(g){return f.locateFile?f.locateFile(g,D):D+g}("vfs_web.wasm")}();var lt=yield function Oe(g,z,Ce){return ze.apply(this,arguments)}(W,_t,Ce);return function z(pn){return g(pn.instance)}(lt)}),fn.apply(this,arguments)}class An{name="ExitStatus";constructor(z){this.message=`Program terminated with exit(${z})`,this.status=z}}var fs,Zo,ua,da,it,hs,Ui,gs,si,fa,ms,Us,Yo,vs,gi,ys,_s,Hi,so,mi,Gi,zi,Hs,bs,ai,Ko,vi,Wt,dn,pa,Gs,vo,Cs,ki,Wi,Ss,Ba,zs,ws,ha,Ws,qs,ga,Zs,yo,Ys,eo,qi,ma,ja,Po,Es,va,Ks,oe,Xs,Be,yi,ya,Zi,Ri,Va,p,m,w,A,X,te,Ve,Se,Ke,ge,Fe,rt,ft,At,ht,vn,gr,$t,In,Mn,an=g=>{for(;g.length>0;)g.shift()(f)},Cn=[],rr=g=>Cn.push(g),pr=[],Xr=g=>pr.push(g),go=!0,Vr=g=>"0x"+(g>>>=0).toString(16).padStart(8,"0"),No=typeof TextDecoder<"u"?new TextDecoder:void 0,Qr=(g,z=0,Ce=NaN)=>{for(var lt=z+Ce,Gt=z;g[Gt]&&!(Gt>=lt);)++Gt;if(Gt-z>16&&g.buffer&&No)return No.decode(g.subarray(z,Gt));for(var pn="";z<Gt;){var Rn=g[z++];if(128&Rn){var zn=63&g[z++];if(192!=(224&Rn)){var _o=63&g[z++];if((Rn=224==(240&Rn)?(15&Rn)<<12|zn<<6|_o:(7&Rn)<<18|zn<<12|_o<<6|63&g[z++])<65536)pn+=String.fromCharCode(Rn);else{var Ua=Rn-65536;pn+=String.fromCharCode(55296|Ua>>10,56320|1023&Ua)}}else pn+=String.fromCharCode((31&Rn)<<6|zn)}else pn+=String.fromCharCode(Rn)}return pn},ln=(g,z)=>g?Qr(B,g,z):"",Kt=g=>g<-9007199254740992||g>9007199254740992?NaN:Number(g),Jt=0,Er=[0,31,60,91,121,152,182,213,244,274,305,335],oo=[0,31,59,90,120,151,181,212,243,273,304,334],Jr=g=>((g=>g%4==0&&(g%100!=0||g%400==0))(g.getFullYear())?Er:oo)[g.getMonth()]+g.getDate()-1,Dn={},mo=g=>{if(g instanceof An||"unwind"==g)return me;ee(),g instanceof WebAssembly.RuntimeError&&Mn()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),N(0,g)},oi=()=>go||Jt>0,fo=g=>{me=g,oi()||(f.onExit?.(g),Y=!0),N(0,new An(g))},Go=(g,z)=>{me=g,fo(g)},$n=Go,hi=()=>performance.now(),Le=(g,z,Ce,lt)=>{if(!(lt>0))return 0;for(var Gt=Ce,pn=Ce+lt-1,Rn=0;Rn<g.length;++Rn){var zn=g.codePointAt(Rn);if(zn<=127){if(Ce>=pn)break;z[Ce++]=zn}else if(zn<=2047){if(Ce+1>=pn)break;z[Ce++]=192|zn>>6,z[Ce++]=128|63&zn}else if(zn<=65535){if(Ce+2>=pn)break;z[Ce++]=224|zn>>12,z[Ce++]=128|zn>>6&63,z[Ce++]=128|63&zn}else{if(Ce+3>=pn)break;z[Ce++]=240|zn>>18,z[Ce++]=128|zn>>12&63,z[Ce++]=128|zn>>6&63,z[Ce++]=128|63&zn,Rn++}}return z[Ce]=0,Ce-Gt},cr=(g,z,Ce)=>Le(g,B,z,Ce),Vn=()=>Date.now(),Lr=(g,z)=>Math.ceil(g/z)*z,xi=g=>{var Ce=(g-ue.buffer.byteLength+65535)/65536|0;try{return ue.grow(Ce),tt(),1}catch{}},js={},jt=()=>{if(!jt.strings){var z={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:V||"./this.program"};for(var Ce in js)void 0===js[Ce]?delete z[Ce]:z[Ce]=js[Ce];var lt=[];for(var Ce in z)lt.push(`${Ce}=${z[Ce]}`);jt.strings=lt}return jt.strings},xe=g=>{for(var z=0,Ce=0;Ce<g.length;++Ce){var lt=g.charCodeAt(Ce);lt<=127?z++:lt<=2047?z+=2:lt>=55296&&lt<=57343?(z+=4,++Ce):z+=3}return z},Wo=[null,[],[]],qo=(g,z)=>{var Ce=Wo[g];0===z||10===z?((1===g?_e:Q)(Qr(Ce)),Ce.length=0):Ce.push(z)},Fa=[],ds=(g,z)=>{g<128?z.push(g):z.push(g%128|128,g>>7)},Ft=[],mc=g=>{var z=Ft[g];return z||(Ft[g]=z=fs.get(g)),z},et=[],jn=(g,z)=>{fs.set(g,z),Ft[g]=fs.get(g)};f.noExitRuntime&&(go=f.noExitRuntime),f.print&&(_e=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(W=f.wasmBinary),f.thisProgram&&(V=f.thisProgram),f.addFunction=(g,z)=>{var Ce=(g=>(Zo||(Zo=new WeakMap,((g,z)=>{if(Zo)for(var Ce=0;Ce<0+z;Ce++){var lt=mc(Ce);lt&&Zo.set(lt,Ce)}})(0,fs.length)),Zo.get(g)||0))(g);if(Ce)return Ce;var lt=(()=>{if(et.length)return et.pop();try{fs.grow(1)}catch(g){throw g instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":g}return fs.length-1})();try{jn(lt,g)}catch(pn){if(!(pn instanceof TypeError))throw pn;var Gt=((g,z)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((g=>{for(var z={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},Ce={parameters:[],results:"v"==g[0]?[]:[z[g[0]]]},lt=1;lt<g.length;++lt)Ce.parameters.push(z[g[lt]]);return Ce})(z),g);var Ce=[1];((g,z)=>{var Ce=g.slice(0,1),lt=g.slice(1),Gt={i:127,p:127,j:126,f:125,d:124,e:111};for(var pn of(z.push(96),ds(lt.length,z),lt))z.push(Gt[pn]);"v"==Ce?z.push(0):z.push(1,Gt[Ce])})(z,Ce);var lt=[0,97,115,109,1,0,0,0,1];ds(Ce.length,lt),lt.push(...Ce),lt.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Gt=new WebAssembly.Module(new Uint8Array(lt));return new WebAssembly.Instance(Gt,{e:{f:g}}).exports.f})(g,z);jn(lt,Gt)}return Zo.set(g,lt),lt},f.UTF8ToString=ln;var Xn={a:(g,z,Ce,lt)=>Ye(`Assertion failed: ${ln(g)}, at: `+[z?ln(z):"unknown filename",Ce,lt?ln(lt):"unknown function"]),e:function Hn(g,z){z=Kt(z)},r:()=>Ye(""),k:()=>{go=!1,Jt=0},q:function Ao(g,z){g=Kt(g);var Ce=new Date(1e3*g);U[z>>2]=Ce.getSeconds(),U[z+4>>2]=Ce.getMinutes(),U[z+8>>2]=Ce.getHours(),U[z+12>>2]=Ce.getDate(),U[z+16>>2]=Ce.getMonth(),U[z+20>>2]=Ce.getFullYear()-1900,U[z+24>>2]=Ce.getDay();var lt=0|Jr(Ce);U[z+28>>2]=lt,U[z+36>>2]=-60*Ce.getTimezoneOffset();var Gt=new Date(Ce.getFullYear(),0,1),pn=new Date(Ce.getFullYear(),6,1).getTimezoneOffset(),Rn=Gt.getTimezoneOffset(),zn=0|(pn!=Rn&&Ce.getTimezoneOffset()==Math.min(Rn,pn));U[z+32>>2]=zn},b:function(g){var z=(()=>{var Ce=new Date(U[g+20>>2]+1900,U[g+16>>2],U[g+12>>2],U[g+8>>2],U[g+4>>2],U[g>>2],0),lt=U[g+32>>2],Gt=Ce.getTimezoneOffset(),pn=new Date(Ce.getFullYear(),0,1),Rn=new Date(Ce.getFullYear(),6,1).getTimezoneOffset(),zn=pn.getTimezoneOffset(),_o=Math.min(zn,Rn);if(lt<0)U[g+32>>2]=+(Rn!=zn&&_o==Gt);else if(lt>0!=(_o==Gt)){var Ua=Math.max(zn,Rn),Ha=lt>0?_o:Ua;Ce.setTime(Ce.getTime()+6e4*(Ha-Gt))}U[g+24>>2]=Ce.getDay();var bo=0|Jr(Ce);U[g+28>>2]=bo,U[g>>2]=Ce.getSeconds(),U[g+4>>2]=Ce.getMinutes(),U[g+8>>2]=Ce.getHours(),U[g+12>>2]=Ce.getDate(),U[g+16>>2]=Ce.getMonth(),U[g+20>>2]=Ce.getYear();var _a=Ce.getTime();return isNaN(_a)?-1:_a/1e3})();return BigInt(z)},l:(g,z)=>{if(Dn[g]&&(clearTimeout(Dn[g].id),delete Dn[g]),!z)return 0;var Ce=setTimeout(()=>{delete Dn[g],(g=>{if(!Y)try{g(),(()=>{if(!oi())try{$n(me)}catch(g){mo(g)}})()}catch(z){mo(z)}})(()=>gr(g,hi()))},z);return Dn[g]={id:Ce,timeout_ms:z},0},c:(g,z,Ce,lt)=>{var Gt=(new Date).getFullYear(),pn=new Date(Gt,0,1),Rn=new Date(Gt,6,1),zn=pn.getTimezoneOffset(),_o=Rn.getTimezoneOffset(),Ua=Math.max(zn,_o);ne[g>>2]=60*Ua,U[z>>2]=+(zn!=_o);var Ha=Xu=>{var to=Xu>=0?"-":"+",ut=Math.abs(Xu);return`UTC${to}${String(Math.floor(ut/60)).padStart(2,"0")}${String(ut%60).padStart(2,"0")}`},bo=Ha(zn),_a=Ha(_o);_o<zn?(cr(bo,Ce,17),cr(_a,lt,17)):(cr(bo,lt,17),cr(_a,Ce,17))},o:function hn(g,z,Ce){if(z=Kt(z),!(g=>g>=0&&g<=3)(g))return 28;var lt;lt=0===g?Vn():hi();var Gt=Math.round(1e3*lt*1e3);return Ne[Ce>>3]=BigInt(Gt),0},i:Vn,p:g=>{var z=B.length,Ce=2147483648;if((g>>>=0)>Ce)return!1;for(var lt=1;lt<=4;lt*=2){var Gt=z*(1+.2/lt);Gt=Math.min(Gt,g+100663296);var pn=Math.min(Ce,Lr(Math.max(g,Gt),65536));if(xi(pn))return!0}return!1},m:(g,z)=>{var Ce=0,lt=0;for(var Gt of jt()){var pn=z+Ce;ne[g+lt>>2]=pn,Ce+=cr(Gt,pn,1/0)+1,lt+=4}return 0},n:(g,z)=>{var Ce=jt();ne[g>>2]=Ce.length;var lt=0;for(var Gt of Ce)lt+=xe(Gt)+1;return ne[z>>2]=lt,0},f:g=>52,h:(g,z,Ce,lt)=>52,d:function Kn(g,z,Ce,lt){return z=Kt(z),70},g:(g,z,Ce,lt)=>{for(var Gt=0,pn=0;pn<Ce;pn++){var Rn=ne[z>>2],zn=ne[z+4>>2];z+=8;for(var _o=0;_o<zn;_o++)qo(g,B[Rn+_o]);Gt+=zn}return ne[lt>>2]=Gt,0},j:fo},en=yield function Qt(){return fn.apply(this,arguments)}();function $(){}function ce(g){return(g||$).__cache__}function Qe(g,z){var Ce=ce(z),lt=Ce[g];return lt||((lt=Object.create((z||$).prototype)).ptr=g,Ce[g]=lt)}(function b(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function Zt(){function g(){f.calledRun=!0,Y||(function Ae(){be=!0,ee(),an(Fa),en.t()}(),function Ge(){ee()}(),Ee?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function xn(){var g=ua;try{var lt=g(0,0);return Go(lt),lt}catch(Gt){return mo(Gt)}}(),function mt(){if(ee(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)rr(f.postRun.shift());an(Cn)}())}pt>0?Ct=Zt:(function tn(){$t(),function Xe(){var g=In();0==g&&(g+=4),ne[g>>2]=34821223,ne[g+4>>2]=2310721022,ne[0]=1668509029}()}(),function St(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)Xr(f.preRun.shift());an(pr)}(),pt>0?Ct=Zt:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),g()},1)):g(),ee()))}(),($.prototype=Object.create($.prototype)).constructor=$,$.prototype.__class__=$,$.__cache__={},f.WrapperObject=$,f.getCache=ce,f.wrapPointer=Qe,f.castObject=function kt(g,z){return Qe(g.ptr,z)},f.NULL=Qe(0),f.destroy=function gn(g){if(!g.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";g.__destroy__(),delete ce(g.__class__)[g.ptr]},f.compare=function On(g,z){return g.ptr===z.ptr},f.getPointer=function Un(g){return g.ptr},f.getClass=function zr(g){return g.__class__};var cn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(cn.needed){for(var g=0;g<cn.temps.length;g++)f._webidl_free(cn.temps[g]);cn.temps.length=0,f._webidl_free(cn.buffer),cn.buffer=0,cn.size+=cn.needed,cn.needed=0}cn.buffer||(cn.size+=128,cn.buffer=f._webidl_malloc(cn.size),Te(cn.buffer)),cn.pos=0},alloc(g,z){Te(cn.buffer);var Gt,lt=g.length*z.BYTES_PER_ELEMENT;return lt=Lr(lt,8),cn.pos+lt>=cn.size?(Te(lt>0),cn.needed+=lt,Gt=f._webidl_malloc(lt),cn.temps.push(Gt)):(Gt=cn.buffer+cn.pos,cn.pos+=lt),Gt},copy(g,z,Ce){Ce/=z.BYTES_PER_ELEMENT;for(var lt=0;lt<g.length;lt++)z[Ce+lt]=g[lt]}};function xr(g){if("string"==typeof g){var z=(g=>{var lt=xe(g)+1,Gt=new Array(lt);Le(g,Gt,0,Gt.length);return Gt})(g),Ce=cn.alloc(z,Ie);return cn.copy(z,Ie,Ce),Ce}return g}function or(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ur(){throw"cannot construct a FileEntry, no constructor in IDL"}function Ot(){this.ptr=ms(),ce(Ot)[this.ptr]=this}function yr(g){cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),this.ptr=zs(g),ce(yr)[this.ptr]=this}function Qn(g,z){cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),z&&"object"==typeof z&&(z=z.ptr),this.ptr=yo(g,z),ce(Qn)[this.ptr]=this}function kr(g){g&&"object"==typeof g&&(g=g.ptr),this.ptr=Ks(g),ce(kr)[this.ptr]=this}function ir(g,z,Ce,lt){cn.prepare(),g&&"object"==typeof g&&(g=g.ptr),z=z&&"object"==typeof z?z.ptr:xr(z),Ce&&"object"==typeof Ce&&(Ce=Ce.ptr),lt&&"object"==typeof lt&&(lt=lt.ptr),this.ptr=Zi(g,z,Ce,lt),ce(ir)[this.ptr]=this}function sn(g,z,Ce){cn.prepare(),g&&"object"==typeof g&&(g=g.ptr),z=z&&"object"==typeof z?z.ptr:xr(z),Ce=Ce&&"object"==typeof Ce?Ce.ptr:xr(Ce),this.ptr=Ve(g,z,Ce),ce(sn)[this.ptr]=this}return(or.prototype=Object.create($.prototype)).constructor=or,or.prototype.__class__=or,or.__cache__={},f.VoidPtr=or,or.prototype.__destroy__=or.prototype.__destroy__=function(){da(this.ptr)},(ur.prototype=Object.create($.prototype)).constructor=ur,ur.prototype.__class__=ur,ur.__cache__={},f.FileEntry=ur,ur.prototype.GetName=ur.prototype.GetName=function(){return ln(it(this.ptr))},ur.prototype.IsDirectory=ur.prototype.IsDirectory=function(){return!!hs(this.ptr)},ur.prototype.GetSize=ur.prototype.GetSize=function(){return Ui(this.ptr)},ur.prototype.GetModifiedTS=ur.prototype.GetModifiedTS=function(){return gs(this.ptr)},ur.prototype.GetAttributes=ur.prototype.GetAttributes=function(){return si(this.ptr)},ur.prototype.__destroy__=ur.prototype.__destroy__=function(){fa(this.ptr)},(Ot.prototype=Object.create($.prototype)).constructor=Ot,Ot.prototype.__class__=Ot,Ot.__cache__={},f.Vfs=Ot,Ot.prototype.Malloc=Ot.prototype.Malloc=function(g){return g&&"object"==typeof g&&(g=g.ptr),Qe(Us(this.ptr,g),or)},Ot.prototype.Free=Ot.prototype.Free=function(g){g&&"object"==typeof g&&(g=g.ptr),Yo(this.ptr,g)},Ot.prototype.Nullptr=Ot.prototype.Nullptr=function(){return Qe(vs(this.ptr),or)},Ot.prototype.AllocateImage=Ot.prototype.AllocateImage=function(g){g&&"object"==typeof g&&(g=g.ptr),gi(this.ptr,g)},Ot.prototype.MountImage=Ot.prototype.MountImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),!!ys(this.ptr,g)},Ot.prototype.UnmountImage=Ot.prototype.UnmountImage=function(g){g&&"object"==typeof g&&(g=g.ptr),_s(this.ptr,g)},Ot.prototype.SwitchSlot=Ot.prototype.SwitchSlot=function(g){g&&"object"==typeof g&&(g=g.ptr),Hi(this.ptr,g)},Ot.prototype.GetPendingImageSize=Ot.prototype.GetPendingImageSize=function(){return so(this.ptr)},Ot.prototype.GetSize=Ot.prototype.GetSize=function(g){return g&&"object"==typeof g&&(g=g.ptr),mi(this.ptr,g)},Ot.prototype.GetPendingImage=Ot.prototype.GetPendingImage=function(){return Qe(Gi(this.ptr),or)},Ot.prototype.GetImage=Ot.prototype.GetImage=function(g){return g&&"object"==typeof g&&(g=g.ptr),Qe(zi(this.ptr,g),or)},Ot.prototype.GetDirtyPages=Ot.prototype.GetDirtyPages=function(g){return g&&"object"==typeof g&&(g=g.ptr),Qe(Hs(this.ptr,g),or)},Ot.prototype.RenameFile=Ot.prototype.RenameFile=function(g,z){var Ce=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),z=z&&"object"==typeof z?z.ptr:xr(z),bs(Ce,g,z)},Ot.prototype.ChmodFile=Ot.prototype.ChmodFile=function(g,z,Ce){var lt=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),z&&"object"==typeof z&&(z=z.ptr),Ce&&"object"==typeof Ce&&(Ce=Ce.ptr),ai(lt,g,z,Ce)},Ot.prototype.StatFile=Ot.prototype.StatFile=function(g){var z=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Ko(z,g)},Ot.prototype.UnlinkFile=Ot.prototype.UnlinkFile=function(g){var z=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),vi(z,g)},Ot.prototype.Mkdir=Ot.prototype.Mkdir=function(g){var z=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Wt(z,g)},Ot.prototype.GetEntry=Ot.prototype.GetEntry=function(){return Qe(dn(this.ptr),ur)},Ot.prototype.BytesFree=Ot.prototype.BytesFree=function(g){return g&&"object"==typeof g&&(g=g.ptr),pa(this.ptr,g)},Ot.prototype.BytesTotal=Ot.prototype.BytesTotal=function(g){return g&&"object"==typeof g&&(g=g.ptr),Gs(this.ptr,g)},Ot.prototype.ReadFile=Ot.prototype.ReadFile=function(g){var z=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),!!vo(z,g)},Ot.prototype.GetCurrentFileSize=Ot.prototype.GetCurrentFileSize=function(){return Cs(this.ptr)},Ot.prototype.GetCurrentFileContent=Ot.prototype.GetCurrentFileContent=function(){return Qe(ki(this.ptr),or)},Ot.prototype.ReleaseCurrentFile=Ot.prototype.ReleaseCurrentFile=function(){Wi(this.ptr)},Ot.prototype.WriteFile=Ot.prototype.WriteFile=function(g,z,Ce){var lt=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),z&&"object"==typeof z&&(z=z.ptr),Ce&&"object"==typeof Ce&&(Ce=Ce.ptr),Ss(lt,g,z,Ce)},Ot.prototype.__destroy__=Ot.prototype.__destroy__=function(){Ba(this.ptr)},(yr.prototype=Object.create($.prototype)).constructor=yr,yr.prototype.__class__=yr,yr.__cache__={},f.ReaddirContext=yr,yr.prototype.Next=yr.prototype.Next=function(){return ws(this.ptr)},yr.prototype.GetEntry=yr.prototype.GetEntry=function(){return Qe(ha(this.ptr),ur)},yr.prototype.GetStatus=yr.prototype.GetStatus=function(){return Ws(this.ptr)},yr.prototype.GetError=yr.prototype.GetError=function(){return qs(this.ptr)},yr.prototype.GetErrorDescription=yr.prototype.GetErrorDescription=function(){return ln(ga(this.ptr))},yr.prototype.__destroy__=yr.prototype.__destroy__=function(){Zs(this.ptr)},(Qn.prototype=Object.create($.prototype)).constructor=Qn,Qn.prototype.__class__=Qn,Qn.__cache__={},f.ExportZipContext=Qn,Qn.prototype.AddFile=Qn.prototype.AddFile=function(g){var z=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Qe(Ys(z,g),Qn)},Qn.prototype.AddDirectory=Qn.prototype.AddDirectory=function(g){var z=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Qe(eo(z,g),Qn)},Qn.prototype.Continue=Qn.prototype.Continue=function(){return qi(this.ptr)},Qn.prototype.GetState=Qn.prototype.GetState=function(){return ma(this.ptr)},Qn.prototype.GetZipContent=Qn.prototype.GetZipContent=function(){return Qe(ja(this.ptr),or)},Qn.prototype.GetZipSize=Qn.prototype.GetZipSize=function(){return Po(this.ptr)},Qn.prototype.GetErrorItem=Qn.prototype.GetErrorItem=function(){return ln(Es(this.ptr))},Qn.prototype.__destroy__=Qn.prototype.__destroy__=function(){va(this.ptr)},(kr.prototype=Object.create($.prototype)).constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},f.DeleteRecursiveContext=kr,kr.prototype.AddFile=kr.prototype.AddFile=function(g){var z=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Qe(oe(z,g),kr)},kr.prototype.Continue=kr.prototype.Continue=function(){return Xs(this.ptr)},kr.prototype.GetState=kr.prototype.GetState=function(){return Be(this.ptr)},kr.prototype.GetFailingPath=kr.prototype.GetFailingPath=function(){return ln(yi(this.ptr))},kr.prototype.__destroy__=kr.prototype.__destroy__=function(){ya(this.ptr)},(ir.prototype=Object.create($.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},f.UnzipContext=ir,ir.prototype.GetState=ir.prototype.GetState=function(){return Ri(this.ptr)},ir.prototype.Continue=ir.prototype.Continue=function(){return Va(this.ptr)},ir.prototype.ContinueWithOverwrite=ir.prototype.ContinueWithOverwrite=function(){return p(this.ptr)},ir.prototype.GetCurrentEntry=ir.prototype.GetCurrentEntry=function(){return ln(m(this.ptr))},ir.prototype.GetCollisionPath=ir.prototype.GetCollisionPath=function(){return ln(w(this.ptr))},ir.prototype.GetEntriesTotal=ir.prototype.GetEntriesTotal=function(){return A(this.ptr)},ir.prototype.GetEntriesSuccess=ir.prototype.GetEntriesSuccess=function(){return X(this.ptr)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){te(this.ptr)},(sn.prototype=Object.create($.prototype)).constructor=sn,sn.prototype.__class__=sn,sn.__cache__={},f.PasteContext=sn,sn.prototype.AddFile=sn.prototype.AddFile=function(g){var z=this.ptr;return cn.prepare(),g=g&&"object"==typeof g?g.ptr:xr(g),Qe(Se(z,g),sn)},sn.prototype.SetDeleteAfterCopy=sn.prototype.SetDeleteAfterCopy=function(g){return g&&"object"==typeof g&&(g=g.ptr),Qe(Ke(this.ptr,g),sn)},sn.prototype.GetState=sn.prototype.GetState=function(){return ge(this.ptr)},sn.prototype.Continue=sn.prototype.Continue=function(){return Fe(this.ptr)},sn.prototype.ContinueWithOverwrite=sn.prototype.ContinueWithOverwrite=function(){return rt(this.ptr)},sn.prototype.GetCurrentEntry=sn.prototype.GetCurrentEntry=function(){return ln(ft(this.ptr))},sn.prototype.GetCollisionPath=sn.prototype.GetCollisionPath=function(){return ln(At(this.ptr))},sn.prototype.GetEntriesSuccess=sn.prototype.GetEntriesSuccess=function(){return ht(this.ptr)},sn.prototype.__destroy__=sn.prototype.__destroy__=function(){vn(this.ptr)},be?f:new Promise((g,z)=>{Ee=g,ve=z})}));Z.exports=x,Z.exports.default=x},3016:(Z,we,_)=>{"use strict";var S=_(840),x=S("Object.prototype.toString"),L=_(1459)(),H=_(7653);if(L){var k=S("Symbol.prototype.toString"),f=H(/^Symbol\(.*\)$/);Z.exports=function(P){if("symbol"==typeof P)return!0;if(!P||"object"!=typeof P||"[object Symbol]"!==x(P))return!1;try{return function(P){return"symbol"==typeof P.valueOf()&&f(k(P))}(P)}catch{return!1}}}else Z.exports=function(P){return!1}},3028:(Z,we,_)=>{"use strict";var S=_(5979),x=_(7308),L=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,H=/[\n\r\t]/g,k=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,f=/:\d+$/,O=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,E=/^[a-zA-Z]:/;function P(W){return(W||"").toString().replace(L,"")}var R=[["#","hash"],["?","query"],function(Y,me){return D(me.protocol)?Y.replace(/\\/g,"/"):Y},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],V={hash:1,query:1};function N(W){var Y;Y=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ee,Te={},Xe=typeof(W=W||Y.location||{});if("blob:"===W.protocol)Te=new le(unescape(W.pathname),{});else if("string"===Xe)for(ee in Te=new le(W,{}),V)delete Te[ee];else if("object"===Xe){for(ee in W)ee in V||(Te[ee]=W[ee]);void 0===Te.slashes&&(Te.slashes=k.test(W.href))}return Te}function D(W){return"file:"===W||"ftp:"===W||"http:"===W||"https:"===W||"ws:"===W||"wss:"===W}function T(W,Y){W=(W=P(W)).replace(H,""),Y=Y||{};var ve,me=O.exec(W),Te=me[1]?me[1].toLowerCase():"",Xe=!!me[2],ee=!!me[3],Ee=0;return Xe?ee?(ve=me[2]+me[3]+me[4],Ee=me[2].length+me[3].length):(ve=me[2]+me[4],Ee=me[2].length):ee?(ve=me[3]+me[4],Ee=me[3].length):ve=me[4],"file:"===Te?Ee>=2&&(ve=ve.slice(2)):D(Te)?ve=me[4]:Te?Xe&&(ve=ve.slice(2)):Ee>=2&&D(Y.protocol)&&(ve=me[4]),{protocol:Te,slashes:Xe||D(Te),slashesCount:Ee,rest:ve}}function le(W,Y,me){if(W=(W=P(W)).replace(H,""),!(this instanceof le))return new le(W,Y,me);var Te,Xe,ee,Ee,ve,ue,Ie=R.slice(),B=typeof Y,K=this,je=0;for("object"!==B&&"string"!==B&&(me=Y,Y=null),me&&"function"!=typeof me&&(me=x.parse),Te=!(Xe=T(W||"",Y=N(Y))).protocol&&!Xe.slashes,K.slashes=Xe.slashes||Te&&Y.slashes,K.protocol=Xe.protocol||Y.protocol||"",W=Xe.rest,("file:"===Xe.protocol&&(2!==Xe.slashesCount||E.test(W))||!Xe.slashes&&(Xe.protocol||Xe.slashesCount<2||!D(K.protocol)))&&(Ie[3]=[/(.*)/,"pathname"]);je<Ie.length;je++)"function"!=typeof(Ee=Ie[je])?(ue=Ee[1],(ee=Ee[0])!=ee?K[ue]=W:"string"==typeof ee?~(ve="@"===ee?W.lastIndexOf(ee):W.indexOf(ee))&&("number"==typeof Ee[2]?(K[ue]=W.slice(0,ve),W=W.slice(ve+Ee[2])):(K[ue]=W.slice(ve),W=W.slice(0,ve))):(ve=ee.exec(W))&&(K[ue]=ve[1],W=W.slice(0,ve.index)),K[ue]=K[ue]||Te&&Ee[3]&&Y[ue]||"",Ee[4]&&(K[ue]=K[ue].toLowerCase())):W=Ee(W,K);me&&(K.query=me(K.query)),Te&&Y.slashes&&"/"!==K.pathname.charAt(0)&&(""!==K.pathname||""!==Y.pathname)&&(K.pathname=function se(W,Y){if(""===W)return Y;for(var me=(Y||"/").split("/").slice(0,-1).concat(W.split("/")),Te=me.length,Xe=me[Te-1],ee=!1,Ee=0;Te--;)"."===me[Te]?me.splice(Te,1):".."===me[Te]?(me.splice(Te,1),Ee++):Ee&&(0===Te&&(ee=!0),me.splice(Te,1),Ee--);return ee&&me.unshift(""),("."===Xe||".."===Xe)&&me.push(""),me.join("/")}(K.pathname,Y.pathname)),"/"!==K.pathname.charAt(0)&&D(K.protocol)&&(K.pathname="/"+K.pathname),S(K.port,K.protocol)||(K.host=K.hostname,K.port=""),K.username=K.password="",K.auth&&(~(ve=K.auth.indexOf(":"))?(K.username=K.auth.slice(0,ve),K.username=encodeURIComponent(decodeURIComponent(K.username)),K.password=K.auth.slice(ve+1),K.password=encodeURIComponent(decodeURIComponent(K.password))):K.username=encodeURIComponent(decodeURIComponent(K.auth)),K.auth=K.password?K.username+":"+K.password:K.username),K.origin="file:"!==K.protocol&&D(K.protocol)&&K.host?K.protocol+"//"+K.host:"null",K.href=K.toString()}le.prototype={set:function _e(W,Y,me){var Te=this;switch(W){case"query":"string"==typeof Y&&Y.length&&(Y=(me||x.parse)(Y)),Te[W]=Y;break;case"port":Te[W]=Y,S(Y,Te.protocol)?Y&&(Te.host=Te.hostname+":"+Y):(Te.host=Te.hostname,Te[W]="");break;case"hostname":Te[W]=Y,Te.port&&(Y+=":"+Te.port),Te.host=Y;break;case"host":Te[W]=Y,f.test(Y)?(Y=Y.split(":"),Te.port=Y.pop(),Te.hostname=Y.join(":")):(Te.hostname=Y,Te.port="");break;case"protocol":Te.protocol=Y.toLowerCase(),Te.slashes=!me;break;case"pathname":case"hash":if(Y){var Xe="pathname"===W?"/":"#";Te[W]=Y.charAt(0)!==Xe?Xe+Y:Y}else Te[W]=Y;break;case"username":case"password":Te[W]=encodeURIComponent(Y);break;case"auth":var ee=Y.indexOf(":");~ee?(Te.username=Y.slice(0,ee),Te.username=encodeURIComponent(decodeURIComponent(Te.username)),Te.password=Y.slice(ee+1),Te.password=encodeURIComponent(decodeURIComponent(Te.password))):Te.username=encodeURIComponent(decodeURIComponent(Y))}for(var Ee=0;Ee<R.length;Ee++){var ve=R[Ee];ve[4]&&(Te[ve[1]]=Te[ve[1]].toLowerCase())}return Te.auth=Te.password?Te.username+":"+Te.password:Te.username,Te.origin="file:"!==Te.protocol&&D(Te.protocol)&&Te.host?Te.protocol+"//"+Te.host:"null",Te.href=Te.toString(),Te},toString:function Q(W){(!W||"function"!=typeof W)&&(W=x.stringify);var Y,me=this,Te=me.host,Xe=me.protocol;Xe&&":"!==Xe.charAt(Xe.length-1)&&(Xe+=":");var ee=Xe+(me.protocol&&me.slashes||D(me.protocol)?"//":"");return me.username?(ee+=me.username,me.password&&(ee+=":"+me.password),ee+="@"):me.password?(ee+=":"+me.password,ee+="@"):"file:"!==me.protocol&&D(me.protocol)&&!Te&&"/"!==me.pathname&&(ee+="@"),(":"===Te[Te.length-1]||f.test(me.hostname)&&!me.port)&&(Te+=":"),ee+=Te+me.pathname,(Y="object"==typeof me.query?W(me.query):me.query)&&(ee+="?"!==Y.charAt(0)?"?"+Y:Y),me.hash&&(ee+=me.hash),ee}},le.extractProtocol=T,le.location=N,le.trimLeft=P,le.qs=x,Z.exports=le},3066:(Z,we,_)=>{"use strict";var S=_(6283),x=_(840),H=_(2521)("%ArrayBuffer%",!0),k=x("ArrayBuffer.prototype.byteLength",!0),f=x("Object.prototype.toString"),O=!!H&&!k&&new H(0).slice,E=!!O&&S(O);Z.exports=k||E?function(R){if(!R||"object"!=typeof R)return!1;try{return k?k(R):E(R,0),!0}catch{return!1}}:H?function(R){return"[object ArrayBuffer]"===f(R)}:function(R){return!1}},3112:(Z,we,_)=>{"use strict";_.d(we,{L:()=>x,a:()=>L,b:()=>H,c:()=>k,d:()=>f,g:()=>je}),_(5886);const x="ionViewWillEnter",L="ionViewDidEnter",H="ionViewWillLeave",k="ionViewDidLeave",f="ionViewWillUnload",je=U=>U.classList.contains("ion-page")?U:U.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||U},3116:Z=>{"use strict";Z.exports=Math.floor},3286:Z=>{"use strict";Z.exports=ReferenceError},3460:(Z,we,_)=>{"use strict";_.d(we,{E:()=>V,I:()=>E,a:()=>x,s:()=>P});var S=_(9335);const x=N=>{try{if(N instanceof E)return N.value;if(!k()||"string"!=typeof N||""===N)return N;if(N.includes("onload="))return"";const D=document.createDocumentFragment(),T=document.createElement("div");D.appendChild(T),T.innerHTML=N,O.forEach(Q=>{const W=D.querySelectorAll(Q);for(let Y=W.length-1;Y>=0;Y--){const me=W[Y];me.parentNode?me.parentNode.removeChild(me):D.removeChild(me);const Te=H(me);for(let Xe=0;Xe<Te.length;Xe++)L(Te[Xe])}});const se=H(D);for(let Q=0;Q<se.length;Q++)L(se[Q]);const le=document.createElement("div");le.appendChild(D);const _e=le.querySelector("div");return null!==_e?_e.innerHTML:le.innerHTML}catch(D){return(0,S.j)("sanitizeDOMString",D),""}},L=N=>{if(N.nodeType&&1!==N.nodeType)return;if(typeof NamedNodeMap<"u"&&!(N.attributes instanceof NamedNodeMap))return void N.remove();for(let T=N.attributes.length-1;T>=0;T--){const se=N.attributes.item(T),le=se.name;if(!f.includes(le.toLowerCase())){N.removeAttribute(le);continue}const _e=se.value,Q=N[le];(null!=_e&&_e.toLowerCase().includes("javascript:")||null!=Q&&Q.toLowerCase().includes("javascript:"))&&N.removeAttribute(le)}const D=H(N);for(let T=0;T<D.length;T++)L(D[T])},H=N=>null!=N.children?N.children:N.childNodes,k=()=>{var N;const D=window,T=null===(N=D?.Ionic)||void 0===N?void 0:N.config;return!T||(T.get?T.get("sanitizerEnabled",!0):!0===T.sanitizerEnabled||void 0===T.sanitizerEnabled)},f=["class","id","href","src","name","slot"],O=["script","style","iframe","meta","link","object","embed"];class E{constructor(D){this.value=D}}const P=N=>{const D=window,T=D.Ionic;if(!T||!T.config||"Object"===T.config.constructor.name)return D.Ionic=D.Ionic||{},D.Ionic.config=Object.assign(Object.assign({},D.Ionic.config),N),D.Ionic.config},V=!1},3462:Z=>{"use strict";Z.exports=Math.min},3463:(Z,we,_)=>{"use strict";var S=_(2521),x=_(6283),L=x(S("String.prototype.indexOf"));Z.exports=function(k,f){var O=S(k,!!f);return"function"==typeof O&&L(k,".prototype.")>-1?x(O):O}},3687:(Z,we,_)=>{var S="function"==typeof Map&&Map.prototype,x=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,L=S&&x&&"function"==typeof x.get?x.get:null,H=S&&Map.prototype.forEach,k="function"==typeof Set&&Set.prototype,f=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,O=k&&f&&"function"==typeof f.get?f.get:null,E=k&&Set.prototype.forEach,R="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,N="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,T="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,se=Boolean.prototype.valueOf,le=Object.prototype.toString,_e=Function.prototype.toString,Q=String.prototype.match,W=String.prototype.slice,Y=String.prototype.replace,me=String.prototype.toUpperCase,Te=String.prototype.toLowerCase,Xe=RegExp.prototype.test,ee=Array.prototype.concat,Ee=Array.prototype.join,ve=Array.prototype.slice,ue=Math.floor,Ie="function"==typeof BigInt?BigInt.prototype.valueOf:null,B=Object.getOwnPropertySymbols,K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,je="function"==typeof Symbol&&"object"==typeof Symbol.iterator,U="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ne=Object.prototype.propertyIsEnumerable,ae=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Me){return Me.__proto__}:null);function ye(Me,Pe){if(Me===1/0||Me===-1/0||Me!=Me||Me&&Me>-1e3&&Me<1e3||Xe.call(/e/,Pe))return Pe;var Kt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Me){var Hn=Me<0?-ue(-Me):ue(Me);if(Hn!==Me){var En=String(Hn),Jt=W.call(Pe,En.length+1);return Y.call(En,Kt,"$&_")+"."+Y.call(Y.call(Jt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Y.call(Pe,Kt,"$&_")}var Ne=_(2634),$e=Ne.custom,be=Sn($e)?$e:null,tt={__proto__:null,double:'"',single:"'"},St={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function Ae(Me,Pe,Kt){var En=tt[Kt.quoteStyle||Pe];return En+Me+En}function Ge(Me){return Y.call(String(Me),/"/g,"&quot;")}function mt(Me){return!U||!("object"==typeof Me&&(U in Me||typeof Me[U]<"u"))}function pt(Me){return"[object Array]"===qe(Me)&&mt(Me)}function st(Me){return"[object RegExp]"===qe(Me)&&mt(Me)}function Sn(Me){if(je)return Me&&"object"==typeof Me&&Me instanceof Symbol;if("symbol"==typeof Me)return!0;if(!Me||"object"!=typeof Me||!K)return!1;try{return K.call(Me),!0}catch{}return!1}Z.exports=function Me(Pe,Kt,Hn,En){var Jt=Kt||{};if(Mt(Jt,"quoteStyle")&&!Mt(tt,Jt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mt(Jt,"maxStringLength")&&("number"==typeof Jt.maxStringLength?Jt.maxStringLength<0&&Jt.maxStringLength!==1/0:null!==Jt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var uo=!Mt(Jt,"customInspect")||Jt.customInspect;if("boolean"!=typeof uo&&"symbol"!==uo)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mt(Jt,"indent")&&null!==Jt.indent&&"\t"!==Jt.indent&&!(parseInt(Jt.indent,10)===Jt.indent&&Jt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mt(Jt,"numericSeparator")&&"boolean"!=typeof Jt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Ur=Jt.numericSeparator;if(typeof Pe>"u")return"undefined";if(null===Pe)return"null";if("boolean"==typeof Pe)return Pe?"true":"false";if("string"==typeof Pe)return rr(Pe,Jt);if("number"==typeof Pe){if(0===Pe)return 1/0/Pe>0?"0":"-0";var Er=String(Pe);return Ur?ye(Pe,Er):Er}if("bigint"==typeof Pe){var oo=String(Pe)+"n";return Ur?ye(Pe,oo):oo}var Jr=typeof Jt.depth>"u"?5:Jt.depth;if(typeof Hn>"u"&&(Hn=0),Hn>=Jr&&Jr>0&&"object"==typeof Pe)return pt(Pe)?"[Array]":"[Object]";var Ao=function Qr(Me,Pe){var Kt;if("\t"===Me.indent)Kt="\t";else{if(!("number"==typeof Me.indent&&Me.indent>0))return null;Kt=Ee.call(Array(Me.indent+1)," ")}return{base:Kt,prev:Ee.call(Array(Pe+1),Kt)}}(Jt,Hn);if(typeof En>"u")En=[];else if(ze(En,Pe)>=0)return"[Circular]";function Dr(hn,ii,Lr){if(ii&&(En=ve.call(En)).push(ii),Lr){var xi={depth:Jt.depth};return Mt(Jt,"quoteStyle")&&(xi.quoteStyle=Jt.quoteStyle),Me(hn,xi,Hn+1,En)}return Me(hn,Jt,Hn+1,En)}if("function"==typeof Pe&&!st(Pe)){var Dn=function Oe(Me){if(Me.name)return Me.name;var Pe=Q.call(_e.call(Me),/^function\s*([\w$]+)/);return Pe?Pe[1]:null}(Pe),mo=ri(Pe,Dr);return"[Function"+(Dn?": "+Dn:" (anonymous)")+"]"+(mo.length>0?" { "+Ee.call(mo,", ")+" }":"")}if(Sn(Pe)){var oi=je?Y.call(String(Pe),/^(Symbol\(.*\))_[^)]*$/,"$1"):K.call(Pe);return"object"!=typeof Pe||je?oi:Xr(oi)}if(function Cn(Me){return!(!Me||"object"!=typeof Me)&&(typeof HTMLElement<"u"&&Me instanceof HTMLElement||"string"==typeof Me.nodeName&&"function"==typeof Me.getAttribute)}(Pe)){for(var fo="<"+Te.call(String(Pe.nodeName)),Go=Pe.attributes||[],$n=0;$n<Go.length;$n++)fo+=" "+Go[$n].name+"="+Ae(Ge(Go[$n].value),"double",Jt);return fo+=">",Pe.childNodes&&Pe.childNodes.length&&(fo+="..."),fo+"</"+Te.call(String(Pe.nodeName))+">"}if(pt(Pe)){if(0===Pe.length)return"[]";var Oo=ri(Pe,Dr);return Ao&&!function No(Me){for(var Pe=0;Pe<Me.length;Pe++)if(ze(Me[Pe],"\n")>=0)return!1;return!0}(Oo)?"["+ln(Oo,Ao)+"]":"[ "+Ee.call(Oo,", ")+" ]"}if(function Et(Me){return"[object Error]"===qe(Me)&&mt(Me)}(Pe)){var Ir=ri(Pe,Dr);return"cause"in Error.prototype||!("cause"in Pe)||ne.call(Pe,"cause")?0===Ir.length?"["+String(Pe)+"]":"{ ["+String(Pe)+"] "+Ee.call(Ir,", ")+" }":"{ ["+String(Pe)+"] "+Ee.call(ee.call("[cause]: "+Dr(Pe.cause),Ir),", ")+" }"}if("object"==typeof Pe&&uo){if(be&&"function"==typeof Pe[be]&&Ne)return Ne(Pe,{depth:Jr-Hn});if("symbol"!==uo&&"function"==typeof Pe.inspect)return Pe.inspect()}if(function dt(Me){if(!L||!Me||"object"!=typeof Me)return!1;try{L.call(Me);try{O.call(Me)}catch{return!0}return Me instanceof Map}catch{}return!1}(Pe)){var hi=[];return H&&H.call(Pe,function(hn,ii){hi.push(Dr(ii,Pe,!0)+" => "+Dr(hn,Pe))}),Vr("Map",L.call(Pe),hi,Ao)}if(function An(Me){if(!O||!Me||"object"!=typeof Me)return!1;try{O.call(Me);try{L.call(Me)}catch{return!0}return Me instanceof Set}catch{}return!1}(Pe)){var zo=[];return E&&E.call(Pe,function(hn){zo.push(Dr(hn,Pe))}),Vr("Set",O.call(Pe),zo,Ao)}if(function Qt(Me){if(!R||!Me||"object"!=typeof Me)return!1;try{R.call(Me,R);try{N.call(Me,N)}catch{return!0}return Me instanceof WeakMap}catch{}return!1}(Pe))return go("WeakMap");if(function an(Me){if(!N||!Me||"object"!=typeof Me)return!1;try{N.call(Me,N);try{R.call(Me,R)}catch{return!0}return Me instanceof WeakSet}catch{}return!1}(Pe))return go("WeakSet");if(function fn(Me){if(!T||!Me||"object"!=typeof Me)return!1;try{return T.call(Me),!0}catch{}return!1}(Pe))return go("WeakRef");if(function _t(Me){return"[object Number]"===qe(Me)&&mt(Me)}(Pe))return Xr(Dr(Number(Pe)));if(function wn(Me){if(!Me||"object"!=typeof Me||!Ie)return!1;try{return Ie.call(Me),!0}catch{}return!1}(Pe))return Xr(Dr(Ie.call(Pe)));if(function Nt(Me){return"[object Boolean]"===qe(Me)&&mt(Me)}(Pe))return Xr(se.call(Pe));if(function Ye(Me){return"[object String]"===qe(Me)&&mt(Me)}(Pe))return Xr(Dr(String(Pe)));if(typeof window<"u"&&Pe===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Pe===globalThis||typeof global<"u"&&Pe===global)return"{ [object globalThis] }";if(!function Ct(Me){return"[object Date]"===qe(Me)&&mt(Me)}(Pe)&&!st(Pe)){var Le=ri(Pe,Dr),cr=ae?ae(Pe)===Object.prototype:Pe instanceof Object||Pe.constructor===Object,Hr=Pe instanceof Object?"":"null prototype",Vn=!cr&&U&&Object(Pe)===Pe&&U in Pe?W.call(qe(Pe),8,-1):Hr?"Object":"",ji=(cr||"function"!=typeof Pe.constructor?"":Pe.constructor.name?Pe.constructor.name+" ":"")+(Vn||Hr?"["+Ee.call(ee.call([],Vn||[],Hr||[]),": ")+"] ":"");return 0===Le.length?ji+"{}":Ao?ji+"{"+ln(Le,Ao)+"}":ji+"{ "+Ee.call(Le,", ")+" }"}return String(Pe)};var qt=Object.prototype.hasOwnProperty||function(Me){return Me in this};function Mt(Me,Pe){return qt.call(Me,Pe)}function qe(Me){return le.call(Me)}function ze(Me,Pe){if(Me.indexOf)return Me.indexOf(Pe);for(var Kt=0,Hn=Me.length;Kt<Hn;Kt++)if(Me[Kt]===Pe)return Kt;return-1}function rr(Me,Pe){if(Me.length>Pe.maxStringLength){var Kt=Me.length-Pe.maxStringLength,Hn="... "+Kt+" more character"+(Kt>1?"s":"");return rr(W.call(Me,0,Pe.maxStringLength),Pe)+Hn}var En=St[Pe.quoteStyle||"single"];return En.lastIndex=0,Ae(Y.call(Y.call(Me,En,"\\$1"),/[\x00-\x1f]/g,pr),"single",Pe)}function pr(Me){var Pe=Me.charCodeAt(0),Kt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Pe];return Kt?"\\"+Kt:"\\x"+(Pe<16?"0":"")+me.call(Pe.toString(16))}function Xr(Me){return"Object("+Me+")"}function go(Me){return Me+" { ? }"}function Vr(Me,Pe,Kt,Hn){return Me+" ("+Pe+") {"+(Hn?ln(Kt,Hn):Ee.call(Kt,", "))+"}"}function ln(Me,Pe){if(0===Me.length)return"";var Kt="\n"+Pe.prev+Pe.base;return Kt+Ee.call(Me,","+Kt)+"\n"+Pe.prev}function ri(Me,Pe){var Kt=pt(Me),Hn=[];if(Kt){Hn.length=Me.length;for(var En=0;En<Me.length;En++)Hn[En]=Mt(Me,En)?Pe(Me[En],Me):""}var uo,Jt="function"==typeof B?B(Me):[];if(je){uo={};for(var Ur=0;Ur<Jt.length;Ur++)uo["$"+Jt[Ur]]=Jt[Ur]}for(var Er in Me)Mt(Me,Er)&&(Kt&&String(Number(Er))===Er&&Er<Me.length||je&&uo["$"+Er]instanceof Symbol||(Xe.call(/[^\w$]/,Er)?Hn.push(Pe(Er,Me)+": "+Pe(Me[Er],Me)):Hn.push(Er+": "+Pe(Me[Er],Me))));if("function"==typeof B)for(var oo=0;oo<Jt.length;oo++)ne.call(Me,Jt[oo])&&Hn.push("["+Pe(Jt[oo])+"]: "+Pe(Me[Jt[oo]],Me));return Hn}},3889:(Z,we,_)=>{"use strict";var S=Function.prototype.call,x=Object.prototype.hasOwnProperty,L=_(7707);Z.exports=L.call(S,x)},3933:Z=>{"use strict";var _=Object.prototype.toString,S=Math.max,L=function(O,E){for(var P=[],R=0;R<O.length;R+=1)P[R]=O[R];for(var V=0;V<E.length;V+=1)P[V+O.length]=E[V];return P};Z.exports=function(O){var E=this;if("function"!=typeof E||"[object Function]"!==_.apply(E))throw new TypeError("Function.prototype.bind called on incompatible "+E);for(var R,P=function(O){for(var P=[],R=1,V=0;R<O.length;R+=1,V+=1)P[V]=O[R];return P}(arguments),N=S(0,E.length-P.length),D=[],T=0;T<N;T++)D[T]="$"+T;if(R=Function("binder","return function ("+function(f){for(var E="",P=0;P<f.length;P+=1)E+=f[P],P+1<f.length&&(E+=",");return E}(D)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof R){var le=E.apply(this,L(P,arguments));return Object(le)===le?le:this}return E.apply(O,L(P,arguments))}),E.prototype){var se=function(){};se.prototype=E.prototype,R.prototype=new se,se.prototype=null}return R}},3948:(Z,we)=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});var _=[];_[0]=function(){return function(){}},_[1]=function(H,k){return typeof k>"u"?H:function(O){H(O,k)}};var L=function(){function H(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return H.prototype.addHandler=function(k,f){return this.isHandlerAttached(k,f)||(this._handlers.push(k),this._contexts.push(f),this._createDispatcher(),this._updateHasHandlers()),this},H.prototype.removeHandler=function(k,f){var O=this._getHandlerIndex(k,f);return typeof O<"u"&&(this._handlers.splice(O,1),this._contexts.splice(O,1),this._createDispatcher(),this._updateHasHandlers()),this},H.prototype.isHandlerAttached=function(k,f){return typeof this._getHandlerIndex(k,f)<"u"},H.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},H.prototype._getHandlerIndex=function(k,f){var E,O=this._handlers.length;for(E=0;E<O&&(this._handlers[E]!==k||this._contexts[E]!==f);E++);return E<O?E:void 0},H.prototype._createDispatcher=function(){this.dispatch=function S(H){return _[H]||(_[H]=function x(H){for(var k="return function dispatcher"+H+"(payload) {\n",f=[],O=[],E=0;E<H;E++)f.push("cb"+E),O.push("ctx"+E),k+="    cb"+E+"(payload, ctx"+E+");\n";return k+="};",new(Function.bind.apply(Function,[void 0].concat(f.concat(O),[k])))}(H)),_[H]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},H}();we.default=L},3996:Z=>{"use strict";Z.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},4198:(Z,we,_)=>{"use strict";var S=_(1143),x=_(592).supportsDescriptors,L=Object.getOwnPropertyDescriptor;Z.exports=function(){if(x&&"gim"===/a/gim.flags){var k=L(RegExp.prototype,"flags");if(k&&"function"==typeof k.get&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var f="",O={};if(Object.defineProperty(O,"hasIndices",{get:function(){f+="d"}}),Object.defineProperty(O,"sticky",{get:function(){f+="y"}}),k.get.call(O),"dy"===f)return k.get}}return S}},4880:Z=>{"use strict";Z.exports=SyntaxError},4896:(Z,we,_)=>{"use strict";_.r(we),_.d(we,{MENU_BACK_BUTTON_PRIORITY:()=>E,OVERLAY_BACK_BUTTON_PRIORITY:()=>O,blockHardwareBackButton:()=>k,shouldUseCloseWatcher:()=>H,startHardwareBackButton:()=>f});var S=_(1890),x=_(575),L=_(9335);const H=()=>L.e.get("experimentalCloseWatcher",!1)&&void 0!==x.w&&"CloseWatcher"in x.w,k=()=>{document.addEventListener("backbutton",()=>{})},f=()=>{const P=document;let R=!1;const V=()=>{if(R)return;let N=0,D=[];const T=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(_e,Q){D.push({priority:_e,handler:Q,id:N++})}}});P.dispatchEvent(T);const se=function(){var _e=(0,S.A)(function*(Q){try{if(Q?.handler){const W=Q.handler(le);null!=W&&(yield W)}}catch(W){(0,L.j)("[ion-app] - Exception in startHardwareBackButton:",W)}});return function(W){return _e.apply(this,arguments)}}(),le=()=>{if(D.length>0){let _e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};D.forEach(Q=>{Q.priority>=_e.priority&&(_e=Q)}),R=!0,D=D.filter(Q=>Q.id!==_e.id),se(_e).then(()=>R=!1)}};le()};if(H()){let N;const D=()=>{N?.destroy(),N=new x.w.CloseWatcher,N.onclose=()=>{V(),D()}};D()}else P.addEventListener("backbutton",V)},O=100,E=99},5e3:Z=>{function we(S,x,L,H,k,f,O){try{var E=S[f](O),P=E.value}catch(R){return void L(R)}E.done?x(P):Promise.resolve(P).then(H,k)}Z.exports=function _(S){return function(){var x=this,L=arguments;return new Promise(function(H,k){var f=S.apply(x,L);function O(P){we(f,H,k,O,E,"next",P)}function E(P){we(f,H,k,O,E,"throw",P)}O(void 0)})}},Z.exports.__esModule=!0,Z.exports.default=Z.exports},5028:(Z,we,_)=>{"use strict";var S=_(2521),x=_(840),L=S("%WeakSet%",!0),H=x("WeakSet.prototype.has",!0);if(H){var k=x("WeakMap.prototype.has",!0);Z.exports=function(O){if(!O||"object"!=typeof O)return!1;try{if(H(O,H),k)try{k(O,k)}catch{return!0}return O instanceof L}catch{}return!1}}else Z.exports=function(O){return!1}},5124:(Z,we,_)=>{"use strict";var S=_(7707),x=_(814),L=_(7648),H=_(8963);Z.exports=H||S.call(L,x)},5217:Z=>{"use strict";var S,we="function"==typeof Map&&Map.prototype?Map:null,_="function"==typeof Set&&Set.prototype?Set:null;we||(S=function(k){return!1});var x=we?Map.prototype.has:null,L=_?Set.prototype.has:null;!S&&!x&&(S=function(k){return!1}),Z.exports=S||function(k){if(!k||"object"!=typeof k)return!1;try{if(x.call(k),L)try{L.call(k)}catch{return!0}return k instanceof we}catch{}return!1}},5328:(Z,we,_)=>{"use strict";var S=_(6497);Z.exports=function(){return S()&&!!Symbol.toStringTag}},5370:Z=>{"use strict";var we=function(){return"string"==typeof function(){}.name},_=Object.getOwnPropertyDescriptor;if(_)try{_([],"length")}catch{_=null}we.functionsHaveConfigurableNames=function(){if(!we()||!_)return!1;var L=_(function(){},"name");return!!L&&!!L.configurable};var S=Function.prototype.bind;we.boundFunctionsHaveNames=function(){return we()&&"function"==typeof S&&""!==function(){}.bind().name},Z.exports=we},5492:(Z,we,_)=>{"use strict";var S=_(8519),x=_(3687),L=_(863),H=_(2375),f=_(603)||H||L;Z.exports=function(){var E,P={assert:function(R){if(!P.has(R))throw new S("Side channel does not contain "+x(R))},delete:function(R){return!!E&&E.delete(R)},get:function(R){return E&&E.get(R)},has:function(R){return!!E&&E.has(R)},set:function(R,V){E||(E=f()),E.set(R,V)}};return P}},5500:(Z,we,_)=>{"use strict";var S=_(840),x=S("Date.prototype.getDay"),H=S("Object.prototype.toString"),f=_(5328)();Z.exports=function(E){return"object"==typeof E&&null!==E&&(f?function(E){try{return x(E),!0}catch{return!1}}(E):"[object Date]"===H(E))}},5557:(Z,we,_)=>{"use strict";var S=_(2521),x=_(1197),L=_(6652)(),H=_(9263),k=_(8519),f=S("%Math.floor%");Z.exports=function(E,P){if("function"!=typeof E)throw new k("`fn` is not a function");if("number"!=typeof P||P<0||P>4294967295||f(P)!==P)throw new k("`length` must be a positive 32-bit integer");var R=arguments.length>2&&!!arguments[2],V=!0,N=!0;if("length"in E&&H){var D=H(E,"length");D&&!D.configurable&&(V=!1),D&&!D.writable&&(N=!1)}return(V||N||!R)&&(L?x(E,"length",P,!0,!0):x(E,"length",P)),E}},5712:(Z,we,_)=>{"use strict";var S=_(2179),x=_(4880),L="object"==typeof StopIteration?StopIteration:null;Z.exports=function(k){if(!L)throw new x("this environment lacks StopIteration");S.set(k,"[[Done]]",!1);var f={next:function(){var E=S.get(this,"[[Iterator]]"),P=!!S.get(E,"[[Done]]");try{return{done:P,value:P?void 0:E.next()}}catch(R){if(S.set(E,"[[Done]]",!0),R!==L)throw R;return{done:!0,value:void 0}}}};return S.set(f,"[[Iterator]]",k),f}},5714:Z=>{"use strict";Z.exports=Math.round},5757:(Z,we,_)=>{"use strict";var S=_(5217),x=_(9116),L=_(9462),H=_(5028);Z.exports=function(f){if(f&&"object"==typeof f){if(S(f))return"Map";if(x(f))return"Set";if(L(f))return"WeakMap";if(H(f))return"WeakSet"}return!1}},5796:(Z,we,_)=>{"use strict";var S=_(9110),x=_(592);Z.exports=function(){var H=S();return x(Object,{is:H},{is:function(){return Object.is!==H}}),H}},5827:(Z,we,_)=>{"use strict";_.d(we,{C:()=>k,a:()=>L,d:()=>H});var S=_(1890),x=_(6721);const L=function(){var f=(0,S.A)(function*(O,E,P,R,V,N){var D;if(O)return O.attachViewToDom(E,P,V,R);if(!(N||"string"==typeof P||P instanceof HTMLElement))throw new Error("framework delegate is missing");const T="string"==typeof P?null===(D=E.ownerDocument)||void 0===D?void 0:D.createElement(P):P;return R&&R.forEach(se=>T.classList.add(se)),V&&Object.assign(T,V),E.appendChild(T),yield new Promise(se=>(0,x.c)(T,se)),T});return function(E,P,R,V,N,D){return f.apply(this,arguments)}}(),H=(f,O)=>{if(O){if(f)return f.removeViewFromDom(O.parentElement,O);O.remove()}return Promise.resolve()},k=()=>{let f,O;return{attachViewToDom:function(){var R=(0,S.A)(function*(V,N,D={},T=[]){var se,le;let _e;if(f=V,N){const W="string"==typeof N?null===(se=f.ownerDocument)||void 0===se?void 0:se.createElement(N):N;T.forEach(Y=>W.classList.add(Y)),Object.assign(W,D),f.appendChild(W),_e=W,yield new Promise(Y=>(0,x.c)(W,Y))}else if(f.children.length>0&&("ION-MODAL"===f.tagName||"ION-POPOVER"===f.tagName)&&!(_e=f.children[0]).classList.contains("ion-delegate-host")){const Y=null===(le=f.ownerDocument)||void 0===le?void 0:le.createElement("div");Y.classList.add("ion-delegate-host"),T.forEach(me=>Y.classList.add(me)),Y.append(...f.children),f.appendChild(Y),_e=Y}const Q=document.querySelector("ion-app")||document.body;return O=document.createComment("ionic teleport"),f.parentNode.insertBefore(O,f),Q.appendChild(f),_e??f});return function(N,D){return R.apply(this,arguments)}}(),removeViewFromDom:()=>(f&&O&&(O.parentNode.insertBefore(f,O),O.remove()),Promise.resolve())}}},5831:(Z,we,_)=>{"use strict";var k,S=_(840),x=_(5328)(),L=_(3889),H=_(9263);if(x){var f=S("RegExp.prototype.exec"),O={},E=function(){throw O},P={toString:E,valueOf:E};"symbol"==typeof Symbol.toPrimitive&&(P[Symbol.toPrimitive]=E),k=function(D){if(!D||"object"!=typeof D)return!1;var T=H(D,"lastIndex");if(!T||!L(T,"value"))return!1;try{f(D,P)}catch(le){return le===O}}}else{var R=S("Object.prototype.toString");k=function(D){return!(!D||"object"!=typeof D&&"function"!=typeof D)&&"[object RegExp]"===R(D)}}Z.exports=k},5860:(Z,we,_)=>{"use strict";_.r(we),_.d(we,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>P});var S=_(566);const x=(D,T,se,le)=>{const _e=!!L(D)&&{capture:!1,passive:!!le.passive};let Q,W;return D.__zone_symbol__addEventListener?(Q="__zone_symbol__addEventListener",W="__zone_symbol__removeEventListener"):(Q="addEventListener",W="removeEventListener"),D[Q](T,se,_e),()=>{D[W](T,se,_e)}},L=D=>{if(void 0===H)try{const T=Object.defineProperty({},"passive",{get:()=>{H=!0}});D.addEventListener("optsTest",()=>{},T)}catch{H=!1}return!!H};let H;const O=D=>D instanceof Document?D:D.ownerDocument,P=D=>{let T=!1,se=!1,le=!0,_e=!1;const Q=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},D),W=Q.canStart,Y=Q.onWillStart,me=Q.onStart,Te=Q.onEnd,Xe=Q.notCaptured,ee=Q.onMove,Ee=Q.threshold,ve=Q.passive,ue=Q.blurOnStart,Ie={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},B=((D,T,se)=>{const le=se*(Math.PI/180),_e="x"===D,Q=Math.cos(le),W=T*T;let Y=0,me=0,Te=!1,Xe=0;return{start(ee,Ee){Y=ee,me=Ee,Xe=0,Te=!0},detect(ee,Ee){if(!Te)return!1;const ve=ee-Y,ue=Ee-me,Ie=ve*ve+ue*ue;if(Ie<W)return!1;const B=Math.sqrt(Ie),K=(_e?ve:ue)/B;return Xe=K>Q?1:K<-Q?-1:0,Te=!1,!0},isGesture:()=>0!==Xe,getDirection:()=>Xe}})(Q.direction,Q.threshold,Q.maxAngle),K=S.G.createGesture({name:D.gestureName,priority:D.gesturePriority,disableScroll:D.disableScroll}),ne=()=>{T&&(_e=!1,ee&&ee(Ie))},ae=()=>!!K.capture()&&(T=!0,le=!1,Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime,Y?Y(Ie).then(Ne):Ne(),!0),Ne=()=>{ue&&(()=>{if(typeof document<"u"){const Ae=document.activeElement;Ae?.blur&&Ae.blur()}})(),me&&me(Ie),le=!0},$e=()=>{T=!1,se=!1,_e=!1,le=!0,K.release()},be=Ae=>{const Ge=T,mt=le;if($e(),mt){if(R(Ie,Ae),Ge)return void(Te&&Te(Ie));Xe&&Xe(Ie)}},tt=((D,T,se,le,_e)=>{let Q,W,Y,me,Te,Xe,ee,Ee=0;const ve=ye=>{Ee=Date.now()+2e3,T(ye)&&(!W&&se&&(W=x(D,"touchmove",se,_e)),Y||(Y=x(ye.target,"touchend",Ie,_e)),me||(me=x(ye.target,"touchcancel",Ie,_e)))},ue=ye=>{Ee>Date.now()||T(ye)&&(!Xe&&se&&(Xe=x(O(D),"mousemove",se,_e)),ee||(ee=x(O(D),"mouseup",B,_e)))},Ie=ye=>{K(),le&&le(ye)},B=ye=>{je(),le&&le(ye)},K=()=>{W&&W(),Y&&Y(),me&&me(),W=Y=me=void 0},je=()=>{Xe&&Xe(),ee&&ee(),Xe=ee=void 0},U=()=>{K(),je()},ne=(ye=!0)=>{ye?(Q||(Q=x(D,"touchstart",ve,_e)),Te||(Te=x(D,"mousedown",ue,_e))):(Q&&Q(),Te&&Te(),Q=Te=void 0,U())};return{enable:ne,stop:U,destroy:()=>{ne(!1),le=se=T=void 0}}})(Q.el,Ae=>{const Ge=N(Ae);return!(se||!le||(V(Ae,Ie),Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime=Ge,Ie.velocityX=Ie.velocityY=Ie.deltaX=Ie.deltaY=0,Ie.event=Ae,W&&!1===W(Ie))||(K.release(),!K.start()))&&(se=!0,0===Ee?ae():(B.start(Ie.startX,Ie.startY),!0))},Ae=>{T?!_e&&le&&(_e=!0,R(Ie,Ae),requestAnimationFrame(ne)):(R(Ie,Ae),B.detect(Ie.currentX,Ie.currentY)&&(!B.isGesture()||!ae())&&St())},be,{passive:ve}),St=()=>{$e(),tt.stop(),Xe&&Xe(Ie)};return{enable(Ae=!0){Ae||(T&&be(void 0),$e()),tt.enable(Ae)},destroy(){K.destroy(),tt.destroy()}}},R=(D,T)=>{if(!T)return;const se=D.currentX,le=D.currentY,_e=D.currentTime;V(T,D);const Q=D.currentX,W=D.currentY,me=(D.currentTime=N(T))-_e;if(me>0&&me<100){const Xe=(W-le)/me;D.velocityX=(Q-se)/me*.7+.3*D.velocityX,D.velocityY=.7*Xe+.3*D.velocityY}D.deltaX=Q-D.startX,D.deltaY=W-D.startY,D.event=T},V=(D,T)=>{let se=0,le=0;if(D){const _e=D.changedTouches;if(_e&&_e.length>0){const Q=_e[0];se=Q.clientX,le=Q.clientY}else void 0!==D.pageX&&(se=D.pageX,le=D.pageY)}T.currentX=se,T.currentY=le},N=D=>D.timeStamp||Date.now()},5886:(Z,we,_)=>{"use strict";_.d(we,{a:()=>V,c:()=>x,p:()=>R});class S{constructor(){this.m=new Map}reset(T){this.m=new Map(Object.entries(T))}get(T,se){const le=this.m.get(T);return void 0!==le?le:se}getBoolean(T,se=!1){const le=this.m.get(T);return void 0===le?se:"string"==typeof le?"true"===le:!!le}getNumber(T,se){const le=parseFloat(this.m.get(T));return isNaN(le)?void 0!==se?se:NaN:le}set(T,se){this.m.set(T,se)}}const x=new S;var P=function(D){return D.OFF="OFF",D.ERROR="ERROR",D.WARN="WARN",D}(P||{});const R=(D,...T)=>{const se=x.get("logLevel",P.WARN);if([P.WARN].includes(se))return console.warn(`[Ionic Warning]: ${D}`,...T)},V=(D,...T)=>{const se=x.get("logLevel",P.ERROR);if([P.ERROR,P.WARN].includes(se))return console.error(`[Ionic Error]: ${D}`,...T)}},5979:Z=>{"use strict";Z.exports=function(_,S){if(S=S.split(":")[0],!(_=+_))return!1;switch(S){case"http":case"ws":return 80!==_;case"https":case"wss":return 443!==_;case"ftp":return 21!==_;case"gopher":return 70!==_;case"file":return!1}return 0!==_}},5989:(Z,we,_)=>{"use strict";_.d(we,{m:()=>D});var S=_(1890),x=_(575),L=_(4896),H=_(9335),k=_(6721),f=_(9919),O=_(7133);const E=T=>(0,O.c)().duration(T?400:300),P=T=>{let se,le;const _e=T.width+8,Q=(0,O.c)(),W=(0,O.c)();T.isEndSide?(se=_e+"px",le="0px"):(se=-_e+"px",le="0px"),Q.addElement(T.menuInnerEl).fromTo("transform",`translateX(${se})`,`translateX(${le})`);const me="ios"===(0,f.b)(T),Te=me?.2:.25;return W.addElement(T.backdropEl).fromTo("opacity",.01,Te),E(me).addAnimation([Q,W])},R=T=>{let se,le;const _e=(0,f.b)(T),Q=T.width;T.isEndSide?(se=-Q+"px",le=Q+"px"):(se=Q+"px",le=-Q+"px");const W=(0,O.c)().addElement(T.menuInnerEl).fromTo("transform",`translateX(${le})`,"translateX(0px)"),Y=(0,O.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${se})`),me=(0,O.c)().addElement(T.backdropEl).fromTo("opacity",.01,.32);return E("ios"===_e).addAnimation([W,Y,me])},V=T=>{const se=(0,f.b)(T),le=T.width*(T.isEndSide?-1:1)+"px",_e=(0,O.c)().addElement(T.contentEl).fromTo("transform","translateX(0px)",`translateX(${le})`);return E("ios"===se).addAnimation(_e)},D=(()=>{const T=new Map,se=[],le=function(){var $e=(0,S.A)(function*(be){const tt=yield Xe(be,!0);return!!tt&&tt.open()});return function(tt){return $e.apply(this,arguments)}}(),_e=function(){var $e=(0,S.A)(function*(be){const tt=yield void 0!==be?Xe(be,!0):ee();return void 0!==tt&&tt.close()});return function(tt){return $e.apply(this,arguments)}}(),Q=function(){var $e=(0,S.A)(function*(be){const tt=yield Xe(be,!0);return!!tt&&tt.toggle()});return function(tt){return $e.apply(this,arguments)}}(),W=function(){var $e=(0,S.A)(function*(be,tt){const St=yield Xe(tt);return St&&(St.disabled=!be),St});return function(tt,St){return $e.apply(this,arguments)}}(),Y=function(){var $e=(0,S.A)(function*(be,tt){const St=yield Xe(tt);return St&&(St.swipeGesture=be),St});return function(tt,St){return $e.apply(this,arguments)}}(),me=function(){var $e=(0,S.A)(function*(be){if(null!=be){const tt=yield Xe(be);return void 0!==tt&&tt.isOpen()}return void 0!==(yield ee())});return function(tt){return $e.apply(this,arguments)}}(),Te=function(){var $e=(0,S.A)(function*(be){const tt=yield Xe(be);return!!tt&&!tt.disabled});return function(tt){return $e.apply(this,arguments)}}(),Xe=function(){var $e=(0,S.A)(function*(be,tt=!1){if(yield Ne(),"start"===be||"end"===be){const Ae=se.filter(mt=>mt.side===be&&!mt.disabled);if(Ae.length>=1)return Ae.length>1&&tt&&(0,H.f)(`menuController queried for a menu on the "${be}" side, but ${Ae.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ae.map(mt=>mt.el)),Ae[0].el;const Ge=se.filter(mt=>mt.side===be);if(Ge.length>=1)return Ge.length>1&&tt&&(0,H.f)(`menuController queried for a menu on the "${be}" side, but ${Ge.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ge.map(mt=>mt.el)),Ge[0].el}else if(null!=be)return ye(Ae=>Ae.menuId===be);return ye(Ae=>!Ae.disabled)||(se.length>0?se[0].el:void 0)});return function(tt){return $e.apply(this,arguments)}}(),ee=function(){var $e=(0,S.A)(function*(){return yield Ne(),U()});return function(){return $e.apply(this,arguments)}}(),Ee=function(){var $e=(0,S.A)(function*(){return yield Ne(),ne()});return function(){return $e.apply(this,arguments)}}(),ve=function(){var $e=(0,S.A)(function*(){return yield Ne(),ae()});return function(){return $e.apply(this,arguments)}}(),ue=($e,be)=>{T.set($e,be)},K=function(){var $e=(0,S.A)(function*(be,tt,St,Ae){if(ae())return!1;if(tt){const Ge=yield ee();Ge&&be.el!==Ge&&(yield Ge.setOpen(!1,!1))}return be._setOpen(tt,St,Ae)});return function(tt,St,Ae,Ge){return $e.apply(this,arguments)}}(),U=()=>ye($e=>$e._isOpen),ne=()=>se.map($e=>$e.el),ae=()=>se.some($e=>$e.isAnimating),ye=$e=>{const be=se.find($e);if(void 0!==be)return be.el},Ne=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map($e=>new Promise(be=>(0,k.c)($e,be))));return ue("reveal",V),ue("push",R),ue("overlay",P),null==x.d||x.d.addEventListener("ionBackButton",$e=>{const be=U();be&&$e.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>be.close())}),{registerAnimation:ue,get:Xe,getMenus:Ee,getOpen:ee,isEnabled:Te,swipeGesture:Y,isAnimating:ve,isOpen:me,enable:W,toggle:Q,close:_e,open:le,_getOpenSync:U,_createAnimation:($e,be)=>{const tt=T.get($e);if(!tt)throw new Error("animation not registered");return tt(be)},_register:$e=>{se.indexOf($e)<0&&se.push($e)},_unregister:$e=>{const be=se.indexOf($e);be>-1&&se.splice(be,1)},_setOpen:K}})()},6062:(Z,we,_)=>{"use strict";var S=_(7268),x=Object.prototype.toString,L=Object.prototype.hasOwnProperty;Z.exports=function(P,R,V){if(!S(R))throw new TypeError("iterator must be a function");var N;arguments.length>=3&&(N=V),function O(E){return"[object Array]"===x.call(E)}(P)?function(P,R,V){for(var N=0,D=P.length;N<D;N++)L.call(P,N)&&(null==V?R(P[N],N,P):R.call(V,P[N],N,P))}(P,R,N):"string"==typeof P?function(P,R,V){for(var N=0,D=P.length;N<D;N++)null==V?R(P.charAt(N),N,P):R.call(V,P.charAt(N),N,P)}(P,R,N):function(P,R,V){for(var N in P)L.call(P,N)&&(null==V?R(P[N],N,P):R.call(V,P[N],N,P))}(P,R,N)}},6243:(Z,we,_)=>{var S,x,L,H,k;S=_(7031),x=_(8251).utf8,L=_(2490),H=_(8251).bin,(k=function(f,O){f.constructor==String?f=O&&"binary"===O.encoding?H.stringToBytes(f):x.stringToBytes(f):L(f)?f=Array.prototype.slice.call(f,0):!Array.isArray(f)&&f.constructor!==Uint8Array&&(f=f.toString());for(var E=S.bytesToWords(f),P=8*f.length,R=1732584193,V=-271733879,N=-1732584194,D=271733878,T=0;T<E.length;T++)E[T]=16711935&(E[T]<<8|E[T]>>>24)|4278255360&(E[T]<<24|E[T]>>>8);E[P>>>5]|=128<<P%32,E[14+(P+64>>>9<<4)]=P;var se=k._ff,le=k._gg,_e=k._hh,Q=k._ii;for(T=0;T<E.length;T+=16){var W=R,Y=V,me=N,Te=D;R=se(R,V,N,D,E[T+0],7,-680876936),D=se(D,R,V,N,E[T+1],12,-389564586),N=se(N,D,R,V,E[T+2],17,606105819),V=se(V,N,D,R,E[T+3],22,-1044525330),R=se(R,V,N,D,E[T+4],7,-176418897),D=se(D,R,V,N,E[T+5],12,1200080426),N=se(N,D,R,V,E[T+6],17,-1473231341),V=se(V,N,D,R,E[T+7],22,-45705983),R=se(R,V,N,D,E[T+8],7,1770035416),D=se(D,R,V,N,E[T+9],12,-1958414417),N=se(N,D,R,V,E[T+10],17,-42063),V=se(V,N,D,R,E[T+11],22,-1990404162),R=se(R,V,N,D,E[T+12],7,1804603682),D=se(D,R,V,N,E[T+13],12,-40341101),N=se(N,D,R,V,E[T+14],17,-1502002290),R=le(R,V=se(V,N,D,R,E[T+15],22,1236535329),N,D,E[T+1],5,-165796510),D=le(D,R,V,N,E[T+6],9,-1069501632),N=le(N,D,R,V,E[T+11],14,643717713),V=le(V,N,D,R,E[T+0],20,-373897302),R=le(R,V,N,D,E[T+5],5,-701558691),D=le(D,R,V,N,E[T+10],9,38016083),N=le(N,D,R,V,E[T+15],14,-660478335),V=le(V,N,D,R,E[T+4],20,-405537848),R=le(R,V,N,D,E[T+9],5,568446438),D=le(D,R,V,N,E[T+14],9,-1019803690),N=le(N,D,R,V,E[T+3],14,-187363961),V=le(V,N,D,R,E[T+8],20,1163531501),R=le(R,V,N,D,E[T+13],5,-1444681467),D=le(D,R,V,N,E[T+2],9,-51403784),N=le(N,D,R,V,E[T+7],14,1735328473),R=_e(R,V=le(V,N,D,R,E[T+12],20,-1926607734),N,D,E[T+5],4,-378558),D=_e(D,R,V,N,E[T+8],11,-2022574463),N=_e(N,D,R,V,E[T+11],16,1839030562),V=_e(V,N,D,R,E[T+14],23,-35309556),R=_e(R,V,N,D,E[T+1],4,-1530992060),D=_e(D,R,V,N,E[T+4],11,1272893353),N=_e(N,D,R,V,E[T+7],16,-155497632),V=_e(V,N,D,R,E[T+10],23,-1094730640),R=_e(R,V,N,D,E[T+13],4,681279174),D=_e(D,R,V,N,E[T+0],11,-358537222),N=_e(N,D,R,V,E[T+3],16,-722521979),V=_e(V,N,D,R,E[T+6],23,76029189),R=_e(R,V,N,D,E[T+9],4,-640364487),D=_e(D,R,V,N,E[T+12],11,-421815835),N=_e(N,D,R,V,E[T+15],16,530742520),R=Q(R,V=_e(V,N,D,R,E[T+2],23,-995338651),N,D,E[T+0],6,-198630844),D=Q(D,R,V,N,E[T+7],10,1126891415),N=Q(N,D,R,V,E[T+14],15,-1416354905),V=Q(V,N,D,R,E[T+5],21,-57434055),R=Q(R,V,N,D,E[T+12],6,1700485571),D=Q(D,R,V,N,E[T+3],10,-1894986606),N=Q(N,D,R,V,E[T+10],15,-1051523),V=Q(V,N,D,R,E[T+1],21,-2054922799),R=Q(R,V,N,D,E[T+8],6,1873313359),D=Q(D,R,V,N,E[T+15],10,-30611744),N=Q(N,D,R,V,E[T+6],15,-1560198380),V=Q(V,N,D,R,E[T+13],21,1309151649),R=Q(R,V,N,D,E[T+4],6,-145523070),D=Q(D,R,V,N,E[T+11],10,-1120210379),N=Q(N,D,R,V,E[T+2],15,718787259),V=Q(V,N,D,R,E[T+9],21,-343485551),R=R+W>>>0,V=V+Y>>>0,N=N+me>>>0,D=D+Te>>>0}return S.endian([R,V,N,D])})._ff=function(f,O,E,P,R,V,N){var D=f+(O&E|~O&P)+(R>>>0)+N;return(D<<V|D>>>32-V)+O},k._gg=function(f,O,E,P,R,V,N){var D=f+(O&P|E&~P)+(R>>>0)+N;return(D<<V|D>>>32-V)+O},k._hh=function(f,O,E,P,R,V,N){var D=f+(O^E^P)+(R>>>0)+N;return(D<<V|D>>>32-V)+O},k._ii=function(f,O,E,P,R,V,N){var D=f+(E^(O|~P))+(R>>>0)+N;return(D<<V|D>>>32-V)+O},k._blocksize=16,k._digestsize=16,Z.exports=function(f,O){if(null==f)throw new Error("Illegal argument "+f);var E=S.wordsToBytes(k(f,O));return O&&O.asBytes?E:O&&O.asString?H.bytesToString(E):S.bytesToHex(E)}},6283:(Z,we,_)=>{"use strict";var S=_(5557),x=_(1963),L=_(2282),H=_(9713);Z.exports=function(f){var O=L(arguments),E=f.length-(arguments.length-1);return S(O,1+(E>0?E:0),!0)},x?x(Z.exports,"apply",{value:H}):Z.exports.apply=H},6321:Z=>{"use strict";var we=Object.prototype.toString;Z.exports=function(S){var x=we.call(S),L="[object Arguments]"===x;return L||(L="[object Array]"!==x&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===we.call(S.callee)),L}},6330:(Z,we,_)=>{"use strict";var S=_(1197),x=_(6652)(),L=_(5370).functionsHaveConfigurableNames(),H=_(8519);Z.exports=function(f,O){if("function"!=typeof f)throw new H("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||L)&&(x?S(f,"name",O,!0,!0):S(f,"name",O)),f}},6484:(Z,we,_)=>{"use strict";var S=_(840),x=S("Boolean.prototype.toString"),L=S("Object.prototype.toString"),f=_(5328)();Z.exports=function(E){return"boolean"==typeof E||null!==E&&"object"==typeof E&&(f?function(E){try{return x(E),!0}catch{return!1}}(E):"[object Boolean]"===L(E))}},6497:Z=>{"use strict";Z.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var _={},S=Symbol("test"),x=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(x))return!1;for(var H in _[S]=42,_)return!1;if("function"==typeof Object.keys&&0!==Object.keys(_).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(_).length)return!1;var k=Object.getOwnPropertySymbols(_);if(1!==k.length||k[0]!==S||!Object.prototype.propertyIsEnumerable.call(_,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var f=Object.getOwnPropertyDescriptor(_,S);if(42!==f.value||!0!==f.enumerable)return!1}return!0}},6547:(Z,we,_)=>{"use strict";var S=_(6062),x=_(9819),L=_(6283),H=_(840),k=_(9263),f=_(1568),O=H("Object.prototype.toString"),E=_(5328)(),P=typeof globalThis>"u"?global:globalThis,R=x(),V=H("String.prototype.slice"),N=H("Array.prototype.indexOf",!0)||function(_e,Q){for(var W=0;W<_e.length;W+=1)if(_e[W]===Q)return W;return-1},D={__proto__:null};S(R,E&&k&&f?function(le){var _e=new P[le];if(Symbol.toStringTag in _e&&f){var Q=f(_e),W=k(Q,Symbol.toStringTag);if(!W&&Q){var Y=f(Q);W=k(Y,Symbol.toStringTag)}D["$"+le]=L(W.get)}}:function(le){var _e=new P[le],Q=_e.slice||_e.set;Q&&(D["$"+le]=L(Q))}),Z.exports=function(_e){if(!_e||"object"!=typeof _e)return!1;if(!E){var Q=V(O(_e),8,-1);return N(R,Q)>-1?Q:"Object"===Q&&function(_e){var Q=!1;return S(D,function(W,Y){if(!Q)try{W(_e),Q=V(Y,1)}catch{}}),Q}(_e)}return k?function(_e){var Q=!1;return S(D,function(W,Y){if(!Q)try{"$"+W(_e)===Y&&(Q=V(Y,1))}catch{}}),Q}(_e):null}},6652:(Z,we,_)=>{"use strict";var S=_(1963),x=function(){return!!S};x.hasArrayLengthDefineBug=function(){if(!S)return null;try{return 1!==S([],"length",{value:1}).length}catch{return!0}},Z.exports=x},6721:(Z,we,_)=>{"use strict";_.d(we,{a:()=>se,b:()=>f,c:()=>H,d:()=>Y,e:()=>le,f:()=>P,g:()=>V,h:()=>k,i:()=>E,j:()=>Xe,k:()=>D,l:()=>_e,m:()=>R,n:()=>T,o:()=>W,p:()=>me,q:()=>Q,r:()=>N,s:()=>Te,t:()=>x});var S=_(9335);const x=(ee,Ee=0)=>new Promise(ve=>{L(ee,Ee,ve)}),L=(ee,Ee=0,ve)=>{let ue,Ie;const B={passive:!0},je=()=>{ue&&ue()},U=ne=>{(void 0===ne||ee===ne.target)&&(je(),ve(ne))};return ee&&(ee.addEventListener("webkitTransitionEnd",U,B),ee.addEventListener("transitionend",U,B),Ie=setTimeout(U,Ee+500),ue=()=>{void 0!==Ie&&(clearTimeout(Ie),Ie=void 0),ee.removeEventListener("webkitTransitionEnd",U,B),ee.removeEventListener("transitionend",U,B)}),je},H=(ee,Ee)=>{ee.componentOnReady?ee.componentOnReady().then(ve=>Ee(ve)):N(()=>Ee(ee))},k=ee=>void 0!==ee.componentOnReady,f=(ee,Ee=[])=>{const ve={};return Ee.forEach(ue=>{ee.hasAttribute(ue)&&(null!==ee.getAttribute(ue)&&(ve[ue]=ee.getAttribute(ue)),ee.removeAttribute(ue))}),ve},O=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],E=(ee,Ee)=>f(ee,O),P=(ee,Ee,ve,ue)=>ee.addEventListener(Ee,ve,ue),R=(ee,Ee,ve,ue)=>ee.removeEventListener(Ee,ve,ue),V=(ee,Ee=ee)=>ee.shadowRoot||Ee,N=ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(ee):setTimeout(ee),D=ee=>!!ee.shadowRoot&&!!ee.attachShadow,T=ee=>{if(ee.focus(),ee.classList.contains("ion-focusable")){const Ee=ee.closest("ion-app");Ee&&Ee.setFocus([ee])}},se=(ee,Ee,ve,ue,Ie)=>{{let B=Ee.querySelector("input.aux-input");B||(B=Ee.ownerDocument.createElement("input"),B.type="hidden",B.classList.add("aux-input"),Ee.appendChild(B)),B.disabled=Ie,B.name=ve,B.value=ue||""}},le=(ee,Ee,ve)=>Math.max(ee,Math.min(Ee,ve)),_e=(ee,Ee)=>{if(!ee){const ve="ASSERT: "+Ee;throw(0,S.j)(ve),new Error(ve)}},Q=ee=>{if(ee){const Ee=ee.changedTouches;if(Ee&&Ee.length>0){const ve=Ee[0];return{x:ve.clientX,y:ve.clientY}}if(void 0!==ee.pageX)return{x:ee.pageX,y:ee.pageY}}return{x:0,y:0}},W=ee=>{const Ee="rtl"===document.dir;switch(ee){case"start":return Ee;case"end":return!Ee;default:throw new Error(`"${ee}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Y=(ee,Ee)=>{const ve=ee._original||ee;return{_original:ee,emit:me(ve.emit.bind(ve),Ee)}},me=(ee,Ee=0)=>{let ve;return(...ue)=>{clearTimeout(ve),ve=setTimeout(ee,Ee,...ue)}},Te=(ee,Ee)=>{if(ee??(ee={}),Ee??(Ee={}),ee===Ee)return!0;const ve=Object.keys(ee);if(ve.length!==Object.keys(Ee).length)return!1;for(const ue of ve)if(!(ue in Ee)||ee[ue]!==Ee[ue])return!1;return!0},Xe=ee=>"number"==typeof ee&&!isNaN(ee)&&isFinite(ee)},6778:(Z,we,_)=>{var L,S=_(5e3).default,x=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(H={}){var f=H,O="object"==typeof window,E=typeof WorkerGlobalScope<"u",V=("object"==typeof process&&process.versions?.node&&process,"./this.program"),N=(b,$)=>{throw $};E&&(L=self.location.href);var se,le,D="";if(O||E){try{D=new URL(".",L).href}catch{}E&&(le=b=>{var $=new XMLHttpRequest;return $.open("GET",b,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),se=function(){var b=S(function*($){var ce=yield fetch($,{credentials:"same-origin"});if(ce.ok)return ce.arrayBuffer();throw new Error(ce.status+" : "+ce.url)});return function(ce){return b.apply(this,arguments)}}()}var W,me,_e=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Te(b,$){b||Ye($)}function ee(){if(!Y){var b=Zi();0==b&&(b+=4);var $=ne[b>>2],ce=ne[b+4>>2];(34821223!=$||2310721022!=ce)&&Ye(`Stack overflow! Stack cookie has been overwritten at ${Vr(b)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Vr(ce)} ${Vr($)}`),1668509029!=ne[0]&&Ye("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Ee,ve,ue,Ie,B,U,ne,ye,Ne,be=!1;function tt(){var b=ue.buffer;Ie=new Int8Array(b),new Int16Array(b),f.HEAPU8=B=new Uint8Array(b),new Uint16Array(b),U=new Int32Array(b),f.HEAPU32=ne=new Uint32Array(b),new Float32Array(b),ye=new Float64Array(b),Ne=new BigInt64Array(b),new BigUint64Array(b)}var _t,pt=0,Ct=null;function Ye(b){f.onAbort?.(b),Q(b="Aborted("+b+")"),Y=!0,b+=". Build with -sASSERTIONS for more info.";var $=new WebAssembly.RuntimeError(b);throw ve?.($),$}function qt(){return(qt=S(function*(b){if(!W)try{var $=yield se(b);return new Uint8Array($)}catch{}return function Sn(b){if(b==_t&&W)return new Uint8Array(W);if(le)return le(b);throw"both async and sync fetching of the wasm failed"}(b)})).apply(this,arguments)}function qe(){return qe=S(function*(b,$){try{var ce=yield function wn(b){return qt.apply(this,arguments)}(b);return yield WebAssembly.instantiate(ce,$)}catch(kt){Q(`failed to asynchronously prepare wasm: ${kt}`),Ye(kt)}}),qe.apply(this,arguments)}function ze(){return ze=S(function*(b,$,ce){if(!b&&"function"==typeof WebAssembly.instantiateStreaming)try{var Qe=fetch($,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(Qe,ce)}catch(gn){Q(`wasm streaming compile failed: ${gn}`),Q("falling back to ArrayBuffer instantiation")}return function Mt(b,$){return qe.apply(this,arguments)}($,ce)}),ze.apply(this,arguments)}function fn(){return fn=S(function*(){function b(gn,On){return ue=(X=gn.exports).v,tt(),Gr=X.za,function w(b){f._free=b.x,f._malloc=b.y,f._main=hs=b.z,f._webidl_free=b.A,f._webidl_malloc=b.B,f._emscripten_bind_VoidPtr___destroy___0=si=b.C,f._emscripten_bind_FSTools_FSTools_0=fa=b.D,f._emscripten_bind_FSTools_Malloc_1=ms=b.E,f._emscripten_bind_FSTools_Free_1=Us=b.F,f._emscripten_bind_FSTools_Nullptr_0=Yo=b.G,f._emscripten_bind_FSTools___destroy___0=vs=b.H,f._emscripten_bind_MkfsContext_MkfsContext_0=gi=b.I,f._emscripten_bind_MkfsContext_Mkfs_2=ys=b.J,f._emscripten_bind_MkfsContext_GetImage_0=_s=b.K,f._emscripten_bind_MkfsContext_GetImageSize_0=Hi=b.L,f._emscripten_bind_MkfsContext___destroy___0=so=b.M,f._emscripten_bind_FsckContext_FsckContext_1=mi=b.N,f._emscripten_bind_FsckContext_GetImage_0=Gi=b.O,f._emscripten_bind_FsckContext_GetDirtyPages_0=zi=b.P,f._emscripten_bind_FsckContext_GetImageSize_0=Hs=b.Q,f._emscripten_bind_FsckContext_Fsck_0=bs=b.R,f._emscripten_bind_FsckContext_GetResult_0=ai=b.S,f._emscripten_bind_FsckContext___destroy___0=Ko=b.T,f._emscripten_bind_GunzipContext_GunzipContext_3=vi=b.U,f._emscripten_bind_GunzipContext_GetState_0=Wt=b.V,f._emscripten_bind_GunzipContext_Continue_0=dn=b.W,f._emscripten_bind_GunzipContext_GetUncompressedData_0=pa=b.X,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=Gs=b.Y,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=vo=b.Z,f._emscripten_bind_GunzipContext_GetError_0=Cs=b._,f._emscripten_bind_GunzipContext___destroy___0=ki=b.$,f._emscripten_bind_GzipContext_GzipContext_3=Wi=b.aa,f._emscripten_bind_GzipContext_SetFilename_1=Ss=b.ba,f._emscripten_bind_GzipContext_SetMtime_1=Ba=b.ca,f._emscripten_bind_GzipContext_Continue_0=zs=b.da,f._emscripten_bind_GzipContext_GetState_0=ws=b.ea,f._emscripten_bind_GzipContext_GetGzipData_0=ha=b.fa,f._emscripten_bind_GzipContext_GetGzipSize_0=Ws=b.ga,f._emscripten_bind_GzipContext_GetError_0=qs=b.ha,f._emscripten_bind_GzipContext___destroy___0=ga=b.ia,f._emscripten_bind_CreateZipContext_CreateZipContext_0=Zs=b.ja,f._emscripten_bind_CreateZipContext_Initialize_1=yo=b.ka,f._emscripten_bind_CreateZipContext_AddEntry_1=Ys=b.la,f._emscripten_bind_CreateZipContext_WriteData_2=eo=b.ma,f._emscripten_bind_CreateZipContext_GetZipData_0=qi=b.na,f._emscripten_bind_CreateZipContext_GetZipDataSize_0=ma=b.oa,f._emscripten_bind_CreateZipContext_GetLastError_0=ja=b.pa,f._emscripten_bind_CreateZipContext___destroy___0=Po=b.qa,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=Es=b.ra,f._emscripten_bind_ZipfileWalker_GetState_0=va=b.sa,f._emscripten_bind_ZipfileWalker_Next_0=Ks=b.ta,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=oe=b.ua,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Xs=b.va,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=Be=b.wa,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=yi=b.xa,f._emscripten_bind_ZipfileWalker___destroy___0=ya=b.ya,Zi=b.Aa,Ri=b.Ba,Va=b.Ca,p=b.Da,f.___original_main=b.Ea}(X),function Et(){if(pt--,f.monitorRunDependencies?.(pt),0==pt&&Ct){var $=Ct;Ct=null,$()}}(),X}!function st(){pt++,f.monitorRunDependencies?.(pt)}();var ce=function dt(){return{a:A}}();if(f.instantiateWasm)return new Promise((gn,On)=>{f.instantiateWasm(ce,(Un,zr)=>{gn(b(Un))})});_t??=function Nt(){return function T(b){return f.locateFile?f.locateFile(b,D):D+b}("fstools_web.wasm")}();var Qe=yield function Oe(b,$,ce){return ze.apply(this,arguments)}(W,_t,ce);return function $(gn){return b(gn.instance)}(Qe)}),fn.apply(this,arguments)}class An{name="ExitStatus";constructor($){this.message=`Program terminated with exit(${$})`,this.status=$}}var Gr,jn,an=b=>{for(;b.length>0;)b.shift()(f)},Cn=[],rr=b=>Cn.push(b),pr=[],Xr=b=>pr.push(b),go=!0,Vr=b=>"0x"+(b>>>=0).toString(16).padStart(8,"0"),No=typeof TextDecoder<"u"?new TextDecoder:void 0,Qr=(b,$=0,ce=NaN)=>{for(var Qe=$+ce,kt=$;b[kt]&&!(kt>=Qe);)++kt;if(kt-$>16&&b.buffer&&No)return No.decode(b.subarray($,kt));for(var gn="";$<kt;){var On=b[$++];if(128&On){var Un=63&b[$++];if(192!=(224&On)){var zr=63&b[$++];if((On=224==(240&On)?(15&On)<<12|Un<<6|zr:(7&On)<<18|Un<<12|zr<<6|63&b[$++])<65536)gn+=String.fromCharCode(On);else{var cn=On-65536;gn+=String.fromCharCode(55296|cn>>10,56320|1023&cn)}}else gn+=String.fromCharCode((31&On)<<6|Un)}else gn+=String.fromCharCode(On)}return gn},ln=(b,$)=>b?Qr(B,b,$):"",Kt=b=>b<-9007199254740992||b>9007199254740992?NaN:Number(b),En={varargs:void 0,getStr:b=>ln(b)},Ur=0,Ao=[0,31,60,91,121,152,182,213,244,274,305,335],Dr=[0,31,59,90,120,151,181,212,243,273,304,334],Dn=b=>((b=>b%4==0&&(b%100!=0||b%400==0))(b.getFullYear())?Ao:Dr)[b.getMonth()]+b.getDate()-1,fo={},Go=b=>{if(b instanceof An||"unwind"==b)return me;ee(),b instanceof WebAssembly.RuntimeError&&p()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),N(0,b)},$n=()=>go||Ur>0,Oo=b=>{me=b,$n()||(f.onExit?.(b),Y=!0),N(0,new An(b))},Ir=(b,$)=>{me=b,Oo(b)},hi=Ir,Vn=(b,$,ce,Qe)=>{if(!(Qe>0))return 0;for(var kt=ce,gn=ce+Qe-1,On=0;On<b.length;++On){var Un=b.codePointAt(On);if(Un<=127){if(ce>=gn)break;$[ce++]=Un}else if(Un<=2047){if(ce+1>=gn)break;$[ce++]=192|Un>>6,$[ce++]=128|63&Un}else if(Un<=65535){if(ce+2>=gn)break;$[ce++]=224|Un>>12,$[ce++]=128|Un>>6&63,$[ce++]=128|63&Un}else{if(ce+3>=gn)break;$[ce++]=240|Un>>18,$[ce++]=128|Un>>12&63,$[ce++]=128|Un>>6&63,$[ce++]=128|63&Un,On++}}return $[ce]=0,ce-kt},Mi=(b,$,ce)=>Vn(b,B,$,ce),hn=[],Bn=(b,$)=>Math.ceil(b/$)*$,jt=b=>{var ce=(b-ue.buffer.byteLength+65535)/65536|0;try{return ue.grow(ce),tt(),1}catch{}},xe={},zt=()=>{if(!zt.strings){var $={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:V||"./this.program"};for(var ce in xe)void 0===xe[ce]?delete $[ce]:$[ce]=xe[ce];var Qe=[];for(var ce in $)Qe.push(`${ce}=${$[ce]}`);zt.strings=Qe}return zt.strings},Kn=b=>{for(var $=0,ce=0;ce<b.length;++ce){var Qe=b.charCodeAt(ce);Qe<=127?$++:Qe<=2047?$+=2:Qe>=55296&&Qe<=57343?($+=4,++ce):$+=3}return $},Fa=[null,[],[]],ds=(b,$)=>{var ce=Fa[b];0===$||10===$?((1===b?_e:Q)(Qr(ce)),ce.length=0):ce.push($)},io=[],Ft=(b,$)=>{b<128?$.push(b):$.push(b%128|128,b>>7)},Zo=[],et=b=>{var $=Zo[b];return $||(Zo[b]=$=Gr.get(b)),$},$a=[],ua=(b,$)=>{Gr.set(b,$),Zo[b]=Gr.get(b)};f.noExitRuntime&&(go=f.noExitRuntime),f.print&&(_e=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(W=f.wasmBinary),f.thisProgram&&(V=f.thisProgram),f.addFunction=(b,$)=>{var ce=(b=>(jn||(jn=new WeakMap,((b,$)=>{if(jn)for(var ce=0;ce<0+$;ce++){var Qe=et(ce);Qe&&jn.set(Qe,ce)}})(0,Gr.length)),jn.get(b)||0))(b);if(ce)return ce;var Qe=(()=>{if($a.length)return $a.pop();try{Gr.grow(1)}catch(b){throw b instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":b}return Gr.length-1})();try{ua(Qe,b)}catch(gn){if(!(gn instanceof TypeError))throw gn;var kt=((b,$)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((b=>{for(var $={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ce={parameters:[],results:"v"==b[0]?[]:[$[b[0]]]},Qe=1;Qe<b.length;++Qe)ce.parameters.push($[b[Qe]]);return ce})($),b);var ce=[1];((b,$)=>{var ce=b.slice(0,1),Qe=b.slice(1),kt={i:127,p:127,j:126,f:125,d:124,e:111};for(var gn of($.push(96),Ft(Qe.length,$),Qe))$.push(kt[gn]);"v"==ce?$.push(0):$.push(1,kt[ce])})($,ce);var Qe=[0,97,115,109,1,0,0,0,1];Ft(ce.length,Qe),Qe.push(...ce),Qe.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var kt=new WebAssembly.Module(new Uint8Array(Qe));return new WebAssembly.Instance(kt,{e:{f:b}}).exports.f})(b,$);ua(Qe,kt)}return jn.set(b,Qe),Qe},f.UTF8ToString=ln;var hs,si,fa,ms,Us,Yo,vs,gi,ys,_s,Hi,so,mi,Gi,zi,Hs,bs,ai,Ko,vi,Wt,dn,pa,Gs,vo,Cs,ki,Wi,Ss,Ba,zs,ws,ha,Ws,qs,ga,Zs,yo,Ys,eo,qi,ma,ja,Po,Es,va,Ks,oe,Xs,Be,yi,ya,Zi,Ri,Va,p,Vs={46212:()=>{throw new Error("terminated")}},A={b:(b,$,ce,Qe)=>Ye(`Assertion failed: ${ln(b)}, at: `+[$?ln($):"unknown filename",ce,Qe?ln(Qe):"unknown function"]),f:function Hn(b,$){$=Kt($)},h:function Jt(b,$,ce,Qe){En.varargs=Qe},i:()=>Ye(""),k:()=>{go=!1,Ur=0},n:function oo(b,$){b=Kt(b);var ce=new Date(1e3*b);U[$>>2]=ce.getUTCSeconds(),U[$+4>>2]=ce.getUTCMinutes(),U[$+8>>2]=ce.getUTCHours(),U[$+12>>2]=ce.getUTCDate(),U[$+16>>2]=ce.getUTCMonth(),U[$+20>>2]=ce.getUTCFullYear()-1900,U[$+24>>2]=ce.getUTCDay();var Qe=Date.UTC(ce.getUTCFullYear(),0,1,0,0,0,0),kt=(ce.getTime()-Qe)/864e5|0;U[$+28>>2]=kt},o:function mo(b,$){b=Kt(b);var ce=new Date(1e3*b);U[$>>2]=ce.getSeconds(),U[$+4>>2]=ce.getMinutes(),U[$+8>>2]=ce.getHours(),U[$+12>>2]=ce.getDate(),U[$+16>>2]=ce.getMonth(),U[$+20>>2]=ce.getFullYear()-1900,U[$+24>>2]=ce.getDay();var Qe=0|Dn(ce);U[$+28>>2]=Qe,U[$+36>>2]=-60*ce.getTimezoneOffset();var kt=new Date(ce.getFullYear(),0,1),gn=new Date(ce.getFullYear(),6,1).getTimezoneOffset(),On=kt.getTimezoneOffset(),Un=0|(gn!=On&&ce.getTimezoneOffset()==Math.min(On,gn));U[$+32>>2]=Un},p:function(b){var $=(()=>{var ce=new Date(U[b+20>>2]+1900,U[b+16>>2],U[b+12>>2],U[b+8>>2],U[b+4>>2],U[b>>2],0),Qe=U[b+32>>2],kt=ce.getTimezoneOffset(),gn=new Date(ce.getFullYear(),0,1),On=new Date(ce.getFullYear(),6,1).getTimezoneOffset(),Un=gn.getTimezoneOffset(),zr=Math.min(Un,On);if(Qe<0)U[b+32>>2]=+(On!=Un&&zr==kt);else if(Qe>0!=(zr==kt)){var cn=Math.max(Un,On),xr=Qe>0?zr:cn;ce.setTime(ce.getTime()+6e4*(xr-kt))}U[b+24>>2]=ce.getDay();var or=0|Dn(ce);U[b+28>>2]=or,U[b>>2]=ce.getSeconds(),U[b+4>>2]=ce.getMinutes(),U[b+8>>2]=ce.getHours(),U[b+12>>2]=ce.getDate(),U[b+16>>2]=ce.getMonth(),U[b+20>>2]=ce.getYear();var ur=ce.getTime();return isNaN(ur)?-1:ur/1e3})();return BigInt($)},l:(b,$)=>{if(fo[b]&&(clearTimeout(fo[b].id),delete fo[b]),!$)return 0;var ce=setTimeout(()=>{delete fo[b],(b=>{if(!Y)try{b(),(()=>{if(!$n())try{hi(me)}catch(b){Go(b)}})()}catch($){Go($)}})(()=>Ri(b,performance.now()))},$);return fo[b]={id:ce,timeout_ms:$},0},q:(b,$,ce,Qe)=>{var kt=(new Date).getFullYear(),gn=new Date(kt,0,1),On=new Date(kt,6,1),Un=gn.getTimezoneOffset(),zr=On.getTimezoneOffset(),cn=Math.max(Un,zr);ne[b>>2]=60*cn,U[$>>2]=+(Un!=zr);var xr=Ot=>{var yr=Ot>=0?"-":"+",Qn=Math.abs(Ot);return`UTC${yr}${String(Math.floor(Qn/60)).padStart(2,"0")}${String(Qn%60).padStart(2,"0")}`},or=xr(Un),ur=xr(zr);zr<Un?(Mi(or,ce,17),Mi(ur,Qe,17)):(Mi(or,Qe,17),Mi(ur,ce,17))},a:(b,$,ce)=>((b,$,ce)=>{var Qe=((b,$)=>{hn.length=0;for(var ce;ce=B[b++];){var Qe=105!=ce;$+=(Qe&=112!=ce)&&$%8?4:0,hn.push(112==ce?ne[$>>2]:106==ce?Ne[$>>3]:105==ce?U[$>>2]:ye[$>>3]),$+=Qe?8:4}return hn})($,ce);return Vs[b](...Qe)})(b,$,ce),d:()=>Date.now(),m:b=>{var $=B.length,ce=2147483648;if((b>>>=0)>ce)return!1;for(var Qe=1;Qe<=4;Qe*=2){var kt=$*(1+.2/Qe);kt=Math.min(kt,b+100663296);var gn=Math.min(ce,Bn(Math.max(b,kt),65536));if(jt(gn))return!0}return!1},s:(b,$)=>{var ce=0,Qe=0;for(var kt of zt()){var gn=$+ce;ne[b+Qe>>2]=gn,ce+=Mi(kt,gn,1/0)+1,Qe+=4}return 0},t:(b,$)=>{var ce=zt();ne[b>>2]=ce.length;var Qe=0;for(var kt of ce)Qe+=Kn(kt)+1;return ne[$>>2]=Qe,0},u:hi,e:b=>52,c:(b,$,ce,Qe)=>52,r:function Tl(b,$,ce,Qe){return $=Kt($),70},g:(b,$,ce,Qe)=>{for(var kt=0,gn=0;gn<ce;gn++){var On=ne[$>>2],Un=ne[$+4>>2];$+=8;for(var zr=0;zr<Un;zr++)ds(b,B[On+zr]);kt+=Un}return ne[Qe>>2]=kt,0},j:Oo},X=yield function Qt(){return fn.apply(this,arguments)}();function ge(){}function Fe(b){return(b||ge).__cache__}function rt(b,$){var ce=Fe($),Qe=ce[b];return Qe||((Qe=Object.create(($||ge).prototype)).ptr=b,ce[b]=Qe)}(function Ke(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function Se(){function b(){f.calledRun=!0,Y||(function Ae(){be=!0,ee(),an(io),X.w()}(),function Ge(){ee()}(),Ee?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function te(){var b=hs;try{var Qe=b(0,0);return Ir(Qe),Qe}catch(kt){return Go(kt)}}(),function mt(){if(ee(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)rr(f.postRun.shift());an(Cn)}())}pt>0?Ct=Se:(function Ve(){Va(),function Xe(){var b=Zi();0==b&&(b+=4),ne[b>>2]=34821223,ne[b+4>>2]=2310721022,ne[0]=1668509029}()}(),function St(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)Xr(f.preRun.shift());an(pr)}(),pt>0?Ct=Se:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),b()},1)):b(),ee()))}(),(ge.prototype=Object.create(ge.prototype)).constructor=ge,ge.prototype.__class__=ge,ge.__cache__={},f.WrapperObject=ge,f.getCache=Fe,f.wrapPointer=rt,f.castObject=function ft(b,$){return rt(b.ptr,$)},f.NULL=rt(0),f.destroy=function At(b){if(!b.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";b.__destroy__(),delete Fe(b.__class__)[b.ptr]},f.compare=function ht(b,$){return b.ptr===$.ptr},f.getPointer=function vn(b){return b.ptr},f.getClass=function gr(b){return b.__class__};var $t={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if($t.needed){for(var b=0;b<$t.temps.length;b++)f._webidl_free($t.temps[b]);$t.temps.length=0,f._webidl_free($t.buffer),$t.buffer=0,$t.size+=$t.needed,$t.needed=0}$t.buffer||($t.size+=128,$t.buffer=f._webidl_malloc($t.size),Te($t.buffer)),$t.pos=0},alloc(b,$){Te($t.buffer);var kt,Qe=b.length*$.BYTES_PER_ELEMENT;return Qe=Bn(Qe,8),$t.pos+Qe>=$t.size?(Te(Qe>0),$t.needed+=Qe,kt=f._webidl_malloc(Qe),$t.temps.push(kt)):(kt=$t.buffer+$t.pos,$t.pos+=Qe),kt},copy(b,$,ce){ce/=$.BYTES_PER_ELEMENT;for(var Qe=0;Qe<b.length;Qe++)$[ce+Qe]=b[Qe]}};function In(b){if("string"==typeof b){var $=(b=>{var Qe=Kn(b)+1,kt=new Array(Qe);Vn(b,kt,0,kt.length);return kt})(b),ce=$t.alloc($,Ie);return $t.copy($,Ie,ce),ce}return b}function Mn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function yn(){this.ptr=fa(),Fe(yn)[this.ptr]=this}function Tt(){this.ptr=gi(),Fe(Tt)[this.ptr]=this}function Xn(b){b&&"object"==typeof b&&(b=b.ptr),this.ptr=mi(b),Fe(Xn)[this.ptr]=this}function en(b,$,ce){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),ce&&"object"==typeof ce&&(ce=ce.ptr),this.ptr=vi(b,$,ce),Fe(en)[this.ptr]=this}function xn(b,$,ce){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),ce&&"object"==typeof ce&&(ce=ce.ptr),this.ptr=Wi(b,$,ce),Fe(xn)[this.ptr]=this}function tn(){this.ptr=Zs(),Fe(tn)[this.ptr]=this}function Zt(b,$){b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),this.ptr=Es(b,$),Fe(Zt)[this.ptr]=this}return(Mn.prototype=Object.create(ge.prototype)).constructor=Mn,Mn.prototype.__class__=Mn,Mn.__cache__={},f.VoidPtr=Mn,Mn.prototype.__destroy__=Mn.prototype.__destroy__=function(){si(this.ptr)},(yn.prototype=Object.create(ge.prototype)).constructor=yn,yn.prototype.__class__=yn,yn.__cache__={},f.FSTools=yn,yn.prototype.Malloc=yn.prototype.Malloc=function(b){return b&&"object"==typeof b&&(b=b.ptr),rt(ms(this.ptr,b),Mn)},yn.prototype.Free=yn.prototype.Free=function(b){b&&"object"==typeof b&&(b=b.ptr),Us(this.ptr,b)},yn.prototype.Nullptr=yn.prototype.Nullptr=function(){return rt(Yo(this.ptr),Mn)},yn.prototype.__destroy__=yn.prototype.__destroy__=function(){vs(this.ptr)},(Tt.prototype=Object.create(ge.prototype)).constructor=Tt,Tt.prototype.__class__=Tt,Tt.__cache__={},f.MkfsContext=Tt,Tt.prototype.Mkfs=Tt.prototype.Mkfs=function(b,$){var ce=this.ptr;return $t.prepare(),b&&"object"==typeof b&&(b=b.ptr),$=$&&"object"==typeof $?$.ptr:In($),!!ys(ce,b,$)},Tt.prototype.GetImage=Tt.prototype.GetImage=function(){return rt(_s(this.ptr),Mn)},Tt.prototype.GetImageSize=Tt.prototype.GetImageSize=function(){return Hi(this.ptr)},Tt.prototype.__destroy__=Tt.prototype.__destroy__=function(){so(this.ptr)},(Xn.prototype=Object.create(ge.prototype)).constructor=Xn,Xn.prototype.__class__=Xn,Xn.__cache__={},f.FsckContext=Xn,Xn.prototype.GetImage=Xn.prototype.GetImage=function(){return rt(Gi(this.ptr),Mn)},Xn.prototype.GetDirtyPages=Xn.prototype.GetDirtyPages=function(){return rt(zi(this.ptr),Mn)},Xn.prototype.GetImageSize=Xn.prototype.GetImageSize=function(){return Hs(this.ptr)},Xn.prototype.Fsck=Xn.prototype.Fsck=function(){return bs(this.ptr)},Xn.prototype.GetResult=Xn.prototype.GetResult=function(){return ai(this.ptr)},Xn.prototype.__destroy__=Xn.prototype.__destroy__=function(){Ko(this.ptr)},(en.prototype=Object.create(ge.prototype)).constructor=en,en.prototype.__class__=en,en.__cache__={},f.GunzipContext=en,en.prototype.GetState=en.prototype.GetState=function(){return Wt(this.ptr)},en.prototype.Continue=en.prototype.Continue=function(){return dn(this.ptr)},en.prototype.GetUncompressedData=en.prototype.GetUncompressedData=function(){return rt(pa(this.ptr),Mn)},en.prototype.ReleaseUncompressedData=en.prototype.ReleaseUncompressedData=function(){return rt(Gs(this.ptr),Mn)},en.prototype.GetUncompressedSize=en.prototype.GetUncompressedSize=function(){return vo(this.ptr)},en.prototype.GetError=en.prototype.GetError=function(){return ln(Cs(this.ptr))},en.prototype.__destroy__=en.prototype.__destroy__=function(){ki(this.ptr)},(xn.prototype=Object.create(ge.prototype)).constructor=xn,xn.prototype.__class__=xn,xn.__cache__={},f.GzipContext=xn,xn.prototype.SetFilename=xn.prototype.SetFilename=function(b){var $=this.ptr;return $t.prepare(),b=b&&"object"==typeof b?b.ptr:In(b),rt(Ss($,b),xn)},xn.prototype.SetMtime=xn.prototype.SetMtime=function(b){return b&&"object"==typeof b&&(b=b.ptr),rt(Ba(this.ptr,b),xn)},xn.prototype.Continue=xn.prototype.Continue=function(){return zs(this.ptr)},xn.prototype.GetState=xn.prototype.GetState=function(){return ws(this.ptr)},xn.prototype.GetGzipData=xn.prototype.GetGzipData=function(){return rt(ha(this.ptr),Mn)},xn.prototype.GetGzipSize=xn.prototype.GetGzipSize=function(){return Ws(this.ptr)},xn.prototype.GetError=xn.prototype.GetError=function(){return ln(qs(this.ptr))},xn.prototype.__destroy__=xn.prototype.__destroy__=function(){ga(this.ptr)},(tn.prototype=Object.create(ge.prototype)).constructor=tn,tn.prototype.__class__=tn,tn.__cache__={},f.CreateZipContext=tn,tn.prototype.Initialize=tn.prototype.Initialize=function(b){return b&&"object"==typeof b&&(b=b.ptr),!!yo(this.ptr,b)},tn.prototype.AddEntry=tn.prototype.AddEntry=function(b){var $=this.ptr;return $t.prepare(),b=b&&"object"==typeof b?b.ptr:In(b),!!Ys($,b)},tn.prototype.WriteData=tn.prototype.WriteData=function(b,$){return b&&"object"==typeof b&&(b=b.ptr),$&&"object"==typeof $&&($=$.ptr),!!eo(this.ptr,b,$)},tn.prototype.GetZipData=tn.prototype.GetZipData=function(){return rt(qi(this.ptr),Mn)},tn.prototype.GetZipDataSize=tn.prototype.GetZipDataSize=function(){return ma(this.ptr)},tn.prototype.GetLastError=tn.prototype.GetLastError=function(){return ln(ja(this.ptr))},tn.prototype.__destroy__=tn.prototype.__destroy__=function(){Po(this.ptr)},(Zt.prototype=Object.create(ge.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},f.ZipfileWalker=Zt,Zt.prototype.GetState=Zt.prototype.GetState=function(){return va(this.ptr)},Zt.prototype.Next=Zt.prototype.Next=function(){return Ks(this.ptr)},Zt.prototype.GetTotalEntries=Zt.prototype.GetTotalEntries=function(){return oe(this.ptr)},Zt.prototype.GetCurrentEntrySize=Zt.prototype.GetCurrentEntrySize=function(){return Xs(this.ptr)},Zt.prototype.GetCurrentEntryName=Zt.prototype.GetCurrentEntryName=function(){return ln(Be(this.ptr))},Zt.prototype.GetCurrentEntryContent=Zt.prototype.GetCurrentEntryContent=function(){return rt(yi(this.ptr),Mn)},Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){ya(this.ptr)},be?f:new Promise((b,$)=>{Ee=b,ve=$})}));Z.exports=x,Z.exports.default=x},6780:(Z,we,_)=>{"use strict";_.d(we,{b:()=>f,c:()=>O,d:()=>E,e:()=>K,g:()=>ne,l:()=>Ie,s:()=>je,t:()=>le,w:()=>B});var S=_(1890),x=_(9335),L=_(6721);const f="ionViewWillLeave",O="ionViewDidLeave",E="ionViewWillUnload",P=ae=>{ae.tabIndex=-1,ae.focus()},R=ae=>null!==ae.offsetParent,N="ion-last-focus",se_saveViewFocus=Ne=>{if(x.e.get("focusManagerPriority",!1)){const be=document.activeElement;null!==be&&Ne?.contains(be)&&be.setAttribute(N,"true")}},se_setViewFocus=Ne=>{const $e=x.e.get("focusManagerPriority",!1);if(Array.isArray($e)&&!Ne.contains(document.activeElement)){const be=Ne.querySelector(`[${N}]`);if(be&&R(be))return void P(be);for(const tt of $e)switch(tt){case"content":const St=Ne.querySelector('main, [role="main"]');if(St&&R(St))return void P(St);break;case"heading":const Ae=Ne.querySelector('h1, [role="heading"][aria-level="1"]');if(Ae&&R(Ae))return void P(Ae);break;case"banner":const Ge=Ne.querySelector('header, [role="banner"]');if(Ge&&R(Ge))return void P(Ge);break;default:(0,x.f)(`Unrecognized focus manager priority value ${tt}`)}P(Ne)}},le=ae=>new Promise((ye,Ne)=>{(0,x.w)(()=>{_e(ae),Q(ae).then($e=>{$e.animation&&$e.animation.destroy(),W(ae),ye($e)},$e=>{W(ae),Ne($e)})})}),_e=ae=>{const ye=ae.enteringEl,Ne=ae.leavingEl;se_saveViewFocus(Ne),U(ye,Ne,ae.direction),ae.showGoBack?ye.classList.add("can-go-back"):ye.classList.remove("can-go-back"),je(ye,!1),ye.style.setProperty("pointer-events","none"),Ne&&(je(Ne,!1),Ne.style.setProperty("pointer-events","none"))},Q=function(){var ae=(0,S.A)(function*(ye){const Ne=yield Y(ye);return Ne&&x.B.isBrowser?me(Ne,ye):Te(ye)});return function(Ne){return ae.apply(this,arguments)}}(),W=ae=>{const ye=ae.enteringEl,Ne=ae.leavingEl;ye.classList.remove("ion-page-invisible"),ye.style.removeProperty("pointer-events"),void 0!==Ne&&(Ne.classList.remove("ion-page-invisible"),Ne.style.removeProperty("pointer-events")),se_setViewFocus(ye)},Y=function(){var ae=(0,S.A)(function*(ye){return ye.leavingEl&&ye.animated&&0!==ye.duration?ye.animationBuilder?ye.animationBuilder:"ios"===ye.mode?(yield Promise.resolve().then(_.bind(_,9805))).iosTransitionAnimation:(yield Promise.resolve().then(_.bind(_,1393))).mdTransitionAnimation:void 0});return function(Ne){return ae.apply(this,arguments)}}(),me=function(){var ae=(0,S.A)(function*(ye,Ne){yield Xe(Ne,!0);const $e=ye(Ne.baseEl,Ne);ve(Ne.enteringEl,Ne.leavingEl);const be=yield Ee($e,Ne);return Ne.progressCallback&&Ne.progressCallback(void 0),be&&ue(Ne.enteringEl,Ne.leavingEl),{hasCompleted:be,animation:$e}});return function(Ne,$e){return ae.apply(this,arguments)}}(),Te=function(){var ae=(0,S.A)(function*(ye){const Ne=ye.enteringEl,$e=ye.leavingEl,be=x.e.get("focusManagerPriority",!1);return yield Xe(ye,be),ve(Ne,$e),ue(Ne,$e),{hasCompleted:!0}});return function(Ne){return ae.apply(this,arguments)}}(),Xe=function(){var ae=(0,S.A)(function*(ye,Ne){(void 0!==ye.deepWait?ye.deepWait:Ne)&&(yield Promise.all([K(ye.enteringEl),K(ye.leavingEl)])),yield ee(ye.viewIsReady,ye.enteringEl)});return function(Ne,$e){return ae.apply(this,arguments)}}(),ee=function(){var ae=(0,S.A)(function*(ye,Ne){ye&&(yield ye(Ne))});return function(Ne,$e){return ae.apply(this,arguments)}}(),Ee=(ae,ye)=>{const Ne=ye.progressCallback,$e=new Promise(be=>{ae.onFinish(tt=>be(1===tt))});return Ne?(ae.progressStart(!0),Ne(ae)):ae.play(),$e},ve=(ae,ye)=>{Ie(ye,f),Ie(ae,"ionViewWillEnter")},ue=(ae,ye)=>{Ie(ae,"ionViewDidEnter"),Ie(ye,O)},Ie=(ae,ye)=>{if(ae){const Ne=new CustomEvent(ye,{bubbles:!1,cancelable:!1});ae.dispatchEvent(Ne)}},B=()=>new Promise(ae=>(0,L.r)(()=>(0,L.r)(()=>ae()))),K=function(){var ae=(0,S.A)(function*(ye){const Ne=ye;if(Ne){if(null!=Ne.componentOnReady){if(null!=(yield Ne.componentOnReady()))return}else if(null!=Ne.__registerHost)return void(yield new Promise(be=>(0,L.r)(be)));yield Promise.all(Array.from(Ne.children).map(K))}});return function(Ne){return ae.apply(this,arguments)}}(),je=(ae,ye)=>{ye?(ae.setAttribute("aria-hidden","true"),ae.classList.add("ion-page-hidden")):(ae.hidden=!1,ae.removeAttribute("aria-hidden"),ae.classList.remove("ion-page-hidden"))},U=(ae,ye,Ne)=>{void 0!==ae&&(ae.style.zIndex="back"===Ne?"99":"101"),void 0!==ye&&(ye.style.zIndex="100")},ne=ae=>ae.classList.contains("ion-page")?ae:ae.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ae},6784:(Z,we,_)=>{"use strict";var x=_(3948);we.J=x.default},6837:(Z,we,_)=>{"use strict";var S=_(840),x=S("String.prototype.valueOf"),H=S("Object.prototype.toString"),f=_(5328)();Z.exports=function(E){return"string"==typeof E||!(!E||"object"!=typeof E)&&(f?function(E){try{return x(E),!0}catch{return!1}}(E):"[object String]"===H(E))}},6959:(Z,we,_)=>{"use strict";var S=_(6837),x=_(8979),L=_(6484),H=_(3016),k=_(7671);Z.exports=function(O){return null==O||"object"!=typeof O&&"function"!=typeof O?null:S(O)?"String":x(O)?"Number":L(O)?"Boolean":H(O)?"Symbol":k(O)?"BigInt":void 0}},6969:(Z,we,_)=>{"use strict";var S=_(592),x=_(6283),L=_(8447),H=_(78),k=_(7100),f=x.apply(H()),O=function(P,R){return f(Object,arguments)};S(O,{getPolyfill:H,implementation:L,shim:k}),Z.exports=O},6998:Z=>{"use strict";Z.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},7031:Z=>{var we,_;we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z.exports=_={rotl:function(S,x){return S<<x|S>>>32-x},rotr:function(S,x){return S<<32-x|S>>>x},endian:function(S){if(S.constructor==Number)return 16711935&_.rotl(S,8)|4278255360&_.rotl(S,24);for(var x=0;x<S.length;x++)S[x]=_.endian(S[x]);return S},randomBytes:function(S){for(var x=[];S>0;S--)x.push(Math.floor(256*Math.random()));return x},bytesToWords:function(S){for(var x=[],L=0,H=0;L<S.length;L++,H+=8)x[H>>>5]|=S[L]<<24-H%32;return x},wordsToBytes:function(S){for(var x=[],L=0;L<32*S.length;L+=8)x.push(S[L>>>5]>>>24-L%32&255);return x},bytesToHex:function(S){for(var x=[],L=0;L<S.length;L++)x.push((S[L]>>>4).toString(16)),x.push((15&S[L]).toString(16));return x.join("")},hexToBytes:function(S){for(var x=[],L=0;L<S.length;L+=2)x.push(parseInt(S.substr(L,2),16));return x},bytesToBase64:function(S){for(var x=[],L=0;L<S.length;L+=3)for(var H=S[L]<<16|S[L+1]<<8|S[L+2],k=0;k<4;k++)x.push(8*L+6*k<=8*S.length?we.charAt(H>>>6*(3-k)&63):"=");return x.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var x=[],L=0,H=0;L<S.length;H=++L%4)0!=H&&x.push((we.indexOf(S.charAt(L-1))&Math.pow(2,-2*H+8)-1)<<2*H|we.indexOf(S.charAt(L))>>>6-2*H);return x}}},7057:(Z,we,_)=>{"use strict";var S=_(592),x=_(6283),L=_(1143),H=_(4198),k=_(8436),f=x(H());S(f,{getPolyfill:H,implementation:L,shim:k}),Z.exports=f},7100:(Z,we,_)=>{"use strict";var S=_(592),x=_(78);Z.exports=function(){var H=x();return S(Object,{assign:H},{assign:function(){return Object.assign!==H}}),H}},7133:(Z,we,_)=>{"use strict";_.d(we,{c:()=>O});var S=_(9335),x=_(575);let L;const k=(E,P,R)=>{const V=P.startsWith("animation")?(E=>(void 0===L&&(L=void 0===E.style.animationName&&void 0!==E.style.webkitAnimationName?"-webkit-":""),L))(E):"";E.style.setProperty(V+P,R)},f=(E=[],P)=>{if(void 0!==P){const R=Array.isArray(P)?P:[P];return[...E,...R]}return E},O=E=>{let P,R,V,N,D,T,W,ue,Ie,B,ne,se=[],le=[],_e=[],Q=!1,Y={},me=[],Te=[],Xe={},ee=0,Ee=!1,ve=!1,K=!0,je=!1,U=!0,ae=!1;const ye=E,Ne=[],$e=[],be=[],tt=[],St=[],Ae=[],Ge=[],mt=[],pt=[],Ct=[],st=[],Et="function"==typeof AnimationEffect||void 0!==x.w&&"function"==typeof x.w.AnimationEffect,Ye="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Et,_t=()=>st,Mt=(xe,xt)=>{const zt=xt.findIndex(hr=>hr.c===xe);zt>-1&&xt.splice(zt,1)},Oe=(xe,xt)=>((xt?.oneTimeCallback?$e:Ne).push({c:xe,o:xt}),ne),dt=()=>{Ye&&(st.forEach(xe=>{xe.cancel()}),st.length=0)},Qt=()=>{Ae.forEach(xe=>{xe?.parentNode&&xe.parentNode.removeChild(xe)}),Ae.length=0},ri=()=>void 0!==D?D:W?W.getFill():"both",Me=()=>void 0!==ue?ue:void 0!==T?T:W?W.getDirection():"normal",Pe=()=>Ee?"linear":void 0!==V?V:W?W.getEasing():"linear",Kt=()=>ve?0:void 0!==Ie?Ie:void 0!==R?R:W?W.getDuration():0,Hn=()=>void 0!==N?N:W?W.getIterations():1,En=()=>void 0!==B?B:void 0!==P?P:W?W.getDelay():0,Oo=()=>{0!==ee&&(ee--,0===ee&&((()=>{pt.forEach(Kn=>Kn()),Ct.forEach(Kn=>Kn());const xe=K?1:0,xt=me,zt=Te,hr=Xe;tt.forEach(Kn=>{const Wo=Kn.classList;xt.forEach(qo=>Wo.add(qo)),zt.forEach(qo=>Wo.remove(qo));for(const qo in hr)hr.hasOwnProperty(qo)&&k(Kn,qo,hr[qo])}),Ie=void 0,ue=void 0,B=void 0,Ne.forEach(Kn=>Kn.c(xe,ne)),$e.forEach(Kn=>Kn.c(xe,ne)),$e.length=0,U=!0,K&&(je=!0),K=!0})(),W&&W.animationFinish()))},hi=()=>{(()=>{Ge.forEach(hr=>hr()),mt.forEach(hr=>hr());const xe=le,xt=_e,zt=Y;tt.forEach(hr=>{const Kn=hr.classList;xe.forEach(Wo=>Kn.add(Wo)),xt.forEach(Wo=>Kn.remove(Wo));for(const Wo in zt)zt.hasOwnProperty(Wo)&&k(hr,Wo,zt[Wo])})})(),se.length>0&&Ye&&(tt.forEach(xe=>{const xt=xe.animate(se,{id:ye,delay:En(),duration:Kt(),easing:Pe(),iterations:Hn(),fill:ri(),direction:Me()});xt.pause(),st.push(xt)}),st.length>0&&(st[0].onfinish=()=>{Oo()})),Q=!0},zo=xe=>{xe=Math.min(Math.max(xe,0),.9999),Ye&&st.forEach(xt=>{xt.currentTime=xt.effect.getComputedTiming().delay+Kt()*xe,xt.pause()})},Le=xe=>{st.forEach(xt=>{xt.effect.updateTiming({delay:En(),duration:Kt(),easing:Pe(),iterations:Hn(),fill:ri(),direction:Me()})}),void 0!==xe&&zo(xe)},cr=(xe=!1,xt=!0,zt)=>(xe&&St.forEach(hr=>{hr.update(xe,xt,zt)}),Ye&&Le(zt),ne),ji=()=>{Q&&(Ye?st.forEach(xe=>{xe.pause()}):tt.forEach(xe=>{k(xe,"animation-play-state","paused")}),ae=!0)},ca=xe=>new Promise(xt=>{xe?.sync&&(ve=!0,Oe(()=>ve=!1,{oneTimeCallback:!0})),Q||hi(),je&&(Ye&&(zo(0),Le()),je=!1),U&&(ee=St.length+1,U=!1);const zt=()=>{Mt(hr,$e),xt()},hr=()=>{Mt(zt,be),xt()};Oe(hr,{oneTimeCallback:!0}),(xe=>{be.push({c:xe,o:{oneTimeCallback:!0}})})(zt),St.forEach(Kn=>{Kn.play()}),Ye?(st.forEach(xe=>{xe.play()}),(0===se.length||0===tt.length)&&Oo()):Oo(),ae=!1}),Bn=(xe,xt)=>{const zt=se[0];return void 0===zt||void 0!==zt.offset&&0!==zt.offset?se=[{offset:0,[xe]:xt},...se]:zt[xe]=xt,ne};return ne={parentAnimation:W,elements:tt,childAnimations:St,id:ye,animationFinish:Oo,from:Bn,to:(xe,xt)=>{const zt=se[se.length-1];return void 0===zt||void 0!==zt.offset&&1!==zt.offset?se=[...se,{offset:1,[xe]:xt}]:zt[xe]=xt,ne},fromTo:(xe,xt,zt)=>Bn(xe,xt).to(xe,zt),parent:xe=>(W=xe,ne),play:ca,pause:()=>(St.forEach(xe=>{xe.pause()}),ji(),ne),stop:()=>{St.forEach(xe=>{xe.stop()}),Q&&(dt(),Q=!1),Ee=!1,ve=!1,U=!0,ue=void 0,Ie=void 0,B=void 0,ee=0,je=!1,K=!0,ae=!1,be.forEach(xe=>xe.c(0,ne)),be.length=0},destroy:xe=>(St.forEach(xt=>{xt.destroy(xe)}),(xe=>{dt(),xe&&Qt()})(xe),tt.length=0,St.length=0,se.length=0,Ne.length=0,$e.length=0,Q=!1,U=!0,ne),keyframes:xe=>{const xt=se!==xe;return se=xe,xt&&(xe=>{Ye&&_t().forEach(xt=>{const zt=xt.effect;if(zt.setKeyframes)zt.setKeyframes(xe);else{const hr=new KeyframeEffect(zt.target,xe,zt.getTiming());xt.effect=hr}})})(se),ne},addAnimation:xe=>{if(null!=xe)if(Array.isArray(xe))for(const xt of xe)xt.parent(ne),St.push(xt);else xe.parent(ne),St.push(xe);return ne},addElement:xe=>{if(null!=xe)if(1===xe.nodeType)tt.push(xe);else if(xe.length>=0)for(let xt=0;xt<xe.length;xt++)tt.push(xe[xt]);else(0,S.j)("createAnimation - Invalid addElement value.");return ne},update:cr,fill:xe=>(D=xe,cr(!0),ne),direction:xe=>(T=xe,cr(!0),ne),iterations:xe=>(N=xe,cr(!0),ne),duration:xe=>(!Ye&&0===xe&&(xe=1),R=xe,cr(!0),ne),easing:xe=>(V=xe,cr(!0),ne),delay:xe=>(P=xe,cr(!0),ne),getWebAnimations:_t,getKeyframes:()=>se,getFill:ri,getDirection:Me,getDelay:En,getIterations:Hn,getEasing:Pe,getDuration:Kt,afterAddRead:xe=>(pt.push(xe),ne),afterAddWrite:xe=>(Ct.push(xe),ne),afterClearStyles:(xe=[])=>{for(const xt of xe)Xe[xt]="";return ne},afterStyles:(xe={})=>(Xe=xe,ne),afterRemoveClass:xe=>(Te=f(Te,xe),ne),afterAddClass:xe=>(me=f(me,xe),ne),beforeAddRead:xe=>(Ge.push(xe),ne),beforeAddWrite:xe=>(mt.push(xe),ne),beforeClearStyles:(xe=[])=>{for(const xt of xe)Y[xt]="";return ne},beforeStyles:(xe={})=>(Y=xe,ne),beforeRemoveClass:xe=>(_e=f(_e,xe),ne),beforeAddClass:xe=>(le=f(le,xe),ne),onFinish:Oe,isRunning:()=>0!==ee&&!ae,progressStart:(xe=!1,xt)=>(St.forEach(zt=>{zt.progressStart(xe,xt)}),ji(),Ee=xe,Q||hi(),cr(!1,!0,xt),ne),progressStep:xe=>(St.forEach(xt=>{xt.progressStep(xe)}),zo(xe),ne),progressEnd:(xe,xt,zt)=>(Ee=!1,St.forEach(hr=>{hr.progressEnd(xe,xt,zt)}),void 0!==zt&&(Ie=zt),je=!1,K=!0,0===xe?(ue="reverse"===Me()?"normal":"reverse","reverse"===ue&&(K=!1),Ye?(cr(),zo(1-xt)):(B=(1-xt)*Kt()*-1,cr(!1,!1))):1===xe&&(Ye?(cr(),zo(xt)):(B=xt*Kt()*-1,cr(!1,!1))),void 0!==xe&&!W&&ca(),ne)}}},7268:Z=>{"use strict";var S,x,we=Function.prototype.toString,_="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof _&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw x}}),x={},_(function(){throw 42},null,S)}catch(_e){_e!==x&&(_=null)}else _=null;var L=/^\s*class\b/,H=function(Q){try{var W=we.call(Q);return L.test(W)}catch{return!1}},k=function(Q){try{return!H(Q)&&(we.call(Q),!0)}catch{return!1}},f=Object.prototype.toString,D="function"==typeof Symbol&&!!Symbol.toStringTag,T=!(0 in[,]),se=function(){return!1};if("object"==typeof document){var le=document.all;f.call(le)===f.call(document.all)&&(se=function(Q){if((T||!Q)&&(typeof Q>"u"||"object"==typeof Q))try{var W=f.call(Q);return("[object HTMLAllCollection]"===W||"[object HTML document.all class]"===W||"[object HTMLCollection]"===W||"[object Object]"===W)&&null==Q("")}catch{}return!1})}Z.exports=_?function(Q){if(se(Q))return!0;if(!Q||"function"!=typeof Q&&"object"!=typeof Q)return!1;try{_(Q,null,S)}catch(W){if(W!==x)return!1}return!H(Q)&&k(Q)}:function(Q){if(se(Q))return!0;if(!Q||"function"!=typeof Q&&"object"!=typeof Q)return!1;if(D)return k(Q);if(H(Q))return!1;var W=f.call(Q);return!("[object Function]"!==W&&"[object GeneratorFunction]"!==W&&!/^\[object HTML/.test(W))&&k(Q)}},7308:(Z,we)=>{"use strict";var _=Object.prototype.hasOwnProperty;function x(f){try{return decodeURIComponent(f.replace(/\+/g," "))}catch{return null}}function L(f){try{return encodeURIComponent(f)}catch{return null}}we.stringify=function k(f,O){O=O||"";var P,R,E=[];for(R in"string"!=typeof O&&(O="?"),f)if(_.call(f,R)){if(!(P=f[R])&&(null==P||isNaN(P))&&(P=""),R=L(R),P=L(P),null===R||null===P)continue;E.push(R+"="+P)}return E.length?O+E.join("&"):""},we.parse=function H(f){for(var P,O=/([^=?#&]+)=?([^&]*)/g,E={};P=O.exec(f);){var R=x(P[1]),V=x(P[2]);null===R||null===V||R in E||(E[R]=V)}return E}},7433:(Z,we,_)=>{"use strict";_.d(we,{B:()=>st,F:()=>Mt,G:()=>Et,O:()=>Ye,a:()=>_e,b:()=>Q,c:()=>Te,d:()=>_t,e:()=>Nt,f:()=>Ne,g:()=>be,h:()=>Ae,i:()=>mt,j:()=>ee,k:()=>Ee,l:()=>W,m:()=>Y,n:()=>R,o:()=>ae,q:()=>V,s:()=>Ct});var S=_(1890),x=_(575),L=_(6721),H=_(4896),k=_(9335),f=_(9919),O=_(5827),E=_(566);const P='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',R=(qe,Oe)=>{const ze=qe.querySelector(P);N(ze,Oe??qe)},V=(qe,Oe)=>{const ze=Array.from(qe.querySelectorAll(P));N(ze.length>0?ze[ze.length-1]:null,Oe??qe)},N=(qe,Oe)=>{let ze=qe;const dt=qe?.shadowRoot;if(dt&&(ze=dt.querySelector(P)||qe),ze){const Qt=ze.closest("ion-radio-group");Qt?Qt.setFocus():(0,L.n)(ze)}else Oe.focus()};let D=0,T=0;const se=new WeakMap,le=qe=>({create:Oe=>ve(qe,Oe),dismiss:(Oe,ze,dt)=>je(document,Oe,ze,qe,dt),getTop:()=>(0,S.A)(function*(){return ae(document,qe)})()}),_e=le("ion-alert"),Q=le("ion-action-sheet"),W=le("ion-loading"),Y=le("ion-modal"),Te=le("ion-popover"),ee=qe=>{typeof document<"u"&&K(document);const Oe=D++;qe.overlayIndex=Oe},Ee=qe=>(qe.hasAttribute("id")||(qe.id="ion-overlay-"+ ++T),qe.id),ve=(qe,Oe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(qe).then(()=>{const ze=document.createElement(qe);return ze.classList.add("overlay-hidden"),Object.assign(ze,Object.assign(Object.assign({},Oe),{hasController:!0})),tt(document).appendChild(ze),new Promise(dt=>(0,L.c)(ze,dt))}):Promise.resolve(),Ie=(qe,Oe)=>{let ze=qe;const dt=qe?.shadowRoot;dt&&(ze=dt.querySelector(P)||qe),ze?(0,L.n)(ze):Oe.focus()},K=qe=>{0===D&&(D=1,qe.addEventListener("focus",Oe=>{((qe,Oe)=>{const ze=ae(Oe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),dt=qe.target;ze&&dt&&!ze.classList.contains(Mt)&&(ze.shadowRoot?(()=>{if(ze.contains(dt))ze.lastFocus=dt;else if("ION-TOAST"===dt.tagName)Ie(ze.lastFocus,ze);else{const An=ze.lastFocus;R(ze),An===Oe.activeElement&&V(ze),ze.lastFocus=Oe.activeElement}})():(()=>{if(ze===dt)ze.lastFocus=void 0;else if("ION-TOAST"===dt.tagName)Ie(ze.lastFocus,ze);else{const An=(0,L.g)(ze);if(!An.contains(dt))return;const an=An.querySelector(".ion-overlay-wrapper");if(!an)return;if(an.contains(dt)||dt===An.querySelector("ion-backdrop"))ze.lastFocus=dt;else{const Cn=ze.lastFocus;R(an,ze),Cn===Oe.activeElement&&V(an,ze),ze.lastFocus=Oe.activeElement}}})())})(Oe,qe)},!0),qe.addEventListener("ionBackButton",Oe=>{const ze=ae(qe);ze?.backdropDismiss&&Oe.detail.register(H.OVERLAY_BACK_BUTTON_PRIORITY,()=>{ze.dismiss(void 0,st)})}),(0,H.shouldUseCloseWatcher)()||qe.addEventListener("keydown",Oe=>{if("Escape"===Oe.key){const ze=ae(qe);ze?.backdropDismiss&&ze.dismiss(void 0,st)}}))},je=(qe,Oe,ze,dt,Qt)=>{const fn=ae(qe,dt,Qt);return fn?fn.dismiss(Oe,ze):Promise.reject("overlay does not exist")},ne=(qe,Oe)=>((qe,Oe)=>(void 0===Oe&&(Oe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(qe.querySelectorAll(Oe)).filter(ze=>ze.overlayIndex>0)))(qe,Oe).filter(ze=>!(qe=>qe.classList.contains("overlay-hidden"))(ze)),ae=(qe,Oe,ze)=>{const dt=ne(qe,Oe);return void 0===ze?dt[dt.length-1]:dt.find(Qt=>Qt.id===ze)},ye=(qe=!1)=>{const ze=tt(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");ze&&(qe?ze.setAttribute("aria-hidden","true"):ze.removeAttribute("aria-hidden"))},Ne=function(){var qe=(0,S.A)(function*(Oe,ze,dt,Qt,fn){var An,an;if(Oe.presented)return;"ION-TOAST"!==Oe.el.tagName&&(ye(!0),document.body.classList.add(E.B)),wn(Oe.el),Sn(Oe.el),Oe.presented=!0,Oe.willPresent.emit(),null===(An=Oe.willPresentShorthand)||void 0===An||An.emit();const Cn=(0,f.b)(Oe),rr=Oe.enterAnimation?Oe.enterAnimation:k.e.get(ze,"ios"===Cn?dt:Qt);(yield St(Oe,rr,Oe.el,fn))&&(Oe.didPresent.emit(),null===(an=Oe.didPresentShorthand)||void 0===an||an.emit()),"ION-TOAST"!==Oe.el.tagName&&$e(Oe.el),Oe.keyboardClose&&(null===document.activeElement||!Oe.el.contains(document.activeElement))&&Oe.el.focus(),Oe.el.removeAttribute("aria-hidden")});return function(ze,dt,Qt,fn,An){return qe.apply(this,arguments)}}(),$e=function(){var qe=(0,S.A)(function*(Oe){let ze=document.activeElement;if(!ze)return;const dt=ze?.shadowRoot;dt&&(ze=dt.querySelector(P)||ze),yield Oe.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&ze.focus()});return function(ze){return qe.apply(this,arguments)}}(),be=function(){var qe=(0,S.A)(function*(Oe,ze,dt,Qt,fn,An,an){var Cn,rr;if(!Oe.presented)return!1;const Xr=(void 0!==x.d?ne(x.d):[]).filter(Vr=>"ION-TOAST"!==Vr.tagName);1===Xr.length&&Xr[0].id===Oe.el.id&&(ye(!1),document.body.classList.remove(E.B)),Oe.presented=!1;try{Sn(Oe.el),Oe.el.style.setProperty("pointer-events","none"),Oe.willDismiss.emit({data:ze,role:dt}),null===(Cn=Oe.willDismissShorthand)||void 0===Cn||Cn.emit({data:ze,role:dt});const Vr=(0,f.b)(Oe),No=Oe.leaveAnimation?Oe.leaveAnimation:k.e.get(Qt,"ios"===Vr?fn:An);dt!==Et&&(yield St(Oe,No,Oe.el,an)),Oe.didDismiss.emit({data:ze,role:dt}),null===(rr=Oe.didDismissShorthand)||void 0===rr||rr.emit({data:ze,role:dt}),(se.get(Oe)||[]).forEach(ln=>ln.destroy()),se.delete(Oe),Oe.el.classList.add("overlay-hidden"),Oe.el.style.removeProperty("pointer-events"),void 0!==Oe.el.lastFocus&&(Oe.el.lastFocus=void 0)}catch(Vr){(0,k.j)(`[${Oe.el.tagName.toLowerCase()}] - `,Vr)}return Oe.el.remove(),qt(),!0});return function(ze,dt,Qt,fn,An,an,Cn){return qe.apply(this,arguments)}}(),tt=qe=>qe.querySelector("ion-app")||qe.body,St=function(){var qe=(0,S.A)(function*(Oe,ze,dt,Qt){dt.classList.remove("overlay-hidden");const An=ze(Oe.el,Qt);(!Oe.animated||!k.e.getBoolean("animated",!0))&&An.duration(0),Oe.keyboardClose&&An.beforeAddWrite(()=>{const Cn=dt.ownerDocument.activeElement;Cn?.matches("input,ion-input, ion-textarea")&&Cn.blur()});const an=se.get(Oe)||[];return se.set(Oe,[...an,An]),yield An.play(),!0});return function(ze,dt,Qt,fn){return qe.apply(this,arguments)}}(),Ae=(qe,Oe)=>{let ze;const dt=new Promise(Qt=>ze=Qt);return Ge(qe,Oe,Qt=>{ze(Qt.detail)}),dt},Ge=(qe,Oe,ze)=>{const dt=Qt=>{(0,L.m)(qe,Oe,dt),ze(Qt)};(0,L.f)(qe,Oe,dt)},mt=qe=>"cancel"===qe||qe===st,pt=qe=>qe(),Ct=(qe,Oe)=>{if("function"==typeof qe)return k.e.get("_zoneGate",pt)(()=>{try{return qe(Oe)}catch(dt){throw dt}})},st="backdrop",Et="gesture",Ye=39,_t=qe=>{let ze,Oe=!1;const dt=(0,O.C)(),Qt=(an=!1)=>{if(ze&&!an)return{delegate:ze,inline:Oe};const{el:Cn,hasController:rr,delegate:pr}=qe;return Oe=null!==Cn.parentNode&&!rr,ze=Oe?pr||dt:pr,{inline:Oe,delegate:ze}};return{attachViewToDom:function(){var an=(0,S.A)(function*(Cn){const{delegate:rr}=Qt(!0);if(rr)return yield rr.attachViewToDom(qe.el,Cn);const{hasController:pr}=qe;if(pr&&void 0!==Cn)throw new Error("framework delegate is missing");return null});return function(rr){return an.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:an}=Qt();an&&void 0!==qe.el&&an.removeViewFromDom(qe.el.parentElement,qe.el)}}},Nt=()=>{let qe;const Oe=()=>{qe&&(qe(),qe=void 0)};return{addClickListener:(dt,Qt)=>{Oe();const fn=void 0!==Qt?document.getElementById(Qt):null;fn?qe=((an,Cn)=>{const rr=()=>{Cn.present()};return an.addEventListener("click",rr),()=>{an.removeEventListener("click",rr)}})(fn,dt):(0,k.f)(`[${dt.tagName.toLowerCase()}] - A trigger element with the ID "${Qt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,dt)},removeClickListener:Oe}},Sn=qe=>{void 0!==x.d&&(0,f.a)("android")&&qe.setAttribute("aria-hidden","true")},wn=qe=>{var Oe;if(void 0===x.d)return;const ze=ne(x.d);for(let dt=ze.length-1;dt>=0;dt--){const Qt=ze[dt],fn=null!==(Oe=ze[dt+1])&&void 0!==Oe?Oe:qe;(fn.hasAttribute("aria-hidden")||"ION-TOAST"!==fn.tagName)&&Qt.setAttribute("aria-hidden","true")}},qt=()=>{if(void 0===x.d)return;const qe=ne(x.d);for(let Oe=qe.length-1;Oe>=0;Oe--){const ze=qe[Oe];if(ze.removeAttribute("aria-hidden"),"ION-TOAST"!==ze.tagName)break}},Mt="ion-disable-focus-trap"},7510:(Z,we,_)=>{var L,S=_(5e3).default,x=(L=typeof document<"u"?document.currentScript?.src:void 0,S(function*(H={}){var f=H,O="object"==typeof window,E=typeof WorkerGlobalScope<"u",V=("object"==typeof process&&process.versions?.node&&process,"./this.program"),N=(u,I)=>{throw I};E&&(L=self.location.href);var se,le,D="";if(O||E){try{D=new URL(".",L).href}catch{}E&&(le=u=>{var I=new XMLHttpRequest;return I.open("GET",u,!1),I.responseType="arraybuffer",I.send(null),new Uint8Array(I.response)}),se=function(){var u=S(function*(I){var ie=yield fetch(I,{credentials:"same-origin"});if(ie.ok)return ie.arrayBuffer();throw new Error(ie.status+" : "+ie.url)});return function(ie){return u.apply(this,arguments)}}()}var W,me,_e=console.log.bind(console),Q=console.error.bind(console),Y=!1;function Te(u,I){u||Ye(I)}function ee(){if(!Y){var u=Za();0==u&&(u+=4);var I=ne[u>>2],ie=ne[u+4>>2];(34821223!=I||2310721022!=ie)&&Ye(`Stack overflow! Stack cookie has been overwritten at ${Vr(u)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Vr(ie)} ${Vr(I)}`),1668509029!=ne[0]&&Ye("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Ee,ve,ue,Ie,B,U,ne,ye,Ne,be=!1;function tt(){var u=ue.buffer;Ie=new Int8Array(u),new Int16Array(u),f.HEAPU8=B=new Uint8Array(u),new Uint16Array(u),U=new Int32Array(u),f.HEAPU32=ne=new Uint32Array(u),new Float32Array(u),ye=new Float64Array(u),Ne=new BigInt64Array(u),new BigUint64Array(u)}var _t,pt=0,Ct=null;function Ye(u){f.onAbort?.(u),Q(u="Aborted("+u+")"),Y=!0,u+=". Build with -sASSERTIONS for more info.";var I=new WebAssembly.RuntimeError(u);throw ve?.(I),I}function qt(){return(qt=S(function*(u){if(!W)try{var I=yield se(u);return new Uint8Array(I)}catch{}return function Sn(u){if(u==_t&&W)return new Uint8Array(W);if(le)return le(u);throw"both async and sync fetching of the wasm failed"}(u)})).apply(this,arguments)}function qe(){return qe=S(function*(u,I){try{var ie=yield function wn(u){return qt.apply(this,arguments)}(u);return yield WebAssembly.instantiate(ie,I)}catch(Xt){Q(`failed to asynchronously prepare wasm: ${Xt}`),Ye(Xt)}}),qe.apply(this,arguments)}function ze(){return ze=S(function*(u,I,ie){if(!u&&"function"==typeof WebAssembly.instantiateStreaming)try{var ct=fetch(I,{credentials:"same-origin"});return yield WebAssembly.instantiateStreaming(ct,ie)}catch(kn){Q(`wasm streaming compile failed: ${kn}`),Q("falling back to ArrayBuffer instantiation")}return function Mt(u,I){return qe.apply(this,arguments)}(I,ie)}),ze.apply(this,arguments)}function fn(){return fn=S(function*(){function u(kn,er){return ue=(Ll=kn.exports).u,tt(),Gr=Ll.Xc,function ky(u){f._malloc=u.w,f._free=u.x,f._main=Ui=u.y,f._webidl_free=u.z,f._webidl_malloc=u.A,f._emscripten_bind_VoidPtr___destroy___0=fa=u.B,f._emscripten_bind_Cloudpilot_Cloudpilot_0=ms=u.C,f._emscripten_bind_Cloudpilot_Malloc_1=Us=u.D,f._emscripten_bind_Cloudpilot_Free_1=Yo=u.E,f._emscripten_bind_Cloudpilot_Nullptr_0=vs=u.F,f._emscripten_bind_Cloudpilot_EnableLogging_1=gi=u.G,f._emscripten_bind_Cloudpilot_InitializeSession_3=ys=u.H,f._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=_s=u.I,f._emscripten_bind_Cloudpilot_RunEmulation_1=Hi=u.J,f._emscripten_bind_Cloudpilot_SetClockFactor_1=so=u.K,f._emscripten_bind_Cloudpilot_CopyFrame_0=mi=u.L,f._emscripten_bind_Cloudpilot_IsScreenDirty_0=Gi=u.M,f._emscripten_bind_Cloudpilot_MarkScreenClean_0=zi=u.N,f._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=Hs=u.O,f._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=bs=u.P,f._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=ai=u.Q,f._emscripten_bind_Cloudpilot_QueuePenMove_2=Ko=u.R,f._emscripten_bind_Cloudpilot_QueuePenUp_0=vi=u.S,f._emscripten_bind_Cloudpilot_QueueButtonDown_1=Wt=u.T,f._emscripten_bind_Cloudpilot_QueueButtonUp_1=dn=u.U,f._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=pa=u.V,f._emscripten_bind_Cloudpilot_IsPowerOff_0=Gs=u.W,f._emscripten_bind_Cloudpilot_IsUIInitialized_0=vo=u.X,f._emscripten_bind_Cloudpilot_GetOSVersion_0=Cs=u.Y,f._emscripten_bind_Cloudpilot_IsSetupComplete_0=ki=u.Z,f._emscripten_bind_Cloudpilot_Reset_0=Wi=u._,f._emscripten_bind_Cloudpilot_ResetNoExtensions_0=Ss=u.$,f._emscripten_bind_Cloudpilot_ResetHard_0=Ba=u.aa,f._emscripten_bind_Cloudpilot_InstallDb_2=zs=u.ba,f._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=ws=u.ca,f._emscripten_bind_Cloudpilot_GetMemoryPtr_0=ha=u.da,f._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=Ws=u.ea,f._emscripten_bind_Cloudpilot_GetMemorySize_0=qs=u.fa,f._emscripten_bind_Cloudpilot_ImportMemoryImage_2=ga=u.ga,f._emscripten_bind_Cloudpilot_GetRomPtr_0=Zs=u.ha,f._emscripten_bind_Cloudpilot_GetRomSize_0=yo=u.ia,f._emscripten_bind_Cloudpilot_GetSavestatePtr_0=Ys=u.ja,f._emscripten_bind_Cloudpilot_GetSavestateSize_0=eo=u.ka,f._emscripten_bind_Cloudpilot_SaveState_0=qi=u.la,f._emscripten_bind_Cloudpilot_LoadState_2=ma=u.ma,f._emscripten_bind_Cloudpilot_GetHotsyncName_0=ja=u.na,f._emscripten_bind_Cloudpilot_SetHotsyncName_1=Po=u.oa,f._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=Es=u.pa,f._emscripten_bind_Cloudpilot_StartBackup_0=va=u.qa,f._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=Ks=u.ra,f._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=oe=u.sa,f._emscripten_bind_Cloudpilot_IsSuspended_0=Xs=u.ta,f._emscripten_bind_Cloudpilot_GetSuspendContext_0=Be=u.ua,f._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=yi=u.va,f._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=ya=u.wa,f._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=Zi=u.xa,f._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=Ri=u.ya,f._emscripten_bind_Cloudpilot_LaunchAppByName_1=Va=u.za,f._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=p=u.Aa,f._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=m=u.Ba,f._emscripten_bind_Cloudpilot_ClearExternalStorage_0=w=u.Ca,f._emscripten_bind_Cloudpilot_AllocateCard_2=A=u.Da,f._emscripten_bind_Cloudpilot_AdoptCard_3=X=u.Ea,f._emscripten_bind_Cloudpilot_MountCard_1=te=u.Fa,f._emscripten_bind_Cloudpilot_RemoveCard_1=Ve=u.Ga,f._emscripten_bind_Cloudpilot_GetCardData_1=Se=u.Ha,f._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=Ke=u.Ia,f._emscripten_bind_Cloudpilot_GetCardSize_1=ge=u.Ja,f._emscripten_bind_Cloudpilot_RemountCards_0=Fe=u.Ka,f._emscripten_bind_Cloudpilot_GetSupportLevel_1=rt=u.La,f._emscripten_bind_Cloudpilot_GetMountedKey_0=ft=u.Ma,f._emscripten_bind_Cloudpilot_GetTransportIR_0=At=u.Na,f._emscripten_bind_Cloudpilot_GetTransportSerial_0=ht=u.Oa,f._emscripten_bind_Cloudpilot___destroy___0=vn=u.Pa,f._emscripten_bind_RomInfo_RomInfo_2=gr=u.Qa,f._emscripten_bind_RomInfo_IsValid_0=$t=u.Ra,f._emscripten_bind_RomInfo_CardVersion_0=In=u.Sa,f._emscripten_bind_RomInfo_CardName_0=Mn=u.Ta,f._emscripten_bind_RomInfo_RomVersion_0=yn=u.Ua,f._emscripten_bind_RomInfo_RomVersionString_0=Tt=u.Va,f._emscripten_bind_RomInfo_Supports_1=Xn=u.Wa,f._emscripten_bind_RomInfo___destroy___0=en=u.Xa,f._emscripten_bind_Frame_GetLineWidth_0=xn=u.Ya,f._emscripten_bind_Frame_GetBpp_0=tn=u.Za,f._emscripten_bind_Frame_GetLines_0=Zt=u._a,f._emscripten_bind_Frame_GetMargin_0=b=u.$a,f._emscripten_bind_Frame_GetBytesPerLine_0=$=u.ab,f._emscripten_bind_Frame_GetFirstDirtyLine_0=ce=u.bb,f._emscripten_bind_Frame_GetLastDirtyLine_0=Qe=u.cb,f._emscripten_bind_Frame_GetHasChanges_0=kt=u.db,f._emscripten_bind_Frame_GetBuffer_0=gn=u.eb,f._emscripten_bind_Frame_GetBufferSize_0=On=u.fb,f._emscripten_bind_Frame_GetScaleX_0=Un=u.gb,f._emscripten_bind_Frame_GetScaleY_0=zr=u.hb,f._emscripten_bind_Frame___destroy___0=cn=u.ib,f._emscripten_bind_DbBackup_Init_1=xr=u.jb,f._emscripten_bind_DbBackup_IsInProgress_0=or=u.kb,f._emscripten_bind_DbBackup_IsDone_0=ur=u.lb,f._emscripten_bind_DbBackup_GetCurrentDatabase_0=Ot=u.mb,f._emscripten_bind_DbBackup_Save_0=yr=u.nb,f._emscripten_bind_DbBackup_Skip_0=Qn=u.ob,f._emscripten_bind_DbBackup_GetArchivePtr_0=kr=u.pb,f._emscripten_bind_DbBackup_GetArchiveSize_0=ir=u.qb,f._emscripten_bind_DbBackup___destroy___0=sn=u.rb,f._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=g=u.sb,f._emscripten_bind_SuspendContextClipboardCopy_Resume_0=z=u.tb,f._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=Ce=u.ub,f._emscripten_bind_SuspendContextClipboardCopy___destroy___0=lt=u.vb,f._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=Gt=u.wb,f._emscripten_bind_SuspendContextClipboardPaste_Resume_1=pn=u.xb,f._emscripten_bind_SuspendContextClipboardPaste___destroy___0=Rn=u.yb,f._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=zn=u.zb,f._emscripten_bind_SuspendContextNetworkConnect_Resume_0=_o=u.Ab,f._emscripten_bind_SuspendContextNetworkConnect___destroy___0=Ua=u.Bb,f._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=Ha=u.Cb,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=bo=u.Db,f._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=_a=u.Eb,f._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=Xu=u.Fb,f._emscripten_bind_SuspendContextNetworkRpc___destroy___0=to=u.Gb,f._emscripten_bind_SuspendContextSerialSync_Cancel_0=ut=u.Hb,f._emscripten_bind_SuspendContextSerialSync_Resume_0=rn=u.Ib,f._emscripten_bind_SuspendContextSerialSync___destroy___0=$r=u.Jb,f._emscripten_bind_SuspendContext_GetKind_0=Xo=u.Kb,f._emscripten_bind_SuspendContext_Cancel_0=Mo=u.Lb,f._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=dl=u.Mb,f._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=vc=u.Nb,f._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=Jn=u.Ob,f._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=Tr=u.Pb,f._emscripten_bind_SuspendContext_AsContextSerialSync_0=Yi=u.Qb,f._emscripten_bind_SuspendContext___destroy___0=Tn=u.Rb,f._emscripten_bind_SessionImage_SessionImage_0=fl=u.Sb,f._emscripten_bind_SessionImage_GetDeviceId_0=eu=u.Tb,f._emscripten_bind_SessionImage_SetDeviceId_1=xl=u.Ub,f._emscripten_bind_SessionImage_GetRomImage_0=ao=u.Vb,f._emscripten_bind_SessionImage_GetRomImageSize_0=Ga=u.Wb,f._emscripten_bind_SessionImage_SetRomImage_2=kl=u.Xb,f._emscripten_bind_SessionImage_GetMemoryImage_0=ba=u.Yb,f._emscripten_bind_SessionImage_GetMemoryImageSize_0=yc=u.Zb,f._emscripten_bind_SessionImage_SetMemoryImage_2=bf=u._b,f._emscripten_bind_SessionImage_GetMetadata_0=za=u.$b,f._emscripten_bind_SessionImage_GetMetadataSize_0=Qu=u.ac,f._emscripten_bind_SessionImage_SetMetadata_2=pl=u.bc,f._emscripten_bind_SessionImage_GetSavestate_0=Ni=u.cc,f._emscripten_bind_SessionImage_GetSavestateSize_0=Rl=u.dc,f._emscripten_bind_SessionImage_SetSavestate_2=on=u.ec,f._emscripten_bind_SessionImage_GetVersion_0=Ju=u.fc,f._emscripten_bind_SessionImage_Serialize_0=Wa=u.gc,f._emscripten_bind_SessionImage_GetSerializedImage_0=Ca=u.hc,f._emscripten_bind_SessionImage_GetSerializedImageSize_0=tu=u.ic,f._emscripten_bind_SessionImage_Deserialize_2=Nl=u.jc,f._emscripten_bind_SessionImage___destroy___0=Wr=u.kc,f._emscripten_bind_SkinLoader_SkinLoader_1=qr=u.lc,f._emscripten_bind_SkinLoader_GetData_0=li=u.mc,f._emscripten_bind_SkinLoader_GetSize_0=Cf=u.nc,f._emscripten_bind_SkinLoader___destroy___0=Sa=u.oc,f._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=Ol=u.pc,f._emscripten_bind_EmTransportSerialBuffer_Receive_0=Oi=u.qc,f._emscripten_bind_EmTransportSerialBuffer_Send_3=qa=u.rc,f._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=gy=u.sc,f._emscripten_bind_EmTransportSerialBuffer_Rts_0=my=u.tc,f._emscripten_bind_EmTransportSerialBuffer_Dtr_0=wa=u.uc,f._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=Sf=u.vc,f._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=vy=u.wc,f._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=kh=u.xc,f._emscripten_bind_EmTransportSerialBuffer_GetParity_0=nu=u.yc,f._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=yy=u.zc,f._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=_y=u.Ac,f._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=by=u.Bc,f._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=Cy=u.Cc,f._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=Sy=u.Dc,f._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=wy=u.Ec,f._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=Rh=u.Fc,f._emscripten_bind_EmTransportSerialBuffer___destroy___0=Ey=u.Gc,f._emscripten_bind_GunzipContext_GunzipContext_3=Dy=u.Hc,f._emscripten_bind_GunzipContext_GetState_0=Iy=u.Ic,f._emscripten_bind_GunzipContext_Continue_0=Ty=u.Jc,f._emscripten_bind_GunzipContext_GetUncompressedData_0=wf=u.Kc,f._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=Ef=u.Lc,f._emscripten_bind_GunzipContext_GetUncompressedSize_0=Ay=u.Mc,f._emscripten_bind_GunzipContext_GetError_0=My=u.Nc,f._emscripten_bind_GunzipContext___destroy___0=xy=u.Oc,f._emscripten_bind_ZipfileWalker_ZipfileWalker_2=Df=u.Pc,f._emscripten_bind_ZipfileWalker_GetState_0=If=u.Qc,f._emscripten_bind_ZipfileWalker_Next_0=xo=u.Rc,f._emscripten_bind_ZipfileWalker_GetTotalEntries_0=Nh=u.Sc,f._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=Pl=u.Tc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=po=u.Uc,f._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=Oh=u.Vc,f._emscripten_bind_ZipfileWalker___destroy___0=Fl=u.Wc,Za=u.Yc,ed=u.Zc,ci=u._c,Ph=u.$c,f.___original_main=u.ad}(Ll),function Et(){if(pt--,f.monitorRunDependencies?.(pt),0==pt&&Ct){var I=Ct;Ct=null,I()}}(),Ll}!function st(){pt++,f.monitorRunDependencies?.(pt)}();var ie=function dt(){return{a:ui}}();if(f.instantiateWasm)return new Promise((kn,er)=>{f.instantiateWasm(ie,(ar,Fo)=>{kn(u(ar))})});_t??=function Nt(){return function T(u){return f.locateFile?f.locateFile(u,D):D+u}("cloudpilot_web.wasm")}();var ct=yield function Oe(u,I,ie){return ze.apply(this,arguments)}(W,_t,ie);return function I(kn){return u(kn.instance)}(ct)}),fn.apply(this,arguments)}class An{name="ExitStatus";constructor(I){this.message=`Program terminated with exit(${I})`,this.status=I}}var Gr,jn,an=u=>{for(;u.length>0;)u.shift()(f)},Cn=[],rr=u=>Cn.push(u),pr=[],Xr=u=>pr.push(u),go=!0,Vr=u=>"0x"+(u>>>=0).toString(16).padStart(8,"0"),No=typeof TextDecoder<"u"?new TextDecoder:void 0,Qr=(u,I=0,ie=NaN)=>{for(var ct=I+ie,Xt=I;u[Xt]&&!(Xt>=ct);)++Xt;if(Xt-I>16&&u.buffer&&No)return No.decode(u.subarray(I,Xt));for(var kn="";I<Xt;){var er=u[I++];if(128&er){var ar=63&u[I++];if(192!=(224&er)){var Fo=63&u[I++];if((er=224==(240&er)?(15&er)<<12|ar<<6|Fo:(7&er)<<18|ar<<12|Fo<<6|63&u[I++])<65536)kn+=String.fromCharCode(er);else{var $l=er-65536;kn+=String.fromCharCode(55296|$l>>10,56320|1023&$l)}}else kn+=String.fromCharCode((31&er)<<6|ar)}else kn+=String.fromCharCode(er)}return kn},ln=(u,I)=>u?Qr(B,u,I):"",Kt=u=>u<-9007199254740992||u>9007199254740992?NaN:Number(u),Jt=0,Er=[0,31,60,91,121,152,182,213,244,274,305,335],oo=[0,31,59,90,120,151,181,212,243,273,304,334],Jr=u=>((u=>u%4==0&&(u%100!=0||u%400==0))(u.getFullYear())?Er:oo)[u.getMonth()]+u.getDate()-1,Dn={},mo=u=>{if(u instanceof An||"unwind"==u)return me;ee(),u instanceof WebAssembly.RuntimeError&&Ph()<=0&&Q("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),N(0,u)},oi=()=>go||Jt>0,fo=u=>{me=u,oi()||(f.onExit?.(u),Y=!0),N(0,new An(u))},Go=(u,I)=>{me=u,fo(u)},$n=Go,hi=()=>performance.now(),Le=(u,I,ie,ct)=>{if(!(ct>0))return 0;for(var Xt=ie,kn=ie+ct-1,er=0;er<u.length;++er){var ar=u.codePointAt(er);if(ar<=127){if(ie>=kn)break;I[ie++]=ar}else if(ar<=2047){if(ie+1>=kn)break;I[ie++]=192|ar>>6,I[ie++]=128|63&ar}else if(ar<=65535){if(ie+2>=kn)break;I[ie++]=224|ar>>12,I[ie++]=128|ar>>6&63,I[ie++]=128|63&ar}else{if(ie+3>=kn)break;I[ie++]=240|ar>>18,I[ie++]=128|ar>>12&63,I[ie++]=128|ar>>6&63,I[ie++]=128|63&ar,er++}}return I[ie]=0,ie-Xt},cr=(u,I,ie)=>Le(u,B,I,ie),Vn=()=>Date.now(),ii=[],Bn=(u,I)=>Math.ceil(u/I)*I,jt=u=>{var ie=(u-ue.buffer.byteLength+65535)/65536|0;try{return ue.grow(ie),tt(),1}catch{}},xe={},zt=()=>{if(!zt.strings){var I={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.language||"C").replace("-","_")+".UTF-8",_:V||"./this.program"};for(var ie in xe)void 0===xe[ie]?delete I[ie]:I[ie]=xe[ie];var ct=[];for(var ie in I)ct.push(`${ie}=${I[ie]}`);zt.strings=ct}return zt.strings},Kn=u=>{for(var I=0,ie=0;ie<u.length;++ie){var ct=u.charCodeAt(ie);ct<=127?I++:ct<=2047?I+=2:ct>=55296&&ct<=57343?(I+=4,++ie):I+=3}return I},Fa=[null,[],[]],ds=(u,I)=>{var ie=Fa[u];0===I||10===I?((1===u?_e:Q)(Qr(ie)),ie.length=0):ie.push(I)},io=[],Ft=(u,I)=>{u<128?I.push(u):I.push(u%128|128,u>>7)},Zo=[],et=u=>{var I=Zo[u];return I||(Zo[u]=I=Gr.get(u)),I},$a=[],ua=(u,I)=>{Gr.set(u,I),Zo[u]=Gr.get(u)};f.noExitRuntime&&(go=f.noExitRuntime),f.print&&(_e=f.print),f.printErr&&(Q=f.printErr),f.wasmBinary&&(W=f.wasmBinary),f.thisProgram&&(V=f.thisProgram),f.addFunction=(u,I)=>{var ie=(u=>(jn||(jn=new WeakMap,((u,I)=>{if(jn)for(var ie=0;ie<0+I;ie++){var ct=et(ie);ct&&jn.set(ct,ie)}})(0,Gr.length)),jn.get(u)||0))(u);if(ie)return ie;var ct=(()=>{if($a.length)return $a.pop();try{Gr.grow(1)}catch(u){throw u instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":u}return Gr.length-1})();try{ua(ct,u)}catch(kn){if(!(kn instanceof TypeError))throw kn;var Xt=((u,I)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((u=>{for(var I={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},ie={parameters:[],results:"v"==u[0]?[]:[I[u[0]]]},ct=1;ct<u.length;++ct)ie.parameters.push(I[u[ct]]);return ie})(I),u);var ie=[1];((u,I)=>{var ie=u.slice(0,1),ct=u.slice(1),Xt={i:127,p:127,j:126,f:125,d:124,e:111};for(var kn of(I.push(96),Ft(ct.length,I),ct))I.push(Xt[kn]);"v"==ie?I.push(0):I.push(1,Xt[ie])})(I,ie);var ct=[0,97,115,109,1,0,0,0,1];Ft(ie.length,ct),ct.push(...ie),ct.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var Xt=new WebAssembly.Module(new Uint8Array(ct));return new WebAssembly.Instance(Xt,{e:{f:u}}).exports.f})(u,I);ua(ct,Xt)}return jn.set(u,ct),ct},f.UTF8ToString=ln;var Ui,fa,ms,Us,Yo,vs,gi,ys,_s,Hi,so,mi,Gi,zi,Hs,bs,ai,Ko,vi,Wt,dn,pa,Gs,vo,Cs,ki,Wi,Ss,Ba,zs,ws,ha,Ws,qs,ga,Zs,yo,Ys,eo,qi,ma,ja,Po,Es,va,Ks,oe,Xs,Be,yi,ya,Zi,Ri,Va,p,m,w,A,X,te,Ve,Se,Ke,ge,Fe,rt,ft,At,ht,vn,gr,$t,In,Mn,yn,Tt,Xn,en,xn,tn,Zt,b,$,ce,Qe,kt,gn,On,Un,zr,cn,xr,or,ur,Ot,yr,Qn,kr,ir,sn,g,z,Ce,lt,Gt,pn,Rn,zn,_o,Ua,Ha,bo,_a,Xu,to,ut,rn,$r,Xo,Mo,dl,vc,Jn,Tr,Yi,Tn,fl,eu,xl,ao,Ga,kl,ba,yc,bf,za,Qu,pl,Ni,Rl,on,Ju,Wa,Ca,tu,Nl,Wr,qr,li,Cf,Sa,Ol,Oi,qa,gy,my,wa,Sf,vy,kh,nu,yy,_y,by,Cy,Sy,wy,Rh,Ey,Dy,Iy,Ty,wf,Ef,Ay,My,xy,Df,If,xo,Nh,Pl,po,Oh,Fl,Za,ed,ci,Ph,Vs={428784:u=>{Gr.grow(65536);for(let I=0;I<=65535;I++)Gr.set(Gr.length-65535-1+I,Gr.get(ne[(u>>>2)+I]));return Gr.length-65535-1}},ui={a:(u,I,ie,ct)=>Ye(`Assertion failed: ${ln(u)}, at: `+[I?ln(I):"unknown filename",ie,ct?ln(ct):"unknown function"]),s:function da(u){const I=new Error(ln(u));throw I.isAssert=!0,I},c:function Hn(u,I){I=Kt(I)},h:()=>Ye(""),j:()=>{go=!1,Jt=0},p:function Ao(u,I){u=Kt(u);var ie=new Date(1e3*u);U[I>>2]=ie.getSeconds(),U[I+4>>2]=ie.getMinutes(),U[I+8>>2]=ie.getHours(),U[I+12>>2]=ie.getDate(),U[I+16>>2]=ie.getMonth(),U[I+20>>2]=ie.getFullYear()-1900,U[I+24>>2]=ie.getDay();var ct=0|Jr(ie);U[I+28>>2]=ct,U[I+36>>2]=-60*ie.getTimezoneOffset();var Xt=new Date(ie.getFullYear(),0,1),kn=new Date(ie.getFullYear(),6,1).getTimezoneOffset(),er=Xt.getTimezoneOffset(),ar=0|(kn!=er&&ie.getTimezoneOffset()==Math.min(er,kn));U[I+32>>2]=ar},q:function(u){var I=(()=>{var ie=new Date(U[u+20>>2]+1900,U[u+16>>2],U[u+12>>2],U[u+8>>2],U[u+4>>2],U[u>>2],0),ct=U[u+32>>2],Xt=ie.getTimezoneOffset(),kn=new Date(ie.getFullYear(),0,1),er=new Date(ie.getFullYear(),6,1).getTimezoneOffset(),ar=kn.getTimezoneOffset(),Fo=Math.min(ar,er);if(ct<0)U[u+32>>2]=+(er!=ar&&Fo==Xt);else if(ct>0!=(Fo==Xt)){var $l=Math.max(ar,er),Bl=ct>0?Fo:$l;ie.setTime(ie.getTime()+6e4*(Bl-Xt))}U[u+24>>2]=ie.getDay();var Lo=0|Jr(ie);U[u+28>>2]=Lo,U[u>>2]=ie.getSeconds(),U[u+4>>2]=ie.getMinutes(),U[u+8>>2]=ie.getHours(),U[u+12>>2]=ie.getDate(),U[u+16>>2]=ie.getMonth(),U[u+20>>2]=ie.getYear();var Ki=ie.getTime();return isNaN(Ki)?-1:Ki/1e3})();return BigInt(I)},k:(u,I)=>{if(Dn[u]&&(clearTimeout(Dn[u].id),delete Dn[u]),!I)return 0;var ie=setTimeout(()=>{delete Dn[u],(u=>{if(!Y)try{u(),(()=>{if(!oi())try{$n(me)}catch(u){mo(u)}})()}catch(I){mo(I)}})(()=>ed(u,hi()))},I);return Dn[u]={id:ie,timeout_ms:I},0},r:(u,I,ie,ct)=>{var Xt=(new Date).getFullYear(),kn=new Date(Xt,0,1),er=new Date(Xt,6,1),ar=kn.getTimezoneOffset(),Fo=er.getTimezoneOffset(),$l=Math.max(ar,Fo);ne[u>>2]=60*$l,U[I>>2]=+(ar!=Fo);var Bl=Mf=>{var Li=Mf>=0?"-":"+",Ea=Math.abs(Mf);return`UTC${Li}${String(Math.floor(Ea/60)).padStart(2,"0")}${String(Ea%60).padStart(2,"0")}`},Lo=Bl(ar),Ki=Bl(Fo);Fo<ar?(cr(Lo,ie,17),cr(Ki,ct,17)):(cr(Lo,ct,17),cr(Ki,ie,17))},n:function hn(u,I,ie){if(I=Kt(I),!(u=>u>=0&&u<=3)(u))return 28;var ct;ct=0===u?Vn():hi();var Xt=Math.round(1e3*ct*1e3);return Ne[ie>>3]=BigInt(Xt),0},t:(u,I,ie)=>((u,I,ie)=>{var ct=((u,I)=>{ii.length=0;for(var ie;ie=B[u++];){var ct=105!=ie;I+=(ct&=112!=ie)&&I%8?4:0,ii.push(112==ie?ne[I>>2]:106==ie?Ne[I>>3]:105==ie?U[I>>2]:ye[I>>3]),I+=ct?8:4}return ii})(I,ie);return Vs[u](...ct)})(u,I,ie),g:Vn,o:u=>{var I=B.length,ie=2147483648;if((u>>>=0)>ie)return!1;for(var ct=1;ct<=4;ct*=2){var Xt=I*(1+.2/ct);Xt=Math.min(Xt,u+100663296);var kn=Math.min(ie,Bn(Math.max(u,Xt),65536));if(jt(kn))return!0}return!1},l:(u,I)=>{var ie=0,ct=0;for(var Xt of zt()){var kn=I+ie;ne[u+ct>>2]=kn,ie+=cr(Xt,kn,1/0)+1,ct+=4}return 0},m:(u,I)=>{var ie=zt();ne[u>>2]=ie.length;var ct=0;for(var Xt of ie)ct+=Kn(Xt)+1;return ne[I>>2]=ct,0},d:u=>52,f:(u,I,ie,ct)=>52,b:function Tl(u,I,ie,ct){return I=Kt(I),70},e:(u,I,ie,ct)=>{for(var Xt=0,kn=0;kn<ie;kn++){var er=ne[I>>2],ar=ne[I+4>>2];I+=8;for(var Fo=0;Fo<ar;Fo++)ds(u,B[er+Fo]);Xt+=ar}return ne[ct>>2]=Xt,0},i:fo},Ll=yield function Qt(){return fn.apply(this,arguments)}();function dr(){}function Ds(u){return(u||dr).__cache__}function Pn(u,I){var ie=Ds(I),ct=ie[u];return ct||((ct=Object.create((I||dr).prototype)).ptr=u,ie[u]=ct)}(function Af(){if(f.preInit)for("function"==typeof f.preInit&&(f.preInit=[f.preInit]);f.preInit.length>0;)f.preInit.shift()()})(),function _c(){function u(){f.calledRun=!0,Y||(function Ae(){be=!0,ee(),an(io),Ll.v()}(),function Ge(){ee()}(),Ee?.(f),f.onRuntimeInitialized?.(),f.noInitialRun||function Fh(){var u=Ui;try{var ct=u(0,0);return Go(ct),ct}catch(Xt){return mo(Xt)}}(),function mt(){if(ee(),f.postRun)for("function"==typeof f.postRun&&(f.postRun=[f.postRun]);f.postRun.length;)rr(f.postRun.shift());an(Cn)}())}pt>0?Ct=_c:(function Lh(){ci(),function Xe(){var u=Za();0==u&&(u+=4),ne[u>>2]=34821223,ne[u+4>>2]=2310721022,ne[0]=1668509029}()}(),function St(){if(f.preRun)for("function"==typeof f.preRun&&(f.preRun=[f.preRun]);f.preRun.length;)Xr(f.preRun.shift());an(pr)}(),pt>0?Ct=_c:(f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),u()},1)):u(),ee()))}(),(dr.prototype=Object.create(dr.prototype)).constructor=dr,dr.prototype.__class__=dr,dr.__cache__={},f.WrapperObject=dr,f.getCache=Ds,f.wrapPointer=Pn,f.castObject=function Ya(u,I){return Pn(u.ptr,I)},f.NULL=Pn(0),f.destroy=function $h(u){if(!u.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";u.__destroy__(),delete Ds(u.__class__)[u.ptr]},f.compare=function Bh(u,I){return u.ptr===I.ptr},f.getPointer=function jh(u){return u.ptr},f.getClass=function _n(u){return u.__class__};var bn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(bn.needed){for(var u=0;u<bn.temps.length;u++)f._webidl_free(bn.temps[u]);bn.temps.length=0,f._webidl_free(bn.buffer),bn.buffer=0,bn.size+=bn.needed,bn.needed=0}bn.buffer||(bn.size+=128,bn.buffer=f._webidl_malloc(bn.size),Te(bn.buffer)),bn.pos=0},alloc(u,I){Te(bn.buffer);var Xt,ct=u.length*I.BYTES_PER_ELEMENT;return ct=Bn(ct,8),bn.pos+ct>=bn.size?(Te(ct>0),bn.needed+=ct,Xt=f._webidl_malloc(ct),bn.temps.push(Xt)):(Xt=bn.buffer+bn.pos,bn.pos+=ct),Xt},copy(u,I,ie){ie/=I.BYTES_PER_ELEMENT;for(var ct=0;ct<u.length;ct++)I[ie+ct]=u[ct]}};function ko(u){if("string"==typeof u){var I=(u=>{var ct=Kn(u)+1,Xt=new Array(ct);Le(u,Xt,0,Xt.length);return Xt})(u),ie=bn.alloc(I,Ie);return bn.copy(I,Ie,ie),ie}return u}function sr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ue(){this.ptr=ms(),Ds(Ue)[this.ptr]=this}function lo(u,I){u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),this.ptr=gr(u,I),Ds(lo)[this.ptr]=this}function Wn(){throw"cannot construct a Frame, no constructor in IDL"}function _r(){throw"cannot construct a DbBackup, no constructor in IDL"}function Qo(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function _i(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Pi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function Jo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function Fi(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function Br(){throw"cannot construct a SuspendContext, no constructor in IDL"}function De(){this.ptr=fl(),Ds(De)[this.ptr]=this}function Yt(u){bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),this.ptr=qr(u),Ds(Yt)[this.ptr]=this}function Ze(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function at(u,I,ie){u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),ie&&"object"==typeof ie&&(ie=ie.ptr),this.ptr=Dy(u,I,ie),Ds(at)[this.ptr]=this}function Pt(u,I){u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),this.ptr=Df(u,I),Ds(Pt)[this.ptr]=this}return(sr.prototype=Object.create(dr.prototype)).constructor=sr,sr.prototype.__class__=sr,sr.__cache__={},f.VoidPtr=sr,sr.prototype.__destroy__=sr.prototype.__destroy__=function(){fa(this.ptr)},(Ue.prototype=Object.create(dr.prototype)).constructor=Ue,Ue.prototype.__class__=Ue,Ue.__cache__={},f.Cloudpilot=Ue,Ue.prototype.Malloc=Ue.prototype.Malloc=function(u){return u&&"object"==typeof u&&(u=u.ptr),Pn(Us(this.ptr,u),sr)},Ue.prototype.Free=Ue.prototype.Free=function(u){u&&"object"==typeof u&&(u=u.ptr),Yo(this.ptr,u)},Ue.prototype.Nullptr=Ue.prototype.Nullptr=function(){return Pn(vs(this.ptr),sr)},Ue.prototype.EnableLogging=Ue.prototype.EnableLogging=function(u){u&&"object"==typeof u&&(u=u.ptr),gi(this.ptr,u)},Ue.prototype.InitializeSession=Ue.prototype.InitializeSession=function(u,I,ie){var ct=this.ptr;return bn.prepare(),u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),ie=ie&&"object"==typeof ie?ie.ptr:ko(ie),!!ys(ct,u,I,ie)},Ue.prototype.GetCyclesPerSecond=Ue.prototype.GetCyclesPerSecond=function(){return _s(this.ptr)},Ue.prototype.RunEmulation=Ue.prototype.RunEmulation=function(u){return u&&"object"==typeof u&&(u=u.ptr),Hi(this.ptr,u)},Ue.prototype.SetClockFactor=Ue.prototype.SetClockFactor=function(u){u&&"object"==typeof u&&(u=u.ptr),so(this.ptr,u)},Ue.prototype.CopyFrame=Ue.prototype.CopyFrame=function(){return Pn(mi(this.ptr),Wn)},Ue.prototype.IsScreenDirty=Ue.prototype.IsScreenDirty=function(){return!!Gi(this.ptr)},Ue.prototype.MarkScreenClean=Ue.prototype.MarkScreenClean=function(){zi(this.ptr)},Ue.prototype.MinMemoryForDevice=Ue.prototype.MinMemoryForDevice=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),Hs(I,u)},Ue.prototype.FramebufferSizeForDevice=Ue.prototype.FramebufferSizeForDevice=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),bs(I,u)},Ue.prototype.TotalMemoryForDevice=Ue.prototype.TotalMemoryForDevice=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),ai(I,u)},Ue.prototype.QueuePenMove=Ue.prototype.QueuePenMove=function(u,I){u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),Ko(this.ptr,u,I)},Ue.prototype.QueuePenUp=Ue.prototype.QueuePenUp=function(){vi(this.ptr)},Ue.prototype.QueueButtonDown=Ue.prototype.QueueButtonDown=function(u){u&&"object"==typeof u&&(u=u.ptr),Wt(this.ptr,u)},Ue.prototype.QueueButtonUp=Ue.prototype.QueueButtonUp=function(u){u&&"object"==typeof u&&(u=u.ptr),dn(this.ptr,u)},Ue.prototype.QueueKeyboardEvent=Ue.prototype.QueueKeyboardEvent=function(u,I){u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),pa(this.ptr,u,I)},Ue.prototype.IsPowerOff=Ue.prototype.IsPowerOff=function(){return!!Gs(this.ptr)},Ue.prototype.IsUIInitialized=Ue.prototype.IsUIInitialized=function(){return!!vo(this.ptr)},Ue.prototype.GetOSVersion=Ue.prototype.GetOSVersion=function(){return Cs(this.ptr)},Ue.prototype.IsSetupComplete=Ue.prototype.IsSetupComplete=function(){return!!ki(this.ptr)},Ue.prototype.Reset=Ue.prototype.Reset=function(){Wi(this.ptr)},Ue.prototype.ResetNoExtensions=Ue.prototype.ResetNoExtensions=function(){Ss(this.ptr)},Ue.prototype.ResetHard=Ue.prototype.ResetHard=function(){Ba(this.ptr)},Ue.prototype.InstallDb=Ue.prototype.InstallDb=function(u,I){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),zs(this.ptr,u,I)},Ue.prototype.GetPalette2bitMapping=Ue.prototype.GetPalette2bitMapping=function(){return ws(this.ptr)},Ue.prototype.GetMemoryPtr=Ue.prototype.GetMemoryPtr=function(){return Pn(ha(this.ptr),sr)},Ue.prototype.GetDirtyPagesPtr=Ue.prototype.GetDirtyPagesPtr=function(){return Pn(Ws(this.ptr),sr)},Ue.prototype.GetMemorySize=Ue.prototype.GetMemorySize=function(){return qs(this.ptr)},Ue.prototype.ImportMemoryImage=Ue.prototype.ImportMemoryImage=function(u,I){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),!!ga(this.ptr,u,I)},Ue.prototype.GetRomPtr=Ue.prototype.GetRomPtr=function(){return Pn(Zs(this.ptr),sr)},Ue.prototype.GetRomSize=Ue.prototype.GetRomSize=function(){return yo(this.ptr)},Ue.prototype.GetSavestatePtr=Ue.prototype.GetSavestatePtr=function(){return Pn(Ys(this.ptr),sr)},Ue.prototype.GetSavestateSize=Ue.prototype.GetSavestateSize=function(){return eo(this.ptr)},Ue.prototype.SaveState=Ue.prototype.SaveState=function(){return!!qi(this.ptr)},Ue.prototype.LoadState=Ue.prototype.LoadState=function(u,I){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),!!ma(this.ptr,u,I)},Ue.prototype.GetHotsyncName=Ue.prototype.GetHotsyncName=function(){return ln(ja(this.ptr))},Ue.prototype.SetHotsyncName=Ue.prototype.SetHotsyncName=function(u){var I=this.ptr;bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),Po(I,u)},Ue.prototype.RegisterPwmHandler=Ue.prototype.RegisterPwmHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),Es(this.ptr,u)},Ue.prototype.StartBackup=Ue.prototype.StartBackup=function(){return Pn(va(this.ptr),_r)},Ue.prototype.SetClipboardIntegration=Ue.prototype.SetClipboardIntegration=function(u){u&&"object"==typeof u&&(u=u.ptr),Ks(this.ptr,u)},Ue.prototype.GetClipboardIntegration=Ue.prototype.GetClipboardIntegration=function(){return!!oe(this.ptr)},Ue.prototype.IsSuspended=Ue.prototype.IsSuspended=function(){return!!Xs(this.ptr)},Ue.prototype.GetSuspendContext=Ue.prototype.GetSuspendContext=function(){return Pn(Be(this.ptr),Br)},Ue.prototype.SetNetworkRedirection=Ue.prototype.SetNetworkRedirection=function(u){u&&"object"==typeof u&&(u=u.ptr),yi(this.ptr,u)},Ue.prototype.GetNetworkRedirection=Ue.prototype.GetNetworkRedirection=function(){return!!ya(this.ptr)},Ue.prototype.RegisterProxyDisconnectHandler=Ue.prototype.RegisterProxyDisconnectHandler=function(u){u&&"object"==typeof u&&(u=u.ptr),Zi(this.ptr,u)},Ue.prototype.SetHotsyncNameManagement=Ue.prototype.SetHotsyncNameManagement=function(u){u&&"object"==typeof u&&(u=u.ptr),Ri(this.ptr,u)},Ue.prototype.LaunchAppByName=Ue.prototype.LaunchAppByName=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),!!Va(I,u)},Ue.prototype.LaunchAppByDbHeader=Ue.prototype.LaunchAppByDbHeader=function(u,I){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),!!p(this.ptr,u,I)},Ue.prototype.DeviceSupportsCardSize=Ue.prototype.DeviceSupportsCardSize=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!m(this.ptr,u)},Ue.prototype.ClearExternalStorage=Ue.prototype.ClearExternalStorage=function(){w(this.ptr)},Ue.prototype.AllocateCard=Ue.prototype.AllocateCard=function(u,I){var ie=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),I&&"object"==typeof I&&(I=I.ptr),!!A(ie,u,I)},Ue.prototype.AdoptCard=Ue.prototype.AdoptCard=function(u,I,ie){var ct=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),I&&"object"==typeof I&&(I=I.ptr),ie&&"object"==typeof ie&&(ie=ie.ptr),!!X(ct,u,I,ie)},Ue.prototype.MountCard=Ue.prototype.MountCard=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),!!te(I,u)},Ue.prototype.RemoveCard=Ue.prototype.RemoveCard=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),!!Ve(I,u)},Ue.prototype.GetCardData=Ue.prototype.GetCardData=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),Pn(Se(I,u),sr)},Ue.prototype.GetCardDirtyPages=Ue.prototype.GetCardDirtyPages=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),Pn(Ke(I,u),sr)},Ue.prototype.GetCardSize=Ue.prototype.GetCardSize=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),ge(I,u)},Ue.prototype.RemountCards=Ue.prototype.RemountCards=function(){Fe(this.ptr)},Ue.prototype.GetSupportLevel=Ue.prototype.GetSupportLevel=function(u){return u&&"object"==typeof u&&(u=u.ptr),rt(this.ptr,u)},Ue.prototype.GetMountedKey=Ue.prototype.GetMountedKey=function(){return ln(ft(this.ptr))},Ue.prototype.GetTransportIR=Ue.prototype.GetTransportIR=function(){return Pn(At(this.ptr),Ze)},Ue.prototype.GetTransportSerial=Ue.prototype.GetTransportSerial=function(){return Pn(ht(this.ptr),Ze)},Ue.prototype.__destroy__=Ue.prototype.__destroy__=function(){vn(this.ptr)},(lo.prototype=Object.create(dr.prototype)).constructor=lo,lo.prototype.__class__=lo,lo.__cache__={},f.RomInfo=lo,lo.prototype.IsValid=lo.prototype.IsValid=function(){return!!$t(this.ptr)},lo.prototype.CardVersion=lo.prototype.CardVersion=function(){return In(this.ptr)},lo.prototype.CardName=lo.prototype.CardName=function(){return ln(Mn(this.ptr))},lo.prototype.RomVersion=lo.prototype.RomVersion=function(){return yn(this.ptr)},lo.prototype.RomVersionString=lo.prototype.RomVersionString=function(){return ln(Tt(this.ptr))},lo.prototype.Supports=lo.prototype.Supports=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),!!Xn(I,u)},lo.prototype.__destroy__=lo.prototype.__destroy__=function(){en(this.ptr)},(Wn.prototype=Object.create(dr.prototype)).constructor=Wn,Wn.prototype.__class__=Wn,Wn.__cache__={},f.Frame=Wn,Wn.prototype.GetLineWidth=Wn.prototype.GetLineWidth=function(){return xn(this.ptr)},Wn.prototype.GetBpp=Wn.prototype.GetBpp=function(){return tn(this.ptr)},Wn.prototype.GetLines=Wn.prototype.GetLines=function(){return Zt(this.ptr)},Wn.prototype.GetMargin=Wn.prototype.GetMargin=function(){return b(this.ptr)},Wn.prototype.GetBytesPerLine=Wn.prototype.GetBytesPerLine=function(){return $(this.ptr)},Wn.prototype.GetFirstDirtyLine=Wn.prototype.GetFirstDirtyLine=function(){return ce(this.ptr)},Wn.prototype.GetLastDirtyLine=Wn.prototype.GetLastDirtyLine=function(){return Qe(this.ptr)},Wn.prototype.GetHasChanges=Wn.prototype.GetHasChanges=function(){return!!kt(this.ptr)},Wn.prototype.GetBuffer=Wn.prototype.GetBuffer=function(){return Pn(gn(this.ptr),sr)},Wn.prototype.GetBufferSize=Wn.prototype.GetBufferSize=function(){return On(this.ptr)},Wn.prototype.GetScaleX=Wn.prototype.GetScaleX=function(){return Un(this.ptr)},Wn.prototype.GetScaleY=Wn.prototype.GetScaleY=function(){return zr(this.ptr)},Wn.prototype.__destroy__=Wn.prototype.__destroy__=function(){cn(this.ptr)},(_r.prototype=Object.create(dr.prototype)).constructor=_r,_r.prototype.__class__=_r,_r.__cache__={},f.DbBackup=_r,_r.prototype.Init=_r.prototype.Init=function(u){return u&&"object"==typeof u&&(u=u.ptr),!!xr(this.ptr,u)},_r.prototype.IsInProgress=_r.prototype.IsInProgress=function(){return!!or(this.ptr)},_r.prototype.IsDone=_r.prototype.IsDone=function(){return!!ur(this.ptr)},_r.prototype.GetCurrentDatabase=_r.prototype.GetCurrentDatabase=function(){return ln(Ot(this.ptr))},_r.prototype.Save=_r.prototype.Save=function(){return!!yr(this.ptr)},_r.prototype.Skip=_r.prototype.Skip=function(){Qn(this.ptr)},_r.prototype.GetArchivePtr=_r.prototype.GetArchivePtr=function(){return Pn(kr(this.ptr),sr)},_r.prototype.GetArchiveSize=_r.prototype.GetArchiveSize=function(){return ir(this.ptr)},_r.prototype.__destroy__=_r.prototype.__destroy__=function(){sn(this.ptr)},(Qo.prototype=Object.create(dr.prototype)).constructor=Qo,Qo.prototype.__class__=Qo,Qo.__cache__={},f.SuspendContextClipboardCopy=Qo,Qo.prototype.Cancel=Qo.prototype.Cancel=function(){g(this.ptr)},Qo.prototype.Resume=Qo.prototype.Resume=function(){z(this.ptr)},Qo.prototype.GetClipboardContent=Qo.prototype.GetClipboardContent=function(){return ln(Ce(this.ptr))},Qo.prototype.__destroy__=Qo.prototype.__destroy__=function(){lt(this.ptr)},(_i.prototype=Object.create(dr.prototype)).constructor=_i,_i.prototype.__class__=_i,_i.__cache__={},f.SuspendContextClipboardPaste=_i,_i.prototype.Cancel=_i.prototype.Cancel=function(){Gt(this.ptr)},_i.prototype.Resume=_i.prototype.Resume=function(u){var I=this.ptr;bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),pn(I,u)},_i.prototype.__destroy__=_i.prototype.__destroy__=function(){Rn(this.ptr)},(Pi.prototype=Object.create(dr.prototype)).constructor=Pi,Pi.prototype.__class__=Pi,Pi.__cache__={},f.SuspendContextNetworkConnect=Pi,Pi.prototype.Cancel=Pi.prototype.Cancel=function(){zn(this.ptr)},Pi.prototype.Resume=Pi.prototype.Resume=function(){_o(this.ptr)},Pi.prototype.__destroy__=Pi.prototype.__destroy__=function(){Ua(this.ptr)},(Jo.prototype=Object.create(dr.prototype)).constructor=Jo,Jo.prototype.__class__=Jo,Jo.__cache__={},f.SuspendContextNetworkRpc=Jo,Jo.prototype.Cancel=Jo.prototype.Cancel=function(){Ha(this.ptr)},Jo.prototype.GetRequestSize=Jo.prototype.GetRequestSize=function(){return bo(this.ptr)},Jo.prototype.GetRequestData=Jo.prototype.GetRequestData=function(){return Pn(_a(this.ptr),sr)},Jo.prototype.ReceiveResponse=Jo.prototype.ReceiveResponse=function(u,I){u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),Xu(this.ptr,u,I)},Jo.prototype.__destroy__=Jo.prototype.__destroy__=function(){to(this.ptr)},(Fi.prototype=Object.create(dr.prototype)).constructor=Fi,Fi.prototype.__class__=Fi,Fi.__cache__={},f.SuspendContextSerialSync=Fi,Fi.prototype.Cancel=Fi.prototype.Cancel=function(){ut(this.ptr)},Fi.prototype.Resume=Fi.prototype.Resume=function(){rn(this.ptr)},Fi.prototype.__destroy__=Fi.prototype.__destroy__=function(){$r(this.ptr)},(Br.prototype=Object.create(dr.prototype)).constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},f.SuspendContext=Br,Br.prototype.GetKind=Br.prototype.GetKind=function(){return Xo(this.ptr)},Br.prototype.Cancel=Br.prototype.Cancel=function(){Mo(this.ptr)},Br.prototype.AsContextClipboardCopy=Br.prototype.AsContextClipboardCopy=function(){return Pn(dl(this.ptr),Qo)},Br.prototype.AsContextClipboardPaste=Br.prototype.AsContextClipboardPaste=function(){return Pn(vc(this.ptr),_i)},Br.prototype.AsContextNetworkConnect=Br.prototype.AsContextNetworkConnect=function(){return Pn(Jn(this.ptr),Pi)},Br.prototype.AsContextNetworkRpc=Br.prototype.AsContextNetworkRpc=function(){return Pn(Tr(this.ptr),Jo)},Br.prototype.AsContextSerialSync=Br.prototype.AsContextSerialSync=function(){return Pn(Yi(this.ptr),Fi)},Br.prototype.__destroy__=Br.prototype.__destroy__=function(){Tn(this.ptr)},(De.prototype=Object.create(dr.prototype)).constructor=De,De.prototype.__class__=De,De.__cache__={},f.SessionImage=De,De.prototype.GetDeviceId=De.prototype.GetDeviceId=function(){return ln(eu(this.ptr))},De.prototype.SetDeviceId=De.prototype.SetDeviceId=function(u){var I=this.ptr;return bn.prepare(),u=u&&"object"==typeof u?u.ptr:ko(u),Pn(xl(I,u),De)},De.prototype.GetRomImage=De.prototype.GetRomImage=function(){return Pn(ao(this.ptr),sr)},De.prototype.GetRomImageSize=De.prototype.GetRomImageSize=function(){return Ga(this.ptr)},De.prototype.SetRomImage=De.prototype.SetRomImage=function(u,I){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),Pn(kl(this.ptr,u,I),De)},De.prototype.GetMemoryImage=De.prototype.GetMemoryImage=function(){return Pn(ba(this.ptr),sr)},De.prototype.GetMemoryImageSize=De.prototype.GetMemoryImageSize=function(){return yc(this.ptr)},De.prototype.SetMemoryImage=De.prototype.SetMemoryImage=function(u,I){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),Pn(bf(this.ptr,u,I),De)},De.prototype.GetMetadata=De.prototype.GetMetadata=function(){return Pn(za(this.ptr),sr)},De.prototype.GetMetadataSize=De.prototype.GetMetadataSize=function(){return Qu(this.ptr)},De.prototype.SetMetadata=De.prototype.SetMetadata=function(u,I){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),Pn(pl(this.ptr,u,I),De)},De.prototype.GetSavestate=De.prototype.GetSavestate=function(){return Pn(Ni(this.ptr),sr)},De.prototype.GetSavestateSize=De.prototype.GetSavestateSize=function(){return Rl(this.ptr)},De.prototype.SetSavestate=De.prototype.SetSavestate=function(u,I){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),Pn(on(this.ptr,u,I),De)},De.prototype.GetVersion=De.prototype.GetVersion=function(){return Ju(this.ptr)},De.prototype.Serialize=De.prototype.Serialize=function(){return!!Wa(this.ptr)},De.prototype.GetSerializedImage=De.prototype.GetSerializedImage=function(){return Pn(Ca(this.ptr),sr)},De.prototype.GetSerializedImageSize=De.prototype.GetSerializedImageSize=function(){return tu(this.ptr)},De.prototype.Deserialize=De.prototype.Deserialize=function(u,I){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),!!Nl(this.ptr,u,I)},De.prototype.__destroy__=De.prototype.__destroy__=function(){Wr(this.ptr)},(Yt.prototype=Object.create(dr.prototype)).constructor=Yt,Yt.prototype.__class__=Yt,Yt.__cache__={},f.SkinLoader=Yt,Yt.prototype.GetData=Yt.prototype.GetData=function(){return Pn(li(this.ptr),sr)},Yt.prototype.GetSize=Yt.prototype.GetSize=function(){return Cf(this.ptr)},Yt.prototype.__destroy__=Yt.prototype.__destroy__=function(){Sa(this.ptr)},(Ze.prototype=Object.create(dr.prototype)).constructor=Ze,Ze.prototype.__class__=Ze,Ze.__cache__={},f.EmTransportSerialBuffer=Ze,Ze.prototype.RxBytesPending=Ze.prototype.RxBytesPending=function(){return Ol(this.ptr)},Ze.prototype.Receive=Ze.prototype.Receive=function(){return Pn(Oi(this.ptr),sr)},Ze.prototype.Send=Ze.prototype.Send=function(u,I,ie){return u&&"object"==typeof u&&(u=u.ptr),I&&"object"==typeof I&&(I=I.ptr),ie&&"object"==typeof ie&&(ie=ie.ptr),qa(this.ptr,u,I,ie)},Ze.prototype.IsOpen=Ze.prototype.IsOpen=function(){return!!gy(this.ptr)},Ze.prototype.Rts=Ze.prototype.Rts=function(){return my(this.ptr)},Ze.prototype.Dtr=Ze.prototype.Dtr=function(){return!!wa(this.ptr)},Ze.prototype.IsBreak=Ze.prototype.IsBreak=function(){return!!Sf(this.ptr)},Ze.prototype.BufferSize=Ze.prototype.BufferSize=function(){return vy(this.ptr)},Ze.prototype.GetBaud=Ze.prototype.GetBaud=function(){return kh(this.ptr)},Ze.prototype.GetParity=Ze.prototype.GetParity=function(){return nu(this.ptr)},Ze.prototype.GetStopBits=Ze.prototype.GetStopBits=function(){return yy(this.ptr)},Ze.prototype.GetDataBits=Ze.prototype.GetDataBits=function(){return _y(this.ptr)},Ze.prototype.GetHwrHandshake=Ze.prototype.GetHwrHandshake=function(){return by(this.ptr)},Ze.prototype.GetModeSync=Ze.prototype.GetModeSync=function(){return!!Cy(this.ptr)},Ze.prototype.SetModeSync=Ze.prototype.SetModeSync=function(u){u&&"object"==typeof u&&(u=u.ptr),Sy(this.ptr,u)},Ze.prototype.IsFrameComplete=Ze.prototype.IsFrameComplete=function(){return!!wy(this.ptr)},Ze.prototype.SetRequestTransferCallback=Ze.prototype.SetRequestTransferCallback=function(u){u&&"object"==typeof u&&(u=u.ptr),Rh(this.ptr,u)},Ze.prototype.__destroy__=Ze.prototype.__destroy__=function(){Ey(this.ptr)},(at.prototype=Object.create(dr.prototype)).constructor=at,at.prototype.__class__=at,at.__cache__={},f.GunzipContext=at,at.prototype.GetState=at.prototype.GetState=function(){return Iy(this.ptr)},at.prototype.Continue=at.prototype.Continue=function(){return Ty(this.ptr)},at.prototype.GetUncompressedData=at.prototype.GetUncompressedData=function(){return Pn(wf(this.ptr),sr)},at.prototype.ReleaseUncompressedData=at.prototype.ReleaseUncompressedData=function(){return Pn(Ef(this.ptr),sr)},at.prototype.GetUncompressedSize=at.prototype.GetUncompressedSize=function(){return Ay(this.ptr)},at.prototype.GetError=at.prototype.GetError=function(){return ln(My(this.ptr))},at.prototype.__destroy__=at.prototype.__destroy__=function(){xy(this.ptr)},(Pt.prototype=Object.create(dr.prototype)).constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},f.ZipfileWalker=Pt,Pt.prototype.GetState=Pt.prototype.GetState=function(){return If(this.ptr)},Pt.prototype.Next=Pt.prototype.Next=function(){return xo(this.ptr)},Pt.prototype.GetTotalEntries=Pt.prototype.GetTotalEntries=function(){return Nh(this.ptr)},Pt.prototype.GetCurrentEntrySize=Pt.prototype.GetCurrentEntrySize=function(){return Pl(this.ptr)},Pt.prototype.GetCurrentEntryName=Pt.prototype.GetCurrentEntryName=function(){return ln(po(this.ptr))},Pt.prototype.GetCurrentEntryContent=Pt.prototype.GetCurrentEntryContent=function(){return Pn(Oh(this.ptr),sr)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){Fl(this.ptr)},be?f:new Promise((u,I)=>{Ee=u,ve=I})}));Z.exports=x,Z.exports.default=x},7598:Z=>{"use strict";Z.exports=Math.abs},7638:Z=>{var we={}.toString;Z.exports=Array.isArray||function(_){return"[object Array]"==we.call(_)}},7648:Z=>{"use strict";Z.exports=Function.prototype.call},7653:(Z,we,_)=>{"use strict";var S=_(840),x=_(5831),L=S("RegExp.prototype.exec"),H=_(8519);Z.exports=function(f){if(!x(f))throw new H("`regex` must be a RegExp");return function(E){return null!==L(f,E)}}},7671:(Z,we,_)=>{"use strict";if(_(362)()){var x=BigInt.prototype.valueOf;Z.exports=function(k){return!(null===k||typeof k>"u"||"boolean"==typeof k||"string"==typeof k||"number"==typeof k||"symbol"==typeof k||"function"==typeof k)&&("bigint"==typeof k||function(k){try{return x.call(k),!0}catch{}return!1}(k))}}else Z.exports=function(k){return!1}},7707:(Z,we,_)=>{"use strict";var S=_(3933);Z.exports=Function.prototype.bind||S},7718:Z=>{"use strict";Z.exports=RangeError},7888:Z=>{"use strict";Z.exports=Object},7935:(Z,we,_)=>{"use strict";var S;if(!Object.keys){var x=Object.prototype.hasOwnProperty,L=Object.prototype.toString,H=_(6321),k=Object.prototype.propertyIsEnumerable,f=!k.call({toString:null},"toString"),O=k.call(function(){},"prototype"),E=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],P=function(D){var T=D.constructor;return T&&T.prototype===D},R={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},V=function(){if(typeof window>"u")return!1;for(var D in window)try{if(!R["$"+D]&&x.call(window,D)&&null!==window[D]&&"object"==typeof window[D])try{P(window[D])}catch{return!0}}catch{return!0}return!1}();S=function(T){var se=null!==T&&"object"==typeof T,le="[object Function]"===L.call(T),_e=H(T),Q=se&&"[object String]"===L.call(T),W=[];if(!se&&!le&&!_e)throw new TypeError("Object.keys called on a non-object");var Y=O&&le;if(Q&&T.length>0&&!x.call(T,0))for(var me=0;me<T.length;++me)W.push(String(me));if(_e&&T.length>0)for(var Te=0;Te<T.length;++Te)W.push(String(Te));else for(var Xe in T)(!Y||"prototype"!==Xe)&&x.call(T,Xe)&&W.push(String(Xe));if(f)for(var ee=function(D){if(typeof window>"u"||!V)return P(D);try{return P(D)}catch{return!1}}(T),Ee=0;Ee<E.length;++Ee)(!ee||"constructor"!==E[Ee])&&x.call(T,E[Ee])&&W.push(E[Ee]);return W}}Z.exports=S},8081:function(Z,we){!function(_){"use strict";var N,L=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,H=536870912,k=2*H,O=new WeakMap,P=function(N,D){return function(T){var se=D.get(T),le=void 0===se?T.size:se<k?se+1:0;if(!T.has(le))return N(T,le);if(T.size<H){for(;T.has(le);)le=Math.floor(Math.random()*k);return N(T,le)}if(T.size>L)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;T.has(le);)le=Math.floor(Math.random()*L);return N(T,le)}}((N=O,function(D,T){return N.set(D,T),T}),O),R=function(N){return function(D){var T=N(D);return D.add(T),T}}(P);_.addUniqueNumber=R,_.generateUniqueNumber=P}(we)},8251:Z=>{var we={utf8:{stringToBytes:function(_){return we.bin.stringToBytes(unescape(encodeURIComponent(_)))},bytesToString:function(_){return decodeURIComponent(escape(we.bin.bytesToString(_)))}},bin:{stringToBytes:function(_){for(var S=[],x=0;x<_.length;x++)S.push(255&_.charCodeAt(x));return S},bytesToString:function(_){for(var S=[],x=0;x<_.length;x++)S.push(String.fromCharCode(_[x]));return S.join("")}}};Z.exports=we},8344:(Z,we,_)=>{"use strict";var S=_(5328)(),L=_(840)("Object.prototype.toString"),H=function(E){return!(S&&E&&"object"==typeof E&&Symbol.toStringTag in E)&&"[object Arguments]"===L(E)},k=function(E){return!!H(E)||null!==E&&"object"==typeof E&&"length"in E&&"number"==typeof E.length&&E.length>=0&&"[object Array]"!==L(E)&&"callee"in E&&"[object Function]"===L(E.callee)},f=function(){return H(arguments)}();H.isLegacyArguments=k,Z.exports=f?H:k},8436:(Z,we,_)=>{"use strict";var S=_(592).supportsDescriptors,x=_(4198),L=_(9263),H=Object.defineProperty,k=_(1123),f=_(1568),O=/a/;Z.exports=function(){if(!S||!f)throw new k("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var P=x(),R=f(O),V=L(R,"flags");return(!V||V.get!==P)&&H(R,"flags",{configurable:!0,enumerable:!1,get:P}),P}},8447:(Z,we,_)=>{"use strict";var S=_(9209),x=_(6497)(),L=_(840),H=_(7888),k=L("Array.prototype.push"),f=L("Object.prototype.propertyIsEnumerable"),O=x?H.getOwnPropertySymbols:null;Z.exports=function(P,R){if(null==P)throw new TypeError("target must be an object");var V=H(P);if(1===arguments.length)return V;for(var N=1;N<arguments.length;++N){var D=H(arguments[N]),T=S(D),se=x&&(H.getOwnPropertySymbols||O);if(se)for(var le=se(D),_e=0;_e<le.length;++_e){var Q=le[_e];f(D,Q)&&k(T,Q)}for(var W=0;W<T.length;++W){var Y=T[W];f(D,Y)&&(V[Y]=D[Y])}}return V}},8519:Z=>{"use strict";Z.exports=TypeError},8580:(Z,we,_)=>{"use strict";var L,S=_(2282),x=_(9263);try{L=[].__proto__===Array.prototype}catch(O){if(!O||"object"!=typeof O||!("code"in O)||"ERR_PROTO_ACCESS"!==O.code)throw O}var H=!!L&&x&&x(Object.prototype,"__proto__"),k=Object,f=k.getPrototypeOf;Z.exports=H&&"function"==typeof H.get?S([H.get]):"function"==typeof f&&function(E){return f(null==E?E:k(E))}},8963:Z=>{"use strict";Z.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},8979:(Z,we,_)=>{"use strict";var S=_(840),x=S("Number.prototype.toString"),H=S("Object.prototype.toString"),f=_(5328)();Z.exports=function(E){return"number"==typeof E||!(!E||"object"!=typeof E)&&(f?function(E){try{return x(E),!0}catch{return!1}}(E):"[object Number]"===H(E))}},8996:(Z,we,_)=>{var S={"./ion-accordion_2.entry.js":[7518,2076,7518],"./ion-action-sheet.entry.js":[1981,2076,1981],"./ion-alert.entry.js":[1603,2076,1603],"./ion-app_8.entry.js":[2273,2076,2273],"./ion-avatar_3.entry.js":[9642,9642],"./ion-back-button.entry.js":[2095,2076,2095],"./ion-backdrop.entry.js":[2335,2335],"./ion-breadcrumb_2.entry.js":[8221,2076,8221],"./ion-button_2.entry.js":[7184,7184],"./ion-card_5.entry.js":[8759,8759],"./ion-checkbox.entry.js":[4248,4248],"./ion-chip.entry.js":[9863,9863],"./ion-col_3.entry.js":[1769,1769],"./ion-datetime-button.entry.js":[2569,6948,2569],"./ion-datetime_3.entry.js":[6534,6948,2076,6534],"./ion-fab_3.entry.js":[5458,2076,5458],"./ion-img.entry.js":[654,654],"./ion-infinite-scroll_2.entry.js":[6034,2076,6034],"./ion-input-otp.entry.js":[381,2076,381],"./ion-input-password-toggle.entry.js":[5196,2076,5196],"./ion-input.entry.js":[761,2076,761],"./ion-item-option_3.entry.js":[6492,2076,6492],"./ion-item_8.entry.js":[9557,2076,9557],"./ion-loading.entry.js":[8353,2076,8353],"./ion-menu_3.entry.js":[1024,2076,1024],"./ion-modal.entry.js":[9160,2076,9160],"./ion-nav_2.entry.js":[393,2076,393],"./ion-picker-column-option.entry.js":[8442,8442],"./ion-picker-column.entry.js":[3110,2076,3110],"./ion-picker.entry.js":[5575,5575],"./ion-popover.entry.js":[6772,2076,6772],"./ion-progress-bar.entry.js":[4810,4810],"./ion-radio_2.entry.js":[4639,2076,4639],"./ion-range.entry.js":[628,2076,628],"./ion-refresher_2.entry.js":[852,2076,852],"./ion-reorder_2.entry.js":[1479,2076,1479],"./ion-ripple-effect.entry.js":[4065,4065],"./ion-route_4.entry.js":[7971,7971],"./ion-searchbar.entry.js":[3184,2076,3184],"./ion-segment-content.entry.js":[4312,4312],"./ion-segment-view.entry.js":[4540,4540],"./ion-segment_2.entry.js":[469,2076,469],"./ion-select-modal.entry.js":[7101,7101],"./ion-select_3.entry.js":[8471,2076,8471],"./ion-spinner.entry.js":[388,2076,388],"./ion-split-pane.entry.js":[2392,2392],"./ion-tab-bar_2.entry.js":[6059,2076,6059],"./ion-tab_2.entry.js":[5427,5427],"./ion-text.entry.js":[198,198],"./ion-textarea.entry.js":[1735,2076,1735],"./ion-toast.entry.js":[5129,2076,7510],"./ion-toggle.entry.js":[5297,2076,5297]};function x(L){if(!_.o(S,L))return Promise.resolve().then(()=>{var f=new Error("Cannot find module '"+L+"'");throw f.code="MODULE_NOT_FOUND",f});var H=S[L],k=H[0];return Promise.all(H.slice(1).map(_.e)).then(()=>_(k))}x.keys=()=>Object.keys(S),x.id=8996,Z.exports=x},9110:(Z,we,_)=>{"use strict";var S=_(9831);Z.exports=function(){return"function"==typeof Object.is?Object.is:S}},9116:Z=>{"use strict";var S,we="function"==typeof Map&&Map.prototype?Map:null,_="function"==typeof Set&&Set.prototype?Set:null;_||(S=function(k){return!1});var x=we?Map.prototype.has:null,L=_?Set.prototype.has:null;!S&&!L&&(S=function(k){return!1}),Z.exports=S||function(k){if(!k||"object"!=typeof k)return!1;try{if(L.call(k),x)try{x.call(k)}catch{return!0}return k instanceof _}catch{}return!1}},9209:(Z,we,_)=>{"use strict";var S=Array.prototype.slice,x=_(6321),L=Object.keys,H=L?function(O){return L(O)}:_(7935),k=Object.keys;H.shim=function(){if(Object.keys){var O=function(){var E=Object.keys(arguments);return E&&E.length===arguments.length}(1,2);O||(Object.keys=function(P){return x(P)?k(S.call(P)):k(P)})}else Object.keys=H;return Object.keys||H},Z.exports=H},9250:(Z,we,_)=>{"use strict";var S=_(6969),x=_(3463),L=_(7057),H=_(2521),k=_(158),f=_(5492),O=_(545),E=_(8344),P=_(7638),R=_(3066),V=_(5500),N=_(5831),D=_(2090),T=_(9209),se=_(6959),le=_(5757),_e=_(6547),Q=_(2219),W=x("SharedArrayBuffer.prototype.byteLength",!0),Y=x("Date.prototype.getTime"),me=Object.getPrototypeOf,Te=x("Object.prototype.toString"),Xe=H("%Set%",!0),ee=x("Map.prototype.has",!0),Ee=x("Map.prototype.get",!0),ve=x("Map.prototype.size",!0),ue=x("Set.prototype.add",!0),Ie=x("Set.prototype.delete",!0),B=x("Set.prototype.has",!0),K=x("Set.prototype.size",!0);function je(Ae,Ge,mt,pt){for(var st,Ct=k(Ae);(st=Ct.next())&&!st.done;)if(Ne(Ge,st.value,mt,pt))return Ie(Ae,st.value),!0;return!1}function U(Ae){return typeof Ae>"u"?null:"object"!=typeof Ae?"symbol"!=typeof Ae&&("string"!=typeof Ae&&"number"!=typeof Ae||+Ae==+Ae):void 0}function ne(Ae,Ge,mt,pt,Ct,st){var Et=U(mt);if(null!=Et)return Et;var Ye=Ee(Ge,Et),_t=S({},Ct,{strict:!1});return!(typeof Ye>"u"&&!ee(Ge,Et)||!Ne(pt,Ye,_t,st))&&!ee(Ae,Et)&&Ne(pt,Ye,_t,st)}function ae(Ae,Ge,mt){var pt=U(mt);return pt??(B(Ge,pt)&&!B(Ae,pt))}function ye(Ae,Ge,mt,pt,Ct,st){for(var Ye,_t,Et=k(Ae);(Ye=Et.next())&&!Ye.done;)if(Ne(mt,_t=Ye.value,Ct,st)&&Ne(pt,Ee(Ge,_t),Ct,st))return Ie(Ae,_t),!0;return!1}function Ne(Ae,Ge,mt,pt){var Ct=mt||{};if(Ct.strict?O(Ae,Ge):Ae===Ge)return!0;if(se(Ae)!==se(Ge))return!1;if(!Ae||!Ge||"object"!=typeof Ae&&"object"!=typeof Ge)return Ct.strict?O(Ae,Ge):Ae==Ge;var Nt,Ye=pt.has(Ae),_t=pt.has(Ge);if(Ye&&_t){if(pt.get(Ae)===pt.get(Ge))return!0}else Nt={};return Ye||pt.set(Ae,Nt),_t||pt.set(Ge,Nt),function St(Ae,Ge,mt,pt){var Ct,st;if(typeof Ae!=typeof Ge||null==Ae||null==Ge||Te(Ae)!==Te(Ge)||E(Ae)!==E(Ge))return!1;if(P(Ae)!==P(Ge))return!1;var _t=Ae instanceof Error,Nt=Ge instanceof Error;if(_t!==Nt||(_t||Nt)&&(Ae.name!==Ge.name||Ae.message!==Ge.message))return!1;var Sn=N(Ae),wn=N(Ge);if(Sn!==wn||(Sn||wn)&&(Ae.source!==Ge.source||L(Ae)!==L(Ge)))return!1;var qt=V(Ae),Mt=V(Ge);if(qt!==Mt||(qt||Mt)&&Y(Ae)!==Y(Ge)||mt.strict&&me&&me(Ae)!==me(Ge))return!1;var qe=_e(Ae),Oe=_e(Ge);if(qe!==Oe)return!1;if(qe||Oe){if(Ae.length!==Ge.length)return!1;for(Ct=0;Ct<Ae.length;Ct++)if(Ae[Ct]!==Ge[Ct])return!1;return!0}var ze=$e(Ae),dt=$e(Ge);if(ze!==dt)return!1;if(ze||dt){if(Ae.length!==Ge.length)return!1;for(Ct=0;Ct<Ae.length;Ct++)if(Ae[Ct]!==Ge[Ct])return!1;return!0}var Qt=R(Ae),fn=R(Ge);if(Qt!==fn)return!1;if(Qt||fn)return Q(Ae)===Q(Ge)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(Ae),new Uint8Array(Ge),mt,pt);var An=D(Ae),an=D(Ge);if(An!==an)return!1;if(An||an)return W(Ae)===W(Ge)&&"function"==typeof Uint8Array&&Ne(new Uint8Array(Ae),new Uint8Array(Ge),mt,pt);if(typeof Ae!=typeof Ge)return!1;var Cn=T(Ae),rr=T(Ge);if(Cn.length!==rr.length)return!1;for(Cn.sort(),rr.sort(),Ct=Cn.length-1;Ct>=0;Ct--)if(Cn[Ct]!=rr[Ct])return!1;for(Ct=Cn.length-1;Ct>=0;Ct--)if(!Ne(Ae[st=Cn[Ct]],Ge[st],mt,pt))return!1;var pr=le(Ae),Xr=le(Ge);return pr===Xr&&("Set"===pr||"Set"===Xr?function be(Ae,Ge,mt,pt){if(K(Ae)!==K(Ge))return!1;for(var Et,Ye,_t,Ct=k(Ae),st=k(Ge);(Et=Ct.next())&&!Et.done;)if(Et.value&&"object"==typeof Et.value)_t||(_t=new Xe),ue(_t,Et.value);else if(!B(Ge,Et.value)){if(mt.strict||!ae(Ae,Ge,Et.value))return!1;_t||(_t=new Xe),ue(_t,Et.value)}if(_t){for(;(Ye=st.next())&&!Ye.done;)if(Ye.value&&"object"==typeof Ye.value){if(!je(_t,Ye.value,mt.strict,pt))return!1}else if(!mt.strict&&!B(Ae,Ye.value)&&!je(_t,Ye.value,mt.strict,pt))return!1;return 0===K(_t)}return!0}(Ae,Ge,mt,pt):"Map"!==pr||function tt(Ae,Ge,mt,pt){if(ve(Ae)!==ve(Ge))return!1;for(var Et,Ye,_t,Nt,Sn,wn,Ct=k(Ae),st=k(Ge);(Et=Ct.next())&&!Et.done;)if(Sn=Et.value[1],(Nt=Et.value[0])&&"object"==typeof Nt)_t||(_t=new Xe),ue(_t,Nt);else if(typeof(wn=Ee(Ge,Nt))>"u"&&!ee(Ge,Nt)||!Ne(Sn,wn,mt,pt)){if(mt.strict||!ne(Ae,Ge,Nt,Sn,mt,pt))return!1;_t||(_t=new Xe),ue(_t,Nt)}if(_t){for(;(Ye=st.next())&&!Ye.done;)if(wn=Ye.value[1],(Nt=Ye.value[0])&&"object"==typeof Nt){if(!ye(_t,Ae,Nt,wn,mt,pt))return!1}else if(!(mt.strict||Ae.has(Nt)&&Ne(Ee(Ae,Nt),wn,mt,pt)||ye(_t,Ae,Nt,wn,S({},mt,{strict:!1}),pt)))return!1;return 0===K(_t)}return!0}(Ae,Ge,mt,pt))}(Ae,Ge,Ct,pt)}function $e(Ae){return!(!Ae||"object"!=typeof Ae||"number"!=typeof Ae.length||"function"!=typeof Ae.copy||"function"!=typeof Ae.slice||Ae.length>0&&"number"!=typeof Ae[0]||!(Ae.constructor&&Ae.constructor.isBuffer&&Ae.constructor.isBuffer(Ae)))}Z.exports=function(Ge,mt,pt){return Ne(Ge,mt,pt,f())}},9263:(Z,we,_)=>{"use strict";var S=_(9817);if(S)try{S([],"length")}catch{S=null}Z.exports=S},9335:(Z,we,_)=>{"use strict";_.d(we,{B:()=>Q,F:()=>Be,a:()=>An,b:()=>Xs,c:()=>da,d:()=>ul,e:()=>k,f:()=>D,g:()=>Vs,h:()=>Fa,i:()=>ga,j:()=>T,k:()=>Cn,l:()=>f,m:()=>E,n:()=>O,o:()=>ua,q:()=>Ml,r:()=>ue,t:()=>se,w:()=>an});var S=_(1890);class H{constructor(){this.m=new Map}reset(m){this.m=new Map(Object.entries(m))}get(m,w){const A=this.m.get(m);return void 0!==A?A:w}getBoolean(m,w=!1){const A=this.m.get(m);return void 0===A?w:"string"==typeof A?"true"===A:!!A}getNumber(m,w){const A=parseFloat(this.m.get(m));return isNaN(A)?void 0!==w?w:NaN:A}set(m,w){this.m.set(m,w)}}const k=new H,f=p=>{try{const m=p.sessionStorage.getItem(V);return null!==m?JSON.parse(m):{}}catch{return{}}},O=(p,m)=>{try{p.sessionStorage.setItem(V,JSON.stringify(m))}catch{return}},E=p=>{const m={};return p.location.search.slice(1).split("&").map(w=>w.split("=")).map(([w,A])=>{try{return[decodeURIComponent(w),decodeURIComponent(A)]}catch{return["",""]}}).filter(([w])=>P(w,R)).map(([w,A])=>[w.slice(R.length),A]).forEach(([w,A])=>{m[w]=A}),m},P=(p,m)=>p.substr(0,m.length)===m,R="ionic:",V="ionic-persist-config";var N=function(p){return p.OFF="OFF",p.ERROR="ERROR",p.WARN="WARN",p}(N||{});const D=(p,...m)=>{const w=k.get("logLevel",N.WARN);if([N.WARN].includes(w))return console.warn(`[Ionic Warning]: ${p}`,...m)},T=(p,...m)=>{const w=k.get("logLevel",N.ERROR);if([N.ERROR,N.WARN].includes(w))return console.error(`[Ionic Error]: ${p}`,...m)},se=(p,...m)=>console.error(`<${p.tagName.toLowerCase()}> must be used inside ${m.join(" or ")}.`);var le=Object.defineProperty,Q={isBrowser:!0},me=(p=>(p.Undefined="undefined",p.Null="null",p.String="string",p.Number="number",p.SpecialNumber="number",p.Boolean="boolean",p.BigInt="bigint",p))(me||{}),Te=(p=>(p.Array="array",p.Date="date",p.Map="map",p.Object="object",p.RegularExpression="regexp",p.Set="set",p.Channel="channel",p.Symbol="symbol",p))(Te||{}),Xe="type",ee="value",Ee="serialized:",ve=p=>{if(p.__stencil__getHostRef)return p.__stencil__getHostRef()},ue=(p,m)=>{p.__stencil__getHostRef=()=>m,m.$lazyInstance$=p},B=(p,m)=>m in p,K=(p,m)=>(0,console.error)(p,m),je=new Map,ne=new Map,ae=[],St="s-id",Ae="sty-id",pt="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ct="http://www.w3.org/1999/xlink",st=typeof window<"u"?window:{},Ye={$flags$:0,$resourcesUrl$:"",jmp:p=>p(),raf:p=>requestAnimationFrame(p),ael:(p,m,w,A)=>p.addEventListener(m,w,A),rel:(p,m,w,A)=>p.removeEventListener(m,w,A),ce:(p,m)=>new CustomEvent(p,m)},Nt=(()=>{var p;let m=!1;try{null==(p=st.document)||p.addEventListener("e",null,Object.defineProperty({},"passive",{get(){m=!0}}))}catch{}return m})(),wn=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),qt=!!wn&&!!st.document&&Object.getOwnPropertyDescriptor(st.document.adoptedStyleSheets,"length").writable,Mt=!1,qe=[],Oe=[],ze=(p,m)=>w=>{p.push(w),Mt||(Mt=!0,m&&4&Ye.$flags$?fn(Qt):Ye.raf(Qt))},dt=p=>{for(let m=0;m<p.length;m++)try{p[m](performance.now())}catch(w){K(w)}p.length=0},Qt=()=>{dt(qe),dt(Oe),(Mt=qe.length>0)&&Ye.raf(Qt)},fn=p=>Promise.resolve(void 0).then(p),An=ze(qe,!1),an=ze(Oe,!0),Cn=p=>{const m=new URL(p,Ye.$resourcesUrl$);return m.origin!==st.location.origin?m.href:m.pathname},pr=p=>"object"==(p=typeof p)||"function"===p;function Xr(p){var m,w,A;return null!=(A=null==(w=null==(m=p.head)?void 0:m.querySelector('meta[name="csp-nonce"]'))?void 0:w.getAttribute("content"))?A:void 0}var Vr=class Ku{static fromLocalValue(m){const w=m[Xe],A=ee in m?m[ee]:void 0;switch(w){case"string":case"boolean":return A;case"bigint":return BigInt(A);case"undefined":return;case"null":return null;case"number":return"NaN"===A?NaN:"-0"===A?-0:"Infinity"===A?1/0:"-Infinity"===A?-1/0:A;case"array":return A.map(ge=>Ku.fromLocalValue(ge));case"date":return new Date(A);case"map":const X=new Map;for(const[ge,Fe]of A){const rt="object"==typeof ge&&null!==ge?Ku.fromLocalValue(ge):ge,ft=Ku.fromLocalValue(Fe);X.set(rt,ft)}return X;case"object":const te={};for(const[ge,Fe]of A)te[ge]=Ku.fromLocalValue(Fe);return te;case"regexp":const{pattern:Ve,flags:Se}=A;return new RegExp(Ve,Se);case"set":const Ke=new Set;for(const ge of A)Ke.add(Ku.fromLocalValue(ge));return Ke;case"symbol":return Symbol(A);default:throw new Error(`Unsupported type: ${w}`)}}static fromLocalValueArray(m){return m.map(w=>Ku.fromLocalValue(w))}static isLocalValueObject(m){if("object"!=typeof m||null===m||!m.hasOwnProperty(Xe))return!1;const w=m[Xe];return!!Object.values({...me,...Te}).includes(w)&&("null"===w||"undefined"===w||m.hasOwnProperty(ee))}};((p,m)=>{for(var w in m)le(p,w,{get:m[w],enumerable:!0})})({},{err:()=>ln,map:()=>ri,ok:()=>Qr,unwrap:()=>Me,unwrapErr:()=>Pe});var Qr=p=>({isOk:!0,isErr:!1,value:p}),ln=p=>({isOk:!1,isErr:!0,value:p});function ri(p,m){if(p.isOk){const w=m(p.value);return w instanceof Promise?w.then(A=>Qr(A)):Qr(w)}if(p.isErr)return ln(p.value);throw"should never get here"}var En,Me=p=>{if(p.isOk)return p.value;throw p.value},Pe=p=>{if(p.isErr)return p.value;throw p.value};function Jt(p){const w=this.attachShadow({mode:"open",delegatesFocus:!!(16&p.$flags$)});void 0===En&&(En=null),En&&(qt?w.adoptedStyleSheets.push(En):w.adoptedStyleSheets=[...w.adoptedStyleSheets,En])}var uo=p=>{const m=vr(p,"childNodes");p.tagName&&p.tagName.includes("-")&&p["s-cr"]&&"SLOT-FB"!==p.tagName&&Er(m,p.tagName).forEach(A=>{1===A.nodeType&&"SLOT-FB"===A.tagName&&(A.hidden=!!oo(A,Dr(A),!1).length)});let w=0;for(w=0;w<m.length;w++){const A=m[w];1===A.nodeType&&vr(A,"childNodes").length&&uo(A)}},Ur=p=>{const m=[];for(let w=0;w<p.length;w++){const A=p[w]["s-nr"]||void 0;A&&A.isConnected&&m.push(A)}return m};function Er(p,m,w){let te,A=0,X=[];for(;A<p.length;A++){if(te=p[A],te["s-sr"]&&(!m||te["s-hn"]===m)&&(void 0===w||Dr(te)===w)&&(X.push(te),typeof w<"u"))return X;X=[...X,...Er(te.childNodes,m,w)]}return X}var oo=(p,m,w=!0)=>{const A=[];(w&&p["s-sr"]||!p["s-sr"])&&A.push(p);let X=p;for(;X=X.nextSibling;)Dr(X)===m&&(w||!X["s-sr"])&&A.push(X);return A},Jr=(p,m)=>1===p.nodeType?null===p.getAttribute("slot")&&""===m||p.getAttribute("slot")===m:p["s-sn"]===m||""===m,Ao=(p,m,w,A)=>{if(p["s-ol"]&&p["s-ol"].isConnected)return;const X=document.createTextNode("");if(X["s-nr"]=p,!m["s-cr"]||!m["s-cr"].parentNode)return;const te=m["s-cr"].parentNode,Ve=vr(te,w?"prepend":"appendChild");if(typeof A<"u"){X["s-oo"]=A;const Se=vr(te,"childNodes"),Ke=[X];Se.forEach(ge=>{ge["s-nr"]&&Ke.push(ge)}),Ke.sort((ge,Fe)=>!ge["s-oo"]||ge["s-oo"]<(Fe["s-oo"]||0)?-1:!Fe["s-oo"]||Fe["s-oo"]<ge["s-oo"]?1:0),Ke.forEach(ge=>Ve.call(te,ge))}else Ve.call(te,X);p["s-ol"]=X,p["s-sh"]=m["s-hn"]},Dr=p=>"string"==typeof p["s-sn"]?p["s-sn"]:1===p.nodeType&&p.getAttribute("slot")||void 0;function Dn(p){if(p.assignedElements||p.assignedNodes||!p["s-sr"])return;const m=w=>function(A){const X=[],te=this["s-sn"];A?.flatten&&console.error("\n          Flattening is not supported for Stencil non-shadow slots.\n          You can use `.childNodes` to nested slot fallback content.\n          If you have a particular use case, please open an issue on the Stencil repo.\n        ");const Ve=this["s-cr"].parentElement;return(Ve.__childNodes?Ve.childNodes:Ur(Ve.childNodes)).forEach(Ke=>{te===Dr(Ke)&&X.push(Ke)}),w?X.filter(Ke=>1===Ke.nodeType):X}.bind(p);p.assignedElements=m(!0),p.assignedNodes=m(!1)}function mo(p){p.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1,composed:!1}))}function oi(p,m){var w;if(!(m=m||(null==(w=p["s-ol"])?void 0:w.parentElement)))return{slotNode:null,slotName:""};const A=p["s-sn"]=Dr(p)||"";return{slotNode:Er(vr(m,"childNodes"),m.tagName,A)[0],slotName:A}}var Go=p=>{const m=p.cloneNode;p.cloneNode=function(w){const X=this.shadowRoot&&true,te=m.call(this,!!X&&w);if(!X&&w){let Se,Ke,Ve=0;const ge=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"],Fe=this.__childNodes||this.childNodes;for(;Ve<Fe.length;Ve++)Se=Fe[Ve]["s-nr"],Ke=ge.every(rt=>!Fe[Ve][rt]),Se&&(te.__appendChild?te.__appendChild(Se.cloneNode(!0)):te.appendChild(Se.cloneNode(!0))),Ke&&te.appendChild(Fe[Ve].cloneNode(!0))}return te}},$n=p=>{p.__appendChild=p.appendChild,p.appendChild=function(m){const{slotName:w,slotNode:A}=oi(m,this);if(A){Ao(m,A);const X=oo(A,w),te=X[X.length-1],Ve=vr(te,"parentNode"),Se=vr(Ve,"insertBefore")(m,te.nextSibling);return mo(A),uo(this),Se}return this.__appendChild(m)}},Oo=p=>{p.__removeChild=p.removeChild,p.removeChild=function(m){return m&&typeof m["s-sn"]<"u"&&Er(this.__childNodes||this.childNodes,this.tagName,m["s-sn"])&&m.isConnected?(m.remove(),void uo(this)):this.__removeChild(m)}},Ir=p=>{p.__prepend=p.prepend,p.prepend=function(...m){m.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w));const A=(w["s-sn"]=Dr(w))||"",te=Er(vr(this,"childNodes"),this.tagName,A)[0];if(te){Ao(w,te,!0);const Se=oo(te,A)[0],Ke=vr(Se,"parentNode"),ge=vr(Ke,"insertBefore")(w,vr(Se,"nextSibling"));return mo(te),ge}return 1===w.nodeType&&w.getAttribute("slot")&&(w.hidden=!0),p.__prepend(w)})}},hi=p=>{p.__append=p.append,p.append=function(...m){m.forEach(w=>{"string"==typeof w&&(w=this.ownerDocument.createTextNode(w)),this.appendChild(w)})}},zo=p=>{const m=p.insertAdjacentHTML;p.insertAdjacentHTML=function(w,A){if("afterbegin"!==w&&"beforeend"!==w)return m.call(this,w,A);const X=this.ownerDocument.createElement("_");let te;if(X.innerHTML=A,"afterbegin"===w)for(;te=X.firstChild;)this.prepend(te);else if("beforeend"===w)for(;te=X.firstChild;)this.append(te)}},Le=p=>{p.insertAdjacentText=function(m,w){this.insertAdjacentHTML(m,w)}},cr=p=>{p.__insertBefore||(p.__insertBefore=p.insertBefore,p.insertBefore=function(w,A){const{slotName:X,slotNode:te}=oi(w,this),Ve=this.__childNodes?this.childNodes:Ur(this.childNodes);if(te){let Ke=!1;if(Ve.forEach(ge=>{if(ge!==A&&null!==A);else{if(Ke=!0,null===A||X!==A["s-sn"])return void this.appendChild(w);if(X===A["s-sn"]){Ao(w,te);const Fe=vr(A,"parentNode");vr(Fe,"insertBefore")(w,A),mo(te)}}}),Ke)return w}const Se=A?.__parentNode;return Se&&!this.isSameNode(Se)?this.appendChild(w):this.__insertBefore(w,A)})},Hr=p=>{const m=p.insertAdjacentElement;p.insertAdjacentElement=function(w,A){return"afterbegin"!==w&&"beforeend"!==w?m.call(this,w,A):"afterbegin"===w?(this.prepend(A),A):("beforeend"===w&&this.append(A),A)}},Vn=p=>{jt("textContent",p),Object.defineProperty(p,"textContent",{get:function(){let m="";return(this.__childNodes?this.childNodes:Ur(this.childNodes)).forEach(A=>m+=A.textContent||""),m},set:function(m){(this.__childNodes?this.childNodes:Ur(this.childNodes)).forEach(A=>{A["s-ol"]&&A["s-ol"].remove(),A.remove()}),this.insertAdjacentHTML("beforeend",m)}})},Mi=p=>{class m extends Array{item(A){return this[A]}}jt("children",p),Object.defineProperty(p,"children",{get(){return this.childNodes.filter(w=>1===w.nodeType)}}),Object.defineProperty(p,"childElementCount",{get(){return this.children.length}}),jt("firstChild",p),Object.defineProperty(p,"firstChild",{get(){return this.childNodes[0]}}),jt("lastChild",p),Object.defineProperty(p,"lastChild",{get(){return this.childNodes[this.childNodes.length-1]}}),jt("childNodes",p),Object.defineProperty(p,"childNodes",{get(){const w=new m;return w.push(...Ur(this.__childNodes)),w}})},ji=p=>{!p||void 0!==p.__nextSibling||!globalThis.Node||(hn(p),Lr(p),ca(p),p.nodeType===Node.ELEMENT_NODE&&(ii(p),xi(p)))},hn=p=>{!p||p.__nextSibling||(jt("nextSibling",p),Object.defineProperty(p,"nextSibling",{get:function(){var m;const w=null==(m=this["s-ol"])?void 0:m.parentNode.childNodes,A=w?.indexOf(this);return w&&A>-1?w[A+1]:this.__nextSibling}}))},ii=p=>{!p||p.__nextElementSibling||(jt("nextElementSibling",p),Object.defineProperty(p,"nextElementSibling",{get:function(){var m;const w=null==(m=this["s-ol"])?void 0:m.parentNode.children,A=w?.indexOf(this);return w&&A>-1?w[A+1]:this.__nextElementSibling}}))},Lr=p=>{!p||p.__previousSibling||(jt("previousSibling",p),Object.defineProperty(p,"previousSibling",{get:function(){var m;const w=null==(m=this["s-ol"])?void 0:m.parentNode.childNodes,A=w?.indexOf(this);return w&&A>-1?w[A-1]:this.__previousSibling}}))},xi=p=>{!p||p.__previousElementSibling||(jt("previousElementSibling",p),Object.defineProperty(p,"previousElementSibling",{get:function(){var m;const w=null==(m=this["s-ol"])?void 0:m.parentNode.children,A=w?.indexOf(this);return w&&A>-1?w[A-1]:this.__previousElementSibling}}))},ca=p=>{!p||p.__parentNode||(jt("parentNode",p),Object.defineProperty(p,"parentNode",{get:function(){var m;return(null==(m=this["s-ol"])?void 0:m.parentNode)||this.__parentNode},set:function(m){this.__parentNode=m}}))},js=["children","nextElementSibling","previousElementSibling"],Bn=["childNodes","firstChild","lastChild","nextSibling","previousSibling","textContent","parentNode"];function jt(p,m){if(!globalThis.Node||!globalThis.Element)return;let w;js.includes(p)?w=Object.getOwnPropertyDescriptor(Element.prototype,p):Bn.includes(p)&&(w=Object.getOwnPropertyDescriptor(Node.prototype,p)),w||(w=Object.getOwnPropertyDescriptor(m,p)),w&&Object.defineProperty(m,"__"+p,w)}function vr(p,m){if("__"+m in p){const w=p["__"+m];return"function"!=typeof w?w:w.bind(p)}return"function"!=typeof p[m]?p[m]:p[m].bind(p)}var zt=new WeakMap,hr=(p,m,w)=>{let A=ne.get(p);wn&&w?(A=A||new CSSStyleSheet,"string"==typeof A?A=m:A.replaceSync(m)):A=m,ne.set(p,A)},Kn=(p,m,w)=>{var A;const X=qo(m,w),te=ne.get(X);if(!st.document)return X;if(p=11===p.nodeType?p:st.document,te)if("string"==typeof te){let Se,Ve=zt.get(p=p.head||p);if(Ve||zt.set(p,Ve=new Set),!Ve.has(X)){if(p.host&&(Se=p.querySelector(`[${Ae}="${X}"]`)))Se.innerHTML=te;else{Se=st.document.createElement("style"),Se.innerHTML=te;const Ke=null!=(A=Ye.$nonce$)?A:Xr(st.document);if(null!=Ke&&Se.setAttribute("nonce",Ke),!(1&m.$flags$))if("HEAD"===p.nodeName){const ge=p.querySelectorAll("link[rel=preconnect]"),Fe=ge.length>0?ge[ge.length-1].nextSibling:p.querySelector("style");p.insertBefore(Se,Fe?.parentNode===p?Fe:null)}else if("host"in p)if(wn){const ge=new CSSStyleSheet;ge.replaceSync(te),qt?p.adoptedStyleSheets.unshift(ge):p.adoptedStyleSheets=[ge,...p.adoptedStyleSheets]}else{const ge=p.querySelector("style");ge?ge.innerHTML=te+ge.innerHTML:p.prepend(Se)}else p.append(Se);1&m.$flags$&&p.insertBefore(Se,null)}4&m.$flags$&&(Se.innerHTML+=pt),Ve&&Ve.add(X)}}else p.adoptedStyleSheets.includes(te)||(qt?p.adoptedStyleSheets.push(te):p.adoptedStyleSheets=[...p.adoptedStyleSheets,te]);return X},qo=(p,m)=>"sc-"+(m&&32&p.$flags$?p.$tagName$+"-"+m:p.$tagName$),hc=p=>p.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Fa=(p,m,...w)=>{let A=null,X=null,te=null,Ve=!1,Se=!1;const Ke=[],ge=rt=>{for(let ft=0;ft<rt.length;ft++)A=rt[ft],Array.isArray(A)?ge(A):null!=A&&"boolean"!=typeof A&&((Ve="function"!=typeof p&&!pr(A))&&(A=String(A)),Ve&&Se?Ke[Ke.length-1].$text$+=A:Ke.push(Ve?ds(null,A):A),Se=Ve)};if(ge(w),m){m.key&&(X=m.key),m.name&&(te=m.name);{const rt=m.className||m.class;rt&&(m.class="object"!=typeof rt?rt:Object.keys(rt).filter(ft=>rt[ft]).join(" "))}}if("function"==typeof p)return p(null===m?{}:m,Ke,io);const Fe=ds(p,null);return Fe.$attrs$=m,Ke.length>0&&(Fe.$children$=Ke),Fe.$key$=X,Fe.$name$=te,Fe},ds=(p,m)=>({$flags$:0,$tag$:p,$text$:m,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ul={},io={forEach:(p,m)=>p.map(Ft).forEach(m),map:(p,m)=>p.map(Ft).map(m).map(fs)},Ft=p=>({vattrs:p.$attrs$,vchildren:p.$children$,vkey:p.$key$,vname:p.$name$,vtag:p.$tag$,vtext:p.$text$}),fs=p=>{if("function"==typeof p.vtag){const w={...p.vattrs};return p.vkey&&(w.key=p.vkey),p.vname&&(w.name=p.vname),Fa(p.vtag,w,...p.vchildren||[])}const m=ds(p.vtag,p.vtext);return m.$attrs$=p.vattrs,m.$children$=p.vchildren,m.$key$=p.vkey,m.$name$=p.vname,m},La=(p,m,w,A,X,te,Ve,Se=[])=>{let Ke,ge,Fe,rt;const ft=X["s-sc"];if(1===te.nodeType){if(Ke=te.getAttribute("c-id"),Ke&&(ge=Ke.split("."),ge[0]===Ve||"0"===ge[0])){Fe=Gr({$flags$:0,$hostId$:ge[0],$nodeId$:ge[1],$depth$:ge[2],$index$:ge[3],$tag$:te.tagName.toLowerCase(),$elm$:te,$attrs$:{class:te.className||""}}),m.push(Fe),te.removeAttribute("c-id"),p.$children$||(p.$children$=[]),ft&&ge[0]===Ve&&(te["s-si"]=ft,Fe.$attrs$.class+=" "+ft);const ht=Fe.$elm$.getAttribute("s-sn");"string"==typeof ht&&("slot-fb"===Fe.$tag$&&(et(ht,ge[2],Fe,te,p,m,w,A,Se),ft&&te.classList.add(ft)),Fe.$elm$["s-sn"]=ht,Fe.$elm$.removeAttribute("s-sn")),void 0!==Fe.$index$&&(p.$children$[Fe.$index$]=Fe),p=Fe,A&&"0"===Fe.$depth$&&(A[Fe.$index$]=Fe.$elm$)}if(te.shadowRoot)for(rt=te.shadowRoot.childNodes.length-1;rt>=0;rt--)La(p,m,w,A,X,te.shadowRoot.childNodes[rt],Ve,Se);const At=te.__childNodes||te.childNodes;for(rt=At.length-1;rt>=0;rt--)La(p,m,w,A,X,At[rt],Ve,Se)}else if(8===te.nodeType)ge=te.nodeValue.split("."),(ge[1]===Ve||"0"===ge[1])&&(Ke=ge[0],Fe=Gr({$hostId$:ge[1],$nodeId$:ge[2],$depth$:ge[3],$index$:ge[4]||"0",$elm$:te,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null}),"t"===Ke?(Fe.$elm$=jn(te,3),Fe.$elm$&&3===Fe.$elm$.nodeType&&(Fe.$text$=Fe.$elm$.textContent,m.push(Fe),te.remove(),Ve===Fe.$hostId$&&(p.$children$||(p.$children$=[]),p.$children$[Fe.$index$]=Fe),A&&"0"===Fe.$depth$&&(A[Fe.$index$]=Fe.$elm$))):"c"===Ke?(Fe.$elm$=jn(te,8),Fe.$elm$&&8===Fe.$elm$.nodeType&&(m.push(Fe),te.remove())):Fe.$hostId$===Ve&&("s"===Ke?et(te["s-sn"]=ge[5]||"",ge[2],Fe,te,p,m,w,A,Se):"r"===Ke&&(A?te.remove():(X["s-cr"]=te,te["s-cn"]=!0))));else if(p&&"style"===p.$tag$){const At=ds(null,te.textContent);At.$elm$=te,At.$index$="0",p.$children$=[At]}else 3===te.nodeType&&!te.wholeText.trim()&&!te["s-nr"]&&te.remove();return p},Zo=(p,m)=>{if(1===p.nodeType){const w=p[St]||p.getAttribute(St);w&&m.set(w,p);let A=0;if(p.shadowRoot)for(;A<p.shadowRoot.childNodes.length;A++)Zo(p.shadowRoot.childNodes[A],m);const X=p.__childNodes||p.childNodes;for(A=0;A<X.length;A++)Zo(X[A],m)}else if(8===p.nodeType){const w=p.nodeValue.split(".");"o"===w[0]&&(m.set(w[1]+"."+w[2],p),p.nodeValue="",p["s-en"]=w[3])}},Gr=p=>({$flags$:0,$hostId$:null,$nodeId$:null,$depth$:null,$index$:"0",$elm$:null,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null,...p});function et(p,m,w,A,X,te,Ve,Se,Ke){A["s-sr"]=!0,w.$name$=p||null,w.$tag$="slot";const ge=X?.$elm$?X.$elm$["s-id"]||X.$elm$.getAttribute("s-id"):"";if(Se&&st.document){const Fe=w.$elm$=st.document.createElement(w.$tag$);w.$name$&&w.$elm$.setAttribute("name",p),X.$elm$.shadowRoot&&ge&&ge!==w.$hostId$?vr(X.$elm$,"insertBefore")(Fe,vr(X.$elm$,"children")[0]):vr(vr(A,"parentNode"),"insertBefore")(Fe,A),Al(Ke,m,p,A,w.$hostId$),A.remove(),"0"===w.$depth$&&(Se[w.$index$]=w.$elm$)}else{const Fe=w.$elm$,rt=ge&&ge!==w.$hostId$&&X.$elm$.shadowRoot;Al(Ke,m,p,A,rt?ge:w.$hostId$),Dn(A),rt&&X.$elm$.insertBefore(Fe,X.$elm$.children[0])}te.push(w),Ve.push(w),X.$children$||(X.$children$=[]),X.$children$[w.$index$]=w}var Al=(p,m,w,A,X)=>{var te,Ve;let Se=A.nextSibling;if(p[m]=p[m]||[],Se&&(null==(te=Se.nodeValue)||!te.startsWith("s.")))do{Se&&((Se.getAttribute&&Se.getAttribute("slot")||Se["s-sn"])===w||""===w&&!Se["s-sn"]&&(!Se.getAttribute||!Se.getAttribute("slot"))&&(8===Se.nodeType||3===Se.nodeType))&&(Se["s-sn"]=w,p[m].push({slot:A,node:Se,hostId:X})),Se=Se?.nextSibling}while(Se&&(null==(Ve=Se.nodeValue)||!Ve.startsWith("s.")))},jn=(p,m)=>{let w=p;do{w=w.nextSibling}while(w&&(w.nodeType!==m||!w.nodeValue));return w},ps=p=>{const m=(p=>p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(p);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${m}))(${m}\\b)`,"g")};ps("::slotted"),ps(":host"),ps(":host-context");var Ml=p=>ae.push(p),ua=p=>{var m;return null==(m=ve(p))?void 0:m.$modeName$},Vi=(p,m,w)=>{if("string"==typeof p&&p.startsWith(Ee))return function Kt(p){return"string"==typeof p&&p.startsWith(Ee)?Vr.fromLocalValue(JSON.parse(atob(p.slice(11)))):p}(p);if("string"==typeof p&&(16&m||8&m)&&(p.startsWith("{")&&p.endsWith("}")||p.startsWith("[")&&p.endsWith("]")))try{return JSON.parse(p)}catch{}return null==p||pr(p)?p:4&m?"false"!==p&&(""===p||!!p):2&m?"string"==typeof p?parseFloat(p):"number"==typeof p?p:NaN:1&m?String(p):p},Vs=p=>{var m;return null==(m=ve(p))?void 0:m.$hostElement$},da=(p,m,w)=>{const A=Vs(p);return{emit:X=>it(A,m,{bubbles:!!(4&w),composed:!!(2&w),cancelable:!!(1&w),detail:X})}},it=(p,m,w)=>{const A=Ye.ce(m,w);return p.dispatchEvent(A),A},hs=(p,m,w,A,X,te,Ve)=>{if(w===A)return;let Se=B(p,m),Ke=m.toLowerCase();if("class"===m){const ge=p.classList,Fe=gs(w);let rt=gs(A);if((p["s-si"]||p["s-sc"])&&Ve){const ft=p["s-sc"]||p["s-si"];rt.push(ft),Fe.forEach(At=>{At.startsWith(ft)&&rt.push(At)}),rt=[...new Set(rt)].filter(At=>At),ge.add(...rt)}else ge.remove(...Fe.filter(ft=>ft&&!rt.includes(ft))),ge.add(...rt.filter(ft=>ft&&!Fe.includes(ft)))}else if("style"===m){for(const ge in w)(!A||null==A[ge])&&(ge.includes("-")?p.style.removeProperty(ge):p.style[ge]="");for(const ge in A)(!w||A[ge]!==w[ge])&&(ge.includes("-")?p.style.setProperty(ge,A[ge]):p.style[ge]=A[ge])}else if("key"!==m)if("ref"===m)A&&A(p);else if(Se||"o"!==m[0]||"n"!==m[1]){const ge=pr(A);if((Se||ge&&null!==A)&&!X)try{if(p.tagName.includes("-"))p[m]!==A&&(p[m]=A);else{const rt=A??"";"list"===m?Se=!1:(null==w||p[m]!=rt)&&("function"==typeof p.__lookupSetter__(m)?p[m]=rt:p.setAttribute(m,rt))}}catch{}let Fe=!1;Ke!==(Ke=Ke.replace(/^xlink\:?/,""))&&(m=Ke,Fe=!0),null==A||!1===A?(!1!==A||""===p.getAttribute(m))&&(Fe?p.removeAttributeNS(Ct,m):p.removeAttribute(m)):(!Se||4&te||X)&&!ge&&1===p.nodeType&&(A=!0===A?"":A,Fe?p.setAttributeNS(Ct,m,A):p.setAttribute(m,A))}else if(m="-"===m[2]?m.slice(3):B(st,Ke)?Ke.slice(2):Ke[2]+m.slice(3),w||A){const ge=m.endsWith(si);m=m.replace(fa,""),w&&Ye.rel(p,m,w,ge),A&&Ye.ael(p,m,A,ge)}},Ui=/\s/,gs=p=>("object"==typeof p&&p&&"baseVal"in p&&(p=p.baseVal),p&&"string"==typeof p?p.split(Ui):[]),si="Capture",fa=new RegExp(si+"$"),ms=(p,m,w,A)=>{const X=11===m.$elm$.nodeType&&m.$elm$.host?m.$elm$.host:m.$elm$,te=p&&p.$attrs$||{},Ve=m.$attrs$||{};for(const Se of Us(Object.keys(te)))Se in Ve||hs(X,Se,te[Se],void 0,w,m.$flags$,A);for(const Se of Us(Object.keys(Ve)))hs(X,Se,te[Se],Ve[Se],w,m.$flags$,A)};function Us(p){return p.includes("ref")?[...p.filter(m=>"ref"!==m),"ref"]:p}var Yo,vs,gi,ys=!1,_s=!1,Hi=!1,so=!1,mi=(p,m,w)=>{var A;const X=m.$children$[w];let Ve,Se,Ke,te=0;if(ys||(Hi=!0,"slot"===X.$tag$&&(X.$flags$|=X.$children$?2:1)),null!==X.$text$)Ve=X.$elm$=st.document.createTextNode(X.$text$);else if(1&X.$flags$)Ve=X.$elm$=st.document.createTextNode(""),ms(null,X,so);else{if(so||(so="svg"===X.$tag$),!st.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(Ve=X.$elm$=st.document.createElementNS(so?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!ys&&2&X.$flags$?"slot-fb":X.$tag$),so&&"foreignObject"===X.$tag$&&(so=!1),ms(null,X,so),(p=>null!=p&&void 0!==p)(Yo)&&Ve["s-si"]!==Yo&&Ve.classList.add(Ve["s-si"]=Yo),X.$children$)for(te=0;te<X.$children$.length;++te)Se=mi(p,X,te),Se&&Ve.appendChild(Se);"svg"===X.$tag$?so=!1:"foreignObject"===Ve.tagName&&(so=!0)}return Ve["s-hn"]=gi,3&X.$flags$&&(Ve["s-sr"]=!0,Ve["s-cr"]=vs,Ve["s-sn"]=X.$name$||"",Ve["s-rf"]=null==(A=X.$attrs$)?void 0:A.ref,Dn(Ve),Ke=p&&p.$children$&&p.$children$[w],Ke&&Ke.$tag$===X.$tag$&&p.$elm$&&Gi(p.$elm$),Cs(vs,Ve,m.$elm$,p?.$elm$)),Ve},Gi=p=>{Ye.$flags$|=1;const m=p.closest(gi.toLowerCase());if(null!=m){const w=Array.from(m.__childNodes||m.childNodes).find(X=>X["s-cr"]),A=Array.from(p.__childNodes||p.childNodes);for(const X of w?A.reverse():A)null!=X["s-sh"]&&(vo(m,X,w??null),X["s-sh"]=void 0,Hi=!0)}Ye.$flags$&=-2},zi=(p,m)=>{Ye.$flags$|=1;const w=Array.from(p.__childNodes||p.childNodes);if(p["s-sr"]){let A=p;for(;A=A.nextSibling;)A&&A["s-sn"]===p["s-sn"]&&A["s-sh"]===gi&&w.push(A)}for(let A=w.length-1;A>=0;A--){const X=w[A];X["s-hn"]!==gi&&X["s-ol"]&&(vo(vi(X).parentNode,X,vi(X)),X["s-ol"].remove(),X["s-ol"]=void 0,X["s-sh"]=void 0,Hi=!0),m&&zi(X,m)}Ye.$flags$&=-2},Hs=(p,m,w,A,X,te)=>{let Se,Ve=p["s-cr"]&&p["s-cr"].parentNode||p;for(Ve.shadowRoot&&Ve.tagName===gi&&(Ve=Ve.shadowRoot);X<=te;++X)A[X]&&(Se=mi(null,w,X),Se&&(A[X].$elm$=Se,vo(Ve,Se,vi(m))))},bs=(p,m,w)=>{for(let A=m;A<=w;++A){const X=p[A];if(X){const te=X.$elm$;Gs(X),te&&(_s=!0,te["s-ol"]?te["s-ol"].remove():zi(te,!0),te.remove())}}},Ko=(p,m,w=!1)=>p.$tag$===m.$tag$&&("slot"===p.$tag$?p.$name$===m.$name$:w?(w&&!p.$key$&&m.$key$&&(p.$key$=m.$key$),!0):p.$key$===m.$key$),vi=p=>p&&p["s-ol"]||p,Wt=(p,m,w=!1)=>{const A=m.$elm$=p.$elm$,X=p.$children$,te=m.$children$,Ve=m.$tag$,Se=m.$text$;let Ke;null===Se?(so="svg"===Ve||"foreignObject"!==Ve&&so,"slot"===Ve&&!ys&&p.$name$!==m.$name$&&(m.$elm$["s-sn"]=m.$name$||"",Gi(m.$elm$.parentElement)),ms(p,m,so,w),null!==X&&null!==te?((p,m,w,A,X=!1)=>{let vn,gr,te=0,Ve=0,Se=0,Ke=0,ge=m.length-1,Fe=m[0],rt=m[ge],ft=A.length-1,At=A[0],ht=A[ft];for(;te<=ge&&Ve<=ft;)if(null==Fe)Fe=m[++te];else if(null==rt)rt=m[--ge];else if(null==At)At=A[++Ve];else if(null==ht)ht=A[--ft];else if(Ko(Fe,At,X))Wt(Fe,At,X),Fe=m[++te],At=A[++Ve];else if(Ko(rt,ht,X))Wt(rt,ht,X),rt=m[--ge],ht=A[--ft];else if(Ko(Fe,ht,X))("slot"===Fe.$tag$||"slot"===ht.$tag$)&&zi(Fe.$elm$.parentNode,!1),Wt(Fe,ht,X),vo(p,Fe.$elm$,rt.$elm$.nextSibling),Fe=m[++te],ht=A[--ft];else if(Ko(rt,At,X))("slot"===Fe.$tag$||"slot"===ht.$tag$)&&zi(rt.$elm$.parentNode,!1),Wt(rt,At,X),vo(p,rt.$elm$,Fe.$elm$),rt=m[--ge],At=A[++Ve];else{for(Se=-1,Ke=te;Ke<=ge;++Ke)if(m[Ke]&&null!==m[Ke].$key$&&m[Ke].$key$===At.$key$){Se=Ke;break}Se>=0?(gr=m[Se],gr.$tag$!==At.$tag$?vn=mi(m&&m[Ve],w,Se):(Wt(gr,At,X),m[Se]=void 0,vn=gr.$elm$),At=A[++Ve]):(vn=mi(m&&m[Ve],w,Ve),At=A[++Ve]),vn&&vo(vi(Fe.$elm$).parentNode,vn,vi(Fe.$elm$))}te>ge?Hs(p,null==A[ft+1]?null:A[ft+1].$elm$,w,A,Ve,ft):Ve>ft&&bs(m,te,ge)})(A,X,m,te,w):null!==te?(null!==p.$text$&&(A.textContent=""),Hs(A,null,m,te,0,te.length-1)):w||null===X?w&&null!==X&&null===te&&(m.$children$=X):bs(X,0,X.length-1),so&&"svg"===Ve&&(so=!1)):(Ke=A["s-cr"])?Ke.parentNode.textContent=Se:p.$text$!==Se&&(A.data=Se)},dn=[],pa=p=>{let m,w,A;const X=p.__childNodes||p.childNodes;for(const te of X){if(te["s-sr"]&&(m=te["s-cr"])&&m.parentNode){w=m.parentNode.__childNodes||m.parentNode.childNodes;const Ve=te["s-sn"];for(A=w.length-1;A>=0;A--)if(m=w[A],!(m["s-cn"]||m["s-nr"]||m["s-hn"]===te["s-hn"]||m["s-sh"]&&m["s-sh"]===te["s-hn"]))if(Jr(m,Ve)){let Se=dn.find(Ke=>Ke.$nodeToRelocate$===m);_s=!0,m["s-sn"]=m["s-sn"]||Ve,Se?(Se.$nodeToRelocate$["s-sh"]=te["s-hn"],Se.$slotRefNode$=te):(m["s-sh"]=te["s-hn"],dn.push({$slotRefNode$:te,$nodeToRelocate$:m})),m["s-sr"]&&dn.map(Ke=>{Jr(Ke.$nodeToRelocate$,m["s-sn"])&&(Se=dn.find(ge=>ge.$nodeToRelocate$===m),Se&&!Ke.$slotRefNode$&&(Ke.$slotRefNode$=Se.$slotRefNode$))})}else dn.some(Se=>Se.$nodeToRelocate$===m)||dn.push({$nodeToRelocate$:m})}1===te.nodeType&&pa(te)}},Gs=p=>{p.$attrs$&&p.$attrs$.ref&&p.$attrs$.ref(null),p.$children$&&p.$children$.map(Gs)},vo=(p,m,w)=>{if("string"==typeof m["s-sn"]&&m["s-sr"]&&m["s-cr"])Cs(m["s-cr"],m,p,m.parentElement);else if("string"==typeof m["s-sn"]){11!==p.getRootNode().nodeType&&ca(m),p.insertBefore(m,w);const{slotNode:A}=oi(m);return A&&mo(A),m}return p.__insertBefore?p.__insertBefore(m,w):p?.insertBefore(m,w)};function Cs(p,m,w,A){var X,te;let Ve;if(p&&"string"==typeof m["s-sn"]&&m["s-sr"]&&p.parentNode&&p.parentNode["s-sc"]&&(Ve=m["s-si"]||p.parentNode["s-sc"])){const Se=m["s-sn"],Ke=m["s-hn"];if(null==(X=w.classList)||X.add(Ve+"-s"),A&&null!=(te=A.classList)&&te.contains(Ve+"-s")){let ge=(A.__childNodes||A.childNodes)[0],Fe=!1;for(;ge;){if(ge["s-sn"]!==Se&&ge["s-hn"]===Ke&&ge["s-sr"]){Fe=!0;break}ge=ge.nextSibling}Fe||A.classList.remove(Ve+"-s")}}}var Wi=(p,m)=>{if(m&&!p.$onRenderResolve$&&m["s-p"]){const w=m["s-p"].push(new Promise(A=>p.$onRenderResolve$=()=>{m["s-p"].splice(w-1,1),A()}))}},Ss=(p,m)=>{if(p.$flags$|=16,4&p.$flags$)return void(p.$flags$|=512);Wi(p,p.$ancestorComponent$);const w=()=>Ba(p,m);if(!m)return an(w);queueMicrotask(()=>{w()})},Ba=(p,m)=>{const w=p.$hostElement$,X=p.$lazyInstance$;if(!X)throw new Error(`Can't render component <${w.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let te;return m?(p.$flags$|=256,p.$queuedListeners$&&(p.$queuedListeners$.map(([Ve,Se])=>yo(X,Ve,Se,w)),p.$queuedListeners$=void 0),te=yo(X,"componentWillLoad",void 0,w)):te=yo(X,"componentWillUpdate",void 0,w),te=zs(te,()=>yo(X,"componentWillRender",void 0,w)),zs(te,()=>ha(p,X,m))},zs=(p,m)=>ws(p)?p.then(m).catch(w=>{console.error(w),m()}):m(),ws=p=>p instanceof Promise||p&&p.then&&"function"==typeof p.then,ha=function(){var p=(0,S.A)(function*(m,w,A){var X;const te=m.$hostElement$,Se=te["s-rc"];A&&(p=>{const m=p.$cmpMeta$,w=p.$hostElement$,A=m.$flags$,te=Kn(w.shadowRoot?w.shadowRoot:w.getRootNode(),m,p.$modeName$);10&A&&(w["s-sc"]=te,w.classList.add(te+"-h"))})(m);Ws(m,w,te,A),Se&&(Se.map(ge=>ge()),te["s-rc"]=void 0);{const ge=null!=(X=te["s-p"])?X:[],Fe=()=>qs(m);0===ge.length?Fe():(Promise.all(ge).then(Fe),m.$flags$|=4,ge.length=0)}});return function(w,A,X){return p.apply(this,arguments)}}(),Ws=(p,m,w,A)=>{try{m=m.render&&m.render(),p.$flags$&=-17,p.$flags$|=2,((p,m,w=!1)=>{var A,X,te,Ve,Se;const Ke=p.$hostElement$,ge=p.$cmpMeta$,Fe=p.$vnode$||ds(null,null),ft=(p=>p&&p.$tag$===ul)(m)?m:Fa(null,null,m);if(gi=Ke.tagName,ge.$attrsToReflect$&&(ft.$attrs$=ft.$attrs$||{},ge.$attrsToReflect$.map(([At,ht])=>ft.$attrs$[ht]=Ke[At])),w&&ft.$attrs$)for(const At of Object.keys(ft.$attrs$))Ke.hasAttribute(At)&&!["key","ref","style","class"].includes(At)&&(ft.$attrs$[At]=Ke[At]);if(ft.$tag$=null,ft.$flags$|=4,p.$vnode$=ft,ft.$elm$=Fe.$elm$=Ke.shadowRoot||Ke,Yo=Ke["s-sc"],ys=!(!(1&ge.$flags$)||128&ge.$flags$),vs=Ke["s-cr"],_s=!1,Wt(Fe,ft,w),Ye.$flags$|=1,Hi){pa(ft.$elm$);for(const At of dn){const ht=At.$nodeToRelocate$;if(!ht["s-ol"]&&st.document){const vn=st.document.createTextNode("");vn["s-nr"]=ht,vo(ht.parentNode,ht["s-ol"]=vn,ht)}}for(const At of dn){const ht=At.$nodeToRelocate$,vn=At.$slotRefNode$;if(vn){const gr=vn.parentNode;let $t=vn.nextSibling;if($t&&1===$t.nodeType){let yn=null==(A=ht["s-ol"])?void 0:A.previousSibling;for(;yn;){let Tt=null!=(X=yn["s-nr"])?X:null;if(Tt&&Tt["s-sn"]===ht["s-sn"]&&gr===(Tt.__parentNode||Tt.parentNode)){for(Tt=Tt.nextSibling;Tt===ht||Tt?.["s-sr"];)Tt=Tt?.nextSibling;if(!Tt||!Tt["s-nr"]){$t=Tt;break}}yn=yn.previousSibling}}(!$t&&gr!==(ht.__parentNode||ht.parentNode)||(ht.__nextSibling||ht.nextSibling)!==$t)&&ht!==$t&&(vo(gr,ht,$t),1===ht.nodeType&&"SLOT-FB"!==ht.tagName&&(ht.hidden=null!=(te=ht["s-ih"])&&te)),ht&&"function"==typeof vn["s-rf"]&&vn["s-rf"](vn)}else 1===ht.nodeType&&(w&&(ht["s-ih"]=null!=(Ve=ht.hidden)&&Ve),ht.hidden=!0)}}if(_s&&uo(ft.$elm$),Ye.$flags$&=-2,dn.length=0,2&ge.$flags$){const At=ft.$elm$.__childNodes||ft.$elm$.childNodes;for(const ht of At)ht["s-hn"]!==gi&&!ht["s-sh"]&&(w&&null==ht["s-ih"]&&(ht["s-ih"]=null!=(Se=ht.hidden)&&Se),ht.hidden=!0)}vs=void 0})(p,m,A)}catch(X){K(X,p.$hostElement$)}return null},qs=p=>{const w=p.$hostElement$,X=p.$lazyInstance$,te=p.$ancestorComponent$;yo(X,"componentDidRender",void 0,w),64&p.$flags$?yo(X,"componentDidUpdate",void 0,w):(p.$flags$|=64,Ys(w),yo(X,"componentDidLoad",void 0,w),p.$onReadyResolve$(w),te||Zs()),p.$onInstanceResolve$(w),p.$onRenderResolve$&&(p.$onRenderResolve$(),p.$onRenderResolve$=void 0),512&p.$flags$&&fn(()=>Ss(p,!1)),p.$flags$&=-517},ga=p=>{var m;{const w=ve(p),A=null==(m=w?.$hostElement$)?void 0:m.isConnected;return A&&2==(18&w.$flags$)&&Ss(w,!1),A}},Zs=p=>{var m;fn(()=>it(st,"appload",{detail:{namespace:"ionic"}})),null!=(m=Ye.$orgLocNodes$)&&m.size&&Ye.$orgLocNodes$.clear()},yo=(p,m,w,A)=>{if(p&&p[m])try{return p[m](w)}catch(X){K(X,A)}},Ys=p=>p.classList.add("hydrated"),qi=(p,m,w,A)=>{const X=ve(p);if(!X)return;if(!X)throw new Error(`Couldn't find host element for "${A.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/stenciljs/core/issues/5457).`);const te=X.$hostElement$,Ve=X.$instanceValues$.get(m),Se=X.$flags$,Ke=X.$lazyInstance$;w=Vi(w,A.$members$[m][0]);const ge=Number.isNaN(Ve)&&Number.isNaN(w);if((!(8&Se)||void 0===Ve)&&w!==Ve&&!ge&&(X.$instanceValues$.set(m,w),Ke)){if(A.$watchers$&&128&Se){const rt=A.$watchers$[m];rt&&rt.map(ft=>{try{Ke[ft](w,Ve,m)}catch(At){K(At,te)}})}if(2==(18&Se)){if(Ke.componentShouldUpdate&&!1===Ke.componentShouldUpdate(w,Ve,m))return;Ss(X,!1)}}},ma=(p,m,w)=>{var A,X;const te=p.prototype;if(m.$members$||m.$watchers$||p.watchers){p.watchers&&!m.$watchers$&&(m.$watchers$=p.watchers);const Ve=Object.entries(null!=(A=m.$members$)?A:{});if(Ve.map(([Se,[Ke]])=>{if(31&Ke||2&w&&32&Ke){const{get:ge,set:Fe}=Object.getOwnPropertyDescriptor(te,Se)||{};ge&&(m.$members$[Se][0]|=2048),Fe&&(m.$members$[Se][0]|=4096),(1&w||!ge)&&Object.defineProperty(te,Se,{get(){{if(!(2048&m.$members$[Se][0]))return((p,m)=>ve(this).$instanceValues$.get(m))(0,Se);const rt=ve(this),ft=rt?rt.$lazyInstance$:te;return ft?ft[Se]:void 0}},configurable:!0,enumerable:!0}),Object.defineProperty(te,Se,{set(rt){const ft=ve(this);if(ft){if(Fe){const At=32&Ke?this[Se]:ft.$hostElement$[Se];return typeof At>"u"&&ft.$instanceValues$.get(Se)?rt=ft.$instanceValues$.get(Se):!ft.$instanceValues$.get(Se)&&At&&ft.$instanceValues$.set(Se,At),Fe.apply(this,[Vi(rt,Ke)]),void qi(this,Se,rt=32&Ke?this[Se]:ft.$hostElement$[Se],m)}{if(!(1&w&&4096&m.$members$[Se][0]))return qi(this,Se,rt,m),void(1&w&&!ft.$lazyInstance$&&ft.$onReadyPromise$.then(()=>{4096&m.$members$[Se][0]&&ft.$lazyInstance$[Se]!==ft.$instanceValues$.get(Se)&&(ft.$lazyInstance$[Se]=rt)}));const At=()=>{const ht=ft.$lazyInstance$[Se];!ft.$instanceValues$.get(Se)&&ht&&ft.$instanceValues$.set(Se,ht),ft.$lazyInstance$[Se]=Vi(rt,Ke),qi(this,Se,ft.$lazyInstance$[Se],m)};ft.$lazyInstance$?At():ft.$onReadyPromise$.then(()=>At())}}}})}else 1&w&&64&Ke&&Object.defineProperty(te,Se,{value(...ge){var Fe;const rt=ve(this);return null==(Fe=rt?.$onInstancePromise$)?void 0:Fe.then(()=>{var ft;return null==(ft=rt.$lazyInstance$)?void 0:ft[Se](...ge)})}})}),1&w){const Se=new Map;te.attributeChangedCallback=function(Ke,ge,Fe){Ye.jmp(()=>{var rt;const ft=Se.get(Ke);if(this.hasOwnProperty(ft))Fe=this[ft],delete this[ft];else{if(te.hasOwnProperty(ft)&&"number"==typeof this[ft]&&this[ft]==Fe)return;if(null==ft){const ht=ve(this),vn=ht?.$flags$;if(ht&&vn&&!(8&vn)&&128&vn&&Fe!==ge){const gr=ht.$lazyInstance$,$t=null==(rt=m.$watchers$)?void 0:rt[Ke];$t?.forEach(In=>{null!=gr[In]&&gr[In].call(gr,Fe,ge,Ke)})}return}}const At=Object.getOwnPropertyDescriptor(te,ft);(Fe=(null!==Fe||"boolean"!=typeof this[ft])&&Fe)!==this[ft]&&(!At.get||At.set)&&(this[ft]=Fe)})},p.observedAttributes=Array.from(new Set([...Object.keys(null!=(X=m.$watchers$)?X:{}),...Ve.filter(([Ke,ge])=>15&ge[0]).map(([Ke,ge])=>{var Fe;const rt=ge[1]||Ke;return Se.set(rt,Ke),512&ge[0]&&(null==(Fe=m.$attrsToReflect$)||Fe.push([Ke,rt])),rt})]))}}return p},ja=function(){var p=(0,S.A)(function*(m,w,A,X){let te;if(!(32&w.$flags$)){if(w.$flags$|=32,A.$lazyBundleId$){const ge=((p,m)=>{const A=p.$tagName$.replace(/-/g,"_"),X=p.$lazyBundleId$;if(!X)return;const te=je.get(X);return te?te[A]:_(8996)(`./${X}.entry.js`).then(Ve=>(je.set(X,Ve),Ve[A]),Ve=>{K(Ve,m.$hostElement$)})})(A,w);if(ge&&"then"in ge){const rt=()=>{};te=yield ge,rt()}else te=ge;if(!te)throw new Error(`Constructor for "${A.$tagName$}#${w.$modeName$}" was not found`);te.isProxied||(A.$watchers$=te.watchers,ma(te,A,2),te.isProxied=!0);const Fe=()=>{};w.$flags$|=8;try{new te(w)}catch(rt){K(rt,m)}w.$flags$&=-9,w.$flags$|=128,Fe(),Po(w.$lazyInstance$,m)}else te=m.constructor,customElements.whenDefined(m.localName).then(()=>w.$flags$|=128);if(te&&te.style){let ge;"string"==typeof te.style?ge=te.style:"string"!=typeof te.style&&(w.$modeName$=(p=>ae.map(m=>m(p)).find(m=>!!m))(m),w.$modeName$&&(ge=te.style[w.$modeName$]));const Fe=qo(A,w.$modeName$);if(!ne.has(Fe)){const rt=()=>{};hr(Fe,ge,!!(1&A.$flags$)),rt()}}}const Ve=w.$ancestorComponent$,Se=()=>Ss(w,!0);Ve&&Ve["s-rc"]?Ve["s-rc"].push(Se):Se()});return function(w,A,X,te){return p.apply(this,arguments)}}(),Po=(p,m)=>{yo(p,"connectedCallback",void 0,m)},va=p=>{if(!st.document)return;const m=p["s-cr"]=st.document.createComment("");m["s-cn"]=!0,vo(p,m,p.firstChild)},Ks=(p,m)=>{yo(p,"disconnectedCallback",void 0,m||p)},oe=function(){var p=(0,S.A)(function*(m){if(!(1&Ye.$flags$)){const w=ve(m);w?.$rmListeners$&&(w.$rmListeners$.map(A=>A()),w.$rmListeners$=void 0),w?.$lazyInstance$?Ks(w.$lazyInstance$,m):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>Ks(w.$lazyInstance$,m))}zt.has(m)&&zt.delete(m),m.shadowRoot&&zt.has(m.shadowRoot)&&zt.delete(m.shadowRoot)});return function(w){return p.apply(this,arguments)}}(),Xs=(p,m={})=>{var w;if(!st.document)return void console.warn("Stencil: No document found. Skipping bootstrapping lazy components.");const X=[],te=m.exclude||[],Ve=st.customElements,Se=st.document.head,Ke=Se.querySelector("meta[charset]"),ge=st.document.createElement("style"),Fe=[];let rt,ft=!0;Object.assign(Ye,m),Ye.$resourcesUrl$=new URL(m.resourcesUrl||"./",st.document.baseURI).href,Ye.$flags$|=2,(()=>{if(!st.document)return;const p=st.document.querySelectorAll(`[${Ae}]`);let m=0;for(;m<p.length;m++)hr(p[m].getAttribute(Ae),hc(p[m].innerHTML),!0)})();let At=!1;if(p.map(ht=>{ht[1].map(vn=>{var gr;const $t={$flags$:vn[0],$tagName$:vn[1],$members$:vn[2],$listeners$:vn[3]};4&$t.$flags$&&(At=!0),$t.$members$=vn[2],$t.$listeners$=vn[3],$t.$attrsToReflect$=[],$t.$watchers$=null!=(gr=vn[4])?gr:{};const In=$t.$tagName$,Mn=class extends HTMLElement{constructor(yn){if(super(yn),this.hasRegisteredEventListeners=!1,((p,m)=>{const w={$flags$:0,$hostElement$:p,$cmpMeta$:m,$instanceValues$:new Map};w.$onInstancePromise$=new Promise(X=>w.$onInstanceResolve$=X),w.$onReadyPromise$=new Promise(X=>w.$onReadyResolve$=X),p["s-p"]=[],p["s-rc"]=[];const A=w;p.__stencil__getHostRef=()=>A})(yn=this,$t),1&$t.$flags$)if(yn.shadowRoot){if("open"!==yn.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${$t.$tagName$}! Mode is set to ${yn.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Jt.call(yn,$t)}connectedCallback(){const yn=ve(this);yn&&(this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,yi(this,yn,$t.$listeners$)),rt&&(clearTimeout(rt),rt=null),ft?Fe.push(this):Ye.jmp(()=>(p=>{if(!(1&Ye.$flags$)){const m=ve(p);if(!m)return;const w=m.$cmpMeta$,A=()=>{};if(1&m.$flags$)yi(p,m,w.$listeners$),m?.$lazyInstance$?Po(m.$lazyInstance$,p):m?.$onReadyPromise$&&m.$onReadyPromise$.then(()=>Po(m.$lazyInstance$,p));else{let X;if(m.$flags$|=1,X=p.getAttribute(St),X){if(1&w.$flags$){const te=Kn(p.shadowRoot,w,p.getAttribute("s-mode"));p.classList.remove(te+"-h",te+"-s")}else if(2&w.$flags$){const te=qo(w,p.getAttribute("s-mode"));p["s-sc"]=te}((p,m,w,A)=>{var X,te,Ve;const Ke=p.shadowRoot,ge=[],Fe=[],rt=[],ft=Ke?[]:null,At=ds(m,null);let vn;At.$elm$=p,Object.entries((null==(X=A.$cmpMeta$)?void 0:X.$members$)||{}).forEach(([Zt,[b,$]])=>{var ce;if(!(31&b))return;const kt=p.getAttribute($||Zt);if(null!==kt){const gn=Vi(kt,b);null==(ce=A?.$instanceValues$)||ce.set(Zt,gn)}});{const Zt=A.$cmpMeta$;Zt&&10&Zt.$flags$&&p["s-sc"]?(vn=p["s-sc"],p.classList.add(vn+"-h")):p["s-sc"]&&delete p["s-sc"]}st.document&&(!Ye.$orgLocNodes$||!Ye.$orgLocNodes$.size)&&Zo(st.document.body,Ye.$orgLocNodes$=new Map),p[St]=w,p.removeAttribute(St),A.$vnode$=La(At,ge,Fe,ft,p,p,w,rt);let gr=0;const $t=ge.length;let In;for(;gr<$t;gr++){In=ge[gr];const Zt=In.$hostId$+"."+In.$nodeId$,b=Ye.$orgLocNodes$.get(Zt),$=In.$elm$;if(Ke){if(null!=(te=In.$tag$)&&te.toString().includes("-")&&"slot-fb"!==In.$tag$&&!In.$elm$.shadowRoot){const ce=ve(In.$elm$);if(ce){const Qe=qo(ce.$cmpMeta$,In.$elm$.getAttribute("s-mode")),kt=st.document.querySelector(`style[sty-id="${Qe}"]`);kt&&p.shadowRoot.append(kt.cloneNode(!0))}}}else $["s-hn"]=m.toUpperCase(),"slot"===In.$tag$&&($["s-cr"]=p["s-cr"]);"slot"===In.$tag$&&(In.$name$=In.$elm$["s-sn"]||In.$elm$.name||null,In.$children$?(In.$flags$|=2,In.$elm$.childNodes.length||In.$children$.forEach(ce=>{In.$elm$.appendChild(ce.$elm$)})):In.$flags$|=1),b&&b.isConnected&&(b.parentElement.shadowRoot&&""===b["s-en"]&&b.parentNode.insertBefore($,b.nextSibling),b.parentNode.removeChild(b),Ke||($["s-oo"]=parseInt(In.$nodeId$))),b&&!b["s-id"]&&Ye.$orgLocNodes$.delete(Zt)}const Mn=[],yn=rt.length;let Xn,en,xn,tn,Tt=0;for(;Tt<yn;Tt++)if(Xn=rt[Tt],Xn&&Xn.length)for(xn=Xn.length,en=0;en<xn;en++){if(tn=Xn[en],Mn[tn.hostId]||(Mn[tn.hostId]=Ye.$orgLocNodes$.get(tn.hostId)),!Mn[tn.hostId])continue;const Zt=Mn[tn.hostId];Zt.shadowRoot&&tn.node.parentElement!==Zt&&Zt.appendChild(tn.node),(!Zt.shadowRoot||!Ke)&&(tn.slot["s-cr"]||(tn.slot["s-cr"]=Zt["s-cr"],tn.slot["s-cr"]=!tn.slot["s-cr"]&&Zt.shadowRoot?Zt:(Zt.__childNodes||Zt.childNodes)[0]),Ao(tn.node,tn.slot,!1,tn.node["s-oo"]),null!=(Ve=tn.node.parentElement)&&Ve.shadowRoot&&tn.node.getAttribute&&tn.node.getAttribute("slot")&&tn.node.removeAttribute("slot"),ji(tn.node))}if(vn&&Fe.length&&Fe.forEach(Zt=>{Zt.$elm$.parentElement.classList.add(vn+"-s")}),Ke){let Zt=0;const b=ft.length;if(b){for(;Zt<b;Zt++){const $=ft[Zt];$&&Ke.appendChild($)}Array.from(p.childNodes).forEach($=>{"string"!=typeof $["s-en"]&&"string"!=typeof $["s-sn"]&&(1===$.nodeType&&$.slot&&$.hidden?$.removeAttribute("hidden"):(8===$.nodeType&&!$.nodeValue||3===$.nodeType&&!$.wholeText.trim())&&$.parentNode.removeChild($))})}}A.$hostElement$=p})(p,w.$tagName$,X,m)}X||12&w.$flags$&&va(p);{let te=p;for(;te=te.parentNode||te.host;)if(1===te.nodeType&&te.hasAttribute("s-id")&&te["s-p"]||te["s-p"]){Wi(m,m.$ancestorComponent$=te);break}}w.$members$&&Object.entries(w.$members$).map(([te,[Ve]])=>{if(31&Ve&&p.hasOwnProperty(te)){const Se=p[te];delete p[te],p[te]=Se}}),ja(p,m,w)}A()}})(this)))}disconnectedCallback(){Ye.jmp(()=>oe(this)),Ye.raf(()=>{var yn;const Tt=ve(this);if(!Tt)return;const Xn=Fe.findIndex(en=>en===this);Xn>-1&&Fe.splice(Xn,1),(null==(yn=Tt?.$vnode$)?void 0:yn.$elm$)instanceof Node&&!Tt.$vnode$.$elm$.isConnected&&delete Tt.$vnode$.$elm$})}componentOnReady(){var yn;return null==(yn=ve(this))?void 0:yn.$onReadyPromise$}};!(1&$t.$flags$)&&256&$t.$flags$&&(p=>{Go(p),$n(p),hi(p),Ir(p),Hr(p),zo(p),Le(p),cr(p),Vn(p),Mi(p),Oo(p)})(Mn.prototype),$t.$lazyBundleId$=ht[0],!te.includes(In)&&!Ve.get(In)&&(X.push(In),Ve.define(In,ma(Mn,$t,1)))})}),X.length>0&&(At&&(ge.textContent+=pt),ge.textContent+=X.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",ge.innerHTML.length)){ge.setAttribute("data-styles","");const ht=null!=(w=Ye.$nonce$)?w:Xr(st.document);null!=ht&&ge.setAttribute("nonce",ht),Se.insertBefore(ge,Ke?Ke.nextSibling:Se.firstChild)}ft=!1,Fe.length?Fe.map(ht=>ht.connectedCallback()):Ye.jmp(()=>rt=setTimeout(Zs,30))},Be=(p,m)=>m,yi=(p,m,w,A)=>{w&&st.document&&w.map(([X,te,Ve])=>{const Se=Zi(st.document,p,X),Ke=ya(m,Ve),ge=Ri(X);Ye.ael(Se,te,Ke,ge),(m.$rmListeners$=m.$rmListeners$||[]).push(()=>Ye.rel(Se,te,Ke,ge))})},ya=(p,m)=>w=>{var A;try{256&p.$flags$?null==(A=p.$lazyInstance$)||A[m](w):(p.$queuedListeners$=p.$queuedListeners$||[]).push([m,w])}catch(X){K(X,p.$hostElement$)}},Zi=(p,m,w)=>4&w?p:8&w?st:16&w?p.body:m,Ri=p=>Nt?{passive:!!(1&p),capture:!!(2&p)}:!!(2&p)},9364:(Z,we,_)=>{"use strict";var S=_(7888);Z.exports=S.getPrototypeOf||null},9462:Z=>{"use strict";var S,we="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,_="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;we||(S=function(k){return!1});var x=we?we.prototype.has:null,L=_?_.prototype.has:null;!S&&!x&&(S=function(k){return!1}),Z.exports=S||function(k){if(!k||"object"!=typeof k)return!1;try{if(x.call(k,x),L)try{L.call(k,L)}catch{return!0}return k instanceof we}catch{}return!1}},9713:(Z,we,_)=>{"use strict";var S=_(7707),x=_(814),L=_(5124);Z.exports=function(){return L(S,x,arguments)}},9805:(Z,we,_)=>{"use strict";_.r(we),_.d(we,{iosTransitionAnimation:()=>T,shadow:()=>E});var S=_(7133),x=_(6780);_(9335),_(575),_(6721);const O=le=>document.querySelector(`${le}.ion-cloned-element`),E=le=>le.shadowRoot||le,P=le=>{const _e="ION-TABS"===le.tagName?le:le.querySelector("ion-tabs"),Q="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=_e){const W=_e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=W?W.querySelector(Q):null}return le.querySelector(Q)},R=(le,_e)=>{const Q="ION-TABS"===le.tagName?le:le.querySelector("ion-tabs");let W=[];if(null!=Q){const Y=Q.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Y&&(W=Y.querySelectorAll("ion-buttons"))}else W=le.querySelectorAll("ion-buttons");for(const Y of W){const me=Y.closest("ion-header"),Te=me&&!me.classList.contains("header-collapse-condense-inactive"),Xe=Y.querySelector("ion-back-button"),ee=Y.classList.contains("buttons-collapse");if(null!==Xe&&("start"===Y.slot||""===Y.slot)&&(ee&&Te&&_e||!ee))return Xe}return null},N=(le,_e,Q,W,Y,me,Te,Xe,ee)=>{var Ee,ve;const ue=_e?`calc(100% - ${Y.right+4}px)`:Y.left-4+"px",Ie=_e?"right":"left",B=_e?"left":"right",K=_e?"right":"left";let je=1,U=1,ne=`scale(${U})`;const ae="scale(1)";if(me&&Te){const Oe=(null===(Ee=me.textContent)||void 0===Ee?void 0:Ee.trim())===(null===(ve=Xe.textContent)||void 0===ve?void 0:ve.trim());je=ee.width/Te.width,U=(ee.height-se)/Te.height,ne=Oe?`scale(${je}, ${U})`:`scale(${U})`}const Ne=E(W).querySelector("ion-icon").getBoundingClientRect(),$e=_e?Ne.width/2-(Ne.right-Y.right)+"px":Y.left-Ne.width/2+"px",be=_e?`-${window.innerWidth-Y.right}px`:`${Y.left}px`,tt=`${ee.top}px`,St=`${Y.top}px`,mt=Q?[{offset:0,transform:`translate3d(${be}, ${St}, 0)`},{offset:1,transform:`translate3d(${$e}, ${tt}, 0)`}]:[{offset:0,transform:`translate3d(${$e}, ${tt}, 0)`},{offset:1,transform:`translate3d(${be}, ${St}, 0)`}],st=Q?[{offset:0,opacity:1,transform:ae},{offset:1,opacity:0,transform:ne}]:[{offset:0,opacity:0,transform:ne},{offset:1,opacity:1,transform:ae}],_t=Q?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Nt=(0,S.c)(),Sn=(0,S.c)(),wn=(0,S.c)(),qt=O("ion-back-button"),Mt=E(qt).querySelector(".button-text"),qe=E(qt).querySelector("ion-icon");qt.text=W.text,qt.mode=W.mode,qt.icon=W.icon,qt.color=W.color,qt.disabled=W.disabled,qt.style.setProperty("display","block"),qt.style.setProperty("position","fixed"),Sn.addElement(qe),Nt.addElement(Mt),wn.addElement(qt),wn.beforeStyles({position:"absolute",top:"0px",[K]:"0px"}).beforeAddWrite(()=>{W.style.setProperty("display","none"),qt.style.setProperty(Ie,ue)}).afterAddWrite(()=>{W.style.setProperty("display",""),qt.style.setProperty("display","none"),qt.style.removeProperty(Ie)}).keyframes(mt),Nt.beforeStyles({"transform-origin":`${Ie} top`}).keyframes(st),Sn.beforeStyles({"transform-origin":`${B} center`}).keyframes(_t),le.addAnimation([Nt,Sn,wn])},D=(le,_e,Q,W,Y,me,Te,Xe,ee)=>{var Ee,ve;const ue=_e?"right":"left",Ie=_e?`calc(100% - ${Y.right}px)`:`${Y.left}px`,K=`${Y.top}px`;let U=_e?`-${window.innerWidth-Te.right-8}px`:`${Te.x+8}px`,ne=.5;const ae="scale(1)";let ye=`scale(${ne})`;if(Xe&&ee){U=_e?`-${window.innerWidth-ee.right-8}px`:ee.x-8+"px";const pt=(null===(Ee=Xe.textContent)||void 0===Ee?void 0:Ee.trim())===(null===(ve=W.textContent)||void 0===ve?void 0:ve.trim());ne=ee.height/(me.height-se),ye=pt?`scale(${ee.width/me.width}, ${ne})`:`scale(${ne})`}const be=Te.top+Te.height/2-Y.height*ne/2+"px",Ae=Q?[{offset:0,opacity:0,transform:`translate3d(${U}, ${be}, 0) ${ye}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${K}, 0) ${ae}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${K}, 0) ${ae}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${U}, ${be}, 0) ${ye}`}],Ge=O("ion-title"),mt=(0,S.c)();Ge.innerText=W.innerText,Ge.size=W.size,Ge.color=W.color,mt.addElement(Ge),mt.beforeStyles({"transform-origin":`${ue} top`,height:`${Y.height}px`,display:"",position:"relative",[ue]:Ie}).beforeAddWrite(()=>{W.style.setProperty("opacity","0")}).afterAddWrite(()=>{W.style.setProperty("opacity",""),Ge.style.setProperty("display","none")}).keyframes(Ae),le.addAnimation(mt)},T=(le,_e)=>{var Q;try{const W="cubic-bezier(0.32,0.72,0,1)",Y="opacity",me="transform",ee="rtl"===le.ownerDocument.dir,Ee=ee?"-99.5%":"99.5%",ve=ee?"33%":"-33%",ue=_e.enteringEl,Ie=_e.leavingEl,B="back"===_e.direction,K=ue.querySelector(":scope > ion-content"),je=ue.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),U=ue.querySelectorAll(":scope > ion-header > ion-toolbar"),ne=(0,S.c)(),ae=(0,S.c)();if(ne.addElement(ue).duration((null!==(Q=_e.duration)&&void 0!==Q?Q:0)||540).easing(_e.easing||W).fill("both").beforeRemoveClass("ion-page-invisible"),Ie&&null!=le){const be=(0,S.c)();be.addElement(le),ne.addAnimation(be)}if(K||0!==U.length||0!==je.length?(ae.addElement(K),ae.addElement(je)):ae.addElement(ue.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(ae),B?ae.beforeClearStyles([Y]).fromTo("transform",`translateX(${ve})`,"translateX(0%)").fromTo(Y,.8,1):ae.beforeClearStyles([Y]).fromTo("transform",`translateX(${Ee})`,"translateX(0%)"),K){const be=E(K).querySelector(".transition-effect");if(be){const tt=be.querySelector(".transition-cover"),St=be.querySelector(".transition-shadow"),Ae=(0,S.c)(),Ge=(0,S.c)(),mt=(0,S.c)();Ae.addElement(be).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ge.addElement(tt).beforeClearStyles([Y]).fromTo(Y,0,.1),mt.addElement(St).beforeClearStyles([Y]).fromTo(Y,.03,.7),Ae.addAnimation([Ge,mt]),ae.addAnimation([Ae])}}const ye=ue.querySelector("ion-header.header-collapse-condense"),{forward:Ne,backward:$e}=((le,_e,Q,W,Y)=>{const me=R(W,Q),Te=P(Y),Xe=P(W),ee=R(Y,Q),Ee=null!==me&&null!==Te&&!Q,ve=null!==Xe&&null!==ee&&Q;if(Ee){const ue=Te.getBoundingClientRect(),Ie=me.getBoundingClientRect(),B=E(me).querySelector(".button-text"),K=B?.getBoundingClientRect(),U=E(Te).querySelector(".toolbar-title").getBoundingClientRect();D(le,_e,Q,Te,ue,U,Ie,B,K),N(le,_e,Q,me,Ie,B,K,Te,U)}else if(ve){const ue=Xe.getBoundingClientRect(),Ie=ee.getBoundingClientRect(),B=E(ee).querySelector(".button-text"),K=B?.getBoundingClientRect(),U=E(Xe).querySelector(".toolbar-title").getBoundingClientRect();D(le,_e,Q,Xe,ue,U,Ie,B,K),N(le,_e,Q,ee,Ie,B,K,Xe,U)}return{forward:Ee,backward:ve}})(ne,ee,B,ue,Ie);if(U.forEach(be=>{const tt=(0,S.c)();tt.addElement(be),ne.addAnimation(tt);const St=(0,S.c)();St.addElement(be.querySelector("ion-title"));const Ae=(0,S.c)(),Ge=Array.from(be.querySelectorAll("ion-buttons,[menuToggle]")),mt=be.closest("ion-header"),pt=mt?.classList.contains("header-collapse-condense-inactive");let Ct;Ct=Ge.filter(B?Nt=>{const Sn=Nt.classList.contains("buttons-collapse");return Sn&&!pt||!Sn}:Nt=>!Nt.classList.contains("buttons-collapse")),Ae.addElement(Ct);const st=(0,S.c)();st.addElement(be.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Et=(0,S.c)();Et.addElement(E(be).querySelector(".toolbar-background"));const Ye=(0,S.c)(),_t=be.querySelector("ion-back-button");if(_t&&Ye.addElement(_t),tt.addAnimation([St,Ae,st,Et,Ye]),Ae.fromTo(Y,.01,1),st.fromTo(Y,.01,1),B)pt||St.fromTo("transform",`translateX(${ve})`,"translateX(0%)").fromTo(Y,.01,1),st.fromTo("transform",`translateX(${ve})`,"translateX(0%)"),Ye.fromTo(Y,.01,1);else if(ye||St.fromTo("transform",`translateX(${Ee})`,"translateX(0%)").fromTo(Y,.01,1),st.fromTo("transform",`translateX(${Ee})`,"translateX(0%)"),Et.beforeClearStyles([Y,"transform"]),mt?.translucent?Et.fromTo("transform",ee?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Et.fromTo(Y,.01,"var(--opacity)"),Ne||Ye.fromTo(Y,.01,1),_t&&!Ne){const Sn=(0,S.c)();Sn.addElement(E(_t).querySelector(".button-text")).fromTo("transform",ee?"translateX(-100px)":"translateX(100px)","translateX(0px)"),tt.addAnimation(Sn)}}),Ie){const be=(0,S.c)(),tt=Ie.querySelector(":scope > ion-content"),St=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),Ae=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(tt||0!==St.length||0!==Ae.length?(be.addElement(tt),be.addElement(Ae)):be.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ne.addAnimation(be),B){be.beforeClearStyles([Y]).fromTo("transform","translateX(0%)",ee?"translateX(-100%)":"translateX(100%)");const Ge=(0,x.g)(Ie);ne.afterAddWrite(()=>{"normal"===ne.getDirection()&&Ge.style.setProperty("display","none")})}else be.fromTo("transform","translateX(0%)",`translateX(${ve})`).fromTo(Y,1,.8);if(tt){const Ge=E(tt).querySelector(".transition-effect");if(Ge){const mt=Ge.querySelector(".transition-cover"),pt=Ge.querySelector(".transition-shadow"),Ct=(0,S.c)(),st=(0,S.c)(),Et=(0,S.c)();Ct.addElement(Ge).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),st.addElement(mt).beforeClearStyles([Y]).fromTo(Y,.1,0),Et.addElement(pt).beforeClearStyles([Y]).fromTo(Y,.7,.03),Ct.addAnimation([st,Et]),be.addAnimation([Ct])}}St.forEach(Ge=>{const mt=(0,S.c)();mt.addElement(Ge);const pt=(0,S.c)();pt.addElement(Ge.querySelector("ion-title"));const Ct=(0,S.c)(),st=Ge.querySelectorAll("ion-buttons,[menuToggle]"),Et=Ge.closest("ion-header"),Ye=Et?.classList.contains("header-collapse-condense-inactive"),_t=Array.from(st).filter(qe=>{const Oe=qe.classList.contains("buttons-collapse");return Oe&&!Ye||!Oe});Ct.addElement(_t);const Nt=(0,S.c)(),Sn=Ge.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Sn.length>0&&Nt.addElement(Sn);const wn=(0,S.c)();wn.addElement(E(Ge).querySelector(".toolbar-background"));const qt=(0,S.c)(),Mt=Ge.querySelector("ion-back-button");if(Mt&&qt.addElement(Mt),mt.addAnimation([pt,Ct,Nt,qt,wn]),ne.addAnimation(mt),qt.fromTo(Y,.99,0),Ct.fromTo(Y,.99,0),Nt.fromTo(Y,.99,0),B){if(Ye||pt.fromTo("transform","translateX(0%)",ee?"translateX(-100%)":"translateX(100%)").fromTo(Y,.99,0),Nt.fromTo("transform","translateX(0%)",ee?"translateX(-100%)":"translateX(100%)"),wn.beforeClearStyles([Y,"transform"]),Et?.translucent?wn.fromTo("transform","translateX(0px)",ee?"translateX(-100%)":"translateX(100%)"):wn.fromTo(Y,"var(--opacity)",0),Mt&&!$e){const Oe=(0,S.c)();Oe.addElement(E(Mt).querySelector(".button-text")).fromTo("transform","translateX(0%)",`translateX(${(ee?-124:124)+"px"})`),mt.addAnimation(Oe)}}else Ye||pt.fromTo("transform","translateX(0%)",`translateX(${ve})`).fromTo(Y,.99,0).afterClearStyles([me,Y]),Nt.fromTo("transform","translateX(0%)",`translateX(${ve})`).afterClearStyles([me,Y]),qt.afterClearStyles([Y]),pt.afterClearStyles([Y]),Ct.afterClearStyles([Y])})}return ne}catch(W){throw W}},se=10},9817:Z=>{"use strict";Z.exports=Object.getOwnPropertyDescriptor},9819:(Z,we,_)=>{"use strict";var S=_(6998),x=typeof globalThis>"u"?global:globalThis;Z.exports=function(){for(var H=[],k=0;k<S.length;k++)"function"==typeof x[S[k]]&&(H[H.length]=S[k]);return H}},9831:Z=>{"use strict";var we=function(_){return _!=_};Z.exports=function(S,x){return 0===S&&0===x?1/S==1/x:!!(S===x||we(S)&&we(x))}},9919:(Z,we,_)=>{"use strict";_.d(we,{a:()=>L,b:()=>Ee,i:()=>ve});var S=_(9335);const L=(ue,Ie)=>("string"==typeof ue&&(Ie=ue,ue=void 0),(ue=>H(ue))(ue).includes(Ie)),H=(ue=window)=>{if(typeof ue>"u")return[];ue.Ionic=ue.Ionic||{};let Ie=ue.Ionic.platforms;return null==Ie&&(Ie=ue.Ionic.platforms=k(ue),Ie.forEach(B=>ue.document.documentElement.classList.add(`plt-${B}`))),Ie},k=ue=>{const Ie=S.e.get("platform");return Object.keys(Xe).filter(B=>{const K=Ie?.[B];return"function"==typeof K?K(ue):Xe[B](ue)})},O=ue=>!!(me(ue,/iPad/i)||me(ue,/Macintosh/i)&&T(ue)),R=ue=>me(ue,/android|sink/i),T=ue=>Te(ue,"(any-pointer:coarse)"),le=ue=>_e(ue)||Q(ue),_e=ue=>!!(ue.cordova||ue.phonegap||ue.PhoneGap),Q=ue=>{const Ie=ue.Capacitor;return!!(Ie?.isNative||Ie?.isNativePlatform&&Ie.isNativePlatform())},me=(ue,Ie)=>Ie.test(ue.navigator.userAgent),Te=(ue,Ie)=>{var B;return null===(B=ue.matchMedia)||void 0===B?void 0:B.call(ue,Ie).matches},Xe={ipad:O,iphone:ue=>me(ue,/iPhone/i),ios:ue=>me(ue,/iPhone|iPod/i)||O(ue),android:R,phablet:ue=>{const Ie=ue.innerWidth,B=ue.innerHeight,K=Math.min(Ie,B),je=Math.max(Ie,B);return K>390&&K<520&&je>620&&je<800},tablet:ue=>{const Ie=ue.innerWidth,B=ue.innerHeight,K=Math.min(Ie,B),je=Math.max(Ie,B);return O(ue)||(ue=>R(ue)&&!me(ue,/mobile/i))(ue)||K>460&&K<820&&je>780&&je<1400},cordova:_e,capacitor:Q,electron:ue=>me(ue,/electron/i),pwa:ue=>{var Ie;return!!(null!==(Ie=ue.matchMedia)&&void 0!==Ie&&Ie.call(ue,"(display-mode: standalone)").matches||ue.navigator.standalone)},mobile:T,mobileweb:ue=>T(ue)&&!le(ue),desktop:ue=>!T(ue),hybrid:le};let ee;const Ee=ue=>ue&&(0,S.o)(ue)||ee,ve=(ue={})=>{if(typeof window>"u")return;const Ie=window.document,B=window,K=B.Ionic=B.Ionic||{},je=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(0,S.l)(B)),{persistConfig:!1}),K.config),(0,S.m)(B)),ue);S.e.reset(je),S.e.getBoolean("persistConfig")&&(0,S.n)(B,je),H(B),K.config=S.e,K.mode=ee=S.e.get("mode",Ie.documentElement.getAttribute("mode")||(L(B,"ios")?"ios":"md")),S.e.set("mode",ee),Ie.documentElement.setAttribute("mode",ee),Ie.documentElement.classList.add(ee),S.e.getBoolean("_testing")&&S.e.set("animated",!1);const U=ae=>{var ye;return null===(ye=ae.tagName)||void 0===ye?void 0:ye.startsWith("ION-")},ne=ae=>["ios","md"].includes(ae);(0,S.q)(ae=>{for(;ae;){const ye=ae.mode||ae.getAttribute("mode");if(ye){if(ne(ye))return ye;U(ae)&&(0,S.f)('Invalid ionic mode: "'+ye+'", expected: "ios" or "md"')}ae=ae.parentElement}return ee})}}},Z=>{Z(Z.s=894)}]);
//# sourceMappingURL=main.edc02d54a48cc37d.js.map