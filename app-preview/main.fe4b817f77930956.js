(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{4926:($e,We,P)=>{"use strict";function k(n){return"function"==typeof n}function l(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const re=l(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function te(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class G{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(k(r))try{r()}catch(i){e=i instanceof re?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{U(i)}catch(s){e=e??[],s instanceof re?e=[...e,...s.errors]:e.push(s)}}if(e)throw new re(e)}}add(e){var t;if(e&&e!==this)if(this.closed)U(e);else{if(e instanceof G){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&te(t,e)}remove(e){const{_finalizers:t}=this;t&&te(t,e),e instanceof G&&e._removeParent(this)}}G.EMPTY=(()=>{const n=new G;return n.closed=!0,n})();const Q=G.EMPTY;function L(n){return n instanceof G||n&&"closed"in n&&k(n.remove)&&k(n.add)&&k(n.unsubscribe)}function U(n){k(n)?n():n.unsubscribe()}const ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},X={setTimeout(n,e,...t){const{delegate:r}=X;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=X;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ie(n){X.setTimeout(()=>{const{onUnhandledError:e}=ue;if(!e)throw n;e(n)})}function V(){}const $=Le("C",void 0,void 0);function Le(n,e,t){return{kind:n,value:e,error:t}}let he=null;function Z(n){if(ue.useDeprecatedSynchronousErrorHandling){const e=!he;if(e&&(he={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=he;if(he=null,t)throw r}}else n()}class fe extends G{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,L(e)&&e.add(this)):this.destination=Ne}static create(e,t,r){return new ce(e,t,r)}next(e){this.isStopped?Ye(function Pe(n){return Le("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ye(function H(n){return Le("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ye($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function de(n,e){return Re.call(n,e)}class it{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ce(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ce(r)}else Ce(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ce(t)}}}class ce extends fe{constructor(e,t,r){let o;if(super(),k(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&ue.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&de(e.next,i),error:e.error&&de(e.error,i),complete:e.complete&&de(e.complete,i)}):o=e}this.destination=new it(o)}}function Ce(n){ue.useDeprecatedSynchronousErrorHandling?function K(n){ue.useDeprecatedSynchronousErrorHandling&&he&&(he.errorThrown=!0,he.error=n)}(n):ie(n)}function Ye(n,e){const{onStoppedNotification:t}=ue;t&&X.setTimeout(()=>t(n,e))}const Ne={closed:!0,next:V,error:function Ie(n){throw n},complete:V},Me="function"==typeof Symbol&&Symbol.observable||"@@observable";function ne(n){return n}function Xe(n){return 0===n.length?ne:1===n.length?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}let vt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function O(n){return n&&n instanceof fe||function Ze(n){return n&&k(n.next)&&k(n.error)&&k(n.complete)}(n)&&L(n)}(t)?t:new ce(t,r,o);return Z(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=un(r))((o,i)=>{const s=new ce({next:a=>{try{t(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Me](){return this}pipe(...t){return Xe(t)(this)}toPromise(t){return new(t=un(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function un(n){var e;return null!==(e=n??ue.Promise)&&void 0!==e?e:Promise}const ye=l(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let tt=(()=>{class n extends vt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new nt(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ye}next(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Z(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Q:(this.currentObservers=null,i.push(t),new G(()=>{this.currentObservers=null,te(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new vt;return t.source=this,t}}return n.create=(e,t)=>new nt(e,t),n})();class nt extends tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:Q}}function Ve(n){return k(n?.lift)}function q(n){return e=>{if(Ve(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(n,e,t,r,o){return new ht(n,e,t,r,o)}class ht extends fe{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ae(n,e){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>{r.next(n.call(e,i,o++))}))})}function W(n,e,t,r){var s,o=arguments.length,i=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(o<3?s(i):o>3?s(e,t,i):s(e,t))||i);return o>3&&i&&Object.defineProperty(e,t,i),i}function Mn(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(h){try{f(r.next(h))}catch(y){s(y)}}function u(h){try{f(r.throw(h))}catch(y){s(y)}}function f(h){h.done?i(h.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(h.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}function mn(n){return this instanceof mn?(this.v=n,this):new mn(n)}function Xr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(n,e||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(T){r[T]&&(o[T]=function(M){return new Promise(function(Y,Se){i.push([T,M,Y,Se])>1||a(T,M)})})}function a(T,M){try{!function u(T){T.value instanceof mn?Promise.resolve(T.value.v).then(f,h):y(i[0][2],T)}(r[T](M))}catch(Y){y(i[0][3],Y)}}function f(T){a("next",T)}function h(T){a("throw",T)}function y(T,M){T(M),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Br(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Gr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=n[i](s)).done,s.value)})}}}const mr=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Xt(n){return k(n?.then)}function er(n){return k(n[Me])}function tr(n){return Symbol.asyncIterator&&k(n?.[Symbol.asyncIterator])}function cn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const E=function Ut(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function S(n){return k(n?.[E])}function Yn(n){return Xr(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:o}=yield mn(t.read());if(o)return yield mn(void 0);yield yield mn(r)}}finally{t.releaseLock()}})}function D(n){return k(n?.getReader)}function Pn(n){if(n instanceof vt)return n;if(null!=n){if(er(n))return function $o(n){return new vt(e=>{const t=n[Me]();if(k(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(mr(n))return function Xo(n){return new vt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Xt(n))return function bo(n){return new vt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ie)})}(n);if(tr(n))return Bo(n);if(S(n))return function Oi(n){return new vt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(D(n))return function Ci(n){return Bo(Yn(n))}(n)}throw cn(n)}function Bo(n){return new vt(e=>{(function Si(n,e){var t,r,o,i;return Mn(this,void 0,void 0,function*(){try{for(t=Br(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ro(n,e,t,r=0,o=!1){const i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function gr(n,e,t=1/0){return k(e)?gr((r,o)=>Ae((i,s)=>e(r,i,o,s))(Pn(n(r,o))),t):("number"==typeof e&&(t=e),q((r,o)=>function Vo(n,e,t,r,o,i,s,a){const u=[];let f=0,h=0,y=!1;const T=()=>{y&&!u.length&&!f&&e.complete()},M=Se=>f<r?Y(Se):u.push(Se),Y=Se=>{i&&e.next(Se),f++;let ze=!1;Pn(t(Se,h++)).subscribe(_e(e,Ke=>{o?.(Ke),i?M(Ke):e.next(Ke)},()=>{ze=!0},void 0,()=>{if(ze)try{for(f--;u.length&&f<r;){const Ke=u.shift();s?ro(e,s,()=>Y(Ke)):Y(Ke)}T()}catch(Ke){e.error(Ke)}}))};return n.subscribe(_e(e,M,()=>{y=!0,T()})),()=>{a?.()}}(r,o,n,t)))}function Uo(n=1/0){return gr(ne,n)}const Qr=new vt(n=>n.complete());function wo(n){return n&&k(n.schedule)}function Wr(n){return n[n.length-1]}function es(n){return k(Wr(n))?n.pop():void 0}function Jo(n){return wo(Wr(n))?n.pop():void 0}function oo(n,e=0){return q((t,r)=>{t.subscribe(_e(r,o=>ro(r,n,()=>r.next(o),e),()=>ro(r,n,()=>r.complete(),e),o=>ro(r,n,()=>r.error(o),e)))})}function ts(n,e=0){return q((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ns(n,e){if(!n)throw new Error("Iterable cannot be null");return new vt(t=>{ro(t,e,()=>{const r=n[Symbol.asyncIterator]();ro(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function cr(n,e){return e?function Fs(n,e){if(null!=n){if(er(n))return function fo(n,e){return Pn(n).pipe(ts(e),oo(e))}(n,e);if(mr(n))return function vs(n,e){return new vt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(Xt(n))return function Ei(n,e){return Pn(n).pipe(ts(e),oo(e))}(n,e);if(tr(n))return ns(n,e);if(S(n))return function ui(n,e){return new vt(t=>{let r;return ro(t,e,()=>{r=n[E](),ro(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>k(r?.return)&&r.return()})}(n,e);if(D(n))return function Rs(n,e){return ns(Yn(n),e)}(n,e)}throw cn(n)}(n,e):Pn(n)}function di(...n){const e=Jo(n),t=function Io(n,e){return"number"==typeof Wr(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Pn(r[0]):Uo(t)(cr(r,e)):Qr}function bs(n={}){const{connector:e=(()=>new tt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,u,f=0,h=!1,y=!1;const T=()=>{a?.unsubscribe(),a=void 0},M=()=>{T(),s=u=void 0,h=y=!1},Y=()=>{const Se=s;M(),Se?.unsubscribe()};return q((Se,ze)=>{f++,!y&&!h&&T();const Ke=u=u??e();ze.add(()=>{f--,0===f&&!y&&!h&&(a=Ni(Y,o))}),Ke.subscribe(ze),!s&&f>0&&(s=new ce({next:St=>Ke.next(St),error:St=>{y=!0,T(),a=Ni(M,t,St),Ke.error(St)},complete:()=>{h=!0,T(),a=Ni(M,r),Ke.complete()}}),Pn(Se).subscribe(s))})(i)}}function Ni(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new ce({next:()=>{r.unsubscribe(),n()}});return Pn(e(...t)).subscribe(r)}function nr(n){for(let e in n)if(n[e]===nr)return e;throw Error("Could not find renamed property on target object.")}function A(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function N(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(N).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function ge(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const Ee=nr({__forward_ref__:nr});function Fe(n){return n.__forward_ref__=Fe,n.toString=function(){return N(this())},n}function R(n){return pe(n)?n():n}function pe(n){return"function"==typeof n&&n.hasOwnProperty(Ee)&&n.__forward_ref__===Fe}function ke(n){return n&&!!n.\u0275providers}const ot="https://g.co/ng/security#xss";class xe extends Error{constructor(e,t){super(function jt(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function Et(n){return"string"==typeof n?n:null==n?"":String(n)}function fi(n,e){throw new xe(-201,!1)}function Mo(n,e){null==n&&function qn(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function gt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function yr(n){return{providers:n.providers||[],imports:n.imports||[]}}function ws(n){return io(n,Os)||io(n,ca)}function io(n,e){return n.hasOwnProperty(e)?n[e]:null}function la(n){return n&&(n.hasOwnProperty(Zs)||n.hasOwnProperty(Ha))?n[Zs]:null}const Os=nr({\u0275prov:nr}),Zs=nr({\u0275inj:nr}),ca=nr({ngInjectableDef:nr}),Ha=nr({ngInjectorDef:nr});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let qs;function ar(n){const e=qs;return qs=n,e}function Zr(n,e,t){const r=ws(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Tt.Optional?null:void 0!==e?e:void fi(N(n))}const p=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),z={},ve="__NG_DI_FLAG__",De="ngTempTokenPath",Dt=/\n/gm,kn="__source";let Tn;function Ht(n){const e=Tn;return Tn=n,e}function Zt(n,e=Tt.Default){if(void 0===Tn)throw new xe(-203,!1);return null===Tn?Zr(n,void 0,e):Tn.get(n,e&Tt.Optional?null:void 0,e)}function ee(n,e=Tt.Default){return(function po(){return qs}()||Zt)(R(n),e)}function yn(n,e=Tt.Default){return ee(n,Vr(e))}function Vr(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function mt(n){const e=[];for(let t=0;t<n.length;t++){const r=R(n[t]);if(Array.isArray(r)){if(0===r.length)throw new xe(900,!1);let o,i=Tt.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Ur(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}e.push(ee(o,i))}else e.push(ee(r))}return e}function zt(n,e){return n[ve]=e,n.prototype[ve]=e,n}function Ur(n){return n[ve]}function ur(n){return{toString:n}.toString()}var ki=(()=>((ki=ki||{})[ki.OnPush=0]="OnPush",ki[ki.Default=1]="Default",ki))(),is=(()=>{return(n=is||(is={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",is;var n})();const pi={},or=[],ua=nr({\u0275cmp:nr}),za=nr({\u0275dir:nr}),eo=nr({\u0275pipe:nr}),ss=nr({\u0275mod:nr}),Sr=nr({\u0275fac:nr}),da=nr({__NG_ELEMENT_ID__:nr});let Hc=0;function ut(n){return ur(()=>{const t=!0===n.standalone,r={},o={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ki.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||or,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||is.Emulated,id:"c"+Hc++,styles:n.styles||or,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=n.dependencies,s=n.features;return o.inputs=Rr(n.inputs,r),o.outputs=Rr(n.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(tc).filter(An):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(Ln).filter(An):null,o})}function tc(n){return pn(n)||Hn(n)}function An(n){return null!==n}function Un(n){return ur(()=>({type:n.type,bootstrap:n.bootstrap||or,declarations:n.declarations||or,imports:n.imports||or,exports:n.exports||or,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Rr(n,e){if(null==n)return pi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let o=n[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),t[o]=r,e&&(e[o]=i)}return t}const st=ut;function jn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function pn(n){return n[ua]||null}function Hn(n){return n[za]||null}function Ln(n){return n[eo]||null}function g(n,e){const t=n[ss]||null;if(!t&&!0===e)throw new Error(`Type ${N(n)} does not have '\u0275mod' property.`);return t}function Ti(n){return Array.isArray(n)&&"object"==typeof n[1]}function as(n){return Array.isArray(n)&&!0===n[1]}function Wc(n){return 0!=(4&n.flags)}function El(n){return n.componentOffset>-1}function oc(n){return 1==(1&n.flags)}function ls(n){return null!==n.template}function bp(n){return 0!=(256&n[2])}function fa(n,e){return n.hasOwnProperty(Sr)?n[Sr]:null}class Sp{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ao(){return bd}function bd(n){return n.type.prototype.ngOnChanges&&(n.setInput=Dp),Ep}function Ep(){const n=Cd(this),e=n?.current;if(e){const t=n.previous;if(t===pi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Dp(n,e,t,r){const o=this.declaredInputs[t],i=Cd(n)||function Ip(n,e){return n[wd]=e}(n,{previous:pi,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new Sp(u&&u.currentValue,e,a===pi),n[r]=e}Ao.ngInherit=!0;const wd="__ngSimpleChanges__";function Cd(n){return n[wd]||null}function ni(n){for(;Array.isArray(n);)n=n[0];return n}function Wa(n,e){return ni(e[n])}function $i(n,e){return ni(e[n.index])}function Ed(n,e){return n.data[e]}function Dr(n,e){return n[e]}function So(n,e){const t=e[n];return Ti(t)?t:t[0]}function qc(n){return 64==(64&n[2])}function pa(n,e){return null==e?null:n[e]}function xp(n){n[18]=0}function Dd(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const It={lFrame:M0(null),bindingsEnabled:!0};function Ir(){return It.bindingsEnabled}function lt(){return It.lFrame.lView}function bn(){return It.lFrame.tView}function xt(n){return It.lFrame.contextLView=n,n[8]}function Rt(n){return It.lFrame.contextLView=null,n}function Vt(){let n=c();for(;null!==n&&64===n.type;)n=n.parent;return n}function c(){return It.lFrame.currentTNode}function v(n,e){const t=It.lFrame;t.currentTNode=n,t.isParent=e}function x(){return It.lFrame.isParent}function j(){It.lFrame.isParent=!1}function rn(){return It.lFrame.bindingIndex}function zn(){return It.lFrame.bindingIndex++}function qt(n){const e=It.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ho(n,e){const t=It.lFrame;t.bindingIndex=t.bindingRootIndex=n,zo(e)}function zo(n){It.lFrame.currentDirectiveIndex=n}function gn(){return It.lFrame.currentQueryIndex}function mo(n){It.lFrame.currentQueryIndex=n}function Or(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function us(n,e,t){if(t&Tt.SkipSelf){let o=e,i=n;for(;!(o=o.parent,null!==o||t&Tt.Host||(o=Or(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;e=o,n=i}const r=It.lFrame=T0();return r.currentTNode=e,r.lView=n,!0}function so(n){const e=T0(),t=n[1];It.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function T0(){const n=It.lFrame,e=null===n?null:n.child;return null===e?M0(n):e}function M0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function x0(){const n=It.lFrame;return It.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const A0=x0;function pg(){const n=x0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Bi(){return It.lFrame.selectedIndex}function ic(n){It.lFrame.selectedIndex=n}function ao(){const n=It.lFrame;return Ed(n.tView,n.selectedIndex)}function Ap(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:h}=i;s&&(n.contentHooks||(n.contentHooks=[])).push(-t,s),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),f&&((n.viewHooks||(n.viewHooks=[])).push(t,f),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,f)),null!=h&&(n.destroyHooks||(n.destroyHooks=[])).push(t,h)}}function Pp(n,e,t){P0(n,e,3,t)}function Rp(n,e,t,r){(3&n[2])===t&&P0(n,e,t,r)}function hg(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function P0(n,e,t,r){const i=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<i||-1==i)&&(JT(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function JT(n,e,t,r){const o=t[r]<0,i=t[r+1],a=n[o?-t[r]:t[r]];if(o){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Id{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function gg(n,e,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{const i=o,s=t[++r];F0(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function R0(n){return 3===n||4===n||6===n}function F0(n){return 64===n.charCodeAt(0)}function kd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?t=o:0===t||O0(n,t,o,null,-1===t||2===t?e[++r]:null)}}return n}function O0(n,e,t,r,o){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(n[i+1]=o));if(r===n[i+1])return void(n[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r),null!==o&&n.splice(i++,0,o)}function N0(n){return-1!==n}function Fp(n){return 32767&n}function Op(n,e){let t=function rM(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let yg=!0;function Np(n){const e=yg;return yg=n,e}let oM=0;const ha={};function Lp(n,e){const t=B0(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,_g(r.data,n),_g(e,null),_g(r.blueprint,null));const o=vg(n,e),i=n.injectorIndex;if(N0(o)){const s=Fp(o),a=Op(o,e),u=a[1].data;for(let f=0;f<8;f++)e[i+f]=a[s+f]|u[s+f]}return e[i+8]=o,i}function _g(n,e){n.push(0,0,0,0,0,0,0,0,e)}function B0(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function vg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;null!==o;){if(r=W0(o),null===r)return-1;if(t++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function bg(n,e,t){!function iM(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(da)&&(r=t[da]),null==r&&(r=t[da]=oM++);const o=255&r;e.data[n+(o>>5)]|=1<<o}(n,e,t)}function V0(n,e,t){if(t&Tt.Optional||void 0!==n)return n;fi()}function U0(n,e,t,r){if(t&Tt.Optional&&void 0===r&&(r=null),!(t&(Tt.Self|Tt.Host))){const o=n[9],i=ar(void 0);try{return o?o.get(e,r,t&Tt.Optional):Zr(e,r,t&Tt.Optional)}finally{ar(i)}}return V0(r,0,t)}function j0(n,e,t,r=Tt.Default,o){if(null!==n){if(1024&e[2]){const s=function uM(n,e,t,r,o){let i=n,s=e;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=H0(i,s,t,r|Tt.Self,ha);if(a!==ha)return a;let u=i.parent;if(!u){const f=s[21];if(f){const h=f.get(t,ha,r);if(h!==ha)return h}u=W0(s),s=s[15]}i=u}return o}(n,e,t,r,ha);if(s!==ha)return s}const i=H0(n,e,t,r,ha);if(i!==ha)return i}return U0(e,t,r,o)}function H0(n,e,t,r,o){const i=function lM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(da)?n[da]:void 0;return"number"==typeof e?e>=0?255&e:cM:e}(t);if("function"==typeof i){if(!us(e,n,r))return r&Tt.Host?V0(o,0,r):U0(e,t,r,o);try{const s=i(r);if(null!=s||r&Tt.Optional)return s;fi()}finally{A0()}}else if("number"==typeof i){let s=null,a=B0(n,e),u=-1,f=r&Tt.Host?e[16][6]:null;for((-1===a||r&Tt.SkipSelf)&&(u=-1===a?vg(n,e):e[a+8],-1!==u&&G0(r,!1)?(s=e[1],a=Fp(u),e=Op(u,e)):a=-1);-1!==a;){const h=e[1];if(z0(i,a,h.data)){const y=aM(a,e,t,s,r,f);if(y!==ha)return y}u=e[a+8],-1!==u&&G0(r,e[1].data[a+8]===f)&&z0(i,a,e)?(s=h,a=Fp(u),e=Op(u,e)):a=-1}}return o}function aM(n,e,t,r,o,i){const s=e[1],a=s.data[n+8],h=$p(a,s,t,null==r?El(a)&&yg:r!=s&&0!=(3&a.type),o&Tt.Host&&i===a);return null!==h?sc(e,s,h,a):ha}function $p(n,e,t,r,o){const i=n.providerIndexes,s=e.data,a=1048575&i,u=n.directiveStart,h=i>>20,T=o?a+h:n.directiveEnd;for(let M=r?a:a+h;M<T;M++){const Y=s[M];if(M<u&&t===Y||M>=u&&Y.type===t)return M}if(o){const M=s[u];if(M&&ls(M)&&M.type===t)return u}return null}function sc(n,e,t,r){let o=n[t];const i=e.data;if(function eM(n){return n instanceof Id}(o)){const s=o;s.resolving&&function ko(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new xe(-200,`Circular dependency in DI detected for ${n}${t}`)}(function dn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Et(n)}(i[t]));const a=Np(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?ar(s.injectImpl):null;us(n,r,Tt.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&function QT(n,e,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=bd(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s)}o&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,o),i&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,i),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,i))}(t,i[t],e)}finally{null!==u&&ar(u),Np(a),s.resolving=!1,A0()}}return o}function z0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function G0(n,e){return!(n&Tt.Self||n&Tt.Host&&e)}class Yc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return j0(this._tNode,this._lView,e,Vr(r),t)}}function cM(){return new Yc(Vt(),lt())}function oi(n){return ur(()=>{const e=n.prototype.constructor,t=e[Sr]||wg(e),r=Object.prototype;let o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){const i=o[Sr]||wg(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function wg(n){return pe(n)?()=>{const e=wg(R(n));return e&&e()}:fa(n)}function W0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}function Xc(n){return function sM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let o=0;for(;o<r;){const i=t[o];if(R0(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof t[o];)o++;else{if(i===e)return t[o+1];o+=2}}}return null}(Vt(),n)}const Jc="__parameters__";function tu(n,e,t){return ur(()=>{const r=function Cg(n){return function(...t){if(n){const r=n(...t);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(u,f,h){const y=u.hasOwnProperty(Jc)?u[Jc]:Object.defineProperty(u,Jc,{value:[]})[Jc];for(;y.length<=h;)y.push(null);return(y[h]=y[h]||[]).push(s),u}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}class on{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=gt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ac(n,e){n.forEach(t=>Array.isArray(t)?ac(t,e):e(t))}function q0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Bp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Cs(n,e,t){let r=nu(n,e);return r>=0?n[1|r]=t:(r=~r,function hM(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(1===o)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;)n[o]=n[o-2],o--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Eg(n,e){const t=nu(n,e);if(t>=0)return n[1|t]}function nu(n,e){return function K0(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}(n,e,1)}const Ad=zt(tu("Optional"),8),Pd=zt(tu("SkipSelf"),4);var ds=(()=>((ds=ds||{})[ds.Important=1]="Important",ds[ds.DashCase=2]="DashCase",ds))();const xg=new Map;let NM=0;const Pg="__ngContext__";function xi(n,e){Ti(e)?(n[Pg]=e[20],function $M(n){xg.set(n[20],n)}(e)):n[Pg]=e}function Fg(n,e){return undefined(n,e)}function Nd(n){const e=n[3];return as(e)?e[3]:e}function Og(n){return mb(n[13])}function Ng(n){return mb(n[4])}function mb(n){for(;null!==n&&!as(n);)n=n[4];return n}function ou(n,e,t,r,o){if(null!=r){let i,s=!1;as(r)?i=r:Ti(r)&&(s=!0,r=r[0]);const a=ni(r);0===n&&null!==t?null==o?wb(e,t,a):lc(e,t,a,o||null,!0):1===n&&null!==t?lc(e,t,a,o||null,!0):2===n?function Hg(n,e,t){const r=Hp(n,e);r&&function ox(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=i&&function ax(n,e,t,r,o){const i=t[7];i!==ni(t)&&ou(e,n,r,i,o);for(let a=10;a<t.length;a++){const u=t[a];Ld(u[1],u,n,e,r,i)}}(e,n,i,t,o)}}function $g(n,e,t){return n.createElement(e,t)}function yb(n,e){const t=n[9],r=t.indexOf(e),o=e[3];512&e[2]&&(e[2]&=-513,Dd(o,-1)),t.splice(r,1)}function Bg(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const o=r[17];null!==o&&o!==n&&yb(o,r),e>0&&(n[t-1][4]=r[4]);const i=Bp(n,10+e);!function YM(n,e){Ld(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function _b(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Ld(n,e,t,3,null,null),function JM(n){let e=n[13];if(!e)return Vg(n[1],n);for(;e;){let t=null;if(Ti(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ti(e)&&Vg(e[1],e),e=e[3];null===e&&(e=n),Ti(e)&&Vg(e[1],e),t=e&&e[4]}e=t}}(e)}}function Vg(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function rx(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const o=e[t[r]];if(!(o instanceof Id)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(n,e),function nx(n,e){const t=n.cleanup,r=e[7];let o=-1;if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=t[i+1]];t[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&as(e[3])){t!==e[3]&&yb(t,e);const r=e[19];null!==r&&r.detachView(n)}!function BM(n){xg.delete(n[20])}(e)}}function vb(n,e,t){return function bb(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=n.data[r.directiveStart+o];if(i===is.None||i===is.Emulated)return null}return $i(r,t)}}(n,e.parent,t)}function lc(n,e,t,r,o){n.insertBefore(e,t,r,o)}function wb(n,e,t){n.appendChild(e,t)}function Cb(n,e,t,r,o){null!==r?lc(n,e,t,r,o):wb(n,e,t)}function Hp(n,e){return n.parentNode(e)}function Sb(n,e,t){return Db(n,e,t)}let Wp,Wg,Db=function Eb(n,e,t){return 40&n.type?$i(n,t):null};function zp(n,e,t,r){const o=vb(n,r,e),i=e[11],a=Sb(r.parent||e[6],r,e);if(null!=o)if(Array.isArray(t))for(let u=0;u<t.length;u++)Cb(i,o,t[u],a,!1);else Cb(i,o,t,a,!1)}function Gp(n,e){if(null!==e){const t=e.type;if(3&t)return $i(e,n);if(4&t)return jg(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Gp(n,r);{const o=n[e.index];return as(o)?jg(-1,o):ni(o)}}if(32&t)return Fg(e,n)()||ni(n[e.index]);{const r=kb(n,e);return null!==r?Array.isArray(r)?r[0]:Gp(Nd(n[16]),r):Gp(n,e.next)}}return null}function kb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function jg(n,e){const t=10+n+1;if(t<e.length){const r=e[t],o=r[1].firstChild;if(null!==o)return Gp(r,o)}return e[7]}function zg(n,e,t,r,o,i,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&xi(ni(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)zg(n,e,t.child,r,o,i,!1),ou(e,n,o,a,i);else if(32&u){const f=Fg(t,r);let h;for(;h=f();)ou(e,n,o,h,i);ou(e,n,o,a,i)}else 16&u?Tb(n,e,r,t,o,i):ou(e,n,o,a,i);t=s?t.projectionNext:t.next}}function Ld(n,e,t,r,o,i){zg(t,r,n.firstChild,e,o,i,!1)}function Tb(n,e,t,r,o,i){const s=t[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)ou(e,n,o,u[f],i);else zg(n,e,u,s[3],o,i,!0)}function Mb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function xb(n,e,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&gg(n,e,r),null!==o&&Mb(n,e,o),null!==i&&function cx(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function cc(n){return function Gg(){if(void 0===Wp&&(Wp=null,p.trustedTypes))try{Wp=p.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wp}()?.createHTML(n)||n}class uc{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ot})`}}class hx extends uc{getTypeName(){return"HTML"}}class mx extends uc{getTypeName(){return"Style"}}class gx extends uc{getTypeName(){return"Script"}}class yx extends uc{getTypeName(){return"URL"}}class _x extends uc{getTypeName(){return"ResourceURL"}}function Ss(n){return n instanceof uc?n.changingThisBreaksApplicationSecurity:n}function ma(n,e){const t=function vx(n){return n instanceof uc&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${ot})`)}return t===e}class Dx{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(cc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class Ix{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=cc(e),t;const r=this.inertDocument.createElement("body");return r.innerHTML=cc(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const t=e.attributes;for(let o=t.length-1;0<o;o--){const s=t.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&e.removeAttribute(s)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const Tx=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function qp(n){return(n=String(n)).match(Tx)?n:"unsafe:"+n}function Za(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function $d(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Nb=Za("area,br,col,hr,img,wbr"),Lb=Za("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$b=Za("rp,rt"),qg=$d(Nb,$d(Lb,Za("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$d($b,Za("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$d($b,Lb)),Kg=Za("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bb=$d(Kg,Za("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Za("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mx=Za("script,style,template");class xx{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=this.checkClobberedElement(t,t.nextSibling);if(o){t=o;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!qg.hasOwnProperty(t))return this.sanitizedSomething=!0,!Mx.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Bb.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=i.value;Kg[a]&&(u=qp(u)),this.buf.push(" ",s,'="',Vb(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();qg.hasOwnProperty(t)&&!Nb.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Vb(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Ax=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Px=/([^\#-~ |!])/g;function Vb(n){return n.replace(/&/g,"&amp;").replace(Ax,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Px,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kp;function Ub(n,e){let t=null;try{Kp=Kp||function Ob(n){const e=new Ix(n);return function kx(){try{return!!(new window.DOMParser).parseFromString(cc(""),"text/html")}catch{return!1}}()?new Dx(e):e}(n);let r=e?String(e):"";t=Kp.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=Kp.getInertBodyElement(r)}while(r!==i);return cc((new xx).sanitizeChildren(Yg(t)||t))}finally{if(t){const r=Yg(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Yg(n){return"content"in n&&function Rx(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Nr=(()=>((Nr=Nr||{})[Nr.NONE=0]="NONE",Nr[Nr.HTML=1]="HTML",Nr[Nr.STYLE=2]="STYLE",Nr[Nr.SCRIPT=3]="SCRIPT",Nr[Nr.URL=4]="URL",Nr[Nr.RESOURCE_URL=5]="RESOURCE_URL",Nr))();const Yp=new on("ENVIRONMENT_INITIALIZER"),Gb=new on("INJECTOR",-1),Wb=new on("INJECTOR_DEF_TYPES");class Zb{get(e,t=z){if(t===z){const r=new Error(`NullInjectorError: No provider for ${N(e)}!`);throw r.name="NullInjectorError",r}return t}}function Ux(...n){return{\u0275providers:qb(0,n),\u0275fromNgModule:!0}}function qb(n,...e){const t=[],r=new Set;let o;return ac(e,i=>{const s=i;Xg(s,t,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&Kb(o,t),t}function Kb(n,e){for(let t=0;t<n.length;t++){const{providers:o}=n[t];Qg(o,i=>{e.push(i)})}}function Xg(n,e,t,r){if(!(n=R(n)))return!1;let o=null,i=la(n);const s=!i&&pn(n);if(i||s){if(s&&!s.standalone)return!1;o=n}else{const u=n.ngModule;if(i=la(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)Xg(f,e,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{ac(i.imports,h=>{Xg(h,e,t,r)&&(f||(f=[]),f.push(h))})}finally{}void 0!==f&&Kb(f,e)}if(!a){const f=fa(o)||(()=>new o);e.push({provide:o,useFactory:f,deps:or},{provide:Wb,useValue:o,multi:!0},{provide:Yp,useValue:()=>ee(o),multi:!0})}const u=i.providers;null==u||a||Qg(u,h=>{e.push(h)})}}return o!==n&&void 0!==n.providers}function Qg(n,e){for(let t of n)ke(t)&&(t=t.\u0275providers),Array.isArray(t)?Qg(t,e):e(t)}const jx=nr({provide:String,useValue:nr});function Jg(n){return null!==n&&"object"==typeof n&&jx in n}function dc(n){return"function"==typeof n}const ey=new on("Set Injector scope."),Xp={},zx={};let ty;function Qp(){return void 0===ty&&(ty=new Zb),ty}class ga{}class Qb extends ga{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ry(e,s=>this.processProvider(s)),this.records.set(Gb,iu(void 0,this)),o.has("environment")&&this.records.set(ga,iu(void 0,this));const i=this.records.get(ey);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Wb.multi,or,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ht(this),r=ar(void 0);try{return e()}finally{Ht(t),ar(r)}}get(e,t=z,r=Tt.Default){this.assertNotDestroyed(),r=Vr(r);const o=Ht(this),i=ar(void 0);try{if(!(r&Tt.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function Kx(n){return"function"==typeof n||"object"==typeof n&&n instanceof on}(e)&&ws(e);a=u&&this.injectableDefInScope(u)?iu(ny(e),Xp):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Tt.Self?Qp():this.parent).get(e,t=r&Tt.Optional&&t===z?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[De]=s[De]||[]).unshift(N(e)),o)throw s;return function hr(n,e,t,r){const o=n[De];throw e[kn]&&o.unshift(e[kn]),n.message=function jo(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let o=N(e);if(Array.isArray(e))o=e.map(N).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):N(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(Dt,"\n  ")}`}("\n"+n.message,o,t,r),n.ngTokenPath=o,n[De]=null,n}(s,e,"R3InjectorError",this.source)}throw s}finally{ar(i),Ht(o)}}resolveInjectorInitializers(){const e=Ht(this),t=ar(void 0);try{const r=this.get(Yp.multi,or,Tt.Self);for(const o of r)o()}finally{Ht(e),ar(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(N(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(e){let t=dc(e=R(e))?e:R(e&&e.provide);const r=function Wx(n){return Jg(n)?iu(void 0,n.useValue):iu(Jb(n),Xp)}(e);if(dc(e)||!0!==e.multi)this.records.get(t);else{let o=this.records.get(t);o||(o=iu(void 0,Xp,!0),o.factory=()=>mt(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Xp&&(t.value=zx,t.value=t.factory()),"object"==typeof t.value&&t.value&&function qx(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function ny(n){const e=ws(n),t=null!==e?e.factory:fa(n);if(null!==t)return t;if(n instanceof on)throw new xe(204,!1);if(n instanceof Function)return function Gx(n){const e=n.length;if(e>0)throw xd(e,"?"),new xe(204,!1);const t=function os(n){const e=n&&(n[Os]||n[ca]);if(e){const t=function Ii(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new xe(204,!1)}function Jb(n,e,t){let r;if(dc(n)){const o=R(n);return fa(o)||ny(o)}if(Jg(n))r=()=>R(n.useValue);else if(function Xb(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...mt(n.deps||[]));else if(function Yb(n){return!(!n||!n.useExisting)}(n))r=()=>ee(R(n.useExisting));else{const o=R(n&&(n.useClass||n.provide));if(!function Zx(n){return!!n.deps}(n))return fa(o)||ny(o);r=()=>new o(...mt(n.deps))}return r}function iu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ry(n,e){for(const t of n)Array.isArray(t)?ry(t,e):t&&ke(t)?ry(t.\u0275providers,e):e(t)}class Yx{}class ew{}class Qx{resolveComponentFactory(e){throw function Xx(n){const e=Error(`No component factory found for ${N(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let qa=(()=>{class n{}return n.NULL=new Qx,n})();function Jx(){return su(Vt(),lt())}function su(n,e){return new _t($i(n,e))}let _t=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=Jx,n})();function eA(n){return n instanceof _t?n.nativeElement:n}class nw{}let Ka=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function tA(){const n=lt(),t=So(Vt().index,n);return(Ti(t)?t:n)[11]}(),n})(),nA=(()=>{class n{}return n.\u0275prov=gt({token:n,providedIn:"root",factory:()=>null}),n})();class Vd{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rA=new Vd("15.1.3"),oy={};function sy(n){return n.ngOriginalError}class au{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sy(e);for(;t&&sy(t);)t=sy(t);return t||null}}function Ya(n){return n instanceof Function?n():n}function ow(n,e,t){let r=n.length;for(;;){const o=n.indexOf(e,t);if(-1===o)return o;if(0===o||n.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}const iw="ng-template";function hA(n,e,t){let r=0;for(;r<n.length;){let o=n[r++];if(t&&"class"===o){if(o=n[r],-1!==ow(o.toLowerCase(),e,0))return!0}else if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}}return!1}function sw(n){return 4===n.type&&n.value!==iw}function mA(n,e,t){return e===(4!==n.type||t?n.value:iw)}function gA(n,e,t){let r=4;const o=n.attrs||[],i=function vA(n){for(let e=0;e<n.length;e++)if(R0(n[e]))return e;return n.length}(o);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!mA(n,u,t)||""===u&&1===e.length){if(Ks(r))return!1;s=!0}}else{const f=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!hA(n.attrs,f,t)){if(Ks(r))return!1;s=!0}continue}const y=yA(8&r?"class":u,o,sw(n),t);if(-1===y){if(Ks(r))return!1;s=!0;continue}if(""!==f){let T;T=y>i?"":o[y+1].toLowerCase();const M=8&r?T:null;if(M&&-1!==ow(M,f,0)||2&r&&f!==T){if(Ks(r))return!1;s=!0}}}}else{if(!s&&!Ks(r)&&!Ks(u))return!1;if(s&&Ks(u))continue;s=!1,r=u|1&r}}return Ks(r)||s}function Ks(n){return 0==(1&n)}function yA(n,e,t,r){if(null===e)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){const s=e[o];if(s===n)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function bA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function aw(n,e,t=!1){for(let r=0;r<e.length;r++)if(gA(n,e[r],t))return!0;return!1}function wA(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let o=0;o<n.length;o++)if(n[o]!==r[o])continue e;return!0}}return!1}function lw(n,e){return n?":not("+e.trim()+")":e}function CA(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Ks(s)&&(e+=lw(i,o),o=""),r=s,i=i||!Ks(r);t++}return""!==o&&(e+=lw(i,o)),e}const Fn={};function Je(n){cw(bn(),lt(),Bi()+n,!1)}function cw(n,e,t,r){if(!r)if(3==(3&e[2])){const i=n.preOrderCheckHooks;null!==i&&Pp(e,i,t)}else{const i=n.preOrderHooks;null!==i&&Rp(e,i,0,t)}ic(t)}function pw(n,e=null,t=null,r){const o=hw(n,e,t,r);return o.resolveInjectorInitializers(),o}function hw(n,e=null,t=null,r,o=new Set){const i=[t||or,Ux(n)];return r=r||("object"==typeof n?void 0:N(n)),new Qb(i,e||Qp(),r||null,o)}let lo=(()=>{class n{static create(t,r){if(Array.isArray(t))return pw({name:""},r,t,"");{const o=t.name??"";return pw({name:o},t.parent,t.providers,o)}}}return n.THROW_IF_NOT_FOUND=z,n.NULL=new Zb,n.\u0275prov=gt({token:n,providedIn:"any",factory:()=>ee(Gb)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,e=Tt.Default){const t=lt();return null===t?ee(n,e):j0(Vt(),t,R(n),e)}function Cw(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r+1];if(-1!==i){const s=n.data[i];mo(t[r]),s.contentQueries(2,e[i],i)}}}function eh(n,e,t,r,o,i,s,a,u,f,h){const y=e.blueprint.slice();return y[0]=o,y[2]=76|r,(null!==h||n&&1024&n[2])&&(y[2]|=1024),xp(y),y[3]=y[15]=n,y[8]=t,y[10]=s||n&&n[10],y[11]=a||n&&n[11],y[12]=u||n&&n[12]||null,y[9]=f||n&&n[9]||null,y[6]=i,y[20]=function LM(){return NM++}(),y[21]=h,y[16]=2==e.type?n[16]:y,y}function uu(n,e,t,r,o){let i=n.data[e];if(null===i)i=function dy(n,e,t,r,o){const i=c(),s=x(),u=n.data[e]=function qA(n,e,t,r,o,i){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,e,r,o);return null===n.firstChild&&(n.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(n,e,t,r,o),function hn(){return It.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function m(){const n=It.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return v(i,!0),i}function Ud(n,e,t,r){if(0===t)return-1;const o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function fy(n,e,t){so(e);try{const r=n.viewQuery;null!==r&&Cy(1,r,t);const o=n.template;null!==o&&Sw(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Cw(n,e),n.staticViewQueries&&Cy(2,n.viewQuery,t);const i=n.components;null!==i&&function GA(n,e){for(let t=0;t<e.length;t++)pP(n,e[t])}(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,pg()}}function th(n,e,t,r){const o=e[2];if(128!=(128&o)){so(e);try{xp(e),function Bn(n){return It.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&Sw(n,e,t,2,r);const s=3==(3&o);if(s){const f=n.preOrderCheckHooks;null!==f&&Pp(e,f,null)}else{const f=n.preOrderHooks;null!==f&&Rp(e,f,0,null),hg(e,0)}if(function dP(n){for(let e=Og(n);null!==e;e=Ng(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const o=t[r];512&o[2]||Dd(o[3],1),o[2]|=512}}}(e),function uP(n){for(let e=Og(n);null!==e;e=Ng(e))for(let t=10;t<e.length;t++){const r=e[t],o=r[1];qc(r)&&th(o,r,o.template,r[8])}}(e),null!==n.contentQueries&&Cw(n,e),s){const f=n.contentCheckHooks;null!==f&&Pp(e,f)}else{const f=n.contentHooks;null!==f&&Rp(e,f,1),hg(e,1)}!function HA(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)ic(~o);else{const i=o,s=t[++r],a=t[++r];ho(s,i),a(2,e[i])}}}finally{ic(-1)}}(n,e);const a=n.components;null!==a&&function zA(n,e){for(let t=0;t<e.length;t++)fP(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&Cy(2,u,r),s){const f=n.viewCheckHooks;null!==f&&Pp(e,f)}else{const f=n.viewHooks;null!==f&&Rp(e,f,2),hg(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Dd(e[3],-1))}finally{pg()}}}function Sw(n,e,t,r,o){const i=Bi(),s=2&r;try{ic(-1),s&&e.length>22&&cw(n,e,22,!1),t(r,o)}finally{ic(i)}}function py(n,e,t){if(Wc(e)){const o=e.directiveEnd;for(let i=e.directiveStart;i<o;i++){const s=n.data[i];s.contentQueries&&s.contentQueries(1,t[i],i)}}}function hy(n,e,t){Ir()&&(function eP(n,e,t,r){const o=t.directiveStart,i=t.directiveEnd;El(t)&&function aP(n,e,t){const r=$i(e,n),o=Ew(t),i=n[10],s=nh(n,eh(n,o,null,t.onPush?32:16,r,e,i,i.createRenderer(r,t),null,null,null));n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Lp(t,e),xi(r,e);const s=t.initialInputs;for(let a=o;a<i;a++){const u=n.data[a],f=sc(e,n,a,t);xi(f,e),null!==s&&lP(0,a-o,f,u,0,s),ls(u)&&(So(t.index,e)[8]=sc(e,n,a,t))}}(n,e,t,$i(t,e)),64==(64&t.flags)&&xw(n,e,t))}function my(n,e,t=$i){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(e,n):n[s];n[o++]=a}}}function Ew(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=gy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function gy(n,e,t,r,o,i,s,a,u,f){const h=22+r,y=h+o,T=function WA(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Fn);return t}(h,y),M="function"==typeof f?f():f;return T[1]={type:n,blueprint:T,template:t,queries:null,viewQuery:a,declTNode:e,data:T.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1}}function Dw(n,e,t,r){const o=Pw(e);null===t?o.push(r):(o.push(t),n.firstCreatePass&&Rw(n).push(r,o.length-1))}function Iw(n,e,t,r){for(let o in n)if(n.hasOwnProperty(o)){t=null===t?{}:t;const i=n[o];null===r?kw(t,e,o,i):r.hasOwnProperty(o)&&kw(t,e,r[o],i)}return t}function kw(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Es(n,e,t,r,o,i,s,a){const u=$i(e,t);let h,f=e.inputs;!a&&null!=f&&(h=f[r])?(Sy(n,t,h,r,o),El(e)&&Tw(t,e.index)):3&e.type&&(r=function YA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(u,r,o))}function Tw(n,e){const t=So(e,n);16&t[2]||(t[2]|=32)}function yy(n,e,t,r){let o=!1;if(Ir()){const i=null===r?null:{"":-1},s=function nP(n,e){const t=n.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(aw(e,s.selectors,!1))if(r||(r=[]),ls(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),_y(n,e,a.length)}else r.unshift(s),_y(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(n,t);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,Mw(n,e,t,a,i,u)),i&&function rP(n,e,t){if(e){const r=n.localNames=[];for(let o=0;o<e.length;o+=2){const i=t[e[o+1]];if(null==i)throw new xe(-301,!1);r.push(e[o],i)}}}(t,r,i)}return t.mergedAttrs=kd(t.mergedAttrs,t.attrs),o}function Mw(n,e,t,r,o,i){for(let f=0;f<r.length;f++)bg(Lp(t,e),n,r[f].type);!function iP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let f=0;f<r.length;f++){const h=r[f];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Ud(n,e,r.length,null);for(let f=0;f<r.length;f++){const h=r[f];t.mergedAttrs=kd(t.mergedAttrs,h.hostAttrs),sP(n,t,e,u,h),oP(u,h,o),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const y=h.type.prototype;!s&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),s=!0),!a&&(y.ngOnChanges||y.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),a=!0),u++}!function KA(n,e,t){const o=e.directiveEnd,i=n.data,s=e.attrs,a=[];let u=null,f=null;for(let h=e.directiveStart;h<o;h++){const y=i[h],T=t?t.get(y):null,Y=T?T.outputs:null;u=Iw(y.inputs,h,u,T?T.inputs:null),f=Iw(y.outputs,h,f,Y);const Se=null===u||null===s||sw(e)?null:cP(u,h,s);a.push(Se)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=f}(n,t,i)}function xw(n,e,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function cs(){return It.lFrame.currentDirectiveIndex}();try{ic(i);for(let a=r;a<o;a++){const u=n.data[a],f=e[a];zo(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&tP(u,f)}}finally{ic(-1),zo(s)}}function tP(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function _y(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function oP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ls(e)&&(t[""]=n)}}function sP(n,e,t,r,o){n.data[r]=o;const i=o.factory||(o.factory=fa(o.type)),s=new Id(i,ls(o),C);n.blueprint[r]=s,t[r]=s,function QA(n,e,t,r,o){const i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function JA(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(n,e,r,Ud(n,t,o.hostVars,Fn),o)}function ya(n,e,t,r,o,i){const s=$i(n,e);!function vy(n,e,t,r,o,i,s){if(null==i)n.removeAttribute(e,o,t);else{const a=null==s?Et(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}(e[11],s,i,n.value,t,r,o)}function lP(n,e,t,r,o,i){const s=i[e];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const f=s[u++],h=s[u++],y=s[u++];null!==a?r.setInput(t,y,f,h):t[h]=y}}}function cP(n,e,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(n.hasOwnProperty(i)){null===r&&(r=[]);const s=n[i];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(i,s[a+1],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Aw(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null]}function fP(n,e){const t=So(e,n);if(qc(t)){const r=t[1];48&t[2]?th(r,t,r.template,t[8]):t[5]>0&&by(t)}}function by(n){for(let r=Og(n);null!==r;r=Ng(r))for(let o=10;o<r.length;o++){const i=r[o];if(qc(i))if(512&i[2]){const s=i[1];th(s,i,s.template,i[8])}else i[5]>0&&by(i)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const o=So(t[r],n);qc(o)&&o[5]>0&&by(o)}}function pP(n,e){const t=So(e,n),r=t[1];(function hP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),fy(r,t,t[8])}function nh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function wy(n){for(;n;){n[2]|=32;const e=Nd(n);if(bp(n)&&!e)return n;n=e}return null}function rh(n,e,t,r=!0){const o=e[10];o.begin&&o.begin();try{th(n,e,n.template,t)}catch(s){throw r&&Ow(e,s),s}finally{o.end&&o.end()}}function Cy(n,e,t){mo(0),e(n,t)}function Pw(n){return n[7]||(n[7]=[])}function Rw(n){return n.cleanup||(n.cleanup=[])}function Ow(n,e){const t=n[9],r=t?t.get(au,null):null;r&&r.handleError(e)}function Sy(n,e,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],u=e[s],f=n.data[s];null!==f.setInput?f.setInput(u,o,r,a):u[a]=o}}function Xa(n,e,t){const r=Wa(e,n);!function gb(n,e,t){n.setValue(e,t)}(n[11],r,t)}function oh(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=ge(o,a):2==i&&(r=ge(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}function ih(n,e,t,r,o=!1){for(;null!==t;){const i=e[t.index];if(null!==i&&r.push(ni(i)),as(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&ih(u[1],u,f,r)}const s=t.type;if(8&s)ih(n,e,t.child,r);else if(32&s){const a=Fg(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=kb(e,t);if(Array.isArray(a))r.push(...a);else{const u=Nd(e[16]);ih(u[1],u,a,r,!0)}}t=o?t.projectionNext:t.next}return r}class jd{get rootNodes(){const e=this._lView,t=e[1];return ih(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(as(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Bg(e,r),Bp(t,r))}this._attachedToViewContainer=!1}_b(this._lView[1],this._lView)}onDestroy(e){Dw(this._lView[1],this._lView,null,e)}markForCheck(){wy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){rh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function QM(n,e){Ld(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=e}}class mP extends jd{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;rh(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Nw extends qa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=pn(e);return new Hd(t,this.ngModule)}}function Lw(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class yP{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Vr(r);const o=this.injector.get(e,oy,r);return o!==oy||t===oy?o:this.parentInjector.get(e,t,r)}}class Hd extends ew{get inputs(){return Lw(this.componentDef.inputs)}get outputs(){return Lw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function SA(n){return n.map(CA).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=(o=o||this.ngModule)instanceof ga?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new yP(e,i):e,a=s.get(nw,null);if(null===a)throw new xe(407,!1);const u=s.get(nA,null),f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",y=r?function ZA(n,e,t){return n.selectRootElement(e,t===is.ShadowDom)}(f,r,this.componentDef.encapsulation):$g(f,h,function gP(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),T=this.componentDef.onPush?288:272,M=gy(0,null,null,1,0,null,null,null,null,null),Y=eh(null,M,null,T,null,null,a,f,u,s,null);let Se,ze;so(Y);try{const Ke=this.componentDef;let St,Oe=null;Ke.findHostDirectiveDefs?(St=[],Oe=new Map,Ke.findHostDirectiveDefs(Ke,St,Oe),St.push(Ke)):St=[Ke];const Nt=function vP(n,e){const t=n[1];return n[22]=e,uu(t,22,2,"#host",null)}(Y,y),Cn=function bP(n,e,t,r,o,i,s,a){const u=o[1];!function wP(n,e,t,r){for(const o of n)e.mergedAttrs=kd(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(oh(e,e.mergedAttrs,!0),null!==t&&xb(r,t,e))}(r,n,e,s);const f=i.createRenderer(e,t),h=eh(o,Ew(t),null,t.onPush?32:16,o[n.index],n,i,f,a||null,null,null);return u.firstCreatePass&&_y(u,n,r.length-1),nh(o,h),o[n.index]=h}(Nt,y,Ke,St,Y,a,f);ze=Ed(M,22),y&&function SP(n,e,t,r){if(r)gg(n,t,["ng-version",rA.full]);else{const{attrs:o,classes:i}=function EA(n){const e=[],t=[];let r=1,o=2;for(;r<n.length;){let i=n[r];if("string"==typeof i)2===o?""!==i&&e.push(i,n[++r]):8===o&&t.push(i);else{if(!Ks(o))break;o=i}r++}return{attrs:e,classes:t}}(e.selectors[0]);o&&gg(n,t,o),i&&i.length>0&&Mb(n,t,i.join(" "))}}(f,Ke,y,r),void 0!==t&&function EP(n,e,t){const r=n.projection=[];for(let o=0;o<e.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(ze,this.ngContentSelectors,t),Se=function CP(n,e,t,r,o,i){const s=Vt(),a=o[1],u=$i(s,o);Mw(a,o,s,t,null,r);for(let h=0;h<t.length;h++)xi(sc(o,a,s.directiveStart+h,s),o);xw(a,o,s),u&&xi(u,o);const f=sc(o,a,s.directiveStart+s.componentOffset,s);if(n[8]=o[8]=f,null!==i)for(const h of i)h(f,e);return py(a,s,n),f}(Cn,Ke,St,Oe,Y,[DP]),fy(M,Y,null)}finally{pg()}return new _P(this.componentType,Se,su(ze,Y),Y,ze)}}class _P extends Yx{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new mP(o),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){const i=this._rootLView;Sy(i[1],i,o,e,t),Tw(i,this._tNode.index)}}get injector(){return new Yc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function DP(){const n=Vt();Ap(lt()[1],n)}function fr(n){let e=function $w(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let o;if(ls(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new xe(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);const s=n;s.inputs=Ey(n.inputs),s.declaredInputs=Ey(n.declaredInputs),s.outputs=Ey(n.outputs);const a=o.hostBindings;a&&MP(n,a);const u=o.viewQuery,f=o.contentQueries;if(u&&kP(n,u),f&&TP(n,f),A(n.inputs,o.inputs),A(n.declaredInputs,o.declaredInputs),A(n.outputs,o.outputs),ls(o)&&o.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===fr&&(t=!1)}}e=Object.getPrototypeOf(e)}!function IP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=kd(o.hostAttrs,t=kd(t,o.hostAttrs))}}(r)}function Ey(n){return n===pi?{}:n===or?[]:n}function kP(n,e){const t=n.viewQuery;n.viewQuery=t?(r,o)=>{e(r,o),t(r,o)}:e}function TP(n,e){const t=n.contentQueries;n.contentQueries=t?(r,o,i)=>{e(r,o,i),t(r,o,i)}:e}function MP(n,e){const t=n.hostBindings;n.hostBindings=t?(r,o)=>{e(r,o),t(r,o)}:e}let sh=null;function fc(){if(!sh){const n=p.Symbol;if(n&&n.iterator)sh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(sh=r)}}}return sh}function ah(n){return!!function Dy(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&fc()in n)}function Ai(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function pc(n,e,t,r){const o=Ai(n,e,t);return Ai(n,e+1,r)||o}function va(n,e,t,r){const o=lt();return Ai(o,zn(),e)&&(bn(),ya(ao(),o,n,e,t,r)),va}function fu(n,e,t,r){return Ai(n,zn(),t)?e+Et(t)+r:Fn}function hu(n,e,t,r,o,i,s,a){const f=function lh(n,e,t,r,o){const i=pc(n,e,t,r);return Ai(n,e+2,o)||i}(n,rn(),t,o,s);return qt(3),f?e+Et(t)+r+Et(o)+i+Et(s)+a:Fn}function an(n,e,t,r,o,i,s,a){const u=lt(),f=bn(),h=n+22,y=f.firstCreatePass?function BP(n,e,t,r,o,i,s,a,u){const f=e.consts,h=uu(e,n,4,s||null,pa(f,a));yy(e,t,h,pa(f,u)),Ap(e,h);const y=h.tViews=gy(2,h,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,f);return null!==e.queries&&(e.queries.template(e,h),y.queries=e.queries.embeddedTView(h)),h}(h,f,u,e,t,r,o,i,s):f.data[h];v(y,!1);const T=u[11].createComment("");zp(f,u,T,y),xi(T,u),nh(u,u[h]=Aw(T,u,T,y)),oc(y)&&hy(f,u,y),null!=s&&my(u,y,a)}function Ds(n){return Dr(function we(){return It.lFrame.contextLView}(),22+n)}function rt(n,e,t){const r=lt();return Ai(r,zn(),e)&&Es(bn(),ao(),r,n,e,r[11],t,!1),rt}function Iy(n,e,t,r,o){const s=o?"class":"style";Sy(n,t,e.inputs[s],s,r)}function se(n,e,t,r){const o=lt(),i=bn(),s=22+n,a=o[11],u=o[s]=$g(a,e,function XT(){return It.lFrame.currentNamespace}()),f=i.firstCreatePass?function UP(n,e,t,r,o,i,s){const a=e.consts,f=uu(e,n,2,o,pa(a,i));return yy(e,t,f,pa(a,s)),null!==f.attrs&&oh(f,f.attrs,!1),null!==f.mergedAttrs&&oh(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}(s,i,o,0,e,t,r):i.data[s];return v(f,!0),xb(a,u,f),32!=(32&f.flags)&&zp(i,o,u,f),0===function et(){return It.lFrame.elementDepthCount}()&&xi(u,o),function to(){It.lFrame.elementDepthCount++}(),oc(f)&&(hy(i,o,f),py(i,f,o)),null!==r&&my(o,f),se}function J(){let n=Vt();x()?j():(n=n.parent,v(n,!1));const e=n;!function ir(){It.lFrame.elementDepthCount--}();const t=bn();return t.firstCreatePass&&(Ap(t,n),Wc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function tM(n){return 0!=(8&n.flags)}(e)&&Iy(t,e,lt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function nM(n){return 0!=(16&n.flags)}(e)&&Iy(t,e,lt(),e.stylesWithoutHost,!1),J}function dt(n,e,t,r){return se(n,e,t,r),J(),dt}function Gd(n,e,t){const r=lt(),o=bn(),i=n+22,s=o.firstCreatePass?function jP(n,e,t,r,o){const i=e.consts,s=pa(i,r),a=uu(e,n,8,"ng-container",s);return null!==s&&oh(a,s,!0),yy(e,t,a,pa(i,o)),null!==e.queries&&e.queries.elementStart(e,a),a}(i,o,r,e,t):o.data[i];v(s,!0);const a=r[i]=r[11].createComment("");return zp(o,r,a,s),xi(a,r),oc(s)&&(hy(o,r,s),py(o,s,r)),null!=t&&my(r,s),Gd}function Wd(){let n=Vt();const e=bn();return x()?j():(n=n.parent,v(n,!1)),e.firstCreatePass&&(Ap(e,n),Wc(n)&&e.queries.elementEnd(n)),Wd}function vr(){return lt()}function Zd(n){return!!n&&"function"==typeof n.then}function Xw(n){return!!n&&"function"==typeof n.subscribe}const ky=Xw;function at(n,e,t,r){const o=lt(),i=bn(),s=Vt();return function Jw(n,e,t,r,o,i,s){const a=oc(r),f=n.firstCreatePass&&Rw(n),h=e[8],y=Pw(e);let T=!0;if(3&r.type||s){const Se=$i(r,e),ze=s?s(Se):Se,Ke=y.length,St=s?Nt=>s(ni(Nt[r.index])):r.index;let Oe=null;if(!s&&a&&(Oe=function HP(n,e,t,r){const o=n.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=e[7],u=o[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(n,e,o,r.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=i,Oe.__ngLastListenerFn__=i,T=!1;else{i=tC(r,e,h,i,!1);const Nt=t.listen(ze,o,i);y.push(i,Nt),f&&f.push(o,St,Ke,Ke+1)}}else i=tC(r,e,h,i,!1);const M=r.outputs;let Y;if(T&&null!==M&&(Y=M[o])){const Se=Y.length;if(Se)for(let ze=0;ze<Se;ze+=2){const Cn=e[Y[ze]][Y[ze+1]].subscribe(i),Zn=y.length;y.push(i,Cn),f&&f.push(o,r.index,Zn,-(Zn+1))}}}(i,o,o[11],s,n,e,r),at}function eC(n,e,t,r){try{return!1!==t(r)}catch(o){return Ow(n,o),!1}}function tC(n,e,t,r,o){return function i(s){if(s===Function)return r;wy(n.componentOffset>-1?So(n.index,e):e);let u=eC(e,0,r,s),f=i.__ngNextListenerFn__;for(;f;)u=eC(e,0,f,s)&&u,f=f.__ngNextListenerFn__;return o&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function $t(n=1){return function GT(n){return(It.lFrame.contextLView=function WT(n,e){for(;n>0;)e=e[15],n--;return e}(n,It.lFrame.contextLView))[8]}(n)}function zP(n,e){let t=null;const r=function _A(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let o=0;o<e.length;o++){const i=e[o];if("*"!==i){if(null===r?aw(n,i,!0):wA(r,i))return o}else t=o}return t}function Ft(n){const e=lt()[16][6];if(!e.projection){const r=e.projection=xd(n?n.length:1,null),o=r.slice();let i=e.child;for(;null!==i;){const s=n?zP(i,n):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function At(n,e=0,t){const r=lt(),o=bn(),i=uu(o,22+n,16,null,t||null);null===i.projection&&(i.projection=e),j(),32!=(32&i.flags)&&function sx(n,e,t){Tb(e[11],0,e,t,vb(n,t,e),Sb(t.parent||e[6],t,e))}(o,r,i)}function uh(n,e,t,r,o){const i=lt(),s=fu(i,e,t,r);return s!==Fn&&Es(bn(),ao(),i,n,s,i[11],o,!1),uh}function dh(n,e){return n<<17|e<<2}function Dl(n){return n>>17&32767}function Ty(n){return 2|n}function hc(n){return(131068&n)>>2}function My(n,e){return-131069&n|e<<2}function xy(n){return 1|n}function dC(n,e,t,r,o){const i=n[t+1],s=null===e;let a=r?Dl(i):hc(i),u=!1;for(;0!==a&&(!1===u||s);){const h=n[a+1];YP(n[a],e)&&(u=!0,n[a+1]=r?xy(h):Ty(h)),a=r?Dl(h):hc(h)}u&&(n[t+1]=r?Ty(i):xy(i))}function YP(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&nu(n,e)>=0}function qd(n,e,t){return Ys(n,e,t,!1),qd}function Qa(n,e){return Ys(n,e,null,!0),Qa}function Ys(n,e,t,r){const o=lt(),i=bn(),s=qt(2);i.firstUpdatePass&&function vC(n,e,t,r){const o=n.data;if(null===o[t+1]){const i=o[Bi()],s=function _C(n,e){return e>=n.expandoStartIndex}(n,t);(function SC(n,e){return 0!=(n.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function iR(n,e,t,r){const o=function Ct(n){const e=It.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(t=Kd(t=Ay(null,n,e,t,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==o)if(t=Ay(o,n,e,t,r),null===i){let u=function sR(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==hc(r))return n[Dl(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=Ay(null,n,e,u[1],r),u=Kd(u,e.attrs,r),function aR(n,e,t,r){n[Dl(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else i=function lR(n,e,t){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=Kd(r,n[i].hostAttrs,t);return Kd(r,e.attrs,t)}(n,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),t}(o,i,e,r),function qP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Dl(s),u=hc(s);n[r]=t;let h,f=!1;if(Array.isArray(t)?(h=t[1],(null===h||nu(t,h)>0)&&(f=!0)):h=t,o)if(0!==u){const T=Dl(n[a+1]);n[r+1]=dh(T,a),0!==T&&(n[T+1]=My(n[T+1],r)),n[a+1]=function WP(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=dh(a,0),0!==a&&(n[a+1]=My(n[a+1],r)),a=r;else n[r+1]=dh(u,0),0===a?a=r:n[u+1]=My(n[u+1],r),u=r;f&&(n[r+1]=Ty(n[r+1])),dC(n,h,r,!0),dC(n,h,r,!1),function KP(n,e,t,r,o){const i=o?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&nu(i,e)>=0&&(t[r+1]=xy(t[r+1]))}(e,h,n,r,i),s=dh(a,u),i?e.classBindings=s:e.styleBindings=s}(o,i,e,t,s,r)}}(i,n,s,r),e!==Fn&&Ai(o,s,e)&&function wC(n,e,t,r,o,i,s,a){if(!(3&e.type))return;const u=n.data,f=u[a+1],h=function ZP(n){return 1==(1&n)}(f)?CC(u,e,t,o,hc(f),s):void 0;fh(h)||(fh(i)||function GP(n){return 2==(2&n)}(f)&&(i=CC(u,null,t,o,a,s)),function lx(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:ds.DashCase;null==o?n.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ds.Important),n.setStyle(t,r,o,i))}}(r,s,Wa(Bi(),t),o,i))}(i,i.data[Bi()],o,o[11],n,o[s+1]=function dR(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=N(Ss(n)))),n}(e,t),r,s)}function Ay(n,e,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],r=Kd(r,i.hostAttrs,o),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Kd(n,e,t){const r=t?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Cs(n,s,!!t||e[++i]))}return void 0===n?null:n}function CC(n,e,t,r,o,i){const s=null===e;let a;for(;o>0;){const u=n[o],f=Array.isArray(u),h=f?u[1]:u,y=null===h;let T=t[o+1];T===Fn&&(T=y?or:void 0);let M=y?Eg(T,r):h===r?T:void 0;if(f&&!fh(M)&&(M=Eg(u,r)),fh(M)&&(a=M,s))return a;const Y=n[o+1];o=s?Dl(Y):hc(Y)}if(null!==e){let u=i?e.residualClasses:e.residualStyles;null!=u&&(a=Eg(u,r))}return a}function fh(n){return void 0!==n}function qe(n,e=""){const t=lt(),r=bn(),o=n+22,i=r.firstCreatePass?uu(r,o,1,e,null):r.data[o],s=t[o]=function Lg(n,e){return n.createText(e)}(t[11],e);zp(r,t,s,i),v(i,!1)}function Is(n){return Pi("",n,""),Is}function Pi(n,e,t){const r=lt(),o=fu(r,n,e,t);return o!==Fn&&Xa(r,Bi(),o),Pi}function Yd(n,e,t,r,o){const i=lt(),s=function pu(n,e,t,r,o,i){const a=pc(n,rn(),t,o);return qt(2),a?e+Et(t)+r+Et(o)+i:Fn}(i,n,e,t,r,o);return s!==Fn&&Xa(i,Bi(),s),Yd}function Py(n,e,t,r,o,i,s){const a=lt(),u=hu(a,n,e,t,r,o,i,s);return u!==Fn&&Xa(a,Bi(),u),Py}const Cu="en-US";let HC=Cu;function Oy(n,e,t,r,o){if(n=R(n),Array.isArray(n))for(let i=0;i<n.length;i++)Oy(n[i],e,t,r,o);else{const i=bn(),s=lt();let a=dc(n)?n:R(n.provide),u=Jb(n);const f=Vt(),h=1048575&f.providerIndexes,y=f.directiveStart,T=f.providerIndexes>>20;if(dc(n)||!n.multi){const M=new Id(u,o,C),Y=Ly(a,e,o?h:h+T,y);-1===Y?(bg(Lp(f,s),i,a),Ny(i,n,e.length),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(M),s.push(M)):(t[Y]=M,s[Y]=M)}else{const M=Ly(a,e,h+T,y),Y=Ly(a,e,h,h+T),ze=Y>=0&&t[Y];if(o&&!ze||!o&&!(M>=0&&t[M])){bg(Lp(f,s),i,a);const Ke=function MF(n,e,t,r,o){const i=new Id(n,t,C);return i.multi=[],i.index=e,i.componentProviders=0,hS(i,o,r&&!t),i}(o?TF:kF,t.length,o,r,u);!o&&ze&&(t[Y].providerFactory=Ke),Ny(i,n,e.length,0),e.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),t.push(Ke),s.push(Ke)}else Ny(i,n,M>-1?M:Y,hS(t[o?Y:M],u,!o&&r));!o&&r&&ze&&t[Y].componentProviders++}}}function Ny(n,e,t,r){const o=dc(e),i=function Hx(n){return!!n.useClass}(e);if(o||i){const u=(i?R(e.useClass):e).prototype.ngOnDestroy;if(u){const f=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){const h=f.indexOf(t);-1===h?f.push(t,[r,u]):f[h+1].push(r,u)}else f.push(t,u)}}}function hS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ly(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function kF(n,e,t,r){return $y(this.multi,[])}function TF(n,e,t,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=sc(t,t[1],this.providerFactory.index,r);i=a.slice(0,s),$y(o,i);for(let u=s;u<a.length;u++)i.push(a[u])}else i=[],$y(o,i);return i}function $y(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function kr(n,e=[]){return t=>{t.providersResolver=(r,o)=>function IF(n,e,t){const r=bn();if(r.firstCreatePass){const o=ls(n);Oy(t,r.data,r.blueprint,o,!0),Oy(e,r.data,r.blueprint,o,!1)}}(r,o?o(n):n,e)}}class Su{}class mS{}class gS extends Su{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nw(this);const r=g(e);this._bootstrapComponents=Ya(r.bootstrap),this._r3Injector=hw(e,t,[{provide:Su,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],N(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class By extends mS{constructor(e){super(),this.moduleType=e}create(e){return new gS(this.moduleType,e)}}class AF extends Su{constructor(e,t,r){super(),this.componentFactoryResolver=new Nw(this),this.instance=null;const o=new Qb([...e,{provide:Su,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],t||Qp(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function yh(n,e,t=null){return new AF(n,e,t).injector}let PF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=qb(0,t.type),o=r.length>0?yh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,o)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=gt({token:n,providedIn:"environment",factory:()=>new n(ee(ga))}),n})();function yS(n){n.getStandaloneInjector=e=>e.get(PF).getOrCreateStandaloneInjector(n)}function ES(n,e,t,r,o,i){const s=e+t;return Ai(n,s,o)?function _a(n,e,t){return n[e]=t}(n,s+1,i?r.call(i,o):r(o)):function nf(n,e){const t=n[e];return t===Fn?void 0:t}(n,s+1)}function Ca(n,e){const t=bn();let r;const o=n+22;t.firstCreatePass?(r=function XF(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(o,r.onDestroy)):r=t.data[o];const i=r.factory||(r.factory=fa(r.type)),s=ar(C);try{const a=Np(!1),u=i();return Np(a),function VP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,lt(),o,u),u}finally{ar(s)}}function Sa(n,e,t){const r=n+22,o=lt(),i=Dr(o,r);return function rf(n,e){return n[1].data[e].pure}(o,r)?ES(o,function wt(){const n=It.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),e,i.transform,t,i):i.transform(t)}function Uy(n){return e=>{setTimeout(n,void 0,e)}}const Dn=class n2 extends tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=Uy(i),o&&(o=Uy(o)),s&&(s=Uy(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof G&&e.add(a),a}};function r2(){return this._results[fc()]()}class jy{get changes(){return this._changes||(this._changes=new Dn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=fc(),r=jy.prototype;r[t]||(r[t]=r2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const o=function Ns(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function fM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let o=n[r],i=e[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(r._results,o,t))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ps=(()=>{class n{}return n.__NG_ELEMENT_ID__=s2,n})();const o2=ps,i2=class extends o2{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,o=eh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),fy(r,o,e),new jd(o)}};function s2(){return _h(Vt(),lt())}function _h(n,e){return 4&n.type?new i2(e,n,su(n,e)):null}let Ri=(()=>{class n{}return n.__NG_ELEMENT_ID__=a2,n})();function a2(){return AS(Vt(),lt())}const l2=Ri,MS=class extends l2{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return su(this._hostTNode,this._hostLView)}get injector(){return new Yc(this._hostTNode,this._hostLView)}get parentInjector(){const e=vg(this._hostTNode,this._hostLView);if(N0(e)){const t=Op(e,this._hostLView),r=Fp(e);return new Yc(t[1].data[r+8],t)}return new Yc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=xS(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=e.createEmbeddedView(t||{},i);return this.insert(s,o),s}createComponent(e,t,r,o,i){const s=e&&!function Md(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const y=t||{};a=y.index,r=y.injector,o=y.projectableNodes,i=y.environmentInjector||y.ngModuleRef}const u=s?e:new Hd(pn(e)),f=r||this.parentInjector;if(!i&&null==u.ngModule){const T=(s?f:this.parentInjector).get(ga,null);T&&(i=T)}const h=u.create(f,o,void 0,i);return this.insert(h.hostView,a),h}insert(e,t){const r=e._lView,o=r[1];if(function fg(n){return as(n[3])}(r)){const h=this.indexOf(e);if(-1!==h)this.detach(h);else{const y=r[3],T=new MS(y,y[6],y[3]);T.detach(T.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function ex(n,e,t,r){const o=10+r,i=t.length;r>0&&(t[o-1][4]=e),r<i-10?(e[4]=t[o],q0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[17];null!==s&&t!==s&&function tx(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(o,r,s,i);const a=jg(i,s),u=r[11],f=Hp(u,s[7]);return null!==f&&function XM(n,e,t,r,o,i){r[0]=o,r[6]=e,Ld(n,r,t,1,o,i)}(o,s[6],u,r,f,a),e.attachToViewContainerRef(),q0(Hy(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=xS(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Bg(this._lContainer,t);r&&(Bp(Hy(this._lContainer),t),_b(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Bg(this._lContainer,t);return r&&null!=Bp(Hy(this._lContainer),t)?new jd(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function xS(n){return n[8]}function Hy(n){return n[8]||(n[8]=[])}function AS(n,e){let t;const r=e[n.index];if(as(r))t=r;else{let o;if(8&n.type)o=ni(r);else{const i=e[11];o=i.createComment("");const s=$i(n,e);lc(i,Hp(i,s),o,function ix(n,e){return n.nextSibling(e)}(i,s),!1)}e[n.index]=t=Aw(r,e,o,n),nh(e,t)}return new MS(t,n,e)}class zy{constructor(e){this.queryList=e,this.matches=null}clone(){return new zy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Gy(o)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==NS(e,t).matches&&this.queries[t].setDirty()}}class PS{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Wy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(e,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new Wy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Zy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Zy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(e,t,c2(t,i)),this.matchTNodeWithReadOption(e,t,$p(t,e,i,!1,!1))}else r===ps?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,$p(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===_t||o===Ri||o===ps&&4&t.type)this.addMatch(t.index,-2);else{const i=$p(t,e,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function c2(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function d2(n,e,t,r){return-1===t?function u2(n,e){return 11&n.type?su(n,e):4&n.type?_h(n,e):null}(e,n):-2===t?function f2(n,e,t){return t===_t?su(e,n):t===ps?_h(e,n):t===Ri?AS(e,n):void 0}(n,e,r):sc(n,n[1],t,e)}function RS(n,e,t,r){const o=e[19].queries[r];if(null===o.matches){const i=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const f=s[u];a.push(f<0?null:d2(e,i[f],s[u+1],t.metadata.read))}o.matches=a}return o.matches}function qy(n,e,t,r){const o=n.queries.getByIndex(t),i=o.matches;if(null!==i){const s=RS(n,e,o,t);for(let a=0;a<i.length;a+=2){const u=i[a];if(u>0)r.push(s[a/2]);else{const f=i[a+1],h=e[-u];for(let y=10;y<h.length;y++){const T=h[y];T[17]===T[3]&&qy(T[1],T,f,r)}if(null!==h[9]){const y=h[9];for(let T=0;T<y.length;T++){const M=y[T];qy(M[1],M,f,r)}}}}}return r}function ks(n){const e=lt(),t=bn(),r=gn();mo(r+1);const o=NS(t,r);if(n.dirty&&function dr(n){return 4==(4&n[2])}(e)===(2==(2&o.metadata.flags))){if(null===o.matches)n.reset([]);else{const i=o.crossesNgTemplate?qy(t,e,r,[]):RS(t,e,o,r);n.reset(i,eA),n.notifyOnChanges()}return!0}return!1}function Eu(n,e,t){const r=bn();r.firstCreatePass&&(OS(r,new PS(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),FS(r,lt(),e)}function Ts(){return function p2(n,e){return n[19].queries[e].queryList}(lt(),gn())}function FS(n,e,t){const r=new jy(4==(4&t));Dw(n,e,r,r.destroy),null===e[19]&&(e[19]=new Gy),e[19].queries.push(new zy(r))}function OS(n,e,t){null===n.queries&&(n.queries=new Wy),n.queries.track(new Zy(e,t))}function NS(n,e){return n.queries.getByIndex(e)}function bh(...n){}const gc=new on("Application Initializer");let wh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=bh,this.reject=bh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Zd(i))t.push(i);else if(ky(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});t.push(s)}}Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(ee(gc,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const af=new on("AppId",{providedIn:"root",factory:function tE(){return`${Jy()}${Jy()}${Jy()}`}});function Jy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nE=new on("Platform Initializer"),ku=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rE=new on("appBootstrapListener");let O2=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ja=new on("LocaleId",{providedIn:"root",factory:()=>yn(Ja,Tt.Optional|Tt.SkipSelf)||function N2(){return typeof $localize<"u"&&$localize.locale||Cu}()});class $2{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let oE=(()=>{class n{compileModuleSync(t){return new By(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=Ya(g(t).declarations).reduce((s,a)=>{const u=pn(a);return u&&s.push(new Hd(u)),s},[]);return new $2(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U2=(()=>Promise.resolve(0))();function e_(n){typeof Zone>"u"?U2.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class pt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Dn(!1),this.onMicrotaskEmpty=new Dn(!1),this.onStable=new Dn(!1),this.onError=new Dn(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function j2(){let n=p.requestAnimationFrame,e=p.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function G2(n){const e=()=>{!function z2(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(p,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,n_(n),n.isCheckStableRunning=!0,t_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),n_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{try{return aE(n),t.invokeTask(o,i,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||n.shouldCoalesceRunChangeDetection)&&e(),lE(n)}},onInvoke:(t,r,o,i,s,a,u)=>{try{return aE(n),t.invoke(o,i,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),lE(n)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,n_(n),t_(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),n.runOutsideAngular(()=>n.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pt.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(pt.isInAngularZone())throw new xe(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,H2,bh,bh);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const H2={};function t_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function n_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function aE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function lE(n){n._nesting--,t_(n)}class W2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Dn,this.onMicrotaskEmpty=new Dn,this.onStable=new Dn,this.onError=new Dn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}}const cE=new on(""),Ch=new on("");let i_,r_=(()=>{class n{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,i_||(function Z2(n){i_=n}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),e_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())e_(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}}return n.\u0275fac=function(t){return new(t||n)(ee(pt),ee(o_),ee(Ch))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),o_=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return i_?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),kl=null;const uE=new on("AllowMultipleToken"),s_=new on("PlatformDestroyListeners");class dE{constructor(e,t){this.name=e,this.token=t}}function pE(n,e,t=[]){const r=`Platform: ${e}`,o=new on(r);return(i=[])=>{let s=a_();if(!s||s.injector.get(uE,!1)){const a=[...t,...i,{provide:o,useValue:!0}];n?n(a):function Y2(n){if(kl&&!kl.get(uE,!1))throw new xe(400,!1);kl=n;const e=n.get(mE);(function fE(n){const e=n.get(nE,null);e&&e.forEach(t=>t())})(n)}(function hE(n=[],e){return lo.create({name:e,providers:[{provide:ey,useValue:"platform"},{provide:s_,useValue:new Set([()=>kl=null])},...n]})}(a,r))}return function Q2(n){const e=a_();if(!e)throw new xe(401,!1);return e}()}}function a_(){return kl?.get(mE)??null}let mE=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function yE(n,e){let t;return t="noop"===n?new W2:("zone.js"===n?void 0:n)||new pt(e),t}(r?.ngZone,function gE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:pt,useValue:o}];return o.run(()=>{const s=lo.create({providers:i,parent:this.injector,name:t.moduleType.name}),a=t.create(s),u=a.injector.get(au,null);if(!u)throw new xe(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:h=>{u.handleError(h)}});a.onDestroy(()=>{Sh(this._modules,a),f.unsubscribe()})}),function _E(n,e,t){try{const r=t();return Zd(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,o,()=>{const f=a.injector.get(wh);return f.runInitializers(),f.donePromise.then(()=>(function zC(n){Mo(n,"Expected localeId to be defined"),"string"==typeof n&&(HC=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ja,Cu)||Cu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const o=vE({},r);return function q2(n,e,t){const r=new By(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(Tl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new xe(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(s_,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(ee(lo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function vE(n,e){return Array.isArray(e)?e.reduce(vE,n):{...n,...e}}let Tl=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(t,r,o){this._zone=t,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new vt(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new vt(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{pt.assertNotInAngularZone(),e_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{pt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=di(i,s.pipe(bs()))}bootstrap(t,r){const o=t instanceof ew;if(!this._injector.get(wh).done)throw!o&&function d(n){const e=pn(n)||Hn(n)||Ln(n);return null!==e&&e.standalone}(t),new xe(405,false);let s;s=o?t:this._injector.get(qa).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function K2(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Su),f=s.create(lo.NULL,[],r||s.selector,a),h=f.location.nativeElement,y=f.injector.get(cE,null);return y?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Sh(this.components,f),y?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Sh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(rE,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new xe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(ee(pt),ee(ga),ee(au))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let kt=(()=>{class n{}return n.__NG_ELEMENT_ID__=eO,n})();function eO(n){return function tO(n,e,t){if(El(n)&&!t){const r=So(n.index,e);return new jd(r,r)}return 47&n.type?new jd(e[16],e):null}(Vt(),lt(),16==(16&n))}class EE{constructor(){}supports(e){return ah(e)}create(e){return new aO(e)}}const sO=(n,e)=>e;class aO{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sO}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<IE(r,o,i)?t:r,a=IE(s,o,i),u=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,h=u-o;if(f!=h){for(let T=0;T<f;T++){const M=T<i.length?i[T]:i[T]=0,Y=M+T;h<=Y&&Y<f&&(i[T]=M+1)}i[s.previousIndex]=h-f}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ah(e))throw new xe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function NP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[fc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new lO(t,r),i,o),e}_verifyReinsertion(e,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new DE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class lO{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cO{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class DE{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new cO,this.map.set(t,r)),r.add(e)}get(e,t){const o=this.map.get(e);return o?o.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IE(n,e,t){const r=n.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}function TE(){return new lf([new EE])}let lf=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||TE()),deps:[[n,new Pd,new Ad]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new xe(901,!1)}}return n.\u0275prov=gt({token:n,providedIn:"root",factory:TE}),n})();const hO=pE(null,"core",[]);let mO=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(ee(Tl))},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({}),n})(),f_=null;function Ea(){return f_}class _O{}const Zo=new on("DocumentToken");let p_=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return function vO(){return ee(xE)}()},providedIn:"platform"}),n})();const bO=new on("Location Initialized");let xE=(()=>{class n extends p_{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ea().getBaseHref(this._doc)}onPopState(t){const r=Ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ea().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){AE()?this._history.pushState(t,r,o):this._location.hash=o}replaceState(t,r,o){AE()?this._history.replaceState(t,r,o):this._location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(ee(Zo))},n.\u0275prov=gt({token:n,factory:function(){return function wO(){return new xE(ee(Zo))}()},providedIn:"platform"}),n})();function AE(){return!!window.history.pushState}function h_(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function PE(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tl(n){return n&&"?"!==n[0]?"?"+n:n}let Da=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return yn(FE)},providedIn:"root"}),n})();const RE=new on("appBaseHref");let FE=(()=>{class n extends Da{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??yn(Zo).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return h_(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tl(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+tl(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+tl(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(p_),ee(RE,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OE=(()=>{class n extends Da{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=h_(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+tl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+tl(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(p_),ee(RE,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),uf=(()=>{class n{constructor(t){this._subject=new Dn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function EO(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(PE(NE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tl(r))}normalize(t){return n.stripTrailingSlash(function SO(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,NE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tl(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tl(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=tl,n.joinWithSlash=h_,n.stripTrailingSlash=PE,n.\u0275fac=function(t){return new(t||n)(ee(Da))},n.\u0275prov=gt({token:n,factory:function(){return function CO(){return new uf(ee(Da))}()},providedIn:"root"}),n})();function NE(n){return n.replace(/\/index.html$/,"")}function GE(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}class cN{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _c=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new cN(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),KE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{KE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Ri),C(ps),C(lf))},n.\u0275dir=st({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function KE(n,e){n.context.$implicit=e.item}let ii=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new dN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){YE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){YE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(C(Ri),C(ps))},n.\u0275dir=st({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dN{constructor(){this.$implicit=null,this.ngIf=null}}function YE(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${N(e)}'.`)}class D_{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Oh=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const r of this._defaultViews)r.enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=st({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),XE=(()=>{class n{constructor(t,r,o){this.ngSwitch=o,o._addCase(),this._view=new D_(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(C(Ri),C(ps),C(Oh,9))},n.\u0275dir=st({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),QE=(()=>{class n{constructor(t,r,o){o._addDefault(new D_(t,r))}}return n.\u0275fac=function(t){return new(t||n)(C(Ri),C(ps),C(Oh,9))},n.\u0275dir=st({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})();class hN{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class mN{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const gN=new mN,yN=new hN;let eD=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Zd(t))return gN;if(Xw(t))return yN;throw function ea(n,e){return new xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(C(kt,16))},n.\u0275pipe=jn({name:"async",type:n,pure:!1,standalone:!0}),n})(),Ia=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({}),n})();const nD="browser";function Ml(n){return n===nD}let $N=(()=>{class n{}return n.\u0275prov=gt({token:n,providedIn:"root",factory:()=>new BN(ee(Zo),window)}),n})();class BN{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function VN(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=rD(this.window.history)||rD(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function rD(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oD{}class pL extends _O{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class P_ extends pL{static makeCurrent(){!function yO(n){f_||(f_=n)}(new P_)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hL(){return hf=hf||document.querySelector("base"),hf?hf.getAttribute("href"):null}();return null==t?null:function mL(n){Lh=Lh||document.createElement("a"),Lh.setAttribute("href",n);const e=Lh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){hf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return GE(document.cookie,e)}}let Lh,hf=null;const cD=new on("TRANSITION_ID"),yL=[{provide:gc,useFactory:function gL(n,e,t){return()=>{t.get(wh).donePromise.then(()=>{const r=Ea(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[cD,Zo,lo],multi:!0}];let vL=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const $h=new on("EventManagerPlugins");let Bh=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(t))return this._eventNameToPlugin.set(t,s),s}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(ee($h),ee(pt))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class uD{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=Ea().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let dD=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),mf=(()=>{class n extends dD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(fD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(fD))}}return n.\u0275fac=function(t){return new(t||n)(ee(Zo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function fD(n){Ea().remove(n)}const R_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},F_=/%COMP%/g;function O_(n,e){return e.flat(100).map(t=>t.replace(F_,n))}function mD(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let N_=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new L_(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case is.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new DL(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case is.ShadowDom:return new IL(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=O_(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(ee(Bh),ee(mf),ee(af))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class L_{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(R_[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(yD(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(yD(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const i=R_[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=R_[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(ds.DashCase|ds.Important)?e.style.setProperty(t,r,o&ds.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ds.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,mD(r)):this.eventManager.addEventListener(e,t,mD(r))}}function yD(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class DL extends L_{constructor(e,t,r,o){super(e),this.component=r;const i=O_(o+"-"+r.id,r.styles);t.addStyles(i),this.contentAttr=function CL(n){return"_ngcontent-%COMP%".replace(F_,n)}(o+"-"+r.id),this.hostAttr=function SL(n){return"_nghost-%COMP%".replace(F_,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class IL extends L_{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=O_(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let kL=(()=>{class n extends uD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(ee(Zo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const _D=["alt","control","meta","shift"],TL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ML={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xL=(()=>{class n extends uD{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ea().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_D.forEach(f=>{const h=r.indexOf(f);h>-1&&(r.splice(h,1),s+=f+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let o=TL[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),_D.forEach(s=>{s!==o&&(0,ML[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(ee(Zo))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const FL=pE(hO,"browser",[{provide:ku,useValue:nD},{provide:nE,useValue:function AL(){P_.makeCurrent()},multi:!0},{provide:Zo,useFactory:function RL(){return function px(n){Wg=n}(document),document},deps:[]}]),wD=new on(""),CD=[{provide:Ch,useClass:class _L{addToWindow(e){p.getAngularTestability=(r,o=!0)=>{const i=e.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},p.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.getAllAngularRootElements=()=>e.getAllRootElements(),p.frameworkStabilizers||(p.frameworkStabilizers=[]),p.frameworkStabilizers.push(r=>{const o=p.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(u){s=s||u,i--,0==i&&r(s)};o.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ea().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:cE,useClass:r_,deps:[pt,o_,Ch]},{provide:r_,useClass:r_,deps:[pt,o_,Ch]}],SD=[{provide:ey,useValue:"root"},{provide:au,useFactory:function PL(){return new au},deps:[]},{provide:$h,useClass:kL,multi:!0,deps:[Zo,pt,ku]},{provide:$h,useClass:xL,multi:!0,deps:[Zo]},{provide:N_,useClass:N_,deps:[Bh,mf,af]},{provide:nw,useExisting:N_},{provide:dD,useExisting:mf},{provide:mf,useClass:mf,deps:[Zo]},{provide:Bh,useClass:Bh,deps:[$h,pt]},{provide:oD,useClass:vL,deps:[]},[]];let OL=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:af,useValue:t.appId},{provide:cD,useExisting:af},yL]}}}return n.\u0275fac=function(t){return new(t||n)(ee(wD,12))},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({providers:[...SD,...CD],imports:[Ia,mO]}),n})(),ED=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(ee(Zo))},n.\u0275prov=gt({token:n,factory:function(t){let r=null;return r=t?new t:function LL(){return new ED(ee(Zo))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let V_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(t){let r=null;return r=t?new(t||n):ee(kD),r},providedIn:"root"}),n})(),kD=(()=>{class n extends V_{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Nr.NONE:return r;case Nr.HTML:return ma(r,"HTML")?Ss(r):Ub(this._doc,String(r)).toString();case Nr.STYLE:return ma(r,"Style")?Ss(r):r;case Nr.SCRIPT:if(ma(r,"Script"))return Ss(r);throw new Error("unsafe value used in a script context");case Nr.URL:return ma(r,"URL")?Ss(r):qp(String(r));case Nr.RESOURCE_URL:if(ma(r,"ResourceURL"))return Ss(r);throw new Error(`unsafe value used in a resource URL context (see ${ot})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${ot})`)}}bypassSecurityTrustHtml(t){return function bx(n){return new hx(n)}(t)}bypassSecurityTrustStyle(t){return function wx(n){return new mx(n)}(t)}bypassSecurityTrustScript(t){return function Cx(n){return new gx(n)}(t)}bypassSecurityTrustUrl(t){return function Sx(n){return new yx(n)}(t)}bypassSecurityTrustResourceUrl(t){return function Ex(n){return new _x(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Zo))},n.\u0275prov=gt({token:n,factory:function(t){let r=null;return r=t?new t:function zL(n){return new kD(n.get(Zo))}(ee(lo)),r},providedIn:"root"}),n})();var si=P(1158),GL=P(9233),Mu=P.n(GL);let Vh,Uh;function TD(n){if(!window.location.hash.startsWith(n))return;const e=window.location.hash.split("?")[1];if(!e)return;const t=e.split("&").map(r=>r.split("="));for(const[r,o]of t)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function MD(){return void 0!==Uh}class xD{constructor(){this.requestEvent=new si.j}dispatchRequest(e){if(e){try{e=new(Mu())(e).toString()}catch{return void console.error(`invalid URL: ${e}`)}this.url=e,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const e=this.url;return this.url=void 0,e}}class Al{constructor(){this.installation=new xD,this.import=new xD,Vh&&this.installation.dispatchRequest(Vh),Uh&&this.import.dispatchRequest(Uh)}}function _n(...n){return cr(n,Jo(n))}function Pl(n,e){return k(e)?gr(n,e,1):gr(n,1)}function hi(n,e){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>n.call(e,i,o++)&&r.next(i)))})}Al.\u0275fac=function(e){return new(e||Al)},Al.\u0275prov=gt({token:Al,factory:Al.\u0275fac,providedIn:"root"});class jh{}class U_{}class rl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof rl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new rl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof rl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qL{encodeKey(e){return AD(e)}encodeValue(e){return AD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const YL=/%(\d[a-f0-9])/gi,XL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function AD(n){return encodeURIComponent(n).replace(YL,(e,t)=>XL[t]??e)}function Hh(n){return`${n}`}class Rl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function KL(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],o=Array.isArray(r)?r.map(Hh):[Hh(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Rl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Hh(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Hh(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class QL{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function PD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function RD(n){return typeof Blob<"u"&&n instanceof Blob}function FD(n){return typeof FormData<"u"&&n instanceof FormData}class gf{constructor(e,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function JL(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new rl),this.context||(this.context=new QL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Rl,this.urlWithParams=t}serializeBody(){return null===this.body?null:PD(this.body)||RD(this.body)||FD(this.body)||function e3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||FD(this.body)?null:RD(this.body)?this.body.type||null:PD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,f=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((y,T)=>y.set(T,e.setHeaders[T]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((y,T)=>y.set(T,e.setParams[T]),f)),new gf(t,r,i,{params:f,headers:u,context:h,reportProgress:a,responseType:o,withCredentials:s})}}var Oo=(()=>((Oo=Oo||{})[Oo.Sent=0]="Sent",Oo[Oo.UploadProgress=1]="UploadProgress",Oo[Oo.ResponseHeader=2]="ResponseHeader",Oo[Oo.DownloadProgress=3]="DownloadProgress",Oo[Oo.Response=4]="Response",Oo[Oo.User=5]="User",Oo))();class j_{constructor(e,t=200,r="OK"){this.headers=e.headers||new rl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class H_ extends j_{constructor(e={}){super(e),this.type=Oo.ResponseHeader}clone(e={}){return new H_({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zh extends j_{constructor(e={}){super(e),this.type=Oo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class OD extends j_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function z_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let G_=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof gf)i=t;else{let u,f;u=o.headers instanceof rl?o.headers:new rl(o.headers),o.params&&(f=o.params instanceof Rl?o.params:new Rl({fromObject:o.params})),i=new gf(t,r,void 0!==o.body?o.body:null,{headers:u,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=_n(i).pipe(Pl(u=>this.handler.handle(u)));if(t instanceof gf||"events"===o.observe)return s;const a=s.pipe(hi(u=>u instanceof zh));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Ae(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Ae(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(Ae(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Rl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,z_(o,r))}post(t,r,o={}){return this.request("POST",t,z_(o,r))}put(t,r,o={}){return this.request("PUT",t,z_(o,r))}}return n.\u0275fac=function(t){return new(t||n)(ee(jh))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function ND(n,e){return e(n)}function t3(n,e){return(t,r)=>e.intercept(t,{handle:o=>n(o,r)})}const r3=new on("HTTP_INTERCEPTORS"),yf=new on("HTTP_INTERCEPTOR_FNS");function o3(){let n=null;return(e,t)=>(null===n&&(n=(yn(r3,{optional:!0})??[]).reduceRight(t3,ND)),n(e,t))}let LD=(()=>{class n extends jh{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(yf)));this.chain=r.reduceRight((o,i)=>function n3(n,e,t){return(r,o)=>t.runInContext(()=>e(r,i=>n(i,o)))}(o,i,this.injector),ND)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(ee(U_),ee(ga))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const l3=/^\)\]\}',?\n/;let BD=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vt(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((M,Y)=>o.setRequestHeader(M,Y.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const M=t.detectContentTypeHeader();null!==M&&o.setRequestHeader("Content-Type",M)}if(t.responseType){const M=t.responseType.toLowerCase();o.responseType="json"!==M?M:"text"}const i=t.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const M=o.statusText||"OK",Y=new rl(o.getAllResponseHeaders()),Se=function c3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return s=new H_({headers:Y,status:o.status,statusText:M,url:Se}),s},u=()=>{let{headers:M,status:Y,statusText:Se,url:ze}=a(),Ke=null;204!==Y&&(Ke=typeof o.response>"u"?o.responseText:o.response),0===Y&&(Y=Ke?200:0);let St=Y>=200&&Y<300;if("json"===t.responseType&&"string"==typeof Ke){const Oe=Ke;Ke=Ke.replace(l3,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(Nt){Ke=Oe,St&&(St=!1,Ke={error:Nt,text:Ke})}}St?(r.next(new zh({body:Ke,headers:M,status:Y,statusText:Se,url:ze||void 0})),r.complete()):r.error(new OD({error:Ke,headers:M,status:Y,statusText:Se,url:ze||void 0}))},f=M=>{const{url:Y}=a(),Se=new OD({error:M,status:o.status||0,statusText:o.statusText||"Unknown Error",url:Y||void 0});r.error(Se)};let h=!1;const y=M=>{h||(r.next(a()),h=!0);let Y={type:Oo.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(Y.total=M.total),"text"===t.responseType&&o.responseText&&(Y.partialText=o.responseText),r.next(Y)},T=M=>{let Y={type:Oo.UploadProgress,loaded:M.loaded};M.lengthComputable&&(Y.total=M.total),r.next(Y)};return o.addEventListener("load",u),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",y),null!==i&&o.upload&&o.upload.addEventListener("progress",T)),o.send(i),r.next({type:Oo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",u),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",y),null!==i&&o.upload&&o.upload.removeEventListener("progress",T)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(ee(oD))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const W_=new on("XSRF_ENABLED"),VD="XSRF-TOKEN",UD=new on("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>VD}),jD="X-XSRF-TOKEN",HD=new on("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>jD});class zD{}let u3=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=GE(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(ee(Zo),ee(ku),ee(UD))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function d3(n,e){const t=n.url.toLowerCase();if(!yn(W_)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=yn(zD).getToken(),o=yn(HD);return null!=r&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}var Do=(()=>((Do=Do||{})[Do.Interceptors=0]="Interceptors",Do[Do.LegacyInterceptors=1]="LegacyInterceptors",Do[Do.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Do[Do.NoXsrfProtection=3]="NoXsrfProtection",Do[Do.JsonpSupport=4]="JsonpSupport",Do[Do.RequestsMadeViaParent=5]="RequestsMadeViaParent",Do))();function xu(n,e){return{\u0275kind:n,\u0275providers:e}}function f3(...n){const e=[G_,BD,LD,{provide:jh,useExisting:LD},{provide:U_,useExisting:BD},{provide:yf,useValue:d3,multi:!0},{provide:W_,useValue:!0},{provide:zD,useClass:u3}];for(const t of n)e.push(...t.\u0275providers);return function Vx(n){return{\u0275providers:n}}(e)}const GD=new on("LEGACY_INTERCEPTOR_FN");function h3({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:UD,useValue:n}),void 0!==e&&t.push({provide:HD,useValue:e}),xu(Do.CustomXsrfConfiguration,t)}let m3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({providers:[f3(xu(Do.LegacyInterceptors,[{provide:GD,useFactory:o3},{provide:yf,useExisting:GD,multi:!0}]),h3({cookieName:VD,headerName:jD}))]}),n})();const{isArray:g3}=Array,{getPrototypeOf:y3,prototype:_3,keys:v3}=Object;function WD(n){if(1===n.length){const e=n[0];if(g3(e))return{args:e,keys:null};if(function b3(n){return n&&"object"==typeof n&&y3(n)===_3}(e)){const t=v3(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:w3}=Array;function Z_(n){return Ae(e=>function C3(n,e){return w3(e)?n(...e):n(e)}(n,e))}function ZD(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let qD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(C(Ka),C(_t))},n.\u0275dir=st({type:n}),n})(),vc=(()=>{class n extends qD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=oi(n)))(r||n)}}(),n.\u0275dir=st({type:n,features:[fr]}),n})();const ji=new on("NgValueAccessor"),D3={provide:ji,useExisting:Fe(()=>q_),multi:!0},k3=new on("CompositionEventMode");let q_=(()=>{class n extends qD{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function I3(){const n=Ea()?Ea().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Ka),C(_t),C(k3,8))},n.\u0275dir=st({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&at("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[kr([D3]),fr]}),n})();function Fl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function YD(n){return null!=n&&"number"==typeof n.length}const Fi=new on("NgValidators"),Ol=new on("NgAsyncValidators"),M3=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class _f{static min(e){return function XD(n){return e=>{if(Fl(e.value)||Fl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function QD(n){return e=>{if(Fl(e.value)||Fl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function JD(n){return Fl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function e1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function t1(n){return Fl(n.value)||M3.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function n1(n){return e=>Fl(e.value)||!YD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return r1(e)}static pattern(e){return function o1(n){if(!n)return Gh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Fl(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return u1(e)}static composeAsync(e){return d1(e)}}function r1(n){return e=>YD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Gh(n){return null}function i1(n){return null!=n}function s1(n){return Zd(n)?cr(n):n}function a1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function l1(n,e){return e.map(t=>t(n))}function c1(n){return n.map(e=>function x3(n){return!n.validate}(e)?e:t=>e.validate(t))}function u1(n){if(!n)return null;const e=n.filter(i1);return 0==e.length?null:function(t){return a1(l1(t,e))}}function K_(n){return null!=n?u1(c1(n)):null}function d1(n){if(!n)return null;const e=n.filter(i1);return 0==e.length?null:function(t){return function S3(...n){const e=es(n),{args:t,keys:r}=WD(n),o=new vt(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let u=s,f=s;for(let h=0;h<s;h++){let y=!1;Pn(t[h]).subscribe(_e(i,T=>{y||(y=!0,f--),a[h]=T},()=>u--,void 0,()=>{(!u||!y)&&(f||i.next(r?ZD(r,a):a),i.complete())}))}});return e?o.pipe(Z_(e)):o}(l1(t,e).map(s1)).pipe(Ae(a1))}}function Y_(n){return null!=n?d1(c1(n)):null}function f1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function p1(n){return n._rawValidators}function h1(n){return n._rawAsyncValidators}function X_(n){return n?Array.isArray(n)?n:[n]:[]}function Wh(n,e){return Array.isArray(n)?n.includes(e):n===e}function m1(n,e){const t=X_(e);return X_(n).forEach(o=>{Wh(t,o)||t.push(o)}),t}function g1(n,e){return X_(e).filter(t=>!Wh(n,t))}class y1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=K_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Y_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hi extends y1{get formDirective(){return null}get path(){return null}}class ol extends y1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let il=(()=>{class n extends _1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(ol,2))},n.\u0275dir=st({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Qa("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[fr]}),n})(),sl=(()=>{class n extends _1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(C(Hi,10))},n.\u0275dir=st({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Qa("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[fr]}),n})();const vf="VALID",qh="INVALID",Au="PENDING",bf="DISABLED";function tv(n){return(Kh(n)?n.validators:n)||null}function nv(n,e){return(Kh(e)?e.asyncValidators:n)||null}function Kh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class C1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vf}get invalid(){return this.status===qh}get pending(){return this.status==Au}get disabled(){return this.status===bf}get enabled(){return this.status!==bf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(m1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(m1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(g1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(g1(e,this._rawAsyncValidators))}hasValidator(e){return Wh(this._rawValidators,e)}hasAsyncValidator(e){return Wh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Au,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vf||this.status===Au)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bf:vf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Au,this._hasOwnPendingAsyncValidator=!0;const t=s1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Dn,this.statusChanges=new Dn}_calculateStatus(){return this._allControlsDisabled()?bf:this.errors?qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Au)?Au:this._anyControlsHaveStatus(qh)?qh:vf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Kh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function L3(n){return Array.isArray(n)?K_(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $3(n){return Array.isArray(n)?Y_(n):n||null}(this._rawAsyncValidators)}}class Nl extends C1{constructor(e,t,r){super(tv(t),nv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function w1(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new xe(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function b1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new xe(1e3,"");if(!r[t])throw new xe(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Yh=Nl,Pu=new on("CallSetDisabledState",{providedIn:"root",factory:()=>Xh}),Xh="always";function wf(n,e,t=Xh){rv(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function U3(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&S1(n,e)})}(n,e),function H3(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function j3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&S1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function V3(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),tm(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function em(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rv(n,e){const t=p1(n);null!==e.validator?n.setValidators(f1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=h1(n);null!==e.asyncValidator?n.setAsyncValidators(f1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();em(e._rawValidators,o),em(e._rawAsyncValidators,o)}function tm(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=p1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const o=h1(n);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}const r=()=>{};return em(e._rawValidators,r),em(e._rawAsyncValidators,r),t}function S1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function I1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function k1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ms=class extends C1{constructor(e=null,t,r){super(tv(t),nv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=k1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){I1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){I1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){k1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},ai=ms;let al=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=st({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),R1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({}),n})();const lv=new on("NgModelWithFormControlWarning"),r$={provide:Hi,useExisting:Fe(()=>ta)};let ta=(()=>{class n extends Hi{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Dn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return wf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Jh(t.control||null,t,!1),function Z3(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function D1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Jh(r||null,t),(n=>n instanceof ms)(o)&&(wf(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function E1(n,e){rv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function z3(n,e){return tm(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rv(this.form,this),this._oldForm&&tm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(C(Fi,10),C(Ol,10),C(Pu,8))},n.\u0275dir=st({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&at("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[kr([r$]),fr,Ao]}),n})();const s$={provide:ol,useExisting:Fe(()=>ka)};let ka=(()=>{class n extends ol{set isDisabled(t){}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new Dn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function sv(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===q_?t=i:function W3(n){return Object.getPrototypeOf(n.constructor)===vc}(i)?r=i:o=i}),o||r||t||null}(0,i)}ngOnChanges(t){this._added||this._setUpControl(),function iv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Qh(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(C(Hi,13),C(Fi,10),C(Ol,10),C(ji,10),C(lv,8))},n.\u0275dir=st({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[kr([s$]),fr,Ao]}),n})();let bc=(()=>{class n{constructor(){this._validator=Gh}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Gh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=st({type:n,features:[Ao]}),n})();const v$={provide:Fi,useExisting:Fe(()=>hv),multi:!0};let hv=(()=>{class n extends bc{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function V1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>r1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=oi(n)))(r||n)}}(),n.\u0275dir=st({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&va("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[kr([v$]),fr]}),n})(),q1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({imports:[R1]}),n})(),wc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pu,useValue:t.callSetDisabledState??Xh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({imports:[q1]}),n})(),nm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:lv,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Pu,useValue:t.callSetDisabledState??Xh}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({imports:[q1]}),n})();const C$=["addListener","removeListener"],S$=["addEventListener","removeEventListener"],E$=["on","off"];function Sf(n,e,t,r){if(k(t)&&(r=t,t=void 0),r)return Sf(n,e,t).pipe(Z_(r));const[o,i]=function k$(n){return k(n.addEventListener)&&k(n.removeEventListener)}(n)?S$.map(s=>a=>n[s](e,a,t)):function D$(n){return k(n.addListener)&&k(n.removeListener)}(n)?C$.map(K1(n,e)):function I$(n){return k(n.on)&&k(n.off)}(n)?E$.map(K1(n,e)):[];if(!o&&mr(n))return gr(s=>Sf(s,e,t))(Pn(n));if(!o)throw new TypeError("Invalid event target");return new vt(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return o(a),()=>i(a)})}function K1(n,e){return t=>r=>n[t](e,r)}class Ms extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const rm=l(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Y1(...n){const e=Jo(n),t=es(n),{args:r,keys:o}=WD(n);if(0===r.length)return cr([],e);const i=new vt(function T$(n,e,t=ne){return r=>{X1(e,()=>{const{length:o}=n,i=new Array(o);let s=o,a=o;for(let u=0;u<o;u++)X1(e,()=>{const f=cr(n[u],e);let h=!1;f.subscribe(_e(r,y=>{i[u]=y,h||(h=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>ZD(o,s):ne));return t?i.pipe(Z_(t)):i}function X1(n,e,t){n?ro(t,n,e):e()}function Ef(...n){return function M$(){return Uo(1)}()(cr(n,Jo(n)))}function om(n){return new vt(e=>{Pn(n()).subscribe(e)})}function Ru(n,e){const t=k(n)?n:()=>n,r=o=>o.error(t());return new vt(e?o=>e.schedule(r,0,o):r)}function mv(){return q((n,e)=>{let t=null;n._refCount++;const r=_e(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class gv extends vt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ve(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new G;const t=this.getSubject();e.add(this.source.subscribe(_e(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=G.EMPTY)}return e}refCount(){return mv()(this)}}function mi(n,e){return q((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(_e(r,u=>{o?.unsubscribe();let f=0;const h=i++;Pn(n(u,h)).subscribe(o=_e(r,y=>r.next(e?e(u,y,h,f++):y),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function xs(n){return n<=0?()=>Qr:q((e,t)=>{let r=0;e.subscribe(_e(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Q1(...n){const e=Jo(n);return q((t,r)=>{(e?Ef(n,t,e):Ef(n,t)).subscribe(r)})}function im(n){return q((e,t)=>{let r=!1;e.subscribe(_e(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function J1(n=x$){return q((e,t)=>{let r=!1;e.subscribe(_e(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function x$(){return new rm}function ll(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hi((o,i)=>n(o,i,r)):ne,xs(1),t?im(e):J1(()=>new rm))}function gi(n,e,t){const r=k(n)||e||t?{next:n,error:e,complete:t}:n;return r?q((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(_e(i,u=>{var f;null===(f=r.next)||void 0===f||f.call(r,u),i.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),i.complete()},u=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,u),i.error(u)},()=>{var u,f;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):ne}function cl(n){return q((e,t)=>{let i,r=null,o=!1;r=e.subscribe(_e(t,void 0,void 0,s=>{i=Pn(n(s,cl(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function A$(n,e,t,r,o){return(i,s)=>{let a=t,u=e,f=0;i.subscribe(_e(s,h=>{const y=f++;u=a?n(u,h,y):(a=!0,h),r&&s.next(u)},o&&(()=>{a&&s.next(u),s.complete()})))}}function eI(n,e){return q(A$(n,e,arguments.length>=2,!0))}function yv(n){return n<=0?()=>Qr:q((e,t)=>{let r=[];e.subscribe(_e(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function tI(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hi((o,i)=>n(o,i,r)):ne,yv(1),t?im(e):J1(()=>new rm))}function _v(n){return Ae(()=>n)}function vv(n){return q((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const On="primary",Df=Symbol("RouteTitle");class R${constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Fu(n){return new R$(n)}function F$(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=n[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Ta(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!nI(n[o],e[o]))return!1;return!0}function nI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}return n===e}function rI(n){return Array.prototype.concat.apply([],n)}function oI(n){return n.length>0?n[n.length-1]:null}function yi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ll(n){return ky(n)?n:Zd(n)?cr(Promise.resolve(n)):_n(n)}const sm=!1,N$={exact:function aI(n,e,t){if(!Sc(n.segments,e.segments)||!am(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!aI(n.children[r],e.children[r],t))return!1;return!0},subset:lI},iI={exact:function L$(n,e){return Ta(n,e)},subset:function $$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nI(n[t],e[t]))},ignored:()=>!0};function sI(n,e,t){return N$[t.paths](n.root,e.root,t.matrixParams)&&iI[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function lI(n,e,t){return cI(n,e,e.segments,t)}function cI(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Sc(o,t)||e.hasChildren()||!am(o,t,r))}if(n.segments.length===t.length){if(!Sc(n.segments,t)||!am(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!lI(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!!(Sc(n.segments,o)&&am(n.segments,o,r)&&n.children[On])&&cI(n.children[On],e,i,r)}}function am(n,e,t){return e.every((r,o)=>iI[t](n[o].parameters,r.parameters))}class Cc{constructor(e=new Xn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return U$.serialize(this)}}class Xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,yi(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lm(this)}}class If{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Fu(this.parameters)),this._parameterMap}toString(){return fI(this)}}function Sc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return new bv},providedIn:"root"}),n})();class bv{parse(e){const t=new Y$(e);return new Cc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${kf(e.root,!0)}`,r=function z$(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${cm(t)}=${cm(o)}`).join("&"):`${cm(t)}=${cm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function j$(n){return encodeURI(n)}(e.fragment)}`:""}`}}const U$=new bv;function lm(n){return n.segments.map(e=>fI(e)).join("/")}function kf(n,e){if(!n.hasChildren())return lm(n);if(e){const t=n.children[On]?kf(n.children[On],!1):"",r=[];return yi(n.children,(o,i)=>{i!==On&&r.push(`${i}:${kf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function V$(n,e){let t=[];return yi(n.children,(r,o)=>{o===On&&(t=t.concat(e(r,o)))}),yi(n.children,(r,o)=>{o!==On&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===On?[kf(n.children[On],!1)]:[`${o}:${kf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[On]?`${lm(n)}/${t[0]}`:`${lm(n)}/(${t.join("//")})`}}function uI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cm(n){return uI(n).replace(/%3B/gi,";")}function wv(n){return uI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function um(n){return decodeURIComponent(n)}function dI(n){return um(n.replace(/\+/g,"%20"))}function fI(n){return`${wv(n.path)}${function H$(n){return Object.keys(n).map(e=>`;${wv(e)}=${wv(n[e])}`).join("")}(n.parameters)}`}const G$=/^[^\/()?;=#]+/;function dm(n){const e=n.match(G$);return e?e[0]:""}const W$=/^[^=?&#]+/,q$=/^[^&#]+/;class Y${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[On]=new Xn(e,t)),r}parseSegment(){const e=dm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new xe(4009,sm);return this.capture(e),new If(um(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=dm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=dm(this.remaining);o&&(r=o,this.capture(r))}e[um(t)]=um(r)}parseQueryParam(e){const t=function Z$(n){const e=n.match(W$);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function K$(n){const e=n.match(q$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=dI(t),i=dI(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dm(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new xe(4010,sm);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=On);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[On]:new Xn([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new xe(4011,sm)}}function Cv(n){return n.segments.length>0?new Xn([],{[On]:n}):n}function fm(n){const e={};for(const r of Object.keys(n.children)){const i=fm(n.children[r]);(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function X$(n){if(1===n.numberOfChildren&&n.children[On]){const e=n.children[On];return new Xn(n.segments.concat(e.segments),e.children)}return n}(new Xn(n.segments,e))}function Ec(n){return n instanceof Cc}function e4(n,e,t,r,o){if(0===t.length)return Nu(e.root,e.root,e.root,r,o);const i=function mI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hI(!0,0,n);let e=0,t=!1;const r=n.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return yi(i.outlets,(u,f)=>{a[f]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new hI(t,e,r)}(t);return i.toRoot()?Nu(e.root,e.root,new Xn([],{}),r,o):function s(u){const f=function n4(n,e,t,r){if(n.isAbsolute)return new Lu(e.root,!0,0);if(-1===r)return new Lu(t,t===e.root,0);return function gI(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new xe(4005,!1);o=r.segments.length}return new Lu(r,!1,o-i)}(t,r+(Tf(n.commands[0])?0:1),n.numberOfDoubleDots)}(i,e,n.snapshot?._urlSegment,u),h=f.processChildren?$u(f.segmentGroup,f.index,i.commands):Ev(f.segmentGroup,f.index,i.commands);return Nu(e.root,f.segmentGroup,h,r,o)}(n.snapshot?._lastPathIndex)}function Tf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Mf(n){return"object"==typeof n&&null!=n&&n.outlets}function Nu(n,e,t,r,o){let s,i={};r&&yi(r,(u,f)=>{i[f]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=n===e?t:pI(n,e,t);const a=Cv(fm(s));return new Cc(a,i,o)}function pI(n,e,t){const r={};return yi(n.children,(o,i)=>{r[i]=o===e?t:pI(o,e,t)}),new Xn(n.segments,r)}class hI{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tf(r[0]))throw new xe(4003,!1);const o=r.find(Mf);if(o&&o!==oI(r))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ev(n,e,t){if(n||(n=new Xn([],{})),0===n.segments.length&&n.hasChildren())return $u(n,e,t);const r=function o4(n,e,t){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;const s=n.segments[o],a=t[r];if(Mf(a))break;const u=`${a}`,f=r<t.length-1?t[r+1]:null;if(o>0&&void 0===u)break;if(u&&f&&"object"==typeof f&&void 0===f.outlets){if(!_I(u,f,s))return i;r+=2}else{if(!_I(u,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const i=new Xn(n.segments.slice(0,r.pathIndex),{});return i.children[On]=new Xn(n.segments.slice(r.pathIndex),n.children),$u(i,0,o)}return r.match&&0===o.length?new Xn(n.segments,{}):r.match&&!n.hasChildren()?Dv(n,e,t):r.match?$u(n,0,o):Dv(n,e,t)}function $u(n,e,t){if(0===t.length)return new Xn(n.segments,{});{const r=function r4(n){return Mf(n[0])?n[0].outlets:{[On]:n}}(t),o={};return!r[On]&&n.children[On]&&1===n.numberOfChildren&&0===n.children[On].segments.length?$u(n.children[On],e,t):(yi(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=Ev(n.children[s],e,i))}),yi(n.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Xn(n.segments,o))}}function Dv(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const i=t[o];if(Mf(i)){const u=i4(i.outlets);return new Xn(r,u)}if(0===o&&Tf(t[0])){r.push(new If(n.segments[e].path,yI(t[0]))),o++;continue}const s=Mf(i)?i.outlets[On]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Tf(a)?(r.push(new If(s,yI(a))),o+=2):(r.push(new If(s,{})),o++)}return new Xn(r,{})}function i4(n){const e={};return yi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Dv(new Xn([],{}),0,t))}),e}function yI(n){const e={};return yi(n,(t,r)=>e[r]=`${t}`),e}function _I(n,e,t){return n==t.path&&Ta(e,t.parameters)}const xf="imperative";class Ma{constructor(e,t){this.id=e,this.url=t}}class pm extends Ma{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dc extends Ma{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class hm extends Ma{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vI extends Ma{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class bI extends Ma{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class s4 extends Ma{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a4 extends Ma{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l4 extends Ma{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class c4 extends Ma{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u4 extends Ma{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d4{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class f4{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class p4{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h4{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class m4{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g4{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wI{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let _4=(()=>{class n{createUrlTree(t,r,o,i,s,a){return e4(t||r.root,o,i,s,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),v4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(e){return _4.\u0275fac(e)},providedIn:"root"}),n})();class CI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Iv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Iv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=kv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return kv(e,this._root).map(t=>t.value)}}function Iv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Iv(n,t);if(r)return r}return null}function kv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=kv(n,t);if(r.length)return r.unshift(e),r}return[]}class ul{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class SI extends CI{constructor(e,t){super(e),this.snapshot=t,Tv(this,e)}toString(){return this.snapshot.toString()}}function EI(n,e){const t=function b4(n,e){const s=new mm([],{},{},"",{},On,e,null,n.root,-1,{});return new II("",new ul(s,[]))}(n,e),r=new Ms([new If("",{})]),o=new Ms({}),i=new Ms({}),s=new Ms({}),a=new Ms(""),u=new dl(r,o,s,a,i,On,e,t.root);return u.snapshot=t.root,new SI(new ul(u,[]),t)}class dl{constructor(e,t,r,o,i,s,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.title=this.data?.pipe(Ae(f=>f[Df]))??_n(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ae(e=>Fu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ae(e=>Fu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function DI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],i=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function w4(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mm{get title(){return this.data?.[Df]}constructor(e,t,r,o,i,s,a,u,f,h,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=u,this._urlSegment=f,this._lastPathIndex=h,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class II extends CI{constructor(e,t){super(t),this.url=e,Tv(this,t)}toString(){return kI(this._root)}}function Tv(n,e){e.value._routerState=n,e.children.forEach(t=>Tv(n,t))}function kI(n){const e=n.children.length>0?` { ${n.children.map(kI).join(", ")} } `:"";return`${n.value}${e}`}function Mv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ta(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ta(e.params,t.params)||n.params.next(t.params),function O$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ta(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ta(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xv(n,e){const t=Ta(n.params,e.params)&&function B$(n,e){return Sc(n,e)&&n.every((t,r)=>Ta(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xv(n.parent,e.parent))}function Af(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function S4(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Af(n,r,o);return Af(n,r)})}(n,e,t);return new ul(r,o)}{if(n.shouldAttach(e.value)){const i=n.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Af(n,a)),s}}const r=function E4(n){return new dl(new Ms(n.url),new Ms(n.params),new Ms(n.queryParams),new Ms(n.fragment),new Ms(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(i=>Af(n,i));return new ul(r,o)}}const Av="ngNavigationCancelingError";function TI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ec(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=MI(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function MI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Av]=!0,r.cancellationCode=e,t&&(r.url=t),r}function xI(n){return AI(n)&&Ec(n.url)}function AI(n){return n&&n[Av]}class D4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ic,this.attachRef=null}}let Ic=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new D4,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gm=!1;let PI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=On,this.activateEvents=new Dn,this.deactivateEvents=new Dn,this.attachEvents=new Dn,this.detachEvents=new Dn,this.parentContexts=yn(Ic),this.location=yn(Ri),this.changeDetector=yn(kt),this.environmentInjector=yn(ga)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,gm);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,gm);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,gm);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new xe(4013,gm);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new I4(t,a,o.injector);if(r&&function k4(n){return!!n.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,u)}else this.activated=o.createComponent(s,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=st({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ao]}),n})();class I4{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===dl?this.route:e===Ic?this.childContexts:this.parent.get(e,t)}}let Pv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["ng-component"]],standalone:!0,features:[yS],decls:1,vars:0,template:function(t,r){1&t&&dt(0,"router-outlet")},dependencies:[PI],encapsulation:2}),n})();function RI(n,e){return n.providers&&!n._injector&&(n._injector=yh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Fv(n){const e=n.children&&n.children.map(Fv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==On&&(t.component=Pv),t}function Vs(n){return n.outlet||On}function FI(n,e){const t=n.filter(r=>Vs(r)===e);return t.push(...n.filter(r=>Vs(r)!==e)),t}function Pf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class P4{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Bu(t);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),yi(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Bu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Bu(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Bu(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new g4(i.value.snapshot))}),e.children.length&&this.forwardEvent(new h4(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,i=t?t.value:null;if(Mv(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Pf(o.snapshot),u=a?.get(qa)??null;s.attachRef=null,s.route=o,s.resolver=u,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class OI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ym{constructor(e,t){this.component=e,this.route=t}}function R4(n,e,t){const r=n._root;return Rf(r,e?e._root:null,t,[r.value])}function Vu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function aa(n){return null!==ws(n)}(n)?e.get(n):n:r}function Rf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Bu(e);return n.children.forEach(s=>{(function O4(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const u=function N4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Sc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Sc(n.url,e.url)||!Ta(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xv(n,e)||!Ta(n.queryParams,e.queryParams);default:return!xv(n,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new OI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Rf(n,e,i.component?a?a.children:null:t,r,o),u&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new ym(a.outlet.component,s))}else s&&Ff(e,a,o),o.canActivateChecks.push(new OI(r)),Rf(n,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),yi(i,(s,a)=>Ff(s,t.getContext(a),o)),o}function Ff(n,e,t){const r=Bu(n),o=n.value;yi(r,(i,s)=>{Ff(i,o.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new ym(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Of(n){return"function"==typeof n}function Ov(n){return n instanceof rm||"EmptyError"===n?.name}const _m=Symbol("INITIAL_VALUE");function Uu(){return mi(n=>Y1(n.map(e=>e.pipe(xs(1),Q1(_m)))).pipe(Ae(e=>{for(const t of e)if(!0!==t){if(t===_m)return _m;if(!1===t||t instanceof Cc)return t}return!0}),hi(e=>e!==_m),xs(1)))}function NI(n){return function Ue(...n){return Xe(n)}(gi(e=>{if(Ec(e))throw TI(0,e)}),Ae(e=>!0===e))}const Nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function LI(n,e,t,r,o){const i=Lv(n,e,t);return i.matched?function J4(n,e,t,r){const o=e.canMatch;return o&&0!==o.length?_n(o.map(s=>{const a=Vu(s,n);return Ll(function j4(n){return n&&Of(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Uu(),NI()):_n(!0)}(r=RI(e,r),e,t).pipe(Ae(s=>!0===s?i:{...Nv})):_n(i)}function Lv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Nv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||F$)(t,n,e);if(!o)return{...Nv};const i={};yi(o.posParams,(a,u)=>{i[u]=a.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function vm(n,e,t,r){if(t.length>0&&function nB(n,e,t){return t.some(r=>bm(n,e,r)&&Vs(r)!==On)}(n,t,r)){const i=new Xn(e,function tB(n,e,t,r){const o={};o[On]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const i of t)if(""===i.path&&Vs(i)!==On){const s=new Xn([],{});s._sourceSegment=n,s._segmentIndexShift=e.length,o[Vs(i)]=s}return o}(n,e,r,new Xn(t,n.children)));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===t.length&&function rB(n,e,t){return t.some(r=>bm(n,e,r))}(n,t,r)){const i=new Xn(n.segments,function eB(n,e,t,r,o){const i={};for(const s of r)if(bm(n,t,s)&&!o[Vs(s)]){const a=new Xn([],{});a._sourceSegment=n,a._segmentIndexShift=e.length,i[Vs(s)]=a}return{...o,...i}}(n,e,t,r,n.children));return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}const o=new Xn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function bm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function $I(n,e,t,r){return!!(Vs(n)===r||r!==On&&bm(e,t,n))&&("**"===n.path||Lv(e,n,t).matched)}function BI(n,e,t){return 0===e.length&&!n.children[t]}const wm=!1;class Cm{constructor(e){this.segmentGroup=e||null}}class VI{constructor(e){this.urlTree=e}}function Nf(n){return Ru(new Cm(n))}function UI(n){return Ru(new VI(n))}class aB{constructor(e,t,r,o,i){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const e=vm(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,On).pipe(Ae(i=>this.createUrlTree(fm(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(cl(i=>{if(i instanceof VI)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof Cm?this.noMatchError(i):i}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,On).pipe(Ae(o=>this.createUrlTree(fm(o),e.queryParams,e.fragment))).pipe(cl(o=>{throw o instanceof Cm?this.noMatchError(o):o}))}noMatchError(e){return new xe(4002,wm)}createUrlTree(e,t,r){const o=Cv(e);return new Cc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(Ae(i=>new Xn([],i))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return cr(o).pipe(Pl(i=>{const s=r.children[i],a=FI(t,i);return this.expandSegmentGroup(e,a,s,i).pipe(Ae(u=>({segment:u,outlet:i})))}),eI((i,s)=>(i[s.outlet]=s.segment,i),{}),tI())}expandSegment(e,t,r,o,i,s){return cr(r).pipe(Pl(a=>this.expandSegmentAgainstRoute(e,t,r,a,o,i,s).pipe(cl(f=>{if(f instanceof Cm)return _n(null);throw f}))),ll(a=>!!a),cl((a,u)=>{if(Ov(a))return BI(t,o,i)?_n(new Xn([],{})):Nf(t);throw a}))}expandSegmentAgainstRoute(e,t,r,o,i,s,a){return $I(o,t,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s):Nf(t):Nf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?UI(i):this.lineralizeSegments(r,i).pipe(gr(s=>{const a=new Xn(s,{});return this.expandSegment(e,a,t,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s){const{matched:a,consumedSegments:u,remainingSegments:f,positionalParamSegments:h}=Lv(t,o,i);if(!a)return Nf(t);const y=this.applyRedirectCommands(u,o.redirectTo,h);return o.redirectTo.startsWith("/")?UI(y):this.lineralizeSegments(o,y).pipe(gr(T=>this.expandSegment(e,t,r,T.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,o,i){return"**"===r.path?(e=RI(r,e),r.loadChildren?(r._loadedRoutes?_n({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(Ae(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new Xn(o,{})))):_n(new Xn(o,{}))):LI(t,r,o,e).pipe(mi(({matched:s,consumedSegments:a,remainingSegments:u})=>s?this.getChildConfig(e=r._injector??e,r,o).pipe(gr(h=>{const y=h.injector??e,T=h.routes,{segmentGroup:M,slicedSegments:Y}=vm(t,a,u,T),Se=new Xn(M.segments,M.children);if(0===Y.length&&Se.hasChildren())return this.expandChildren(y,T,Se).pipe(Ae(Oe=>new Xn(a,Oe)));if(0===T.length&&0===Y.length)return _n(new Xn(a,{}));const ze=Vs(r)===i;return this.expandSegment(y,Se,T,Y,ze?On:i,!0).pipe(Ae(St=>new Xn(a.concat(St.segments),St.children)))})):Nf(t)))}getChildConfig(e,t,r){return t.children?_n({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?_n({routes:t._loadedRoutes,injector:t._loadedInjector}):function Q4(n,e,t,r){const o=e.canLoad;return void 0===o||0===o.length?_n(!0):_n(o.map(s=>{const a=Vu(s,n);return Ll(function $4(n){return n&&Of(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Uu(),NI())}(e,t,r).pipe(gr(o=>o?this.configLoader.loadChildren(e,t).pipe(gi(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function iB(n){return Ru(MI(wm,3))}())):_n({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return _n(r);if(o.numberOfChildren>1||!o.children[On])return Ru(new xe(4e3,wm));o=o.children[On]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const i=this.createSegmentGroup(e,t.root,r,o);return new Cc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return yi(e,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,o){const i=this.createSegments(e,t.segments,r,o);let s={};return yi(t.children,(a,u)=>{s[u]=this.createSegmentGroup(e,a,r,o)}),new Xn(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new xe(4001,wm);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}class cB{}class fB{constructor(e,t,r,o,i,s,a){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=o,this.url=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const e=vm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,On).pipe(Ae(t=>{if(null===t)return null;const r=new mm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new ul(r,t),i=new II(this.url,o);return this.inheritParamsAndData(i._root),i}))}inheritParamsAndData(e){const t=e.value,r=DI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o)}processChildren(e,t,r){return cr(Object.keys(r.children)).pipe(Pl(o=>{const i=r.children[o],s=FI(t,o);return this.processSegmentGroup(e,s,i,o)}),eI((o,i)=>o&&i?(o.push(...i),o):null),function P$(n,e=!1){return q((t,r)=>{let o=0;t.subscribe(_e(r,i=>{const s=n(i,o++);(s||e)&&r.next(i),!s&&r.complete()}))})}(o=>null!==o),im(null),tI(),Ae(o=>{if(null===o)return null;const i=HI(o);return function pB(n){n.sort((e,t)=>e.value.outlet===On?-1:t.value.outlet===On?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}))}processSegment(e,t,r,o,i){return cr(t).pipe(Pl(s=>this.processSegmentAgainstRoute(s._injector??e,s,r,o,i)),ll(s=>!!s),cl(s=>{if(Ov(s))return BI(r,o,i)?_n([]):_n(null);throw s}))}processSegmentAgainstRoute(e,t,r,o,i){if(t.redirectTo||!$I(t,r,o,i))return _n(null);let s;if("**"===t.path){const a=o.length>0?oI(o).parameters:{},u=GI(r)+o.length;s=_n({snapshot:new mm(o,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WI(t),Vs(t),t.component??t._loadedComponent??null,t,zI(r),u,ZI(t)),consumedSegments:[],remainingSegments:[]})}else s=LI(r,t,o,e).pipe(Ae(({matched:a,consumedSegments:u,remainingSegments:f,parameters:h})=>{if(!a)return null;const y=GI(r)+u.length;return{snapshot:new mm(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WI(t),Vs(t),t.component??t._loadedComponent??null,t,zI(r),y,ZI(t)),consumedSegments:u,remainingSegments:f}}));return s.pipe(mi(a=>{if(null===a)return _n(null);const{snapshot:u,consumedSegments:f,remainingSegments:h}=a;e=t._injector??e;const y=t._loadedInjector??e,T=function hB(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:M,slicedSegments:Y}=vm(r,f,h,T.filter(ze=>void 0===ze.redirectTo));if(0===Y.length&&M.hasChildren())return this.processChildren(y,T,M).pipe(Ae(ze=>null===ze?null:[new ul(u,ze)]));if(0===T.length&&0===Y.length)return _n([new ul(u,[])]);const Se=Vs(t)===i;return this.processSegment(y,T,M,Y,Se?On:i).pipe(Ae(ze=>null===ze?null:[new ul(u,ze)]))}))}}function mB(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function HI(n){const e=[],t=new Set;for(const r of n){if(!mB(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=HI(r.children);e.push(new ul(r.value,o))}return e.filter(r=>!t.has(r))}function zI(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function GI(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function WI(n){return n.data||{}}function ZI(n){return n.resolve||{}}function qI(n){return"string"==typeof n.title||null===n.title}function $v(n){return mi(e=>{const t=n(e);return t?cr(t).pipe(Ae(()=>e)):_n(e)})}const ju=new on("ROUTES");let Bv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _n(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ll(t.loadComponent()).pipe(Ae(YI),gi(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),vv(()=>{this.componentLoaders.delete(t)})),o=new gv(r,()=>new tt).pipe(mv());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _n({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,f,h=!1;Array.isArray(a)?f=a:(u=a.create(t).injector,f=rI(u.get(ju,[],Tt.Self|Tt.Optional)));return{routes:f.map(Fv),injector:u}}),vv(()=>{this.childrenLoaders.delete(r)})),s=new gv(i,()=>new tt).pipe(mv());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return Ll(t()).pipe(Ae(YI),gr(o=>o instanceof mS||Array.isArray(o)?_n(o):cr(this.compiler.compileModuleAsync(o))))}}return n.\u0275fac=function(t){return new(t||n)(ee(lo),ee(oE))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YI(n){return function EB(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Em=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.configLoader=yn(Bv),this.environmentInjector=yn(ga),this.urlSerializer=yn(Ou),this.rootContexts=yn(Ic),this.navigationId=0,this.afterPreactivation=()=>_n(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new f4(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new d4(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ms({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xf,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hi(r=>0!==r.id),Ae(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),mi(r=>{let o=!1,i=!1;return _n(r).pipe(gi(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mi(s=>{const a=t.browserUrlTree.toString(),u=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new vI(s.id,t.serializeUrl(r.rawUrl),h,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),Qr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return XI(s.source)&&(t.browserUrlTree=s.extractedUrl),_n(s).pipe(mi(h=>{const y=this.transitions?.getValue();return this.events.next(new pm(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),y!==this.transitions?.getValue()?Qr:Promise.resolve(h)}),function lB(n,e,t,r){return mi(o=>function sB(n,e,t,r,o){return new aB(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe(Ae(i=>({...o,urlAfterRedirects:i}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),gi(h=>{this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects},r.urlAfterRedirects=h.urlAfterRedirects}),function yB(n,e,t,r,o){return gr(i=>function dB(n,e,t,r,o,i,s="emptyOnly"){return new fB(n,e,t,r,o,s,i).recognize().pipe(mi(a=>null===a?function uB(n){return new vt(e=>e.error(n))}(new cB):_n(a)))}(n,e,t,i.urlAfterRedirects,r.serialize(i.urlAfterRedirects),r,o).pipe(Ae(s=>({...i,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),gi(h=>{if(r.targetSnapshot=h.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!h.extras.skipLocationChange){const T=t.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);t.setBrowserUrl(T,h)}t.browserUrlTree=h.urlAfterRedirects}const y=new s4(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:h,extractedUrl:y,source:T,restoredState:M,extras:Y}=s,Se=new pm(h,this.urlSerializer.serialize(y),T,M);this.events.next(Se);const ze=EI(y,this.rootComponentType).snapshot;return _n(r={...s,targetSnapshot:ze,urlAfterRedirects:y,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}})}{const h="";return this.events.next(new vI(s.id,t.serializeUrl(r.extractedUrl),h,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),Qr}}),gi(s=>{const a=new a4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ae(s=>r={...s,guards:R4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function z4(n,e){return gr(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?_n({...t,guardsResult:!0}):function G4(n,e,t,r){return cr(n).pipe(gr(o=>function X4(n,e,t,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?_n(i.map(a=>{const u=Pf(e)??o,f=Vu(a,u);return Ll(function U4(n){return n&&Of(n.canDeactivate)}(f)?f.canDeactivate(n,e,t,r):u.runInContext(()=>f(n,e,t,r))).pipe(ll())})).pipe(Uu()):_n(!0)}(o.component,o.route,t,e,r)),ll(o=>!0!==o,!0))}(s,r,o,n).pipe(gr(a=>a&&function L4(n){return"boolean"==typeof n}(a)?function W4(n,e,t,r){return cr(e).pipe(Pl(o=>Ef(function q4(n,e){return null!==n&&e&&e(new p4(n)),_n(!0)}(o.route.parent,r),function Z4(n,e){return null!==n&&e&&e(new m4(n)),_n(!0)}(o.route,r),function Y4(n,e,t){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function F4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>om(()=>_n(s.guards.map(u=>{const f=Pf(s.node)??t,h=Vu(u,f);return Ll(function V4(n){return n&&Of(n.canActivateChild)}(h)?h.canActivateChild(r,n):f.runInContext(()=>h(r,n))).pipe(ll())})).pipe(Uu())));return _n(i).pipe(Uu())}(n,o.path,t),function K4(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _n(!0);const o=r.map(i=>om(()=>{const s=Pf(e)??t,a=Vu(i,s);return Ll(function B4(n){return n&&Of(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(ll())}));return _n(o).pipe(Uu())}(n,o.route,t))),ll(o=>!0!==o,!0))}(r,i,n,e):_n(a)),Ae(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),gi(s=>{if(r.guardsResult=s.guardsResult,Ec(s.guardsResult))throw TI(0,s.guardsResult);const a=new l4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),hi(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),$v(s=>{if(s.guards.canActivateChecks.length)return _n(s).pipe(gi(a=>{const u=new c4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),mi(a=>{let u=!1;return _n(a).pipe(function _B(n,e){return gr(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return _n(t);let i=0;return cr(o).pipe(Pl(s=>function vB(n,e,t,r){const o=n.routeConfig,i=n._resolve;return void 0!==o?.title&&!qI(o)&&(i[Df]=o.title),function bB(n,e,t,r){const o=function wB(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return _n({});const i={};return cr(o).pipe(gr(s=>function CB(n,e,t,r){const o=Pf(e)??r,i=Vu(n,o);return Ll(i.resolve?i.resolve(e,t):o.runInContext(()=>i(e,t)))}(n[s],e,t,r).pipe(ll(),gi(a=>{i[s]=a}))),yv(1),_v(i),cl(s=>Ov(s)?Qr:Ru(s)))}(i,n,e,r).pipe(Ae(s=>(n._resolvedData=s,n.data=DI(n,t).resolve,o&&qI(o)&&(n.data[Df]=o.title),null)))}(s.route,r,n,e)),gi(()=>i++),yv(1),gr(s=>i===o.length?_n(t):Qr))})}(t.paramsInheritanceStrategy,this.environmentInjector),gi({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),gi(a=>{const u=new u4(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),$v(s=>{const a=u=>{const f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(gi(h=>{u.component=h}),Ae(()=>{})));for(const h of u.children)f.push(...a(h));return f};return Y1(a(s.targetSnapshot.root)).pipe(im(),xs(1))}),$v(()=>this.afterPreactivation()),Ae(s=>{const a=function C4(n,e,t){const r=Af(n,e._root,t?t._root:void 0);return new SI(r,e)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),gi(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((n,e,t)=>Ae(r=>(new P4(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s)),gi({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Dc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),vv(()=>{o||i||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),cl(s=>{if(i=!0,AI(s)){xI(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new hm(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),xI(s)){const u=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||XI(r.source)};t.scheduleNavigation(u,xf,null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new bI(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(u){r.reject(u)}}return Qr}))}))}cancelNavigationTransition(t,r,o){const i=new hm(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XI(n){return n!==xf}let QI=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===On);return r}getResolvedTitleForRoute(t){return t.data[Df]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return yn(DB)},providedIn:"root"}),n})(),DB=(()=>{class n extends QI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(ee(ED))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return yn(kB)},providedIn:"root"}),n})();class IB{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let kB=(()=>{class n extends IB{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=oi(n)))(r||n)}}(),n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dm=new on("",{providedIn:"root",factory:()=>({})});let MB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:function(){return yn(xB)},providedIn:"root"}),n})(),xB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AB(n){throw n}function PB(n,e,t){return e.parse("/")}const RB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let No=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=yn(O2),this.isNgZoneEnabled=!1,this.options=yn(Dm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||AB,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||PB,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=yn(MB),this.routeReuseStrategy=yn(JI),this.urlCreationStrategy=yn(v4),this.titleStrategy=yn(QI),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=rI(yn(ju,{optional:!0})??[]),this.navigationTransitions=yn(Em),this.urlSerializer=yn(Ou),this.location=yn(uf),this.isNgZoneEnabled=yn(pt)instanceof pt&&pt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Cc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const u={...o};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(i.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Fv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:s;let h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...i};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}return null!==h&&(h=this.removeEmptyProps(h)),this.urlCreationStrategy.createUrlTree(o,this.routerState,this.currentUrlTree,t,h,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Ec(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,xf,null,r)}navigate(t,r={skipLocationChange:!1}){return function OB(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new xe(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...RB}:!1===r?{...FB}:r,Ec(t))return sI(this.currentUrlTree,t,o);const i=this.parseUrl(t);return sI(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const i=t[o];return null!=i&&(r[o]=i),r},{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,u,f,h;return s?(a=s.resolve,u=s.reject,f=s.promise):f=new Promise((y,T)=>{a=y,u=T}),h="computed"===this.canceledNavigationResolution?o&&o.\u0275routerPageId?o.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:h,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===o?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tk{}let $B=(()=>{class n{preload(t,r){return r().pipe(cl(()=>_n(null)))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BB=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(hi(t=>t instanceof Dc),Pl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=yh(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent?o.push(this.preloadConfig(s,i)):(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return cr(o).pipe(Uo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):_n(null);const i=o.pipe(gr(s=>null===s?_n(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?cr([i,this.loader.loadComponent(r)]).pipe(Uo()):i})}}return n.\u0275fac=function(t){return new(t||n)(ee(No),ee(oE),ee(ga),ee(tk),ee(Bv))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vv=new on("");let nk=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Dc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wI(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function ww(){throw new Error("invalid")}()},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();function kc(n,e){return{\u0275kind:n,\u0275providers:e}}function ok(){const n=yn(lo);return e=>{const t=n.get(Tl);if(e!==t.components[0])return;const r=n.get(No),o=n.get(ik);1===n.get(jv)&&r.initialNavigation(),n.get(sk,null,Tt.Optional)?.setUpPreloading(),n.get(Vv,null,Tt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const ik=new on("",{factory:()=>new tt}),jv=new on("",{providedIn:"root",factory:()=>1});const sk=new on("");function zB(n){return kc(0,[{provide:sk,useExisting:BB},{provide:tk,useExisting:n}])}const ak=new on("ROUTER_FORROOT_GUARD"),GB=[uf,{provide:Ou,useClass:bv},No,Ic,{provide:dl,useFactory:function rk(n){return n.routerState.root},deps:[No]},Bv,[]];function WB(){return new dE("Router",No)}let Im=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[GB,[],{provide:ju,multi:!0,useValue:t},{provide:ak,useFactory:YB,deps:[[No,new Ad,new Pd]]},{provide:Dm,useValue:r||{}},r?.useHash?{provide:Da,useClass:OE}:{provide:Da,useClass:FE},{provide:Vv,useFactory:()=>{const n=yn($N),e=yn(pt),t=yn(Dm),r=yn(Em),o=yn(Ou);return t.scrollOffset&&n.setOffset(t.scrollOffset),new nk(o,r,n,e,t)}},r?.preloadingStrategy?zB(r.preloadingStrategy).\u0275providers:[],{provide:dE,multi:!0,useFactory:WB},r?.initialNavigation?XB(r):[],[{provide:lk,useFactory:ok},{provide:rE,multi:!0,useExisting:lk}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ju,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(ee(ak,8))},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({imports:[Pv]}),n})();function YB(n){return"guarded"}function XB(n){return["disabled"===n.initialNavigation?kc(3,[{provide:gc,multi:!0,useFactory:()=>{const e=yn(No);return()=>{e.setUpLocationChangeListener()}}},{provide:jv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?kc(2,[{provide:jv,useValue:0},{provide:gc,multi:!0,deps:[lo],useFactory:e=>{const t=e.get(bO,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const i=e.get(No),s=e.get(ik);(function r(o){e.get(No).events.pipe(hi(s=>s instanceof Dc||s instanceof hm||s instanceof bI),Ae(s=>s instanceof Dc||s instanceof hm&&(0===s.code||1===s.code)&&null),hi(s=>null!==s),xs(1)).subscribe(()=>{o()})})(()=>{o(!0)}),e.get(Em).afterPreactivation=()=>(o(!0),s.closed?_n(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const lk=new on("");P(5933),P(9078),P(4199),P(8759);var Hv=P(5823),zu=P(9259),Bf=P(919),Vf=(P(7351),P(7580)),ck=(P(2286),P(6379),P(1559));function dk(n,e=ne){return n=n??eV,q((t,r)=>{let o,i=!0;t.subscribe(_e(r,s=>{const a=e(s);(i||!n(o,a))&&(i=!1,o=a,r.next(s))}))})}function eV(n,e){return n===e}const nV=Hv.i,Lt=["*"],iV=["outlet"],sV=[[["","slot","top"]],"*"],aV=["[slot=top]","*"],fk=n=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(n):"function"==typeof requestAnimationFrame?requestAnimationFrame(n):setTimeout(n),pk=n=>!!n.resolveComponentFactory;let Uf=(()=>{class n{constructor(t,r){this.injector=t,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(t){this.el.nativeElement.value=this.lastValue=t??"",Gu(this.el)}handleChangeEvent(t,r){t===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),Gu(this.el))}_handleBlurEvent(t){t===this.el.nativeElement&&(this.onTouched(),Gu(this.el))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.el.nativeElement.disabled=t}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let t;try{t=this.injector.get(ol)}catch{}if(!t)return;t.statusChanges&&(this.statusChanges=t.statusChanges.subscribe(()=>Gu(this.el)));const r=t.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),Gu(this.el)}}})}}return n.\u0275fac=function(t){return new(t||n)(C(lo),C(_t))},n.\u0275dir=st({type:n,hostBindings:function(t,r){1&t&&at("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),n})();const Gu=n=>{fk(()=>{const e=n.nativeElement,t=null!=e.value&&e.value.toString().length>0,r=uV(e);zv(e,r);const o=e.closest("ion-item");o&&zv(o,t?[...r,"item-has-value"]:r)})},uV=n=>{const e=n.classList,t=[];for(let r=0;r<e.length;r++){const o=e.item(r);null!==o&&dV(o,"ng-")&&t.push(`ion-${o.substring(3)}`)}return t},zv=(n,e)=>{const t=n.classList;t.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),t.add(...e)},dV=(n,e)=>n.substring(0,e.length)===e;let Wu=(()=>{class n extends Uf{constructor(t,r){super(t,r)}writeValue(t){this.el.nativeElement.checked=this.lastValue=t??!1,Gu(this.el)}_handleIonChange(t){this.handleChangeEvent(t,t.checked)}}return n.\u0275fac=function(t){return new(t||n)(C(lo),C(_t))},n.\u0275dir=st({type:n,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(t,r){1&t&&at("ionChange",function(i){return r._handleIonChange(i.target)})},features:[kr([{provide:ji,useExisting:n,multi:!0}]),fr]}),n})(),jf=(()=>{class n extends Uf{constructor(t,r){super(t,r)}_handleChangeEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(lo),C(_t))},n.\u0275dir=st({type:n,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(t,r){1&t&&at("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[kr([{provide:ji,useExisting:n,multi:!0}]),fr]}),n})(),fl=(()=>{class n extends Uf{constructor(t,r){super(t,r)}_handleInputEvent(t){this.handleChangeEvent(t,t.value)}}return n.\u0275fac=function(t){return new(t||n)(C(lo),C(_t))},n.\u0275dir=st({type:n,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(t,r){1&t&&at("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[kr([{provide:ji,useExisting:n,multi:!0}]),fr]}),n})();const hV=(n,e)=>{const t=n.prototype;e.forEach(r=>{Object.defineProperty(t,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},mV=(n,e)=>{const t=n.prototype;e.forEach(r=>{t[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},_r=(n,e,t)=>{t.forEach(r=>n[r]=Sf(e,r))};function Ot(n){return function(t){const{defineCustomElementFn:r,inputs:o,methods:i}=n;return void 0!==r&&r(),o&&hV(t,o),i&&mV(t,i),t}}let hk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-app"]],ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0})],n),n})(),mk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],n),n})(),zi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],n),n})(),Gi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["collapse"]})],n),n})(),gk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-checkbox"]],inputs:{checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",mode:"mode",name:"name",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["checked","color","disabled","indeterminate","mode","name","value"]})],n),n})(),Wi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],n),n})(),Zi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],n),n})(),li=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],n),n})(),pl=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],n),n})(),Ko=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],n),n})(),km=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],n),n})(),Tm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionSwipe"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["side"]})],n),n})(),Mm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionDrag"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],n),n})(),qi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],n),n})(),xa=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],n),n})(),yk=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})(),Gv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],n),n})(),xm=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],n),n})(),Am=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["disabled","value"]})],n),n})(),Hf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],n),n})(),Wv=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],n),n})(),_k=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],n),n})(),Ki=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["color","size"]})],n),n})(),zf=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement,_r(this,this.el,["ionChange","ionFocus","ionBlur"])}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],n),n})(),Yi=(()=>{let n=class{constructor(t,r,o){this.z=o,t.detach(),this.el=r.nativeElement}};return n.\u0275fac=function(t){return new(t||n)(C(kt),C(_t),C(pt))},n.\u0275cmp=ut({type:n,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Lt,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2,changeDetection:0}),n=W([Ot({defineCustomElementFn:void 0,inputs:["color","mode"]})],n),n})();class vk{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Pm=(()=>{class n{constructor(t,r){this.zone=t,this.appRef=r}create(t,r,o,i){return new pU(t,r,o,this.appRef,this.zone,i)}}return n.\u0275fac=function(t){return new(t||n)(ee(pt),ee(Tl))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class pU{constructor(e,t,r,o,i,s){this.resolverOrInjector=e,this.injector=t,this.location=r,this.appRef=o,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,r,o){return this.zone.run(()=>new Promise(i=>{const s=Object.assign({},r);void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=e),i(hU(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,s,o))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(t);if(o){o.destroy(),this.elRefMap.delete(t);const i=this.elEventsMap.get(t);i&&(i(),this.elEventsMap.delete(t))}r()}))}}const hU=(n,e,t,r,o,i,s,a,u,f,h)=>{let y;const T=lo.create({providers:gU(f),parent:t});if(e&&pk(e)){const ze=e.resolveComponentFactory(u);y=r?r.createComponent(ze,r.length,T):ze.create(T)}else{if(!r)return null;y=r.createComponent(u,{index:r.indexOf,injector:T,environmentInjector:e})}const M=y.instance,Y=y.location.nativeElement;if(f&&Object.assign(M,f),h)for(const ze of h)Y.classList.add(ze);const Se=bk(n,M,Y);return a.appendChild(Y),r||o.attachView(y.hostView),y.changeDetectorRef.reattach(),i.set(Y,y),s.set(Y,Se),Y},mU=[Bf.L,Bf.a,Bf.b,Bf.c,Bf.d],bk=(n,e,t)=>n.run(()=>{const r=mU.filter(o=>"function"==typeof e[o]).map(o=>{const i=s=>e[o](s.detail);return t.addEventListener(o,i),()=>t.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),wk=new on("NavParamsToken"),gU=n=>[{provide:wk,useValue:n},{provide:vk,useFactory:yU,deps:[wk]}],yU=n=>new vk(n),Ck=(n,e)=>((n=n.filter(t=>t.stackId!==e.stackId)).push(e),n),Zv=(n,e)=>{const t=n.createUrlTree(["."],{relativeTo:e});return n.serializeUrl(t)},CU=(n,e)=>{if(!n)return;const t=Sk(e);for(let r=0;r<t.length;r++){if(r>=n.length)return t[r];if(t[r]!==n[r])return}},Sk=n=>n.split("/").map(e=>e.trim()).filter(e=>""!==e),Ek=n=>{n&&(n.ref.destroy(),n.unlistenEvents())};class SU{constructor(e,t,r,o,i,s){this.containerEl=t,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?Sk(e):void 0}createView(e,t){var r;const o=Zv(this.router,t),i=null===(r=e?.location)||void 0===r?void 0:r.nativeElement,s=bk(this.zone,e.instance,i);return{id:this.nextId++,stackId:CU(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:e,url:o}}getExistingView(e){const t=Zv(this.router,e),r=this.views.find(o=>o.url===t);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var t,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const u=this.activeView,f=((n,e)=>!e||n.stackId!==e.stackId)(e,u);f&&(i="back",s=void 0);const h=this.views.slice();let y;const T=this.router;T.getCurrentNavigation?y=T.getCurrentNavigation():!(null===(t=T.navigations)||void 0===t)&&t.value&&(y=T.navigations.value),null!==(r=y?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const M=this.views.includes(e),Y=this.insertView(e,i);M||e.ref.changeDetectorRef.detectChanges();const Se=e.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==Se&&(a=Se),u&&(u.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(u&&u.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,u,s,this.canGoBack(1),!1,a).then(()=>EU(e,Y,h,this.location,this.zone)).then(()=>({enteringView:e,direction:i,animation:s,tabSwitch:f})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(t);if(i.length<=e)return Promise.resolve(!1);const s=i[i.length-e-1];let a=s.url;const u=s.savedData;if(u){const h=u.get("primary");null!==(o=null===(r=h?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=h.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),r=t[t.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&Dk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ek),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((n,e,t)=>"root"===t?Ck(n,e):"forward"===t?((n,e)=>(n.indexOf(e)>=0?n=n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):n.push(e),n))(n,e):((n,e)=>n.indexOf(e)>=0?n.filter(r=>r.stackId!==e.stackId||r.id<=e.id):Ck(n,e))(n,e))(this.views,e,t),this.views.slice()}transition(e,t,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const a=e?e.element:void 0,u=t?t.element:void 0,f=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,u,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return Mn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const EU=(n,e,t,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Dk(n,e,t,r,o),i()})}):Promise.resolve(),Dk=(n,e,t,r,o)=>{o.run(()=>t.filter(i=>!e.includes(i)).forEach(Ek)),e.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==n&&i.url!==a){const u=i.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let qv=(()=>{class n{get(t,r){const o=Kv();return o?o.get(t,r):null}getBoolean(t,r){const o=Kv();return!!o&&o.getBoolean(t,r)}getNumber(t,r){const o=Kv();return o?o.getNumber(t,r):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ik=new on("USERCONFIG"),Kv=()=>{if(typeof window<"u"){const n=window.Ionic;if(n?.config)return n.config}return null};let DU=(()=>{class n{constructor(t,r){this.doc=t,this.backButton=new tt,this.keyboardDidShow=new tt,this.keyboardDidHide=new tt,this.pause=new tt,this.resume=new tt,this.resize=new tt,r.run(()=>{var o;let i;this.win=t.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(u=>u.register(s,f=>r.run(()=>a(f))))},Zu(this.pause,t,"pause"),Zu(this.resume,t,"resume"),Zu(this.backButton,t,"ionBackButton"),Zu(this.resize,this.win,"resize"),Zu(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Zu(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?t.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(t){return(0,Hv.a)(this.win,t)}platforms(){return(0,Hv.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(t){return IU(this.win.location.href,t)}isLandscape(){return!this.isPortrait()}isPortrait(){var t,r;return null===(r=(t=this.win).matchMedia)||void 0===r?void 0:r.call(t,"(orientation: portrait)").matches}testUserAgent(t){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(t)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return n.\u0275fac=function(t){return new(t||n)(ee(Zo),ee(pt))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IU=(n,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Zu=(n,e,t)=>{e&&e.addEventListener(t,r=>{n.next(r?.detail)})};let Gf=(()=>{class n{constructor(t,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=kk,this.animated=Tk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof pm){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),t.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(t,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateBack(t,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}navigateRoot(t,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(t,r)}back(t={animated:!0,animationDirection:"back"}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.location.back()}pop(){return Mn(this,void 0,void 0,function*(){let t=this.topOutlet;for(;t&&!(yield t.pop());)t=t.parentOutlet})}setDirection(t,r,o,i){this.direction=t,this.animated=kU(t,r,o),this.animationBuilder=i}setTopOutlet(t){this.topOutlet=t}consumeTransition(){let r,t="root";const o=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,r=this.guessAnimation):(r=this.animated,t=this.direction),this.direction=kk,this.animated=Tk,this.animationBuilder=void 0,{direction:t,animation:r,animationBuilder:o}}navigate(t,r){if(Array.isArray(t))return this.router.navigate(t,r);{const o=this.serializer.parse(t.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return n.\u0275fac=function(t){return new(t||n)(ee(DU),ee(uf),ee(Ou),ee(No,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kU=(n,e,t)=>{if(!1!==e){if(void 0!==t)return t;if("forward"===n||"back"===n)return n;if("root"===n&&!0===e)return"forward"}},kk="auto",Tk=void 0;let Wf=(()=>{class n{constructor(t,r,o,i,s,a,u,f,h,y,T,M,Y){this.parentContexts=t,this.location=r,this.config=s,this.navCtrl=a,this.componentFactoryResolver=u,this.parentOutlet=Y,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ms(null),this.stackEvents=new Dn,this.activateEvents=new Dn,this.deactivateEvents=new Dn,this.nativeEl=h.nativeElement,this.name=o||On,this.tabsPrefix="true"===i?Zv(y,M):void 0,this.stackCtrl=new SU(this.tabsPrefix,this.nativeEl,y,a,T,f),t.onChildOutletCreated(this.name,this)}set animation(t){this.nativeEl.animation=t}set animated(t){this.nativeEl.animated=t}set swipeGesture(t){this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const t=this.getContext();t?.route&&this.activateWith(t.route,t.resolver||null)}new Promise(t=>(0,zu.c)(this.nativeEl,t)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(t,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){var o;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;let i,s=this.stackCtrl.getExistingView(t);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,t)}else{const a=t._futureSnapshot;if(null==a.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const u=this.parentContexts.getOrCreateContext(this.name).children,f=new Ms(null),h=this.createActivatedRouteProxy(f,t),y=new TU(h,u,this.location.injector),T=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;if((r=r||this.componentFactoryResolver)&&pk(r)){const M=r.resolveComponentFactory(T);i=this.activated=this.location.createComponent(M,this.location.length,y)}else i=this.activated=this.location.createComponent(T,{index:this.location.length,injector:y,environmentInjector:r??this.environmentInjector});f.next(i.instance),s=this.stackCtrl.createView(this.activated,t),this.proxyMap.set(i.instance,h),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:t})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(t=1,r){return this.stackCtrl.canGoBack(t,r)}pop(t=1,r){return this.stackCtrl.pop(t,r)}getLastUrl(t){const r=this.stackCtrl.getLastUrl(t);return r?r.url:void 0}getLastRouteView(t){return this.stackCtrl.getLastUrl(t)}getRootView(t){return this.stackCtrl.getRootUrl(t)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(t,r){const o=new dl;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(t,"paramMap"),o._queryParamMap=this.proxyObservable(t,"queryParamMap"),o.url=this.proxyObservable(t,"url"),o.params=this.proxyObservable(t,"params"),o.queryParams=this.proxyObservable(t,"queryParams"),o.fragment=this.proxyObservable(t,"fragment"),o.data=this.proxyObservable(t,"data"),o}proxyObservable(t,r){return t.pipe(hi(o=>!!o),mi(o=>this.currentActivatedRoute$.pipe(hi(i=>null!==i&&i.component===o),mi(i=>i&&i.activatedRoute[r]),dk())))}updateActivatedRouteProxy(t,r){const o=this.proxyMap.get(t);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:t,activatedRoute:r})}}return n.\u0275fac=function(t){return new(t||n)(C(Ic),C(Ri),Xc("name"),Xc("tabs"),C(qv),C(Gf),C(qa,8),C(uf),C(_t),C(No),C(pt),C(dl),C(n,12))},n.\u0275dir=st({type:n,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class TU{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===dl?this.route:e===Ic?this.childContexts:this.parent.get(e,t)}}let Mk=(()=>{class n{constructor(t){this.navCtrl=t,this.ionTabsWillChange=new Dn,this.ionTabsDidChange=new Dn}onPageSelected(t){const r=t.enteringView.stackId;t.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(t){const r="string"==typeof t,o=r?t:t.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||t.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return n.\u0275fac=function(t){return new(t||n)(C(Gf))},n.\u0275cmp=ut({type:n,selectors:[["ion-tabs"]],contentQueries:function(t,r,o){if(1&t&&function Il(n,e,t,r){const o=bn();if(o.firstCreatePass){const i=Vt();OS(o,new PS(e,t,r),i.index),function h2(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(o,n),2==(2&t)&&(o.staticContentQueries=!0)}FS(o,lt(),t)}(o,Wv,5),2&t){let i;ks(i=Ts())&&(r.tabBar=i.first)}},viewQuery:function(t,r){if(1&t&&Eu(iV,5,Wf),2&t){let o;ks(o=Ts())&&(r.outlet=o.first)}},hostBindings:function(t,r){1&t&&at("ionTabButtonClick",function(i){return r.select(i)})},inputs:{environmentInjector:"environmentInjector"},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:aV,decls:5,vars:1,consts:[[1,"tabs-inner"],["tabs","true",3,"environmentInjector","stackEvents"],["outlet",""]],template:function(t,r){1&t&&(Ft(sV),At(0),se(1,"div",0)(2,"ion-router-outlet",1,2),at("stackEvents",function(i){return r.onPageSelected(i)}),J()(),At(4,1)),2&t&&(Je(2),rt("environmentInjector",r.environmentInjector))},dependencies:[Wf],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),n})(),xk=(()=>{class n{constructor(t,r,o){this.routerOutlet=t,this.navCtrl=r,this.config=o}onClick(t){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),t.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),t.preventDefault())}}return n.\u0275fac=function(t){return new(t||n)(C(Wf,8),C(Gf),C(qv))},n.\u0275dir=st({type:n,selectors:[["ion-back-button"]],hostBindings:function(t,r){1&t&&at("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),n})(),Ak=(()=>{let n=class{constructor(t,r,o,i,s){this.el=t.nativeElement,t.nativeElement.delegate=i.create(r,o,s),_r(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return n.\u0275fac=function(t){return new(t||n)(C(_t),C(qa),C(lo),C(Pm),C(Ri))},n.\u0275dir=st({type:n,selectors:[["ion-nav"]]}),n=W([Ot({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],n),n})();class Zf{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,r){return this.ctrl.dismiss(e,t,r)}getTop(){return this.ctrl.getTop()}}let qf=(()=>{class n extends Zf{constructor(){super(Vf.b)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tc=(()=>{class n extends Zf{constructor(){super(Vf.a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$l=(()=>{class n extends Zf{constructor(){super(Vf.l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=gt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ok{}let gs=(()=>{class n extends Zf{constructor(t,r,o,i){super(Vf.m),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"modal")}))}}return n.\u0275fac=function(t){return new(t||n)(ee(Pm),ee(qa),ee(lo),ee(Ok,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),Mc=(()=>{class n extends Zf{constructor(t,r,o,i){super(Vf.c),this.angularDelegate=t,this.resolver=r,this.injector=o,this.environmentInjector=i}create(t){var r;return super.create(Object.assign(Object.assign({},t),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector,void 0,"popover")}))}}return n.\u0275fac=function(t){return new(t||n)(ee(Pm),ee(qa),ee(lo),ee(Ok,8))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();const NU=(n,e,t)=>()=>{if(e.defaultView&&typeof window<"u"){(n=>{const e=window,t=e.Ionic;t&&t.config&&"Object"!==t.config.constructor.name||(e.Ionic=e.Ionic||{},e.Ionic.config=Object.assign(Object.assign({},e.Ionic.config),n))})(Object.assign(Object.assign({},n),{_zoneGate:i=>t.run(i)}));const o="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function tV(){var n=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&n.push(P.e(6748).then(P.t.bind(P,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&n.push(P.e(2214).then(P.t.bind(P,7320,23)))}return Promise.all(n)}().then(()=>((n,e)=>typeof window>"u"?Promise.resolve():(0,ck.p)().then(()=>(nV(),(0,ck.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:fk,jmp:i=>t.runOutsideAngular(i),ael(i,s,a,u){i[o](s,a,u)},rel(i,s,a,u){i.removeEventListener(s,a,u)}}))}};let Bl=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:Ik,useValue:t},{provide:gc,useFactory:NU,multi:!0,deps:[Ik,Zo,pt]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({providers:[Pm,gs,Mc],imports:[[Ia]]}),n})();let qu={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Lk=/[&<>"']/,$U=new RegExp(Lk.source,"g"),$k=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,BU=new RegExp($k.source,"g"),VU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bk=n=>VU[n];function _i(n,e){if(e){if(Lk.test(n))return n.replace($U,Bk)}else if($k.test(n))return n.replace(BU,Bk);return n}const UU=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Vk(n){return n.replace(UU,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const jU=/(^|[^\[])\^/g;function Lr(n,e){n="string"==typeof n?n:n.source,e=e||"";const t={replace:(r,o)=>(o=(o=o.source||o).replace(jU,"$1"),n=n.replace(r,o),t),getRegex:()=>new RegExp(n,e)};return t}const HU=/[^\w:]/g,zU=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Uk(n,e,t){if(n){let r;try{r=decodeURIComponent(Vk(t)).replace(HU,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!zU.test(t)&&(t=function qU(n,e){Rm[" "+n]||(Rm[" "+n]=GU.test(n)?n+"/":Om(n,"/",!0));const t=-1===(n=Rm[" "+n]).indexOf(":");return"//"===e.substring(0,2)?t?e:n.replace(WU,"$1")+e:"/"===e.charAt(0)?t?e:n.replace(ZU,"$1")+e:n+e}(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Rm={},GU=/^[^:]+:\/*[^/]*$/,WU=/^([^:]+:)[\s\S]*$/,ZU=/^([^:]+:\/*[^/]*)[\s\S]*$/,Fm={exec:function(){}};function na(n){let t,r,e=1;for(;e<arguments.length;e++)for(r in t=arguments[e],t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function jk(n,e){const r=n.replace(/\|/g,(i,s,a)=>{let u=!1,f=s;for(;--f>=0&&"\\"===a[f];)u=!u;return u?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function Om(n,e,t){const r=n.length;if(0===r)return"";let o=0;for(;o<r;){const i=n.charAt(r-o-1);if(i!==e||t){if(i===e||!t)break;o++}else o++}return n.slice(0,r-o)}function Hk(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function zk(n,e){if(e<1)return"";let t="";for(;e>1;)1&e&&(t+=n),e>>=1,n+=n;return t+n}function Gk(n,e,t,r){const o=e.href,i=e.title?_i(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:t,href:o,title:i,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:t,href:o,title:i,text:_i(s)}}class Yv{constructor(e){this.options=e||qu}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const r=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Om(r,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const r=t[0],o=function YU(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const r=t[1];return e.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,t[3]||"");return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:o}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(/#$/.test(r)){const o=Om(r,"#");(this.options.pedantic||!o||/ $/.test(o))&&(r=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const r=t[0].replace(/^ *>[ \t]?/gm,""),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=o,{type:"blockquote",raw:t[0],tokens:i,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r,o,i,s,a,u,f,h,y,T,M,Y,Se=t[1].trim();const ze=Se.length>1,Ke={type:"list",raw:"",ordered:ze,start:ze?+Se.slice(0,-1):"",loose:!1,items:[]};Se=ze?`\\d{1,9}\\${Se.slice(-1)}`:`\\${Se}`,this.options.pedantic&&(Se=ze?Se:"[*+-]");const St=new RegExp(`^( {0,3}${Se})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(Y=!1,(t=St.exec(e))&&!this.rules.block.hr.test(e));){if(r=t[0],e=e.substring(r.length),h=t[2].split("\n",1)[0].replace(/^\t+/,Nt=>" ".repeat(3*Nt.length)),y=e.split("\n",1)[0],this.options.pedantic?(s=2,M=h.trimLeft()):(s=t[2].search(/[^ ]/),s=s>4?1:s,M=h.slice(s),s+=t[1].length),u=!1,!h&&/^ *$/.test(y)&&(r+=y+"\n",e=e.substring(y.length+1),Y=!0),!Y){const Nt=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),Cn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Zn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),_s=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(T=e.split("\n",1)[0],y=T,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Zn.test(y)||_s.test(y)||Nt.test(y)||Cn.test(e)));){if(y.search(/[^ ]/)>=s||!y.trim())M+="\n"+y.slice(s);else{if(u||h.search(/[^ ]/)>=4||Zn.test(h)||_s.test(h)||Cn.test(h))break;M+="\n"+y}!u&&!y.trim()&&(u=!0),r+=T+"\n",e=e.substring(T.length+1),h=y.slice(s)}}Ke.loose||(f?Ke.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(M),o&&(i="[ ] "!==o[0],M=M.replace(/^\[[ xX]\] +/,""))),Ke.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:M}),Ke.raw+=r}Ke.items[Ke.items.length-1].raw=r.trimRight(),Ke.items[Ke.items.length-1].text=M.trimRight(),Ke.raw=Ke.raw.trimRight();const Oe=Ke.items.length;for(a=0;a<Oe;a++)if(this.lexer.state.top=!1,Ke.items[a].tokens=this.lexer.blockTokens(Ke.items[a].text,[]),!Ke.loose){const Nt=Ke.items[a].tokens.filter(Zn=>"space"===Zn.type),Cn=Nt.length>0&&Nt.some(Zn=>/\n.*\n/.test(Zn.raw));Ke.loose=Cn}if(Ke.loose)for(a=0;a<Oe;a++)Ke.items[a].loose=!0;return Ke}}html(e){const t=this.rules.block.html.exec(e);if(t){const r={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const o=this.options.sanitizer?this.options.sanitizer(t[0]):_i(t[0]);r.type="paragraph",r.text=o,r.tokens=this.lexer.inline(o)}return r}}def(e){const t=this.rules.block.def.exec(e);if(t){const r=t[1].toLowerCase().replace(/\s+/g," "),o=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:o,title:i}}}table(e){const t=this.rules.block.table.exec(e);if(t){const r={type:"table",header:jk(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=t[0];let i,s,a,u,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=jk(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(o=r.rows.length,s=0;s<o;s++)for(u=r.rows[s],a=0;a<u.length;a++)u[a].tokens=this.lexer.inline(u[a].text);return r}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const r="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:_i(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):_i(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const r=t[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Om(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function KU(n,e){if(-1===n.indexOf(e[1]))return-1;const t=n.length;let r=0,o=0;for(;o<t;o++)if("\\"===n[o])o++;else if(n[o]===e[0])r++;else if(n[o]===e[1]&&(r--,r<0))return o;return-1}(t[2],"()");if(s>-1){const u=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,u).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),Gk(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return Gk(r,o,r[0],this.lexer)}}emStrong(e,t,r=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,u,f=s,h=0;const y="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(y.lastIndex=0,t=t.slice(-1*e.length+s);null!=(o=y.exec(t));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(u=a.length,o[3]||o[4]){f+=u;continue}if((o[5]||o[6])&&s%3&&!((s+u)%3)){h+=u;continue}if(f-=u,f>0)continue;u=Math.min(u,u+f+h);const T=e.slice(0,s+o.index+(o[0].length-a.length)+u);if(Math.min(s,u)%2){const Y=T.slice(1,-1);return{type:"em",raw:T,text:Y,tokens:this.lexer.inlineTokens(Y)}}const M=T.slice(2,-2);return{type:"strong",raw:T,text:M,tokens:this.lexer.inlineTokens(M)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=_i(r,!0),{type:"codespan",raw:t[0],text:r}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const r=this.rules.inline.autolink.exec(e);if(r){let o,i;return"@"===r[2]?(o=_i(this.options.mangle?t(r[1]):r[1]),i="mailto:"+o):(o=_i(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let r;if(r=this.rules.inline.url.exec(e)){let o,i;if("@"===r[2])o=_i(this.options.mangle?t(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=_i(r[0]),i="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){const r=this.rules.inline.text.exec(e);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):_i(r[0]):r[0]:_i(this.options.smartypants?t(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const wn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Fm,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};wn.def=Lr(wn.def).replace("label",wn._label).replace("title",wn._title).getRegex(),wn.bullet=/(?:[*+-]|\d{1,9}[.)])/,wn.listItemStart=Lr(/^( *)(bull) */).replace("bull",wn.bullet).getRegex(),wn.list=Lr(wn.list).replace(/bull/g,wn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+wn.def.source+")").getRegex(),wn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",wn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,wn.html=Lr(wn.html,"i").replace("comment",wn._comment).replace("tag",wn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wn.paragraph=Lr(wn._paragraph).replace("hr",wn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wn._tag).getRegex(),wn.blockquote=Lr(wn.blockquote).replace("paragraph",wn.paragraph).getRegex(),wn.normal=na({},wn),wn.gfm=na({},wn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),wn.gfm.table=Lr(wn.gfm.table).replace("hr",wn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wn._tag).getRegex(),wn.gfm.paragraph=Lr(wn._paragraph).replace("hr",wn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",wn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",wn._tag).getRegex(),wn.pedantic=na({},wn.normal,{html:Lr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",wn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Fm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Lr(wn.normal._paragraph).replace("hr",wn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",wn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Kt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Fm,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Fm,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function XU(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function Wk(n){let t,r,e="";const o=n.length;for(t=0;t<o;t++)r=n.charCodeAt(t),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}Kt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Kt.punctuation=Lr(Kt.punctuation).replace(/punctuation/g,Kt._punctuation).getRegex(),Kt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Kt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Kt._comment=Lr(wn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Kt.emStrong.lDelim=Lr(Kt.emStrong.lDelim).replace(/punct/g,Kt._punctuation).getRegex(),Kt.emStrong.rDelimAst=Lr(Kt.emStrong.rDelimAst,"g").replace(/punct/g,Kt._punctuation).getRegex(),Kt.emStrong.rDelimUnd=Lr(Kt.emStrong.rDelimUnd,"g").replace(/punct/g,Kt._punctuation).getRegex(),Kt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Kt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Kt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Kt.autolink=Lr(Kt.autolink).replace("scheme",Kt._scheme).replace("email",Kt._email).getRegex(),Kt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Kt.tag=Lr(Kt.tag).replace("comment",Kt._comment).replace("attribute",Kt._attribute).getRegex(),Kt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Kt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Kt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Kt.link=Lr(Kt.link).replace("label",Kt._label).replace("href",Kt._href).replace("title",Kt._title).getRegex(),Kt.reflink=Lr(Kt.reflink).replace("label",Kt._label).replace("ref",wn._label).getRegex(),Kt.nolink=Lr(Kt.nolink).replace("ref",wn._label).getRegex(),Kt.reflinkSearch=Lr(Kt.reflinkSearch,"g").replace("reflink",Kt.reflink).replace("nolink",Kt.nolink).getRegex(),Kt.normal=na({},Kt),Kt.pedantic=na({},Kt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Lr(/^!?\[(label)\]\((.*?)\)/).replace("label",Kt._label).getRegex(),reflink:Lr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Kt._label).getRegex()}),Kt.gfm=na({},Kt.normal,{escape:Lr(Kt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Kt.gfm.url=Lr(Kt.gfm.url,"i").replace("email",Kt.gfm._extended_email).getRegex(),Kt.breaks=na({},Kt.gfm,{br:Lr(Kt.br).replace("{2,}","*").getRegex(),text:Lr(Kt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class hl{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||qu,this.options.tokenizer=this.options.tokenizer||new Yv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:wn.normal,inline:Kt.normal};this.options.pedantic?(t.block=wn.pedantic,t.inline=Kt.pedantic):this.options.gfm&&(t.block=wn.gfm,t.inline=this.options.breaks?Kt.breaks:Kt.gfm),this.tokenizer.rules=t}static get rules(){return{block:wn,inline:Kt}}static lex(e,t){return new hl(t).lex(e)}static lexInline(e,t){return new hl(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let r,o,i,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,u,f)=>u+"    ".repeat(f.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),1===r.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?t.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),o=t[t.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const u=e.slice(1);let f;this.options.extensions.startBlock.forEach(function(h){f=h.call({lexer:this},u),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=t[t.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r),s=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):t.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r,o,i,a,u,f,s=e;if(this.tokens.links){const h=Object.keys(this.tokens.links);if(h.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)h.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+zk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+zk("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index+a[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(u||(f=""),u=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(h=>!!(r=h.call({lexer:this},e,t))&&(e=e.substring(r.raw.length),t.push(r),!0)))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),o=t[t.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(r=this.tokenizer.emStrong(e,s,f)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.autolink(e,Wk)){e=e.substring(r.raw.length),t.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Wk))){e=e.substring(r.raw.length),t.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let h=1/0;const y=e.slice(1);let T;this.options.extensions.startInline.forEach(function(M){T=M.call({lexer:this},y),"number"==typeof T&&T>=0&&(h=Math.min(h,T))}),h<1/0&&h>=0&&(i=e.substring(0,h+1))}if(r=this.tokenizer.inlineText(i,XU)){e=e.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),u=!0,o=t[t.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):t.push(r);continue}if(e){const h="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}return t}}class Ku{constructor(e){this.options=e||qu}code(e,t,r){const o=(t||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(e,o);null!=i&&i!==e&&(r=!0,e=i)}return e=e.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+_i(o)+'">'+(r?e:_i(e,!0))+"</code></pre>\n":"<pre><code>"+(r?e:_i(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,r,o){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+o.slug(r)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,r){const o=t?"ol":"ul";return"<"+o+(t&&1!==r?' start="'+r+'"':"")+">\n"+e+"</"+o+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,r){if(null===(e=Uk(this.options.sanitize,this.options.baseUrl,e)))return r;let o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+r+"</a>",o}image(e,t,r){if(null===(e=Uk(this.options.sanitize,this.options.baseUrl,e)))return r;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${t}"`),o+=this.options.xhtml?"/>":">",o}text(e){return e}}class Zk{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,r){return""+r}image(e,t,r){return""+r}br(){return""}}class qk{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let r=e,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[e];do{o++,r=e+"-"+o}while(this.seen.hasOwnProperty(r))}return t||(this.seen[e]=o,this.seen[r]=0),r}slug(e,t={}){const r=this.serialize(e);return this.getNextSafeSlug(r,t.dryrun)}}class Aa{constructor(e){this.options=e||qu,this.options.renderer=this.options.renderer||new Ku,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Zk,this.slugger=new qk}static parse(e,t){return new Aa(t).parse(e)}static parseInline(e,t){return new Aa(t).parseInline(e)}parse(e,t=!0){let o,i,s,a,u,f,h,y,T,M,Y,Se,ze,Ke,St,Oe,Nt,Cn,Zn,r="";const _s=e.length;for(o=0;o<_s;o++)if(M=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[M.type]&&(Zn=this.options.extensions.renderers[M.type].call({parser:this},M),!1!==Zn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(M.type)))r+=Zn||"";else switch(M.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(M.tokens),M.depth,Vk(this.parseInline(M.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(M.text,M.lang,M.escaped);continue;case"table":for(y="",h="",a=M.header.length,i=0;i<a;i++)h+=this.renderer.tablecell(this.parseInline(M.header[i].tokens),{header:!0,align:M.align[i]});for(y+=this.renderer.tablerow(h),T="",a=M.rows.length,i=0;i<a;i++){for(f=M.rows[i],h="",u=f.length,s=0;s<u;s++)h+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:M.align[s]});T+=this.renderer.tablerow(h)}r+=this.renderer.table(y,T);continue;case"blockquote":T=this.parse(M.tokens),r+=this.renderer.blockquote(T);continue;case"list":for(Y=M.ordered,Se=M.start,ze=M.loose,a=M.items.length,T="",i=0;i<a;i++)St=M.items[i],Oe=St.checked,Nt=St.task,Ke="",St.task&&(Cn=this.renderer.checkbox(Oe),ze?St.tokens.length>0&&"paragraph"===St.tokens[0].type?(St.tokens[0].text=Cn+" "+St.tokens[0].text,St.tokens[0].tokens&&St.tokens[0].tokens.length>0&&"text"===St.tokens[0].tokens[0].type&&(St.tokens[0].tokens[0].text=Cn+" "+St.tokens[0].tokens[0].text)):St.tokens.unshift({type:"text",text:Cn}):Ke+=Cn),Ke+=this.parse(St.tokens,ze),T+=this.renderer.listitem(Ke,Nt,Oe);r+=this.renderer.list(T,Y,Se);continue;case"html":r+=this.renderer.html(M.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(M.tokens));continue;case"text":for(T=M.tokens?this.parseInline(M.tokens):M.text;o+1<_s&&"text"===e[o+1].type;)M=e[++o],T+="\n"+(M.tokens?this.parseInline(M.tokens):M.text);r+=t?this.renderer.paragraph(T):T;continue;default:{const Zm='Token with "'+M.type+'" type was not found.';if(this.options.silent)return void console.error(Zm);throw new Error(Zm)}}return r}parseInline(e,t){t=t||this.renderer;let o,i,s,r="";const a=e.length;for(o=0;o<a;o++)if(i=e[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=t.text(i.text);break;case"html":r+=t.html(i.text);break;case"link":r+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":r+=t.image(i.href,i.title,i.text);break;case"strong":r+=t.strong(this.parseInline(i.tokens,t));break;case"em":r+=t.em(this.parseInline(i.tokens,t));break;case"codespan":r+=t.codespan(i.text);break;case"br":r+=t.br();break;case"del":r+=t.del(this.parseInline(i.tokens,t));break;default:{const u='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(u);throw new Error(u)}}return r}}function En(n,e,t){if(typeof n>"u"||null===n)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if("function"==typeof e&&(t=e,e=null),Hk(e=na({},En.defaults,e||{})),t){const o=e.highlight;let i;try{i=hl.lex(n,e)}catch(u){return t(u)}const s=function(u){let f;if(!u)try{e.walkTokens&&En.walkTokens(i,e.walkTokens),f=Aa.parse(i,e)}catch(h){u=h}return e.highlight=o,u?t(u):t(null,f)};if(!o||o.length<3||(delete e.highlight,!i.length))return s();let a=0;return En.walkTokens(i,function(u){"code"===u.type&&(a++,setTimeout(()=>{o(u.text,u.lang,function(f,h){if(f)return s(f);null!=h&&h!==u.text&&(u.text=h,u.escaped=!0),a--,0===a&&s()})},0))}),void(0===a&&s())}function r(o){if(o.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+_i(o.message+"",!0)+"</pre>";throw o}try{const o=hl.lex(n,e);if(e.walkTokens){if(e.async)return Promise.all(En.walkTokens(o,e.walkTokens)).then(()=>Aa.parse(o,e)).catch(r);En.walkTokens(o,e.walkTokens)}return Aa.parse(o,e)}catch(o){r(o)}}En.options=En.setOptions=function(n){return na(En.defaults,n),function LU(n){qu=n}(En.defaults),En},En.getDefaults=function Nk(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},En.defaults=qu,En.use=function(...n){const e=En.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(t=>{const r=na({},t);if(r.async=En.defaults.async||r.async,t.extensions&&(t.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const i=e.renderers[o.name];e.renderers[o.name]=i?function(...s){let a=o.renderer.apply(this,s);return!1===a&&(a=i.apply(this,s)),a}:o.renderer}if(o.tokenizer){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");e[o.level]?e[o.level].unshift(o.tokenizer):e[o.level]=[o.tokenizer],o.start&&("block"===o.level?e.startBlock?e.startBlock.push(o.start):e.startBlock=[o.start]:"inline"===o.level&&(e.startInline?e.startInline.push(o.start):e.startInline=[o.start]))}o.childTokens&&(e.childTokens[o.name]=o.childTokens)}),r.extensions=e),t.renderer){const o=En.defaults.renderer||new Ku;for(const i in t.renderer){const s=o[i];o[i]=(...a)=>{let u=t.renderer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.renderer=o}if(t.tokenizer){const o=En.defaults.tokenizer||new Yv;for(const i in t.tokenizer){const s=o[i];o[i]=(...a)=>{let u=t.tokenizer[i].apply(o,a);return!1===u&&(u=s.apply(o,a)),u}}r.tokenizer=o}if(t.walkTokens){const o=En.defaults.walkTokens;r.walkTokens=function(i){let s=[];return s.push(t.walkTokens.call(this,i)),o&&(s=s.concat(o.call(this,i))),s}}En.setOptions(r)})},En.walkTokens=function(n,e){let t=[];for(const r of n)switch(t=t.concat(e.call(En,r)),r.type){case"table":for(const o of r.header)t=t.concat(En.walkTokens(o.tokens,e));for(const o of r.rows)for(const i of o)t=t.concat(En.walkTokens(i.tokens,e));break;case"list":t=t.concat(En.walkTokens(r.items,e));break;default:En.defaults.extensions&&En.defaults.extensions.childTokens&&En.defaults.extensions.childTokens[r.type]?En.defaults.extensions.childTokens[r.type].forEach(function(o){t=t.concat(En.walkTokens(r[o],e))}):r.tokens&&(t=t.concat(En.walkTokens(r.tokens,e)))}return t},En.parseInline=function(n,e){if(typeof n>"u"||null===n)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof n)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");Hk(e=na({},En.defaults,e||{}));try{const t=hl.lexInline(n,e);return e.walkTokens&&En.walkTokens(t,e.walkTokens),Aa.parseInline(t,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+_i(t.message+"",!0)+"</pre>";throw t}},En.Parser=Aa,En.parser=Aa.parse,En.Renderer=Ku,En.TextRenderer=Zk,En.Lexer=hl,En.lexer=hl.lex,En.Tokenizer=Yv,En.Slugger=qk,En.parse=En;class QU extends G{constructor(e,t){super()}schedule(e,t=0){return this}}const Nm={setInterval(n,e,...t){const{delegate:r}=Nm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Nm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0},Xv={now:()=>(Xv.delegate||Date).now(),delegate:void 0};class Kf{constructor(e,t=Kf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Kf.now=Xv.now;const Kk=new class ej extends Kf{constructor(e,t=Kf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}(class JU extends QU{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Nm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Nm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,te(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),tj=Kk;function Yk(n=0,e,t=tj){let r=-1;return null!=e&&(wo(e)?t=e:r=e),new vt(o=>{let i=function nj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class rj extends tt{constructor(e=1/0,t=1/0,r=Xv){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=t.now();let a=0;for(let u=1;u<r.length&&r[u]<=s;u+=2)a=u;a&&r.splice(0,a+1)}}}const sj=["*"];let Qv=(()=>{class n{constructor(){this._buttonClick$=new tt,this.copied$=this._buttonClick$.pipe(mi(()=>di(_n(!0),Yk(3e3).pipe(_v(!1)))),dk(),function oj(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,bs({connector:()=>new rj(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(Q1(!1),Ae(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=ut({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(t,r){1&t&&(se(0,"button",0),at("click",function(){return r.onCopyToClipboardClick()}),Ca(1,"async"),qe(2),Ca(3,"async"),J()),2&t&&(Qa("copied",Sa(1,3,r.copied$)),Je(2),Is(Sa(3,5,r.copiedText$)))},dependencies:[eD],encapsulation:2,changeDetection:0}),n})();class cj{}var Yf=(()=>{return(n=Yf||(Yf={})).CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",Yf;var n})();class Xk{}const Qk=new on("SECURITY_CONTEXT");let Jv=(()=>{class n{constructor(t,r,o,i,s,a){this.platform=t,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_MARKED_OPTIONS={renderer:new Ku},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:this.DEFAULT_MARKED_OPTIONS,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new tt,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}parse(t,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,disableSanitizer:u}=r,f={...this.options,...r.markedOptions};a&&(this.renderer=this.extendRenderer(f.renderer||new Ku));const h=this.trimIndentation(t),y=o?this.decodeHtml(h):h,T=s?this.parseEmoji(y):y,M=this.parseMarked(T,f,i);return(u?M:this.sanitizer.sanitize(this.securityContext,M))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:u,mermaid:f,mermaidOptions:h}=r;i&&this.renderClipboard(t,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...u}),f&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(Ae(r=>this.handleExtension(t,r)))}highlight(t){if(!Ml(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Ml(this.platform))return t;const r=document.createElement("textarea");return r.innerHTML=t,r.value}extendRenderer(t){const r=t;if(!0===r.\u0275NgxMarkdownRendererExtended)return t;const o=t.code;return t.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,t}handleExtension(t,r){const o=t.lastIndexOf("://"),i=o>-1?t.substring(o+4):t,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",u=a.lastIndexOf("."),f=u>-1?a.substring(u+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(t,r,o=!1){return o?En.parseInline(t,r):En.parse(t,r)}parseEmoji(t){if(!Ml(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Ml(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,r)}}renderClipboard(t,r,o){if(!Ml(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=t.querySelectorAll("pre");for(let u=0;u<a.length;u++){const f=a.item(u),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const y=document.createElement("div");let T,M;y.style.position="absolute",y.style.top=".5em",y.style.right=".5em",y.style.opacity="0",y.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",y),f.onmouseover=()=>y.style.opacity="1",f.onmouseout=()=>y.style.opacity="0",T=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Qv).hostView,T.rootNodes.forEach(Y=>{Y.onmouseover=()=>y.style.opacity="1",y.appendChild(Y),M=new ClipboardJS(Y,{text:()=>f.innerText})}),T.onDestroy(()=>M.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Ml(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=t.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(t){if(!t)return"";let r;return t.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return n.\u0275fac=function(t){return new(t||n)(ee(ku),ee(Qk),ee(G_,8),ee(cj,8),ee(Xk,8),ee(V_))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),e0=(()=>{class n{constructor(t,r,o){this.element=t,this.markdownService=r,this.viewContainerRef=o,this.error=new Dn,this.load=new Dn,this.ready=new Dn,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this._srcRelativeLink=!1,this.destroyed$=new tt}get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get srcRelativeLink(){return this._srcRelativeLink}set srcRelativeLink(t){this._srcRelativeLink=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function ij(n){return q((e,t)=>{Pn(n).subscribe(_e(t,()=>t.complete(),V)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){let o;this.src&&this.srcRelativeLink&&(o={baseUrl:new URL(this.src,location.origin).pathname});const s={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=this.markdownService.parse(t,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,markedOptions:o,disableSanitizer:this.disableSanitizer});this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,s,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t),this.load.emit(t)},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Yf.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Yf.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(t,r){const o=t.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const u=this.toLispCase(s);o.item(i).setAttribute(u,a.toString())}})}toLispCase(t){const r=t.match(/([A-Z])/g);if(!r)return t;let o=t.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return n.\u0275fac=function(t){return new(t||n)(C(_t),C(Jv),C(Ri))},n.\u0275cmp=ut({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",srcRelativeLink:"srcRelativeLink",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Ao],ngContentSelectors:sj,decls:1,vars:0,template:function(t,r){1&t&&(Ft(),At(0))},encapsulation:2}),n})(),t0=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[Jv,t&&t.loader||[],t&&t.clipboardOptions||[],t&&t.markedOptions||[],{provide:Qk,useValue:t&&null!=t.sanitize?t.sanitize:Nr.HTML}]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({imports:[Ia]}),n})();var Jk;!function(n){let e;var o;let t,r;(o=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=n.LogLevel||(n.LogLevel={}))}(Jk||(Jk={}));var ae=P(3918);const yj="safari"in window,eT=!navigator.userAgent.match(/(crios)|(fxios)/i),ra=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,tT=!!navigator.userAgent.match(/android/i),_j=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var Vl=(()=>{return(n=Vl||(Vl={})).web="web",n.pwa="pwa",n.twa="twa",Vl;var n})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const wj=new Error("request for lock canceled");class Sj{constructor(e,t=wj){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,r)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:r}),this._dispatch()})}runExclusive(e,t=1){return function(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(h){try{f(r.next(h))}catch(y){s(y)}}function u(h){try{f(r.throw(h))}catch(y){s(y)}}function f(h){h.done?i(h.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(h.value).then(a,u)}f((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){const[r,o]=yield this.acquire(t);try{return yield e(r)}finally{o()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){const r=null===(e=this._weightedQueues[t-1])||void 0===e?void 0:e.shift();if(!r)continue;const o=this._value,i=t;this._value-=t,t=this._value+1,r.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)this._weightedWaiters[e-1]&&(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}}class Pa{constructor(e){this._semaphore=new Sj(1,e)}acquire(){return n=this,e=void 0,r=function*(){const[,e]=yield this._semaphore.acquire();return e},new((t=void 0)||(t=Promise))(function(i,s){function a(h){try{f(r.next(h))}catch(y){s(y)}}function u(h){try{f(r.throw(h))}catch(y){s(y)}}function f(h){h.done?i(h.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(h.value).then(a,u)}f((r=r.apply(n,e||[])).next())});var n,e,t,r}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Lm="cloudpilot-session-preview";function rT(){localStorage.removeItem(Lm)}function yo(){return(n,e,t)=>{const r=t.value;let o=!1;return t.value=(0,ae.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),t}}class ys{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}ys.\u0275fac=function(e){return new(e||ys)},ys.\u0275prov=gt({token:ys,factory:ys.\u0275fac,providedIn:"root"});class Hr{constructor(e,t){this.alertController=e,this.emulationState=t,this.emergencySaveEvent=new si.j}errorMessage(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.alertController.create({header:"Error",backdropDismiss:!1,message:e,buttons:[{text:"Close",role:"cancel"}],cssClass:"alert-error"})).present()})()}message(e,t,r={},o="Close"){var i=this;return(0,ae.Z)(function*(){const s=yield i.alertController.create({header:e,message:t,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var e=this;return(0,ae.Z)(function*(){const t=yield e.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield t.present(),yield t.onDidDismiss()})()}fatalError(e,t=!0){var r=this;return(0,ae.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${e}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&t?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&t?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${e}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Hr.\u0275fac=function(e){return new(e||Hr)(ee(Tc),ee(ys))},Hr.\u0275prov=gt({token:Hr,factory:Hr.\u0275fac,providedIn:"root"}),W([yo()],Hr.prototype,"updateAvailable",null),W([yo()],Hr.prototype,"fatalError",null),W([yo()],Hr.prototype,"errorInNativeCode",null);class Us{constructor(e,t){this.alertService=e,this.ngZone=t,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=r=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${r}.`),this.fatalInNativeCode=r=>this.fatalWithMessage(r.message,!0,!1),this.fatalWithMessage=(r,o=!0,i=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,o&&rT(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(r,i))}),this.fatalErrorEvent=new si.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}Us.\u0275fac=function(e){return new(e||Us)(ee(Hr),ee(pt))},Us.\u0275prov=gt({token:Us,factory:Us.\u0275fac,providedIn:"root"});var zr=(()=>{return(n=zr||(zr={})).cloudpilot="cloudpilot",n.fstools="fstools",n.vfs="vfs",n.none="none",zr;var n})();class Ra{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??zr.none}claim(e,t){this.assertOwnership(e,zr.none),this.ownershipMmap.set(e,t)}release(e,t){this.assertOwnership(e,t),this.ownershipMmap.delete(e)}assertOwnership(e,t){if(this.getOwner(e)===t)return;const r=t===zr.none?`Card alread claimed for ${this.getOwner(e)}.`:`Expected card ownership to be ${t}, but is ${this.getOwner(e)}.`;throw this.errorService.fatalBug(r),new Error(r)}transferOwnership(e,t,r){this.assertOwnership(e,t),this.ownershipMmap.set(e,r)}}Ra.\u0275fac=function(e){return new(e||Ra)(ee(Us))},Ra.\u0275prov=gt({token:Ra,factory:Ra.\u0275fac,providedIn:"root"});const jl="session",Yu="rom",Hl="memory",ml="state",$m="kvs",zl="memory-meta",Fa="storage",As="storage-card",Xf="lock";class Xu extends Error{constructor(e){super(e)}}function lr(n){return new Promise((e,t)=>{!function xj(n){return!!n.abort}(n)?n.onsuccess=()=>e(n.result):n.oncomplete=()=>e(void 0),n.onerror=()=>t(new Xu(n.error?.message))})}function iT(n){let e=255&n[0];e|=e<<8,e|=e<<16;for(let t=1;t<256;t++)if(n[t]!==e)return n;return 255&n[0]}function Aj(n){const e=n[0];for(let t=1;t<2048;t++)if(n[t]!==e)return n;return e}const Bm="session",r0="memory",Rj="memory-meta",Fj="storage",aT="storage-meta",lT="storage-card",Nj="storageId";function o0(){return(o0=(0,ae.Z)(function*(n,e){function t(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!e)throw new Error("no version change transaction!");const o=e.objectStore(Bm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value,f={...u,totalMemory:1024*u.ram*1024+t(u.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function s0(){return(s0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=e.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=t.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(t.put(r,"credentials"),t.delete("proxyCredentials"))})).apply(this,arguments)}function a0(){return(a0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");const t=n.createObjectStore(Rj,{keyPath:"sessionId"});n.createObjectStore(Fj),n.createObjectStore(aT,{keyPath:"id",autoIncrement:!0});const o=e.objectStore(Bm).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const u=a.value;void 0!==u.totalMemory&&(t.put({sessionId:u.id,totalSize:u.totalMemory}),delete u.totalMemory,a.update(u)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function l0(){return(l0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(aT).name=lT})).apply(this,arguments)}function c0(){return(c0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");e.objectStore(lT).createIndex(Nj,"storageId")})).apply(this,arguments)}function u0(){return(u0=(0,ae.Z)(function*(n,e){if(!e)throw new Error("no version change transaction!");n.createObjectStore("lock")})).apply(this,arguments)}var Gj=P(5023),Wj=P.n(Gj);const cT={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Vm;const Zj=new Uint8Array(16);function qj(){if(!Vm&&(Vm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Vm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Vm(Zj)}const vi=[];for(let n=0;n<256;++n)vi.push((n+256).toString(16).slice(1));const d0=function Kj(n,e,t){if(cT.randomUUID&&!e&&!n)return cT.randomUUID();const r=(n=n||{}).random||(n.rng||qj)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(let o=0;o<16;++o)e[t+o]=r[o];return e}return function uT(n,e=0){return(vi[n[e+0]]+vi[n[e+1]]+vi[n[e+2]]+vi[n[e+3]]+"-"+vi[n[e+4]]+vi[n[e+5]]+"-"+vi[n[e+6]]+vi[n[e+7]]+"-"+vi[n[e+8]]+vi[n[e+9]]+"-"+vi[n[e+10]]+vi[n[e+11]]+vi[n[e+12]]+vi[n[e+13]]+vi[n[e+14]]+vi[n[e+15]]).toLowerCase()}(r)},f0=new Error("page lock lost"),dT=new Error("version mismatch"),fT=d0();function _o(){return(n,e,t)=>{const r=t.value;return t.value=(0,ae.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof Xu?o.fatalIDBDead():i===dT?o.fatalVersionMismatch():i===f0?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),t}}class Qn{constructor(e,t,r){this.ngZone=e,this.errorService=t,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(Hl),u=o.objectStore(zl),f=new Uint32Array(256),h=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),u.put({sessionId:i,totalSize:s.length});const T=s.length>>>10;for(let M=0;M<T;M++){h.set(s.subarray(1024*M,1024*(M+1)));const Y=iT(f);if("number"==typeof Y)a.put(Y,[i,M]);else{const Se=new Uint32Array(256);Se.set(Y),a.put(Se,[i,M])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const s=o.objectStore(zl),a=yield lr(s.get(i));if(a)return new Promise(function(){var u=(0,ae.Z)(function*(f,h){const y=o.objectStore(Hl),T=new Uint32Array(a.totalSize>>>2),M=y.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));M.onsuccess=()=>{const Y=M.result;if(!Y)return f(new Uint8Array(T.buffer));const Se=Y.value,[,ze]=Y.key;"number"==typeof Se?T.subarray(256*ze,256*(ze+1)).fill(Se|Se<<8|Se<<16|Se<<24):T.subarray(256*ze,256*(ze+1)).set(1024===Se.length?new Uint32Array(Se.buffer):Se),Y.continue()},M.onerror=()=>h(new Xu(M.error?.message))});return function(f,h){return u.apply(this,arguments)}}())})),this.sessionChangeEvent=new si.j,this.storageCardChangeEvent=new si.j,this.sessionUpdateMutex=new Pa,this.db=this.requestPersistentStorage().then(()=>e.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(e,t,r,o){var i=this;return(0,ae.Z)(function*(){const s=Wj()(t),a=yield i.newTransaction(jl,Yu,ml,Hl,zl),u=a.objectStore(jl),f=a.objectStore(Yu);(yield lr(f.get(s)))||f.put(t,s);const{id:y,...T}=e,M=yield lr(u.add({...T,rom:s})),Y=yield lr(u.get(M));return r&&i.saveMemory(a,Y.id,r),o&&i.saveState(a,Y.id,o),yield lr(a),Y})()}getAllSessions(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(jl);return yield lr(t.getAll())})()}getSession(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(jl);return yield lr(r.get(e))})()}deleteSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(jl,Yu,ml,Hl,zl),o=r.objectStore(jl),i=r.objectStore(Yu);(e=yield lr(o.get(e.id)))&&(o.delete(e.id),0===(yield lr(o.index("rom").getAll(e.rom))).length&&i.delete(e.rom),t.deleteMemory(r,e.id),t.deleteState(r,e.id),yield lr(r),t.sessionChangeEvent.dispatch([e.id,void 0]))})()}updateSessionPartial(e,t){var r=this;return this.sessionUpdateMutex.runExclusive((0,ae.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...u}=t,[f,h]=yield r.prepareObjectStore(jl),y=yield lr(f.get(e));if(!y)throw new Error(`no session with id ${e}`);const T={...y,...u};f.put(T),yield lr(h),r.sessionChangeEvent.dispatch([y.id,T])}))}updateSession(e){var t=this;return this.sessionUpdateMutex.runExclusive((0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(jl),i=yield lr(r.get(e.id));if(!i)throw new Error(`no session with id ${e.id}`);if(i.rom!==e.rom)throw new Error("attempt to change ROM reference");if(i.ram!==e.ram)throw new Error("attempt to change RAM size");if(i.device!==e.device)throw new Error("attempt to change device type");r.put(e),yield lr(o),t.sessionChangeEvent.dispatch([e.id,e])}))}loadSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(Yu,ml,Hl,zl),o=r.objectStore(Yu);return[yield lr(o.get(e.rom)),yield t.loadMemory(r,e.id),yield t.loadState(r,e.id)]})()}deleteStateForSession(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore(ml);r.delete(e.id),yield lr(o)})()}addEmptyStorageCard(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(As),o=yield lr(r.add(e)),i=yield lr(r.get(o));return t.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(e,t){var r=this;return(0,ae.Z)(function*(){return r.ngZone.runOutsideAngular((0,ae.Z)(function*(){const o=yield r.newTransaction(As,Fa),i=o.objectStore(As),s=o.objectStore(Fa),a=yield lr(i.add(e)),u=(e.size>>>13)+(t.length%8192==0?0:1),f=new Uint32Array(2048);for(let y=0;y<u;y++){const T=t.subarray(2048*y,2048*(y+1));y===u-1&&f.set(T);const M=Aj(y===u-1?f:T);0!==M&&s.put("number"==typeof M?M:M?.slice(),[a,y])}const h=yield lr(i.get(a));return yield lr(o),r.storageCardChangeEvent.dispatch(h.id),h}))})()}getAllStorageCards(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore(As);return lr(t.getAll())})()}getCard(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore(As);return lr(r.get(e))})()}updateStorageCardPartial(e,t){var r=this;return(0,ae.Z)(function*(){const{storageId:o,size:i,id:s,...a}=t,[u,f]=yield r.prepareObjectStore(As),h=yield lr(u.get(e));if(!h)throw new Error(`no card with id ${e}`);const y={...h,...a};u.put(y),yield lr(f),r.storageCardChangeEvent.dispatch(e)})()}deleteStorageCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(As,Fa);t.storageCardContext.assertOwnership(e,zr.none);const o=r.objectStore(As),i=r.objectStore(Fa);o.delete(e),i.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),yield lr(r),t.storageCardChangeEvent.dispatch(e)})()}loadCardData(e,t,r){var o=this;return this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const i=yield o.newTransaction(As,Fa);o.storageCardContext.assertOwnership(e,r);const s=i.objectStore(Fa);yield new Promise(function(){var a=(0,ae.Z)(function*(u,f){const h=s.openCursor(IDBKeyRange.bound([e,0],[e+1,0],!1,!0));h.onsuccess=()=>{const y=h.result;if(!y)return u();let T=y.value;const[,M]=y.key;"number"==typeof T?t.subarray(2048*M,2048*(M+1)).fill(T):(2048*(M+1)>t.length&&(T=T.subarray(0,2048-2048*(M+1)+t.length)),t.subarray(2048*M,2048*(M+1)).set(T)),y.continue()},h.onerror=()=>f(new Xu(h.error?.message))});return function(u,f){return a.apply(this,arguments)}}())}))}updateCardData(e,t,r,o){var i=this;return this.ngZone.runOutsideAngular((0,ae.Z)(function*(){const s=yield i.newTransaction(As,Fa);i.storageCardContext.assertOwnership(e,o);const a=s.objectStore(As),u=s.objectStore(Fa),f=yield lr(a.get(e));if(!f)throw new Error(`no card with ID ${e}`);if(t.length!==f.size>>>2)throw new Error("data size mismatch");const h=(f.size>>>13)+(f.size%8192>0?1:0);if((h>>>3)+(h%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let y=0;for(let T=0;T<r.length;T++)for(let M=1;M<256&&!(y>=h);M<<=1)r[T]&M&&u.put(t.subarray(2048*y,2048*(y+1)).slice(),[f.id,y]),y++;yield lr(s)}))}kvsGet(e){var t=this;return(0,ae.Z)(function*(){const[r]=yield t.prepareObjectStore($m);return lr(r.get(e))})()}kvsSet(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore($m);for(const i of Object.keys(e))r.put(e[i],i);yield lr(o)})()}kvsLoad(){var e=this;return(0,ae.Z)(function*(){const[t]=yield e.prepareObjectStore($m);return new Promise((r,o)=>{const i={},s=t.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Xu(s.error?.message))})})()}kvsDelete(e){var t=this;return(0,ae.Z)(function*(){const[r,o]=yield t.prepareObjectStore($m);r.delete(e),yield lr(o)})()}acquireLock(e){var t=this;return(0,ae.Z)(function*(){if(t.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield lr(e.objectStore(Xf).get(0)))!==fT)throw e.abort(),e.db.close(),f0})()}newTransaction(...e){var t=this;return(0,ae.Z)(function*(){const r=(yield t.db).transaction([Xf,...e],"readwrite");return yield t.acquireLock(r),r})()}prepareObjectStore(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.newTransaction(e);return[r.objectStore(e),r]})()}saveState(e,t,r){const o=e.objectStore(ml);r?o.put(r,t):o.delete(t)}deleteState(e,t){e.objectStore(ml).delete(t)}loadState(e,t){return lr(e.objectStore(ml).get(t))}deleteMemory(e,t){const r=e.objectStore(Hl),o=e.objectStore(zl);r.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),o.delete(t)}initializeLock(e){return(0,ae.Z)(function*(){const t=e.transaction(Xf,"readwrite");yield lr(t.objectStore(Xf).put(fT,0))})()}setupDb(){var e=this;return(0,ae.Z)(function*(){const t=setTimeout(()=>ra&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(t),o&&void 0!==o.version&&o.version>9)throw dT}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new Xu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,ae.Z)(function*(u){clearTimeout(t),u.oldVersion<1&&function Lj(n){n.createObjectStore(Bm,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),n.createObjectStore("state")}(s.result),u.oldVersion<2&&function $j(n,e){if(!e)throw new Error("no version change transaction!");n.objectStoreNames.contains("rom")&&n.deleteObjectStore("rom"),n.objectStoreNames.contains(r0)&&n.deleteObjectStore(r0),e.objectStore(Bm).clear(),n.createObjectStore("rom"),n.createObjectStore(r0),n.createObjectStore("kvs")}(s.result,s.transaction),u.oldVersion<4&&(yield function Bj(n,e){return o0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<5&&(yield function Vj(n,e){return s0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<6&&(yield function Uj(n,e){return a0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<7&&(yield function jj(n,e){return l0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<8&&(yield function Hj(n,e){return c0.apply(this,arguments)}(s.result,s.transaction)),u.oldVersion<9&&(yield function zj(n,e){return u0.apply(this,arguments)}(s.result,s.transaction))});return function(u){return a.apply(this,arguments)}}()});return yield e.initializeLock(r),r}finally{clearTimeout(t)}})()}requestPersistentStorage(){return(0,ae.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(e){console.warn(e),console.log("failed to request persistent storage")}})()}}Qn.\u0275fac=function(e){return new(e||Qn)(ee(pt),ee(Us),ee(Ra))},Qn.\u0275prov=gt({token:Qn,factory:Qn.\u0275fac,providedIn:"root"}),W([_o()],Qn.prototype,"addSession",null),W([_o()],Qn.prototype,"getAllSessions",null),W([_o()],Qn.prototype,"getSession",null),W([_o()],Qn.prototype,"deleteSession",null),W([_o()],Qn.prototype,"updateSessionPartial",null),W([_o()],Qn.prototype,"updateSession",null),W([_o()],Qn.prototype,"loadSession",null),W([_o()],Qn.prototype,"deleteStateForSession",null),W([_o()],Qn.prototype,"addEmptyStorageCard",null),W([_o()],Qn.prototype,"importStorageCard",null),W([_o()],Qn.prototype,"getAllStorageCards",null),W([_o()],Qn.prototype,"getCard",null),W([_o()],Qn.prototype,"updateStorageCardPartial",null),W([_o()],Qn.prototype,"deleteStorageCard",null),W([_o()],Qn.prototype,"loadCardData",null),W([_o()],Qn.prototype,"kvsGet",null),W([_o()],Qn.prototype,"kvsSet",null),W([_o()],Qn.prototype,"kvsDelete",null),W([_o()],Qn.prototype,"newTransaction",null),W([_o()],Qn.prototype,"prepareObjectStore",null),W([_o()],Qn.prototype,"initializeLock",null),W([_o()],Qn.prototype,"setupDb",null);const pT={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};class Yo{constructor(e){var t=this;this.storageService=e,this.set=r=>this.storageMutex.runExclusive((0,ae.Z)(function*(){yield t.storageService.kvsSet(r);for(const o of Object.keys(r))t.rawKvs[o]=r[o];t.updateEvent.dispatch()})),this.updateEvent=new si.j,this.mutex=new Pa,this.storageMutex=new Pa,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,ae.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,ae.Z)(function*(){const t=e;try{const r={...pT,...yield e.storageService.kvsLoad()};e.rawKvs=r,e.kvsProxy=new Proxy(r,{set:(o,i,s)=>(o[i]=s,t.storageMutex.runExclusive(()=>t.storageService.kvsSet({[i]:s})),t.updateEvent.dispatch(),!0),deleteProperty:(o,i)=>(delete o[i],t.storageMutex.runExclusive(()=>t.storageService.kvsDelete(i)),t.updateEvent.dispatch(),!0)})}catch(r){console.error("failed to load KVS"),console.error(r),e.kvsProxy={...pT}}})()}}Yo.\u0275fac=function(e){return new(e||Yo)(ee(Qn))},Yo.\u0275prov=gt({token:Yo,factory:Yo.\u0275fac,providedIn:"root"});class xc{constructor(e,t){var r=this;this.kvsService=e,this.alertService=t,this.serviceWorkerKeepalive=(0,ae.Z)(function*(){if(navigator.serviceWorker)try{const o=yield navigator.serviceWorker.getRegistration();o?.active?.postMessage&&o.active.postMessage({})}catch{}setTimeout(r.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(ra||tT)&&this.installationMode===Vl.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return ra&&eT?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ra?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return ra&&eT?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':ra?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?Vl.pwa:document.referrer.startsWith("android-app://")?Vl.twa:window.matchMedia("(display-mode: standalone)").matches?Vl.pwa:Vl.web}}function rH(n,e){1&n&&(se(0,"div",6),dt(1,"ion-spinner"),J())}xc.\u0275fac=function(e){return new(e||xc)(ee(Yo),ee(Hr))},xc.\u0275prov=gt({token:xc,factory:xc.\u0275fac,providedIn:"root"});class gl{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}gl.\u0275fac=function(e){return new(e||gl)(C(gs))},gl.\u0275cmp=ut({type:gl,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.modalController.dismiss()}),qe(6,"Close"),J()()()(),se(7,"ion-content",3),an(8,rH,2,0,"div",4),se(9,"markdown",5),at("load",function(){return t.loading=!1}),J()()),2&e&&(Je(3),Is(t.title),Je(5),rt("ngIf",t.loading),Je(1),rt("src",t.url))},dependencies:[ii,e0,zi,Gi,Wi,Zi,Hf,Ki,Yi],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]});const Ac="1.7.13-796f156 (preview)";var Um=P(9897);const jm=((n,e)=>{let t=null;return()=>{if(null!==t)return t;const r=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(r);return t=(n=>{const e=new Map([[0,()=>{}]]),t=new Map([[0,()=>{}]]),r=new Map,o=new Worker(n);return o.addEventListener("message",({data:f})=>{if((n=>void 0!==n.method&&"call"===n.method)(f)){const{params:{timerId:h,timerType:y}}=f;if("interval"===y){const T=e.get(h);if("number"==typeof T){const M=r.get(T);if(void 0===M||M.timerId!==h||M.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof T<"u"))throw new Error("The timer is in an undefined state.");T()}}else if("timeout"===y){const T=t.get(h);if("number"==typeof T){const M=r.get(T);if(void 0===M||M.timerId!==h||M.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof T<"u"))throw new Error("The timer is in an undefined state.");T(),t.delete(h)}}}else{if(!(n=>null===n.error&&"number"==typeof n.id)(f)){const{error:{message:h}}=f;throw new Error(h)}{const{id:h}=f,y=r.get(h);if(void 0===y)throw new Error("The timer is in an undefined state.");const{timerId:T,timerType:M}=y;r.delete(h),"interval"===M?e.delete(T):t.delete(T)}}}),{clearInterval:f=>{const h=(0,Um.generateUniqueNumber)(r);r.set(h,{timerId:f,timerType:"interval"}),e.set(f,h),o.postMessage({id:h,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const h=(0,Um.generateUniqueNumber)(r);r.set(h,{timerId:f,timerType:"timeout"}),t.set(f,h),o.postMessage({id:h,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,h)=>{const y=(0,Um.generateUniqueNumber)(e);return e.set(y,()=>{f(),"function"==typeof e.get(y)&&o.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:y,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:y,timerType:"interval"}}),y},setTimeout:(f,h)=>{const y=(0,Um.generateUniqueNumber)(t);return t.set(y,f),o.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:y,timerType:"timeout"}}),y}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),t}})();var Gl=(()=>{return(n=Gl||(Gl={}))[n.animationFrame=0]="animationFrame",n[n.timeout=1]="timeout",Gl;var n})();class mT{constructor(e){this.callback=e}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(e=>{this.handle=void 0,this.callback(e)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Gl.animationFrame}}class cH{constructor(e,t=60){this.callback=e,this.fps=t}schedule(){if(void 0!==this.handle)return;const e=performance.now(),t=1e3*Math.ceil(e/1e3*this.fps)/this.fps;this.handle=((n,e)=>jm().setTimeout(n,e))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(t-e,0))}cancel(){var n;void 0!==this.handle&&(n=this.handle,jm().clearTimeout(n),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Gl.timeout}}const uH=[135,135,105],dH=[0,0,0],Wl=new Array(16).fill(0).map((n,e)=>dH.map((t,r)=>Math.floor((e*t+(15-e)*uH[r])/15))).map(([n,e,t])=>4278190080|t<<16|e<<8|n),p0=Wl.map(n=>"#"+(16777215&n).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var oe=(()=>{return(n=oe||(oe={})).palmPilot="PalmPilot",n.pilot="Pilot",n.iii="PalmIII",n.palmVx="PalmVx",n.palmV="PalmV",n.palmVII="PalmVII",n.palmVIIEZ="PalmVIIEZ",n.palmVIIx="PalmVIIx",n.iiic="PalmIIIc",n.iiix="PalmIIIx",n.iiixe="PalmIIIxe",n.iiie="PalmIIIe",n.m500="PalmM500",n.m505="PalmM505",n.m515="PalmM515",n.m520="PalmM520",n.m100="PalmM100",n.m105="PalmM105",n.m125="PalmM125",n.m130="PalmM130",n.i705="Palmi705",n.i710="PalmI710",n.handera330="HandEra330",n.handera330c="HandEra330c",n.pegS300="PEG-S300",n.pegS320="PEG-S320",n.pegS500c="PEG-S500C",n.pegT400="PEG-T400",n.pegN600c="PEG-N600C/N610C",n.pegT600c="PEG-T600",n.pegN700c="PEG-N700C/N710C",n.pegT650c="YSX1230",n.pegNR70="NR70",n.acerS11="Acer-S11",oe;var n})(),Zl=(()=>{return(n=Zl||(Zl={})).sdcard="sdcard",n.memorystick="memorystick",n.none="none",Zl;var n})();function Qf(n){switch(n){case oe.i710:case oe.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case oe.handera330:case oe.handera330c:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case oe.pegS300:case oe.pegS320:case oe.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case oe.pegT600c:case oe.pegT400:case oe.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case oe.pegN600c:case oe.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case oe.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case oe.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function h0(n){switch(n){case oe.pilot:case oe.palmPilot:case oe.iii:case oe.palmV:case oe.palmVx:case oe.iiix:case oe.iiixe:case oe.iiie:case oe.m100:case oe.m105:case oe.m125:case oe.m500:case oe.palmVII:case oe.palmVIIEZ:case oe.palmVIIx:case oe.i705:case oe.handera330:case oe.pegS300:case oe.pegS320:case oe.pegT400:case oe.acerS11:return!1;default:return!0}}function gT(n){switch(n){case oe.pilot:return"Pilot";case oe.palmPilot:return"Palm Pilot";case oe.iii:return"Palm III";case oe.m500:return"Palm m500";case oe.m505:return"Palm m505";case oe.m515:return"Palm m515";case oe.m520:return"Palm m520";case oe.palmVx:return"Palm Vx";case oe.iiix:return"Palm IIIx";case oe.iiixe:return"Palm IIIxe";case oe.iiie:return"Palm IIIe";case oe.palmV:return"Palm V";case oe.palmVII:return"Palm VII";case oe.palmVIIEZ:return"Palm VII EZ";case oe.palmVIIx:return"Palm VIIx";case oe.iiic:return"Palm IIIc";case oe.m100:return"Palm m100";case oe.m105:return"Palm m105";case oe.m125:return"Palm m125";case oe.m130:return"Palm m130";case oe.i705:return"Palm i705";case oe.i710:return"Tungsten W";case oe.handera330:return"Handera 330";case oe.handera330c:return"Handera 330c";case oe.pegS300:return"Sony PEG-S300";case oe.pegS320:return"Sony PEG-S320";case oe.pegT400:return"Sony PEG-T400 series";case oe.pegN600c:return"Sony PEG-N600C series";case oe.pegT600c:return"Sony PEG-T600C series";case oe.pegN700c:return"Sony PEG-N700C series";case oe.pegT650c:return"Sony PEG-T650C series";case oe.pegNR70:return"Sony PEG-NR70 series";case oe.pegS500c:return"Sony PEG-S500C series";case oe.acerS11:return"Acer S1x series";default:throw new Error("bad device ID")}}function yT(n){switch(n){case oe.m500:case oe.m505:case oe.m515:case oe.m520:case oe.m125:case oe.m130:case oe.i705:case oe.i710:case oe.handera330:case oe.handera330c:return Zl.sdcard;case oe.pegS300:case oe.pegS500c:case oe.pegS320:case oe.pegT400:case oe.pegN600c:case oe.pegT600c:case oe.pegN700c:case oe.pegT650c:case oe.pegNR70:case oe.acerS11:return Zl.memorystick;default:return Zl.none}}class _T{constructor(e,t){this.queue=new Array(e).fill(0),this.reset(t)}reset(e=0){this.next=1,this.size=1,this.queue[0]=e}push(e){return this.queue[this.next]=e,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let e=0;for(let t=0;t<this.size;t++)e+=this.queue[t];return e/this.size}}class hH{constructor(e){this.start=0,this.size=0,this.buffer=new Array(e)}push(e){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=e:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}pop(){if(0===this.size)return;const e=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,e}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(e){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=e),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class wH{constructor(){this.onPwmUpdate=e=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(e):this.pendingPwmUpdates.push(e)},this.advanceEmulation=e=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||e<this.clockEmulator)return;const t=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),e-this.clockEmulator>1e3/30&&(this.clockEmulator=e-1e3/30);const o=(e-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,u=performance.now()-i;if(this.clockEmulator+=Math.max(a,u),this.speedAverage.push(a/(u>0?u:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!t)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),h=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||h!==this.uiInitialized){const y=this.powerOff;this.powerOff=f,this.uiInitialized=h,y!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}h&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(e,s)},this.newFrameEvent=new si.j,this.pwmUpdateEvent=new si.j,this.emulationStateChangeEvent=new si.j,this.powerOffChangeEvent=new si.j,this.deviceId=oe.m515,this.clockEmulator=0,this.scheduler=new mT(e=>this.onSchedule(e)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new hH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new _T(20),this.timePerFrameAverage=new _T(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(e,t,r){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(r){const i=Qf(this.deviceId);e=this.transformSilkscreenX(e,i),t=this.transformSilkscreenY(t,i)}this.cloudpilotInstance.queuePenMove(Math.floor(e),Math.floor(t)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(e)}handleButtonUp(e){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(e)}handleKeyDown(e,t=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(e,t)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(e,t){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(e,t,r,o,i){let s=!1;return!!e.initializeSession(t,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=e.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&e.loadState(i),e.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),e.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=e,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=e.isPowerOff(),this.uiInitialized=e.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const e=Qf(this.deviceId);this.canvas.width=this.canvasTmp.width=e.width,this.canvas.height=this.canvasTmp.height=e.height;const t=this.canvas.getContext("2d");if(!t)throw new Error("get a new browser");this.context=t;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const e=this.timePerFrameAverage.calculateAverage();return e&&1e3/e}transformSilkscreenX(e,t){return void 0===t.silkscreenOvershoot?e:(e-t.width/2)/(t.width/(t.width+2*t.silkscreenOvershoot))+t.width/2}transformSilkscreenY(e,t){return void 0===t.siklscreenShift?e:e+t.siklscreenShift}setRunning(e){e!==this.running&&(this.running=e,this.emulationStateChangeEvent.dispatch(e))}updateEmulationSpeed(e){if(e>=1&&this.emulationSpeed>=1)return;const t=Math.min(Math.max(Math.floor(10*e)/10,.1),1);this.emulationSpeed=t<=this.emulationSpeed||e-t>=.05?t:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(e){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&e-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=e),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(e)},0)),this.timePerFrameAverage.push(Math.max(0,e-this.timestampLastFrame)),this.timestampLastFrame=e),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Gl.animationFrame?new mT(e=>this.onSchedule(e)):new cH(e=>this.onSchedule(e))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const e=this.getConfiguredHotsyncName();void 0===e?this.updateConfiguredHotsyncName(this.deviceHotsyncName):e!==this.deviceHotsyncName&&e.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(e),this.deviceHotsyncName=e)}clearCanvas(){const e=this.deviceId,t=Qf(e);this.context.beginPath(),this.context.rect(0,0,t.width,t.height),this.context.fillStyle=h0(e)?"white":p0[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const e=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!e.hasChanges)return;if(e.lines*e.scaleY===this.canvas.height&&e.lineWidth*e.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==e.lineWidth||this.imageData.height!==e.lines)&&(this.imageData=new ImageData(e.lineWidth,e.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(e.bpp){case 1:{const o=Wl[15],i=Wl[0];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=e.buffer[u+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[Wl[15&o],Wl[o>>>4&15],Wl[o>>>8&15],Wl[o>>>12&15]];let s=0;for(let a=e.firstDirtyLine;a<=e.lastDirtyLine;a++){const u=a*e.bytesPerLine;for(let f=e.margin;f<e.lineWidth+e.margin;f++)r[s++]=i[e.buffer[u+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=e.firstDirtyLine;i<=e.lastDirtyLine;i++){const s=i*e.bytesPerLine;for(let a=e.margin;a<e.lineWidth+e.margin;a++)r[o++]=Wl[e.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(e.buffer.buffer,e.buffer.byteOffset,e.buffer.byteLength>>>2);if(0===e.margin)r.subarray(0,e.lineWidth*(e.lastDirtyLine-e.firstDirtyLine+1)).set(o.subarray(e.firstDirtyLine*e.lineWidth,e.lineWidth*(e.lastDirtyLine+1)));else{let i=0;for(let s=e.firstDirtyLine;s<=e.lastDirtyLine;s++){let a=s*(e.bytesPerLine>>>2)+e.margin;for(let u=0;u<e.lineWidth;u++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const t=1!==e.scaleX||1!==e.scaleY;(t?this.contextTmp:this.context).putImageData(this.imageData,0,e.firstDirtyLine,0,0,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1),t&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,e.firstDirtyLine,e.lineWidth,e.lastDirtyLine-e.firstDirtyLine+1,0,e.firstDirtyLine*e.scaleY,e.lineWidth*e.scaleX,(e.lastDirtyLine-e.firstDirtyLine+1)*e.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class CH{constructor(e,t){this.timeoutRemaining=e,this.cb=t,this.onTimeout=()=>{const r=performance.now();if(this.timeoutRemaining-=r-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,e)}increase(e){this.timeoutRemaining+=e}cancel(){clearTimeout(this.handle)}}const DH=new Error("transaction timeout"),wT=new Error("session does not match emulation");class Oa{constructor(e,t,r,o,i){var s=this;this.storageService=e,this.emulationState=t,this.errorService=r,this.storageCardContext=o,this.ngZone=i,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,ae.Z)(function*(){try{yield s.triggerSnapshotUnguarded()}finally{s.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new si.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,t){var r=this;return(0,ae.Z)(function*(){r.errorService.hasFatalError()||(r.sessionId=e.id,r.dirtyPages=void 0,r.pages=void 0,r.state=void 0,r.db=yield r.storageService.getDb(),r.cloudpilot=t,r.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,ae.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(t){if(console.error("snapshot error",t),t===wT)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),t;if(t===f0)throw e.errorService.fatalPageLockLost(),t;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),t}})()}triggerSnapshotOnce(){var e=this;return(0,ae.Z)(function*(){const t=e.db.transaction([Hl,zl,ml,Fa,As,Xf],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(t),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw wT;let r;const o=e.cloudpilot.getMountedKey();o&&(r=yield lr(t.objectStore(As).index("storageId").get(o)));const i=yield new Promise((s,a)=>{let u=!1;const f=performance.now();let h=0,y=0,T=0,M=new CH(500,()=>{u=!0;try{t.abort()}catch{}a(DH)});t.oncomplete=(0,ae.Z)(function*(){M.cancel(),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),s({timestamp:Date.now(),pages:T,timeBlocking:y-h,timeTotal:performance.now()-f})}),t.onerror=()=>{M.cancel(),a(new Error(t.error?.message))};try{h=performance.now(),T=e.saveDirtyMemory(t,M),r&&(T+=e.saveDirtyStorage(r,t,M)),e.saveSession(t),y=performance.now()}catch(Y){throw u||(M.cancel(),t.abort()),Y}});e.snapshotEvent.dispatch(i)})()}saveDirtyMemory(e,t){let r=0;const o=e.objectStore(Hl),i=e.objectStore(zl),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let u=0;if(!this.dirtyPages||!this.pages){const h=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(h);for(let y=0;y<h;y++)this.pages[y]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let h=0;h<s.length;h++)if(this.dirtyPages[h]|=s[h],s[h]=0,0!==this.dirtyPages[h])for(let y=1;y<256&&!(r>=this.pages.length);y<<=1){if(this.dirtyPages[h]&y){const T=iT(a.subarray(256*r,256*(r+1)));"number"==typeof T?o.put(T,[this.sessionId,r]):(this.pages[r].set(T),o.put(this.pages[r],[this.sessionId,r])),t.increase(.5),u++}r++}else r+=8;return u}saveDirtyStorage(e,t,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,zr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,u=0;const f=t.objectStore(Fa),h=(i.length>>11)+(i.length%2048>0?1:0);for(let y=0;y<o.length;y++)if(this.cardDirtyPages[y]|=o[y],o[y]=0,0!==this.cardDirtyPages[y])for(let T=1;T<256&&!(s>=h);T<<=1){if(this.cardDirtyPages[y]&T){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const M=this.cardPagePool[a++];M.set(i.subarray(2048*s,2048*(s+1))),f.put(M,[e.id,s]),r.increase(4),u++}s++}else s+=8;return 8*u}saveSession(e){const t=e.objectStore(ml);if(this.cloudpilot.saveState()){const r=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(r.length)),this.state.set(r),t.put(this.state,this.sessionId)}else console.log("save state failed"),t.delete(this.sessionId)}}function IH(n,e){1&n&&(se(0,"p",11),qe(1," ERROR: URL must be served via HTTPS. "),J())}function kH(n){if(!n.value)return{url:"URL empty"};let e;try{e=new(Mu())(n.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==e.protocol?{url:"mixed content"}:null}Oa.\u0275fac=function(e){return new(e||Oa)(ee(Qn),ee(ys),ee(Us),ee(Ra),ee(pt))},Oa.\u0275prov=gt({token:Oa,factory:Oa.\u0275fac,providedIn:"root"});class Jf{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(Mu())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const t=new(Mu())(e);return"https:"===location.protocol&&"https:"!==t.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Yh({url:new ai("",kH)})}}function Hm(n){const e=new Date;return`${n}_${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}${e.getDate().toString().padStart(2,"0")}-${e.getHours().toString().padStart(2,"0")}${e.getMinutes().toString().padStart(2,"0")}${e.getSeconds().toString().padStart(2,"0")}`}function CT(n){return`${Hm(n.name)}.bin`}function ST(n,e){return`backup_${Hm(n.name)}${e?"_with_rom":""}.zip`}function m0(n,e=3){return 0===n.length?"":1===n.length?n[0]:`${n.slice(0,n.length>e?e:n.length-1).join(", ")} and ${n.length>e?n.length-e+" more files":n[n.length-1]}`}function ET(n){const{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=n;return{name:e,hotsyncName:t,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}Jf.\u0275fac=function(e){return new(e||Jf)},Jf.\u0275cmp=ut({type:Jf,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Enter download URL"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.continue()}),qe(6,"OK"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),qe(13," Please enter the URL from which to download: "),J(),se(14,"ion-item",7)(15,"ion-label",8),qe(16,"URL"),J(),dt(17,"ion-input",9),J(),an(18,IH,2,0,"p",10),se(19,"p"),qe(20," Note that the remote server needs to support the CORS protocol. "),J()()()),2&e&&(Je(5),rt("disabled",t.formGroup.invalid),Je(6),rt("formGroup",t.formGroup),Je(7),rt("ngIf",t.isMixedContent))},dependencies:[ii,zi,Gi,Wi,Zi,pl,Ko,qi,Ki,Yi,fl,al,il,sl,ta,ka],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]});class ep{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Yh({username:new ai(e?.username??""),password:new ai(e?.password??"")})}}ep.\u0275fac=function(e){return new(e||ep)(C(Yo))},ep.\u0275cmp=ut({type:ep,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Authenticate"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.saveAndContinue()}),qe(6,"OK"),J()(),se(7,"ion-buttons",3)(8,"ion-button",2),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",4)(11,"form",5),at("keydown",function(o){return t.formKeyDown(o)}),se(12,"p"),qe(13," The server requires authentication. "),J(),se(14,"ion-item",6)(15,"ion-label",7),qe(16,"Username"),J(),dt(17,"ion-input",8),J(),se(18,"ion-item",6)(19,"ion-label",7),qe(20,"Password"),J(),dt(21,"ion-input",9),J()()()),2&e&&(Je(11),rt("formGroup",t.formGroup))},dependencies:[zi,Gi,Wi,Zi,pl,Ko,qi,Ki,Yi,fl,al,il,sl,ta,ka],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]});class Pc{constructor(e,t,r){this.loadingController=e,this.kvsService=t,this.modalController=r}fetch(e,t){var r=this;return(0,ae.Z)(function*(){let o=t?.loaderDelay;const i=void 0===t?.timeout?5e3:t?.timeout,s=new(Mu())("string"==typeof e?e:e.url);let a,u,f=!1;for(;;)try{void 0!==o&&o>=0&&!a&&(a=yield r.loadingController.create({message:"Loading..."}),u=window.setTimeout(()=>a.present(),o));const h=r.kvsService.kvs.credentials[s.origin],y=new AbortController,T=window.setTimeout(()=>y.abort(),i),M=yield fetch(e,{...r.requestInit(t),signal:y.signal,headers:{...t?.headers||{},...f&&h?{Authorization:"Basic "+btoa(`${h.username}:${h.password}`)}:{}}});if(clearTimeout(T),401===M.status){if(!f&&h){f=!0;continue}if(a&&(a.dismiss(),clearTimeout(u),o=0,a=void 0),f=!0,yield r.authenticate(s.origin))continue}return M}finally{a&&(yield a.dismiss()),clearTimeout(u)}})()}requestInit(e){if(!e)return;const{timeout:t,loaderDelay:r,...o}=e;return o}authenticate(e){var t=this;return(0,ae.Z)(function*(){const r=yield new Promise(o=>t.modalController.create({component:ep,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>o(!0),onCancel:()=>o(!1)}}).then(i=>i.present()));return t.modalController.dismiss(),r})()}}Pc.\u0275fac=function(e){return new(e||Pc)(ee($l),ee(Yo),ee(gs))},Pc.\u0275prov=gt({token:Pc,factory:Pc.\u0275fac,providedIn:"root"});var xH=P(3272),AH=P.n(xH);function g0(n){const e=(n>>>13)+(n%8192>0?1:0);return(e>>>3)+(e%8>0?1:0)}const DT=[oe.palmPilot,oe.pilot,oe.iii,oe.palmVx,oe.palmV,oe.palmVII,oe.palmVIIEZ,oe.palmVIIx,oe.iiixe,oe.iiix,oe.iiie,oe.m500,oe.m505,oe.m515,oe.m520,oe.iiic,oe.m100,oe.m105,oe.m125,oe.m130,oe.i705,oe.i710,oe.handera330,oe.handera330c,oe.pegS300,oe.pegS320,oe.pegS500c,oe.pegT400,oe.pegN600c,oe.pegT600c,oe.pegN700c,oe.pegT650c,oe.pegNR70,oe.acerS11];function sn(){return(n,e,t)=>{const r=t.value;return t.value=function(o,i){return this.guard(()=>r.call(this,o,i))},t}}class Gt{constructor(e){this.module=e,this.fatalErrorEvent=new si.j,this.pwmUpdateEvent=new si.j,this.proxyDisconnectEvent=new si.j,this.amIdead=!1,this.cloudpilot=new e.Cloudpilot,this.cloudpilot.RegisterPwmHandler(e.addFunction((t,r)=>this.pwmUpdateEvent.dispatch({frequency:t,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(e.addFunction(t=>this.proxyDisconnectEvent.dispatch(e.UTF8ToString(t)),"vi"))}static create(e){return(0,ae.Z)(function*(){return new Gt(yield AH()({print:t=>console.log(t),printErr:t=>console.error(t),...void 0!==e?{locateFile:()=>e}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(e){const t=this.copyIn(e),r=new this.module.RomInfo(t,e.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:DT.filter(r.Supports.bind(r))}),this.cloudpilot.Free(t),this.module.destroy(r),o}initializeSession(e,t){const r=this.copyIn(e),o=this.cloudpilot.InitializeSession(r,e.length,t);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(e){return this.cloudpilot.RunEmulation(e)}getFrame(){const e=this.cloudpilot.CopyFrame(),t=this.module.getPointer(e.GetBuffer());return{bpp:e.GetBpp(),bytesPerLine:e.GetBytesPerLine(),lines:e.GetLines(),lineWidth:e.GetLineWidth(),margin:e.GetMargin(),firstDirtyLine:e.GetFirstDirtyLine(),lastDirtyLine:e.GetLastDirtyLine(),hasChanges:e.GetHasChanges(),scaleX:e.GetScaleX(),scaleY:e.GetScaleY(),buffer:this.module.HEAPU8.subarray(t,t+e.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(e){return 1024*this.cloudpilot.MinMemoryForDevice(e)}framebufferSizeForDevice(e){return 1024*this.cloudpilot.FramebufferSizeForDevice(e)}totalMemorySizeForDevice(e){return 1024*this.cloudpilot.TotalMemoryForDevice(e)}queuePenMove(e,t){this.cloudpilot.QueuePenMove(e,t)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(e){this.cloudpilot.QueueButtonDown(e)}queueButtonUp(e){this.cloudpilot.QueueButtonUp(e)}queueKeyboardEvent(e,t){this.cloudpilot.QueueKeyboardEvent(e,t)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(e){const t=this.copyIn(e),r=this.cloudpilot.InstallDb(t,e.length);return this.cloudpilot.Free(t),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetMemorySize())}getMemory32(){let e=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&e)throw new Error("unaligned pointer");return e>>>=2,this.module.HEAPU32.subarray(e,e+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const e=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),t=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(e,e+((t>>>13)+(t%8192==0?0:1)))}loadMemory(e){const t=this.getMemory32();if((()=>{if(e.length!==t.length||e.length<256)return!1;for(let o=256;o>0;o--){if(e[e.length-o]!==t[t.length-o])return!1;if(4294967295===t[t.length-o])break}return!0})())return t.set(e),!0;{const o=this.copyIn32(e),i=this.cloudpilot.ImportMemoryImage(o,e.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const e=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetRomSize())}getSavestate(){const e=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(e,e+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(e){const t=this.copyIn(e),r=this.cloudpilot.LoadState(t,e.length);return this.cloudpilot.Free(t),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(e){this.cloudpilot.SetClockFactor(e)}setHotsyncName(e){this.cloudpilot.SetHotsyncName(e)}backup(e){var t=this;return(0,ae.Z)(function*(){const r=t.guard(()=>t.cloudpilot.StartBackup());try{return yield e(t.wrap(r))}finally{t.module.destroy(r)}})()}getArchive(e){const t=e.GetArchiveSize();return this.copyOut(e.GetArchivePtr(),t)}setClipboardIntegration(e){this.cloudpilot.SetClipboardIntegration(e)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(e){this.cloudpilot.SetNetworkRedirection(e)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(e){return this.copyIn(e)}freeBuffer(e){this.cloudpilot.Free(e)}setHotsyncNameManagement(e){this.cloudpilot.SetHotsyncNameManagement(e)}resolveBuffer(e,t){const r=this.module.getPointer(e);return this.module.HEAPU8.subarray(r,r+t)}withZipfileWalker(e,t){var r=this;return(0,ae.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(e),s=new r.module.ZipfileWalker(e.length,i);return r.cloudpilot.Free(i),s});try{return yield t(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(e,t){const r=this.guard(()=>{const o=this.copyIn(e),i=new this.module.ZipfileWalker(e.length,o);return this.cloudpilot.Free(o),i});try{return t(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(e){const t=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(e.rom),i=e.memory?this.copyIn(e.memory):r,s=void 0!==e.savestate?this.copyIn(e.savestate):r;let a=r,u=0;if(void 0!==e.metadata){const h=(new TextEncoder).encode(JSON.stringify(e.metadata));u=h.length,a=this.copyIn(h)}t.SetRomImage(o,e.rom.length),t.SetMemoryImage(i,e.memory?.length||0),t.SetDeviceId(e.deviceId),t.SetSavestate(s,e.savestate?.length||0),t.SetMetadata(a,u);const f=t.Serialize()?this.copyOut(t.GetSerializedImage(),t.GetSerializedImageSize()):void 0;return this.module.destroy(t),[o,i,s,a].forEach(h=>this.cloudpilot.Free(h)),f}deserializeSessionImage(e){const t=new this.module.SessionImage,r=this.copyIn(e),o=(()=>{if(!t.Deserialize(r,e.length))return;const i=this.copyOut(t.GetRomImage(),t.GetRomImageSize()),s=this.copyOut(t.GetMemoryImage(),t.GetMemoryImageSize()),a=this.copyOut(t.GetSavestate(),t.GetSavestateSize()),u=t.GetDeviceId();if(!DT.includes(u))return void console.warn(`unsupported device ${u}`);let f;const h=this.copyOut(t.GetMetadata(),t.GetMetadataSize());if(h)try{f=JSON.parse((new TextDecoder).decode(h))}catch(y){console.warn("invalid metadata",y)}return{deviceId:u,rom:i,memory:s,savestate:a,metadata:f,version:t.GetVersion()}})();return this.module.destroy(t),this.cloudpilot.Free(r),o}launchAppByName(e){return this.cloudpilot.LaunchAppByName(e)}launchAppByDbHeader(e){if(e.length<32)return!1;const t=this.copyIn(e.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(t,32);return this.cloudpilot.Free(t),r}deviceSupportsCardSize(e){return this.cloudpilot.DeviceSupportsCardSize(e)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(e,t){return this.cloudpilot.AllocateCard(e,t>>>9)}getCardData(e){const t=this.module.getPointer(this.cloudpilot.GetCardData(e));if(0!==t)return this.module.HEAPU32.subarray(t>>>2,t+this.cloudpilot.GetCardSize(e)>>2)}getCardDirtyPages(e){const t=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(e));if(0===t)return;const r=g0(this.cloudpilot.GetCardSize(e));return this.module.HEAPU8.subarray(t,t+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(e){return this.cloudpilot.MountCard(e)}removeCard(e){return this.cloudpilot.RemoveCard(e)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(e){return this.cloudpilot.GetSupportLevel(e)}copyIn(e){const t=this.cloudpilot.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}copyIn32(e){const t=this.cloudpilot.Malloc(e.length<<2),r=this.module.getPointer(t);return this.module.HEAPU32.subarray(r>>>2,(r>>>2)+e.length).set(e),t}copyOut(e,t){const r=this.module.getPointer(e);return r>0&&t>0?this.module.HEAPU8.subarray(r,r+t).slice():void 0}wrap(e){return new Proxy(e,{get:(t,r)=>{const o=t[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(t,i))}})}guard(e){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return e()}catch(t){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(t instanceof Error?t:new Error("unknown error")),t}}}W([sn()],Gt.prototype,"getRomInfo",null),W([sn()],Gt.prototype,"initializeSession",null),W([sn()],Gt.prototype,"cyclesPerSecond",null),W([sn()],Gt.prototype,"runEmulation",null),W([sn()],Gt.prototype,"getFrame",null),W([sn()],Gt.prototype,"isScreenDirty",null),W([sn()],Gt.prototype,"markScreenClean",null),W([sn()],Gt.prototype,"minRamForDevice",null),W([sn()],Gt.prototype,"framebufferSizeForDevice",null),W([sn()],Gt.prototype,"totalMemorySizeForDevice",null),W([sn()],Gt.prototype,"queuePenMove",null),W([sn()],Gt.prototype,"queuePenUp",null),W([sn()],Gt.prototype,"queueButtonDown",null),W([sn()],Gt.prototype,"queueButtonUp",null),W([sn()],Gt.prototype,"queueKeyboardEvent",null),W([sn()],Gt.prototype,"isPowerOff",null),W([sn()],Gt.prototype,"isUiInitialized",null),W([sn()],Gt.prototype,"isSetupComplete",null),W([sn()],Gt.prototype,"getOSVersion",null),W([sn()],Gt.prototype,"reset",null),W([sn()],Gt.prototype,"resetNoExtensions",null),W([sn()],Gt.prototype,"resetHard",null),W([sn()],Gt.prototype,"installDb",null),W([sn()],Gt.prototype,"getPalette2bitMapping",null),W([sn()],Gt.prototype,"getMemory",null),W([sn()],Gt.prototype,"getMemory32",null),W([sn()],Gt.prototype,"getDirtyPages",null),W([sn()],Gt.prototype,"loadMemory",null),W([sn()],Gt.prototype,"getRomImage",null),W([sn()],Gt.prototype,"getSavestate",null),W([sn()],Gt.prototype,"saveState",null),W([sn()],Gt.prototype,"loadState",null),W([sn()],Gt.prototype,"getHotsyncName",null),W([sn()],Gt.prototype,"setClockFactor",null),W([sn()],Gt.prototype,"setHotsyncName",null),W([sn()],Gt.prototype,"setClipboardIntegration",null),W([sn()],Gt.prototype,"getClipboardIntegration",null),W([sn()],Gt.prototype,"isSuspended",null),W([sn()],Gt.prototype,"getSuspendKind",null),W([sn()],Gt.prototype,"cancelSuspend",null),W([sn()],Gt.prototype,"getSuspendContextClipboardCopy",null),W([sn()],Gt.prototype,"getSuspendContextClipboardPaste",null),W([sn()],Gt.prototype,"setNetworkRedirection",null),W([sn()],Gt.prototype,"getNetworkRedirection",null),W([sn()],Gt.prototype,"getSuspendContextNetworkConnect",null),W([sn()],Gt.prototype,"getSuspendContextNetworkRpc",null),W([sn()],Gt.prototype,"copyBuffer",null),W([sn()],Gt.prototype,"freeBuffer",null),W([sn()],Gt.prototype,"setHotsyncNameManagement",null),W([sn()],Gt.prototype,"resolveBuffer",null),W([sn()],Gt.prototype,"serializeSessionImage",null),W([sn()],Gt.prototype,"deserializeSessionImage",null),W([sn()],Gt.prototype,"launchAppByName",null),W([sn()],Gt.prototype,"launchAppByDbHeader",null),W([sn()],Gt.prototype,"deviceSupportsCardSize",null),W([sn()],Gt.prototype,"clearExternalStorage",null),W([sn()],Gt.prototype,"allocateCard",null),W([sn()],Gt.prototype,"getCardData",null),W([sn()],Gt.prototype,"getCardDirtyPages",null),W([sn()],Gt.prototype,"getMountedKey",null),W([sn()],Gt.prototype,"mountCard",null),W([sn()],Gt.prototype,"removeCard",null),W([sn()],Gt.prototype,"remountCards",null),W([sn()],Gt.prototype,"getCardSupportLevel",null);class Xi{constructor(){this.cloudpilot=Gt.create()}}Xi.\u0275fac=function(e){return new(e||Xi)},Xi.\u0275prov=gt({token:Xi,factory:Xi.\u0275fac,providedIn:"root"});class Ps{constructor(e,t,r,o,i,s,a,u){this.storageService=e,this.loadingController=t,this.actionSheetController=r,this.kvsService=o,this.modalController=i,this.alertService=s,this.fetchService=a,this.cloudpilotService=u}openFile(e){this.openFilesImpl(!1,t=>{t.length>0&&e(t[0])})}openFiles(e){this.openFilesImpl(!0,e)}openFromDrop(e,t){"drop"!==e.type||!e.dataTransfer?.files||t(Array.from(e.dataTransfer.files).map(this.readFile.bind(this)))}saveSession(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Exporting..."});yield r.present();try{const[o,i,s]=yield t.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);const a={deviceId:e.device,metadata:ET(e),rom:o,memory:i,savestate:s},u=(yield t.cloudpilotService.cloudpilot).serializeSessionImage(a);u?t.saveFile(CT(e),u):(yield r.dismiss(),t.alertService.errorMessage("Failed to save session."))}finally{r.dismiss()}})()}emergencySaveSession(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});o.style.zIndex="10000000",yield o.present();try{const i=t.getRomImage().slice(),s=t.getMemory().slice(),a=t.saveState()?t.getSavestate().slice():void 0;if(t.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const f={deviceId:e.device,metadata:ET(e),rom:i,memory:s,savestate:a},h=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(f);h&&r.saveFile(CT(e),h)}finally{o.dismiss()}})()}saveFile(e,t){const r=new Blob([t],{type:"application/octet-stream"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=e,i.click()}openUrl(e,t){var r=this;return(0,ae.Z)(function*(){let o;try{o=new(Mu())(e)}catch{return void(yield r.alertService.errorMessage(`Invalid URL: ${e}`))}try{const i=yield r.fetchService.fetch(e);if(!i.ok)throw new Error("request failed");const s=i.arrayBuffer().then(a=>new Uint8Array(a));return void t({name:o.pathname.replace(/.*\//,""),getContent:()=>s})}catch{yield r.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,t){var r=this;return(0,ae.Z)(function*(){r.kvsService.kvs.enableRemoteInstall?(yield r.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>r.openFilesLocal(e,t)},{text:"File on remote server",handler:()=>r.queryAndOpenFileRemote(t)},{text:"Cancel"}]})).present():r.openFilesLocal(e,t)})()}queryAndOpenFileRemote(e){var t=this;return(0,ae.Z)(function*(){let r;try{r=yield new Promise((o,i)=>t.modalController.create({component:Jf,backdropDismiss:!1,componentProps:{onContinue:o,onCancel:i}}).then(s=>s.present()))}catch{return}finally{t.modalController.dismiss()}yield t.openUrl(r,o=>e([o]))})()}openFilesLocal(e,t){var r=this;this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,ae.Z)(function*(i){const s=i.target;s?.files&&t(Array.from(s.files).map(r.readFile.bind(r)))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}readFile(e){let t,r=function(){var o=(0,ae.Z)(function*(){return t||(t=new Promise((i,s)=>{const a=new FileReader;a.onload=()=>i(new Uint8Array(a.result)),a.onerror=()=>{console.warn(a.error),s(a.error)},a.readAsArrayBuffer(e)}),t)});return function(){return o.apply(this,arguments)}}();return{name:e.name,getContent:r}}}Ps.\u0275fac=function(e){return new(e||Ps)(ee(Qn),ee($l),ee(qf),ee(Yo),ee(gs),ee(Hr),ee(Pc),ee(Xi))},Ps.\u0275prov=gt({token:Ps,factory:Ps.\u0275fac,providedIn:"root"});class ql{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new si.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}ql.\u0275fac=function(e){return new(e||ql)(ee(pt))},ql.\u0275prov=gt({token:ql,factory:ql.\u0275fac,providedIn:"root"});const zm=new Error("permission denied");class Rc{constructor(e,t){this.alertController=e,this.alertService=t,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var t=this;return(0,ae.Z)(function*(){const r=e.getSuspendContextClipboardCopy(),o=r.GetClipboardContent();try{return yield t.tryCopyDirect(o),void r.Resume()}catch(i){if(i===zm)return r.Cancel(),t.msgPermissionDenied()}try{yield t.tryCopyWithInteraction(o),r.Resume()}catch{yield t.msgCopyFailed(),r.Cancel()}})()}tryCopyDirect(e){var t=this;return(0,ae.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(r){throw(yield t.isPermissionDenied("clipboard-write"))?zm:r}})()}tryCopyWithInteraction(e){var t=this;return new Promise(function(){var r=(0,ae.Z)(function*(o,i){try{const s=yield t.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(a=(0,ae.Z)(function*(){s.dismiss();try{yield navigator.clipboard.writeText(e),o(!0)}catch(u){i(u)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(!1)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePaste(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.tryPaste();e.getSuspendContextClipboardPaste().Resume(r??""),void 0!==r&&(t.clipboardContent=r,t.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,ae.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(t){if(t===zm)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,ae.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(t){throw(yield e.isPermissionDenied("clipboard-read"))?zm:t}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var t=(0,ae.Z)(function*(r,o){try{const i=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(s=(0,ae.Z)(function*(){i.dismiss();try{r(yield navigator.clipboard.readText())}catch(a){o(a)}}),function(){return s.apply(this,arguments)})},{text:"Cancel",handler:()=>{i.dismiss(),r(void 0)}}]});i.present()}catch(i){o(i)}var s});return function(r,o){return t.apply(this,arguments)}}())}handlePasteSafari(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(o=(0,ae.Z)(function*(){try{t.clipboardContent=yield navigator.clipboard.readText(),t.lastClipboardReadAt=performance.now(),r.dismiss(),e.Resume(t.clipboardContent)}catch{r.dismiss(),yield t.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return o.apply(this,arguments)})},{text:"Cancel",handler:()=>{r.dismiss(),e.Resume("")}}]});var o;yield r.present()})()}isPermissionDenied(e){return(0,ae.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}Rc.\u0275fac=function(e){return new(e||Rc)(ee(Tc),ee(Hr))},Rc.\u0275prov=gt({token:Rc,factory:Rc.\u0275fac,providedIn:"root"});const RH="https:"===window.location.protocol?8667:8666,FH=/^[\da-z\-\.]+$/i,OH=/^[\da-z\-\.]+:\d+$/i;function y0(n){if(!n)return;const e=window.location.protocol;if(n.match(FH))return`${e}//${n}:${RH}`;if(n.match(OH))return`${e}//${n}`;try{const t=new URL(n);if("https:"===t.protocol||"http:"===t.protocol)return t.toString().replace(/\/+$/,"")}catch{}}function NH(n){return void 0!==y0(n.value)?null:{proxyAddress:"invalid"}}class Kl{constructor(e,t,r,o){var i=this;this.kvsService=e,this.alertService=t,this.ngZone=r,this.fetchService=o,this.handleConnect=()=>this.mutex.runExclusive((0,ae.Z)(function*(){i.socket&&i.disconnect(i.socket);const s=y0(i.kvsService.kvs.proxyServer);if(!s)return yield i.alertService.errorMessage(`Invalid proxy address: ${i.kvsService.kvs.proxyServer}`),void i.cloudpilot.getSuspendContextNetworkConnect().Cancel();const a=yield i.handshake(void 0,500);switch(a.status){case"failed":return void i.onSocketError(void 0);case"version_mismatch":return yield i.alertService.proxyVersionMismatchError(),void i.cancelSuspend();case"success":break;default:throw new Error("unreachable")}i.socket=new WebSocket(`${s.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(a.token)}`),i.socket.binaryType="arraybuffer",i.bindListeners(i.socket),i.ngZone.run(()=>i.connectTimeoutHandle=setTimeout(i.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=d0(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=s=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(s.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const a=this.cloudpilot.copyBuffer(new Uint8Array(s.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(a,s.data.byteLength),this.cloudpilot.freeBuffer(a),this.resumeEvent.dispatch()},this.onSocketError=s=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",s)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=s=>{s!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new si.j,this.mutex=new Pa,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,t=-1){var r=this;return(0,ae.Z)(function*(){const o=y0(e);if(!o)return{status:"failed"};try{const i=yield r.fetchService.fetch(`${o}/network-proxy/handshake`,{method:"POST",loaderDelay:t});if(!i.ok)return{status:"failed"};const s=yield i.json();return s.version<3||s.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:s.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){e&&(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}Kl.\u0275fac=function(e){return new(e||Kl)(ee(Yo),ee(Hr),ee(pt),ee(Pc))},Kl.\u0275prov=gt({token:Kl,factory:Kl.\u0275fac,providedIn:"root"});class Fc{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(t=>e.queueButtonUp(t))}engage(e){this.cloudpilot&&(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[t,r]of this.buttons)r.timer+=1e3*e,r.timer>250&&(this.cloudpilot.queueButtonUp(t),this.buttons.delete(t))}}Fc.\u0275fac=function(e){return new(e||Fc)},Fc.\u0275prov=gt({token:Fc,factory:Fc.\u0275fac,providedIn:"root"});class Oc{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}Oc.\u0275fac=function(e){return new(e||Oc)},Oc.\u0275prov=gt({token:Oc,factory:Oc.\u0275fac,providedIn:"root"});var VH=P(9084),kT=P.n(VH);function _0(){return(_0=(0,ae.Z)(function*(n){const e=yield v0.create();if(e.mkfs(n))return e.getImage()})).apply(this,arguments)}const TT="fstools_web.wasm",MT=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(TT)):fetch(TT).then(n=>n.arrayBuffer()).then(n=>WebAssembly.compile(n));class v0{constructor(e){this.module=e,this.nativeContext=new e.MkfsContext}static create(){return(0,ae.Z)(function*(){return new v0(yield kT()({print:e=>console.log(e),printErr:e=>console.error(e),instantiateWasm:(e=(0,ae.Z)(function*(t,r){return r(yield WebAssembly.instantiate(yield MT,t))}),function(r,o){return e.apply(this,arguments)})}));var e})()}mkfs(e){return this.nativeContext.Mkfs(e,"card")}getImage(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());if(0!==e&&0!==t)return this.module.HEAPU32.subarray(t>>>2,t+e>>>2)}}class Gm{constructor(e,t){this.module=e,this.result=0,this.nativeContext=new e.FsckContext(t>>>9)}static create(e){return(0,ae.Z)(function*(){const t=yield kT()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,ae.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield MT,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new Gm(t,e)})()}getImageData(){const e=this.nativeContext.GetImageSize(),t=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(t>>>2,t+e>>2)}getDirtyPages(){const e=this.module.getPointer(this.nativeContext.GetDirtyPages()),t=g0(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(e,e+t)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(e){return console.warn("fsck failed",e),this.result=4,this.result}}getResult(){return this.result}}var Tr=(()=>{return(n=Tr||(Tr={})).dirty="dirty",n.clean="clean",n.unformatted="unformatted",n.unfixable="unfixable",Tr;var n})(),br=(()=>{return(n=br||(br={})).portrait="portrait",n.landscape90="landscape90",n.landscape270="landscape270",n.portrait180="portrait180",br;var n})();class Na{constructor(e,t,r){this.cloudpilotService=e,this.storageService=t,this.loadingController=r,this.sessions=[],this.loading=!0,this.updateMutex=new Pa,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,t,r={}){var o=this;return(0,ae.Z)(function*(){const i={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:br.portrait,...r,id:-1,name:t,device:e.deviceId,ram:(yield o.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},s=yield o.loadingController.create({message:"Importing..."});yield s.present();const a=yield o.storageService.addSession(i,e.rom,e.memory,e.savestate);return yield o.updateSessionsFromStorage(),yield s.dismiss(),a})()}addSessionFromRom(e,t,r,o={}){var i=this;return(0,ae.Z)(function*(){const s={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:br.portrait,...o,id:-1,name:t,device:r,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(r)/1024/1024,rom:""},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const u=yield i.storageService.addSession(s,e);return yield i.updateSessionsFromStorage(),yield a.dismiss(),u})()}getSessions(){return this.sessions}deleteSession(e){var t=this;return(0,ae.Z)(function*(){yield t.storageService.deleteSession(e)})()}updateSession(e){var t=this;return(0,ae.Z)(function*(){yield t.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,ae.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,ae.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}}Na.\u0275fac=function(e){return new(e||Na)(ee(Xi),ee(Qn),ee($l))},Na.\u0275prov=gt({token:Na,factory:Na.\u0275fac,providedIn:"root"});var jH=P(7971),HH=P.n(jH),js=(()=>{return(n=js||(js={}))[n.success=0]="success",n[n.zipfileError=1]="zipfileError",n[n.ioError=2]="ioError",n[n.cardFull=3]="cardFull",js;var n})();function zH(n){return{readonly:0!=(1&n),hidden:0!=(2&n),system:0!=(4&n)}}function xT(n,e){const t=n.GetName(),r=n.GetModifiedTS();return{path:e,name:t,size:n.GetSize(),lastModifiedTS:r,lastModifiedLocalDate:new Date(1e3*r).toLocaleDateString(),isDirectory:n.IsDirectory(),attributes:zH(n.GetAttributes())}}class w0{constructor(e){this.module=e,this.vfsNative=new e.Vfs}static create(){return(0,ae.Z)(function*(){return new w0(yield HH()({print:e=>console.log(e),printErr:e=>console.error(e)}))})()}allocateImage(e){this.vfsNative.AllocateImage(e>>>9)}mountImage(e){return this.vfsNative.MountImage(e)}unmountImage(e){this.vfsNative.UnmountImage(e)}getPendingImage(){const e=this.module.getPointer(this.vfsNative.GetPendingImage()),t=this.vfsNative.GetPendingImageSize();if(0!==e&&0!==t)return this.module.HEAPU32.subarray(e>>>2,e+t>>>2)}getImageInSlot(e){const t=this.module.getPointer(this.vfsNative.GetImage(e)),r=this.vfsNative.GetSize(e);if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getDirtyPagesForSlot(e){const t=this.module.getPointer(this.vfsNative.GetDirtyPages(e));if(0===t)return;const r=g0(this.vfsNative.GetSize(e));return this.module.HEAPU8.subarray(t,t+r)}readdir(e){const t=new this.module.ReaddirContext(e);try{const r=[];for(;0===t.GetStatus();){const o=t.GetEntry();r.push(xT(o,`${e.replace(/\/*$/,"")}/${o.GetName()}`)),t.Next()}if(2===t.GetStatus()){console.warn(`readdir failed: ${t.GetErrorDescription()}`);const o=t.GetError();return{error:0===o?2:o,reason:t.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(t)}}rename(e,t){return this.vfsNative.RenameFile(e,t)}chmod(e,t){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(t.hidden,2),i(t.readonly,1),i(t.system,4),this.vfsNative.ChmodFile(e,r,o)}stat(e){const t=this.vfsNative.StatFile(e);return 0!==t?{result:t,entry:void 0}:{entry:xT(this.vfsNative.GetEntry(),e),result:t}}bytesFree(e){return this.vfsNative.BytesFree(e)}bytesTotal(e){return this.vfsNative.BytesTotal(e)}readFile(e){if(!this.vfsNative.ReadFile(e))return;const t=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),r=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(t,t+r).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(e){return this.vfsNative.UnlinkFile(e)}mkdir(e){return this.vfsNative.Mkdir(e)}createZipArchive({files:e,directories:t,prefix:r}){var o=this;return(0,ae.Z)(function*(){const i=new o.module.CreateZipContext(r,25),s=[];try{for(e&&e.forEach(h=>i.AddFile(h)),t&&t.forEach(h=>i.AddDirectory(h));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(h=>setTimeout(h,0)))}let a;const u=o.module.getPointer(i.GetZipContent()),f=i.GetZipSize();return 0!==u&&0!==f&&(a=o.module.HEAPU8.subarray(u,u+f).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive({files:e,directories:t}){var r=this;return(0,ae.Z)(function*(){const o=new r.module.DeleteRecursiveContext(25);try{for(e&&e.forEach(i=>o.AddFile(i)),t&&t.forEach(i=>o.AddDirectory(i));1===o.Continue();)yield new Promise(i=>setTimeout(i,0));return 2===o.GetState()?{success:!0}:{success:!1,failingItem:o.GetFailingPath()}}finally{r.module.destroy(o)}})()}writeFile(e,t){const r=this.copyIn(t);try{return this.vfsNative.WriteFile(e,t.length,r)}finally{this.vfsNative.Free(r)}}unzipArchive(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=o.copyIn(t),s=new o.module.UnzipContext(25,e,i,t.length),a=u=>({result:u,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(u=>setTimeout(u,0)),s.GetState()){case 1:return a(js.success);case-3:return a(js.cardFull);case-1:return a(js.ioError);case-2:return a(js.zipfileError);case 2:(yield r.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield r.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}copyIn(e){const t=this.vfsNative.Malloc(e.length),r=this.module.getPointer(t);return this.module.HEAPU8.subarray(r,r+e.length).set(e),t}}var GH=P(5541),AT=P.n(GH);function PT(n){return 0===n.length?n:n[0].toUpperCase()+n.substring(1)}class La{constructor(e,t,r,o,i,s){this.storageService=e,this.storageCardContext=t,this.alertService=r,this.fileService=o,this.loadingController=i,this.alertController=s,this.onReleaseCard=new si.j,this.vfs=w0.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.vfs.then(a=>this.vfsInstance=a)}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}dirname(e){return this.normalizePath(e).replace(/\/[^\/]*$/,"")}isFilenameValid(e){return void 0===e||!/[\/\\]/.test(e)}mountCardUnchecked(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);if(o.storageCardContext.claim(e,zr.vfs),o.directoryCache.clear(),o.mountedCard?.id===e)return!0;o.mountedCard&&(yield o.releaseCard(o.mountedCard.id));const s=yield o.vfs;s.allocateImage(i.size);const a=s.getPendingImage();if(!a)throw new Error("failed to allocate image");return r?a.set(r):yield o.storageService.loadCardData(e,a,zr.vfs),!!s.mountImage(0)&&(o.mountedCard=i,o.bytesFree=s.bytesFree(0),o.bytesTotal=s.bytesTotal(0),!0)})()}releaseCard(e=this.mountedCard?.id){var t=this;return(0,ae.Z)(function*(){void 0===e||e!==t.mountedCard?.id||((yield t.vfs).unmountImage(0),t.mountedCard=void 0,t.storageCardContext.release(e,zr.vfs),t.onReleaseCard.dispatch(e))})()}readdir(e){if(!this.vfsInstance)return[];const t=this.normalizePath(e);if(!this.directoryCache.has(t)){const r=this.vfsInstance.readdir(e);this.directoryCache.set(t,0===r.error?r.entries:[])}return this.directoryCache.get(t)||[]}updateFileEntry(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.vfs;if(e=r.normalizePath(e),!r.isFilenameValid(t.name))return void(yield r.error("The provided file name is invalid."));const{result:i,entry:s}=o.stat(e);if(0===i)if(void 0===t.attributes||AT()(t.attributes,s.attributes)||0===(r.directoryCache.delete(r.dirname(e)),o.chmod(e,t.attributes))){if(void 0!==t.name&&t.name!==s.name)switch(r.directoryCache.delete(r.dirname(e)),o.rename(e,`${r.dirname(e)}/${t.name}`)){case 0:break;case 6:return void(yield r.error("The provided file name is invalid."));default:return void(yield r.fatalError("Unable to write the updated file attributes."))}yield r.sync()}else yield r.fatalError("Unable to write the updated file attributes.");else yield r.error(`The path ${e} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create();yield r.present();try{const i=(yield t.vfs).readFile(e.path);if(!i)return void(yield t.alertService.errorMessage(`Could not read file '${e.name}'.`));t.fileService.saveFile(e.name,i)}finally{yield r.dismiss()}})()}archiveFiles(e,t){var r=this;return(0,ae.Z)(function*(){if(0===e.length||!r.mountedCard)return;const o=yield r.loadingController.create({message:"Creating archive..."});yield o.present();try{const i=yield r.vfs,s=e.filter(y=>y.isDirectory).map(y=>r.normalizePath(y.path)),a=e.filter(y=>!y.isDirectory).map(y=>r.normalizePath(y.path)),u=1===e.length?`${e[0].name}.zip`:function TH(n){return`files_${Hm(n.name)}.zip`}(r.mountedCard),{archive:f,failedItems:h}=yield i.createZipArchive({directories:s,files:a,prefix:t});yield o.dismiss(),h.length>0&&(h.length<=3?yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${h.join("<br>")}`):yield r.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${h.slice(0,3).join("<br>")}<br><br> and ${h.length-3} other file`)),f&&r.fileService.saveFile(u,f)}finally{yield o.dismiss()}})()}unlinkEntry(e){var t=this;return(0,ae.Z)(function*(){if(e.isDirectory)return;const o=(yield t.vfs).unlinkFile(e.path);if(0!==o)return console.error(`failed to unlink ${e.path}: ${o}`),void(yield t.error(`Failed to delete: ${e.path}`));t.directoryCache.delete(t.dirname(e.path)),yield t.sync()})()}deleteRecursive(e){var t=this;return(0,ae.Z)(function*(){const r=e.filter(s=>!s.isDirectory).map(s=>t.normalizePath(s.path)),o=e.filter(s=>s.isDirectory).map(s=>t.normalizePath(s.path)),i=yield t.loadingController.create({message:"Deleting..."});yield i.present();try{const a=yield(yield t.vfs).deleteRecursive({files:r,directories:o});if(!a.success)return yield i.dismiss(),void(yield t.fatalError(`Failed to delete ${a.failingItem}`));e.map(u=>u.path).forEach(u=>t.directoryCache.delete(t.dirname(u))),yield t.sync()}finally{yield i.dismiss()}})()}mkdir(e){var t=this;return(0,ae.Z)(function*(){switch((yield t.vfs).mkdir(e)){case 6:return void(yield t.alertService.errorMessage("Invalid name."));case 7:return void(yield t.alertService.errorMessage("No space left on card."));case 8:return void(yield t.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield t.error(`Failed to create ${e}.`))}yield t.sync(),t.directoryCache.delete(t.dirname(e))})()}currentCard(){return this.mountedCard}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}unpackArchive(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create();yield o.present();try{const{entriesTotal:i,entriesSuccess:s,result:a}=yield r.unpackArchiveUnchecked(e,t);let u,f;switch(yield o.dismiss(),a){case js.success:u="The archive was extracted successfully, but some entries were skipped.",f="Skipped entries";break;case js.ioError:return void(yield r.fatalError("There was an error writing to the card."));case js.cardFull:u="No space left on card.",f="No space left";break;case js.zipfileError:u="There was an error reading from the archive.",f="Error reading archive";break;default:throw new Error("unreachable")}const h=i-s,y=T=>T>1?`${T} entries`:"one entry";i>0&&h===i&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    The archive contains ${y(i)}, but none could be unpacked.\n                `)),h>0&&s>0&&(yield r.alertService.message(f,`\n                    ${u}\n                    <br><br>\n                    ${PT(y(s))} unpacked succesfully, but ${y(s)} could not be unpacked.\n                `))}finally{o.dismiss()}})()}addFiles(e,t){var r=this;return(0,ae.Z)(function*(){if(0===e.length)return;const o=yield r.loadingController.create();yield o.present();try{const i=yield r.addFilesUnchecked(e,t);yield o.dismiss();const s=a=>a>1?`${a} entries`:"one file";i.length===e.length?yield r.alertService.message("Skipped files","No files were added to the card."):0!==i.length&&(yield r.alertService.message("Skipped files",`Successfully added ${s(e.length-i.length)} to card. ${PT(s(i.length))} could not be added.\n                `))}finally{o.dismiss()}})()}addFilesUnchecked(e,t){var r=this;return(0,ae.Z)(function*(){const o=r.readdir(t),i=[],s=yield r.vfs;let a=!1,u=!1,f=!1,h=!1;e:for(let y=0;y<e.length;y++){const T=e[y],M=o.find(Se=>Se.name===T.name);if(M&&M.isDirectory){if(!f){const{overwrite:ze,rememberChoice:Ke}=yield r.overwriteFileDialog(T.name,"directory");h=ze,f=Ke}let Se=!0;if(h&&(Se=!(yield s.deleteRecursive({directories:[r.normalizePath(`${t}/${T.name}`)]})).success),Se){i.push(T.name);continue}}if(M&&!M.isDirectory){if(!a){const{overwrite:Se,rememberChoice:ze}=yield r.overwriteFileDialog(T.name,"file");u=Se,a=ze}if(!u){i.push(T.name);continue}}let Y;try{Y=yield T.getContent()}catch(Se){console.warn(Se),i.push(T.name),yield r.alertService.errorMessage(`Unable to open ${T.name}`);continue}switch(s.writeFile(r.normalizePath(`${t}/${T.name}`),Y)){case 3:yield r.alertService.errorMessage("Card full."),i.push(...e.slice(y).map(Se=>Se.name));break e;case 4:throw yield r.fatalError("Unable to write file."),new Error;case 0:break;default:i.push(T.name)}}return yield r.sync(),r.directoryCache.delete(r.normalizePath(t)),i})()}unpackArchiveUnchecked(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.vfs;let i=!1,s=!1,a=!1,u=!1;const f=yield o.unzipArchive(r.normalizePath(t),e,{onFileCollision:(h=(0,ae.Z)(function*(y){if(s)return i;const{overwrite:T,rememberChoice:M}=yield r.overwriteFileDialog(y,"file");return i=T,s=M,i}),function(T){return h.apply(this,arguments)}),onDirectoryCollision:function(){var h=(0,ae.Z)(function*(y){if(u)return a;const{overwrite:T,rememberChoice:M}=yield r.overwriteFileDialog(y,"directory");return a=T,u=M,a});return function(T){return h.apply(this,arguments)}}(),onInvalidEntry:function(){var h=(0,ae.Z)(function*(y){yield r.alertService.message("Invalid entry",`Could not extract ${y}`,{},"Continue")});return function(T){return h.apply(this,arguments)}}()});var h;return f.result!==js.ioError&&(yield r.sync(),r.directoryCache.delete(r.normalizePath(t))),f})()}overwriteFileDialog(e,t){var r=this;return(0,ae.Z)(function*(){let o=!1,i=!1;const s=yield r.alertController.create({header:"File collision",backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:"file"===t?`Do you want to overwrite the existing file ${e}?`:`\n                    Do you want to overwrite the existing directory ${e}?\n                    <br><br>\n                    WARNING: All files in this directory will be lost.\n                    `,buttons:[{text:"No",role:"cancel"},{text:"Yes",handler:()=>o=!0}],inputs:[{type:"checkbox",label:"Remember choice",checked:!1,handler:a=>i=!0===a.checked,cssClass:"alert-checkbox"}]});return yield s.present(),yield s.onDidDismiss(),{overwrite:o,rememberChoice:i}})()}error(e){var t=this;return(0,ae.Z)(function*(){yield t.alertService.errorMessage(e)})()}fatalError(e){var t=this;return(0,ae.Z)(function*(){t.mountedCard&&(yield t.storageService.updateStorageCardPartial(t.mountedCard.id,{status:Tr.dirty}),yield t.releaseCard(),t.alertService.errorMessage(`${e}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(){var e=this;return(0,ae.Z)(function*(){if(!e.mountedCard)return;const t=yield e.vfs,r=t.getImageInSlot(0),o=t.getDirtyPagesForSlot(0);!r||!o||(yield e.storageService.updateCardData(e.mountedCard.id,r,o,zr.vfs))})()}}La.\u0275fac=function(e){return new(e||La)(ee(Qn),ee(Ra),ee(Hr),ee(Ps),ee($l),ee(Tc))},La.\u0275prov=gt({token:La,factory:La.\u0275fac,providedIn:"root"});var vo=(()=>{return(n=vo||(vo={}))[n.mb4=0]="mb4",n[n.mb8=1]="mb8",n[n.mb16=2]="mb16",n[n.mb32=3]="mb32",n[n.mb64=4]="mb64",n[n.mb128=5]="mb128",vo;var n})();function RT(){return d0().replace(/-/g,"")}class oa{constructor(e,t,r,o,i,s,a,u,f,h,y){this.sessionService=e,this.storageService=t,this.emulationStateService=r,this.cloudpilotService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.errorService=u,this.fileService=f,this.vfsService=h,this.storageCardContext=y,this.loading=!0,this.cards=[],this.updateMutex=new Pa,this.updateCardsFromDB().then(()=>this.loading=!1),t.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,t,r){var o=this;return(0,ae.Z)(function*(){const i=yield o.loadingController.create({message:"Formatting..."});try{yield i.present();const s=yield function UH(n){return _0.apply(this,arguments)}(function WH(n){switch(n){case vo.mb4:return 4;case vo.mb8:return 8;case vo.mb16:return 16;case vo.mb32:return 32;case vo.mb64:return 64;case vo.mb128:return 128;default:throw new Error(`bad card size ${n}`)}}(t));if(!s)throw new Error("failed to create image");const a={storageId:RT(),name:e,size:4*s.length,status:Tr.clean,dontFsckAutomatically:r};return yield o.storageService.importStorageCard(a,s)}finally{i.dismiss()}})()}createCardFromImage(e,t,r){var o=this;return(0,ae.Z)(function*(){const i={storageId:RT(),name:e,size:t.length,status:Tr.clean,dontFsckAutomatically:r},s=new Uint32Array(t.buffer,t.byteOffset,t.byteLength>>>2),a=yield o.loadingController.create({message:"Importing..."});try{if(r)yield a.present(),yield o.storageService.importStorageCard(i,s);else{const[u,f]=yield o.fsckNewCard(s,i);yield a.present(),yield o.storageService.importStorageCard(f,u)}}finally{a.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,zr.cloudpilot)}loadCardInEmulator(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e);const i=yield r.cloudpilotService.cloudpilot;if(i.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!i.allocateCard(o.storageId,o.size))throw new Error("failed to allocate card");const s=i.getCardData(o.storageId);if(!s)throw new Error("failed to access card data");return r.storageCardContext.claim(e,zr.cloudpilot),t?s.set(t):yield r.storageService.loadCardData(o.id,s,zr.cloudpilot),o})()}ejectCurrentCard(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)throw new Error("no running session");const r=t?.mountedCard;if(void 0===r)throw new Error("no mounted card");const o=yield e.storageService.getCard(r);if(!o)throw new Error(`no card with id ${r}`);yield e.storageService.updateStorageCardPartial(r,{status:Tr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(t.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(o.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(r,zr.cloudpilot)})()}checkCard(e){var t=this;return(0,ae.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let i=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be checked.`,{"Eject now":()=>i=!0},"Cancel"),!i)return;yield t.ejectCard(e.id)}const o=yield t.executeFsckAndUpdateCard(e.id);switch(o.getResult()){case 1:return void t.alertService.cardIsClean();case 3:return void t.alertService.cardHasNoValidFileSystem();case 4:t.alertService.cardHasUncorrectableErrors();break;case 2:{let i=!1;return yield t.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>i=!0},"Cancel"),void(i?yield t.applyFsckResult(e.id,o):t.storageCardContext.release(e.id,zr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var t=this;return(0,ae.Z)(function*(){const r=t.mountedInSession(e.id);if(r){let o=!1;if(yield t.alertService.message("Card is attached",`This card needs to be ejected from session '${r.name}' before it can be browsed.`,{"Eject now":()=>o=!0},"Cancel"),!o)return!1;yield t.ejectCard(e.id)}return t.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);return!t.dontFsckAutomatically&&o.dontFsckAutomatically&&(t.status=Tr.dirty),r.storageService.updateStorageCardPartial(e,t)})()}deleteCard(e){var t=this;return(0,ae.Z)(function*(){yield t.vfsService.releaseCard(e),yield t.ejectCard(e),yield t.storageService.deleteStorageCard(e)})()}saveCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);const i=yield r.loadingController.create({message:"Exporting..."});let s;try{yield i.present();const a=r.mountedInSession(e);a&&a.id===r.emulationStateService.getCurrentSession()?.id&&(yield r.snapshotService.waitForPendingSnapshot(),yield r.snapshotService.triggerSnapshot(),s=(yield r.cloudpilotService.cloudpilot).getCardData(o.storageId)),s||(s=new Uint32Array(o.size>>>2),yield r.storageService.loadCardData(o.id,s,r.storageCardContext.getOwner(e)))}finally{i.dismiss()}r.fileService.saveFile(t,new Uint8Array(s.buffer,s.byteOffset,s.length<<2))})()}getCard(e){var t=this;return(0,ae.Z)(function*(){return t.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(t=>t.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,ae.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,ae.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((t,r)=>t.name.localeCompare(r.name))}))})()}cardIsMounted(e){var t=this;return(0,ae.Z)(function*(){return(yield t.storageService.getAllSessions()).some(o=>o.mountedCard===e)})()}checkAndClaimCard(e,t){var r=this;return(0,ae.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");let o=yield r.getCard(e);if(!o)throw new Error(`no card with id ${e}`);let i,s=!0,a=!1;if(!o.dontFsckAutomatically){if(o.status===Tr.dirty){if(i=yield r.executeFsckAndUpdateCard(e),2===i.getResult()){if(s=!1,yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===t?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),!s)return r.storageCardContext.release(e,zr.fstools),!1;yield r.applyFsckResult(o.id,i)}if(o=yield r.getCard(e),!o)throw new Error(`no card with id ${e}`)}switch(o.status){case Tr.clean:break;case Tr.unformatted:if("vfs"===t)return yield r.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case Tr.dirty:return yield r.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===t?"inserted":"browsed"}.`),!1;case Tr.unfixable:if(s=!1,a=!0,yield r.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===t?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>s=!0},"Cancel"),!s)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===t?(yield r.vfsService.releaseCard(e),yield r.mountCardInEmulator(e,i?.getImageData())):(yield r.mountCardForBrowsing(e,a,i?.getImageData()))||(yield r.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(u){return r.errorService.fatalBug(u instanceof Error?u.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Checking card..."});try{if(yield r.present(),yield t.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const o=yield t.storageService.getCard(e);if(!o)throw new Error(`no card with id ${e}`);yield t.vfsService.releaseCard(e),t.storageCardContext.claim(e,zr.fstools);const i=yield Gm.create(o.size);switch(yield t.storageService.loadCardData(o.id,i.getImageData(),zr.fstools),i.fsck()){case 1:yield t.storageService.updateStorageCardPartial(e,{status:Tr.clean}),t.storageCardContext.release(e,zr.fstools);break;case 3:yield t.storageService.updateStorageCardPartial(e,{status:Tr.unformatted}),t.storageCardContext.release(e,zr.fstools);break;case 2:yield t.storageService.updateStorageCardPartial(e,{status:Tr.dirty});break;case 4:yield t.storageService.updateStorageCardPartial(e,{status:Tr.unfixable}),t.storageCardContext.release(e,zr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return i}finally{r.dismiss()}})()}applyFsckResult(e,t){var r=this;return(0,ae.Z)(function*(){if(2!==t.getResult())return;const o=yield r.loadingController.create({message:"Fixing errors..."});try{yield o.present(),yield r.storageService.updateCardData(e,t.getImageData(),t.getDirtyPages(),zr.fstools),yield r.storageService.updateStorageCardPartial(e,{status:Tr.clean}),r.storageCardContext.release(e,zr.fstools)}finally{o.dismiss()}})()}fsckNewCard(e,t){var r=this;return(0,ae.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});let i,s;try{yield o.present(),i=yield Gm.create(t.size),i.getImageData().set(e),s=i.fsck()}finally{o.dismiss()}switch(s){case 1:return[e,{...t,status:Tr.clean}];case 2:{let a=!1;return yield r.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>a=!0},"Skip"),a?[i.getImageData(),{...t,status:Tr.clean}]:[e,{...t,status:Tr.dirty}]}case 3:return yield r.alertService.cardHasNoValidFileSystem(),[e,{...t,status:Tr.unformatted}];case 4:return yield r.alertService.cardHasUncorrectableErrors(),[e,{...t,status:Tr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var t=this;return(0,ae.Z)(function*(){const r=t.mountedInSession(e),o=yield t.storageService.getCard(e);!r||!o||(r.id===t.emulationStateService.getCurrentSession()?.id?yield t.ejectCurrentCard():(yield t.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),yield t.storageService.updateStorageCardPartial(e,{status:Tr.dirty})))})()}mountCardInEmulator(e,t){var r=this;return(0,ae.Z)(function*(){if(yield r.cardIsMounted(e))throw new Error("card already mounted");const o=yield r.loadingController.create({message:"Inserting..."});try{yield o.present(),yield r.vfsService.releaseCard(e);const i=r.emulationStateService.getCurrentSession();if(!i)throw new Error("no current session");if(void 0!==i.mountedCard)throw new Error("session already has a mounted card");const s=yield r.loadCardInEmulator(e,t),a=yield r.cloudpilotService.cloudpilot;if(yield r.storageService.updateStorageCardPartial(e,{status:Tr.dirty}),yield r.storageService.updateSessionPartial(i.id,{mountedCard:e}),!a.mountCard(s.storageId))throw a.removeCard(s.storageId),new Error("failed to mount card");return s}finally{o.dismiss()}})()}mountCardForBrowsing(e,t,r){var o=this;return(0,ae.Z)(function*(){if(o.vfsService.currentCard()?.id===e)return!0;const i=yield o.loadingController.create({message:"Mounting..."});try{return yield i.present(),yield o.vfsService.mountCardUnchecked(e,t,r)}finally{i.dismiss()}})()}}oa.\u0275fac=function(e){return new(e||oa)(ee(Na),ee(Qn),ee(ys),ee(Xi),ee($l),ee(Oa),ee(Hr),ee(Us),ee(Ps),ee(La),ee(Ra))},oa.\u0275prov=gt({token:oa,factory:oa.\u0275fac,providedIn:"root"});class Qi extends wH{constructor(e,t,r,o,i,s,a,u,f,h,y,T,M,Y,Se,ze,Ke,St){var Oe;super(),Oe=this,this.storageService=e,this.ngZone=t,this.loadingController=r,this.emulationState=o,this.snapshotService=i,this.errorService=s,this.fileService=a,this.alertService=u,this.modalWatcher=f,this.clipboardService=h,this.kvsService=y,this.proxyService=T,this.buttonService=M,this.bootstrapService=Y,this.cloudpilotService=Se,this.storageCardService=ze,this.storageCardContext=Ke,this.app=St,this.switchSession=Cn=>this.mutex.runExclusive((0,ae.Z)(function*(){if(Cn===Oe.emulationState.getCurrentSession()?.id)return!0;yield Oe.stopUnchecked(),yield Oe.bootstrapService.hasRendered();const Zn=yield Oe.loadingController.create({message:"Loading..."});yield Zn.present();try{const _s=yield Oe.storageService.getSession(Cn);if(!_s)throw new Error(`invalid session ${Cn}`);Oe.emulationState.setCurrentSession(void 0);const Zm=yield Oe.cloudpilotService.cloudpilot;if(!(yield Oe.restoreSession(_s,Zm)))return Oe.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;Oe.emulationState.setCurrentSession(_s),function Tj(n){localStorage.setItem(Lm,n+"")}(Cn)}finally{yield Zn.dismiss()}return!0})),this.resume=()=>this.mutex.runExclusive((0,ae.Z)(function*(){!Oe.emulationState.getCurrentSession()||Oe.running||Oe.errorService.hasFatalError()||!Oe.cloudpilotInstance||(yield Oe.kvsService.mutex.runExclusive(()=>Oe.updateFeatures()),Oe.doResume(),Oe.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,ae.Z)(function*(){Oe.doPause(),!Oe.errorService.hasFatalError()&&Oe.emulationState.getCurrentSession()&&(yield Oe.snapshotService.waitForPendingSnapshot(),yield Oe.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Cn,Zn])=>this.mutex.runExclusive((0,ae.Z)(function*(){const _s=Oe.emulationState.getCurrentSession();Cn===_s?.id&&(void 0!==_s.mountedCard&&void 0===Zn&&Oe.storageCardContext.release(_s.mountedCard,zr.cloudpilot),Oe.emulationState.setCurrentSession(Zn),Oe.emulationState.getCurrentSession()||(rT(),Oe.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,ae.Z)(function*(){const Cn=Oe.emulationState.getCurrentSession();Cn&&Oe.fileService.emergencySaveSession(Cn,yield Oe.cloudpilotService.cloudpilot)})),this.mutex=new Pa,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),s.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Cn=>{Cn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Cn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Nt=function kj(){const n=localStorage.getItem(Lm);return n?parseInt(n,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Nt&&!MD()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Nt))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const t=this.emulationState.getCurrentSession();t&&this.storageService.updateSessionPartial(t.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Gl.timeout:Gl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,t){if(!this.cloudpilotInstance)return;const r=this.emulationState.getCurrentSession();this.uiInitialized&&r&&void 0===r.osVersion&&this.storageService.updateSessionPartial(r.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(t/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,ae.Z)(function*(){e.emulationState.getCurrentSession()&&(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var t=this;return(0,ae.Z)(function*(){try{yield t.switchSession(e)}catch{ra&&t.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,t){var r=this;return(0,ae.Z)(function*(){const[o,i,s]=yield r.storageService.loadSession(e);if(!o)throw new Error(`invalid ROM ${e.rom}`);return t.clearExternalStorage(),void 0!==e.mountedCard&&(yield r.storageCardService.loadCardInEmulator(e.mountedCard)),!!r.openSession(t,o,e.device,i,s)&&(r.proxyService.reset(),r.buttonService.reset(t),yield r.snapshotService.initialize(e,yield r.cloudpilotService.cloudpilot),!0)})()}}Qi.\u0275fac=function(e){return new(e||Qi)(ee(Qn),ee(pt),ee($l),ee(ys),ee(Oa),ee(Us),ee(Ps),ee(Hr),ee(ql),ee(Rc),ee(Yo),ee(Kl),ee(Fc),ee(Oc),ee(Xi),ee(oa),ee(Ra),ee(Tl))},Qi.\u0275prov=gt({token:Qi,factory:Qi.\u0275fac,providedIn:"root"});const Yl=new vt(V),YH={connector:()=>new tt};function FT(n,e=YH){const{connector:t}=e;return q((r,o)=>{const i=t();Pn(n(function KH(n){return new vt(e=>n.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function OT(n,e){return e?t=>Ef(e.pipe(xs(1),function JH(){return q((n,e)=>{n.subscribe(_e(e,V))})}()),t.pipe(OT(n))):gr((t,r)=>Pn(n(t,r)).pipe(xs(1),_v(t)))}const tp="Service workers are disabled or not supported by this browser";class Wm{constructor(e){if(this.serviceWorker=e,e){const r=Sf(e,"controllerchange").pipe(Ae(()=>e.controller)),i=Ef(om(()=>_n(e.controller)),r);this.worker=i.pipe(hi(h=>!!h)),this.registration=this.worker.pipe(mi(()=>e.getRegistration()));const f=Sf(e,"message").pipe(Ae(h=>h.data)).pipe(hi(h=>h&&h.type)).pipe(function QH(n){return n?e=>FT(n)(e):e=>function XH(n,e){const t=k(n)?n:()=>n;return k(e)?FT(e,{connector:t}):r=>new gv(r,t)}(new tt)(e)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function t6(n){return om(()=>Ru(new Error(n)))}(tp)}postMessage(e,t){return this.worker.pipe(xs(1),gi(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,t);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(hi(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(xs(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(hi(t=>t.nonce===e),xs(1),Ae(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let n6=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new tt,!t.isEnabled)return this.messages=Yl,this.notificationClicks=Yl,void(this.subscription=Yl);this.messages=this.sw.eventsOfType("PUSH").pipe(Ae(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ae(o=>o.data)),this.pushManager=this.sw.registration.pipe(Ae(o=>o.pushManager));const r=this.pushManager.pipe(mi(o=>o.getSubscription()));this.subscription=di(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(tp));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(mi(s=>s.subscribe(r)),xs(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(xs(1),mi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(tp))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Wm))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})(),C0=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Yl,this.available=Yl,this.activated=Yl,void(this.unrecoverable=Yl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(hi(r=>"VERSION_READY"===r.type),Ae(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(tp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(ee(Wm))},n.\u0275prov=gt({token:n,factory:n.\u0275fac}),n})();class S0{}const NT=new on("NGSW_REGISTER_SCRIPT");function r6(n,e,t,r){return()=>{if(!Ml(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[s,...a]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=_n(null);break;case"registerWithDelay":o=LT(+a[0]||0);break;case"registerWhenStable":o=a[0]?di($T(n),LT(+a[0])):$T(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(pt).runOutsideAngular(()=>o.pipe(xs(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function LT(n){return _n(null).pipe(function e6(n,e=Kk){const t=Yk(n,e);return OT(()=>t)}(n))}function $T(n){return n.get(Tl).isStable.pipe(hi(t=>t))}function o6(n,e){return new Wm(Ml(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let i6=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:NT,useValue:t},{provide:S0,useValue:r},{provide:Wm,useFactory:o6,deps:[S0,ku]},{provide:gc,useFactory:r6,deps:[lo,NT,S0,ku],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Un({type:n}),n.\u0275inj=yr({providers:[n6,C0]}),n})();class Nc{constructor(e,t,r,o,i){var s=this;this.kvsService=e,this.emulationService=t,this.alertService=r,this.modalController=o,this.updates=i,this.checkForUpgrade=()=>this.mutex.runExclusive((0,ae.Z)(function*(){const a=s.kvsService.kvs.version;void 0!==a?a!==Ac&&(yield s.kvsService.set({version:Ac,previousVersion:a,latestVersion:Ac}),yield s.emulationService.bootstrapComplete(),s.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Ac}.`,{Changes:()=>s.showChangelog()})):s.kvsService.kvs.version=Ac})),this.mutex=new Pa,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,ae.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,ae.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Ac){const t=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),t&&(yield t.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:gl,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}Nc.\u0275fac=function(e){return new(e||Nc)(ee(Yo),ee(Qi),ee(Hr),ee(gs),ee(C0))},Nc.\u0275prov=gt({token:Nc,factory:Nc.\u0275fac,providedIn:"root"});class np{constructor(e,t,r){this.pwaService=e,this.updateService=t,this.bootstrapService=r}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}np.\u0275fac=function(e){return new(e||np)(C(xc),C(Nc),C(Oc))},np.\u0275cmp=ut({type:np,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"ion-app"),dt(1,"ion-router-outlet"),J())},dependencies:[hk,Wf]});class Qu{constructor(){}}Qu.\u0275fac=function(e){return new(e||Qu)},Qu.\u0275cmp=ut({type:Qu,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,t){1&e&&(se(0,"div"),qe(1,"Dummy"),J())},encapsulation:2});class Lc{constructor(e,t){this.linkApi=e,this.router=t}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}Lc.\u0275fac=function(e){return new(e||Lc)(ee(Al),ee(No))},Lc.\u0275prov=gt({token:Lc,factory:Lc.\u0275fac,providedIn:"root"});const E0=oe.m515,a6=p0[2],l6=p0[0],Ju="rgba(0,0,0,0.2)";function BT(n){const e=Qf(n),t=(0===e.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:t},o=u=>({frameDevice:u,frameCanvas:u*t}),i=u=>({frameDevice:u,frameCanvas:r.frameCanvas+u*t}),s=o(e.silkscreenHeight>0?1:0),a=o(function f6(n){switch(n){case 3:case 1:return 60;case 2:return 45;default:return 30}}(e.screenSize));return{scale:t,borderWidth:r,height:o(2*r.frameDevice+e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+e.width),screenHeight:o(e.height),screenWidth:o(e.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(e.height),separatorHeight:s,silkscreenHeight:o(e.silkscreenHeight),silkscreenTop:i(e.height+s.frameDevice),silkscreenBottom:i(e.height+s.frameDevice+e.silkscreenHeight),softSilkscreenHeight:o(e.silkscreenHeight>0?0:e.height-e.width),buttonHeight:a,buttonWidth:a,buttonTop:i(e.height+s.frameDevice+e.silkscreenHeight),buttonBottom:i(e.height+s.frameDevice+e.silkscreenHeight+a.frameDevice)}}class p6{constructor(e){this.skin=e,this.layout=BT(E0),this.onResize=new si.j}get width(){switch(this.getOrientation()){case br.portrait:case br.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case br.portrait:case br.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(e){this.drawEmulationCanvas(e),this.onAfterUpdateCanvas()}eventToPalmCoordinates(e,t=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let u=(e.clientX-o)/s*this.width/this.layout.scale,f=(e.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case br.landscape90:{const y=f;f=this.layout.height.frameDevice-u,u=y;break}case br.landscape270:{const y=f;f=u,u=this.layout.width.frameDevice-y;break}case br.portrait180:u=this.layout.width.frameDevice-u,f=this.layout.height.frameDevice-f}u-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const h=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(t)u<0&&(u=0),u>=this.layout.screenWidth.frameDevice&&(u=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=h&&(f=h-1);else if(u<0||u>=this.layout.screenWidth.frameDevice||f<0||f>=h)return;return[u,f]}isSilkscreen(e){const[,t]=e;return!this.isButtons(e)&&t>=this.layout.screenHeight.frameDevice}isButtons([,e]){return e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([e,t]){return e>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:e>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:e>=2*this.layout.buttonWidth.frameDevice?t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:e>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(e=this.ctx?.canvas){var t=this;return(0,ae.Z)(function*(){if(!e)return;t.layout=BT(t.getDeviceId()),t.onResize.dispatch(),e.width=t.width,e.height=t.height;const r=e.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");t.ctx=r,t.setupTransformation(),t.fillCanvasRect(0,0,t.layout.width.frameCanvas,t.layout.height.frameCanvas,t.frameColor()),t.fillRect(0,0,t.layout.screenWidth.frameDevice,t.layout.screenHeight.frameDevice+t.layout.silkscreenHeight.frameDevice+t.layout.separatorHeight.frameDevice+t.layout.buttonHeight.frameDevice,t.backgroundColor()),t.drawEmulationCanvas(),yield Promise.all([t.drawSilkscreen(),t.drawButtons()])})()}drawButtons(e=[]){var t=this;return(0,ae.Z)(function*(){t.ctx&&(t.setupTransformation(),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.buttonsImage()(t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),t.layout.screenLeft.frameCanvas,t.layout.buttonTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.buttonHeight.frameCanvas),e.includes(0)&&t.fillRect(0,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Ju),e.includes(1)&&t.fillRect(t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Ju),e.includes(2)&&t.fillRect(t.layout.screenWidth.frameDevice-2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Ju),e.includes(3)&&t.fillRect(t.layout.screenWidth.frameDevice-t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice,Ju),e.includes(4)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Ju),e.includes(5)&&t.fillRect(2*t.layout.buttonWidth.frameDevice,t.layout.buttonTop.frameDevice+t.layout.buttonHeight.frameDevice/2,t.layout.screenWidth.frameDevice-4*t.layout.buttonWidth.frameDevice,t.layout.buttonHeight.frameDevice/2,Ju))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case br.portrait:case void 0:break;case br.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case br.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case br.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var e=this;return(0,ae.Z)(function*(){0===e.layout.silkscreenHeight.frameCanvas||!e.ctx||(e.setupTransformation(),e.fillRect(e.layout.screenLeft.frameDevice,e.layout.silkscreenTop.frameDevice,e.layout.screenWidth.frameDevice,e.layout.silkscreenHeight.frameDevice,a6),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.silkscreenImage()(e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas),e.layout.borderWidth.frameCanvas,e.layout.silkscreenTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(e=this.lastEmulationCanvas){!e||!this.ctx||(this.lastEmulationCanvas=e,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(e,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(e,t,r,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(e,t,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case oe.pegT600c:case oe.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case oe.pegN700c:case oe.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case oe.pegS320:case oe.pegS300:return this.skin.SILKSCREEN_PEG_S300;case oe.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case oe.pegT400:return this.skin.SILKSCREEN_PEG_T415;case oe.acerS11:return this.skin.SILKSCREEN_ACER_S10;case oe.palmPilot:case oe.pilot:case oe.iii:case oe.palmVII:return this.skin.SILKSCREEN_PILOT;case oe.m500:return this.skin.SILKSCREEN_M500;case oe.m505:case oe.m515:case oe.m520:return this.skin.SILKSCREEN_M515;case oe.iiic:return this.skin.SILKSCREEN_IIIC;case oe.m100:case oe.m105:case oe.m125:return this.skin.SILKSCREEN_M100;case oe.m130:return this.skin.SILKSCREEN_M130;case oe.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case oe.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case oe.acerS11:return this.skin.HARD_BUTTONS_ACER_S10;case oe.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case oe.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case oe.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case oe.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case oe.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case oe.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case oe.pegT400:case oe.pegT600c:case oe.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case oe.pilot:case oe.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case oe.m500:return this.skin.HARD_BUTTONS_M500;case oe.m505:case oe.m515:case oe.m520:return this.skin.HARD_BUTTONS_M515;case oe.iiic:return this.skin.HARD_BUTTONS_IIIC;case oe.m100:case oe.m105:return this.skin.HARD_BUTTONS_M100;case oe.m125:return this.skin.HARD_BUTTONS_M125;case oe.m130:return this.skin.HARD_BUTTONS_M130;case oe.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case oe.iii:case oe.iiix:case oe.iiixe:case oe.palmVII:case oe.palmVIIEZ:case oe.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case oe.iiie:return this.skin.HARD_BUTTONS_IIIE;case oe.i705:return this.skin.HARD_BUTTONS_I705;case oe.handera330:return this.skin.HARD_BUTTONS_HANDERA330;case oe.handera330c:return this.skin.HARD_BUTTONS_HANDERA330C;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return h0(this.getDeviceId())?"white":l6}frameColor(){return h0(this.getDeviceId())?"white":"#ccc"}}const y6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","SILKSCREEN_ACER_S10","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_HANDERA330C","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70","HARD_BUTTONS_ACER_S10"];function _6(n){const t=o=>function h6(n,e){let t,r;const o=document.createElement("canvas");return function(){var i=(0,ae.Z)(function*(s,a){if(t===s&&r===a)return o;o.width=s,o.height=a;const u=o.getContext("2d");if(!u)throw new Error("get a new browser");return u.drawImage(yield n(),0,0,o.width,o.height),(yj||ra)&&(yield e).indexOf("data:image")>=0&&(yield new Promise(f=>setTimeout(f,0)),u.drawImage(yield n(),0,0,o.width,o.height)),t=s,r=a,o});return function(s,a){return i.apply(this,arguments)}}()}(function e(o){let i;return(0,ae.Z)(function*(){if(!i){const s=(yield n)[o];i=function m6(n){return()=>new Promise((e,t)=>{const r=new Image;r.onload=()=>e(r),r.onerror=()=>t(),r.src=n})}((n=>`data:image/svg+xml;base64,${btoa(n)}`)(s))()}return i})}(o),n.then(i=>i[o])),r={};for(const o of y6)r[o]=t(o);return r}class yl extends p6{constructor(){super(_6(P.e(6116).then(P.bind(P,6116)))),this.statisticsVisible=!1}initialize(e,t=this.session){var r=this;return(0,ae.Z)(function*(){r.session=t,yield r.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,ae.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,t){var r=this;return(0,ae.Z)(function*(){yield r.clearStatistics(),r.drawStatistics(e,t),r.lastEmulationStatistics=t,r.lastSnapshotStatistics=e,r.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??E0}getOrientation(){return this.session?.deviceOrientation??br.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,t){if(!this.ctx)return;this.setupTransformation();const r=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,o=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-r.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-r.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,o.frameDevice,this.layout.screenWidth.frameDevice,r.frameDevice,"rgba(255,255,255,0.6)");const s=function v6(n){switch(n){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Qf(this.session?.device??E0).screenSize);this.ctx.font=6*this.layout.scale*s+"px monospace",this.ctx.fillStyle="black",[...e||t?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...t?[`host speed             : ${t.hostSpeed.toFixed(2)}x`,`emulation speed        : ${t.emulationSpeed.toFixed(2)}x`,`average FPS            : ${t.averageFps.toFixed(2)}`]:[]].forEach((a,u)=>this.ctx.fillText(a,this.layout.screenLeft.frameCanvas+s*this.layout.scale,o.frameCanvas+s*this.layout.scale*(8+6*u)))}}yl.\u0275fac=function(e){return new(e||yl)},yl.\u0275prov=gt({token:yl,factory:yl.\u0275fac,providedIn:"root"});class $c{constructor(e,t,r){this.router=e,this.canvasDisplayService=t,this.emulationStateService=r,this.updateUseSmallUI=()=>{const o=!!document.querySelector("html.md"),i=o?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-i-(o?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-i-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),t.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,t){let r,o;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(t=Math.min(t,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(o=e,r=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(r=t,o=t/this.canvasDisplayService.width*this.canvasDisplayService.height),r*o}}$c.\u0275fac=function(e){return new(e||$c)(C(No),C(yl),C(ys))},$c.\u0275cmp=ut({type:$c,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,t){1&e&&(se(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),dt(4,"ion-icon",3),se(5,"ion-label"),qe(6,"Emulator"),J()(),se(7,"ion-tab-button",4),dt(8,"ion-icon",5),se(9,"ion-label"),qe(10,"Sessions"),J()(),se(11,"ion-tab-button",6),dt(12,"ion-icon",7),se(13,"ion-label"),qe(14,"Cards"),J()(),se(15,"ion-tab-button",8),dt(16,"ion-icon",9),se(17,"ion-label"),qe(18,"Settings"),J()(),se(19,"ion-tab-button",10),dt(20,"ion-icon",11),se(21,"ion-label"),qe(22,"About"),J()()()()()),2&e&&(Je(2),Qa("small-ui",t.smallUI)("disabled",t.isLocked()))},dependencies:[li,qi,Wv,_k,Mk],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]});class $a{}$a.\u0275fac=function(e){return new(e||$a)},$a.\u0275mod=Un({type:$a}),$a.\u0275inj=yr({imports:[Ia,t0.forChild(),Bl,wc,nm]});class ed{}ed.\u0275fac=function(e){return new(e||ed)},ed.\u0275mod=Un({type:ed}),ed.\u0275inj=yr({imports:[Ia,wc,Bl,$a,t0.forChild()]});class td{}td.\u0275fac=function(e){return new(e||td)},td.\u0275mod=Un({type:td}),td.\u0275inj=yr({imports:[Ia,wc,Bl,$a]});class nd{}nd.\u0275fac=function(e){return new(e||nd)},nd.\u0275mod=Un({type:nd}),nd.\u0275inj=yr({imports:[Ia,wc,Bl,nm,$a]});class rd{}rd.\u0275fac=function(e){return new(e||rd)},rd.\u0275mod=Un({type:rd}),rd.\u0275inj=yr({imports:[Ia,wc,Bl,$a,nm]});class od{}function b6(n,e){if(1&n){const t=vr();se(0,"ion-button",1),at("click",function(){return xt(t),Rt($t().onClick())}),dt(1,"ion-icon",2),J()}if(2&n){const t=$t();Je(1),rt("name",t.iconName)}}od.\u0275fac=function(e){return new(e||od)},od.\u0275mod=Un({type:od}),od.\u0275inj=yr({imports:[Ia,Bl,wc,nm,$a]});class Xl{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return ra?"logo-apple-appstore":tT?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}function w6(n,e){1&n&&(se(0,"div",11),dt(1,"ion-spinner"),J())}function C6(n,e){1&n&&(se(0,"div"),qe(1,"app cached for offline use"),J())}Xl.\u0275fac=function(e){return new(e||Xl)(C(xc))},Xl.\u0275cmp=ut({type:Xl,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,t){1&e&&an(0,b6,2,1,"ion-button",0),2&e&&rt("ngIf",t.show)},dependencies:[ii,zi,li]});class rp{constructor(e,t){this.modalController=e,this.updates=t,this.loading=!0}get version(){return Ac}showChangelog(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:gl,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}function S6(n,e){if(1&n&&(se(0,"ion-select-option",17),qe(1),J()),2&n){const t=e.$implicit;rt("value",t[0]),Je(1),Pi("",t[1]," ")}}function E6(n,e){if(1&n&&(se(0,"ion-select-option",17),qe(1),J()),2&n){const t=e.$implicit;rt("value",t[0]),Je(1),Pi("",t[1]," ")}}function D6(n,e){if(1&n&&(se(0,"ion-item",7)(1,"ion-label",8),qe(2,"Hotsync name"),J(),dt(3,"ion-input",18),J()),2&n){const t=$t();Je(3),rt("placeholder",t.placeholder)}}rp.\u0275fac=function(e){return new(e||rp)(C(gs),C(C0))},rp.\u0275cmp=ut({type:rp,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"About"),J(),se(4,"ion-buttons",1),dt(5,"app-pwa-prompt"),J()()(),se(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),qe(10,"About"),J()()(),an(11,w6,2,0,"div",4),se(12,"div",5)(13,"markdown",6),at("load",function(){return t.loading=!1}),J()(),se(14,"div",7),qe(15),dt(16,"br"),se(17,"a",8),at("click",function(){return t.showChangelog()}),qe(18,"Changelog"),J(),an(19,C6,2,0,"div",9),J(),dt(20,"img",10),J()),2&e&&(rt("translucent",!0),Je(11),rt("ngIf",t.loading),Je(4),Pi(" CloudpilotEmu version ",t.version," "),Je(4),rt("ngIf",t.serviceWorkerAvailable))},dependencies:[ii,Gi,Wi,Zi,Hf,Ki,Yi,Xl,e0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]});class id{constructor(e,t){this.sessionService=e,this.alertService=t,this.validateNameUnique=r=>r.value!==this.session.name&&this.sessionService.getSessions().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[br.portrait,"Portrait"],[br.landscape90,"Landscape 90\xb0"],[br.landscape270,"Landscape 270\xb0"],[br.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,gT(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function fH(n){switch(n){case oe.palmPilot:case oe.pilot:case oe.iii:case oe.palmVII:case oe.palmVx:case oe.palmV:case oe.palmVIIEZ:case oe.palmVIIx:case oe.iiic:case oe.iiix:case oe.iiixe:case oe.iiie:case oe.m100:case oe.m105:case oe.pegS300:case oe.pegS500c:return 16;case oe.m500:case oe.m505:case oe.m515:case oe.m520:case oe.m125:case oe.m130:case oe.i705:case oe.i710:case oe.handera330:case oe.handera330c:case oe.pegS320:case oe.pegT400:case oe.pegN600c:case oe.pegT600c:case oe.pegN700c:case oe.acerS11:return 33;case oe.pegT650c:case oe.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Yh({name:new ai(this.session.name,{validators:[_f.required,this.validateNameUnique]}),manageHotsyncName:new ai(!this.session.dontManageHotsyncName),hotsyncName:new ai(this.session.hotsyncName||""),device:new ai({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new ai((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new ai(this.session.deviceOrientation||br.portrait)})}}id.\u0275fac=function(e){return new(e||id)(C(Na),C(Hr))},id.\u0275cmp=ut({type:id,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Session settings"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.save()}),qe(6,"Save"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"h1"),qe(13,"Session"),J(),se(14,"ion-item",7)(15,"ion-label",8),qe(16,"Session name"),J(),dt(17,"ion-input",9),J(),se(18,"h1"),qe(19,"Device"),J(),se(20,"ion-item",7)(21,"ion-label",8),qe(22,"Device type"),J(),se(23,"ion-select",10),an(24,S6,2,2,"ion-select-option",11),J()(),se(25,"ion-item",7)(26,"ion-label",8),qe(27,"Orientation"),J(),se(28,"ion-select",12),an(29,E6,2,2,"ion-select-option",11),J()(),se(30,"ion-item",7)(31,"ion-label",13),qe(32),J(),dt(33,"ion-range",14),J(),se(34,"h1"),qe(35,"Hotsync"),J(),se(36,"ion-item",7)(37,"ion-label"),qe(38,"Manage hotsync name"),J(),dt(39,"ion-toggle",15),J(),an(40,D6,4,1,"ion-item",16),J()()),2&e&&(Je(5),rt("disabled",t.formGroup.invalid),Je(6),rt("formGroup",t.formGroup),Je(13),rt("ngForOf",t.deviceList),Je(5),rt("ngForOf",t.orientations),Je(3),Is(t.speedLabel),Je(8),rt("ngIf",t.showHotsyncNameInput))},dependencies:[_c,ii,zi,Gi,Wi,Zi,pl,Ko,qi,Gv,xm,Am,Ki,zf,Yi,Wu,jf,fl,al,il,sl,hv,ta,ka],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]});class sd{constructor(e,t,r,o,i,s,a){this.emulationService=e,this.loadingController=t,this.snapshotService=r,this.fileService=o,this.emulationStateService=i,this.alertService=s,this.cloudpilotService=a}saveBackup(e){var t=this;return(0,ae.Z)(function*(){const r=t.emulationStateService.getCurrentSession();if(!r)return;const o=yield t.loadingController.create({message:"Backing up..."});yield o.present();let s,i=[];yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();try{const a=yield t.cloudpilotService.cloudpilot;yield a.backup(function(){var u=(0,ae.Z)(function*(f){for(f.Init(e);f.IsInProgress();){const h=f.GetCurrentDatabase();f.Save()||i.push(h),yield new Promise(y=>setTimeout(y,0))}s=a.getArchive(f)});return function(f){return u.apply(this,arguments)}}())}finally{yield o.dismiss(),yield t.emulationService.resume()}s?i.length>0?yield t.alertService.message("Backup complete",`\n                    ${m0(i)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>t.fileService.saveFile(ST(r,e),s)},"Cancel"):t.fileService.saveFile(ST(r,e),s):yield t.alertService.errorMessage("Backup failed.")})()}}sd.\u0275fac=function(e){return new(e||sd)(ee(Qi),ee($l),ee(Oa),ee(Ps),ee(ys),ee(Hr),ee(Xi))},sd.\u0275prov=gt({token:sd,factory:sd.\u0275fac,providedIn:"root"});const I6=window.AudioContext||window.webkitAudioContext;function D0(n,e=100){return new Promise((t,r)=>{setTimeout(()=>r(new Error("timeout")),e),n.then(t,r)})}class k6{constructor(e){var t=this;this.emulationService=e,this.initialize=()=>this.mutex.runExclusive((0,ae.Z)(function*(){if(!t.initialized){try{t.context=new I6}catch(r){return console.error(r),void console.error("web audio not available")}try{t.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield t.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}t.context.addEventListener("statechange",()=>{"interrupted"===t.context?.state&&t.updateState()}),t.gainNode=t.context.createGain(),t.gainNode.channelCount=1,t.gainNode.channelInterpretation="speakers",t.gainNode.gain.value=t.gain(),t.gainNode.connect(t.context.destination),t.applyPwmUpdate(),t.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,ae.Z)(function*(){if(!t.context||t.isRunning()===t.shouldRun())return;!r&&!t.isRunning()&&t.shouldRun()&&t.applyPwmUpdate();const o=t.context.state;if(t.shouldRun())try{t.updateGain(),yield D0(t.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield D0(t.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${t.context.state}`)})),this.onPwmUpdate=function(){var r=(0,ae.Z)(function*(o){t.pendingPwmUpdate=o,t.initialized&&(t.shouldRun()!==t.isRunning()&&t.updateState(!0),t.shouldRun()&&t.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Pa,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),ra||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(e){this.muted=e,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||ra||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var e=this;return(0,ae.Z)(function*(){e.context&&(yield D0(e.context.resume()),e.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:e,dutyCycle:t}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,e<=0||t<=0||e>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/e),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<t?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}class Ql extends k6{constructor(e,t,r){super(e),this.kvs=t,this.modalWatcher=r,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}Ql.\u0275fac=function(e){return new(e||Ql)(ee(Qi),ee(Yo),ee(ql))},Ql.\u0275prov=gt({token:Ql,factory:Ql.\u0275fac,providedIn:"root"});class Bc{constructor(e,t){this.emulationService=e,this.ngZone=t,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=r=>{this.reset(),r&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!r&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}function M6(n,e){if(1&n){const t=vr();se(0,"ion-item",4),at("click",function(){return xt(t),Rt($t().power())}),se(1,"ion-label"),qe(2,"Power"),J(),dt(3,"ion-icon",5),J()}if(2&n){const t=$t();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function x6(n,e){if(1&n){const t=vr();se(0,"ion-item",4),at("click",function(){return xt(t),Rt($t().hotsync())}),se(1,"ion-label"),qe(2,"Hotsync"),J(),dt(3,"ion-icon",6),J()}if(2&n){const t=$t();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function A6(n,e){if(1&n){const t=vr();se(0,"ion-item",4),at("click",function(){return xt(t),Rt($t().reset())}),se(1,"ion-label"),qe(2,"Reset"),J(),dt(3,"ion-icon",7),J()}if(2&n){const t=$t();rt("detail",!1)("disabled",!t.emulationService.isRunning())}}function P6(n,e){if(1&n){const t=vr();se(0,"ion-item",8),at("click",function(){return xt(t),Rt($t().insertCard())}),se(1,"ion-label"),qe(2),J(),dt(3,"ion-icon",9),J()}if(2&n){const t=$t();rt("detail",!1),Je(2),Pi("Insert ",t.hasMemorystick?"stick":"SD card","")}}function R6(n,e){if(1&n){const t=vr();se(0,"ion-item",8),at("click",function(){return xt(t),Rt($t().ejectCard())}),se(1,"ion-label"),qe(2),J(),dt(3,"ion-icon",10),J()}if(2&n){const t=$t();rt("detail",!1),Je(2),Pi("Eject ",t.hasMemorystick?"stick":"SD card","")}}function F6(n,e){if(1&n){const t=vr();se(0,"ion-item",8),at("click",function(){return xt(t),Rt($t().mute(!1))}),se(1,"ion-label"),qe(2,"Enable audio"),J(),dt(3,"ion-icon",11),J()}2&n&&rt("detail",!1)}function O6(n,e){if(1&n){const t=vr();se(0,"ion-item",8),at("click",function(){return xt(t),Rt($t().mute(!0))}),se(1,"ion-label"),qe(2,"Disable audio"),J(),dt(3,"ion-icon",12),J()}2&n&&rt("detail",!1)}function N6(n,e){if(1&n){const t=vr();se(0,"ion-item",4),at("click",function(){return xt(t),Rt($t().backup())}),se(1,"ion-label"),qe(2,"Save backup"),J(),dt(3,"ion-icon",13),J()}if(2&n){const t=$t();rt("detail",!1)("disabled",t.backupDisabled)}}function L6(n,e){if(1&n){const t=vr();se(0,"ion-item",8),at("click",function(){return xt(t),Rt($t().rotate())}),se(1,"ion-label"),qe(2,"Rotate"),J(),dt(3,"ion-icon",14),J()}2&n&&rt("detail",!1)}function $6(n,e){if(1&n){const t=vr();se(0,"ion-item",8),at("click",function(){return xt(t),Rt($t().editSettings())}),se(1,"ion-label"),qe(2,"Settings"),J(),dt(3,"ion-icon",15),J()}2&n&&rt("detail",!1)}function B6(n){switch(n){case br.portrait:case void 0:return br.landscape90;case br.landscape90:return br.portrait180;case br.portrait180:return br.landscape270;case br.landscape270:return br.portrait;default:throw new Error("cannot happen")}}Bc.\u0275fac=function(e){return new(e||Bc)(ee(Qi),ee(pt))},Bc.\u0275prov=gt({token:Bc,factory:Bc.\u0275fac,providedIn:"root"});class op{constructor(e,t,r,o,i,s,a,u,f,h,y,T,M,Y,Se,ze,Ke,St){this.emulationService=e,this.emulationStateService=t,this.backupService=r,this.buttonService=o,this.actionSheetController=i,this.popoverController=s,this.audioService=a,this.kvsService=u,this.modalController=f,this.sessionService=h,this.performanceWatchdogService=y,this.canvasDisplayService=T,this.cloudpilotService=M,this.storageCardService=Y,this.alertService=Se,this.alertController=ze,this.storageService=Ke,this.errorService=St,this.showHelp=()=>{}}reset(){var e=this;return(0,ae.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,ae.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function pH(n){return[oe.i705,oe.i710,oe.pegNR70,oe.pegT650c].includes(n)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&yT(e.device)!==Zl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&yT(e.device)===Zl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;const r=t.speed,o=t.deviceOrientation,i=yield e.modalController.create({component:id,backdropDismiss:!1,componentProps:{session:t,availableDevices:[t.device],onSave:(s=(0,ae.Z)(function*(){r!==t.speed&&e.performanceWatchdogService.reset(),o!==t.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,t),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(t),i.dismiss()}),function(){return s.apply(this,arguments)}),onCancel:()=>i.dismiss()}});var s;yield e.popoverController.dismiss(),yield i.present()})()}rotate(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationStateService.getCurrentSession();if(!t)return;yield e.storageService.updateSessionPartial(t.id,{deviceOrientation:B6(t.deviceOrientation)});const r=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,ae.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const r=yield e.cloudpilotService.cloudpilot,o=e.storageCardService.getAllCards().filter(s=>r.deviceSupportsCardSize(s.size)&&!e.storageCardService.mountedInSession(s.id));0!==o.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:s=>e.storageCardService.insertCard(s)}],inputs:o.map((s,a)=>({label:s.name,type:"radio",value:s.id,checked:0===a})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,ae.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(t){e.errorService.fatalBug(t instanceof Error?t.message:"eject failed")}e.popoverController.dismiss()})()}}op.\u0275fac=function(e){return new(e||op)(C(Qi),C(ys),C(sd),C(Fc),C(qf),C(Mc),C(Ql),C(Yo),C(gs),C(Na),C(Bc),C(yl),C(Xi),C(oa),C(Hr),C(Tc),C(Qn),C(Us))},op.\u0275cmp=ut({type:op,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list"),an(1,M6,4,2,"ion-item",0),an(2,x6,4,2,"ion-item",0),an(3,A6,4,2,"ion-item",0),an(4,P6,4,2,"ion-item",1),an(5,R6,4,2,"ion-item",1),an(6,F6,4,1,"ion-item",1),an(7,O6,4,1,"ion-item",1),an(8,N6,4,2,"ion-item",0),an(9,L6,4,1,"ion-item",1),an(10,$6,4,1,"ion-item",1),se(11,"ion-item",2),at("click",function(){return t.help()}),se(12,"ion-label"),qe(13,"Help"),J(),dt(14,"ion-icon",3),J()()),2&e&&(Je(1),rt("ngIf",t.hasActiveSession&&!t.powerDisabled),Je(1),rt("ngIf",t.hasActiveSession),Je(1),rt("ngIf",t.hasActiveSession),Je(1),rt("ngIf",t.supportsStorageCard&&!t.hasMountedCard),Je(1),rt("ngIf",t.supportsStorageCard&&t.hasMountedCard),Je(1),rt("ngIf",t.isMuted&&!t.isAudioOff),Je(1),rt("ngIf",!t.isMuted&&!t.isAudioOff),Je(1),rt("ngIf",t.hasActiveSession),Je(1),rt("ngIf",t.hasActiveSession),Je(1),rt("ngIf",t.hasActiveSession),Je(1),rt("detail",!1))},dependencies:[ii,li,Ko,qi,xa]});class V6{constructor(e,t){this.emulationService=e,this.canvasDisplayService=t,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const u=this.determineArea(a);if(2===u){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:u,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:u}),this.emulationService.handlePointerMove(...a,1===u)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const u=a.area;switch(u){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const h=this.canvasDisplayService.determineButton(f);h===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):h!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=h,this.handleButtonDown(h));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===u);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(e,t=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=e,this.keyEventTarget=t||window,this.addEventListener(e,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(e,"touchstart",this.handleTouchStart),this.addEventListener(e,"touchmove",this.handleTouchMove),this.addEventListener(e,"touchend",this.handleTouchEnd),this.addEventListener(e,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const e of this.activeButtons)this.handleButtonUp(e);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(e){this.gameMode=e,this.onToggleGameMode()}setGameModeHotkeyEnabled(e){this.enableGamemodeHotkey=e}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(e,t,r,o){e.addEventListener(t,r,o)}removeEventListener(e,t,r,o){e.removeEventListener(t,r,o)}determineArea(e){return this.canvasDisplayService.isButtons(e)?2:this.canvasDisplayService.isSilkscreen(e)?1:0}handleButtonDown(e){this.activeButtons.has(e)||(this.activeButtons.add(e),this.emulationService.handleButtonDown(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(e){void 0===e||!this.activeButtons.has(e)||(this.activeButtons.delete(e),this.emulationService.handleButtonUp(e),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(e){return this.isGameModeHotkeyEnabled()&&("Shift"===e.key&&e.ctrlKey||"Control"===e.key&&e.shiftKey)}isGameModeActive(e){return!this.gameMode&&e.ctrlKey||this.gameMode&&!e.ctrlKey}buttonFromEvent(e){switch(e.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(e))switch(e.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(e){if(!this.isGameModeActive(e)){if(1===e.key.length&&e.key.charCodeAt(0)<=255)return e.key.charCodeAt(0);switch(e.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}class ad extends V6{constructor(e,t,r,o,i){super(e,t),this.modalWatcher=r,this.ngZone=o,this.app=i}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,t,r,o){this.ngZone.runOutsideAngular(()=>e.addEventListener(t,r,o))}}function UT(n){return/\.(prc|pdb|pqa)$/i.test(n)}ad.\u0275fac=function(e){return new(e||ad)(ee(Qi),ee(yl),ee(ql),ee(pt),ee(Tl))},ad.\u0275prov=gt({token:ad,factory:ad.\u0275fac,providedIn:"root"});class G6{constructor(e,t,r,o){this.cloudpilotService=e,this.alertController=t,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var e=this;return(0,ae.Z)(function*(){for(const t of e.files){let r;try{r=yield t.getContent()}catch(o){console.warn(o),e.filesFail.push(t.name);continue}if(/\.zip/i.test(t.name)&&r.length<33554432)try{yield e.installZip(t)}catch{e.filesFail.push(t.name)}else UT(t.name)?yield e.installOne(t.name,r):e.filesFail.push(t.name)}return[e.filesSuccess,e.filesRequireReset,e.filesFail]})()}installOne(e,t){var r=this;return(0,ae.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(t);switch(i){case 2:r.filesRequireReset.push(e),r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;case 1:r.filesSuccess.push(e),r.sizeInstalledSinceLastsnapshot+=t.length;break;default:r.filesFail.push(e),yield r.reportError(e,i)}if(2===i||1===i)try{const s=function z6(n){if(n.length<32)throw new Error("not a database");let e;for(e=0;e<32&&0!==n[e];e++);if(e>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(n.subarray(0,e))}(t);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${e} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,e)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.cloudpilotService.cloudpilot).withZipfileWalker(yield e.getContent(),function(){var o=(0,ae.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!UT(i.GetCurrentEntryName())){i.Next();continue}const u=i.GetCurrentEntryContent();u?(yield t.installOne(a,u),s++):t.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(e,t){return this.errorDialog("Item failed to install",`Could not install ${e}: ${function H6(n){switch(n){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(t)}.`)}errorDialog(e,t){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:e,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:t,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:[{type:"checkbox",label:"Skip any remaining errors",cssClass:"alert-checkbox",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]}).then(i=>i.present())})}}class ld{constructor(e,t,r,o,i,s){this.cloudpilotService=e,this.emulationService=t,this.loadingController=r,this.snapshotService=o,this.alertService=i,this.alertController=s}installFiles(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.loadingController.create({message:"Installing..."});yield r.present(),yield t.emulationService.pause(),yield t.snapshotService.waitForPendingSnapshot();let o=[],i=[],s=[];try{[o,s,i]=yield new G6(t.cloudpilotService,t.alertController,t.snapshotService,e).run()}finally{r.dismiss(),t.emulationService.resume()}const a=[t.messageSucces(o),t.messageFailed(i),t.messageRequireReset(s)].filter(f=>!!f).join("<br/><br/>");let u;u=0===i.length?"Installation successful":0===o.length?"Installation failed":"Installation errors",t.alertService.message(u,a,s.length>0?{"Reset now":()=>t.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${m0(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${m0(e)} require a device reset.`:void 0}}ld.\u0275fac=function(e){return new(e||ld)(ee(Xi),ee(Qi),ee($l),ee(Oa),ee(Hr),ee(Tc))},ld.\u0275prov=gt({token:ld,factory:ld.\u0275fac,providedIn:"root"});class Jl{constructor(){this.onDragOver=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=e=>{e.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(e)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(e){this.currentClient=e}unregisterClient(e){e===this.currentClient&&(this.currentClient=void 0)}}Jl.\u0275fac=function(e){return new(e||Jl)},Jl.\u0275prov=gt({token:Jl,factory:Jl.\u0275fac,providedIn:"root"});const W6=["canvas"];function Z6(n,e){if(1&n){const t=vr();se(0,"ion-button",5),at("click",function(){return xt(t),Rt($t().navigation.lock())}),dt(1,"ion-icon",10),J()}}function q6(n,e){if(1&n){const t=vr();se(0,"ion-button",5),at("click",function(){return xt(t),Rt($t().navigation.unlock())}),dt(1,"ion-icon",11),J()}}function K6(n,e){if(1&n){const t=vr();se(0,"ion-button",5),at("click",function(){return xt(t),Rt($t().showGameModeHint())}),dt(1,"ion-icon",12),J()}}function Y6(n,e){if(1&n){const t=vr();se(0,"ion-button",5),at("click",function(){return xt(t),Rt($t().showProxyConnectedHint())}),dt(1,"ion-icon",13),J()}}function X6(n,e){if(1&n){const t=vr();se(0,"ion-button",5),at("click",function(){return xt(t),Rt($t().showSlowdowndHint())}),dt(1,"ion-icon",14),J()}}function Q6(n,e){if(1&n){const t=vr();se(0,"div",15),qe(1," The device was reset forcefully. How do you want to boot? "),se(2,"ion-button",16),at("click",function(){return xt(t),Rt($t().bootAfterForcefulReset())}),qe(3,"Normal boot"),J(),se(4,"ion-button",16),at("click",function(){return xt(t),Rt($t().bootAfterForcefulResetNoExtensions())}),qe(5,"No extensions"),J(),se(6,"ion-button",16),at("click",function(){return xt(t),Rt($t().bootAfterForcefulResetHardReset())}),qe(7,"Hard reset"),J()()}}function J6(n,e){1&n&&(se(0,"div",15)(1,"div"),qe(2,"No session selected"),J()())}class ip{constructor(e,t,r,o,i,s,a,u,f,h,y,T,M,Y,Se,ze,Ke,St){var Oe=this;this.emulationService=e,this.emulationState=t,this.storageService=r,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=u,this.alertService=f,this.fileService=h,this.snapshotService=y,this.installlationService=T,this.proxyService=M,this.navigation=Y,this.linkApi=Se,this.performanceWatchdogService=ze,this.cloudpilotService=Ke,this.dragDropService=St,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,ae.Z)(function*(){yield Oe.emulationService.bootstrapComplete(),Oe.boostrapComplete=!0;const Nt=Oe.emulationState.getCurrentSession();Nt&&!Nt.wasResetForcefully&&(yield Oe.launchEmulator()),Oe.linkApi.installation.requestEvent.addHandler(Oe.handleLinkApiInstallationRequest),Oe.handleLinkApiInstallationRequest(),Oe.dragDropService.registerClient(Oe)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Nt=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Nt,this.emulationService.getStatistics())},this.onNewFrame=Nt=>{this.canvasDisplayService.updateEmulationCanvas(Nt)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Nt=this.linkApi.installation.receivePendingUrl();Nt&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Nt} ?`,{OK:()=>this.fileService.openUrl(Nt,Zn=>this.installlationService.installFiles([Zn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Nt} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Pa}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var t=this;return(0,ae.Z)(function*(){(yield t.popoverController.create({component:op,event:e,componentProps:{showHelp:()=>t.showHelp()},arrow:!1})).present()})()}handleDragDropEvent(e){this.installFileDisabled||this.fileService.openFromDrop(e,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:gl,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,ae.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,ae.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.storageService.updateSessionPartial(t.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,ae.Z)(function*(){const t=e.emulationState.getCurrentSession();t&&(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,t).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}function I0(n,e,t){return()=>{const r=t();r!==e&&(n.markForCheck(),e=r)}}function jT(n,e){let t=n,r=1;for(;e(t);)t=`${n} (${r++})`;return t}ip.\u0275fac=function(e){return new(e||ip)(C(Qi),C(ys),C(Qn),C(ad),C(yl),C(Yo),C(Mc),C(gs),C(Hr),C(Ps),C(Oa),C(ld),C(Kl),C($c),C(Al),C(Bc),C(Xi),C(Jl))},ip.\u0275cmp=ut({type:ip,selectors:[["app-emulation"]],viewQuery:function(e,t){if(1&e&&Eu(W6,5),2&e){let r;ks(r=Ts())&&(t.canvasRef=r.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,t){if(1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return t.installFiles()}),dt(6,"ion-icon",2),J(),an(7,Z6,2,0,"ion-button",3),an(8,q6,2,0,"ion-button",3),J(),se(9,"ion-buttons",4)(10,"ion-button",5),at("click",function(o){return t.openContextMenu(o)}),dt(11,"ion-icon",6),J(),an(12,K6,2,0,"ion-button",3),an(13,Y6,2,0,"ion-button",3),an(14,X6,2,0,"ion-button",3),J()()(),se(15,"ion-content")(16,"div",7),at("touchstart",function(o){return t.cancelIfEmulationActive(o)})("touchmove",function(o){return t.cancelIfEmulationActive(o)}),dt(17,"canvas",null,8),J(),an(19,Q6,8,0,"div",9),an(20,J6,3,0,"div",9),J()),2&e){let r,o;Je(3),Is(t.title),Je(2),rt("disabled",t.installFileDisabled),Je(2),rt("ngIf",!t.navigation.isLocked()),Je(1),rt("ngIf",t.navigation.isLocked()),Je(4),rt("ngIf",t.eventHandlingService.isGameMode()),Je(1),rt("ngIf",t.proxyService.isConnected()),Je(1),rt("ngIf",t.performanceWatchdogService.isSlowdownDetected()),Je(1),Qa("locked",t.navigation.isLocked()),Je(1),qd("display",!t.emulationState.getCurrentSession()||null!=(r=t.emulationState.getCurrentSession())&&r.wasResetForcefully?"none":void 0),Je(1),qd("width",t.cssWidth)("height",t.cssHeight)("display",t.emulationState.getCurrentSession()?"block":"none"),Je(2),rt("ngIf",null!=(o=t.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),Je(1),rt("ngIf",!t.emulationState.getCurrentSession()&&t.boostrapComplete)}},dependencies:[ii,zi,Gi,Wi,Zi,li,Ki,Yi],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]});class sp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}sp.\u0275fac=function(e){return new(e||sp)},sp.\u0275cmp=ut({type:sp,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),qe(3," Edit "),J(),se(4,"ion-item",0),at("click",function(){return t.onSave()}),dt(5,"ion-icon",2),qe(6," Save "),J(),se(7,"ion-item",0),at("click",function(){return t.onReset()}),dt(8,"ion-icon",3),qe(9," Reset "),J(),se(10,"ion-item",4),at("click",function(){return t.onDelete()}),dt(11,"ion-icon",5),qe(12," Delete "),J()()),2&e&&(Je(1),rt("detail",!1),Je(3),rt("detail",!1),Je(3),rt("detail",!1),Je(3),rt("detail",!1))},dependencies:[li,Ko,xa]});const t5=["slidingItem"];function n5(n,e){if(1&n&&(se(0,"span"),qe(1),J()),2&n){const t=$t();Je(1),Pi(", OS ",t.decodeVersion(null==t.session?null:t.session.osVersion),"")}}class ap{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new Dn,this.resetSession=new Dn,this.edit=new Dn,this.save=new Dn,this.selectItem=new Dn,this.interaction=new Dn}get device(){return this.session?gT(this.session.device):""}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:sp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(),onSave:()=>t.save.emit(),onDelete:()=>t.delete.emit(),onReset:()=>t.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const t=function e5(n){return{major:n>>>24&255,minor:n>>>20&15,fix:n>>>16&15,stage:n>>>12&15,build:4095&n}}(e);return`${t.major}.${t.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}function r5(n,e){1&n&&(se(0,"div",10),dt(1,"ion-spinner"),J())}function o5(n,e){1&n&&(se(0,"div",11)(1,"div",12),qe(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),dt(3,"br")(4,"br"),qe(5," You can find a collection of compatible ROMs on "),se(6,"a",13),qe(7,"PalmDB"),J(),qe(8,". "),J()())}function i5(n,e){if(1&n){const t=vr();se(0,"app-session-item",15),at("delete",function(){const i=xt(t).$implicit;return Rt($t(2).deleteSession(i))})("selectItem",function(){const i=xt(t).$implicit;return Rt($t(2).launchSession(i))})("edit",function(){const i=xt(t).$implicit;return Rt($t(2).editSession(i))})("save",function(){const i=xt(t).$implicit;return Rt($t(2).saveSession(i))})("resetSession",function(){const i=xt(t).$implicit;return Rt($t(2).resetSession(i))})("interaction",function(){const i=xt(t).$implicit;return Rt($t(2).lastSessionTouched=i.id)}),J()}if(2&n){const t=e.$implicit,r=$t(2);rt("session",t)("selected",r.currentSessionId===t.id)("touched",t.id===r.lastSessionTouched)}}function s5(n,e){if(1&n&&(se(0,"ion-list"),an(1,i5,1,3,"app-session-item",14),J()),2&n){const t=$t();Je(1),rt("ngForOf",t.sessions)("ngForTrackBy",t.trackSessionBy)}}ap.\u0275fac=function(e){return new(e||ap)(C(Mc))},ap.\u0275cmp=ut({type:ap,selectors:[["app-session-item"]],viewQuery:function(e,t){if(1&e&&Eu(t5,5),2&e){let r;ks(r=Ts())&&(t.slidingItem=r.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,t){if(1&e){const r=vr();se(0,"ion-item-sliding",0,1),at("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit()}),se(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return xt(r),Ds(1).close(),Rt(t.edit.emit(t.session))}),dt(4,"ion-icon",4),J(),se(5,"ion-item-option",5),at("click",function(){return xt(r),Ds(1).close(),Rt(t.save.emit(t.session))}),dt(6,"ion-icon",6),J()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return xt(r),Ds(1).close(),Rt(t.resetSession.emit(t.session))}),dt(9,"ion-icon",9),J(),se(10,"ion-item-option",10),at("click",function(){return xt(r),Ds(1).close(),Rt(t.delete.emit(t.session))}),dt(11,"ion-icon",11),J()(),se(12,"ion-item",12),at("click",function(){return t.selectItem.emit()}),se(13,"ion-label")(14,"h2"),qe(15),J(),se(16,"p"),qe(17),an(18,n5,2,1,"span",13),J()()()()}2&e&&(Je(12),rt("color",t.color),Je(1),Qa("in-item-color",t.selected),Je(2),Is(null==t.session?null:t.session.name),Je(2),Yd("",t.device,", ",null==t.session?null:t.session.ram,"MB RAM"),Je(1),rt("ngIf",null==t.session?null:t.session.osVersion))},dependencies:[ii,li,Ko,km,Tm,Mm,qi],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class Ba{constructor(e,t,r,o,i,s,a,u,f,h,y,T,M){this.sessionService=e,this.fileService=t,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=u,this.linkApi=f,this.router=h,this.cloudpilotService=y,this.dragDropService=T,this.cd=M,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const Y=this.linkApi.import.receivePendingUrl();Y&&this.alertService.message("Import request",`Do you want to import<br>${Y} ?`,{OK:()=>this.fileService.openUrl(Y,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.checkSessions=I0(M,[],()=>this.sessionService.getSessions())}ngDoCheck(){this.checkSessions()}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((e,t)=>e.name.localeCompare(t.name))}deleteSession(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.alertController.create({header:"Warning",message:`Deleting the session '${e.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>t.sessionService.deleteSession(e)}],backdropDismiss:!1})).present()})()}editSession(e){var t=this;return(0,ae.Z)(function*(){const r={...e};(yield t.editSettings(e))&&!AT()(e,r)&&(yield t.sessionService.updateSession(e))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(e){return this.fileService.saveSession(e)}trackSessionBy(e,t){return t.id}launchSession(e){var t=this;return(0,ae.Z)(function*(){t.lastSessionTouched=e.id,t.currentSessionOverride=e.id,t.cd.markForCheck();const r=yield t.emulationService.switchSession(e.id);t.currentSessionOverride=void 0,t.cd.markForCheck(),r&&t.router.navigateByUrl("/tab/emulation")})()}resetSession(e){var t=this;return(0,ae.Z)(function*(){const r=e.id===t.emulationState.getCurrentSession()?.id;r&&(yield t.emulationService.stop()),yield t.storageService.deleteStateForSession(e),yield t.storageService.updateSessionPartial(e.id,{wasResetForcefully:!0}),r&&(yield t.emulationService.switchSession(e.id)),yield(yield t.alertController.create({header:"Done",message:`Session ${e.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:gl,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleDropFiles.bind(this))}handleDropFiles(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session.");this.processFile(e[0])}}processFile(e){var t=this;return(0,ae.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(e.name))return void t.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");let r;try{r=yield e.getContent()}catch(i){return console.warn(i),void(yield t.alertService.errorMessage(`Unable to open ${e.name}.`))}const o=(yield t.cloudpilotService.cloudpilot).deserializeSessionImage(r);if(o){const i={name:t.disambiguateSessionName(o.metadata?.name??e.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield t.editSettings(i)){const s=yield t.sessionService.addSessionFromImage(o,i.name,i);t.lastSessionTouched=s.id}}else{const i=(yield t.cloudpilotService.cloudpilot).getRomInfo(r);if(!i)return void t.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void t.alertService.errorMessage("No supported device for this ROM.");const s={name:t.disambiguateSessionName(e.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield t.editSettings(s,i.supportedDevices)){const a=yield t.sessionService.addSessionFromRom(r,s.name,s.device,s);t.lastSessionTouched=a.id}}})()}editSettings(e,t=[e.device]){return new Promise(r=>{let o;this.modalController.create({component:id,backdropDismiss:!1,componentProps:{session:e,availableDevices:t,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(e){const t=this.sessionService.getSessions();return jT(e,r=>t.some(o=>o.name===r))}}function a5(n,e){1&n&&(se(0,"ion-item",8)(1,"ion-label"),qe(2,"Clipboard integration"),J(),dt(3,"ion-toggle",17),J())}function l5(n,e){if(1&n){const t=vr();se(0,"ion-item",8)(1,"ion-label",18),qe(2,"Proxy server"),J(),se(3,"div",19),dt(4,"ion-input",20),se(5,"ion-button",21),at("click",function(o){xt(t);const i=$t();return o.preventDefault(),o.stopPropagation(),Rt(i.testProxyConnection())})("touchstart",function(o){xt(t);const i=$t();return o.preventDefault(),o.stopPropagation(),Rt(i.testProxyConnection())}),qe(6," Test "),J()()()}if(2&n){const t=$t();Je(5),rt("disabled",!t.proxyServerValid)}}Ba.\u0275fac=function(e){return new(e||Ba)(C(Na),C(Ps),C(Tc),C(Hr),C(Qi),C(ys),C(Qn),C(gs),C(Al),C(No),C(Xi),C(Jl),C(kt))},Ba.\u0275cmp=ut({type:Ba,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Sessions"),J(),se(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return t.importSession()}),dt(6,"ion-icon",2),J()(),se(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return t.showHelp()}),dt(9,"ion-icon",4),J(),dt(10,"app-pwa-prompt"),J()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Sessions"),J()()(),an(16,r5,2,0,"div",7),an(17,o5,9,0,"div",8),an(18,s5,2,2,"ion-list",9),J()),2&e&&(Je(16),rt("ngIf",t.sessionService.isLoading()),Je(1),rt("ngIf",!t.sessionService.isLoading()&&0===t.sessions.length),Je(1),rt("ngIf",!t.sessionService.isLoading()&&t.sessions.length>0))},dependencies:[_c,ii,zi,Gi,Wi,Zi,li,xa,Hf,Ki,Yi,Xl,ap],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),W([yo()],Ba.prototype,"deleteSession",null),W([yo()],Ba.prototype,"editSession",null),W([yo()],Ba.prototype,"saveSession",null),W([yo()],Ba.prototype,"launchSession",null),W([yo()],Ba.prototype,"resetSession",null);class lp{constructor(e,t,r,o,i){this.modalController=e,this.kvsService=t,this.clipboardService=r,this.alertService=o,this.proxyService=i,this.onAudioOnStartChange=s=>{this.kvsService.kvs.enableAudioOnFirstInteraction=s,s&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:gl,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,ae.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,ae.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Yh({volume:new ai(this.kvsService.kvs.volume),showStatistics:new ai(this.kvsService.kvs.showStatistics),runHidden:new ai(this.kvsService.kvs.runHidden),clipboardIntegration:new ai(this.kvsService.kvs.clipboardIntegration),networkRedirection:new ai(this.kvsService.kvs.networkRedirection),proxyServer:new ai(this.kvsService.kvs.proxyServer,{validators:[NH]}),autoLockUI:new ai(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new ai(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new ai(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}lp.\u0275fac=function(e){return new(e||lp)(C(gs),C(Yo),C(Rc),C(Hr),C(Kl))},lp.\u0275cmp=ut({type:lp,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Settings"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.showHelp()}),dt(6,"ion-icon",3),J(),dt(7,"app-pwa-prompt"),J()()(),se(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),qe(12,"Settings"),J()()(),se(13,"div",6)(14,"form",7)(15,"h1"),qe(16,"Emulation"),J(),se(17,"ion-item",8)(18,"ion-label"),qe(19,"Volume"),J(),dt(20,"ion-range",9),J(),se(21,"ion-item",8)(22,"ion-label"),qe(23,"Enable audio on start"),J(),dt(24,"ion-toggle",10),J(),se(25,"ion-item",8)(26,"ion-label"),qe(27,"Run when hidden"),J(),dt(28,"ion-toggle",11),J(),se(29,"h1"),qe(30,"Host integration"),J(),an(31,a5,4,0,"ion-item",12),se(32,"ion-item",8)(33,"ion-label"),qe(34,"Network redirection"),J(),dt(35,"ion-toggle",13),J(),an(36,l5,7,1,"ion-item",12),se(37,"h1"),qe(38,"UI"),J(),se(39,"ion-item",8)(40,"ion-label"),qe(41,"Auto-lock UI"),J(),dt(42,"ion-toggle",14),J(),se(43,"ion-item",8)(44,"ion-label"),qe(45,"Show statistics"),J(),dt(46,"ion-toggle",15),J(),se(47,"ion-item",8)(48,"ion-label"),qe(49,"Open from remote sources"),J(),dt(50,"ion-toggle",16),J()()()()),2&e&&(rt("translucent",!0),Je(14),rt("formGroup",t.formGroup),Je(17),rt("ngIf",t.clipboardService.isSupported()),Je(5),rt("ngIf",t.showProxyServer))},dependencies:[ii,al,il,sl,zi,Gi,Wi,Zi,li,pl,Ko,qi,Gv,Ki,zf,Yi,Wu,jf,fl,Xl,ta,ka],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]});class Vc{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}function c5(n,e){1&n&&(se(0,"div",14)(1,"b"),qe(2,"WARNING:"),J(),qe(3," This image cannot be used as a memory stick image."),J())}Vc.\u0275fac=function(e){return new(e||Vc)},Vc.\u0275pipe=jn({name:"cardSize",type:Vc,pure:!0});class cd{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value&&r.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Nl({name:new ms("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique]}),size:new ms({value:"dummy",disabled:!0}),checkAutomatically:new ms(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}function u5(n,e){if(1&n&&(se(0,"ion-select-option",13),qe(1),Ca(2,"cardSize"),J()),2&n){const t=e.$implicit,r=$t();rt("value",t),Je(1),Pi("",Sa(2,2,r.sizeBytes(t))," ")}}cd.\u0275fac=function(e){return new(e||cd)(C(oa))},cd.\u0275cmp=ut({type:cd,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.save()}),qe(6,"Save"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),J(),dt(15,"ion-input",9),J(),se(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),J(),se(19,"ion-select",10)(20,"ion-select-option",11),qe(21),Ca(22,"cardSize"),J()()(),se(23,"ion-item",7)(24,"ion-label"),qe(25,"Check for errors automatically"),J(),dt(26,"ion-toggle",12),J()(),an(27,c5,4,0,"div",13),J()),2&e&&(Je(3),Is(t.newCard?"New memory card":"Edit memory card"),Je(2),rt("disabled",t.formGroup.invalid),Je(6),rt("formGroup",t.formGroup),Je(10),Pi("",Sa(22,5,null==t.card?null:t.card.size)," "),Je(6),rt("ngIf",!t.memoryStickSupported))},dependencies:[ii,zi,Gi,Wi,Zi,pl,Ko,qi,xm,Am,Ki,zf,Yi,Wu,jf,fl,al,il,sl,ta,ka,Vc],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]});const d5=[vo.mb4,vo.mb8,vo.mb16,vo.mb32,vo.mb64,vo.mb128];class cp{constructor(e){this.storageCardService=e,this.validateNameUnique=t=>this.storageCardService.getAllCards().some(r=>r.name===t.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Nl({name:new ms("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique]}),size:new ms(vo.mb32,{nonNullable:!0}),checkAutomatically:new ms(!0,{nonNullable:!0})})}get sizes(){return d5}sizeBytes(e){return function ZH(n){switch(n){case vo.mb4:return 4046848;case vo.mb8:return 8110080;case vo.mb16:return 16220160;case vo.mb32:return 32473088;case vo.mb64:return 64978944;case vo.mb128:return 129990656;default:throw new Error(`bad card size ${n}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}cp.\u0275fac=function(e){return new(e||cp)(C(oa))},cp.\u0275cmp=ut({type:cp,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"New memory card"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.create()}),qe(6,"Create"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancel()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Card name"),J(),dt(15,"ion-input",9),J(),se(16,"ion-item",7)(17,"ion-label",8),qe(18,"Card size"),J(),se(19,"ion-select",10),an(20,u5,3,4,"ion-select-option",11),J()(),se(21,"ion-item",7)(22,"ion-label"),qe(23,"Check for errors automatically"),J(),dt(24,"ion-toggle",12),J()()()),2&e&&(Je(5),rt("disabled",t.formGroup.invalid),Je(6),rt("formGroup",t.formGroup),Je(9),rt("ngForOf",t.sizes))},dependencies:[_c,zi,Gi,Wi,Zi,pl,Ko,qi,xm,Am,Ki,zf,Yi,Wu,jf,fl,al,il,sl,ta,ka,Vc]});class up{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}up.\u0275fac=function(e){return new(e||up)},up.\u0275cmp=ut({type:up,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),qe(3," Edit "),J(),se(4,"ion-item",0),at("click",function(){return t.onSave()}),dt(5,"ion-icon",2),qe(6," Save "),J(),se(7,"ion-item",0),at("click",function(){return t.onCheck()}),dt(8,"ion-icon",3),qe(9," Check "),J(),se(10,"ion-item",4),at("click",function(){return t.onDelete()}),dt(11,"ion-icon",5),qe(12," Delete "),J()()),2&e&&(Je(1),rt("detail",!1),Je(3),rt("detail",!1),Je(3),rt("detail",!1),Je(3),rt("detail",!1))},dependencies:[li,Ko,xa]});class dp{constructor(e,t){this.storageCardService=e,this.popoverController=t,this.touched=!1,this.interaction=new Dn,this.selectCard=new Dn,this.edit=new Dn,this.check=new Dn,this.delete=new Dn,this.save=new Dn}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:up,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.edit.emit(t.card),onSave:()=>t.save.emit(t.card),onCheck:()=>t.check.emit(),onDelete:()=>t.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case Tr.dirty:return"needs check";case Tr.clean:return"no errors";case Tr.unformatted:return"no filesystem";case Tr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}function f5(n,e){1&n&&(se(0,"div",10),dt(1,"ion-spinner"),J())}function p5(n,e){1&n&&(se(0,"div",11)(1,"div",12),qe(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),J()())}function h5(n,e){if(1&n){const t=vr();se(0,"app-storage-card",14),at("delete",function(){const i=xt(t).$implicit;return Rt($t(2).deleteCard(i))})("selectCard",function(){const i=xt(t).$implicit;return Rt($t(2).selectCard(i))})("edit",function(){const i=xt(t).$implicit;return Rt($t(2).editCard(i))})("check",function(){const i=xt(t).$implicit;return Rt($t(2).checkCard(i))})("interaction",function(){const i=xt(t).$implicit;return Rt($t(2).lastCardTouched=i.id)})("save",function(){const i=xt(t).$implicit;return Rt($t(2).saveCard(i))}),J()}if(2&n){const t=e.$implicit,r=$t(2);rt("card",t)("touched",t.id===r.lastCardTouched)}}function m5(n,e){if(1&n&&(se(0,"ion-list"),an(1,h5,1,2,"app-storage-card",13),J()),2&n){const t=$t();Je(1),rt("ngForOf",t.cards)("ngForTrackBy",t.trackCardBy)}}dp.\u0275fac=function(e){return new(e||dp)(C(oa),C(Mc))},dp.\u0275cmp=ut({type:dp,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,t){if(1&e){const r=vr();se(0,"ion-item-sliding",0,1),at("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.card)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return xt(r),Ds(1).close(),Rt(t.edit.emit(t.card))}),dt(4,"ion-icon",4),J(),se(5,"ion-item-option",5),at("click",function(){return xt(r),Ds(1).close(),Rt(t.save.emit(t.card))}),dt(6,"ion-icon",6),J()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return xt(r),Ds(1).close(),Rt(t.check.emit(t.card))}),dt(9,"ion-icon",9),J(),se(10,"ion-item-option",10),at("click",function(){return xt(r),Ds(1).close(),Rt(t.delete.emit(t.card))}),dt(11,"ion-icon",11),J()(),se(12,"ion-item",12),at("click",function(){return t.selectCard.emit(),t.interaction.emit()}),se(13,"ion-label")(14,"h2"),qe(15),J(),se(16,"p"),qe(17),Ca(18,"cardSize"),J()()()()}2&e&&(Je(12),rt("color",t.color),Je(3),Is(null==t.card?null:t.card.name),Je(2),Yd("",Sa(18,4,null==t.card?null:t.card.size),", ",t.status,""))},dependencies:[li,Ko,km,Tm,Mm,qi,Vc],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}"],changeDetection:0});class ia{constructor(e,t,r,o,i,s,a,u,f){var h=this;this.actionSheetController=e,this.storageCardService=t,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=u,this.handleCardImport=function(){var y=(0,ae.Z)(function*(T){const M=yield h.cloudpilotService.cloudpilot;let Y;try{Y=yield T.getContent()}catch(Ke){return console.warn(Ke),void(yield h.alertService.errorMessage(`Unable to open ${T.name}".`))}const Se=M.getCardSupportLevel(Y.length);if(0===Se)return void h.alertService.errorMessage("This is not a supported card image.");const ze=yield new Promise(function(){var Ke=(0,ae.Z)(function*(St){const Oe=yield h.modalController.create({component:cd,backdropDismiss:!1,componentProps:{card:{name:h.disambiguateName(T.name),size:Y.length},cardSupportLevel:Se,newCard:!0,onCancel:()=>{Oe.dismiss(),St(void 0)},onSave:Nt=>{St(Nt),Oe.dismiss()}}});yield Oe.present()});return function(St){return Ke.apply(this,arguments)}}());ze&&(yield h.storageCardService.createCardFromImage(ze.name,Y,!!ze.dontFsckAutomatically))});return function(T){return y.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.checkCards=I0(f,[],()=>this.storageCardService.getAllCards())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(e){this.fileService.openFromDrop(e,this.handleFilesFromDrop.bind(this))}addCardImage(){var e=this;return(0,ae.Z)(function*(){(yield e.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>e.createNewCardImage()},{text:"Import an existing image",handler:()=>e.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(e){var t=this;return(0,ae.Z)(function*(){(yield t.storageCardService.browseCard(e))&&t.onMountForBrowse(e)})()}editCard(e){var t=this;return(0,ae.Z)(function*(){const r=yield t.cloudpilotService.cloudpilot,o=yield t.modalController.create({component:cd,backdropDismiss:!1,componentProps:{card:e,cardSupportLevel:r.getCardSupportLevel(e.size),onCancel:()=>o.dismiss(),onSave:(i=(0,ae.Z)(function*(s){yield t.storageCardService.updateCard(e.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(e){return this.storageCardService.saveCard(e.id,`${Hm(e.name.replace(/\.img$/,""))}.img`)}checkCard(e){return this.storageCardService.checkCard(e)}deleteCard(e){var t=this;return(0,ae.Z)(function*(){var o;yield(yield t.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${e.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,ae.Z)(function*(){try{yield t.storageCardService.deleteCard(e.id)}catch(i){t.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(e,t){return t.id}handleFilesFromDrop(e){if(0!==e.length){if(e.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(e[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var e=this;return(0,ae.Z)(function*(){const t=yield e.modalController.create({component:cp,backdropDismiss:!1,componentProps:{onCancel:()=>t.dismiss(),onCreate:(r=(0,ae.Z)(function*(o,i,s){yield e.storageCardService.createEmptyCard(o,i,s),yield t.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield t.present()})()}disambiguateName(e){const t=this.storageCardService.getAllCards();return jT(e,r=>t.some(o=>o.name===r))}}function g5(n,e){1&n&&dt(0,"ion-icon",8)}function y5(n,e){1&n&&dt(0,"ion-icon",9)}function _5(n,e){1&n&&dt(0,"ion-icon",10)}function v5(n,e){if(1&n){const t=vr();se(0,"ion-item",2),at("click",function(){const i=xt(t).index;return Rt($t(2).onSelect(i))}),Gd(1,3),an(2,g5,1,0,"ion-icon",4),an(3,y5,1,0,"ion-icon",5),an(4,_5,1,0,"ion-icon",6),Wd(),se(5,"div",7),qe(6),J()()}if(2&n){const t=e.$implicit,r=e.index,o=$t(2);rt("detail",!1)("lines",r===o.entries.length-1?"none":"full"),Je(1),rt("ngSwitch",o.entries.length),Je(1),rt("ngSwitchCase",r+1),Je(1),rt("ngSwitchCase",r+2),Je(3),Is(t)}}function b5(n,e){if(1&n&&(se(0,"ion-list"),an(1,v5,7,6,"ion-item",1),J()),2&n){const t=$t();Je(1),rt("ngForOf",t.entries)}}ia.\u0275fac=function(e){return new(e||ia)(C(qf),C(oa),C(gs),C(Tc),C(Xi),C(Hr),C(Us),C(Ps),C(kt))},ia.\u0275cmp=ut({type:ia,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(e,t){1&e&&(se(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),qe(3,"Memory cards"),J(),se(4,"ion-buttons",0)(5,"ion-button",1),at("click",function(){return t.addCardImage()}),dt(6,"ion-icon",2),J()(),se(7,"ion-buttons",3)(8,"ion-button",1),at("click",function(){return t.showHelp()}),dt(9,"ion-icon",4),J(),dt(10,"app-pwa-prompt"),J()()(),se(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),qe(15,"Memory cards"),J()()(),an(16,f5,2,0,"div",7),an(17,p5,3,0,"div",8),an(18,m5,2,2,"ion-list",9),J()),2&e&&(Je(16),rt("ngIf",t.storageCardService.isLoading()),Je(1),rt("ngIf",!t.storageCardService.isLoading()&&0===t.cards.length),Je(1),rt("ngIf",!t.storageCardService.isLoading()&&t.cards.length>0))},dependencies:[_c,ii,zi,Gi,Wi,Zi,li,xa,Hf,Ki,Yi,Xl,dp],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),W([yo()],ia.prototype,"addCardImage",null),W([yo()],ia.prototype,"selectCard",null),W([yo()],ia.prototype,"editCard",null),W([yo()],ia.prototype,"saveCard",null),W([yo()],ia.prototype,"checkCard",null),W([yo()],ia.prototype,"deleteCard",null);class fp{constructor(){this.onSelect=()=>{}}}fp.\u0275fac=function(e){return new(e||fp)},fp.\u0275cmp=ut({type:fp,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,t){1&e&&an(0,b5,2,1,"ion-list",0),2&e&&rt("ngIf",t.entries)},dependencies:[_c,ii,Oh,XE,QE,li,Ko,xa],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});class pp{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}pp.\u0275fac=function(e){return new(e||pp)},pp.\u0275cmp=ut({type:pp,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onStartSelection()}),dt(2,"ion-icon",1),qe(3," Start selection "),J(),se(4,"ion-item",2),at("click",function(){return t.onAddFiles()}),dt(5,"ion-icon",3),qe(6," Add files "),J(),se(7,"ion-item",2),at("click",function(){return t.onCreateDirectry()}),dt(8,"ion-icon",4),qe(9," Add directory "),J(),se(10,"ion-item",2),at("click",function(){return t.onExtractZipfile()}),dt(11,"ion-icon",5),qe(12," Extract zip "),J(),se(13,"ion-item",0),at("click",function(){return t.onPaste()}),dt(14,"ion-icon",6),qe(15," Paste "),J(),se(16,"ion-item",7),at("click",function(){return t.onHelp()}),dt(17,"ion-icon",8),qe(18," Help "),J()()),2&e&&(Je(1),rt("detail",!1)("disabled",t.emptyDirectory),Je(3),rt("detail",!1),Je(3),rt("detail",!1),Je(3),rt("detail",!1),Je(3),rt("detail",!1)("disabled",!0),Je(3),rt("detail",!1))},dependencies:[li,Ko,xa]});class Uc{constructor(e,t){this.modalController=e,this.vfsService=t,this.validateNameUnique=r=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Nl({name:new ms("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new ms(!1,{nonNullable:!0}),attrHidden:new ms(!1,{nonNullable:!0}),attrSystem:new ms(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var e=this;return(0,ae.Z)(function*(){yield e.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var e=this;return(0,ae.Z)(function*(){yield e.save()})()}save(){var e=this;return(0,ae.Z)(function*(){e.entry&&e.formGroup.valid&&(yield e.vfsService.updateFileEntry(e.entry.path,{name:e.formGroup.controls.name.value??"",attributes:{hidden:!!e.formGroup.controls.attrHidden.value,readonly:!!e.formGroup.controls.attrReadonly.value,system:!!e.formGroup.controls.attrSystem.value}}),e.onSave(),e.modalController.dismiss())})()}}Uc.\u0275fac=function(e){return new(e||Uc)(C(gs),C(La))},Uc.\u0275cmp=ut({type:Uc,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.onSaveClick()}),qe(6,"Save"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14),J(),dt(15,"ion-input",9),J(),se(16,"ion-item",7)(17,"h2"),qe(18,"Attributes"),J()(),se(19,"ion-item",7)(20,"ion-label"),dt(21,"ion-icon",10),qe(22,"Readonly"),J(),dt(23,"ion-checkbox",11),J(),se(24,"ion-item",7)(25,"ion-label"),dt(26,"ion-icon",12),qe(27,"Hidden"),J(),dt(28,"ion-checkbox",13),J(),se(29,"ion-item",7)(30,"ion-label"),dt(31,"ion-icon",14),qe(32,"System"),J(),dt(33,"ion-checkbox",15),J()()()),2&e&&(Je(3),Pi("Edit ",t.subjectName.toLowerCase(),""),Je(2),rt("disabled",t.formGroup.invalid),Je(6),rt("formGroup",t.formGroup),Je(3),Pi("",t.subjectName," name"),Je(1),uh("placeholder","Enter ",t.subjectName.toLowerCase()," name"))},dependencies:[zi,Gi,gk,Wi,Zi,li,pl,Ko,qi,Ki,Yi,Wu,fl,al,il,sl,ta,ka],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),W([yo()],Uc.prototype,"onSaveClick",null),W([yo()],Uc.prototype,"onEnter",null);class hp{constructor(e,t){this.el=e,this.zone=t;const r=e.nativeElement.querySelector("input");r?r.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const e=this.el.nativeElement.querySelector("input");e&&(e.focus(),this.observer?.disconnect())}}hp.\u0275fac=function(e){return new(e||hp)(C(_t),C(pt))},hp.\u0275dir=st({type:hp,selectors:[["","appAutofocus",""]]});class mp{constructor(e,t){this.vfsService=e,this.modalController=t,this.validateNameUnique=r=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(o=>o.name.toLocaleLowerCase()===r.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=r=>this.vfsService.isFilenameValid(r.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Nl({name:new ms("",{nonNullable:!0,validators:[_f.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}function HT(n){let e,t,r=!1;return o=>((!r||o!==e)&&(e=o,r=!0,t=n(o)),t)}mp.\u0275fac=function(e){return new(e||mp)(C(La),C(gs))},mp.\u0275cmp=ut({type:mp,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["translucent",""],["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(e,t){1&e&&(se(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),qe(3,"Create directory"),J(),se(4,"ion-buttons",1)(5,"ion-button",2),at("click",function(){return t.onCreateClick()}),qe(6,"Create"),J()(),se(7,"ion-buttons",3)(8,"ion-button",4),at("click",function(){return t.onCancelClick()}),qe(9,"Cancel"),J()()()(),se(10,"ion-content",5)(11,"form",6),at("keydown.enter",function(){return t.onEnter()}),se(12,"ion-item",7)(13,"ion-label",8),qe(14,"Directory name"),J(),dt(15,"ion-input",9),J()()()),2&e&&(Je(5),rt("disabled",t.formGroup.invalid),Je(6),rt("formGroup",t.formGroup))},dependencies:[zi,Gi,Wi,Zi,pl,Ko,qi,Ki,Yi,fl,al,il,sl,ta,ka,hp]});class gp{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}gp.\u0275fac=function(e){return new(e||gp)},gp.\u0275cmp=ut({type:gp,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,t){1&e&&(se(0,"ion-list")(1,"ion-item",0),at("click",function(){return t.onEdit()}),dt(2,"ion-icon",1),qe(3," Edit "),J(),se(4,"ion-item",0),at("click",function(){return t.onSave()}),dt(5,"ion-icon",2),qe(6," Save "),J(),se(7,"ion-item",0),at("click",function(){return t.onCopy()}),dt(8,"ion-icon",3),qe(9," Copy "),J(),se(10,"ion-item",0),at("click",function(){return t.onCut()}),dt(11,"ion-icon",4),qe(12," Cut "),J(),se(13,"ion-item",5),at("click",function(){return t.onDelete()}),dt(14,"ion-icon",6),qe(15," Delete "),J()()),2&e&&(Je(1),rt("detail",!1),Je(3),rt("detail",!1),Je(3),rt("detail",!1),Je(3),rt("detail",!1),Je(3),rt("detail",!1))},dependencies:[li,Ko,xa]});class ud{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}ud.\u0275fac=function(e){return new(e||ud)},ud.\u0275pipe=jn({name:"fileSize",type:ud,pure:!0});const w5=["slidingItem"];function C5(n,e){1&n&&dt(0,"ion-icon",21)}function S5(n,e){1&n&&dt(0,"ion-icon",22)}function E5(n,e){1&n&&dt(0,"ion-icon",23)}function D5(n,e){1&n&&dt(0,"ion-icon",24)}function I5(n,e){1&n&&dt(0,"ion-icon",25)}function k5(n,e){1&n&&dt(0,"ion-icon",26)}function T5(n,e){1&n&&dt(0,"ion-icon",27)}function M5(n,e){if(1&n&&(Gd(0),qe(1),Ca(2,"fileSize"),Wd()),2&n){const t=$t();Je(1),Pi(" - ",Sa(2,1,null==t.entry?null:t.entry.size)," ")}}class yp{constructor(e,t){this.actionSheetController=e,this.popoverController=t,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new Dn,this.selectEntry=new Dn,this.editEntry=new Dn,this.copyEntry=new Dn,this.cutEntry=new Dn,this.deleteEntry=new Dn,this.saveEntry=new Dn}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var t=this;return(0,ae.Z)(function*(){e.stopPropagation(),e.preventDefault(),t.interaction.emit(),(yield t.popoverController.create({component:gp,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>t.editEntry.emit(t.entry),onSave:()=>t.saveEntry.emit(t.entry),onCopy:()=>t.copyEntry.emit(t.entry),onCut:()=>t.cutEntry.emit(t.entry),onDelete:()=>t.deleteEntry.emit(t.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,ae.Z)(function*(){const t=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${t}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${t}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}function x5(n,e){if(1&n){const t=vr();se(0,"ion-toolbar")(1,"ion-title",5),at("click",function(o){return xt(t),Rt($t().openBreadcrumbMenu(o))}),se(2,"div",6)(3,"div",7),qe(4),J(),dt(5,"div",8),J()(),se(6,"ion-buttons",9),dt(7,"ion-back-button"),J(),se(8,"ion-buttons",10)(9,"ion-button",11),at("click",function(o){return xt(t),Rt($t().openContextMenu(o))}),dt(10,"ion-icon",12),J()()()}if(2&n){const t=$t();Je(1),rt("id",t.breadcrumbTriggerId),Je(3),Is(t.title)}}function A5(n,e){if(1&n){const t=vr();se(0,"ion-buttons",14)(1,"ion-button",11),at("click",function(){return xt(t),Rt($t(2).onSelectAll())}),qe(2,"Select all"),J()()}}function P5(n,e){if(1&n){const t=vr();se(0,"ion-buttons",14)(1,"ion-button",11),at("click",function(){return xt(t),Rt($t(2).selection.clear())}),qe(2,"Clear"),J()()}}function R5(n,e){if(1&n){const t=vr();se(0,"ion-toolbar")(1,"ion-title"),qe(2,"Selection"),J(),se(3,"ion-buttons",10)(4,"ion-button",11),at("click",function(){return xt(t),Rt($t().onSelectionDone())}),qe(5),J()(),an(6,A5,3,0,"ion-buttons",13),an(7,P5,3,0,"ion-buttons",13),J()}if(2&n){const t=$t();Je(5),Is(0===t.selection.size?"Cancel":"Done"),Je(1),rt("ngIf",t.selection.size!==(null==t.entries?null:t.entries.length)),Je(1),rt("ngIf",t.selection.size===(null==t.entries?null:t.entries.length))}}function F5(n,e){if(1&n&&(se(0,"div",15)(1,"div",16),qe(2),J()()),2&n){const t=$t();Je(2),Pi(" empty ",t.isRoot?"card":"directory"," ")}}function O5(n,e){if(1&n){const t=vr();se(0,"app-file-entry",17),at("selectEntry",function(){const i=xt(t).$implicit;return Rt($t().onSelect(i))})("editEntry",function(){const i=xt(t).$implicit;return Rt($t().onEditEntry(i))})("saveEntry",function(){const i=xt(t).$implicit;return Rt($t().onSaveEntry(i))})("copyEntry",function(){const i=xt(t).$implicit;return Rt($t().onCopyEntry(i))})("cutEntry",function(){const i=xt(t).$implicit;return Rt($t().onCutEntry(i))})("deleteEntry",function(){const i=xt(t).$implicit;return Rt($t().onDeleteEntry(i))})("interaction",function(){const i=xt(t).$implicit;return Rt($t().lastEntryTouched=i.name)}),J()}if(2&n){const t=e.$implicit,r=$t();rt("entry",t)("selecting","select"===r.mode)("selected",r.selection.has(t.name))("touched",t.name===r.lastEntryTouched)}}function N5(n,e){if(1&n&&(se(0,"p"),qe(1),Ca(2,"fileSize"),Ca(3,"fileSize"),J()),2&n){const t=$t(2);Je(1),Yd(" ",Sa(2,2,t.bytesFree)," free, ",Sa(3,4,t.bytesTotal)," total ")}}function L5(n,e){if(1&n&&(se(0,"p"),qe(1),Ca(2,"fileSize"),J()),2&n){const t=$t(2);Je(1),Py(" ",Sa(2,3,t.bytesInFiles)," in ",t.fileCount," ",1===t.fileCount?"file":"files"," ")}}function $5(n,e){if(1&n&&(se(0,"ion-item",18)(1,"ion-label"),an(2,N5,4,6,"p",0),an(3,L5,3,5,"p",0),J()()),2&n){const t=$t();Je(2),rt("ngIf",t.isRoot),Je(1),rt("ngIf",t.fileCount>0)}}function B5(n,e){return n.isDirectory&&!e.isDirectory?-1:!n.isDirectory&&e.isDirectory?1:n.name.localeCompare(e.name)}yp.\u0275fac=function(e){return new(e||yp)(C(qf),C(Mc))},yp.\u0275cmp=ut({type:yp,selectors:[["app-file-entry"]],viewQuery:function(e,t){if(1&e&&Eu(w5,5),2&e){let r;ks(r=Ts())&&(t.slidingItem=r.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[Ao],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,t){if(1&e){const r=vr();se(0,"ion-item-sliding",0,1),at("contextmenu",function(i){return t.onContextmenu(i)})("ionDrag",function(){return t.interaction.emit(t.entry)}),se(2,"ion-item-options",2)(3,"ion-item-option",3),at("click",function(){return xt(r),Ds(1).close(),Rt(t.editEntry.emit(t.entry))}),dt(4,"ion-icon",4),J(),se(5,"ion-item-option",5),at("click",function(){return xt(r),Ds(1).close(),Rt(t.saveEntry.emit(t.entry))}),dt(6,"ion-icon",6),J()(),se(7,"ion-item-options",7)(8,"ion-item-option",8),at("click",function(){return xt(r),Ds(1).close(),Rt(t.cutOrCopyEntry())}),dt(9,"ion-icon",9),J(),se(10,"ion-item-option",10),at("click",function(){return xt(r),Ds(1).close(),Rt(t.deleteEntry.emit(t.entry))}),dt(11,"ion-icon",11),J()(),se(12,"ion-item",12),at("click",function(){return t.selectEntry.emit(),t.interaction.emit()}),an(13,C5,1,0,"ion-icon",13),an(14,S5,1,0,"ion-icon",14),an(15,E5,1,0,"ion-icon",15),an(16,D5,1,0,"ion-icon",16),an(17,I5,1,0,"ion-icon",17),an(18,k5,1,0,"ion-icon",18),an(19,T5,1,0,"ion-icon",19),se(20,"ion-label")(21,"h2"),qe(22),J(),se(23,"p"),qe(24),an(25,M5,3,3,"ng-container",20),J()()()()}2&e&&(rt("disabled",t.selecting),Je(12),qd("opacity",t.touched?1:.99999),Qa("is-directory",null==t.entry?null:t.entry.isDirectory),rt("color",t.color)("detail",(null==t.entry?null:t.entry.isDirectory)&&!t.selecting),Je(1),rt("ngIf",null==t.entry?null:t.entry.isDirectory),Je(1),rt("ngIf",!(null!=t.entry&&t.entry.isDirectory)),Je(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.readonly),Je(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.hidden),Je(1),rt("ngIf",null==t.entry||null==t.entry.attributes?null:t.entry.attributes.system),Je(1),rt("ngIf",t.selecting&&!t.selected),Je(1),rt("ngIf",t.selecting&&t.selected),Je(3),Is(null==t.entry?null:t.entry.name),Je(2),Pi(" ",null==t.entry?null:t.entry.lastModifiedLocalDate," "),Je(1),rt("ngIf",!(null!=t.entry&&t.entry.isDirectory)))},dependencies:[ii,li,Ko,km,Tm,Mm,qi,ud],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"],changeDetection:0});let V5=0;class Hs{constructor(e,t,r,o,i,s,a,u){this.vfsService=e,this.popoverController=t,this.config=r,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=u,this.bytesInFilesMemoized=HT(f=>f?.reduce((h,y)=>h+(y.isDirectory?0:y.size),0)??0),this.fileCountMemoized=HT(f=>f?.filter(h=>!h.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+V5++,this.checkEntries=I0(u,void 0,()=>void 0!==this.path?e.readdir(this.path):void 0)}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries()}handleDragDropEvent(e){this.fileService.openFromDrop(e,t=>this.vfsService.addFiles(t,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const e=this.vfsService.splitPath(this.path);return e[e.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(B5):[]}trackEntryBy(e,t){return t.name}onSelect(e){"browse"===this.mode?e.isDirectory&&this.onNavigate(e.path):this.selection?.has(e.name)?this.selection.delete(e.name):this.selection.add(e.name)}onEditEntry(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.modalController.create({component:Uc,backdropDismiss:!1,componentProps:{entry:e}})).present()})()}onSaveEntry(e){var t=this;return(0,ae.Z)(function*(){t.path&&(e.isDirectory?yield t.vfsService.archiveFiles([e],t.path):yield t.vfsService.saveFile(e))})()}onCopyEntry(e){this.alertService.message("Not implemented",`Copy ${e.name}: not implemented.`)}onCutEntry(e){this.alertService.message("Not implemented",`Cut ${e.name}: not implemented.`)}onDeleteEntry(e){var t=this;return(0,ae.Z)(function*(){e.isDirectory?yield t.vfsService.deleteRecursive([e]):yield t.vfsService.unlinkEntry(e)})()}onAddFiles(){this.fileService.openFiles(e=>this.vfsService.addFiles(e,this.path||"/"))}onCreateDirectory(){var e=this;return(0,ae.Z)(function*(){yield(yield e.modalController.create({component:mp,backdropDismiss:!1,componentProps:{parentPath:e.path,onCreate:r=>e.vfsService.mkdir(`${e.path}/${r}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var e=this;return(0,ae.Z)(function*(){if(!e.entries)return;const t=Array.from(e.selection),r=new Map(e.entries.map(a=>[a.name,a])),o=t.every(a=>!r.get(a)?.isDirectory),i=t.every(a=>r.get(a)?.isDirectory);let s=`${e.selection.size} items`;if(o&&(s=1===e.selection.size?"file":`${e.selection.size} files`),i&&(s=1===e.selection.size?"directory":`${e.selection.size} directories`),0!==e.selection.size){const a=yield e.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:e.onCopySelection.bind(e)},{text:`Cut ${s}`,handler:e.onCutSelection.bind(e)},{text:`Save ${s} as zip`,handler:e.onSaveZip.bind(e)},{text:`Delete ${s}`,handler:e.onDeleteSelection.bind(e)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}e.mode="browse",e.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(e=>this.selection.add(e.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){var e=this;return(0,ae.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.archiveFiles(t,e.path))})()}onDeleteSelection(){var e=this;return(0,ae.Z)(function*(){const t=e.materializeSelection();!t||!e.path||(yield e.vfsService.deleteRecursive(t))})()}openBreadcrumbMenu(e){var t=this;return(0,ae.Z)(function*(){if(!t.card||!t.path)return;const r=[..."/"===t.path?[]:[...t.vfsService.splitPath(t.path).reverse().slice(1),t.card.name],"Memory cards"];(yield t.popoverController.create({component:fp,event:e,componentProps:{entries:r,onSelect:i=>t.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===t.config.get("mode")?"center":"start",trigger:t.breadcrumbTriggerId})).present()})()}openContextMenu(e){var t=this;return(0,ae.Z)(function*(){(yield t.popoverController.create({component:pp,componentProps:{emptyDirectory:0===t.entries?.length,onStartSelection:t.onStartSelection.bind(t),onAddFiles:t.onAddFiles.bind(t),onCreateDirectry:t.onCreateDirectory.bind(t),onExtractZipfile:t.onExtractZipfile.bind(t),onPaste:t.onPaste.bind(t),onHelp:t.onHelp.bind(t)},event:e,dismissOnSelect:!0,arrow:!1})).present()})()}materializeSelection(){if(!this.path)return;const e=new Map(this.vfsService.readdir(this.path).map(t=>[t.name,t]));return Array.from(this.selection).map(t=>e.get(t)).filter(t=>!!t)}extractZipArchive(e){var t=this;return(0,ae.Z)(function*(){/\.zip$/.test(e.name)?t.vfsService.unpackArchive(yield e.getContent(),t.path||"/"):yield t.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}Hs.\u0275fac=function(e){return new(e||Hs)(C(La),C(Mc),C(qv),C(Hr),C(qf),C(gs),C(Ps),C(kt))},Hs.\u0275cmp=ut({type:Hs,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[1,"breadcrumb",3,"id","click"],[1,"breadcrumb-container"],[1,"breadcrumb-current"],[1,"select-arrow"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(e,t){1&e&&(se(0,"ion-header"),an(1,x5,11,2,"ion-toolbar",0),an(2,R5,8,3,"ion-toolbar",0),J(),se(3,"ion-content")(4,"div",1),an(5,F5,3,1,"div",2),se(6,"ion-list"),an(7,O5,1,4,"app-file-entry",3),an(8,$5,4,2,"ion-item",4),J()()()),2&e&&(Je(1),rt("ngIf","browse"===t.mode),Je(1),rt("ngIf","select"===t.mode),Je(3),rt("ngIf",0===(null==t.entries?null:t.entries.length)),Je(2),rt("ngForOf",t.entries)("ngForTrackBy",t.trackEntryBy),Je(1),rt("ngIf",t.isRoot||t.fileCount>0))},dependencies:[_c,ii,mk,zi,Gi,Wi,Zi,li,Ko,qi,xa,Ki,Yi,xk,yp,ud],styles:[".breadcrumb[_ngcontent-%COMP%]{cursor:pointer}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ios[_ngcontent-%COMP%]   .breadcrumb-container[_ngcontent-%COMP%]{justify-content:center}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),W([yo()],Hs.prototype,"onSaveEntry",null),W([yo()],Hs.prototype,"onDeleteEntry",null),W([yo()],Hs.prototype,"onCreateDirectory",null),W([yo()],Hs.prototype,"onSelectionDone",null),W([yo()],Hs.prototype,"onSaveZip",null),W([yo()],Hs.prototype,"onDeleteSelection",null);const U5=["nav"];class _p{constructor(e,t){this.vfsService=e,this.dragDropService=t,this.navRootProps={onMountForBrowse:r=>this.browseCard(r),selfReference:{}},this.onNavigate=r=>{this.currentlyBrowsingCard&&this.nav?.push(Hs,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=r=>{this.currentlyBrowsingCard&&this.nav?.popTo(r,{animated:this.animateNav})},this.navRoot=ia,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(e){var t=this;return(0,ae.Z)(function*(){yield(yield t.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(e)})()}get animateNav(){return!_j}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Hs,{card:e,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}_p.\u0275fac=function(e){return new(e||_p)(C(La),C(Jl))},_p.\u0275cmp=ut({type:_p,selectors:[["app-storage"]],viewQuery:function(e,t){if(1&e&&Eu(U5,5),2&e){let r;ks(r=Ts())&&(t.nav=r.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,t){1&e&&dt(0,"ion-nav",0,1),2&e&&rt("animated",t.animateNav)("root",t.navRoot)("rootParams",t.navRootProps)},dependencies:[yk,Ak]});const j5=[{path:"tab",component:$c,children:[{path:"emulation",component:ip},{path:"sessions",component:Ba},{path:"storage",component:_p},{path:"settings",component:lp},{path:"about",component:rp},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];class dd{}dd.\u0275fac=function(e){return new(e||dd)},dd.\u0275mod=Un({type:dd}),dd.\u0275inj=yr({imports:[Im.forChild(j5),Im]});class fd{}fd.\u0275fac=function(e){return new(e||fd)},fd.\u0275mod=Un({type:fd}),fd.\u0275inj=yr({imports:[Bl,Ia,wc,dd,td,nd,rd,od,ed]});class jc extends OE{pushState(e,t,r,o){this.replaceState(e,t,r,o)}}jc.\u0275fac=function(){let n;return function(t){return(n||(n=oi(jc)))(t||jc)}}(),jc.\u0275prov=gt({token:jc,factory:jc.\u0275fac});const H5=[{path:"install",component:Qu,canActivate:[Lc]},{path:"import",component:Qu,canActivate:[Lc]},{path:"",component:$c}];class pd{}pd.\u0275fac=function(e){return new(e||pd)},pd.\u0275mod=Un({type:pd}),pd.\u0275inj=yr({providers:[{provide:Da,useClass:jc}],imports:[Im.forRoot(H5,{preloadingStrategy:$B,useHash:!0}),fd,Im]});const zT=["touch","click","keydown"];class hd{constructor(e,t){this.kvsService=e,this.audioService=t,this.initialize()}initialize(){var e=this;return(0,ae.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const t=()=>{zT.forEach(r=>window.removeEventListener(r,t,!0)),e.audioService.initialize()};zT.forEach(r=>window.addEventListener(r,t,!0))})()}}hd.\u0275fac=function(e){return new(e||hd)(ee(Yo),ee(Ql))},hd.\u0275prov=gt({token:hd,factory:hd.\u0275fac,providedIn:"root"});class md{constructor(e,t,r,o,i,s,a){}}md.\u0275fac=function(e){return new(e||md)(ee(Qn),ee(Qi),ee(Ql),ee(Na),ee(Yo),ee(Nc),ee(hd))},md.\u0275mod=Un({type:md,bootstrap:[np]}),md.\u0275inj=yr({providers:[{provide:JI,useClass:class OU{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const r=e.params,o=t.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}},{provide:gc,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Yo]}],imports:[OL,Bl.forRoot(),pd,i6.register("ngsw-worker.js",{enabled:!0}),t0.forRoot({loader:G_,markedOptions:{provide:Xk,useFactory:()=>{const n=new Ku;return n.link=(e,t,r)=>`<a href="${e}" target="_blank" rel="external">${r||e}</a>`,{renderer:n,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}}}}),m3]}),window.global=window,function WL(){Vh=TD("#/install?"),Uh=TD("#/import?")}(),function Ij(){return!!localStorage.getItem(Lm)}()&&!MD()||function ZL(){return void 0!==Vh}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),FL().bootstrapModule(md).catch(n=>console.log(n))},3272:$e=>{var P,We=(P=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var re,te,l=typeof(k=k||{})<"u"?k:{};l.ready=new Promise(function(c,m){re=c,te=m});var H,Pe,Le,G=Object.assign({},l),Q=[],L="./this.program",U=(c,m)=>{throw m},ue="object"==typeof window,X="function"==typeof importScripts,V=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?V=self.location.href:typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),P&&(V=P),V=0!==V.indexOf("blob:")?V.substr(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=c=>{var m=new XMLHttpRequest;return m.open("GET",c,!1),m.send(null),m.responseText},X&&(Le=c=>{var m=new XMLHttpRequest;return m.open("GET",c,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),Pe=(c,m,v)=>{var x=new XMLHttpRequest;x.open("GET",c,!0),x.responseType="arraybuffer",x.onload=()=>{200==x.status||0==x.status&&x.response?m(x.response):v()},x.onerror=v,x.send(null)});var fe,Z=l.print||console.log.bind(console),K=l.printErr||console.warn.bind(console);Object.assign(l,G),G=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(U=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Re=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&sr("no native wasm support detected");var de,ce,it=!1;function Ce(c,m){c||sr(m)}var Ue,Xe,vt,O,ye,nt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(c,m,v){for(var x=m+v,j=m;c[j]&&!(j>=x);)++j;if(j-m>16&&c.buffer&&Ie)return Ie.decode(c.subarray(m,j));for(var we="";m<j;){var Te=c[m++];if(128&Te){var He=63&c[m++];if(192!=(224&Te)){var wt=63&c[m++];if((Te=224==(240&Te)?(15&Te)<<12|He<<6|wt:(7&Te)<<18|He<<12|wt<<6|63&c[m++])<65536)we+=String.fromCharCode(Te);else{var rn=Te-65536;we+=String.fromCharCode(55296|rn>>10,56320|1023&rn)}}else we+=String.fromCharCode((31&Te)<<6|He)}else we+=String.fromCharCode(Te)}return we}function Ne(c,m){return c?Ye(vt,c,m):""}function Me(c,m,v,x){if(!(x>0))return 0;for(var j=v,we=v+x-1,Te=0;Te<c.length;++Te){var He=c.charCodeAt(Te);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&c.charCodeAt(++Te)),He<=127){if(v>=we)break;m[v++]=He}else if(He<=2047){if(v+1>=we)break;m[v++]=192|He>>6,m[v++]=128|63&He}else if(He<=65535){if(v+2>=we)break;m[v++]=224|He>>12,m[v++]=128|He>>6&63,m[v++]=128|63&He}else{if(v+3>=we)break;m[v++]=240|He>>18,m[v++]=128|He>>12&63,m[v++]=128|He>>6&63,m[v++]=128|63&He}}return m[v]=0,v-j}function ne(c){for(var m=0,v=0;v<c.length;++v){var x=c.charCodeAt(v);x<=127?m++:x<=2047?m+=2:x>=55296&&x<=57343?(m+=4,++v):m+=3}return m}function Ve(c){Ue=c,l.HEAP8=Xe=new Int8Array(c),l.HEAP16=new Int16Array(c),l.HEAP32=O=new Int32Array(c),l.HEAPU8=vt=new Uint8Array(c),l.HEAPU16=new Uint16Array(c),l.HEAPU32=ye=new Uint32Array(c),l.HEAPF32=new Float32Array(c),l.HEAPF64=nt=new Float64Array(c)}var _e,mn,ht=[],Ae=[],Mt=[],ln=[],Mn=0,uo=null,Vn=null;function Gr(c){Mn++,l.monitorRunDependencies&&l.monitorRunDependencies(Mn)}function Ar(c){if(Mn--,l.monitorRunDependencies&&l.monitorRunDependencies(Mn),0==Mn&&(null!==uo&&(clearInterval(uo),uo=null),Vn)){var m=Vn;Vn=null,m()}}function sr(c){l.onAbort&&l.onAbort(c),K(c="Aborted("+c+")"),it=!0,ce=1,c+=". Build with -sASSERTIONS for more info.";var m=new WebAssembly.RuntimeError(c);throw te(m),m}function no(c){return c.startsWith("data:application/octet-stream;base64,")}function Xr(c){try{if(c==mn&&fe)return new Uint8Array(fe);if(Le)return Le(c);throw"both async and sync fetching of the wasm failed"}catch(m){sr(m)}}no(mn="cloudpilot_web.wasm")||(mn=function $(c){return l.locateFile?l.locateFile(c,V):V+c}(mn));var ct,le,Ge={243812:c=>{_e.grow(65536);for(let m=0;m<=65535;m++)_e.set(_e.length-65535-1+m,_e.get(ye[(c>>>2)+m]));return _e.length-65535-1}};function Nn(c){this.name="ExitStatus",this.message="Program terminated with exit("+c+")",this.status=c}function Wt(c){for(;c.length>0;)c.shift()(l)}function mr(c,m){return m+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*m:NaN}var Xt={isAbs:c=>"/"===c.charAt(0),splitPath:c=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(c).slice(1),normalizeArray:(c,m)=>{for(var v=0,x=c.length-1;x>=0;x--){var j=c[x];"."===j?c.splice(x,1):".."===j?(c.splice(x,1),v++):v&&(c.splice(x,1),v--)}if(m)for(;v;v--)c.unshift("..");return c},normalize:c=>{var m=Xt.isAbs(c),v="/"===c.substr(-1);return!(c=Xt.normalizeArray(c.split("/").filter(x=>!!x),!m).join("/"))&&!m&&(c="."),c&&v&&(c+="/"),(m?"/":"")+c},dirname:c=>{var m=Xt.splitPath(c),v=m[0],x=m[1];return v||x?(x&&(x=x.substr(0,x.length-1)),v+x):"."},basename:c=>{if("/"===c)return"/";var m=(c=(c=Xt.normalize(c)).replace(/\/$/,"")).lastIndexOf("/");return-1===m?c:c.substr(m+1)},join:function(){var c=Array.prototype.slice.call(arguments);return Xt.normalize(c.join("/"))},join2:(c,m)=>Xt.normalize(c+"/"+m)},tr={resolve:function(){for(var c="",m=!1,v=arguments.length-1;v>=-1&&!m;v--){var x=v>=0?arguments[v]:D.cwd();if("string"!=typeof x)throw new TypeError("Arguments to path.resolve must be strings");if(!x)return"";c=x+"/"+c,m=Xt.isAbs(x)}return(m?"/":"")+(c=Xt.normalizeArray(c.split("/").filter(j=>!!j),!m).join("/"))||"."},relative:(c,m)=>{function v(rn){for(var Bn=0;Bn<rn.length&&""===rn[Bn];Bn++);for(var zn=rn.length-1;zn>=0&&""===rn[zn];zn--);return Bn>zn?[]:rn.slice(Bn,zn-Bn+1)}c=tr.resolve(c).substr(1),m=tr.resolve(m).substr(1);for(var x=v(c.split("/")),j=v(m.split("/")),we=Math.min(x.length,j.length),Te=we,He=0;He<we;He++)if(x[He]!==j[He]){Te=He;break}var wt=[];for(He=Te;He<x.length;He++)wt.push("..");return(wt=wt.concat(j.slice(Te))).join("/")}};function cn(c,m,v){var x=v>0?v:ne(c)+1,j=new Array(x),we=Me(c,j,0,j.length);return m&&(j.length=we),j}var Ut={ttys:[],init:function(){},shutdown:function(){},register:function(c,m){Ut.ttys[c]={input:[],output:[],ops:m},D.registerDevice(c,Ut.stream_ops)},stream_ops:{open:function(c){var m=Ut.ttys[c.node.rdev];if(!m)throw new D.ErrnoError(43);c.tty=m,c.seekable=!1},close:function(c){c.tty.ops.fsync(c.tty)},fsync:function(c){c.tty.ops.fsync(c.tty)},read:function(c,m,v,x,j){if(!c.tty||!c.tty.ops.get_char)throw new D.ErrnoError(60);for(var we=0,Te=0;Te<x;Te++){var He;try{He=c.tty.ops.get_char(c.tty)}catch{throw new D.ErrnoError(29)}if(void 0===He&&0===we)throw new D.ErrnoError(6);if(null==He)break;we++,m[v+Te]=He}return we&&(c.node.timestamp=Date.now()),we},write:function(c,m,v,x,j){if(!c.tty||!c.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var we=0;we<x;we++)c.tty.ops.put_char(c.tty,m[v+we])}catch{throw new D.ErrnoError(29)}return x&&(c.node.timestamp=Date.now()),we}},default_tty_ops:{get_char:function(c){if(!c.input.length){var m=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(m=window.prompt("Input: "))&&(m+="\n"):"function"==typeof readline&&null!==(m=readline())&&(m+="\n"),!m)return null;c.input=cn(m,!0)}return c.input.shift()},put_char:function(c,m){null===m||10===m?(Z(Ye(c.output,0)),c.output=[]):0!=m&&c.output.push(m)},fsync:function(c){c.output&&c.output.length>0&&(Z(Ye(c.output,0)),c.output=[])}},default_tty1_ops:{put_char:function(c,m){null===m||10===m?(K(Ye(c.output,0)),c.output=[]):0!=m&&c.output.push(m)},fsync:function(c){c.output&&c.output.length>0&&(K(Ye(c.output,0)),c.output=[])}}};function E(c){sr()}var S={ops_table:null,mount:function(c){return S.createNode(null,"/",16895,0)},createNode:function(c,m,v,x){if(D.isBlkdev(v)||D.isFIFO(v))throw new D.ErrnoError(63);S.ops_table||(S.ops_table={dir:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,lookup:S.node_ops.lookup,mknod:S.node_ops.mknod,rename:S.node_ops.rename,unlink:S.node_ops.unlink,rmdir:S.node_ops.rmdir,readdir:S.node_ops.readdir,symlink:S.node_ops.symlink},stream:{llseek:S.stream_ops.llseek}},file:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:{llseek:S.stream_ops.llseek,read:S.stream_ops.read,write:S.stream_ops.write,allocate:S.stream_ops.allocate,mmap:S.stream_ops.mmap,msync:S.stream_ops.msync}},link:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr,readlink:S.node_ops.readlink},stream:{}},chrdev:{node:{getattr:S.node_ops.getattr,setattr:S.node_ops.setattr},stream:D.chrdev_stream_ops}});var j=D.createNode(c,m,v,x);return D.isDir(j.mode)?(j.node_ops=S.ops_table.dir.node,j.stream_ops=S.ops_table.dir.stream,j.contents={}):D.isFile(j.mode)?(j.node_ops=S.ops_table.file.node,j.stream_ops=S.ops_table.file.stream,j.usedBytes=0,j.contents=null):D.isLink(j.mode)?(j.node_ops=S.ops_table.link.node,j.stream_ops=S.ops_table.link.stream):D.isChrdev(j.mode)&&(j.node_ops=S.ops_table.chrdev.node,j.stream_ops=S.ops_table.chrdev.stream),j.timestamp=Date.now(),c&&(c.contents[m]=j,c.timestamp=j.timestamp),j},getFileDataAsTypedArray:function(c){return c.contents?c.contents.subarray?c.contents.subarray(0,c.usedBytes):new Uint8Array(c.contents):new Uint8Array(0)},expandFileStorage:function(c,m){var v=c.contents?c.contents.length:0;if(!(v>=m)){m=Math.max(m,v*(v<1048576?2:1.125)>>>0),0!=v&&(m=Math.max(m,256));var j=c.contents;c.contents=new Uint8Array(m),c.usedBytes>0&&c.contents.set(j.subarray(0,c.usedBytes),0)}},resizeFileStorage:function(c,m){if(c.usedBytes!=m)if(0==m)c.contents=null,c.usedBytes=0;else{var v=c.contents;c.contents=new Uint8Array(m),v&&c.contents.set(v.subarray(0,Math.min(m,c.usedBytes))),c.usedBytes=m}},node_ops:{getattr:function(c){var m={};return m.dev=D.isChrdev(c.mode)?c.id:1,m.ino=c.id,m.mode=c.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=c.rdev,m.size=D.isDir(c.mode)?4096:D.isFile(c.mode)?c.usedBytes:D.isLink(c.mode)?c.link.length:0,m.atime=new Date(c.timestamp),m.mtime=new Date(c.timestamp),m.ctime=new Date(c.timestamp),m.blksize=4096,m.blocks=Math.ceil(m.size/m.blksize),m},setattr:function(c,m){void 0!==m.mode&&(c.mode=m.mode),void 0!==m.timestamp&&(c.timestamp=m.timestamp),void 0!==m.size&&S.resizeFileStorage(c,m.size)},lookup:function(c,m){throw D.genericErrors[44]},mknod:function(c,m,v,x){return S.createNode(c,m,v,x)},rename:function(c,m,v){if(D.isDir(c.mode)){var x;try{x=D.lookupNode(m,v)}catch{}if(x)for(var j in x.contents)throw new D.ErrnoError(55)}delete c.parent.contents[c.name],c.parent.timestamp=Date.now(),c.name=v,m.contents[v]=c,m.timestamp=c.parent.timestamp,c.parent=m},unlink:function(c,m){delete c.contents[m],c.timestamp=Date.now()},rmdir:function(c,m){var v=D.lookupNode(c,m);for(var x in v.contents)throw new D.ErrnoError(55);delete c.contents[m],c.timestamp=Date.now()},readdir:function(c){var m=[".",".."];for(var v in c.contents)c.contents.hasOwnProperty(v)&&m.push(v);return m},symlink:function(c,m,v){var x=S.createNode(c,m,41471,0);return x.link=v,x},readlink:function(c){if(!D.isLink(c.mode))throw new D.ErrnoError(28);return c.link}},stream_ops:{read:function(c,m,v,x,j){var we=c.node.contents;if(j>=c.node.usedBytes)return 0;var Te=Math.min(c.node.usedBytes-j,x);if(Te>8&&we.subarray)m.set(we.subarray(j,j+Te),v);else for(var He=0;He<Te;He++)m[v+He]=we[j+He];return Te},write:function(c,m,v,x,j,we){if(m.buffer===Xe.buffer&&(we=!1),!x)return 0;var Te=c.node;if(Te.timestamp=Date.now(),m.subarray&&(!Te.contents||Te.contents.subarray)){if(we)return Te.contents=m.subarray(v,v+x),Te.usedBytes=x,x;if(0===Te.usedBytes&&0===j)return Te.contents=m.slice(v,v+x),Te.usedBytes=x,x;if(j+x<=Te.usedBytes)return Te.contents.set(m.subarray(v,v+x),j),x}if(S.expandFileStorage(Te,j+x),Te.contents.subarray&&m.subarray)Te.contents.set(m.subarray(v,v+x),j);else for(var He=0;He<x;He++)Te.contents[j+He]=m[v+He];return Te.usedBytes=Math.max(Te.usedBytes,j+x),x},llseek:function(c,m,v){var x=m;if(1===v?x+=c.position:2===v&&D.isFile(c.node.mode)&&(x+=c.node.usedBytes),x<0)throw new D.ErrnoError(28);return x},allocate:function(c,m,v){S.expandFileStorage(c.node,m+v),c.node.usedBytes=Math.max(c.node.usedBytes,m+v)},mmap:function(c,m,v,x,j){if(!D.isFile(c.node.mode))throw new D.ErrnoError(43);var we,Te,He=c.node.contents;if(2&j||He.buffer!==Ue){if((v>0||v+m<He.length)&&(He=He.subarray?He.subarray(v,v+m):Array.prototype.slice.call(He,v,v+m)),Te=!0,!(we=E()))throw new D.ErrnoError(48);Xe.set(He,we)}else Te=!1,we=He.byteOffset;return{ptr:we,allocated:Te}},msync:function(c,m,v,x,j){return S.stream_ops.write(c,m,0,x,v,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(c,m={})=>{if(!(c=tr.resolve(c)))return{path:"",node:null};if((m=Object.assign({follow_mount:!0,recurse_count:0},m)).recurse_count>8)throw new D.ErrnoError(32);for(var x=c.split("/").filter(zn=>!!zn),j=D.root,we="/",Te=0;Te<x.length;Te++){var He=Te===x.length-1;if(He&&m.parent)break;if(j=D.lookupNode(j,x[Te]),we=Xt.join2(we,x[Te]),D.isMountpoint(j)&&(!He||He&&m.follow_mount)&&(j=j.mounted.root),!He||m.follow)for(var wt=0;D.isLink(j.mode);){var rn=D.readlink(we);if(we=tr.resolve(Xt.dirname(we),rn),j=D.lookupPath(we,{recurse_count:m.recurse_count+1}).node,wt++>40)throw new D.ErrnoError(32)}}return{path:we,node:j}},getPath:c=>{for(var m;;){if(D.isRoot(c)){var v=c.mount.mountpoint;return m?"/"!==v[v.length-1]?v+"/"+m:v+m:v}m=m?c.name+"/"+m:c.name,c=c.parent}},hashName:(c,m)=>{for(var v=0,x=0;x<m.length;x++)v=(v<<5)-v+m.charCodeAt(x)|0;return(c+v>>>0)%D.nameTable.length},hashAddNode:c=>{var m=D.hashName(c.parent.id,c.name);c.name_next=D.nameTable[m],D.nameTable[m]=c},hashRemoveNode:c=>{var m=D.hashName(c.parent.id,c.name);if(D.nameTable[m]===c)D.nameTable[m]=c.name_next;else for(var v=D.nameTable[m];v;){if(v.name_next===c){v.name_next=c.name_next;break}v=v.name_next}},lookupNode:(c,m)=>{var v=D.mayLookup(c);if(v)throw new D.ErrnoError(v,c);for(var x=D.hashName(c.id,m),j=D.nameTable[x];j;j=j.name_next)if(j.parent.id===c.id&&j.name===m)return j;return D.lookup(c,m)},createNode:(c,m,v,x)=>{var j=new D.FSNode(c,m,v,x);return D.hashAddNode(j),j},destroyNode:c=>{D.hashRemoveNode(c)},isRoot:c=>c===c.parent,isMountpoint:c=>!!c.mounted,isFile:c=>32768==(61440&c),isDir:c=>16384==(61440&c),isLink:c=>40960==(61440&c),isChrdev:c=>8192==(61440&c),isBlkdev:c=>24576==(61440&c),isFIFO:c=>4096==(61440&c),isSocket:c=>49152==(49152&c),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:c=>{var m=D.flagModes[c];if(typeof m>"u")throw new Error("Unknown file open mode: "+c);return m},flagsToPermissionString:c=>{var m=["r","w","rw"][3&c];return 512&c&&(m+="w"),m},nodePermissions:(c,m)=>D.ignorePermissions?0:m.includes("r")&&!(292&c.mode)||m.includes("w")&&!(146&c.mode)||m.includes("x")&&!(73&c.mode)?2:0,mayLookup:c=>D.nodePermissions(c,"x")||(c.node_ops.lookup?0:2),mayCreate:(c,m)=>{try{return D.lookupNode(c,m),20}catch{}return D.nodePermissions(c,"wx")},mayDelete:(c,m,v)=>{var x;try{x=D.lookupNode(c,m)}catch(we){return we.errno}var j=D.nodePermissions(c,"wx");if(j)return j;if(v){if(!D.isDir(x.mode))return 54;if(D.isRoot(x)||D.getPath(x)===D.cwd())return 10}else if(D.isDir(x.mode))return 31;return 0},mayOpen:(c,m)=>c?D.isLink(c.mode)?32:D.isDir(c.mode)&&("r"!==D.flagsToPermissionString(m)||512&m)?31:D.nodePermissions(c,D.flagsToPermissionString(m)):44,MAX_OPEN_FDS:4096,nextfd:(c=0,m=D.MAX_OPEN_FDS)=>{for(var v=c;v<=m;v++)if(!D.streams[v])return v;throw new D.ErrnoError(33)},getStream:c=>D.streams[c],createStream:(c,m,v)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function(j){this.node=j}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(j){this.shared.flags=j}},position:{get:function(){return this.shared.position},set:function(j){this.shared.position=j}}})),c=Object.assign(new D.FSStream,c);var x=D.nextfd(m,v);return c.fd=x,D.streams[x]=c,c},closeStream:c=>{D.streams[c]=null},chrdev_stream_ops:{open:c=>{var m=D.getDevice(c.node.rdev);c.stream_ops=m.stream_ops,c.stream_ops.open&&c.stream_ops.open(c)},llseek:()=>{throw new D.ErrnoError(70)}},major:c=>c>>8,minor:c=>255&c,makedev:(c,m)=>c<<8|m,registerDevice:(c,m)=>{D.devices[c]={stream_ops:m}},getDevice:c=>D.devices[c],getMounts:c=>{for(var m=[],v=[c];v.length;){var x=v.pop();m.push(x),v.push.apply(v,x.mounts)}return m},syncfs:(c,m)=>{"function"==typeof c&&(m=c,c=!1),D.syncFSRequests++,D.syncFSRequests>1&&K("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=D.getMounts(D.root.mount),x=0;function j(Te){return D.syncFSRequests--,m(Te)}function we(Te){if(Te)return we.errored?void 0:(we.errored=!0,j(Te));++x>=v.length&&j(null)}v.forEach(Te=>{if(!Te.type.syncfs)return we(null);Te.type.syncfs(Te,c,we)})},mount:(c,m,v)=>{var we,x="/"===v,j=!v;if(x&&D.root)throw new D.ErrnoError(10);if(!x&&!j){var Te=D.lookupPath(v,{follow_mount:!1});if(v=Te.path,D.isMountpoint(we=Te.node))throw new D.ErrnoError(10);if(!D.isDir(we.mode))throw new D.ErrnoError(54)}var He={type:c,opts:m,mountpoint:v,mounts:[]},wt=c.mount(He);return wt.mount=He,He.root=wt,x?D.root=wt:we&&(we.mounted=He,we.mount&&we.mount.mounts.push(He)),wt},unmount:c=>{var m=D.lookupPath(c,{follow_mount:!1});if(!D.isMountpoint(m.node))throw new D.ErrnoError(28);var v=m.node,x=v.mounted,j=D.getMounts(x);Object.keys(D.nameTable).forEach(Te=>{for(var He=D.nameTable[Te];He;){var wt=He.name_next;j.includes(He.mount)&&D.destroyNode(He),He=wt}}),v.mounted=null;var we=v.mount.mounts.indexOf(x);v.mount.mounts.splice(we,1)},lookup:(c,m)=>c.node_ops.lookup(c,m),mknod:(c,m,v)=>{var j=D.lookupPath(c,{parent:!0}).node,we=Xt.basename(c);if(!we||"."===we||".."===we)throw new D.ErrnoError(28);var Te=D.mayCreate(j,we);if(Te)throw new D.ErrnoError(Te);if(!j.node_ops.mknod)throw new D.ErrnoError(63);return j.node_ops.mknod(j,we,m,v)},create:(c,m)=>(m=void 0!==m?m:438,m&=4095,D.mknod(c,m|=32768,0)),mkdir:(c,m)=>(m=void 0!==m?m:511,m&=1023,D.mknod(c,m|=16384,0)),mkdirTree:(c,m)=>{for(var v=c.split("/"),x="",j=0;j<v.length;++j)if(v[j]){x+="/"+v[j];try{D.mkdir(x,m)}catch(we){if(20!=we.errno)throw we}}},mkdev:(c,m,v)=>(typeof v>"u"&&(v=m,m=438),D.mknod(c,m|=8192,v)),symlink:(c,m)=>{if(!tr.resolve(c))throw new D.ErrnoError(44);var x=D.lookupPath(m,{parent:!0}).node;if(!x)throw new D.ErrnoError(44);var j=Xt.basename(m),we=D.mayCreate(x,j);if(we)throw new D.ErrnoError(we);if(!x.node_ops.symlink)throw new D.ErrnoError(63);return x.node_ops.symlink(x,j,c)},rename:(c,m)=>{var He,wt,v=Xt.dirname(c),x=Xt.dirname(m),j=Xt.basename(c),we=Xt.basename(m);if(He=D.lookupPath(c,{parent:!0}).node,wt=D.lookupPath(m,{parent:!0}).node,!He||!wt)throw new D.ErrnoError(44);if(He.mount!==wt.mount)throw new D.ErrnoError(75);var zn,rn=D.lookupNode(He,j),Bn=tr.relative(c,x);if("."!==Bn.charAt(0))throw new D.ErrnoError(28);if("."!==(Bn=tr.relative(m,v)).charAt(0))throw new D.ErrnoError(55);try{zn=D.lookupNode(wt,we)}catch{}if(rn!==zn){var qt=D.isDir(rn.mode),hn=D.mayDelete(He,j,qt);if(hn)throw new D.ErrnoError(hn);if(hn=zn?D.mayDelete(wt,we,qt):D.mayCreate(wt,we))throw new D.ErrnoError(hn);if(!He.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(rn)||zn&&D.isMountpoint(zn))throw new D.ErrnoError(10);if(wt!==He&&(hn=D.nodePermissions(He,"w")))throw new D.ErrnoError(hn);D.hashRemoveNode(rn);try{He.node_ops.rename(rn,wt,we)}catch(Wn){throw Wn}finally{D.hashAddNode(rn)}}},rmdir:c=>{var v=D.lookupPath(c,{parent:!0}).node,x=Xt.basename(c),j=D.lookupNode(v,x),we=D.mayDelete(v,x,!0);if(we)throw new D.ErrnoError(we);if(!v.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint(j))throw new D.ErrnoError(10);v.node_ops.rmdir(v,x),D.destroyNode(j)},readdir:c=>{var v=D.lookupPath(c,{follow:!0}).node;if(!v.node_ops.readdir)throw new D.ErrnoError(54);return v.node_ops.readdir(v)},unlink:c=>{var v=D.lookupPath(c,{parent:!0}).node;if(!v)throw new D.ErrnoError(44);var x=Xt.basename(c),j=D.lookupNode(v,x),we=D.mayDelete(v,x,!1);if(we)throw new D.ErrnoError(we);if(!v.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint(j))throw new D.ErrnoError(10);v.node_ops.unlink(v,x),D.destroyNode(j)},readlink:c=>{var v=D.lookupPath(c).node;if(!v)throw new D.ErrnoError(44);if(!v.node_ops.readlink)throw new D.ErrnoError(28);return tr.resolve(D.getPath(v.parent),v.node_ops.readlink(v))},stat:(c,m)=>{var x=D.lookupPath(c,{follow:!m}).node;if(!x)throw new D.ErrnoError(44);if(!x.node_ops.getattr)throw new D.ErrnoError(63);return x.node_ops.getattr(x)},lstat:c=>D.stat(c,!0),chmod:(c,m,v)=>{var x;if(!(x="string"==typeof c?D.lookupPath(c,{follow:!v}).node:c).node_ops.setattr)throw new D.ErrnoError(63);x.node_ops.setattr(x,{mode:4095&m|-4096&x.mode,timestamp:Date.now()})},lchmod:(c,m)=>{D.chmod(c,m,!0)},fchmod:(c,m)=>{var v=D.getStream(c);if(!v)throw new D.ErrnoError(8);D.chmod(v.node,m)},chown:(c,m,v,x)=>{var j;if(!(j="string"==typeof c?D.lookupPath(c,{follow:!x}).node:c).node_ops.setattr)throw new D.ErrnoError(63);j.node_ops.setattr(j,{timestamp:Date.now()})},lchown:(c,m,v)=>{D.chown(c,m,v,!0)},fchown:(c,m,v)=>{var x=D.getStream(c);if(!x)throw new D.ErrnoError(8);D.chown(x.node,m,v)},truncate:(c,m)=>{if(m<0)throw new D.ErrnoError(28);var v;if(!(v="string"==typeof c?D.lookupPath(c,{follow:!0}).node:c).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(v.mode))throw new D.ErrnoError(31);if(!D.isFile(v.mode))throw new D.ErrnoError(28);var j=D.nodePermissions(v,"w");if(j)throw new D.ErrnoError(j);v.node_ops.setattr(v,{size:m,timestamp:Date.now()})},ftruncate:(c,m)=>{var v=D.getStream(c);if(!v)throw new D.ErrnoError(8);if(!(2097155&v.flags))throw new D.ErrnoError(28);D.truncate(v.node,m)},utime:(c,m,v)=>{var j=D.lookupPath(c,{follow:!0}).node;j.node_ops.setattr(j,{timestamp:Math.max(m,v)})},open:(c,m,v)=>{if(""===c)throw new D.ErrnoError(44);var x;if(v=typeof v>"u"?438:v,v=64&(m="string"==typeof m?D.modeStringToFlags(m):m)?4095&v|32768:0,"object"==typeof c)x=c;else{c=Xt.normalize(c);try{x=D.lookupPath(c,{follow:!(131072&m)}).node}catch{}}var we=!1;if(64&m)if(x){if(128&m)throw new D.ErrnoError(20)}else x=D.mknod(c,v,0),we=!0;if(!x)throw new D.ErrnoError(44);if(D.isChrdev(x.mode)&&(m&=-513),65536&m&&!D.isDir(x.mode))throw new D.ErrnoError(54);if(!we){var Te=D.mayOpen(x,m);if(Te)throw new D.ErrnoError(Te)}512&m&&!we&&D.truncate(x,0),m&=-131713;var He=D.createStream({node:x,path:D.getPath(x),flags:m,seekable:!0,position:0,stream_ops:x.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),l.logReadFiles&&!(1&m)&&(D.readFiles||(D.readFiles={}),c in D.readFiles||(D.readFiles[c]=1)),He},close:c=>{if(D.isClosed(c))throw new D.ErrnoError(8);c.getdents&&(c.getdents=null);try{c.stream_ops.close&&c.stream_ops.close(c)}catch(m){throw m}finally{D.closeStream(c.fd)}c.fd=null},isClosed:c=>null===c.fd,llseek:(c,m,v)=>{if(D.isClosed(c))throw new D.ErrnoError(8);if(!c.seekable||!c.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new D.ErrnoError(28);return c.position=c.stream_ops.llseek(c,m,v),c.ungotten=[],c.position},read:(c,m,v,x,j)=>{if(x<0||j<0)throw new D.ErrnoError(28);if(D.isClosed(c))throw new D.ErrnoError(8);if(1==(2097155&c.flags))throw new D.ErrnoError(8);if(D.isDir(c.node.mode))throw new D.ErrnoError(31);if(!c.stream_ops.read)throw new D.ErrnoError(28);var we=typeof j<"u";if(we){if(!c.seekable)throw new D.ErrnoError(70)}else j=c.position;var Te=c.stream_ops.read(c,m,v,x,j);return we||(c.position+=Te),Te},write:(c,m,v,x,j,we)=>{if(x<0||j<0)throw new D.ErrnoError(28);if(D.isClosed(c))throw new D.ErrnoError(8);if(!(2097155&c.flags))throw new D.ErrnoError(8);if(D.isDir(c.node.mode))throw new D.ErrnoError(31);if(!c.stream_ops.write)throw new D.ErrnoError(28);c.seekable&&1024&c.flags&&D.llseek(c,0,2);var Te=typeof j<"u";if(Te){if(!c.seekable)throw new D.ErrnoError(70)}else j=c.position;var He=c.stream_ops.write(c,m,v,x,j,we);return Te||(c.position+=He),He},allocate:(c,m,v)=>{if(D.isClosed(c))throw new D.ErrnoError(8);if(m<0||v<=0)throw new D.ErrnoError(28);if(!(2097155&c.flags))throw new D.ErrnoError(8);if(!D.isFile(c.node.mode)&&!D.isDir(c.node.mode))throw new D.ErrnoError(43);if(!c.stream_ops.allocate)throw new D.ErrnoError(138);c.stream_ops.allocate(c,m,v)},mmap:(c,m,v,x,j)=>{if(2&x&&!(2&j)&&2!=(2097155&c.flags))throw new D.ErrnoError(2);if(1==(2097155&c.flags))throw new D.ErrnoError(2);if(!c.stream_ops.mmap)throw new D.ErrnoError(43);return c.stream_ops.mmap(c,m,v,x,j)},msync:(c,m,v,x,j)=>c.stream_ops.msync?c.stream_ops.msync(c,m,v,x,j):0,munmap:c=>0,ioctl:(c,m,v)=>{if(!c.stream_ops.ioctl)throw new D.ErrnoError(59);return c.stream_ops.ioctl(c,m,v)},readFile:(c,m={})=>{if(m.flags=m.flags||0,m.encoding=m.encoding||"binary","utf8"!==m.encoding&&"binary"!==m.encoding)throw new Error('Invalid encoding type "'+m.encoding+'"');var v,x=D.open(c,m.flags),we=D.stat(c).size,Te=new Uint8Array(we);return D.read(x,Te,0,we,0),"utf8"===m.encoding?v=Ye(Te,0):"binary"===m.encoding&&(v=Te),D.close(x),v},writeFile:(c,m,v={})=>{v.flags=v.flags||577;var x=D.open(c,v.flags,v.mode);if("string"==typeof m){var j=new Uint8Array(ne(m)+1),we=Me(m,j,0,j.length);D.write(x,j,0,we,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(m))throw new Error("Unsupported data type");D.write(x,m,0,m.byteLength,void 0,v.canOwn)}D.close(x)},cwd:()=>D.currentPath,chdir:c=>{var m=D.lookupPath(c,{follow:!0});if(null===m.node)throw new D.ErrnoError(44);if(!D.isDir(m.node.mode))throw new D.ErrnoError(54);var v=D.nodePermissions(m.node,"x");if(v)throw new D.ErrnoError(v);D.currentPath=m.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(m,v,x,j,we)=>j}),D.mkdev("/dev/null",D.makedev(1,3)),Ut.register(D.makedev(5,0),Ut.default_tty_ops),Ut.register(D.makedev(6,0),Ut.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var c=function er(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var c=new Uint8Array(1);return()=>(crypto.getRandomValues(c),c[0])}return()=>sr("randomDevice")}();D.createDevice("/dev","random",c),D.createDevice("/dev","urandom",c),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var c=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var m=D.createNode(c,"fd",16895,73);return m.node_ops={lookup:(v,x)=>{var we=D.getStream(+x);if(!we)throw new D.ErrnoError(8);var Te={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>we.path}};return Te.parent=Te,Te}},m}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?D.createDevice("/dev","stdin",l.stdin):D.symlink("/dev/tty","/dev/stdin"),l.stdout?D.createDevice("/dev","stdout",null,l.stdout):D.symlink("/dev/tty","/dev/stdout"),l.stderr?D.createDevice("/dev","stderr",null,l.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(m,v){this.node=v,this.setErrno=function(x){this.errno=x},this.setErrno(m),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(c=>{D.genericErrors[c]=new D.ErrnoError(c),D.genericErrors[c].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(S,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:S}},init:(c,m,v)=>{D.init.initialized=!0,D.ensureErrnoError(),l.stdin=c||l.stdin,l.stdout=m||l.stdout,l.stderr=v||l.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var c=0;c<D.streams.length;c++){var m=D.streams[c];m&&D.close(m)}},getMode:(c,m)=>{var v=0;return c&&(v|=365),m&&(v|=146),v},findObject:(c,m)=>{var v=D.analyzePath(c,m);return v.exists?v.object:null},analyzePath:(c,m)=>{try{c=(v=D.lookupPath(c,{follow:!m})).path}catch{}var x={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=D.lookupPath(c,{parent:!0});x.parentExists=!0,x.parentPath=v.path,x.parentObject=v.node,x.name=Xt.basename(c),v=D.lookupPath(c,{follow:!m}),x.exists=!0,x.path=v.path,x.object=v.node,x.name=v.node.name,x.isRoot="/"===v.path}catch(j){x.error=j.errno}return x},createPath:(c,m,v,x)=>{c="string"==typeof c?c:D.getPath(c);for(var j=m.split("/").reverse();j.length;){var we=j.pop();if(we){var Te=Xt.join2(c,we);try{D.mkdir(Te)}catch{}c=Te}}return Te},createFile:(c,m,v,x,j)=>{var we=Xt.join2("string"==typeof c?c:D.getPath(c),m),Te=D.getMode(x,j);return D.create(we,Te)},createDataFile:(c,m,v,x,j,we)=>{var Te=m;c&&(c="string"==typeof c?c:D.getPath(c),Te=m?Xt.join2(c,m):c);var He=D.getMode(x,j),wt=D.create(Te,He);if(v){if("string"==typeof v){for(var rn=new Array(v.length),Bn=0,zn=v.length;Bn<zn;++Bn)rn[Bn]=v.charCodeAt(Bn);v=rn}D.chmod(wt,146|He);var qt=D.open(wt,577);D.write(qt,v,0,v.length,0,we),D.close(qt),D.chmod(wt,He)}return wt},createDevice:(c,m,v,x)=>{var j=Xt.join2("string"==typeof c?c:D.getPath(c),m),we=D.getMode(!!v,!!x);D.createDevice.major||(D.createDevice.major=64);var Te=D.makedev(D.createDevice.major++,0);return D.registerDevice(Te,{open:He=>{He.seekable=!1},close:He=>{x&&x.buffer&&x.buffer.length&&x(10)},read:(He,wt,rn,Bn,zn)=>{for(var qt=0,hn=0;hn<Bn;hn++){var Wn;try{Wn=v()}catch{throw new D.ErrnoError(29)}if(void 0===Wn&&0===qt)throw new D.ErrnoError(6);if(null==Wn)break;qt++,wt[rn+hn]=Wn}return qt&&(He.node.timestamp=Date.now()),qt},write:(He,wt,rn,Bn,zn)=>{for(var qt=0;qt<Bn;qt++)try{x(wt[rn+qt])}catch{throw new D.ErrnoError(29)}return Bn&&(He.node.timestamp=Date.now()),qt}}),D.mkdev(j,we,Te)},forceLoadFile:c=>{if(c.isDevice||c.isFolder||c.link||c.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{c.contents=cn(H(c.url),!0),c.usedBytes=c.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(c,m,v,x,j)=>{function we(){this.lengthKnown=!1,this.chunks=[]}if(we.prototype.get=function(hn){if(!(hn>this.length-1||hn<0)){var Wn=hn%this.chunkSize;return this.getter(hn/this.chunkSize|0)[Wn]}},we.prototype.setDataGetter=function(hn){this.getter=hn},we.prototype.cacheLength=function(){var hn=new XMLHttpRequest;if(hn.open("HEAD",v,!1),hn.send(null),!(hn.status>=200&&hn.status<300||304===hn.status))throw new Error("Couldn't load "+v+". Status: "+hn.status);var ho,Wn=Number(hn.getResponseHeader("Content-length")),cs=(ho=hn.getResponseHeader("Accept-Ranges"))&&"bytes"===ho,zo=(ho=hn.getResponseHeader("Content-Encoding"))&&"gzip"===ho,Ct=1048576;cs||(Ct=Wn);var mo=this;mo.setDataGetter(Or=>{var us=Or*Ct,so=(Or+1)*Ct-1;if(so=Math.min(so,Wn-1),typeof mo.chunks[Or]>"u"&&(mo.chunks[Or]=((Or,us)=>{if(Or>us)throw new Error("invalid range ("+Or+", "+us+") or no bytes requested!");if(us>Wn-1)throw new Error("only "+Wn+" bytes available! programmer error!");var so=new XMLHttpRequest;if(so.open("GET",v,!1),Wn!==Ct&&so.setRequestHeader("Range","bytes="+Or+"-"+us),so.responseType="arraybuffer",so.overrideMimeType&&so.overrideMimeType("text/plain; charset=x-user-defined"),so.send(null),!(so.status>=200&&so.status<300||304===so.status))throw new Error("Couldn't load "+v+". Status: "+so.status);return void 0!==so.response?new Uint8Array(so.response||[]):cn(so.responseText||"",!0)})(us,so)),typeof mo.chunks[Or]>"u")throw new Error("doXHR failed!");return mo.chunks[Or]}),(zo||!Wn)&&(Ct=Wn=1,Wn=this.getter(0).length,Ct=Wn,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Wn,this._chunkSize=Ct,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Te=new we;Object.defineProperties(Te,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:Te}}else He={isDevice:!1,url:v};var wt=D.createFile(c,m,He,x,j);He.contents?wt.contents=He.contents:He.url&&(wt.contents=null,wt.url=He.url),Object.defineProperties(wt,{usedBytes:{get:function(){return this.contents.length}}});var rn={};function zn(qt,hn,Wn,ho,cs){var zo=qt.node.contents;if(cs>=zo.length)return 0;var Ct=Math.min(zo.length-cs,ho);if(zo.slice)for(var gn=0;gn<Ct;gn++)hn[Wn+gn]=zo[cs+gn];else for(gn=0;gn<Ct;gn++)hn[Wn+gn]=zo.get(cs+gn);return Ct}return Object.keys(wt.stream_ops).forEach(qt=>{var hn=wt.stream_ops[qt];rn[qt]=function(){return D.forceLoadFile(wt),hn.apply(null,arguments)}}),rn.read=(qt,hn,Wn,ho,cs)=>(D.forceLoadFile(wt),zn(qt,hn,Wn,ho,cs)),rn.mmap=(qt,hn,Wn,ho,cs)=>{D.forceLoadFile(wt);var zo=E();if(!zo)throw new D.ErrnoError(48);return zn(qt,Xe,zo,hn,Wn),{ptr:zo,allocated:!0}},wt.stream_ops=rn,wt},createPreloadedFile:(c,m,v,x,j,we,Te,He,wt,rn)=>{var Bn=m?tr.resolve(Xt.join2(c,m)):c;function qt(hn){function Wn(ho){rn&&rn(),He||D.createDataFile(c,m,ho,x,j,wt),we&&we(),Ar()}Browser.handledByPreloadPlugin(hn,Bn,Wn,()=>{Te&&Te(),Ar()})||Wn(hn)}Gr(),"string"==typeof v?function Yn(c,m,v,x){var j=x?"":"al "+c;Pe(c,we=>{Ce(we,'Loading data file "'+c+'" failed (no arrayBuffer).'),m(new Uint8Array(we)),j&&Ar()},we=>{if(!v)throw'Loading data file "'+c+'" failed.';v()}),j&&Gr()}(v,hn=>qt(hn),Te):qt(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(c,m,v)=>{m=m||(()=>{}),v=v||(()=>{});var x=D.indexedDB();try{var j=x.open(D.DB_NAME(),D.DB_VERSION)}catch(we){return v(we)}j.onupgradeneeded=()=>{Z("creating db"),j.result.createObjectStore(D.DB_STORE_NAME)},j.onsuccess=()=>{var Te=j.result.transaction([D.DB_STORE_NAME],"readwrite"),He=Te.objectStore(D.DB_STORE_NAME),wt=0,rn=0,Bn=c.length;function zn(){0==rn?m():v()}c.forEach(qt=>{var hn=He.put(D.analyzePath(qt).object.contents,qt);hn.onsuccess=()=>{++wt+rn==Bn&&zn()},hn.onerror=()=>{rn++,wt+rn==Bn&&zn()}}),Te.onerror=v},j.onerror=v},loadFilesFromDB:(c,m,v)=>{m=m||(()=>{}),v=v||(()=>{});var x=D.indexedDB();try{var j=x.open(D.DB_NAME(),D.DB_VERSION)}catch(we){return v(we)}j.onupgradeneeded=v,j.onsuccess=()=>{var we=j.result;try{var Te=we.transaction([D.DB_STORE_NAME],"readonly")}catch(qt){return void v(qt)}var He=Te.objectStore(D.DB_STORE_NAME),wt=0,rn=0,Bn=c.length;function zn(){0==rn?m():v()}c.forEach(qt=>{var hn=He.get(qt);hn.onsuccess=()=>{D.analyzePath(qt).exists&&D.unlink(qt),D.createDataFile(Xt.dirname(qt),Xt.basename(qt),hn.result,!0,!0,!0),++wt+rn==Bn&&zn()},hn.onerror=()=>{rn++,wt+rn==Bn&&zn()}}),Te.onerror=v},j.onerror=v}},Pn={DEFAULT_POLLMASK:5,calculateAt:function(c,m,v){if(Xt.isAbs(m))return m;var x;if(x=-100===c?D.cwd():Pn.getStreamFromFD(c).path,0==m.length){if(!v)throw new D.ErrnoError(44);return x}return Xt.join2(x,m)},doStat:function(c,m,v){try{var x=c(m)}catch(j){if(j&&j.node&&Xt.normalize(m)!==Xt.normalize(D.getPath(j.node)))return-54;throw j}return O[v>>2]=x.dev,O[v+8>>2]=x.ino,O[v+12>>2]=x.mode,ye[v+16>>2]=x.nlink,O[v+20>>2]=x.uid,O[v+24>>2]=x.gid,O[v+28>>2]=x.rdev,le=[x.size>>>0,(ct=x.size,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+40>>2]=le[0],O[v+44>>2]=le[1],O[v+48>>2]=4096,O[v+52>>2]=x.blocks,le=[Math.floor(x.atime.getTime()/1e3)>>>0,(ct=Math.floor(x.atime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+56>>2]=le[0],O[v+60>>2]=le[1],ye[v+64>>2]=0,le=[Math.floor(x.mtime.getTime()/1e3)>>>0,(ct=Math.floor(x.mtime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+72>>2]=le[0],O[v+76>>2]=le[1],ye[v+80>>2]=0,le=[Math.floor(x.ctime.getTime()/1e3)>>>0,(ct=Math.floor(x.ctime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+88>>2]=le[0],O[v+92>>2]=le[1],ye[v+96>>2]=0,le=[x.ino>>>0,(ct=x.ino,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[v+104>>2]=le[0],O[v+108>>2]=le[1],0},doMsync:function(c,m,v,x,j){if(!D.isFile(m.node.mode))throw new D.ErrnoError(43);if(2&x)return 0;var we=vt.slice(c,c+v);D.msync(m,we,j,v,x)},varargs:void 0,get:function(){return Pn.varargs+=4,O[Pn.varargs-4>>2]},getStr:function(c){return Ne(c)},getStreamFromFD:function(c){var m=D.getStream(c);if(!m)throw new D.ErrnoError(8);return m}};function Bo(c){return c%4==0&&(c%100!=0||c%400==0)}var Ci=[0,31,60,91,121,152,182,213,244,274,305,335],Si=[0,31,59,90,120,151,181,212,243,273,304,334];function ro(c){return(Bo(c.getFullYear())?Ci:Si)[c.getMonth()]+c.getDate()-1}function Uo(c){var m=ne(c)+1,v=sa(m);return v&&Me(c,Xe,v,m),v}var Qo=[];function ts(c){try{return de.grow(c-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Ei={};function ui(){if(!ui.strings){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var v in Ei)void 0===Ei[v]?delete m[v]:m[v]=Ei[v];var x=[];for(var v in m)x.push(v+"="+m[v]);ui.strings=x}return ui.strings}var ge=[31,29,31,30,31,30,31,31,30,31,30,31],Ee=[31,28,31,30,31,30,31,31,30,31,30,31];function jt(c,m){c<128?m.push(c):m.push(c%128|128,c>>7)}var Jr=[];function To(c){var m=Jr[c];return m||(c>=Jr.length&&(Jr.length=c+1),Jr[c]=m=_e.get(c)),m}var wr=void 0,rs=[];function Ua(c,m){_e.set(c,m),Jr[c]=_e.get(c)}var ja=function(c,m,v,x){c||(c=this),this.parent=c,this.mount=c.mount,this.mounted=null,this.id=D.nextInode++,this.name=m,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=x};Object.defineProperties(ja.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(c){c?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(c){c?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=ja,D.staticInit();var Wa,_l={b:function Pt(c,m,v,x){sr("Assertion failed: "+Ne(c)+", at: "+[m?Ne(m):"unknown filename",v,x?Ne(x):"unknown function"])},i:function xn(c){const m=new Error(Ne(c));throw m.isAssert=!0,m},k:function $o(c,m,v){try{var x=mr(m,v);return isNaN(x)?-61:(D.ftruncate(c,x),0)}catch(j){if(typeof D>"u"||!(j instanceof D.ErrnoError))throw j;return-j.errno}},e:function bo(){return!0},f:function Vo(c,m){var v=new Date(1e3*function Oi(c){return ye[c>>2]+4294967296*O[c+4>>2]}(c));O[m>>2]=v.getSeconds(),O[m+4>>2]=v.getMinutes(),O[m+8>>2]=v.getHours(),O[m+12>>2]=v.getDate(),O[m+16>>2]=v.getMonth(),O[m+20>>2]=v.getFullYear()-1900,O[m+24>>2]=v.getDay();var x=0|ro(v);O[m+28>>2]=x,O[m+36>>2]=-60*v.getTimezoneOffset();var j=new Date(v.getFullYear(),0,1),we=new Date(v.getFullYear(),6,1).getTimezoneOffset(),Te=j.getTimezoneOffset(),He=0|(we!=Te&&v.getTimezoneOffset()==Math.min(Te,we));O[m+32>>2]=He},g:function gr(c){var m=new Date(O[c+20>>2]+1900,O[c+16>>2],O[c+12>>2],O[c+8>>2],O[c+4>>2],O[c>>2],0),v=O[c+32>>2],x=m.getTimezoneOffset(),j=new Date(m.getFullYear(),0,1),we=new Date(m.getFullYear(),6,1).getTimezoneOffset(),Te=j.getTimezoneOffset(),He=Math.min(Te,we);if(v<0)O[c+32>>2]=Number(we!=Te&&He==x);else if(v>0!=(He==x)){var wt=Math.max(Te,we),rn=v>0?He:wt;m.setTime(m.getTime()+6e4*(rn-x))}O[c+24>>2]=m.getDay();var Bn=0|ro(m);return O[c+28>>2]=Bn,O[c>>2]=m.getSeconds(),O[c+4>>2]=m.getMinutes(),O[c+8>>2]=m.getHours(),O[c+12>>2]=m.getDate(),O[c+16>>2]=m.getMonth(),O[c+20>>2]=m.getYear(),m.getTime()/1e3|0},h:function Qr(c,m,v){var x=(new Date).getFullYear(),j=new Date(x,0,1),we=new Date(x,6,1),Te=j.getTimezoneOffset(),He=we.getTimezoneOffset(),wt=Math.max(Te,He);function rn(Wn){var ho=Wn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return ho?ho[1]:"GMT"}ye[c>>2]=60*wt,O[m>>2]=Number(Te!=He);var Bn=rn(j),zn=rn(we),qt=Uo(Bn),hn=Uo(zn);He<Te?(ye[v>>2]=qt,ye[v+4>>2]=hn):(ye[v>>2]=hn,ye[v+4>>2]=qt)},a:function ci(){sr("")},s:function Wr(c,m,v){var x=function wo(c,m){var v;for(Qo.length=0,m>>=2;v=vt[c++];)m+=105!=v&m,Qo.push(105==v?O[m]:nt[m++>>1]),++m;return Qo}(m,v);return Ge[c].apply(null,x)},c:function es(){return Date.now()},p:function Io(c,m,v){vt.copyWithin(c,m,m+v)},o:function fo(c){var wt,m=vt.length,v=2147483648;if((c>>>=0)>v)return!1;for(var j=1;j<=4;j*=2){var we=m*(1+.2/j);if(we=Math.min(we,c+100663296),ts(Math.min(v,(wt=Math.max(c,we))+(65536-wt%65536)%65536)))return!0}return!1},m:function Rs(c,m){var v=0;return ui().forEach(function(x,j){var we=m+v;ye[c+4*j>>2]=we,function ns(c,m,v){for(var x=0;x<c.length;++x)Xe[m++>>0]=c.charCodeAt(x);v||(Xe[m>>0]=0)}(x,we),v+=x.length+1}),0},n:function Fs(c,m){var v=ui();ye[c>>2]=v.length;var x=0;return v.forEach(function(j){x+=j.length+1}),ye[m>>2]=x,0},q:function cr(c){try{var m=Pn.getStreamFromFD(c);return D.close(m),0}catch(v){if(typeof D>"u"||!(v instanceof D.ErrnoError))throw v;return v.errno}},d:function bs(c,m,v,x){try{var we=function di(c,m,v,x){for(var j=0,we=0;we<v;we++){var Te=ye[m>>2],He=ye[m+4>>2];m+=8;var wt=D.read(c,Xe,Te,He,x);if(wt<0)return-1;if(j+=wt,wt<He)break}return j}(Pn.getStreamFromFD(c),m,v);return ye[x>>2]=we,0}catch(Te){if(typeof D>"u"||!(Te instanceof D.ErrnoError))throw Te;return Te.errno}},j:function Ni(c,m,v,x,j){try{var we=mr(m,v);if(isNaN(we))return 61;var Te=Pn.getStreamFromFD(c);return D.llseek(Te,we,x),le=[Te.position>>>0,(ct=Te.position,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[j>>2]=le[0],O[j+4>>2]=le[1],Te.getdents&&0===we&&0===x&&(Te.getdents=null),0}catch(He){if(typeof D>"u"||!(He instanceof D.ErrnoError))throw He;return He.errno}},r:function A(c,m,v,x){try{var we=function nr(c,m,v,x){for(var j=0,we=0;we<v;we++){var Te=ye[m>>2],He=ye[m+4>>2];m+=8;var wt=D.write(c,Xe,Te,He,x);if(wt<0)return-1;j+=wt}return j}(Pn.getStreamFromFD(c),m,v);return ye[x>>2]=we,0}catch(Te){if(typeof D>"u"||!(Te instanceof D.ErrnoError))throw Te;return Te.errno}},l:function ke(c,m,v,x,j){return function pe(c,m,v,x){var j=O[x+40>>2],we={tm_sec:O[x>>2],tm_min:O[x+4>>2],tm_hour:O[x+8>>2],tm_mday:O[x+12>>2],tm_mon:O[x+16>>2],tm_year:O[x+20>>2],tm_wday:O[x+24>>2],tm_yday:O[x+28>>2],tm_isdst:O[x+32>>2],tm_gmtoff:O[x+36>>2],tm_zone:j?Ne(j):""},Te=Ne(v),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var wt in He)Te=Te.replace(new RegExp(wt,"g"),He[wt]);var rn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Bn=["January","February","March","April","May","June","July","August","September","October","November","December"];function zn(Ct,gn,mo){for(var Or="number"==typeof Ct?Ct.toString():Ct||"";Or.length<gn;)Or=mo[0]+Or;return Or}function qt(Ct,gn){return zn(Ct,gn,"0")}function hn(Ct,gn){function mo(us){return us<0?-1:us>0?1:0}var Or;return 0===(Or=mo(Ct.getFullYear()-gn.getFullYear()))&&0===(Or=mo(Ct.getMonth()-gn.getMonth()))&&(Or=mo(Ct.getDate()-gn.getDate())),Or}function Wn(Ct){switch(Ct.getDay()){case 0:return new Date(Ct.getFullYear()-1,11,29);case 1:return Ct;case 2:return new Date(Ct.getFullYear(),0,3);case 3:return new Date(Ct.getFullYear(),0,2);case 4:return new Date(Ct.getFullYear(),0,1);case 5:return new Date(Ct.getFullYear()-1,11,31);case 6:return new Date(Ct.getFullYear()-1,11,30)}}function ho(Ct){var gn=function Fe(c,m){for(var v=new Date(c.getTime());m>0;){var x=Bo(v.getFullYear()),j=v.getMonth(),we=(x?ge:Ee)[j];if(!(m>we-v.getDate()))return v.setDate(v.getDate()+m),v;m-=we-v.getDate()+1,v.setDate(1),j<11?v.setMonth(j+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(Ct.tm_year+1900,0,1),Ct.tm_yday),mo=new Date(gn.getFullYear(),0,4),Or=new Date(gn.getFullYear()+1,0,4),us=Wn(mo),so=Wn(Or);return hn(us,gn)<=0?hn(so,gn)<=0?gn.getFullYear()+1:gn.getFullYear():gn.getFullYear()-1}var cs={"%a":function(Ct){return rn[Ct.tm_wday].substring(0,3)},"%A":function(Ct){return rn[Ct.tm_wday]},"%b":function(Ct){return Bn[Ct.tm_mon].substring(0,3)},"%B":function(Ct){return Bn[Ct.tm_mon]},"%C":function(Ct){return qt((Ct.tm_year+1900)/100|0,2)},"%d":function(Ct){return qt(Ct.tm_mday,2)},"%e":function(Ct){return zn(Ct.tm_mday,2," ")},"%g":function(Ct){return ho(Ct).toString().substring(2)},"%G":function(Ct){return ho(Ct)},"%H":function(Ct){return qt(Ct.tm_hour,2)},"%I":function(Ct){var gn=Ct.tm_hour;return 0==gn?gn=12:gn>12&&(gn-=12),qt(gn,2)},"%j":function(Ct){return qt(Ct.tm_mday+function N(c,m){for(var v=0,x=0;x<=m;v+=c[x++]);return v}(Bo(Ct.tm_year+1900)?ge:Ee,Ct.tm_mon-1),3)},"%m":function(Ct){return qt(Ct.tm_mon+1,2)},"%M":function(Ct){return qt(Ct.tm_min,2)},"%n":function(){return"\n"},"%p":function(Ct){return Ct.tm_hour>=0&&Ct.tm_hour<12?"AM":"PM"},"%S":function(Ct){return qt(Ct.tm_sec,2)},"%t":function(){return"\t"},"%u":function(Ct){return Ct.tm_wday||7},"%U":function(Ct){return qt(Math.floor((Ct.tm_yday+7-Ct.tm_wday)/7),2)},"%V":function(Ct){var gn=Math.floor((Ct.tm_yday+7-(Ct.tm_wday+6)%7)/7);if((Ct.tm_wday+371-Ct.tm_yday-2)%7<=2&&gn++,gn){if(53==gn){var Or=(Ct.tm_wday+371-Ct.tm_yday)%7;4!=Or&&(3!=Or||!Bo(Ct.tm_year))&&(gn=1)}}else{gn=52;var mo=(Ct.tm_wday+7-Ct.tm_yday-1)%7;(4==mo||5==mo&&Bo(Ct.tm_year%400-1))&&gn++}return qt(gn,2)},"%w":function(Ct){return Ct.tm_wday},"%W":function(Ct){return qt(Math.floor((Ct.tm_yday+7-(Ct.tm_wday+6)%7)/7),2)},"%y":function(Ct){return(Ct.tm_year+1900).toString().substring(2)},"%Y":function(Ct){return Ct.tm_year+1900},"%z":function(Ct){var gn=Ct.tm_gmtoff,mo=gn>=0;return gn=(gn=Math.abs(gn)/60)/60*100+gn%60,(mo?"+":"-")+String("0000"+gn).slice(-4)},"%Z":function(Ct){return Ct.tm_zone},"%%":function(){return"%"}};for(var wt in Te=Te.replace(/%%/g,"\0\0"),cs)Te.includes(wt)&&(Te=Te.replace(new RegExp(wt,"g"),cs[wt](we)));var zo=cn(Te=Te.replace(/\0\0/g,"%"),!1);return zo.length>m?0:(function R(c,m){Xe.set(c,m)}(zo,c),zo.length-1)}(c,m,v,x)}},sa=(function Br(){var c={a:_l};function m(Te,He){l.asm=Te.exports,Ve((de=l.asm.t).buffer),_e=l.asm.hc,function Yr(c){Ae.unshift(c)}(l.asm.u),Ar()}function v(Te){m(Te.instance)}function x(Te){return function Ji(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return Xr(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+mn+"'";return c.arrayBuffer()}).catch(function(){return Xr(mn)})}().then(function(He){return WebAssembly.instantiate(He,c)}).then(function(He){return He}).then(Te,function(He){K("failed to asynchronously prepare wasm: "+He),sr(He)})}if(Gr(),l.instantiateWasm)try{return l.instantiateWasm(c,m)}catch(Te){K("Module.instantiateWasm callback failed with error: "+Te),te(Te)}(function j(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||no(mn)||"function"!=typeof fetch?x(v):fetch(mn,{credentials:"same-origin"}).then(function(Te){return WebAssembly.instantiateStreaming(Te,c).then(v,function(wt){return K("wasm streaming compile failed: "+wt),K("falling back to ArrayBuffer instantiation"),x(v)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.u).apply(null,arguments)},l._malloc=function(){return(sa=l._malloc=l.asm.v).apply(null,arguments)}),qn=(l._free=function(){return(l._free=l.asm.w).apply(null,arguments)},l._main=function(){return(l._main=l.asm.x).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(qn=l._emscripten_bind_VoidPtr___destroy___0=l.asm.y).apply(null,arguments)}),Cl=l._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(Cl=l._emscripten_bind_Cloudpilot_Cloudpilot_0=l.asm.z).apply(null,arguments)},Sl=l._emscripten_bind_Cloudpilot_Malloc_1=function(){return(Sl=l._emscripten_bind_Cloudpilot_Malloc_1=l.asm.A).apply(null,arguments)},ec=l._emscripten_bind_Cloudpilot_Free_1=function(){return(ec=l._emscripten_bind_Cloudpilot_Free_1=l.asm.B).apply(null,arguments)},gt=l._emscripten_bind_Cloudpilot_Nullptr_0=function(){return(gt=l._emscripten_bind_Cloudpilot_Nullptr_0=l.asm.C).apply(null,arguments)},Ws=l._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Ws=l._emscripten_bind_Cloudpilot_InitializeSession_3=l.asm.D).apply(null,arguments)},yr=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(yr=l._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=l.asm.E).apply(null,arguments)},ws=l._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(ws=l._emscripten_bind_Cloudpilot_RunEmulation_1=l.asm.F).apply(null,arguments)},aa=l._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(aa=l._emscripten_bind_Cloudpilot_SetClockFactor_1=l.asm.G).apply(null,arguments)},io=l._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(io=l._emscripten_bind_Cloudpilot_CopyFrame_0=l.asm.H).apply(null,arguments)},os=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(os=l._emscripten_bind_Cloudpilot_IsScreenDirty_0=l.asm.I).apply(null,arguments)},Ii=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return(Ii=l._emscripten_bind_Cloudpilot_MarkScreenClean_0=l.asm.J).apply(null,arguments)},la=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(la=l._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=l.asm.K).apply(null,arguments)},Os=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(Os=l._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=l.asm.L).apply(null,arguments)},Zs=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(Zs=l._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=l.asm.M).apply(null,arguments)},ca=l._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(ca=l._emscripten_bind_Cloudpilot_QueuePenMove_2=l.asm.N).apply(null,arguments)},Ha=l._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(Ha=l._emscripten_bind_Cloudpilot_QueuePenUp_0=l.asm.O).apply(null,arguments)},Tt=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Tt=l._emscripten_bind_Cloudpilot_QueueButtonDown_1=l.asm.P).apply(null,arguments)},qs=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(qs=l._emscripten_bind_Cloudpilot_QueueButtonUp_1=l.asm.Q).apply(null,arguments)},po=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(po=l._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=l.asm.R).apply(null,arguments)},ar=l._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(ar=l._emscripten_bind_Cloudpilot_IsPowerOff_0=l.asm.S).apply(null,arguments)},Zr=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(Zr=l._emscripten_bind_Cloudpilot_IsUIInitialized_0=l.asm.T).apply(null,arguments)},Pr=l._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(Pr=l._emscripten_bind_Cloudpilot_GetOSVersion_0=l.asm.U).apply(null,arguments)},p=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=l._emscripten_bind_Cloudpilot_IsSetupComplete_0=l.asm.V).apply(null,arguments)},_=l._emscripten_bind_Cloudpilot_Reset_0=function(){return(_=l._emscripten_bind_Cloudpilot_Reset_0=l.asm.W).apply(null,arguments)},w=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(w=l._emscripten_bind_Cloudpilot_ResetNoExtensions_0=l.asm.X).apply(null,arguments)},F=l._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(F=l._emscripten_bind_Cloudpilot_ResetHard_0=l.asm.Y).apply(null,arguments)},z=l._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(z=l._emscripten_bind_Cloudpilot_InstallDb_2=l.asm.Z).apply(null,arguments)},ve=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(ve=l._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=l.asm._).apply(null,arguments)},De=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(De=l._emscripten_bind_Cloudpilot_GetMemoryPtr_0=l.asm.$).apply(null,arguments)},je=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(je=l._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=l.asm.aa).apply(null,arguments)},Dt=l._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(Dt=l._emscripten_bind_Cloudpilot_GetMemorySize_0=l.asm.ba).apply(null,arguments)},fn=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(fn=l._emscripten_bind_Cloudpilot_ImportMemoryImage_2=l.asm.ca).apply(null,arguments)},kn=l._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(kn=l._emscripten_bind_Cloudpilot_GetRomPtr_0=l.asm.da).apply(null,arguments)},Tn=l._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(Tn=l._emscripten_bind_Cloudpilot_GetRomSize_0=l.asm.ea).apply(null,arguments)},Ht=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(Ht=l._emscripten_bind_Cloudpilot_GetSavestatePtr_0=l.asm.fa).apply(null,arguments)},Zt=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return(Zt=l._emscripten_bind_Cloudpilot_GetSavestateSize_0=l.asm.ga).apply(null,arguments)},ee=l._emscripten_bind_Cloudpilot_SaveState_0=function(){return(ee=l._emscripten_bind_Cloudpilot_SaveState_0=l.asm.ha).apply(null,arguments)},Cr=l._emscripten_bind_Cloudpilot_LoadState_2=function(){return(Cr=l._emscripten_bind_Cloudpilot_LoadState_2=l.asm.ia).apply(null,arguments)},yn=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(yn=l._emscripten_bind_Cloudpilot_GetHotsyncName_0=l.asm.ja).apply(null,arguments)},Vr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(Vr=l._emscripten_bind_Cloudpilot_SetHotsyncName_1=l.asm.ka).apply(null,arguments)},mt=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(mt=l._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=l.asm.la).apply(null,arguments)},zt=l._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(zt=l._emscripten_bind_Cloudpilot_StartBackup_0=l.asm.ma).apply(null,arguments)},Ur=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(Ur=l._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=l.asm.na).apply(null,arguments)},hr=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(hr=l._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=l.asm.oa).apply(null,arguments)},jo=l._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(jo=l._emscripten_bind_Cloudpilot_IsSuspended_0=l.asm.pa).apply(null,arguments)},ur=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(ur=l._emscripten_bind_Cloudpilot_GetSuspendContext_0=l.asm.qa).apply(null,arguments)},ki=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(ki=l._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=l.asm.ra).apply(null,arguments)},gd=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(gd=l._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=l.asm.sa).apply(null,arguments)},vp=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(vp=l._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=l.asm.ta).apply(null,arguments)},is=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(is=l._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=l.asm.ua).apply(null,arguments)},pi=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return(pi=l._emscripten_bind_Cloudpilot_LaunchAppByName_1=l.asm.va).apply(null,arguments)},or=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(or=l._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=l.asm.wa).apply(null,arguments)},ua=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(ua=l._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=l.asm.xa).apply(null,arguments)},za=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(za=l._emscripten_bind_Cloudpilot_ClearExternalStorage_0=l.asm.ya).apply(null,arguments)},eo=l._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(eo=l._emscripten_bind_Cloudpilot_AllocateCard_2=l.asm.za).apply(null,arguments)},ss=l._emscripten_bind_Cloudpilot_MountCard_1=function(){return(ss=l._emscripten_bind_Cloudpilot_MountCard_1=l.asm.Aa).apply(null,arguments)},Sr=l._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(Sr=l._emscripten_bind_Cloudpilot_RemoveCard_1=l.asm.Ba).apply(null,arguments)},da=l._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(da=l._emscripten_bind_Cloudpilot_GetCardData_1=l.asm.Ca).apply(null,arguments)},Hc=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(Hc=l._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=l.asm.Da).apply(null,arguments)},ut=l._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(ut=l._emscripten_bind_Cloudpilot_GetCardSize_1=l.asm.Ea).apply(null,arguments)},zc=l._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(zc=l._emscripten_bind_Cloudpilot_RemountCards_0=l.asm.Fa).apply(null,arguments)},tc=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(tc=l._emscripten_bind_Cloudpilot_GetSupportLevel_1=l.asm.Ga).apply(null,arguments)},An=l._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(An=l._emscripten_bind_Cloudpilot_GetMountedKey_0=l.asm.Ha).apply(null,arguments)},Un=l._emscripten_bind_Cloudpilot___destroy___0=function(){return(Un=l._emscripten_bind_Cloudpilot___destroy___0=l.asm.Ia).apply(null,arguments)},Co=l._emscripten_bind_RomInfo_RomInfo_2=function(){return(Co=l._emscripten_bind_RomInfo_RomInfo_2=l.asm.Ja).apply(null,arguments)},Rr=l._emscripten_bind_RomInfo_IsValid_0=function(){return(Rr=l._emscripten_bind_RomInfo_IsValid_0=l.asm.Ka).apply(null,arguments)},st=l._emscripten_bind_RomInfo_CardVersion_0=function(){return(st=l._emscripten_bind_RomInfo_CardVersion_0=l.asm.La).apply(null,arguments)},jn=l._emscripten_bind_RomInfo_CardName_0=function(){return(jn=l._emscripten_bind_RomInfo_CardName_0=l.asm.Ma).apply(null,arguments)},pn=l._emscripten_bind_RomInfo_RomVersion_0=function(){return(pn=l._emscripten_bind_RomInfo_RomVersion_0=l.asm.Na).apply(null,arguments)},Hn=l._emscripten_bind_RomInfo_RomVersionString_0=function(){return(Hn=l._emscripten_bind_RomInfo_RomVersionString_0=l.asm.Oa).apply(null,arguments)},Ln=l._emscripten_bind_RomInfo_Supports_1=function(){return(Ln=l._emscripten_bind_RomInfo_Supports_1=l.asm.Pa).apply(null,arguments)},d=l._emscripten_bind_RomInfo___destroy___0=function(){return(d=l._emscripten_bind_RomInfo___destroy___0=l.asm.Qa).apply(null,arguments)},g=l._emscripten_bind_Frame_GetLineWidth_0=function(){return(g=l._emscripten_bind_Frame_GetLineWidth_0=l.asm.Ra).apply(null,arguments)},b=l._emscripten_bind_Frame_GetBpp_0=function(){return(b=l._emscripten_bind_Frame_GetBpp_0=l.asm.Sa).apply(null,arguments)},I=l._emscripten_bind_Frame_GetLines_0=function(){return(I=l._emscripten_bind_Frame_GetLines_0=l.asm.Ta).apply(null,arguments)},B=l._emscripten_bind_Frame_GetMargin_0=function(){return(B=l._emscripten_bind_Frame_GetMargin_0=l.asm.Ua).apply(null,arguments)},me=l._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(me=l._emscripten_bind_Frame_GetBytesPerLine_0=l.asm.Va).apply(null,arguments)},be=l._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(be=l._emscripten_bind_Frame_GetFirstDirtyLine_0=l.asm.Wa).apply(null,arguments)},Be=l._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Be=l._emscripten_bind_Frame_GetLastDirtyLine_0=l.asm.Xa).apply(null,arguments)},yt=l._emscripten_bind_Frame_GetHasChanges_0=function(){return(yt=l._emscripten_bind_Frame_GetHasChanges_0=l.asm.Ya).apply(null,arguments)},en=l._emscripten_bind_Frame_GetBuffer_0=function(){return(en=l._emscripten_bind_Frame_GetBuffer_0=l.asm.Za).apply(null,arguments)},Qt=l._emscripten_bind_Frame_GetBufferSize_0=function(){return(Qt=l._emscripten_bind_Frame_GetBufferSize_0=l.asm._a).apply(null,arguments)},$n=l._emscripten_bind_Frame_GetScaleX_0=function(){return($n=l._emscripten_bind_Frame_GetScaleX_0=l.asm.$a).apply(null,arguments)},tn=l._emscripten_bind_Frame_GetScaleY_0=function(){return(tn=l._emscripten_bind_Frame_GetScaleY_0=l.asm.ab).apply(null,arguments)},bt=l._emscripten_bind_Frame___destroy___0=function(){return(bt=l._emscripten_bind_Frame___destroy___0=l.asm.bb).apply(null,arguments)},Rn=l._emscripten_bind_DbBackup_Init_1=function(){return(Rn=l._emscripten_bind_DbBackup_Init_1=l.asm.cb).apply(null,arguments)},Er=l._emscripten_bind_DbBackup_IsInProgress_0=function(){return(Er=l._emscripten_bind_DbBackup_IsInProgress_0=l.asm.db).apply(null,arguments)},ei=l._emscripten_bind_DbBackup_IsDone_0=function(){return(ei=l._emscripten_bind_DbBackup_IsDone_0=l.asm.eb).apply(null,arguments)},qr=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(qr=l._emscripten_bind_DbBackup_GetCurrentDatabase_0=l.asm.fb).apply(null,arguments)},ft=l._emscripten_bind_DbBackup_Save_0=function(){return(ft=l._emscripten_bind_DbBackup_Save_0=l.asm.gb).apply(null,arguments)},nn=l._emscripten_bind_DbBackup_Skip_0=function(){return(nn=l._emscripten_bind_DbBackup_Skip_0=l.asm.hb).apply(null,arguments)},Mr=l._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(Mr=l._emscripten_bind_DbBackup_GetArchivePtr_0=l.asm.ib).apply(null,arguments)},Kn=l._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(Kn=l._emscripten_bind_DbBackup_GetArchiveSize_0=l.asm.jb).apply(null,arguments)},xo=l._emscripten_bind_DbBackup___destroy___0=function(){return(xo=l._emscripten_bind_DbBackup___destroy___0=l.asm.kb).apply(null,arguments)},Kr=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(Kr=l._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=l.asm.lb).apply(null,arguments)},xr=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(xr=l._emscripten_bind_SuspendContextClipboardCopy_Resume_0=l.asm.mb).apply(null,arguments)},qm=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(qm=l._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=l.asm.nb).apply(null,arguments)},Gc=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return(Gc=l._emscripten_bind_SuspendContextClipboardCopy___destroy___0=l.asm.ob).apply(null,arguments)},yd=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(yd=l._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=l.asm.pb).apply(null,arguments)},nc=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(nc=l._emscripten_bind_SuspendContextClipboardPaste_Resume_1=l.asm.qb).apply(null,arguments)},rc=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(rc=l._emscripten_bind_SuspendContextClipboardPaste___destroy___0=l.asm.rb).apply(null,arguments)},Ga=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(Ga=l._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=l.asm.sb).apply(null,arguments)},ti=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(ti=l._emscripten_bind_SuspendContextNetworkConnect_Resume_1=l.asm.tb).apply(null,arguments)},Km=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(Km=l._emscripten_bind_SuspendContextNetworkConnect___destroy___0=l.asm.ub).apply(null,arguments)},Ti=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Ti=l._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=l.asm.vb).apply(null,arguments)},as=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(as=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=l.asm.wb).apply(null,arguments)},Wc=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(Wc=l._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=l.asm.xb).apply(null,arguments)},El=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(El=l._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=l.asm.yb).apply(null,arguments)},oc=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(oc=l._emscripten_bind_SuspendContextNetworkRpc___destroy___0=l.asm.zb).apply(null,arguments)},ls=l._emscripten_bind_SuspendContext_GetKind_0=function(){return(ls=l._emscripten_bind_SuspendContext_GetKind_0=l.asm.Ab).apply(null,arguments)},bp=l._emscripten_bind_SuspendContext_Cancel_0=function(){return(bp=l._emscripten_bind_SuspendContext_Cancel_0=l.asm.Bb).apply(null,arguments)},Ym=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(Ym=l._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=l.asm.Cb).apply(null,arguments)},wp=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(wp=l._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=l.asm.Db).apply(null,arguments)},Cp=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(Cp=l._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=l.asm.Eb).apply(null,arguments)},Xm=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(Xm=l._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=l.asm.Fb).apply(null,arguments)},Qm=l._emscripten_bind_SuspendContext___destroy___0=function(){return(Qm=l._emscripten_bind_SuspendContext___destroy___0=l.asm.Gb).apply(null,arguments)},Jm=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(Jm=l._emscripten_bind_ZipfileWalker_ZipfileWalker_2=l.asm.Hb).apply(null,arguments)},eg=l._emscripten_bind_ZipfileWalker_GetState_0=function(){return(eg=l._emscripten_bind_ZipfileWalker_GetState_0=l.asm.Ib).apply(null,arguments)},tg=l._emscripten_bind_ZipfileWalker_Next_0=function(){return(tg=l._emscripten_bind_ZipfileWalker_Next_0=l.asm.Jb).apply(null,arguments)},ng=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(ng=l._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=l.asm.Kb).apply(null,arguments)},rg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(rg=l._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=l.asm.Lb).apply(null,arguments)},og=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(og=l._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=l.asm.Mb).apply(null,arguments)},ig=l._emscripten_bind_ZipfileWalker___destroy___0=function(){return(ig=l._emscripten_bind_ZipfileWalker___destroy___0=l.asm.Nb).apply(null,arguments)},sg=l._emscripten_bind_SessionImage_SessionImage_0=function(){return(sg=l._emscripten_bind_SessionImage_SessionImage_0=l.asm.Ob).apply(null,arguments)},ag=l._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(ag=l._emscripten_bind_SessionImage_GetDeviceId_0=l.asm.Pb).apply(null,arguments)},lg=l._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(lg=l._emscripten_bind_SessionImage_SetDeviceId_1=l.asm.Qb).apply(null,arguments)},_d=l._emscripten_bind_SessionImage_GetRomImage_0=function(){return(_d=l._emscripten_bind_SessionImage_GetRomImage_0=l.asm.Rb).apply(null,arguments)},vd=l._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(vd=l._emscripten_bind_SessionImage_GetRomImageSize_0=l.asm.Sb).apply(null,arguments)},cg=l._emscripten_bind_SessionImage_SetRomImage_2=function(){return(cg=l._emscripten_bind_SessionImage_SetRomImage_2=l.asm.Tb).apply(null,arguments)},ug=l._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(ug=l._emscripten_bind_SessionImage_GetMemoryImage_0=l.asm.Ub).apply(null,arguments)},dg=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(dg=l._emscripten_bind_SessionImage_GetMemoryImageSize_0=l.asm.Vb).apply(null,arguments)},fa=l._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(fa=l._emscripten_bind_SessionImage_SetMemoryImage_2=l.asm.Wb).apply(null,arguments)},Sp=l._emscripten_bind_SessionImage_GetMetadata_0=function(){return(Sp=l._emscripten_bind_SessionImage_GetMetadata_0=l.asm.Xb).apply(null,arguments)},Ao=l._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(Ao=l._emscripten_bind_SessionImage_GetMetadataSize_0=l.asm.Yb).apply(null,arguments)},bd=l._emscripten_bind_SessionImage_SetMetadata_2=function(){return(bd=l._emscripten_bind_SessionImage_SetMetadata_2=l.asm.Zb).apply(null,arguments)},Ep=l._emscripten_bind_SessionImage_GetSavestate_0=function(){return(Ep=l._emscripten_bind_SessionImage_GetSavestate_0=l.asm._b).apply(null,arguments)},Dp=l._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(Dp=l._emscripten_bind_SessionImage_GetSavestateSize_0=l.asm.$b).apply(null,arguments)},wd=l._emscripten_bind_SessionImage_SetSavestate_2=function(){return(wd=l._emscripten_bind_SessionImage_SetSavestate_2=l.asm.ac).apply(null,arguments)},Cd=l._emscripten_bind_SessionImage_GetVersion_0=function(){return(Cd=l._emscripten_bind_SessionImage_GetVersion_0=l.asm.bc).apply(null,arguments)},Ip=l._emscripten_bind_SessionImage_Serialize_0=function(){return(Ip=l._emscripten_bind_SessionImage_Serialize_0=l.asm.cc).apply(null,arguments)},Zc=l._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(Zc=l._emscripten_bind_SessionImage_GetSerializedImage_0=l.asm.dc).apply(null,arguments)},kp=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(kp=l._emscripten_bind_SessionImage_GetSerializedImageSize_0=l.asm.ec).apply(null,arguments)},Li=l._emscripten_bind_SessionImage_Deserialize_2=function(){return(Li=l._emscripten_bind_SessionImage_Deserialize_2=l.asm.fc).apply(null,arguments)},Sd=l._emscripten_bind_SessionImage___destroy___0=function(){return(Sd=l._emscripten_bind_SessionImage___destroy___0=l.asm.gc).apply(null,arguments)};function $i(c){var m=l._main;try{var j=m(0,0);return function ot(c,m){ce=c,function Qe(c){ce=c,function Jt(){return Re}()||(l.onExit&&l.onExit(c),it=!0),U(c,new Nn(c))}(c)}(j),j}catch(we){return function xe(c){if(c instanceof Nn||"unwind"==c)return ce;U(1,c)}(we)}}function Mp(c){function m(){Wa||(Wa=!0,l.calledRun=!0,!it&&(function vn(){!l.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,Ut.init(),Wt(Ae)}(),function pr(){Wt(Mt)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),Ed&&$i(),function Jn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)c=l.postRun.shift(),ln.unshift(c);var c;Wt(ln)}()))}c=c||Q,Mn>0||(function W(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)c=l.preRun.shift(),ht.unshift(c);var c;Wt(ht)}(),Mn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),m()},1)):m())}if(l.___original_main=function(){return(l.___original_main=l.asm.ic).apply(null,arguments)},l.___start_em_js=244003,l.___stop_em_js=244200,l.UTF8ToString=Ne,l.addFunction=function Di(c,m){if(wr||(wr=new WeakMap,function fi(c,m){if(wr)for(var v=c;v<c+m;v++){var x=To(v);x&&wr.set(x,v)}}(0,_e.length)),wr.has(c))return wr.get(c);var v=function Va(){if(rs.length)return rs.pop();try{_e.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}return _e.length-1}();try{Ua(v,c)}catch(j){if(!(j instanceof TypeError))throw j;Ua(v,function ko(c,m){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function Et(c){for(var m={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},v={parameters:[],results:"v"==c[0]?[]:[m[c[0]]]},x=1;x<c.length;++x)v.parameters.push(m[c[x]]),"j"===c[x]&&v.parameters.push("i32");return v}(m),c);var v=[1];!function dn(c,m){var v=c.slice(0,1),x=c.slice(1),j={i:127,p:127,j:126,f:125,d:124};m.push(96),jt(x.length,m);for(var we=0;we<x.length;++we)m.push(j[x[we]]);"v"==v?m.push(0):m.push(1,j[v])}(m,v);var x=[0,97,115,109,1,0,0,0,1];jt(v.length,x),x.push.apply(x,v),x.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var j=new WebAssembly.Module(new Uint8Array(x));return new WebAssembly.Instance(j,{e:{f:c}}).exports.f}(c,m))}return wr.set(c,v),v},Vn=function c(){Wa||Mp(),Wa||(Vn=c)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var Ed=!0;function Dr(){}function So(c){return(c||Dr).__cache__}function dr(c,m){var v=So(m),x=v[c];return x||((x=Object.create((m||Dr).prototype)).ptr=c,v[c]=x)}l.noInitialRun&&(Ed=!1),Mp(),(Dr.prototype=Object.create(Dr.prototype)).constructor=Dr,Dr.prototype.__class__=Dr,Dr.__cache__={},l.WrapperObject=Dr,l.getCache=So,l.wrapPointer=dr,l.castObject=function qc(c,m){return dr(c.ptr,m)},l.NULL=dr(0),l.destroy=function fg(c){if(!c.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";c.__destroy__(),delete So(c.__class__)[c.ptr]},l.compare=function pa(c,m){return c.ptr===m.ptr},l.getPointer=function xp(c){return c.ptr},l.getClass=function Dd(c){return c.__class__};var It={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(It.needed){for(var c=0;c<It.temps.length;c++)l._free(It.temps[c]);It.temps.length=0,l._free(It.buffer),It.buffer=0,It.size+=It.needed,It.needed=0}It.buffer||(It.size+=128,It.buffer=l._malloc(It.size),Ce(It.buffer)),It.pos=0},alloc:function(c,m){Ce(It.buffer);var j,x=c.length*m.BYTES_PER_ELEMENT;return It.pos+(x=x+7&-8)>=It.size?(Ce(x>0),It.needed+=x,j=l._malloc(x),It.temps.push(j)):(j=It.buffer+It.pos,It.pos+=x),j},copy:function(c,m,v){switch(v>>>=0,m.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var j=0;j<c.length;j++)m[v+j]=c[j]}};function Ho(c){if("string"==typeof c){var m=cn(c),v=It.alloc(m,Xe);return It.copy(m,Xe,v),v}return c}function Fr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function et(){this.ptr=Cl(),So(et)[this.ptr]=this}function to(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=Co(c,m),So(to)[this.ptr]=this}function ir(){throw"cannot construct a Frame, no constructor in IDL"}function Ir(){throw"cannot construct a DbBackup, no constructor in IDL"}function ri(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Mi(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function lt(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function bn(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function xt(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Rt(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),this.ptr=Jm(c,m),So(Rt)[this.ptr]=this}function Vt(){this.ptr=sg(),So(Vt)[this.ptr]=this}return(Fr.prototype=Object.create(Dr.prototype)).constructor=Fr,Fr.prototype.__class__=Fr,Fr.__cache__={},l.VoidPtr=Fr,Fr.prototype.__destroy__=Fr.prototype.__destroy__=function(){qn(this.ptr)},(et.prototype=Object.create(Dr.prototype)).constructor=et,et.prototype.__class__=et,et.__cache__={},l.Cloudpilot=et,et.prototype.Malloc=et.prototype.Malloc=function(c){return c&&"object"==typeof c&&(c=c.ptr),dr(Sl(this.ptr,c),Fr)},et.prototype.Free=et.prototype.Free=function(c){c&&"object"==typeof c&&(c=c.ptr),ec(this.ptr,c)},et.prototype.Nullptr=et.prototype.Nullptr=function(){return dr(gt(this.ptr),Fr)},et.prototype.InitializeSession=et.prototype.InitializeSession=function(c,m,v){var x=this.ptr;return It.prepare(),c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),v=v&&"object"==typeof v?v.ptr:Ho(v),!!Ws(x,c,m,v)},et.prototype.GetCyclesPerSecond=et.prototype.GetCyclesPerSecond=function(){return yr(this.ptr)},et.prototype.RunEmulation=et.prototype.RunEmulation=function(c){return c&&"object"==typeof c&&(c=c.ptr),ws(this.ptr,c)},et.prototype.SetClockFactor=et.prototype.SetClockFactor=function(c){c&&"object"==typeof c&&(c=c.ptr),aa(this.ptr,c)},et.prototype.CopyFrame=et.prototype.CopyFrame=function(){return dr(io(this.ptr),ir)},et.prototype.IsScreenDirty=et.prototype.IsScreenDirty=function(){return!!os(this.ptr)},et.prototype.MarkScreenClean=et.prototype.MarkScreenClean=function(){Ii(this.ptr)},et.prototype.MinMemoryForDevice=et.prototype.MinMemoryForDevice=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),la(m,c)},et.prototype.FramebufferSizeForDevice=et.prototype.FramebufferSizeForDevice=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),Os(m,c)},et.prototype.TotalMemoryForDevice=et.prototype.TotalMemoryForDevice=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),Zs(m,c)},et.prototype.QueuePenMove=et.prototype.QueuePenMove=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),ca(this.ptr,c,m)},et.prototype.QueuePenUp=et.prototype.QueuePenUp=function(){Ha(this.ptr)},et.prototype.QueueButtonDown=et.prototype.QueueButtonDown=function(c){c&&"object"==typeof c&&(c=c.ptr),Tt(this.ptr,c)},et.prototype.QueueButtonUp=et.prototype.QueueButtonUp=function(c){c&&"object"==typeof c&&(c=c.ptr),qs(this.ptr,c)},et.prototype.QueueKeyboardEvent=et.prototype.QueueKeyboardEvent=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),po(this.ptr,c,m)},et.prototype.IsPowerOff=et.prototype.IsPowerOff=function(){return!!ar(this.ptr)},et.prototype.IsUIInitialized=et.prototype.IsUIInitialized=function(){return!!Zr(this.ptr)},et.prototype.GetOSVersion=et.prototype.GetOSVersion=function(){return Pr(this.ptr)},et.prototype.IsSetupComplete=et.prototype.IsSetupComplete=function(){return!!p(this.ptr)},et.prototype.Reset=et.prototype.Reset=function(){_(this.ptr)},et.prototype.ResetNoExtensions=et.prototype.ResetNoExtensions=function(){w(this.ptr)},et.prototype.ResetHard=et.prototype.ResetHard=function(){F(this.ptr)},et.prototype.InstallDb=et.prototype.InstallDb=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),z(this.ptr,c,m)},et.prototype.GetPalette2bitMapping=et.prototype.GetPalette2bitMapping=function(){return ve(this.ptr)},et.prototype.GetMemoryPtr=et.prototype.GetMemoryPtr=function(){return dr(De(this.ptr),Fr)},et.prototype.GetDirtyPagesPtr=et.prototype.GetDirtyPagesPtr=function(){return dr(je(this.ptr),Fr)},et.prototype.GetMemorySize=et.prototype.GetMemorySize=function(){return Dt(this.ptr)},et.prototype.ImportMemoryImage=et.prototype.ImportMemoryImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!fn(this.ptr,c,m)},et.prototype.GetRomPtr=et.prototype.GetRomPtr=function(){return dr(kn(this.ptr),Fr)},et.prototype.GetRomSize=et.prototype.GetRomSize=function(){return Tn(this.ptr)},et.prototype.GetSavestatePtr=et.prototype.GetSavestatePtr=function(){return dr(Ht(this.ptr),Fr)},et.prototype.GetSavestateSize=et.prototype.GetSavestateSize=function(){return Zt(this.ptr)},et.prototype.SaveState=et.prototype.SaveState=function(){return!!ee(this.ptr)},et.prototype.LoadState=et.prototype.LoadState=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!Cr(this.ptr,c,m)},et.prototype.GetHotsyncName=et.prototype.GetHotsyncName=function(){return Ne(yn(this.ptr))},et.prototype.SetHotsyncName=et.prototype.SetHotsyncName=function(c){var m=this.ptr;It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),Vr(m,c)},et.prototype.RegisterPwmHandler=et.prototype.RegisterPwmHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),mt(this.ptr,c)},et.prototype.StartBackup=et.prototype.StartBackup=function(){return dr(zt(this.ptr),Ir)},et.prototype.SetClipboardIntegration=et.prototype.SetClipboardIntegration=function(c){c&&"object"==typeof c&&(c=c.ptr),Ur(this.ptr,c)},et.prototype.GetClipboardIntegration=et.prototype.GetClipboardIntegration=function(){return!!hr(this.ptr)},et.prototype.IsSuspended=et.prototype.IsSuspended=function(){return!!jo(this.ptr)},et.prototype.GetSuspendContext=et.prototype.GetSuspendContext=function(){return dr(ur(this.ptr),xt)},et.prototype.SetNetworkRedirection=et.prototype.SetNetworkRedirection=function(c){c&&"object"==typeof c&&(c=c.ptr),ki(this.ptr,c)},et.prototype.GetNetworkRedirection=et.prototype.GetNetworkRedirection=function(){return!!gd(this.ptr)},et.prototype.RegisterProxyDisconnectHandler=et.prototype.RegisterProxyDisconnectHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),vp(this.ptr,c)},et.prototype.SetHotsyncNameManagement=et.prototype.SetHotsyncNameManagement=function(c){c&&"object"==typeof c&&(c=c.ptr),is(this.ptr,c)},et.prototype.LaunchAppByName=et.prototype.LaunchAppByName=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),!!pi(m,c)},et.prototype.LaunchAppByDbHeader=et.prototype.LaunchAppByDbHeader=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!or(this.ptr,c,m)},et.prototype.DeviceSupportsCardSize=et.prototype.DeviceSupportsCardSize=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!ua(this.ptr,c)},et.prototype.ClearExternalStorage=et.prototype.ClearExternalStorage=function(){za(this.ptr)},et.prototype.AllocateCard=et.prototype.AllocateCard=function(c,m){var v=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),m&&"object"==typeof m&&(m=m.ptr),!!eo(v,c,m)},et.prototype.MountCard=et.prototype.MountCard=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),!!ss(m,c)},et.prototype.RemoveCard=et.prototype.RemoveCard=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),!!Sr(m,c)},et.prototype.GetCardData=et.prototype.GetCardData=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),dr(da(m,c),Fr)},et.prototype.GetCardDirtyPages=et.prototype.GetCardDirtyPages=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),dr(Hc(m,c),Fr)},et.prototype.GetCardSize=et.prototype.GetCardSize=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),ut(m,c)},et.prototype.RemountCards=et.prototype.RemountCards=function(){zc(this.ptr)},et.prototype.GetSupportLevel=et.prototype.GetSupportLevel=function(c){return c&&"object"==typeof c&&(c=c.ptr),tc(this.ptr,c)},et.prototype.GetMountedKey=et.prototype.GetMountedKey=function(){return Ne(An(this.ptr))},et.prototype.__destroy__=et.prototype.__destroy__=function(){Un(this.ptr)},(to.prototype=Object.create(Dr.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},l.RomInfo=to,to.prototype.IsValid=to.prototype.IsValid=function(){return!!Rr(this.ptr)},to.prototype.CardVersion=to.prototype.CardVersion=function(){return st(this.ptr)},to.prototype.CardName=to.prototype.CardName=function(){return Ne(jn(this.ptr))},to.prototype.RomVersion=to.prototype.RomVersion=function(){return pn(this.ptr)},to.prototype.RomVersionString=to.prototype.RomVersionString=function(){return Ne(Hn(this.ptr))},to.prototype.Supports=to.prototype.Supports=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),!!Ln(m,c)},to.prototype.__destroy__=to.prototype.__destroy__=function(){d(this.ptr)},(ir.prototype=Object.create(Dr.prototype)).constructor=ir,ir.prototype.__class__=ir,ir.__cache__={},l.Frame=ir,ir.prototype.GetLineWidth=ir.prototype.GetLineWidth=function(){return g(this.ptr)},ir.prototype.GetBpp=ir.prototype.GetBpp=function(){return b(this.ptr)},ir.prototype.GetLines=ir.prototype.GetLines=function(){return I(this.ptr)},ir.prototype.GetMargin=ir.prototype.GetMargin=function(){return B(this.ptr)},ir.prototype.GetBytesPerLine=ir.prototype.GetBytesPerLine=function(){return me(this.ptr)},ir.prototype.GetFirstDirtyLine=ir.prototype.GetFirstDirtyLine=function(){return be(this.ptr)},ir.prototype.GetLastDirtyLine=ir.prototype.GetLastDirtyLine=function(){return Be(this.ptr)},ir.prototype.GetHasChanges=ir.prototype.GetHasChanges=function(){return!!yt(this.ptr)},ir.prototype.GetBuffer=ir.prototype.GetBuffer=function(){return dr(en(this.ptr),Fr)},ir.prototype.GetBufferSize=ir.prototype.GetBufferSize=function(){return Qt(this.ptr)},ir.prototype.GetScaleX=ir.prototype.GetScaleX=function(){return $n(this.ptr)},ir.prototype.GetScaleY=ir.prototype.GetScaleY=function(){return tn(this.ptr)},ir.prototype.__destroy__=ir.prototype.__destroy__=function(){bt(this.ptr)},(Ir.prototype=Object.create(Dr.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},l.DbBackup=Ir,Ir.prototype.Init=Ir.prototype.Init=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!Rn(this.ptr,c)},Ir.prototype.IsInProgress=Ir.prototype.IsInProgress=function(){return!!Er(this.ptr)},Ir.prototype.IsDone=Ir.prototype.IsDone=function(){return!!ei(this.ptr)},Ir.prototype.GetCurrentDatabase=Ir.prototype.GetCurrentDatabase=function(){return Ne(qr(this.ptr))},Ir.prototype.Save=Ir.prototype.Save=function(){return!!ft(this.ptr)},Ir.prototype.Skip=Ir.prototype.Skip=function(){nn(this.ptr)},Ir.prototype.GetArchivePtr=Ir.prototype.GetArchivePtr=function(){return dr(Mr(this.ptr),Fr)},Ir.prototype.GetArchiveSize=Ir.prototype.GetArchiveSize=function(){return Kn(this.ptr)},Ir.prototype.__destroy__=Ir.prototype.__destroy__=function(){xo(this.ptr)},(ri.prototype=Object.create(Dr.prototype)).constructor=ri,ri.prototype.__class__=ri,ri.__cache__={},l.SuspendContextClipboardCopy=ri,ri.prototype.Cancel=ri.prototype.Cancel=function(){Kr(this.ptr)},ri.prototype.Resume=ri.prototype.Resume=function(){xr(this.ptr)},ri.prototype.GetClipboardContent=ri.prototype.GetClipboardContent=function(){return Ne(qm(this.ptr))},ri.prototype.__destroy__=ri.prototype.__destroy__=function(){Gc(this.ptr)},(Mi.prototype=Object.create(Dr.prototype)).constructor=Mi,Mi.prototype.__class__=Mi,Mi.__cache__={},l.SuspendContextClipboardPaste=Mi,Mi.prototype.Cancel=Mi.prototype.Cancel=function(){yd(this.ptr)},Mi.prototype.Resume=Mi.prototype.Resume=function(c){var m=this.ptr;It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),nc(m,c)},Mi.prototype.__destroy__=Mi.prototype.__destroy__=function(){rc(this.ptr)},(lt.prototype=Object.create(Dr.prototype)).constructor=lt,lt.prototype.__class__=lt,lt.__cache__={},l.SuspendContextNetworkConnect=lt,lt.prototype.Cancel=lt.prototype.Cancel=function(){Ga(this.ptr)},lt.prototype.Resume=lt.prototype.Resume=function(c){var m=this.ptr;It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),ti(m,c)},lt.prototype.__destroy__=lt.prototype.__destroy__=function(){Km(this.ptr)},(bn.prototype=Object.create(Dr.prototype)).constructor=bn,bn.prototype.__class__=bn,bn.__cache__={},l.SuspendContextNetworkRpc=bn,bn.prototype.Cancel=bn.prototype.Cancel=function(){Ti(this.ptr)},bn.prototype.GetRequestSize=bn.prototype.GetRequestSize=function(){return as(this.ptr)},bn.prototype.GetRequestData=bn.prototype.GetRequestData=function(){return dr(Wc(this.ptr),Fr)},bn.prototype.ReceiveResponse=bn.prototype.ReceiveResponse=function(c,m){c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),El(this.ptr,c,m)},bn.prototype.__destroy__=bn.prototype.__destroy__=function(){oc(this.ptr)},(xt.prototype=Object.create(Dr.prototype)).constructor=xt,xt.prototype.__class__=xt,xt.__cache__={},l.SuspendContext=xt,xt.prototype.GetKind=xt.prototype.GetKind=function(){return ls(this.ptr)},xt.prototype.Cancel=xt.prototype.Cancel=function(){bp(this.ptr)},xt.prototype.AsContextClipboardCopy=xt.prototype.AsContextClipboardCopy=function(){return dr(Ym(this.ptr),ri)},xt.prototype.AsContextClipboardPaste=xt.prototype.AsContextClipboardPaste=function(){return dr(wp(this.ptr),Mi)},xt.prototype.AsContextNetworkConnect=xt.prototype.AsContextNetworkConnect=function(){return dr(Cp(this.ptr),lt)},xt.prototype.AsContextNetworkRpc=xt.prototype.AsContextNetworkRpc=function(){return dr(Xm(this.ptr),bn)},xt.prototype.__destroy__=xt.prototype.__destroy__=function(){Qm(this.ptr)},(Rt.prototype=Object.create(Dr.prototype)).constructor=Rt,Rt.prototype.__class__=Rt,Rt.__cache__={},l.ZipfileWalker=Rt,Rt.prototype.GetState=Rt.prototype.GetState=function(){return eg(this.ptr)},Rt.prototype.Next=Rt.prototype.Next=function(){return tg(this.ptr)},Rt.prototype.GetCurrentEntrySize=Rt.prototype.GetCurrentEntrySize=function(){return ng(this.ptr)},Rt.prototype.GetCurrentEntryName=Rt.prototype.GetCurrentEntryName=function(){return Ne(rg(this.ptr))},Rt.prototype.GetCurrentEntryContent=Rt.prototype.GetCurrentEntryContent=function(){return dr(og(this.ptr),Fr)},Rt.prototype.__destroy__=Rt.prototype.__destroy__=function(){ig(this.ptr)},(Vt.prototype=Object.create(Dr.prototype)).constructor=Vt,Vt.prototype.__class__=Vt,Vt.__cache__={},l.SessionImage=Vt,Vt.prototype.GetDeviceId=Vt.prototype.GetDeviceId=function(){return Ne(ag(this.ptr))},Vt.prototype.SetDeviceId=Vt.prototype.SetDeviceId=function(c){var m=this.ptr;return It.prepare(),c=c&&"object"==typeof c?c.ptr:Ho(c),dr(lg(m,c),Vt)},Vt.prototype.GetRomImage=Vt.prototype.GetRomImage=function(){return dr(_d(this.ptr),Fr)},Vt.prototype.GetRomImageSize=Vt.prototype.GetRomImageSize=function(){return vd(this.ptr)},Vt.prototype.SetRomImage=Vt.prototype.SetRomImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),dr(cg(this.ptr,c,m),Vt)},Vt.prototype.GetMemoryImage=Vt.prototype.GetMemoryImage=function(){return dr(ug(this.ptr),Fr)},Vt.prototype.GetMemoryImageSize=Vt.prototype.GetMemoryImageSize=function(){return dg(this.ptr)},Vt.prototype.SetMemoryImage=Vt.prototype.SetMemoryImage=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),dr(fa(this.ptr,c,m),Vt)},Vt.prototype.GetMetadata=Vt.prototype.GetMetadata=function(){return dr(Sp(this.ptr),Fr)},Vt.prototype.GetMetadataSize=Vt.prototype.GetMetadataSize=function(){return Ao(this.ptr)},Vt.prototype.SetMetadata=Vt.prototype.SetMetadata=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),dr(bd(this.ptr,c,m),Vt)},Vt.prototype.GetSavestate=Vt.prototype.GetSavestate=function(){return dr(Ep(this.ptr),Fr)},Vt.prototype.GetSavestateSize=Vt.prototype.GetSavestateSize=function(){return Dp(this.ptr)},Vt.prototype.SetSavestate=Vt.prototype.SetSavestate=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),dr(wd(this.ptr,c,m),Vt)},Vt.prototype.GetVersion=Vt.prototype.GetVersion=function(){return Cd(this.ptr)},Vt.prototype.Serialize=Vt.prototype.Serialize=function(){return!!Ip(this.ptr)},Vt.prototype.GetSerializedImage=Vt.prototype.GetSerializedImage=function(){return dr(Zc(this.ptr),Fr)},Vt.prototype.GetSerializedImageSize=Vt.prototype.GetSerializedImageSize=function(){return kp(this.ptr)},Vt.prototype.Deserialize=Vt.prototype.Deserialize=function(c,m){return c&&"object"==typeof c&&(c=c.ptr),m&&"object"==typeof m&&(m=m.ptr),!!Li(this.ptr,c,m)},Vt.prototype.__destroy__=Vt.prototype.__destroy__=function(){Sd(this.ptr)},k.ready});$e.exports=We},9084:$e=>{var P,We=(P=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var re,te,l=typeof(k=k||{})<"u"?k:{};l.ready=new Promise(function(p,_){re=p,te=_});var H,Pe,Le,G=Object.assign({},l),Q=[],L="./this.program",U=(p,_)=>{throw _},ue="object"==typeof window,X="function"==typeof importScripts,V=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?V=self.location.href:typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),P&&(V=P),V=0!==V.indexOf("blob:")?V.substr(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=p=>{var _=new XMLHttpRequest;return _.open("GET",p,!1),_.send(null),_.responseText},X&&(Le=p=>{var _=new XMLHttpRequest;return _.open("GET",p,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),Pe=(p,_,w)=>{var F=new XMLHttpRequest;F.open("GET",p,!0),F.responseType="arraybuffer",F.onload=()=>{200==F.status||0==F.status&&F.response?_(F.response):w()},F.onerror=w,F.send(null)});var fe,Z=l.print||console.log.bind(console),K=l.printErr||console.warn.bind(console);Object.assign(l,G),G=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(U=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Re=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&sr("no native wasm support detected");var de,ce,it=!1;function Ce(p,_){p||sr(_)}var Ue,Xe,vt,O,ye,nt,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(p,_,w){for(var F=_+w,z=_;p[z]&&!(z>=F);)++z;if(z-_>16&&p.buffer&&Ie)return Ie.decode(p.subarray(_,z));for(var ve="";_<z;){var De=p[_++];if(128&De){var je=63&p[_++];if(192!=(224&De)){var Dt=63&p[_++];if((De=224==(240&De)?(15&De)<<12|je<<6|Dt:(7&De)<<18|je<<12|Dt<<6|63&p[_++])<65536)ve+=String.fromCharCode(De);else{var fn=De-65536;ve+=String.fromCharCode(55296|fn>>10,56320|1023&fn)}}else ve+=String.fromCharCode((31&De)<<6|je)}else ve+=String.fromCharCode(De)}return ve}function Ne(p,_){return p?Ye(vt,p,_):""}function Me(p,_,w,F){if(!(F>0))return 0;for(var z=w,ve=w+F-1,De=0;De<p.length;++De){var je=p.charCodeAt(De);if(je>=55296&&je<=57343&&(je=65536+((1023&je)<<10)|1023&p.charCodeAt(++De)),je<=127){if(w>=ve)break;_[w++]=je}else if(je<=2047){if(w+1>=ve)break;_[w++]=192|je>>6,_[w++]=128|63&je}else if(je<=65535){if(w+2>=ve)break;_[w++]=224|je>>12,_[w++]=128|je>>6&63,_[w++]=128|63&je}else{if(w+3>=ve)break;_[w++]=240|je>>18,_[w++]=128|je>>12&63,_[w++]=128|je>>6&63,_[w++]=128|63&je}}return _[w]=0,w-z}function ne(p){for(var _=0,w=0;w<p.length;++w){var F=p.charCodeAt(w);F<=127?_++:F<=2047?_+=2:F>=55296&&F<=57343?(_+=4,++w):_+=3}return _}function Ve(p){Ue=p,l.HEAP8=Xe=new Int8Array(p),l.HEAP16=new Int16Array(p),l.HEAP32=O=new Int32Array(p),l.HEAPU8=vt=new Uint8Array(p),l.HEAPU16=new Uint16Array(p),l.HEAPU32=ye=new Uint32Array(p),l.HEAPF32=new Float32Array(p),l.HEAPF64=nt=new Float64Array(p)}var mn,ht=[],Ae=[],Mt=[],ln=[],Mn=0,uo=null,Vn=null;function Gr(p){Mn++,l.monitorRunDependencies&&l.monitorRunDependencies(Mn)}function Ar(p){if(Mn--,l.monitorRunDependencies&&l.monitorRunDependencies(Mn),0==Mn&&(null!==uo&&(clearInterval(uo),uo=null),Vn)){var _=Vn;Vn=null,_()}}function sr(p){l.onAbort&&l.onAbort(p),K(p="Aborted("+p+")"),it=!0,ce=1,p+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(p);throw te(_),_}function no(p){return p.startsWith("data:application/octet-stream;base64,")}function Xr(p){try{if(p==mn&&fe)return new Uint8Array(fe);if(Le)return Le(p);throw"both async and sync fetching of the wasm failed"}catch(_){sr(_)}}no(mn="fstools_web.wasm")||(mn=function $(p){return l.locateFile?l.locateFile(p,V):V+p}(mn));var ct,le,Ge={40318:()=>{throw new Error("terminated")}};function xn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function Nn(p){for(;p.length>0;)p.shift()(l)}var Wt={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,_)=>{for(var w=0,F=p.length-1;F>=0;F--){var z=p[F];"."===z?p.splice(F,1):".."===z?(p.splice(F,1),w++):w&&(p.splice(F,1),w--)}if(_)for(;w;w--)p.unshift("..");return p},normalize:p=>{var _=Wt.isAbs(p),w="/"===p.substr(-1);return!(p=Wt.normalizeArray(p.split("/").filter(F=>!!F),!_).join("/"))&&!_&&(p="."),p&&w&&(p+="/"),(_?"/":"")+p},dirname:p=>{var _=Wt.splitPath(p),w=_[0],F=_[1];return w||F?(F&&(F=F.substr(0,F.length-1)),w+F):"."},basename:p=>{if("/"===p)return"/";var _=(p=(p=Wt.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?p:p.substr(_+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Wt.normalize(p.join("/"))},join2:(p,_)=>Wt.normalize(p+"/"+_)},mr={resolve:function(){for(var p="",_=!1,w=arguments.length-1;w>=-1&&!_;w--){var F=w>=0?arguments[w]:E.cwd();if("string"!=typeof F)throw new TypeError("Arguments to path.resolve must be strings");if(!F)return"";p=F+"/"+p,_=Wt.isAbs(F)}return(_?"/":"")+(p=Wt.normalizeArray(p.split("/").filter(z=>!!z),!_).join("/"))||"."},relative:(p,_)=>{function w(fn){for(var kn=0;kn<fn.length&&""===fn[kn];kn++);for(var Tn=fn.length-1;Tn>=0&&""===fn[Tn];Tn--);return kn>Tn?[]:fn.slice(kn,Tn-kn+1)}p=mr.resolve(p).substr(1),_=mr.resolve(_).substr(1);for(var F=w(p.split("/")),z=w(_.split("/")),ve=Math.min(F.length,z.length),De=ve,je=0;je<ve;je++)if(F[je]!==z[je]){De=je;break}var Dt=[];for(je=De;je<F.length;je++)Dt.push("..");return(Dt=Dt.concat(z.slice(De))).join("/")}};function Xt(p,_,w){var F=w>0?w:ne(p)+1,z=new Array(F),ve=Me(p,z,0,z.length);return _&&(z.length=ve),z}var er={ttys:[],init:function(){},shutdown:function(){},register:function(p,_){er.ttys[p]={input:[],output:[],ops:_},E.registerDevice(p,er.stream_ops)},stream_ops:{open:function(p){var _=er.ttys[p.node.rdev];if(!_)throw new E.ErrnoError(43);p.tty=_,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,_,w,F,z){if(!p.tty||!p.tty.ops.get_char)throw new E.ErrnoError(60);for(var ve=0,De=0;De<F;De++){var je;try{je=p.tty.ops.get_char(p.tty)}catch{throw new E.ErrnoError(29)}if(void 0===je&&0===ve)throw new E.ErrnoError(6);if(null==je)break;ve++,_[w+De]=je}return ve&&(p.node.timestamp=Date.now()),ve},write:function(p,_,w,F,z){if(!p.tty||!p.tty.ops.put_char)throw new E.ErrnoError(60);try{for(var ve=0;ve<F;ve++)p.tty.ops.put_char(p.tty,_[w+ve])}catch{throw new E.ErrnoError(29)}return F&&(p.node.timestamp=Date.now()),ve}},default_tty_ops:{get_char:function(p){if(!p.input.length){var _=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(_=window.prompt("Input: "))&&(_+="\n"):"function"==typeof readline&&null!==(_=readline())&&(_+="\n"),!_)return null;p.input=Xt(_,!0)}return p.input.shift()},put_char:function(p,_){null===_||10===_?(Z(Ye(p.output,0)),p.output=[]):0!=_&&p.output.push(_)},fsync:function(p){p.output&&p.output.length>0&&(Z(Ye(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,_){null===_||10===_?(K(Ye(p.output,0)),p.output=[]):0!=_&&p.output.push(_)},fsync:function(p){p.output&&p.output.length>0&&(K(Ye(p.output,0)),p.output=[])}}};function tr(p){sr()}var cn={ops_table:null,mount:function(p){return cn.createNode(null,"/",16895,0)},createNode:function(p,_,w,F){if(E.isBlkdev(w)||E.isFIFO(w))throw new E.ErrnoError(63);cn.ops_table||(cn.ops_table={dir:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr,lookup:cn.node_ops.lookup,mknod:cn.node_ops.mknod,rename:cn.node_ops.rename,unlink:cn.node_ops.unlink,rmdir:cn.node_ops.rmdir,readdir:cn.node_ops.readdir,symlink:cn.node_ops.symlink},stream:{llseek:cn.stream_ops.llseek}},file:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr},stream:{llseek:cn.stream_ops.llseek,read:cn.stream_ops.read,write:cn.stream_ops.write,allocate:cn.stream_ops.allocate,mmap:cn.stream_ops.mmap,msync:cn.stream_ops.msync}},link:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr,readlink:cn.node_ops.readlink},stream:{}},chrdev:{node:{getattr:cn.node_ops.getattr,setattr:cn.node_ops.setattr},stream:E.chrdev_stream_ops}});var z=E.createNode(p,_,w,F);return E.isDir(z.mode)?(z.node_ops=cn.ops_table.dir.node,z.stream_ops=cn.ops_table.dir.stream,z.contents={}):E.isFile(z.mode)?(z.node_ops=cn.ops_table.file.node,z.stream_ops=cn.ops_table.file.stream,z.usedBytes=0,z.contents=null):E.isLink(z.mode)?(z.node_ops=cn.ops_table.link.node,z.stream_ops=cn.ops_table.link.stream):E.isChrdev(z.mode)&&(z.node_ops=cn.ops_table.chrdev.node,z.stream_ops=cn.ops_table.chrdev.stream),z.timestamp=Date.now(),p&&(p.contents[_]=z,p.timestamp=z.timestamp),z},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,_){var w=p.contents?p.contents.length:0;if(!(w>=_)){_=Math.max(_,w*(w<1048576?2:1.125)>>>0),0!=w&&(_=Math.max(_,256));var z=p.contents;p.contents=new Uint8Array(_),p.usedBytes>0&&p.contents.set(z.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,_){if(p.usedBytes!=_)if(0==_)p.contents=null,p.usedBytes=0;else{var w=p.contents;p.contents=new Uint8Array(_),w&&p.contents.set(w.subarray(0,Math.min(_,p.usedBytes))),p.usedBytes=_}},node_ops:{getattr:function(p){var _={};return _.dev=E.isChrdev(p.mode)?p.id:1,_.ino=p.id,_.mode=p.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=p.rdev,_.size=E.isDir(p.mode)?4096:E.isFile(p.mode)?p.usedBytes:E.isLink(p.mode)?p.link.length:0,_.atime=new Date(p.timestamp),_.mtime=new Date(p.timestamp),_.ctime=new Date(p.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr:function(p,_){void 0!==_.mode&&(p.mode=_.mode),void 0!==_.timestamp&&(p.timestamp=_.timestamp),void 0!==_.size&&cn.resizeFileStorage(p,_.size)},lookup:function(p,_){throw E.genericErrors[44]},mknod:function(p,_,w,F){return cn.createNode(p,_,w,F)},rename:function(p,_,w){if(E.isDir(p.mode)){var F;try{F=E.lookupNode(_,w)}catch{}if(F)for(var z in F.contents)throw new E.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=w,_.contents[w]=p,_.timestamp=p.parent.timestamp,p.parent=_},unlink:function(p,_){delete p.contents[_],p.timestamp=Date.now()},rmdir:function(p,_){var w=E.lookupNode(p,_);for(var F in w.contents)throw new E.ErrnoError(55);delete p.contents[_],p.timestamp=Date.now()},readdir:function(p){var _=[".",".."];for(var w in p.contents)p.contents.hasOwnProperty(w)&&_.push(w);return _},symlink:function(p,_,w){var F=cn.createNode(p,_,41471,0);return F.link=w,F},readlink:function(p){if(!E.isLink(p.mode))throw new E.ErrnoError(28);return p.link}},stream_ops:{read:function(p,_,w,F,z){var ve=p.node.contents;if(z>=p.node.usedBytes)return 0;var De=Math.min(p.node.usedBytes-z,F);if(De>8&&ve.subarray)_.set(ve.subarray(z,z+De),w);else for(var je=0;je<De;je++)_[w+je]=ve[z+je];return De},write:function(p,_,w,F,z,ve){if(_.buffer===Xe.buffer&&(ve=!1),!F)return 0;var De=p.node;if(De.timestamp=Date.now(),_.subarray&&(!De.contents||De.contents.subarray)){if(ve)return De.contents=_.subarray(w,w+F),De.usedBytes=F,F;if(0===De.usedBytes&&0===z)return De.contents=_.slice(w,w+F),De.usedBytes=F,F;if(z+F<=De.usedBytes)return De.contents.set(_.subarray(w,w+F),z),F}if(cn.expandFileStorage(De,z+F),De.contents.subarray&&_.subarray)De.contents.set(_.subarray(w,w+F),z);else for(var je=0;je<F;je++)De.contents[z+je]=_[w+je];return De.usedBytes=Math.max(De.usedBytes,z+F),F},llseek:function(p,_,w){var F=_;if(1===w?F+=p.position:2===w&&E.isFile(p.node.mode)&&(F+=p.node.usedBytes),F<0)throw new E.ErrnoError(28);return F},allocate:function(p,_,w){cn.expandFileStorage(p.node,_+w),p.node.usedBytes=Math.max(p.node.usedBytes,_+w)},mmap:function(p,_,w,F,z){if(!E.isFile(p.node.mode))throw new E.ErrnoError(43);var ve,De,je=p.node.contents;if(2&z||je.buffer!==Ue){if((w>0||w+_<je.length)&&(je=je.subarray?je.subarray(w,w+_):Array.prototype.slice.call(je,w,w+_)),De=!0,!(ve=tr()))throw new E.ErrnoError(48);Xe.set(je,ve)}else De=!1,ve=je.byteOffset;return{ptr:ve,allocated:De}},msync:function(p,_,w,F,z){return cn.stream_ops.write(p,_,0,F,w,!1),0}}},E={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,_={})=>{if(!(p=mr.resolve(p)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new E.ErrnoError(32);for(var F=p.split("/").filter(Tn=>!!Tn),z=E.root,ve="/",De=0;De<F.length;De++){var je=De===F.length-1;if(je&&_.parent)break;if(z=E.lookupNode(z,F[De]),ve=Wt.join2(ve,F[De]),E.isMountpoint(z)&&(!je||je&&_.follow_mount)&&(z=z.mounted.root),!je||_.follow)for(var Dt=0;E.isLink(z.mode);){var fn=E.readlink(ve);if(ve=mr.resolve(Wt.dirname(ve),fn),z=E.lookupPath(ve,{recurse_count:_.recurse_count+1}).node,Dt++>40)throw new E.ErrnoError(32)}}return{path:ve,node:z}},getPath:p=>{for(var _;;){if(E.isRoot(p)){var w=p.mount.mountpoint;return _?"/"!==w[w.length-1]?w+"/"+_:w+_:w}_=_?p.name+"/"+_:p.name,p=p.parent}},hashName:(p,_)=>{for(var w=0,F=0;F<_.length;F++)w=(w<<5)-w+_.charCodeAt(F)|0;return(p+w>>>0)%E.nameTable.length},hashAddNode:p=>{var _=E.hashName(p.parent.id,p.name);p.name_next=E.nameTable[_],E.nameTable[_]=p},hashRemoveNode:p=>{var _=E.hashName(p.parent.id,p.name);if(E.nameTable[_]===p)E.nameTable[_]=p.name_next;else for(var w=E.nameTable[_];w;){if(w.name_next===p){w.name_next=p.name_next;break}w=w.name_next}},lookupNode:(p,_)=>{var w=E.mayLookup(p);if(w)throw new E.ErrnoError(w,p);for(var F=E.hashName(p.id,_),z=E.nameTable[F];z;z=z.name_next)if(z.parent.id===p.id&&z.name===_)return z;return E.lookup(p,_)},createNode:(p,_,w,F)=>{var z=new E.FSNode(p,_,w,F);return E.hashAddNode(z),z},destroyNode:p=>{E.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var _=E.flagModes[p];if(typeof _>"u")throw new Error("Unknown file open mode: "+p);return _},flagsToPermissionString:p=>{var _=["r","w","rw"][3&p];return 512&p&&(_+="w"),_},nodePermissions:(p,_)=>E.ignorePermissions?0:_.includes("r")&&!(292&p.mode)||_.includes("w")&&!(146&p.mode)||_.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>E.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,_)=>{try{return E.lookupNode(p,_),20}catch{}return E.nodePermissions(p,"wx")},mayDelete:(p,_,w)=>{var F;try{F=E.lookupNode(p,_)}catch(ve){return ve.errno}var z=E.nodePermissions(p,"wx");if(z)return z;if(w){if(!E.isDir(F.mode))return 54;if(E.isRoot(F)||E.getPath(F)===E.cwd())return 10}else if(E.isDir(F.mode))return 31;return 0},mayOpen:(p,_)=>p?E.isLink(p.mode)?32:E.isDir(p.mode)&&("r"!==E.flagsToPermissionString(_)||512&_)?31:E.nodePermissions(p,E.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,_=E.MAX_OPEN_FDS)=>{for(var w=p;w<=_;w++)if(!E.streams[w])return w;throw new E.ErrnoError(33)},getStream:p=>E.streams[p],createStream:(p,_,w)=>{E.FSStream||(E.FSStream=function(){this.shared={}},E.FSStream.prototype={},Object.defineProperties(E.FSStream.prototype,{object:{get:function(){return this.node},set:function(z){this.node=z}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(z){this.shared.flags=z}},position:{get:function(){return this.shared.position},set:function(z){this.shared.position=z}}})),p=Object.assign(new E.FSStream,p);var F=E.nextfd(_,w);return p.fd=F,E.streams[F]=p,p},closeStream:p=>{E.streams[p]=null},chrdev_stream_ops:{open:p=>{var _=E.getDevice(p.node.rdev);p.stream_ops=_.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new E.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,_)=>p<<8|_,registerDevice:(p,_)=>{E.devices[p]={stream_ops:_}},getDevice:p=>E.devices[p],getMounts:p=>{for(var _=[],w=[p];w.length;){var F=w.pop();_.push(F),w.push.apply(w,F.mounts)}return _},syncfs:(p,_)=>{"function"==typeof p&&(_=p,p=!1),E.syncFSRequests++,E.syncFSRequests>1&&K("warning: "+E.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=E.getMounts(E.root.mount),F=0;function z(De){return E.syncFSRequests--,_(De)}function ve(De){if(De)return ve.errored?void 0:(ve.errored=!0,z(De));++F>=w.length&&z(null)}w.forEach(De=>{if(!De.type.syncfs)return ve(null);De.type.syncfs(De,p,ve)})},mount:(p,_,w)=>{var ve,F="/"===w,z=!w;if(F&&E.root)throw new E.ErrnoError(10);if(!F&&!z){var De=E.lookupPath(w,{follow_mount:!1});if(w=De.path,E.isMountpoint(ve=De.node))throw new E.ErrnoError(10);if(!E.isDir(ve.mode))throw new E.ErrnoError(54)}var je={type:p,opts:_,mountpoint:w,mounts:[]},Dt=p.mount(je);return Dt.mount=je,je.root=Dt,F?E.root=Dt:ve&&(ve.mounted=je,ve.mount&&ve.mount.mounts.push(je)),Dt},unmount:p=>{var _=E.lookupPath(p,{follow_mount:!1});if(!E.isMountpoint(_.node))throw new E.ErrnoError(28);var w=_.node,F=w.mounted,z=E.getMounts(F);Object.keys(E.nameTable).forEach(De=>{for(var je=E.nameTable[De];je;){var Dt=je.name_next;z.includes(je.mount)&&E.destroyNode(je),je=Dt}}),w.mounted=null;var ve=w.mount.mounts.indexOf(F);w.mount.mounts.splice(ve,1)},lookup:(p,_)=>p.node_ops.lookup(p,_),mknod:(p,_,w)=>{var z=E.lookupPath(p,{parent:!0}).node,ve=Wt.basename(p);if(!ve||"."===ve||".."===ve)throw new E.ErrnoError(28);var De=E.mayCreate(z,ve);if(De)throw new E.ErrnoError(De);if(!z.node_ops.mknod)throw new E.ErrnoError(63);return z.node_ops.mknod(z,ve,_,w)},create:(p,_)=>(_=void 0!==_?_:438,_&=4095,E.mknod(p,_|=32768,0)),mkdir:(p,_)=>(_=void 0!==_?_:511,_&=1023,E.mknod(p,_|=16384,0)),mkdirTree:(p,_)=>{for(var w=p.split("/"),F="",z=0;z<w.length;++z)if(w[z]){F+="/"+w[z];try{E.mkdir(F,_)}catch(ve){if(20!=ve.errno)throw ve}}},mkdev:(p,_,w)=>(typeof w>"u"&&(w=_,_=438),E.mknod(p,_|=8192,w)),symlink:(p,_)=>{if(!mr.resolve(p))throw new E.ErrnoError(44);var F=E.lookupPath(_,{parent:!0}).node;if(!F)throw new E.ErrnoError(44);var z=Wt.basename(_),ve=E.mayCreate(F,z);if(ve)throw new E.ErrnoError(ve);if(!F.node_ops.symlink)throw new E.ErrnoError(63);return F.node_ops.symlink(F,z,p)},rename:(p,_)=>{var je,Dt,w=Wt.dirname(p),F=Wt.dirname(_),z=Wt.basename(p),ve=Wt.basename(_);if(je=E.lookupPath(p,{parent:!0}).node,Dt=E.lookupPath(_,{parent:!0}).node,!je||!Dt)throw new E.ErrnoError(44);if(je.mount!==Dt.mount)throw new E.ErrnoError(75);var Tn,fn=E.lookupNode(je,z),kn=mr.relative(p,F);if("."!==kn.charAt(0))throw new E.ErrnoError(28);if("."!==(kn=mr.relative(_,w)).charAt(0))throw new E.ErrnoError(55);try{Tn=E.lookupNode(Dt,ve)}catch{}if(fn!==Tn){var Ht=E.isDir(fn.mode),Zt=E.mayDelete(je,z,Ht);if(Zt)throw new E.ErrnoError(Zt);if(Zt=Tn?E.mayDelete(Dt,ve,Ht):E.mayCreate(Dt,ve))throw new E.ErrnoError(Zt);if(!je.node_ops.rename)throw new E.ErrnoError(63);if(E.isMountpoint(fn)||Tn&&E.isMountpoint(Tn))throw new E.ErrnoError(10);if(Dt!==je&&(Zt=E.nodePermissions(je,"w")))throw new E.ErrnoError(Zt);E.hashRemoveNode(fn);try{je.node_ops.rename(fn,Dt,ve)}catch(ee){throw ee}finally{E.hashAddNode(fn)}}},rmdir:p=>{var w=E.lookupPath(p,{parent:!0}).node,F=Wt.basename(p),z=E.lookupNode(w,F),ve=E.mayDelete(w,F,!0);if(ve)throw new E.ErrnoError(ve);if(!w.node_ops.rmdir)throw new E.ErrnoError(63);if(E.isMountpoint(z))throw new E.ErrnoError(10);w.node_ops.rmdir(w,F),E.destroyNode(z)},readdir:p=>{var w=E.lookupPath(p,{follow:!0}).node;if(!w.node_ops.readdir)throw new E.ErrnoError(54);return w.node_ops.readdir(w)},unlink:p=>{var w=E.lookupPath(p,{parent:!0}).node;if(!w)throw new E.ErrnoError(44);var F=Wt.basename(p),z=E.lookupNode(w,F),ve=E.mayDelete(w,F,!1);if(ve)throw new E.ErrnoError(ve);if(!w.node_ops.unlink)throw new E.ErrnoError(63);if(E.isMountpoint(z))throw new E.ErrnoError(10);w.node_ops.unlink(w,F),E.destroyNode(z)},readlink:p=>{var w=E.lookupPath(p).node;if(!w)throw new E.ErrnoError(44);if(!w.node_ops.readlink)throw new E.ErrnoError(28);return mr.resolve(E.getPath(w.parent),w.node_ops.readlink(w))},stat:(p,_)=>{var F=E.lookupPath(p,{follow:!_}).node;if(!F)throw new E.ErrnoError(44);if(!F.node_ops.getattr)throw new E.ErrnoError(63);return F.node_ops.getattr(F)},lstat:p=>E.stat(p,!0),chmod:(p,_,w)=>{var F;if(!(F="string"==typeof p?E.lookupPath(p,{follow:!w}).node:p).node_ops.setattr)throw new E.ErrnoError(63);F.node_ops.setattr(F,{mode:4095&_|-4096&F.mode,timestamp:Date.now()})},lchmod:(p,_)=>{E.chmod(p,_,!0)},fchmod:(p,_)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);E.chmod(w.node,_)},chown:(p,_,w,F)=>{var z;if(!(z="string"==typeof p?E.lookupPath(p,{follow:!F}).node:p).node_ops.setattr)throw new E.ErrnoError(63);z.node_ops.setattr(z,{timestamp:Date.now()})},lchown:(p,_,w)=>{E.chown(p,_,w,!0)},fchown:(p,_,w)=>{var F=E.getStream(p);if(!F)throw new E.ErrnoError(8);E.chown(F.node,_,w)},truncate:(p,_)=>{if(_<0)throw new E.ErrnoError(28);var w;if(!(w="string"==typeof p?E.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new E.ErrnoError(63);if(E.isDir(w.mode))throw new E.ErrnoError(31);if(!E.isFile(w.mode))throw new E.ErrnoError(28);var z=E.nodePermissions(w,"w");if(z)throw new E.ErrnoError(z);w.node_ops.setattr(w,{size:_,timestamp:Date.now()})},ftruncate:(p,_)=>{var w=E.getStream(p);if(!w)throw new E.ErrnoError(8);if(!(2097155&w.flags))throw new E.ErrnoError(28);E.truncate(w.node,_)},utime:(p,_,w)=>{var z=E.lookupPath(p,{follow:!0}).node;z.node_ops.setattr(z,{timestamp:Math.max(_,w)})},open:(p,_,w)=>{if(""===p)throw new E.ErrnoError(44);var F;if(w=typeof w>"u"?438:w,w=64&(_="string"==typeof _?E.modeStringToFlags(_):_)?4095&w|32768:0,"object"==typeof p)F=p;else{p=Wt.normalize(p);try{F=E.lookupPath(p,{follow:!(131072&_)}).node}catch{}}var ve=!1;if(64&_)if(F){if(128&_)throw new E.ErrnoError(20)}else F=E.mknod(p,w,0),ve=!0;if(!F)throw new E.ErrnoError(44);if(E.isChrdev(F.mode)&&(_&=-513),65536&_&&!E.isDir(F.mode))throw new E.ErrnoError(54);if(!ve){var De=E.mayOpen(F,_);if(De)throw new E.ErrnoError(De)}512&_&&!ve&&E.truncate(F,0),_&=-131713;var je=E.createStream({node:F,path:E.getPath(F),flags:_,seekable:!0,position:0,stream_ops:F.stream_ops,ungotten:[],error:!1});return je.stream_ops.open&&je.stream_ops.open(je),l.logReadFiles&&!(1&_)&&(E.readFiles||(E.readFiles={}),p in E.readFiles||(E.readFiles[p]=1)),je},close:p=>{if(E.isClosed(p))throw new E.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(_){throw _}finally{E.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,_,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new E.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new E.ErrnoError(28);return p.position=p.stream_ops.llseek(p,_,w),p.ungotten=[],p.position},read:(p,_,w,F,z)=>{if(F<0||z<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(1==(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.read)throw new E.ErrnoError(28);var ve=typeof z<"u";if(ve){if(!p.seekable)throw new E.ErrnoError(70)}else z=p.position;var De=p.stream_ops.read(p,_,w,F,z);return ve||(p.position+=De),De},write:(p,_,w,F,z,ve)=>{if(F<0||z<0)throw new E.ErrnoError(28);if(E.isClosed(p))throw new E.ErrnoError(8);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(E.isDir(p.node.mode))throw new E.ErrnoError(31);if(!p.stream_ops.write)throw new E.ErrnoError(28);p.seekable&&1024&p.flags&&E.llseek(p,0,2);var De=typeof z<"u";if(De){if(!p.seekable)throw new E.ErrnoError(70)}else z=p.position;var je=p.stream_ops.write(p,_,w,F,z,ve);return De||(p.position+=je),je},allocate:(p,_,w)=>{if(E.isClosed(p))throw new E.ErrnoError(8);if(_<0||w<=0)throw new E.ErrnoError(28);if(!(2097155&p.flags))throw new E.ErrnoError(8);if(!E.isFile(p.node.mode)&&!E.isDir(p.node.mode))throw new E.ErrnoError(43);if(!p.stream_ops.allocate)throw new E.ErrnoError(138);p.stream_ops.allocate(p,_,w)},mmap:(p,_,w,F,z)=>{if(2&F&&!(2&z)&&2!=(2097155&p.flags))throw new E.ErrnoError(2);if(1==(2097155&p.flags))throw new E.ErrnoError(2);if(!p.stream_ops.mmap)throw new E.ErrnoError(43);return p.stream_ops.mmap(p,_,w,F,z)},msync:(p,_,w,F,z)=>p.stream_ops.msync?p.stream_ops.msync(p,_,w,F,z):0,munmap:p=>0,ioctl:(p,_,w)=>{if(!p.stream_ops.ioctl)throw new E.ErrnoError(59);return p.stream_ops.ioctl(p,_,w)},readFile:(p,_={})=>{if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error('Invalid encoding type "'+_.encoding+'"');var w,F=E.open(p,_.flags),ve=E.stat(p).size,De=new Uint8Array(ve);return E.read(F,De,0,ve,0),"utf8"===_.encoding?w=Ye(De,0):"binary"===_.encoding&&(w=De),E.close(F),w},writeFile:(p,_,w={})=>{w.flags=w.flags||577;var F=E.open(p,w.flags,w.mode);if("string"==typeof _){var z=new Uint8Array(ne(_)+1),ve=Me(_,z,0,z.length);E.write(F,z,0,ve,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");E.write(F,_,0,_.byteLength,void 0,w.canOwn)}E.close(F)},cwd:()=>E.currentPath,chdir:p=>{var _=E.lookupPath(p,{follow:!0});if(null===_.node)throw new E.ErrnoError(44);if(!E.isDir(_.node.mode))throw new E.ErrnoError(54);var w=E.nodePermissions(_.node,"x");if(w)throw new E.ErrnoError(w);E.currentPath=_.path},createDefaultDirectories:()=>{E.mkdir("/tmp"),E.mkdir("/home"),E.mkdir("/home/web_user")},createDefaultDevices:()=>{E.mkdir("/dev"),E.registerDevice(E.makedev(1,3),{read:()=>0,write:(_,w,F,z,ve)=>z}),E.mkdev("/dev/null",E.makedev(1,3)),er.register(E.makedev(5,0),er.default_tty_ops),er.register(E.makedev(6,0),er.default_tty1_ops),E.mkdev("/dev/tty",E.makedev(5,0)),E.mkdev("/dev/tty1",E.makedev(6,0));var p=function Pt(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>sr("randomDevice")}();E.createDevice("/dev","random",p),E.createDevice("/dev","urandom",p),E.mkdir("/dev/shm"),E.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{E.mkdir("/proc");var p=E.mkdir("/proc/self");E.mkdir("/proc/self/fd"),E.mount({mount:()=>{var _=E.createNode(p,"fd",16895,73);return _.node_ops={lookup:(w,F)=>{var ve=E.getStream(+F);if(!ve)throw new E.ErrnoError(8);var De={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ve.path}};return De.parent=De,De}},_}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?E.createDevice("/dev","stdin",l.stdin):E.symlink("/dev/tty","/dev/stdin"),l.stdout?E.createDevice("/dev","stdout",null,l.stdout):E.symlink("/dev/tty","/dev/stdout"),l.stderr?E.createDevice("/dev","stderr",null,l.stderr):E.symlink("/dev/tty1","/dev/stderr"),E.open("/dev/stdin",0),E.open("/dev/stdout",1),E.open("/dev/stderr",1)},ensureErrnoError:()=>{E.ErrnoError||(E.ErrnoError=function(_,w){this.node=w,this.setErrno=function(F){this.errno=F},this.setErrno(_),this.message="FS error"},E.ErrnoError.prototype=new Error,E.ErrnoError.prototype.constructor=E.ErrnoError,[44].forEach(p=>{E.genericErrors[p]=new E.ErrnoError(p),E.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{E.ensureErrnoError(),E.nameTable=new Array(4096),E.mount(cn,{},"/"),E.createDefaultDirectories(),E.createDefaultDevices(),E.createSpecialDirectories(),E.filesystems={MEMFS:cn}},init:(p,_,w)=>{E.init.initialized=!0,E.ensureErrnoError(),l.stdin=p||l.stdin,l.stdout=_||l.stdout,l.stderr=w||l.stderr,E.createStandardStreams()},quit:()=>{E.init.initialized=!1;for(var p=0;p<E.streams.length;p++){var _=E.streams[p];_&&E.close(_)}},getMode:(p,_)=>{var w=0;return p&&(w|=365),_&&(w|=146),w},findObject:(p,_)=>{var w=E.analyzePath(p,_);return w.exists?w.object:null},analyzePath:(p,_)=>{try{p=(w=E.lookupPath(p,{follow:!_})).path}catch{}var F={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=E.lookupPath(p,{parent:!0});F.parentExists=!0,F.parentPath=w.path,F.parentObject=w.node,F.name=Wt.basename(p),w=E.lookupPath(p,{follow:!_}),F.exists=!0,F.path=w.path,F.object=w.node,F.name=w.node.name,F.isRoot="/"===w.path}catch(z){F.error=z.errno}return F},createPath:(p,_,w,F)=>{p="string"==typeof p?p:E.getPath(p);for(var z=_.split("/").reverse();z.length;){var ve=z.pop();if(ve){var De=Wt.join2(p,ve);try{E.mkdir(De)}catch{}p=De}}return De},createFile:(p,_,w,F,z)=>{var ve=Wt.join2("string"==typeof p?p:E.getPath(p),_),De=E.getMode(F,z);return E.create(ve,De)},createDataFile:(p,_,w,F,z,ve)=>{var De=_;p&&(p="string"==typeof p?p:E.getPath(p),De=_?Wt.join2(p,_):p);var je=E.getMode(F,z),Dt=E.create(De,je);if(w){if("string"==typeof w){for(var fn=new Array(w.length),kn=0,Tn=w.length;kn<Tn;++kn)fn[kn]=w.charCodeAt(kn);w=fn}E.chmod(Dt,146|je);var Ht=E.open(Dt,577);E.write(Ht,w,0,w.length,0,ve),E.close(Ht),E.chmod(Dt,je)}return Dt},createDevice:(p,_,w,F)=>{var z=Wt.join2("string"==typeof p?p:E.getPath(p),_),ve=E.getMode(!!w,!!F);E.createDevice.major||(E.createDevice.major=64);var De=E.makedev(E.createDevice.major++,0);return E.registerDevice(De,{open:je=>{je.seekable=!1},close:je=>{F&&F.buffer&&F.buffer.length&&F(10)},read:(je,Dt,fn,kn,Tn)=>{for(var Ht=0,Zt=0;Zt<kn;Zt++){var ee;try{ee=w()}catch{throw new E.ErrnoError(29)}if(void 0===ee&&0===Ht)throw new E.ErrnoError(6);if(null==ee)break;Ht++,Dt[fn+Zt]=ee}return Ht&&(je.node.timestamp=Date.now()),Ht},write:(je,Dt,fn,kn,Tn)=>{for(var Ht=0;Ht<kn;Ht++)try{F(Dt[fn+Ht])}catch{throw new E.ErrnoError(29)}return kn&&(je.node.timestamp=Date.now()),Ht}}),E.mkdev(z,ve,De)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=Xt(H(p.url),!0),p.usedBytes=p.contents.length}catch{throw new E.ErrnoError(29)}},createLazyFile:(p,_,w,F,z)=>{function ve(){this.lengthKnown=!1,this.chunks=[]}if(ve.prototype.get=function(Zt){if(!(Zt>this.length-1||Zt<0)){var ee=Zt%this.chunkSize;return this.getter(Zt/this.chunkSize|0)[ee]}},ve.prototype.setDataGetter=function(Zt){this.getter=Zt},ve.prototype.cacheLength=function(){var Zt=new XMLHttpRequest;if(Zt.open("HEAD",w,!1),Zt.send(null),!(Zt.status>=200&&Zt.status<300||304===Zt.status))throw new Error("Couldn't load "+w+". Status: "+Zt.status);var Cr,ee=Number(Zt.getResponseHeader("Content-length")),yn=(Cr=Zt.getResponseHeader("Accept-Ranges"))&&"bytes"===Cr,Vr=(Cr=Zt.getResponseHeader("Content-Encoding"))&&"gzip"===Cr,mt=1048576;yn||(mt=ee);var Ur=this;Ur.setDataGetter(hr=>{var jo=hr*mt,ur=(hr+1)*mt-1;if(ur=Math.min(ur,ee-1),typeof Ur.chunks[hr]>"u"&&(Ur.chunks[hr]=((hr,jo)=>{if(hr>jo)throw new Error("invalid range ("+hr+", "+jo+") or no bytes requested!");if(jo>ee-1)throw new Error("only "+ee+" bytes available! programmer error!");var ur=new XMLHttpRequest;if(ur.open("GET",w,!1),ee!==mt&&ur.setRequestHeader("Range","bytes="+hr+"-"+jo),ur.responseType="arraybuffer",ur.overrideMimeType&&ur.overrideMimeType("text/plain; charset=x-user-defined"),ur.send(null),!(ur.status>=200&&ur.status<300||304===ur.status))throw new Error("Couldn't load "+w+". Status: "+ur.status);return void 0!==ur.response?new Uint8Array(ur.response||[]):Xt(ur.responseText||"",!0)})(jo,ur)),typeof Ur.chunks[hr]>"u")throw new Error("doXHR failed!");return Ur.chunks[hr]}),(Vr||!ee)&&(mt=ee=1,ee=this.getter(0).length,mt=ee,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ee,this._chunkSize=mt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var De=new ve;Object.defineProperties(De,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var je={isDevice:!1,contents:De}}else je={isDevice:!1,url:w};var Dt=E.createFile(p,_,je,F,z);je.contents?Dt.contents=je.contents:je.url&&(Dt.contents=null,Dt.url=je.url),Object.defineProperties(Dt,{usedBytes:{get:function(){return this.contents.length}}});var fn={};function Tn(Ht,Zt,ee,Cr,yn){var Vr=Ht.node.contents;if(yn>=Vr.length)return 0;var mt=Math.min(Vr.length-yn,Cr);if(Vr.slice)for(var zt=0;zt<mt;zt++)Zt[ee+zt]=Vr[yn+zt];else for(zt=0;zt<mt;zt++)Zt[ee+zt]=Vr.get(yn+zt);return mt}return Object.keys(Dt.stream_ops).forEach(Ht=>{var Zt=Dt.stream_ops[Ht];fn[Ht]=function(){return E.forceLoadFile(Dt),Zt.apply(null,arguments)}}),fn.read=(Ht,Zt,ee,Cr,yn)=>(E.forceLoadFile(Dt),Tn(Ht,Zt,ee,Cr,yn)),fn.mmap=(Ht,Zt,ee,Cr,yn)=>{E.forceLoadFile(Dt);var Vr=tr();if(!Vr)throw new E.ErrnoError(48);return Tn(Ht,Xe,Vr,Zt,ee),{ptr:Vr,allocated:!0}},Dt.stream_ops=fn,Dt},createPreloadedFile:(p,_,w,F,z,ve,De,je,Dt,fn)=>{var kn=_?mr.resolve(Wt.join2(p,_)):p;function Ht(Zt){function ee(Cr){fn&&fn(),je||E.createDataFile(p,_,Cr,F,z,Dt),ve&&ve(),Ar()}Browser.handledByPreloadPlugin(Zt,kn,ee,()=>{De&&De(),Ar()})||ee(Zt)}Gr(),"string"==typeof w?function Ut(p,_,w,F){var z=F?"":"al "+p;Pe(p,ve=>{Ce(ve,'Loading data file "'+p+'" failed (no arrayBuffer).'),_(new Uint8Array(ve)),z&&Ar()},ve=>{if(!w)throw'Loading data file "'+p+'" failed.';w()}),z&&Gr()}(w,Zt=>Ht(Zt),De):Ht(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,_,w)=>{_=_||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var z=F.open(E.DB_NAME(),E.DB_VERSION)}catch(ve){return w(ve)}z.onupgradeneeded=()=>{Z("creating db"),z.result.createObjectStore(E.DB_STORE_NAME)},z.onsuccess=()=>{var De=z.result.transaction([E.DB_STORE_NAME],"readwrite"),je=De.objectStore(E.DB_STORE_NAME),Dt=0,fn=0,kn=p.length;function Tn(){0==fn?_():w()}p.forEach(Ht=>{var Zt=je.put(E.analyzePath(Ht).object.contents,Ht);Zt.onsuccess=()=>{++Dt+fn==kn&&Tn()},Zt.onerror=()=>{fn++,Dt+fn==kn&&Tn()}}),De.onerror=w},z.onerror=w},loadFilesFromDB:(p,_,w)=>{_=_||(()=>{}),w=w||(()=>{});var F=E.indexedDB();try{var z=F.open(E.DB_NAME(),E.DB_VERSION)}catch(ve){return w(ve)}z.onupgradeneeded=w,z.onsuccess=()=>{var ve=z.result;try{var De=ve.transaction([E.DB_STORE_NAME],"readonly")}catch(Ht){return void w(Ht)}var je=De.objectStore(E.DB_STORE_NAME),Dt=0,fn=0,kn=p.length;function Tn(){0==fn?_():w()}p.forEach(Ht=>{var Zt=je.get(Ht);Zt.onsuccess=()=>{E.analyzePath(Ht).exists&&E.unlink(Ht),E.createDataFile(Wt.dirname(Ht),Wt.basename(Ht),Zt.result,!0,!0,!0),++Dt+fn==kn&&Tn()},Zt.onerror=()=>{fn++,Dt+fn==kn&&Tn()}}),De.onerror=w},z.onerror=w}},S={DEFAULT_POLLMASK:5,calculateAt:function(p,_,w){if(Wt.isAbs(_))return _;var F;if(F=-100===p?E.cwd():S.getStreamFromFD(p).path,0==_.length){if(!w)throw new E.ErrnoError(44);return F}return Wt.join2(F,_)},doStat:function(p,_,w){try{var F=p(_)}catch(z){if(z&&z.node&&Wt.normalize(_)!==Wt.normalize(E.getPath(z.node)))return-54;throw z}return O[w>>2]=F.dev,O[w+8>>2]=F.ino,O[w+12>>2]=F.mode,ye[w+16>>2]=F.nlink,O[w+20>>2]=F.uid,O[w+24>>2]=F.gid,O[w+28>>2]=F.rdev,le=[F.size>>>0,(ct=F.size,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+40>>2]=le[0],O[w+44>>2]=le[1],O[w+48>>2]=4096,O[w+52>>2]=F.blocks,le=[Math.floor(F.atime.getTime()/1e3)>>>0,(ct=Math.floor(F.atime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+56>>2]=le[0],O[w+60>>2]=le[1],ye[w+64>>2]=0,le=[Math.floor(F.mtime.getTime()/1e3)>>>0,(ct=Math.floor(F.mtime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+72>>2]=le[0],O[w+76>>2]=le[1],ye[w+80>>2]=0,le=[Math.floor(F.ctime.getTime()/1e3)>>>0,(ct=Math.floor(F.ctime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+88>>2]=le[0],O[w+92>>2]=le[1],ye[w+96>>2]=0,le=[F.ino>>>0,(ct=F.ino,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[w+104>>2]=le[0],O[w+108>>2]=le[1],0},doMsync:function(p,_,w,F,z){if(!E.isFile(_.node.mode))throw new E.ErrnoError(43);if(2&F)return 0;var ve=vt.slice(p,p+w);E.msync(_,ve,z,w,F)},varargs:void 0,get:function(){return S.varargs+=4,O[S.varargs-4>>2]},getStr:function(p){return Ne(p)},getStreamFromFD:function(p){var _=E.getStream(p);if(!_)throw new E.ErrnoError(8);return _}};function D(p){return ye[p>>2]+4294967296*O[p+4>>2]}function $o(p){return p%4==0&&(p%100!=0||p%400==0)}var Xo=[0,31,60,91,121,152,182,213,244,274,305,335],bo=[0,31,59,90,120,151,181,212,243,273,304,334];function Ci(p){var _=ne(p)+1,w=ko(_);return w&&Me(p,Xe,w,_),w}var Vo=[];function wo(p){try{return de.grow(p-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var es={};function Io(){if(!Io.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var w in es)void 0===es[w]?delete _[w]:_[w]=es[w];var F=[];for(var w in _)F.push(w+"="+_[w]);Io.strings=F}return Io.strings}function vs(p,_){ce=p,function Ei(p){ce=p,function Jt(){return Re}()||(l.onExit&&l.onExit(p),it=!0),U(p,new xn(p))}(p)}var ui=vs,A=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var ke=function(p,_,w,F){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=E.nextInode++,this.name=_,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=F};Object.defineProperties(ke.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return E.isDir(this.mode)}},isDevice:{get:function(){return E.isChrdev(this.mode)}}}),E.FSNode=ke,E.staticInit();var Ws,xe={o:function Yn(p,_,w,F){S.varargs=F;try{_=S.getStr(_),_=S.calculateAt(p,_);var z=F?S.get():0;return E.open(_,w,z).fd}catch(ve){if(typeof E>"u"||!(ve instanceof E.ErrnoError))throw ve;return-ve.errno}},h:function Pn(p,_){var w=new Date(1e3*D(p));O[_>>2]=w.getUTCSeconds(),O[_+4>>2]=w.getUTCMinutes(),O[_+8>>2]=w.getUTCHours(),O[_+12>>2]=w.getUTCDate(),O[_+16>>2]=w.getUTCMonth(),O[_+20>>2]=w.getUTCFullYear()-1900,O[_+24>>2]=w.getUTCDay();var F=Date.UTC(w.getUTCFullYear(),0,1,0,0,0,0),z=(w.getTime()-F)/864e5|0;O[_+28>>2]=z},i:function Bo(p,_){var w=new Date(1e3*D(p));O[_>>2]=w.getSeconds(),O[_+4>>2]=w.getMinutes(),O[_+8>>2]=w.getHours(),O[_+12>>2]=w.getDate(),O[_+16>>2]=w.getMonth(),O[_+20>>2]=w.getFullYear()-1900,O[_+24>>2]=w.getDay();var F=0|function Oi(p){return($o(p.getFullYear())?Xo:bo)[p.getMonth()]+p.getDate()-1}(w);O[_+28>>2]=F,O[_+36>>2]=-60*w.getTimezoneOffset();var z=new Date(w.getFullYear(),0,1),ve=new Date(w.getFullYear(),6,1).getTimezoneOffset(),De=z.getTimezoneOffset(),je=0|(ve!=De&&w.getTimezoneOffset()==Math.min(De,ve));O[_+32>>2]=je},j:function Si(p,_,w){var F=(new Date).getFullYear(),z=new Date(F,0,1),ve=new Date(F,6,1),De=z.getTimezoneOffset(),je=ve.getTimezoneOffset(),Dt=Math.max(De,je);function fn(ee){var Cr=ee.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Cr?Cr[1]:"GMT"}ye[p>>2]=60*Dt,O[_>>2]=Number(De!=je);var kn=fn(z),Tn=fn(ve),Ht=Ci(kn),Zt=Ci(Tn);je<De?(ye[w>>2]=Ht,ye[w+4>>2]=Zt):(ye[w>>2]=Zt,ye[w+4>>2]=Ht)},b:function ro(){sr("")},a:function Uo(p,_,w){var F=function gr(p,_){var w;for(Vo.length=0,_>>=2;w=vt[p++];)_+=105!=w&_,Vo.push(105==w?O[_]:nt[_++>>1]),++_;return Vo}(_,w);return Ge[p].apply(null,F)},c:function Qr(){return Date.now()},g:function ci(p,_,w){vt.copyWithin(p,_,_+w)},m:function Wr(p){var Dt,_=vt.length,w=2147483648;if((p>>>=0)>w)return!1;for(var z=1;z<=4;z*=2){var ve=_*(1+.2/z);if(ve=Math.min(ve,p+100663296),wo(Math.min(w,(Dt=Math.max(p,ve))+(65536-Dt%65536)%65536)))return!0}return!1},p:function ts(p,_){var w=0;return Io().forEach(function(F,z){var ve=_+w;ye[p+4*z>>2]=ve,function oo(p,_,w){for(var F=0;F<p.length;++F)Xe[_++>>0]=p.charCodeAt(F);w||(Xe[_>>0]=0)}(F,ve),w+=F.length+1}),0},f:function fo(p,_){var w=Io();ye[p>>2]=w.length;var F=0;return w.forEach(function(z){F+=z.length+1}),ye[_>>2]=F,0},q:ui,d:function ns(p){try{var _=S.getStreamFromFD(p);return E.close(_),0}catch(w){if(typeof E>"u"||!(w instanceof E.ErrnoError))throw w;return w.errno}},e:function Fs(p,_,w,F){try{var ve=function Rs(p,_,w,F){for(var z=0,ve=0;ve<w;ve++){var De=ye[_>>2],je=ye[_+4>>2];_+=8;var Dt=E.read(p,Xe,De,je,F);if(Dt<0)return-1;if(z+=Dt,Dt<je)break}return z}(S.getStreamFromFD(p),_,w);return ye[F>>2]=ve,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},k:function di(p,_,w,F,z){try{var ve=function cr(p,_){return _+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*_:NaN}(_,w);if(isNaN(ve))return 61;var De=S.getStreamFromFD(p);return E.llseek(De,ve,F),le=[De.position>>>0,(ct=De.position,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[z>>2]=le[0],O[z+4>>2]=le[1],De.getdents&&0===ve&&0===F&&(De.getdents=null),0}catch(je){if(typeof E>"u"||!(je instanceof E.ErrnoError))throw je;return je.errno}},n:function Ni(p,_,w,F){try{var ve=function bs(p,_,w,F){for(var z=0,ve=0;ve<w;ve++){var De=ye[_>>2],je=ye[_+4>>2];_+=8;var Dt=E.write(p,Xe,De,je,F);if(Dt<0)return-1;z+=Dt}return z}(S.getStreamFromFD(p),_,w);return ye[F>>2]=ve,0}catch(De){if(typeof E>"u"||!(De instanceof E.ErrnoError))throw De;return De.errno}},l:function R(p,_,w,F,z){return function Fe(p,_,w,F){var z=O[F+40>>2],ve={tm_sec:O[F>>2],tm_min:O[F+4>>2],tm_hour:O[F+8>>2],tm_mday:O[F+12>>2],tm_mon:O[F+16>>2],tm_year:O[F+20>>2],tm_wday:O[F+24>>2],tm_yday:O[F+28>>2],tm_isdst:O[F+32>>2],tm_gmtoff:O[F+36>>2],tm_zone:z?Ne(z):""},De=Ne(w),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Dt in je)De=De.replace(new RegExp(Dt,"g"),je[Dt]);var fn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kn=["January","February","March","April","May","June","July","August","September","October","November","December"];function Tn(mt,zt,Ur){for(var hr="number"==typeof mt?mt.toString():mt||"";hr.length<zt;)hr=Ur[0]+hr;return hr}function Ht(mt,zt){return Tn(mt,zt,"0")}function Zt(mt,zt){function Ur(jo){return jo<0?-1:jo>0?1:0}var hr;return 0===(hr=Ur(mt.getFullYear()-zt.getFullYear()))&&0===(hr=Ur(mt.getMonth()-zt.getMonth()))&&(hr=Ur(mt.getDate()-zt.getDate())),hr}function ee(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function Cr(mt){var zt=function ge(p,_){for(var w=new Date(p.getTime());_>0;){var F=$o(w.getFullYear()),z=w.getMonth(),ve=(F?A:N)[z];if(!(_>ve-w.getDate()))return w.setDate(w.getDate()+_),w;_-=ve-w.getDate()+1,w.setDate(1),z<11?w.setMonth(z+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(mt.tm_year+1900,0,1),mt.tm_yday),Ur=new Date(zt.getFullYear(),0,4),hr=new Date(zt.getFullYear()+1,0,4),jo=ee(Ur),ur=ee(hr);return Zt(jo,zt)<=0?Zt(ur,zt)<=0?zt.getFullYear()+1:zt.getFullYear():zt.getFullYear()-1}var yn={"%a":function(mt){return fn[mt.tm_wday].substring(0,3)},"%A":function(mt){return fn[mt.tm_wday]},"%b":function(mt){return kn[mt.tm_mon].substring(0,3)},"%B":function(mt){return kn[mt.tm_mon]},"%C":function(mt){return Ht((mt.tm_year+1900)/100|0,2)},"%d":function(mt){return Ht(mt.tm_mday,2)},"%e":function(mt){return Tn(mt.tm_mday,2," ")},"%g":function(mt){return Cr(mt).toString().substring(2)},"%G":function(mt){return Cr(mt)},"%H":function(mt){return Ht(mt.tm_hour,2)},"%I":function(mt){var zt=mt.tm_hour;return 0==zt?zt=12:zt>12&&(zt-=12),Ht(zt,2)},"%j":function(mt){return Ht(mt.tm_mday+function nr(p,_){for(var w=0,F=0;F<=_;w+=p[F++]);return w}($o(mt.tm_year+1900)?A:N,mt.tm_mon-1),3)},"%m":function(mt){return Ht(mt.tm_mon+1,2)},"%M":function(mt){return Ht(mt.tm_min,2)},"%n":function(){return"\n"},"%p":function(mt){return mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM"},"%S":function(mt){return Ht(mt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(mt){return mt.tm_wday||7},"%U":function(mt){return Ht(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2)},"%V":function(mt){var zt=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&zt++,zt){if(53==zt){var hr=(mt.tm_wday+371-mt.tm_yday)%7;4!=hr&&(3!=hr||!$o(mt.tm_year))&&(zt=1)}}else{zt=52;var Ur=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==Ur||5==Ur&&$o(mt.tm_year%400-1))&&zt++}return Ht(zt,2)},"%w":function(mt){return mt.tm_wday},"%W":function(mt){return Ht(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2)},"%y":function(mt){return(mt.tm_year+1900).toString().substring(2)},"%Y":function(mt){return mt.tm_year+1900},"%z":function(mt){var zt=mt.tm_gmtoff,Ur=zt>=0;return zt=(zt=Math.abs(zt)/60)/60*100+zt%60,(Ur?"+":"-")+String("0000"+zt).slice(-4)},"%Z":function(mt){return mt.tm_zone},"%%":function(){return"%"}};for(var Dt in De=De.replace(/%%/g,"\0\0"),yn)De.includes(Dt)&&(De=De.replace(new RegExp(Dt,"g"),yn[Dt](ve)));var Vr=Xt(De=De.replace(/\0\0/g,"%"),!1);return Vr.length>_?0:(function Ee(p,_){Xe.set(p,_)}(Vr,p),Vr.length-1)}(p,_,w,F)}},ko=(function Br(){var p={a:xe};function _(De,je){l.asm=De.exports,Ve((de=l.asm.r).buffer),function Yr(p){Ae.unshift(p)}(l.asm.s),Ar()}function w(De){_(De.instance)}function F(De){return function Ji(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return Xr(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+mn+"'";return p.arrayBuffer()}).catch(function(){return Xr(mn)})}().then(function(je){return WebAssembly.instantiate(je,p)}).then(function(je){return je}).then(De,function(je){K("failed to asynchronously prepare wasm: "+je),sr(je)})}if(Gr(),l.instantiateWasm)try{return l.instantiateWasm(p,_)}catch(De){K("Module.instantiateWasm callback failed with error: "+De),te(De)}(function z(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||no(mn)||"function"!=typeof fetch?F(w):fetch(mn,{credentials:"same-origin"}).then(function(De){return WebAssembly.instantiateStreaming(De,p).then(w,function(Dt){return K("wasm streaming compile failed: "+Dt),K("falling back to ArrayBuffer instantiation"),F(w)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.s).apply(null,arguments)},l._free=function(){return(l._free=l.asm.t).apply(null,arguments)},l._malloc=function(){return(ko=l._malloc=l.asm.u).apply(null,arguments)}),Jr=l._emscripten_bind_VoidPtr___destroy___0=function(){return(Jr=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)},To=l._emscripten_bind_FSTools_FSTools_0=function(){return(To=l._emscripten_bind_FSTools_FSTools_0=l.asm.w).apply(null,arguments)},fi=l._emscripten_bind_FSTools_Malloc_1=function(){return(fi=l._emscripten_bind_FSTools_Malloc_1=l.asm.x).apply(null,arguments)},wr=l._emscripten_bind_FSTools_Free_1=function(){return(wr=l._emscripten_bind_FSTools_Free_1=l.asm.y).apply(null,arguments)},rs=l._emscripten_bind_FSTools_Nullptr_0=function(){return(rs=l._emscripten_bind_FSTools_Nullptr_0=l.asm.z).apply(null,arguments)},Va=l._emscripten_bind_FSTools___destroy___0=function(){return(Va=l._emscripten_bind_FSTools___destroy___0=l.asm.A).apply(null,arguments)},Ua=l._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(Ua=l._emscripten_bind_MkfsContext_MkfsContext_0=l.asm.B).apply(null,arguments)},Di=l._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Di=l._emscripten_bind_MkfsContext_Mkfs_2=l.asm.C).apply(null,arguments)},ja=l._emscripten_bind_MkfsContext_GetImage_0=function(){return(ja=l._emscripten_bind_MkfsContext_GetImage_0=l.asm.D).apply(null,arguments)},zs=l._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(zs=l._emscripten_bind_MkfsContext_GetImageSize_0=l.asm.E).apply(null,arguments)},Gs=l._emscripten_bind_MkfsContext___destroy___0=function(){return(Gs=l._emscripten_bind_MkfsContext___destroy___0=l.asm.F).apply(null,arguments)},_l=l._emscripten_bind_FsckContext_FsckContext_1=function(){return(_l=l._emscripten_bind_FsckContext_FsckContext_1=l.asm.G).apply(null,arguments)},vl=l._emscripten_bind_FsckContext_GetImage_0=function(){return(vl=l._emscripten_bind_FsckContext_GetImage_0=l.asm.H).apply(null,arguments)},bl=l._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(bl=l._emscripten_bind_FsckContext_GetDirtyPages_0=l.asm.I).apply(null,arguments)},sa=l._emscripten_bind_FsckContext_GetImageSize_0=function(){return(sa=l._emscripten_bind_FsckContext_GetImageSize_0=l.asm.J).apply(null,arguments)},wl=l._emscripten_bind_FsckContext_Fsck_0=function(){return(wl=l._emscripten_bind_FsckContext_Fsck_0=l.asm.K).apply(null,arguments)},Mo=l._emscripten_bind_FsckContext_GetResult_0=function(){return(Mo=l._emscripten_bind_FsckContext_GetResult_0=l.asm.L).apply(null,arguments)},qn=l._emscripten_bind_FsckContext___destroy___0=function(){return(qn=l._emscripten_bind_FsckContext___destroy___0=l.asm.M).apply(null,arguments)};function ws(p){function _(){Ws||(Ws=!0,l.calledRun=!0,!it&&(function vn(){!l.noFSInit&&!E.init.initialized&&E.init(),E.ignorePermissions=!1,er.init(),Nn(Ae)}(),function pr(){Nn(Mt)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),aa&&function yr(p){var _=l._main;try{var z=_(0,0);return vs(z),z}catch(ve){return function pe(p){if(p instanceof xn||"unwind"==p)return ce;U(1,p)}(ve)}}(),function Jn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)p=l.postRun.shift(),ln.unshift(p);var p;Nn(ln)}()))}p=p||Q,Mn>0||(function W(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)p=l.preRun.shift(),ht.unshift(p);var p;Nn(ht)}(),Mn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),_()},1)):_())}if(l._main=function(){return(l._main=l.asm.N).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.P).apply(null,arguments)},l.___start_em_js=40220,l.___stop_em_js=40318,Vn=function p(){Ws||ws(),Ws||(Vn=p)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var aa=!0;function io(){}function os(p){return(p||io).__cache__}function Ii(p,_){var w=os(_),F=w[p];return F||((F=Object.create((_||io).prototype)).ptr=p,w[p]=F)}l.noInitialRun&&(aa=!1),ws(),(io.prototype=Object.create(io.prototype)).constructor=io,io.prototype.__class__=io,io.__cache__={},l.WrapperObject=io,l.getCache=os,l.wrapPointer=Ii,l.castObject=function la(p,_){return Ii(p.ptr,_)},l.NULL=Ii(0),l.destroy=function Os(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete os(p.__class__)[p.ptr]},l.compare=function Zs(p,_){return p.ptr===_.ptr},l.getPointer=function ca(p){return p.ptr},l.getClass=function Ha(p){return p.__class__};var Tt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Tt.needed){for(var p=0;p<Tt.temps.length;p++)l._free(Tt.temps[p]);Tt.temps.length=0,l._free(Tt.buffer),Tt.buffer=0,Tt.size+=Tt.needed,Tt.needed=0}Tt.buffer||(Tt.size+=128,Tt.buffer=l._malloc(Tt.size),Ce(Tt.buffer)),Tt.pos=0},alloc:function(p,_){Ce(Tt.buffer);var z,F=p.length*_.BYTES_PER_ELEMENT;return Tt.pos+(F=F+7&-8)>=Tt.size?(Ce(F>0),Tt.needed+=F,z=l._malloc(F),Tt.temps.push(z)):(z=Tt.buffer+Tt.pos,Tt.pos+=F),z},copy:function(p,_,w){switch(w>>>=0,_.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var z=0;z<p.length;z++)_[w+z]=p[z]}};function po(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ar(){this.ptr=To(),os(ar)[this.ptr]=this}function Zr(){this.ptr=Ua(),os(Zr)[this.ptr]=this}function Pr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=_l(p),os(Pr)[this.ptr]=this}return(po.prototype=Object.create(io.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},l.VoidPtr=po,po.prototype.__destroy__=po.prototype.__destroy__=function(){Jr(this.ptr)},(ar.prototype=Object.create(io.prototype)).constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},l.FSTools=ar,ar.prototype.Malloc=ar.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Ii(fi(this.ptr,p),po)},ar.prototype.Free=ar.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),wr(this.ptr,p)},ar.prototype.Nullptr=ar.prototype.Nullptr=function(){return Ii(rs(this.ptr),po)},ar.prototype.__destroy__=ar.prototype.__destroy__=function(){Va(this.ptr)},(Zr.prototype=Object.create(io.prototype)).constructor=Zr,Zr.prototype.__class__=Zr,Zr.__cache__={},l.MkfsContext=Zr,Zr.prototype.Mkfs=Zr.prototype.Mkfs=function(p,_){var w=this.ptr;return Tt.prepare(),p&&"object"==typeof p&&(p=p.ptr),_=_&&"object"==typeof _?_.ptr:function qs(p){if("string"==typeof p){var _=Xt(p),w=Tt.alloc(_,Xe);return Tt.copy(_,Xe,w),w}return p}(_),!!Di(w,p,_)},Zr.prototype.GetImage=Zr.prototype.GetImage=function(){return Ii(ja(this.ptr),po)},Zr.prototype.GetImageSize=Zr.prototype.GetImageSize=function(){return zs(this.ptr)},Zr.prototype.__destroy__=Zr.prototype.__destroy__=function(){Gs(this.ptr)},(Pr.prototype=Object.create(io.prototype)).constructor=Pr,Pr.prototype.__class__=Pr,Pr.__cache__={},l.FsckContext=Pr,Pr.prototype.GetImage=Pr.prototype.GetImage=function(){return Ii(vl(this.ptr),po)},Pr.prototype.GetDirtyPages=Pr.prototype.GetDirtyPages=function(){return Ii(bl(this.ptr),po)},Pr.prototype.GetImageSize=Pr.prototype.GetImageSize=function(){return sa(this.ptr)},Pr.prototype.Fsck=Pr.prototype.Fsck=function(){return wl(this.ptr)},Pr.prototype.GetResult=Pr.prototype.GetResult=function(){return Mo(this.ptr)},Pr.prototype.__destroy__=Pr.prototype.__destroy__=function(){qn(this.ptr)},k.ready});$e.exports=We},7971:$e=>{var P,We=(P=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var re,te,l=typeof(k=k||{})<"u"?k:{};l.ready=new Promise(function(d,g){re=d,te=g});var H,Pe,Le,G=Object.assign({},l),Q=[],L="./this.program",U=(d,g)=>{throw g},ue="object"==typeof window,X="function"==typeof importScripts,V=("object"==typeof process&&"object"==typeof process.versions&&process,"");(ue||X)&&(X?V=self.location.href:typeof document<"u"&&document.currentScript&&(V=document.currentScript.src),P&&(V=P),V=0!==V.indexOf("blob:")?V.substr(0,V.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.send(null),g.responseText},X&&(Le=d=>{var g=new XMLHttpRequest;return g.open("GET",d,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),Pe=(d,g,b)=>{var I=new XMLHttpRequest;I.open("GET",d,!0),I.responseType="arraybuffer",I.onload=()=>{200==I.status||0==I.status&&I.response?g(I.response):b()},I.onerror=b,I.send(null)});var fe,Z=l.print||console.log.bind(console),K=l.printErr||console.warn.bind(console);Object.assign(l,G),G=null,l.arguments&&(Q=l.arguments),l.thisProgram&&(L=l.thisProgram),l.quit&&(U=l.quit),l.wasmBinary&&(fe=l.wasmBinary);var Re=l.noExitRuntime||!0;"object"!=typeof WebAssembly&&sr("no native wasm support detected");var de,ce,it=!1;function Ce(d,g){d||sr(g)}var Ue,Xe,vt,O,ye,Ie=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ye(d,g,b){for(var I=g+b,B=g;d[B]&&!(B>=I);)++B;if(B-g>16&&d.buffer&&Ie)return Ie.decode(d.subarray(g,B));for(var me="";g<B;){var be=d[g++];if(128&be){var Be=63&d[g++];if(192!=(224&be)){var yt=63&d[g++];if((be=224==(240&be)?(15&be)<<12|Be<<6|yt:(7&be)<<18|Be<<12|yt<<6|63&d[g++])<65536)me+=String.fromCharCode(be);else{var en=be-65536;me+=String.fromCharCode(55296|en>>10,56320|1023&en)}}else me+=String.fromCharCode((31&be)<<6|Be)}else me+=String.fromCharCode(be)}return me}function Ne(d,g){return d?Ye(vt,d,g):""}function Me(d,g,b,I){if(!(I>0))return 0;for(var B=b,me=b+I-1,be=0;be<d.length;++be){var Be=d.charCodeAt(be);if(Be>=55296&&Be<=57343&&(Be=65536+((1023&Be)<<10)|1023&d.charCodeAt(++be)),Be<=127){if(b>=me)break;g[b++]=Be}else if(Be<=2047){if(b+1>=me)break;g[b++]=192|Be>>6,g[b++]=128|63&Be}else if(Be<=65535){if(b+2>=me)break;g[b++]=224|Be>>12,g[b++]=128|Be>>6&63,g[b++]=128|63&Be}else{if(b+3>=me)break;g[b++]=240|Be>>18,g[b++]=128|Be>>12&63,g[b++]=128|Be>>6&63,g[b++]=128|63&Be}}return g[b]=0,b-B}function ne(d){for(var g=0,b=0;b<d.length;++b){var I=d.charCodeAt(b);I<=127?g++:I<=2047?g+=2:I>=55296&&I<=57343?(g+=4,++b):g+=3}return g}function Ve(d){Ue=d,l.HEAP8=Xe=new Int8Array(d),l.HEAP16=new Int16Array(d),l.HEAP32=O=new Int32Array(d),l.HEAPU8=vt=new Uint8Array(d),l.HEAPU16=new Uint16Array(d),l.HEAPU32=ye=new Uint32Array(d),l.HEAPF32=new Float32Array(d),l.HEAPF64=new Float64Array(d)}var mn,ct,le,ht=[],Ae=[],Mt=[],ln=[],Mn=0,uo=null,Vn=null;function Gr(d){Mn++,l.monitorRunDependencies&&l.monitorRunDependencies(Mn)}function Ar(d){if(Mn--,l.monitorRunDependencies&&l.monitorRunDependencies(Mn),0==Mn&&(null!==uo&&(clearInterval(uo),uo=null),Vn)){var g=Vn;Vn=null,g()}}function sr(d){l.onAbort&&l.onAbort(d),K(d="Aborted("+d+")"),it=!0,ce=1,d+=". Build with -sASSERTIONS for more info.";var g=new WebAssembly.RuntimeError(d);throw te(g),g}function no(d){return d.startsWith("data:application/octet-stream;base64,")}function Xr(d){try{if(d==mn&&fe)return new Uint8Array(fe);if(Le)return Le(d);throw"both async and sync fetching of the wasm failed"}catch(g){sr(g)}}function Ge(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function xn(d){for(;d.length>0;)d.shift()(l)}function Wt(d,g){return g+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*g:NaN}no(mn="vfs_web.wasm")||(mn=function $(d){return l.locateFile?l.locateFile(d,V):V+d}(mn));var Pt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,g)=>{for(var b=0,I=d.length-1;I>=0;I--){var B=d[I];"."===B?d.splice(I,1):".."===B?(d.splice(I,1),b++):b&&(d.splice(I,1),b--)}if(g)for(;b;b--)d.unshift("..");return d},normalize:d=>{var g=Pt.isAbs(d),b="/"===d.substr(-1);return!(d=Pt.normalizeArray(d.split("/").filter(I=>!!I),!g).join("/"))&&!g&&(d="."),d&&b&&(d+="/"),(g?"/":"")+d},dirname:d=>{var g=Pt.splitPath(d),b=g[0],I=g[1];return b||I?(I&&(I=I.substr(0,I.length-1)),b+I):"."},basename:d=>{if("/"===d)return"/";var g=(d=(d=Pt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===g?d:d.substr(g+1)},join:function(){var d=Array.prototype.slice.call(arguments);return Pt.normalize(d.join("/"))},join2:(d,g)=>Pt.normalize(d+"/"+g)},Xt={resolve:function(){for(var d="",g=!1,b=arguments.length-1;b>=-1&&!g;b--){var I=b>=0?arguments[b]:S.cwd();if("string"!=typeof I)throw new TypeError("Arguments to path.resolve must be strings");if(!I)return"";d=I+"/"+d,g=Pt.isAbs(I)}return(g?"/":"")+(d=Pt.normalizeArray(d.split("/").filter(B=>!!B),!g).join("/"))||"."},relative:(d,g)=>{function b(en){for(var Qt=0;Qt<en.length&&""===en[Qt];Qt++);for(var $n=en.length-1;$n>=0&&""===en[$n];$n--);return Qt>$n?[]:en.slice(Qt,$n-Qt+1)}d=Xt.resolve(d).substr(1),g=Xt.resolve(g).substr(1);for(var I=b(d.split("/")),B=b(g.split("/")),me=Math.min(I.length,B.length),be=me,Be=0;Be<me;Be++)if(I[Be]!==B[Be]){be=Be;break}var yt=[];for(Be=be;Be<I.length;Be++)yt.push("..");return(yt=yt.concat(B.slice(be))).join("/")}};function er(d,g,b){var I=b>0?b:ne(d)+1,B=new Array(I),me=Me(d,B,0,B.length);return g&&(B.length=me),B}var tr={ttys:[],init:function(){},shutdown:function(){},register:function(d,g){tr.ttys[d]={input:[],output:[],ops:g},S.registerDevice(d,tr.stream_ops)},stream_ops:{open:function(d){var g=tr.ttys[d.node.rdev];if(!g)throw new S.ErrnoError(43);d.tty=g,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,g,b,I,B){if(!d.tty||!d.tty.ops.get_char)throw new S.ErrnoError(60);for(var me=0,be=0;be<I;be++){var Be;try{Be=d.tty.ops.get_char(d.tty)}catch{throw new S.ErrnoError(29)}if(void 0===Be&&0===me)throw new S.ErrnoError(6);if(null==Be)break;me++,g[b+be]=Be}return me&&(d.node.timestamp=Date.now()),me},write:function(d,g,b,I,B){if(!d.tty||!d.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var me=0;me<I;me++)d.tty.ops.put_char(d.tty,g[b+me])}catch{throw new S.ErrnoError(29)}return I&&(d.node.timestamp=Date.now()),me}},default_tty_ops:{get_char:function(d){if(!d.input.length){var g=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(g=window.prompt("Input: "))&&(g+="\n"):"function"==typeof readline&&null!==(g=readline())&&(g+="\n"),!g)return null;d.input=er(g,!0)}return d.input.shift()},put_char:function(d,g){null===g||10===g?(Z(Ye(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(Z(Ye(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,g){null===g||10===g?(K(Ye(d.output,0)),d.output=[]):0!=g&&d.output.push(g)},fsync:function(d){d.output&&d.output.length>0&&(K(Ye(d.output,0)),d.output=[])}}};function cn(d){sr()}var Ut={ops_table:null,mount:function(d){return Ut.createNode(null,"/",16895,0)},createNode:function(d,g,b,I){if(S.isBlkdev(b)||S.isFIFO(b))throw new S.ErrnoError(63);Ut.ops_table||(Ut.ops_table={dir:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr,lookup:Ut.node_ops.lookup,mknod:Ut.node_ops.mknod,rename:Ut.node_ops.rename,unlink:Ut.node_ops.unlink,rmdir:Ut.node_ops.rmdir,readdir:Ut.node_ops.readdir,symlink:Ut.node_ops.symlink},stream:{llseek:Ut.stream_ops.llseek}},file:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr},stream:{llseek:Ut.stream_ops.llseek,read:Ut.stream_ops.read,write:Ut.stream_ops.write,allocate:Ut.stream_ops.allocate,mmap:Ut.stream_ops.mmap,msync:Ut.stream_ops.msync}},link:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr,readlink:Ut.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr},stream:S.chrdev_stream_ops}});var B=S.createNode(d,g,b,I);return S.isDir(B.mode)?(B.node_ops=Ut.ops_table.dir.node,B.stream_ops=Ut.ops_table.dir.stream,B.contents={}):S.isFile(B.mode)?(B.node_ops=Ut.ops_table.file.node,B.stream_ops=Ut.ops_table.file.stream,B.usedBytes=0,B.contents=null):S.isLink(B.mode)?(B.node_ops=Ut.ops_table.link.node,B.stream_ops=Ut.ops_table.link.stream):S.isChrdev(B.mode)&&(B.node_ops=Ut.ops_table.chrdev.node,B.stream_ops=Ut.ops_table.chrdev.stream),B.timestamp=Date.now(),d&&(d.contents[g]=B,d.timestamp=B.timestamp),B},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,g){var b=d.contents?d.contents.length:0;if(!(b>=g)){g=Math.max(g,b*(b<1048576?2:1.125)>>>0),0!=b&&(g=Math.max(g,256));var B=d.contents;d.contents=new Uint8Array(g),d.usedBytes>0&&d.contents.set(B.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,g){if(d.usedBytes!=g)if(0==g)d.contents=null,d.usedBytes=0;else{var b=d.contents;d.contents=new Uint8Array(g),b&&d.contents.set(b.subarray(0,Math.min(g,d.usedBytes))),d.usedBytes=g}},node_ops:{getattr:function(d){var g={};return g.dev=S.isChrdev(d.mode)?d.id:1,g.ino=d.id,g.mode=d.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=d.rdev,g.size=S.isDir(d.mode)?4096:S.isFile(d.mode)?d.usedBytes:S.isLink(d.mode)?d.link.length:0,g.atime=new Date(d.timestamp),g.mtime=new Date(d.timestamp),g.ctime=new Date(d.timestamp),g.blksize=4096,g.blocks=Math.ceil(g.size/g.blksize),g},setattr:function(d,g){void 0!==g.mode&&(d.mode=g.mode),void 0!==g.timestamp&&(d.timestamp=g.timestamp),void 0!==g.size&&Ut.resizeFileStorage(d,g.size)},lookup:function(d,g){throw S.genericErrors[44]},mknod:function(d,g,b,I){return Ut.createNode(d,g,b,I)},rename:function(d,g,b){if(S.isDir(d.mode)){var I;try{I=S.lookupNode(g,b)}catch{}if(I)for(var B in I.contents)throw new S.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=b,g.contents[b]=d,g.timestamp=d.parent.timestamp,d.parent=g},unlink:function(d,g){delete d.contents[g],d.timestamp=Date.now()},rmdir:function(d,g){var b=S.lookupNode(d,g);for(var I in b.contents)throw new S.ErrnoError(55);delete d.contents[g],d.timestamp=Date.now()},readdir:function(d){var g=[".",".."];for(var b in d.contents)d.contents.hasOwnProperty(b)&&g.push(b);return g},symlink:function(d,g,b){var I=Ut.createNode(d,g,41471,0);return I.link=b,I},readlink:function(d){if(!S.isLink(d.mode))throw new S.ErrnoError(28);return d.link}},stream_ops:{read:function(d,g,b,I,B){var me=d.node.contents;if(B>=d.node.usedBytes)return 0;var be=Math.min(d.node.usedBytes-B,I);if(be>8&&me.subarray)g.set(me.subarray(B,B+be),b);else for(var Be=0;Be<be;Be++)g[b+Be]=me[B+Be];return be},write:function(d,g,b,I,B,me){if(g.buffer===Xe.buffer&&(me=!1),!I)return 0;var be=d.node;if(be.timestamp=Date.now(),g.subarray&&(!be.contents||be.contents.subarray)){if(me)return be.contents=g.subarray(b,b+I),be.usedBytes=I,I;if(0===be.usedBytes&&0===B)return be.contents=g.slice(b,b+I),be.usedBytes=I,I;if(B+I<=be.usedBytes)return be.contents.set(g.subarray(b,b+I),B),I}if(Ut.expandFileStorage(be,B+I),be.contents.subarray&&g.subarray)be.contents.set(g.subarray(b,b+I),B);else for(var Be=0;Be<I;Be++)be.contents[B+Be]=g[b+Be];return be.usedBytes=Math.max(be.usedBytes,B+I),I},llseek:function(d,g,b){var I=g;if(1===b?I+=d.position:2===b&&S.isFile(d.node.mode)&&(I+=d.node.usedBytes),I<0)throw new S.ErrnoError(28);return I},allocate:function(d,g,b){Ut.expandFileStorage(d.node,g+b),d.node.usedBytes=Math.max(d.node.usedBytes,g+b)},mmap:function(d,g,b,I,B){if(!S.isFile(d.node.mode))throw new S.ErrnoError(43);var me,be,Be=d.node.contents;if(2&B||Be.buffer!==Ue){if((b>0||b+g<Be.length)&&(Be=Be.subarray?Be.subarray(b,b+g):Array.prototype.slice.call(Be,b,b+g)),be=!0,!(me=cn()))throw new S.ErrnoError(48);Xe.set(Be,me)}else be=!1,me=Be.byteOffset;return{ptr:me,allocated:be}},msync:function(d,g,b,I,B){return Ut.stream_ops.write(d,g,0,I,b,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,g={})=>{if(!(d=Xt.resolve(d)))return{path:"",node:null};if((g=Object.assign({follow_mount:!0,recurse_count:0},g)).recurse_count>8)throw new S.ErrnoError(32);for(var I=d.split("/").filter($n=>!!$n),B=S.root,me="/",be=0;be<I.length;be++){var Be=be===I.length-1;if(Be&&g.parent)break;if(B=S.lookupNode(B,I[be]),me=Pt.join2(me,I[be]),S.isMountpoint(B)&&(!Be||Be&&g.follow_mount)&&(B=B.mounted.root),!Be||g.follow)for(var yt=0;S.isLink(B.mode);){var en=S.readlink(me);if(me=Xt.resolve(Pt.dirname(me),en),B=S.lookupPath(me,{recurse_count:g.recurse_count+1}).node,yt++>40)throw new S.ErrnoError(32)}}return{path:me,node:B}},getPath:d=>{for(var g;;){if(S.isRoot(d)){var b=d.mount.mountpoint;return g?"/"!==b[b.length-1]?b+"/"+g:b+g:b}g=g?d.name+"/"+g:d.name,d=d.parent}},hashName:(d,g)=>{for(var b=0,I=0;I<g.length;I++)b=(b<<5)-b+g.charCodeAt(I)|0;return(d+b>>>0)%S.nameTable.length},hashAddNode:d=>{var g=S.hashName(d.parent.id,d.name);d.name_next=S.nameTable[g],S.nameTable[g]=d},hashRemoveNode:d=>{var g=S.hashName(d.parent.id,d.name);if(S.nameTable[g]===d)S.nameTable[g]=d.name_next;else for(var b=S.nameTable[g];b;){if(b.name_next===d){b.name_next=d.name_next;break}b=b.name_next}},lookupNode:(d,g)=>{var b=S.mayLookup(d);if(b)throw new S.ErrnoError(b,d);for(var I=S.hashName(d.id,g),B=S.nameTable[I];B;B=B.name_next)if(B.parent.id===d.id&&B.name===g)return B;return S.lookup(d,g)},createNode:(d,g,b,I)=>{var B=new S.FSNode(d,g,b,I);return S.hashAddNode(B),B},destroyNode:d=>{S.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var g=S.flagModes[d];if(typeof g>"u")throw new Error("Unknown file open mode: "+d);return g},flagsToPermissionString:d=>{var g=["r","w","rw"][3&d];return 512&d&&(g+="w"),g},nodePermissions:(d,g)=>S.ignorePermissions?0:g.includes("r")&&!(292&d.mode)||g.includes("w")&&!(146&d.mode)||g.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>S.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,g)=>{try{return S.lookupNode(d,g),20}catch{}return S.nodePermissions(d,"wx")},mayDelete:(d,g,b)=>{var I;try{I=S.lookupNode(d,g)}catch(me){return me.errno}var B=S.nodePermissions(d,"wx");if(B)return B;if(b){if(!S.isDir(I.mode))return 54;if(S.isRoot(I)||S.getPath(I)===S.cwd())return 10}else if(S.isDir(I.mode))return 31;return 0},mayOpen:(d,g)=>d?S.isLink(d.mode)?32:S.isDir(d.mode)&&("r"!==S.flagsToPermissionString(g)||512&g)?31:S.nodePermissions(d,S.flagsToPermissionString(g)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,g=S.MAX_OPEN_FDS)=>{for(var b=d;b<=g;b++)if(!S.streams[b])return b;throw new S.ErrnoError(33)},getStream:d=>S.streams[d],createStream:(d,g,b)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(B){this.node=B}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(B){this.shared.flags=B}},position:{get:function(){return this.shared.position},set:function(B){this.shared.position=B}}})),d=Object.assign(new S.FSStream,d);var I=S.nextfd(g,b);return d.fd=I,S.streams[I]=d,d},closeStream:d=>{S.streams[d]=null},chrdev_stream_ops:{open:d=>{var g=S.getDevice(d.node.rdev);d.stream_ops=g.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new S.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,g)=>d<<8|g,registerDevice:(d,g)=>{S.devices[d]={stream_ops:g}},getDevice:d=>S.devices[d],getMounts:d=>{for(var g=[],b=[d];b.length;){var I=b.pop();g.push(I),b.push.apply(b,I.mounts)}return g},syncfs:(d,g)=>{"function"==typeof d&&(g=d,d=!1),S.syncFSRequests++,S.syncFSRequests>1&&K("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=S.getMounts(S.root.mount),I=0;function B(be){return S.syncFSRequests--,g(be)}function me(be){if(be)return me.errored?void 0:(me.errored=!0,B(be));++I>=b.length&&B(null)}b.forEach(be=>{if(!be.type.syncfs)return me(null);be.type.syncfs(be,d,me)})},mount:(d,g,b)=>{var me,I="/"===b,B=!b;if(I&&S.root)throw new S.ErrnoError(10);if(!I&&!B){var be=S.lookupPath(b,{follow_mount:!1});if(b=be.path,S.isMountpoint(me=be.node))throw new S.ErrnoError(10);if(!S.isDir(me.mode))throw new S.ErrnoError(54)}var Be={type:d,opts:g,mountpoint:b,mounts:[]},yt=d.mount(Be);return yt.mount=Be,Be.root=yt,I?S.root=yt:me&&(me.mounted=Be,me.mount&&me.mount.mounts.push(Be)),yt},unmount:d=>{var g=S.lookupPath(d,{follow_mount:!1});if(!S.isMountpoint(g.node))throw new S.ErrnoError(28);var b=g.node,I=b.mounted,B=S.getMounts(I);Object.keys(S.nameTable).forEach(be=>{for(var Be=S.nameTable[be];Be;){var yt=Be.name_next;B.includes(Be.mount)&&S.destroyNode(Be),Be=yt}}),b.mounted=null;var me=b.mount.mounts.indexOf(I);b.mount.mounts.splice(me,1)},lookup:(d,g)=>d.node_ops.lookup(d,g),mknod:(d,g,b)=>{var B=S.lookupPath(d,{parent:!0}).node,me=Pt.basename(d);if(!me||"."===me||".."===me)throw new S.ErrnoError(28);var be=S.mayCreate(B,me);if(be)throw new S.ErrnoError(be);if(!B.node_ops.mknod)throw new S.ErrnoError(63);return B.node_ops.mknod(B,me,g,b)},create:(d,g)=>(g=void 0!==g?g:438,g&=4095,S.mknod(d,g|=32768,0)),mkdir:(d,g)=>(g=void 0!==g?g:511,g&=1023,S.mknod(d,g|=16384,0)),mkdirTree:(d,g)=>{for(var b=d.split("/"),I="",B=0;B<b.length;++B)if(b[B]){I+="/"+b[B];try{S.mkdir(I,g)}catch(me){if(20!=me.errno)throw me}}},mkdev:(d,g,b)=>(typeof b>"u"&&(b=g,g=438),S.mknod(d,g|=8192,b)),symlink:(d,g)=>{if(!Xt.resolve(d))throw new S.ErrnoError(44);var I=S.lookupPath(g,{parent:!0}).node;if(!I)throw new S.ErrnoError(44);var B=Pt.basename(g),me=S.mayCreate(I,B);if(me)throw new S.ErrnoError(me);if(!I.node_ops.symlink)throw new S.ErrnoError(63);return I.node_ops.symlink(I,B,d)},rename:(d,g)=>{var Be,yt,b=Pt.dirname(d),I=Pt.dirname(g),B=Pt.basename(d),me=Pt.basename(g);if(Be=S.lookupPath(d,{parent:!0}).node,yt=S.lookupPath(g,{parent:!0}).node,!Be||!yt)throw new S.ErrnoError(44);if(Be.mount!==yt.mount)throw new S.ErrnoError(75);var $n,en=S.lookupNode(Be,B),Qt=Xt.relative(d,I);if("."!==Qt.charAt(0))throw new S.ErrnoError(28);if("."!==(Qt=Xt.relative(g,b)).charAt(0))throw new S.ErrnoError(55);try{$n=S.lookupNode(yt,me)}catch{}if(en!==$n){var tn=S.isDir(en.mode),bt=S.mayDelete(Be,B,tn);if(bt)throw new S.ErrnoError(bt);if(bt=$n?S.mayDelete(yt,me,tn):S.mayCreate(yt,me))throw new S.ErrnoError(bt);if(!Be.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(en)||$n&&S.isMountpoint($n))throw new S.ErrnoError(10);if(yt!==Be&&(bt=S.nodePermissions(Be,"w")))throw new S.ErrnoError(bt);S.hashRemoveNode(en);try{Be.node_ops.rename(en,yt,me)}catch(Rn){throw Rn}finally{S.hashAddNode(en)}}},rmdir:d=>{var b=S.lookupPath(d,{parent:!0}).node,I=Pt.basename(d),B=S.lookupNode(b,I),me=S.mayDelete(b,I,!0);if(me)throw new S.ErrnoError(me);if(!b.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(B))throw new S.ErrnoError(10);b.node_ops.rmdir(b,I),S.destroyNode(B)},readdir:d=>{var b=S.lookupPath(d,{follow:!0}).node;if(!b.node_ops.readdir)throw new S.ErrnoError(54);return b.node_ops.readdir(b)},unlink:d=>{var b=S.lookupPath(d,{parent:!0}).node;if(!b)throw new S.ErrnoError(44);var I=Pt.basename(d),B=S.lookupNode(b,I),me=S.mayDelete(b,I,!1);if(me)throw new S.ErrnoError(me);if(!b.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(B))throw new S.ErrnoError(10);b.node_ops.unlink(b,I),S.destroyNode(B)},readlink:d=>{var b=S.lookupPath(d).node;if(!b)throw new S.ErrnoError(44);if(!b.node_ops.readlink)throw new S.ErrnoError(28);return Xt.resolve(S.getPath(b.parent),b.node_ops.readlink(b))},stat:(d,g)=>{var I=S.lookupPath(d,{follow:!g}).node;if(!I)throw new S.ErrnoError(44);if(!I.node_ops.getattr)throw new S.ErrnoError(63);return I.node_ops.getattr(I)},lstat:d=>S.stat(d,!0),chmod:(d,g,b)=>{var I;if(!(I="string"==typeof d?S.lookupPath(d,{follow:!b}).node:d).node_ops.setattr)throw new S.ErrnoError(63);I.node_ops.setattr(I,{mode:4095&g|-4096&I.mode,timestamp:Date.now()})},lchmod:(d,g)=>{S.chmod(d,g,!0)},fchmod:(d,g)=>{var b=S.getStream(d);if(!b)throw new S.ErrnoError(8);S.chmod(b.node,g)},chown:(d,g,b,I)=>{var B;if(!(B="string"==typeof d?S.lookupPath(d,{follow:!I}).node:d).node_ops.setattr)throw new S.ErrnoError(63);B.node_ops.setattr(B,{timestamp:Date.now()})},lchown:(d,g,b)=>{S.chown(d,g,b,!0)},fchown:(d,g,b)=>{var I=S.getStream(d);if(!I)throw new S.ErrnoError(8);S.chown(I.node,g,b)},truncate:(d,g)=>{if(g<0)throw new S.ErrnoError(28);var b;if(!(b="string"==typeof d?S.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(b.mode))throw new S.ErrnoError(31);if(!S.isFile(b.mode))throw new S.ErrnoError(28);var B=S.nodePermissions(b,"w");if(B)throw new S.ErrnoError(B);b.node_ops.setattr(b,{size:g,timestamp:Date.now()})},ftruncate:(d,g)=>{var b=S.getStream(d);if(!b)throw new S.ErrnoError(8);if(!(2097155&b.flags))throw new S.ErrnoError(28);S.truncate(b.node,g)},utime:(d,g,b)=>{var B=S.lookupPath(d,{follow:!0}).node;B.node_ops.setattr(B,{timestamp:Math.max(g,b)})},open:(d,g,b)=>{if(""===d)throw new S.ErrnoError(44);var I;if(b=typeof b>"u"?438:b,b=64&(g="string"==typeof g?S.modeStringToFlags(g):g)?4095&b|32768:0,"object"==typeof d)I=d;else{d=Pt.normalize(d);try{I=S.lookupPath(d,{follow:!(131072&g)}).node}catch{}}var me=!1;if(64&g)if(I){if(128&g)throw new S.ErrnoError(20)}else I=S.mknod(d,b,0),me=!0;if(!I)throw new S.ErrnoError(44);if(S.isChrdev(I.mode)&&(g&=-513),65536&g&&!S.isDir(I.mode))throw new S.ErrnoError(54);if(!me){var be=S.mayOpen(I,g);if(be)throw new S.ErrnoError(be)}512&g&&!me&&S.truncate(I,0),g&=-131713;var Be=S.createStream({node:I,path:S.getPath(I),flags:g,seekable:!0,position:0,stream_ops:I.stream_ops,ungotten:[],error:!1});return Be.stream_ops.open&&Be.stream_ops.open(Be),l.logReadFiles&&!(1&g)&&(S.readFiles||(S.readFiles={}),d in S.readFiles||(S.readFiles[d]=1)),Be},close:d=>{if(S.isClosed(d))throw new S.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(g){throw g}finally{S.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,g,b)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new S.ErrnoError(28);return d.position=d.stream_ops.llseek(d,g,b),d.ungotten=[],d.position},read:(d,g,b,I,B)=>{if(I<0||B<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(1==(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.read)throw new S.ErrnoError(28);var me=typeof B<"u";if(me){if(!d.seekable)throw new S.ErrnoError(70)}else B=d.position;var be=d.stream_ops.read(d,g,b,I,B);return me||(d.position+=be),be},write:(d,g,b,I,B,me)=>{if(I<0||B<0)throw new S.ErrnoError(28);if(S.isClosed(d))throw new S.ErrnoError(8);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(S.isDir(d.node.mode))throw new S.ErrnoError(31);if(!d.stream_ops.write)throw new S.ErrnoError(28);d.seekable&&1024&d.flags&&S.llseek(d,0,2);var be=typeof B<"u";if(be){if(!d.seekable)throw new S.ErrnoError(70)}else B=d.position;var Be=d.stream_ops.write(d,g,b,I,B,me);return be||(d.position+=Be),Be},allocate:(d,g,b)=>{if(S.isClosed(d))throw new S.ErrnoError(8);if(g<0||b<=0)throw new S.ErrnoError(28);if(!(2097155&d.flags))throw new S.ErrnoError(8);if(!S.isFile(d.node.mode)&&!S.isDir(d.node.mode))throw new S.ErrnoError(43);if(!d.stream_ops.allocate)throw new S.ErrnoError(138);d.stream_ops.allocate(d,g,b)},mmap:(d,g,b,I,B)=>{if(2&I&&!(2&B)&&2!=(2097155&d.flags))throw new S.ErrnoError(2);if(1==(2097155&d.flags))throw new S.ErrnoError(2);if(!d.stream_ops.mmap)throw new S.ErrnoError(43);return d.stream_ops.mmap(d,g,b,I,B)},msync:(d,g,b,I,B)=>d.stream_ops.msync?d.stream_ops.msync(d,g,b,I,B):0,munmap:d=>0,ioctl:(d,g,b)=>{if(!d.stream_ops.ioctl)throw new S.ErrnoError(59);return d.stream_ops.ioctl(d,g,b)},readFile:(d,g={})=>{if(g.flags=g.flags||0,g.encoding=g.encoding||"binary","utf8"!==g.encoding&&"binary"!==g.encoding)throw new Error('Invalid encoding type "'+g.encoding+'"');var b,I=S.open(d,g.flags),me=S.stat(d).size,be=new Uint8Array(me);return S.read(I,be,0,me,0),"utf8"===g.encoding?b=Ye(be,0):"binary"===g.encoding&&(b=be),S.close(I),b},writeFile:(d,g,b={})=>{b.flags=b.flags||577;var I=S.open(d,b.flags,b.mode);if("string"==typeof g){var B=new Uint8Array(ne(g)+1),me=Me(g,B,0,B.length);S.write(I,B,0,me,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(g))throw new Error("Unsupported data type");S.write(I,g,0,g.byteLength,void 0,b.canOwn)}S.close(I)},cwd:()=>S.currentPath,chdir:d=>{var g=S.lookupPath(d,{follow:!0});if(null===g.node)throw new S.ErrnoError(44);if(!S.isDir(g.node.mode))throw new S.ErrnoError(54);var b=S.nodePermissions(g.node,"x");if(b)throw new S.ErrnoError(b);S.currentPath=g.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(g,b,I,B,me)=>B}),S.mkdev("/dev/null",S.makedev(1,3)),tr.register(S.makedev(5,0),tr.default_tty_ops),tr.register(S.makedev(6,0),tr.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var d=function mr(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>sr("randomDevice")}();S.createDevice("/dev","random",d),S.createDevice("/dev","urandom",d),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var d=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var g=S.createNode(d,"fd",16895,73);return g.node_ops={lookup:(b,I)=>{var me=S.getStream(+I);if(!me)throw new S.ErrnoError(8);var be={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>me.path}};return be.parent=be,be}},g}},{},"/proc/self/fd")},createStandardStreams:()=>{l.stdin?S.createDevice("/dev","stdin",l.stdin):S.symlink("/dev/tty","/dev/stdin"),l.stdout?S.createDevice("/dev","stdout",null,l.stdout):S.symlink("/dev/tty","/dev/stdout"),l.stderr?S.createDevice("/dev","stderr",null,l.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(g,b){this.node=b,this.setErrno=function(I){this.errno=I},this.setErrno(g),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(d=>{S.genericErrors[d]=new S.ErrnoError(d),S.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(Ut,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:Ut}},init:(d,g,b)=>{S.init.initialized=!0,S.ensureErrnoError(),l.stdin=d||l.stdin,l.stdout=g||l.stdout,l.stderr=b||l.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var d=0;d<S.streams.length;d++){var g=S.streams[d];g&&S.close(g)}},getMode:(d,g)=>{var b=0;return d&&(b|=365),g&&(b|=146),b},findObject:(d,g)=>{var b=S.analyzePath(d,g);return b.exists?b.object:null},analyzePath:(d,g)=>{try{d=(b=S.lookupPath(d,{follow:!g})).path}catch{}var I={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=S.lookupPath(d,{parent:!0});I.parentExists=!0,I.parentPath=b.path,I.parentObject=b.node,I.name=Pt.basename(d),b=S.lookupPath(d,{follow:!g}),I.exists=!0,I.path=b.path,I.object=b.node,I.name=b.node.name,I.isRoot="/"===b.path}catch(B){I.error=B.errno}return I},createPath:(d,g,b,I)=>{d="string"==typeof d?d:S.getPath(d);for(var B=g.split("/").reverse();B.length;){var me=B.pop();if(me){var be=Pt.join2(d,me);try{S.mkdir(be)}catch{}d=be}}return be},createFile:(d,g,b,I,B)=>{var me=Pt.join2("string"==typeof d?d:S.getPath(d),g),be=S.getMode(I,B);return S.create(me,be)},createDataFile:(d,g,b,I,B,me)=>{var be=g;d&&(d="string"==typeof d?d:S.getPath(d),be=g?Pt.join2(d,g):d);var Be=S.getMode(I,B),yt=S.create(be,Be);if(b){if("string"==typeof b){for(var en=new Array(b.length),Qt=0,$n=b.length;Qt<$n;++Qt)en[Qt]=b.charCodeAt(Qt);b=en}S.chmod(yt,146|Be);var tn=S.open(yt,577);S.write(tn,b,0,b.length,0,me),S.close(tn),S.chmod(yt,Be)}return yt},createDevice:(d,g,b,I)=>{var B=Pt.join2("string"==typeof d?d:S.getPath(d),g),me=S.getMode(!!b,!!I);S.createDevice.major||(S.createDevice.major=64);var be=S.makedev(S.createDevice.major++,0);return S.registerDevice(be,{open:Be=>{Be.seekable=!1},close:Be=>{I&&I.buffer&&I.buffer.length&&I(10)},read:(Be,yt,en,Qt,$n)=>{for(var tn=0,bt=0;bt<Qt;bt++){var Rn;try{Rn=b()}catch{throw new S.ErrnoError(29)}if(void 0===Rn&&0===tn)throw new S.ErrnoError(6);if(null==Rn)break;tn++,yt[en+bt]=Rn}return tn&&(Be.node.timestamp=Date.now()),tn},write:(Be,yt,en,Qt,$n)=>{for(var tn=0;tn<Qt;tn++)try{I(yt[en+tn])}catch{throw new S.ErrnoError(29)}return Qt&&(Be.node.timestamp=Date.now()),tn}}),S.mkdev(B,me,be)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=er(H(d.url),!0),d.usedBytes=d.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(d,g,b,I,B)=>{function me(){this.lengthKnown=!1,this.chunks=[]}if(me.prototype.get=function(bt){if(!(bt>this.length-1||bt<0)){var Rn=bt%this.chunkSize;return this.getter(bt/this.chunkSize|0)[Rn]}},me.prototype.setDataGetter=function(bt){this.getter=bt},me.prototype.cacheLength=function(){var bt=new XMLHttpRequest;if(bt.open("HEAD",b,!1),bt.send(null),!(bt.status>=200&&bt.status<300||304===bt.status))throw new Error("Couldn't load "+b+". Status: "+bt.status);var Er,Rn=Number(bt.getResponseHeader("Content-length")),ei=(Er=bt.getResponseHeader("Accept-Ranges"))&&"bytes"===Er,qr=(Er=bt.getResponseHeader("Content-Encoding"))&&"gzip"===Er,ft=1048576;ei||(ft=Rn);var Mr=this;Mr.setDataGetter(Kn=>{var xo=Kn*ft,Kr=(Kn+1)*ft-1;if(Kr=Math.min(Kr,Rn-1),typeof Mr.chunks[Kn]>"u"&&(Mr.chunks[Kn]=((Kn,xo)=>{if(Kn>xo)throw new Error("invalid range ("+Kn+", "+xo+") or no bytes requested!");if(xo>Rn-1)throw new Error("only "+Rn+" bytes available! programmer error!");var Kr=new XMLHttpRequest;if(Kr.open("GET",b,!1),Rn!==ft&&Kr.setRequestHeader("Range","bytes="+Kn+"-"+xo),Kr.responseType="arraybuffer",Kr.overrideMimeType&&Kr.overrideMimeType("text/plain; charset=x-user-defined"),Kr.send(null),!(Kr.status>=200&&Kr.status<300||304===Kr.status))throw new Error("Couldn't load "+b+". Status: "+Kr.status);return void 0!==Kr.response?new Uint8Array(Kr.response||[]):er(Kr.responseText||"",!0)})(xo,Kr)),typeof Mr.chunks[Kn]>"u")throw new Error("doXHR failed!");return Mr.chunks[Kn]}),(qr||!Rn)&&(ft=Rn=1,Rn=this.getter(0).length,ft=Rn,Z("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Rn,this._chunkSize=ft,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!X)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var be=new me;Object.defineProperties(be,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Be={isDevice:!1,contents:be}}else Be={isDevice:!1,url:b};var yt=S.createFile(d,g,Be,I,B);Be.contents?yt.contents=Be.contents:Be.url&&(yt.contents=null,yt.url=Be.url),Object.defineProperties(yt,{usedBytes:{get:function(){return this.contents.length}}});var en={};function $n(tn,bt,Rn,Er,ei){var qr=tn.node.contents;if(ei>=qr.length)return 0;var ft=Math.min(qr.length-ei,Er);if(qr.slice)for(var nn=0;nn<ft;nn++)bt[Rn+nn]=qr[ei+nn];else for(nn=0;nn<ft;nn++)bt[Rn+nn]=qr.get(ei+nn);return ft}return Object.keys(yt.stream_ops).forEach(tn=>{var bt=yt.stream_ops[tn];en[tn]=function(){return S.forceLoadFile(yt),bt.apply(null,arguments)}}),en.read=(tn,bt,Rn,Er,ei)=>(S.forceLoadFile(yt),$n(tn,bt,Rn,Er,ei)),en.mmap=(tn,bt,Rn,Er,ei)=>{S.forceLoadFile(yt);var qr=cn();if(!qr)throw new S.ErrnoError(48);return $n(tn,Xe,qr,bt,Rn),{ptr:qr,allocated:!0}},yt.stream_ops=en,yt},createPreloadedFile:(d,g,b,I,B,me,be,Be,yt,en)=>{var Qt=g?Xt.resolve(Pt.join2(d,g)):d;function tn(bt){function Rn(Er){en&&en(),Be||S.createDataFile(d,g,Er,I,B,yt),me&&me(),Ar()}Browser.handledByPreloadPlugin(bt,Qt,Rn,()=>{be&&be(),Ar()})||Rn(bt)}Gr(),"string"==typeof b?function E(d,g,b,I){var B=I?"":"al "+d;Pe(d,me=>{Ce(me,'Loading data file "'+d+'" failed (no arrayBuffer).'),g(new Uint8Array(me)),B&&Ar()},me=>{if(!b)throw'Loading data file "'+d+'" failed.';b()}),B&&Gr()}(b,bt=>tn(bt),be):tn(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var I=S.indexedDB();try{var B=I.open(S.DB_NAME(),S.DB_VERSION)}catch(me){return b(me)}B.onupgradeneeded=()=>{Z("creating db"),B.result.createObjectStore(S.DB_STORE_NAME)},B.onsuccess=()=>{var be=B.result.transaction([S.DB_STORE_NAME],"readwrite"),Be=be.objectStore(S.DB_STORE_NAME),yt=0,en=0,Qt=d.length;function $n(){0==en?g():b()}d.forEach(tn=>{var bt=Be.put(S.analyzePath(tn).object.contents,tn);bt.onsuccess=()=>{++yt+en==Qt&&$n()},bt.onerror=()=>{en++,yt+en==Qt&&$n()}}),be.onerror=b},B.onerror=b},loadFilesFromDB:(d,g,b)=>{g=g||(()=>{}),b=b||(()=>{});var I=S.indexedDB();try{var B=I.open(S.DB_NAME(),S.DB_VERSION)}catch(me){return b(me)}B.onupgradeneeded=b,B.onsuccess=()=>{var me=B.result;try{var be=me.transaction([S.DB_STORE_NAME],"readonly")}catch(tn){return void b(tn)}var Be=be.objectStore(S.DB_STORE_NAME),yt=0,en=0,Qt=d.length;function $n(){0==en?g():b()}d.forEach(tn=>{var bt=Be.get(tn);bt.onsuccess=()=>{S.analyzePath(tn).exists&&S.unlink(tn),S.createDataFile(Pt.dirname(tn),Pt.basename(tn),bt.result,!0,!0,!0),++yt+en==Qt&&$n()},bt.onerror=()=>{en++,yt+en==Qt&&$n()}}),be.onerror=b},B.onerror=b}},Yn={DEFAULT_POLLMASK:5,calculateAt:function(d,g,b){if(Pt.isAbs(g))return g;var I;if(I=-100===d?S.cwd():Yn.getStreamFromFD(d).path,0==g.length){if(!b)throw new S.ErrnoError(44);return I}return Pt.join2(I,g)},doStat:function(d,g,b){try{var I=d(g)}catch(B){if(B&&B.node&&Pt.normalize(g)!==Pt.normalize(S.getPath(B.node)))return-54;throw B}return O[b>>2]=I.dev,O[b+8>>2]=I.ino,O[b+12>>2]=I.mode,ye[b+16>>2]=I.nlink,O[b+20>>2]=I.uid,O[b+24>>2]=I.gid,O[b+28>>2]=I.rdev,le=[I.size>>>0,(ct=I.size,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+40>>2]=le[0],O[b+44>>2]=le[1],O[b+48>>2]=4096,O[b+52>>2]=I.blocks,le=[Math.floor(I.atime.getTime()/1e3)>>>0,(ct=Math.floor(I.atime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+56>>2]=le[0],O[b+60>>2]=le[1],ye[b+64>>2]=0,le=[Math.floor(I.mtime.getTime()/1e3)>>>0,(ct=Math.floor(I.mtime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+72>>2]=le[0],O[b+76>>2]=le[1],ye[b+80>>2]=0,le=[Math.floor(I.ctime.getTime()/1e3)>>>0,(ct=Math.floor(I.ctime.getTime()/1e3),+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+88>>2]=le[0],O[b+92>>2]=le[1],ye[b+96>>2]=0,le=[I.ino>>>0,(ct=I.ino,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[b+104>>2]=le[0],O[b+108>>2]=le[1],0},doMsync:function(d,g,b,I,B){if(!S.isFile(g.node.mode))throw new S.ErrnoError(43);if(2&I)return 0;var me=vt.slice(d,d+b);S.msync(g,me,B,b,I)},varargs:void 0,get:function(){return Yn.varargs+=4,O[Yn.varargs-4>>2]},getStr:function(d){return Ne(d)},getStreamFromFD:function(d){var g=S.getStream(d);if(!g)throw new S.ErrnoError(8);return g}};function bo(d){return d%4==0&&(d%100!=0||d%400==0)}var Oi=[0,31,60,91,121,152,182,213,244,274,305,335],Bo=[0,31,59,90,120,151,181,212,243,273,304,334];function Ci(d){return(bo(d.getFullYear())?Oi:Bo)[d.getMonth()]+d.getDate()-1}function Vo(d){var g=ne(d)+1,b=Et(g);return b&&Me(d,Xe,b,g),b}function Wr(d){try{return de.grow(d-Ue.byteLength+65535>>>16),Ve(de.buffer),1}catch{}}var Jo={};function oo(){if(!oo.strings){var g={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:L||"./this.program"};for(var b in Jo)void 0===Jo[b]?delete g[b]:g[b]=Jo[b];var I=[];for(var b in g)I.push(b+"="+g[b]);oo.strings=I}return oo.strings}var bs=[31,29,31,30,31,30,31,31,30,31,30,31],Ni=[31,28,31,30,31,30,31,31,30,31,30,31];var pe=function(d,g,b,I){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=S.nextInode++,this.name=g,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=I};Object.defineProperties(pe.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=pe,S.staticInit();var pi,ot={b:function Nn(d,g,b,I){sr("Assertion failed: "+Ne(d)+", at: "+[g?Ne(g):"unknown filename",b,I?Ne(I):"unknown function"])},l:function D(d,g,b){try{var I=Wt(g,b);return isNaN(I)?-61:(S.ftruncate(d,I),0)}catch(B){if(typeof S>"u"||!(B instanceof S.ErrnoError))throw B;return-B.errno}},g:function $o(){return!0},h:function Si(d,g){var b=new Date(1e3*function Xo(d){return ye[d>>2]+4294967296*O[d+4>>2]}(d));O[g>>2]=b.getSeconds(),O[g+4>>2]=b.getMinutes(),O[g+8>>2]=b.getHours(),O[g+12>>2]=b.getDate(),O[g+16>>2]=b.getMonth(),O[g+20>>2]=b.getFullYear()-1900,O[g+24>>2]=b.getDay();var I=0|Ci(b);O[g+28>>2]=I,O[g+36>>2]=-60*b.getTimezoneOffset();var B=new Date(b.getFullYear(),0,1),me=new Date(b.getFullYear(),6,1).getTimezoneOffset(),be=B.getTimezoneOffset(),Be=0|(me!=be&&b.getTimezoneOffset()==Math.min(be,me));O[g+32>>2]=Be},i:function ro(d){var g=new Date(O[d+20>>2]+1900,O[d+16>>2],O[d+12>>2],O[d+8>>2],O[d+4>>2],O[d>>2],0),b=O[d+32>>2],I=g.getTimezoneOffset(),B=new Date(g.getFullYear(),0,1),me=new Date(g.getFullYear(),6,1).getTimezoneOffset(),be=B.getTimezoneOffset(),Be=Math.min(be,me);if(b<0)O[d+32>>2]=Number(me!=be&&Be==I);else if(b>0!=(Be==I)){var yt=Math.max(be,me),en=b>0?Be:yt;g.setTime(g.getTime()+6e4*(en-I))}O[d+24>>2]=g.getDay();var Qt=0|Ci(g);return O[d+28>>2]=Qt,O[d>>2]=g.getSeconds(),O[d+4>>2]=g.getMinutes(),O[d+8>>2]=g.getHours(),O[d+12>>2]=g.getDate(),O[d+16>>2]=g.getMonth(),O[d+20>>2]=g.getYear(),g.getTime()/1e3|0},j:function gr(d,g,b){var I=(new Date).getFullYear(),B=new Date(I,0,1),me=new Date(I,6,1),be=B.getTimezoneOffset(),Be=me.getTimezoneOffset(),yt=Math.max(be,Be);function en(Rn){var Er=Rn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Er?Er[1]:"GMT"}ye[d>>2]=60*yt,O[g>>2]=Number(be!=Be);var Qt=en(B),$n=en(me),tn=Vo(Qt),bt=Vo($n);Be<be?(ye[b>>2]=tn,ye[b+4>>2]=bt):(ye[b>>2]=bt,ye[b+4>>2]=tn)},a:function Uo(){sr("")},c:function Qr(){return Date.now()},q:function Qo(d,g,b){vt.copyWithin(d,g,g+b)},p:function es(d){var yt,g=vt.length,b=2147483648;if((d>>>=0)>b)return!1;for(var B=1;B<=4;B*=2){var me=g*(1+.2/B);if(me=Math.min(me,d+100663296),Wr(Math.min(b,(yt=Math.max(d,me))+(65536-yt%65536)%65536)))return!0}return!1},n:function fo(d,g){var b=0;return oo().forEach(function(I,B){var me=g+b;ye[d+4*B>>2]=me,function ts(d,g,b){for(var I=0;I<d.length;++I)Xe[g++>>0]=d.charCodeAt(I);b||(Xe[g>>0]=0)}(I,me),b+=I.length+1}),0},o:function Ei(d,g){var b=oo();ye[d>>2]=b.length;var I=0;return b.forEach(function(B){I+=B.length+1}),ye[g>>2]=I,0},d:function vs(d){try{var g=Yn.getStreamFromFD(d);return S.close(g),0}catch(b){if(typeof S>"u"||!(b instanceof S.ErrnoError))throw b;return b.errno}},f:function ns(d,g,b,I){try{var me=function ui(d,g,b,I){for(var B=0,me=0;me<b;me++){var be=ye[g>>2],Be=ye[g+4>>2];g+=8;var yt=S.read(d,Xe,be,Be,I);if(yt<0)return-1;if(B+=yt,yt<Be)break}return B}(Yn.getStreamFromFD(d),g,b);return ye[I>>2]=me,0}catch(be){if(typeof S>"u"||!(be instanceof S.ErrnoError))throw be;return be.errno}},k:function Rs(d,g,b,I,B){try{var me=Wt(g,b);if(isNaN(me))return 61;var be=Yn.getStreamFromFD(d);return S.llseek(be,me,I),le=[be.position>>>0,(ct=be.position,+Math.abs(ct)>=1?ct>0?(0|Math.min(+Math.floor(ct/4294967296),4294967295))>>>0:~~+Math.ceil((ct-+(~~ct>>>0))/4294967296)>>>0:0)],O[B>>2]=le[0],O[B+4>>2]=le[1],be.getdents&&0===me&&0===I&&(be.getdents=null),0}catch(Be){if(typeof S>"u"||!(Be instanceof S.ErrnoError))throw Be;return Be.errno}},e:function cr(d,g,b,I){try{var me=function Fs(d,g,b,I){for(var B=0,me=0;me<b;me++){var be=ye[g>>2],Be=ye[g+4>>2];g+=8;var yt=S.write(d,Xe,be,Be,I);if(yt<0)return-1;B+=yt}return B}(Yn.getStreamFromFD(d),g,b);return ye[I>>2]=me,0}catch(be){if(typeof S>"u"||!(be instanceof S.ErrnoError))throw be;return be.errno}},m:function ge(d,g,b,I,B){return function N(d,g,b,I){var B=O[I+40>>2],me={tm_sec:O[I>>2],tm_min:O[I+4>>2],tm_hour:O[I+8>>2],tm_mday:O[I+12>>2],tm_mon:O[I+16>>2],tm_year:O[I+20>>2],tm_wday:O[I+24>>2],tm_yday:O[I+28>>2],tm_isdst:O[I+32>>2],tm_gmtoff:O[I+36>>2],tm_zone:B?Ne(B):""},be=Ne(b),Be={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var yt in Be)be=be.replace(new RegExp(yt,"g"),Be[yt]);var en=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Qt=["January","February","March","April","May","June","July","August","September","October","November","December"];function $n(ft,nn,Mr){for(var Kn="number"==typeof ft?ft.toString():ft||"";Kn.length<nn;)Kn=Mr[0]+Kn;return Kn}function tn(ft,nn){return $n(ft,nn,"0")}function bt(ft,nn){function Mr(xo){return xo<0?-1:xo>0?1:0}var Kn;return 0===(Kn=Mr(ft.getFullYear()-nn.getFullYear()))&&0===(Kn=Mr(ft.getMonth()-nn.getMonth()))&&(Kn=Mr(ft.getDate()-nn.getDate())),Kn}function Rn(ft){switch(ft.getDay()){case 0:return new Date(ft.getFullYear()-1,11,29);case 1:return ft;case 2:return new Date(ft.getFullYear(),0,3);case 3:return new Date(ft.getFullYear(),0,2);case 4:return new Date(ft.getFullYear(),0,1);case 5:return new Date(ft.getFullYear()-1,11,31);case 6:return new Date(ft.getFullYear()-1,11,30)}}function Er(ft){var nn=function nr(d,g){for(var b=new Date(d.getTime());g>0;){var I=bo(b.getFullYear()),B=b.getMonth(),me=(I?bs:Ni)[B];if(!(g>me-b.getDate()))return b.setDate(b.getDate()+g),b;g-=me-b.getDate()+1,b.setDate(1),B<11?b.setMonth(B+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(ft.tm_year+1900,0,1),ft.tm_yday),Mr=new Date(nn.getFullYear(),0,4),Kn=new Date(nn.getFullYear()+1,0,4),xo=Rn(Mr),Kr=Rn(Kn);return bt(xo,nn)<=0?bt(Kr,nn)<=0?nn.getFullYear()+1:nn.getFullYear():nn.getFullYear()-1}var ei={"%a":function(ft){return en[ft.tm_wday].substring(0,3)},"%A":function(ft){return en[ft.tm_wday]},"%b":function(ft){return Qt[ft.tm_mon].substring(0,3)},"%B":function(ft){return Qt[ft.tm_mon]},"%C":function(ft){return tn((ft.tm_year+1900)/100|0,2)},"%d":function(ft){return tn(ft.tm_mday,2)},"%e":function(ft){return $n(ft.tm_mday,2," ")},"%g":function(ft){return Er(ft).toString().substring(2)},"%G":function(ft){return Er(ft)},"%H":function(ft){return tn(ft.tm_hour,2)},"%I":function(ft){var nn=ft.tm_hour;return 0==nn?nn=12:nn>12&&(nn-=12),tn(nn,2)},"%j":function(ft){return tn(ft.tm_mday+function di(d,g){for(var b=0,I=0;I<=g;b+=d[I++]);return b}(bo(ft.tm_year+1900)?bs:Ni,ft.tm_mon-1),3)},"%m":function(ft){return tn(ft.tm_mon+1,2)},"%M":function(ft){return tn(ft.tm_min,2)},"%n":function(){return"\n"},"%p":function(ft){return ft.tm_hour>=0&&ft.tm_hour<12?"AM":"PM"},"%S":function(ft){return tn(ft.tm_sec,2)},"%t":function(){return"\t"},"%u":function(ft){return ft.tm_wday||7},"%U":function(ft){return tn(Math.floor((ft.tm_yday+7-ft.tm_wday)/7),2)},"%V":function(ft){var nn=Math.floor((ft.tm_yday+7-(ft.tm_wday+6)%7)/7);if((ft.tm_wday+371-ft.tm_yday-2)%7<=2&&nn++,nn){if(53==nn){var Kn=(ft.tm_wday+371-ft.tm_yday)%7;4!=Kn&&(3!=Kn||!bo(ft.tm_year))&&(nn=1)}}else{nn=52;var Mr=(ft.tm_wday+7-ft.tm_yday-1)%7;(4==Mr||5==Mr&&bo(ft.tm_year%400-1))&&nn++}return tn(nn,2)},"%w":function(ft){return ft.tm_wday},"%W":function(ft){return tn(Math.floor((ft.tm_yday+7-(ft.tm_wday+6)%7)/7),2)},"%y":function(ft){return(ft.tm_year+1900).toString().substring(2)},"%Y":function(ft){return ft.tm_year+1900},"%z":function(ft){var nn=ft.tm_gmtoff,Mr=nn>=0;return nn=(nn=Math.abs(nn)/60)/60*100+nn%60,(Mr?"+":"-")+String("0000"+nn).slice(-4)},"%Z":function(ft){return ft.tm_zone},"%%":function(){return"%"}};for(var yt in be=be.replace(/%%/g,"\0\0"),ei)be.includes(yt)&&(be=be.replace(new RegExp(yt,"g"),ei[yt](me)));var qr=er(be=be.replace(/\0\0/g,"%"),!1);return qr.length>g?0:(function A(d,g){Xe.set(d,g)}(qr,d),qr.length-1)}(d,g,b,I)}},Et=(function Br(){var d={a:ot};function g(be,Be){l.asm=be.exports,Ve((de=l.asm.r).buffer),function Yr(d){Ae.unshift(d)}(l.asm.s),Ar()}function b(be){g(be.instance)}function I(be){return function Ji(){return fe||!ue&&!X||"function"!=typeof fetch?Promise.resolve().then(function(){return Xr(mn)}):fetch(mn,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+mn+"'";return d.arrayBuffer()}).catch(function(){return Xr(mn)})}().then(function(Be){return WebAssembly.instantiate(Be,d)}).then(function(Be){return Be}).then(be,function(Be){K("failed to asynchronously prepare wasm: "+Be),sr(Be)})}if(Gr(),l.instantiateWasm)try{return l.instantiateWasm(d,g)}catch(be){K("Module.instantiateWasm callback failed with error: "+be),te(be)}(function B(){return fe||"function"!=typeof WebAssembly.instantiateStreaming||no(mn)||"function"!=typeof fetch?I(b):fetch(mn,{credentials:"same-origin"}).then(function(be){return WebAssembly.instantiateStreaming(be,d).then(b,function(yt){return K("wasm streaming compile failed: "+yt),K("falling back to ArrayBuffer instantiation"),I(b)})})})().catch(te)}(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.s).apply(null,arguments)},l._malloc=function(){return(Et=l._malloc=l.asm.t).apply(null,arguments)}),ko=(l._free=function(){return(l._free=l.asm.u).apply(null,arguments)},l._emscripten_bind_VoidPtr___destroy___0=function(){return(ko=l._emscripten_bind_VoidPtr___destroy___0=l.asm.v).apply(null,arguments)}),Jr=l._emscripten_bind_FileEntry_GetName_0=function(){return(Jr=l._emscripten_bind_FileEntry_GetName_0=l.asm.w).apply(null,arguments)},To=l._emscripten_bind_FileEntry_IsDirectory_0=function(){return(To=l._emscripten_bind_FileEntry_IsDirectory_0=l.asm.x).apply(null,arguments)},fi=l._emscripten_bind_FileEntry_GetSize_0=function(){return(fi=l._emscripten_bind_FileEntry_GetSize_0=l.asm.y).apply(null,arguments)},wr=l._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(wr=l._emscripten_bind_FileEntry_GetModifiedTS_0=l.asm.z).apply(null,arguments)},rs=l._emscripten_bind_FileEntry_GetAttributes_0=function(){return(rs=l._emscripten_bind_FileEntry_GetAttributes_0=l.asm.A).apply(null,arguments)},Va=l._emscripten_bind_FileEntry___destroy___0=function(){return(Va=l._emscripten_bind_FileEntry___destroy___0=l.asm.B).apply(null,arguments)},Ua=l._emscripten_bind_Vfs_Vfs_0=function(){return(Ua=l._emscripten_bind_Vfs_Vfs_0=l.asm.C).apply(null,arguments)},Di=l._emscripten_bind_Vfs_Malloc_1=function(){return(Di=l._emscripten_bind_Vfs_Malloc_1=l.asm.D).apply(null,arguments)},ja=l._emscripten_bind_Vfs_Free_1=function(){return(ja=l._emscripten_bind_Vfs_Free_1=l.asm.E).apply(null,arguments)},zs=l._emscripten_bind_Vfs_Nullptr_0=function(){return(zs=l._emscripten_bind_Vfs_Nullptr_0=l.asm.F).apply(null,arguments)},Gs=l._emscripten_bind_Vfs_AllocateImage_1=function(){return(Gs=l._emscripten_bind_Vfs_AllocateImage_1=l.asm.G).apply(null,arguments)},_l=l._emscripten_bind_Vfs_MountImage_1=function(){return(_l=l._emscripten_bind_Vfs_MountImage_1=l.asm.H).apply(null,arguments)},vl=l._emscripten_bind_Vfs_UnmountImage_1=function(){return(vl=l._emscripten_bind_Vfs_UnmountImage_1=l.asm.I).apply(null,arguments)},bl=l._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(bl=l._emscripten_bind_Vfs_GetPendingImageSize_0=l.asm.J).apply(null,arguments)},sa=l._emscripten_bind_Vfs_GetSize_1=function(){return(sa=l._emscripten_bind_Vfs_GetSize_1=l.asm.K).apply(null,arguments)},wl=l._emscripten_bind_Vfs_GetPendingImage_0=function(){return(wl=l._emscripten_bind_Vfs_GetPendingImage_0=l.asm.L).apply(null,arguments)},Mo=l._emscripten_bind_Vfs_GetImage_1=function(){return(Mo=l._emscripten_bind_Vfs_GetImage_1=l.asm.M).apply(null,arguments)},qn=l._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(qn=l._emscripten_bind_Vfs_GetDirtyPages_1=l.asm.N).apply(null,arguments)},Cl=l._emscripten_bind_Vfs_RenameFile_2=function(){return(Cl=l._emscripten_bind_Vfs_RenameFile_2=l.asm.O).apply(null,arguments)},Sl=l._emscripten_bind_Vfs_ChmodFile_3=function(){return(Sl=l._emscripten_bind_Vfs_ChmodFile_3=l.asm.P).apply(null,arguments)},ec=l._emscripten_bind_Vfs_StatFile_1=function(){return(ec=l._emscripten_bind_Vfs_StatFile_1=l.asm.Q).apply(null,arguments)},gt=l._emscripten_bind_Vfs_UnlinkFile_1=function(){return(gt=l._emscripten_bind_Vfs_UnlinkFile_1=l.asm.R).apply(null,arguments)},Ws=l._emscripten_bind_Vfs_Mkdir_1=function(){return(Ws=l._emscripten_bind_Vfs_Mkdir_1=l.asm.S).apply(null,arguments)},yr=l._emscripten_bind_Vfs_GetEntry_0=function(){return(yr=l._emscripten_bind_Vfs_GetEntry_0=l.asm.T).apply(null,arguments)},ws=l._emscripten_bind_Vfs_BytesFree_1=function(){return(ws=l._emscripten_bind_Vfs_BytesFree_1=l.asm.U).apply(null,arguments)},aa=l._emscripten_bind_Vfs_BytesTotal_1=function(){return(aa=l._emscripten_bind_Vfs_BytesTotal_1=l.asm.V).apply(null,arguments)},io=l._emscripten_bind_Vfs_ReadFile_1=function(){return(io=l._emscripten_bind_Vfs_ReadFile_1=l.asm.W).apply(null,arguments)},os=l._emscripten_bind_Vfs_GetCurrentFileSize_0=function(){return(os=l._emscripten_bind_Vfs_GetCurrentFileSize_0=l.asm.X).apply(null,arguments)},Ii=l._emscripten_bind_Vfs_GetCurrentFileContent_0=function(){return(Ii=l._emscripten_bind_Vfs_GetCurrentFileContent_0=l.asm.Y).apply(null,arguments)},la=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=function(){return(la=l._emscripten_bind_Vfs_ReleaseCurrentFile_0=l.asm.Z).apply(null,arguments)},Os=l._emscripten_bind_Vfs_WriteFile_3=function(){return(Os=l._emscripten_bind_Vfs_WriteFile_3=l.asm._).apply(null,arguments)},Zs=l._emscripten_bind_Vfs___destroy___0=function(){return(Zs=l._emscripten_bind_Vfs___destroy___0=l.asm.$).apply(null,arguments)},ca=l._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(ca=l._emscripten_bind_ReaddirContext_ReaddirContext_1=l.asm.aa).apply(null,arguments)},Ha=l._emscripten_bind_ReaddirContext_Next_0=function(){return(Ha=l._emscripten_bind_ReaddirContext_Next_0=l.asm.ba).apply(null,arguments)},Tt=l._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(Tt=l._emscripten_bind_ReaddirContext_GetEntry_0=l.asm.ca).apply(null,arguments)},qs=l._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(qs=l._emscripten_bind_ReaddirContext_GetStatus_0=l.asm.da).apply(null,arguments)},po=l._emscripten_bind_ReaddirContext_GetError_0=function(){return(po=l._emscripten_bind_ReaddirContext_GetError_0=l.asm.ea).apply(null,arguments)},ar=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(ar=l._emscripten_bind_ReaddirContext_GetErrorDescription_0=l.asm.fa).apply(null,arguments)},Zr=l._emscripten_bind_ReaddirContext___destroy___0=function(){return(Zr=l._emscripten_bind_ReaddirContext___destroy___0=l.asm.ga).apply(null,arguments)},Pr=l._emscripten_bind_CreateZipContext_CreateZipContext_2=function(){return(Pr=l._emscripten_bind_CreateZipContext_CreateZipContext_2=l.asm.ha).apply(null,arguments)},p=l._emscripten_bind_CreateZipContext_AddFile_1=function(){return(p=l._emscripten_bind_CreateZipContext_AddFile_1=l.asm.ia).apply(null,arguments)},_=l._emscripten_bind_CreateZipContext_AddDirectory_1=function(){return(_=l._emscripten_bind_CreateZipContext_AddDirectory_1=l.asm.ja).apply(null,arguments)},w=l._emscripten_bind_CreateZipContext_Continue_0=function(){return(w=l._emscripten_bind_CreateZipContext_Continue_0=l.asm.ka).apply(null,arguments)},F=l._emscripten_bind_CreateZipContext_GetState_0=function(){return(F=l._emscripten_bind_CreateZipContext_GetState_0=l.asm.la).apply(null,arguments)},z=l._emscripten_bind_CreateZipContext_GetZipContent_0=function(){return(z=l._emscripten_bind_CreateZipContext_GetZipContent_0=l.asm.ma).apply(null,arguments)},ve=l._emscripten_bind_CreateZipContext_GetZipSize_0=function(){return(ve=l._emscripten_bind_CreateZipContext_GetZipSize_0=l.asm.na).apply(null,arguments)},De=l._emscripten_bind_CreateZipContext_GetErrorItem_0=function(){return(De=l._emscripten_bind_CreateZipContext_GetErrorItem_0=l.asm.oa).apply(null,arguments)},je=l._emscripten_bind_CreateZipContext___destroy___0=function(){return(je=l._emscripten_bind_CreateZipContext___destroy___0=l.asm.pa).apply(null,arguments)},Dt=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=function(){return(Dt=l._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=l.asm.qa).apply(null,arguments)},fn=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=function(){return(fn=l._emscripten_bind_DeleteRecursiveContext_AddFile_1=l.asm.ra).apply(null,arguments)},kn=l._emscripten_bind_DeleteRecursiveContext_AddDirectory_1=function(){return(kn=l._emscripten_bind_DeleteRecursiveContext_AddDirectory_1=l.asm.sa).apply(null,arguments)},Tn=l._emscripten_bind_DeleteRecursiveContext_Continue_0=function(){return(Tn=l._emscripten_bind_DeleteRecursiveContext_Continue_0=l.asm.ta).apply(null,arguments)},Ht=l._emscripten_bind_DeleteRecursiveContext_GetState_0=function(){return(Ht=l._emscripten_bind_DeleteRecursiveContext_GetState_0=l.asm.ua).apply(null,arguments)},Zt=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=function(){return(Zt=l._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=l.asm.va).apply(null,arguments)},ee=l._emscripten_bind_DeleteRecursiveContext___destroy___0=function(){return(ee=l._emscripten_bind_DeleteRecursiveContext___destroy___0=l.asm.wa).apply(null,arguments)},Cr=l._emscripten_bind_UnzipContext_UnzipContext_4=function(){return(Cr=l._emscripten_bind_UnzipContext_UnzipContext_4=l.asm.xa).apply(null,arguments)},yn=l._emscripten_bind_UnzipContext_GetState_0=function(){return(yn=l._emscripten_bind_UnzipContext_GetState_0=l.asm.ya).apply(null,arguments)},Vr=l._emscripten_bind_UnzipContext_Continue_0=function(){return(Vr=l._emscripten_bind_UnzipContext_Continue_0=l.asm.za).apply(null,arguments)},mt=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=function(){return(mt=l._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=l.asm.Aa).apply(null,arguments)},zt=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=function(){return(zt=l._emscripten_bind_UnzipContext_GetCurrentEntry_0=l.asm.Ba).apply(null,arguments)},Ur=l._emscripten_bind_UnzipContext_GetCollisionPath_0=function(){return(Ur=l._emscripten_bind_UnzipContext_GetCollisionPath_0=l.asm.Ca).apply(null,arguments)},hr=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=function(){return(hr=l._emscripten_bind_UnzipContext_GetEntriesTotal_0=l.asm.Da).apply(null,arguments)},jo=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=function(){return(jo=l._emscripten_bind_UnzipContext_GetEntriesSuccess_0=l.asm.Ea).apply(null,arguments)},ur=l._emscripten_bind_UnzipContext___destroy___0=function(){return(ur=l._emscripten_bind_UnzipContext___destroy___0=l.asm.Fa).apply(null,arguments)};function or(d){var g=l._main;try{var B=g(0,0);return function Fe(d,g){ce=d,function Ee(d){ce=d,function Jt(){return Re}()||(l.onExit&&l.onExit(d),it=!0),U(d,new Ge(d))}(d)}(B),B}catch(me){return function R(d){if(d instanceof Ge||"unwind"==d)return ce;U(1,d)}(me)}}function ua(d){function g(){pi||(pi=!0,l.calledRun=!0,!it&&(function vn(){!l.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,tr.init(),xn(Ae)}(),function pr(){xn(Mt)}(),re(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),za&&or(),function Jn(){if(l.postRun)for("function"==typeof l.postRun&&(l.postRun=[l.postRun]);l.postRun.length;)d=l.postRun.shift(),ln.unshift(d);var d;xn(ln)}()))}d=d||Q,Mn>0||(function W(){if(l.preRun)for("function"==typeof l.preRun&&(l.preRun=[l.preRun]);l.preRun.length;)d=l.preRun.shift(),ht.unshift(d);var d;xn(ht)}(),Mn>0)||(l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),g()},1)):g())}if(l._main=function(){return(l._main=l.asm.Ga).apply(null,arguments)},l.___original_main=function(){return(l.___original_main=l.asm.Ia).apply(null,arguments)},l.___start_em_js=22104,l.___stop_em_js=22202,Vn=function d(){pi||ua(),pi||(Vn=d)},l.preInit)for("function"==typeof l.preInit&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var za=!0;function eo(){}function ss(d){return(d||eo).__cache__}function Sr(d,g){var b=ss(g),I=b[d];return I||((I=Object.create((g||eo).prototype)).ptr=d,b[d]=I)}l.noInitialRun&&(za=!1),ua(),(eo.prototype=Object.create(eo.prototype)).constructor=eo,eo.prototype.__class__=eo,eo.__cache__={},l.WrapperObject=eo,l.getCache=ss,l.wrapPointer=Sr,l.castObject=function da(d,g){return Sr(d.ptr,g)},l.NULL=Sr(0),l.destroy=function Hc(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete ss(d.__class__)[d.ptr]},l.compare=function ut(d,g){return d.ptr===g.ptr},l.getPointer=function zc(d){return d.ptr},l.getClass=function tc(d){return d.__class__};var An={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(An.needed){for(var d=0;d<An.temps.length;d++)l._free(An.temps[d]);An.temps.length=0,l._free(An.buffer),An.buffer=0,An.size+=An.needed,An.needed=0}An.buffer||(An.size+=128,An.buffer=l._malloc(An.size),Ce(An.buffer)),An.pos=0},alloc:function(d,g){Ce(An.buffer);var B,I=d.length*g.BYTES_PER_ELEMENT;return An.pos+(I=I+7&-8)>=An.size?(Ce(I>0),An.needed+=I,B=l._malloc(I),An.temps.push(B)):(B=An.buffer+An.pos,An.pos+=I),B},copy:function(d,g,b){switch(b>>>=0,g.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var B=0;B<d.length;B++)g[b+B]=d[B]}};function Un(d){if("string"==typeof d){var g=er(d),b=An.alloc(g,Xe);return An.copy(g,Xe,b),b}return d}function Co(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Rr(){throw"cannot construct a FileEntry, no constructor in IDL"}function st(){this.ptr=Ua(),ss(st)[this.ptr]=this}function jn(d){An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),this.ptr=ca(d),ss(jn)[this.ptr]=this}function pn(d,g){An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),g&&"object"==typeof g&&(g=g.ptr),this.ptr=Pr(d,g),ss(pn)[this.ptr]=this}function Hn(d){d&&"object"==typeof d&&(d=d.ptr),this.ptr=Dt(d),ss(Hn)[this.ptr]=this}function Ln(d,g,b,I){An.prepare(),d&&"object"==typeof d&&(d=d.ptr),g=g&&"object"==typeof g?g.ptr:Un(g),b&&"object"==typeof b&&(b=b.ptr),I&&"object"==typeof I&&(I=I.ptr),this.ptr=Cr(d,g,b,I),ss(Ln)[this.ptr]=this}return(Co.prototype=Object.create(eo.prototype)).constructor=Co,Co.prototype.__class__=Co,Co.__cache__={},l.VoidPtr=Co,Co.prototype.__destroy__=Co.prototype.__destroy__=function(){ko(this.ptr)},(Rr.prototype=Object.create(eo.prototype)).constructor=Rr,Rr.prototype.__class__=Rr,Rr.__cache__={},l.FileEntry=Rr,Rr.prototype.GetName=Rr.prototype.GetName=function(){return Ne(Jr(this.ptr))},Rr.prototype.IsDirectory=Rr.prototype.IsDirectory=function(){return!!To(this.ptr)},Rr.prototype.GetSize=Rr.prototype.GetSize=function(){return fi(this.ptr)},Rr.prototype.GetModifiedTS=Rr.prototype.GetModifiedTS=function(){return wr(this.ptr)},Rr.prototype.GetAttributes=Rr.prototype.GetAttributes=function(){return rs(this.ptr)},Rr.prototype.__destroy__=Rr.prototype.__destroy__=function(){Va(this.ptr)},(st.prototype=Object.create(eo.prototype)).constructor=st,st.prototype.__class__=st,st.__cache__={},l.Vfs=st,st.prototype.Malloc=st.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Sr(Di(this.ptr,d),Co)},st.prototype.Free=st.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),ja(this.ptr,d)},st.prototype.Nullptr=st.prototype.Nullptr=function(){return Sr(zs(this.ptr),Co)},st.prototype.AllocateImage=st.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Gs(this.ptr,d)},st.prototype.MountImage=st.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!_l(this.ptr,d)},st.prototype.UnmountImage=st.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),vl(this.ptr,d)},st.prototype.GetPendingImageSize=st.prototype.GetPendingImageSize=function(){return bl(this.ptr)},st.prototype.GetSize=st.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),sa(this.ptr,d)},st.prototype.GetPendingImage=st.prototype.GetPendingImage=function(){return Sr(wl(this.ptr),Co)},st.prototype.GetImage=st.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),Sr(Mo(this.ptr,d),Co)},st.prototype.GetDirtyPages=st.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),Sr(qn(this.ptr,d),Co)},st.prototype.RenameFile=st.prototype.RenameFile=function(d,g){var b=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),g=g&&"object"==typeof g?g.ptr:Un(g),Cl(b,d,g)},st.prototype.ChmodFile=st.prototype.ChmodFile=function(d,g,b){var I=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),g&&"object"==typeof g&&(g=g.ptr),b&&"object"==typeof b&&(b=b.ptr),Sl(I,d,g,b)},st.prototype.StatFile=st.prototype.StatFile=function(d){var g=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),ec(g,d)},st.prototype.UnlinkFile=st.prototype.UnlinkFile=function(d){var g=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),gt(g,d)},st.prototype.Mkdir=st.prototype.Mkdir=function(d){var g=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),Ws(g,d)},st.prototype.GetEntry=st.prototype.GetEntry=function(){return Sr(yr(this.ptr),Rr)},st.prototype.BytesFree=st.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),ws(this.ptr,d)},st.prototype.BytesTotal=st.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),aa(this.ptr,d)},st.prototype.ReadFile=st.prototype.ReadFile=function(d){var g=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),!!io(g,d)},st.prototype.GetCurrentFileSize=st.prototype.GetCurrentFileSize=function(){return os(this.ptr)},st.prototype.GetCurrentFileContent=st.prototype.GetCurrentFileContent=function(){return Sr(Ii(this.ptr),Co)},st.prototype.ReleaseCurrentFile=st.prototype.ReleaseCurrentFile=function(){la(this.ptr)},st.prototype.WriteFile=st.prototype.WriteFile=function(d,g,b){var I=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),g&&"object"==typeof g&&(g=g.ptr),b&&"object"==typeof b&&(b=b.ptr),Os(I,d,g,b)},st.prototype.__destroy__=st.prototype.__destroy__=function(){Zs(this.ptr)},(jn.prototype=Object.create(eo.prototype)).constructor=jn,jn.prototype.__class__=jn,jn.__cache__={},l.ReaddirContext=jn,jn.prototype.Next=jn.prototype.Next=function(){return Ha(this.ptr)},jn.prototype.GetEntry=jn.prototype.GetEntry=function(){return Sr(Tt(this.ptr),Rr)},jn.prototype.GetStatus=jn.prototype.GetStatus=function(){return qs(this.ptr)},jn.prototype.GetError=jn.prototype.GetError=function(){return po(this.ptr)},jn.prototype.GetErrorDescription=jn.prototype.GetErrorDescription=function(){return Ne(ar(this.ptr))},jn.prototype.__destroy__=jn.prototype.__destroy__=function(){Zr(this.ptr)},(pn.prototype=Object.create(eo.prototype)).constructor=pn,pn.prototype.__class__=pn,pn.__cache__={},l.CreateZipContext=pn,pn.prototype.AddFile=pn.prototype.AddFile=function(d){var g=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),Sr(p(g,d),pn)},pn.prototype.AddDirectory=pn.prototype.AddDirectory=function(d){var g=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),Sr(_(g,d),pn)},pn.prototype.Continue=pn.prototype.Continue=function(){return w(this.ptr)},pn.prototype.GetState=pn.prototype.GetState=function(){return F(this.ptr)},pn.prototype.GetZipContent=pn.prototype.GetZipContent=function(){return Sr(z(this.ptr),Co)},pn.prototype.GetZipSize=pn.prototype.GetZipSize=function(){return ve(this.ptr)},pn.prototype.GetErrorItem=pn.prototype.GetErrorItem=function(){return Ne(De(this.ptr))},pn.prototype.__destroy__=pn.prototype.__destroy__=function(){je(this.ptr)},(Hn.prototype=Object.create(eo.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},l.DeleteRecursiveContext=Hn,Hn.prototype.AddFile=Hn.prototype.AddFile=function(d){var g=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),Sr(fn(g,d),Hn)},Hn.prototype.AddDirectory=Hn.prototype.AddDirectory=function(d){var g=this.ptr;return An.prepare(),d=d&&"object"==typeof d?d.ptr:Un(d),Sr(kn(g,d),Hn)},Hn.prototype.Continue=Hn.prototype.Continue=function(){return Tn(this.ptr)},Hn.prototype.GetState=Hn.prototype.GetState=function(){return Ht(this.ptr)},Hn.prototype.GetFailingPath=Hn.prototype.GetFailingPath=function(){return Ne(Zt(this.ptr))},Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){ee(this.ptr)},(Ln.prototype=Object.create(eo.prototype)).constructor=Ln,Ln.prototype.__class__=Ln,Ln.__cache__={},l.UnzipContext=Ln,Ln.prototype.GetState=Ln.prototype.GetState=function(){return yn(this.ptr)},Ln.prototype.Continue=Ln.prototype.Continue=function(){return Vr(this.ptr)},Ln.prototype.ContinueWithOverwrite=Ln.prototype.ContinueWithOverwrite=function(){return mt(this.ptr)},Ln.prototype.GetCurrentEntry=Ln.prototype.GetCurrentEntry=function(){return Ne(zt(this.ptr))},Ln.prototype.GetCollisionPath=Ln.prototype.GetCollisionPath=function(){return Ne(Ur(this.ptr))},Ln.prototype.GetEntriesTotal=Ln.prototype.GetEntriesTotal=function(){return hr(this.ptr)},Ln.prototype.GetEntriesSuccess=Ln.prototype.GetEntriesSuccess=function(){return jo(this.ptr)},Ln.prototype.__destroy__=Ln.prototype.__destroy__=function(){ur(this.ptr)},k.ready});$e.exports=We},5933:($e,We,P)=>{"use strict";P.d(We,{c:()=>Le});var k=P(9259),l=P(2286);let re;const G=he=>he.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q=he=>(void 0===re&&(re=void 0===he.style.animationName&&void 0!==he.style.webkitAnimationName?"-webkit-":""),re),L=(he,Z,K)=>{const fe=Z.startsWith("animation")?Q(he):"";he.style.setProperty(fe+Z,K)},U=(he,Z)=>{const K=Z.startsWith("animation")?Q(he):"";he.style.removeProperty(K+Z)},ie=[],Pe=(he=[],Z)=>{if(void 0!==Z){const K=Array.isArray(Z)?Z:[Z];return[...he,...K]}return he},Le=he=>{let Z,K,fe,Re,de,it,Ne,O,ye,tt,nt,ht,Ae,ce=[],Ce=[],Ie=[],Ye=!1,Me={},ne=[],Ue=[],Xe={},vt=0,un=!1,Ze=!1,Ve=!0,q=!1,_e=!0,Mt=!1;const ln=he,Yt=[],Jt=[],W=[],vn=[],pr=[],Jn=[],Lo=[],Yr=[],bi=[],Mn=[],uo="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,Vn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&uo,Gr=()=>Mn,mn=(R,pe)=>((pe?.oneTimeCallback?Jt:Yt).push({c:R,o:pe}),Ae),Ji=()=>{if(Vn)Mn.forEach(R=>{R.cancel()}),Mn.length=0;else{const R=W.slice();(0,k.r)(()=>{R.forEach(pe=>{U(pe,"animation-name"),U(pe,"animation-duration"),U(pe,"animation-timing-function"),U(pe,"animation-iteration-count"),U(pe,"animation-delay"),U(pe,"animation-play-state"),U(pe,"animation-fill-mode"),U(pe,"animation-direction")})})}},Br=()=>{pr.forEach(R=>{R?.parentNode&&R.parentNode.removeChild(R)}),pr.length=0},Ut=()=>void 0!==de?de:Ne?Ne.getFill():"both",E=()=>void 0!==ye?ye:void 0!==it?it:Ne?Ne.getDirection():"normal",S=()=>un?"linear":void 0!==fe?fe:Ne?Ne.getEasing():"linear",Yn=()=>Ze?0:void 0!==tt?tt:void 0!==K?K:Ne?Ne.getDuration():0,D=()=>void 0!==Re?Re:Ne?Ne.getIterations():1,Pn=()=>void 0!==nt?nt:void 0!==Z?Z:Ne?Ne.getDelay():0,wo=()=>{0!==vt&&(vt--,0===vt&&((()=>{cr(),Yr.forEach(ot=>ot()),bi.forEach(ot=>ot());const R=Ve?1:0,pe=ne,ke=Ue,Qe=Xe;W.forEach(ot=>{const xe=ot.classList;pe.forEach(jt=>xe.add(jt)),ke.forEach(jt=>xe.remove(jt));for(const jt in Qe)Qe.hasOwnProperty(jt)&&L(ot,jt,Qe[jt])}),Yt.forEach(ot=>ot.c(R,Ae)),Jt.forEach(ot=>ot.c(R,Ae)),Jt.length=0,_e=!0,Ve&&(q=!0),Ve=!0})(),Ne&&Ne.animationFinish()))},Wr=(R=!0)=>{Br();const pe=(he=>(he.forEach(Z=>{for(const K in Z)if(Z.hasOwnProperty(K)){const fe=Z[K];if("easing"===K)Z["animation-timing-function"]=fe,delete Z[K];else{const Re=G(K);Re!==K&&(Z[Re]=fe,delete Z[K])}}}),he))(ce);W.forEach(ke=>{if(pe.length>0){const Qe=((he=[])=>he.map(Z=>{const K=Z.offset,fe=[];for(const Re in Z)Z.hasOwnProperty(Re)&&"offset"!==Re&&fe.push(`${Re}: ${Z[Re]};`);return`${100*K}% { ${fe.join(" ")} }`}).join(" "))(pe);ht=void 0!==he?he:(he=>{let Z=ie.indexOf(he);return Z<0&&(Z=ie.push(he)-1),`ion-animation-${Z}`})(Qe);const ot=((he,Z,K)=>{var fe;const Re=(he=>{const Z=void 0!==he.getRootNode?he.getRootNode():he;return Z.head||Z})(K),de=Q(K),it=Re.querySelector("#"+he);if(it)return it;const ce=(null!==(fe=K.ownerDocument)&&void 0!==fe?fe:document).createElement("style");return ce.id=he,ce.textContent=`@${de}keyframes ${he} { ${Z} } @${de}keyframes ${he}-alt { ${Z} }`,Re.appendChild(ce),ce})(ht,Qe,ke);pr.push(ot),L(ke,"animation-duration",`${Yn()}ms`),L(ke,"animation-timing-function",S()),L(ke,"animation-delay",`${Pn()}ms`),L(ke,"animation-fill-mode",Ut()),L(ke,"animation-direction",E());const xe=D()===1/0?"infinite":D().toString();L(ke,"animation-iteration-count",xe),L(ke,"animation-play-state","paused"),R&&L(ke,"animation-name",`${ot.id}-alt`),(0,k.r)(()=>{L(ke,"animation-name",ot.id||null)})}})},Jo=(R=!0)=>{(()=>{Jn.forEach(Qe=>Qe()),Lo.forEach(Qe=>Qe());const R=Ce,pe=Ie,ke=Me;W.forEach(Qe=>{const ot=Qe.classList;R.forEach(xe=>ot.add(xe)),pe.forEach(xe=>ot.remove(xe));for(const xe in ke)ke.hasOwnProperty(xe)&&L(Qe,xe,ke[xe])})})(),ce.length>0&&(Vn?(W.forEach(R=>{const pe=R.animate(ce,{id:ln,delay:Pn(),duration:Yn(),easing:S(),iterations:D(),fill:Ut(),direction:E()});pe.pause(),Mn.push(pe)}),Mn.length>0&&(Mn[0].onfinish=()=>{wo()})):Wr(R)),Ye=!0},Io=R=>{if(R=Math.min(Math.max(R,0),.9999),Vn)Mn.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+Yn()*R,pe.pause()});else{const pe=`-${Yn()*R}ms`;W.forEach(ke=>{ce.length>0&&(L(ke,"animation-delay",pe),L(ke,"animation-play-state","paused"))})}},oo=R=>{Mn.forEach(pe=>{pe.effect.updateTiming({delay:Pn(),duration:Yn(),easing:S(),iterations:D(),fill:Ut(),direction:E()})}),void 0!==R&&Io(R)},ts=(R=!0,pe)=>{(0,k.r)(()=>{W.forEach(ke=>{L(ke,"animation-name",ht||null),L(ke,"animation-duration",`${Yn()}ms`),L(ke,"animation-timing-function",S()),L(ke,"animation-delay",void 0!==pe?`-${pe*Yn()}ms`:`${Pn()}ms`),L(ke,"animation-fill-mode",Ut()||null),L(ke,"animation-direction",E()||null);const Qe=D()===1/0?"infinite":D().toString();L(ke,"animation-iteration-count",Qe),R&&L(ke,"animation-name",`${ht}-alt`),(0,k.r)(()=>{L(ke,"animation-name",ht||null)})})})},fo=(R=!1,pe=!0,ke)=>(R&&vn.forEach(Qe=>{Qe.update(R,pe,ke)}),Vn?oo(ke):ts(pe,ke),Ae),ns=()=>{Ye&&(Vn?Mn.forEach(R=>{R.pause()}):W.forEach(R=>{L(R,"animation-play-state","paused")}),Mt=!0)},Fs=()=>{O=void 0,wo()},cr=()=>{O&&clearTimeout(O)},A=R=>new Promise(pe=>{R?.sync&&(Ze=!0,mn(()=>Ze=!1,{oneTimeCallback:!0})),Ye||Jo(),q&&(Vn?(Io(0),oo()):ts(),q=!1),_e&&(vt=vn.length+1,_e=!1),mn(()=>pe(),{oneTimeCallback:!0}),vn.forEach(ke=>{ke.play()}),Vn?(Mn.forEach(R=>{R.play()}),(0===ce.length||0===W.length)&&wo()):(()=>{if(cr(),(0,k.r)(()=>{W.forEach(R=>{ce.length>0&&L(R,"animation-play-state","running")})}),0===ce.length||0===W.length)wo();else{const R=Pn()||0,pe=Yn()||0,ke=D()||1;isFinite(ke)&&(O=setTimeout(Fs,R+pe*ke+100)),((he,Z)=>{let K;const fe={passive:!0},de=it=>{he===it.target&&(K&&K(),cr(),(0,k.r)(()=>{W.forEach(R=>{U(R,"animation-duration"),U(R,"animation-delay"),U(R,"animation-play-state")}),(0,k.r)(wo)}))};he&&(he.addEventListener("webkitAnimationEnd",de,fe),he.addEventListener("animationend",de,fe),K=()=>{he.removeEventListener("webkitAnimationEnd",de,fe),he.removeEventListener("animationend",de,fe)})})(W[0])}})(),Mt=!1}),ge=(R,pe)=>{const ke=ce[0];return void 0===ke||void 0!==ke.offset&&0!==ke.offset?ce=[{offset:0,[R]:pe},...ce]:ke[R]=pe,Ae};return Ae={parentAnimation:Ne,elements:W,childAnimations:vn,id:ln,animationFinish:wo,from:ge,to:(R,pe)=>{const ke=ce[ce.length-1];return void 0===ke||void 0!==ke.offset&&1!==ke.offset?ce=[...ce,{offset:1,[R]:pe}]:ke[R]=pe,Ae},fromTo:(R,pe,ke)=>ge(R,pe).to(R,ke),parent:R=>(Ne=R,Ae),play:A,pause:()=>(vn.forEach(R=>{R.pause()}),ns(),Ae),stop:()=>{vn.forEach(R=>{R.stop()}),Ye&&(Ji(),Ye=!1),un=!1,Ze=!1,_e=!0,ye=void 0,tt=void 0,nt=void 0,vt=0,q=!1,Ve=!0,Mt=!1},destroy:R=>(vn.forEach(pe=>{pe.destroy(R)}),(R=>{Ji(),R&&Br()})(R),W.length=0,vn.length=0,ce.length=0,Yt.length=0,Jt.length=0,Ye=!1,_e=!0,Ae),keyframes:R=>{const pe=ce!==R;return ce=R,pe&&(R=>{Vn?Gr().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(R);else{const ke=new KeyframeEffect(pe.effect.target,R,pe.effect.getTiming());pe.effect=ke}}):Wr()})(ce),Ae},addAnimation:R=>{if(null!=R)if(Array.isArray(R))for(const pe of R)pe.parent(Ae),vn.push(pe);else R.parent(Ae),vn.push(R);return Ae},addElement:R=>{if(null!=R)if(1===R.nodeType)W.push(R);else if(R.length>=0)for(let pe=0;pe<R.length;pe++)W.push(R[pe]);else console.error("Invalid addElement value");return Ae},update:fo,fill:R=>(de=R,fo(!0),Ae),direction:R=>(it=R,fo(!0),Ae),iterations:R=>(Re=R,fo(!0),Ae),duration:R=>(!Vn&&0===R&&(R=1),K=R,fo(!0),Ae),easing:R=>(fe=R,fo(!0),Ae),delay:R=>(Z=R,fo(!0),Ae),getWebAnimations:Gr,getKeyframes:()=>ce,getFill:Ut,getDirection:E,getDelay:Pn,getIterations:D,getEasing:S,getDuration:Yn,afterAddRead:R=>(Yr.push(R),Ae),afterAddWrite:R=>(bi.push(R),Ae),afterClearStyles:(R=[])=>{for(const pe of R)Xe[pe]="";return Ae},afterStyles:(R={})=>(Xe=R,Ae),afterRemoveClass:R=>(Ue=Pe(Ue,R),Ae),afterAddClass:R=>(ne=Pe(ne,R),Ae),beforeAddRead:R=>(Jn.push(R),Ae),beforeAddWrite:R=>(Lo.push(R),Ae),beforeClearStyles:(R=[])=>{for(const pe of R)Me[pe]="";return Ae},beforeStyles:(R={})=>(Me=R,Ae),beforeRemoveClass:R=>(Ie=Pe(Ie,R),Ae),beforeAddClass:R=>(Ce=Pe(Ce,R),Ae),onFinish:mn,isRunning:()=>0!==vt&&!Mt,progressStart:(R=!1,pe)=>(vn.forEach(ke=>{ke.progressStart(R,pe)}),ns(),un=R,Ye||Jo(),fo(!1,!0,pe),Ae),progressStep:R=>(vn.forEach(pe=>{pe.progressStep(R)}),Io(R),Ae),progressEnd:(R,pe,ke)=>(un=!1,vn.forEach(Qe=>{Qe.progressEnd(R,pe,ke)}),void 0!==ke&&(tt=ke),q=!1,Ve=!0,0===R?(ye="reverse"===E()?"normal":"reverse","reverse"===ye&&(Ve=!1),Vn?(fo(),Io(1-pe)):(nt=(1-pe)*Yn()*-1,fo(!1,!1))):1===R&&(Vn?(fo(),Io(pe)):(nt=pe*Yn()*-1,fo(!1,!1))),void 0!==R&&(mn(()=>{tt=void 0,ye=void 0,nt=void 0},{oneTimeCallback:!0}),Ne||A()),Ae)}}},6379:($e,We,P)=>{"use strict";P.d(We,{G:()=>G});class l{constructor(L,U,ue,X,ie){this.id=U,this.name=ue,this.disableScroll=ie,this.priority=1e6*X+U,this.ctrl=L}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const L=this.ctrl.capture(this.name,this.id,this.priority);return L&&this.disableScroll&&this.ctrl.disableScroll(this.id),L}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class re{constructor(L,U,ue,X){this.id=U,this.disable=ue,this.disableScroll=X,this.ctrl=L}block(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.disableGesture(L,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const L of this.disable)this.ctrl.enableGesture(L,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const te="backdrop-no-scroll",G=new class k{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(L){var U;return new l(this,this.newID(),L.name,null!==(U=L.priority)&&void 0!==U?U:0,!!L.disableScroll)}createBlocker(L={}){return new re(this,this.newID(),L.disable,!!L.disableScroll)}start(L,U,ue){return this.canStart(L)?(this.requestedStart.set(U,ue),!0):(this.requestedStart.delete(U),!1)}capture(L,U,ue){if(!this.start(L,U,ue))return!1;const X=this.requestedStart;let ie=-1e4;if(X.forEach(V=>{ie=Math.max(ie,V)}),ie===ue){this.capturedId=U,X.clear();const V=new CustomEvent("ionGestureCaptured",{detail:{gestureName:L}});return document.dispatchEvent(V),!0}return X.delete(U),!1}release(L){this.requestedStart.delete(L),this.capturedId===L&&(this.capturedId=void 0)}disableGesture(L,U){let ue=this.disabledGestures.get(L);void 0===ue&&(ue=new Set,this.disabledGestures.set(L,ue)),ue.add(U)}enableGesture(L,U){const ue=this.disabledGestures.get(L);void 0!==ue&&ue.delete(U)}disableScroll(L){this.disabledScroll.add(L),1===this.disabledScroll.size&&document.body.classList.add(te)}enableScroll(L){this.disabledScroll.delete(L),0===this.disabledScroll.size&&document.body.classList.remove(te)}canStart(L){return!(void 0!==this.capturedId||this.isDisabled(L))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(L){const U=this.disabledGestures.get(L);return!!(U&&U.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:($e,We,P)=>{"use strict";P.r(We),P.d(We,{MENU_BACK_BUTTON_PRIORITY:()=>G,OVERLAY_BACK_BUTTON_PRIORITY:()=>te,blockHardwareBackButton:()=>l,startHardwareBackButton:()=>re});var k=P(3918);const l=()=>{document.addEventListener("backbutton",()=>{})},re=()=>{const Q=document;let L=!1;Q.addEventListener("backbutton",()=>{if(L)return;let U=0,ue=[];const X=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register($,H){ue.push({priority:$,handler:H,id:U++})}}});Q.dispatchEvent(X);const ie=function(){var $=(0,k.Z)(function*(H){try{if(H?.handler){const Pe=H.handler(V);null!=Pe&&(yield Pe)}}catch(Pe){console.error(Pe)}});return function(Pe){return $.apply(this,arguments)}}(),V=()=>{if(ue.length>0){let $={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ue.forEach(H=>{H.priority>=$.priority&&($=H)}),L=!0,ue=ue.filter(H=>H.id!==$.id),ie($).then(()=>L=!1)}};V()})},te=100,G=99},9259:($e,We,P)=>{"use strict";P.d(We,{a:()=>L,b:()=>U,c:()=>re,d:()=>H,e:()=>Pe,f:()=>$,g:()=>ue,h:()=>Re,i:()=>Q,j:()=>te,k:()=>V,l:()=>Le,m:()=>ie,n:()=>he,o:()=>fe,p:()=>K,q:()=>de,r:()=>X,s:()=>it,t:()=>k,u:()=>Z});const k=(ce,Ce=0)=>new Promise(Ie=>{l(ce,Ce,Ie)}),l=(ce,Ce=0,Ie)=>{let Ye,Ne;const Me={passive:!0},Ue=()=>{Ye&&Ye()},Xe=vt=>{(void 0===vt||ce===vt.target)&&(Ue(),Ie(vt))};return ce&&(ce.addEventListener("webkitTransitionEnd",Xe,Me),ce.addEventListener("transitionend",Xe,Me),Ne=setTimeout(Xe,Ce+500),Ye=()=>{Ne&&(clearTimeout(Ne),Ne=void 0),ce.removeEventListener("webkitTransitionEnd",Xe,Me),ce.removeEventListener("transitionend",Xe,Me)}),Ue},re=(ce,Ce)=>{ce.componentOnReady?ce.componentOnReady().then(Ie=>Ce(Ie)):X(()=>Ce(ce))},te=(ce,Ce=[])=>{const Ie={};return Ce.forEach(Ye=>{ce.hasAttribute(Ye)&&(null!==ce.getAttribute(Ye)&&(Ie[Ye]=ce.getAttribute(Ye)),ce.removeAttribute(Ye))}),Ie},G=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Q=(ce,Ce)=>{let Ie=G;return Ce&&Ce.length>0&&(Ie=Ie.filter(Ye=>!Ce.includes(Ye))),te(ce,Ie)},L=(ce,Ce,Ie,Ye)=>{var Ne;if(typeof window<"u"){const ne=null===(Ne=window?.Ionic)||void 0===Ne?void 0:Ne.config;if(ne){const Ue=ne.get("_ael");if(Ue)return Ue(ce,Ce,Ie,Ye);if(ne._ael)return ne._ael(ce,Ce,Ie,Ye)}}return ce.addEventListener(Ce,Ie,Ye)},U=(ce,Ce,Ie,Ye)=>{var Ne;if(typeof window<"u"){const ne=null===(Ne=window?.Ionic)||void 0===Ne?void 0:Ne.config;if(ne){const Ue=ne.get("_rel");if(Ue)return Ue(ce,Ce,Ie,Ye);if(ne._rel)return ne._rel(ce,Ce,Ie,Ye)}}return ce.removeEventListener(Ce,Ie,Ye)},ue=(ce,Ce=ce)=>ce.shadowRoot||Ce,X=ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce),ie=ce=>!!ce.shadowRoot&&!!ce.attachShadow,V=ce=>{const Ce=ce.closest("ion-item");return Ce?Ce.querySelector("ion-label"):null},$=ce=>{if(ce.focus(),ce.classList.contains("ion-focusable")){const Ce=ce.closest("ion-app");Ce&&Ce.setFocus([ce])}},H=(ce,Ce)=>{let Ie;const Ye=ce.getAttribute("aria-labelledby"),Ne=ce.id;let Me=null!==Ye&&""!==Ye.trim()?Ye:Ce+"-lbl",ne=null!==Ye&&""!==Ye.trim()?document.getElementById(Ye):V(ce);return ne?(null===Ye&&(ne.id=Me),Ie=ne.textContent,ne.setAttribute("aria-hidden","true")):""!==Ne.trim()&&(ne=document.querySelector(`label[for="${Ne}"]`),ne&&(""!==ne.id?Me=ne.id:ne.id=Me=`${Ne}-lbl`,Ie=ne.textContent)),{label:ne,labelId:Me,labelText:Ie}},Pe=(ce,Ce,Ie,Ye,Ne)=>{if(ce||ie(Ce)){let Me=Ce.querySelector("input.aux-input");Me||(Me=Ce.ownerDocument.createElement("input"),Me.type="hidden",Me.classList.add("aux-input"),Ce.appendChild(Me)),Me.disabled=Ne,Me.name=Ie,Me.value=Ye||""}},Le=(ce,Ce,Ie)=>Math.max(ce,Math.min(Ce,Ie)),he=(ce,Ce)=>{if(!ce){const Ie="ASSERT: "+Ce;throw console.error(Ie),new Error(Ie)}},Z=ce=>ce.timeStamp||Date.now(),K=ce=>{if(ce){const Ce=ce.changedTouches;if(Ce&&Ce.length>0){const Ie=Ce[0];return{x:Ie.clientX,y:Ie.clientY}}if(void 0!==ce.pageX)return{x:ce.pageX,y:ce.pageY}}return{x:0,y:0}},fe=ce=>{const Ce="rtl"===document.dir;switch(ce){case"start":return Ce;case"end":return!Ce;default:throw new Error(`"${ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Re=(ce,Ce)=>{const Ie=ce._original||ce;return{_original:ce,emit:de(Ie.emit.bind(Ie),Ce)}},de=(ce,Ce=0)=>{let Ie;return(...Ye)=>{clearTimeout(Ie),Ie=setTimeout(ce,Ce,...Ye)}},it=(ce,Ce)=>{if(ce??(ce={}),Ce??(Ce={}),ce===Ce)return!0;const Ie=Object.keys(ce);if(Ie.length!==Object.keys(Ce).length)return!1;for(const Ye of Ie)if(!(Ye in Ce)||ce[Ye]!==Ce[Ye])return!1;return!0}},919:($e,We,P)=>{"use strict";P.d(We,{L:()=>te,a:()=>G,b:()=>Q,c:()=>L,d:()=>U,e:()=>Ce,g:()=>Ne,l:()=>it,s:()=>Ie,t:()=>ie});var k=P(3918),l=P(1559),re=P(9259);const te="ionViewWillEnter",G="ionViewDidEnter",Q="ionViewWillLeave",L="ionViewDidLeave",U="ionViewWillUnload",ie=Me=>new Promise((ne,Ue)=>{(0,l.c)(()=>{V(Me),$(Me).then(Xe=>{Xe.animation&&Xe.animation.destroy(),H(Me),ne(Xe)},Xe=>{H(Me),Ue(Xe)})})}),V=Me=>{const ne=Me.enteringEl,Ue=Me.leavingEl;Ye(ne,Ue,Me.direction),Me.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),Ie(ne,!1),ne.style.setProperty("pointer-events","none"),Ue&&(Ie(Ue,!1),Ue.style.setProperty("pointer-events","none"))},$=function(){var Me=(0,k.Z)(function*(ne){const Ue=yield Pe(ne);return Ue&&l.B.isBrowser?Le(Ue,ne):he(ne)});return function(Ue){return Me.apply(this,arguments)}}(),H=Me=>{const ne=Me.enteringEl,Ue=Me.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==Ue&&(Ue.classList.remove("ion-page-invisible"),Ue.style.removeProperty("pointer-events"))},Pe=function(){var Me=(0,k.Z)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(P.bind(P,9078))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,4199))).mdTransitionAnimation:void 0});return function(Ue){return Me.apply(this,arguments)}}(),Le=function(){var Me=(0,k.Z)(function*(ne,Ue){yield Z(Ue,!0);const Xe=ne(Ue.baseEl,Ue);Re(Ue.enteringEl,Ue.leavingEl);const vt=yield fe(Xe,Ue);return Ue.progressCallback&&Ue.progressCallback(void 0),vt&&de(Ue.enteringEl,Ue.leavingEl),{hasCompleted:vt,animation:Xe}});return function(Ue,Xe){return Me.apply(this,arguments)}}(),he=function(){var Me=(0,k.Z)(function*(ne){const Ue=ne.enteringEl,Xe=ne.leavingEl;return yield Z(ne,!1),Re(Ue,Xe),de(Ue,Xe),{hasCompleted:!0}});return function(Ue){return Me.apply(this,arguments)}}(),Z=function(){var Me=(0,k.Z)(function*(ne,Ue){const vt=(void 0!==ne.deepWait?ne.deepWait:Ue)?[Ce(ne.enteringEl),Ce(ne.leavingEl)]:[ce(ne.enteringEl),ce(ne.leavingEl)];yield Promise.all(vt),yield K(ne.viewIsReady,ne.enteringEl)});return function(Ue,Xe){return Me.apply(this,arguments)}}(),K=function(){var Me=(0,k.Z)(function*(ne,Ue){ne&&(yield ne(Ue))});return function(Ue,Xe){return Me.apply(this,arguments)}}(),fe=(Me,ne)=>{const Ue=ne.progressCallback,Xe=new Promise(vt=>{Me.onFinish(un=>vt(1===un))});return Ue?(Me.progressStart(!0),Ue(Me)):Me.play(),Xe},Re=(Me,ne)=>{it(ne,Q),it(Me,te)},de=(Me,ne)=>{it(Me,G),it(ne,L)},it=(Me,ne)=>{if(Me){const Ue=new CustomEvent(ne,{bubbles:!1,cancelable:!1});Me.dispatchEvent(Ue)}},ce=Me=>Me?new Promise(ne=>(0,re.c)(Me,ne)):Promise.resolve(),Ce=function(){var Me=(0,k.Z)(function*(ne){const Ue=ne;if(Ue){if(null!=Ue.componentOnReady){if(null!=(yield Ue.componentOnReady()))return}else if(null!=Ue.__registerHost)return void(yield new Promise(vt=>(0,re.r)(vt)));yield Promise.all(Array.from(Ue.children).map(Ce))}});return function(Ue){return Me.apply(this,arguments)}}(),Ie=(Me,ne)=>{ne?(Me.setAttribute("aria-hidden","true"),Me.classList.add("ion-page-hidden")):(Me.hidden=!1,Me.removeAttribute("aria-hidden"),Me.classList.remove("ion-page-hidden"))},Ye=(Me,ne,Ue)=>{void 0!==Me&&(Me.style.zIndex="back"===Ue?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},Ne=Me=>Me.classList.contains("ion-page")?Me:Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Me},7351:($e,We,P)=>{"use strict";P.d(We,{m:()=>ie});var k=P(3918),l=P(159),re=P(9259),te=P(5823),G=P(5933);const Q=V=>(0,G.c)().duration(V?400:300),L=V=>{let $,H;const Pe=V.width+8,Le=(0,G.c)(),he=(0,G.c)();V.isEndSide?($=Pe+"px",H="0px"):($=-Pe+"px",H="0px"),Le.addElement(V.menuInnerEl).fromTo("transform",`translateX(${$})`,`translateX(${H})`);const K="ios"===(0,te.b)(V),fe=K?.2:.25;return he.addElement(V.backdropEl).fromTo("opacity",.01,fe),Q(K).addAnimation([Le,he])},U=V=>{let $,H;const Pe=(0,te.b)(V),Le=V.width;V.isEndSide?($=-Le+"px",H=Le+"px"):($=Le+"px",H=-Le+"px");const he=(0,G.c)().addElement(V.menuInnerEl).fromTo("transform",`translateX(${H})`,"translateX(0px)"),Z=(0,G.c)().addElement(V.contentEl).fromTo("transform","translateX(0px)",`translateX(${$})`),K=(0,G.c)().addElement(V.backdropEl).fromTo("opacity",.01,.32);return Q("ios"===Pe).addAnimation([he,Z,K])},ue=V=>{const $=(0,te.b)(V),H=V.width*(V.isEndSide?-1:1)+"px",Pe=(0,G.c)().addElement(V.contentEl).fromTo("transform","translateX(0px)",`translateX(${H})`);return Q("ios"===$).addAnimation(Pe)},ie=(()=>{const V=new Map,$=[],H=function(){var O=(0,k.Z)(function*(ye){const tt=yield Re(ye);return!!tt&&tt.open()});return function(tt){return O.apply(this,arguments)}}(),Pe=function(){var O=(0,k.Z)(function*(ye){const tt=yield void 0!==ye?Re(ye):de();return void 0!==tt&&tt.close()});return function(tt){return O.apply(this,arguments)}}(),Le=function(){var O=(0,k.Z)(function*(ye){const tt=yield Re(ye);return!!tt&&tt.toggle()});return function(tt){return O.apply(this,arguments)}}(),he=function(){var O=(0,k.Z)(function*(ye,tt){const nt=yield Re(tt);return nt&&(nt.disabled=!ye),nt});return function(tt,nt){return O.apply(this,arguments)}}(),Z=function(){var O=(0,k.Z)(function*(ye,tt){const nt=yield Re(tt);return nt&&(nt.swipeGesture=ye),nt});return function(tt,nt){return O.apply(this,arguments)}}(),K=function(){var O=(0,k.Z)(function*(ye){if(null!=ye){const tt=yield Re(ye);return void 0!==tt&&tt.isOpen()}return void 0!==(yield de())});return function(tt){return O.apply(this,arguments)}}(),fe=function(){var O=(0,k.Z)(function*(ye){const tt=yield Re(ye);return!!tt&&!tt.disabled});return function(tt){return O.apply(this,arguments)}}(),Re=function(){var O=(0,k.Z)(function*(ye){return yield Ze(),"start"===ye||"end"===ye?un(Ve=>Ve.side===ye&&!Ve.disabled)||un(Ve=>Ve.side===ye):null!=ye?un(nt=>nt.menuId===ye):un(nt=>!nt.disabled)||($.length>0?$[0].el:void 0)});return function(tt){return O.apply(this,arguments)}}(),de=function(){var O=(0,k.Z)(function*(){return yield Ze(),Ue()});return function(){return O.apply(this,arguments)}}(),it=function(){var O=(0,k.Z)(function*(){return yield Ze(),Xe()});return function(){return O.apply(this,arguments)}}(),ce=function(){var O=(0,k.Z)(function*(){return yield Ze(),vt()});return function(){return O.apply(this,arguments)}}(),Ce=(O,ye)=>{V.set(O,ye)},Ne=O=>{const ye=O.side;$.filter(tt=>tt.side===ye&&tt!==O).forEach(tt=>tt.disabled=!0)},Me=function(){var O=(0,k.Z)(function*(ye,tt,nt){if(vt())return!1;if(tt){const Ve=yield de();Ve&&ye.el!==Ve&&(yield Ve.setOpen(!1,!1))}return ye._setOpen(tt,nt)});return function(tt,nt,Ve){return O.apply(this,arguments)}}(),Ue=()=>un(O=>O._isOpen),Xe=()=>$.map(O=>O.el),vt=()=>$.some(O=>O.isAnimating),un=O=>{const ye=$.find(O);if(void 0!==ye)return ye.el},Ze=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(O=>new Promise(ye=>(0,re.c)(O,ye))));return Ce("reveal",ue),Ce("push",U),Ce("overlay",L),typeof document<"u"&&document.addEventListener("ionBackButton",O=>{const ye=Ue();ye&&O.detail.register(l.MENU_BACK_BUTTON_PRIORITY,()=>ye.close())}),{registerAnimation:Ce,get:Re,getMenus:it,getOpen:de,isEnabled:fe,swipeGesture:Z,isAnimating:ce,isOpen:K,enable:he,toggle:Le,close:Pe,open:H,_getOpenSync:Ue,_createAnimation:(O,ye)=>{const tt=V.get(O);if(!tt)throw new Error("animation not registered");return tt(ye)},_register:O=>{$.indexOf(O)<0&&(O.disabled||Ne(O),$.push(O))},_unregister:O=>{const ye=$.indexOf(O);ye>-1&&$.splice(ye,1)},_setOpen:Me,_setActiveMenu:Ne}})()},2286:($e,We,P)=>{"use strict";P.d(We,{w:()=>k});const k=typeof window<"u"?window:void 0},8759:($e,We,P)=>{"use strict";P.r(We),P.d(We,{GESTURE_CONTROLLER:()=>k.G,createGesture:()=>ue});var k=P(6379);const l=($,H,Pe,Le)=>{const he=re($)?{capture:!!Le.capture,passive:!!Le.passive}:!!Le.capture;let Z,K;return $.__zone_symbol__addEventListener?(Z="__zone_symbol__addEventListener",K="__zone_symbol__removeEventListener"):(Z="addEventListener",K="removeEventListener"),$[Z](H,Pe,he),()=>{$[K](H,Pe,he)}},re=$=>{if(void 0===te)try{const H=Object.defineProperty({},"passive",{get:()=>{te=!0}});$.addEventListener("optsTest",()=>{},H)}catch{te=!1}return!!te};let te;const L=$=>$ instanceof Document?$:$.ownerDocument,ue=$=>{let H=!1,Pe=!1,Le=!0,he=!1;const Z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},$),K=Z.canStart,fe=Z.onWillStart,Re=Z.onStart,de=Z.onEnd,it=Z.notCaptured,ce=Z.onMove,Ce=Z.threshold,Ie=Z.passive,Ye=Z.blurOnStart,Ne={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Me=(($,H,Pe)=>{const Le=Pe*(Math.PI/180),he="x"===$,Z=Math.cos(Le),K=H*H;let fe=0,Re=0,de=!1,it=0;return{start(ce,Ce){fe=ce,Re=Ce,it=0,de=!0},detect(ce,Ce){if(!de)return!1;const Ie=ce-fe,Ye=Ce-Re,Ne=Ie*Ie+Ye*Ye;if(Ne<K)return!1;const Me=Math.sqrt(Ne),ne=(he?Ie:Ye)/Me;return it=ne>Z?1:ne<-Z?-1:0,de=!1,!0},isGesture:()=>0!==it,getDirection:()=>it}})(Z.direction,Z.threshold,Z.maxAngle),ne=k.G.createGesture({name:$.gestureName,priority:$.gesturePriority,disableScroll:$.disableScroll}),vt=()=>{H&&(he=!1,ce&&ce(Ne))},un=()=>!!ne.capture()&&(H=!0,Le=!1,Ne.startX=Ne.currentX,Ne.startY=Ne.currentY,Ne.startTime=Ne.currentTime,fe?fe(Ne).then(O):O(),!0),O=()=>{Ye&&(()=>{if(typeof document<"u"){const q=document.activeElement;q?.blur&&q.blur()}})(),Re&&Re(Ne),Le=!0},ye=()=>{H=!1,Pe=!1,he=!1,Le=!0,ne.release()},tt=q=>{const _e=H,ht=Le;if(ye(),ht){if(X(Ne,q),_e)return void(de&&de(Ne));it&&it(Ne)}},nt=(($,H,Pe,Le,he)=>{let Z,K,fe,Re,de,it,ce,Ce=0;const Ie=Ze=>{Ce=Date.now()+2e3,H(Ze)&&(!K&&Pe&&(K=l($,"touchmove",Pe,he)),fe||(fe=l(Ze.target,"touchend",Ne,he)),Re||(Re=l(Ze.target,"touchcancel",Ne,he)))},Ye=Ze=>{Ce>Date.now()||H(Ze)&&(!it&&Pe&&(it=l(L($),"mousemove",Pe,he)),ce||(ce=l(L($),"mouseup",Me,he)))},Ne=Ze=>{ne(),Le&&Le(Ze)},Me=Ze=>{Ue(),Le&&Le(Ze)},ne=()=>{K&&K(),fe&&fe(),Re&&Re(),K=fe=Re=void 0},Ue=()=>{it&&it(),ce&&ce(),it=ce=void 0},Xe=()=>{ne(),Ue()},vt=(Ze=!0)=>{Ze?(Z||(Z=l($,"touchstart",Ie,he)),de||(de=l($,"mousedown",Ye,he))):(Z&&Z(),de&&de(),Z=de=void 0,Xe())};return{enable:vt,stop:Xe,destroy:()=>{vt(!1),Le=Pe=H=void 0}}})(Z.el,q=>{const _e=V(q);return!(Pe||!Le||(ie(q,Ne),Ne.startX=Ne.currentX,Ne.startY=Ne.currentY,Ne.startTime=Ne.currentTime=_e,Ne.velocityX=Ne.velocityY=Ne.deltaX=Ne.deltaY=0,Ne.event=q,K&&!1===K(Ne))||(ne.release(),!ne.start()))&&(Pe=!0,0===Ce?un():(Me.start(Ne.startX,Ne.startY),!0))},q=>{H?!he&&Le&&(he=!0,X(Ne,q),requestAnimationFrame(vt)):(X(Ne,q),Me.detect(Ne.currentX,Ne.currentY)&&(!Me.isGesture()||!un())&&Ve())},tt,{capture:!1,passive:Ie}),Ve=()=>{ye(),nt.stop(),it&&it(Ne)};return{enable(q=!0){q||(H&&tt(void 0),ye()),nt.enable(q)},destroy(){ne.destroy(),nt.destroy()}}},X=($,H)=>{if(!H)return;const Pe=$.currentX,Le=$.currentY,he=$.currentTime;ie(H,$);const Z=$.currentX,K=$.currentY,Re=($.currentTime=V(H))-he;if(Re>0&&Re<100){const it=(K-Le)/Re;$.velocityX=(Z-Pe)/Re*.7+.3*$.velocityX,$.velocityY=.7*it+.3*$.velocityY}$.deltaX=Z-$.startX,$.deltaY=K-$.startY,$.event=H},ie=($,H)=>{let Pe=0,Le=0;if($){const he=$.changedTouches;if(he&&he.length>0){const Z=he[0];Pe=Z.clientX,Le=Z.clientY}else void 0!==$.pageX&&(Pe=$.pageX,Le=$.pageY)}H.currentX=Pe,H.currentY=Le},V=$=>$.timeStamp||Date.now()},1559:($e,We,P)=>{"use strict";P.d(We,{B:()=>nr,H:()=>W,a:()=>Ve,b:()=>ci,c:()=>Ni,e:()=>Wt,f:()=>bs,g:()=>q,h:()=>Yt,i:()=>Nn,j:()=>E,k:()=>Qo,p:()=>Le,r:()=>es,s:()=>H});var k=P(3918);let re,te,G,Q=!1,L=!1,U=!1,ue=!1,X=!1;const ie=typeof window<"u"?window:{},V=ie.document||{head:{}},$={$flags$:0,$resourcesUrl$:"",jmp:A=>A(),raf:A=>requestAnimationFrame(A),ael:(A,N,ge,Ee)=>A.addEventListener(N,ge,Ee),rel:(A,N,ge,Ee)=>A.removeEventListener(N,ge,Ee),ce:(A,N)=>new CustomEvent(A,N)},H=A=>{Object.assign($,A)},Le=A=>Promise.resolve(A),he=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Z=(A,N,ge,Ee)=>{ge&&ge.map(([Fe,R,pe])=>{const ke=fe(A,Fe),Qe=K(N,pe),ot=Re(Fe);$.ael(ke,R,Qe,ot),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>$.rel(ke,R,Qe,ot))})},K=(A,N)=>ge=>{try{256&A.$flags$?A.$lazyInstance$[N](ge):(A.$queuedListeners$=A.$queuedListeners$||[]).push([N,ge])}catch(Ee){oo(Ee)}},fe=(A,N)=>4&N?V:8&N?ie:16&N?V.body:A,Re=A=>0!=(2&A),Ie="s-id",Ye="sty-id",ne="http://www.w3.org/1999/xlink",vt=new WeakMap,un=(A,N,ge)=>{let Ee=Ei.get(A);he&&ge?(Ee=Ee||new CSSStyleSheet,"string"==typeof Ee?Ee=N:Ee.replaceSync(N)):Ee=N,Ei.set(A,Ee)},Ze=(A,N,ge,Ee)=>{let Fe=ye(N,ge);const R=Ei.get(Fe);if(A=11===A.nodeType?A:V,R)if("string"==typeof R){let ke,pe=vt.get(A=A.head||A);pe||vt.set(A,pe=new Set),pe.has(Fe)||(A.host&&(ke=A.querySelector(`[${Ye}="${Fe}"]`))?ke.innerHTML=R:(ke=V.createElement("style"),ke.innerHTML=R,A.insertBefore(ke,A.querySelector("link"))),pe&&pe.add(Fe))}else A.adoptedStyleSheets.includes(R)||(A.adoptedStyleSheets=[...A.adoptedStyleSheets,R]);return Fe},ye=(A,N)=>"sc-"+(N&&32&A.$flags$?A.$tagName$+"-"+N:A.$tagName$),tt=A=>A.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Ve=A=>vs.push(A),q=A=>Wr(A).$modeName$,_e={},ln=A=>"object"==(A=typeof A)||"function"===A,Yt=(A,N,...ge)=>{let Ee=null,Fe=null,R=null,pe=!1,ke=!1;const Qe=[],ot=jt=>{for(let Et=0;Et<jt.length;Et++)Ee=jt[Et],Array.isArray(Ee)?ot(Ee):null!=Ee&&"boolean"!=typeof Ee&&((pe="function"!=typeof A&&!ln(Ee))&&(Ee=String(Ee)),pe&&ke?Qe[Qe.length-1].$text$+=Ee:Qe.push(pe?Jt(null,Ee):Ee),ke=pe)};if(ot(ge),N){N.key&&(Fe=N.key),N.name&&(R=N.name);{const jt=N.className||N.class;jt&&(N.class="object"!=typeof jt?jt:Object.keys(jt).filter(Et=>jt[Et]).join(" "))}}if("function"==typeof A)return A(null===N?{}:N,Qe,pr);const xe=Jt(A,null);return xe.$attrs$=N,Qe.length>0&&(xe.$children$=Qe),xe.$key$=Fe,xe.$name$=R,xe},Jt=(A,N)=>({$flags$:0,$tag$:A,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),W={},pr={forEach:(A,N)=>A.map(Jn).forEach(N),map:(A,N)=>A.map(Jn).map(N).map(Lo)},Jn=A=>({vattrs:A.$attrs$,vchildren:A.$children$,vkey:A.$key$,vname:A.$name$,vtag:A.$tag$,vtext:A.$text$}),Lo=A=>{if("function"==typeof A.vtag){const ge=Object.assign({},A.vattrs);return A.vkey&&(ge.key=A.vkey),A.vname&&(ge.name=A.vname),Yt(A.vtag,ge,...A.vchildren||[])}const N=Jt(A.vtag,A.vtext);return N.$attrs$=A.vattrs,N.$children$=A.vchildren,N.$key$=A.vkey,N.$name$=A.vname,N},Yr=(A,N,ge,Ee,Fe,R)=>{if(ge!==Ee){let pe=Io(A,N),ke=N.toLowerCase();if("class"===N){const Qe=A.classList,ot=Mn(ge),xe=Mn(Ee);Qe.remove(...ot.filter(jt=>jt&&!xe.includes(jt))),Qe.add(...xe.filter(jt=>jt&&!ot.includes(jt)))}else if("style"===N){for(const Qe in ge)(!Ee||null==Ee[Qe])&&(Qe.includes("-")?A.style.removeProperty(Qe):A.style[Qe]="");for(const Qe in Ee)(!ge||Ee[Qe]!==ge[Qe])&&(Qe.includes("-")?A.style.setProperty(Qe,Ee[Qe]):A.style[Qe]=Ee[Qe])}else if("key"!==N)if("ref"===N)Ee&&Ee(A);else if(pe||"o"!==N[0]||"n"!==N[1]){const Qe=ln(Ee);if((pe||Qe&&null!==Ee)&&!Fe)try{if(A.tagName.includes("-"))A[N]=Ee;else{const xe=Ee??"";"list"===N?pe=!1:(null==ge||A[N]!=xe)&&(A[N]=xe)}}catch{}let ot=!1;ke!==(ke=ke.replace(/^xlink\:?/,""))&&(N=ke,ot=!0),null==Ee||!1===Ee?(!1!==Ee||""===A.getAttribute(N))&&(ot?A.removeAttributeNS(ne,N):A.removeAttribute(N)):(!pe||4&R||Fe)&&!Qe&&(Ee=!0===Ee?"":Ee,ot?A.setAttributeNS(ne,N,Ee):A.setAttribute(N,Ee))}else N="-"===N[2]?N.slice(3):Io(ie,ke)?ke.slice(2):ke[2]+N.slice(3),ge&&$.rel(A,N,ge,!1),Ee&&$.ael(A,N,Ee,!1)}},bi=/\s/,Mn=A=>A?A.split(bi):[],uo=(A,N,ge,Ee)=>{const Fe=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,R=A&&A.$attrs$||_e,pe=N.$attrs$||_e;for(Ee in R)Ee in pe||Yr(Fe,Ee,R[Ee],void 0,ge,N.$flags$);for(Ee in pe)Yr(Fe,Ee,R[Ee],pe[Ee],ge,N.$flags$)},Vn=(A,N,ge,Ee)=>{const Fe=N.$children$[ge];let pe,ke,Qe,R=0;if(Q||(U=!0,"slot"===Fe.$tag$&&(re&&Ee.classList.add(re+"-s"),Fe.$flags$|=Fe.$children$?2:1)),null!==Fe.$text$)pe=Fe.$elm$=V.createTextNode(Fe.$text$);else if(1&Fe.$flags$)pe=Fe.$elm$=V.createTextNode("");else{if(ue||(ue="svg"===Fe.$tag$),pe=Fe.$elm$=V.createElementNS(ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Fe.$flags$?"slot-fb":Fe.$tag$),ue&&"foreignObject"===Fe.$tag$&&(ue=!1),uo(null,Fe,ue),(A=>null!=A)(re)&&pe["s-si"]!==re&&pe.classList.add(pe["s-si"]=re),Fe.$children$)for(R=0;R<Fe.$children$.length;++R)ke=Vn(A,Fe,R,pe),ke&&pe.appendChild(ke);"svg"===Fe.$tag$?ue=!1:"foreignObject"===pe.tagName&&(ue=!0)}return pe["s-hn"]=G,3&Fe.$flags$&&(pe["s-sr"]=!0,pe["s-cr"]=te,pe["s-sn"]=Fe.$name$||"",Qe=A&&A.$children$&&A.$children$[ge],Qe&&Qe.$tag$===Fe.$tag$&&A.$elm$&&wi(A.$elm$,!1)),pe},wi=(A,N)=>{$.$flags$|=1;const ge=A.childNodes;for(let Ee=ge.length-1;Ee>=0;Ee--){const Fe=ge[Ee];Fe["s-hn"]!==G&&Fe["s-ol"]&&(mn(Fe).insertBefore(Fe,no(Fe)),Fe["s-ol"].remove(),Fe["s-ol"]=void 0,U=!0),N&&wi(Fe,N)}$.$flags$&=-2},Gr=(A,N,ge,Ee,Fe,R)=>{let ke,pe=A["s-cr"]&&A["s-cr"].parentNode||A;for(pe.shadowRoot&&pe.tagName===G&&(pe=pe.shadowRoot);Fe<=R;++Fe)Ee[Fe]&&(ke=Vn(null,ge,Fe,A),ke&&(Ee[Fe].$elm$=ke,pe.insertBefore(ke,no(N))))},Ar=(A,N,ge,Ee,Fe)=>{for(;N<=ge;++N)(Ee=A[N])&&(Fe=Ee.$elm$,Ge(Ee),L=!0,Fe["s-ol"]?Fe["s-ol"].remove():wi(Fe,!0),Fe.remove())},$r=(A,N)=>A.$tag$===N.$tag$&&("slot"===A.$tag$?A.$name$===N.$name$:A.$key$===N.$key$),no=A=>A&&A["s-ol"]||A,mn=A=>(A["s-ol"]?A["s-ol"]:A).parentNode,Xr=(A,N)=>{const ge=N.$elm$=A.$elm$,Ee=A.$children$,Fe=N.$children$,R=N.$tag$,pe=N.$text$;let ke;null===pe?(ue="svg"===R||"foreignObject"!==R&&ue,"slot"===R||uo(A,N,ue),null!==Ee&&null!==Fe?((A,N,ge,Ee)=>{let ko,Jr,Fe=0,R=0,pe=0,ke=0,Qe=N.length-1,ot=N[0],xe=N[Qe],jt=Ee.length-1,Et=Ee[0],dn=Ee[jt];for(;Fe<=Qe&&R<=jt;)if(null==ot)ot=N[++Fe];else if(null==xe)xe=N[--Qe];else if(null==Et)Et=Ee[++R];else if(null==dn)dn=Ee[--jt];else if($r(ot,Et))Xr(ot,Et),ot=N[++Fe],Et=Ee[++R];else if($r(xe,dn))Xr(xe,dn),xe=N[--Qe],dn=Ee[--jt];else if($r(ot,dn))("slot"===ot.$tag$||"slot"===dn.$tag$)&&wi(ot.$elm$.parentNode,!1),Xr(ot,dn),A.insertBefore(ot.$elm$,xe.$elm$.nextSibling),ot=N[++Fe],dn=Ee[--jt];else if($r(xe,Et))("slot"===ot.$tag$||"slot"===dn.$tag$)&&wi(xe.$elm$.parentNode,!1),Xr(xe,Et),A.insertBefore(xe.$elm$,ot.$elm$),xe=N[--Qe],Et=Ee[++R];else{for(pe=-1,ke=Fe;ke<=Qe;++ke)if(N[ke]&&null!==N[ke].$key$&&N[ke].$key$===Et.$key$){pe=ke;break}pe>=0?(Jr=N[pe],Jr.$tag$!==Et.$tag$?ko=Vn(N&&N[R],ge,pe,A):(Xr(Jr,Et),N[pe]=void 0,ko=Jr.$elm$),Et=Ee[++R]):(ko=Vn(N&&N[R],ge,R,A),Et=Ee[++R]),ko&&mn(ot.$elm$).insertBefore(ko,no(ot.$elm$))}Fe>Qe?Gr(A,null==Ee[jt+1]?null:Ee[jt+1].$elm$,ge,Ee,R,jt):R>jt&&Ar(N,Fe,Qe)})(ge,Ee,N,Fe):null!==Fe?(null!==A.$text$&&(ge.textContent=""),Gr(ge,null,N,Fe,0,Fe.length-1)):null!==Ee&&Ar(Ee,0,Ee.length-1),ue&&"svg"===R&&(ue=!1)):(ke=ge["s-cr"])?ke.parentNode.textContent=pe:A.$text$!==pe&&(ge.data=pe)},Ji=A=>{const N=A.childNodes;let ge,Ee,Fe,R,pe,ke;for(Ee=0,Fe=N.length;Ee<Fe;Ee++)if(ge=N[Ee],1===ge.nodeType){if(ge["s-sr"])for(pe=ge["s-sn"],ge.hidden=!1,R=0;R<Fe;R++)if(ke=N[R].nodeType,N[R]["s-hn"]!==ge["s-hn"]||""!==pe){if(1===ke&&pe===N[R].getAttribute("slot")){ge.hidden=!0;break}}else if(1===ke||3===ke&&""!==N[R].textContent.trim()){ge.hidden=!0;break}Ji(ge)}},Br=[],ct=A=>{let N,ge,Ee,Fe,R,pe,ke=0;const Qe=A.childNodes,ot=Qe.length;for(;ke<ot;ke++){if(N=Qe[ke],N["s-sr"]&&(ge=N["s-cr"])&&ge.parentNode)for(Ee=ge.parentNode.childNodes,Fe=N["s-sn"],pe=Ee.length-1;pe>=0;pe--)ge=Ee[pe],!ge["s-cn"]&&!ge["s-nr"]&&ge["s-hn"]!==N["s-hn"]&&(le(ge,Fe)?(R=Br.find(xe=>xe.$nodeToRelocate$===ge),L=!0,ge["s-sn"]=ge["s-sn"]||Fe,R?R.$slotRefNode$=N:Br.push({$slotRefNode$:N,$nodeToRelocate$:ge}),ge["s-sr"]&&Br.map(xe=>{le(xe.$nodeToRelocate$,ge["s-sn"])&&(R=Br.find(jt=>jt.$nodeToRelocate$===ge),R&&!xe.$slotRefNode$&&(xe.$slotRefNode$=R.$slotRefNode$))})):Br.some(xe=>xe.$nodeToRelocate$===ge)||Br.push({$nodeToRelocate$:ge}));1===N.nodeType&&ct(N)}},le=(A,N)=>1===A.nodeType?null===A.getAttribute("slot")&&""===N||A.getAttribute("slot")===N:A["s-sn"]===N||""===N,Ge=A=>{A.$attrs$&&A.$attrs$.ref&&A.$attrs$.ref(null),A.$children$&&A.$children$.map(Ge)},Nn=A=>Wr(A).$hostElement$,Wt=(A,N,ge)=>{const Ee=Nn(A);return{emit:Fe=>Pt(Ee,N,{bubbles:!!(4&ge),composed:!!(2&ge),cancelable:!!(1&ge),detail:Fe})}},Pt=(A,N,ge)=>{const Ee=$.ce(N,ge);return A.dispatchEvent(Ee),Ee},mr=(A,N)=>{N&&!A.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(ge=>A.$onRenderResolve$=ge))},Xt=(A,N)=>{if(A.$flags$|=16,!(4&A.$flags$))return mr(A,A.$ancestorComponent$),Ni(()=>er(A,N));A.$flags$|=512},er=(A,N)=>{const Ee=A.$lazyInstance$;let Fe;return N&&(A.$flags$|=256,A.$queuedListeners$&&(A.$queuedListeners$.map(([R,pe])=>Yn(Ee,R,pe)),A.$queuedListeners$=null),Fe=Yn(Ee,"componentWillLoad")),Fe=D(Fe,()=>Yn(Ee,"componentWillRender")),D(Fe,()=>tr(A,Ee,N))},tr=function(){var A=(0,k.Z)(function*(N,ge,Ee){const Fe=N.$hostElement$,pe=Fe["s-rc"];Ee&&(A=>{const N=A.$cmpMeta$,ge=A.$hostElement$,Ee=N.$flags$,R=Ze(ge.shadowRoot?ge.shadowRoot:ge.getRootNode(),N,A.$modeName$);10&Ee&&(ge["s-sc"]=R,ge.classList.add(R+"-h"),2&Ee&&ge.classList.add(R+"-s"))})(N);cn(N,ge),pe&&(pe.map(Qe=>Qe()),Fe["s-rc"]=void 0);{const Qe=Fe["s-p"],ot=()=>Ut(N);0===Qe.length?ot():(Promise.all(Qe).then(ot),N.$flags$|=4,Qe.length=0)}});return function(ge,Ee,Fe){return A.apply(this,arguments)}}(),cn=(A,N,ge)=>{try{N=N.render&&N.render(),A.$flags$&=-17,A.$flags$|=2,((A,N)=>{const ge=A.$hostElement$,Ee=A.$cmpMeta$,Fe=A.$vnode$||Jt(null,null),R=(A=>A&&A.$tag$===W)(N)?N:Yt(null,null,N);if(G=ge.tagName,Ee.$attrsToReflect$&&(R.$attrs$=R.$attrs$||{},Ee.$attrsToReflect$.map(([pe,ke])=>R.$attrs$[ke]=ge[pe])),R.$tag$=null,R.$flags$|=4,A.$vnode$=R,R.$elm$=Fe.$elm$=ge.shadowRoot||ge,re=ge["s-sc"],te=ge["s-cr"],Q=0!=(1&Ee.$flags$),L=!1,Xr(Fe,R),$.$flags$|=1,U){ct(R.$elm$);let pe,ke,Qe,ot,xe,jt,Et=0;for(;Et<Br.length;Et++)pe=Br[Et],ke=pe.$nodeToRelocate$,ke["s-ol"]||(Qe=V.createTextNode(""),Qe["s-nr"]=ke,ke.parentNode.insertBefore(ke["s-ol"]=Qe,ke));for(Et=0;Et<Br.length;Et++)if(pe=Br[Et],ke=pe.$nodeToRelocate$,pe.$slotRefNode$){for(ot=pe.$slotRefNode$.parentNode,xe=pe.$slotRefNode$.nextSibling,Qe=ke["s-ol"];Qe=Qe.previousSibling;)if(jt=Qe["s-nr"],jt&&jt["s-sn"]===ke["s-sn"]&&ot===jt.parentNode&&(jt=jt.nextSibling,!jt||!jt["s-nr"])){xe=jt;break}(!xe&&ot!==ke.parentNode||ke.nextSibling!==xe)&&ke!==xe&&(!ke["s-hn"]&&ke["s-ol"]&&(ke["s-hn"]=ke["s-ol"].parentNode.nodeName),ot.insertBefore(ke,xe))}else 1===ke.nodeType&&(ke.hidden=!0)}L&&Ji(R.$elm$),$.$flags$&=-2,Br.length=0})(A,N)}catch(Ee){oo(Ee,A.$hostElement$)}return null},Ut=A=>{const ge=A.$hostElement$,Fe=A.$lazyInstance$,R=A.$ancestorComponent$;Yn(Fe,"componentDidRender"),64&A.$flags$?Yn(Fe,"componentDidUpdate"):(A.$flags$|=64,Pn(ge),Yn(Fe,"componentDidLoad"),A.$onReadyResolve$(ge),R||S()),A.$onInstanceResolve$(ge),A.$onRenderResolve$&&(A.$onRenderResolve$(),A.$onRenderResolve$=void 0),512&A.$flags$&&di(()=>Xt(A,!1)),A.$flags$&=-517},E=A=>{{const N=Wr(A),ge=N.$hostElement$.isConnected;return ge&&2==(18&N.$flags$)&&Xt(N,!1),ge}},S=A=>{Pn(V.documentElement),di(()=>Pt(ie,"appload",{detail:{namespace:"ionic"}}))},Yn=(A,N,ge)=>{if(A&&A[N])try{return A[N](ge)}catch(Ee){oo(Ee)}},D=(A,N)=>A&&A.then?A.then(N):N(),Pn=A=>A.classList.add("hydrated"),Xo=(A,N,ge,Ee,Fe,R,pe)=>{let ke,Qe,ot,xe;if(1===R.nodeType){for(ke=R.getAttribute("c-id"),ke&&(Qe=ke.split("."),(Qe[0]===pe||"0"===Qe[0])&&(ot={$flags$:0,$hostId$:Qe[0],$nodeId$:Qe[1],$depth$:Qe[2],$index$:Qe[3],$tag$:R.tagName.toLowerCase(),$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(ot),R.removeAttribute("c-id"),A.$children$||(A.$children$=[]),A.$children$[ot.$index$]=ot,A=ot,Ee&&"0"===ot.$depth$&&(Ee[ot.$index$]=ot.$elm$))),xe=R.childNodes.length-1;xe>=0;xe--)Xo(A,N,ge,Ee,Fe,R.childNodes[xe],pe);if(R.shadowRoot)for(xe=R.shadowRoot.childNodes.length-1;xe>=0;xe--)Xo(A,N,ge,Ee,Fe,R.shadowRoot.childNodes[xe],pe)}else if(8===R.nodeType)Qe=R.nodeValue.split("."),(Qe[1]===pe||"0"===Qe[1])&&(ke=Qe[0],ot={$flags$:0,$hostId$:Qe[1],$nodeId$:Qe[2],$depth$:Qe[3],$index$:Qe[4],$elm$:R,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===ke?(ot.$elm$=R.nextSibling,ot.$elm$&&3===ot.$elm$.nodeType&&(ot.$text$=ot.$elm$.textContent,N.push(ot),R.remove(),A.$children$||(A.$children$=[]),A.$children$[ot.$index$]=ot,Ee&&"0"===ot.$depth$&&(Ee[ot.$index$]=ot.$elm$))):ot.$hostId$===pe&&("s"===ke?(ot.$tag$="slot",R["s-sn"]=Qe[5]?ot.$name$=Qe[5]:"",R["s-sr"]=!0,Ee&&(ot.$elm$=V.createElement(ot.$tag$),ot.$name$&&ot.$elm$.setAttribute("name",ot.$name$),R.parentNode.insertBefore(ot.$elm$,R),R.remove(),"0"===ot.$depth$&&(Ee[ot.$index$]=ot.$elm$)),ge.push(ot),A.$children$||(A.$children$=[]),A.$children$[ot.$index$]=ot):"r"===ke&&(Ee?R.remove():(Fe["s-cr"]=R,R["s-cn"]=!0))));else if(A&&"style"===A.$tag$){const jt=Jt(null,R.textContent);jt.$elm$=R,jt.$index$="0",A.$children$=[jt]}},bo=(A,N)=>{if(1===A.nodeType){let ge=0;for(;ge<A.childNodes.length;ge++)bo(A.childNodes[ge],N);if(A.shadowRoot)for(ge=0;ge<A.shadowRoot.childNodes.length;ge++)bo(A.shadowRoot.childNodes[ge],N)}else if(8===A.nodeType){const ge=A.nodeValue.split(".");"o"===ge[0]&&(N.set(ge[1]+"."+ge[2],A),A.nodeValue="",A["s-en"]=ge[3])}},Si=(A,N,ge)=>{if(N.$members$){A.watchers&&(N.$watchers$=A.watchers);const Ee=Object.entries(N.$members$),Fe=A.prototype;if(Ee.map(([R,[pe]])=>{31&pe||2&ge&&32&pe?Object.defineProperty(Fe,R,{get(){return((A,N)=>Wr(this).$instanceValues$.get(N))(0,R)},set(ke){((A,N,ge,Ee)=>{const Fe=Wr(A),R=Fe.$hostElement$,pe=Fe.$instanceValues$.get(N),ke=Fe.$flags$,Qe=Fe.$lazyInstance$;ge=((A,N)=>null==A||ln(A)?A:4&N?"false"!==A&&(""===A||!!A):2&N?parseFloat(A):1&N?String(A):A)(ge,Ee.$members$[N][0]);const ot=Number.isNaN(pe)&&Number.isNaN(ge);if((!(8&ke)||void 0===pe)&&ge!==pe&&!ot&&(Fe.$instanceValues$.set(N,ge),Qe)){if(Ee.$watchers$&&128&ke){const jt=Ee.$watchers$[N];jt&&jt.map(Et=>{try{Qe[Et](ge,pe,N)}catch(dn){oo(dn,R)}})}2==(18&ke)&&Xt(Fe,!1)}})(this,R,ke,N)},configurable:!0,enumerable:!0}):1&ge&&64&pe&&Object.defineProperty(Fe,R,{value(...ke){const Qe=Wr(this);return Qe.$onInstancePromise$.then(()=>Qe.$lazyInstance$[R](...ke))}})}),1&ge){const R=new Map;Fe.attributeChangedCallback=function(pe,ke,Qe){$.jmp(()=>{const ot=R.get(pe);if(this.hasOwnProperty(ot))Qe=this[ot],delete this[ot];else if(Fe.hasOwnProperty(ot)&&"number"==typeof this[ot]&&this[ot]==Qe)return;this[ot]=(null!==Qe||"boolean"!=typeof this[ot])&&Qe})},A.observedAttributes=Ee.filter(([pe,ke])=>15&ke[0]).map(([pe,ke])=>{const Qe=ke[1]||pe;return R.set(Qe,pe),512&ke[0]&&N.$attrsToReflect$.push([pe,Qe]),Qe})}}return A},ro=function(){var A=(0,k.Z)(function*(N,ge,Ee,Fe,R){if(!(32&ge.$flags$)){{if(ge.$flags$|=32,(R=fo(Ee)).then){const ot=()=>{};R=yield R,ot()}R.isProxied||(Ee.$watchers$=R.watchers,Si(R,Ee,2),R.isProxied=!0);const Qe=()=>{};ge.$flags$|=8;try{new R(ge)}catch(ot){oo(ot)}ge.$flags$&=-9,ge.$flags$|=128,Qe(),Vo(ge.$lazyInstance$)}if(R.style){let Qe=R.style;"string"!=typeof Qe&&(Qe=Qe[ge.$modeName$=(A=>vs.map(N=>N(A)).find(N=>!!N))(N)]);const ot=ye(Ee,ge.$modeName$);if(!Ei.has(ot)){const xe=()=>{};un(ot,Qe,!!(1&Ee.$flags$)),xe()}}}const pe=ge.$ancestorComponent$,ke=()=>Xt(ge,!0);pe&&pe["s-rc"]?pe["s-rc"].push(ke):ke()});return function(ge,Ee,Fe,R,pe){return A.apply(this,arguments)}}(),Vo=A=>{Yn(A,"connectedCallback")},Uo=A=>{const N=A["s-cr"]=V.createComment("");N["s-cn"]=!0,A.insertBefore(N,A.firstChild)},ci=(A,N={})=>{const Ee=[],Fe=N.exclude||[],R=ie.customElements,pe=V.head,ke=pe.querySelector("meta[charset]"),Qe=V.createElement("style"),ot=[],xe=V.querySelectorAll(`[${Ye}]`);let jt,Et=!0,dn=0;for(Object.assign($,N),$.$resourcesUrl$=new URL(N.resourcesUrl||"./",V.baseURI).href,$.$flags$|=2;dn<xe.length;dn++)un(xe[dn].getAttribute(Ye),tt(xe[dn].innerHTML),!0);A.map(ko=>{ko[1].map(Jr=>{const To={$flags$:Jr[0],$tagName$:Jr[1],$members$:Jr[2],$listeners$:Jr[3]};To.$members$=Jr[2],To.$listeners$=Jr[3],To.$attrsToReflect$=[],To.$watchers$={};const fi=To.$tagName$,wr=class extends HTMLElement{constructor(rs){super(rs),Jo(rs=this,To),1&To.$flags$&&rs.attachShadow({mode:"open",delegatesFocus:!!(16&To.$flags$)})}connectedCallback(){jt&&(clearTimeout(jt),jt=null),Et?ot.push(this):$.jmp(()=>(A=>{if(!(1&$.$flags$)){const N=Wr(A),ge=N.$cmpMeta$,Ee=()=>{};if(1&N.$flags$)Z(A,N,ge.$listeners$),Vo(N.$lazyInstance$);else{let Fe;if(N.$flags$|=1,Fe=A.getAttribute(Ie),Fe){if(1&ge.$flags$){const R=Ze(A.shadowRoot,ge,A.getAttribute("s-mode"));A.classList.remove(R+"-h",R+"-s")}((A,N,ge,Ee)=>{const R=A.shadowRoot,pe=[],Qe=R?[]:null,ot=Ee.$vnode$=Jt(N,null);$.$orgLocNodes$||bo(V.body,$.$orgLocNodes$=new Map),A[Ie]=ge,A.removeAttribute(Ie),Xo(ot,pe,[],Qe,A,A,ge),pe.map(xe=>{const jt=xe.$hostId$+"."+xe.$nodeId$,Et=$.$orgLocNodes$.get(jt),dn=xe.$elm$;Et&&""===Et["s-en"]&&Et.parentNode.insertBefore(dn,Et.nextSibling),R||(dn["s-hn"]=N,Et&&(dn["s-ol"]=Et,dn["s-ol"]["s-nr"]=dn)),$.$orgLocNodes$.delete(jt)}),R&&Qe.map(xe=>{xe&&R.appendChild(xe)})})(A,ge.$tagName$,Fe,N)}Fe||12&ge.$flags$&&Uo(A);{let R=A;for(;R=R.parentNode||R.host;)if(1===R.nodeType&&R.hasAttribute("s-id")&&R["s-p"]||R["s-p"]){mr(N,N.$ancestorComponent$=R);break}}ge.$members$&&Object.entries(ge.$members$).map(([R,[pe]])=>{if(31&pe&&A.hasOwnProperty(R)){const ke=A[R];delete A[R],A[R]=ke}}),di(()=>ro(A,N,ge))}Ee()}})(this))}disconnectedCallback(){$.jmp(()=>(A=>{if(!(1&$.$flags$)){const N=Wr(this),ge=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(Ee=>Ee()),N.$rmListeners$=void 0),Yn(ge,"disconnectedCallback")}})())}componentOnReady(){return Wr(this).$onReadyPromise$}};To.$lazyBundleId$=ko[0],!Fe.includes(fi)&&!R.get(fi)&&(Ee.push(fi),R.define(fi,Si(wr,To,1)))})}),Qe.innerHTML=Ee+"{visibility:hidden}.hydrated{visibility:inherit}",Qe.setAttribute("data-styles",""),pe.insertBefore(Qe,ke?ke.nextSibling:pe.firstChild),Et=!1,ot.length?ot.map(ko=>ko.connectedCallback()):$.jmp(()=>jt=setTimeout(S,30))},Qo=A=>{const N=new URL(A,$.$resourcesUrl$);return N.origin!==ie.location.origin?N.href:N.pathname},wo=new WeakMap,Wr=A=>wo.get(A),es=(A,N)=>wo.set(N.$lazyInstance$=A,N),Jo=(A,N)=>{const ge={$flags$:0,$hostElement$:A,$cmpMeta$:N,$instanceValues$:new Map};return ge.$onInstancePromise$=new Promise(Ee=>ge.$onInstanceResolve$=Ee),ge.$onReadyPromise$=new Promise(Ee=>ge.$onReadyResolve$=Ee),A["s-p"]=[],A["s-rc"]=[],Z(A,ge,N.$listeners$),wo.set(A,ge)},Io=(A,N)=>N in A,oo=(A,N)=>(0,console.error)(A,N),ts=new Map,fo=(A,N,ge)=>{const Ee=A.$tagName$.replace(/-/g,"_"),Fe=A.$lazyBundleId$,R=ts.get(Fe);return R?R[Ee]:P(863)(`./${Fe}.entry.js`).then(pe=>(ts.set(Fe,pe),pe[Ee]),oo)},Ei=new Map,vs=[],ui=[],ns=[],Rs=(A,N)=>ge=>{A.push(ge),X||(X=!0,N&&4&$.$flags$?di(cr):$.raf(cr))},Fs=A=>{for(let N=0;N<A.length;N++)try{A[N](performance.now())}catch(ge){oo(ge)}A.length=0},cr=()=>{Fs(ui),Fs(ns),(X=ui.length>0)&&$.raf(cr)},di=A=>Le().then(A),bs=Rs(ui,!1),Ni=Rs(ns,!0),nr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5823:($e,We,P)=>{"use strict";P.d(We,{a:()=>ie,b:()=>vt,c:()=>re,g:()=>X,i:()=>un});var k=P(1559);class l{constructor(){this.m=new Map}reset(O){this.m=new Map(Object.entries(O))}get(O,ye){const tt=this.m.get(O);return void 0!==tt?tt:ye}getBoolean(O,ye=!1){const tt=this.m.get(O);return void 0===tt?ye:"string"==typeof tt?"true"===tt:!!tt}getNumber(O,ye){const tt=parseFloat(this.m.get(O));return isNaN(tt)?void 0!==ye?ye:NaN:tt}set(O,ye){this.m.set(O,ye)}}const re=new l,U="ionic:",ue="ionic-persist-config",X=Ze=>V(Ze),ie=(Ze,O)=>("string"==typeof Ze&&(O=Ze,Ze=void 0),X(Ze).includes(O)),V=(Ze=window)=>{if(typeof Ze>"u")return[];Ze.Ionic=Ze.Ionic||{};let O=Ze.Ionic.platforms;return null==O&&(O=Ze.Ionic.platforms=$(Ze),O.forEach(ye=>Ze.document.documentElement.classList.add(`plt-${ye}`))),O},$=Ze=>{const O=re.get("platform");return Object.keys(Ue).filter(ye=>{const tt=O?.[ye];return"function"==typeof tt?tt(Ze):Ue[ye](Ze)})},Pe=Ze=>!!(Me(Ze,/iPad/i)||Me(Ze,/Macintosh/i)&&de(Ze)),Z=Ze=>Me(Ze,/android|sink/i),de=Ze=>ne(Ze,"(any-pointer:coarse)"),ce=Ze=>Ce(Ze)||Ie(Ze),Ce=Ze=>!!(Ze.cordova||Ze.phonegap||Ze.PhoneGap),Ie=Ze=>!!Ze.Capacitor?.isNative,Me=(Ze,O)=>O.test(Ze.navigator.userAgent),ne=(Ze,O)=>{var ye;return null===(ye=Ze.matchMedia)||void 0===ye?void 0:ye.call(Ze,O).matches},Ue={ipad:Pe,iphone:Ze=>Me(Ze,/iPhone/i),ios:Ze=>Me(Ze,/iPhone|iPod/i)||Pe(Ze),android:Z,phablet:Ze=>{const O=Ze.innerWidth,ye=Ze.innerHeight,tt=Math.min(O,ye),nt=Math.max(O,ye);return tt>390&&tt<520&&nt>620&&nt<800},tablet:Ze=>{const O=Ze.innerWidth,ye=Ze.innerHeight,tt=Math.min(O,ye),nt=Math.max(O,ye);return Pe(Ze)||(Ze=>Z(Ze)&&!Me(Ze,/mobile/i))(Ze)||tt>460&&tt<820&&nt>780&&nt<1400},cordova:Ce,capacitor:Ie,electron:Ze=>Me(Ze,/electron/i),pwa:Ze=>{var O;return!!(null!==(O=Ze.matchMedia)&&void 0!==O&&O.call(Ze,"(display-mode: standalone)").matches||Ze.navigator.standalone)},mobile:de,mobileweb:Ze=>de(Ze)&&!ce(Ze),desktop:Ze=>!de(Ze),hybrid:ce};let Xe;const vt=Ze=>Ze&&(0,k.g)(Ze)||Xe,un=(Ze={})=>{if(typeof window>"u")return;const O=window.document,ye=window,tt=ye.Ionic=ye.Ionic||{},nt={};Ze._ael&&(nt.ael=Ze._ael),Ze._rel&&(nt.rel=Ze._rel),Ze._ce&&(nt.ce=Ze._ce),(0,k.s)(nt);const Ve=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ze=>{try{const O=Ze.sessionStorage.getItem(ue);return null!==O?JSON.parse(O):{}}catch{return{}}})(ye)),{persistConfig:!1}),tt.config),(Ze=>{const O={};return Ze.location.search.slice(1).split("&").map(ye=>ye.split("=")).map(([ye,tt])=>[decodeURIComponent(ye),decodeURIComponent(tt)]).filter(([ye])=>((Ze,O)=>Ze.substr(0,O.length)===O)(ye,U)).map(([ye,tt])=>[ye.slice(U.length),tt]).forEach(([ye,tt])=>{O[ye]=tt}),O})(ye)),Ze);re.reset(Ve),re.getBoolean("persistConfig")&&((Ze,O)=>{try{Ze.sessionStorage.setItem(ue,JSON.stringify(O))}catch{return}})(ye,Ve),V(ye),tt.config=re,tt.mode=Xe=re.get("mode",O.documentElement.getAttribute("mode")||(ie(ye,"ios")?"ios":"md")),re.set("mode",Xe),O.documentElement.setAttribute("mode",Xe),O.documentElement.classList.add(Xe),re.getBoolean("_testing")&&re.set("animated",!1);const q=ht=>{var Ae;return null===(Ae=ht.tagName)||void 0===Ae?void 0:Ae.startsWith("ION-")},_e=ht=>["ios","md"].includes(ht);(0,k.a)(ht=>{for(;ht;){const Ae=ht.mode||ht.getAttribute("mode");if(Ae){if(_e(Ae))return Ae;q(ht)&&console.warn('Invalid ionic mode: "'+Ae+'", expected: "ios" or "md"')}ht=ht.parentElement}return Xe})}},9078:($e,We,P)=>{"use strict";P.r(We),P.d(We,{iosTransitionAnimation:()=>$,shadow:()=>L});var k=P(5933),l=P(919);P(2286),P(1559);const Q=H=>document.querySelector(`${H}.ion-cloned-element`),L=H=>H.shadowRoot||H,U=H=>{const Pe="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs"),Le="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Pe){const he=Pe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=he?he.querySelector(Le):null}return H.querySelector(Le)},ue=(H,Pe)=>{const Le="ION-TABS"===H.tagName?H:H.querySelector("ion-tabs");let he=[];if(null!=Le){const Z=Le.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Z&&(he=Z.querySelectorAll("ion-buttons"))}else he=H.querySelectorAll("ion-buttons");for(const Z of he){const K=Z.closest("ion-header"),fe=K&&!K.classList.contains("header-collapse-condense-inactive"),Re=Z.querySelector("ion-back-button"),de=Z.classList.contains("buttons-collapse");if(null!==Re&&("start"===Z.slot||""===Z.slot)&&(de&&fe&&Pe||!de))return Re}return null},ie=(H,Pe,Le,he,Z,K)=>{const fe=Pe?`calc(100% - ${K.right+4}px)`:K.left-4+"px",Re=Pe?"7px":"-7px",de=Pe?"-4px":"4px",it=Pe?"-4px":"4px",ce=Pe?"right":"left",Ce=Pe?"left":"right",Ne=Le?[{offset:0,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Re}, ${Z.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${Re}, ${Z.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${de}, ${K.top-46}px, 0) scale(1)`}],Ue=Le?[{offset:0,opacity:1,transform:`translate3d(${it}, ${K.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${it}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${it}, ${K.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${it}, ${K.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${it}, ${K.top-46}px, 0) scale(1)`}],Xe=(0,k.c)(),vt=(0,k.c)(),un=Q("ion-back-button"),Ze=L(un).querySelector(".button-text"),O=L(un).querySelector("ion-icon");un.text=he.text,un.mode=he.mode,un.icon=he.icon,un.color=he.color,un.disabled=he.disabled,un.style.setProperty("display","block"),un.style.setProperty("position","fixed"),vt.addElement(O),Xe.addElement(Ze),Xe.beforeStyles({"transform-origin":`${ce} center`}).beforeAddWrite(()=>{he.style.setProperty("display","none"),un.style.setProperty(ce,fe)}).afterAddWrite(()=>{he.style.setProperty("display",""),un.style.setProperty("display","none"),un.style.removeProperty(ce)}).keyframes(Ne),vt.beforeStyles({"transform-origin":`${Ce} center`}).keyframes(Ue),H.addAnimation([Xe,vt])},V=(H,Pe,Le,he,Z,K)=>{const fe=Pe?`calc(100% - ${Z.right}px)`:`${Z.left}px`,Re=Pe?"-18px":"18px",de=Pe?"right":"left",Ce=Le?[{offset:0,opacity:0,transform:`translate3d(${Re}, ${K.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Z.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Z.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${Re}, ${K.top-4}px, 0) scale(0.5)`}],Ie=Q("ion-title"),Ye=(0,k.c)();Ie.innerText=he.innerText,Ie.size=he.size,Ie.color=he.color,Ye.addElement(Ie),Ye.beforeStyles({"transform-origin":`${de} center`,height:"46px",display:"",position:"relative",[de]:fe}).beforeAddWrite(()=>{he.style.setProperty("display","none")}).afterAddWrite(()=>{he.style.setProperty("display",""),Ie.style.setProperty("display","none")}).keyframes(Ce),H.addAnimation(Ye)},$=(H,Pe)=>{var Le;try{const he="cubic-bezier(0.32,0.72,0,1)",Z="opacity",K="transform",fe="0%",de="rtl"===H.ownerDocument.dir,it=de?"-99.5%":"99.5%",ce=de?"33%":"-33%",Ce=Pe.enteringEl,Ie=Pe.leavingEl,Ye="back"===Pe.direction,Ne=Ce.querySelector(":scope > ion-content"),Me=Ce.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ne=Ce.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=(0,k.c)(),Xe=(0,k.c)();if(Ue.addElement(Ce).duration((null!==(Le=Pe.duration)&&void 0!==Le?Le:0)||540).easing(Pe.easing||he).fill("both").beforeRemoveClass("ion-page-invisible"),Ie&&null!=H){const O=(0,k.c)();O.addElement(H),Ue.addAnimation(O)}if(Ne||0!==ne.length||0!==Me.length?(Xe.addElement(Ne),Xe.addElement(Me)):Xe.addElement(Ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(Xe),Ye?Xe.beforeClearStyles([Z]).fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(Z,.8,1):Xe.beforeClearStyles([Z]).fromTo("transform",`translateX(${it})`,`translateX(${fe})`),Ne){const O=L(Ne).querySelector(".transition-effect");if(O){const ye=O.querySelector(".transition-cover"),tt=O.querySelector(".transition-shadow"),nt=(0,k.c)(),Ve=(0,k.c)(),q=(0,k.c)();nt.addElement(O).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ve.addElement(ye).beforeClearStyles([Z]).fromTo(Z,0,.1),q.addElement(tt).beforeClearStyles([Z]).fromTo(Z,.03,.7),nt.addAnimation([Ve,q]),Xe.addAnimation([nt])}}const vt=Ce.querySelector("ion-header.header-collapse-condense"),{forward:un,backward:Ze}=((H,Pe,Le,he,Z)=>{const K=ue(he,Le),fe=U(Z),Re=U(he),de=ue(Z,Le),it=null!==K&&null!==fe&&!Le,ce=null!==Re&&null!==de&&Le;if(it){const Ce=fe.getBoundingClientRect(),Ie=K.getBoundingClientRect();V(H,Pe,Le,fe,Ce,Ie),ie(H,Pe,Le,K,Ce,Ie)}else if(ce){const Ce=Re.getBoundingClientRect(),Ie=de.getBoundingClientRect();V(H,Pe,Le,Re,Ce,Ie),ie(H,Pe,Le,de,Ce,Ie)}return{forward:it,backward:ce}})(Ue,de,Ye,Ce,Ie);if(ne.forEach(O=>{const ye=(0,k.c)();ye.addElement(O),Ue.addAnimation(ye);const tt=(0,k.c)();tt.addElement(O.querySelector("ion-title"));const nt=(0,k.c)(),Ve=Array.from(O.querySelectorAll("ion-buttons,[menuToggle]")),q=O.closest("ion-header"),_e=q?.classList.contains("header-collapse-condense-inactive");let ht;ht=Ve.filter(Ye?Jt=>{const W=Jt.classList.contains("buttons-collapse");return W&&!_e||!W}:Jt=>!Jt.classList.contains("buttons-collapse")),nt.addElement(ht);const Ae=(0,k.c)();Ae.addElement(O.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Mt=(0,k.c)();Mt.addElement(L(O).querySelector(".toolbar-background"));const ln=(0,k.c)(),Yt=O.querySelector("ion-back-button");if(Yt&&ln.addElement(Yt),ye.addAnimation([tt,nt,Ae,Mt,ln]),nt.fromTo(Z,.01,1),Ae.fromTo(Z,.01,1),Ye)_e||tt.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`).fromTo(Z,.01,1),Ae.fromTo("transform",`translateX(${ce})`,`translateX(${fe})`),ln.fromTo(Z,.01,1);else if(vt||tt.fromTo("transform",`translateX(${it})`,`translateX(${fe})`).fromTo(Z,.01,1),Ae.fromTo("transform",`translateX(${it})`,`translateX(${fe})`),Mt.beforeClearStyles([Z,"transform"]),q?.translucent?Mt.fromTo("transform",de?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Mt.fromTo(Z,.01,"var(--opacity)"),un||ln.fromTo(Z,.01,1),Yt&&!un){const W=(0,k.c)();W.addElement(L(Yt).querySelector(".button-text")).fromTo("transform",de?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ye.addAnimation(W)}}),Ie){const O=(0,k.c)(),ye=Ie.querySelector(":scope > ion-content"),tt=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),nt=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ye||0!==tt.length||0!==nt.length?(O.addElement(ye),O.addElement(nt)):O.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Ue.addAnimation(O),Ye){O.beforeClearStyles([Z]).fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)");const Ve=(0,l.g)(Ie);Ue.afterAddWrite(()=>{"normal"===Ue.getDirection()&&Ve.style.setProperty("display","none")})}else O.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(Z,1,.8);if(ye){const Ve=L(ye).querySelector(".transition-effect");if(Ve){const q=Ve.querySelector(".transition-cover"),_e=Ve.querySelector(".transition-shadow"),ht=(0,k.c)(),Ae=(0,k.c)(),Mt=(0,k.c)();ht.addElement(Ve).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ae.addElement(q).beforeClearStyles([Z]).fromTo(Z,.1,0),Mt.addElement(_e).beforeClearStyles([Z]).fromTo(Z,.7,.03),ht.addAnimation([Ae,Mt]),O.addAnimation([ht])}}tt.forEach(Ve=>{const q=(0,k.c)();q.addElement(Ve);const _e=(0,k.c)();_e.addElement(Ve.querySelector("ion-title"));const ht=(0,k.c)(),Ae=Ve.querySelectorAll("ion-buttons,[menuToggle]"),Mt=Ve.closest("ion-header"),ln=Mt?.classList.contains("header-collapse-condense-inactive"),Yt=Array.from(Ae).filter(Lo=>{const Yr=Lo.classList.contains("buttons-collapse");return Yr&&!ln||!Yr});ht.addElement(Yt);const Jt=(0,k.c)(),W=Ve.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");W.length>0&&Jt.addElement(W);const vn=(0,k.c)();vn.addElement(L(Ve).querySelector(".toolbar-background"));const pr=(0,k.c)(),Jn=Ve.querySelector("ion-back-button");if(Jn&&pr.addElement(Jn),q.addAnimation([_e,ht,Jt,pr,vn]),Ue.addAnimation(q),pr.fromTo(Z,.99,0),ht.fromTo(Z,.99,0),Jt.fromTo(Z,.99,0),Ye){if(ln||_e.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)").fromTo(Z,.99,0),Jt.fromTo("transform",`translateX(${fe})`,de?"translateX(-100%)":"translateX(100%)"),vn.beforeClearStyles([Z,"transform"]),Mt?.translucent?vn.fromTo("transform","translateX(0px)",de?"translateX(-100%)":"translateX(100%)"):vn.fromTo(Z,"var(--opacity)",0),Jn&&!Ze){const Yr=(0,k.c)();Yr.addElement(L(Jn).querySelector(".button-text")).fromTo("transform",`translateX(${fe})`,`translateX(${(de?-124:124)+"px"})`),q.addAnimation(Yr)}}else ln||_e.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).fromTo(Z,.99,0).afterClearStyles([K,Z]),Jt.fromTo("transform",`translateX(${fe})`,`translateX(${ce})`).afterClearStyles([K,Z]),pr.afterClearStyles([Z]),_e.afterClearStyles([Z]),ht.afterClearStyles([Z])})}return Ue}catch(he){throw he}}},4199:($e,We,P)=>{"use strict";P.r(We),P.d(We,{mdTransitionAnimation:()=>G});var k=P(5933),l=P(919);P(2286),P(1559);const G=(Q,L)=>{var U,ue,X;const $="back"===L.direction,Pe=L.leavingEl,Le=(0,l.g)(L.enteringEl),he=Le.querySelector("ion-toolbar"),Z=(0,k.c)();if(Z.addElement(Le).fill("both").beforeRemoveClass("ion-page-invisible"),$?Z.duration((null!==(U=L.duration)&&void 0!==U?U:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(ue=L.duration)&&void 0!==ue?ue:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),he){const K=(0,k.c)();K.addElement(he),Z.addAnimation(K)}if(Pe&&$){Z.duration((null!==(X=L.duration)&&void 0!==X?X:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const K=(0,k.c)();K.addElement((0,l.g)(Pe)).onFinish(fe=>{1===fe&&K.elements.length>0&&K.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Z.addAnimation(K)}return Z}},7580:($e,We,P)=>{"use strict";P.d(We,{B:()=>ye,G:()=>tt,a:()=>U,b:()=>ue,c:()=>$,d:()=>Ye,e:()=>Pe,f:()=>Me,g:()=>Xe,h:()=>Q,i:()=>un,j:()=>Z,k:()=>Ce,l:()=>X,m:()=>ie,s:()=>O});var k=P(3918),l=P(5823),re=P(159),te=P(9259);let G=0;const Q=new WeakMap,L=nt=>({create:Ve=>Le(nt,Ve),dismiss:(Ve,q,_e)=>it(document,Ve,q,nt,_e),getTop:()=>(0,k.Z)(function*(){return Ce(document,nt)})()}),U=L("ion-alert"),ue=L("ion-action-sheet"),X=L("ion-loading"),ie=L("ion-modal"),$=L("ion-popover"),Pe=nt=>{typeof document<"u"&&de(document);const Ve=G++;nt.overlayIndex=Ve,nt.hasAttribute("id")||(nt.id=`ion-overlay-${Ve}`)},Le=(nt,Ve)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(nt).then(()=>{const q=document.createElement(nt);return q.classList.add("overlay-hidden"),Object.assign(q,Object.assign(Object.assign({},Ve),{hasController:!0})),ne(document).appendChild(q),new Promise(_e=>(0,te.c)(q,_e))}):Promise.resolve(),he='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Z=(nt,Ve)=>{let q=nt.querySelector(he);const _e=q?.shadowRoot;_e&&(q=_e.querySelector(he)||q),q?(0,te.f)(q):Ve.focus()},fe=(nt,Ve)=>{const q=Array.from(nt.querySelectorAll(he));let _e=q.length>0?q[q.length-1]:null;const ht=_e?.shadowRoot;ht&&(_e=ht.querySelector(he)||_e),_e?_e.focus():Ve.focus()},de=nt=>{0===G&&(G=1,nt.addEventListener("focus",Ve=>{((nt,Ve)=>{const q=Ce(Ve,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),_e=nt.target;q&&_e&&!q.classList.contains("ion-disable-focus-trap")&&(q.shadowRoot?(()=>{if(q.contains(_e))q.lastFocus=_e;else{const Mt=q.lastFocus;Z(q,q),Mt===Ve.activeElement&&fe(q,q),q.lastFocus=Ve.activeElement}})():(()=>{if(q===_e)q.lastFocus=void 0;else{const Mt=(0,te.g)(q);if(!Mt.contains(_e))return;const ln=Mt.querySelector(".ion-overlay-wrapper");if(!ln)return;if(ln.contains(_e))q.lastFocus=_e;else{const Yt=q.lastFocus;Z(ln,q),Yt===Ve.activeElement&&fe(ln,q),q.lastFocus=Ve.activeElement}}})())})(Ve,nt)},!0),nt.addEventListener("ionBackButton",Ve=>{const q=Ce(nt);q?.backdropDismiss&&Ve.detail.register(re.OVERLAY_BACK_BUTTON_PRIORITY,()=>q.dismiss(void 0,ye))}),nt.addEventListener("keyup",Ve=>{if("Escape"===Ve.key){const q=Ce(nt);q?.backdropDismiss&&q.dismiss(void 0,ye)}}))},it=(nt,Ve,q,_e,ht)=>{const Ae=Ce(nt,_e,ht);return Ae?Ae.dismiss(Ve,q):Promise.reject("overlay does not exist")},Ce=(nt,Ve,q)=>{const _e=((nt,Ve)=>(void 0===Ve&&(Ve="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(nt.querySelectorAll(Ve)).filter(q=>q.overlayIndex>0)))(nt,Ve).filter(ht=>!(nt=>nt.classList.contains("overlay-hidden"))(ht));return void 0===q?_e[_e.length-1]:_e.find(ht=>ht.id===q)},Ie=(nt=!1)=>{const q=ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");q&&(nt?q.setAttribute("aria-hidden","true"):q.removeAttribute("aria-hidden"))},Ye=function(){var nt=(0,k.Z)(function*(Ve,q,_e,ht,Ae){var Mt,ln;if(Ve.presented)return;Ie(!0),Ve.presented=!0,Ve.willPresent.emit(),null===(Mt=Ve.willPresentShorthand)||void 0===Mt||Mt.emit();const Yt=(0,l.b)(Ve),Jt=Ve.enterAnimation?Ve.enterAnimation:l.c.get(q,"ios"===Yt?_e:ht);(yield Ue(Ve,Jt,Ve.el,Ae))&&(Ve.didPresent.emit(),null===(ln=Ve.didPresentShorthand)||void 0===ln||ln.emit()),"ION-TOAST"!==Ve.el.tagName&&Ne(Ve.el),Ve.keyboardClose&&(null===document.activeElement||!Ve.el.contains(document.activeElement))&&Ve.el.focus()});return function(q,_e,ht,Ae,Mt){return nt.apply(this,arguments)}}(),Ne=function(){var nt=(0,k.Z)(function*(Ve){let q=document.activeElement;if(!q)return;const _e=q?.shadowRoot;_e&&(q=_e.querySelector(he)||q),yield Ve.onDidDismiss(),q.focus()});return function(q){return nt.apply(this,arguments)}}(),Me=function(){var nt=(0,k.Z)(function*(Ve,q,_e,ht,Ae,Mt,ln){var Yt,Jt;if(!Ve.presented)return!1;Ie(!1),Ve.presented=!1;try{Ve.el.style.setProperty("pointer-events","none"),Ve.willDismiss.emit({data:q,role:_e}),null===(Yt=Ve.willDismissShorthand)||void 0===Yt||Yt.emit({data:q,role:_e});const W=(0,l.b)(Ve),vn=Ve.leaveAnimation?Ve.leaveAnimation:l.c.get(ht,"ios"===W?Ae:Mt);_e!==tt&&(yield Ue(Ve,vn,Ve.el,ln)),Ve.didDismiss.emit({data:q,role:_e}),null===(Jt=Ve.didDismissShorthand)||void 0===Jt||Jt.emit({data:q,role:_e}),Q.delete(Ve),Ve.el.classList.add("overlay-hidden"),Ve.el.style.removeProperty("pointer-events")}catch(W){console.error(W)}return Ve.el.remove(),!0});return function(q,_e,ht,Ae,Mt,ln,Yt){return nt.apply(this,arguments)}}(),ne=nt=>nt.querySelector("ion-app")||nt.body,Ue=function(){var nt=(0,k.Z)(function*(Ve,q,_e,ht){_e.classList.remove("overlay-hidden");const Mt=q(Ve.el,ht);(!Ve.animated||!l.c.getBoolean("animated",!0))&&Mt.duration(0),Ve.keyboardClose&&Mt.beforeAddWrite(()=>{const Yt=_e.ownerDocument.activeElement;Yt?.matches("input,ion-input, ion-textarea")&&Yt.blur()});const ln=Q.get(Ve)||[];return Q.set(Ve,[...ln,Mt]),yield Mt.play(),!0});return function(q,_e,ht,Ae){return nt.apply(this,arguments)}}(),Xe=(nt,Ve)=>{let q;const _e=new Promise(ht=>q=ht);return vt(nt,Ve,ht=>{q(ht.detail)}),_e},vt=(nt,Ve,q)=>{const _e=ht=>{(0,te.b)(nt,Ve,_e),q(ht)};(0,te.a)(nt,Ve,_e)},un=nt=>"cancel"===nt||nt===ye,Ze=nt=>nt(),O=(nt,Ve)=>{if("function"==typeof nt)return l.c.get("_zoneGate",Ze)(()=>{try{return nt(Ve)}catch(_e){throw _e}})},ye="backdrop",tt="gesture"},4263:($e,We,P)=>{"use strict";var k=P(9903),l=P(3855),re=l(k("String.prototype.indexOf"));$e.exports=function(G,Q){var L=k(G,!!Q);return"function"==typeof L&&re(G,".prototype.")>-1?l(L):L}},3855:($e,We,P)=>{"use strict";var k=P(224),l=P(9903),re=l("%Function.prototype.apply%"),te=l("%Function.prototype.call%"),G=l("%Reflect.apply%",!0)||k.call(te,re),Q=l("%Object.getOwnPropertyDescriptor%",!0),L=l("%Object.defineProperty%",!0),U=l("%Math.max%");if(L)try{L({},"a",{value:1})}catch{L=null}$e.exports=function(ie){var V=G(k,te,arguments);if(Q&&L){var $=Q(V,"length");$.configurable&&L(V,"length",{value:1+U(0,ie.length-(arguments.length-1))})}return V};var ue=function(){return G(k,re,arguments)};L?L($e.exports,"apply",{value:ue}):$e.exports.apply=ue},5107:$e=>{var We={utf8:{stringToBytes:function(P){return We.bin.stringToBytes(unescape(encodeURIComponent(P)))},bytesToString:function(P){return decodeURIComponent(escape(We.bin.bytesToString(P)))}},bin:{stringToBytes:function(P){for(var k=[],l=0;l<P.length;l++)k.push(255&P.charCodeAt(l));return k},bytesToString:function(P){for(var k=[],l=0;l<P.length;l++)k.push(String.fromCharCode(P[l]));return k.join("")}}};$e.exports=We},7175:$e=>{var We,P;We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e.exports=P={rotl:function(k,l){return k<<l|k>>>32-l},rotr:function(k,l){return k<<32-l|k>>>l},endian:function(k){if(k.constructor==Number)return 16711935&P.rotl(k,8)|4278255360&P.rotl(k,24);for(var l=0;l<k.length;l++)k[l]=P.endian(k[l]);return k},randomBytes:function(k){for(var l=[];k>0;k--)l.push(Math.floor(256*Math.random()));return l},bytesToWords:function(k){for(var l=[],re=0,te=0;re<k.length;re++,te+=8)l[te>>>5]|=k[re]<<24-te%32;return l},wordsToBytes:function(k){for(var l=[],re=0;re<32*k.length;re+=8)l.push(k[re>>>5]>>>24-re%32&255);return l},bytesToHex:function(k){for(var l=[],re=0;re<k.length;re++)l.push((k[re]>>>4).toString(16)),l.push((15&k[re]).toString(16));return l.join("")},hexToBytes:function(k){for(var l=[],re=0;re<k.length;re+=2)l.push(parseInt(k.substr(re,2),16));return l},bytesToBase64:function(k){for(var l=[],re=0;re<k.length;re+=3)for(var te=k[re]<<16|k[re+1]<<8|k[re+2],G=0;G<4;G++)l.push(8*re+6*G<=8*k.length?We.charAt(te>>>6*(3-G)&63):"=");return l.join("")},base64ToBytes:function(k){k=k.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],re=0,te=0;re<k.length;te=++re%4)0!=te&&l.push((We.indexOf(k.charAt(re-1))&Math.pow(2,-2*te+8)-1)<<2*te|We.indexOf(k.charAt(re))>>>6-2*te);return l}}},5541:($e,We,P)=>{"use strict";var k=P(6189),l=P(4263),re=P(8704),te=P(9903),G=P(2069),Q=P(8432),L=P(5734),U=P(9102),ue=P(8266),X=P(2805),ie=P(4666),V=P(6687),$=P(3163),H=P(2093),Pe=P(2086),Le=P(2107),he=P(5709),Z=l("ArrayBuffer.prototype.byteLength",!0)||function(_e){return _e.byteLength},K=l("SharedArrayBuffer.prototype.byteLength",!0),fe=l("Date.prototype.getTime"),Re=Object.getPrototypeOf,de=l("Object.prototype.toString"),it=te("%Set%",!0),ce=l("Map.prototype.has",!0),Ce=l("Map.prototype.get",!0),Ie=l("Map.prototype.size",!0),Ye=l("Set.prototype.add",!0),Ne=l("Set.prototype.delete",!0),Me=l("Set.prototype.has",!0),ne=l("Set.prototype.size",!0);function Ue(q,_e,ht,Ae){for(var ln,Mt=G(q);(ln=Mt.next())&&!ln.done;)if(O(_e,ln.value,ht,Ae))return Ne(q,ln.value),!0;return!1}function Xe(q){return typeof q>"u"?null:"object"!=typeof q?"symbol"!=typeof q&&("string"!=typeof q&&"number"!=typeof q||+q==+q):void 0}function vt(q,_e,ht,Ae,Mt,ln){var Yt=Xe(ht);if(null!=Yt)return Yt;var Jt=Ce(_e,Yt),W=k({},Mt,{strict:!1});return!(typeof Jt>"u"&&!ce(_e,Yt)||!O(Ae,Jt,W,ln))&&!ce(q,Yt)&&O(Ae,Jt,W,ln)}function un(q,_e,ht){var Ae=Xe(ht);return Ae??(Me(_e,Ae)&&!Me(q,Ae))}function Ze(q,_e,ht,Ae,Mt,ln){for(var Jt,W,Yt=G(q);(Jt=Yt.next())&&!Jt.done;)if(O(ht,W=Jt.value,Mt,ln)&&O(Ae,Ce(_e,W),Mt,ln))return Ne(q,W),!0;return!1}function O(q,_e,ht,Ae){var Mt=ht||{};if(Mt.strict?L(q,_e):q===_e)return!0;if(Pe(q)!==Pe(_e))return!1;if(!q||!_e||"object"!=typeof q&&"object"!=typeof _e)return Mt.strict?L(q,_e):q==_e;var vn,Jt=Ae.has(q),W=Ae.has(_e);if(Jt&&W){if(Ae.get(q)===Ae.get(_e))return!0}else vn={};return Jt||Ae.set(q,vn),W||Ae.set(_e,vn),function Ve(q,_e,ht,Ae){var Mt,ln;if(typeof q!=typeof _e||null==q||null==_e||de(q)!==de(_e)||U(q)!==U(_e))return!1;if(ue(q)!==ue(_e))return!1;var W=q instanceof Error,vn=_e instanceof Error;if(W!==vn||(W||vn)&&(q.name!==_e.name||q.message!==_e.message))return!1;var pr=V(q),Jn=V(_e);if(pr!==Jn||(pr||Jn)&&(q.source!==_e.source||re(q)!==re(_e)))return!1;var Lo=ie(q),Yr=ie(_e);if(Lo!==Yr||(Lo||Yr)&&fe(q)!==fe(_e)||ht.strict&&Re&&Re(q)!==Re(_e))return!1;var bi=he(q),Mn=he(_e);if((bi||Mn)&&bi!==Mn)return!1;var uo=ye(q),Vn=ye(_e);if(uo!==Vn)return!1;if(uo||Vn){if(q.length!==_e.length)return!1;for(Mt=0;Mt<q.length;Mt++)if(q[Mt]!==_e[Mt])return!1;return!0}var wi=X(q),Gr=X(_e);if(wi!==Gr)return!1;if(wi||Gr)return Z(q)===Z(_e)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(_e),ht,Ae);var Ar=$(q),sr=$(_e);if(Ar!==sr)return!1;if(Ar||sr)return K(q)===K(_e)&&"function"==typeof Uint8Array&&O(new Uint8Array(q),new Uint8Array(_e),ht,Ae);if(typeof q!=typeof _e)return!1;var $r=H(q),no=H(_e);if($r.length!==no.length)return!1;for($r.sort(),no.sort(),Mt=$r.length-1;Mt>=0;Mt--)if($r[Mt]!=no[Mt])return!1;for(Mt=$r.length-1;Mt>=0;Mt--)if(!O(q[ln=$r[Mt]],_e[ln],ht,Ae))return!1;var mn=Le(q),Xr=Le(_e);return mn===Xr&&("Set"===mn||"Set"===Xr?function tt(q,_e,ht,Ae){if(ne(q)!==ne(_e))return!1;for(var Yt,Jt,W,Mt=G(q),ln=G(_e);(Yt=Mt.next())&&!Yt.done;)if(Yt.value&&"object"==typeof Yt.value)W||(W=new it),Ye(W,Yt.value);else if(!Me(_e,Yt.value)){if(ht.strict||!un(q,_e,Yt.value))return!1;W||(W=new it),Ye(W,Yt.value)}if(W){for(;(Jt=ln.next())&&!Jt.done;)if(Jt.value&&"object"==typeof Jt.value){if(!Ue(W,Jt.value,ht.strict,Ae))return!1}else if(!ht.strict&&!Me(q,Jt.value)&&!Ue(W,Jt.value,ht.strict,Ae))return!1;return 0===ne(W)}return!0}(q,_e,ht,Ae):"Map"!==mn||function nt(q,_e,ht,Ae){if(Ie(q)!==Ie(_e))return!1;for(var Yt,Jt,W,vn,pr,Jn,Mt=G(q),ln=G(_e);(Yt=Mt.next())&&!Yt.done;)if(pr=Yt.value[1],(vn=Yt.value[0])&&"object"==typeof vn)W||(W=new it),Ye(W,vn);else if(typeof(Jn=Ce(_e,vn))>"u"&&!ce(_e,vn)||!O(pr,Jn,ht,Ae)){if(ht.strict||!vt(q,_e,vn,pr,ht,Ae))return!1;W||(W=new it),Ye(W,vn)}if(W){for(;(Jt=ln.next())&&!Jt.done;)if(Jn=Jt.value[1],(vn=Jt.value[0])&&"object"==typeof vn){if(!Ze(W,q,vn,Jn,ht,Ae))return!1}else if(!(ht.strict||q.has(vn)&&O(Ce(q,vn),Jn,ht,Ae)||Ze(W,q,vn,Jn,k({},ht,{strict:!1}),Ae)))return!1;return 0===ne(W)}return!0}(q,_e,ht,Ae))}(q,_e,Mt,Ae)}function ye(q){return!(!q||"object"!=typeof q||"number"!=typeof q.length||"function"!=typeof q.copy||"function"!=typeof q.slice||q.length>0&&"number"!=typeof q[0]||!(q.constructor&&q.constructor.isBuffer&&q.constructor.isBuffer(q)))}$e.exports=function(_e,ht,Ae){return O(_e,ht,Ae,Q())}},1790:($e,We,P)=>{"use strict";var k=P(2093),l="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),re=Object.prototype.toString,te=Array.prototype.concat,G=Object.defineProperty,L=P(9006)(),U=G&&L,ue=function(ie,V,$,H){V in ie&&(!function(ie){return"function"==typeof ie&&"[object Function]"===re.call(ie)}(H)||!H())||(U?G(ie,V,{configurable:!0,enumerable:!1,value:$,writable:!0}):ie[V]=$)},X=function(ie,V){var $=arguments.length>2?arguments[2]:{},H=k(V);l&&(H=te.call(H,Object.getOwnPropertySymbols(V)));for(var Pe=0;Pe<H.length;Pe+=1)ue(ie,H[Pe],V[H[Pe]],$[H[Pe]])};X.supportsDescriptors=!!U,$e.exports=X},9897:function($e,We){!function(P){"use strict";var V,re=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,te=536870912,G=2*te,L=new WeakMap,ue=function(V,$){return function(H){var Pe=$.get(H),Le=void 0===Pe?H.size:Pe<G?Pe+1:0;if(!H.has(Le))return V(H,Le);if(H.size<te){for(;H.has(Le);)Le=Math.floor(Math.random()*G);return V(H,Le)}if(H.size>re)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;H.has(Le);)Le=Math.floor(Math.random()*re);return V(H,Le)}}((V=L,function($,H){return V.set($,H),H}),L),X=function(V){return function($){var H=V($);return $.add(H),H}}(ue);P.addUniqueNumber=X,P.generateUniqueNumber=ue}(We)},3037:($e,We,P)=>{"use strict";var k=P(8642),l=Object.prototype.toString,re=Object.prototype.hasOwnProperty,te=function(ue,X,ie){for(var V=0,$=ue.length;V<$;V++)re.call(ue,V)&&(null==ie?X(ue[V],V,ue):X.call(ie,ue[V],V,ue))},G=function(ue,X,ie){for(var V=0,$=ue.length;V<$;V++)null==ie?X(ue.charAt(V),V,ue):X.call(ie,ue.charAt(V),V,ue)},Q=function(ue,X,ie){for(var V in ue)re.call(ue,V)&&(null==ie?X(ue[V],V,ue):X.call(ie,ue[V],V,ue))};$e.exports=function(ue,X,ie){if(!k(X))throw new TypeError("iterator must be a function");var V;arguments.length>=3&&(V=ie),"[object Array]"===l.call(ue)?te(ue,X,V):"string"==typeof ue?G(ue,X,V):Q(ue,X,V)}},2199:$e=>{"use strict";var We="Function.prototype.bind called on incompatible ",P=Array.prototype.slice,k=Object.prototype.toString,l="[object Function]";$e.exports=function(te){var G=this;if("function"!=typeof G||k.call(G)!==l)throw new TypeError(We+G);for(var L,Q=P.call(arguments,1),U=function(){if(this instanceof L){var $=G.apply(this,Q.concat(P.call(arguments)));return Object($)===$?$:this}return G.apply(te,Q.concat(P.call(arguments)))},ue=Math.max(0,G.length-Q.length),X=[],ie=0;ie<ue;ie++)X.push("$"+ie);if(L=Function("binder","return function ("+X.join(",")+"){ return binder.apply(this,arguments); }")(U),G.prototype){var V=function(){};V.prototype=G.prototype,L.prototype=new V,V.prototype=null}return L}},224:($e,We,P)=>{"use strict";var k=P(2199);$e.exports=Function.prototype.bind||k},3677:$e=>{"use strict";var We=function(){return"string"==typeof function(){}.name},P=Object.getOwnPropertyDescriptor;if(P)try{P([],"length")}catch{P=null}We.functionsHaveConfigurableNames=function(){if(!We()||!P)return!1;var re=P(function(){},"name");return!!re&&!!re.configurable};var k=Function.prototype.bind;We.boundFunctionsHaveNames=function(){return We()&&"function"==typeof k&&""!==function(){}.bind().name},$e.exports=We},9903:($e,We,P)=>{"use strict";var k,l=SyntaxError,re=Function,te=TypeError,G=function(Ne){try{return re('"use strict"; return ('+Ne+").constructor;")()}catch{}},Q=Object.getOwnPropertyDescriptor;if(Q)try{Q({},"")}catch{Q=null}var L=function(){throw new te},U=Q?function(){try{return L}catch{try{return Q(arguments,"callee").get}catch{return L}}}():L,ue=P(524)(),X=Object.getPrototypeOf||function(Ne){return Ne.__proto__},ie={},V=typeof Uint8Array>"u"?k:X(Uint8Array),$={"%AggregateError%":typeof AggregateError>"u"?k:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?k:ArrayBuffer,"%ArrayIteratorPrototype%":ue?X([][Symbol.iterator]()):k,"%AsyncFromSyncIteratorPrototype%":k,"%AsyncFunction%":ie,"%AsyncGenerator%":ie,"%AsyncGeneratorFunction%":ie,"%AsyncIteratorPrototype%":ie,"%Atomics%":typeof Atomics>"u"?k:Atomics,"%BigInt%":typeof BigInt>"u"?k:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?k:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?k:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?k:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?k:Float32Array,"%Float64Array%":typeof Float64Array>"u"?k:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?k:FinalizationRegistry,"%Function%":re,"%GeneratorFunction%":ie,"%Int8Array%":typeof Int8Array>"u"?k:Int8Array,"%Int16Array%":typeof Int16Array>"u"?k:Int16Array,"%Int32Array%":typeof Int32Array>"u"?k:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ue?X(X([][Symbol.iterator]())):k,"%JSON%":"object"==typeof JSON?JSON:k,"%Map%":typeof Map>"u"?k:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ue?k:X((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?k:Promise,"%Proxy%":typeof Proxy>"u"?k:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?k:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?k:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ue?k:X((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?k:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ue?X(""[Symbol.iterator]()):k,"%Symbol%":ue?Symbol:k,"%SyntaxError%":l,"%ThrowTypeError%":U,"%TypedArray%":V,"%TypeError%":te,"%Uint8Array%":typeof Uint8Array>"u"?k:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?k:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?k:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?k:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?k:WeakMap,"%WeakRef%":typeof WeakRef>"u"?k:WeakRef,"%WeakSet%":typeof WeakSet>"u"?k:WeakSet};try{null.error}catch(Ne){var H=X(X(Ne));$["%Error.prototype%"]=H}var Pe=function Ne(Me){var ne;if("%AsyncFunction%"===Me)ne=G("async function () {}");else if("%GeneratorFunction%"===Me)ne=G("function* () {}");else if("%AsyncGeneratorFunction%"===Me)ne=G("async function* () {}");else if("%AsyncGenerator%"===Me){var Ue=Ne("%AsyncGeneratorFunction%");Ue&&(ne=Ue.prototype)}else if("%AsyncIteratorPrototype%"===Me){var Xe=Ne("%AsyncGenerator%");Xe&&(ne=X(Xe.prototype))}return $[Me]=ne,ne},Le={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=P(224),Z=P(4031),K=he.call(Function.call,Array.prototype.concat),fe=he.call(Function.apply,Array.prototype.splice),Re=he.call(Function.call,String.prototype.replace),de=he.call(Function.call,String.prototype.slice),it=he.call(Function.call,RegExp.prototype.exec),ce=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ce=/\\(\\)?/g,Ie=function(Me){var ne=de(Me,0,1),Ue=de(Me,-1);if("%"===ne&&"%"!==Ue)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===Ue&&"%"!==ne)throw new l("invalid intrinsic syntax, expected opening `%`");var Xe=[];return Re(Me,ce,function(vt,un,Ze,O){Xe[Xe.length]=Ze?Re(O,Ce,"$1"):un||vt}),Xe},Ye=function(Me,ne){var Xe,Ue=Me;if(Z(Le,Ue)&&(Ue="%"+(Xe=Le[Ue])[0]+"%"),Z($,Ue)){var vt=$[Ue];if(vt===ie&&(vt=Pe(Ue)),typeof vt>"u"&&!ne)throw new te("intrinsic "+Me+" exists, but is not available. Please file an issue!");return{alias:Xe,name:Ue,value:vt}}throw new l("intrinsic "+Me+" does not exist!")};$e.exports=function(Me,ne){if("string"!=typeof Me||0===Me.length)throw new te("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ne)throw new te('"allowMissing" argument must be a boolean');if(null===it(/^%?[^%]*%?$/,Me))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=Ie(Me),Xe=Ue.length>0?Ue[0]:"",vt=Ye("%"+Xe+"%",ne),un=vt.name,Ze=vt.value,O=!1,ye=vt.alias;ye&&(Xe=ye[0],fe(Ue,K([0,1],ye)));for(var tt=1,nt=!0;tt<Ue.length;tt+=1){var Ve=Ue[tt],q=de(Ve,0,1),_e=de(Ve,-1);if(('"'===q||"'"===q||"`"===q||'"'===_e||"'"===_e||"`"===_e)&&q!==_e)throw new l("property names with quotes must have matching quotes");if(("constructor"===Ve||!nt)&&(O=!0),Z($,un="%"+(Xe+="."+Ve)+"%"))Ze=$[un];else if(null!=Ze){if(!(Ve in Ze)){if(!ne)throw new te("base intrinsic for "+Me+" exists, but the property is not available.");return}if(Q&&tt+1>=Ue.length){var ht=Q(Ze,Ve);Ze=(nt=!!ht)&&"get"in ht&&!("originalValue"in ht.get)?ht.get:Ze[Ve]}else nt=Z(Ze,Ve),Ze=Ze[Ve];nt&&!O&&($[un]=Ze)}}return Ze}},253:($e,We,P)=>{"use strict";var l=P(9903)("%Object.getOwnPropertyDescriptor%",!0);if(l)try{l([],"length")}catch{l=null}$e.exports=l},5861:$e=>{"use strict";var We=typeof BigInt<"u"&&BigInt;$e.exports=function(){return"function"==typeof We&&"function"==typeof BigInt&&"bigint"==typeof We(42)&&"bigint"==typeof BigInt(42)}},9006:($e,We,P)=>{"use strict";var l=P(9903)("%Object.defineProperty%",!0),re=function(){if(l)try{return l({},"a",{value:1}),!0}catch{return!1}return!1};re.hasArrayLengthDefineBug=function(){if(!re())return null;try{return 1!==l([],"length",{value:1}).length}catch{return!0}},$e.exports=re},524:($e,We,P)=>{"use strict";var k=typeof Symbol<"u"&&Symbol,l=P(6858);$e.exports=function(){return"function"==typeof k&&"function"==typeof Symbol&&"symbol"==typeof k("foo")&&"symbol"==typeof Symbol("bar")&&l()}},6858:$e=>{"use strict";$e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var P={},k=Symbol("test"),l=Object(k);if("string"==typeof k||"[object Symbol]"!==Object.prototype.toString.call(k)||"[object Symbol]"!==Object.prototype.toString.call(l))return!1;for(k in P[k]=42,P)return!1;if("function"==typeof Object.keys&&0!==Object.keys(P).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(P).length)return!1;var te=Object.getOwnPropertySymbols(P);if(1!==te.length||te[0]!==k||!Object.prototype.propertyIsEnumerable.call(P,k))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var G=Object.getOwnPropertyDescriptor(P,k);if(42!==G.value||!0!==G.enumerable)return!1}return!0}},3261:($e,We,P)=>{"use strict";var k=P(6858);$e.exports=function(){return k()&&!!Symbol.toStringTag}},4031:($e,We,P)=>{"use strict";var k=P(224);$e.exports=k.call(Function.call,Object.prototype.hasOwnProperty)},5847:($e,We,P)=>{"use strict";var k=P(9903),l=P(4031),re=P(8432)(),te=k("%TypeError%"),G={assert:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");if(re.assert(Q),!G.has(Q,L))throw new te("`slot` is not present on `O`")},get:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var U=re.get(Q);return U&&U["$"+L]},has:function(Q,L){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var U=re.get(Q);return!!U&&l(U,"$"+L)},set:function(Q,L,U){if(!Q||"object"!=typeof Q&&"function"!=typeof Q)throw new te("`O` is not an object");if("string"!=typeof L)throw new te("`slot` must be a string");var ue=re.get(Q);ue||re.set(Q,ue={}),ue["$"+L]=U}};Object.freeze&&Object.freeze(G),$e.exports=G},9102:($e,We,P)=>{"use strict";var k=P(3261)(),re=P(4263)("Object.prototype.toString"),te=function(U){return!(k&&U&&"object"==typeof U&&Symbol.toStringTag in U)&&"[object Arguments]"===re(U)},G=function(U){return!!te(U)||null!==U&&"object"==typeof U&&"number"==typeof U.length&&U.length>=0&&"[object Array]"!==re(U)&&"[object Function]"===re(U.callee)},Q=function(){return te(arguments)}();te.isLegacyArguments=G,$e.exports=Q?te:G},2805:($e,We,P)=>{"use strict";var k=P(3855),l=P(4263),re=P(9903),te=P(7673),G=re("ArrayBuffer",!0),Q=re("Float32Array",!0),L=l("ArrayBuffer.prototype.byteLength",!0),U=G&&!L&&(new G).slice,ue=U&&k(U);$e.exports=L||ue?function(ie){if(!ie||"object"!=typeof ie)return!1;try{return L?L(ie):ue(ie,0),!0}catch{return!1}}:Q?function(ie){try{return new Q(ie).buffer===ie&&!te(ie)}catch{return!1}}:function(ie){return!1}},3:($e,We,P)=>{"use strict";if(P(5861)()){var l=BigInt.prototype.valueOf;$e.exports=function(G){return!(null===G||typeof G>"u"||"boolean"==typeof G||"string"==typeof G||"number"==typeof G||"symbol"==typeof G||"function"==typeof G)&&("bigint"==typeof G||function(G){try{return l.call(G),!0}catch{}return!1}(G))}}else $e.exports=function(G){return!1}},6180:($e,We,P)=>{"use strict";var k=P(4263),l=k("Boolean.prototype.toString"),re=k("Object.prototype.toString"),Q=P(3261)();$e.exports=function(U){return"boolean"==typeof U||null!==U&&"object"==typeof U&&(Q&&Symbol.toStringTag in U?function(U){try{return l(U),!0}catch{return!1}}(U):"[object Boolean]"===re(U))}},5057:$e=>{function We(k){return!!k.constructor&&"function"==typeof k.constructor.isBuffer&&k.constructor.isBuffer(k)}$e.exports=function(k){return null!=k&&(We(k)||function P(k){return"function"==typeof k.readFloatLE&&"function"==typeof k.slice&&We(k.slice(0,0))}(k)||!!k._isBuffer)}},8642:$e=>{"use strict";var k,l,We=Function.prototype.toString,P="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof P&&"function"==typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw l}}),l={},P(function(){throw 42},null,k)}catch(he){he!==l&&(P=null)}else P=null;var re=/^\s*class\b/,te=function(Z){try{var K=We.call(Z);return re.test(K)}catch{return!1}},G=function(Z){try{return!te(Z)&&(We.call(Z),!0)}catch{return!1}},Q=Object.prototype.toString,$="function"==typeof Symbol&&!!Symbol.toStringTag,H=!(0 in[,]),Pe=function(){return!1};if("object"==typeof document){var Le=document.all;Q.call(Le)===Q.call(document.all)&&(Pe=function(Z){if((H||!Z)&&(typeof Z>"u"||"object"==typeof Z))try{var K=Q.call(Z);return("[object HTMLAllCollection]"===K||"[object HTML document.all class]"===K||"[object HTMLCollection]"===K||"[object Object]"===K)&&null==Z("")}catch{}return!1})}$e.exports=P?function(Z){if(Pe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;try{P(Z,null,k)}catch(K){if(K!==l)return!1}return!te(Z)&&G(Z)}:function(Z){if(Pe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;if($)return G(Z);if(te(Z))return!1;var K=Q.call(Z);return!("[object Function]"!==K&&"[object GeneratorFunction]"!==K&&!/^\[object HTML/.test(K))&&G(Z)}},4666:($e,We,P)=>{"use strict";var k=Date.prototype.getDay,re=Object.prototype.toString,G=P(3261)();$e.exports=function(L){return"object"==typeof L&&null!==L&&(G?function(L){try{return k.call(L),!0}catch{return!1}}(L):"[object Date]"===re.call(L))}},9898:$e=>{"use strict";var k,We="function"==typeof Map&&Map.prototype?Map:null,P="function"==typeof Set&&Set.prototype?Set:null;We||(k=function(G){return!1});var l=We?Map.prototype.has:null,re=P?Set.prototype.has:null;!k&&!l&&(k=function(G){return!1}),$e.exports=k||function(G){if(!G||"object"!=typeof G)return!1;try{if(l.call(G),re)try{re.call(G)}catch{return!0}return G instanceof We}catch{}return!1}},1046:($e,We,P)=>{"use strict";var k=Number.prototype.toString,re=Object.prototype.toString,G=P(3261)();$e.exports=function(L){return"number"==typeof L||"object"==typeof L&&(G?function(L){try{return k.call(L),!0}catch{return!1}}(L):"[object Number]"===re.call(L))}},6687:($e,We,P)=>{"use strict";var re,te,G,Q,k=P(4263),l=P(3261)();if(l){re=k("Object.prototype.hasOwnProperty"),te=k("RegExp.prototype.exec"),G={};var L=function(){throw G};Q={toString:L,valueOf:L},"symbol"==typeof Symbol.toPrimitive&&(Q[Symbol.toPrimitive]=L)}var U=k("Object.prototype.toString"),ue=Object.getOwnPropertyDescriptor;$e.exports=l?function(V){if(!V||"object"!=typeof V)return!1;var $=ue(V,"lastIndex");if(!$||!re($,"value"))return!1;try{te(V,Q)}catch(Pe){return Pe===G}}:function(V){return!(!V||"object"!=typeof V&&"function"!=typeof V)&&"[object RegExp]"===U(V)}},3870:$e=>{"use strict";var k,We="function"==typeof Map&&Map.prototype?Map:null,P="function"==typeof Set&&Set.prototype?Set:null;P||(k=function(G){return!1});var l=We?Map.prototype.has:null,re=P?Set.prototype.has:null;!k&&!re&&(k=function(G){return!1}),$e.exports=k||function(G){if(!G||"object"!=typeof G)return!1;try{if(re.call(G),l)try{l.call(G)}catch{return!0}return G instanceof P}catch{}return!1}},3163:($e,We,P)=>{"use strict";var l=P(4263)("SharedArrayBuffer.prototype.byteLength",!0);$e.exports=l?function(te){if(!te||"object"!=typeof te)return!1;try{return l(te),!0}catch{return!1}}:function(te){return!1}},4764:($e,We,P)=>{"use strict";var k=String.prototype.valueOf,re=Object.prototype.toString,G=P(3261)();$e.exports=function(L){return"string"==typeof L||"object"==typeof L&&(G?function(L){try{return k.call(L),!0}catch{return!1}}(L):"[object String]"===re.call(L))}},6434:($e,We,P)=>{"use strict";var k=Object.prototype.toString;if(P(524)()){var re=Symbol.prototype.toString,te=/^Symbol\(.*\)$/;$e.exports=function(L){if("symbol"==typeof L)return!0;if("[object Symbol]"!==k.call(L))return!1;try{return function(L){return"symbol"==typeof L.valueOf()&&te.test(re.call(L))}(L)}catch{return!1}}}else $e.exports=function(L){return!1}},7673:($e,We,P)=>{"use strict";var k=P(3037),l=P(5271),re=P(4263),te=re("Object.prototype.toString"),G=P(3261)(),Q=P(253),L=typeof globalThis>"u"?global:globalThis,U=l(),ue=re("Array.prototype.indexOf",!0)||function(Pe,Le){for(var he=0;he<Pe.length;he+=1)if(Pe[he]===Le)return he;return-1},X=re("String.prototype.slice"),ie={},V=Object.getPrototypeOf;G&&Q&&V&&k(U,function(H){var Pe=new L[H];if(Symbol.toStringTag in Pe){var Le=V(Pe),he=Q(Le,Symbol.toStringTag);if(!he){var Z=V(Le);he=Q(Z,Symbol.toStringTag)}ie[H]=he.get}}),$e.exports=function(Pe){if(!Pe||"object"!=typeof Pe)return!1;if(!G||!(Symbol.toStringTag in Pe)){var Le=X(te(Pe),8,-1);return ue(U,Le)>-1}return!!Q&&function(Pe){var Le=!1;return k(ie,function(he,Z){if(!Le)try{Le=he.call(Pe)===Z}catch{}}),Le}(Pe)}},5585:$e=>{"use strict";var k,We="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,P="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;We||(k=function(G){return!1});var l=We?We.prototype.has:null,re=P?P.prototype.has:null;!k&&!l&&(k=function(G){return!1}),$e.exports=k||function(G){if(!G||"object"!=typeof G)return!1;try{if(l.call(G,l),re)try{re.call(G,re)}catch{return!0}return G instanceof We}catch{}return!1}},1902:($e,We,P)=>{"use strict";var k=P(9903),l=P(4263),re=k("%WeakSet%",!0),te=l("WeakSet.prototype.has",!0);if(te){var G=l("WeakMap.prototype.has",!0);$e.exports=function(L){if(!L||"object"!=typeof L)return!1;try{if(te(L,te),G)try{G(L,G)}catch{return!0}return L instanceof re}catch{}return!1}}else $e.exports=function(L){return!1}},8266:$e=>{var We={}.toString;$e.exports=Array.isArray||function(P){return"[object Array]"==We.call(P)}},5023:($e,We,P)=>{var k,l,re,te,G;k=P(7175),l=P(5107).utf8,re=P(5057),te=P(5107).bin,(G=function(Q,L){Q.constructor==String?Q=L&&"binary"===L.encoding?te.stringToBytes(Q):l.stringToBytes(Q):re(Q)?Q=Array.prototype.slice.call(Q,0):!Array.isArray(Q)&&Q.constructor!==Uint8Array&&(Q=Q.toString());for(var U=k.bytesToWords(Q),ue=8*Q.length,X=1732584193,ie=-271733879,V=-1732584194,$=271733878,H=0;H<U.length;H++)U[H]=16711935&(U[H]<<8|U[H]>>>24)|4278255360&(U[H]<<24|U[H]>>>8);U[ue>>>5]|=128<<ue%32,U[14+(ue+64>>>9<<4)]=ue;var Pe=G._ff,Le=G._gg,he=G._hh,Z=G._ii;for(H=0;H<U.length;H+=16){var K=X,fe=ie,Re=V,de=$;X=Pe(X,ie,V,$,U[H+0],7,-680876936),$=Pe($,X,ie,V,U[H+1],12,-389564586),V=Pe(V,$,X,ie,U[H+2],17,606105819),ie=Pe(ie,V,$,X,U[H+3],22,-1044525330),X=Pe(X,ie,V,$,U[H+4],7,-176418897),$=Pe($,X,ie,V,U[H+5],12,1200080426),V=Pe(V,$,X,ie,U[H+6],17,-1473231341),ie=Pe(ie,V,$,X,U[H+7],22,-45705983),X=Pe(X,ie,V,$,U[H+8],7,1770035416),$=Pe($,X,ie,V,U[H+9],12,-1958414417),V=Pe(V,$,X,ie,U[H+10],17,-42063),ie=Pe(ie,V,$,X,U[H+11],22,-1990404162),X=Pe(X,ie,V,$,U[H+12],7,1804603682),$=Pe($,X,ie,V,U[H+13],12,-40341101),V=Pe(V,$,X,ie,U[H+14],17,-1502002290),X=Le(X,ie=Pe(ie,V,$,X,U[H+15],22,1236535329),V,$,U[H+1],5,-165796510),$=Le($,X,ie,V,U[H+6],9,-1069501632),V=Le(V,$,X,ie,U[H+11],14,643717713),ie=Le(ie,V,$,X,U[H+0],20,-373897302),X=Le(X,ie,V,$,U[H+5],5,-701558691),$=Le($,X,ie,V,U[H+10],9,38016083),V=Le(V,$,X,ie,U[H+15],14,-660478335),ie=Le(ie,V,$,X,U[H+4],20,-405537848),X=Le(X,ie,V,$,U[H+9],5,568446438),$=Le($,X,ie,V,U[H+14],9,-1019803690),V=Le(V,$,X,ie,U[H+3],14,-187363961),ie=Le(ie,V,$,X,U[H+8],20,1163531501),X=Le(X,ie,V,$,U[H+13],5,-1444681467),$=Le($,X,ie,V,U[H+2],9,-51403784),V=Le(V,$,X,ie,U[H+7],14,1735328473),X=he(X,ie=Le(ie,V,$,X,U[H+12],20,-1926607734),V,$,U[H+5],4,-378558),$=he($,X,ie,V,U[H+8],11,-2022574463),V=he(V,$,X,ie,U[H+11],16,1839030562),ie=he(ie,V,$,X,U[H+14],23,-35309556),X=he(X,ie,V,$,U[H+1],4,-1530992060),$=he($,X,ie,V,U[H+4],11,1272893353),V=he(V,$,X,ie,U[H+7],16,-155497632),ie=he(ie,V,$,X,U[H+10],23,-1094730640),X=he(X,ie,V,$,U[H+13],4,681279174),$=he($,X,ie,V,U[H+0],11,-358537222),V=he(V,$,X,ie,U[H+3],16,-722521979),ie=he(ie,V,$,X,U[H+6],23,76029189),X=he(X,ie,V,$,U[H+9],4,-640364487),$=he($,X,ie,V,U[H+12],11,-421815835),V=he(V,$,X,ie,U[H+15],16,530742520),X=Z(X,ie=he(ie,V,$,X,U[H+2],23,-995338651),V,$,U[H+0],6,-198630844),$=Z($,X,ie,V,U[H+7],10,1126891415),V=Z(V,$,X,ie,U[H+14],15,-1416354905),ie=Z(ie,V,$,X,U[H+5],21,-57434055),X=Z(X,ie,V,$,U[H+12],6,1700485571),$=Z($,X,ie,V,U[H+3],10,-1894986606),V=Z(V,$,X,ie,U[H+10],15,-1051523),ie=Z(ie,V,$,X,U[H+1],21,-2054922799),X=Z(X,ie,V,$,U[H+8],6,1873313359),$=Z($,X,ie,V,U[H+15],10,-30611744),V=Z(V,$,X,ie,U[H+6],15,-1560198380),ie=Z(ie,V,$,X,U[H+13],21,1309151649),X=Z(X,ie,V,$,U[H+4],6,-145523070),$=Z($,X,ie,V,U[H+11],10,-1120210379),V=Z(V,$,X,ie,U[H+2],15,718787259),ie=Z(ie,V,$,X,U[H+9],21,-343485551),X=X+K>>>0,ie=ie+fe>>>0,V=V+Re>>>0,$=$+de>>>0}return k.endian([X,ie,V,$])})._ff=function(Q,L,U,ue,X,ie,V){var $=Q+(L&U|~L&ue)+(X>>>0)+V;return($<<ie|$>>>32-ie)+L},G._gg=function(Q,L,U,ue,X,ie,V){var $=Q+(L&ue|U&~ue)+(X>>>0)+V;return($<<ie|$>>>32-ie)+L},G._hh=function(Q,L,U,ue,X,ie,V){var $=Q+(L^U^ue)+(X>>>0)+V;return($<<ie|$>>>32-ie)+L},G._ii=function(Q,L,U,ue,X,ie,V){var $=Q+(U^(L|~ue))+(X>>>0)+V;return($<<ie|$>>>32-ie)+L},G._blocksize=16,G._digestsize=16,$e.exports=function(Q,L){if(null==Q)throw new Error("Illegal argument "+Q);var U=k.wordsToBytes(G(Q,L));return L&&L.asBytes?U:L&&L.asString?te.bytesToString(U):k.bytesToHex(U)}},9052:($e,We)=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var P=[];P[0]=function(){return function(){}},P[1]=function(te,G){return typeof G>"u"?te:function(L){te(L,G)}};var re=function(){function te(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return te.prototype.addHandler=function(G,Q){return this.isHandlerAttached(G,Q)||(this._handlers.push(G),this._contexts.push(Q),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.removeHandler=function(G,Q){var L=this._getHandlerIndex(G,Q);return typeof L<"u"&&(this._handlers.splice(L,1),this._contexts.splice(L,1),this._createDispatcher(),this._updateHasHandlers()),this},te.prototype.isHandlerAttached=function(G,Q){return typeof this._getHandlerIndex(G,Q)<"u"},te.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},te.prototype._getHandlerIndex=function(G,Q){var U,L=this._handlers.length;for(U=0;U<L&&(this._handlers[U]!==G||this._contexts[U]!==Q);U++);return U<L?U:void 0},te.prototype._createDispatcher=function(){this.dispatch=function k(te){return P[te]||(P[te]=function l(te){for(var G="return function dispatcher"+te+"(payload) {\n",Q=[],L=[],U=0;U<te;U++)Q.push("cb"+U),L.push("ctx"+U),G+="    cb"+U+"(payload, ctx"+U+");\n";return G+="};",new(Function.bind.apply(Function,[void 0].concat(Q.concat(L),[G])))}(te)),P[te]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},te}();We.default=re},1158:($e,We,P)=>{"use strict";var l=P(9052);We.j=l.default},8597:($e,We,P)=>{var k="function"==typeof Map&&Map.prototype,l=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,re=k&&l&&"function"==typeof l.get?l.get:null,te=k&&Map.prototype.forEach,G="function"==typeof Set&&Set.prototype,Q=Object.getOwnPropertyDescriptor&&G?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,L=G&&Q&&"function"==typeof Q.get?Q.get:null,U=G&&Set.prototype.forEach,X="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,V="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,H="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Pe=Boolean.prototype.valueOf,Le=Object.prototype.toString,he=Function.prototype.toString,Z=String.prototype.match,K=String.prototype.slice,fe=String.prototype.replace,Re=String.prototype.toUpperCase,de=String.prototype.toLowerCase,it=RegExp.prototype.test,ce=Array.prototype.concat,Ce=Array.prototype.join,Ie=Array.prototype.slice,Ye=Math.floor,Ne="function"==typeof BigInt?BigInt.prototype.valueOf:null,Me=Object.getOwnPropertySymbols,ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ue="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Xe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,vt=Object.prototype.propertyIsEnumerable,un=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(le){return le.__proto__}:null);function Ze(le,Ge){if(le===1/0||le===-1/0||le!=le||le&&le>-1e3&&le<1e3||it.call(/e/,Ge))return Ge;var xn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof le){var Nn=le<0?-Ye(-le):Ye(le);if(Nn!==le){var Wt=String(Nn),Pt=K.call(Ge,Wt.length+1);return fe.call(Wt,xn,"$&_")+"."+fe.call(fe.call(Pt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fe.call(Ge,xn,"$&_")}var O=P(4654),ye=O.custom,tt=Jt(ye)?ye:null;function nt(le,Ge,xn){var Nn="double"===(xn.quoteStyle||Ge)?'"':"'";return Nn+le+Nn}function Ve(le){return fe.call(String(le),/"/g,"&quot;")}function q(le){return!("[object Array]"!==Jn(le)||Xe&&"object"==typeof le&&Xe in le)}function ht(le){return!("[object RegExp]"!==Jn(le)||Xe&&"object"==typeof le&&Xe in le)}function Jt(le){if(Ue)return le&&"object"==typeof le&&le instanceof Symbol;if("symbol"==typeof le)return!0;if(!le||"object"!=typeof le||!ne)return!1;try{return ne.call(le),!0}catch{}return!1}$e.exports=function le(Ge,xn,Nn,Wt){var Pt=xn||{};if(pr(Pt,"quoteStyle")&&"single"!==Pt.quoteStyle&&"double"!==Pt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pr(Pt,"maxStringLength")&&("number"==typeof Pt.maxStringLength?Pt.maxStringLength<0&&Pt.maxStringLength!==1/0:null!==Pt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var mr=!pr(Pt,"customInspect")||Pt.customInspect;if("boolean"!=typeof mr&&"symbol"!==mr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(pr(Pt,"indent")&&null!==Pt.indent&&"\t"!==Pt.indent&&!(parseInt(Pt.indent,10)===Pt.indent&&Pt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(pr(Pt,"numericSeparator")&&"boolean"!=typeof Pt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Xt=Pt.numericSeparator;if(typeof Ge>"u")return"undefined";if(null===Ge)return"null";if("boolean"==typeof Ge)return Ge?"true":"false";if("string"==typeof Ge)return Ar(Ge,Pt);if("number"==typeof Ge){if(0===Ge)return 1/0/Ge>0?"0":"-0";var er=String(Ge);return Xt?Ze(Ge,er):er}if("bigint"==typeof Ge){var tr=String(Ge)+"n";return Xt?Ze(Ge,tr):tr}var cn=typeof Pt.depth>"u"?5:Pt.depth;if(typeof Nn>"u"&&(Nn=0),Nn>=cn&&cn>0&&"object"==typeof Ge)return q(Ge)?"[Array]":"[Object]";var Ut=function Ji(le,Ge){var xn;if("\t"===le.indent)xn="\t";else{if(!("number"==typeof le.indent&&le.indent>0))return null;xn=Ce.call(Array(le.indent+1)," ")}return{base:xn,prev:Ce.call(Array(Ge+1),xn)}}(Pt,Nn);if(typeof Wt>"u")Wt=[];else if(Yr(Wt,Ge)>=0)return"[Circular]";function E(ci,Qo,wo){if(Qo&&(Wt=Ie.call(Wt)).push(Qo),wo){var Wr={depth:Pt.depth};return pr(Pt,"quoteStyle")&&(Wr.quoteStyle=Pt.quoteStyle),le(ci,Wr,Nn+1,Wt)}return le(ci,Pt,Nn+1,Wt)}if("function"==typeof Ge&&!ht(Ge)){var S=function Lo(le){if(le.name)return le.name;var Ge=Z.call(he.call(le),/^function\s*([\w$]+)/);return Ge?Ge[1]:null}(Ge),Yn=ct(Ge,E);return"[Function"+(S?": "+S:" (anonymous)")+"]"+(Yn.length>0?" { "+Ce.call(Yn,", ")+" }":"")}if(Jt(Ge)){var D=Ue?fe.call(String(Ge),/^(Symbol\(.*\))_[^)]*$/,"$1"):ne.call(Ge);return"object"!=typeof Ge||Ue?D:$r(D)}if(function Gr(le){return!(!le||"object"!=typeof le)&&(typeof HTMLElement<"u"&&le instanceof HTMLElement||"string"==typeof le.nodeName&&"function"==typeof le.getAttribute)}(Ge)){for(var Pn="<"+de.call(String(Ge.nodeName)),$o=Ge.attributes||[],Xo=0;Xo<$o.length;Xo++)Pn+=" "+$o[Xo].name+"="+nt(Ve($o[Xo].value),"double",Pt);return Pn+=">",Ge.childNodes&&Ge.childNodes.length&&(Pn+="..."),Pn+"</"+de.call(String(Ge.nodeName))+">"}if(q(Ge)){if(0===Ge.length)return"[]";var bo=ct(Ge,E);return Ut&&!function Xr(le){for(var Ge=0;Ge<le.length;Ge++)if(Yr(le[Ge],"\n")>=0)return!1;return!0}(bo)?"["+Br(bo,Ut)+"]":"[ "+Ce.call(bo,", ")+" ]"}if(function Ae(le){return!("[object Error]"!==Jn(le)||Xe&&"object"==typeof le&&Xe in le)}(Ge)){var Oi=ct(Ge,E);return"cause"in Error.prototype||!("cause"in Ge)||vt.call(Ge,"cause")?0===Oi.length?"["+String(Ge)+"]":"{ ["+String(Ge)+"] "+Ce.call(Oi,", ")+" }":"{ ["+String(Ge)+"] "+Ce.call(ce.call("[cause]: "+E(Ge.cause),Oi),", ")+" }"}if("object"==typeof Ge&&mr){if(tt&&"function"==typeof Ge[tt]&&O)return O(Ge,{depth:cn-Nn});if("symbol"!==mr&&"function"==typeof Ge.inspect)return Ge.inspect()}if(function bi(le){if(!re||!le||"object"!=typeof le)return!1;try{re.call(le);try{L.call(le)}catch{return!0}return le instanceof Map}catch{}return!1}(Ge)){var Bo=[];return te&&te.call(Ge,function(ci,Qo){Bo.push(E(Qo,Ge,!0)+" => "+E(ci,Ge))}),mn("Map",re.call(Ge),Bo,Ut)}if(function Vn(le){if(!L||!le||"object"!=typeof le)return!1;try{L.call(le);try{re.call(le)}catch{return!0}return le instanceof Set}catch{}return!1}(Ge)){var Ci=[];return U&&U.call(Ge,function(ci){Ci.push(E(ci,Ge))}),mn("Set",L.call(Ge),Ci,Ut)}if(function Mn(le){if(!X||!le||"object"!=typeof le)return!1;try{X.call(le,X);try{V.call(le,V)}catch{return!0}return le instanceof WeakMap}catch{}return!1}(Ge))return no("WeakMap");if(function wi(le){if(!V||!le||"object"!=typeof le)return!1;try{V.call(le,V);try{X.call(le,X)}catch{return!0}return le instanceof WeakSet}catch{}return!1}(Ge))return no("WeakSet");if(function uo(le){if(!H||!le||"object"!=typeof le)return!1;try{return H.call(le),!0}catch{}return!1}(Ge))return no("WeakRef");if(function ln(le){return!("[object Number]"!==Jn(le)||Xe&&"object"==typeof le&&Xe in le)}(Ge))return $r(E(Number(Ge)));if(function W(le){if(!le||"object"!=typeof le||!Ne)return!1;try{return Ne.call(le),!0}catch{}return!1}(Ge))return $r(E(Ne.call(Ge)));if(function Yt(le){return!("[object Boolean]"!==Jn(le)||Xe&&"object"==typeof le&&Xe in le)}(Ge))return $r(Pe.call(Ge));if(function Mt(le){return!("[object String]"!==Jn(le)||Xe&&"object"==typeof le&&Xe in le)}(Ge))return $r(E(String(Ge)));if(!function _e(le){return!("[object Date]"!==Jn(le)||Xe&&"object"==typeof le&&Xe in le)}(Ge)&&!ht(Ge)){var Si=ct(Ge,E),ro=un?un(Ge)===Object.prototype:Ge instanceof Object||Ge.constructor===Object,Vo=Ge instanceof Object?"":"null prototype",gr=!ro&&Xe&&Object(Ge)===Ge&&Xe in Ge?K.call(Jn(Ge),8,-1):Vo?"Object":"",Qr=(ro||"function"!=typeof Ge.constructor?"":Ge.constructor.name?Ge.constructor.name+" ":"")+(gr||Vo?"["+Ce.call(ce.call([],gr||[],Vo||[]),": ")+"] ":"");return 0===Si.length?Qr+"{}":Ut?Qr+"{"+Br(Si,Ut)+"}":Qr+"{ "+Ce.call(Si,", ")+" }"}return String(Ge)};var vn=Object.prototype.hasOwnProperty||function(le){return le in this};function pr(le,Ge){return vn.call(le,Ge)}function Jn(le){return Le.call(le)}function Yr(le,Ge){if(le.indexOf)return le.indexOf(Ge);for(var xn=0,Nn=le.length;xn<Nn;xn++)if(le[xn]===Ge)return xn;return-1}function Ar(le,Ge){if(le.length>Ge.maxStringLength){var xn=le.length-Ge.maxStringLength,Nn="... "+xn+" more character"+(xn>1?"s":"");return Ar(K.call(le,0,Ge.maxStringLength),Ge)+Nn}return nt(fe.call(fe.call(le,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,sr),"single",Ge)}function sr(le){var Ge=le.charCodeAt(0),xn={8:"b",9:"t",10:"n",12:"f",13:"r"}[Ge];return xn?"\\"+xn:"\\x"+(Ge<16?"0":"")+Re.call(Ge.toString(16))}function $r(le){return"Object("+le+")"}function no(le){return le+" { ? }"}function mn(le,Ge,xn,Nn){return le+" ("+Ge+") {"+(Nn?Br(xn,Nn):Ce.call(xn,", "))+"}"}function Br(le,Ge){if(0===le.length)return"";var xn="\n"+Ge.prev+Ge.base;return xn+Ce.call(le,","+xn)+"\n"+Ge.prev}function ct(le,Ge){var xn=q(le),Nn=[];if(xn){Nn.length=le.length;for(var Wt=0;Wt<le.length;Wt++)Nn[Wt]=pr(le,Wt)?Ge(le[Wt],le):""}var mr,Pt="function"==typeof Me?Me(le):[];if(Ue){mr={};for(var Xt=0;Xt<Pt.length;Xt++)mr["$"+Pt[Xt]]=Pt[Xt]}for(var er in le)pr(le,er)&&(xn&&String(Number(er))===er&&er<le.length||Ue&&mr["$"+er]instanceof Symbol||(it.call(/[^\w$]/,er)?Nn.push(Ge(er,le)+": "+Ge(le[er],le)):Nn.push(er+": "+Ge(le[er],le))));if("function"==typeof Me)for(var tr=0;tr<Pt.length;tr++)vt.call(le,Pt[tr])&&Nn.push("["+Ge(Pt[tr])+"]: "+Ge(le[Pt[tr]],le));return Nn}},6872:$e=>{"use strict";var We=function(P){return P!=P};$e.exports=function(k,l){return 0===k&&0===l?1/k==1/l:!!(k===l||We(k)&&We(l))}},5734:($e,We,P)=>{"use strict";var k=P(1790),l=P(3855),re=P(6872),te=P(3306),G=P(7715),Q=l(te(),Object);k(Q,{getPolyfill:te,implementation:re,shim:G}),$e.exports=Q},3306:($e,We,P)=>{"use strict";var k=P(6872);$e.exports=function(){return"function"==typeof Object.is?Object.is:k}},7715:($e,We,P)=>{"use strict";var k=P(3306),l=P(1790);$e.exports=function(){var te=k();return l(Object,{is:te},{is:function(){return Object.is!==te}}),te}},7010:($e,We,P)=>{"use strict";var k;if(!Object.keys){var l=Object.prototype.hasOwnProperty,re=Object.prototype.toString,te=P(5185),G=Object.prototype.propertyIsEnumerable,Q=!G.call({toString:null},"toString"),L=G.call(function(){},"prototype"),U=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ue=function($){var H=$.constructor;return H&&H.prototype===$},X={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ie=function(){if(typeof window>"u")return!1;for(var $ in window)try{if(!X["$"+$]&&l.call(window,$)&&null!==window[$]&&"object"==typeof window[$])try{ue(window[$])}catch{return!0}}catch{return!0}return!1}();k=function(H){var Pe=null!==H&&"object"==typeof H,Le="[object Function]"===re.call(H),he=te(H),Z=Pe&&"[object String]"===re.call(H),K=[];if(!Pe&&!Le&&!he)throw new TypeError("Object.keys called on a non-object");var fe=L&&Le;if(Z&&H.length>0&&!l.call(H,0))for(var Re=0;Re<H.length;++Re)K.push(String(Re));if(he&&H.length>0)for(var de=0;de<H.length;++de)K.push(String(de));else for(var it in H)(!fe||"prototype"!==it)&&l.call(H,it)&&K.push(String(it));if(Q)for(var ce=function($){if(typeof window>"u"||!ie)return ue($);try{return ue($)}catch{return!1}}(H),Ce=0;Ce<U.length;++Ce)(!ce||"constructor"!==U[Ce])&&l.call(H,U[Ce])&&K.push(U[Ce]);return K}}$e.exports=k},2093:($e,We,P)=>{"use strict";var k=Array.prototype.slice,l=P(5185),re=Object.keys,te=re?function(L){return re(L)}:P(7010),G=Object.keys;te.shim=function(){if(Object.keys){var L=function(){var U=Object.keys(arguments);return U&&U.length===arguments.length}(1,2);L||(Object.keys=function(ue){return l(ue)?G(k.call(ue)):G(ue)})}else Object.keys=te;return Object.keys||te},$e.exports=te},5185:$e=>{"use strict";var We=Object.prototype.toString;$e.exports=function(k){var l=We.call(k),re="[object Arguments]"===l;return re||(re="[object Array]"!==l&&null!==k&&"object"==typeof k&&"number"==typeof k.length&&k.length>=0&&"[object Function]"===We.call(k.callee)),re}},2461:($e,We,P)=>{"use strict";var k=P(2093),l=P(6858)(),re=P(4263),te=Object,G=re("Array.prototype.push"),Q=re("Object.prototype.propertyIsEnumerable"),L=l?Object.getOwnPropertySymbols:null;$e.exports=function(ue,X){if(null==ue)throw new TypeError("target must be an object");var ie=te(ue);if(1===arguments.length)return ie;for(var V=1;V<arguments.length;++V){var $=te(arguments[V]),H=k($),Pe=l&&(Object.getOwnPropertySymbols||L);if(Pe)for(var Le=Pe($),he=0;he<Le.length;++he){var Z=Le[he];Q($,Z)&&G(H,Z)}for(var K=0;K<H.length;++K){var fe=H[K];if(Q($,fe)){var Re=$[fe];ie[fe]=Re}}}return ie}},6189:($e,We,P)=>{"use strict";var k=P(1790),l=P(3855),re=P(2461),te=P(6255),G=P(152),Q=l.apply(te()),L=function(ue,X){return Q(Object,arguments)};k(L,{getPolyfill:te,implementation:re,shim:G}),$e.exports=L},6255:($e,We,P)=>{"use strict";var k=P(2461);$e.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var te="abcdefghijklmnopqrst",G=te.split(""),Q={},L=0;L<G.length;++L)Q[G[L]]=G[L];var U=Object.assign({},Q),ue="";for(var X in U)ue+=X;return te!==ue}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var te=Object.preventExtensions({1:2});try{Object.assign(te,"xy")}catch{return"y"===te[1]}return!1}()?k:Object.assign}},152:($e,We,P)=>{"use strict";var k=P(1790),l=P(6255);$e.exports=function(){var te=l();return k(Object,{assign:te},{assign:function(){return Object.assign!==te}}),te}},151:($e,We)=>{"use strict";var P=Object.prototype.hasOwnProperty;function l(Q){try{return decodeURIComponent(Q.replace(/\+/g," "))}catch{return null}}function re(Q){try{return encodeURIComponent(Q)}catch{return null}}We.stringify=function G(Q,L){L=L||"";var ue,X,U=[];for(X in"string"!=typeof L&&(L="?"),Q)if(P.call(Q,X)){if(!(ue=Q[X])&&(null==ue||isNaN(ue))&&(ue=""),X=re(X),ue=re(ue),null===X||null===ue)continue;U.push(X+"="+ue)}return U.length?L+U.join("&"):""},We.parse=function te(Q){for(var ue,L=/([^=?#&]+)=?([^&]*)/g,U={};ue=L.exec(Q);){var X=l(ue[1]),ie=l(ue[2]);null===X||null===ie||X in U||(U[X]=ie)}return U}},4040:($e,We,P)=>{"use strict";var k=P(3677).functionsHaveConfigurableNames(),l=Object,re=TypeError;$e.exports=function(){if(null!=this&&this!==l(this))throw new re("RegExp.prototype.flags getter called on non-object");var G="";return this.hasIndices&&(G+="d"),this.global&&(G+="g"),this.ignoreCase&&(G+="i"),this.multiline&&(G+="m"),this.dotAll&&(G+="s"),this.unicode&&(G+="u"),this.sticky&&(G+="y"),G},k&&Object.defineProperty&&Object.defineProperty($e.exports,"name",{value:"get flags"})},8704:($e,We,P)=>{"use strict";var k=P(1790),l=P(3855),re=P(4040),te=P(9783),G=P(9369),Q=l(te());k(Q,{getPolyfill:te,implementation:re,shim:G}),$e.exports=Q},9783:($e,We,P)=>{"use strict";var k=P(4040),l=P(1790).supportsDescriptors,re=Object.getOwnPropertyDescriptor;$e.exports=function(){if(l&&"gim"===/a/gim.flags){var G=re(RegExp.prototype,"flags");if(G&&"function"==typeof G.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var Q="",L={};if(Object.defineProperty(L,"hasIndices",{get:function(){Q+="d"}}),Object.defineProperty(L,"sticky",{get:function(){Q+="y"}}),"dy"===Q)return G.get}}return k}},9369:($e,We,P)=>{"use strict";var k=P(1790).supportsDescriptors,l=P(9783),re=Object.getOwnPropertyDescriptor,te=Object.defineProperty,G=TypeError,Q=Object.getPrototypeOf,L=/a/;$e.exports=function(){if(!k||!Q)throw new G("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var ue=l(),X=Q(L),ie=re(X,"flags");return(!ie||ie.get!==ue)&&te(X,"flags",{configurable:!0,enumerable:!1,get:ue}),ue}},47:$e=>{"use strict";$e.exports=function(P,k){if(k=k.split(":")[0],!(P=+P))return!1;switch(k){case"http":case"ws":return 80!==P;case"https":case"wss":return 443!==P;case"ftp":return 21!==P;case"gopher":return 70!==P;case"file":return!1}return 0!==P}},8432:($e,We,P)=>{"use strict";var k=P(9903),l=P(4263),re=P(8597),te=k("%TypeError%"),G=k("%WeakMap%",!0),Q=k("%Map%",!0),L=l("WeakMap.prototype.get",!0),U=l("WeakMap.prototype.set",!0),ue=l("WeakMap.prototype.has",!0),X=l("Map.prototype.get",!0),ie=l("Map.prototype.set",!0),V=l("Map.prototype.has",!0),$=function(he,Z){for(var fe,K=he;null!==(fe=K.next);K=fe)if(fe.key===Z)return K.next=fe.next,fe.next=he.next,he.next=fe,fe};$e.exports=function(){var Z,K,fe,Re={assert:function(de){if(!Re.has(de))throw new te("Side channel does not contain "+re(de))},get:function(de){if(G&&de&&("object"==typeof de||"function"==typeof de)){if(Z)return L(Z,de)}else if(Q){if(K)return X(K,de)}else if(fe)return function(he,Z){var K=$(he,Z);return K&&K.value}(fe,de)},has:function(de){if(G&&de&&("object"==typeof de||"function"==typeof de)){if(Z)return ue(Z,de)}else if(Q){if(K)return V(K,de)}else if(fe)return function(he,Z){return!!$(he,Z)}(fe,de);return!1},set:function(de,it){G&&de&&("object"==typeof de||"function"==typeof de)?(Z||(Z=new G),U(Z,de,it)):Q?(K||(K=new Q),ie(K,de,it)):(fe||(fe={key:{},next:null}),function(he,Z,K){var fe=$(he,Z);fe?fe.value=K:he.next={key:Z,next:he.next,value:K}}(fe,de,it))}};return Re}},8519:($e,We,P)=>{"use strict";var k=P(5847),l=SyntaxError,re="object"==typeof StopIteration?StopIteration:null;$e.exports=function(G){if(!re)throw new l("this environment lacks StopIteration");k.set(G,"[[Done]]",!1);var Q={next:function(){var U=k.get(this,"[[Iterator]]"),ue=k.get(U,"[[Done]]");try{return{done:ue,value:ue?void 0:U.next()}}catch(X){if(k.set(U,"[[Done]]",!0),X!==re)throw X;return{done:!0,value:void 0}}}};return k.set(Q,"[[Iterator]]",G),Q}},9233:($e,We,P)=>{"use strict";var k=P(47),l=P(151),re=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,te=/[\n\r\t]/g,G=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Q=/:\d+$/,L=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,U=/^[a-zA-Z]:/;function ue(K){return(K||"").toString().replace(re,"")}var X=[["#","hash"],["?","query"],function(fe,Re){return $(Re.protocol)?fe.replace(/\\/g,"/"):fe},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ie={hash:1,query:1};function V(K){var fe;fe=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ce,de={},it=typeof(K=K||fe.location||{});if("blob:"===K.protocol)de=new Le(unescape(K.pathname),{});else if("string"===it)for(ce in de=new Le(K,{}),ie)delete de[ce];else if("object"===it){for(ce in K)ce in ie||(de[ce]=K[ce]);void 0===de.slashes&&(de.slashes=G.test(K.href))}return de}function $(K){return"file:"===K||"ftp:"===K||"http:"===K||"https:"===K||"ws:"===K||"wss:"===K}function H(K,fe){K=(K=ue(K)).replace(te,""),fe=fe||{};var Ie,Re=L.exec(K),de=Re[1]?Re[1].toLowerCase():"",it=!!Re[2],ce=!!Re[3],Ce=0;return it?ce?(Ie=Re[2]+Re[3]+Re[4],Ce=Re[2].length+Re[3].length):(Ie=Re[2]+Re[4],Ce=Re[2].length):ce?(Ie=Re[3]+Re[4],Ce=Re[3].length):Ie=Re[4],"file:"===de?Ce>=2&&(Ie=Ie.slice(2)):$(de)?Ie=Re[4]:de?it&&(Ie=Ie.slice(2)):Ce>=2&&$(fe.protocol)&&(Ie=Re[4]),{protocol:de,slashes:it||$(de),slashesCount:Ce,rest:Ie}}function Le(K,fe,Re){if(K=(K=ue(K)).replace(te,""),!(this instanceof Le))return new Le(K,fe,Re);var de,it,ce,Ce,Ie,Ye,Ne=X.slice(),Me=typeof fe,ne=this,Ue=0;for("object"!==Me&&"string"!==Me&&(Re=fe,fe=null),Re&&"function"!=typeof Re&&(Re=l.parse),de=!(it=H(K||"",fe=V(fe))).protocol&&!it.slashes,ne.slashes=it.slashes||de&&fe.slashes,ne.protocol=it.protocol||fe.protocol||"",K=it.rest,("file:"===it.protocol&&(2!==it.slashesCount||U.test(K))||!it.slashes&&(it.protocol||it.slashesCount<2||!$(ne.protocol)))&&(Ne[3]=[/(.*)/,"pathname"]);Ue<Ne.length;Ue++)"function"!=typeof(Ce=Ne[Ue])?(Ye=Ce[1],(ce=Ce[0])!=ce?ne[Ye]=K:"string"==typeof ce?~(Ie="@"===ce?K.lastIndexOf(ce):K.indexOf(ce))&&("number"==typeof Ce[2]?(ne[Ye]=K.slice(0,Ie),K=K.slice(Ie+Ce[2])):(ne[Ye]=K.slice(Ie),K=K.slice(0,Ie))):(Ie=ce.exec(K))&&(ne[Ye]=Ie[1],K=K.slice(0,Ie.index)),ne[Ye]=ne[Ye]||de&&Ce[3]&&fe[Ye]||"",Ce[4]&&(ne[Ye]=ne[Ye].toLowerCase())):K=Ce(K,ne);Re&&(ne.query=Re(ne.query)),de&&fe.slashes&&"/"!==ne.pathname.charAt(0)&&(""!==ne.pathname||""!==fe.pathname)&&(ne.pathname=function Pe(K,fe){if(""===K)return fe;for(var Re=(fe||"/").split("/").slice(0,-1).concat(K.split("/")),de=Re.length,it=Re[de-1],ce=!1,Ce=0;de--;)"."===Re[de]?Re.splice(de,1):".."===Re[de]?(Re.splice(de,1),Ce++):Ce&&(0===de&&(ce=!0),Re.splice(de,1),Ce--);return ce&&Re.unshift(""),("."===it||".."===it)&&Re.push(""),Re.join("/")}(ne.pathname,fe.pathname)),"/"!==ne.pathname.charAt(0)&&$(ne.protocol)&&(ne.pathname="/"+ne.pathname),k(ne.port,ne.protocol)||(ne.host=ne.hostname,ne.port=""),ne.username=ne.password="",ne.auth&&(~(Ie=ne.auth.indexOf(":"))?(ne.username=ne.auth.slice(0,Ie),ne.username=encodeURIComponent(decodeURIComponent(ne.username)),ne.password=ne.auth.slice(Ie+1),ne.password=encodeURIComponent(decodeURIComponent(ne.password))):ne.username=encodeURIComponent(decodeURIComponent(ne.auth)),ne.auth=ne.password?ne.username+":"+ne.password:ne.username),ne.origin="file:"!==ne.protocol&&$(ne.protocol)&&ne.host?ne.protocol+"//"+ne.host:"null",ne.href=ne.toString()}Le.prototype={set:function he(K,fe,Re){var de=this;switch(K){case"query":"string"==typeof fe&&fe.length&&(fe=(Re||l.parse)(fe)),de[K]=fe;break;case"port":de[K]=fe,k(fe,de.protocol)?fe&&(de.host=de.hostname+":"+fe):(de.host=de.hostname,de[K]="");break;case"hostname":de[K]=fe,de.port&&(fe+=":"+de.port),de.host=fe;break;case"host":de[K]=fe,Q.test(fe)?(fe=fe.split(":"),de.port=fe.pop(),de.hostname=fe.join(":")):(de.hostname=fe,de.port="");break;case"protocol":de.protocol=fe.toLowerCase(),de.slashes=!Re;break;case"pathname":case"hash":if(fe){var it="pathname"===K?"/":"#";de[K]=fe.charAt(0)!==it?it+fe:fe}else de[K]=fe;break;case"username":case"password":de[K]=encodeURIComponent(fe);break;case"auth":var ce=fe.indexOf(":");~ce?(de.username=fe.slice(0,ce),de.username=encodeURIComponent(decodeURIComponent(de.username)),de.password=fe.slice(ce+1),de.password=encodeURIComponent(decodeURIComponent(de.password))):de.username=encodeURIComponent(decodeURIComponent(fe))}for(var Ce=0;Ce<X.length;Ce++){var Ie=X[Ce];Ie[4]&&(de[Ie[1]]=de[Ie[1]].toLowerCase())}return de.auth=de.password?de.username+":"+de.password:de.username,de.origin="file:"!==de.protocol&&$(de.protocol)&&de.host?de.protocol+"//"+de.host:"null",de.href=de.toString(),de},toString:function Z(K){(!K||"function"!=typeof K)&&(K=l.stringify);var fe,Re=this,de=Re.host,it=Re.protocol;it&&":"!==it.charAt(it.length-1)&&(it+=":");var ce=it+(Re.protocol&&Re.slashes||$(Re.protocol)?"//":"");return Re.username?(ce+=Re.username,Re.password&&(ce+=":"+Re.password),ce+="@"):Re.password?(ce+=":"+Re.password,ce+="@"):"file:"!==Re.protocol&&$(Re.protocol)&&!de&&"/"!==Re.pathname&&(ce+="@"),(":"===de[de.length-1]||Q.test(Re.hostname)&&!Re.port)&&(de+=":"),ce+=de+Re.pathname,(fe="object"==typeof Re.query?K(Re.query):Re.query)&&(ce+="?"!==fe.charAt(0)?"?"+fe:fe),Re.hash&&(ce+=Re.hash),ce}},Le.extractProtocol=H,Le.location=V,Le.trimLeft=ue,Le.qs=l,$e.exports=Le},2086:($e,We,P)=>{"use strict";var k=P(4764),l=P(1046),re=P(6180),te=P(6434),G=P(3);$e.exports=function(L){return null==L||"object"!=typeof L&&"function"!=typeof L?null:k(L)?"String":l(L)?"Number":re(L)?"Boolean":te(L)?"Symbol":G(L)?"BigInt":void 0}},5709:($e,We,P)=>{"use strict";var k=P(3037),l=P(5271),re=P(4263),te=P(253),G=re("Object.prototype.toString"),Q=P(3261)(),L=typeof globalThis>"u"?global:globalThis,U=l(),ue=re("String.prototype.slice"),X={},ie=Object.getPrototypeOf;Q&&te&&ie&&k(U,function(H){if("function"==typeof L[H]){var Pe=new L[H];if(Symbol.toStringTag in Pe){var Le=ie(Pe),he=te(Le,Symbol.toStringTag);if(!he){var Z=ie(Le);he=te(Z,Symbol.toStringTag)}X[H]=he.get}}});var $=P(7673);$e.exports=function(Pe){return!!$(Pe)&&(Q&&Symbol.toStringTag in Pe?function(Pe){var Le=!1;return k(X,function(he,Z){if(!Le)try{var K=he.call(Pe);K===Z&&(Le=K)}catch{}}),Le}(Pe):ue(G(Pe),8,-1))}},863:($e,We,P)=>{var k={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4017],"./ion-avatar_3.entry.js":[6655,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8308],"./ion-card_5.entry.js":[4690,4690],"./ion-checkbox.entry.js":[4090,4090],"./ion-chip.entry.js":[6214,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime-button.entry.js":[7950,5523,7950],"./ion-datetime_3.entry.js":[9689,5523,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9544],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,6108],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8994],"./ion-radio_2.entry.js":[3592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,4210],"./ion-reorder_2.entry.js":[2666,8592,8718],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8395],"./ion-textarea.entry.js":[6357,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function l(re){if(!P.o(k,re))return Promise.resolve().then(()=>{var Q=new Error("Cannot find module '"+re+"'");throw Q.code="MODULE_NOT_FOUND",Q});var te=k[re],G=te[0];return Promise.all(te.slice(1).map(P.e)).then(()=>P(G))}l.keys=()=>Object.keys(k),l.id=863,$e.exports=l},4654:()=>{},5271:$e=>{"use strict";var We=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],P=typeof globalThis>"u"?global:globalThis;$e.exports=function(){for(var l=[],re=0;re<We.length;re++)"function"==typeof P[We[re]]&&(l[l.length]=We[re]);return l}},2069:($e,We,P)=>{"use strict";var k=P(9102),l=P(8519);if(P(524)()||P(6858)()){var re=Symbol.iterator;$e.exports=function(Ie){return null!=Ie&&typeof Ie[re]<"u"?Ie[re]():k(Ie)?Array.prototype[re].call(Ie):void 0}}else{var te=P(8266),G=P(4764),Q=P(9903),L=Q("%Map%",!0),U=Q("%Set%",!0),ue=P(4263),X=ue("Array.prototype.push"),ie=ue("String.prototype.charCodeAt"),V=ue("String.prototype.slice"),H=function(Ie){var Ye=0;return{next:function(){var ne,Me=Ye>=Ie.length;return Me||(ne=Ie[Ye],Ye+=1),{done:Me,value:ne}}}},Pe=function(Ie,Ye){if(te(Ie)||k(Ie))return H(Ie);if(G(Ie)){var Ne=0;return{next:function(){var ne=function(Ie,Ye){if(Ye+1>=Ie.length)return Ye+1;var Me=ie(Ie,Ye);if(Me<55296||Me>56319)return Ye+1;var ne=ie(Ie,Ye+1);return ne<56320||ne>57343?Ye+1:Ye+2}(Ie,Ne),Ue=V(Ie,Ne,ne);return Ne=ne,{done:ne>Ie.length,value:Ue}}}}return Ye&&typeof Ie["_es6-shim iterator_"]<"u"?Ie["_es6-shim iterator_"]():void 0};if(L||U){var Le=P(9898),he=P(3870),Z=ue("Map.prototype.forEach",!0),K=ue("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var fe=ue("Map.prototype.iterator",!0),Re=ue("Set.prototype.iterator",!0);var de=ue("Map.prototype.@@iterator",!0)||ue("Map.prototype._es6-shim iterator_",!0),it=ue("Set.prototype.@@iterator",!0)||ue("Set.prototype._es6-shim iterator_",!0);$e.exports=function(Ie){return function(Ie){if(Le(Ie)){if(fe)return l(fe(Ie));if(de)return de(Ie);if(Z){var Ye=[];return Z(Ie,function(Me,ne){X(Ye,[ne,Me])}),H(Ye)}}if(he(Ie)){if(Re)return l(Re(Ie));if(it)return it(Ie);if(K){var Ne=[];return K(Ie,function(Me){X(Ne,Me)}),H(Ne)}}}(Ie)||Pe(Ie)}}else $e.exports=function(Ie){if(null!=Ie)return Pe(Ie,!0)}}},2107:($e,We,P)=>{"use strict";var k=P(9898),l=P(3870),re=P(5585),te=P(1902);$e.exports=function(Q){if(Q&&"object"==typeof Q){if(k(Q))return"Map";if(l(Q))return"Set";if(re(Q))return"WeakMap";if(te(Q))return"WeakSet"}return!1}},3918:($e,We,P)=>{"use strict";function k(re,te,G,Q,L,U,ue){try{var X=re[U](ue),ie=X.value}catch(V){return void G(V)}X.done?te(ie):Promise.resolve(ie).then(Q,L)}function l(re){return function(){var te=this,G=arguments;return new Promise(function(Q,L){var U=re.apply(te,G);function ue(ie){k(U,Q,L,ue,X,"next",ie)}function X(ie){k(U,Q,L,ue,X,"throw",ie)}ue(void 0)})}}P.d(We,{Z:()=>l})}},$e=>{$e($e.s=4926)}]);
//# sourceMappingURL=main.fe4b817f77930956.js.map