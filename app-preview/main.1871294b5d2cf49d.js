(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{1581:(ve,Ee,C)=>{"use strict";let u=null,K=1;function P(e){const t=u;return u=e,t}function A(e){if((!Me(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==K)){if(!e.producerMustRecompute(e)&&!k(e))return e.dirty=!1,void(e.lastCleanEpoch=K);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=K}}function k(e){ke(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(A(r),n!==r.version))return!0}return!1}function ae(e,t){if(function F(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ke(e),1===e.liveConsumerNode.length)for(let n=0;n<e.producerNode.length;n++)ae(e.producerNode[n],e.producerIndexOfThis[n]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const n=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];ke(o),o.producerIndexOfThis[n]=t}}function Me(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ke(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Be=null;function Ie(e){return"function"==typeof e}function _e(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const xe=_e(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,o)=>`${o+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function Je(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class ot{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const i of r)i.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(Ie(n))try{n()}catch(i){t=i instanceof xe?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{$t(i)}catch(s){t=t??[],s instanceof xe?t=[...t,...s.errors]:t.push(s)}}if(t)throw new xe(t)}}add(t){var r;if(t&&t!==this)if(this.closed)$t(t);else{if(t instanceof ot){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Je(r,t)}remove(t){const{_finalizers:r}=this;r&&Je(r,t),t instanceof ot&&t._removeParent(this)}}ot.EMPTY=(()=>{const e=new ot;return e.closed=!0,e})();const Ut=ot.EMPTY;function rn(e){return e instanceof ot||e&&"closed"in e&&Ie(e.remove)&&Ie(e.add)&&Ie(e.unsubscribe)}function $t(e){Ie(e)?e():e.unsubscribe()}const on={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cn={setTimeout(e,t,...r){const{delegate:n}=Cn;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=Cn;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function gr(e){Cn.setTimeout(()=>{const{onUnhandledError:t}=on;if(!t)throw e;t(e)})}function On(){}const qo=Pr("C",void 0,void 0);function Pr(e,t,r){return{kind:e,value:t,error:r}}let Or=null;function Xn(e){if(on.useDeprecatedSynchronousErrorHandling){const t=!Or;if(t&&(Or={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=Or;if(Or=null,r)throw n}}else e()}class lo extends ot{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,rn(t)&&t.add(this)):this.destination=Kt}static create(t,r,n){return new we(t,r,n)}next(t){this.isStopped?vn(function vo(e){return Pr("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?vn(function Vr(e){return Pr("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?vn(qo,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yo=Function.prototype.bind;function jr(e,t){return yo.call(e,t)}class de{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){Xt(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){Xt(n)}else Xt(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Xt(r)}}}class we extends lo{constructor(t,r,n){let o;if(super(),Ie(t)||!t)o={next:t??void 0,error:r??void 0,complete:n??void 0};else{let i;this&&on.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&jr(t.next,i),error:t.error&&jr(t.error,i),complete:t.complete&&jr(t.complete,i)}):o=t}this.destination=new de(o)}}function Xt(e){on.useDeprecatedSynchronousErrorHandling?function To(e){on.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=e)}(e):gr(e)}function vn(e,t){const{onStoppedNotification:r}=on;r&&Cn.setTimeout(()=>r(e,t))}const Kt={closed:!0,next:On,error:function Ht(e){throw e},complete:On},Dr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Wn(e){return e}function bo(e){return 0===e.length?Wn:1===e.length?e[0]:function(r){return e.reduce((n,o)=>o(n),r)}}let Dn=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,o){const i=function Pi(e){return e&&e instanceof lo||function uo(e){return e&&Ie(e.next)&&Ie(e.error)&&Ie(e.complete)}(e)&&rn(e)}(r)?r:new we(r,n,o);return Xn(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=co(n))((o,i)=>{const s=new we({next:a=>{try{r(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[Dr](){return this}pipe(...r){return bo(r)(this)}toPromise(r){return new(r=co(r))((n,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>n(i))})}}return e.create=t=>new e(t),e})();function co(e){var t;return null!==(t=e??on.Promise)&&void 0!==t?t:Promise}const $o=_e(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Fn=(()=>{class e extends Dn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new _r(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new $o}next(r){Xn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){Xn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Xn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:o,observers:i}=this;return n||o?Ut:(this.currentObservers=null,i.push(r),new ot(()=>{this.currentObservers=null,Je(i,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:o,isStopped:i}=this;n?r.error(o):i&&r.complete()}asObservable(){const r=new Dn;return r.source=this,r}}return e.create=(t,r)=>new _r(t,r),e})();class _r extends Fn{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Ut}}function vr(e){return Ie(e?.lift)}function In(e){return t=>{if(vr(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function $n(e,t,r,n,o){return new Yo(e,t,r,n,o)}class Yo extends lo{constructor(t,r,n,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=o?function(a){try{o(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function sn(e,t){return In((r,n)=>{let o=0;r.subscribe($n(n,i=>{n.next(e.call(t,i,o++))}))})}function re(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(i=(o<3?s(i):o>3?s(t,r,i):s(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function Mo(e){return this instanceof Mo?(this.v=e,this):new Mo(e)}function xn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Ni(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(s){return new Promise(function(a,l){!function o(i,s,a,l){Promise.resolve(l).then(function(d){i({value:d,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const os=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function g(e){return Ie(e?.then)}function w(e){return Ie(e[Dr])}function E(e){return Symbol.asyncIterator&&Ie(e?.[Symbol.asyncIterator])}function ie(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ce=function Ae(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Qe(e){return Ie(e?.[ce])}function Ke(e){return function Xo(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,n=r.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(m){n[m]&&(o[m]=function(b){return new Promise(function(U,ee){i.push([m,b,U,ee])>1||a(m,b)})})}function a(m,b){try{!function l(m){m.value instanceof Mo?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}(n[m](b))}catch(U){h(i[0][3],U)}}function d(m){a("next",m)}function f(m){a("throw",m)}function h(m,b){m(b),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:o}=yield Mo(r.read());if(o)return yield Mo(void 0);yield yield Mo(n)}}finally{r.releaseLock()}})}function nt(e){return Ie(e?.getReader)}function Ve(e){if(e instanceof Dn)return e;if(null!=e){if(w(e))return function ft(e){return new Dn(t=>{const r=e[Dr]();if(Ie(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(os(e))return function Et(e){return new Dn(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(g(e))return function B(e){return new Dn(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,gr)})}(e);if(E(e))return ur(e);if(Qe(e))return function An(e){return new Dn(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(nt(e))return function Fr(e){return ur(Ke(e))}(e)}throw ie(e)}function ur(e){return new Dn(t=>{(function Gr(e,t){var r,n,o,i;return function Ii(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(h){s(h)}}function l(f){try{d(n.throw(f))}catch(h){s(h)}}function d(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}d((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=xn(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(s){o={error:s}}finally{try{n&&!n.done&&(i=r.return)&&(yield i.call(r))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Qn(e,t,r,n=0,o=!1){const i=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function jn(e,t,r=1/0){return Ie(t)?jn((n,o)=>sn((i,s)=>t(n,i,o,s))(Ve(e(n,o))),r):("number"==typeof t&&(r=t),In((n,o)=>function Ms(e,t,r,n,o,i,s,a){const l=[];let d=0,f=0,h=!1;const m=()=>{h&&!l.length&&!d&&t.complete()},b=ee=>d<n?U(ee):l.push(ee),U=ee=>{i&&t.next(ee),d++;let he=!1;Ve(r(ee,f++)).subscribe($n(t,ye=>{o?.(ye),i?b(ye):t.next(ye)},()=>{he=!0},void 0,()=>{if(he)try{for(d--;l.length&&d<n;){const ye=l.shift();s?Qn(t,s,()=>U(ye)):U(ye)}m()}catch(ye){t.error(ye)}}))};return e.subscribe($n(t,b,()=>{h=!0,m()})),()=>{a?.()}}(n,o,e,r)))}function Bo(e=1/0){return jn(Wn,e)}const Ao=new Dn(e=>e.complete());function ga(e){return e&&Ie(e.schedule)}function Xs(e){return e[e.length-1]}function _a(e){return Ie(Xs(e))?e.pop():void 0}function ss(e){return ga(Xs(e))?e.pop():void 0}function va(e,t=0){return In((r,n)=>{r.subscribe($n(n,o=>Qn(n,e,()=>n.next(o),t),()=>Qn(n,e,()=>n.complete(),t),o=>Qn(n,e,()=>n.error(o),t)))})}function ya(e,t=0){return In((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function ba(e,t){if(!e)throw new Error("Iterable cannot be null");return new Dn(r=>{Qn(r,t,()=>{const n=e[Symbol.asyncIterator]();Qn(r,t,()=>{n.next().then(o=>{o.done?r.complete():r.next(o.value)})},0,!0)})})}function br(e,t){return t?function Xa(e,t){if(null!=e){if(w(e))return function Wa(e,t){return Ve(e).pipe(ya(t),va(t))}(e,t);if(os(e))return function qa(e,t){return new Dn(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(g(e))return function Za(e,t){return Ve(e).pipe(ya(t),va(t))}(e,t);if(E(e))return ba(e,t);if(Qe(e))return function Ya(e,t){return new Dn(r=>{let n;return Qn(r,t,()=>{n=e[ce](),Qn(r,t,()=>{let o,i;try{({value:o,done:i}=n.next())}catch(s){return void r.error(s)}i?r.complete():r.next(o)},0,!0)}),()=>Ie(n?.return)&&n.return()})}(e,t);if(nt(e))return function Ka(e,t){return ba(Ke(e),t)}(e,t)}throw ie(e)}(e,t):Ve(e)}function Ca(...e){const t=ss(e),r=function za(e,t){return"number"==typeof Xs(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?Ve(n[0]):Bo(r)(br(n,t)):Ao}class fo extends Fn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function Bt(...e){return br(e,ss(e))}function Sa(e={}){const{connector:t=(()=>new Fn),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,l,d=0,f=!1,h=!1;const m=()=>{a?.unsubscribe(),a=void 0},b=()=>{m(),s=l=void 0,f=h=!1},U=()=>{const ee=s;b(),ee?.unsubscribe()};return In((ee,he)=>{d++,!h&&!f&&m();const ye=l=l??t();he.add(()=>{d--,0===d&&!h&&!f&&(a=Qs(U,o))}),ye.subscribe(he),!s&&d>0&&(s=new we({next:De=>ye.next(De),error:De=>{h=!0,m(),a=Qs(b,r,De),ye.error(De)},complete:()=>{f=!0,m(),a=Qs(b,n),ye.complete()}}),Ve(ee).subscribe(s))})(i)}}function Qs(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new we({next:()=>{n.unsubscribe(),e()}});return Ve(t(...r)).subscribe(n)}function Qr(e,t){return In((r,n)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&n.complete();r.subscribe($n(n,l=>{o?.unsubscribe();let d=0;const f=i++;Ve(e(l,f)).subscribe(o=$n(n,h=>n.next(t?t(l,h,f,d++):h),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Js(e,t=Wn){return e=e??Qa,In((r,n)=>{let o,i=!0;r.subscribe($n(n,s=>{const a=t(s);(i||!e(o,a))&&(i=!1,o=a,n.next(s))}))})}function Qa(e,t){return e===t}function Gn(e){for(let t in e)if(e[t]===Gn)return t;throw Error("Could not find renamed property on target object.")}function As(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Cr(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Cr).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function ea(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Ja=Gn({__forward_ref__:Gn});function Un(e){return e.__forward_ref__=Un,e.toString=function(){return Cr(this())},e}function Vt(e){return ks(e)?e():e}function ks(e){return"function"==typeof e&&e.hasOwnProperty(Ja)&&e.__forward_ref__===Un}function ta(e){return e&&!!e.\u0275providers}const wa="https://g.co/ng/security#xss";class Xe extends Error{constructor(t,r){super(function Li(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}const as=Gn({\u0275cmp:Gn}),na=Gn({\u0275dir:Gn}),Ea=Gn({\u0275pipe:Gn}),el=Gn({\u0275mod:Gn}),Qo=Gn({\u0275fac:Gn}),ls=Gn({__NG_ELEMENT_ID__:Gn}),tl=Gn({__NG_ENV_ID__:Gn});function qt(e){return"string"==typeof e?e:null==e?"":String(e)}function Ir(e,t){throw new Xe(-201,!1)}function yn(e,t){null==e&&function yt(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tt(e){return{providers:e.providers||[],imports:e.imports||[]}}function tn(e){return an(e,or)||an(e,bn)}function an(e,t){return e.hasOwnProperty(t)?e[t]:null}function Lt(e){return e&&(e.hasOwnProperty(fr)||e.hasOwnProperty(Mt))?e[fr]:null}const or=Gn({\u0275prov:Gn}),fr=Gn({\u0275inj:Gn}),bn=Gn({ngInjectableDef:Gn}),Mt=Gn({ngInjectorDef:Gn});var Nt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Nt||{});let Vn;function Tr(){return Vn}function hn(e){const t=Vn;return Vn=e,t}function qe(e,t,r){const n=tn(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&Nt.Optional?null:void 0!==t?t:void Ir(Cr(e))}const D=globalThis;class Te{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=M({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xa={},ol="__NG_DI_FLAG__",lt="ngTempTokenPath",yi=/\n/gm,il="__source";let Ta;function Ma(e){const t=Ta;return Ta=e,t}function Uh(e,t=Nt.Default){if(void 0===Ta)throw new Xe(-203,!1);return null===Ta?qe(e,void 0,t):Ta.get(e,t&Nt.Optional?null:void 0,t)}function ue(e,t=Nt.Default){return(Tr()||Uh)(Vt(e),t)}function it(e,t=Nt.Default){return ue(e,su(t))}function su(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qu(e){const t=[];for(let r=0;r<e.length;r++){const n=Vt(e[r]);if(Array.isArray(n)){if(0===n.length)throw new Xe(900,!1);let o,i=Nt.Default;for(let s=0;s<n.length;s++){const a=n[s],l=Hh(a);"number"==typeof l?-1===l?o=a.token:i|=l:o=a}t.push(ue(o,i))}else t.push(ue(n))}return t}function gc(e,t){return e[ol]=t,e.prototype[ol]=t,e}function Hh(e){return e[ol]}function ra(e){return{toString:e}.toString()}var au=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(au||{}),cs=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(cs||{});const Ps={},qn=[];function Af(e,t,r){let n=e.length;for(;;){const o=e.indexOf(t,r);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===n||e.charCodeAt(o+i)<=32)return o}r=o+1}}function Yu(e,t,r){let n=0;for(;n<r.length;){const o=r[n];if("number"==typeof o){if(0!==o)break;n++;const i=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,i)}else{const i=o,s=r[++n];Rf(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),n++}}return n}function kf(e){return 3===e||4===e||6===e}function Rf(e){return 64===e.charCodeAt(0)}function _c(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const o=t[n];"number"==typeof o?r=o:0===r||Pf(e,r,o,null,-1===r||2===r?t[++n]:null)}}return e}function Pf(e,t,r,n,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===r){if(null===n)return void(null!==o&&(e[i+1]=o));if(n===e[i+1])return void(e[i+2]=o)}i++,null!==n&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,r),null!==n&&e.splice(i++,0,n),null!==o&&e.splice(i++,0,o)}const Of="ng-template";function Zh(e,t,r){let n=0,o=!0;for(;n<e.length;){let i=e[n++];if("string"==typeof i&&o){const s=e[n++];if(r&&"class"===i&&-1!==Af(s.toLowerCase(),t,0))return!0}else{if(1===i){for(;n<e.length&&"string"==typeof(i=e[n++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function Ff(e){return 4===e.type&&e.value!==Of}function qh(e,t,r){return t===(4!==e.type||r?e.value:Of)}function Yh(e,t,r){let n=4;const o=e.attrs||[],i=function Qh(e){for(let t=0;t<e.length;t++)if(kf(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&n){if(n=2|1&n,""!==l&&!qh(e,l,r)||""===l&&1===t.length){if(us(n))return!1;s=!0}}else{const d=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!Zh(e.attrs,d,r)){if(us(n))return!1;s=!0}continue}const h=Kh(8&n?"class":l,o,Ff(e),r);if(-1===h){if(us(n))return!1;s=!0;continue}if(""!==d){let m;m=h>i?"":o[h+1].toLowerCase();const b=8&n?m:null;if(b&&-1!==Af(b,d,0)||2&n&&d!==m){if(us(n))return!1;s=!0}}}}else{if(!s&&!us(n)&&!us(l))return!1;if(s&&us(l))continue;s=!1,n=l|1&n}}return us(n)||s}function us(e){return 0==(1&e)}function Kh(e,t,r,n){if(null===t)return-1;let o=0;if(n||!r){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function Jh(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function Nf(e,t,r=!1){for(let n=0;n<t.length;n++)if(Yh(e,t[n],r))return!0;return!1}function em(e,t){e:for(let r=0;r<t.length;r++){const n=t[r];if(e.length===n.length){for(let o=0;o<e.length;o++)if(e[o]!==n[o])continue e;return!0}}return!1}function Lf(e,t){return e?":not("+t.trim()+")":t}function tm(e){let t=e[0],r=1,n=2,o="",i=!1;for(;r<e.length;){let s=e[r];if("string"==typeof s)if(2&n){const a=e[++r];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?o+="."+s:4&n&&(o+=" "+s);else""!==o&&!us(s)&&(t+=Lf(i,o),o=""),n=s,i=i||!us(n);r++}return""!==o&&(t+=Lf(i,o)),t}function Ze(e){return ra(()=>{const t=Bf(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===au.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||cs.Emulated,styles:e.styles||qn,_:null,schemas:e.schemas||null,tView:null,id:""};Vf(r);const n=e.dependencies;return r.directiveDefs=lu(n,!1),r.pipeDefs=lu(n,!0),r.id=function am(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of r)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function om(e){return kn(e)||Eo(e)}function im(e){return null!==e}function Jr(e){return ra(()=>({type:e.type,bootstrap:e.bootstrap||qn,declarations:e.declarations||qn,imports:e.imports||qn,exports:e.exports||qn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $f(e,t){if(null==e)return Ps;const r={};for(const n in e)if(e.hasOwnProperty(n)){let o=e[n],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),r[o]=n,t&&(t[o]=i)}return r}function kt(e){return ra(()=>{const t=Bf(e);return Vf(t),t})}function Po(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function kn(e){return e[as]||null}function Eo(e){return e[na]||null}function Vo(e){return e[Ea]||null}function ei(e,t){const r=e[el]||null;if(!r&&!0===t)throw new Error(`Type ${Cr(e)} does not have '\u0275mod' property.`);return r}function Bf(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ps,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||qn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$f(e.inputs,t),outputs:$f(e.outputs),debugInfo:null}}function Vf(e){e.features?.forEach(t=>t(e))}function lu(e,t){if(!e)return null;const r=t?Vo:om;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(im)}const eo=0,dt=1,jt=2,Lr=3,ds=4,ti=5,fs=6,Vl=7,wr=8,fi=9,jl=10,cn=11,vc=12,lm=13,yc=14,$r=15,bc=16,Cc=17,oa=18,cu=19,pv=20,Gl=21,Ul=22,Hl=23,dn=25,Ku=1,Hn=7,gn=9,ho=10;var wc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(wc||{});function ni(e){return Array.isArray(e)&&"object"==typeof e[Ku]}function jo(e){return Array.isArray(e)&&!0===e[Ku]}function jf(e){return 0!=(4&e.flags)}function Jt(e){return e.componentOffset>-1}function mo(e){return 1==(1&e.flags)}function Rn(e){return!!e.template}function Le(e){return 0!=(512&e[jt])}function hs(e,t){return e.hasOwnProperty(Qo)?e[Qo]:null}class Ec{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function nr(){return Dc}function Dc(e){return e.type.prototype.ngOnChanges&&(e.setInput=uu),Xu}function Xu(){const e=Qu(this),t=e?.current;if(t){const r=e.previous;if(r===Ps)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function uu(e,t,r,n){const o=this.declaredInputs[r],i=Qu(e)||function mt(e,t){return e[Gf]=t}(e,{previous:Ps,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[o];s[o]=new Ec(l&&l.currentValue,t,a===Ps),e[n]=t}nr.ngInherit=!0;const Gf="__ngSimpleChanges__";function Qu(e){return e[Gf]||null}const no=function(e,t,r){};function Hr(e){for(;Array.isArray(e);)e=e[eo];return e}function Uf(e,t){return Hr(t[e])}function Vi(e,t){return Hr(t[e.index])}function Hf(e,t){return e.data[t]}function Ju(e,t){return e[t]}function Os(e,t){const r=t[e];return ni(r)?r:r[eo]}function mv(e){return 128==(128&e[jt])}function sl(e,t){return null==t?null:e[t]}function IS(e){e[Cc]=0}function FP(e){1024&e[jt]||(e[jt]|=1024,mv(e)&&um(e))}function TS(e){return 9216&e[jt]||e[Hl]?.dirty}function MS(e){TS(e)&&um(e)}function um(e){let t=e[Lr];for(;null!==t&&!(jo(t)&&t[jt]&wc.HasChildViewsToRefresh||ni(t)&&8192&t[jt]);){if(jo(t))t[jt]|=wc.HasChildViewsToRefresh;else if(t[jt]|=8192,!mv(t))break;t=t[Lr]}}function dm(e,t){if(256==(256&e[jt]))throw new Xe(911,!1);null===e[Gl]&&(e[Gl]=[]),e[Gl].push(t)}const un={lFrame:BS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kS(){return un.bindingsEnabled}function ed(){return null!==un.skipHydrationRootTNode}function ze(){return un.lFrame.lView}function Yn(){return un.lFrame.tView}function Dt(e){return un.lFrame.contextLView=e,e[wr]}function It(e){return un.lFrame.contextLView=null,e}function Ar(){let e=RS();for(;null!==e&&64===e.type;)e=e.parent;return e}function RS(){return un.lFrame.currentTNode}function al(e,t){const r=un.lFrame;r.currentTNode=e,r.isParent=t}function _v(){return un.lFrame.isParent}function vv(){un.lFrame.isParent=!1}function ji(){const e=un.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function zl(){return un.lFrame.bindingIndex}function ll(){return un.lFrame.bindingIndex++}function Wl(e){const t=un.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function WP(e,t){const r=un.lFrame;r.bindingIndex=r.bindingRootIndex=e,yv(t)}function yv(e){un.lFrame.currentDirectiveIndex=e}function NS(){return un.lFrame.currentQueryIndex}function Cv(e){un.lFrame.currentQueryIndex=e}function qP(e){const t=e[dt];return 2===t.type?t.declTNode:1===t.type?e[ti]:null}function LS(e,t,r){if(r&Nt.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||r&Nt.Host||(o=qP(i),null===o||(i=i[yc],10&o.type))););if(null===o)return!1;t=o,e=i}const n=un.lFrame=$S();return n.currentTNode=t,n.lView=e,!0}function Sv(e){const t=$S(),r=e[dt];un.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function $S(){const e=un.lFrame,t=null===e?null:e.child;return null===t?BS(e):t}function BS(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function VS(){const e=un.lFrame;return un.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const jS=VS;function wv(){const e=VS();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Mi(){return un.lFrame.selectedIndex}function fu(e){un.lFrame.selectedIndex=e}function ro(){const e=un.lFrame;return Hf(e.tView,e.selectedIndex)}let US=!0;function fm(){return US}function Ic(e){US=e}function pm(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const i=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),d&&((e.viewHooks??=[]).push(r,d),(e.viewCheckHooks??=[]).push(r,d)),null!=f&&(e.destroyHooks??=[]).push(r,f)}}function hm(e,t,r){HS(e,t,3,r)}function mm(e,t,r,n){(3&e[jt])===r&&HS(e,t,r,n)}function Ev(e,t){let r=e[jt];(3&r)===t&&(r&=16383,r+=1,e[jt]=r)}function HS(e,t,r,n){const i=n??-1,s=t.length-1;let a=0;for(let l=void 0!==n?65535&e[Cc]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=n&&a>=n)break}else t[l]<0&&(e[Cc]+=65536),(a<i||-1==i)&&(tO(e,r,t,l),e[Cc]=(4294901760&e[Cc])+l+2),l++}function zS(e,t){no(4,e,t);const r=P(null);try{t.call(e)}finally{P(r),no(5,e,t)}}function tO(e,t,r,n){const o=r[n]<0,i=r[n+1],a=e[o?-r[n]:r[n]];o?e[jt]>>14<e[Cc]>>16&&(3&e[jt])===t&&(e[jt]+=16384,zS(a,i)):zS(a,i)}const td=-1;class Wf{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function Iv(e){return e!==td}function Zf(e){return 32767&e}function qf(e,t){let r=function sO(e){return e>>16}(e),n=t;for(;r>0;)n=n[yc],r--;return n}let xv=!0;function gm(e){const t=xv;return xv=e,t}const WS=255,ZS=5;let aO=0;const cl={};function _m(e,t){const r=qS(e,t);if(-1!==r)return r;const n=t[dt];n.firstCreatePass&&(e.injectorIndex=t.length,Tv(n.data,e),Tv(t,null),Tv(n.blueprint,null));const o=vm(e,t),i=e.injectorIndex;if(Iv(o)){const s=Zf(o),a=qf(o,t),l=a[dt].data;for(let d=0;d<8;d++)t[i+d]=a[s+d]|l[s+d]}return t[i+8]=o,i}function Tv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function qS(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function vm(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,o=t;for(;null!==o;){if(n=tw(o),null===n)return td;if(r++,o=o[yc],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return td}function Mv(e,t,r){!function lO(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(ls)&&(n=r[ls]),null==n&&(n=r[ls]=aO++);const o=n&WS;t.data[e+(o>>ZS)]|=1<<o}(e,t,r)}function YS(e,t,r){if(r&Nt.Optional||void 0!==e)return e;Ir()}function KS(e,t,r,n){if(r&Nt.Optional&&void 0===n&&(n=null),!(r&(Nt.Self|Nt.Host))){const o=e[fi],i=hn(void 0);try{return o?o.get(t,n,r&Nt.Optional):qe(t,n,r&Nt.Optional)}finally{hn(i)}}return YS(n,0,r)}function XS(e,t,r,n=Nt.Default,o){if(null!==e){if(2048&t[jt]&&!(n&Nt.Self)){const s=function pO(e,t,r,n,o){let i=e,s=t;for(;null!==i&&null!==s&&2048&s[jt]&&!(512&s[jt]);){const a=QS(i,s,r,n|Nt.Self,cl);if(a!==cl)return a;let l=i.parent;if(!l){const d=s[pv];if(d){const f=d.get(r,cl,n);if(f!==cl)return f}l=tw(s),s=s[yc]}i=l}return o}(e,t,r,n,cl);if(s!==cl)return s}const i=QS(e,t,r,n,cl);if(i!==cl)return i}return KS(t,r,n,o)}function QS(e,t,r,n,o){const i=function dO(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ls)?e[ls]:void 0;return"number"==typeof t?t>=0?t&WS:fO:t}(r);if("function"==typeof i){if(!LS(t,e,n))return n&Nt.Host?YS(o,0,n):KS(t,r,n,o);try{let s;if(s=i(n),null!=s||n&Nt.Optional)return s;Ir()}finally{jS()}}else if("number"==typeof i){let s=null,a=qS(e,t),l=td,d=n&Nt.Host?t[$r][ti]:null;for((-1===a||n&Nt.SkipSelf)&&(l=-1===a?vm(e,t):t[a+8],l!==td&&ew(n,!1)?(s=t[dt],a=Zf(l),t=qf(l,t)):a=-1);-1!==a;){const f=t[dt];if(JS(i,a,f.data)){const h=uO(a,t,r,s,n,d);if(h!==cl)return h}l=t[a+8],l!==td&&ew(n,t[dt].data[a+8]===d)&&JS(i,a,t)?(s=f,a=Zf(l),t=qf(l,t)):a=-1}}return o}function uO(e,t,r,n,o,i){const s=t[dt],a=s.data[e+8],f=ym(a,s,r,null==n?Jt(a)&&xv:n!=s&&0!=(3&a.type),o&Nt.Host&&i===a);return null!==f?pu(t,s,f,a):cl}function ym(e,t,r,n,o){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,f=i>>20,m=o?a+f:e.directiveEnd;for(let b=n?a:a+f;b<m;b++){const U=s[b];if(b<l&&r===U||b>=l&&U.type===r)return b}if(o){const b=s[l];if(b&&Rn(b)&&b.type===r)return l}return null}function pu(e,t,r,n){let o=e[r];const i=t.data;if(function nO(e){return e instanceof Wf}(o)){const s=o;s.resolving&&function Fl(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${e}${r}`)}(function Bn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():qt(e)}(i[r]));const a=gm(s.canSeeViewProviders);s.resolving=!0;const d=s.injectImpl?hn(s.injectImpl):null;LS(e,n,Nt.Default);try{o=e[r]=s.factory(void 0,i,e,n),t.firstCreatePass&&r>=n.directiveStart&&function eO(e,t,r){const{ngOnChanges:n,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(n){const s=Dc(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}o&&(r.preOrderHooks??=[]).push(0-e,o),i&&((r.preOrderHooks??=[]).push(e,i),(r.preOrderCheckHooks??=[]).push(e,i))}(r,i[r],t)}finally{null!==d&&hn(d),gm(a),s.resolving=!1,jS()}}return o}function JS(e,t,r){return!!(r[t+(e>>ZS)]&1<<e)}function ew(e,t){return!(e&Nt.Self||e&Nt.Host&&t)}class ii{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return XS(this._tNode,this._lView,t,su(n),r)}}function fO(){return new ii(Ar(),ze())}function zr(e){return ra(()=>{const t=e.prototype.constructor,r=t[Qo]||Av(t),n=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==n;){const i=o[Qo]||Av(o);if(i&&i!==r)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Av(e){return ks(e)?()=>{const t=Av(Vt(e));return t&&t()}:hs(e)}function tw(e){const t=e[dt],r=t.type;return 2===r?t.declTNode:1===r?e[ti]:null}function xc(e){return function cO(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let o=0;for(;o<n;){const i=r[o];if(kf(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<n&&"string"==typeof r[o];)o++;else{if(i===t)return r[o+1];o+=2}}}return null}(Ar(),e)}const id="__parameters__";function ad(e,t,r){return ra(()=>{const n=function kv(e){return function(...r){if(e){const n=e(...r);for(const o in n)this[o]=n[o]}}}(t);function o(...i){if(this instanceof o)return n.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(l,d,f){const h=l.hasOwnProperty(id)?l[id]:Object.defineProperty(l,id,{value:[]})[id];for(;h.length<=f;)h.push(null);return(h[f]=h[f]||[]).push(s),l}}return r&&(o.prototype=Object.create(r.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function cd(e,t){e.forEach(r=>Array.isArray(r)?cd(r,t):t(r))}function rw(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function bm(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Kf(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}function Fs(e,t,r){let n=ud(e,t);return n>=0?e[1|n]=r:(n=~n,function ow(e,t,r,n){let o=e.length;if(o==t)e.push(r,n);else if(1===o)e.push(n,e[0]),e[0]=r;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function Pv(e,t){const r=ud(e,t);if(r>=0)return e[1|r]}function ud(e,t){return function iw(e,t,r){let n=0,o=e.length>>r;for(;o!==n;){const i=n+(o-n>>1),s=e[i<<r];if(t===s)return i<<r;s>t?o=i:n=i+1}return~(o<<r)}(e,t,1)}const Sm=gc(ad("Optional"),8),wm=gc(ad("SkipSelf"),4),fd=new Te("ENVIRONMENT_INITIALIZER"),cw=new Te("INJECTOR",-1),Nv=new Te("INJECTOR_DEF_TYPES");class Dm{get(t,r=xa){if(r===xa){const n=new Error(`NullInjectorError: No provider for ${Cr(t)}!`);throw n.name="NullInjectorError",n}return r}}function FO(...e){return{\u0275providers:uw(0,e),\u0275fromNgModule:!0}}function uw(e,...t){const r=[],n=new Set;let o;const i=s=>{r.push(s)};return cd(t,s=>{const a=s;Im(a,i,[],n)&&(o||=[],o.push(a))}),void 0!==o&&dw(o,i),r}function dw(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:o}=e[r];$v(o,i=>{t(i,n)})}}function Im(e,t,r,n){if(!(e=Vt(e)))return!1;let o=null,i=Lt(e);const s=!i&&kn(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const l=e.ngModule;if(i=Lt(l),!i)return!1;o=l}const a=n.has(o);if(s){if(a)return!1;if(n.add(o),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of l)Im(d,t,r,n)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let d;n.add(o);try{cd(i.imports,f=>{Im(f,t,r,n)&&(d||=[],d.push(f))})}finally{}void 0!==d&&dw(d,t)}if(!a){const d=hs(o)||(()=>new o);t({provide:o,useFactory:d,deps:qn},o),t({provide:Nv,useValue:o,multi:!0},o),t({provide:fd,useValue:()=>ue(o),multi:!0},o)}const l=i.providers;if(null!=l&&!a){const d=e;$v(l,f=>{t(f,d)})}}}return o!==e&&void 0!==e.providers}function $v(e,t){for(let r of e)ta(r)&&(r=r.\u0275providers),Array.isArray(r)?$v(r,t):t(r)}const NO=Gn({provide:String,useValue:Gn});function Bv(e){return null!==e&&"object"==typeof e&&NO in e}function hu(e){return"function"==typeof e}const Vv=new Te("Set Injector scope."),xm={},$O={};let jv;function Tm(){return void 0===jv&&(jv=new Dm),jv}class hi{}class pd extends hi{get destroyed(){return this._destroyed}constructor(t,r,n,o){super(),this.parent=r,this.source=n,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uv(t,s=>this.processProvider(s)),this.records.set(cw,hd(void 0,this)),o.has("environment")&&this.records.set(hi,hd(void 0,this));const i=this.records.get(Vv);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Nv,qn,Nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Ma(this),n=hn(void 0);try{return t()}finally{Ma(r),hn(n)}}get(t,r=xa,n=Nt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(tl))return t[tl](this);n=su(n);const i=Ma(this),s=hn(void 0);try{if(!(n&Nt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const d=function UO(e){return"function"==typeof e||"object"==typeof e&&e instanceof Te}(t)&&tn(t);l=d&&this.injectableDefInScope(d)?hd(Gv(t),xm):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(n&Nt.Self?Tm():this.parent).get(t,r=n&Nt.Optional&&r===xa?null:r)}catch(a){if("NullInjectorError"===a.name){if((a[lt]=a[lt]||[]).unshift(Cr(t)),i)throw a;return function zh(e,t,r,n){const o=e[lt];throw t[il]&&o.unshift(t[il]),e.message=function Wh(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Cr(t);if(Array.isArray(t))o=t.map(Cr).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Cr(a)))}o=`{${i.join(", ")}}`}return`${r}${n?"("+n+")":""}[${o}]: ${e.replace(yi,"\n  ")}`}("\n"+e.message,o,r,n),e.ngTokenPath=o,e[lt]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{hn(s),Ma(i)}}resolveInjectorInitializers(){const t=Ma(this),r=hn(void 0);try{const o=this.get(fd,qn,Nt.Self);for(const i of o)i()}finally{Ma(t),hn(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(Cr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processProvider(t){let r=hu(t=Vt(t))?t:Vt(t&&t.provide);const n=function VO(e){return Bv(e)?hd(void 0,e.useValue):hd(hw(e),xm)}(t);if(hu(t)||!0!==t.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=hd(void 0,xm,!0),o.factory=()=>qu(o.multi),this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===xm&&(r.value=$O,r.value=r.factory()),"object"==typeof r.value&&r.value&&function GO(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Vt(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Gv(e){const t=tn(e),r=null!==t?t.factory:hs(e);if(null!==r)return r;if(e instanceof Te)throw new Xe(204,!1);if(e instanceof Function)return function BO(e){const t=e.length;if(t>0)throw Kf(t,"?"),new Xe(204,!1);const r=function er(e){return e&&(e[or]||e[bn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Xe(204,!1)}function hw(e,t,r){let n;if(hu(e)){const o=Vt(e);return hs(o)||Gv(o)}if(Bv(e))n=()=>Vt(e.useValue);else if(function pw(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...qu(e.deps||[]));else if(function fw(e){return!(!e||!e.useExisting)}(e))n=()=>ue(Vt(e.useExisting));else{const o=Vt(e&&(e.useClass||e.provide));if(!function jO(e){return!!e.deps}(e))return hs(o)||Gv(o);n=()=>new o(...qu(e.deps))}return n}function hd(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Uv(e,t){for(const r of e)Array.isArray(r)?Uv(r,t):r&&ta(r)?Uv(r.\u0275providers,t):t(r)}function Tc(e,t){e instanceof pd&&e.assertNotDestroyed();const n=Ma(e),o=hn(void 0);try{return t()}finally{Ma(n),hn(o)}}function vw(e,t=null,r=null,n){const o=yw(e,t,r,n);return o.resolveInjectorInitializers(),o}function yw(e,t=null,r=null,n,o=new Set){const i=[r||qn,FO(e)];return n=n||("object"==typeof e?void 0:Cr(e)),new pd(i,t||Tm(),n||null,o)}let Wv,Wr=(()=>{var e;class t{static create(n,o){if(Array.isArray(n))return vw({name:""},o,n,"");{const i=n.name??"";return vw({name:i},n.parent,n.providers,i)}}}return(e=t).THROW_IF_NOT_FOUND=xa,e.NULL=new Dm,e.\u0275prov=M({token:e,providedIn:"any",factory:()=>ue(cw)}),e.__NG_ELEMENT_ID__=-1,t})();const Am=new Te("AppId",{providedIn:"root",factory:()=>QO}),QO="ng",Cw=new Te("Platform Initializer"),kc=new Te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sw=new Te("CSP nonce",{providedIn:"root",factory:()=>function Ac(){if(void 0!==Wv)return Wv;if(typeof document<"u")return document;throw new Xe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Ns(e){return e instanceof Function?e():e}function Om(e){return 128==(128&e.flags)}var Oc=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Oc||{});const l2=/^>|^->|<!--|-->|--!>|<!-$/g,c2=/(<|>)/g,u2="\u200b$1\u200b";const Xv=new Map;let d2=0;const Jv="__ngContext__";function Ai(e,t){ni(t)?(e[Jv]=t[cu],function p2(e){Xv.set(e[cu],e)}(t)):e[Jv]=t}let ey;function ty(e,t){return ey(e,t)}function np(e){const t=e[Lr];return jo(t)?t[Lr]:t}function Vw(e){return Gw(e[vc])}function jw(e){return Gw(e[ds])}function Gw(e){for(;null!==e&&!jo(e);)e=e[ds];return e}function gd(e,t,r,n,o){if(null!=n){let i,s=!1;jo(n)?i=n:ni(n)&&(s=!0,n=n[eo]);const a=Hr(n);0===e&&null!==r?null==o?Ww(t,r,a):mu(t,r,a,o||null,!0):1===e&&null!==r?mu(t,r,a,o||null,!0):2===e?function jm(e,t,r){const n=Bm(e,t);n&&function R2(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function F2(e,t,r,n,o){const i=r[Hn];i!==Hr(r)&&gd(t,e,n,i,o);for(let a=ho;a<r.length;a++){const l=r[a];ip(l[dt],l,e,t,n,i)}}(t,e,i,r,o)}}function ny(e,t){return e.createComment(function Rw(e){return e.replace(l2,t=>t.replace(c2,u2))}(t))}function Lm(e,t,r){return e.createElement(t,r)}function Hw(e,t){const r=e[gn],n=r.indexOf(t);r.splice(n,1)}function rp(e,t){if(e.length<=ho)return;const r=ho+t,n=e[r];if(n){const o=n[bc];null!==o&&o!==e&&Hw(o,n),t>0&&(e[r-1][ds]=n[ds]);const i=bm(e,ho+t);!function E2(e,t){ip(e,t,t[cn],2,null,null),t[eo]=null,t[ti]=null}(n[dt],n);const s=i[oa];null!==s&&s.detachView(i[dt]),n[Lr]=null,n[ds]=null,n[jt]&=-129}return n}function $m(e,t){if(!(256&t[jt])){const r=t[cn];r.destroyNode&&ip(e,t,r,3,null,null),function x2(e){let t=e[vc];if(!t)return ry(e[dt],e);for(;t;){let r=null;if(ni(t))r=t[vc];else{const n=t[ho];n&&(r=n)}if(!r){for(;t&&!t[ds]&&t!==e;)ni(t)&&ry(t[dt],t),t=t[Lr];null===t&&(t=e),ni(t)&&ry(t[dt],t),r=t&&t[ds]}t=r}}(t)}}function ry(e,t){if(!(256&t[jt])){t[jt]&=-129,t[jt]|=256,t[Hl]&&function te(e){if(ke(e),Me(e))for(let t=0;t<e.producerNode.length;t++)ae(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[Hl]),function k2(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const o=t[r[n]];if(!(o instanceof Wf)){const i=r[n+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],l=i[s+1];no(4,a,l);try{l.call(a)}finally{no(5,a,l)}}else{no(4,o,i);try{i.call(o)}finally{no(5,o,i)}}}}}(e,t),function A2(e,t){const r=e.cleanup,n=t[Vl];if(null!==r)for(let i=0;i<r.length-1;i+=2)if("string"==typeof r[i]){const s=r[i+3];s>=0?n[s]():n[-s].unsubscribe(),i+=2}else r[i].call(n[r[i+1]]);null!==n&&(t[Vl]=null);const o=t[Gl];if(null!==o){t[Gl]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[dt].type&&t[cn].destroy();const r=t[bc];if(null!==r&&jo(t[Lr])){r!==t[Lr]&&Hw(r,t);const n=t[oa];null!==n&&n.detachView(e)}!function h2(e){Xv.delete(e[cu])}(t)}}function oy(e,t,r){return function zw(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[eo];{const{componentOffset:o}=n;if(o>-1){const{encapsulation:i}=e.data[n.directiveStart+o];if(i===cs.None||i===cs.Emulated)return null}return Vi(n,r)}}(e,t.parent,r)}function mu(e,t,r,n,o){e.insertBefore(t,r,n,o)}function Ww(e,t,r){e.appendChild(t,r)}function Zw(e,t,r,n,o){null!==n?mu(e,t,r,n,o):Ww(e,t,r)}function Bm(e,t){return e.parentNode(t)}function qw(e,t,r){return Kw(e,t,r)}let iy,Gm,Kw=function Yw(e,t,r){return 40&e.type?Vi(e,r):null};function Vm(e,t,r,n){const o=oy(e,n,t),i=t[cn],a=qw(n.parent||t[ti],n,t);if(null!=o)if(Array.isArray(r))for(let l=0;l<r.length;l++)Zw(i,o,r[l],a,!1);else Zw(i,o,r,a,!1);void 0!==iy&&iy(i,n,t,r,o)}function op(e,t){if(null!==t){const r=t.type;if(3&r)return Vi(t,e);if(4&r)return sy(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return op(e,n);{const o=e[t.index];return jo(o)?sy(-1,o):Hr(o)}}if(32&r)return ty(t,e)()||Hr(e[t.index]);{const n=Qw(e,t);return null!==n?Array.isArray(n)?n[0]:op(np(e[$r]),n):op(e,t.next)}}return null}function Qw(e,t){return null!==t?e[$r][ti].projection[t.projection]:null}function sy(e,t){const r=ho+e+1;if(r<t.length){const n=t[r],o=n[dt].firstChild;if(null!==o)return op(n,o)}return t[Hn]}function ay(e,t,r,n,o,i,s){for(;null!=r;){const a=n[r.index],l=r.type;if(s&&0===t&&(a&&Ai(Hr(a),n),r.flags|=2),32!=(32&r.flags))if(8&l)ay(e,t,r.child,n,o,i,!1),gd(t,e,o,a,i);else if(32&l){const d=ty(r,n);let f;for(;f=d();)gd(t,e,o,f,i);gd(t,e,o,a,i)}else 16&l?eE(e,t,n,r,o,i):gd(t,e,o,a,i);r=s?r.projectionNext:r.next}}function ip(e,t,r,n,o,i){ay(r,n,e.firstChild,t,o,i,!1)}function eE(e,t,r,n,o,i){const s=r[$r],l=s[ti].projection[n.projection];if(Array.isArray(l))for(let d=0;d<l.length;d++)gd(t,e,o,l[d],i);else{let d=l;const f=s[Lr];Om(n)&&(d.flags|=128),ay(e,t,d,f,o,i,!0)}}function tE(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function nE(e,t,r){const{mergedAttrs:n,classes:o,styles:i}=r;null!==n&&Yu(e,t,n),null!==o&&tE(e,t,o),null!==i&&function L2(e,t,r){e.setAttribute(t,"style",r)}(e,t,i)}function _d(e){return function ly(){if(void 0===Gm&&(Gm=null,D.trustedTypes))try{Gm=D.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Gm}()?.createHTML(e)||e}class gu{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wa})`}}class j2 extends gu{getTypeName(){return"HTML"}}class G2 extends gu{getTypeName(){return"Style"}}class U2 extends gu{getTypeName(){return"Script"}}class H2 extends gu{getTypeName(){return"URL"}}class z2 extends gu{getTypeName(){return"ResourceURL"}}function Ls(e){return e instanceof gu?e.changingThisBreaksApplicationSecurity:e}function ul(e,t){const r=function W2(e){return e instanceof gu&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${wa})`)}return r===t}class Q2{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const r=(new window.DOMParser).parseFromString(_d(t),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}}class J2{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const r=this.inertDocument.createElement("template");return r.innerHTML=_d(t),r}}const tF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hm(e){return(e=String(e)).match(tF)?e:"unsafe:"+e}function Zl(e){const t={};for(const r of e.split(","))t[r]=!0;return t}function sp(...e){const t={};for(const r of e)for(const n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}const aE=Zl("area,br,col,hr,img,wbr"),lE=Zl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cE=Zl("rp,rt"),uy=sp(aE,sp(lE,Zl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),sp(cE,Zl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sp(cE,lE)),dy=Zl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uE=sp(dy,Zl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nF=Zl("script,style,template");class rF{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;)if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild)r=r.firstChild;else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=this.checkClobberedElement(r,r.nextSibling);if(o){r=o;break}r=this.checkClobberedElement(r,r.parentNode)}return this.buf.join("")}startElement(t){const r=t.nodeName.toLowerCase();if(!uy.hasOwnProperty(r))return this.sanitizedSomething=!0,!nF.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const n=t.attributes;for(let o=0;o<n.length;o++){const i=n.item(o),s=i.name,a=s.toLowerCase();if(!uE.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=i.value;dy[a]&&(l=Hm(l)),this.buf.push(" ",s,'="',dE(l),'"')}return this.buf.push(">"),!0}endElement(t){const r=t.nodeName.toLowerCase();uy.hasOwnProperty(r)&&!aE.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(dE(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}}const oF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iF=/([^\#-~ |!])/g;function dE(e){return e.replace(/&/g,"&amp;").replace(oF,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(iF,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zm;function fE(e,t){let r=null;try{zm=zm||function sE(e){const t=new J2(e);return function eF(){try{return!!(new window.DOMParser).parseFromString(_d(""),"text/html")}catch{return!1}}()?new Q2(t):t}(e);let n=t?String(t):"";r=zm.getInertBodyElement(n);let o=5,i=n;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,n=i,i=r.innerHTML,r=zm.getInertBodyElement(n)}while(n!==i);return _d((new rF).sanitizeChildren(fy(r)||r))}finally{if(r){const n=fy(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function fy(e){return"content"in e&&function sF(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var $s=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}($s||{});let gE=(e,t,r)=>null;function by(e,t,r=!1){return gE(e,t,r)}class CF{}class yE{}class wF{resolveComponentFactory(t){throw function SF(e){const t=Error(`No component factory found for ${Cr(e)}.`);return t.ngComponent=e,t}(t)}}let Xm=(()=>{class t{}return t.NULL=new wF,t})();function EF(){return bd(Ar(),ze())}function bd(e,t){return new rt(Vi(e,t))}let rt=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=EF,t})();function DF(e){return e instanceof rt?e.nativeElement:e}class CE{}let ql=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function IF(){const e=ze(),r=Os(Ar().index,e);return(ni(r)?r:e)[cn]}(),t})(),xF=(()=>{var e;class t{}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:()=>null}),t})();class up{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const TF=new up("17.0.7"),wy={};function SE(e){const t=P(null);try{return e()}finally{P(t)}}function Qm(e){return!!function Ey(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}class wE{constructor(){}supports(t){return Qm(t)}create(t){return new PF(t)}}const RF=(e,t)=>t;class PF{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||RF}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,o=0,i=null;for(;r||n;){const s=!n||r&&r.currentIndex<DE(n,o,i)?r:n,a=DE(s,o,i),l=s.currentIndex;if(s===n)o--,n=n._nextRemoved;else if(r=r._next,null==s.previousIndex)o++;else{i||(i=[]);const d=a-o,f=l-o;if(d!=f){for(let m=0;m<d;m++){const b=m<i.length?i[m]:i[m]=0,U=b+m;f<=U&&U<d&&(i[m]=b+1)}i[s.previousIndex]=f-d}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!Qm(t))throw new Xe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,s,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,i,s,a)),Object.is(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,s,a),n=!0),r=r._next}else o=0,function kF(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,a=>{s=this._trackByFn(o,a),null!==r&&Object.is(r.trackById,s)?(n&&(r=this._verifyReinsertion(r,a,s,o)),Object.is(r.item,a)||this._addIdentityChange(r,a)):(r=this._mismatch(r,a,s,o),n=!0),r=r._next,o++}),this.length=o;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,i,o)):t=this._addAfter(new OF(r,n),i,o),t}_verifyReinsertion(t,r,n,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const o=null===r?this._itHead:r._next;return t._next=o,t._prev=r,null===o?this._itTail=t:o._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new EE),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new EE),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class OF{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FF{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class EE{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new FF,this.map.set(r,n)),n.add(t)}get(t,r){const o=this.map.get(t);return o?o.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function DE(e,t,r){const n=e.previousIndex;if(null===n)return n;let o=0;return r&&n<r.length&&(o=r[n]),n+t+o}function xE(){return new Jm([new wE])}let Jm=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,o){if(null!=o){const i=o.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:o=>t.create(n,o||xE()),deps:[[t,new wm,new Sm]]}}find(n){const o=this.factories.find(i=>i.supports(n));if(null!=o)return o;throw new Xe(901,!1)}}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:xE}),t})();function fp(e,t,r,n,o=!1){for(;null!==r;){const i=t[r.index];null!==i&&n.push(Hr(i)),jo(i)&&ME(i,n);const s=r.type;if(8&s)fp(e,t,r.child,n);else if(32&s){const a=ty(r,t);let l;for(;l=a();)n.push(l)}else if(16&s){const a=Qw(t,r);if(Array.isArray(a))n.push(...a);else{const l=np(t[$r]);fp(l[dt],l,a,n,!0)}}r=o?r.projectionNext:r.next}return n}function ME(e,t){for(let r=ho;r<e.length;r++){const n=e[r],o=n[dt].firstChild;null!==o&&fp(n[dt],n,o,t)}e[Hn]!==e[eo]&&t.push(e[Hn])}let AE=[];const GF={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{um(e.lView)},consumerOnSignalRead(){this.lView[Hl]=this}};function Dy(e){return e.ngOriginalError}class Yl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Dy(t);for(;r&&Dy(r);)r=Dy(r);return r||null}}const RE=new Te("",{providedIn:"root",factory:()=>it(Yl).handleError.bind(void 0)}),OE=new Te("",{providedIn:"root",factory:()=>!1}),wn={};function me(e){$E(Yn(),ze(),Mi()+e,!1)}function $E(e,t,r,n){if(!n)if(3==(3&t[jt])){const i=e.preOrderCheckHooks;null!==i&&hm(t,i,r)}else{const i=e.preOrderHooks;null!==i&&mm(t,i,0,r)}fu(r)}function v(e,t=Nt.Default){const r=ze();return null===r?ue(e,t):XS(Ar(),r,Vt(e),t)}function tg(e,t,r,n,o,i,s,a,l,d,f){const h=t.blueprint.slice();return h[eo]=o,h[jt]=140|n,(null!==d||e&&2048&e[jt])&&(h[jt]|=2048),IS(h),h[Lr]=h[yc]=e,h[wr]=r,h[jl]=s||e&&e[jl],h[cn]=a||e&&e[cn],h[fi]=l||e&&e[fi]||null,h[ti]=i,h[cu]=function f2(){return d2++}(),h[fs]=f,h[pv]=d,h[$r]=2==t.type?e[$r]:h,h}function Cd(e,t,r,n,o){let i=e.data[t];if(null===i)i=function Iy(e,t,r,n,o){const i=RS(),s=_v(),l=e.data[t]=function tN(e,t,r,n,o,i){let s=t?t.injectorIndex:-1,a=0;return ed()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,r,t,n,o);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l,l.prev=i)),l}(e,t,r,n,o),function zP(){return un.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=r,i.value=n,i.attrs=o;const s=function zf(){const e=un.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return al(i,!0),i}function pp(e,t,r,n){if(0===r)return-1;const o=t.length;for(let i=0;i<r;i++)t.push(n),e.blueprint.push(n),e.data.push(null);return o}function VE(e,t,r,n,o){const i=Mi(),s=2&n;try{fu(-1),s&&t.length>dn&&$E(e,t,dn,!1),no(s?2:0,o),r(n,o)}finally{fu(i),no(s?3:1,o)}}function xy(e,t,r){if(jf(t)){const n=P(null);try{const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{P(n)}}}function Ty(e,t,r){kS()&&(function lN(e,t,r,n){const o=r.directiveStart,i=r.directiveEnd;Jt(r)&&function mN(e,t,r){const n=Vi(t,e),o=jE(r);let s=16;r.signals?s=4096:r.onPush&&(s=64);const a=ng(e,tg(e,o,null,s,n,t,null,e[jl].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=a}(t,r,e.data[o+r.componentOffset]),e.firstCreatePass||_m(r,t),Ai(n,t);const s=r.initialInputs;for(let a=o;a<i;a++){const l=e.data[a],d=pu(t,e,a,r);Ai(d,t),null!==s&&gN(0,a-o,d,l,0,s),Rn(l)&&(Os(r.index,t)[wr]=pu(t,e,a,r))}}(e,t,r,Vi(r,t)),64==(64&r.flags)&&WE(e,t,r))}function My(e,t,r=Vi){const n=t.localNames;if(null!==n){let o=t.index+1;for(let i=0;i<n.length;i+=2){const s=n[i+1],a=-1===s?r(t,e):e[s];e[o++]=a}}}function jE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ay(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ay(e,t,r,n,o,i,s,a,l,d,f){const h=dn+n,m=h+o,b=function YF(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:wn);return r}(h,m),U="function"==typeof d?d():d;return b[dt]={type:e,blueprint:b,template:r,queries:null,viewQuery:a,declTNode:t,data:b.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:U,incompleteFirstPass:!1,ssrId:f}}let GE=e=>null;function UE(e,t,r,n){for(let o in e)if(e.hasOwnProperty(o)){r=null===r?{}:r;const i=e[o];null===n?HE(r,t,o,i):n.hasOwnProperty(o)&&HE(r,t,n[o],i)}return r}function HE(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function Bs(e,t,r,n,o,i,s,a){const l=Vi(t,r);let f,d=t.inputs;!a&&null!=d&&(f=d[n])?(Fy(e,r,f,n,o),Jt(t)&&function oN(e,t){const r=Os(t,e);16&r[jt]||(r[jt]|=64)}(r,t.index)):3&t.type&&(n=function rN(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),o=null!=s?s(o,t.value||"",n):o,i.setProperty(l,n,o))}function ky(e,t,r,n){if(kS()){const o=null===n?null:{"":-1},i=function uN(e,t){const r=e.directiveRegistry;let n=null,o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];if(Nf(t,s.selectors,!1))if(n||(n=[]),Rn(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),n.unshift(...a,s),Ry(e,t,a.length)}else n.unshift(s),Ry(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,n,o),n.push(s)}return null===n?null:[n,o]}(e,r);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&zE(e,t,r,s,o,a),o&&function dN(e,t,r){if(t){const n=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=r[t[o+1]];if(null==i)throw new Xe(-301,!1);n.push(t[o],i)}}}(r,n,o)}r.mergedAttrs=_c(r.mergedAttrs,r.attrs)}function zE(e,t,r,n,o,i){for(let d=0;d<n.length;d++)Mv(_m(r,t),e,n[d].type);!function pN(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let d=0;d<n.length;d++){const f=n[d];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,l=pp(e,t,n.length,null);for(let d=0;d<n.length;d++){const f=n[d];r.mergedAttrs=_c(r.mergedAttrs,f.hostAttrs),hN(e,r,t,l,f),fN(l,f,o),null!==f.contentQueries&&(r.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(r.flags|=64);const h=f.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}!function nN(e,t,r){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,d=null;for(let f=t.directiveStart;f<o;f++){const h=i[f],m=r?r.get(h):null,U=m?m.outputs:null;l=UE(h.inputs,f,l,m?m.inputs:null),d=UE(h.outputs,f,d,U);const ee=null===l||null===s||Ff(t)?null:_N(l,f,s);a.push(ee)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=d}(e,r,i)}function WE(e,t,r){const n=r.directiveStart,o=r.directiveEnd,i=r.index,s=function ZP(){return un.lFrame.currentDirectiveIndex}();try{fu(i);for(let a=n;a<o;a++){const l=e.data[a],d=t[a];yv(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&cN(l,d)}}finally{fu(-1),yv(s)}}function cN(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ry(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function fN(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Rn(t)&&(r[""]=e)}}function hN(e,t,r,n,o){e.data[n]=o;const i=o.factory||(o.factory=hs(o.type)),s=new Wf(i,Rn(o),v);e.blueprint[n]=s,r[n]=s,function sN(e,t,r,n,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function aN(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(s)!=a&&s.push(a),s.push(r,n,i)}}(e,t,n,pp(e,r,o.hostVars,wn),o)}function dl(e,t,r,n,o,i){const s=Vi(e,t);!function Py(e,t,r,n,o,i,s){if(null==i)e.removeAttribute(t,o,r);else{const a=null==s?qt(i):s(i,n||"",o);e.setAttribute(t,o,a,r)}}(t[cn],s,i,e.value,r,n,o)}function gN(e,t,r,n,o,i){const s=i[t];if(null!==s)for(let a=0;a<s.length;)ZE(n,r,s[a++],s[a++],s[a++])}function ZE(e,t,r,n,o){const i=P(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(n)&&(o=s[n].call(t,o)),null!==e.setInput?e.setInput(t,o,r,n):t[n]=o}finally{P(i)}}function _N(e,t,r){let n=null,o=0;for(;o<r.length;){const i=r[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===n&&(n=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(i,s[a+1],r[o+1]);break}}o+=2}else o+=2;else o+=4}return n}function qE(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function YE(e,t){const r=e.contentQueries;if(null!==r){const n=P(null);try{for(let o=0;o<r.length;o+=2){const s=r[o+1];if(-1!==s){const a=e.data[s];Cv(r[o]),a.contentQueries(2,t[s],s)}}}finally{P(n)}}}function ng(e,t){return e[vc]?e[lm][ds]=t:e[vc]=t,e[lm]=t,t}function Oy(e,t,r){Cv(0);const n=P(null);try{t(e,r)}finally{P(n)}}function KE(e){return e[Vl]||(e[Vl]=[])}function XE(e){return e.cleanup||(e.cleanup=[])}function rg(e,t){const r=e[fi],n=r?r.get(Yl,null):null;n&&n.handleError(t)}function Fy(e,t,r,n,o){for(let i=0;i<r.length;){const s=r[i++],a=r[i++];ZE(e.data[s],t[s],n,a,o)}}function Kl(e,t,r){const n=Uf(t,e);!function Uw(e,t,r){e.setValue(t,r)}(e[cn],n,r)}function bN(e,t,r,n){const o=t[jt];if(256==(256&o))return;t[jl].inlineEffectRunner?.flush(),Sv(t);let s=null,a=null;(function CN(e){return 2!==e.type})(e)&&(a=function BF(e){return e[Hl]??function VF(e){const t=AE.pop()??Object.create(GF);return t.lView=e,t}(e)}(t),s=function se(e){return e&&(e.nextProducerIndex=0),P(e)}(a));try{IS(t),function OS(e){return un.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&VE(e,t,r,2,n);const l=3==(3&o);if(l){const h=e.preOrderCheckHooks;null!==h&&hm(t,h,null)}else{const h=e.preOrderHooks;null!==h&&mm(t,h,0,null),Ev(t,0)}if(function SN(e){for(let t=Vw(e);null!==t;t=jw(t)){if(!(t[jt]&wc.HasTransplantedViews))continue;const r=t[gn];for(let n=0;n<r.length;n++){FP(r[n])}}}(t),JE(t,0),null!==e.contentQueries&&YE(e,t),l){const h=e.contentCheckHooks;null!==h&&hm(t,h)}else{const h=e.contentHooks;null!==h&&mm(t,h,1),Ev(t,1)}!function qF(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let n=0;n<r.length;n++){const o=r[n];if(o<0)fu(~o);else{const i=o,s=r[++n],a=r[++n];WP(s,i),a(2,t[i])}}}finally{fu(-1)}}(e,t);const d=e.components;null!==d&&tD(t,d,0);const f=e.viewQuery;if(null!==f&&Oy(2,f,n),l){const h=e.viewCheckHooks;null!==h&&hm(t,h)}else{const h=e.viewHooks;null!==h&&mm(t,h,2),Ev(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ul]){for(const h of t[Ul])h();t[Ul]=null}t[jt]&=-73}catch(l){throw um(t),l}finally{null!==a&&(function Z(e,t){if(P(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Me(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ae(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function jF(e){e.lView[Hl]!==e&&(e.lView=null,AE.push(e))}(a)),wv()}}function JE(e,t){for(let r=Vw(e);null!==r;r=jw(r)){r[jt]&=~wc.HasChildViewsToRefresh;for(let n=ho;n<r.length;n++)eD(r[n],t)}}function wN(e,t,r){eD(Os(t,e),r)}function eD(e,t){mv(e)&&Ly(e,t)}function Ly(e,t){const n=e[dt],o=e[jt],i=e[Hl];let s=!!(0===t&&16&o);if(s||=!!(64&o&&0===t),s||=!!(1024&o),s||=!(!i?.dirty||!k(i)),i&&(i.dirty=!1),e[jt]&=-9217,s)bN(n,e,n.template,e[wr]);else if(8192&o){JE(e,1);const a=n.components;null!==a&&tD(e,a,1)}}function tD(e,t,r){for(let n=0;n<t.length;n++)wN(e,t[n],r)}function hp(e){for(;e;){e[jt]|=64;const t=np(e);if(Le(e)&&!t)return e;e=t}return null}class mp{get rootNodes(){const t=this._lView,r=t[dt];return fp(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wr]}set context(t){this._lView[wr]=t}get destroyed(){return 256==(256&this._lView[jt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Lr];if(jo(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(rp(t,n),bm(r,n))}this._attachedToViewContainer=!1}$m(this._lView[dt],this._lView)}onDestroy(t){dm(this._lView,t)}markForCheck(){hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[jt]&=-129}reattach(){MS(this._lView),this._lView[jt]|=128}detectChanges(){this._lView[jt]|=1024,function Ny(e,t=!0){const r=e[jl],n=r.rendererFactory,o=r.afterRenderEventManager;n.begin?.(),o?.begin();try{!function yN(e){Ly(e,0);let t=0;for(;TS(e);){if(100===t)throw new Xe(103,!1);t++,Ly(e,1)}}(e)}catch(s){throw t&&rg(e,s),s}finally{n.end?.(),r.inlineEffectRunner?.flush(),o?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function I2(e,t){ip(e,t,t[cn],2,null,null)}(this._lView[dt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Xe(902,!1);this._appRef=t}}let ut=(()=>{class t{}return t.__NG_ELEMENT_ID__=EN,t})();function EN(e){return function DN(e,t,r){if(Jt(e)&&!r){const n=Os(e.index,t);return new mp(n,n)}return 47&e.type?new mp(t[$r],t):null}(Ar(),ze(),16==(16&e))}let og=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=MN,e.__NG_ENV_ID__=r=>r,t})();class TN extends og{constructor(t){super(),this._lView=t}onDestroy(t){return dm(this._lView,t),()=>function gv(e,t){if(null===e[Gl])return;const r=e[Gl].indexOf(t);-1!==r&&e[Gl].splice(r,1)}(this._lView,t)}}function MN(){return new TN(ze())}const nD=new Set;function _u(e){nD.has(e)||(nD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function $y(e){return t=>{setTimeout(e,void 0,t)}}const en=class NN extends Fn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let o=t,i=r||(()=>null),s=n;if(t&&"object"==typeof t){const l=t;o=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=$y(i),o&&(o=$y(o)),s&&(s=$y(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof ot&&t.add(a),a}};function rD(...e){}class Ue{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new en(!1),this.onMicrotaskEmpty=new en(!1),this.onStable=new en(!1),this.onError=new en(!1),typeof Zone>"u")throw new Xe(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!n&&r,o.shouldCoalesceRunChangeDetection=n,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function LN(){const e="function"==typeof D.requestAnimationFrame;let t=D[e?"requestAnimationFrame":"setTimeout"],r=D[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function VN(e){const t=()=>{!function BN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(D,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Vy(e),e.isCheckStableRunning=!0,By(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Vy(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,o,i,s,a)=>{if(function GN(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return r.invokeTask(o,i,s,a);try{return oD(e),r.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),iD(e)}},onInvoke:(r,n,o,i,s,a,l)=>{try{return oD(e),r.invoke(o,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),iD(e)}},onHasTask:(r,n,o,i)=>{r.hasTask(o,i),n===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Vy(e),By(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,n,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new Xe(909,!1)}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new Xe(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,$N,rD,rD);try{return i.runTask(s,r,n)}finally{i.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const $N={};function By(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Vy(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function oD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function iD(e){e._nesting--,By(e)}class jN{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new en,this.onMicrotaskEmpty=new en,this.onStable=new en,this.onError=new en}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,o){return t.apply(r,n)}}const sD=new Te("",{providedIn:"root",factory:aD});function aD(){const e=it(Ue);let t=!0;return Ca(new Dn(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new Dn(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),s.unsubscribe()}}).pipe(Sa()))}var vu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(vu||{});const lD={destroy(){}};function uD(e,t){!t&&function Hv(e){if(!Tr()&&!function Gh(){return Ta}())throw new Xe(-203,!1)}();const r=t?.injector??it(Wr);if(!function Rc(e){return"browser"===(e??it(Wr)).get(kc)}(r))return lD;_u("NgAfterNextRender");const n=r.get(ig),o=n.handler??=new fD,i=t?.phase??vu.MixedReadWrite,s=()=>{o.unregister(l),a()},a=r.get(og).onDestroy(s),l=new dD(r,i,()=>{s(),e()});return o.register(l),{destroy:s}}class dD{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Ue),this.errorHandler=t.get(Yl,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class fD{constructor(){this.executingCallbacks=!1,this.buckets={[vu.EarlyRead]:new Set,[vu.Write]:new Set,[vu.MixedReadWrite]:new Set,[vu.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Xe(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const r of t)r.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let ig=(()=>{var e;class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:()=>new e}),t})();function zN(e,t){const r=Os(t,e),n=r[dt];!function WN(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const o=r[eo];null!==o&&null===r[fs]&&(r[fs]=by(o,r[fi])),jy(n,r,r[wr])}function jy(e,t,r){Sv(t);try{const n=e.viewQuery;null!==n&&Oy(1,n,r);const o=e.template;null!==o&&VE(e,t,o,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&YE(e,t),e.staticViewQueries&&Oy(2,e.viewQuery,r);const i=e.components;null!==i&&function ZN(e,t){for(let r=0;r<t.length;r++)zN(e,t[r])}(t,i)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[jt]&=-5,wv()}}function sg(e,t,r){let n=r?e.styles:null,o=r?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=ea(o,a):2==i&&(n=ea(n,a+": "+t[++s]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=o:e.classesWithoutHost=o}class pD extends Xm{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=kn(t);return new gp(r,this.ngModule)}}function hD(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class YN{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=su(n);const o=this.injector.get(t,wy,n);return o!==wy||r===wy?o:this.parentInjector.get(t,r,n)}}class gp extends yE{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=hD(t.inputs);if(null!==r)for(const o of n)r.hasOwnProperty(o.propName)&&(o.transform=r[o.propName]);return n}get outputs(){return hD(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function nm(e){return e.map(tm).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,o){let i=(o=o||this.ngModule)instanceof hi?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new YN(t,i):t,a=s.get(CE,null);if(null===a)throw new Xe(407,!1);const f={rendererFactory:a,sanitizer:s.get(xF,null),inlineEffectRunner:null,afterRenderEventManager:s.get(ig,null)},h=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",b=n?function KF(e,t,r,n){const i=n.get(OE,!1)||r===cs.ShadowDom,s=e.selectRootElement(t,i);return function XF(e){GE(e)}(s),s}(h,n,this.componentDef.encapsulation,s):Lm(h,m,function qN(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m)),he=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ye=null;null!==b&&(ye=by(b,s,!0));const De=Ay(0,null,null,1,0,null,null,null,null,null,null),bt=tg(null,De,null,he,null,null,f,h,s,null,ye);let vt,pt;Sv(bt);try{const Mn=this.componentDef;let Pn,qs=null;Mn.findHostDirectiveDefs?(Pn=[],qs=new Map,Mn.findHostDirectiveDefs(Mn,Pn,qs),Pn.push(Mn)):Pn=[Mn];const ns=function XN(e,t){const r=e[dt],n=dn;return e[n]=t,Cd(r,n,2,"#host",null)}(bt,b),kP=function QN(e,t,r,n,o,i,s){const a=o[dt];!function JN(e,t,r,n){for(const o of e)t.mergedAttrs=_c(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(sg(t,t.mergedAttrs,!0),null!==r&&nE(n,r,t))}(n,e,t,s);let l=null;null!==t&&(l=by(t,o[fi]));const d=i.rendererFactory.createRenderer(t,r);let f=16;r.signals?f=4096:r.onPush&&(f=64);const h=tg(o,jE(r),null,f,o[e.index],e,i,d,null,null,l);return a.firstCreatePass&&Ry(a,e,n.length-1),ng(o,h),o[e.index]=h}(ns,b,Mn,Pn,bt,f,h);pt=Hf(De,dn),b&&function tL(e,t,r,n){if(n)Yu(e,r,["ng-version",TF.full]);else{const{attrs:o,classes:i}=function rm(e){const t=[],r=[];let n=1,o=2;for(;n<e.length;){let i=e[n];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++n]):8===o&&r.push(i);else{if(!us(o))break;o=i}n++}return{attrs:t,classes:r}}(t.selectors[0]);o&&Yu(e,r,o),i&&i.length>0&&tE(e,r,i.join(" "))}}(h,Mn,b,n),void 0!==r&&function nL(e,t,r){const n=e.projection=[];for(let o=0;o<t.length;o++){const i=r[o];n.push(null!=i?Array.from(i):null)}}(pt,this.ngContentSelectors,r),vt=function eL(e,t,r,n,o,i){const s=Ar(),a=o[dt],l=Vi(s,o);zE(a,o,s,r,null,n);for(let f=0;f<r.length;f++)Ai(pu(o,a,s.directiveStart+f,s),o);WE(a,o,s),l&&Ai(l,o);const d=pu(o,a,s.directiveStart+s.componentOffset,s);if(e[wr]=o[wr]=d,null!==i)for(const f of i)f(d,t);return xy(a,s,e),d}(kP,Mn,Pn,qs,bt,[rL]),jy(De,bt,null)}finally{wv()}return new KN(this.componentType,vt,bd(pt,bt),bt,pt)}}class KN extends CF{constructor(t,r,n,o,i){super(),this.location=n,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new mp(o,void 0,!1),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let o;if(null!==n&&(o=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const i=this._rootLView;Fy(i[dt],i,o,t,r),this.previousInputValues.set(t,r),hp(Os(this._tNode.index,i))}}get injector(){return new ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function rL(){const e=Ar();pm(ze()[dt],e)}function En(e){let t=function mD(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let o;if(Rn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Xe(903,!1);o=t.\u0275dir}if(o){if(r){n.push(o);const s=e;s.inputs=ag(e.inputs),s.inputTransforms=ag(e.inputTransforms),s.declaredInputs=ag(e.declaredInputs),s.outputs=ag(e.outputs);const a=o.hostBindings;a&&aL(e,a);const l=o.viewQuery,d=o.contentQueries;if(l&&iL(e,l),d&&sL(e,d),As(e.inputs,o.inputs),As(e.declaredInputs,o.declaredInputs),As(e.outputs,o.outputs),null!==o.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),As(s.inputTransforms,o.inputTransforms)),Rn(o)&&o.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(e),a===En&&(r=!1)}}t=Object.getPrototypeOf(t)}!function oL(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const o=e[n];o.hostVars=t+=o.hostVars,o.hostAttrs=_c(o.hostAttrs,r=_c(r,o.hostAttrs))}}(n)}function ag(e){return e===Ps?{}:e===qn?[]:e}function iL(e,t){const r=e.viewQuery;e.viewQuery=r?(n,o)=>{t(n,o),r(n,o)}:t}function sL(e,t){const r=e.contentQueries;e.contentQueries=r?(n,o,i)=>{t(n,o,i),r(n,o,i)}:t}function aL(e,t){const r=e.hostBindings;e.hostBindings=r?(n,o)=>{t(n,o),r(n,o)}:t}function fl(e,t,r){return e[t]=r}function Go(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function yu(e,t,r,n){const o=Go(e,t,r);return Go(e,t+1,n)||o}function Vs(e,t,r,n){const o=ze();return Go(o,ll(),t)&&(Yn(),dl(ro(),o,e,t,r,n)),Vs}function wd(e,t,r,n){return Go(e,ll(),r)?t+qt(r)+n:wn}function Dd(e,t,r,n,o,i,s,a){const d=function lg(e,t,r,n,o){const i=yu(e,t,r,n);return Go(e,t+2,o)||i}(e,zl(),r,o,s);return Wl(3),d?t+qt(r)+n+qt(o)+i+qt(s)+a:wn}function cg(e,t){return e<<17|t<<2}function Fc(e){return e>>17&32767}function Gy(e){return 2|e}function bu(e){return(131068&e)>>2}function Uy(e,t){return-131069&e|t<<2}function Hy(e){return 1|e}function MD(e,t,r,n,o){const i=e[r+1],s=null===t;let a=n?Fc(i):bu(i),l=!1;for(;0!==a&&(!1===l||s);){const f=e[a+1];vL(e[a],t)&&(l=!0,e[a+1]=n?Hy(f):Gy(f)),a=n?Fc(f):bu(f)}l&&(e[r+1]=n?Gy(i):Hy(i))}function vL(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ud(e,t)>=0}function Se(e,t,r){const n=ze();return Go(n,ll(),t)&&Bs(Yn(),ro(),n,e,t,n[cn],r,!1),Se}function zy(e,t,r,n,o){const s=o?"class":"style";Fy(e,r,t.inputs[s],s,n)}function Cu(e,t,r){return ka(e,t,r,!1),Cu}function sa(e,t){return ka(e,t,null,!0),sa}function ka(e,t,r,n){const o=ze(),i=Yn(),s=Wl(2);i.firstUpdatePass&&function LD(e,t,r,n){const o=e.data;if(null===o[r+1]){const i=o[Mi()],s=function ND(e,t){return t>=e.expandoStartIndex}(e,r);(function jD(e,t){return 0!=(e.flags&(t?8:16))})(i,n)&&null===t&&!s&&(t=!1),t=function xL(e,t,r,n){const o=function bv(e){const t=un.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=n?t.residualClasses:t.residualStyles;if(null===o)0===(n?t.classBindings:t.styleBindings)&&(r=vp(r=Wy(null,e,t,r,n),t.attrs,n),i=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==o)if(r=Wy(o,e,t,r,n),null===i){let l=function TL(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==bu(n))return e[Fc(n)]}(e,t,n);void 0!==l&&Array.isArray(l)&&(l=Wy(null,e,t,l[1],n),l=vp(l,t.attrs,n),function ML(e,t,r,n){e[Fc(r?t.classBindings:t.styleBindings)]=n}(e,t,n,l))}else i=function AL(e,t,r){let n;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)n=vp(n,e[i].hostAttrs,r);return vp(n,t.attrs,r)}(e,t,n)}return void 0!==i&&(n?t.residualClasses=i:t.residualStyles=i),r}(o,i,t,n),function gL(e,t,r,n,o,i){let s=i?t.classBindings:t.styleBindings,a=Fc(s),l=bu(s);e[n]=r;let f,d=!1;if(Array.isArray(r)?(f=r[1],(null===f||ud(r,f)>0)&&(d=!0)):f=r,o)if(0!==l){const m=Fc(e[a+1]);e[n+1]=cg(m,a),0!==m&&(e[m+1]=Uy(e[m+1],n)),e[a+1]=function hL(e,t){return 131071&e|t<<17}(e[a+1],n)}else e[n+1]=cg(a,0),0!==a&&(e[a+1]=Uy(e[a+1],n)),a=n;else e[n+1]=cg(l,0),0===a?a=n:e[l+1]=Uy(e[l+1],n),l=n;d&&(e[n+1]=Gy(e[n+1])),MD(e,f,n,!0),MD(e,f,n,!1),function _L(e,t,r,n,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&ud(i,t)>=0&&(r[n+1]=Hy(r[n+1]))}(t,f,e,n,i),s=cg(a,l),i?t.classBindings=s:t.styleBindings=s}(o,i,t,r,s,n)}}(i,e,s,n),t!==wn&&Go(o,s,t)&&function BD(e,t,r,n,o,i,s,a){if(!(3&t.type))return;const l=e.data,d=l[a+1],f=function mL(e){return 1==(1&e)}(d)?VD(l,t,r,o,bu(d),s):void 0;ug(f)||(ug(i)||function pL(e){return 2==(2&e)}(d)&&(i=VD(l,null,r,o,a,s)),function N2(e,t,r,n,o){if(t)o?e.addClass(r,n):e.removeClass(r,n);else{let i=-1===n.indexOf("-")?void 0:Oc.DashCase;null==o?e.removeStyle(r,n,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Oc.Important),e.setStyle(r,n,o,i))}}(n,s,Uf(Mi(),r),o,i))}(i,i.data[Mi()],o,o[cn],e,o[s+1]=function OL(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Cr(Ls(e)))),e}(t,r),n,s)}function Wy(e,t,r,n,o){let i=null;const s=r.directiveEnd;let a=r.directiveStylingLast;for(-1===a?a=r.directiveStart:a++;a<s&&(i=t[a],n=vp(n,i.hostAttrs,o),i!==e);)a++;return null!==e&&(r.directiveStylingLast=a),n}function vp(e,t,r){const n=r?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?o=s:o===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Fs(e,s,!!r||t[++i]))}return void 0===e?null:e}function VD(e,t,r,n,o,i){const s=null===t;let a;for(;o>0;){const l=e[o],d=Array.isArray(l),f=d?l[1]:l,h=null===f;let m=r[o+1];m===wn&&(m=h?qn:void 0);let b=h?Pv(m,n):f===n?m:void 0;if(d&&!ug(b)&&(b=Pv(l,n)),ug(b)&&(a=b,s))return a;const U=e[o+1];o=s?Fc(U):bu(U)}if(null!==t){let l=i?t.residualClasses:t.residualStyles;null!=l&&(a=Pv(l,n))}return a}function ug(e){return void 0!==e}function Pd(e,t){return!t||null===t.firstChild||Om(e)}function Ep(e,t,r,n=!0){const o=t[dt];if(function T2(e,t,r,n){const o=ho+n,i=r.length;n>0&&(r[o-1][ds]=t),n<i-ho?(t[ds]=r[o],rw(r,ho+n,t)):(r.push(t),t[ds]=null),t[Lr]=r;const s=t[bc];null!==s&&r!==s&&function M2(e,t){const r=e[gn];t[$r]!==t[Lr][Lr][$r]&&(e[jt]|=wc.HasTransplantedViews),null===r?e[gn]=[t]:r.push(t)}(s,t);const a=t[oa];null!==a&&a.insertView(e),MS(t),t[jt]|=128}(o,t,e,r),n){const s=sy(r,e),a=t[cn],l=Bm(a,e[Hn]);null!==l&&function D2(e,t,r,n,o,i){n[eo]=o,n[ti]=t,ip(e,n,r,1,o,i)}(o,e[ti],a,t,l,s)}const i=t[fs];null!==i&&null!==i.firstChild&&(i.firstChild=null)}let vs=(()=>{class t{}return t.__NG_ELEMENT_ID__=h3,t})();function h3(){return e1(Ar(),ze())}const m3=vs,QD=class extends m3{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return bd(this._hostTNode,this._hostLView)}get injector(){return new ii(this._hostTNode,this._hostLView)}get parentInjector(){const t=vm(this._hostTNode,this._hostLView);if(Iv(t)){const r=qf(t,this._hostLView),n=Zf(t);return new ii(r[dt].data[n+8],r)}return new ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=JD(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-ho}createEmbeddedView(t,r,n){let o,i;"number"==typeof n?o=n:null!=n&&(o=n.index,i=n.injector);const a=t.createEmbeddedViewImpl(r||{},i,null);return this.insertImpl(a,o,Pd(this._hostTNode,null)),a}createComponent(t,r,n,o,i){const s=t&&!function Yf(e){return"function"==typeof e}(t);let a;if(s)a=r;else{const U=r||{};a=U.index,n=U.injector,o=U.projectableNodes,i=U.environmentInjector||U.ngModuleRef}const l=s?t:new gp(kn(t)),d=n||this.parentInjector;if(!i&&null==l.ngModule){const ee=(s?d:this.parentInjector).get(hi,null);ee&&(i=ee)}kn(l.componentType??{});const b=l.create(d,o,null,i);return this.insertImpl(b.hostView,a,Pd(this._hostTNode,null)),b}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){const o=t._lView;if(function OP(e){return jo(e[Lr])}(o)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=o[Lr],d=new QD(l,l[ti],l[Lr]);d.detach(d.indexOf(t))}}const i=this._adjustIndex(r),s=this._lContainer;return Ep(s,o,i,n),t.attachToViewContainerRef(),rw(tb(s),i,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=JD(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=rp(this._lContainer,r);n&&(bm(tb(this._lContainer),r),$m(n[dt],n))}detach(t){const r=this._adjustIndex(t,-1),n=rp(this._lContainer,r);return n&&null!=bm(tb(this._lContainer),r)?new mp(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function JD(e){return e[8]}function tb(e){return e[8]||(e[8]=[])}function e1(e,t){let r;const n=t[e.index];return jo(n)?r=n:(r=qE(n,t,null,e),t[e.index]=r,ng(t,r)),t1(r,t,e,n),new QD(r,e,t)}let t1=function r1(e,t,r,n){if(e[Hn])return;let o;o=8&r.type?Hr(n):function g3(e,t){const r=e[cn],n=r.createComment(""),o=Vi(t,e);return mu(r,Bm(r,o),n,function P2(e,t){return e.nextSibling(t)}(r,o),!1),n}(t,r),e[Hn]=o},nb=(e,t,r)=>!1;function zt(e,t,r,n,o,i,s,a){const l=ze(),d=Yn(),f=e+dn,h=d.firstCreatePass?function b3(e,t,r,n,o,i,s,a,l){const d=t.consts,f=Cd(t,e,4,s||null,sl(d,a));ky(t,r,f,sl(d,l)),pm(t,f);const h=f.tView=Ay(2,f,n,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,d,null);return null!==t.queries&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}(f,d,l,t,r,n,o,i,s):d.data[f];al(h,!1);const m=o1(d,l,h,e);fm()&&Vm(d,l,m,h),Ai(m,l);const b=qE(m,l,m,h);return l[f]=b,ng(l,b),function n1(e,t,r){return nb(e,t,r)}(b,h,l),mo(h)&&Ty(d,l,h),null!=s&&My(l,h,a),zt}let o1=function i1(e,t,r,n){return Ic(!0),t[cn].createComment("")};function G(e,t,r,n){const o=ze(),i=Yn(),s=dn+e,a=o[cn],l=i.firstCreatePass?function c$(e,t,r,n,o,i){const s=t.consts,l=Cd(t,e,2,n,sl(s,o));return ky(t,r,l,sl(s,i)),null!==l.attrs&&sg(l,l.attrs,!1),null!==l.mergedAttrs&&sg(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,t,r,n):i.data[s],d=T1(i,o,l,a,t,e);o[s]=d;const f=mo(l);return al(l,!0),nE(a,d,l),32!=(32&l.flags)&&fm()&&Vm(i,o,d,l),0===function NP(){return un.lFrame.elementDepthCount}()&&Ai(d,o),function LP(){un.lFrame.elementDepthCount++}(),f&&(Ty(i,o,l),xy(i,l,o)),null!==n&&My(o,l),G}function L(){let e=Ar();_v()?vv():(e=e.parent,al(e,!1));const t=e;(function BP(e){return un.skipHydrationRootTNode===e})(t)&&function UP(){un.skipHydrationRootTNode=null}(),function $P(){un.lFrame.elementDepthCount--}();const r=Yn();return r.firstCreatePass&&(pm(r,e),jf(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function oO(e){return 0!=(8&e.flags)}(t)&&zy(r,t,ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function iO(e){return 0!=(16&e.flags)}(t)&&zy(r,t,ze(),t.stylesWithoutHost,!1),L}function je(e,t,r,n){return G(e,t,r,n),L(),je}let T1=(e,t,r,n,o,i)=>(Ic(!0),Lm(n,o,function GS(){return un.lFrame.currentNamespace}()));function Vd(e,t,r){const n=ze(),o=Yn(),i=e+dn,s=o.firstCreatePass?function f$(e,t,r,n,o){const i=t.consts,s=sl(i,n),a=Cd(t,e,8,"ng-container",s);return null!==s&&sg(a,s,!0),ky(t,r,a,sl(i,o)),null!==t.queries&&t.queries.elementStart(t,a),a}(i,o,n,t,r):o.data[i];al(s,!0);const a=M1(o,n,s,e);return n[i]=a,fm()&&Vm(o,n,a,s),Ai(a,n),mo(s)&&(Ty(o,n,s),xy(o,s,n)),null!=r&&My(n,s),Vd}function jd(){let e=Ar();const t=Yn();return _v()?vv():(e=e.parent,al(e,!1)),t.firstCreatePass&&(pm(t,e),jf(e)&&t.queries.elementEnd(e)),jd}let M1=(e,t,r,n)=>(Ic(!0),ny(t[cn],""));function Ln(){return ze()}const Ud="en-US";let O1=Ud;function Pp(e){return!!e&&"function"==typeof e.then}function iI(e){return!!e&&"function"==typeof e.subscribe}function Ne(e,t,r,n){const o=ze(),i=Yn(),s=Ar();return function aI(e,t,r,n,o,i,s){const a=mo(n),d=e.firstCreatePass&&XE(e),f=t[wr],h=KE(t);let m=!0;if(3&n.type||s){const ee=Vi(n,t),he=s?s(ee):ee,ye=h.length,De=s?vt=>s(Hr(vt[n.index])):n.index;let bt=null;if(!s&&a&&(bt=function dB(e,t,r,n){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===r&&o[i+1]===n){const a=t[Vl],l=o[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,o,n.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=i,bt.__ngLastListenerFn__=i,m=!1;else{i=cI(n,t,f,i,!1);const vt=r.listen(he,o,i);h.push(i,vt),d&&d.push(o,De,ye,ye+1)}}else i=cI(n,t,f,i,!1);const b=n.outputs;let U;if(m&&null!==b&&(U=b[o])){const ee=U.length;if(ee)for(let he=0;he<ee;he+=2){const pt=t[U[he]][U[he+1]].subscribe(i),Mn=h.length;h.push(i,pt),d&&d.push(o,n.index,Mn,-(Mn+1))}}}(i,o,o[cn],s,e,t,n),Ne}function lI(e,t,r,n){try{return no(6,t,r),!1!==r(n)}catch(o){return rg(e,o),!1}finally{no(7,t,r)}}function cI(e,t,r,n,o){return function i(s){if(s===Function)return n;hp(e.componentOffset>-1?Os(e.index,t):t);let l=lI(t,r,n,s),d=i.__ngNextListenerFn__;for(;d;)l=lI(t,r,d,s)&&l,d=d.__ngNextListenerFn__;return o&&!1===l&&s.preventDefault(),l}}function ct(e=1){return function YP(e){return(un.lFrame.contextLView=function xS(e,t){for(;e>0;)t=t[yc],e--;return t}(e,un.lFrame.contextLView))[wr]}(e)}function fB(e,t){let r=null;const n=function Xh(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let o=0;o<t.length;o++){const i=t[o];if("*"!==i){if(null===n?Nf(e,i,!0):em(n,i))return o}else r=o}return r}function _t(e){const t=ze()[$r][ti];if(!t.projection){const n=t.projection=Kf(e?e.length:1,null),o=n.slice();let i=t.child;for(;null!==i;){const s=e?fB(i,e):0;null!==s&&(o[s]?o[s].projectionNext=i:n[s]=i,o[s]=i),i=i.next}}}function gt(e,t=0,r){const n=ze(),o=Yn(),i=Cd(o,dn+e,16,null,r||null);null===i.projection&&(i.projection=t),vv(),(!n[fs]||ed())&&32!=(32&i.flags)&&function O2(e,t,r){eE(t[cn],0,t,r,oy(e,r,t),qw(r.parent||t[ti],r,t))}(o,n,i)}function Dg(e,t,r,n,o){const i=ze(),s=wd(i,t,r,n);return s!==wn&&Bs(Yn(),ro(),i,e,s,i[cn],o,!1),Dg}function js(e){return Ju(function HP(){return un.lFrame.contextLView}(),dn+e)}function Ce(e,t=""){const r=ze(),n=Yn(),o=e+dn,i=n.firstCreatePass?Cd(n,o,1,t,null):n.data[o],s=TI(n,r,i,t,e);r[o]=s,fm()&&Vm(n,r,s,i),al(i,!1)}let TI=(e,t,r,n,o)=>(Ic(!0),function Nm(e,t){return e.createText(t)}(t[cn],n));function Ui(e){return Ci("",e,""),Ui}function Ci(e,t,r){const n=ze(),o=wd(n,e,t,r);return o!==wn&&Kl(n,Mi(),o),Ci}function Op(e,t,r,n,o){const i=ze(),s=function Ed(e,t,r,n,o,i){const a=yu(e,zl(),r,o);return Wl(2),a?t+qt(r)+n+qt(o)+i:wn}(i,e,t,r,n,o);return s!==wn&&Kl(i,Mi(),s),Op}function mb(e,t,r,n,o,i,s){const a=ze(),l=Dd(a,e,t,r,n,o,i,s);return l!==wn&&Kl(a,Mi(),l),mb}function gb(e,t,r,n,o){if(e=Vt(e),Array.isArray(e))for(let i=0;i<e.length;i++)gb(e[i],t,r,n,o);else{const i=Yn(),s=ze(),a=Ar();let l=hu(e)?e:Vt(e.provide);const d=hw(e),f=1048575&a.providerIndexes,h=a.directiveStart,m=a.providerIndexes>>20;if(hu(e)||!e.multi){const b=new Wf(d,o,v),U=vb(l,t,o?f:f+m,h);-1===U?(Mv(_m(a,s),i,l),_b(i,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(b),s.push(b)):(r[U]=b,s[U]=b)}else{const b=vb(l,t,f+m,h),U=vb(l,t,f,f+m),he=U>=0&&r[U];if(o&&!he||!o&&!(b>=0&&r[b])){Mv(_m(a,s),i,l);const ye=function TB(e,t,r,n,o){const i=new Wf(e,r,v);return i.multi=[],i.index=t,i.componentProviders=0,FI(i,o,n&&!r),i}(o?xB:IB,r.length,o,n,d);!o&&he&&(r[U].providerFactory=ye),_b(i,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),r.push(ye),s.push(ye)}else _b(i,e,b>-1?b:U,FI(r[o?U:b],d,!o&&n));!o&&n&&he&&r[U].componentProviders++}}}function _b(e,t,r,n){const o=hu(t),i=function LO(e){return!!e.useClass}(t);if(o||i){const l=(i?Vt(t.useClass):t).prototype.ngOnDestroy;if(l){const d=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const f=d.indexOf(r);-1===f?d.push(r,[n,l]):d[f+1].push(n,l)}else d.push(r,l)}}}function FI(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function vb(e,t,r,n){for(let o=r;o<n;o++)if(t[o]===e)return o;return-1}function IB(e,t,r,n){return yb(this.multi,[])}function xB(e,t,r,n){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=pu(r,r[dt],this.providerFactory.index,n);i=a.slice(0,s),yb(o,i);for(let l=s;l<a.length;l++)i.push(a[l])}else i=[],yb(o,i);return i}function yb(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function sr(e,t=[]){return r=>{r.providersResolver=(n,o)=>function DB(e,t,r){const n=Yn();if(n.firstCreatePass){const o=Rn(e);gb(r,n.data,n.blueprint,o,!0),gb(t,n.data,n.blueprint,o,!1)}}(n,o?o(e):e,t)}}class Eu{}class NI{}class bb extends Eu{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pD(this);const o=ei(t);this._bootstrapComponents=Ns(o.bootstrap),this._r3Injector=yw(t,r,[{provide:Eu,useValue:this},{provide:Xm,useValue:this.componentFactoryResolver},...n],Cr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Cb extends NI{constructor(t){super(),this.moduleType=t}create(t){return new bb(this.moduleType,t,[])}}class LI extends Eu{constructor(t){super(),this.componentFactoryResolver=new pD(this),this.instance=null;const r=new pd([...t.providers,{provide:Eu,useValue:this},{provide:Xm,useValue:this.componentFactoryResolver}],t.parent||Tm(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Sb(e,t,r=null){return new LI({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let kB=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const o=uw(0,n.type),i=o.length>0?Sb([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(ue(hi))}),t})();function Ig(e){_u("NgStandalone"),e.getStandaloneInjector=t=>t.get(kB).getOrCreateStandaloneInjector(e)}function ZI(e,t,r,n,o,i){const s=t+r;return Go(e,s,o)?fl(e,s+1,i?n.call(i,o):n(o)):function Fp(e,t){const r=e[t];return r===wn?void 0:r}(e,s+1)}function ml(e,t){const r=Yn();let n;const o=e+dn;r.firstCreatePass?(n=function KB(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[o]=n,n.onDestroy&&(r.destroyHooks??=[]).push(o,n.onDestroy)):n=r.data[o];const i=n.factory||(n.factory=hs(n.type)),a=hn(v);try{const l=gm(!1),d=i();return gm(l),function pB(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,ze(),o,d),d}finally{hn(a)}}function gl(e,t,r){const n=e+dn,o=ze(),i=Ju(o,n);return function Np(e,t){return e[dt].data[t].pure}(o,n)?ZI(o,ji(),t,i.transform,r,i):i.transform(r)}function tV(){return this._results[Symbol.iterator]()}class Eb{get changes(){return this._changes??=new en}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Eb.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=tV)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const n=function gs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function vO(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let o=e[n],i=t[n];if(r&&(o=r(o),i=r(i)),i!==o)return!1}return!0}(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=oV,t})();const nV=Pa,rV=class extends nV{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const o=function wp(e,t,r,n){const o=t.tView,a=tg(e,o,r,4096&e[jt]?4096:16,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null);a[bc]=e[t.index];const d=e[oa];return null!==d&&(a[oa]=d.createEmbeddedView(o)),jy(o,a,r),a}(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new mp(o)}};function oV(){return Mg(Ar(),ze())}function Mg(e,t){return 4&e.type?new rV(t,e,bd(e,t)):null}class Db{constructor(t){this.queryList=t,this.matches=null}clone(){return new Db(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ib{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,o=[];for(let i=0;i<n;i++){const s=r.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Ib(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==nx(t,r).matches&&this.queries[r].setDirty()}}class QI{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class xb{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const o=null!==r?r.length:0,i=this.getByIndex(n).embeddedTView(t,o);i&&(i.indexInDeclarationView=n,null!==r?r.push(i):r=[i])}return null!==r?new xb(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Tb{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new Tb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let o=0;o<n.length;o++){const i=n[o];this.matchTNodeWithReadOption(t,r,iV(r,i)),this.matchTNodeWithReadOption(t,r,ym(r,t,i,!1,!1))}else n===Pa?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,ym(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const o=this.metadata.read;if(null!==o)if(o===rt||o===vs||o===Pa&&4&r.type)this.addMatch(r.index,-2);else{const i=ym(r,t,o,!1,!1);null!==i&&this.addMatch(r.index,i)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function iV(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function aV(e,t,r,n){return-1===r?function sV(e,t){return 11&e.type?bd(e,t):4&e.type?Mg(e,t):null}(t,e):-2===r?function lV(e,t,r){return r===rt?bd(t,e):r===Pa?Mg(t,e):r===vs?e1(t,e):void 0}(e,t,n):pu(e,e[dt],r,t)}function JI(e,t,r,n){const o=t[oa].queries[n];if(null===o.matches){const i=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){const d=s[l];a.push(d<0?null:aV(t,i[d],s[l+1],r.metadata.read))}o.matches=a}return o.matches}function Mb(e,t,r,n){const o=e.queries.getByIndex(r),i=o.matches;if(null!==i){const s=JI(e,t,o,r);for(let a=0;a<i.length;a+=2){const l=i[a];if(l>0)n.push(s[a/2]);else{const d=i[a+1],f=t[-l];for(let h=ho;h<f.length;h++){const m=f[h];m[bc]===m[Lr]&&Mb(m[dt],m,d,n)}if(null!==f[gn]){const h=f[gn];for(let m=0;m<h.length;m++){const b=h[m];Mb(b[dt],b,d,n)}}}}}return n}function Gs(e){const t=ze(),r=Yn(),n=NS();Cv(n+1);const o=nx(r,n);if(e.dirty&&function PP(e){return 4==(4&e[jt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?Mb(r,t,n,[]):JI(r,t,o,n);e.reset(i,DF),e.notifyOnChanges()}return!0}return!1}function Lc(e,t,r){const n=Yn();n.firstCreatePass&&(tx(n,new QI(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),ex(n,ze(),t)}function Hd(e,t,r,n){const o=Yn();if(o.firstCreatePass){const i=Ar();tx(o,new QI(t,r,n),i.index),function uV(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(o,e),2==(2&r)&&(o.staticContentQueries=!0)}ex(o,ze(),r)}function Us(){return function cV(e,t){return e[oa].queries[t].queryList}(ze(),NS())}function ex(e,t,r){const n=new Eb(4==(4&r));(function eN(e,t,r,n){const o=KE(t);o.push(r),e.firstCreatePass&&XE(e).push(n,o.length-1)})(e,t,n,n.destroy),null===t[oa]&&(t[oa]=new Ib),t[oa].queries.push(new Db(n))}function tx(e,t,r){null===e.queries&&(e.queries=new xb),e.queries.track(new Tb(t,r))}function nx(e,t){return e.queries.getByIndex(t)}let vx=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),kg=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fo(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class PV{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let yx=(()=>{var e;class t{compileModuleSync(n){return new Cb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const o=this.compileModuleSync(n),s=Ns(ei(n).declarations).reduce((a,l)=>{const d=kn(l);return d&&a.push(new gp(d)),a},[]);return new PV(o,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Ex=new Te(""),Pg=new Te("");let Lb,Fb=(()=>{var e;class t{constructor(n,o,i){this._ngZone=n,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lb||(function o4(e){Lb=e}(i),i.addToWindow(o)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(n)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,o,i){let s=-1;o&&o>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,o,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,o,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,o,i){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ue),ue(Nb),ue(Pg))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})(),Nb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,o){this._applications.set(n,o)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,o=!0){return Lb?.findTestabilityInTree(this,n,o)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const Bp=new Te("Application Initializer");let $b=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,o)=>{this.resolve=n,this.reject=o}),this.appInits=it(Bp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Pp(s))n.push(s);else if(iI(s)){const a=new Promise((l,d)=>{s.subscribe({complete:l,error:d})});n.push(a)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{o()}).catch(i=>{this.reject(i)}),0===n.length&&o(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Bb=new Te("appBootstrapListener");function xx(e,t){return Array.isArray(t)?t.reduce(xx,e):{...e,...t}}let Oa=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=it(RE),this.zoneIsStable=it(sD),this.componentTypes=[],this.components=[],this.isStable=it(kg).hasPendingTasks.pipe(Qr(n=>n?Bt(!1):this.zoneIsStable),Js()),this._injector=it(hi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const i=n instanceof yE;if(!this._injector.get($b).done)throw!i&&function Aa(e){const t=kn(e)||Eo(e)||Vo(e);return null!==t&&t.standalone}(n),new Xe(405,!1);let a;a=i?n:this._injector.get(Xm).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const l=function s4(e){return e.isBoundToModule}(a)?void 0:this._injector.get(Eu),f=a.create(Wr.NULL,[],o||a.selector,l),h=f.location.nativeElement,m=f.injector.get(Ex,null);return m?.registerApplication(h),f.onDestroy(()=>{this.detachView(f.hostView),Og(this.components,f),m?.unregisterApplication(h)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new Xe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Og(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(Bb,[]);[...this._bootstrapListeners,...o].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Og(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Xe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Og(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let l4=(()=>{var e;class t{constructor(){this.zone=it(Ue),this.applicationRef=it(Oa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function c4(){const e=it(Ue),t=it(Yl);return r=>e.runOutsideAngular(()=>t.handleError(r))}const Xl=new Te("LocaleId",{providedIn:"root",factory:()=>it(Xl,Nt.Optional|Nt.SkipSelf)||function d4(){return typeof $localize<"u"&&$localize.locale||Ud}()}),Vb=new Te("PlatformDestroyListeners");let kx=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,o){const i=function UN(e="zone.js",t){return"noop"===e?new jN:"zone.js"===e?new Ue(t):e}(o?.ngZone,function Ax(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return i.run(()=>{const s=function AB(e,t,r){return new bb(e,t,r)}(n.moduleType,this.injector,function Mx(e){return[{provide:Ue,useFactory:e},{provide:fd,multi:!0,useFactory:()=>{const t=it(l4,{optional:!0});return()=>t.initialize()}},{provide:RE,useFactory:c4},{provide:sD,useFactory:aD}]}(()=>i)),a=s.injector.get(Yl,null);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:d=>{a.handleError(d)}});s.onDestroy(()=>{Og(this._modules,s),l.unsubscribe()})}),function Ix(e,t,r){try{const n=r();return Pp(n)?n.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(a,i,()=>{const l=s.injector.get($b);return l.runInitializers(),l.donePromise.then(()=>(function F1(e){yn(e,"Expected localeId to be defined"),"string"==typeof e&&(O1=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Xl,Ud)||Ud),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,o=[]){const i=xx({},o);return function i4(e,t,r){const n=new Cb(r);return Promise.resolve(n)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const o=n.injector.get(Oa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>o.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Xe(-403,!1);n.instance.ngDoBootstrap(o)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const n=this._injector.get(Vb,null);n&&(n.forEach(o=>o()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Wr))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),$c=null;const Rx=new Te("AllowMultipleToken");function Px(e,t,r=[]){const n=`Platform: ${t}`,o=new Te(n);return(i=[])=>{let s=jb();if(!s||s.injector.get(Rx,!1)){const a=[...r,...i,{provide:o,useValue:!0}];e?e(a):function h4(e){if($c&&!$c.get(Rx,!1))throw new Xe(400,!1);(function Dx(){!function Tt(e){Be=e}(()=>{throw new Xe(600,!1)})})(),$c=e;const t=e.get(kx);(function Fx(e){e.get(Cw,null)?.forEach(r=>r())})(e)}(function Ox(e=[],t){return Wr.create({name:t,providers:[{provide:Vv,useValue:"platform"},{provide:Vb,useValue:new Set([()=>$c=null])},...e]})}(a,n))}return function m4(e){const t=jb();if(!t)throw new Xe(401,!1);return t}()}}function jb(){return $c?.get(kx)??null}const C4=Px(null,"core",[]);let S4=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Oa))},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({}),t})();function oT(e){const t=kn(e);if(!t)return null;const r=new gp(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}let Kb=null;function Bc(){return Kb}class K4{}const mi=new Te("DocumentToken");let Xb=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(Q4),providedIn:"platform"}),t})();const X4=new Te("Location Initialized");let Q4=(()=>{var e;class t extends Xb{constructor(){super(),this._doc=it(mi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bc().getBaseHref(this._doc)}onPopState(n){const o=Bc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",n,!1),()=>o.removeEventListener("popstate",n)}onHashChange(n){const o=Bc().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",n,!1),()=>o.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,o,i){this._history.pushState(n,o,i)}replaceState(n,o,i){this._history.replaceState(n,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"}),t})();function Qb(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function iT(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Ql(e){return e&&"?"!==e[0]?"?"+e:e}let _l=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(aT),providedIn:"root"}),t})();const sT=new Te("appBaseHref");let aT=(()=>{var e;class t extends _l{constructor(n,o){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??it(mi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Qb(this._baseHref,n)}path(n=!1){const o=this._platformLocation.pathname+Ql(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${o}${i}`:o}pushState(n,o,i,s){const a=this.prepareExternalUrl(i+Ql(s));this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){const a=this.prepareExternalUrl(i+Ql(s));this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Xb),ue(sT,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),lT=(()=>{var e;class t extends _l{constructor(n,o){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(n){const o=Qb(this._baseHref,n);return o.length>0?"#"+o:o}pushState(n,o,i,s){let a=this.prepareExternalUrl(i+Ql(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,o,a)}replaceState(n,o,i,s){let a=this.prepareExternalUrl(i+Ql(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,o,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Xb),ue(sT,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})(),Vc=(()=>{var e;class t{constructor(n){this._subject=new en,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const o=this._locationStrategy.getBaseHref();this._basePath=function tj(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(iT(cT(o))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,o=""){return this.path()==this.normalize(n+Ql(o))}normalize(n){return t.stripTrailingSlash(function ej(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,cT(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,o="",i=null){this._locationStrategy.pushState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ql(o)),i)}replaceState(n,o="",i=null){this._locationStrategy.replaceState(i,"",n,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ql(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",o){this._urlChangeListeners.forEach(i=>i(n,o))}subscribe(n,o,i){return this._subject.subscribe({next:n,error:o,complete:i})}}return(e=t).normalizeQueryParams=Ql,e.joinWithSlash=Qb,e.stripTrailingSlash=iT,e.\u0275fac=function(n){return new(n||e)(ue(_l))},e.\u0275prov=M({token:e,factory:()=>function J4(){return new Vc(ue(_l))}(),providedIn:"root"}),t})();function cT(e){return e.replace(/\/index.html$/,"")}function vT(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[o,i]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}class jj{constructor(t,r,n,o){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jc=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,o,i){this._viewContainer=n,this._template=o,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const o=this._viewContainer;n.forEachOperation((i,s,a)=>{if(null==i.previousIndex)o.createEmbeddedView(this._template,new jj(i.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)o.remove(null===s?void 0:s);else if(null!==s){const l=o.get(s);o.move(l,a),CT(l,i)}});for(let i=0,s=o.length;i<s;i++){const l=o.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{CT(o.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(vs),v(Pa),v(Jm))},e.\u0275dir=kt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function CT(e,t){e.context.$implicit=t.item}let No=(()=>{var e;class t{constructor(n,o){this._viewContainer=n,this._context=new Gj,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){ST("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){ST("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(vs),v(Pa))},e.\u0275dir=kt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Gj{constructor(){this.$implicit=null,this.ngIf=null}}function ST(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Cr(t)}'.`)}class cC{constructor(t,r){this._viewContainerRef=t,this._templateRef=r,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Jg=(()=>{var e;class t{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){const o=n===this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(const o of this._defaultViews)o.enforceState(n)}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),t})(),wT=(()=>{var e;class t{constructor(n,o,i){this.ngSwitch=i,i._addCase(),this._view=new cC(n,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(vs),v(Pa),v(Jg,9))},e.\u0275dir=kt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),t})(),ET=(()=>{var e;class t{constructor(n,o,i){i._addDefault(new cC(n,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(vs),v(Pa),v(Jg,9))},e.\u0275dir=kt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),t})();class Wj{createSubscription(t,r){return SE(()=>t.subscribe({next:r,error:n=>{throw n}}))}dispose(t){SE(()=>t.unsubscribe())}}class Zj{createSubscription(t,r){return t.then(r,n=>{throw n})}dispose(t){}}const qj=new Zj,Yj=new Wj;let IT=(()=>{var e;class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(Pp(n))return qj;if(iI(n))return Yj;throw function Na(e,t){return new Xe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ut,16))},e.\u0275pipe=Po({name:"async",type:e,pure:!1,standalone:!0}),t})(),vl=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({}),t})();const TT="browser";function Kd(e){return e===TT}function MT(e){return"server"===e}let gG=(()=>{var e;class t{}return(e=t).\u0275prov=M({token:e,providedIn:"root",factory:()=>new _G(ue(mi),window)}),t})();class _G{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function vG(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=n.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(t)||i.querySelector(`[name="${t}"]`);if(s)return s}o=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],o-i[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class AT{}class jG extends K4{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class mC extends jG{static makeCurrent(){!function Y4(e){Kb||(Kb=e)}(new mC)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function GG(){return zp=zp||document.querySelector("base"),zp?zp.getAttribute("href"):null}();return null==r?null:function UG(e){return new URL(e,document.baseURI).pathname}(r)}resetBaseElement(){zp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vT(document.cookie,t)}}let zp=null,zG=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const gC=new Te("EventManagerPlugins");let OT=(()=>{var e;class t{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,o,i){return this._findPluginFor(o).addEventListener(n,o,i)}getZone(){return this._zone}_findPluginFor(n){let o=this._eventNameToPlugin.get(n);if(o)return o;if(o=this._plugins.find(s=>s.supports(n)),!o)throw new Xe(5101,!1);return this._eventNameToPlugin.set(n,o),o}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(gC),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();class FT{constructor(t){this._doc=t}}const _C="ng-app-id";let NT=(()=>{var e;class t{constructor(n,o,i,s={}){this.doc=n,this.appId=o,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=MT(s),this.resetHostNodes()}addStyles(n){for(const o of n)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(n){for(const o of n)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(o=>o.remove()),n.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const o of this.getAllStyles())this.addStyleToHost(n,o)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const o of this.hostNodes)this.addStyleToHost(o,n)}onStyleRemoved(n){const o=this.styleRef;o.get(n)?.elements?.forEach(i=>i.remove()),o.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${_C}="${this.appId}"]`);if(n?.length){const o=new Map;return n.forEach(i=>{null!=i.textContent&&o.set(i.textContent,i)}),o}return null}changeUsageCount(n,o){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=o,s.usage}return i.set(n,{usage:o,elements:[]}),o}getStyleElement(n,o){const i=this.styleNodesInDOM,s=i?.get(o);if(s?.parentNode===n)return i.delete(o),s.removeAttribute(_C),s;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=o,this.platformIsServer&&a.setAttribute(_C,this.appId),n.appendChild(a),a}}addStyleToHost(n,o){const i=this.getStyleElement(n,o),s=this.styleRef,a=s.get(o)?.elements;a?a.push(i):s.set(o,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(mi),ue(Am),ue(Sw,8),ue(kc))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const vC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yC=/%COMP%/g,YG=new Te("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function $T(e,t){return t.map(r=>r.replace(yC,e))}let BT=(()=>{var e;class t{constructor(n,o,i,s,a,l,d,f=null){this.eventManager=n,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=MT(l),this.defaultRenderer=new bC(n,a,d,this.platformIsServer)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===cs.ShadowDom&&(o={...o,encapsulation:cs.Emulated});const i=this.getOrCreateRenderer(n,o);return i instanceof jT?i.applyToHost(n):i instanceof CC&&i.applyStyles(),i}getOrCreateRenderer(n,o){const i=this.rendererByCompId;let s=i.get(o.id);if(!s){const a=this.doc,l=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(o.encapsulation){case cs.Emulated:s=new jT(d,f,o,this.appId,h,a,l,m);break;case cs.ShadowDom:return new JG(d,f,n,o,a,l,this.nonce,m);default:s=new CC(d,f,o,h,a,l,m)}i.set(o.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(OT),ue(NT),ue(Am),ue(YG),ue(mi),ue(kc),ue(Ue),ue(Sw))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();class bC{constructor(t,r,n,o){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(vC[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(VT(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(VT(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new Xe(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,o){if(o){r=o+":"+r;const i=vC[o];i?t.setAttributeNS(i,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const o=vC[n];o?t.removeAttributeNS(o,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,o){o&(Oc.DashCase|Oc.Important)?t.style.setProperty(r,n,o&Oc.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&Oc.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){null!=t&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=Bc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function VT(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class JG extends bC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=$T(o.id,o.styles);for(const f of d){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class CC extends bC{constructor(t,r,n,o,i,s,a,l){super(t,i,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=o,this.styles=l?$T(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jT extends CC{constructor(t,r,n,o,i,s,a,l){const d=o+"-"+n.id;super(t,r,n,i,s,a,l,d),this.contentAttr=function KG(e){return"_ngcontent-%COMP%".replace(yC,e)}(d),this.hostAttr=function XG(e){return"_nghost-%COMP%".replace(yC,e)}(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let eU=(()=>{var e;class t extends FT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,i){return n.addEventListener(o,i,!1),()=>this.removeEventListener(n,o,i)}removeEventListener(n,o,i){return n.removeEventListener(o,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(mi))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const GT=["alt","control","meta","shift"],tU={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nU={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let rU=(()=>{var e;class t extends FT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,o,i){const s=t.parseEventName(o),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bc().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const o=n.toLowerCase().split("."),i=o.shift();if(0===o.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(o.pop());let a="",l=o.indexOf("code");if(l>-1&&(o.splice(l,1),a="code."),GT.forEach(f=>{const h=o.indexOf(f);h>-1&&(o.splice(h,1),a+=f+".")}),a+=s,0!=o.length||0===s.length)return null;const d={};return d.domEventName=i,d.fullKey=a,d}static matchEventFullKeyCode(n,o){let i=tU[n.key]||n.key,s="";return o.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GT.forEach(a=>{a!==i&&(0,nU[a])(n)&&(s+=a+".")}),s+=i,s===o)}static eventCallback(n,o,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>o(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(mi))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const aU=Px(C4,"browser",[{provide:kc,useValue:TT},{provide:Cw,useValue:function oU(){mC.makeCurrent()},multi:!0},{provide:mi,useFactory:function sU(){return function XO(e){Wv=e}(document),document},deps:[]}]),lU=new Te(""),zT=[{provide:Pg,useClass:class HG{addToWindow(t){D.getAngularTestability=(n,o=!0)=>{const i=t.findTestabilityInTree(n,o);if(null==i)throw new Xe(5103,!1);return i},D.getAllAngularTestabilities=()=>t.getAllTestabilities(),D.getAllAngularRootElements=()=>t.getAllRootElements(),D.frameworkStabilizers||(D.frameworkStabilizers=[]),D.frameworkStabilizers.push(n=>{const o=D.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(l){s=s||l,i--,0==i&&n(s)};o.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?Bc().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:Ex,useClass:Fb,deps:[Ue,Nb,Pg]},{provide:Fb,useClass:Fb,deps:[Ue,Nb,Pg]}],WT=[{provide:Vv,useValue:"root"},{provide:Yl,useFactory:function iU(){return new Yl},deps:[]},{provide:gC,useClass:eU,multi:!0,deps:[mi,Ue,kc]},{provide:gC,useClass:rU,multi:!0,deps:[mi]},BT,NT,OT,{provide:CE,useExisting:BT},{provide:AT,useClass:zG,deps:[]},[]];let cU=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Am,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(lU,12))},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({providers:[...WT,...zT],imports:[vl,S4]}),t})(),ZT=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(mi))},e.\u0275prov=M({token:e,factory:function(n){let o=null;return o=n?new n:function dU(){return new ZT(ue(mi))}(),o},providedIn:"root"}),t})();typeof window<"u"&&window;let wC=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:function(n){let o=null;return o=n?new(n||e):ue(KT),o},providedIn:"root"}),t})(),KT=(()=>{var e;class t extends wC{constructor(n){super(),this._doc=n}sanitize(n,o){if(null==o)return null;switch(n){case $s.NONE:return o;case $s.HTML:return ul(o,"HTML")?Ls(o):fE(this._doc,String(o)).toString();case $s.STYLE:return ul(o,"Style")?Ls(o):o;case $s.SCRIPT:if(ul(o,"Script"))return Ls(o);throw new Xe(5200,!1);case $s.URL:return ul(o,"URL")?Ls(o):Hm(String(o));case $s.RESOURCE_URL:if(ul(o,"ResourceURL"))return Ls(o);throw new Xe(5201,!1);default:throw new Xe(5202,!1)}}bypassSecurityTrustHtml(n){return function Z2(e){return new j2(e)}(n)}bypassSecurityTrustStyle(n){return function q2(e){return new G2(e)}(n)}bypassSecurityTrustScript(n){return function Y2(e){return new U2(e)}(n)}bypassSecurityTrustUrl(n){return function K2(e){return new H2(e)}(n)}bypassSecurityTrustResourceUrl(n){return function X2(e){return new z2(e)}(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(mi))},e.\u0275prov=M({token:e,factory:function(n){let o=null;return o=n?new n:function gU(e){return new KT(e.get(mi))}(ue(Wr)),o},providedIn:"root"}),t})();var io=C(5861),_U=C(6299),Xd=C.n(_U);let n_,r_;function QT(e){if(!window.location.hash.startsWith(e))return;const t=window.location.hash.split("?")[1];if(!t)return;const r=t.split("&").map(n=>n.split("="));for(const[n,o]of r)if("url"===n&&o)try{return decodeURIComponent(o)}catch{continue}}function JT(){return void 0!==r_}class eM{constructor(){this.requestEvent=new io.j}dispatchRequest(t){if(t){try{t=new(Xd())(t).toString()}catch{return void console.error(`invalid URL: ${t}`)}this.url=t,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const t=this.url;return this.url=void 0,t}}let EC=(()=>{var e;class t{constructor(){this.installation=new eM,this.import=new eM,n_&&this.installation.dispatchRequest(n_),r_&&this.import.dispatchRequest(r_)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var V=C(3918);function Qd(e,t){return Ie(t)?jn(e,t,1):jn(e,1)}function La(e,t){return In((r,n)=>{let o=0;r.subscribe($n(n,i=>e.call(t,i,o++)&&n.next(i)))})}function Wp(e){return In((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}class o_{}class i_{}class ua{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const o=r.slice(0,n),i=o.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof ua?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new ua;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof ua?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const o=("a"===t.op?this.headers.get(r):void 0)||[];o.push(...n),this.headers.set(r,o);break;case"d":const i=t.value;if(i){let s=this.headers.get(r);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(i=>i.toString()),o=t.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class bU{encodeKey(t){return tM(t)}encodeValue(t){return tM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const SU=/%(\d[a-f0-9])/gi,wU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tM(e){return encodeURIComponent(e).replace(SU,(t,r)=>wU[r]??t)}function s_(e){return`${e}`}class Uc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new bU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function CU(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,i)),t.decodeValue(o.slice(i+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],o=Array.isArray(n)?n.map(s_):[s_(n)];this.map.set(r,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const o=t[n];Array.isArray(o)?o.forEach(i=>{r.push({param:n,value:i,op:"a"})}):r.push({param:n,value:o,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new Uc({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(s_(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const o=n.indexOf(s_(t.value));-1!==o&&n.splice(o,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class EU{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function nM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function rM(e){return typeof Blob<"u"&&e instanceof Blob}function oM(e){return typeof FormData<"u"&&e instanceof FormData}class Zp{constructor(t,r,n,o){let i;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function DU(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,i=o):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers||(this.headers=new ua),this.context||(this.context=new EU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=r;else{const a=r.indexOf("?");this.urlWithParams=r+(-1===a?"?":a<r.length-1?"&":"")+s}}else this.params=new Uc,this.urlWithParams=r}serializeBody(){return null===this.body?null:nM(this.body)||rM(this.body)||oM(this.body)||function IU(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Uc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oM(this.body)?null:rM(this.body)?this.body.type||null:nM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,o=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,d=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((h,m)=>h.set(m,t.setHeaders[m]),l)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,m)=>h.set(m,t.setParams[m]),d)),new Zp(r,n,i,{params:d,headers:l,context:f,reportProgress:a,responseType:o,withCredentials:s})}}var Hc=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Hc||{});class DC{constructor(t,r=200,n="OK"){this.headers=t.headers||new ua,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class a_ extends DC{constructor(t={}){super(t),this.type=Hc.ResponseHeader}clone(t={}){return new a_({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Iu extends DC{constructor(t={}){super(t),this.type=Hc.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Iu({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Jd extends DC{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function IC(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let xC=(()=>{var e;class t{constructor(n){this.handler=n}request(n,o,i={}){let s;if(n instanceof Zp)s=n;else{let d,f;d=i.headers instanceof ua?i.headers:new ua(i.headers),i.params&&(f=i.params instanceof Uc?i.params:new Uc({fromObject:i.params})),s=new Zp(n,o,void 0!==i.body?i.body:null,{headers:d,context:i.context,params:f,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const a=Bt(s).pipe(Qd(d=>this.handler.handle(d)));if(n instanceof Zp||"events"===i.observe)return a;const l=a.pipe(La(d=>d instanceof Iu));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(sn(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(sn(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(sn(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return l.pipe(sn(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,o={}){return this.request("DELETE",n,o)}get(n,o={}){return this.request("GET",n,o)}head(n,o={}){return this.request("HEAD",n,o)}jsonp(n,o){return this.request("JSONP",n,{params:(new Uc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,o={}){return this.request("OPTIONS",n,o)}patch(n,o,i={}){return this.request("PATCH",n,IC(i,o))}post(n,o,i={}){return this.request("POST",n,IC(i,o))}put(n,o,i={}){return this.request("PUT",n,IC(i,o))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(o_))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function sM(e,t){return t(e)}function kU(e,t){return(r,n)=>t.intercept(r,{handle:o=>e(o,n)})}const PU=new Te(""),qp=new Te(""),aM=new Te(""),lM=new Te("");function OU(){let e=null;return(t,r)=>{null===e&&(e=(it(PU,{optional:!0})??[]).reduceRight(kU,sM));const n=it(kg),o=n.add();return e(t,r).pipe(Wp(()=>n.remove(o)))}}let cM=(()=>{var e;class t extends o_{constructor(n,o){super(),this.backend=n,this.injector=o,this.chain=null,this.pendingTasks=it(kg);const i=it(lM,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(qp),...this.injector.get(aM,[])]));this.chain=i.reduceRight((s,a)=>function RU(e,t,r){return(n,o)=>Tc(r,()=>t(n,i=>e(i,o)))}(s,a,this.injector),sM)}const o=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Wp(()=>this.pendingTasks.remove(o)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(i_),ue(hi))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const BU=/^\)\]\}',?\n/;let dM=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Xe(-2800,!1);const o=this.xhrFactory;return(o.\u0275loadImpl?br(o.\u0275loadImpl()):Bt(null)).pipe(Qr(()=>new Dn(s=>{const a=o.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((he,ye)=>a.setRequestHeader(he,ye.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const he=n.detectContentTypeHeader();null!==he&&a.setRequestHeader("Content-Type",he)}if(n.responseType){const he=n.responseType.toLowerCase();a.responseType="json"!==he?he:"text"}const l=n.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const he=a.statusText||"OK",ye=new ua(a.getAllResponseHeaders()),De=function VU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(a)||n.url;return d=new a_({headers:ye,status:a.status,statusText:he,url:De}),d},h=()=>{let{headers:he,status:ye,statusText:De,url:bt}=f(),vt=null;204!==ye&&(vt=typeof a.response>"u"?a.responseText:a.response),0===ye&&(ye=vt?200:0);let pt=ye>=200&&ye<300;if("json"===n.responseType&&"string"==typeof vt){const Mn=vt;vt=vt.replace(BU,"");try{vt=""!==vt?JSON.parse(vt):null}catch(Pn){vt=Mn,pt&&(pt=!1,vt={error:Pn,text:vt})}}pt?(s.next(new Iu({body:vt,headers:he,status:ye,statusText:De,url:bt||void 0})),s.complete()):s.error(new Jd({error:vt,headers:he,status:ye,statusText:De,url:bt||void 0}))},m=he=>{const{url:ye}=f(),De=new Jd({error:he,status:a.status||0,statusText:a.statusText||"Unknown Error",url:ye||void 0});s.error(De)};let b=!1;const U=he=>{b||(s.next(f()),b=!0);let ye={type:Hc.DownloadProgress,loaded:he.loaded};he.lengthComputable&&(ye.total=he.total),"text"===n.responseType&&a.responseText&&(ye.partialText=a.responseText),s.next(ye)},ee=he=>{let ye={type:Hc.UploadProgress,loaded:he.loaded};he.lengthComputable&&(ye.total=he.total),s.next(ye)};return a.addEventListener("load",h),a.addEventListener("error",m),a.addEventListener("timeout",m),a.addEventListener("abort",m),n.reportProgress&&(a.addEventListener("progress",U),null!==l&&a.upload&&a.upload.addEventListener("progress",ee)),a.send(l),s.next({type:Hc.Sent}),()=>{a.removeEventListener("error",m),a.removeEventListener("abort",m),a.removeEventListener("load",h),a.removeEventListener("timeout",m),n.reportProgress&&(a.removeEventListener("progress",U),null!==l&&a.upload&&a.upload.removeEventListener("progress",ee)),a.readyState!==a.DONE&&a.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(AT))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const AC=new Te("XSRF_ENABLED"),fM=new Te("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),pM=new Te("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class hM{}let UU=(()=>{var e;class t{constructor(n,o,i){this.doc=n,this.platform=o,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=vT(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(mi),ue(kc),ue(fM))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function HU(e,t){const r=e.url.toLowerCase();if(!it(AC)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=it(hM).getToken(),o=it(pM);return null!=n&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,n)})),t(e)}var zc=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(zc||{});function xu(e,t){return{\u0275kind:e,\u0275providers:t}}function zU(...e){const t=[xC,dM,cM,{provide:o_,useExisting:cM},{provide:i_,useExisting:dM},{provide:qp,useValue:HU,multi:!0},{provide:AC,useValue:!0},{provide:hM,useClass:UU}];for(const r of e)t.push(...r.\u0275providers);return function Lv(e){return{\u0275providers:e}}(t)}const mM=new Te("LEGACY_INTERCEPTOR_FN");let ZU=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({providers:[zU(xu(zc.LegacyInterceptors,[{provide:mM,useFactory:OU},{provide:qp,useExisting:mM,multi:!0}]))]}),t})();const{isArray:eH}=Array,{getPrototypeOf:tH,prototype:nH,keys:rH}=Object;function SM(e){if(1===e.length){const t=e[0];if(eH(t))return{args:t,keys:null};if(function oH(e){return e&&"object"==typeof e&&tH(e)===nH}(t)){const r=rH(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:iH}=Array;function kC(e){return sn(t=>function sH(e,t){return iH(t)?e(...t):e(t)}(e,t))}function wM(e,t){return e.reduce((r,n,o)=>(r[n]=t[o],r),{})}function c_(...e){const t=ss(e),r=_a(e),{args:n,keys:o}=SM(e);if(0===n.length)return br([],t);const i=new Dn(function aH(e,t,r=Wn){return n=>{EM(t,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let l=0;l<o;l++)EM(t,()=>{const d=br(e[l],t);let f=!1;d.subscribe($n(n,h=>{i[l]=h,f||(f=!0,a--),a||n.next(r(i.slice()))},()=>{--s||n.complete()}))},n)},n)}}(n,t,o?s=>wM(o,s):Wn));return r?i.pipe(kC(r)):i}function EM(e,t,r){e?Qn(r,e,t):t()}const u_=_e(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function RC(...e){return function lH(){return Bo(1)}()(br(e,ss(e)))}function DM(e){return new Dn(t=>{Ve(e()).subscribe(t)})}function d_(e,t){const r=Ie(e)?e:()=>e,n=o=>o.error(r());return new Dn(t?o=>t.schedule(n,0,o):n)}function PC(){return In((e,t)=>{let r=null;e._refCount++;const n=$n(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const o=e._connection,i=r;r=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class IM extends Dn{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,vr(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ot;const r=this.getSubject();t.add(this.source.subscribe($n(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ot.EMPTY)}return t}refCount(){return PC()(this)}}function ef(e){return e<=0?()=>Ao:In((t,r)=>{let n=0;t.subscribe($n(r,o=>{++n<=e&&(r.next(o),e<=n&&r.complete())}))})}function xM(...e){const t=ss(e);return In((r,n)=>{(t?RC(e,r,t):RC(e,r)).subscribe(n)})}function f_(e){return In((t,r)=>{let n=!1;t.subscribe($n(r,o=>{n=!0,r.next(o)},()=>{n||r.next(e),r.complete()}))})}function TM(e=cH){return In((t,r)=>{let n=!1;t.subscribe($n(r,o=>{n=!0,r.next(o)},()=>n?r.complete():r.error(e())))})}function cH(){return new u_}function Wc(e,t){const r=arguments.length>=2;return n=>n.pipe(e?La((o,i)=>e(o,i,n)):Wn,ef(1),r?f_(t):TM(()=>new u_))}function ki(e,t,r){const n=Ie(e)||t||r?{next:e,error:t,complete:r}:e;return n?In((o,i)=>{var s;null===(s=n.subscribe)||void 0===s||s.call(n);let a=!0;o.subscribe($n(i,l=>{var d;null===(d=n.next)||void 0===d||d.call(n,l),i.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),i.complete()},l=>{var d;a=!1,null===(d=n.error)||void 0===d||d.call(n,l),i.error(l)},()=>{var l,d;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(d=n.finalize)||void 0===d||d.call(n)}))}):Wn}function Tu(e){return In((t,r)=>{let i,n=null,o=!1;n=t.subscribe($n(r,void 0,void 0,s=>{i=Ve(e(s,Tu(e)(t))),n?(n.unsubscribe(),n=null,i.subscribe(r)):o=!0})),o&&(n.unsubscribe(),n=null,i.subscribe(r))})}function OC(e){return e<=0?()=>Ao:In((t,r)=>{let n=[];t.subscribe($n(r,o=>{n.push(o),e<n.length&&n.shift()},()=>{for(const o of n)r.next(o);r.complete()},void 0,()=>{n=null}))})}function MM(e){return sn(()=>e)}function AM(e){return In((t,r)=>{Ve(e).subscribe($n(r,()=>r.complete(),On)),!r.closed&&t.subscribe(r)})}const Tn="primary",Yp=Symbol("RouteTitle");class pH{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function tf(e){return new pH(e)}function hH(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const o={};for(let i=0;i<n.length;i++){const s=n[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:o}}function yl(e,t){const r=e?FC(e):void 0,n=t?FC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let o;for(let i=0;i<r.length;i++)if(o=r[i],!kM(e[o],t[o]))return!1;return!0}function FC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function kM(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((o,i)=>n[i]===o)}return e===t}function RM(e){return e.length>0?e[e.length-1]:null}function Zc(e){return function JU(e){return!!e&&(e instanceof Dn||Ie(e.lift)&&Ie(e.subscribe))}(e)?e:Pp(e)?br(Promise.resolve(e)):Bt(e)}const gH={exact:function FM(e,t,r){if(!Mu(e.segments,t.segments)||!p_(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!FM(e.children[n],t.children[n],r))return!1;return!0},subset:NM},PM={exact:function _H(e,t){return yl(e,t)},subset:function vH(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>kM(e[r],t[r]))},ignored:()=>!0};function OM(e,t,r){return gH[r.paths](e.root,t.root,r.matrixParams)&&PM[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function NM(e,t,r){return LM(e,t,t.segments,r)}function LM(e,t,r,n){if(e.segments.length>r.length){const o=e.segments.slice(0,r.length);return!(!Mu(o,r)||t.hasChildren()||!p_(o,r,n))}if(e.segments.length===r.length){if(!Mu(e.segments,r)||!p_(e.segments,r,n))return!1;for(const o in t.children)if(!e.children[o]||!NM(e.children[o],t.children[o],n))return!1;return!0}{const o=r.slice(0,e.segments.length),i=r.slice(e.segments.length);return!!(Mu(e.segments,o)&&p_(e.segments,o,n)&&e.children[Tn])&&LM(e.children[Tn],t,i,n)}}function p_(e,t,r){return t.every((n,o)=>PM[r](e[o].parameters,n.parameters))}class nf{constructor(t=new kr([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tf(this.queryParams)),this._queryParamMap}toString(){return CH.serialize(this)}}class kr{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return h_(this)}}class Kp{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=tf(this.parameters)),this._parameterMap}toString(){return VM(this)}}function Mu(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let Au=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>new NC,providedIn:"root"}),t})();class NC{parse(t){const r=new RH(t);return new nf(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${Xp(t.root,!0)}`,n=function EH(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(o=>`${m_(r)}=${m_(o)}`).join("&"):`${m_(r)}=${m_(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function SH(e){return encodeURI(e)}(t.fragment)}`:""}`}}const CH=new NC;function h_(e){return e.segments.map(t=>VM(t)).join("/")}function Xp(e,t){if(!e.hasChildren())return h_(e);if(t){const r=e.children[Tn]?Xp(e.children[Tn],!1):"",n=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Tn&&n.push(`${o}:${Xp(i,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function bH(e,t){let r=[];return Object.entries(e.children).forEach(([n,o])=>{n===Tn&&(r=r.concat(t(o,n)))}),Object.entries(e.children).forEach(([n,o])=>{n!==Tn&&(r=r.concat(t(o,n)))}),r}(e,(n,o)=>o===Tn?[Xp(e.children[Tn],!1)]:[`${o}:${Xp(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Tn]?`${h_(e)}/${r[0]}`:`${h_(e)}/(${r.join("//")})`}}function $M(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function m_(e){return $M(e).replace(/%3B/gi,";")}function LC(e){return $M(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function g_(e){return decodeURIComponent(e)}function BM(e){return g_(e.replace(/\+/g,"%20"))}function VM(e){return`${LC(e.path)}${function wH(e){return Object.keys(e).map(t=>`;${LC(t)}=${LC(e[t])}`).join("")}(e.parameters)}`}const DH=/^[^\/()?;#]+/;function $C(e){const t=e.match(DH);return t?t[0]:""}const IH=/^[^\/()?;=#]+/,TH=/^[^=?&#]+/,AH=/^[^&#]+/;class RH{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kr([],{}):new kr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[Tn]=new kr(t,r)),n}parseSegment(){const t=$C(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Xe(4009,!1);return this.capture(t),new Kp(g_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function xH(e){const t=e.match(IH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const o=$C(this.remaining);o&&(n=o,this.capture(n))}t[g_(r)]=g_(n)}parseQueryParam(t){const r=function MH(e){const t=e.match(TH);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const s=function kH(e){const t=e.match(AH);return t?t[0]:""}(this.remaining);s&&(n=s,this.capture(n))}const o=BM(r),i=BM(n);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(i)}else t[o]=i}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$C(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Xe(4010,!1);let i;n.indexOf(":")>-1?(i=n.slice(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Tn);const s=this.parseChildren();r[i]=1===Object.keys(s).length?s[Tn]:new kr([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Xe(4011,!1)}}function jM(e){return e.segments.length>0?new kr([],{[Tn]:e}):e}function GM(e){const t={};for(const n of Object.keys(e.children)){const i=GM(e.children[n]);if(n===Tn&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))t[s]=a;else(i.segments.length>0||i.hasChildren())&&(t[n]=i)}return function PH(e){if(1===e.numberOfChildren&&e.children[Tn]){const t=e.children[Tn];return new kr(e.segments.concat(t.segments),t.children)}return e}(new kr(e.segments,t))}function ku(e){return e instanceof nf}function UM(e){let t;const o=jM(function r(i){const s={};for(const l of i.children){const d=r(l);s[l.outlet]=d}const a=new kr(i.url,s);return i===e&&(t=a),a}(e.root));return t??o}function HM(e,t,r,n){let o=e;for(;o.parent;)o=o.parent;if(0===t.length)return BC(o,o,o,r,n);const i=function FH(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new WM(!0,0,e);let t=0,r=!1;const n=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([l,d])=>{a[l]="string"==typeof d?d.split("/"):d}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?r=!0:".."===a?t++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new WM(r,t,n)}(t);if(i.toRoot())return BC(o,o,new kr([],{}),r,n);const s=function NH(e,t,r){if(e.isAbsolute)return new v_(t,!0,0);if(!r)return new v_(t,!1,NaN);if(null===r.parent)return new v_(r,!0,0);const n=__(e.commands[0])?0:1;return function LH(e,t,r){let n=e,o=t,i=r;for(;i>o;){if(i-=o,n=n.parent,!n)throw new Xe(4005,!1);o=n.segments.length}return new v_(n,!1,o-i)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Jp(s.segmentGroup,s.index,i.commands):ZM(s.segmentGroup,s.index,i.commands);return BC(o,s.segmentGroup,a,r,n)}function __(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Qp(e){return"object"==typeof e&&null!=e&&e.outlets}function BC(e,t,r,n,o){let s,i={};n&&Object.entries(n).forEach(([l,d])=>{i[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`}),s=e===t?r:zM(e,t,r);const a=jM(GM(s));return new nf(a,i,o)}function zM(e,t,r){const n={};return Object.entries(e.children).forEach(([o,i])=>{n[o]=i===t?r:zM(i,t,r)}),new kr(e.segments,n)}class WM{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&__(n[0]))throw new Xe(4003,!1);const o=n.find(Qp);if(o&&o!==RM(n))throw new Xe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class v_{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function ZM(e,t,r){if(e||(e=new kr([],{})),0===e.segments.length&&e.hasChildren())return Jp(e,t,r);const n=function BH(e,t,r){let n=0,o=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(n>=r.length)return i;const s=e.segments[o],a=r[n];if(Qp(a))break;const l=`${a}`,d=n<r.length-1?r[n+1]:null;if(o>0&&void 0===l)break;if(l&&d&&"object"==typeof d&&void 0===d.outlets){if(!YM(l,d,s))return i;n+=2}else{if(!YM(l,{},s))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}(e,t,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const i=new kr(e.segments.slice(0,n.pathIndex),{});return i.children[Tn]=new kr(e.segments.slice(n.pathIndex),e.children),Jp(i,0,o)}return n.match&&0===o.length?new kr(e.segments,{}):n.match&&!e.hasChildren()?VC(e,t,r):n.match?Jp(e,0,o):VC(e,t,r)}function Jp(e,t,r){if(0===r.length)return new kr(e.segments,{});{const n=function $H(e){return Qp(e[0])?e[0].outlets:{[Tn]:e}}(r),o={};if(Object.keys(n).some(i=>i!==Tn)&&e.children[Tn]&&1===e.numberOfChildren&&0===e.children[Tn].segments.length){const i=Jp(e.children[Tn],t,r);return new kr(e.segments,i.children)}return Object.entries(n).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=ZM(e.children[i],t,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===n[i]&&(o[i]=s)}),new kr(e.segments,o)}}function VC(e,t,r){const n=e.segments.slice(0,t);let o=0;for(;o<r.length;){const i=r[o];if(Qp(i)){const l=VH(i.outlets);return new kr(n,l)}if(0===o&&__(r[0])){n.push(new Kp(e.segments[t].path,qM(r[0]))),o++;continue}const s=Qp(i)?i.outlets[Tn]:`${i}`,a=o<r.length-1?r[o+1]:null;s&&a&&__(a)?(n.push(new Kp(s,qM(a))),o+=2):(n.push(new Kp(s,{})),o++)}return new kr(n,{})}function VH(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=VC(new kr([],{}),0,n))}),t}function qM(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function YM(e,t,r){return e==r.path&&yl(t,r.parameters)}const eh="imperative";class bl{constructor(t,r){this.id=t,this.url=r}}class th extends bl{constructor(t,r,n="imperative",o=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tc extends bl{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rf extends bl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sf extends bl{constructor(t,r,n,o){super(t,r),this.reason=n,this.code=o,this.type=16}}class y_ extends bl{constructor(t,r,n,o){super(t,r),this.error=n,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KM extends bl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jH extends bl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GH extends bl{constructor(t,r,n,o,i){super(t,r),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class UH extends bl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HH extends bl{constructor(t,r,n,o){super(t,r),this.urlAfterRedirects=n,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zH{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class WH{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ZH{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qH{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YH{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KH{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XM{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jC{}class GC{constructor(t){this.url=t}}class XH{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ru,this.attachRef=null}}let Ru=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,o){const i=this.getOrCreateContext(n);i.outlet=o,this.contexts.set(n,i)}onChildOutletDestroyed(n){const o=this.getContext(n);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let o=this.getContext(n);return o||(o=new XH,this.contexts.set(n,o)),o}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class QM{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=UC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=UC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=HC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return HC(t,this._root).map(r=>r.value)}}function UC(e,t){if(e===t.value)return t;for(const r of t.children){const n=UC(e,r);if(n)return n}return null}function HC(e,t){if(e===t.value)return[t];for(const r of t.children){const n=HC(e,r);if(n.length)return n.unshift(t),n}return[]}class $a{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function af(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class JM extends QM{constructor(t,r){super(t),this.snapshot=r,ZC(this,t)}toString(){return this.snapshot.toString()}}function eA(e,t){const r=function QH(e,t){const s=new WC([],{},{},"",{},Tn,t,null,{});return new tA("",new $a(s,[]))}(0,t),n=new fo([new Kp("",{})]),o=new fo({}),i=new fo({}),s=new fo({}),a=new fo(""),l=new Cl(n,o,s,a,i,Tn,t,r.root);return l.snapshot=r.root,new JM(new $a(l,[]),r)}class Cl{constructor(t,r,n,o,i,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(sn(d=>d[Yp]))??Bt(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(sn(t=>tf(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(sn(t=>tf(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zC(e,t,r="emptyOnly"){let n;const{routeConfig:o}=e;return n=null===t||"always"!==r&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:e.params,data:e.data,resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...o?.data,...e._resolvedData}},o&&rA(o)&&(n.resolve[Yp]=o.title),n}class WC{get title(){return this.data?.[Yp]}constructor(t,r,n,o,i,s,a,l,d){this.url=t,this.params=r,this.queryParams=n,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tA extends QM{constructor(t,r){super(r),this.url=t,ZC(this,r)}toString(){return nA(this._root)}}function ZC(e,t){t.value._routerState=e,t.children.forEach(r=>ZC(e,r))}function nA(e){const t=e.children.length>0?` { ${e.children.map(nA).join(", ")} } `:"";return`${e.value}${t}`}function qC(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,yl(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),yl(t.params,r.params)||e.paramsSubject.next(r.params),function mH(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!yl(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),yl(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function YC(e,t){const r=yl(e.params,t.params)&&function yH(e,t){return Mu(e,t)&&e.every((r,n)=>yl(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||YC(e.parent,t.parent))}function rA(e){return"string"==typeof e.title||null===e.title}let oA=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Tn,this.activateEvents=new en,this.deactivateEvents=new en,this.attachEvents=new en,this.detachEvents=new en,this.parentContexts=it(Ru),this.location=it(vs),this.changeDetector=it(ut),this.environmentInjector=it(hi),this.inputBinder=it(b_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:o,previousValue:i}=n.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Xe(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,o){this.activated=n,this._activatedRoute=o,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,o){if(this.isActivated)throw new Xe(4013,!1);this._activatedRoute=n;const i=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new JH(n,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:d,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[nr]}),t})();class JH{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Cl?this.route:t===Ru?this.childContexts:this.parent.get(t,r)}}const b_=new Te("");let iA=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:o}=n,i=c_([o.queryParams,o.params,o.data]).pipe(Qr(([s,a,l],d)=>(l={...s,...a,...l},0===d?Bt(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(n);const a=oT(o.component);if(a)for(const{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function nh(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const o=function t6(e,t,r){return t.children.map(n=>{for(const o of r.children)if(e.shouldReuseRoute(n.value,o.value.snapshot))return nh(e,n,o);return nh(e,n)})}(e,t,r);return new $a(n,o)}{if(e.shouldAttach(t.value)){const i=e.retrieve(t.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>nh(e,a)),s}}const n=function n6(e){return new Cl(new fo(e.url),new fo(e.params),new fo(e.queryParams),new fo(e.fragment),new fo(e.data),e.outlet,e.component,e)}(t.value),o=t.children.map(i=>nh(e,i));return new $a(n,o)}}const KC="ngNavigationCancelingError";function sA(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=ku(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=aA(!1,0,t);return o.url=r,o.navigationBehaviorOptions=n,o}function aA(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[KC]=!0,n.cancellationCode=t,r&&(n.url=r),n}function lA(e){return e&&e[KC]}let cA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ig],decls:1,vars:0,template:function(n,o){1&n&&je(0,"router-outlet")},dependencies:[oA],encapsulation:2}),t})();function XC(e){const t=e.children&&e.children.map(XC),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Tn&&(r.component=cA),r}function Sl(e){return e.outlet||Tn}function rh(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class u6{constructor(t,r,n,o,i){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=i}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),qC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const o=af(r);t.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],n),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,n)})}deactivateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(o===i)if(o.component){const s=n.getContext(o.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else i&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=af(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(n&&n.outlet){const s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),o=n&&t.value.component?n.children:r,i=af(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const o=af(r);t.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],n),this.forwardEvent(new KH(i.value.snapshot))}),t.children.length&&this.forwardEvent(new qH(t.value.snapshot))}activateRoutes(t,r,n){const o=t.value,i=r?r.value:null;if(qC(o),o===i)if(o.component){const s=n.getOrCreateContext(o.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(o.component){const s=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),qC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=rh(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}}class uA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class C_{constructor(t,r){this.component=t,this.route=r}}function d6(e,t,r){const n=e._root;return oh(n,t?t._root:null,r,[n.value])}function lf(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function Yt(e){return null!==tn(e)}(e)?t.get(e):e:n}function oh(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=af(t);return e.children.forEach(s=>{(function p6(e,t,r,n,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const l=function h6(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!Mu(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Mu(e.url,t.url)||!yl(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YC(e,t)||!yl(e.queryParams,t.queryParams);default:return!YC(e,t)}}(s,i,i.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new uA(n)):(i.data=s.data,i._resolvedData=s._resolvedData),oh(e,t,i.component?a?a.children:null:r,n,o),l&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new C_(a.outlet.component,s))}else s&&ih(t,a,o),o.canActivateChecks.push(new uA(n)),oh(e,null,i.component?a?a.children:null:r,n,o)})(s,i[s.value.outlet],r,n.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ih(a,r.getContext(s),o)),o}function ih(e,t,r){const n=af(e),o=e.value;Object.entries(n).forEach(([i,s])=>{ih(s,o.component?t?t.children.getContext(i):null:t,r)}),r.canDeactivateChecks.push(new C_(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function sh(e){return"function"==typeof e}function dA(e){return e instanceof u_||"EmptyError"===e?.name}const S_=Symbol("INITIAL_VALUE");function cf(){return Qr(e=>c_(e.map(t=>t.pipe(ef(1),xM(S_)))).pipe(sn(t=>{for(const r of t)if(!0!==r){if(r===S_)return S_;if(!1===r||r instanceof nf)return r}return!0}),La(t=>t!==S_),ef(1)))}function fA(e){return function Yr(...e){return bo(e)}(ki(t=>{if(ku(t))throw sA(0,t)}),sn(t=>!0===t))}class QC{constructor(t){this.segmentGroup=t||null}}class JC extends Error{constructor(t){super(),this.urlTree=t}}function uf(e){return d_(new QC(e))}class O6{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],o=r.root;for(;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return Bt(n);if(o.numberOfChildren>1||!o.children[Tn])return d_(new Xe(4e3,!1));o=o.children[Tn]}}applyRedirectCommands(t,r,n){const o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new JC(o);return o}applyRedirectCreateUrlTree(t,r,n,o){const i=this.createSegmentGroup(t,r.root,n,o);return new nf(i,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);n[o]=r[a]}else n[o]=i}),n}createSegmentGroup(t,r,n,o){const i=this.createSegments(t,r.segments,n,o);let s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,o)}),new kr(i,s)}createSegments(t,r,n,o){return r.map(i=>i.path.startsWith(":")?this.findPosParam(t,i,o):this.findOrReturn(i,n))}findPosParam(t,r,n){const o=n[r.path.substring(1)];if(!o)throw new Xe(4001,!1);return o}findOrReturn(t,r){let n=0;for(const o of r){if(o.path===t.path)return r.splice(n),o;n++}return t}}const e0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F6(e,t,r,n,o){const i=t0(e,t,r);return i.matched?(n=function o6(e,t){return e.providers&&!e._injector&&(e._injector=Sb(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function k6(e,t,r,n){const o=t.canMatch;return o&&0!==o.length?Bt(o.map(s=>{const a=lf(s,e);return Zc(function b6(e){return e&&sh(e.canMatch)}(a)?a.canMatch(t,r):Tc(e,()=>a(t,r)))})).pipe(cf(),fA()):Bt(!0)}(n,t,r).pipe(sn(s=>!0===s?i:{...e0}))):Bt(i)}function t0(e,t,r){if("**"===t.path)return function N6(e){return{matched:!0,parameters:e.length>0?RM(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(r);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...e0}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const o=(t.matcher||hH)(r,e,t);if(!o)return{...e0};const i={};Object.entries(o.posParams??{}).forEach(([a,l])=>{i[a]=l.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:r.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function pA(e,t,r,n){return r.length>0&&function B6(e,t,r){return r.some(n=>w_(e,t,n)&&Sl(n)!==Tn)}(e,r,n)?{segmentGroup:new kr(t,$6(n,new kr(r,e.children))),slicedSegments:[]}:0===r.length&&function V6(e,t,r){return r.some(n=>w_(e,t,n))}(e,r,n)?{segmentGroup:new kr(e.segments,L6(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new kr(e.segments,e.children),slicedSegments:r}}function L6(e,t,r,n,o){const i={};for(const s of n)if(w_(e,r,s)&&!o[Sl(s)]){const a=new kr([],{});i[Sl(s)]=a}return{...o,...i}}function $6(e,t){const r={};r[Tn]=t;for(const n of e)if(""===n.path&&Sl(n)!==Tn){const o=new kr([],{});r[Sl(n)]=o}return r}function w_(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class U6{}class W6{constructor(t,r,n,o,i,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new O6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Xe(4002,`'${t.segmentGroup}'`)}recognize(){const t=pA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(sn(r=>{const n=new WC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Tn,this.rootComponentType,null,{}),o=new $a(n,r),i=new tA("",o),s=function OH(e,t,r=null,n=null){return HM(UM(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Tn).pipe(Tu(n=>{if(n instanceof JC)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof QC?this.noMatchError(n):n}))}inheritParamsAndData(t,r){const n=t.value,o=zC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),t.children.forEach(i=>this.inheritParamsAndData(i,n))}processSegmentGroup(t,r,n,o){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,o,!0).pipe(sn(i=>i instanceof $a?[i]:[]))}processChildren(t,r,n){const o=[];for(const i of Object.keys(n.children))"primary"===i?o.unshift(i):o.push(i);return br(o).pipe(Qd(i=>{const s=n.children[i],a=function l6(e,t){const r=e.filter(n=>Sl(n)===t);return r.push(...e.filter(n=>Sl(n)!==t)),r}(r,i);return this.processSegmentGroup(t,a,s,i)}),function dH(e,t){return In(function uH(e,t,r,n,o){return(i,s)=>{let a=r,l=t,d=0;i.subscribe($n(s,f=>{const h=d++;l=a?e(l,f,h):(a=!0,f),n&&s.next(l)},o&&(()=>{a&&s.next(l),s.complete()})))}}(e,t,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),f_(null),function fH(e,t){const r=arguments.length>=2;return n=>n.pipe(e?La((o,i)=>e(o,i,n)):Wn,OC(1),r?f_(t):TM(()=>new u_))}(),jn(i=>{if(null===i)return uf(n);const s=hA(i);return function Z6(e){e.sort((t,r)=>t.value.outlet===Tn?-1:r.value.outlet===Tn?1:t.value.outlet.localeCompare(r.value.outlet))}(s),Bt(s)}))}processSegment(t,r,n,o,i,s){return br(r).pipe(Qd(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,o,i,s).pipe(Tu(l=>{if(l instanceof QC)return Bt(null);throw l}))),Wc(a=>!!a),Tu(a=>{if(dA(a))return function G6(e,t,r){return 0===t.length&&!e.children[r]}(n,o,i)?Bt(new U6):uf(n);throw a}))}processSegmentAgainstRoute(t,r,n,o,i,s,a){return function j6(e,t,r,n){return!!(Sl(e)===n||n!==Tn&&w_(t,r,e))&&t0(t,e,r).matched}(n,o,i,s)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,o,n,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,o,r,n,i,s):uf(o):uf(o)}expandSegmentAgainstRouteUsingRedirect(t,r,n,o,i,s){const{matched:a,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=t0(r,o,i);if(!a)return uf(r);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d);return this.applyRedirects.lineralizeSegments(o,h).pipe(jn(m=>this.processSegment(t,n,r,m.concat(f),s,!1)))}matchSegmentAgainstRoute(t,r,n,o,i){const s=F6(r,n,o,t);return"**"===n.path&&(r.children={}),s.pipe(Qr(a=>a.matched?this.getChildConfig(t=n._injector??t,n,o).pipe(Qr(({routes:l})=>{const d=n._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:m}=a,b=new WC(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Y6(e){return e.data||{}}(n),Sl(n),n.component??n._loadedComponent??null,n,function K6(e){return e.resolve||{}}(n)),{segmentGroup:U,slicedSegments:ee}=pA(r,f,h,l);if(0===ee.length&&U.hasChildren())return this.processChildren(d,l,U).pipe(sn(ye=>null===ye?null:new $a(b,ye)));if(0===l.length&&0===ee.length)return Bt(new $a(b,[]));const he=Sl(n)===i;return this.processSegment(d,l,U,ee,he?Tn:i,!0).pipe(sn(ye=>new $a(b,ye instanceof $a?[ye]:[])))})):uf(r)))}getChildConfig(t,r,n){return r.children?Bt({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?Bt({routes:r._loadedRoutes,injector:r._loadedInjector}):function A6(e,t,r,n){const o=t.canLoad;return void 0===o||0===o.length?Bt(!0):Bt(o.map(s=>{const a=lf(s,e);return Zc(function g6(e){return e&&sh(e.canLoad)}(a)?a.canLoad(t,r):Tc(e,()=>a(t,r)))})).pipe(cf(),fA())}(t,r,n).pipe(jn(o=>o?this.configLoader.loadChildren(t,r).pipe(ki(i=>{r._loadedRoutes=i.routes,r._loadedInjector=i.injector})):function P6(e){return d_(aA(!1,3))}())):Bt({routes:[],injector:t})}}function q6(e){const t=e.value.routeConfig;return t&&""===t.path}function hA(e){const t=[],r=new Set;for(const n of e){if(!q6(n)){t.push(n);continue}const o=t.find(i=>n.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...n.children),r.add(o)):t.push(n)}for(const n of r){const o=hA(n.children);t.push(new $a(n.value,o))}return t.filter(n=>!r.has(n))}function mA(e){const t=e.children.map(r=>mA(r)).flat();return[e,...t]}function n0(e){return Qr(t=>{const r=e(t);return r?br(r).pipe(sn(()=>t)):Bt(t)})}let gA=(()=>{var e;class t{buildTitle(n){let o,i=n.root;for(;void 0!==i;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(s=>s.outlet===Tn);return o}getResolvedTitleForRoute(n){return n.data[Yp]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(n5),providedIn:"root"}),t})(),n5=(()=>{var e;class t extends gA{constructor(n){super(),this.title=n}updateTitle(n){const o=this.buildTitle(n);void 0!==o&&this.title.setTitle(o)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ZT))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const df=new Te("",{providedIn:"root",factory:()=>({})}),ff=new Te("ROUTES");let r0=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=it(yx)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Bt(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const o=Zc(n.loadComponent()).pipe(sn(_A),ki(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Wp(()=>{this.componentLoaders.delete(n)})),i=new IM(o,()=>new Fn).pipe(PC());return this.componentLoaders.set(n,i),i}loadChildren(n,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Bt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const s=function r5(e,t,r,n){return Zc(e.loadChildren()).pipe(sn(_A),jn(o=>o instanceof NI||Array.isArray(o)?Bt(o):br(t.compileModuleAsync(o))),sn(o=>{n&&n(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(r).injector,s=i.get(ff,[],{optional:!0,self:!0}).flat()),{routes:s.map(XC),injector:i}}))}(o,this.compiler,n,this.onLoadEndListener).pipe(Wp(()=>{this.childrenLoaders.delete(o)})),a=new IM(s,()=>new Fn).pipe(PC());return this.childrenLoaders.set(o,a),a}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function _A(e){return function o5(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let o0=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(i5),providedIn:"root"}),t})(),i5=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,o){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const vA=new Te(""),yA=new Te("");function s5(e,t,r){const n=e.get(yA),o=e.get(mi);return e.get(Ue).runOutsideAngular(()=>{if(!o.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let i;const s=new Promise(d=>{i=d}),a=o.startViewTransition(()=>(i(),function a5(e){return new Promise(t=>{uD(t,{injector:e})})}(e))),{onViewTransitionCreated:l}=n;return l&&Tc(e,()=>l({transition:a,from:t,to:r})),s})}let E_=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fn,this.transitionAbortSubject=new Fn,this.configLoader=it(r0),this.environmentInjector=it(hi),this.urlSerializer=it(Au),this.rootContexts=it(Ru),this.location=it(Vc),this.inputBindingEnabled=null!==it(b_,{optional:!0}),this.titleStrategy=it(gA),this.options=it(df,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=it(o0),this.createViewTransition=it(vA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Bt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new WH(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new zH(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:o})}setupNavigations(n,o,i){return this.transitions=new fo({id:0,currentUrlTree:o,currentRawUrl:o,extractedUrl:this.urlHandlingStrategy.extract(o),urlAfterRedirects:this.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:eh,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(La(s=>0!==s.id),sn(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qr(s=>{this.currentTransition=s;let a=!1,l=!1;return Bt(s).pipe(ki(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qr(d=>{const f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!f&&"reload"!==(d.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const m="";return this.events.next(new sf(d.id,this.urlSerializer.serialize(d.rawUrl),m,0)),d.resolve(null),Ao}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Bt(d).pipe(Qr(m=>{const b=this.transitions?.getValue();return this.events.next(new th(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),b!==this.transitions?.getValue()?Ao:Promise.resolve(m)}),function X6(e,t,r,n,o,i){return jn(s=>function H6(e,t,r,n,o,i,s="emptyOnly"){return new W6(e,t,r,n,o,s,i).recognize()}(e,t,r,n,s.extractedUrl,o,i).pipe(sn(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ki(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const b=new KM(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(b)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:m,extractedUrl:b,source:U,restoredState:ee,extras:he}=d,ye=new th(m,this.urlSerializer.serialize(b),U,ee);this.events.next(ye);const De=eA(0,this.rootComponentType).snapshot;return this.currentTransition=s={...d,targetSnapshot:De,urlAfterRedirects:b,extras:{...he,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=b,Bt(s)}{const m="";return this.events.next(new sf(d.id,this.urlSerializer.serialize(d.extractedUrl),m,1)),d.resolve(null),Ao}}),ki(d=>{const f=new jH(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),sn(d=>(this.currentTransition=s={...d,guards:d6(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},s)),function S6(e,t){return jn(r=>{const{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=r;return 0===s.length&&0===i.length?Bt({...r,guardsResult:!0}):function w6(e,t,r,n){return br(e).pipe(jn(o=>function M6(e,t,r,n,o){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?Bt(i.map(a=>{const l=rh(t)??o,d=lf(a,l);return Zc(function y6(e){return e&&sh(e.canDeactivate)}(d)?d.canDeactivate(e,t,r,n):Tc(l,()=>d(e,t,r,n))).pipe(Wc())})).pipe(cf()):Bt(!0)}(o.component,o.route,r,t,n)),Wc(o=>!0!==o,!0))}(s,n,o,e).pipe(jn(a=>a&&function m6(e){return"boolean"==typeof e}(a)?function E6(e,t,r,n){return br(t).pipe(Qd(o=>RC(function I6(e,t){return null!==e&&t&&t(new ZH(e)),Bt(!0)}(o.route.parent,n),function D6(e,t){return null!==e&&t&&t(new YH(e)),Bt(!0)}(o.route,n),function T6(e,t,r){const n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(s=>function f6(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>DM(()=>Bt(s.guards.map(l=>{const d=rh(s.node)??r,f=lf(l,d);return Zc(function v6(e){return e&&sh(e.canActivateChild)}(f)?f.canActivateChild(n,e):Tc(d,()=>f(n,e))).pipe(Wc())})).pipe(cf())));return Bt(i).pipe(cf())}(e,o.path,r),function x6(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Bt(!0);const o=n.map(i=>DM(()=>{const s=rh(t)??r,a=lf(i,s);return Zc(function _6(e){return e&&sh(e.canActivate)}(a)?a.canActivate(t,e):Tc(s,()=>a(t,e))).pipe(Wc())}));return Bt(o).pipe(cf())}(e,o.route,r))),Wc(o=>!0!==o,!0))}(n,i,e,t):Bt(a)),sn(a=>({...r,guardsResult:a})))})}(this.environmentInjector,d=>this.events.next(d)),ki(d=>{if(s.guardsResult=d.guardsResult,ku(d.guardsResult))throw sA(0,d.guardsResult);const f=new GH(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),La(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",3),!1)),n0(d=>{if(d.guards.canActivateChecks.length)return Bt(d).pipe(ki(f=>{const h=new UH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}),Qr(f=>{let h=!1;return Bt(f).pipe(function Q6(e,t){return jn(r=>{const{targetSnapshot:n,guards:{canActivateChecks:o}}=r;if(!o.length)return Bt(r);const i=new Set(o.map(l=>l.route)),s=new Set;for(const l of i)if(!s.has(l))for(const d of mA(l))s.add(d);let a=0;return br(s).pipe(Qd(l=>i.has(l)?function J6(e,t,r,n){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!rA(o)&&(i[Yp]=o.title),function e5(e,t,r,n){const o=FC(e);if(0===o.length)return Bt({});const i={};return br(o).pipe(jn(s=>function t5(e,t,r,n){const o=rh(t)??n,i=lf(e,o);return Zc(i.resolve?i.resolve(t,r):Tc(o,()=>i(t,r)))}(e[s],t,r,n).pipe(Wc(),ki(a=>{i[s]=a}))),OC(1),MM(i),Tu(s=>dA(s)?Ao:d_(s)))}(i,e,t,n).pipe(sn(s=>(e._resolvedData=s,e.data=zC(e,e.parent,r).resolve,null)))}(l,n,e,t):(l.data=zC(l,l.parent,e).resolve,Bt(void 0))),ki(()=>a++),OC(1),jn(l=>a===s.size?Bt(r):Ao))})}(this.paramsInheritanceStrategy,this.environmentInjector),ki({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(f,"",2)}}))}),ki(f=>{const h=new HH(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}))}),n0(d=>{const f=h=>{const m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(ki(b=>{h.component=b}),sn(()=>{})));for(const b of h.children)m.push(...f(b));return m};return c_(f(d.targetSnapshot.root)).pipe(f_(),ef(1))}),n0(()=>this.afterPreactivation()),Qr(()=>{const{currentSnapshot:d,targetSnapshot:f}=s,h=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return h?br(h).pipe(sn(()=>s)):Bt(s)}),sn(d=>{const f=function e6(e,t,r){const n=nh(e,t._root,r?r._root:void 0);return new JM(n,t)}(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s={...d,targetRouterState:f},this.currentNavigation.targetRouterState=f,s}),ki(()=>{this.events.next(new jC)}),((e,t,r,n)=>sn(o=>(new u6(t,o.targetRouterState,o.currentRouterState,r,n).activate(e),o)))(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),ef(1),ki({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new tc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),AM(this.transitionAbortSubject.pipe(ki(d=>{throw d}))),Wp(()=>{a||l||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Tu(d=>{if(l=!0,lA(d))this.events.next(new rf(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),function r6(e){return lA(e)&&ku(e.url)}(d)?this.events.next(new GC(d.url)):s.resolve(!1);else{this.events.next(new y_(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(d))}catch(f){s.reject(f)}}return Ao}))}))}cancelNavigationTransition(n,o,i){const s=new rf(n.id,this.urlSerializer.serialize(n.extractedUrl),o,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function l5(e){return e!==eh}let bA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(u5),providedIn:"root"}),t})();class c5{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let u5=(()=>{var e;class t extends c5{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),CA=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:()=>it(d5),providedIn:"root"}),t})(),d5=(()=>{var e;class t extends CA{constructor(){super(...arguments),this.location=it(Vc),this.urlSerializer=it(Au),this.options=it(df,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=it(o0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new nf,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=eA(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(o=>{"popstate"===o.type&&n(o.url,o.state)})}handleRouterEvent(n,o){if(n instanceof th)this.stateMemento=this.createStateMemento();else if(n instanceof sf)this.rawUrlTree=o.initialUrl;else if(n instanceof KM){if("eager"===this.urlUpdateStrategy&&!o.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl);this.setBrowserUrl(i,o)}}else n instanceof jC?(this.currentUrlTree=o.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(o.finalUrl,o.initialUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o))):n instanceof rf&&(3===n.code||2===n.code)?this.restoreHistory(o):n instanceof y_?this.restoreHistory(o,!0):n instanceof tc&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,o){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||o.extras.replaceUrl){const a={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(i,"",a)}else{const s={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(n,o=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&0===s&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,o){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:o}:{navigationId:n}}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var ah=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ah||{});function SA(e,t){e.events.pipe(La(r=>r instanceof tc||r instanceof rf||r instanceof y_||r instanceof sf),sn(r=>r instanceof tc||r instanceof sf?ah.COMPLETE:r instanceof rf&&(0===r.code||1===r.code)?ah.REDIRECTING:ah.FAILED),La(r=>r!==ah.REDIRECTING),ef(1)).subscribe(()=>{t()})}function f5(e){throw e}const p5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zo=(()=>{var e;class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=it(vx),this.stateManager=it(CA),this.options=it(df,{optional:!0})||{},this.pendingTasks=it(kg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=it(E_),this.urlSerializer=it(Au),this.location=it(Vc),this.urlHandlingStrategy=it(o0),this._events=new Fn,this.errorHandler=this.options.errorHandler||f5,this.navigated=!1,this.routeReuseStrategy=it(bA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=it(ff,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!it(b_,{optional:!0}),this.eventsSubscription=new ot,this.isNgZoneEnabled=it(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(o=>{try{const i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==i&&null!==s)if(this.stateManager.handleRouterEvent(o,s),o instanceof rf&&0!==o.code&&1!==o.code)this.navigated=!0;else if(o instanceof tc)this.navigated=!0;else if(o instanceof GC){const a=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||l5(i.source)};this.scheduleNavigation(a,eh,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function g5(e){return!(e instanceof jC||e instanceof GC)})(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),eh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,o)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",o)},0)}))}navigateToSyncWithBrowser(n,o,i){const s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){const d={...i};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(s.state=d)}const l=this.parseUrl(n);this.scheduleNavigation(l,o,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(XC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,o={}){const{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=o,f=d?this.currentUrlTree.fragment:a;let m,h=null;switch(l){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{m=UM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return HM(m,n,h,f??null)}navigateByUrl(n,o={skipLocationChange:!1}){const i=ku(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,eh,null,o)}navigate(n,o={skipLocationChange:!1}){return function m5(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new Xe(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,o),o)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,o){let i;if(i=!0===o?{...p5}:!1===o?{...h5}:o,ku(n))return OM(this.currentUrlTree,n,i);const s=this.parseUrl(n);return OM(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((o,i)=>{const s=n[i];return null!=s&&(o[i]=s),o},{})}scheduleNavigation(n,o,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,d,f;a?(l=a.resolve,d=a.reject,f=a.promise):f=new Promise((m,b)=>{l=m,d=b});const h=this.pendingTasks.add();return SA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(m=>Promise.reject(m))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class wA{}let y5=(()=>{var e;class t{preload(n,o){return o().pipe(Tu(()=>Bt(null)))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),b5=(()=>{var e;class t{constructor(n,o,i,s,a){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(La(n=>n instanceof tc),Qd(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,o){const i=[];for(const s of o){s.providers&&!s._injector&&(s._injector=Sb(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return br(i).pipe(Bo())}preloadConfig(n,o){return this.preloadingStrategy.preload(o,()=>{let i;i=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(n,o):Bt(null);const s=i.pipe(jn(a=>null===a?Bt(void 0):(o._loadedRoutes=a.routes,o._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return o.loadComponent&&!o._loadedComponent?br([s,this.loader.loadComponent(o)]).pipe(Bo()):s})}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(zo),ue(yx),ue(hi),ue(wA),ue(r0))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const s0=new Te("");let EA=(()=>{var e;class t{constructor(n,o,i,s,a={}){this.urlSerializer=n,this.transitions=o,this.viewportScroller=i,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof th?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof tc?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof sf&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof XM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new XM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function BE(){throw new Error("invalid")}()},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();function wl(e,t){return{\u0275kind:e,\u0275providers:t}}function IA(){const e=it(Wr);return t=>{const r=e.get(Oa);if(t!==r.components[0])return;const n=e.get(zo),o=e.get(xA);1===e.get(a0)&&n.initialNavigation(),e.get(TA,null,Nt.Optional)?.setUpPreloading(),e.get(s0,null,Nt.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const xA=new Te("",{factory:()=>new Fn}),a0=new Te("",{providedIn:"root",factory:()=>1}),TA=new Te("");function E5(e){return wl(0,[{provide:TA,useExisting:b5},{provide:wA,useExisting:e}])}function I5(e){return wl(9,[{provide:vA,useValue:s5},{provide:yA,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const MA=new Te("ROUTER_FORROOT_GUARD"),x5=[Vc,{provide:Au,useClass:NC},zo,Ru,{provide:Cl,useFactory:function DA(e){return e.routerState.root},deps:[zo]},r0,[]];let D_=(()=>{var e;class t{constructor(n){}static forRoot(n,o){return{ngModule:t,providers:[x5,[],{provide:ff,multi:!0,useValue:n},{provide:MA,useFactory:k5,deps:[[zo,new Sm,new wm]]},{provide:df,useValue:o||{}},o?.useHash?{provide:_l,useClass:lT}:{provide:_l,useClass:aT},{provide:s0,useFactory:()=>{const e=it(gG),t=it(Ue),r=it(df),n=it(E_),o=it(Au);return r.scrollOffset&&e.setOffset(r.scrollOffset),new EA(o,n,e,t,r)}},o?.preloadingStrategy?E5(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?R5(o):[],o?.bindToComponentInputs?wl(8,[iA,{provide:b_,useExisting:iA}]).\u0275providers:[],o?.enableViewTransitions?I5().\u0275providers:[],[{provide:AA,useFactory:IA},{provide:Bb,multi:!0,useExisting:AA}]]}}static forChild(n){return{ngModule:t,providers:[{provide:ff,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(MA,8))},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({}),t})();function k5(e){return"guarded"}function R5(e){return["disabled"===e.initialNavigation?wl(3,[{provide:Bp,multi:!0,useFactory:()=>{const t=it(zo);return()=>{t.setUpLocationChangeListener()}}},{provide:a0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?wl(2,[{provide:a0,useValue:0},{provide:Bp,multi:!0,deps:[Wr],useFactory:t=>{const r=t.get(X4,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const o=t.get(zo),i=t.get(xA);SA(o,()=>{n(!0)}),t.get(E_).afterPreactivation=()=>(n(!0),i.closed?Bt(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const AA=new Te("");class O5{constructor(){this.m=new Map}reset(t){this.m=new Map(Object.entries(t))}get(t,r){const n=this.m.get(t);return void 0!==n?n:r}getBoolean(t,r=!1){const n=this.m.get(t);return void 0===n?r:"string"==typeof n?"true"===n:!!n}getNumber(t,r){const n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==r?r:NaN:n}set(t,r){this.m.set(t,r)}}const qc=new O5,PA=e=>FA(e),FA=(e=window)=>{if(typeof e>"u")return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=B5(e),t.forEach(r=>e.document.documentElement.classList.add(`plt-${r}`))),t},B5=e=>{const t=qc.get("platform");return Object.keys(VA).filter(r=>{const n=t?.[r];return"function"==typeof n?n(e):VA[r](e)})},l0=e=>!!(Pu(e,/iPad/i)||Pu(e,/Macintosh/i)&&I_(e)),NA=e=>Pu(e,/android|sink/i),I_=e=>Y5(e,"(any-pointer:coarse)"),LA=e=>$A(e)||BA(e),$A=e=>!!(e.cordova||e.phonegap||e.PhoneGap),BA=e=>{const t=e.Capacitor;return!!t?.isNative},Pu=(e,t)=>t.test(e.navigator.userAgent),Y5=(e,t)=>{var r;return null===(r=e.matchMedia)||void 0===r?void 0:r.call(e,t).matches},VA={ipad:l0,iphone:e=>Pu(e,/iPhone/i),ios:e=>Pu(e,/iPhone|iPod/i)||l0(e),android:NA,phablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return n>390&&n<520&&o>620&&o<800},tablet:e=>{const t=e.innerWidth,r=e.innerHeight,n=Math.min(t,r),o=Math.max(t,r);return l0(e)||(e=>NA(e)&&!Pu(e,/mobile/i))(e)||n>460&&n<820&&o>780&&o<1400},cordova:$A,capacitor:BA,electron:e=>Pu(e,/electron/i),pwa:e=>{var t;return!!(null!==(t=e.matchMedia)&&void 0!==t&&t.call(e,"(display-mode: standalone)").matches||e.navigator.standalone)},mobile:I_,mobileweb:e=>I_(e)&&!LA(e),desktop:e=>!I_(e),hybrid:LA};var ch=C(7687),K5=C(276);const X5=["addListener","removeListener"],Q5=["addEventListener","removeEventListener"],J5=["on","off"];function x_(e,t,r,n){if(Ie(r)&&(n=r,r=void 0),n)return x_(e,t,r).pipe(kC(n));const[o,i]=function nz(e){return Ie(e.addEventListener)&&Ie(e.removeEventListener)}(e)?Q5.map(s=>a=>e[s](t,a,r)):function ez(e){return Ie(e.addListener)&&Ie(e.removeListener)}(e)?X5.map(jA(e,t)):function tz(e){return Ie(e.on)&&Ie(e.off)}(e)?J5.map(jA(e,t)):[];if(!o&&os(e))return jn(s=>x_(s,t,r))(Ve(e));if(!o)throw new TypeError("Invalid event target");return new Dn(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return o(a),()=>i(a)})}function jA(e,t){return r=>n=>e[r](t,n)}let GA=(()=>{var e;class t{constructor(n,o){this._renderer=n,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,o){this._renderer.setProperty(this._elementRef.nativeElement,n,o)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ql),v(rt))},e.\u0275dir=kt({type:e}),t})(),Ou=(()=>{var e;class t extends GA{}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=kt({type:e,features:[En]}),t})();const Zi=new Te("NgValueAccessor"),iz={provide:Zi,useExisting:Un(()=>c0),multi:!0},az=new Te("CompositionEventMode");let c0=(()=>{var e;class t extends GA{constructor(n,o,i){super(n,o),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sz(){const e=Bc()?Bc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ql),v(rt),v(az,8))},e.\u0275dir=kt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){1&n&&Ne("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[sr([iz]),En]}),t})();function Yc(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function HA(e){return null!=e&&"number"==typeof e.length}const gi=new Te("NgValidators"),Kc=new Te("NgAsyncValidators"),lz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class uh{static min(t){return zA(t)}static max(t){return WA(t)}static required(t){return function ZA(e){return Yc(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function qA(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function YA(e){return Yc(e.value)||lz.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function KA(e){return t=>Yc(t.value)||!HA(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return XA(t)}static pattern(t){return function QA(e){if(!e)return T_;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(Yc(n.value))return null;const o=n.value;return t.test(o)?null:{pattern:{requiredPattern:r,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return ok(t)}static composeAsync(t){return ik(t)}}function zA(e){return t=>{if(Yc(t.value)||Yc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}function WA(e){return t=>{if(Yc(t.value)||Yc(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}function XA(e){return t=>HA(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function T_(e){return null}function JA(e){return null!=e}function ek(e){return Pp(e)?br(e):e}function tk(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function nk(e,t){return t.map(r=>r(e))}function rk(e){return e.map(t=>function cz(e){return!e.validate}(t)?t:r=>t.validate(r))}function ok(e){if(!e)return null;const t=e.filter(JA);return 0==t.length?null:function(r){return tk(nk(r,t))}}function u0(e){return null!=e?ok(rk(e)):null}function ik(e){if(!e)return null;const t=e.filter(JA);return 0==t.length?null:function(r){return function rz(...e){const t=_a(e),{args:r,keys:n}=SM(e),o=new Dn(i=>{const{length:s}=r;if(!s)return void i.complete();const a=new Array(s);let l=s,d=s;for(let f=0;f<s;f++){let h=!1;Ve(r[f]).subscribe($n(i,m=>{h||(h=!0,d--),a[f]=m},()=>l--,void 0,()=>{(!l||!h)&&(d||i.next(n?wM(n,a):a),i.complete())}))}});return t?o.pipe(kC(t)):o}(nk(r,t).map(ek)).pipe(sn(tk))}}function d0(e){return null!=e?ik(rk(e)):null}function sk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function ak(e){return e._rawValidators}function lk(e){return e._rawAsyncValidators}function f0(e){return e?Array.isArray(e)?e:[e]:[]}function M_(e,t){return Array.isArray(e)?e.includes(t):e===t}function ck(e,t){const r=f0(t);return f0(e).forEach(o=>{M_(r,o)||r.push(o)}),r}function uk(e,t){return f0(t).filter(r=>!M_(e,r))}class dk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=u0(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=d0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class qi extends dk{get formDirective(){return null}get path(){return null}}class nc extends dk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fk{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let rc=(()=>{var e;class t extends fk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(nc,2))},e.\u0275dir=kt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){2&n&&sa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[En]}),t})(),oc=(()=>{var e;class t extends fk{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(qi,10))},e.\u0275dir=kt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){2&n&&sa("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[En]}),t})();const dh="VALID",k_="INVALID",hf="PENDING",fh="DISABLED";function m0(e){return(R_(e)?e.validators:e)||null}function g0(e,t){return(R_(t)?t.asyncValidators:e)||null}function R_(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class gk{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===dh}get invalid(){return this.status===k_}get pending(){return this.status==hf}get disabled(){return this.status===fh}get enabled(){return this.status!==fh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ck(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ck(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(uk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(uk(t,this._rawAsyncValidators))}hasValidator(t){return M_(this._rawValidators,t)}hasAsyncValidator(t){return M_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=hf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=fh,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=dh,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dh||this.status===hf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fh:dh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=hf,this._hasOwnPendingAsyncValidator=!0;const r=ek(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,o)=>n&&n._find(o),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new en,this.statusChanges=new en}_calculateStatus(){return this._allControlsDisabled()?fh:this.errors?k_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hf)?hf:this._anyControlsHaveStatus(k_)?k_:dh}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){R_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function pz(e){return Array.isArray(e)?u0(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function hz(e){return Array.isArray(e)?d0(e):e||null}(this._rawAsyncValidators)}}class Xc extends gk{constructor(t,r,n){super(m0(r),g0(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){(function mk(e,t,r){e._forEachChild((n,o)=>{if(void 0===r[o])throw new Xe(1002,"")})})(this,0,t),Object.keys(t).forEach(n=>{(function hk(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new Xe(1e3,"");if(!n[r])throw new Xe(1001,"")})(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const o=this.controls[n];o&&o.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,o)=>{n.reset(t?t[o]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,o)=>((n.enabled||this.disabled)&&(r[o]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((o,i)=>{n=r(n,o,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const P_=Xc,Fu=new Te("CallSetDisabledState",{providedIn:"root",factory:()=>ph}),ph="always";function hh(e,t,r=ph){_0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function _z(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&_k(e,t)})}(e,t),function yz(e,t){const r=(n,o)=>{t.valueAccessor.writeValue(n),o&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function vz(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&_k(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function gz(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function F_(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),L_(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function N_(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function _0(e,t){const r=ak(e);null!==t.validator?e.setValidators(sk(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=lk(e);null!==t.asyncValidator?e.setAsyncValidators(sk(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const o=()=>e.updateValueAndValidity();N_(t._rawValidators,o),N_(t._rawAsyncValidators,o)}function L_(e,t){let r=!1;if(null!==e){if(null!==t.validator){const o=ak(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.validator);i.length!==o.length&&(r=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const o=lk(e);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==t.asyncValidator);i.length!==o.length&&(r=!0,e.setAsyncValidators(i))}}}const n=()=>{};return N_(t._rawValidators,n),N_(t._rawAsyncValidators,n),r}function _k(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function bk(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function Ck(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const bs=class extends gk{constructor(t=null,r,n){super(m0(r),g0(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),R_(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=Ck(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){bk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){bk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Ck(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Lo=bs;let ic=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),xk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({}),t})();const S0=new Te("NgModelWithFormControlWarning"),Pz={provide:qi,useExisting:Un(()=>Ba)};let Ba=(()=>{var e;class t extends qi{constructor(n,o,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new en,this._setValidators(n),this._setAsyncValidators(o)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(L_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const o=this.form.get(n.path);return hh(o,n,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),o}getControl(n){return this.form.get(n.path)}removeControl(n){F_(n.control||null,n,!1),function wz(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,o){this.form.get(n.path).setValue(o)}onSubmit(n){return this.submitted=!0,function yk(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const o=n.control,i=this.form.get(n.path);o!==i&&(F_(o||null,n),(e=>e instanceof bs)(i)&&(hh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const o=this.form.get(n.path);(function vk(e,t){_0(e,t)})(o,n),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const o=this.form.get(n.path);o&&function bz(e,t){return L_(e,t)}(o,n)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){_0(this.form,this),this._oldForm&&L_(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(v(gi,10),v(Kc,10),v(Fu,8))},e.\u0275dir=kt({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,o){1&n&&Ne("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[sr([Pz]),En,nr]}),t})();const Nz={provide:nc,useExisting:Un(()=>El)};let El=(()=>{var e;class t extends nc{set isDisabled(n){}constructor(n,o,i,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new en,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=function b0(e,t){if(!t)return null;let r,n,o;return Array.isArray(t),t.forEach(i=>{i.constructor===c0?r=i:function Sz(e){return Object.getPrototypeOf(e.constructor)===Ou}(i)?n=i:o=i}),o||n||r||null}(0,s)}ngOnChanges(n){this._added||this._setUpControl(),function y0(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function O_(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(v(qi,13),v(gi,10),v(Kc,10),v(Zi,10),v(S0,8))},e.\u0275dir=kt({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[sr([Nz]),En,nr]}),t})();function Fk(e){return"number"==typeof e?e:parseFloat(e)}let Nu=(()=>{var e;class t{constructor(){this._validator=T_}ngOnChanges(n){if(this.inputName in n){const o=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):T_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=kt({type:e,features:[nr]}),t})();const Uz={provide:gi,useExisting:Un(()=>x0),multi:!0};let x0=(()=>{var e;class t extends Nu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Fk(n),this.createValidator=n=>WA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=kt({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Vs("max",o._enabled?o.max:null)},inputs:{max:"max"},features:[sr([Uz]),En]}),t})();const Hz={provide:gi,useExisting:Un(()=>T0),multi:!0};let T0=(()=>{var e;class t extends Nu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Fk(n),this.createValidator=n=>zA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=kt({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Vs("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[sr([Hz]),En]}),t})();const Yz={provide:gi,useExisting:Un(()=>A0),multi:!0};let A0=(()=>{var e;class t extends Nu{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function Ok(e){return"number"==typeof e?e:parseInt(e,10)}(n),this.createValidator=n=>XA(n)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275dir=kt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(n,o){2&n&&Vs("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[sr([Yz]),En]}),t})(),Vk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[xk]}),t})(),Lu=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:Fu,useValue:n.callSetDisabledState??ph}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[Vk]}),t})(),$_=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:S0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Fu,useValue:n.callSetDisabledState??ph}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[Vk]}),t})();const Qz=["tabsInner"];let Jz=(()=>{class e{constructor(r,n){this.doc=r,this.backButton=new Fn,this.keyboardDidShow=new Fn,this.keyboardDidHide=new Fn,this.pause=new Fn,this.resume=new Fn,this.resize=new Fn,n.run(()=>{let o;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(i,s){return this.subscribe(a=>a.register(i,l=>n.run(()=>s(l))))},mf(this.pause,r,"pause",n),mf(this.resume,r,"resume",n),mf(this.backButton,r,"ionBackButton",n),mf(this.resize,this.win,"resize",n),mf(this.keyboardDidShow,this.win,"ionKeyboardDidShow",n),mf(this.keyboardDidHide,this.win,"ionKeyboardDidHide",n),this._readyPromise=new Promise(i=>{o=i}),this.win?.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return((e,t)=>("string"==typeof e&&(t=e,e=void 0),PA(e).includes(t)))(this.win,r)}platforms(){return PA(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(r){return e8(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(r){const n=this.win.navigator;return!!(n?.userAgent&&n.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return e.\u0275fac=function(r){return new(r||e)(ue(mi),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const e8=(e,t)=>{t=t.replace(/[[\]\\]/g,"\\$&");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},mf=(e,t,r,n)=>{t&&t.addEventListener(r,o=>{n.run(()=>{const i=o?.detail;e.next(i)})})};let gf=(()=>{class e{constructor(r,n,o,i){this.location=n,this.serializer=o,this.router=i,this.direction=jk,this.animated=Gk,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof th){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),r.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(r,n={}){return this.setDirection("forward",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateBack(r,n={}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}navigateRoot(r,n={}){return this.setDirection("root",n.animated,n.animationDirection,n.animation),this.navigate(r,n)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){var r=this;return(0,V.Z)(function*(){let n=r.topOutlet;for(;n;){if(yield n.pop())return!0;n=n.parentOutlet}return!1})()}setDirection(r,n,o,i){this.direction=r,this.animated=t8(r,n,o),this.animationBuilder=i}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let n,r="root";const o=this.animationBuilder;return"auto"===this.direction?(r=this.guessDirection,n=this.guessAnimation):(n=this.animated,r=this.direction),this.direction=jk,this.animated=Gk,this.animationBuilder=void 0,{direction:r,animation:n,animationBuilder:o}}navigate(r,n){if(Array.isArray(r))return this.router.navigate(r,n);{const o=this.serializer.parse(r.toString());return void 0!==n.queryParams&&(o.queryParams={...n.queryParams}),void 0!==n.fragment&&(o.fragment=n.fragment),this.router.navigateByUrl(o,n)}}}return e.\u0275fac=function(r){return new(r||e)(ue(Jz),ue(Vc),ue(Au),ue(zo,8))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const t8=(e,t,r)=>{if(!1!==t){if(void 0!==r)return r;if("forward"===e||"back"===e)return e;if("root"===e&&!0===t)return"forward"}},jk="auto",Gk=void 0;let gh=(()=>{class e{get(r,n){const o=k0();return o?o.get(r,n):null}getBoolean(r,n){const o=k0();return!!o&&o.getBoolean(r,n)}getNumber(r,n){const o=k0();return o?o.getNumber(r,n):0}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Uk=new Te("USERCONFIG"),k0=()=>{if(typeof window<"u"){const e=window.Ionic;if(e?.config)return e.config}return null};class Hk{constructor(t={}){this.data=t}get(t){return this.data[t]}}let _h=(()=>{class e{constructor(){this.zone=it(Ue),this.applicationRef=it(Oa)}create(r,n,o){return new n8(r,n,this.applicationRef,this.zone,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),e})();class n8{constructor(t,r,n,o,i){this.environmentInjector=t,this.injector=r,this.applicationRef=n,this.zone=o,this.elementReferenceKey=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(t,r,n,o){return this.zone.run(()=>new Promise(i=>{const s={...n};void 0!==this.elementReferenceKey&&(s[this.elementReferenceKey]=t),i(r8(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,t,r,s,o,this.elementReferenceKey))}))}removeViewFromDom(t,r){return this.zone.run(()=>new Promise(n=>{const o=this.elRefMap.get(r);if(o){o.destroy(),this.elRefMap.delete(r);const i=this.elEventsMap.get(r);i&&(i(),this.elEventsMap.delete(r))}n()}))}}const r8=(e,t,r,n,o,i,s,a,l,d,f)=>{const m=function q4(e,t){const r=kn(e),n=t.elementInjector||Tm();return new gp(r).create(n,t.projectableNodes,t.hostElement,t.environmentInjector)}(a,{environmentInjector:t,elementInjector:Wr.create({providers:i8(l),parent:r})}),b=m.instance,U=m.location.nativeElement;if(l&&(f&&void 0!==b[f]&&console.error(`[Ionic Error]: ${f} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${f}" property from ${a.name}.`),Object.assign(b,l)),d)for(const he of d)U.classList.add(he);const ee=zk(e,b,U);return s.appendChild(U),n.attachView(m.hostView),o.set(U,m),i.set(U,ee),U},o8=[ch.L,ch.a,ch.b,ch.c,ch.d],zk=(e,t,r)=>e.run(()=>{const n=o8.filter(o=>"function"==typeof t[o]).map(o=>{const i=s=>t[o](s.detail);return r.addEventListener(o,i),()=>r.removeEventListener(o,i)});return()=>n.forEach(o=>o())}),Wk=new Te("NavParamsToken"),i8=e=>[{provide:Wk,useValue:e},{provide:Hk,useFactory:s8,deps:[Wk]}],s8=e=>new Hk(e),a8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)}})})},l8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})};function B_(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&a8(r,o),i&&l8(r,i),r}}const Zk=(e,t)=>((e=e.filter(r=>r.stackId!==t.stackId)).push(t),e),P0=(e,t)=>{const r=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(r)},qk=(e,t)=>!t||e.stackId!==t.stackId,v8=(e,t)=>{if(!e)return;const r=Yk(t);for(let n=0;n<r.length;n++){if(n>=e.length)return r[n];if(r[n]!==e[n])return}},Yk=e=>e.split("/").map(t=>t.trim()).filter(t=>""!==t),Kk=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class y8{constructor(t,r,n,o,i,s){this.containerEl=r,this.router=n,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?Yk(t):void 0}createView(t,r){const n=P0(this.router,r),o=t?.location?.nativeElement,i=zk(this.zone,t.instance,o);return{id:this.nextId++,stackId:v8(this.tabsPrefix,n),unlistenEvents:i,element:o,ref:t,url:n}}getExistingView(t){const r=P0(this.router,t),n=this.views.find(o=>o.url===r);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(t){const r=this.navCtrl.consumeTransition();let{direction:n,animation:o,animationBuilder:i}=r;const s=this.activeView,a=qk(t,s);a&&(n="back",o=void 0);const l=this.views.slice();let d;const f=this.router;f.getCurrentNavigation?d=f.getCurrentNavigation():f.navigations?.value&&(d=f.navigations.value),d?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const h=this.views.includes(t),m=this.insertView(t,n);h||t.ref.changeDetectorRef.detectChanges();const b=t.animationBuilder;return void 0===i&&"back"===n&&!a&&void 0!==b&&(i=b),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),t.ref.changeDetectorRef.reattach(),this.transition(t,s,o,this.canGoBack(1),!1,i).then(()=>b8(t,m,l,this.location,this.zone)).then(()=>({enteringView:t,direction:n,animation:o,tabSwitch:a})))))}canGoBack(t,r=this.getActiveStackId()){return this.getStack(r).length>t}pop(t,r=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(r);if(n.length<=t)return Promise.resolve(!1);const o=n[n.length-t-1];let i=o.url;const s=o.savedData;if(s){const l=s.get("primary");l?.route?._routerState?.snapshot.url&&(i=l.route._routerState.snapshot.url)}const{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,{...o.savedExtras,animation:a}).then(()=>!0)})}startBackTransition(){const t=this.activeView;if(t){const r=this.getStack(t.stackId),n=r[r.length-2],o=n.animationBuilder;return this.wait(()=>this.transition(n,t,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(t){t?(this.skipTransition=!0,this.pop(1)):this.activeView&&Xk(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(t){const r=this.getStack(t);return r.length>0?r[r.length-1]:void 0}getRootUrl(t){const r=this.getStack(t);return r.length>0?r[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Kk),this.activeView=void 0,this.views=[]}getStack(t){return this.views.filter(r=>r.stackId===t)}insertView(t,r){return this.activeView=t,this.views=((e,t,r)=>"root"===r?Zk(e,t):"forward"===r?((e,t)=>(e.indexOf(t)>=0?e=e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(n=>n.stackId!==t.stackId||n.id<=t.id):Zk(e,t))(e,t))(this.views,t,r),this.views.slice()}transition(t,r,n,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(r===t)return Promise.resolve(!1);const a=t?t.element:void 0,l=r?r.element:void 0,d=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==d&&d.appendChild(a),d.commit)?d.commit(a,l,{duration:void 0===n?0:void 0,direction:n,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(t){var r=this;return(0,V.Z)(function*(){void 0!==r.runningTask&&(yield r.runningTask,r.runningTask=void 0);const n=r.runningTask=t();return n.finally(()=>r.runningTask=void 0),n})()}}const b8=(e,t,r,n,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{Xk(e,t,r,n,o),i()})}):Promise.resolve(),Xk=(e,t,r,n,o)=>{o.run(()=>r.filter(i=>!t.includes(i)).forEach(Kk)),t.forEach(i=>{const a=n.path().split("?")[0].split("#")[0];if(i!==e&&i.url!==a){const l=i.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let Qk=(()=>{class e{constructor(r,n,o,i,s,a,l,d){this.parentOutlet=d,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new fo(null),this.activated=null,this._activatedRoute=null,this.name=Tn,this.stackWillChange=new en,this.stackDidChange=new en,this.activateEvents=new en,this.deactivateEvents=new en,this.parentContexts=it(Ru),this.location=it(vs),this.environmentInjector=it(hi),this.inputBinder=it(Jk,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=it(gh),this.navCtrl=it(gf),this.nativeEl=i.nativeElement,this.name=r||Tn,this.tabsPrefix="true"===n?P0(s,l):void 0,this.stackCtrl=new y8(this.tabsPrefix,this.nativeEl,s,this.navCtrl,a,o),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:n=>this.stackCtrl.endBackTransition(n)}:void 0}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const r=this.getContext();r?.route&&this.activateWith(r.route,r.injector)}new Promise(r=>(0,K5.c)(this.nativeEl,r)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,n){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const n=this.getContext();this.activatedView.savedData=new Map(n.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&n.route&&(o.route={...n.route}),this.activatedView.savedExtras={},n.route){const i=n.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,i=this.stackCtrl.getExistingView(r);if(i){o=this.activated=i.ref;const a=i.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(o.instance,r)}else{const a=r._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,d=new fo(null),f=this.createActivatedRouteProxy(d,r),h=new C8(f,l,this.location.injector);o=this.activated=this.location.createComponent(a.routeConfig.component??a.component,{index:this.location.length,injector:h,environmentInjector:n??this.environmentInjector}),d.next(o.instance),i=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,f),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=i,this.navCtrl.setTopOutlet(this);const s=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:i,tabSwitch:qk(i,s)}),this.stackCtrl.setActive(i).then(a=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(a)})}canGoBack(r=1,n){return this.stackCtrl.canGoBack(r,n)}pop(r=1,n){return this.stackCtrl.pop(r,n)}getLastUrl(r){const n=this.stackCtrl.getLastUrl(r);return n?n.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,n){const o=new Cl;return o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,n){return r.pipe(La(o=>!!o),Qr(o=>this.currentActivatedRoute$.pipe(La(i=>null!==i&&i.component===o),Qr(i=>i&&i.activatedRoute[n]),Js())))}updateActivatedRouteProxy(r,n){const o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=n._futureSnapshot,o._routerState=n._routerState,o.snapshot=n.snapshot,o.outlet=n.outlet,o.component=n.component,this.currentActivatedRoute$.next({component:r,activatedRoute:n})}}return e.\u0275fac=function(r){return new(r||e)(xc("name"),xc("tabs"),v(Vc),v(rt),v(zo),v(Ue),v(Cl),v(e,12))},e.\u0275dir=kt({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class C8{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Cl?this.route:t===Ru?this.childContexts:this.parent.get(t,r)}}const Jk=new Te("");let S8=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:n}=r,o=c_([n.queryParams,n.params,n.data]).pipe(Qr(([i,s,a],l)=>(a={...i,...s,...a},0===l?Bt(a):Promise.resolve(a)))).subscribe(i=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(r);const s=oT(n.component);if(s)for(const{templateName:a}of s.inputs)r.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,o)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),e})();function E8(e){return e?.componentInputBindingEnabled?new S8:null}const D8=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let I8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.routerOutlet=r,this.navCtrl=n,this.config=o,this.r=i,this.z=s,a.detach(),this.el=this.r.nativeElement}onClick(r){const n=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):null!=n&&(this.navCtrl.navigateBack(n,{animation:this.routerAnimation}),r.preventDefault())}};return e.\u0275fac=function(r){return new(r||e)(v(Qk,8),v(gf),v(gh),v(rt),v(Ue),v(ut))},e.\u0275dir=kt({type:e,hostBindings:function(r,n){1&r&&Ne("click",function(i){return n.onClick(i)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),e=re([B_({inputs:D8})],e),e})();const M8=["animated","animation","root","rootParams","swipeGesture"],A8=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let k8=(()=>{let e=class{constructor(r,n,o,i,s,a){this.z=s,a.detach(),this.el=r.nativeElement,r.nativeElement.delegate=i.create(n,o),((e,t,r)=>{r.forEach(n=>e[n]=x_(t,n))})(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return e.\u0275fac=function(r){return new(r||e)(v(rt),v(hi),v(Wr),v(_h),v(Ue),v(ut))},e.\u0275dir=kt({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),e=re([B_({inputs:M8,methods:A8})],e),e})(),R8=(()=>{class e{constructor(r){this.navCtrl=r,this.ionTabsWillChange=new en,this.ionTabsDidChange=new en,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:n}){const o=r.stackId;n&&void 0!==o&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){const n="string"==typeof r,o=n?r:r.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(n||r.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const d=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,{...d&&s===d.url&&d.savedExtras,animated:!0,animationDirection:"back"})}{const a=this.outlet.getLastRouteView(o),l=a?.url||s,d=a?.savedExtras;return this.navCtrl.navigateRoot(l,{...d,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{const n=r.el.getAttribute("slot");n!==this.tabBarSlot&&(this.tabBarSlot=n,this.relocateTabBar())})}relocateTabBar(){const r=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}}return e.\u0275fac=function(r){return new(r||e)(v(gf))},e.\u0275dir=kt({type:e,selectors:[["ion-tabs"]],viewQuery:function(r,n){if(1&r&&Lc(Qz,7,rt),2&r){let o;Gs(o=Us())&&(n.tabsInner=o.first)}},hostBindings:function(r,n){1&r&&Ne("ionTabButtonClick",function(i){return n.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),e})();const eR=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let vh=(()=>{class e{constructor(r,n){this.injector=r,this.elementRef=n,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,_f(this.elementRef)}handleValueChange(r,n){r===this.elementRef.nativeElement&&(n!==this.lastValue&&(this.lastValue=n,this.onChange(n)),_f(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement&&(this.onTouched(),_f(this.elementRef))}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(nc)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>_f(this.elementRef)));const n=r.control;n&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof n[i]<"u"){const s=n[i].bind(n);n[i]=(...a)=>{s(...a),_f(this.elementRef)}}})}}return e.\u0275fac=function(r){return new(r||e)(v(Wr),v(rt))},e.\u0275dir=kt({type:e,hostBindings:function(r,n){1&r&&Ne("ionBlur",function(i){return n._handleBlurEvent(i.target)})}}),e})();const _f=e=>{eR(()=>{const t=e.nativeElement,r=null!=t.value&&t.value.toString().length>0,n=P8(t);O0(t,n);const o=t.closest("ion-item");o&&O0(o,r?[...n,"item-has-value"]:n)})},P8=e=>{const t=e.classList,r=[];for(let n=0;n<t.length;n++){const o=t.item(n);null!==o&&O8(o,"ng-")&&r.push(`ion-${o.substring(3)}`)}return r},O0=(e,t)=>{const r=e.classList;r.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),r.add(...t)},O8=(e,t)=>e.substring(0,t.length)===t;class F8{shouldDetach(t){return!1}shouldAttach(t){return!1}store(t,r){}retrieve(t){return null}shouldReuseRoute(t,r){if(t.routeConfig!==r.routeConfig)return!1;const n=t.params,o=r.params,i=Object.keys(n),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==n[a])return!1;return!0}}class yh{constructor(t){this.ctrl=t}create(t){return this.ctrl.create(t||{})}dismiss(t,r,n){return this.ctrl.dismiss(t,r,n)}getTop(){return this.ctrl.getTop()}}var F0=C(2723),N8=(C(8044),C(5444),C(5922),C(4923),C(5194)),tR=C(2984),bh=(C(4656),C(7261)),L8=(C(6940),C(3426));C(4967);const B8=N8.i,Ct=["*"],j8=["outlet"],G8=[[["","slot","top"]],"*"],U8=["[slot=top]","*"];let vf=(()=>{class e extends vh{constructor(r,n){super(r,n)}writeValue(r){this.elementRef.nativeElement.checked=this.lastValue=r,_f(this.elementRef)}_handleIonChange(r){this.handleValueChange(r,r.checked)}}return e.\u0275fac=function(r){return new(r||e)(v(Wr),v(rt))},e.\u0275dir=kt({type:e,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(r,n){1&r&&Ne("ionChange",function(i){return n._handleIonChange(i.target)})},features:[sr([{provide:Zi,useExisting:e,multi:!0}]),En]}),e})(),Ch=(()=>{class e extends vh{constructor(r,n){super(r,n)}_handleChangeEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Wr),v(rt))},e.\u0275dir=kt({type:e,selectors:[["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(r,n){1&r&&Ne("ionChange",function(i){return n._handleChangeEvent(i.target)})},features:[sr([{provide:Zi,useExisting:e,multi:!0}]),En]}),e})(),sc=(()=>{class e extends vh{constructor(r,n){super(r,n)}_handleInputEvent(r){this.handleValueChange(r,r.value)}}return e.\u0275fac=function(r){return new(r||e)(v(Wr),v(rt))},e.\u0275dir=kt({type:e,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"],["ion-range"]],hostBindings:function(r,n){1&r&&Ne("ionInput",function(i){return n._handleInputEvent(i.target)})},features:[sr([{provide:Zi,useExisting:e,multi:!0}]),En]}),e})();const q8=(e,t)=>{const r=e.prototype;t.forEach(n=>{Object.defineProperty(r,n,{get(){return this.el[n]},set(o){this.z.runOutsideAngular(()=>this.el[n]=o)},configurable:!0})})},Y8=(e,t)=>{const r=e.prototype;t.forEach(n=>{r[n]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[n].apply(this.el,o))}})},cr=(e,t,r)=>{r.forEach(n=>e[n]=x_(t,n))};function wt(e){return function(r){const{defineCustomElementFn:n,inputs:o,methods:i}=e;return void 0!==n&&n(),o&&q8(r,o),i&&Y8(r,i),r}}let nR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-app"]],ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({})],e),e})(),Yi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],e),e})(),Ki=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["collapse"]})],e),e})(),rR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),Xi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),Qi=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["collapse","mode","translucent"]})],e),e})(),Wo=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),ac=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],e),e})(),Io=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],e),e})(),V_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],e),e})(),j_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionSwipe"])}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["side"]})],e),e})(),G_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionDrag"])}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],e),e})(),Ji=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["color","mode","position"]})],e),e})(),zs=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),N0=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionInput","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["activeBarStart","color","debounce","disabled","dualKnobs","label","labelPlacement","legacy","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],e),e})(),Sh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],e),e})(),wh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["disabled","value"]})],e),e})(),Eh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["color","duration","name","paused"]})],e),e})(),U_=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),oR=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),es=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["color","size"]})],e),e})(),Dh=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement,cr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toggle"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["alignment","checked","color","disabled","enableOnOffLabels","justify","labelPlacement","legacy","mode","name","value"]})],e),e})(),ts=(()=>{let e=class{constructor(r,n,o){this.z=o,r.detach(),this.el=n.nativeElement}};return e.\u0275fac=function(r){return new(r||e)(v(ut),v(rt),v(Ue))},e.\u0275cmp=Ze({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e=re([wt({inputs:["color","mode"]})],e),e})(),Ih=(()=>{class e extends Qk{constructor(r,n,o,i,s,a,l,d){super(r,n,o,i,s,a,l,d),this.parentOutlet=d}}return e.\u0275fac=function(r){return new(r||e)(xc("name"),xc("tabs"),v(Vc),v(rt),v(zo),v(Ue),v(Cl),v(e,12))},e.\u0275dir=kt({type:e,selectors:[["ion-router-outlet"]],features:[En]}),e})(),iR=(()=>{class e extends R8{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275cmp=Ze({type:e,selectors:[["ion-tabs"]],contentQueries:function(r,n,o){if(1&r&&(Hd(o,U_,5),Hd(o,U_,4)),2&r){let i;Gs(i=Us())&&(n.tabBar=i.first),Gs(i=Us())&&(n.tabBars=i)}},viewQuery:function(r,n){if(1&r&&Lc(j8,5,Ih),2&r){let o;Gs(o=Us())&&(n.outlet=o.first)}},features:[En],ngContentSelectors:U8,decls:6,vars:0,consts:[[1,"tabs-inner"],["tabsInner",""],["tabs","true",3,"stackWillChange","stackDidChange"],["outlet",""]],template:function(r,n){1&r&&(_t(G8),gt(0),G(1,"div",0,1)(3,"ion-router-outlet",2,3),Ne("stackWillChange",function(i){return n.onStackWillChange(i)})("stackDidChange",function(i){return n.onStackDidChange(i)}),L()(),gt(5,1))},dependencies:[Ih],styles:["[_nghost-%COMP%]{display:flex;position:absolute;inset:0;flex-direction:column;width:100%;height:100%;contain:layout size style}.tabs-inner[_ngcontent-%COMP%]{position:relative;flex:1;contain:layout size style}"]}),e})(),sR=(()=>{class e extends I8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(Ih,8),v(gf),v(gh),v(rt),v(Ue),v(ut))},e.\u0275cmp=Ze({type:e,selectors:[["ion-back-button"]],features:[En],ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e})(),L0=(()=>{class e extends k8{constructor(r,n,o,i,s,a){super(r,n,o,i,s,a)}}return e.\u0275fac=function(r){return new(r||e)(v(rt),v(hi),v(Wr),v(_h),v(Ue),v(ut))},e.\u0275cmp=Ze({type:e,selectors:[["ion-nav"]],features:[En],ngContentSelectors:Ct,decls:1,vars:0,template:function(r,n){1&r&&(_t(),gt(0))},encapsulation:2,changeDetection:0}),e})();const eW={provide:gi,useExisting:Un(()=>aR),multi:!0};let aR=(()=>{class e extends x0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275dir=kt({type:e,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Vs("max",n._enabled?n.max:null)},features:[sr([eW]),En]}),e})();const tW={provide:gi,useExisting:Un(()=>lR),multi:!0};let lR=(()=>{class e extends T0{}return e.\u0275fac=(()=>{let t;return function(n){return(t||(t=zr(e)))(n||e)}})(),e.\u0275dir=kt({type:e,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,n){2&r&&Vs("min",n._enabled?n.min:null)},features:[sr([tW]),En]}),e})(),$0=(()=>{class e extends yh{constructor(){super(bh.a)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xh=(()=>{class e extends yh{constructor(){super(bh.b)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),da=(()=>{class e extends yh{constructor(){super(bh.l)}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Cs=(()=>{class e extends yh{constructor(){super(bh.m),this.angularDelegate=it(_h),this.injector=it(Wr),this.environmentInjector=it(hi)}create(r){return super.create({...r,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac}),e})();class lc extends yh{constructor(){super(bh.c),this.angularDelegate=it(_h),this.injector=it(Wr),this.environmentInjector=it(hi)}create(t){return super.create({...t,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const nW=(e,t,r)=>()=>{if(t.defaultView&&typeof window<"u"){(0,tR.s)({...e,_zoneGate:i=>r.run(i)});const o="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function $8(){var e=[];if(typeof window<"u"){var t=window;(!t.customElements||t.Element&&(!t.Element.prototype.closest||!t.Element.prototype.matches||!t.Element.prototype.remove||!t.Element.prototype.getRootNode))&&e.push(C.e(6748).then(C.t.bind(C,4061,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||t.NodeList&&!t.NodeList.prototype.forEach||!t.fetch||!function(){try{var n=new URL("b","http://a");return n.pathname="c%20d","http://a/c%20d"===n.href&&n.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&e.push(C.e(2214).then(C.t.bind(C,7386,23)))}return Promise.all(e)}().then(()=>((e,t)=>{if(!(typeof window>"u"))return B8(),(0,L8.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"disabled":[4],"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),t)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:eR,jmp:i=>r.runOutsideAngular(i),ael(i,s,a,l){i[o](s,a,l)},rel(i,s,a,l){i.removeEventListener(s,a,l)}}))}};let Qc=(()=>{class e{static forRoot(r){return{ngModule:e,providers:[{provide:Uk,useValue:r},{provide:Bp,useFactory:nW,multi:!0,deps:[Uk,mi,Ue]},{provide:Jk,useFactory:E8,deps:[zo]}]}}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({providers:[_h,Cs,lc],imports:[vl]}),e})();function cR(e,t){(function rW(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function B0(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function Th(e){return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function so(e,t,r){return(t=function iW(e){var t=function oW(e,t){if("object"!==Th(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==Th(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Th(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let $u={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function uR(e){$u=e}const dR=/[&<>"']/,sW=new RegExp(dR.source,"g"),fR=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,aW=new RegExp(fR.source,"g"),lW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},pR=e=>lW[e];function Ws(e,t){if(t){if(dR.test(e))return e.replace(sW,pR)}else if(fR.test(e))return e.replace(aW,pR);return e}const cW=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,dW=/(^|[^\[])\^/g;function hr(e,t){e="string"==typeof e?e:e.source,t=t||"";const r={replace:(n,o)=>(o=(o="object"==typeof o&&"source"in o?o.source:o).replace(dW,"$1"),e=e.replace(n,o),r),getRegex:()=>new RegExp(e,t)};return r}function hR(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const H_={exec:()=>null};function mR(e,t){const n=e.replace(/\|/g,(i,s,a)=>{let l=!1,d=s;for(;--d>=0&&"\\"===a[d];)l=!l;return l?"|":" |"}).split(/ \|/);let o=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),t)if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;o<n.length;o++)n[o]=n[o].trim().replace(/\\\|/g,"|");return n}function z_(e,t,r){const n=e.length;if(0===n)return"";let o=0;for(;o<n;){const i=e.charAt(n-o-1);if(i!==t||r){if(i===t||!r)break;o++}else o++}return e.slice(0,n-o)}function gR(e,t,r,n){const o=t.href,i=t.title?Ws(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){n.state.inLink=!0;const a={type:"link",raw:r,href:o,title:i,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:o,title:i,text:Ws(s)}}class W_{constructor(t){so(this,"options",void 0),so(this,"rules",void 0),so(this,"lexer",void 0),this.options=t||$u}space(t){const r=this.rules.block.newline.exec(t);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(t){const r=this.rules.block.code.exec(t);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:z_(n,"\n")}}}fences(t){const r=this.rules.block.fences.exec(t);if(r){const n=r[0],o=function pW(e,t){const r=e.match(/^(\s+)(?:```)/);if(null===r)return t;const n=r[1];return t.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=n.length?o.slice(n.length):o}).join("\n")}(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline._escapes,"$1"):r[2],text:o}}}heading(t){const r=this.rules.block.heading.exec(t);if(r){let n=r[2].trim();if(/#$/.test(n)){const o=z_(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){const r=this.rules.block.hr.exec(t);if(r)return{type:"hr",raw:r[0]}}blockquote(t){const r=this.rules.block.blockquote.exec(t);if(r){const n=z_(r[0].replace(/^ *>[ \t]?/gm,""),"\n"),o=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=o,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(t){let r=this.rules.block.list.exec(t);if(r){let n=r[1].trim();const o=n.length>1,i={type:"list",raw:"",ordered:o,start:o?+n.slice(0,-1):"",loose:!1,items:[]};n=o?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=o?n:"[*+-]");const s=new RegExp(`^( {0,3}${n})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",l="",d=!1;for(;t;){let f=!1;if(!(r=s.exec(t))||this.rules.block.hr.test(t))break;a=r[0],t=t.substring(a.length);let h=r[2].split("\n",1)[0].replace(/^\t+/,ye=>" ".repeat(3*ye.length)),m=t.split("\n",1)[0],b=0;this.options.pedantic?(b=2,l=h.trimStart()):(b=r[2].search(/[^ ]/),b=b>4?1:b,l=h.slice(b),b+=r[1].length);let U=!1;if(!h&&/^ *$/.test(m)&&(a+=m+"\n",t=t.substring(m.length+1),f=!0),!f){const ye=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),De=new RegExp(`^ {0,${Math.min(3,b-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),bt=new RegExp(`^ {0,${Math.min(3,b-1)}}(?:\`\`\`|~~~)`),vt=new RegExp(`^ {0,${Math.min(3,b-1)}}#`);for(;t;){const pt=t.split("\n",1)[0];if(m=pt,this.options.pedantic&&(m=m.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),bt.test(m)||vt.test(m)||ye.test(m)||De.test(t))break;if(m.search(/[^ ]/)>=b||!m.trim())l+="\n"+m.slice(b);else{if(U||h.search(/[^ ]/)>=4||bt.test(h)||vt.test(h)||De.test(h))break;l+="\n"+m}!U&&!m.trim()&&(U=!0),a+=pt+"\n",t=t.substring(pt.length+1),h=m.slice(b)}}i.loose||(d?i.loose=!0:/\n *\n *$/.test(a)&&(d=!0));let he,ee=null;this.options.gfm&&(ee=/^\[[ xX]\] /.exec(l),ee&&(he="[ ] "!==ee[0],l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!ee,checked:he,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let f=0;f<i.items.length;f++)if(this.lexer.state.top=!1,i.items[f].tokens=this.lexer.blockTokens(i.items[f].text,[]),!i.loose){const h=i.items[f].tokens.filter(b=>"space"===b.type),m=h.length>0&&h.some(b=>/\n.*\n/.test(b.raw));i.loose=m}if(i.loose)for(let f=0;f<i.items.length;f++)i.items[f].loose=!0;return i}}html(t){const r=this.rules.block.html.exec(t);if(r)return{type:"html",block:!0,raw:r[0],pre:"pre"===r[1]||"script"===r[1]||"style"===r[1],text:r[0]}}def(t){const r=this.rules.block.def.exec(t);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),o=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline._escapes,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:o,title:i}}}table(t){const r=this.rules.block.table.exec(t);if(r){if(!/[:|]/.test(r[2]))return;const n={type:"table",raw:r[0],header:mR(r[1]).map(o=>({text:o,tokens:[]})),align:r[2].replace(/^\||\| *$/g,"").split("|"),rows:r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(n.header.length===n.align.length){let i,s,a,l,o=n.align.length;for(i=0;i<o;i++){const d=n.align[i];d&&(n.align[i]=/^ *-+: *$/.test(d)?"right":/^ *:-+: *$/.test(d)?"center":/^ *:-+ *$/.test(d)?"left":null)}for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=mR(n.rows[i],n.header.length).map(d=>({text:d,tokens:[]}));for(o=n.header.length,s=0;s<o;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(o=n.rows.length,s=0;s<o;s++)for(l=n.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return n}}}lheading(t){const r=this.rules.block.lheading.exec(t);if(r)return{type:"heading",raw:r[0],depth:"="===r[2].charAt(0)?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(t){const r=this.rules.block.paragraph.exec(t);if(r){const n="\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(t){const r=this.rules.block.text.exec(t);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(t){const r=this.rules.inline.escape.exec(t);if(r)return{type:"escape",raw:r[0],text:Ws(r[1])}}tag(t){const r=this.rules.inline.tag.exec(t);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(t){const r=this.rules.inline.link.exec(t);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const s=z_(n.slice(0,-1),"\\");if((n.length-s.length)%2==0)return}else{const s=function fW(e,t){if(-1===e.indexOf(t[1]))return-1;let r=0;for(let n=0;n<e.length;n++)if("\\"===e[n])n++;else if(e[n]===t[0])r++;else if(e[n]===t[1]&&(r--,r<0))return n;return-1}(r[2],"()");if(s>-1){const l=(0===r[0].indexOf("!")?5:4)+r[1].length+s;r[2]=r[2].substring(0,s),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let o=r[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=r[3]?r[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),gR(r,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},r[0],this.lexer)}}reflink(t,r){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=r[o.toLowerCase()],!o){const i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return gR(n,o,n[0],this.lexer)}}emStrong(t,r,n=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))&&(!o[1]&&!o[2]||!n||this.rules.inline.punctuation.exec(n))){const s=[...o[0]].length-1;let a,l,d=s,f=0;const h="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(h.lastIndex=0,r=r.slice(-1*t.length+s);null!=(o=h.exec(r));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(l=[...a].length,o[3]||o[4]){d+=l;continue}if((o[5]||o[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(d-=l,d>0)continue;l=Math.min(l,l+d+f);const m=[...o[0]][0].length,b=t.slice(0,s+o.index+m+l);if(Math.min(s,l)%2){const ee=b.slice(1,-1);return{type:"em",raw:b,text:ee,tokens:this.lexer.inlineTokens(ee)}}const U=b.slice(2,-2);return{type:"strong",raw:b,text:U,tokens:this.lexer.inlineTokens(U)}}}}codespan(t){const r=this.rules.inline.code.exec(t);if(r){let n=r[2].replace(/\n/g," ");const o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Ws(n,!0),{type:"codespan",raw:r[0],text:n}}}br(t){const r=this.rules.inline.br.exec(t);if(r)return{type:"br",raw:r[0]}}del(t){const r=this.rules.inline.del.exec(t);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(t){const r=this.rules.inline.autolink.exec(t);if(r){let n,o;return"@"===r[2]?(n=Ws(r[1]),o="mailto:"+n):(n=Ws(r[1]),o=n),{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let r;if(r=this.rules.inline.url.exec(t)){let n,o;if("@"===r[2])n=Ws(r[0]),o="mailto:"+n;else{let i;do{i=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(i!==r[0]);n=Ws(r[0]),o="www."===r[1]?"http://"+r[0]:r[0]}return{type:"link",raw:r[0],text:n,href:o,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const r=this.rules.inline.text.exec(t);if(r){let n;return n=this.lexer.state.inRawBlock?r[0]:Ws(r[0]),{type:"text",raw:r[0],text:n}}}}const Wt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:H_,lheading:/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Wt.def=hr(Wt.def).replace("label",Wt._label).replace("title",Wt._title).getRegex(),Wt.bullet=/(?:[*+-]|\d{1,9}[.)])/,Wt.listItemStart=hr(/^( *)(bull) */).replace("bull",Wt.bullet).getRegex(),Wt.list=hr(Wt.list).replace(/bull/g,Wt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Wt.def.source+")").getRegex(),Wt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Wt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Wt.html=hr(Wt.html,"i").replace("comment",Wt._comment).replace("tag",Wt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Wt.lheading=hr(Wt.lheading).replace(/bull/g,Wt.bullet).getRegex(),Wt.paragraph=hr(Wt._paragraph).replace("hr",Wt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wt._tag).getRegex(),Wt.blockquote=hr(Wt.blockquote).replace("paragraph",Wt.paragraph).getRegex(),Wt.normal={...Wt},Wt.gfm={...Wt.normal,table:"^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},Wt.gfm.table=hr(Wt.gfm.table).replace("hr",Wt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wt._tag).getRegex(),Wt.gfm.paragraph=hr(Wt._paragraph).replace("hr",Wt.hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Wt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wt._tag).getRegex(),Wt.pedantic={...Wt.normal,html:hr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Wt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:H_,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:hr(Wt.normal._paragraph).replace("hr",Wt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Wt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const xt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:H_,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:H_,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/,_punctuation:"\\p{P}$+<=>`^|~"};xt.punctuation=hr(xt.punctuation,"u").replace(/punctuation/g,xt._punctuation).getRegex(),xt.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,xt.anyPunctuation=/\\[punct]/g,xt._escapes=/\\([punct])/g,xt._comment=hr(Wt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),xt.emStrong.lDelim=hr(xt.emStrong.lDelim,"u").replace(/punct/g,xt._punctuation).getRegex(),xt.emStrong.rDelimAst=hr(xt.emStrong.rDelimAst,"gu").replace(/punct/g,xt._punctuation).getRegex(),xt.emStrong.rDelimUnd=hr(xt.emStrong.rDelimUnd,"gu").replace(/punct/g,xt._punctuation).getRegex(),xt.anyPunctuation=hr(xt.anyPunctuation,"gu").replace(/punct/g,xt._punctuation).getRegex(),xt._escapes=hr(xt._escapes,"gu").replace(/punct/g,xt._punctuation).getRegex(),xt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,xt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,xt.autolink=hr(xt.autolink).replace("scheme",xt._scheme).replace("email",xt._email).getRegex(),xt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,xt.tag=hr(xt.tag).replace("comment",xt._comment).replace("attribute",xt._attribute).getRegex(),xt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,xt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,xt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,xt.link=hr(xt.link).replace("label",xt._label).replace("href",xt._href).replace("title",xt._title).getRegex(),xt.reflink=hr(xt.reflink).replace("label",xt._label).replace("ref",Wt._label).getRegex(),xt.nolink=hr(xt.nolink).replace("ref",Wt._label).getRegex(),xt.reflinkSearch=hr(xt.reflinkSearch,"g").replace("reflink",xt.reflink).replace("nolink",xt.nolink).getRegex(),xt.normal={...xt},xt.pedantic={...xt.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:hr(/^!?\[(label)\]\((.*?)\)/).replace("label",xt._label).getRegex(),reflink:hr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",xt._label).getRegex()},xt.gfm={...xt.normal,escape:hr(xt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},xt.gfm.url=hr(xt.gfm.url,"i").replace("email",xt.gfm._extended_email).getRegex(),xt.breaks={...xt.gfm,br:hr(xt.br).replace("{2,}","*").getRegex(),text:hr(xt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class Dl{constructor(t){so(this,"tokens",void 0),so(this,"options",void 0),so(this,"state",void 0),so(this,"tokenizer",void 0),so(this,"inlineQueue",void 0),this.tokens=[],this.tokens.links=Object.create(null),this.options=t||$u,this.options.tokenizer=this.options.tokenizer||new W_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:Wt.normal,inline:xt.normal};this.options.pedantic?(r.block=Wt.pedantic,r.inline=xt.pedantic):this.options.gfm&&(r.block=Wt.gfm,r.inline=this.options.breaks?xt.breaks:xt.gfm),this.tokenizer.rules=r}static get rules(){return{block:Wt,inline:xt}}static lex(t,r){return new Dl(r).lex(t)}static lexInline(t,r){return new Dl(r).inlineTokens(t)}lex(t){let r;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);r=this.inlineQueue.shift();)this.inlineTokens(r.src,r.tokens);return this.tokens}blockTokens(t,r=[]){let n,o,i,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,(a,l,d)=>l+"    ".repeat(d.length));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(n=a.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.space(t)){t=t.substring(n.raw.length),1===n.raw.length&&r.length>0?r[r.length-1].raw+="\n":r.push(n);continue}if(n=this.tokenizer.code(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?r.push(n):(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.fences(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(t)){t=t.substring(n.raw.length),o=r[r.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(o.raw+="\n"+n.raw,o.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(n=this.tokenizer.table(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(t)){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},l),"number"==typeof d&&d>=0&&(a=Math.min(a,d))}),a<1/0&&a>=0&&(i=t.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){o=r[r.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n),s=i.length!==t.length,t=t.substring(n.raw.length);continue}if(n=this.tokenizer.text(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===o.type?(o.raw+="\n"+n.raw,o.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):r.push(n);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,r}inline(t,r=[]){return this.inlineQueue.push({src:t,tokens:r}),r}inlineTokens(t,r=[]){let n,o,i,a,l,d,s=t;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(d=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(n=f.call({lexer:this},t,r))&&(t=t.substring(n.raw.length),r.push(n),!0)))){if(n=this.tokenizer.escape(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(t)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(n.raw.length),o=r[r.length-1],o&&"text"===n.type&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(t,s,d)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(t)){t=t.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(t)){t=t.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(t))){t=t.substring(n.raw.length),r.push(n);continue}if(i=t,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const h=t.slice(1);let m;this.options.extensions.startInline.forEach(b=>{m=b.call({lexer:this},h),"number"==typeof m&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(i=t.substring(0,f+1))}if(n=this.tokenizer.inlineText(i)){t=t.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(d=n.raw.slice(-1)),l=!0,o=r[r.length-1],o&&"text"===o.type?(o.raw+=n.raw,o.text+=n.text):r.push(n);continue}if(t){const f="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return r}}class Bu{constructor(t){so(this,"options",void 0),this.options=t||$u}code(t,r,n){const o=(r||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="language-'+Ws(o)+'">'+(n?t:Ws(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:Ws(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t,r){return t}heading(t,r,n){return`<h${r}>${t}</h${r}>\n`}hr(){return"<hr>\n"}list(t,r,n){const o=r?"ol":"ul";return"<"+o+(r&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t,r,n){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>\n`}table(t,r){return r&&(r=`<tbody>${r}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+r+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+t+`</${n}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,r,n){const o=hR(t);if(null===o)return n;let i='<a href="'+(t=o)+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(t,r,n){const o=hR(t);if(null===o)return n;let i=`<img src="${t=o}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(t){return t}}class j0{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,r,n){return""+n}image(t,r,n){return""+n}br(){return""}}class Il{constructor(t){so(this,"options",void 0),so(this,"renderer",void 0),so(this,"textRenderer",void 0),this.options=t||$u,this.options.renderer=this.options.renderer||new Bu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new j0}static parse(t,r){return new Il(r).parse(t)}static parseInline(t,r){return new Il(r).parseInline(t)}parse(t,r=!0){let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=i,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":{const s=i;n+=this.renderer.heading(this.parseInline(s.tokens),s.depth,this.parseInline(s.tokens,this.textRenderer).replace(cW,(t,r)=>"colon"===(r=r.toLowerCase())?":":"#"===r.charAt(0)?"x"===r.charAt(1)?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""));continue}case"code":n+=this.renderer.code(i.text,i.lang,!!i.escaped);continue;case"table":{const s=i;let a="",l="";for(let f=0;f<s.header.length;f++)l+=this.renderer.tablecell(this.parseInline(s.header[f].tokens),{header:!0,align:s.align[f]});a+=this.renderer.tablerow(l);let d="";for(let f=0;f<s.rows.length;f++){const h=s.rows[f];l="";for(let m=0;m<h.length;m++)l+=this.renderer.tablecell(this.parseInline(h[m].tokens),{header:!1,align:s.align[m]});d+=this.renderer.tablerow(l)}n+=this.renderer.table(a,d);continue}case"blockquote":{const a=this.parse(i.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const s=i,a=s.ordered,l=s.start,d=s.loose;let f="";for(let h=0;h<s.items.length;h++){const m=s.items[h],b=m.checked,U=m.task;let ee="";if(m.task){const he=this.renderer.checkbox(!!b);d?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=he+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=he+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:he+" "}):ee+=he+" "}ee+=this.parse(m.tokens,d),f+=this.renderer.listitem(ee,U,!!b)}n+=this.renderer.list(f,a,l);continue}case"html":n+=this.renderer.html(i.text,i.block);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(i.tokens));continue;case"text":{let s=i,a=s.tokens?this.parseInline(s.tokens):s.text;for(;o+1<t.length&&"text"===t[o+1].type;)s=t[++o],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}parseInline(t,r){r=r||this.renderer;let n="";for(let o=0;o<t.length;o++){const i=t[o];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const s=this.options.extensions.renderers[i.type].call({parser:this},i);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=s||"";continue}}switch(i.type){case"escape":case"text":n+=r.text(i.text);break;case"html":n+=r.html(i.text);break;case"link":n+=r.link(i.href,i.title,this.parseInline(i.tokens,r));break;case"image":n+=r.image(i.href,i.title,i.text);break;case"strong":n+=r.strong(this.parseInline(i.tokens,r));break;case"em":n+=r.em(this.parseInline(i.tokens,r));break;case"codespan":n+=r.codespan(i.text);break;case"br":n+=r.br();break;case"del":n+=r.del(this.parseInline(i.tokens,r));break;default:{const s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return n}}class Mh{constructor(t){so(this,"options",void 0),this.options=t||$u}preprocess(t){return t}postprocess(t){return t}}so(Mh,"passThroughHooks",new Set(["preprocess","postprocess"]));var G0=new WeakSet,_R=new WeakSet;function vR(e,t){return(r,n)=>{const o={...n},i={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(i.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),i.async=!0);const s=B0(this,_R,mW).call(this,!!i.silent,!!i.async);if(typeof r>"u"||null===r)return s(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof r)return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(i.hooks&&(i.hooks.options=i),i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(a=>e(a,i)).then(a=>i.walkTokens?Promise.all(this.walkTokens(a,i.walkTokens)).then(()=>a):a).then(a=>t(a,i)).then(a=>i.hooks?i.hooks.postprocess(a):a).catch(s);try{i.hooks&&(r=i.hooks.preprocess(r));const a=e(r,i);i.walkTokens&&this.walkTokens(a,i.walkTokens);let l=t(a,i);return i.hooks&&(l=i.hooks.postprocess(l)),l}catch(a){return s(a)}}}function mW(e,t){return r=>{if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const n="<p>An error occurred:</p><pre>"+Ws(r.message+"",!0)+"</pre>";return t?Promise.resolve(n):n}if(t)return Promise.reject(r);throw r}}const Vu=new class hW{constructor(...t){cR(this,_R),cR(this,G0),so(this,"defaults",{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}),so(this,"options",this.setOptions),so(this,"parse",B0(this,G0,vR).call(this,Dl.lex,Il.parse)),so(this,"parseInline",B0(this,G0,vR).call(this,Dl.lexInline,Il.parseInline)),so(this,"Parser",Il),so(this,"Renderer",Bu),so(this,"TextRenderer",j0),so(this,"Lexer",Dl),so(this,"Tokenizer",W_),so(this,"Hooks",Mh),this.use(...t)}walkTokens(t,r){let n=[];for(const o of t)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const i=o;for(const s of i.header)n=n.concat(this.walkTokens(s.tokens,r));for(const s of i.rows)for(const a of s)n=n.concat(this.walkTokens(a.tokens,r));break}case"list":n=n.concat(this.walkTokens(o.items,r));break;default:{const i=o;this.defaults.extensions?.childTokens?.[i.type]?this.defaults.extensions.childTokens[i.type].forEach(s=>{n=n.concat(this.walkTokens(i[s],r))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,r)))}}return n}use(...t){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{const o={...n};if(o.async=this.defaults.async||o.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const s=r.renderers[i.name];r.renderers[i.name]=s?function(...a){let l=i.renderer.apply(this,a);return!1===l&&(l=s.apply(this,a)),l}:i.renderer}if("tokenizer"in i){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");const s=r[i.level];s?s.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&("block"===i.level?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:"inline"===i.level&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),o.extensions=r),n.renderer){const i=this.defaults.renderer||new Bu(this.defaults);for(const s in n.renderer){const a=n.renderer[s],d=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=d.apply(i,f)),h||""}}o.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new W_(this.defaults);for(const s in n.tokenizer){const a=n.tokenizer[s],d=i[s];i[s]=(...f)=>{let h=a.apply(i,f);return!1===h&&(h=d.apply(i,f)),h}}o.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new Mh;for(const s in n.hooks){const a=n.hooks[s],d=i[s];i[s]=Mh.passThroughHooks.has(s)?f=>{if(this.defaults.async)return Promise.resolve(a.call(i,f)).then(m=>d.call(i,m));const h=a.call(i,f);return d.call(i,h)}:(...f)=>{let h=a.apply(i,f);return!1===h&&(h=d.apply(i,f)),h}}o.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,s=n.walkTokens;o.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...o}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,r){return Dl.lex(t,r??this.defaults)}parser(t,r){return Il.parse(t,r??this.defaults)}};function ir(e,t){return Vu.parse(e,t)}ir.options=ir.setOptions=function(e){return Vu.setOptions(e),uR(ir.defaults=Vu.defaults),ir},ir.getDefaults=function V0(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ir.defaults=$u,ir.use=function(...e){return Vu.use(...e),uR(ir.defaults=Vu.defaults),ir},ir.walkTokens=function(e,t){return Vu.walkTokens(e,t)},ir.parseInline=Vu.parseInline,ir.Parser=Il,ir.parser=Il.parse,ir.Renderer=Bu,ir.TextRenderer=j0,ir.Lexer=Dl,ir.lexer=Dl.lex,ir.Tokenizer=W_,ir.Hooks=Mh,ir.parse=ir;class gW extends ot{constructor(t,r){super()}schedule(t,r=0){return this}}const Z_={setInterval(e,t,...r){const{delegate:n}=Z_;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){const{delegate:t}=Z_;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},U0={now:()=>(U0.delegate||Date).now(),delegate:void 0};class Ah{constructor(t,r=Ah.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}}Ah.now=U0.now;const yW=new class vW extends Ah{constructor(t,r=Ah.now){super(t,r),this.actions=[],this._active=!1}flush(t){const{actions:r}=this;if(this._active)return void r.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}}(class _W extends gW{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,r),this}requestAsyncId(t,r,n=0){return Z_.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return r;null!=r&&Z_.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,r);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let o,n=!1;try{this.work(t)}catch(i){n=!0,o=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Je(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}});class SW extends Fn{constructor(t=1/0,r=1/0,n=U0){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;r||(n.push(t),!o&&n.push(i.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!t.closed;s+=n?1:2)t.next(i[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:o}=this,i=(o?1:2)*t;if(t<1/0&&i<n.length&&n.splice(0,n.length-i),!o){const s=r.now();let a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}}const EW=["*"];let yR=(()=>{var e;class t{constructor(){this._buttonClick$=new Fn,this.copied$=this._buttonClick$.pipe(Qr(()=>Ca(Bt(!0),function CW(e=0,t,r=yW){let n=-1;return null!=t&&(ga(t)?r=t:n=t),new Dn(o=>{let i=function bW(e){return e instanceof Date&&!isNaN(e)}(e)?+e-r.now():e;i<0&&(i=0);let s=0;return r.schedule(function(){o.closed||(o.next(s++),0<=n?this.schedule(void 0,n):o.complete())},i)})}(3e3).pipe(MM(!1)))),Js(),function wW(e,t,r){let n,o=!1;return e&&"object"==typeof e?({bufferSize:n=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:r}=e):n=e??1/0,Sa({connector:()=>new SW(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(xM(!1),sn(n=>n?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[Ig],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(n,o){1&n&&(G(0,"button",0),Ne("click",function(){return o.onCopyToClipboardClick()}),ml(1,"async"),Ce(2),ml(3,"async"),L()),2&n&&(sa("copied",gl(1,3,o.copied$)),me(2),Ui(gl(3,5,o.copiedText$)))},dependencies:[IT],encapsulation:2,changeDetection:0}),t})();const xW=new Te("CLIPBOARD_OPTIONS");var H0=function(e){return e.CommandLine="command-line",e.LineHighlight="line-highlight",e.LineNumbers="line-numbers",e}(H0||{});const bR=new Te("MARKED_EXTENSIONS"),CR=new Te("MARKED_OPTIONS"),SR=new Te("SECURITY_CONTEXT");let z0=(()=>{var e;class t{get options(){return this._options}set options(n){this._options={...this.DEFAULT_MARKED_OPTIONS,...n}}get renderer(){return this.options.renderer}set renderer(n){this.options.renderer=n}constructor(n,o,i,s,a,l,d){this.clipboardOptions=n,this.extensions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=d,this.DEFAULT_MARKED_OPTIONS={renderer:new Bu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Fn,this.reload$=this._reload$.asObservable(),this.options=i}parse(n,o=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:i,inline:s,emoji:a,mermaid:l,disableSanitizer:d}=o,f={...this.options,...o.markedOptions},h=f.renderer||this.renderer||new Bu;this.extensions&&(this.renderer=this.extendsRendererForExtensions(h)),l&&(this.renderer=this.extendsRendererForMermaid(h));const m=this.trimIndentation(n),b=i?this.decodeHtml(m):m,U=a?this.parseEmoji(b):b,ee=this.parseMarked(U,f,s);return(d?ee:this.sanitizer.sanitize(this.securityContext,ee))||""}render(n,o=this.DEFAULT_RENDER_OPTIONS,i){const{clipboard:s,clipboardOptions:a,katex:l,katexOptions:d,mermaid:f,mermaidOptions:h}=o;s&&this.renderClipboard(n,i,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...a}),l&&this.renderKatex(n,{...this.DEFAULT_KATEX_OPTIONS,...d}),f&&this.renderMermaid(n,{...this.DEFAULT_MERMAID_OPTIONS,...h}),this.highlight(n)}reload(){this._reload$.next()}getSource(n){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(n,{responseType:"text"}).pipe(sn(o=>this.handleExtension(n,o)))}highlight(n){if(!Kd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;n||(n=document);const o=n.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(o,i=>i.classList.add("language-none")),Prism.highlightAllUnder(n)}decodeHtml(n){if(!Kd(this.platform))return n;const o=document.createElement("textarea");return o.innerHTML=n,o.value}extendsRendererForExtensions(n){const o=n;return!0===o.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&ir.use(...this.extensions),o.\u0275NgxMarkdownRendererExtendedForExtensions=!0),n}extendsRendererForMermaid(n){const o=n;if(!0===o.\u0275NgxMarkdownRendererExtendedForMermaid)return n;const i=n.code;return n.code=function(s,a,l){return"mermaid"===a?`<div class="mermaid">${s}</div>`:i.call(this,s,a,l)},o.\u0275NgxMarkdownRendererExtendedForMermaid=!0,n}handleExtension(n,o){const i=n.lastIndexOf("://"),s=i>-1?n.substring(i+4):n,a=s.lastIndexOf("/"),l=a>-1?s.substring(a+1).split("?")[0]:"",d=l.lastIndexOf("."),f=d>-1?l.substring(d+1):"";return f&&"md"!==f?"```"+f+"\n"+o+"\n```":o}parseMarked(n,o,i=!1){return o.renderer&&(ir.use({renderer:o.renderer}),delete o.renderer),i?ir.parseInline(n,o):ir.parse(n,o)}parseEmoji(n){if(!Kd(this.platform))return n;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(n)}renderKatex(n,o){if(Kd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(n,o)}}renderClipboard(n,o,i){if(!Kd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!o)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:s,buttonTemplate:a}=i,l=n.querySelectorAll("pre");for(let d=0;d<l.length;d++){const f=l.item(d),h=document.createElement("div");h.style.position="relative",f.parentNode.insertBefore(h,f),h.appendChild(f);const m=document.createElement("div");let b,U;m.style.position="absolute",m.style.top=".5em",m.style.right=".5em",m.style.opacity="0",m.style.transition="opacity 250ms ease-out",h.insertAdjacentElement("beforeend",m),f.onmouseover=()=>m.style.opacity="1",f.onmouseout=()=>m.style.opacity="0",b=s?o.createComponent(s).hostView:a?o.createEmbeddedView(a):o.createComponent(yR).hostView,b.rootNodes.forEach(ee=>{ee.onmouseover=()=>m.style.opacity="1",m.appendChild(ee),U=new ClipboardJS(ee,{text:()=>f.innerText})}),b.onDestroy(()=>U.destroy())}}renderMermaid(n,o=this.DEFAULT_MERMAID_OPTIONS){if(!Kd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const i=n.querySelectorAll(".mermaid");0!==i.length&&(mermaid.initialize(o),mermaid.run({nodes:i}))}trimIndentation(n){if(!n)return"";let o;return n.split("\n").map(i=>{let s=o;return i.length>0&&(s=isNaN(s)?i.search(/\S|$/):Math.min(i.search(/\S|$/),s)),isNaN(o)&&(o=s),s?i.substring(s):i}).join("\n")}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(xW,8),ue(bR,8),ue(CR,8),ue(kc),ue(SR),ue(xC,8),ue(wC))},e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})(),W0=(()=>{var e;class t{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(n){this._disableSanitizer=this.coerceBooleanProperty(n)}get inline(){return this._inline}set inline(n){this._inline=this.coerceBooleanProperty(n)}get clipboard(){return this._clipboard}set clipboard(n){this._clipboard=this.coerceBooleanProperty(n)}get emoji(){return this._emoji}set emoji(n){this._emoji=this.coerceBooleanProperty(n)}get katex(){return this._katex}set katex(n){this._katex=this.coerceBooleanProperty(n)}get mermaid(){return this._mermaid}set mermaid(n){this._mermaid=this.coerceBooleanProperty(n)}get lineHighlight(){return this._lineHighlight}set lineHighlight(n){this._lineHighlight=this.coerceBooleanProperty(n)}get lineNumbers(){return this._lineNumbers}set lineNumbers(n){this._lineNumbers=this.coerceBooleanProperty(n)}get commandLine(){return this._commandLine}set commandLine(n){this._commandLine=this.coerceBooleanProperty(n)}constructor(n,o,i){this.element=n,this.markdownService=o,this.viewContainerRef=i,this.error=new en,this.load=new en,this.ready=new en,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Fn}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(AM(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(n,o=!1){var i=this;return(0,V.Z)(function*(){const s={decodeHtml:o,inline:i.inline,emoji:i.emoji,mermaid:i.mermaid,disableSanitizer:i.disableSanitizer},a={clipboard:i.clipboard,clipboardOptions:{buttonComponent:i.clipboardButtonComponent,buttonTemplate:i.clipboardButtonTemplate},katex:i.katex,katexOptions:i.katexOptions,mermaid:i.mermaid,mermaidOptions:i.mermaidOptions},l=yield i.markdownService.parse(n,s);i.element.nativeElement.innerHTML=l,i.handlePlugins(),i.markdownService.render(i.element.nativeElement,a,i.viewContainerRef),i.ready.emit()})()}coerceBooleanProperty(n){return null!=n&&"false"!=`${String(n)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:n=>{this.render(n).then(()=>{this.load.emit(n)})},error:n=>this.error.emit(n)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,H0.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,H0.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++){const a=o instanceof Array?o:[o];i.item(s).classList.add(...a)}}setPluginOptions(n,o){const i=n.querySelectorAll("pre");for(let s=0;s<i.length;s++)Object.keys(o).forEach(a=>{const l=o[a];if(l){const d=this.toLispCase(a);i.item(s).setAttribute(d,l.toString())}})}toLispCase(n){const o=n.match(/([A-Z])/g);if(!o)return n;let i=n.toString();for(let s=0,a=o.length;s<a;s++)i=i.replace(new RegExp(o[s]),"-"+o[s].toLowerCase());return"-"===i.slice(0,1)&&(i=i.slice(1)),i}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rt),v(z0),v(vs))},e.\u0275cmp=Ze({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[nr,Ig],ngContentSelectors:EW,decls:1,vars:0,template:function(n,o){1&n&&(_t(),gt(0))},encapsulation:2}),t})();function NW(e){return[z0,e?.loader??[],e?.clipboardOptions??[],e?.markedOptions??[],{provide:bR,useValue:e?.markedExtensions??[]},{provide:SR,useValue:e?.sanitize??$s.HTML}]}let Z0=(()=>{var e;class t{static forRoot(n){return{ngModule:t,providers:[NW(n)]}}static forChild(){return{ngModule:t}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[vl]}),t})();var wR;!function(e){let t;var o;let r,n;(o=t=e.SecurityLevel||(e.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(r=e.Theme||(e.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(n=e.LogLevel||(e.LogLevel={}))}(wR||(wR={}));const ER="safari"in window,q_=!navigator.userAgent.match(/(crios)|(fxios)/i),Si=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,kh=!!navigator.userAgent.match(/ 17_4 /),DR=!!navigator.userAgent.match(/android/i),LW=navigator.userAgent.toLowerCase().indexOf("firefox")>=0;var ju=function(e){return e.web="web",e.pwa="pwa",e.twa="twa",e}(ju||{});new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const VW=new Error("request for lock canceled");class GW{constructor(t,r=VW){this._value=t,this._cancelError=r,this._weightedQueues=[],this._weightedWaiters=[]}acquire(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise((r,n)=>{this._weightedQueues[t-1]||(this._weightedQueues[t-1]=[]),this._weightedQueues[t-1].push({resolve:r,reject:n}),this._dispatch()})}runExclusive(t,r=1){return function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(h){s(h)}}function l(f){try{d(n.throw(f))}catch(h){s(h)}}function d(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}d((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){const[n,o]=yield this.acquire(r);try{return yield t(n)}finally{o()}})}waitForUnlock(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);return new Promise(r=>{this._weightedWaiters[t-1]||(this._weightedWaiters[t-1]=[]),this._weightedWaiters[t-1].push(r),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(t){this._value=t,this._dispatch()}release(t=1){if(t<=0)throw new Error(`invalid weight ${t}: must be positive`);this._value+=t,this._dispatch()}cancel(){this._weightedQueues.forEach(t=>t.forEach(r=>r.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var t;for(let r=this._value;r>0;r--){const n=null===(t=this._weightedQueues[r-1])||void 0===t?void 0:t.shift();if(!n)continue;const o=this._value,i=r;this._value-=r,r=this._value+1,n.resolve([o,this._newReleaser(i)])}this._drainUnlockWaiters()}_newReleaser(t){let r=!1;return()=>{r||(r=!0,this.release(t))}}_drainUnlockWaiters(){for(let t=this._value;t>0;t--)this._weightedWaiters[t-1]&&(this._weightedWaiters[t-1].forEach(r=>r()),this._weightedWaiters[t-1]=[])}}class xl{constructor(t){this._semaphore=new GW(1,t)}acquire(){return e=this,t=void 0,n=function*(){const[,t]=yield this._semaphore.acquire();return t},new((r=void 0)||(r=Promise))(function(i,s){function a(f){try{d(n.next(f))}catch(h){s(h)}}function l(f){try{d(n.throw(f))}catch(h){s(h)}}function d(f){f.done?i(f.value):function o(i){return i instanceof r?i:new r(function(s){s(i)})}(f.value).then(a,l)}d((n=n.apply(e,t||[])).next())});var e,t,r,n}runExclusive(t){return this._semaphore.runExclusive(()=>t())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const Y_="cloudpilot-session-preview";function xR(){localStorage.removeItem(Y_)}function zn(){return(e,t,r)=>{const n=r.value;let o=!1;return r.value=(0,V.Z)(function*(...i){if(!o){o=!0;try{return yield n.apply(this,i)}finally{o=!1}}}),r}}let cc=(()=>{var e;class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(n){this.currentSession=n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var yf;class ao{constructor(t,r){this.alertController=t,this.emulationState=r,this.emergencySaveEvent=new io.j,this.sanitizeDiv=document.createElement("div")}errorMessage(t,r="Close"){var n=this;return(0,V.Z)(function*(){const o=yield n.alertController.create({header:"Error",backdropDismiss:!1,message:n.sanitizeMessage(t),buttons:[{text:r,role:"cancel"}],cssClass:"alert-error"});yield o.present(),yield o.onDidDismiss()})()}message(t,r,n={},o="Close"){var i=this;return(0,V.Z)(function*(){const s=yield i.alertController.create({header:t,message:i.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:o,role:"cancel"},...Object.keys(n).map(a=>({text:a,handler:()=>{n[a](),s.dismiss()}}))],cssClass:"alert-message"});yield s.present(),yield s.onDidDismiss()})()}messageWithChoice(t,r,n,o,i={},s="Close"){var a=this;return(0,V.Z)(function*(){const l=yield a.alertController.create({header:t,message:a.sanitizeMessage(r),backdropDismiss:!1,buttons:[{text:s,role:"cancel"},...Object.keys(i).map(d=>({text:d,handler:()=>{i[d](),l.dismiss()}}))],inputs:[{type:"checkbox",label:n,checked:!1,handler:d=>o=!0===d.checked,cssClass:"alert-checkbox"}],cssClass:"alert-checkbox-no-border alert-message"});return yield l.present(),yield l.onDidDismiss(),o})()}updateAvailable(t){var r=this;return(0,V.Z)(function*(){const n=yield r.alertController.create({header:"Update available",message:'An update is ready for installation. Select "install" to install it and restart the app now.',backdropDismiss:!1,buttons:[{text:"Install",handler:t},{text:"Close",role:"cancel"}]});yield n.present(),yield n.onDidDismiss()})()}fatalError(t,r=!0){var n=this;return(0,V.Z)(function*(){const o=!!n.emulationState.getCurrentSession(),i=yield n.alertController.create({header:"Error",message:n.sanitizeMessage(`\n                ${t}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&r?" You may save an image of your current session before reloading.":""}\n            `),backdropDismiss:!1,buttons:[...o&&r?[{text:"Save image",handler:()=>(n.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"alert-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(t){var r=this;return(0,V.Z)(function*(){const n=yield r.alertController.create({header:"Error",message:r.sanitizeMessage(`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${t}.\n                <br/><br/>\n                Please close or reload this window.\n            `),backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield n.present(),yield n.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}sanitizeMessage(t){return new tR.I(t.replace(/<br\s*\/?>/g,"<br/>").replace(/\n/gm," ").split("<br/>").map(r=>(this.sanitizeDiv.textContent=r,this.sanitizeDiv.innerHTML)).join("<br/>"))}}(yf=ao).\u0275fac=function(t){return new(t||yf)(ue($0),ue(cc))},yf.\u0275prov=M({token:yf,factory:yf.\u0275fac,providedIn:"root"}),re([zn()],ao.prototype,"updateAvailable",null),re([zn()],ao.prototype,"fatalError",null),re([zn()],ao.prototype,"errorInNativeCode",null);let Gu=(()=>{var e;class t{constructor(n,o){this.alertService=n,this.ngZone=o,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=i=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${i}.`),this.fatalInNativeCode=i=>this.fatalWithMessage(i.message,!0,!1),this.fatalWithMessage=(i,s=!0,a=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,s&&xR(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(i,a))}),this.fatalErrorEvent=new io.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ao),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Er=function(e){return e.cloudpilot="cloudpilot",e.fstools="fstools",e.vfs="vfs",e.none="none",e}(Er||{});let Rh=(()=>{var e;class t{constructor(n){this.errorService=n,this.ownershipMmap=new Map}getOwner(n){return this.ownershipMmap.get(n)??Er.none}claim(n,o){this.assertOwnership(n,Er.none),this.ownershipMmap.set(n,o)}release(n,o){this.assertOwnership(n,o),this.ownershipMmap.delete(n)}assertOwnership(n,o){if(this.getOwner(n)===o)return;const i=o===Er.none?`Card alread claimed for ${this.getOwner(n)}.`:`Expected card ownership to be ${o}, but is ${this.getOwner(n)}.`;throw this.errorService.fatalBug(i),new Error(i)}transferOwnership(n,o,i){this.assertOwnership(n,o),this.ownershipMmap.set(n,i)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Gu))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Jc="session",bf="rom",eu="memory",uc="state",K_="kvs",tu="memory-meta",Tl="storage",Zs="storage-card",Ph="lock";class Uu extends Error{constructor(t){super(t)}}function Kn(e){return new Promise((t,r)=>{!function YW(e){return!!e.abort}(e)?e.onsuccess=()=>t(e.result):e.oncomplete=()=>t(void 0),e.onerror=()=>r(new Uu(e.error?.message))})}function MR(e){let t=255&e[0];t|=t<<8,t|=t<<16;for(let r=0;r<256;r++)if(e[r]!==t)return e;return 255&e[0]}function KW(e){const t=e[0];for(let r=1;r<2048;r++)if(e[r]!==t)return e;return t}const X_="session",Y0="memory",kR="storage-meta",RR="storage-card";function K0(){return(K0=(0,V.Z)(function*(e,t){function r(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!t)throw new Error("no version change transaction!");const o=t.objectStore(X_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value,d={...l,totalMemory:1024*l.ram*1024+r(l.device)};a.update(d),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function X0(){return(X0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=t.objectStore("kvs"),n=yield new Promise((o,i)=>{const s=r.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});n&&(r.put(n,"credentials"),r.delete("proxyCredentials"))})).apply(this,arguments)}function Q0(){return(Q0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");const r=e.createObjectStore("memory-meta",{keyPath:"sessionId"});e.createObjectStore("storage"),e.createObjectStore(kR,{keyPath:"id",autoIncrement:!0});const o=t.objectStore(X_).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const l=a.value;void 0!==l.totalMemory&&(r.put({sessionId:l.id,totalSize:l.totalMemory}),delete l.totalMemory,a.update(l)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function J0(){return(J0=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(kR).name=RR})).apply(this,arguments)}function eS(){return(eS=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");t.objectStore(RR).createIndex("storageId","storageId")})).apply(this,arguments)}function tS(){return(tS=(0,V.Z)(function*(e,t){if(!t)throw new Error("no version change transaction!");e.createObjectStore("lock")})).apply(this,arguments)}const u9=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function PR(e){let t=-1;for(let r=0;r<e.length;r++)t=u9[255&(t^e[r])]^t>>>8;return~t}var d9=C(3219),f9=C.n(d9);const OR={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Q_;const p9=new Uint8Array(16);function h9(){if(!Q_&&(Q_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q_(p9)}const wi=[];for(let e=0;e<256;++e)wi.push((e+256).toString(16).slice(1));const nS=function m9(e,t,r){if(OR.randomUUID&&!t&&!e)return OR.randomUUID();const n=(e=e||{}).random||(e.rng||h9)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let o=0;o<16;++o)t[r+o]=n[o];return t}return function FR(e,t=0){return wi[e[t+0]]+wi[e[t+1]]+wi[e[t+2]]+wi[e[t+3]]+"-"+wi[e[t+4]]+wi[e[t+5]]+"-"+wi[e[t+6]]+wi[e[t+7]]+"-"+wi[e[t+8]]+wi[e[t+9]]+"-"+wi[e[t+10]]+wi[e[t+11]]+wi[e[t+12]]+wi[e[t+13]]+wi[e[t+14]]+wi[e[t+15]]}(n)};var Cf;const rS=new Error("page lock lost"),NR=new Error("version mismatch"),LR=nS();function xo(){return(e,t,r)=>{const n=r.value;return r.value=(0,V.Z)(function*(...o){const i=this.errorService;try{return yield n.apply(this,o)}catch(s){throw console.error(s),s instanceof Uu?i.fatalIDBDead():s===NR?i.fatalVersionMismatch():s===rS?i.fatalPageLockLost():s instanceof Error?i.fatalBug(s?.message):i.fatalBug("unknown reason"),s}}),r}}class rr{constructor(t,r,n){this.ngZone=t,this.errorService=r,this.storageCardContext=n,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(eu),l=o.objectStore(tu),d=new Uint32Array(256),f=new Uint8Array(d.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),l.put({sessionId:i,totalSize:s.length});const m=s.length>>>10;for(let b=0;b<m;b++){f.set(s.subarray(1024*b,1024*(b+1)));const U=MR(d);if("number"==typeof U)a.put(U,[i,b]);else{const ee=new Uint32Array(256);ee.set(U),a.put(ee,[i,b])}}}),this.loadMemory=(o,i,s)=>this.ngZone.runOutsideAngular((0,V.Z)(function*(){const a=o.objectStore(tu),l=yield Kn(a.get(i));if(!l)return;const d=yield new Promise(function(){var f=(0,V.Z)(function*(h,m){const b=o.objectStore(eu),U=new Uint32Array(l.totalSize>>>2),ee=b.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));ee.onsuccess=()=>{const he=ee.result;if(!he)return h(new Uint8Array(U.buffer));const ye=he.value,[,De]=he.key;"number"==typeof ye?U.subarray(256*De,256*(De+1)).fill(ye|ye<<8|ye<<16|ye<<24):U.subarray(256*De,256*(De+1)).set(1024===ye.length?new Uint32Array(ye.buffer):ye),he.continue()},ee.onerror=()=>m(new Uu(ee.error?.message))});return function(h,m){return f.apply(this,arguments)}}());if(void 0!==l.crc32&&s&&l.crc32!==PR(d))throw new Error("snapshot CRC mismatch");return d})),this.sessionChangeEvent=new io.j,this.storageCardChangeEvent=new io.j,this.sessionUpdateMutex=new xl,this.db=this.requestPersistentStorage().then(()=>t.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(t,r,n,o){var i=this;return(0,V.Z)(function*(){const s=f9()(r),a=yield i.newTransaction(Jc,bf,uc,eu,tu),l=a.objectStore(Jc),d=a.objectStore(bf);(yield Kn(d.get(s)))||d.put(r,s);const{id:h,...m}=t,b=yield Kn(l.add({...m,rom:s})),U=yield Kn(l.get(b));return n&&i.saveMemory(a,U.id,n),o&&i.saveState(a,U.id,o),yield Kn(a),U})()}getAllSessions(){var t=this;return(0,V.Z)(function*(){const[r]=yield t.prepareObjectStore(Jc);return yield Kn(r.getAll())})()}getSession(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(Jc);return yield Kn(n.get(t))})()}deleteSession(t){var r=this;return(0,V.Z)(function*(){const n=yield r.newTransaction(Jc,bf,uc,eu,tu),o=n.objectStore(Jc),i=n.objectStore(bf);(t=yield Kn(o.get(t.id)))&&(o.delete(t.id),0===(yield Kn(o.index("rom").getAll(t.rom))).length&&i.delete(t.rom),r.deleteMemory(n,t.id),r.deleteState(n,t.id),yield Kn(n),r.sessionChangeEvent.dispatch([t.id,void 0]))})()}updateSessionPartial(t,r){var n=this;return this.sessionUpdateMutex.runExclusive((0,V.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...l}=r,[d,f]=yield n.prepareObjectStore(Jc),h=yield Kn(d.get(t));if(!h)throw new Error(`no session with id ${t}`);const m={...h,...l};d.put(m),yield Kn(f),n.sessionChangeEvent.dispatch([h.id,m])}))}updateSession(t){var r=this;return this.sessionUpdateMutex.runExclusive((0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(Jc),i=yield Kn(n.get(t.id));if(!i)throw new Error(`no session with id ${t.id}`);if(i.rom!==t.rom)throw new Error("attempt to change ROM reference");if(i.ram!==t.ram)throw new Error("attempt to change RAM size");if(i.device!==t.device)throw new Error("attempt to change device type");n.put(t),yield Kn(o),r.sessionChangeEvent.dispatch([t.id,t])}))}loadSession(t,r){var n=this;return(0,V.Z)(function*(){const o=yield n.newTransaction(bf,uc,eu,tu),i=o.objectStore(bf);return[yield Kn(i.get(t.rom)),yield n.loadMemory(o,t.id,r),yield n.loadState(o,t.id)]})()}deleteStateForSession(t){var r=this;return(0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(uc);n.delete(t.id),yield Kn(o)})()}addEmptyStorageCard(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(Zs),o=yield Kn(n.add(t)),i=yield Kn(n.get(o));return r.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(t,r){var n=this;return(0,V.Z)(function*(){return n.ngZone.runOutsideAngular((0,V.Z)(function*(){const o=yield n.newTransaction(Zs,Tl),i=o.objectStore(Zs),s=o.objectStore(Tl),a=yield Kn(i.add(t)),l=(t.size>>>13)+(r.length%8192==0?0:1),d=new Uint32Array(2048);for(let h=0;h<l;h++){const m=r.subarray(2048*h,2048*(h+1));h===l-1&&d.set(m);const b=KW(h===l-1?d:m);0!==b&&s.put("number"==typeof b?b:b?.slice(),[a,h])}const f=yield Kn(i.get(a));return yield Kn(o),n.storageCardChangeEvent.dispatch(f.id),f}))})()}getAllStorageCards(){var t=this;return(0,V.Z)(function*(){const[r]=yield t.prepareObjectStore(Zs);return Kn(r.getAll())})()}getCard(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(Zs);return Kn(n.get(t))})()}updateStorageCardPartial(t,r){var n=this;return(0,V.Z)(function*(){const{storageId:o,size:i,id:s,...a}=r,[l,d]=yield n.prepareObjectStore(Zs),f=yield Kn(l.get(t));if(!f)throw new Error(`no card with id ${t}`);const h={...f,...a};l.put(h),yield Kn(d),n.storageCardChangeEvent.dispatch(t)})()}deleteStorageCard(t){var r=this;return(0,V.Z)(function*(){const n=yield r.newTransaction(Zs,Tl);r.storageCardContext.assertOwnership(t,Er.none);const o=n.objectStore(Zs),i=n.objectStore(Tl);o.delete(t),i.delete(IDBKeyRange.bound([t,0],[t+1,0],!1,!0)),yield Kn(n),r.storageCardChangeEvent.dispatch(t)})()}loadCardData(t,r,n){var o=this;return this.ngZone.runOutsideAngular((0,V.Z)(function*(){r.fill(0);const i=yield o.newTransaction(Zs,Tl);o.storageCardContext.assertOwnership(t,n);const s=i.objectStore(Tl);yield new Promise(function(){var a=(0,V.Z)(function*(l,d){const f=s.openCursor(IDBKeyRange.bound([t,0],[t+1,0],!1,!0));f.onsuccess=()=>{const h=f.result;if(!h)return l();let m=h.value;const[,b]=h.key;"number"==typeof m?r.subarray(2048*b,2048*(b+1)).fill(m):(2048*(b+1)>r.length&&(m=m.subarray(0,2048-2048*(b+1)+r.length)),r.subarray(2048*b,2048*(b+1)).set(m)),h.continue()},f.onerror=()=>d(new Uu(f.error?.message))});return function(l,d){return a.apply(this,arguments)}}())}))}updateCardData(t,r,n,o){var i=this;return this.ngZone.runOutsideAngular((0,V.Z)(function*(){const s=yield i.newTransaction(Zs,Tl);i.storageCardContext.assertOwnership(t,o);const a=s.objectStore(Zs),l=s.objectStore(Tl),d=yield Kn(a.get(t));if(!d)throw new Error(`no card with ID ${t}`);if(r.length!==d.size>>>2)throw new Error("data size mismatch");const f=(d.size>>>13)+(d.size%8192>0?1:0);if((f>>>3)+(f%8>0?1:0)!==n.length)throw new Error("dirty pages size mismatch");let h=0;for(let m=0;m<n.length;m++)for(let b=1;b<256&&!(h>=f);b<<=1)n[m]&b&&l.put(r.subarray(2048*h,2048*(h+1)).slice(),[d.id,h]),h++;yield Kn(s)}))}kvsGet(t){var r=this;return(0,V.Z)(function*(){const[n]=yield r.prepareObjectStore(K_);return Kn(n.get(t))})()}kvsSet(t){var r=this;return(0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(K_);for(const i of Object.keys(t))n.put(t[i],i);yield Kn(o)})()}kvsLoad(){var t=this;return(0,V.Z)(function*(){const[r]=yield t.prepareObjectStore(K_);return new Promise((n,o)=>{const i={},s=r.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return n(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new Uu(s.error?.message))})})()}kvsDelete(t){var r=this;return(0,V.Z)(function*(){const[n,o]=yield r.prepareObjectStore(K_);n.delete(t),yield Kn(o)})()}acquireLock(t){var r=this;return(0,V.Z)(function*(){if(r.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Kn(t.objectStore(Ph).get(0)))!==LR)throw t.abort(),t.db.close(),rS})()}newTransaction(...t){var r=this;return(0,V.Z)(function*(){const n=(yield r.db).transaction([Ph,...t],"readwrite",{durability:"relaxed"});return yield r.acquireLock(n),n})()}prepareObjectStore(t){var r=this;return(0,V.Z)(function*(){const n=yield r.newTransaction(t);return[n.objectStore(t),n]})()}saveState(t,r,n){const o=t.objectStore(uc);n?o.put(n,r):o.delete(r)}deleteState(t,r){t.objectStore(uc).delete(r)}loadState(t,r){return Kn(t.objectStore(uc).get(r))}deleteMemory(t,r){const n=t.objectStore(eu),o=t.objectStore(tu);n.delete(IDBKeyRange.bound([r,0],[r+1,0],!1,!0)),o.delete(r)}initializeLock(t){return(0,V.Z)(function*(){const r=t.transaction(Ph,"readwrite");yield Kn(r.objectStore(Ph).put(LR,0))})()}setupDb(){var t=this;return(0,V.Z)(function*(){const r=setTimeout(()=>Si&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(r),o&&void 0!==o.version&&o.version>9)throw NR}const n=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new Uu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onblocked=()=>{i(new Uu("failed to open DB: required upgrade blocked by an open instance of CloudPilotEmu"))},s.onupgradeneeded=function(){var a=(0,V.Z)(function*(l){clearTimeout(r),l.oldVersion<1&&function n9(e){e.createObjectStore(X_,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),e.createObjectStore("state")}(s.result),l.oldVersion<2&&function r9(e,t){if(!t)throw new Error("no version change transaction!");e.objectStoreNames.contains("rom")&&e.deleteObjectStore("rom"),e.objectStoreNames.contains(Y0)&&e.deleteObjectStore(Y0),t.objectStore(X_).clear(),e.createObjectStore("rom"),e.createObjectStore(Y0),e.createObjectStore("kvs")}(s.result,s.transaction),l.oldVersion<4&&(yield function o9(e,t){return K0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<5&&(yield function i9(e,t){return X0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<6&&(yield function s9(e,t){return Q0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<7&&(yield function a9(e,t){return J0.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<8&&(yield function l9(e,t){return eS.apply(this,arguments)}(s.result,s.transaction)),l.oldVersion<9&&(yield function c9(e,t){return tS.apply(this,arguments)}(s.result,s.transaction))});return function(l){return a.apply(this,arguments)}}()});return yield t.initializeLock(n),n}finally{clearTimeout(r)}})()}requestPersistentStorage(){return(0,V.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(t){console.warn(t),console.log("failed to request persistent storage")}})()}}(Cf=rr).\u0275fac=function(t){return new(t||Cf)(ue(Ue),ue(Gu),ue(Rh))},Cf.\u0275prov=M({token:Cf,factory:Cf.\u0275fac,providedIn:"root"}),re([xo()],rr.prototype,"addSession",null),re([xo()],rr.prototype,"getAllSessions",null),re([xo()],rr.prototype,"getSession",null),re([xo()],rr.prototype,"deleteSession",null),re([xo()],rr.prototype,"updateSessionPartial",null),re([xo()],rr.prototype,"updateSession",null),re([xo()],rr.prototype,"loadSession",null),re([xo()],rr.prototype,"deleteStateForSession",null),re([xo()],rr.prototype,"addEmptyStorageCard",null),re([xo()],rr.prototype,"importStorageCard",null),re([xo()],rr.prototype,"getAllStorageCards",null),re([xo()],rr.prototype,"getCard",null),re([xo()],rr.prototype,"updateStorageCardPartial",null),re([xo()],rr.prototype,"deleteStorageCard",null),re([xo()],rr.prototype,"loadCardData",null),re([xo()],rr.prototype,"kvsGet",null),re([xo()],rr.prototype,"kvsSet",null),re([xo()],rr.prototype,"kvsDelete",null),re([xo()],rr.prototype,"newTransaction",null),re([xo()],rr.prototype,"prepareObjectStore",null),re([xo()],rr.prototype,"initializeLock",null),re([xo()],rr.prototype,"setupDb",null);const $R={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1,snapshotIntegrityCheck:!1};let Ri=(()=>{var e;class t{constructor(n){var o=this;this.storageService=n,this.set=i=>this.storageMutex.runExclusive((0,V.Z)(function*(){yield o.storageService.kvsSet(i);for(const s of Object.keys(i))o.rawKvs[s]=i[s];o.updateEvent.dispatch()})),this.updateEvent=new io.j,this.mutex=new xl,this.storageMutex=new xl,this.initializationPromise=this.startInitialiation()}initialize(){var n=this;return(0,V.Z)(function*(){return n.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var n=this;return(0,V.Z)(function*(){const o=n;try{const i={...$R,...yield n.storageService.kvsLoad()};n.rawKvs=i,n.kvsProxy=new Proxy(i,{set:(s,a,l)=>(s[a]=l,o.storageMutex.runExclusive(()=>o.storageService.kvsSet({[a]:l})),o.updateEvent.dispatch(),!0),deleteProperty:(s,a)=>(delete s[a],o.storageMutex.runExclusive(()=>o.storageService.kvsDelete(a)),o.updateEvent.dispatch(),!0)})}catch(i){console.error("failed to load KVS"),console.error(i),n.kvsProxy={...$R}}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(rr))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const J_='\n    <br/><br/>\n    WARNING: This may be currently broken within the European Union. Please check the "About"\n    for details.\n';let oS=(()=>{var e;class t{constructor(n,o){var i=this;this.kvsService=n,this.alertService=o,this.serviceWorkerKeepalive=(0,V.Z)(function*(){if(navigator.serviceWorker)try{const s=yield navigator.serviceWorker.getRegistration();s?.active?.postMessage&&s.active.postMessage({})}catch{}setTimeout(i.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(Si||DR)&&this.installationMode===ju.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){this.promptForInstall()&&(this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage())))}getInstallMessage(){return Si&&q_?'\n    Tap the "Share" icon in the browser toolbar\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n'+(kh?J_:""):Si?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon in the browser toolbar\n    and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'+(kh?J_:""):'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return Si&&q_?'\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    in the browser toolbar and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n'+(kh?J_:""):Si?'\n    Howdy! It seems that you are using an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon in the browser toolbar\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'+(kh?J_:""):'\n    Howdy! It seems that you are using an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?ju.pwa:document.referrer.startsWith("android-app://")?ju.twa:window.matchMedia("(display-mode: standalone)").matches?ju.pwa:ju.web}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ri),ue(ao))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function w9(e,t){1&e&&(G(0,"div",5),je(1,"ion-spinner"),L())}let Hu=(()=>{var e;class t{constructor(n){this.modalController=n,this.title="Help",this.loading=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Cs))},e.\u0275cmp=Ze({type:e,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(n,o){1&n&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),G(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.modalController.dismiss()}),Ce(6,"Close"),L()()()(),G(7,"ion-content",2),zt(8,w9,2,0,"div",3),G(9,"markdown",4),Ne("load",function(){return o.loading=!1}),L()()),2&n&&(me(3),Ui(o.title),me(5),Se("ngIf",o.loading),me(1),Se("src",o.url))},dependencies:[No,W0,Yi,Ki,Xi,Qi,Eh,es,ts],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const zu="1.9.8-3a39538 (preview)",VR=C.p+"assets/doc/CHANGELOG-55a8257d894e8cd8.md";var ev=C(1633);const tv=((e,t)=>{let r=null;return()=>{if(null!==r)return r;const n=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),o=URL.createObjectURL(n);return r=(e=>{const t=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),n=new Map,o=new Worker(e);return o.addEventListener("message",({data:d})=>{if((e=>void 0!==e.method&&"call"===e.method)(d)){const{params:{timerId:f,timerType:h}}=d;if("interval"===h){const m=t.get(f);if("number"==typeof m){const b=n.get(m);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m()}}else if("timeout"===h){const m=r.get(f);if("number"==typeof m){const b=n.get(m);if(void 0===b||b.timerId!==f||b.timerType!==h)throw new Error("The timer is in an undefined state.")}else{if(!(typeof m<"u"))throw new Error("The timer is in an undefined state.");m(),r.delete(f)}}}else{if(!(e=>null===e.error&&"number"==typeof e.id)(d)){const{error:{message:f}}=d;throw new Error(f)}{const{id:f}=d,h=n.get(f);if(void 0===h)throw new Error("The timer is in an undefined state.");const{timerId:m,timerType:b}=h;n.delete(f),"interval"===b?t.delete(m):r.delete(m)}}}),{clearInterval:d=>{const f=(0,ev.generateUniqueNumber)(n);n.set(f,{timerId:d,timerType:"interval"}),t.set(d,f),o.postMessage({id:f,method:"clear",params:{timerId:d,timerType:"interval"}})},clearTimeout:d=>{const f=(0,ev.generateUniqueNumber)(n);n.set(f,{timerId:d,timerType:"timeout"}),r.set(d,f),o.postMessage({id:f,method:"clear",params:{timerId:d,timerType:"timeout"}})},setInterval:(d,f)=>{const h=(0,ev.generateUniqueNumber)(t);return t.set(h,()=>{d(),"function"==typeof t.get(h)&&o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"interval"}}),h},setTimeout:(d,f)=>{const h=(0,ev.generateUniqueNumber)(r);return r.set(h,d),o.postMessage({id:null,method:"set",params:{delay:f,now:performance.now(),timerId:h,timerType:"timeout"}}),h}}})(o),setTimeout(()=>URL.revokeObjectURL(o)),r}})();var Sf=function(e){return e[e.animationFrame=0]="animationFrame",e[e.timeout=1]="timeout",e}(Sf||{});class jR{constructor(t){this.callback=t}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(t=>{this.handle=void 0,this.callback(t)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Sf.animationFrame}}class M9{constructor(t,r=60){this.callback=t,this.fps=r}schedule(){if(void 0!==this.handle)return;const t=performance.now(),r=1e3*Math.ceil(t/1e3*this.fps)/this.fps;this.handle=((e,t)=>tv().setTimeout(e,t))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(r-t,0))}cancel(){var e;void 0!==this.handle&&(e=this.handle,tv().clearTimeout(e),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return Sf.timeout}}const A9=[135,135,105],k9=[0,0,0],nu=new Array(16).fill(0).map((e,t)=>k9.map((r,n)=>Math.floor((t*r+(15-t)*A9[n])/15))).map(([e,t,r])=>4278190080|r<<16|t<<8|e),iS=nu.map(e=>"#"+(16777215&e).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var J=function(e){return e.palmPilot="PalmPilot",e.pilot="Pilot",e.iii="PalmIII",e.palmVx="PalmVx",e.palmV="PalmV",e.palmVII="PalmVII",e.palmVIIEZ="PalmVIIEZ",e.palmVIIx="PalmVIIx",e.iiic="PalmIIIc",e.iiix="PalmIIIx",e.iiixe="PalmIIIxe",e.iiie="PalmIIIe",e.m500="PalmM500",e.m505="PalmM505",e.m515="PalmM515",e.m520="PalmM520",e.m100="PalmM100",e.m105="PalmM105",e.m125="PalmM125",e.m130="PalmM130",e.i705="Palmi705",e.i710="PalmI710",e.handera330="HandEra330",e.handera330c="HandEra330c",e.pegS300="PEG-S300",e.pegS320="PEG-S320",e.pegS500c="PEG-S500C",e.pegT400="PEG-T400",e.pegN600c="PEG-N600C/N610C",e.pegT600c="PEG-T600",e.pegN700c="PEG-N700C/N710C",e.pegT650c="YSX1230",e.pegNR70="NR70",e.acerS11="Acer-S11",e.lp168="Legend-P168",e}(J||{}),wf=function(e){return e.sdcard="sdcard",e.memorystick="memorystick",e.none="none",e}(wf||{});function Oh(e){switch(e){case J.i710:case J.m520:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case J.handera330:case J.handera330c:case J.lp168:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case J.pegS300:case J.pegS320:case J.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case J.pegT600c:case J.pegT400:case J.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case J.pegN600c:case J.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case J.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};case J.acerS11:return{screenSize:0,width:160,height:160,silkscreenHeight:60,siklscreenShift:8};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function sS(e){switch(e){case J.pilot:case J.palmPilot:case J.iii:case J.palmV:case J.palmVx:case J.iiix:case J.iiixe:case J.iiie:case J.m100:case J.m105:case J.m125:case J.m500:case J.palmVII:case J.palmVIIEZ:case J.palmVIIx:case J.i705:case J.handera330:case J.pegS300:case J.pegS320:case J.pegT400:case J.acerS11:return!1;default:return!0}}function GR(e){switch(e){case J.pilot:return"Pilot";case J.palmPilot:return"Palm Pilot";case J.iii:return"Palm III";case J.m500:return"Palm m500";case J.m505:return"Palm m505";case J.m515:return"Palm m515";case J.m520:return"Palm m520";case J.palmVx:return"Palm Vx";case J.iiix:return"Palm IIIx";case J.iiixe:return"Palm IIIxe";case J.iiie:return"Palm IIIe";case J.palmV:return"Palm V";case J.palmVII:return"Palm VII";case J.palmVIIEZ:return"Palm VII EZ";case J.palmVIIx:return"Palm VIIx";case J.iiic:return"Palm IIIc";case J.m100:return"Palm m100";case J.m105:return"Palm m105";case J.m125:return"Palm m125";case J.m130:return"Palm m130";case J.i705:return"Palm i705";case J.i710:return"Tungsten W";case J.handera330:return"Handera 330";case J.handera330c:return"Handera 330c";case J.pegS300:return"Sony PEG-S300";case J.pegS320:return"Sony PEG-S320";case J.pegT400:return"Sony PEG-T400 series";case J.pegN600c:return"Sony PEG-N600C series";case J.pegT600c:return"Sony PEG-T600C series";case J.pegN700c:return"Sony PEG-N700C series";case J.pegT650c:return"Sony PEG-T650C series";case J.pegNR70:return"Sony PEG-NR70 series";case J.pegS500c:return"Sony PEG-S500C series";case J.acerS11:return"Acer S1x series";case J.lp168:return"Legend P168";default:throw new Error("bad device ID")}}function UR(e){switch(e){case J.m500:case J.m505:case J.m515:case J.m520:case J.m125:case J.m130:case J.i705:case J.i710:case J.handera330:case J.handera330c:return wf.sdcard;case J.pegS300:case J.pegS500c:case J.pegS320:case J.pegT400:case J.pegN600c:case J.pegT600c:case J.pegN700c:case J.pegT650c:case J.pegNR70:case J.acerS11:return wf.memorystick;default:return wf.none}}class HR{constructor(t,r){this.queue=new Array(t).fill(0),this.reset(r)}reset(t=0){this.next=1,this.size=1,this.queue[0]=t}push(t){return this.queue[this.next]=t,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let t=0;for(let r=0;r<this.size;r++)t+=this.queue[r];return t/this.size}}class O9{constructor(t){this.start=0,this.size=0,this.buffer=new Array(t)}push(t){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=t:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}pop(){if(0===this.size)return;const t=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,t}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(t){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=t),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}class WR{constructor(){this.onFrameComplete=()=>{this.transport&&this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()})},this.receiveEvent=new io.j,this.dispatchEvent=new io.j,this.isSync=!1}bind(t){this.transport!==t&&(this.transport&&this.transport.frameCompleteEvent.removeHandler(this.onFrameComplete),t.frameCompleteEvent.addHandler(this.onFrameComplete),t.SetModeSync(this.isSync),this.transport=t)}send(t,r){if(this.transport){if(!this.transport.IsOpen()&&this.transport.GetModeSync())return void this.receiveEvent.dispatch({data:void 0,isFrameComplete:!0});this.transport.Send(t,r),setTimeout(()=>this.dispatchEvent.dispatch(),0)}}setModeSync(t){this.isSync=t,this.transport?.SetModeSync(t)}getModeSync(){return this.transport?.GetModeSync?.()??!1}dispatch(){if(!this.transport)return;const t=this.transport.RxBytesPending();0!==t&&(this.transport.GetModeSync()&&t<1024||this.receiveEvent.dispatch({data:this.transport.Receive(),isFrameComplete:this.transport.IsFrameComplete()}))}}class U9{constructor(){this.onPwmUpdate=t=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(t):this.pendingPwmUpdates.push(t)},this.advanceEmulation=t=>{if(this.isDirty=!1,!this.isRunning||!this.cloudpilotInstance||this.hasFatalError()||t<this.clockEmulator)return;this.cloudpilotInstance.isSuspended()&&5===this.cloudpilotInstance.getSuspendKind()&&t-this.serialSyncStartedAt>250&&(console.log("serial sync timeout, waking emulator"),this.cloudpilotInstance.getSuspendContextSerialSync().Cancel());const r=this.cloudpilotInstance.isSuspended();let n=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),t-this.clockEmulator>1e3/30&&(this.clockEmulator=t-1e3/30);const o=(t-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){n=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,l=performance.now()-i;this.clockEmulator+=Math.max(a,l),this.speedAverage.push(a/(l>0?l:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),n&&!r&&(5===this.cloudpilotInstance.getSuspendKind()?this.serialSyncStartedAt=performance.now():this.handleSuspend());const d=this.cloudpilotInstance.isPowerOff(),f=this.cloudpilotInstance.isUiInitialized();if(d!==this.powerOff||f!==this.uiInitialized){const h=this.powerOff;this.powerOff=d,this.uiInitialized=f,h!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}f&&!d&&this.manageHotsyncName()&&!n&&this.checkAndUpdateHotsyncName(),this.serialPortIR.dispatch(),this.serialPortSerial.dispatch(),this.onAfterAdvanceEmulation(t,s)},this.newFrameEvent=new io.j,this.pwmUpdateEvent=new io.j,this.emulationStateChangeEvent=new io.j,this.powerOffChangeEvent=new io.j,this.deviceId=J.m515,this.clockEmulator=0,this.scheduler=new jR(t=>this.onSchedule(t)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new O9(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new HR(20),this.timePerFrameAverage=new HR(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1,this.serialPortIR=new WR,this.serialPortSerial=new WR,this.serialSyncStartedAt=0,this.serialPortIR.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now())),this.serialPortSerial.dispatchEvent.addHandler(()=>this.advanceEmulation(performance.now()))}handlePointerMove(t,r,n){if(!this.handleInput())return;const o=performance.now();if(this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance){if(n){const i=Oh(this.deviceId);t=this.transformSilkscreenX(t,i),r=this.transformSilkscreenY(r,i)}this.cloudpilotInstance.queuePenMove(Math.floor(t),Math.floor(r)),this.lastPenUpdate=o}}handlePointerUp(){this.handleInput()&&(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(t)}handleButtonUp(t){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(t)}handleKeyDown(t,r=!1){this.handleInput()&&this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(t,r)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}getSerialPortSerial(){if(!this.serialPortSerial)throw new Error("emulator not initialized");return this.serialPortSerial}getSerialPortIR(){if(!this.serialPortIR)throw new Error("emulator not initialized");return this.serialPortIR}onAfterAdvanceEmulation(t,r){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(t,r,n,o,i){let s=!1;return!!t.initializeSession(r,n)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=t.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&t.loadState(i),t.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),t.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance!==t&&(this.serialPortIR.bind(t.getTransportIR()),this.serialPortSerial.bind(t.getTransportSerial())),this.cloudpilotInstance=t,this.deviceId=n,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=t.isPowerOff(),this.uiInitialized=t.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const t=Oh(this.deviceId);this.canvas.width=this.canvasTmp.width=t.width,this.canvas.height=this.canvasTmp.height=t.height;const r=this.canvas.getContext("2d");if(!r)throw new Error("get a new browser");this.context=r;const n=this.canvasTmp.getContext("2d");if(!n)throw new Error("get a new browser");this.contextTmp=n,this.clearCanvas(),this.imageData=void 0}doResume(){this.cloudpilotInstance&&(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){this.running&&(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const t=this.timePerFrameAverage.calculateAverage();return t&&1e3/t}transformSilkscreenX(t,r){return void 0===r.silkscreenOvershoot?t:(t-r.width/2)/(r.width/(r.width+2*r.silkscreenOvershoot))+r.width/2}transformSilkscreenY(t,r){return void 0===r.siklscreenShift?t:t+r.siklscreenShift}setRunning(t){t!==this.running&&(this.running=t,this.emulationStateChangeEvent.dispatch(t))}updateEmulationSpeed(t){if(t>=1&&this.emulationSpeed>=1)return;const r=Math.min(Math.max(Math.floor(10*t)/10,.1),1);this.emulationSpeed=r<=this.emulationSpeed||t-r>=.05?r:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(t){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&t-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=t),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(t)},0)),this.timePerFrameAverage.push(Math.max(0,t-this.timestampLastFrame)),this.timestampLastFrame=t),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===Sf.animationFrame?new jR(t=>this.onSchedule(t)):new M9(t=>this.onSchedule(t))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const t=this.getConfiguredHotsyncName();void 0===t?this.updateConfiguredHotsyncName(this.deviceHotsyncName):t!==this.deviceHotsyncName&&t.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(t),this.deviceHotsyncName=t)}clearCanvas(){const t=this.deviceId,r=Oh(t);this.context.beginPath(),this.context.rect(0,0,r.width,r.height),this.context.fillStyle=sS(t)?"white":iS[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const t=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!t.hasChanges)return;if(t.lines*t.scaleY===this.canvas.height&&t.lineWidth*t.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==t.lineWidth||this.imageData.height!==t.lines)&&(this.imageData=new ImageData(t.lineWidth,t.lines));const n=new Uint32Array(this.imageData.data.buffer);switch(t.bpp){case 1:{const o=nu[15],i=nu[0];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let d=t.margin;d<t.lineWidth+t.margin;d++)n[s++]=t.buffer[l+(d>>>3)]&128>>>(7&d)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[nu[15&o],nu[o>>>4&15],nu[o>>>8&15],nu[o>>>12&15]];let s=0;for(let a=t.firstDirtyLine;a<=t.lastDirtyLine;a++){const l=a*t.bytesPerLine;for(let d=t.margin;d<t.lineWidth+t.margin;d++)n[s++]=i[t.buffer[l+(d>>>2)]>>6-2*(3&d)&3]}break}case 4:{let o=0;for(let i=t.firstDirtyLine;i<=t.lastDirtyLine;i++){const s=i*t.bytesPerLine;for(let a=t.margin;a<t.lineWidth+t.margin;a++)n[o++]=nu[t.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(t.buffer.buffer,t.buffer.byteOffset,t.buffer.byteLength>>>2);if(0===t.margin)n.subarray(0,t.lineWidth*(t.lastDirtyLine-t.firstDirtyLine+1)).set(o.subarray(t.firstDirtyLine*t.lineWidth,t.lineWidth*(t.lastDirtyLine+1)));else{let i=0;for(let s=t.firstDirtyLine;s<=t.lastDirtyLine;s++){let a=s*(t.bytesPerLine>>>2)+t.margin;for(let l=0;l<t.lineWidth;l++)n[i++]=o[a++]}}}}}if(!this.imageData)return;const r=1!==t.scaleX||1!==t.scaleY;(r?this.contextTmp:this.context).putImageData(this.imageData,0,t.firstDirtyLine,0,0,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1),r&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,t.firstDirtyLine,t.lineWidth,t.lastDirtyLine-t.firstDirtyLine+1,0,t.firstDirtyLine*t.scaleY,t.lineWidth*t.scaleX,(t.lastDirtyLine-t.firstDirtyLine+1)*t.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}class H9{constructor(t,r){this.timeoutRemaining=t,this.cb=r,this.onTimeout=()=>{const n=performance.now();if(this.timeoutRemaining-=n-this.timeoutTimestamp,this.timeoutRemaining>0)return this.timeoutTimestamp=performance.now(),void(this.handle=window.setTimeout(this.onTimeout,this.timeoutTimestamp));this.cb()},this.timeoutTimestamp=performance.now(),this.handle=window.setTimeout(this.onTimeout,t)}increase(t){this.timeoutRemaining+=t}cancel(){clearTimeout(this.handle)}}const Z9=new Error("transaction timeout"),qR=new Error("session does not match emulation");let Fh=(()=>{var e;class t{constructor(n,o,i,s,a,l){var d=this;this.storageService=n,this.emulationState=o,this.errorService=i,this.storageCardContext=s,this.kvsService=a,this.ngZone=l,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,V.Z)(function*(){try{yield d.triggerSnapshotUnguarded()}finally{d.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new io.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(n,o){var i=this;return(0,V.Z)(function*(){i.errorService.hasFatalError()||(yield i.waitForPendingSnapshot(),i.sessionId=n.id,i.dirtyPages=void 0,i.pages=void 0,i.state=void 0,i.db=yield i.storageService.getDb(),i.cloudpilot=o,i.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var n=this;return(0,V.Z)(function*(){for(;;)try{return yield n.triggerSnapshotOnce(),void(n.consecutiveErrorCount=0)}catch(o){if(console.error("snapshot error",o),o===qR)throw n.errorService.fatalBug("attempting to snapshot a session that is not currently running"),o;if(o===rS)throw n.errorService.fatalPageLockLost(),o;if(++n.consecutiveErrorCount>3)throw n.errorService.fatalIDBDead(),o}})()}triggerSnapshotOnce(){var n=this;return(0,V.Z)(function*(){const o=n.db.transaction([eu,tu,uc,Tl,Zs,Ph],"readwrite",{durability:"relaxed"});let i;yield n.storageService.acquireLock(o);const s=n.cloudpilot.getMountedKey();if(s&&(i=yield Kn(o.objectStore(Zs).index("storageId").get(s))),n.cloudpilot.isSuspended())return;n.assertSessionMatches();const a=yield new Promise((l,d)=>{let f=!1;const h=performance.now();let m=0,b=0,U=0;const ee=new H9(500,()=>{f=!0;try{o.abort()}catch{}d(Z9)});o.oncomplete=()=>{ee.cancel(),n.dirtyPages?.fill(0),n.cardDirtyPages?.fill(0),l({timestamp:Date.now(),pages:U,timeBlocking:b-m,timeTotal:performance.now()-h})},o.onerror=()=>{ee.cancel(),d(new Error(o.error?.message))};try{n.assertSessionMatches(),m=performance.now(),U=n.saveDirtyMemory(o,ee),i&&(U+=n.saveDirtyStorage(i,o,ee)),n.saveSession(o),b=performance.now()}catch(he){throw f||(ee.cancel(),o.abort()),he}});n.snapshotEvent.dispatch(a)})()}saveDirtyMemory(n,o){let i=0;const s=n.objectStore(eu),a=n.objectStore(tu),l=this.cloudpilot.getDirtyPages(),d=this.cloudpilot.getMemory32();let f=0;if(!this.dirtyPages||!this.pages){const m=d.length>>>8;this.dirtyPages=new Uint8Array(l.length),this.pages=new Array(m);for(let b=0;b<m;b++)this.pages[b]=new Uint32Array(256)}const h={sessionId:this.sessionId,totalSize:d.length<<2};this.kvsService.kvs.snapshotIntegrityCheck&&(h.crc32=PR(new Uint8Array(d.buffer,d.byteOffset,d.byteLength))),a.put(h);for(let m=0;m<l.length;m++)if(this.dirtyPages[m]|=l[m],l[m]=0,0!==this.dirtyPages[m])for(let b=1;b<256&&!(i>=this.pages.length);b<<=1){if(this.dirtyPages[m]&b){const U=MR(d.subarray(256*i,256*(i+1)));"number"==typeof U?s.put(U,[this.sessionId,i]):(this.pages[i].set(U),s.put(this.pages[i],[this.sessionId,i])),o.increase(.5),f++}i++}else i+=8;return f}saveDirtyStorage(n,o,i){const s=this.cloudpilot.getCardDirtyPages(n.storageId),a=this.cloudpilot.getCardData(n.storageId);if(!a)return console.log(`seems ${n.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(n.id,Er.cloudpilot),!s)throw new Error(`failed to retrieve dirty pages for card ${n.name}`);if(a.length!==n.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(s.length)),this.cardDirtyPages.length!==s.length)throw new Error("card size has changed without notification");let l=0,d=0,f=0;const h=o.objectStore(Tl),m=(a.length>>11)+(a.length%2048>0?1:0);for(let b=0;b<s.length;b++)if(this.cardDirtyPages[b]|=s[b],s[b]=0,0!==this.cardDirtyPages[b])for(let U=1;U<256&&!(l>=m);U<<=1){if(this.cardDirtyPages[b]&U){d>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const ee=this.cardPagePool[d++];ee.set(a.subarray(2048*l,2048*(l+1))),h.put(ee,[n.id,l]),i.increase(4),f++}l++}else l+=8;return 8*f}saveSession(n){const o=n.objectStore(uc);if(this.cloudpilot.saveState()){const i=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(i.length)),this.state.set(i),o.put(this.state,this.sessionId)}else console.log("save state failed"),o.delete(this.sessionId)}assertSessionMatches(){if(this.emulationState.getCurrentSession()?.id!==this.sessionId)throw qR}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(rr),ue(cc),ue(Gu),ue(Rh),ue(Ri),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),aS=(()=>{var e;class t{constructor(n){this.zone=n,this.modalVisibilityChangeEvent=new io.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const n=document.querySelectorAll("ion-alert, ion-modal").length>0;n!==this.modalActive&&this.zone.run(()=>{this.modalActive=n,this.modalVisibilityChangeEvent.dispatch(n)})}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var q9=C(2227),Y9=C.n(q9);function lS(e){const t=(e>>>13)+(e%8192>0?1:0);return(t>>>3)+(t%8>0?1:0)}function YR(e,t){return Object.setPrototypeOf({GetCurrentEntryContent:()=>{const r=t.getPointer(e.GetCurrentEntryContent()),n=e.GetCurrentEntrySize();return r>0&&n>0?t.HEAPU8.subarray(r,r+n):void 0}},e)}let K9=0;const KR=[J.palmPilot,J.pilot,J.iii,J.palmVx,J.palmV,J.palmVII,J.palmVIIEZ,J.palmVIIx,J.iiixe,J.iiix,J.iiie,J.m500,J.m505,J.m515,J.m520,J.iiic,J.m100,J.m105,J.m125,J.m130,J.i705,J.i710,J.handera330,J.handera330c,J.pegS300,J.pegS320,J.pegS500c,J.pegT400,J.pegN600c,J.pegT600c,J.pegN700c,J.pegT650c,J.pegNR70,J.acerS11,J.lp168];function Ot(){return(e,t,r)=>{const n=r.value;return r.value=function(o,i){return this.guard(()=>n.call(this,o,i))},r}}class Rt{constructor(t){this.module=t,this.fatalErrorEvent=new io.j,this.pwmUpdateEvent=new io.j,this.proxyDisconnectEvent=new io.j,this.amIdead=!1,this.cloudpilot=new t.Cloudpilot,this.cloudpilot.RegisterPwmHandler(t.addFunction((r,n)=>this.pwmUpdateEvent.dispatch({frequency:r,dutyCycle:n}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(t.addFunction(r=>this.proxyDisconnectEvent.dispatch(t.UTF8ToString(r)),"vi")),this.transportIR=this.wrapTransport(this.cloudpilot.GetTransportIR()),this.transportSerial=this.wrapTransport(this.cloudpilot.GetTransportSerial())}static create(t){return(0,V.Z)(function*(){const r=K9++;return new Rt(yield Y9()({print:n=>console.log(`${r}: ${n}`),printErr:n=>console.error(`${r}: ${n}`),..."string"==typeof t?{locateFile:()=>t}:{},..."function"==typeof t?{instantiateWasm:t}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(t){const r=this.copyIn(t),n=new this.module.RomInfo(r,t.length);let o;return n.IsValid()&&(o={cardVersion:n.CardVersion(),cardName:n.CardName(),romVersion:n.RomVersion(),romVersionString:n.RomVersionString(),supportedDevices:KR.filter(n.Supports.bind(n))}),this.cloudpilot.Free(r),this.module.destroy(n),o}initializeSession(t,r){const n=this.copyIn(t),o=this.cloudpilot.InitializeSession(n,t.length,r);return this.cloudpilot.Free(n),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(t){return this.cloudpilot.RunEmulation(t)}getFrame(){const t=this.cloudpilot.CopyFrame(),r=this.module.getPointer(t.GetBuffer());return{bpp:t.GetBpp(),bytesPerLine:t.GetBytesPerLine(),lines:t.GetLines(),lineWidth:t.GetLineWidth(),margin:t.GetMargin(),firstDirtyLine:t.GetFirstDirtyLine(),lastDirtyLine:t.GetLastDirtyLine(),hasChanges:t.GetHasChanges(),scaleX:t.GetScaleX(),scaleY:t.GetScaleY(),buffer:this.module.HEAPU8.subarray(r,r+t.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(t){return 1024*this.cloudpilot.MinMemoryForDevice(t)}framebufferSizeForDevice(t){return 1024*this.cloudpilot.FramebufferSizeForDevice(t)}totalMemorySizeForDevice(t){return 1024*this.cloudpilot.TotalMemoryForDevice(t)}queuePenMove(t,r){this.cloudpilot.QueuePenMove(t,r)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(t){this.cloudpilot.QueueButtonDown(t)}queueButtonUp(t){this.cloudpilot.QueueButtonUp(t)}queueKeyboardEvent(t,r){this.cloudpilot.QueueKeyboardEvent(t,r)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(t){const r=this.copyIn(t),n=this.cloudpilot.InstallDb(r,t.length);return this.cloudpilot.Free(r),n}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetMemorySize())}getMemory32(){let t=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&t)throw new Error("unaligned pointer");return t>>>=2,this.module.HEAPU32.subarray(t,t+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const t=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),r=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(t,t+((r>>>13)+(r%8192==0?0:1)))}loadMemory(t){const r=this.getMemory32();if((()=>{if(t.length!==r.length||t.length<256)return!1;for(let o=256;o>0;o--){if(t[t.length-o]!==r[r.length-o])return!1;if(4294967295===r[r.length-o])break}return!0})())return r.set(t),!0;{const o=this.copyIn32(t),i=this.cloudpilot.ImportMemoryImage(o,t.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const t=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetRomSize())}getSavestate(){const t=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(t,t+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(t){const r=this.copyIn(t),n=this.cloudpilot.LoadState(r,t.length);return this.cloudpilot.Free(r),n}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(t){this.cloudpilot.SetClockFactor(t)}setHotsyncName(t){this.cloudpilot.SetHotsyncName(t)}backup(t){var r=this;return(0,V.Z)(function*(){const n=r.guard(()=>r.cloudpilot.StartBackup());try{return yield t(r.wrap(n))}finally{r.module.destroy(n)}})()}getArchive(t){const r=t.GetArchiveSize();return this.copyOut(t.GetArchivePtr(),r)}setClipboardIntegration(t){this.cloudpilot.SetClipboardIntegration(t)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(t){this.cloudpilot.SetNetworkRedirection(t)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}getSuspendContextSerialSync(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextSerialSync())}copyBuffer(t){return this.copyIn(t)}freeBuffer(t){this.cloudpilot.Free(t)}setHotsyncNameManagement(t){this.cloudpilot.SetHotsyncNameManagement(t)}resolveBuffer(t,r){const n=this.module.getPointer(t);return this.module.HEAPU8.subarray(n,n+r)}withZipfileWalker(t,r){var n=this;return(0,V.Z)(function*(){const o=n.guard(()=>{const i=n.copyIn(t),s=new n.module.ZipfileWalker(t.length,i);return n.cloudpilot.Free(i),s});try{return yield r(YR(n.wrap(o),n.module))}finally{n.module.destroy(o)}})()}withZipfileWalkerSync(t,r){const n=this.guard(()=>{const o=this.copyIn(t),i=new this.module.ZipfileWalker(t.length,o);return this.cloudpilot.Free(o),i});try{return r(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(n.GetCurrentEntryContent(),n.GetCurrentEntrySize())},n)))}finally{this.module.destroy(n)}}serializeSessionImage(t){const r=new this.module.SessionImage,n=this.cloudpilot.Nullptr(),o=this.copyIn(t.rom),i=t.memory?this.copyIn(t.memory):n,s=void 0!==t.savestate?this.copyIn(t.savestate):n;let a=n,l=0;if(void 0!==t.metadata){const f=(new TextEncoder).encode(JSON.stringify(t.metadata));l=f.length,a=this.copyIn(f)}r.SetRomImage(o,t.rom.length),r.SetMemoryImage(i,t.memory?.length||0),r.SetDeviceId(t.deviceId),r.SetSavestate(s,t.savestate?.length||0),r.SetMetadata(a,l);const d=r.Serialize()?this.copyOut(r.GetSerializedImage(),r.GetSerializedImageSize()):void 0;return this.module.destroy(r),[o,i,s,a].forEach(f=>this.cloudpilot.Free(f)),d}deserializeSessionImage(t){if(!t)return;const r=new this.module.SessionImage,n=this.copyIn(t),o=(()=>{if(!r.Deserialize(n,t.length))return;const i=this.copyOut(r.GetRomImage(),r.GetRomImageSize()),s=this.copyOut(r.GetMemoryImage(),r.GetMemoryImageSize()),a=this.copyOut(r.GetSavestate(),r.GetSavestateSize()),l=r.GetDeviceId();if(!KR.includes(l))return void console.warn(`unsupported device ${l}`);let d;const f=this.copyOut(r.GetMetadata(),r.GetMetadataSize());if(f)try{d=JSON.parse((new TextDecoder).decode(f))}catch(h){console.warn("invalid metadata",h)}return{deviceId:l,rom:i,memory:s,savestate:a,metadata:d,version:r.GetVersion()}})();return this.module.destroy(r),this.cloudpilot.Free(n),o}launchAppByName(t){return this.cloudpilot.LaunchAppByName(t)}launchAppByDbHeader(t){if(t.length<32)return!1;const r=this.copyIn(t.subarray(0,32)),n=this.cloudpilot.LaunchAppByDbHeader(r,32);return this.cloudpilot.Free(r),n}deviceSupportsCardSize(t){return this.cloudpilot.DeviceSupportsCardSize(t)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(t,r){return this.cloudpilot.AllocateCard(t,r>>>9)}decompressCard(t,r){const n=this.copyIn(r);let o;try{for(o=new this.module.GunzipContext(n,r.length,524288);0===o.GetState();)o.Continue();return-1===o.GetState()?(console.error(`gunzip failed: ${o.GetError()}`),!1):o.GetUncompressedSize()%512!=0?(console.error("failed to allocate card: invalid size of decompressed image"),!1):this.cloudpilot.AdoptCard(t,o.ReleaseUncompressedData(),o.GetUncompressedSize()>>>9)}finally{this.cloudpilot.Free(n),o&&this.module.destroy(o)}}getCardData(t){const r=this.module.getPointer(this.cloudpilot.GetCardData(t));if(0!==r)return this.module.HEAPU32.subarray(r>>>2,r+this.cloudpilot.GetCardSize(t)>>2)}getCardDirtyPages(t){const r=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(t));if(0===r)return;const n=lS(this.cloudpilot.GetCardSize(t));return this.module.HEAPU8.subarray(r,r+n)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(t){return this.cloudpilot.MountCard(t)}removeCard(t){return this.cloudpilot.RemoveCard(t)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(t){return this.cloudpilot.GetSupportLevel(t)}loadSkin(t){const r=new this.module.SkinLoader(t);try{const n=this.module.getPointer(r.GetData());return 0===n?void 0:(new TextDecoder).decode(this.module.HEAPU8.subarray(n,n+r.GetSize()))}finally{this.module.destroy(r)}}getTransportIR(){return this.transportIR}getTransportSerial(){return this.transportSerial}guard(t){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return t()}catch(r){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(r instanceof Error?r:new Error("unknown error")),r}}copyIn(t){const r=this.cloudpilot.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}copyIn32(t){const r=this.cloudpilot.Malloc(t.length<<2),n=this.module.getPointer(r);return this.module.HEAPU32.subarray(n>>>2,(n>>>2)+t.length).set(t),r}copyOut(t,r){const n=this.module.getPointer(t);return n>0&&r>0?this.module.HEAPU8.subarray(n,n+r).slice():void 0}wrap(t){return new Proxy(t,{get:(r,n)=>{const o=r[n];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(r,i))}})}wrapTransport(t){const r=new io.j;return t.SetRequestTransferCallback(this.module.addFunction(()=>r.dispatch(),"v")),this.wrap(Object.setPrototypeOf({Receive:()=>{const n=t.RxBytesPending();return this.copyOut(t.Receive(),n)},Send:(n,o)=>{const i=n&&this.copyIn(n);t.Send(n?.length??0,i??this.cloudpilot.Nullptr(),o),i&&this.cloudpilot.Free(i)},frameCompleteEvent:r},t))}}re([Ot()],Rt.prototype,"getRomInfo",null),re([Ot()],Rt.prototype,"initializeSession",null),re([Ot()],Rt.prototype,"cyclesPerSecond",null),re([Ot()],Rt.prototype,"runEmulation",null),re([Ot()],Rt.prototype,"getFrame",null),re([Ot()],Rt.prototype,"isScreenDirty",null),re([Ot()],Rt.prototype,"markScreenClean",null),re([Ot()],Rt.prototype,"minRamForDevice",null),re([Ot()],Rt.prototype,"framebufferSizeForDevice",null),re([Ot()],Rt.prototype,"totalMemorySizeForDevice",null),re([Ot()],Rt.prototype,"queuePenMove",null),re([Ot()],Rt.prototype,"queuePenUp",null),re([Ot()],Rt.prototype,"queueButtonDown",null),re([Ot()],Rt.prototype,"queueButtonUp",null),re([Ot()],Rt.prototype,"queueKeyboardEvent",null),re([Ot()],Rt.prototype,"isPowerOff",null),re([Ot()],Rt.prototype,"isUiInitialized",null),re([Ot()],Rt.prototype,"isSetupComplete",null),re([Ot()],Rt.prototype,"getOSVersion",null),re([Ot()],Rt.prototype,"reset",null),re([Ot()],Rt.prototype,"resetNoExtensions",null),re([Ot()],Rt.prototype,"resetHard",null),re([Ot()],Rt.prototype,"installDb",null),re([Ot()],Rt.prototype,"getPalette2bitMapping",null),re([Ot()],Rt.prototype,"getMemory",null),re([Ot()],Rt.prototype,"getMemory32",null),re([Ot()],Rt.prototype,"getDirtyPages",null),re([Ot()],Rt.prototype,"loadMemory",null),re([Ot()],Rt.prototype,"getRomImage",null),re([Ot()],Rt.prototype,"getSavestate",null),re([Ot()],Rt.prototype,"saveState",null),re([Ot()],Rt.prototype,"loadState",null),re([Ot()],Rt.prototype,"getHotsyncName",null),re([Ot()],Rt.prototype,"setClockFactor",null),re([Ot()],Rt.prototype,"setHotsyncName",null),re([Ot()],Rt.prototype,"setClipboardIntegration",null),re([Ot()],Rt.prototype,"getClipboardIntegration",null),re([Ot()],Rt.prototype,"isSuspended",null),re([Ot()],Rt.prototype,"getSuspendKind",null),re([Ot()],Rt.prototype,"cancelSuspend",null),re([Ot()],Rt.prototype,"getSuspendContextClipboardCopy",null),re([Ot()],Rt.prototype,"getSuspendContextClipboardPaste",null),re([Ot()],Rt.prototype,"setNetworkRedirection",null),re([Ot()],Rt.prototype,"getNetworkRedirection",null),re([Ot()],Rt.prototype,"getSuspendContextNetworkConnect",null),re([Ot()],Rt.prototype,"getSuspendContextNetworkRpc",null),re([Ot()],Rt.prototype,"getSuspendContextSerialSync",null),re([Ot()],Rt.prototype,"copyBuffer",null),re([Ot()],Rt.prototype,"freeBuffer",null),re([Ot()],Rt.prototype,"setHotsyncNameManagement",null),re([Ot()],Rt.prototype,"resolveBuffer",null),re([Ot()],Rt.prototype,"serializeSessionImage",null),re([Ot()],Rt.prototype,"deserializeSessionImage",null),re([Ot()],Rt.prototype,"launchAppByName",null),re([Ot()],Rt.prototype,"launchAppByDbHeader",null),re([Ot()],Rt.prototype,"deviceSupportsCardSize",null),re([Ot()],Rt.prototype,"clearExternalStorage",null),re([Ot()],Rt.prototype,"allocateCard",null),re([Ot()],Rt.prototype,"decompressCard",null),re([Ot()],Rt.prototype,"getCardData",null),re([Ot()],Rt.prototype,"getCardDirtyPages",null),re([Ot()],Rt.prototype,"getMountedKey",null),re([Ot()],Rt.prototype,"mountCard",null),re([Ot()],Rt.prototype,"removeCard",null),re([Ot()],Rt.prototype,"remountCards",null),re([Ot()],Rt.prototype,"getCardSupportLevel",null),re([Ot()],Rt.prototype,"loadSkin",null);const nv=new Error("permission denied");let XR=(()=>{var e;class t{constructor(n,o){this.alertController=n,this.alertService=o,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(n){if(n.isSuspended())switch(n.getSuspendKind()){case 1:this.handleCopy(n);break;case 2:this.handlePaste(n)}}handleCopy(n){var o=this;return(0,V.Z)(function*(){const i=n.getSuspendContextClipboardCopy(),s=i.GetClipboardContent();try{return yield o.tryCopyDirect(s),void i.Resume()}catch(a){if(a===nv)return i.Cancel(),o.msgPermissionDenied()}try{yield o.tryCopyWithInteraction(s),i.Resume()}catch{yield o.msgCopyFailed(),i.Cancel()}})()}tryCopyDirect(n){var o=this;return(0,V.Z)(function*(){try{yield navigator.clipboard.writeText(n)}catch(i){throw(yield o.isPermissionDenied("clipboard-write"))?nv:i}})()}tryCopyWithInteraction(n){var o=this;return new Promise(function(){var i=(0,V.Z)(function*(s,a){try{const l=yield o.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{l.dismiss(),s(!1)}},{text:"Copy",handler:(d=(0,V.Z)(function*(){l.dismiss();try{yield navigator.clipboard.writeText(n),s(!0)}catch(f){a(f)}}),function(){return d.apply(this,arguments)})}]});l.present()}catch(l){a(l)}var d});return function(s,a){return i.apply(this,arguments)}}())}handlePaste(n){var o=this;return(0,V.Z)(function*(){const i=yield o.tryPaste();n.getSuspendContextClipboardPaste().Resume(i??""),void 0!==i&&(o.clipboardContent=i,o.lastClipboardReadAt=performance.now())})()}tryPaste(){var n=this;return(0,V.Z)(function*(){if(performance.now()-n.lastClipboardReadAt<3e3)return n.clipboardContent;try{return yield n.tryPasteDirect()}catch(o){if(o===nv)return void(yield n.msgPermissionDenied())}try{return yield n.tryPasteWithInteraction()}catch{return void(yield n.msgPasteFailed())}})()}tryPasteDirect(){var n=this;return(0,V.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(o){throw(yield n.isPermissionDenied("clipboard-read"))?nv:o}})()}tryPasteWithInteraction(){var n=this;return new Promise(function(){var o=(0,V.Z)(function*(i,s){try{const a=yield n.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{a.dismiss(),i(void 0)}},{text:"Paste",handler:(l=(0,V.Z)(function*(){a.dismiss();try{i(yield navigator.clipboard.readText())}catch(d){s(d)}}),function(){return l.apply(this,arguments)})}]});a.present()}catch(a){s(a)}var l});return function(i,s){return o.apply(this,arguments)}}())}handlePasteSafari(n){var o=this;return(0,V.Z)(function*(){const i=yield o.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Cancel",handler:()=>{i.dismiss(),n.Resume("")}},{text:"Paste",handler:(s=(0,V.Z)(function*(){try{o.clipboardContent=yield navigator.clipboard.readText(),o.lastClipboardReadAt=performance.now(),i.dismiss(),n.Resume(o.clipboardContent)}catch{i.dismiss(),yield o.alertService.errorMessage("Paste from host clipboard failed."),n.Resume("")}}),function(){return s.apply(this,arguments)})}]});var s;yield i.present()})()}isPermissionDenied(n){return(0,V.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:n}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return(e=t).\u0275fac=function(n){return new(n||e)(ue($0),ue(ao))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Q9="https:"===window.location.protocol?8667:8666,J9=/^[\da-z\-\.]+$/i,eZ=/^[\da-z\-\.]+:\d+$/i;function cS(e){if(!e)return;const t=window.location.protocol;if(e.match(J9))return`${t}//${e}:${Q9}`;if(e.match(eZ))return`${t}//${e}`;try{const r=new URL(e);if("https:"===r.protocol||"http:"===r.protocol)return r.toString().replace(/\/+$/,"")}catch{}}function tZ(e){return void 0!==cS(e.value)?null:{proxyAddress:"invalid"}}let nZ=(()=>{var e;class t{constructor(n){this.kvs=n,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const n=this.kvs.kvs.credentials[this.origin];this.formGroup=new P_({username:new Lo(n?.username??""),password:new Lo(n?.password??"")})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Ri))},e.\u0275cmp=Ze({type:e,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(n,o){1&n&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Authenticate"),L(),G(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.saveAndContinue()}),Ce(6,"OK"),L()(),G(7,"ion-buttons",2)(8,"ion-button",1),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),G(10,"ion-content",3)(11,"form",4),Ne("keydown",function(s){return o.formKeyDown(s)}),G(12,"p"),Ce(13," The server requires authentication. "),L(),G(14,"ion-item",5)(15,"ion-label",6),Ce(16,"Username"),L(),je(17,"ion-input",7),L(),G(18,"ion-item",5)(19,"ion-label",6),Ce(20,"Password"),L(),je(21,"ion-input",8),L()()()),2&n&&(me(11),Se("formGroup",o.formGroup))},dependencies:[Yi,Ki,Xi,Qi,ac,Io,Ji,es,ts,sc,ic,rc,oc,Ba,El],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),QR=(()=>{var e;class t{constructor(n,o,i){this.loadingController=n,this.kvsService=o,this.modalController=i}fetch(n,o){var i=this;return(0,V.Z)(function*(){let s=o?.loaderDelay;const a=void 0===o?.timeout?5e3:o?.timeout,l=new(Xd())("string"==typeof n?n:n.url);let d,f,h=!1;for(;;)try{d||(d=yield i.loadingController.create({message:"Loading..."})),void 0!==s&&s>0&&void 0===f?f=window.setTimeout(()=>d?.present(),s):d.present();const m=i.kvsService.kvs.credentials[l.origin],b=new AbortController,U=window.setTimeout(()=>b.abort(),a),ee=yield fetch(n,{...i.requestInit(o),signal:b.signal,headers:{...o?.headers||{},...h&&m?{Authorization:"Basic "+btoa(`${m.username}:${m.password}`)}:{}}});if(clearTimeout(U),401===ee.status){if(!h&&m){h=!0;continue}if(d?.dismiss(),clearTimeout(f),s=0,d=void 0,s=void 0,h=!0,yield i.authenticate(l.origin))continue}return ee}finally{d&&(yield d.dismiss()),clearTimeout(f)}})()}requestInit(n){if(!n)return;const{timeout:o,loaderDelay:i,...s}=n;return s}authenticate(n){var o=this;return(0,V.Z)(function*(){const i=yield new Promise(s=>o.modalController.create({component:nZ,backdropDismiss:!1,componentProps:{origin:n,onContinue:()=>s(!0),onCancel:()=>s(!1)}}).then(a=>a.present()));return o.modalController.dismiss(),i})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(da),ue(Ri),ue(Cs))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),uS=(()=>{var e;class t{constructor(n,o,i,s){var a=this;this.kvsService=n,this.alertService=o,this.ngZone=i,this.fetchService=s,this.handleConnect=()=>this.mutex.runExclusive((0,V.Z)(function*(){a.socket&&a.disconnect(a.socket);const l=cS(a.kvsService.kvs.proxyServer);if(!l)return yield a.alertService.errorMessage(`Invalid proxy address: ${a.kvsService.kvs.proxyServer}`),void a.cloudpilot.getSuspendContextNetworkConnect().Cancel();const d=yield a.handshake(void 0,500);switch(d.status){case"failed":return void a.onSocketError(void 0);case"version_mismatch":return yield a.alertService.proxyVersionMismatchError(),void a.cancelSuspend();case"success":break;default:throw new Error("unreachable")}a.socket=new WebSocket(`${l.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(d.token)}`),a.socket.binaryType="arraybuffer",a.bindListeners(a.socket),a.ngZone.run(()=>a.connectTimeoutHandle=setTimeout(a.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=nS(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=l=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(l.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const d=this.cloudpilot.copyBuffer(new Uint8Array(l.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(d,l.data.byteLength),this.cloudpilot.freeBuffer(d),this.resumeEvent.dispatch()},this.onSocketError=l=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",l)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=l=>{l!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new io.j,this.mutex=new xl,this.sessionId=""}initialize(n){this.cloudpilot=n,n.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(n=this.kvsService.kvs.proxyServer,o=-1){var i=this;return(0,V.Z)(function*(){const s=cS(n);if(!s)return{status:"failed"};try{const a=yield i.fetchService.fetch(`${s}/network-proxy/handshake`,{method:"POST",loaderDelay:o});if(!a.ok)return{status:"failed"};const l=yield a.json();return l.version<3||l.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:l.token}}catch{return{status:"failed"}}})()}handleRpc(){const n=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(n.GetRequestData(),n.GetRequestSize())):n.Cancel()}disconnect(n){n&&(this.unbindListeners(n),n.close()),this.sessionId="",this.socket=void 0}bindListeners(n){this.ngZone.run(()=>{n.addEventListener("open",this.onSocketOpen),n.addEventListener("error",this.onSocketError),n.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>n.addEventListener("message",this.onSocketMessage))}unbindListeners(n){n&&(n.removeEventListener("message",this.onSocketMessage),n.removeEventListener("open",this.onSocketOpen),n.removeEventListener("error",this.onSocketError),n.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ri),ue(ao),ue(Ue),ue(QR))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),eP=(()=>{var e;class t{constructor(){this.buttons=new Map}reset(n){this.cloudpilot=n,this.buttons.clear(),[6,7].forEach(o=>n.queueButtonUp(o))}engage(n){this.cloudpilot&&(this.buttons.has(n)?this.buttons.get(n).timer=0:(this.buttons.set(n,{button:n,timer:0}),this.cloudpilot?.queueButtonDown(n)))}tick(n){if(this.cloudpilot)for(const[o,i]of this.buttons)i.timer+=1e3*n,i.timer>250&&(this.cloudpilot.queueButtonUp(o),this.buttons.delete(o))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),tP=(()=>{var e;class t{constructor(){this.hasRenderedPromise=new Promise(n=>this.hasRenderedResolve=n)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const aZ=C.p+"wasm/cloudpilot_web-0e82b22c6ad9ffcd.wasm";let Va=(()=>{var e;class t{constructor(){this.cloudpilot=Rt.create(aZ)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var lZ=C(3097),Ef=C.n(lZ);const dS=524288;class fS{constructor(t,r){if(this.module=t,this.nativeContext=new t.CreateZipContext,!this.nativeContext.Initialize(r))throw new Error(`failed to initialize context: ${this.nativeContext.GetLastError()}`);const n=new t.FSTools;this.chunkBufferPtr=n.Malloc(dS),t.destroy(n)}static create(t,r){return(0,V.Z)(function*(){return new fS(yield Ef()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:r}),t)})()}addEntry(t,r){var n=this;return(0,V.Z)(function*(){if(!n.nativeContext.AddEntry(t))throw new Error(`failed to add entry: ${n.nativeContext.GetLastError()}`);const o=n.module.getPointer(n.chunkBufferPtr);for(let i=0;i<r.length;i+=dS){i>0&&(yield new Promise(l=>setTimeout(l,0)));const s=Math.min(r.length-i,dS);if(n.module.HEAPU8.subarray(o,o+s).set(r.subarray(i,i+s)),!n.nativeContext.WriteData(n.chunkBufferPtr,s))throw new Error(`failed to add ${s} bytes to zip: ${n.nativeContext.GetLastError()}`)}})()}getContent(){const t=this.module.getPointer(this.nativeContext.GetZipData());if(!t)throw new Error(`unable to obtain zip data: ${this.nativeContext.GetLastError()}`);return this.module.HEAPU8.subarray(t,t+this.nativeContext.GetZipDataSize())}}class pS{constructor(t){this.module=t,this.nativeContext=new t.MkfsContext}static create(t){return(0,V.Z)(function*(){return new pS(yield Ef()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:t}))})()}mkfs(t){return this.nativeContext.Mkfs(t,"card")}getImage(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());if(0!==t&&0!==r)return this.module.HEAPU32.subarray(r>>>2,r+t>>>2)}}class hS{constructor(t,r){this.module=t,this.result=0,this.nativeContext=new t.FsckContext(r>>>9)}static create(t,r){return(0,V.Z)(function*(){const n=yield Ef()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:r});return new hS(n,t)})()}getImageData(){const t=this.nativeContext.GetImageSize(),r=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(r>>>2,r+t>>2)}getDirtyPages(){const t=this.module.getPointer(this.nativeContext.GetDirtyPages()),r=lS(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(t,t+r)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(t){return console.warn("fsck failed",t),this.result=4,this.result}}getResult(){return this.result}}class rv{constructor(t,r){this.module=t,r&&this.initialize(r)}static create(t,r){return(0,V.Z)(function*(){const n=yield Ef()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new rv(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t.length);const n=this.module.getPointer(this.bufferPtr);this.module.HEAPU8.subarray(n,n+t.length).set(t),this.module.destroy(r),this.nativeContext=new this.module.GunzipContext(this.bufferPtr,t.length,524288)}gunzip(){var t=this;return(0,V.Z)(function*(){const r=t.getNativeContext();for(;0===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gunzip failed: ${r.GetError()}`),!1)})()}getDecompressedData(){const t=this.getNativeContext(),r=t.GetUncompressedSize(),n=t.GetUncompressedData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gunzip context not initialized");return this.nativeContext}}class mS{constructor(t,r){this.module=t,void 0!==r&&this.initialize(r)}static create(t,r){return(0,V.Z)(function*(){const n=yield Ef()({print:o=>console.log(o),printErr:o=>console.error(o),instantiateWasm:t});return new mS(n,r)})()}initialize(t){this.nativeContext&&this.module.destroy(this.nativeContext);const r=new this.module.FSTools;this.bufferPtr&&r.Free(this.bufferPtr),this.bufferPtr=r.Malloc(t),this.uncompressedDataSize=t,this.module.destroy(r),this.nativeContext=new this.module.GzipContext(this.bufferPtr,t,524288)}getBuffer(){if(!this.bufferPtr||void 0===this.uncompressedDataSize)throw new Error("gzip context not initialized");const t=this.module.getPointer(this.bufferPtr);return this.module.HEAPU8.subarray(t,t+this.uncompressedDataSize)}setFilename(t){return this.getNativeContext().SetFilename(t),this}setMtime(t){return this.getNativeContext().SetMtime(t),this}gzip(){var t=this;return(0,V.Z)(function*(){const r=t.getNativeContext();for(r.Continue();1===r.Continue();)yield new Promise(n=>setTimeout(n,0));return-1!==r.GetState()||(console.error(`gzip failed: ${r.GetError()}`),!1)})()}getGzipData(){const t=this.getNativeContext(),r=t.GetGzipSize(),n=t.GetGzipData(),o=this.module.getPointer(n);return this.module.HEAPU8.subarray(o,o+r)}getNativeContext(){if(!this.nativeContext)throw new Error("gzip context not initialized");return this.nativeContext}}const nP=new Map;class pZ{constructor(t="fstools_web.wasm"){let r=nP.get(t);r||(r=function cZ(e){const t=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(e)):fetch(e).then(r=>r.arrayBuffer()).then(r=>WebAssembly.compile(r));return function(){var r=(0,V.Z)(function*(n,o){return o(yield WebAssembly.instantiate(yield t,n))});return function(n,o){return r.apply(this,arguments)}}()}(t),nP.set(t,r)),this.instantiante=r}mkfs(t){var r=this;return(0,V.Z)(function*(){const n=yield pS.create(r.instantiante);if(n.mkfs(t))return n.getImage()})()}gunzip(t){var r=this;return(0,V.Z)(function*(){const n=yield rv.create(r.instantiante,t);if(yield n.gunzip())return n.getDecompressedData()})()}createGunzipContext(t){return rv.create(this.instantiante,t)}createGzipContext(t){return mS.create(this.instantiante,t)}createFsckContext(t){return hS.create(t,this.instantiante)}createZipContext(t){return fS.create(t,this.instantiante)}createZipfileWalker(t){var r=this;return(0,V.Z)(function*(){const n=yield Ef()({print:a=>console.log(a),printErr:a=>console.error(a),instantiateWasm:r.instantiante}),o=new n.FSTools,i=o.Malloc(t.length),s=n.getPointer(i);return n.HEAPU8.subarray(s,s+t.length).set(t),n.destroy(o),YR(new n.ZipfileWalker(t.length,i),n)})()}}var mr=function(e){return e.dirty="dirty",e.clean="clean",e.unformatted="unformatted",e.unfixable="unfixable",e}(mr||{});function Df(e,t){let r=e,n=1;for(;t(r);)r=`${e} (${n++})`;return r}function If(e){const t=new Date;return`${e}_${t.getFullYear()}${(t.getMonth()+1).toString().padStart(2,"0")}${t.getDate().toString().padStart(2,"0")}-${t.getHours().toString().padStart(2,"0")}${t.getMinutes().toString().padStart(2,"0")}${t.getSeconds().toString().padStart(2,"0")}`}function gS(e){return`${If(e.name)}.img`}function rP(e,t){return`backup_${If(e.name)}${t?"_with_rom":""}.zip`}function _S(e,t=3){return 0===e.length?"":1===e.length?e[0]:`${e.slice(0,e.length>t?t:e.length-1).join(", ")} and ${e.length>t?e.length-t+" more files":e[e.length-1]}`}var Rr=function(e){return e.portrait="portrait",e.landscape90="landscape90",e.landscape270="landscape270",e.portrait180="portrait180",e}(Rr||{});function ov(e){const{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=e;return{name:t,hotsyncName:r,osVersion:n,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}const _Z=C.p+"wasm/fstools_web-9237f90a406faac8.wasm";let iv=(()=>{var e;class t extends pZ{constructor(){super(_Z)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function vZ(e,t){1&e&&(G(0,"p",10),Ce(1," ERROR: URL must be served via HTTPS. "),L())}function yZ(e){if(!e.value)return{url:"URL empty"};let t;try{t=new(Xd())(e.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==t.protocol?{url:"mixed content"}:null}let bZ=(()=>{var e;class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(n){"Enter"===n.key&&this.continue()}continue(){this.onContinue(new(Xd())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const n=this.formGroup.get("url")?.value;if(!n)return!1;try{const o=new(Xd())(n);return"https:"===location.protocol&&"https:"!==o.protocol}catch{}return!1}createFormGroup(){this.formGroup=new P_({url:new Lo("",yZ)})}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(n,o){1&n&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Enter download URL"),L(),G(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.continue()}),Ce(6,"OK"),L()(),G(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),G(10,"ion-content",4)(11,"form",5),Ne("keydown",function(s){return o.formKeyDown(s)}),G(12,"p"),Ce(13," Please enter the URL from which to download: "),L(),G(14,"ion-item",6)(15,"ion-label",7),Ce(16,"URL"),L(),je(17,"ion-input",8),L(),zt(18,vZ,2,0,"p",9),G(19,"p"),Ce(20," Note that the remote server needs to support the CORS protocol. "),L()()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(7),Se("ngIf",o.isMixedContent))},dependencies:[No,Yi,Ki,Xi,Qi,ac,Io,Ji,es,ts,sc,ic,rc,oc,Ba,El],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})(),ru=(()=>{var e;class t{constructor(n,o,i,s,a,l,d,f){this.storageService=n,this.loadingController=o,this.actionSheetController=i,this.kvsService=s,this.modalController=a,this.alertService=l,this.fetchService=d,this.cloudpilotService=f}openFile(n){this.openFilesImpl(!1,o=>{o.length>0&&n(o[0])})}openFiles(n){this.openFilesImpl(!0,n)}openFromDrop(n,o){"drop"!==n.type||!n.dataTransfer?.files||o(Array.from(n.dataTransfer.files).map(this.readFile.bind(this)))}emergencySaveSession(n){var o=this;return(0,V.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),d=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:ov(n),rom:a,memory:l,savestate:d},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);m&&o.saveFile(gS(n),m)}finally{s.dismiss()}})()}saveFile(n,o){const i=new Blob([o],{type:"application/octet-stream"}),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=n,a.click()}openUrl(n,o){var i=this;return(0,V.Z)(function*(){let s;try{s=new(Xd())(n)}catch{return void(yield i.alertService.errorMessage(`Invalid URL: ${n}`))}try{const a=yield i.fetchService.fetch(n);if(!a.ok)throw new Error("request failed");const l=yield i.loadingController.create({message:"Loading..."});l.present();const d=a.arrayBuffer().then(f=>new Uint8Array(f));return d.finally(()=>l.dismiss()),void o({name:s.pathname.replace(/.*\//,""),getContent:()=>d})}catch{yield i.alertService.errorMessage(`Download from ${n} failed.`)}})()}serializeSession(n){var o=this;return(0,V.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:ov(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}openFilesImpl(n,o){var i=this;return(0,V.Z)(function*(){i.kvsService.kvs.enableRemoteInstall?(yield i.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>i.openFilesLocal(n,o)},{text:"File on remote server",handler:()=>i.queryAndOpenFileRemote(o)},{text:"Cancel"}]})).present():i.openFilesLocal(n,o)})()}queryAndOpenFileRemote(n){var o=this;return(0,V.Z)(function*(){let i;try{i=yield new Promise((s,a)=>o.modalController.create({component:bZ,backdropDismiss:!1,componentProps:{onContinue:s,onCancel:a}}).then(l=>l.present()))}catch{return}finally{o.modalController.dismiss()}yield o.openUrl(i,s=>n([s]))})()}openFilesLocal(n,o){var i=this;const s=ER||Si&&q_;s&&this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.multiple=n,this.input.type="file",this.input.addEventListener("change",function(){var a=(0,V.Z)(function*(l){const d=l.target;d?.files&&o(Array.from(d.files).map(i.readFile.bind(i)))});return function(l){return a.apply(this,arguments)}}()),s&&(this.input.style.display="none",document.body.appendChild(this.input)),this.input.click()}readFile(n){let o;const i=function(){var s=(0,V.Z)(function*(){return o||(o=new Promise((a,l)=>{const d=new FileReader;d.onload=()=>a(new Uint8Array(d.result)),d.onerror=()=>{console.warn(d.error),l(d.error)},d.readAsArrayBuffer(n)}),o)});return function(){return s.apply(this,arguments)}}();return{name:n.name,getContent:i}}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(rr),ue(da),ue(xh),ue(Ri),ue(Cs),ue(ao),ue(QR),ue(Va))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class oP extends Error{constructor(t){super(t)}}let dc=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.storageService=o,this.loadingController=i,this.fsTools=s,this.alertService=a,this.fileService=l,this.sessions=[],this.loading=!0,this.updateMutex=new xl,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(n,o,i={}){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});yield a.present();try{return s.doAddSessionFromImage(n,o,i)}finally{yield a.dismiss()}})()}addSessionsFromArchive(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Importing..."});yield i.present();try{const s=yield o.cloudpilotService.cloudpilot,a=yield o.fsTools.createZipfileWalker(n);if(-1===a.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const l=a.GetTotalEntries(),d=new Set(o.sessions.map(b=>b.name));let f=1,h=!1;const m=[];for(;0===a.GetState();)try{i.message=`Importing ${f++}/${l}...`;const b=/\.(bin|img)$/i.test(a.GetCurrentEntryName())?s.deserializeSessionImage(a.GetCurrentEntryContent()):void 0;if(!b)throw new oP(`${a.GetCurrentEntryName()} is not a valid session.`);const U=Df(b.metadata?.name??a.GetCurrentEntryName(),ee=>d.has(ee));yield o.doAddSessionFromImage(b,U,b.metadata)}catch(b){if(!(b instanceof oP))throw b;m.push(a.GetCurrentEntryName()),h||(h=yield o.alertService.messageWithChoice("Error",b.message,"Skip further errors",h,{},"Continue"))}finally{a.Next()}m.length<=3&&m.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${m.join("<br>")}`):m.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${m.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${m.length-3} more files.\n                    `))}catch(s){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to import sessions: ${s?.message??"unknown error"}.`)}finally{i.dismiss()}})()}addSessionFromRom(n,o,i,s={}){var a=this;return(0,V.Z)(function*(){const l={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:Rr.portrait,...s,id:-1,name:o,device:i,ram:(yield a.cloudpilotService.cloudpilot).minRamForDevice(i)/1024/1024,rom:""},d=yield a.loadingController.create({message:"Importing..."});yield d.present();const f=yield a.storageService.addSession(l,n);return yield a.updateSessionsFromStorage(),yield d.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(n){var o=this;return(0,V.Z)(function*(){yield o.storageService.deleteSession(n)})()}updateSession(n){var o=this;return(0,V.Z)(function*(){yield o.storageService.updateSession(n)})()}saveSession(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();try{const s=yield o.serializeSession(n);s?o.fileService.saveFile(gS(n),s):(yield i.dismiss(),o.alertService.errorMessage("Failed to save session."))}finally{i.dismiss()}})()}saveSessions(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});yield i.present();const s=yield o.fsTools.createZipContext(0),a=new Set;try{let l=1;for(const d of n){i.message=`Exporting ${l++}/${n.length}...`;const f=yield o.serializeSession(d);if(f){const h=Df(d.name.replace(/[\/\\]/,"_").substring(0,200),m=>a.has(m));a.add(h),yield s.addEntry(h+".img",f)}else yield o.alertService.errorMessage(`Failed  to export session '${d.name}'.`,"Continue")}o.fileService.saveFile(function hZ(){return`${If("sessions")}.zip`}(),s.getContent())}catch(l){o.alertService.errorMessage(`Failed to export sessions: ${l.message??"unknown error"}`)}finally{i.dismiss()}})()}emergencySaveSession(n){var o=this;return(0,V.Z)(function*(){const i=yield o.cloudpilotService.cloudpilot,s=yield o.loadingController.create({message:"Exporting..."});s.style.zIndex="10000000",yield s.present();try{const a=i.getRomImage().slice(),l=i.getMemory().slice(),d=i.saveState()?i.getSavestate().slice():void 0;if(i.framebufferSizeForDevice(n.device)<0)throw new Error(`invalid device ID ${n.device}`);const h={deviceId:n.device,metadata:ov(n),rom:a,memory:l,savestate:d},m=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(h);m&&o.fileService.saveFile(gS(n),m)}finally{s.dismiss()}})()}serializeSession(n){var o=this;return(0,V.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(n,!1);if(!i)throw new Error(`invalid ROM ${n.rom}`);const l={deviceId:n.device,metadata:ov(n),rom:i,memory:s,savestate:a};return(yield o.cloudpilotService.cloudpilot).serializeSessionImage(l)})()}updateSessionsFromStorage(){var n=this;return(0,V.Z)(function*(){n.sessions=yield n.updateMutex.runExclusive((0,V.Z)(function*(){return(yield n.storageService.getAllSessions()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}doAddSessionFromImage(n,o,i={}){var s=this;return(0,V.Z)(function*(){const a={hotsyncName:n.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:Rr.portrait,...i,id:-1,name:o,device:n.deviceId,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(n.deviceId)/1024/1024,rom:"",osVersion:n?.metadata?.osVersion},l=yield s.storageService.addSession(a,n.rom,n.memory,n.savestate);return yield s.updateSessionsFromStorage(),l})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Va),ue(rr),ue(da),ue(iv),ue(ao),ue(ru))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var CZ=C(8886),SZ=C.n(CZ),Ml=function(e){return e[e.success=0]="success",e[e.zipfileError=1]="zipfileError",e[e.ioError=2]="ioError",e[e.cardFull=3]="cardFull",e}(Ml||{}),Wu=function(e){return e[e.success=0]="success",e[e.ioError=1]="ioError",e[e.cardFull=2]="cardFull",e}(Wu||{});function wZ(e){return{readonly:0!=(1&e),hidden:0!=(2&e),system:0!=(4&e)}}function iP(e,t){const r=e.GetName(),n=e.GetModifiedTS();return{path:t,name:r,size:e.GetSize(),lastModifiedTS:n,lastModifiedLocalDate:new Date(1e3*n).toLocaleDateString(),isDirectory:e.IsDirectory(),attributes:wZ(e.GetAttributes())}}class vS{constructor(t){this.module=t,this.vfsNative=new t.Vfs}static create(t){return(0,V.Z)(function*(){return new vS(yield SZ()({print:r=>console.log(r),printErr:r=>console.error(r),...void 0===t?{}:{locateFile:()=>t}}))})()}allocateImage(t){this.vfsNative.AllocateImage(t>>>9)}mountImage(t){return this.vfsNative.MountImage(t)}unmountImage(t){this.vfsNative.UnmountImage(t)}getPendingImage(){const t=this.module.getPointer(this.vfsNative.GetPendingImage()),r=this.vfsNative.GetPendingImageSize();if(0!==t&&0!==r)return this.module.HEAPU32.subarray(t>>>2,t+r>>>2)}getImageInSlot(t){const r=this.module.getPointer(this.vfsNative.GetImage(t)),n=this.vfsNative.GetSize(t);if(0!==r&&0!==n)return this.module.HEAPU32.subarray(r>>>2,r+n>>>2)}getDirtyPagesForSlot(t){const r=this.module.getPointer(this.vfsNative.GetDirtyPages(t));if(0===r)return;const n=lS(this.vfsNative.GetSize(t));return this.module.HEAPU8.subarray(r,r+n)}readdir(t){const r=new this.module.ReaddirContext(t);try{const n=[];for(;0===r.GetStatus();){const o=r.GetEntry();n.push(iP(o,`${t.replace(/\/*$/,"")}/${o.GetName()}`)),r.Next()}if(2===r.GetStatus()){console.warn(`readdir failed: ${r.GetErrorDescription()}`);const o=r.GetError();return{error:0===o?2:o,reason:r.GetErrorDescription()}}return{error:0,entries:n}}finally{this.module.destroy(r)}}rename(t,r){return this.vfsNative.RenameFile(t,r)}chmod(t,r){let n=0,o=0;const i=(s,a)=>{void 0!==s&&(o|=a,s&&(n|=a))};return i(r.hidden,2),i(r.readonly,1),i(r.system,4),this.vfsNative.ChmodFile(t,n,o)}stat(t){const r=this.vfsNative.StatFile(t);return 0!==r?{result:r,entry:void 0}:{entry:iP(this.vfsNative.GetEntry(),t),result:r}}bytesFree(t){return this.vfsNative.BytesFree(t)}bytesTotal(t){return this.vfsNative.BytesTotal(t)}readFile(t){if(!this.vfsNative.ReadFile(t))return;const r=this.module.getPointer(this.vfsNative.GetCurrentFileContent()),n=this.vfsNative.GetCurrentFileSize(),o=this.module.HEAPU8.subarray(r,r+n).slice();return this.vfsNative.ReleaseCurrentFile(),o}unlinkFile(t){return this.vfsNative.UnlinkFile(t)}mkdir(t){return this.vfsNative.Mkdir(t)}switchSlot(t){this.vfsNative.SwitchSlot(t)}createZipArchive({files:t,directories:r,prefix:n}){var o=this;return(0,V.Z)(function*(){const i=new o.module.ExportZipContext(n,25),s=[];try{for(t&&t.forEach(f=>i.AddFile(f)),r&&r.forEach(f=>i.AddDirectory(f));2!==i.GetState();){switch(i.Continue()){case-2:case-1:s.push(i.GetErrorItem())}2!==i.GetState()&&(yield new Promise(f=>setTimeout(f,0)))}let a;const l=o.module.getPointer(i.GetZipContent()),d=i.GetZipSize();return 0!==l&&0!==d&&(a=o.module.HEAPU8.subarray(l,l+d).slice()),{archive:a,failedItems:s}}finally{o.module.destroy(i)}})()}deleteRecursive(t){var r=this;return(0,V.Z)(function*(){const n=new r.module.DeleteRecursiveContext(25);try{for(t.forEach(o=>n.AddFile(o));1===n.Continue();)yield new Promise(o=>setTimeout(o,0));return 2===n.GetState()?{success:!0}:{success:!1,failingItem:n.GetFailingPath()}}finally{r.module.destroy(n)}})()}writeFile(t,r){const n=this.copyIn(r);try{return this.vfsNative.WriteFile(t,r.length,n)}finally{this.vfsNative.Free(n)}}unzipArchive(t,r,n){var o=this;return(0,V.Z)(function*(){const i=o.copyIn(r),s=new o.module.UnzipContext(25,t,i,r.length),a=l=>({result:l,entriesTotal:s.GetEntriesTotal(),entriesSuccess:s.GetEntriesSuccess()});try{for(;;)switch(yield new Promise(d=>setTimeout(d,0)),s.GetState()){case 1:return a(Ml.success);case-3:return a(Ml.cardFull);case-1:return a(Ml.ioError);case-2:return a(Ml.zipfileError);case 2:(yield n.onFileCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;case 4:(yield n.onDirectoryCollision(s.GetCollisionPath(),s.GetCurrentEntry()))?s.ContinueWithOverwrite():s.Continue();continue;default:s.Continue()}}finally{o.module.destroy(s),o.vfsNative.Free(i)}})()}paste(t,r,n,o,i){var s=this;return(0,V.Z)(function*(){const a=new s.module.PasteContext(25,t,r);n.forEach(l=>a.AddFile(l)),a.SetDeleteAfterCopy("cut"===o);try{for(;;)switch(yield new Promise(d=>setTimeout(d,0)),a.GetState()){case 1:return Wu.success;case-2:return Wu.cardFull;case-1:return Wu.ioError;case 2:(yield i.onFileCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;case 4:(yield i.onDirectoryCollision(a.GetCollisionPath(),a.GetCurrentEntry()))?a.ContinueWithOverwrite():a.Continue();continue;default:a.Continue()}}finally{s.module.destroy(a)}})()}copyIn(t){const r=this.vfsNative.Malloc(t.length),n=this.module.getPointer(r);return this.module.HEAPU8.subarray(n,n+t.length).set(t),r}}var EZ=C(307),sP=C.n(EZ);function aP(e){return 0===e.length?e:e[0].toUpperCase()+e.substring(1)}const DZ=C.p+"wasm/vfs_web-65d4c4c58f79c339.wasm";let Zu=(()=>{var e;class t{constructor(n,o,i,s,a){this.storageService=n,this.storageCardContext=o,this.fileService=i,this.loadingController=s,this.alertService=a,this.onReleaseCard=new io.j,this.mountedCards=new Array(2),this.primarySlot=0,this.vfs=vS.create(DZ),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0,this.clipboard=void 0,this.clipboardSet=new Set,this.vfs.then(l=>this.vfsInstance=l)}setStorageCardService(n){this.storageCardService=n,n.mountCardEvent.addHandler(this.invalidateClipboardForCard.bind(this)),n.deleteCardEvent.addHandler(this.invalidateClipboardForCard.bind(this))}normalizePath(n){return("/"+n).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(n){return this.normalizePath(n).replace(/^\/+/,"").split("/")}dirname(n){return this.normalizePath(n).replace(/\/[^\/]*$/,"")}isFilenameValid(n){return void 0===n||!/[\/\\]/.test(n)}isEntryInClipboard(n){if(this.clipboard&&this.clipboard.storageId===this.primaryCard?.storageId)return this.clipboardSet.has(n.path)?this.clipboard.operation:void 0}activateCard(n){var o=this;return(0,V.Z)(function*(){if(o.primaryCard?.id!==n){if(o.secondaryCard?.id===n)return o.primarySlot=o.secondarySlot,void(yield o.activatePrimaryCard());throw new Error(`card ${n} not mounted in VFS`)}})()}mountCardUnchecked(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.storageService.getCard(n);if(!a)throw new Error(`no card with id ${n}`);if(s.primaryCard?.id===n||s.secondaryCard?.id===n)throw new Error(`card ${n} already mounted in VFS`);s.storageCardContext.claim(n,Er.vfs),s.primaryCard&&s.primaryCard.storageId===s.clipboard?.storageId&&(s.primarySlot=s.secondarySlot),s.primaryCard&&(yield s.releaseCard(s.primaryCard.id));const l=yield s.vfs;l.allocateImage(a.size);const d=l.getPendingImage();if(!d)throw new Error("failed to allocate image");return i?d.set(i):yield s.storageService.loadCardData(n,d,Er.vfs),l.mountImage(s.primarySlot)?(s.primaryCard=a,yield s.activatePrimaryCard(),!0):(s.storageCardContext.release(n,Er.vfs),!1)})()}releaseCard(n){var o=this;return(0,V.Z)(function*(){let i;if(o.primaryCard?.id===n)i=o.primarySlot;else{if(o.secondaryCard?.id!==n)return;i=o.secondarySlot}(yield o.vfs).unmountImage(i),o.mountedCards[i]=void 0,o.storageCardContext.release(n,Er.vfs),o.onReleaseCard.dispatch(n)})()}readdir(n){if(!this.vfsInstance)return[];const o=this.normalizePath(n);if(!this.directoryCache.has(o)){const i=this.vfsInstance.readdir(n);this.directoryCache.set(o,0===i.error?i.entries:[])}return this.directoryCache.get(o)||[]}updateFileEntry(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.vfs;if(n=i.normalizePath(n),!i.isFilenameValid(o.name))return void(yield i.error("The provided file name is invalid."));const{result:a,entry:l}=s.stat(n);if(0===a)if(void 0===o.attributes||sP()(o.attributes,l.attributes)||0===(i.directoryCache.delete(i.dirname(n)),s.chmod(n,o.attributes))){if(void 0!==o.name&&o.name!==l.name)switch(i.directoryCache.delete(i.dirname(n)),s.rename(n,`${i.dirname(n)}/${o.name}`)){case 0:break;case 6:return void(yield i.error("The provided file name is invalid."));default:return void(yield i.fatalError("Unable to write the updated file attributes."))}yield i.sync()}else yield i.fatalError("Unable to write the updated file attributes.");else yield i.error(`The path ${n} is invalid. This is a bug in Cloudpilot.`)})()}saveFile(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Preparing file..."});yield i.present();try{const a=(yield o.vfs).readFile(n.path);if(!a)return void(yield o.alertService.errorMessage(`Could not read file '${n.name}'.`));o.fileService.saveFile(n.name,a)}finally{yield i.dismiss()}})()}archiveFiles(n,o){var i=this;return(0,V.Z)(function*(){if(0===n.length||!i.primaryCard)return;const s=yield i.loadingController.create({message:"Creating archive..."});yield s.present();try{const a=yield i.vfs,l=n.filter(b=>b.isDirectory).map(b=>i.normalizePath(b.path)),d=n.filter(b=>!b.isDirectory).map(b=>i.normalizePath(b.path)),f=1===n.length?`${n[0].name}.zip`:function gZ(e){return`files_${If(e.name)}.zip`}(i.primaryCard),{archive:h,failedItems:m}=yield a.createZipArchive({directories:l,files:d,prefix:o});yield s.dismiss(),m.length>0&&(m.length<=3?yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.join("<br>")}`):yield i.alertService.message("Warning",`The following files were not archived correctly due to errors: <br><br>${m.slice(0,3).join("<br>")}<br><br> and ${m.length-3} other file`)),h&&i.fileService.saveFile(f,h)}finally{yield s.dismiss()}})()}unlinkEntry(n){var o=this;return(0,V.Z)(function*(){if(n.isDirectory)return;const s=(yield o.vfs).unlinkFile(n.path);if(0!==s)return console.error(`failed to unlink ${n.path}: ${s}`),void(yield o.error(`Failed to delete: ${n.path}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n.path))})()}deleteRecursive(n){var o=this;return(0,V.Z)(function*(){const i=n.map(a=>o.normalizePath(a.path)),s=yield o.loadingController.create({message:"Deleting..."});yield s.present();try{const l=yield(yield o.vfs).deleteRecursive(i);if(!l.success)return yield s.dismiss(),void(yield o.fatalError(`Failed to delete ${l.failingItem}`));yield o.updateBytesFree(),yield o.sync(),o.directoryCache.clear()}finally{yield s.dismiss()}})()}mkdir(n){var o=this;return(0,V.Z)(function*(){switch((yield o.vfs).mkdir(n)){case 6:return void(yield o.alertService.errorMessage("Invalid name."));case 7:return void(yield o.alertService.errorMessage("No space left on card."));case 8:return void(yield o.alertService.errorMessage("Name already taken."));case 0:break;default:return void(yield o.error(`Failed to create ${n}.`))}yield o.updateBytesFree(),yield o.sync(),o.directoryCache.delete(o.dirname(n))})()}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}isClipboardPopulated(){if(!this.clipboard||!this.storageCardService)return!1;const n=this.storageCardService.getAllCards().find(o=>o.storageId===this.clipboard?.storageId);return!!n&&(n.status===mr.clean||n.status===mr.dirty&&!!n.dontFsckAutomatically)}invalidateClipboardForCard(n){this.clipboard?.storageId===n.storageId&&(this.clipboard=void 0,this.clipboardSet.clear())}copyToClipboard(n,o,i){this.primaryCard&&(this.clipboard&&this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)),this.clipboard={operation:i,prefix:this.normalizePath(n),storageId:this.primaryCard.storageId,items:o.map(s=>({name:s,path:this.normalizePath(`${n}/${s}`)}))},this.clipboardSet.clear(),this.clipboard.items.map(s=>s.path).forEach(s=>this.clipboardSet.add(s)),this.directoryCache.delete(this.normalizePath(this.clipboard.prefix)))}unpackArchive(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.loadingController.create({message:"Extracting..."});yield s.present();try{const{entriesTotal:a,entriesSuccess:l,result:d}=yield i.unpackArchiveUnchecked(n,o);let f,h;switch(yield s.dismiss(),d){case Ml.success:f="The archive was extracted successfully, but some entries were skipped.",h="Skipped entries";break;case Ml.ioError:return void(yield i.fatalError("There was an error writing to the card."));case Ml.cardFull:f="No space left on card.",h="No space left";break;case Ml.zipfileError:f="There was an error reading from the archive.",h="Error reading archive";break;default:throw new Error("unreachable")}const m=a-l,b=U=>U>1?`${U} entries`:"one entry";a>0&&m===a&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    The archive contains ${b(a)}, but none could be unpacked.\n                `)),m>0&&l>0&&(yield i.alertService.message(h,`\n                    ${f}\n                    <br><br>\n                    ${aP(b(l))} unpacked succesfully, but ${b(m)} could not be unpacked.\n                `))}finally{s.dismiss()}})()}paste(n){var o=this;return(0,V.Z)(function*(){if(!o.isClipboardPopulated())return;const i=yield o.loadingController.create({message:"Pasting files..."});yield i.present();try{const s=yield o.pasteUnchecked(n);switch(yield i.dismiss(),s){case Wu.cardFull:yield o.alertService.message("No space left","No space left on card.");break;case Wu.ioError:return void(yield o.fatalError("There was an error copying files to the card."))}}catch(s){yield o.alertService.errorMessage(s instanceof Error?s.message:"Unknown error.")}finally{i.dismiss()}})()}addFiles(n,o){var i=this;return(0,V.Z)(function*(){if(0===n.length)return;const s=yield i.loadingController.create({message:" Adding files"});yield s.present();try{const a=yield i.addFilesUnchecked(n,o);yield s.dismiss();const l=d=>d>1?`${d} entries`:"one file";a.length===n.length?yield i.alertService.message("Skipped files","No files were added to the card."):0!==a.length&&(yield i.alertService.message("Skipped files",`Successfully added ${l(n.length-a.length)} to card. ${aP(l(a.length))} could not be added.\n                `))}finally{s.dismiss()}})()}addFilesUnchecked(n,o){var i=this;return(0,V.Z)(function*(){const s=i.readdir(o),a=[],l=yield i.vfs;let d=!1,f=!1,h=!1,m=!1;e:for(let b=0;b<n.length;b++){const U=n[b],ee=s.find(ye=>ye.name===U.name);if(ee&&ee.isDirectory){if(!h){const{overwrite:De,rememberChoice:bt}=yield i.overwriteFileDialog(U.name,"directory");m=De,h=bt}let ye=!0;if(m&&(ye=!(yield l.deleteRecursive([i.normalizePath(`${o}/${U.name}`)])).success),ye){a.push(U.name);continue}}if(ee&&!ee.isDirectory){if(!d){const{overwrite:ye,rememberChoice:De}=yield i.overwriteFileDialog(U.name,"file");f=ye,d=De}if(!f){a.push(U.name);continue}}let he;try{he=yield U.getContent()}catch(ye){console.warn(ye),a.push(U.name),yield i.alertService.errorMessage(`Unable to open ${U.name}`);continue}switch(l.writeFile(i.normalizePath(`${o}/${U.name}`),he)){case 3:yield i.alertService.errorMessage("Card full."),a.push(...n.slice(b).map(ye=>ye.name));break e;case 4:throw yield i.fatalError("Unable to write file."),new Error;case 0:break;default:a.push(U.name)}}return yield i.updateBytesFree(),yield i.sync(),i.directoryCache.delete(i.normalizePath(o)),a})()}collisionHandlers(){var n=this;let o=!1,i=!1,s=!1,a=!1;return{onFileCollision:(l=(0,V.Z)(function*(d){if(i)return o;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(d.replace(/^\d:/,""),"file");return o=f,i=h,o}),function(f){return l.apply(this,arguments)}),onDirectoryCollision:function(){var l=(0,V.Z)(function*(d){if(a)return s;const{overwrite:f,rememberChoice:h}=yield n.overwriteFileDialog(d.replace(/^\d:/,""),"directory");return s=f,a=h,s});return function(f){return l.apply(this,arguments)}}()};var l}unpackArchiveUnchecked(n,o){var i=this;return(0,V.Z)(function*(){const a=yield(yield i.vfs).unzipArchive(i.normalizePath(o),n,{...i.collisionHandlers(),onInvalidEntry:(l=(0,V.Z)(function*(d){yield i.alertService.message("Invalid entry",`Could not extract ${d}`,{},"Continue")}),function(f){return l.apply(this,arguments)})});var l;return a.result!==Ml.ioError&&(yield i.updateBytesFree(),yield i.sync(),i.directoryCache.clear()),a})()}pasteUnchecked(n){var o=this;return(0,V.Z)(function*(){if(!o.clipboard||!o.primaryCard)throw new Error("invalid state for paste");const i=yield o.mountClipboard(),a=yield(yield o.vfs).paste(`${o.primarySlot}:${o.normalizePath(n)}`,`${i}:${o.normalizePath(o.clipboard.prefix)}`,o.clipboard.items.map(l=>l.name),o.clipboard.operation,o.collisionHandlers());return a===Wu.ioError||(yield o.updateBytesFree(),yield o.sync(o.primarySlot),i!==o.primarySlot&&(yield o.sync(i)),o.directoryCache.clear(),"cut"===o.clipboard.operation&&(o.clipboard=void 0,o.clipboardSet.clear())),a})()}mountClipboard(){var n=this;return(0,V.Z)(function*(){if(!n.clipboard||!n.primaryCard||!n.storageCardService)throw new Error("invalid state for paste");if(n.clipboard.storageId===n.primaryCard.storageId)return n.primarySlot;if(n.secondaryCard&&n.clipboard.storageId===n.secondaryCard.storageId)return n.secondarySlot;n.secondaryCard&&(yield n.releaseCard(n.secondaryCard.id));const o=n.storageCardService.getAllCards().find(a=>a.storageId===n.clipboard?.storageId);if(!o)throw new Error("invalid storage card in clipboard");const i=yield n.vfs;i.allocateImage(o.size);const s=i.getPendingImage();if(!s)throw new Error("failed to allocate image");if(n.storageCardContext.claim(o.id,Er.vfs),yield n.storageService.loadCardData(o.id,s,Er.vfs),!i.mountImage(n.secondarySlot))throw n.storageCardContext.release(o.id,Er.vfs),new Error("unable to mount card");return n.secondaryCard=o,n.secondarySlot})()}overwriteFileDialog(n,o){var i=this;return(0,V.Z)(function*(){let s=!1;const a=yield i.alertService.messageWithChoice("File collision","file"===o?`Do you want to overwrite the existing file ${n}?`:`\n                     Do you want to overwrite the existing directory ${n}?\n                     <br><br>\n                     WARNING: All files in this directory will be lost.\n                `,"Remember choice",!1,{Yes:()=>s=!0},"No");return{overwrite:s,rememberChoice:a}})()}error(n){var o=this;return(0,V.Z)(function*(){yield o.alertService.errorMessage(n)})()}fatalError(n){var o=this;return(0,V.Z)(function*(){o.primaryCard&&(yield o.storageService.updateStorageCardPartial(o.primaryCard.id,{status:mr.dirty}),yield o.releaseCard(o.primaryCard.id),o.alertService.errorMessage(`${n}\n        <br><br>\n        No changes have been written, and the card has been unmounted to prevent damage to the file system.\n        `))})()}sync(n=this.primarySlot){var o=this;return(0,V.Z)(function*(){const i=o.mountedCards[n];if(!i)return;const s=yield o.vfs,a=s.getImageInSlot(n),l=s.getDirtyPagesForSlot(n);!a||!l||(yield o.storageService.updateCardData(i.id,a,l,Er.vfs),l.fill(0))})()}activatePrimaryCard(){var n=this;return(0,V.Z)(function*(){const o=yield n.vfs;o.switchSlot(n.primarySlot),n.bytesFree=o.bytesFree(n.primarySlot),n.bytesTotal=o.bytesTotal(n.primarySlot),n.directoryCache.clear()})()}updateBytesFree(){var n=this;return(0,V.Z)(function*(){n.bytesFree=(yield n.vfs).bytesFree(n.primarySlot)})()}get secondarySlot(){return 1-this.primarySlot}get primaryCard(){return this.mountedCards[this.primarySlot]}set primaryCard(n){this.mountedCards[this.primarySlot]=n}get secondaryCard(){return this.mountedCards[this.secondarySlot]}set secondaryCard(n){this.mountedCards[this.secondarySlot]=n}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(rr),ue(Rh),ue(ru),ue(da),ue(ao))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Zo=function(e){return e[e.mb4=0]="mb4",e[e.mb8=1]="mb8",e[e.mb16=2]="mb16",e[e.mb32=3]="mb32",e[e.mb64=4]="mb64",e[e.mb128=5]="mb128",e}(Zo||{});class av extends Error{constructor(t){super(t)}}function lP(){return nS().replace(/-/g,"")}let xf=(()=>{var e;class t{constructor(n,o,i,s,a,l,d,f,h,m,b,U){this.sessionService=n,this.storageService=o,this.emulationStateService=i,this.cloudpilotService=s,this.loadingController=a,this.snapshotService=l,this.alertService=d,this.errorService=f,this.fileService=h,this.vfsService=m,this.storageCardContext=b,this.fstools=U,this.mountCardEvent=new io.j,this.deleteCardEvent=new io.j,this.loading=!0,this.cards=[],this.updateMutex=new xl,this.vfsService.setStorageCardService(this),this.updateCardsFromDB().then(()=>this.loading=!1),o.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Formatting..."});try{yield a.present();const l=yield s.fstools.mkfs(function IZ(e){switch(e){case Zo.mb4:return 4;case Zo.mb8:return 8;case Zo.mb16:return 16;case Zo.mb32:return 32;case Zo.mb64:return 64;case Zo.mb128:return 128;default:throw new Error(`bad card size ${e}`)}}(o));if(!l)throw new Error("failed to create image");const d={storageId:lP(),name:n,size:4*l.length,status:mr.clean,dontFsckAutomatically:i};return yield s.storageService.importStorageCard(d,l)}finally{a.dismiss()}})()}createCardFromImage(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Importing..."});try{yield a.present(),yield s.doCreateCardFromImage(n,o,i)}finally{a.dismiss()}})()}onEmulatorStop(){const n=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==n&&this.storageCardContext.release(n,Er.cloudpilot)}loadCardInEmulator(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield i.vfsService.releaseCard(n);const a=yield i.cloudpilotService.cloudpilot;if(a.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!a.allocateCard(s.storageId,s.size))throw new Error("failed to allocate card");const l=a.getCardData(s.storageId);if(!l)throw new Error("failed to access card data");return i.storageCardContext.claim(n,Er.cloudpilot),o?l.set(o):yield i.storageService.loadCardData(s.id,l,Er.cloudpilot),s})()}ejectCurrentCard(){var n=this;return(0,V.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)throw new Error("no running session");const i=o?.mountedCard;if(void 0===i)throw new Error("no mounted card");const s=yield n.storageService.getCard(i);if(!s)throw new Error(`no card with id ${i}`);yield n.storageService.updateStorageCardPartial(i,{status:mr.dirty}),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),yield n.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),(yield n.cloudpilotService.cloudpilot).removeCard(s.storageId),n.snapshotService.resetCard(),n.storageCardContext.release(i,Er.cloudpilot)})()}checkCard(n){var o=this;return(0,V.Z)(function*(){const i=o.mountedInSession(n.id);if(i){let a=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be checked.`,{"Eject now":()=>a=!0},"Cancel"),!a)return;yield o.ejectCard(n.id)}const s=yield o.executeFsckAndUpdateCard(n.id);switch(s.getResult()){case 1:return void o.alertService.cardIsClean();case 3:return void o.alertService.cardHasNoValidFileSystem();case 4:o.alertService.cardHasUncorrectableErrors();break;case 2:{let a=!1;return yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors${n.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),void(a?yield o.applyFsckResult(n.id,s):o.storageCardContext.release(n.id,Er.fstools))}}})()}insertCard(n){return this.checkAndClaimCard(n,"insert")}browseCard(n){var o=this;return(0,V.Z)(function*(){if(o.storageCardContext.getOwner(n.id)===Er.vfs)return yield o.vfsService.activateCard(n.id),!0;const i=o.mountedInSession(n.id);if(i){let s=!1;if(yield o.alertService.message("Card is attached",`This card needs to be ejected from session '${i.name}' before it can be browsed.`,{"Eject now":()=>s=!0},"Cancel"),!s)return!1;yield o.ejectCard(n.id)}return o.checkAndClaimCard(n.id,"vfs")})()}updateCard(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);return!o.dontFsckAutomatically&&s.dontFsckAutomatically&&(o.status=mr.dirty),i.storageService.updateStorageCardPartial(n,o)})()}deleteCard(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Deleting..."});yield i.present();try{const s=o.cards.find(a=>a.id===n);yield o.vfsService.releaseCard(n),yield o.ejectCard(n),yield o.storageService.deleteStorageCard(n),s&&o.deleteCardEvent.dispatch(s)}finally{i.dismiss()}})()}saveCard(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.getCard(n);if(!a)throw new Error(`no card with id ${n}`);const l=yield s.loadingController.create({message:"Exporting..."});let d;try{yield l.present(),d=yield s.getCardData(a,i?o:void 0)}finally{l.dismiss()}d&&s.fileService.saveFile(i?`${o}.gz`:o,d)})()}saveCards(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."}),s=yield o.fstools.createZipContext(0);try{yield i.present();const a=new Set,l=yield o.fstools.createGzipContext();let d=0;for(const f of n){d++;const h=yield o.getCard(f);if(!h)continue;i.message=`Exporting ${d}/${n.length}...`;const m=Df(h.name,U=>a.has(U));a.add(m);const b=yield o.getCardData(h,m,l);b&&(yield s.addEntry(`${m}.img.gz`,b))}}catch(a){yield i.dismiss(),yield o.alertService.errorMessage(`Failed to export card images: ${a?.message??"unknown error"}`)}finally{i.dismiss()}o.fileService.saveFile(function mZ(){return`${If("cards")}.zip`}(),s.getContent())})()}getCard(n){var o=this;return(0,V.Z)(function*(){return o.storageService.getCard(n)})()}mountedInSession(n){return this.sessionService.getSessions().find(o=>o.mountedCard===n)}isLoading(){return this.loading}addAllCardsFromArchive(n){var o=this;return(0,V.Z)(function*(){const i=/\.(bin|img)(|\.gz)$/i,s=Si?"\n                This can be caused by either a corrupted image or zip file,\n                or by a Safari browser bug triggered by a low memory condition.\n                <br><br>\n                Please force close and reopen the app after a few seconds and try again. If the import\n                keeps failing, please unpack the archive and import the cards manually.\n            ":"",a=yield o.loadingController.create({message:"Importing..."});try{yield a.present();const l=yield o.cloudpilotService.cloudpilot,d=yield o.fstools.createZipfileWalker(n);if(-1===d.GetState())return void(yield o.alertService.errorMessage("Import failed: unable to read zip file."));const f=d.GetTotalEntries(),h=new Set((yield o.getAllCards()).map(he=>he.name)),m=yield o.fstools.createGunzipContext();let b=1,U=!1;const ee=[];for(;0===d.GetState();){a.message=`Importing ${b++}/${f}...`;let he=d.GetCurrentEntryName();try{if(!i.test(he))throw new av(`${he} has the wrong suffix to be considered as a card image.`);let ye=d.GetCurrentEntryContent();if(he.endsWith(".gz")&&ye&&(m.initialize(ye),ye=(yield m.gunzip())?m.getDecompressedData():void 0,he=he.substring(0,he.length-3)),void 0===ye)throw new av(`Failed to extract ${he}. ${s}`);if(0===l.getCardSupportLevel(ye.length))throw new av(`${he} is not a valid card image.`);const De=Df(he.replace(i,""),bt=>h.has(bt));yield o.doCreateCardFromImage(De,ye,!1,!0)}catch(ye){if(!(ye instanceof av))throw ye;ee.push(he),U||(U=yield o.alertService.messageWithChoice("Error",ye.message,"Skip further errors",U,{},"Continue"))}finally{d.Next()}}ee.length<=3&&ee.length>0?yield o.alertService.errorMessage(`The following files could not be imported: <br><br>${ee.join("<br>")}`):ee.length>3&&(yield o.alertService.errorMessage(`\n                        The following files could not be imported: <br><br>${ee.slice(0,3).join("<br>")}\n                        <br><br>\n                        and ${ee.length-3} more files.\n                    `))}catch(l){yield a.dismiss(),yield o.alertService.errorMessage(`Failed to import card images: ${l?.message??"unknown error"}<br><br>${s}`)}finally{a.dismiss()}})()}doCreateCardFromImage(n,o,i,s=!1){var a=this;return(0,V.Z)(function*(){const l={storageId:lP(),name:n,size:o.length,status:s?mr.dirty:mr.clean,dontFsckAutomatically:i},d=new Uint32Array(o.buffer,o.byteOffset,o.byteLength>>>2);if(s||i)yield a.storageService.importStorageCard(l,d);else{const[f,h]=yield a.fsckNewCard(d,l);yield a.storageService.importStorageCard(h,f)}})()}getCardData(n,o,i){var s=this;return(0,V.Z)(function*(){let a;if(void 0!==o&&(i=i??(yield s.fstools.createGzipContext())).initialize(n.size),i){const f=i.getBuffer();a=new Uint32Array(f.buffer,f.byteOffset,f.byteLength>>2)}const l=s.mountedInSession(n.id);let d;return l&&l.id===s.emulationStateService.getCurrentSession()?.id&&(yield s.snapshotService.waitForPendingSnapshot(),yield s.snapshotService.triggerSnapshot(),d=(yield s.cloudpilotService.cloudpilot).getCardData(n.storageId),d&&(a?a.set(d):a=d)),d||(a||(a=new Uint32Array(n.size>>>2)),yield s.storageService.loadCardData(n.id,a,s.storageCardContext.getOwner(n.id))),i&&o?(i.setFilename(o).setMtime(Math.floor(Date.now()/1e3)),(yield i.gzip())?i.getGzipData():void(yield s.alertService.errorMessage("Failed to compress card image."))):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)})()}updateCardsFromDB(){var n=this;return(0,V.Z)(function*(){n.cards=yield n.updateMutex.runExclusive((0,V.Z)(function*(){return(yield n.storageService.getAllStorageCards()).sort((o,i)=>o.name.localeCompare(i.name))}))})()}cardIsMounted(n){var o=this;return(0,V.Z)(function*(){return(yield o.storageService.getAllSessions()).some(s=>s.mountedCard===n)})()}checkAndClaimCard(n,o){var i=this;return(0,V.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");let s=yield i.getCard(n);if(!s)throw new Error(`no card with id ${n}`);let a,l=!0,d=!1;if(!s.dontFsckAutomatically){if(s.status===mr.dirty){if(a=yield i.executeFsckAndUpdateCard(n),2===a.getResult()){if(l=!1,yield i.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===o?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>l=!0},"Cancel"),!l)return i.storageCardContext.release(n,Er.fstools),!1;yield i.applyFsckResult(s.id,a)}if(s=yield i.getCard(n),!s)throw new Error(`no card with id ${n}`)}switch(s.status){case mr.clean:break;case mr.unformatted:if("vfs"===o)return yield i.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case mr.dirty:return yield i.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===o?"inserted":"browsed"}.`),!1;case mr.unfixable:if(l=!1,d=!0,yield i.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. Writing could cause further damage. Do you want to insert it nevertheless?",{"Insert card":()=>l=!0},"Cancel"),!l)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===o?(yield i.vfsService.releaseCard(n),yield i.mountCardInEmulator(n,a?.getImageData())):(yield i.mountCardForBrowsing(n,d,a?.getImageData()))||(yield i.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return i.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});try{if(yield i.present(),yield o.cardIsMounted(n))throw new Error("attempt to fsck a mounted card");const s=yield o.storageService.getCard(n);if(!s)throw new Error(`no card with id ${n}`);yield o.vfsService.releaseCard(n),o.storageCardContext.claim(n,Er.fstools);const a=yield o.fstools.createFsckContext(s.size);switch(yield o.storageService.loadCardData(s.id,a.getImageData(),Er.fstools),a.fsck()){case 1:yield o.storageService.updateStorageCardPartial(n,{status:mr.clean}),o.storageCardContext.release(n,Er.fstools);break;case 3:yield o.storageService.updateStorageCardPartial(n,{status:mr.unformatted}),o.storageCardContext.release(n,Er.fstools);break;case 2:yield o.storageService.updateStorageCardPartial(n,{status:mr.dirty});break;case 4:yield o.storageService.updateStorageCardPartial(n,{status:mr.unfixable}),o.storageCardContext.release(n,Er.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return a}finally{i.dismiss()}})()}applyFsckResult(n,o){var i=this;return(0,V.Z)(function*(){if(2!==o.getResult())return;const s=yield i.loadingController.create({message:"Fixing errors..."});try{yield s.present(),yield i.storageService.updateCardData(n,o.getImageData(),o.getDirtyPages(),Er.fstools),yield i.storageService.updateStorageCardPartial(n,{status:mr.clean}),i.storageCardContext.release(n,Er.fstools)}finally{s.dismiss()}})()}fsckNewCard(n,o){var i=this;return(0,V.Z)(function*(){const s=yield i.loadingController.create({message:"Checking card..."});let a,l;try{yield s.present(),a=yield i.fstools.createFsckContext(o.size),a.getImageData().set(n),l=a.fsck()}finally{s.dismiss()}switch(l){case 1:return[n,{...o,status:mr.clean}];case 2:{let d=!1;return yield i.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>d=!0},"Skip"),d?[a.getImageData(),{...o,status:mr.clean}]:[n,{...o,status:mr.dirty}]}case 3:return yield i.alertService.cardHasNoValidFileSystem(),[n,{...o,status:mr.unformatted}];case 4:return yield i.alertService.cardHasUncorrectableErrors(),[n,{...o,status:mr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(n){var o=this;return(0,V.Z)(function*(){const i=o.mountedInSession(n),s=yield o.storageService.getCard(n);!i||!s||(i.id===o.emulationStateService.getCurrentSession()?.id?yield o.ejectCurrentCard():(yield o.storageService.updateSessionPartial(i.id,{mountedCard:void 0}),yield o.storageService.updateStorageCardPartial(n,{status:mr.dirty})))})()}mountCardInEmulator(n,o){var i=this;return(0,V.Z)(function*(){if(yield i.cardIsMounted(n))throw new Error("card already mounted");const s=yield i.loadingController.create({message:"Inserting..."});try{yield s.present(),yield i.vfsService.releaseCard(n);const a=i.emulationStateService.getCurrentSession();if(!a)throw new Error("no current session");if(void 0!==a.mountedCard)throw new Error("session already has a mounted card");const l=yield i.loadCardInEmulator(n,o),d=yield i.cloudpilotService.cloudpilot;if(yield i.storageService.updateStorageCardPartial(n,{status:mr.dirty}),yield i.storageService.updateSessionPartial(a.id,{mountedCard:n}),!d.mountCard(l.storageId))throw d.removeCard(l.storageId),new Error("failed to mount card");return i.mountCardEvent.dispatch(l),l}finally{s.dismiss()}})()}mountCardForBrowsing(n,o,i){var s=this;return(0,V.Z)(function*(){const a=yield s.loadingController.create({message:"Mounting..."});try{return yield a.present(),yield s.vfsService.mountCardUnchecked(n,o,i)}finally{a.dismiss()}})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(dc),ue(rr),ue(cc),ue(Va),ue(da),ue(Fh),ue(ao),ue(Gu),ue(ru),ue(Zu),ue(Rh),ue(iv))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),ja=(()=>{var e;class t extends U9{constructor(n,o,i,s,a,l,d,f,h,m,b,U,ee,he,ye,De,bt,vt){var pt;super(),pt=this,this.storageService=n,this.ngZone=o,this.loadingController=i,this.emulationState=s,this.snapshotService=a,this.errorService=l,this.alertService=d,this.modalWatcher=f,this.clipboardService=h,this.kvsService=m,this.proxyService=b,this.buttonService=U,this.bootstrapService=ee,this.cloudpilotService=he,this.storageCardService=ye,this.storageCardContext=De,this.sessionsService=bt,this.app=vt,this.switchSession=(Pn,qs={})=>this.mutex.runExclusive((0,V.Z)(function*(){if(Pn===pt.emulationState.getCurrentSession()?.id)return!0;let ns;yield pt.stopUnchecked(),yield pt.bootstrapService.hasRendered(),(qs.showLoader??1)&&(ns=yield pt.loadingController.create({message:"Loading..."}),yield ns.present());try{const fv=yield pt.storageService.getSession(Pn);if(!fv)throw new Error(`invalid session ${Pn}`);pt.emulationState.setCurrentSession(void 0);const jK=yield pt.cloudpilotService.cloudpilot;if(!(yield pt.restoreSession(fv,jK)))return pt.alertService.errorMessage("Failed to launch session. This may be the result of a bad ROM file."),!1;pt.emulationState.setCurrentSession(fv),yield pt.sessionsService.updateSession({...fv,lastLaunch:Date.now()}),function ZW(e){localStorage.setItem(Y_,e+"")}(Pn)}finally{ns&&(yield ns.dismiss())}return!0})),this.resume=()=>this.mutex.runExclusive((0,V.Z)(function*(){!pt.emulationState.getCurrentSession()||pt.running||pt.errorService.hasFatalError()||!pt.cloudpilotInstance||(yield pt.kvsService.mutex.runExclusive(()=>pt.updateFeatures()),pt.doResume(),pt.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,V.Z)(function*(){pt.doPause(),!pt.errorService.hasFatalError()&&pt.emulationState.getCurrentSession()&&(yield pt.snapshotService.waitForPendingSnapshot(),yield pt.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([Pn,qs])=>this.mutex.runExclusive((0,V.Z)(function*(){const ns=pt.emulationState.getCurrentSession();Pn===ns?.id&&(void 0!==ns.mountedCard&&void 0===qs&&pt.storageCardContext.release(ns.mountedCard,Er.cloudpilot),pt.emulationState.setCurrentSession(qs),pt.emulationState.getCurrentSession()||(xR(),pt.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,V.Z)(function*(){const Pn=pt.emulationState.getCurrentSession();Pn&&pt.sessionsService.emergencySaveSession(Pn)})),this.mutex=new xl,this.lastSnapshotAt=0,n.sessionChangeEvent.addHandler(this.onSessionChange),l.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(Pn=>{Pn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(Pn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const Mn=function WW(){const e=localStorage.getItem(Y_);return e?parseInt(e,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==Mn&&!JT()&&(this.bootstrapCompletePromise=this.recoverStoredSession(Mn))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(n){const o=this.emulationState.getCurrentSession();o&&this.storageService.updateSessionPartial(o.id,{hotsyncName:n})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?Sf.timeout:Sf.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(n,o){if(!this.cloudpilotInstance)return;const i=this.emulationState.getCurrentSession();this.uiInitialized&&i&&void 0===i.osVersion&&this.storageService.updateSessionPartial(i.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(o/this.cloudpilotInstance.cyclesPerSecond()),n-this.lastSnapshotAt>1e3&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=n),this.isDirty&&this.app.tick()}handleSuspend(){this.cloudpilotInstance&&(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var n=this;return(0,V.Z)(function*(){n.emulationState.getCurrentSession()&&(n.doStop(),yield n.snapshotService.waitForPendingSnapshot(),yield n.snapshotService.triggerSnapshot(),n.storageCardService.onEmulatorStop(),n.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const n=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==n&&this.cloudpilotInstance.setClipboardIntegration(n),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(n){var o=this;return(0,V.Z)(function*(){let i;const s=setTimeout(()=>{i=o.loadingController.create({message:"Loading..."}).then(function(){var a=(0,V.Z)(function*(l){return yield l.present(),l});return function(l){return a.apply(this,arguments)}}())},100);try{yield o.switchSession(n,{showLoader:!1})}catch{Si&&o.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}finally{i&&i.then(a=>a.dismiss()),clearTimeout(s)}})()}restoreSession(n,o){var i=this;return(0,V.Z)(function*(){const[s,a,l]=yield i.storageService.loadSession(n,i.kvsService.kvs.snapshotIntegrityCheck);if(!s)throw new Error(`invalid ROM ${n.rom}`);return o.clearExternalStorage(),void 0!==n.mountedCard&&(yield i.storageCardService.loadCardInEmulator(n.mountedCard)),!!i.openSession(o,s,n.device,a,l)&&(i.proxyService.reset(),i.buttonService.reset(o),yield i.snapshotService.initialize(n,yield i.cloudpilotService.cloudpilot),!0)})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(rr),ue(Ue),ue(da),ue(cc),ue(Fh),ue(Gu),ue(ao),ue(aS),ue(XR),ue(Ri),ue(uS),ue(eP),ue(tP),ue(Va),ue(xf),ue(Rh),ue(dc),ue(Oa))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),yS=(()=>{var e;class t{constructor(n){this.loadingController=n,this.reloadOnControllerChange=!1,this.updateAvailableEvent=new io.j,this.register()}isEnabled(){return!!navigator.serviceWorker}isRegistered(){return!!navigator.serviceWorker?.controller}update(){var n=this;return(0,V.Z)(function*(){n.registration&&n.registration.update()})()}activateUpdate(){var n=this;return(0,V.Z)(function*(){n.registration?.waiting&&(yield(yield n.loadingController.create({message:"Updating..."})).present(),n.registration.waiting.postMessage({type:"SKIP_WAITING"}))})()}register(){var n=this;return(0,V.Z)(function*(){if(n.isEnabled()&&navigator.serviceWorker){navigator.serviceWorker.addEventListener("controllerchange",()=>n.reloadOnControllerChange&&window.location.reload()),yield new Promise(o=>setTimeout(o,3e3));try{n.setupRegistration(yield n.doRegister())}catch(o){console.error(o)}}})()}doRegister(){return(0,V.Z)(function*(){return navigator.serviceWorker.register("ngsw-worker.js",{scope:"./",updateViaCache:"none"})})()}setupRegistration(n){this.registration=n,n.waiting&&this.dispatchUpdate(),n.installing&&this.handleInstallingWorker(n.installing),n.addEventListener("updatefound",()=>n.installing&&this.handleInstallingWorker(n.installing))}handleInstallingWorker(n){let o=!1;n.addEventListener("statechange",()=>{"installed"!==n.state||o||(o=!0,this.dispatchUpdate())})}dispatchUpdate(){navigator.serviceWorker.controller&&this.registration?.waiting&&(this.reloadOnControllerChange=!0,this.updateAvailableEvent.dispatch(void 0))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(da))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),cP=(()=>{var e;class t{constructor(n,o,i,s,a){var l=this;this.kvsService=n,this.emulationService=o,this.alertService=i,this.modalController=s,this.serviceWorkerService=a,this.checkForUpgrade=()=>this.mutex.runExclusive((0,V.Z)(function*(){const d=l.kvsService.kvs.version;void 0!==d?d!==zu&&(yield l.kvsService.set({version:zu,previousVersion:d,latestVersion:zu}),yield l.emulationService.bootstrapComplete(),yield l.alertService.message("Update complete",`CloudpilotEmu was updated to version ${zu}.`,{Changes:()=>l.showChangelog()})):l.kvsService.kvs.version=zu})),this.mutex=new xl,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var n=this;this.serviceWorkerService.updateAvailableEvent.addHandler((0,V.Z)(function*(){yield n.emulationService.bootstrapComplete(),n.alertService.updateAvailable(()=>n.serviceWorkerService.activateUpdate())}))}checkForDowngrade(){var n=this;return(0,V.Z)(function*(){if(yield n.kvsService.initialize(),n.kvsService.kvs.previousVersion===zu){const o=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),o&&(yield o.unregister())&&(yield n.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var n=this;return(0,V.Z)(function*(){yield(yield n.modalController.create({component:Hu,componentProps:{url:VR,title:"Changelog"}})).present()})()}scheduleUpdateCheck(){var n=this;setTimeout((0,V.Z)(function*(){yield n.serviceWorkerService.update(),n.scheduleUpdateCheck()}),9e5)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ri),ue(ja),ue(ao),ue(Cs),ue(yS))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),RZ=(()=>{var e;class t{constructor(n,o,i,s){this.kvsService=n,this.alertService=o,this.emulationService=i,this.pwaService=s}start(){var n=this;return(0,V.Z)(function*(){const o=n.kvsService.kvs.infoId??0;n.kvsService.kvs.infoId=yield n.showInfo(o),n.pwaService.getInstallationMode()===ju.pwa&&Si&&!kh&&(n.kvsService.kvs.ios174UpdateWarningId=yield n.showIOS174UpdateWarning(n.kvsService.kvs.ios174UpdateWarningId))})()}showInfo(n){var o=this;return(0,V.Z)(function*(){return 2===n&&Si&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("iOS 17 bug resolved","\n                The browser bug that impacted startup and offline use on iOS 17\n                has been fully resolved by switching to another service worker\n                implementation that does not trigger it.\n                <br><br>\n                CloudpilotEmu now is fully functional on iOS 17 again.\n            ")),3})()}showIOS174UpdateWarning(n){var o=this;return(0,V.Z)(function*(){return(n??0)<2&&(yield o.emulationService.bootstrapComplete(),yield o.alertService.message("Update to iOS 17.4",'\n            Starting with iOS 17.4, homescreen apps will open in Safari on all iPhones in the\n            European Union. CloudpilotEmu will continue to work as a web page, but all data stored by the\n            homescreen app will be lost.\n            <br><br>\n            Please export all your sessions and card images before updating to iOS 17.4.\n            <br><br>\n            You can find more information under "Known issues" on the "About" tab.')),2})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ri),ue(ao),ue(ja),ue(oS))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),PZ=(()=>{var e;class t{constructor(n,o,i,s){this.pwaService=n,this.updateService=o,this.bootstrapService=i,this.infoService=s}ngAfterViewInit(){var n=this;return(0,V.Z)(function*(){n.bootstrapService.notifyHasRendered(),yield n.infoService.start(),n.pwaService.invite(),n.updateService.start()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(oS),v(cP),v(tP),v(RZ))},e.\u0275cmp=Ze({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,o){1&n&&(G(0,"ion-app"),je(1,"ion-router-outlet"),L())},dependencies:[nR,Ih]}),t})(),uP=(()=>{var e;class t{constructor(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-dummy"]],decls:2,vars:0,template:function(n,o){1&n&&(G(0,"div"),Ce(1,"Dummy"),L())},encapsulation:2}),t})(),dP=(()=>{var e;class t{constructor(n,o){this.linkApi=n,this.router=o}canActivate(n){return n.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!n.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(n.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(EC),ue(zo))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const bS=J.m515,OZ=iS[2],FZ=iS[0],Tf="rgba(0,0,0,0.2)";function fP(e){const t=Oh(e),r=(0===t.screenSize?3:2)*devicePixelRatio,n={frameDevice:1,frameCanvas:r},o=l=>({frameDevice:l,frameCanvas:l*r}),i=l=>({frameDevice:l,frameCanvas:n.frameCanvas+l*r}),s=o(t.silkscreenHeight>0?1:0),a=o(function BZ(e){switch(e){case 3:case 1:return 60;case 2:return 45;default:return 30}}(t.screenSize));return{scale:r,borderWidth:n,height:o(2*n.frameDevice+t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice),width:o(2*n.frameDevice+t.width),screenHeight:o(t.height),screenWidth:o(t.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(t.height),separatorHeight:s,silkscreenHeight:o(t.silkscreenHeight),silkscreenTop:i(t.height+s.frameDevice),silkscreenBottom:i(t.height+s.frameDevice+t.silkscreenHeight),softSilkscreenHeight:o(t.silkscreenHeight>0?0:t.height-t.width),buttonHeight:a,buttonWidth:a,buttonTop:i(t.height+s.frameDevice+t.silkscreenHeight),buttonBottom:i(t.height+s.frameDevice+t.silkscreenHeight+a.frameDevice)}}class VZ{constructor(t){this.skinLoader=t,this.layout=fP(bS),this.onResize=new io.j}get width(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case Rr.portrait:case Rr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(t){this.drawEmulationCanvas(t),this.onAfterUpdateCanvas()}eventToPalmCoordinates(t,r=!1){if(!this.ctx)return;const n=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;n.width/n.height>this.width/this.height?(a=n.height,s=this.width/this.height*n.height,i=n.top,o=n.left+(n.width-s)/2):(s=n.width,a=this.height/this.width*n.width,o=n.left,i=n.top+(n.height-a)/2);let l=(t.clientX-o)/s*this.width/this.layout.scale,d=(t.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case Rr.landscape90:{const h=d;d=this.layout.height.frameDevice-l,l=h;break}case Rr.landscape270:{const h=d;d=l,l=this.layout.width.frameDevice-h;break}case Rr.portrait180:l=this.layout.width.frameDevice-l,d=this.layout.height.frameDevice-d}l-=this.layout.borderWidth.frameDevice,d-=this.layout.borderWidth.frameDevice,d>=this.layout.screenHeight.frameDevice&&(d<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?d=this.layout.screenHeight.frameDevice:d-=this.layout.separatorHeight.frameDevice);const f=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(r)l<0&&(l=0),l>=this.layout.screenWidth.frameDevice&&(l=this.layout.screenWidth.frameDevice-1),d<0&&(d=0),d>=f&&(d=f-1);else if(l<0||l>=this.layout.screenWidth.frameDevice||d<0||d>=f)return;return[l,d]}isSilkscreen(t){const[,r]=t;return!this.isButtons(t)&&r>=this.layout.screenHeight.frameDevice}isButtons([,t]){return t>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([t,r]){return t>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:t>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:t>=2*this.layout.buttonWidth.frameDevice?r>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:t>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(t=this.ctx?.canvas){var r=this;return(0,V.Z)(function*(){if(!t)return;r.layout=fP(r.getDeviceId()),r.onResize.dispatch(),t.width=r.width,t.height=r.height;const n=t.getContext("2d");if(!n)throw new Error("canvas not supported - get a new browser");r.ctx=n,r.setupTransformation(),r.fillCanvasRect(0,0,r.layout.width.frameCanvas,r.layout.height.frameCanvas,r.frameColor()),r.fillRect(0,0,r.layout.screenWidth.frameDevice,r.layout.screenHeight.frameDevice+r.layout.silkscreenHeight.frameDevice+r.layout.separatorHeight.frameDevice+r.layout.buttonHeight.frameDevice,r.backgroundColor()),r.drawEmulationCanvas(),yield Promise.all([r.drawSilkscreen(),r.drawButtons()])})()}drawButtons(t=[]){var r=this;return(0,V.Z)(function*(){r.ctx&&(r.setupTransformation(),r.ctx.imageSmoothingEnabled=!0,r.ctx.imageSmoothingQuality="high",r.ctx.drawImage(yield r.buttonsImage()(r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),r.layout.screenLeft.frameCanvas,r.layout.buttonTop.frameCanvas,r.layout.screenWidth.frameCanvas,r.layout.buttonHeight.frameCanvas),t.includes(0)&&r.fillRect(0,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Tf),t.includes(1)&&r.fillRect(r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Tf),t.includes(2)&&r.fillRect(r.layout.screenWidth.frameDevice-2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Tf),t.includes(3)&&r.fillRect(r.layout.screenWidth.frameDevice-r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice,Tf),t.includes(4)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Tf),t.includes(5)&&r.fillRect(2*r.layout.buttonWidth.frameDevice,r.layout.buttonTop.frameDevice+r.layout.buttonHeight.frameDevice/2,r.layout.screenWidth.frameDevice-4*r.layout.buttonWidth.frameDevice,r.layout.buttonHeight.frameDevice/2,Tf))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case Rr.portrait:case void 0:break;case Rr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case Rr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case Rr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var t=this;return(0,V.Z)(function*(){0===t.layout.silkscreenHeight.frameCanvas||!t.ctx||(t.setupTransformation(),t.fillRect(t.layout.screenLeft.frameDevice,t.layout.silkscreenTop.frameDevice,t.layout.screenWidth.frameDevice,t.layout.silkscreenHeight.frameDevice,OZ),t.ctx.imageSmoothingEnabled=!0,t.ctx.imageSmoothingQuality="high",t.ctx.drawImage(yield t.silkscreenImage()(t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas),t.layout.borderWidth.frameCanvas,t.layout.silkscreenTop.frameCanvas,t.layout.screenWidth.frameCanvas,t.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(t=this.lastEmulationCanvas){!t||!this.ctx||(this.lastEmulationCanvas=t,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(t,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*t,this.layout.borderWidth.frameCanvas+this.layout.scale*r,this.layout.scale*n,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(t,r,n,o,i){this.ctx&&(this.ctx.beginPath(),this.ctx.rect(t,r,n,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){return this.skinLoader.loadSkinElement(this.silkscreenSkinElement())}silkscreenSkinElement(){switch(this.getDeviceId()){case J.pegT600c:case J.pegT650c:return"silkscreen/clie-t600.svg";case J.pegN700c:case J.pegN600c:return"silkscreen/clie-n610.svg";case J.pegS320:case J.pegS300:return"silkscreen/clie-s300.svg";case J.pegS500c:return"silkscreen/clie-s500.svg";case J.pegT400:return"silkscreen/clie-t415.svg";case J.acerS11:return"silkscreen/acer-s10.svg";case J.palmPilot:case J.pilot:case J.iii:case J.palmVII:return"silkscreen/pilot.svg";case J.m500:return"silkscreen/m500.svg";case J.m505:case J.m515:case J.m520:return"silkscreen/m515.svg";case J.iiic:return"silkscreen/iiic.svg";case J.m100:case J.m105:case J.m125:return"silkscreen/m100.svg";case J.m130:return"silkscreen/m130.svg";case J.i710:return"silkscreen/tungstenw.svg";case J.i705:return"silkscreen/i705.svg";default:return"silkscreen/v.svg"}}buttonsImage(){return this.skinLoader.loadSkinElement(this.buttonsSkinElement())}buttonsSkinElement(){switch(this.getDeviceId()){case J.acerS11:return"hard-buttons/acer-s10.svg";case J.pegNR70:return"hard-buttons/clie-nr70.svg";case J.pegN700c:return"hard-buttons/clie-n700.svg";case J.pegN600c:return"hard-buttons/clie-n610.svg";case J.pegS300:return"hard-buttons/clie-s300.svg";case J.pegS500c:return"hard-buttons/clie-s500.svg";case J.pegS320:return"hard-buttons/clie-s320.svg";case J.pegT400:case J.pegT600c:case J.pegT650c:return"hard-buttons/clie-t415.svg";case J.pilot:case J.palmPilot:return"hard-buttons/pilot.svg";case J.m500:return"hard-buttons/m500.svg";case J.m505:case J.m515:case J.m520:return"hard-buttons/m515.svg";case J.iiic:return"hard-buttons/iiic.svg";case J.m100:case J.m105:return"hard-buttons/m100.svg";case J.m125:return"hard-buttons/m125.svg";case J.m130:return"hard-buttons/m130.svg";case J.i710:return"hard-buttons/tungstenw.svg";case J.iii:case J.iiix:case J.iiixe:case J.palmVII:case J.palmVIIEZ:case J.palmVIIx:return"hard-buttons/iiix.svg";case J.iiie:return"hard-buttons/iiie.svg";case J.i705:return"hard-buttons/i705.svg";case J.handera330:return"hard-buttons/handera330.svg";case J.handera330c:return"hard-buttons/handera330c.svg";case J.lp168:return"hard-buttons/lp168.svg";default:return"hard-buttons/v.svg"}}backgroundColor(){return sS(this.getDeviceId())?"white":FZ}frameColor(){return sS(this.getDeviceId())?"white":"#ccc"}}function GZ(e){return new Promise((t,r)=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>r(),n.src=e})}class HZ{constructor(t){this.cloudpilot=t,this.images=new Map}loadSkinElement(t){if(this.images.has(t))return this.images.get(t);const r=this.cloudpilot.then(o=>o.loadSkin(t)).then(o=>{return o?Promise.all([o,GZ((e=o,`data:image/svg+xml;base64,${btoa(e)}`))]):Promise.reject(new Error(`failed to load skin ${t}`));var e}),n=function jZ(e,t){let r,n;const o=document.createElement("canvas");return function(){var i=(0,V.Z)(function*(s,a){if(r===s&&n===a)return o;o.width=s,o.height=a;const l=o.getContext("2d");if(!l)throw new Error("get a new browser");return l.drawImage(yield e,0,0,o.width,o.height),(ER||Si)&&(yield t).indexOf("data:image")>=0&&(yield new Promise(d=>setTimeout(d,0)),l.drawImage(yield e,0,0,o.width,o.height)),r=s,n=a,o});return function(s,a){return i.apply(this,arguments)}}()}(r.then(([,o])=>o),r.then(([o])=>o));return this.images.set(t,n),n}}let lv=(()=>{var e;class t extends VZ{constructor(n){super(new HZ(n.cloudpilot)),this.cloudpilotService=n,this.statisticsVisible=!1}initialize(n,o=this.session){var i=this;return(0,V.Z)(function*(){i.session=o,yield i.initWithCanvas(n)})()}clearStatistics(){var n=this;return(0,V.Z)(function*(){n.statisticsVisible=!1,n.layout.silkscreenHeight.frameCanvas>0?yield n.drawSilkscreen():yield n.drawEmulationCanvas()})()}updateStatistics(n,o){var i=this;return(0,V.Z)(function*(){yield i.clearStatistics(),i.drawStatistics(n,o),i.lastEmulationStatistics=o,i.lastSnapshotStatistics=n,i.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??bS}getOrientation(){return this.session?.deviceOrientation??Rr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(n,o){if(!this.ctx)return;this.setupTransformation();const i=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,s=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-i.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-i.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,s.frameDevice,this.layout.screenWidth.frameDevice,i.frameDevice,"rgba(255,255,255,0.6)");const l=function zZ(e){switch(e){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(Oh(this.session?.device??bS).screenSize);this.ctx.font=6*this.layout.scale*l+"px monospace",this.ctx.fillStyle="black",[...n||o?[]:["collecting statistics..."],...n?[`last snapshot          : ${new Date(n.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${n.pages}`,`snapshot time total    : ${n.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${n.timeBlocking.toFixed(2)} msec`]:[],...o?[`host speed             : ${o.hostSpeed.toFixed(2)}x`,`emulation speed        : ${o.emulationSpeed.toFixed(2)}x`,`average FPS            : ${o.averageFps.toFixed(2)}`]:[]].forEach((d,f)=>this.ctx.fillText(d,this.layout.screenLeft.frameCanvas+l*this.layout.scale,s.frameCanvas+l*this.layout.scale*(8+6*f)))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Va))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),CS=(()=>{var e;class t{constructor(n,o,i){this.router=n,this.canvasDisplayService=o,this.emulationStateService=i,this.updateUseSmallUI=()=>{const s=!!document.querySelector("html.md"),a=s?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-a-(s?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-a-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),o.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(n,o){let i,s;return n=Math.min(n,this.canvasDisplayService.height/devicePixelRatio),(o=Math.min(o,this.canvasDisplayService.width/devicePixelRatio))/n>this.canvasDisplayService.width/this.canvasDisplayService.height?(s=n,i=n/this.canvasDisplayService.height*this.canvasDisplayService.width):(i=o,s=o/this.canvasDisplayService.width*this.canvasDisplayService.height),i*s}}return(e=t).\u0275fac=function(n){return new(n||e)(v(zo),v(lv),v(cc))},e.\u0275cmp=Ze({type:e,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(n,o){1&n&&(G(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),je(4,"ion-icon",3),G(5,"ion-label"),Ce(6,"Emulator"),L()(),G(7,"ion-tab-button",4),je(8,"ion-icon",5),G(9,"ion-label"),Ce(10,"Sessions"),L()(),G(11,"ion-tab-button",6),je(12,"ion-icon",7),G(13,"ion-label"),Ce(14,"Cards"),L()(),G(15,"ion-tab-button",8),je(16,"ion-icon",9),G(17,"ion-label"),Ce(18,"Settings"),L()(),G(19,"ion-tab-button",10),je(20,"ion-icon",11),G(21,"ion-label"),Ce(22,"About"),L()()()()()),2&n&&(me(2),sa("small-ui",o.smallUI)("disabled",o.isLocked()))},dependencies:[Wo,Ji,U_,oR,iR],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Nh=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[vl,Z0.forChild(),Qc,Lu,$_]}),t})(),WZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[vl,Lu,Qc,Nh,Z0.forChild()]}),t})(),ZZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[vl,Lu,Qc,Nh]}),t})(),qZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[vl,Lu,Qc,$_,Nh]}),t})(),YZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[vl,Lu,Qc,Nh,$_]}),t})(),KZ=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[vl,Qc,Lu,$_,Nh]}),t})();const XZ=C.p+"assets/doc/about-f4f58dee76305245.md";function QZ(e,t){if(1&e){const r=Ln();G(0,"ion-button",1),Ne("click",function(){return Dt(r),It(ct().onClick())}),je(1,"ion-icon",2),L()}if(2&e){const r=ct();me(1),Se("name",r.iconName)}}let cv=(()=>{var e;class t{constructor(n){this.pwaService=n}onClick(){this.pwaService.install()}get iconName(){return Si?"logo-apple-appstore":DR?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(oS))},e.\u0275cmp=Ze({type:e,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(n,o){1&n&&zt(0,QZ,2,1,"ion-button",0),2&n&&Se("ngIf",o.show)},dependencies:[No,Yi,Wo]}),t})();function JZ(e,t){1&e&&(G(0,"div",10),je(1,"ion-spinner"),L())}function eq(e,t){1&e&&(G(0,"div"),Ce(1,"app cached for offline use"),L())}let tq=(()=>{var e;class t{constructor(n,o){this.modalController=n,this.serviceWorkerService=o,this.loading=!0}get version(){return zu}get url(){return XZ}showChangelog(){var n=this;return(0,V.Z)(function*(){yield(yield n.modalController.create({component:Hu,componentProps:{url:VR,title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.serviceWorkerService.isRegistered()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Cs),v(yS))},e.\u0275cmp=Ze({type:e,selectors:[["app-about"]],decls:21,vars:4,consts:[["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],[3,"src","load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(n,o){1&n&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"About"),L(),G(4,"ion-buttons",0),je(5,"app-pwa-prompt"),L()()(),G(6,"ion-content")(7,"ion-header",1)(8,"ion-toolbar")(9,"ion-title",2),Ce(10,"About"),L()()(),zt(11,JZ,2,0,"div",3),G(12,"div",4)(13,"markdown",5),Ne("load",function(){return o.loading=!1}),L()(),G(14,"div",6),Ce(15),je(16,"br"),G(17,"a",7),Ne("click",function(){return o.showChangelog()}),Ce(18,"Changelog"),L(),zt(19,eq,2,0,"div",8),L(),je(20,"img",9),L()),2&n&&(me(11),Se("ngIf",o.loading),me(2),Se("src",o.url),me(2),Ci(" CloudpilotEmu version ",o.version," "),me(4),Se("ngIf",o.serviceWorkerAvailable))},dependencies:[No,Ki,Xi,Qi,Eh,es,ts,cv,W0],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:var(--cp-page-width)}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function nq(e,t){if(1&e&&(G(0,"ion-select-option",16),Ce(1),L()),2&e){const r=t.$implicit;Se("value",r[0]),me(1),Ci("",r[1]," ")}}function rq(e,t){if(1&e&&(G(0,"ion-select-option",16),Ce(1),L()),2&e){const r=t.$implicit;Se("value",r[0]),me(1),Ci("",r[1]," ")}}function oq(e,t){if(1&e&&(G(0,"ion-item",6)(1,"ion-label",7),Ce(2,"Hotsync name"),L(),je(3,"ion-input",17),L()),2&e){const r=ct();me(3),Se("placeholder",r.placeholder)}}let pP=(()=>{var e;class t{constructor(n,o){this.sessionService=n,this.alertService=o,this.validateNameUnique=i=>i.value!==this.session.name&&this.sessionService.getSessions().some(s=>s.name===i.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[Rr.portrait,"Portrait"],[Rr.landscape90,"Landscape 90\xb0"],[Rr.landscape270,"Landscape 270\xb0"],[Rr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(n=>[n,GR(n)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const n=this.speedTransient??this.formControlSpeed.value??0;return n>=0?1+n:1/(1-n)}get speedLabel(){return"Clock: "+(0===(this.speedTransient??this.formControlSpeed.value)?"default":`${Math.round(this.speedValue*function R9(e){switch(e){case J.palmPilot:case J.pilot:case J.iii:case J.palmVII:case J.palmVx:case J.palmV:case J.palmVIIEZ:case J.palmVIIx:case J.iiic:case J.iiix:case J.iiixe:case J.iiie:case J.m100:case J.m105:case J.pegS300:case J.pegS500c:return 16;case J.m500:case J.m505:case J.m515:case J.m520:case J.m125:case J.m130:case J.i705:case J.i710:case J.handera330:case J.handera330c:case J.pegS320:case J.pegT400:case J.pegN600c:case J.pegT600c:case J.pegN700c:case J.acerS11:return 33;case J.pegT650c:case J.pegNR70:case J.lp168:return 66}}(this.formControlDevice.value))}MHz`)}onSpeedDrag(n){this.speedTransient=n.detail?.value}createFormGroup(){this.formGroup=new P_({name:new Lo(this.session.name,{validators:[uh.required,this.validateNameUnique]}),manageHotsyncName:new Lo(!this.session.dontManageHotsyncName),hotsyncName:new Lo(this.session.hotsyncName||""),device:new Lo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Lo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Lo(this.session.deviceOrientation||Rr.portrait)})}}return(e=t).\u0275fac=function(n){return new(n||e)(v(dc),v(ao))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed",3,"ionInput","ionKnobMoveEnd"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(n,o){1&n&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Session settings"),L(),G(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.save()}),Ce(6,"Save"),L()(),G(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),G(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),G(12,"h1"),Ce(13,"Session"),L(),G(14,"ion-item",6)(15,"ion-label",7),Ce(16,"Session name"),L(),je(17,"ion-input",8),L(),G(18,"h1"),Ce(19,"Device"),L(),G(20,"ion-item",6)(21,"ion-label",7),Ce(22,"Device type"),L(),G(23,"ion-select",9),zt(24,nq,2,2,"ion-select-option",10),L()(),G(25,"ion-item",6)(26,"ion-label",7),Ce(27,"Orientation"),L(),G(28,"ion-select",11),zt(29,rq,2,2,"ion-select-option",10),L()(),G(30,"ion-item",6)(31,"ion-label",12),Ce(32),L(),G(33,"ion-range",13),Ne("ionInput",function(s){return o.onSpeedDrag(s)})("ionKnobMoveEnd",function(){return o.speedTransient=void 0}),L()(),G(34,"h1"),Ce(35,"Hotsync"),L(),G(36,"ion-item",6)(37,"ion-label"),Ce(38,"Manage hotsync name"),L(),je(39,"ion-toggle",14),L(),zt(40,oq,4,1,"ion-item",15),L()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(13),Se("ngForOf",o.deviceList),me(5),Se("ngForOf",o.orientations),me(3),Ui(o.speedLabel),me(8),Se("ngIf",o.showHotsyncNameInput))},dependencies:[jc,No,Yi,Ki,Xi,Qi,ac,Io,Ji,N0,Sh,wh,es,Dh,ts,vf,Ch,sc,ic,rc,oc,A0,Ba,El],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),iq=(()=>{var e;class t{constructor(n,o,i,s,a,l,d){this.emulationService=n,this.loadingController=o,this.snapshotService=i,this.fileService=s,this.emulationStateService=a,this.alertService=l,this.cloudpilotService=d}saveBackup(n){var o=this;return(0,V.Z)(function*(){const i=o.emulationStateService.getCurrentSession();if(!i)return;const s=yield o.loadingController.create({message:"Backing up..."});yield s.present();const a=[];let l;yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();try{const d=yield o.cloudpilotService.cloudpilot;yield d.backup(function(){var f=(0,V.Z)(function*(h){for(h.Init(n);h.IsInProgress();){const m=h.GetCurrentDatabase();h.Save()||a.push(m),yield new Promise(b=>setTimeout(b,0))}l=d.getArchive(h)});return function(h){return f.apply(this,arguments)}}())}finally{yield s.dismiss(),yield o.emulationService.resume()}l?a.length>0?yield o.alertService.message("Backup complete",`\n                    ${_S(a)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>o.fileService.saveFile(rP(i,n),l)},"Cancel"):o.fileService.saveFile(rP(i,n),l):yield o.alertService.errorMessage("Backup failed.")})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ja),ue(da),ue(Fh),ue(ru),ue(cc),ue(ao),ue(Va))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const sq=window.AudioContext||window.webkitAudioContext;function SS(e,t=100){return new Promise((r,n)=>{setTimeout(()=>n(new Error("timeout")),t),e.then(r,n)})}class aq{constructor(t){var r=this;this.emulationService=t,this.initialize=()=>this.mutex.runExclusive((0,V.Z)(function*(){if(!r.initialized){try{r.context=new sq}catch(n){return console.error(n),void console.error("web audio not available")}try{r.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield r.start()}catch(n){return console.error(n),void console.error("failed to initialize audio context")}r.context.addEventListener("statechange",()=>{"interrupted"===r.context?.state&&r.updateState()}),r.gainNode=r.context.createGain(),r.gainNode.channelCount=1,r.gainNode.channelInterpretation="speakers",r.gainNode.gain.value=r.gain(),r.gainNode.connect(r.context.destination),r.applyPwmUpdate(),r.initialized=!0}})),this.updateState=(n=!1)=>this.mutex.runExclusive((0,V.Z)(function*(){if(!r.context||r.isRunning()===r.shouldRun())return;!n&&!r.isRunning()&&r.shouldRun()&&r.applyPwmUpdate();const o=r.context.state;if(r.shouldRun())try{r.updateGain(),yield SS(r.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield SS(r.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${r.context.state}`)})),this.onPwmUpdate=function(){var n=(0,V.Z)(function*(o){r.pendingPwmUpdate=o,r.initialized&&(r.shouldRun()!==r.isRunning()&&r.updateState(!0),r.shouldRun()&&r.applyPwmUpdate())});return function(o){return n.apply(this,arguments)}}(),this.mutex=new xl,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),Si||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(t){this.muted=t,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||Si||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var t=this;return(0,V.Z)(function*(){t.context&&(yield SS(t.context.resume()),t.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:t,dutyCycle:r}=this.pendingPwmUpdate,n=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,t<=0||r<=0||t>=n)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(n/t),n),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<r?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}let wS=(()=>{var e;class t extends aq{constructor(n,o,i){super(n),this.kvs=o,this.modalWatcher=i,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ja),ue(Ri),ue(aS))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),mP=(()=>{var e;class t{constructor(n,o){this.emulationService=n,this.ngZone=o,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=i=>{this.reset(),i&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!i&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ja),ue(Ue))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function cq(e,t){if(1&e){const r=Ln();G(0,"ion-item",4),Ne("click",function(){return Dt(r),It(ct().power())}),G(1,"ion-label"),Ce(2,"Power"),L(),je(3,"ion-icon",5),L()}if(2&e){const r=ct();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function uq(e,t){if(1&e){const r=Ln();G(0,"ion-item",4),Ne("click",function(){return Dt(r),It(ct().hotsync())}),G(1,"ion-label"),Ce(2,"Hotsync"),L(),je(3,"ion-icon",6),L()}if(2&e){const r=ct();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function dq(e,t){if(1&e){const r=Ln();G(0,"ion-item",4),Ne("click",function(){return Dt(r),It(ct().reset())}),G(1,"ion-label"),Ce(2,"Reset"),L(),je(3,"ion-icon",7),L()}if(2&e){const r=ct();Se("detail",!1)("disabled",!r.emulationService.isRunning())}}function fq(e,t){if(1&e){const r=Ln();G(0,"ion-item",8),Ne("click",function(){return Dt(r),It(ct().insertCard())}),G(1,"ion-label"),Ce(2),L(),je(3,"ion-icon",9),L()}if(2&e){const r=ct();Se("detail",!1),me(2),Ci("Insert ",r.hasMemorystick?"stick":"SD card","")}}function pq(e,t){if(1&e){const r=Ln();G(0,"ion-item",8),Ne("click",function(){return Dt(r),It(ct().ejectCard())}),G(1,"ion-label"),Ce(2),L(),je(3,"ion-icon",10),L()}if(2&e){const r=ct();Se("detail",!1),me(2),Ci("Eject ",r.hasMemorystick?"stick":"SD card","")}}function hq(e,t){if(1&e){const r=Ln();G(0,"ion-item",8),Ne("click",function(){return Dt(r),It(ct().mute(!1))}),G(1,"ion-label"),Ce(2,"Enable audio"),L(),je(3,"ion-icon",11),L()}2&e&&Se("detail",!1)}function mq(e,t){if(1&e){const r=Ln();G(0,"ion-item",8),Ne("click",function(){return Dt(r),It(ct().mute(!0))}),G(1,"ion-label"),Ce(2,"Disable audio"),L(),je(3,"ion-icon",12),L()}2&e&&Se("detail",!1)}function gq(e,t){if(1&e){const r=Ln();G(0,"ion-item",4),Ne("click",function(){return Dt(r),It(ct().backup())}),G(1,"ion-label"),Ce(2,"Save backup"),L(),je(3,"ion-icon",13),L()}if(2&e){const r=ct();Se("detail",!1)("disabled",r.backupDisabled)}}function _q(e,t){if(1&e){const r=Ln();G(0,"ion-item",8),Ne("click",function(){return Dt(r),It(ct().rotate())}),G(1,"ion-label"),Ce(2,"Rotate"),L(),je(3,"ion-icon",14),L()}2&e&&Se("detail",!1)}function vq(e,t){if(1&e){const r=Ln();G(0,"ion-item",8),Ne("click",function(){return Dt(r),It(ct().editSettings())}),G(1,"ion-label"),Ce(2,"Settings"),L(),je(3,"ion-icon",15),L()}2&e&&Se("detail",!1)}function yq(e){switch(e){case Rr.portrait:case void 0:return Rr.landscape90;case Rr.landscape90:return Rr.portrait180;case Rr.portrait180:return Rr.landscape270;case Rr.landscape270:return Rr.portrait;default:throw new Error("cannot happen")}}let bq=(()=>{var e;class t{constructor(n,o,i,s,a,l,d,f,h,m,b,U,ee,he,ye,De,bt,vt){this.emulationService=n,this.emulationStateService=o,this.backupService=i,this.buttonService=s,this.actionSheetController=a,this.popoverController=l,this.audioService=d,this.kvsService=f,this.modalController=h,this.sessionService=m,this.performanceWatchdogService=b,this.canvasDisplayService=U,this.cloudpilotService=ee,this.storageCardService=he,this.alertService=ye,this.alertController=De,this.storageService=bt,this.errorService=vt,this.showHelp=()=>{}}reset(){var n=this;return(0,V.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>n.emulationService.reset()},{text:"No extensions",handler:()=>n.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>n.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var n=this;return(0,V.Z)(function*(){n.popoverController.dismiss(),(yield n.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>n.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>n.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(n){n?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const n=this.emulationStateService.getCurrentSession();return!!n&&function P9(e){switch(e){case J.i705:case J.i710:case J.pegNR70:case J.pegT650c:case J.lp168:return!0;default:return!1}}(n.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const n=this.emulationStateService.getCurrentSession();return!!n&&UR(n.device)!==wf.none}get hasMemorystick(){const n=this.emulationStateService.getCurrentSession();return!!n&&UR(n.device)===wf.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var n=this;return(0,V.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;const i=o.speed,s=o.deviceOrientation,a=yield n.modalController.create({component:pP,backdropDismiss:!1,componentProps:{session:o,availableDevices:[o.device],onSave:(l=(0,V.Z)(function*(){i!==o.speed&&n.performanceWatchdogService.reset(),s!==o.deviceOrientation&&(n.canvasDisplayService.initialize(void 0,o),n.canvasDisplayService.updateEmulationCanvas()),yield n.sessionService.updateSession(o),a.dismiss()}),function(){return l.apply(this,arguments)}),onCancel:()=>a.dismiss()}});var l;yield n.popoverController.dismiss(),yield a.present()})()}rotate(){var n=this;return(0,V.Z)(function*(){const o=n.emulationStateService.getCurrentSession();if(!o)return;yield n.storageService.updateSessionPartial(o.id,{deviceOrientation:yq(o.deviceOrientation)});const i=n.emulationStateService.getCurrentSession();yield n.canvasDisplayService.initialize(void 0,i),n.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var n=this;return(0,V.Z)(function*(){if(n.popoverController.dismiss(),void 0===n.emulationStateService.getCurrentSession()?.device)return;const i=yield n.cloudpilotService.cloudpilot,s=n.storageCardService.getAllCards().filter(l=>i.deviceSupportsCardSize(l.size)&&!n.storageCardService.mountedInSession(l.id));0!==s.length?yield(yield n.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:l=>n.storageCardService.insertCard(l)}],inputs:s.map((l,d)=>({label:l.name,type:"radio",value:l.id,checked:0===d})),backdropDismiss:!1})).present():n.alertService.message("No image available",`There is no ${n.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var n=this;return(0,V.Z)(function*(){try{yield n.storageCardService.ejectCurrentCard()}catch(o){n.errorService.fatalBug(o instanceof Error?o.message:"eject failed")}n.popoverController.dismiss()})()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(ja),v(cc),v(iq),v(eP),v(xh),v(lc),v(wS),v(Ri),v(Cs),v(dc),v(mP),v(lv),v(Va),v(xf),v(ao),v($0),v(rr),v(Gu))},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline","slot","end"],["name","volume-mute-outline","slot","end"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(n,o){1&n&&(G(0,"ion-list"),zt(1,cq,4,2,"ion-item",0)(2,uq,4,2,"ion-item",0)(3,dq,4,2,"ion-item",0)(4,fq,4,2,"ion-item",1)(5,pq,4,2,"ion-item",1)(6,hq,4,1,"ion-item",1)(7,mq,4,1,"ion-item",1)(8,gq,4,2,"ion-item",0)(9,_q,4,1,"ion-item",1)(10,vq,4,1,"ion-item",1),G(11,"ion-item",2),Ne("click",function(){return o.help()}),G(12,"ion-label"),Ce(13,"Help"),L(),je(14,"ion-icon",3),L()()),2&n&&(me(1),Se("ngIf",o.hasActiveSession&&!o.powerDisabled),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.supportsStorageCard&&!o.hasMountedCard),me(1),Se("ngIf",o.supportsStorageCard&&o.hasMountedCard),me(1),Se("ngIf",o.isMuted&&!o.isAudioOff),me(1),Se("ngIf",!o.isMuted&&!o.isAudioOff),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("ngIf",o.hasActiveSession),me(1),Se("detail",!1))},dependencies:[No,Wo,Io,Ji,zs]}),t})();const Cq=C.p+"assets/doc/emulation-36994d751edec46c.md";function Sq(e,t){if(1&e){const r=Ln();G(0,"ion-item",2),Ne("click",function(){const i=Dt(r).$implicit;return It(ct(2).onSelect(i))}),G(1,"div",3),Ce(2),L()()}if(2&e){const r=t.$implicit,n=t.index,o=ct(2);Se("detail",!1)("lines",n===o.sessions.length-1?"none":"full"),me(2),Ui(r.name)}}function wq(e,t){if(1&e&&(G(0,"ion-list"),zt(1,Sq,3,3,"ion-item",1),L()),2&e){const r=ct();me(1),Se("ngForOf",r.sessions)}}let Eq=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-emulation-breadcrumb-menu"]],inputs:{sessions:"sessions",onSelect:"onSelect"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[1,"text-wrapper"]],template:function(n,o){1&n&&zt(0,wq,2,1,"ion-list",0),2&n&&Se("ngIf",o.sessions)},dependencies:[jc,No,Io,zs],styles:["ion-item[_ngcontent-%COMP%]{overflow-x:hidden;text-overflow:ellipsis}.text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrum-menu-width) - 16px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 32px)}"]}),t})();class Dq{constructor(t,r){this.emulationService=t,this.canvasDisplayService=r,this.handleMouseDown=n=>{if(0!==n.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(n);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=n=>{if(!(1&n.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(n,!0);o&&this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=n=>{if(0!==n.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const l=this.determineArea(a);if(2===l){const d=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:l,buttonPrimary:d}),this.handleButtonDown(d)}else this.interactionsTouch.set(s.identifier,{area:l}),this.emulationService.handlePointerMove(...a,1===l)}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchMove=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const l=a.area;switch(l){case 2:{const d=this.canvasDisplayService.eventToPalmCoordinates(s);if(!d||2!==this.determineArea(d)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const f=this.canvasDisplayService.determineButton(d);f===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):f!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=f,this.handleButtonDown(f));break}case 0:case 1:{const d=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!d)continue;this.emulationService.handlePointerMove(...d,1===l);break}default:continue}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleTouchEnd=n=>{let o=!1;for(let i=0;i<n.changedTouches.length;i++){const s=n.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==n.cancelable&&n.preventDefault()},this.handleKeyDown=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(n))return n.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonDown(o),void n.preventDefault();const i=this.keyCodeFromEvent(n);void 0!==i&&(this.emulationService.handleKeyDown(i),n.preventDefault())},this.handleKeyUp=n=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(n);if(void 0!==o)return this.handleButtonUp(o),void n.preventDefault();if("Control"===n.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(t,r=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=t,this.keyEventTarget=r||window,this.addEventListener(t,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(t,"touchstart",this.handleTouchStart),this.addEventListener(t,"touchmove",this.handleTouchMove),this.addEventListener(t,"touchend",this.handleTouchEnd),this.addEventListener(t,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const t of this.activeButtons)this.handleButtonUp(t);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(t){this.gameMode=t,this.onToggleGameMode()}setGameModeHotkeyEnabled(t){this.enableGamemodeHotkey=t}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(t,r,n,o){t.addEventListener(r,n,o)}removeEventListener(t,r,n,o){t.removeEventListener(r,n,o)}determineArea(t){return this.canvasDisplayService.isButtons(t)?2:this.canvasDisplayService.isSilkscreen(t)?1:0}handleButtonDown(t){this.activeButtons.has(t)||(this.activeButtons.add(t),this.emulationService.handleButtonDown(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(t){void 0===t||!this.activeButtons.has(t)||(this.activeButtons.delete(t),this.emulationService.handleButtonUp(t),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(t){return this.isGameModeHotkeyEnabled()&&("Shift"===t.key&&t.ctrlKey||"Control"===t.key&&t.shiftKey)}isGameModeActive(t){return!this.gameMode&&t.ctrlKey||this.gameMode&&!t.ctrlKey}buttonFromEvent(t){switch(t.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(t))switch(t.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(t){if(!this.isGameModeActive(t)){if(1===t.key.length&&t.key.charCodeAt(0)<=255)return t.key.charCodeAt(0);switch(t.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}let Iq=(()=>{var e;class t extends Dq{constructor(n,o,i,s,a){super(n,o),this.modalWatcher=i,this.ngZone=s,this.app=a}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(n,o,i,s){this.ngZone.runOutsideAngular(()=>n.addEventListener(o,i,s))}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(ja),ue(lv),ue(aS),ue(Ue),ue(Oa))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function gP(e){return/\.(prc|pdb|pqa)$/i.test(e)}class kq{constructor(t,r,n,o,i){this.cloudpilotService=t,this.fstools=r,this.alertService=n,this.snapshotService=o,this.files=i,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.installedDatabases=new Map}run(){var t=this;return(0,V.Z)(function*(){for(const r of t.files){let n;try{n=yield r.getContent()}catch(o){console.warn(o),t.filesFail.push(r.name);continue}if(/\.zip/i.test(r.name)&&n.length<33554432)try{yield t.installZip(r)}catch{t.filesFail.push(r.name)}else gP(r.name)?yield t.installOne(r.name,n):t.filesFail.push(r.name)}return[t.filesSuccess,t.filesRequireReset,t.filesFail]})()}installOne(t,r){var n=this;return(0,V.Z)(function*(){const i=yield(yield n.cloudpilotService.cloudpilot).installDb(r);switch(i){case 2:n.filesRequireReset.push(t),n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;case 1:n.filesSuccess.push(t),n.sizeInstalledSinceLastsnapshot+=r.length;break;default:n.filesFail.push(t),yield n.reportError(t,i)}if(2===i||1===i)try{const s=function Aq(e){if(e.length<32)throw new Error("not a database");let t;for(t=0;t<32&&0!==e[t];t++);if(t>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(e.subarray(0,t))}(r);n.installedDatabases.has(s)&&(yield n.errorDialog("Duplicate item",`${t} overwrites previously installed database ${n.installedDatabases.get(s)}`)),n.installedDatabases.set(s,t)}catch{}n.sizeInstalledSinceLastsnapshot>4194304&&(yield n.snapshotService.triggerSnapshot(),n.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(t){var r=this;return(0,V.Z)(function*(){const n=yield r.fstools.createZipfileWalker(yield t.getContent());let o=0;for(;0===n.GetState();){const i=n.GetCurrentEntryName().replace(/^.*\//,"");if(!gP(n.GetCurrentEntryName())){n.Next();continue}const s=n.GetCurrentEntryContent();s?(yield r.installOne(i,s),o++):r.filesFail.push(i),n.Next()}if(0===o)throw new Error("no installable files in archive")})()}reportError(t,r){return this.errorDialog("Item failed to install",`Could not install ${t}: ${function Mq(e){switch(e){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(r)}.`)}errorDialog(t,r){return this.skipErrors?Promise.resolve():this.alertService.messageWithChoice(t,r,"Skip any remaining errors",!1,{},"Continue").then(n=>{this.skipErrors=n})}}let Rq=(()=>{var e;class t{constructor(n,o,i,s,a,l){this.cloudpilotService=n,this.emulationService=o,this.loadingController=i,this.snapshotService=s,this.alertService=a,this.fstools=l}installFiles(n){var o=this;return(0,V.Z)(function*(){const i=yield o.loadingController.create({message:"Installing..."});yield i.present(),yield o.emulationService.pause(),yield o.snapshotService.waitForPendingSnapshot();let s=[],a=[],l=[];try{[s,l,a]=yield new kq(o.cloudpilotService,o.fstools,o.alertService,o.snapshotService,n).run()}finally{i.dismiss(),o.emulationService.resume()}const d=[o.messageSuccess(s),o.messageFailed(a),o.messageRequireReset(l)].filter(h=>!!h).join("<br/><br/>");let f;f=0===a.length?"Installation successful":0===s.length?"Installation failed":"Installation errors",o.alertService.message(f,d,l.length>0?{"Reset now":()=>o.emulationService.reset()}:void 0)})()}messageSuccess(n){switch(n.length){case 0:return;case 1:return`Installation of ${n[0]} successful.`;default:return`Installation of ${n.length} items successful.`}}messageFailed(n){return n.length>0?`Installation of  ${_S(n)} failed.`:void 0}messageRequireReset(n){return n.length>0?`${_S(n)} require a device reset.`:void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Va),ue(ja),ue(da),ue(Fh),ue(ao),ue(iv))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),ES=(()=>{var e;class t{constructor(){this.onDragOver=n=>{n.preventDefault(),n.dataTransfer&&(n.dataTransfer.dropEffect=this.currentClient?"copy":"none")},this.onDrop=n=>{n.preventDefault(),this.currentClient&&this.currentClient.handleDragDropEvent(n)},document.addEventListener("drop",this.onDrop),document.addEventListener("dragover",this.onDragOver)}registerClient(n){this.currentClient=n}unregisterClient(n){n===this.currentClient&&(this.currentClient=void 0)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Pq(e,t){1&e&&je(0,"div",2)}const Oq=["*"];let Fq=0,_P=(()=>{var e;class t{constructor(){this.disabled=!1,this.trigger=new en,this.triggerId="breadcrumb-trigger-"+Fq++}handleClick(n){this.disabled||(n.preventDefault(),this.trigger.emit(this.triggerId))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-breadcrumb"]],hostVars:3,hostBindings:function(n,o){1&n&&Ne("click",function(s){return o.handleClick(s)}),2&n&&(Vs("id",o.triggerId),sa("disabled",o.disabled))},inputs:{disabled:"disabled"},outputs:{trigger:"trigger"},ngContentSelectors:Oq,decls:3,vars:1,consts:[[1,"breadcrumb-current"],["class","select-arrow",4,"ngIf"],[1,"select-arrow"]],template:function(n,o){1&n&&(_t(),G(0,"div",0),gt(1),L(),zt(2,Pq,1,0,"div",1)),2&n&&(me(2),Se("ngIf",!o.disabled))},dependencies:[No],styles:["[_nghost-%COMP%]{cursor:pointer;display:inline-flex;flex-direction:row;align-items:center;overflow:hidden;max-width:100%}.ios   [_nghost-%COMP%]{justify-content:center}.disabled[_nghost-%COMP%]{cursor:auto}.breadcrumb-current[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}"]}),t})();var Lh;const Nq=["canvas"];function Lq(e,t){1&e&&je(0,"div",11),2&e&&Cu("width",ct().iosPlaceholderWidth)}function $q(e,t){if(1&e){const r=Ln();G(0,"ion-button",12),Ne("click",function(){return Dt(r),It(ct().navigation.lock())}),je(1,"ion-icon",13),L()}}function Bq(e,t){if(1&e){const r=Ln();G(0,"ion-button",12),Ne("click",function(){return Dt(r),It(ct().navigation.unlock())}),je(1,"ion-icon",14),L()}}function Vq(e,t){if(1&e){const r=Ln();G(0,"ion-button",12),Ne("click",function(o){return Dt(r),It(ct().openContextMenu(o))}),je(1,"ion-icon",15),L()}}function jq(e,t){if(1&e){const r=Ln();G(0,"ion-button",12),Ne("click",function(){return Dt(r),It(ct().showGameModeHint())}),je(1,"ion-icon",16),L()}}function Gq(e,t){if(1&e){const r=Ln();G(0,"ion-button",12),Ne("click",function(){return Dt(r),It(ct().showProxyConnectedHint())}),je(1,"ion-icon",17),L()}}function Uq(e,t){if(1&e){const r=Ln();G(0,"ion-button",12),Ne("click",function(){return Dt(r),It(ct().showSlowdowndHint())}),je(1,"ion-icon",18),L()}}function Hq(e,t){if(1&e){const r=Ln();G(0,"ion-button",12),Ne("click",function(o){return Dt(r),It(ct().openContextMenu(o))}),je(1,"ion-icon",15),L()}}function zq(e,t){if(1&e){const r=Ln();G(0,"div",19),Ce(1," The device was reset forcefully. How do you want to boot? "),G(2,"ion-button",20),Ne("click",function(){return Dt(r),It(ct().bootAfterForcefulReset())}),Ce(3,"Normal boot"),L(),G(4,"ion-button",20),Ne("click",function(){return Dt(r),It(ct().bootAfterForcefulResetNoExtensions())}),Ce(5,"No extensions"),L(),G(6,"ion-button",20),Ne("click",function(){return Dt(r),It(ct().bootAfterForcefulResetHardReset())}),Ce(7,"Hard reset"),L()()}}function Wq(e,t){1&e&&(G(0,"div",19)(1,"div"),Ce(2,"No session selected"),L()())}class Ga{constructor(t,r,n,o,i,s,a,l,d,f,h,m,b,U,ee,he,ye,De,bt,vt,pt){var Mn=this;this.emulationService=t,this.emulationState=r,this.storageService=n,this.eventHandlingService=o,this.canvasDisplayService=i,this.kvsService=s,this.popoverController=a,this.modalController=l,this.alertService=d,this.fileService=f,this.snapshotService=h,this.installlationService=m,this.proxyService=b,this.navigation=U,this.linkApi=ee,this.performanceWatchdogService=he,this.cloudpilotService=ye,this.dragDropService=De,this.sessionService=bt,this.loadingController=vt,this.config=pt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,V.Z)(function*(){yield Mn.emulationService.bootstrapComplete(),Mn.bootstrapComplete=!0;const Pn=Mn.emulationState.getCurrentSession();Pn&&!Pn.wasResetForcefully&&(yield Mn.launchEmulator()),Mn.linkApi.installation.requestEvent.addHandler(Mn.handleLinkApiInstallationRequest),Mn.handleLinkApiInstallationRequest(),Mn.dragDropService.registerClient(Mn)})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.dragDropService.unregisterClient(this),this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=Pn=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(Pn,this.emulationService.getStatistics())},this.onNewFrame=Pn=>{this.canvasDisplayService.updateEmulationCanvas(Pn)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const Pn=this.linkApi.installation.receivePendingUrl();Pn&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${Pn} ?`,{OK:()=>this.fileService.openUrl(Pn,ns=>this.installlationService.installFiles([ns]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${Pn} .`,{},"Cancel"))},this.bootstrapComplete=!1,this.switching=!1,this.lastTitle="",this.autoLockUI=!0,this.mutex=new xl}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}ionViewWillEnter(){this.switching=!1}openContextMenu(t,r="trigger"){var n=this;return(0,V.Z)(function*(){(yield n.popoverController.create({component:bq,event:t,componentProps:{showHelp:()=>n.showHelp()},arrow:!1,translucent:!0,reference:r})).present()})()}onContextMenu(t){t.preventDefault(),this.openContextMenu(t,"event")}handleDragDropEvent(t){this.installFileDisabled||this.fileService.openFromDrop(t,this.installlationService.installFiles.bind(this.installlationService))}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:Hu,componentProps:{url:Cq}})).present()})()}showGameModeHint(){var t=this;return(0,V.Z)(function*(){yield t.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>t.showHelp()})})()}showProxyConnectedHint(){var t=this;return(0,V.Z)(function*(){yield t.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var t=this;return(0,V.Z)(function*(){yield t.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}bootAfterForcefulReset(){var t=this;return(0,V.Z)(function*(){yield t.clearForcefulReset(),yield t.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var t=this;return(0,V.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetNoExtensions(),yield t.launchEmulator()})()}bootAfterForcefulResetHardReset(){var t=this;return(0,V.Z)(function*(){yield t.clearForcefulReset(),(yield t.cloudpilotService.cloudpilot).resetHard(),yield t.launchEmulator()})()}get iosPlaceholderWidth(){let t=0;return this.eventHandlingService.isGameMode()&&t++,this.proxyService.isConnected()&&t++,this.performanceWatchdogService.isSlowdownDetected()&&t++,t>1?35*(t-1)+"px":"0"}cancelIfEmulationActive(t){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&t.cancelable&&t.preventDefault()}onBreadcrumbTrigger(t){var r=this;return(0,V.Z)(function*(){(yield r.popoverController.create({component:Eq,componentProps:{sessions:r.sessionService.getSessions().filter(o=>o.id!==r.emulationState.getCurrentSession()?.id),onSelect:o=>r.switchSession(o)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}get sessions(){return this.sessionService.getSessions()}get currentSession(){return this.emulationState.getCurrentSession()}clearForcefulReset(){var t=this;return(0,V.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}get title(){return this.bootstrapComplete?this.switching?this.lastTitle:this.emulationState.getCurrentSession()?.name??"No session":""}launchEmulator(){var t=this;return(0,V.Z)(function*(){const r=t.emulationState.getCurrentSession();r&&(yield t.kvsService.mutex.runExclusive(()=>t.kvsService.kvs.autoLockUI&&t.autoLockUI&&t.navigation.lock()),t.canvasDisplayService.initialize(t.canvasRef.nativeElement,r).then(()=>{t.onKvsUpdate(),t.kvsService.updateEvent.addHandler(t.onKvsUpdate)}),t.onNewFrame(t.emulationService.getCanvas()),t.emulationService.newFrameEvent.addHandler(t.onNewFrame),t.snapshotService.snapshotEvent.addHandler(t.onSnapshot),yield t.emulationService.resume(),t.eventHandlingService.bind(t.canvasRef.nativeElement))})()}switchSession(t){var r=this;return(0,V.Z)(function*(){const n=yield r.loadingController.create();yield n.present();try{if(r.lastTitle=r.title,r.switching=!0,yield r.emulationService.pause(),!(yield r.emulationService.switchSession(t.id,{showLoader:!1})))return void(yield r.alertService.errorMessage("Failed to launch session"));t.wasResetForcefully||(yield r.launchEmulator())}finally{n.dismiss(),r.switching=!1}})()}}(Lh=Ga).\u0275fac=function(t){return new(t||Lh)(v(ja),v(cc),v(rr),v(Iq),v(lv),v(Ri),v(lc),v(Cs),v(ao),v(ru),v(Fh),v(Rq),v(uS),v(CS),v(EC),v(mP),v(Va),v(ES),v(dc),v(da),v(gh))},Lh.\u0275cmp=Ze({type:Lh,selectors:[["app-emulation"]],viewQuery:function(t,r){if(1&t&&Lc(Nq,5),2&t){let n;Gs(n=Us())&&(r.canvasRef=n.first)}},decls:23,vars:23,consts:[[3,"disabled","trigger"],["class","ios-title-placeholder",3,"width",4,"ngIf"],["slot","primary"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","secondary"],[3,"contextmenu"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],[1,"ios-title-placeholder"],[3,"click"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","ellipsis-vertical-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(t,r){if(1&t&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title")(3,"app-breadcrumb",0),Ne("trigger",function(o){return r.onBreadcrumbTrigger(o)}),zt(4,Lq,1,2,"div",1),Ce(5),L()(),G(6,"ion-buttons",2)(7,"ion-button",3),Ne("click",function(){return r.installFiles()}),je(8,"ion-icon",4),L(),zt(9,$q,2,0,"ion-button",5)(10,Bq,2,0,"ion-button",5),L(),G(11,"ion-buttons",6),zt(12,Vq,2,0,"ion-button",5)(13,jq,2,0,"ion-button",5)(14,Gq,2,0,"ion-button",5)(15,Uq,2,0,"ion-button",5)(16,Hq,2,0,"ion-button",5),L()()(),G(17,"ion-content",7),Ne("contextmenu",function(o){return r.onContextMenu(o)}),G(18,"div",8),Ne("touchstart",function(o){return r.cancelIfEmulationActive(o)})("touchmove",function(o){return r.cancelIfEmulationActive(o)}),je(19,"canvas",null,9),L(),zt(21,zq,8,0,"div",10)(22,Wq,3,0,"div",10),L()),2&t){let n,o;me(3),Se("disabled",!r.bootstrapComplete||1===r.sessions.length&&!!r.currentSession||0===r.sessions.length),me(1),Se("ngIf","ios"===r.config.get("mode")),me(1),Ci(" ",r.title,""),me(2),Se("disabled",r.installFileDisabled),me(2),Se("ngIf",!r.navigation.isLocked()),me(1),Se("ngIf",r.navigation.isLocked()),me(2),Se("ngIf","ios"===r.config.get("mode")),me(1),Se("ngIf",r.eventHandlingService.isGameMode()),me(1),Se("ngIf",r.proxyService.isConnected()),me(1),Se("ngIf",r.performanceWatchdogService.isSlowdownDetected()),me(1),Se("ngIf","ios"!==r.config.get("mode")),me(1),sa("locked",r.navigation.isLocked()),me(1),Cu("display",!r.emulationState.getCurrentSession()||null!=(n=r.emulationState.getCurrentSession())&&n.wasResetForcefully?"none":void 0),me(1),Cu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),me(2),Se("ngIf",null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),me(1),Se("ngIf",!r.emulationState.getCurrentSession()&&r.bootstrapComplete&&!r.switching)}},dependencies:[No,Yi,Ki,Xi,Qi,Wo,es,ts,_P],styles:[".ios-title-placeholder[_ngcontent-%COMP%]{display:inline-block}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:radial-gradient(circle,#ccc 0%,#eee 100%)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}"]}),re([zn()],Ga.prototype,"openContextMenu",null),re([zn()],Ga.prototype,"showHelp",null),re([zn()],Ga.prototype,"showGameModeHint",null),re([zn()],Ga.prototype,"showProxyConnectedHint",null),re([zn()],Ga.prototype,"showSlowdowndHint",null),re([zn()],Ga.prototype,"bootAfterForcefulReset",null),re([zn()],Ga.prototype,"bootAfterForcefulResetNoExtensions",null),re([zn()],Ga.prototype,"bootAfterForcefulResetHardReset",null),re([zn()],Ga.prototype,"onBreadcrumbTrigger",null);const vP="reduced-animations",Zq=e=>(e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)",e.querySelector(".action-sheet-wrapper").style.transform="translateY(0%)",(0,F0.c)()),qq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".loading-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,F0.c)()},Yq=e=>{e.querySelector("ion-backdrop").style.opacity="var(--backdrop-opacity)";const t=e.querySelector(".alert-wrapper");return t.style.transform="scale(1)",t.style.opacity="1",(0,F0.c)()};function yP(e){localStorage.setItem(vP,e?"1":"0")}function bP(){return"1"===(localStorage.getItem(vP)??"0")}const Xq=C.p+"assets/doc/settings-c19d8a5d4d35a79a.md",CP="cp-indicator-fix-portrait",SP="cp-indicator-fix-landscape",wP="cloudpilot-indicator-fix-mode";let uv;function EP(){return localStorage.getItem(wP)??"none"}function DP(){return Si&&q_&&!navigator?.standalone}function IP(e){if(!DP())return;uv||(uv=document.createElement("style"),uv.textContent=`\n           @media (orientation: portrait) and (min-height: ${window.screen.height-110}px) {\n                html.${CP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n\n            @media (orientation: landscape) {\n                html.${SP} {\n                    --ion-safe-area-bottom: max(env(safe-area-inset-bottom, 0), 20px);\n                }\n            }\n        `,document.head.appendChild(uv)),void 0!==e?localStorage.setItem(wP,e):e=EP();const t=document.documentElement.classList;t.toggle(CP,"all"===e||"portrait"===e),t.toggle(SP,"all"===e||"landscape"===e)}function Qq(e,t){1&e&&(G(0,"ion-item",7)(1,"ion-label"),Ce(2,"Clipboard integration"),L(),je(3,"ion-toggle",18),L())}function Jq(e,t){if(1&e){const r=Ln();G(0,"ion-item",7)(1,"ion-label",19),Ce(2,"Proxy server"),L(),G(3,"div",20),je(4,"ion-input",21),G(5,"ion-button",22),Ne("click",function(o){Dt(r);const i=ct();return o.preventDefault(),o.stopPropagation(),It(i.testProxyConnection())})("touchstart",function(o){Dt(r);const i=ct();return o.preventDefault(),o.stopPropagation(),It(i.testProxyConnection())}),Ce(6," Test "),L()()()}if(2&e){const r=ct();me(5),Se("disabled",!r.proxyServerValid)}}function eY(e,t){if(1&e&&(G(0,"ion-item",7)(1,"ion-select",23)(2,"ion-select-option",24),Ce(3,"Off"),L(),G(4,"ion-select-option",24),Ce(5,"Portrait"),L(),G(6,"ion-select-option",24),Ce(7,"Landscape"),L(),G(8,"ion-select-option",24),Ce(9,"Always"),L()()()),2&e){const r=ct();me(2),Se("value",r.indicatorFixNone),me(2),Se("value",r.indicatorFixPortrait),me(2),Se("value",r.indicatorFixLandscape),me(2),Se("value",r.indicatorFixAll)}}function tY(e,t){1&e&&(Vd(0),G(1,"h1"),Ce(2,"Debug"),L(),G(3,"ion-item",7)(4,"ion-label"),Ce(5,"Snapshot validation (slow)"),L(),je(6,"ion-toggle",25),L(),jd())}let nY=(()=>{var e;class t{constructor(n,o,i,s,a){this.modalController=n,this.kvsService=o,this.clipboardService=i,this.alertService=s,this.proxyService=a,this.onAudioOnStartChange=l=>{this.kvsService.kvs.enableAudioOnFirstInteraction=l,l&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event).\n            <br><br>\n            This option will take effect the next time\n            Coudpilot is restarts.\n        ")},this.onReducedAnimationsChange=l=>{yP(l),this.alertService.message("Reduce animations",l?"\n                Animations will be slightly reduced in order to provide a snappier UI. This\n                reduces UI lag on iOS devices with large screens.\n                <br><br>\n                This option will take effect the next time\n                Coudpilot is restarts.\n            ":"\n                This option will only take effect the next time Coudpilot is restarts.\n            ")},this.onIndicatorFixModeChange=l=>IP(l),this.indicatorFixNone="none",this.indicatorFixPortrait="portrait",this.indicatorFixLandscape="landscape",this.indicatorFixAll="all",this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var n=this;return(0,V.Z)(function*(){yield(yield n.modalController.create({component:Hu,componentProps:{url:Xq}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var n=this;return(0,V.Z)(function*(){n.formGroup.get("networkRedirection")?.value&&!n.formGroup.get("proxyServer")?.valid&&(n.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),n.formGroup.get("networkRedirection").setValue(!1)),n.formGroup.get("networkRedirection")?.value||n.formGroup.get("proxyServer")?.setValue(n.kvsService.kvs.proxyServer),yield n.kvsService.set({volume:n.formGroup.get("volume").value,showStatistics:n.formGroup.get("showStatistics").value,clipboardIntegration:n.formGroup.get("clipboardIntegration")?.value,networkRedirection:n.formGroup.get("networkRedirection")?.value,proxyServer:n.formGroup.get("proxyServer")?.value,runHidden:n.formGroup.get("runHidden")?.value,autoLockUI:n.formGroup.get("autoLockUI")?.value,enableRemoteInstall:n.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:n.formGroup.get("audioOnStart")?.value,snapshotIntegrityCheck:n.formGroup.get("snapshotIntegrityCheck")?.value}),yP(n.formGroup.get("reducedAnimations")?.value),n.mutexReleasePromise&&(yield n.mutexReleasePromise)()})()}testProxyConnection(){var n=this;return(0,V.Z)(function*(){if(!n.connectionTestInProgress){n.connectionTestInProgress=!0;try{switch((yield n.proxyService.handshake(n.formGroup.get("proxyServer")?.value,0)).status){case"failed":n.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":n.alertService.proxyVersionMismatchError();break;default:n.alertService.message("Success","Connection to proxy successful.")}}finally{n.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const n=this.formGroup.get("proxyServer");return!(!n?.value||!n?.valid)}get showDebugOptions(){return true}get isIndicatorFixApplicable(){return DP()}createFormGroup(){this.formGroup=new P_({volume:new Lo(this.kvsService.kvs.volume),showStatistics:new Lo(this.kvsService.kvs.showStatistics),runHidden:new Lo(this.kvsService.kvs.runHidden),clipboardIntegration:new Lo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Lo(this.kvsService.kvs.networkRedirection),proxyServer:new Lo(this.kvsService.kvs.proxyServer,{validators:[tZ]}),autoLockUI:new Lo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Lo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Lo(this.kvsService.kvs.enableAudioOnFirstInteraction),snapshotIntegrityCheck:new Lo(this.kvsService.kvs.snapshotIntegrityCheck),reducedAnimations:new Lo(bP()),indicatorFixMode:new Lo(EP())}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange),this.formGroup.get("reducedAnimations")?.valueChanges.subscribe(this.onReducedAnimationsChange),this.formGroup.get("indicatorFixMode")?.valueChanges.subscribe(this.onIndicatorFixModeChange)}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Cs),v(Ri),v(XR),v(ao),v(uS))},e.\u0275cmp=Ze({type:e,selectors:[["app-settings"]],decls:57,vars:5,consts:[["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","reducedAnimations"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],[4,"ngIf"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"],["label","Fix iOS home indicator","formControlName","indicatorFixMode"],[3,"value"],["formControlName","snapshotIntegrityCheck"]],template:function(n,o){1&n&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Settings"),L(),G(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.showHelp()}),je(6,"ion-icon",2),L(),je(7,"app-pwa-prompt"),L()()(),G(8,"ion-content")(9,"ion-header",3)(10,"ion-toolbar")(11,"ion-title",4),Ce(12,"Settings"),L()()(),G(13,"div",5)(14,"form",6)(15,"h1"),Ce(16,"Emulation"),L(),G(17,"ion-item",7)(18,"ion-label"),Ce(19,"Volume"),L(),je(20,"ion-range",8),L(),G(21,"ion-item",7)(22,"ion-label"),Ce(23,"Enable audio on start"),L(),je(24,"ion-toggle",9),L(),G(25,"ion-item",7)(26,"ion-label"),Ce(27,"Run when hidden"),L(),je(28,"ion-toggle",10),L(),G(29,"h1"),Ce(30,"Host integration"),L(),zt(31,Qq,4,0,"ion-item",11),G(32,"ion-item",7)(33,"ion-label"),Ce(34,"Network redirection"),L(),je(35,"ion-toggle",12),L(),zt(36,Jq,7,1,"ion-item",11),G(37,"h1"),Ce(38,"UI"),L(),G(39,"ion-item",7)(40,"ion-label"),Ce(41,"Auto-lock UI"),L(),je(42,"ion-toggle",13),L(),G(43,"ion-item",7)(44,"ion-label"),Ce(45,"Reduce animations"),L(),je(46,"ion-toggle",14),L(),G(47,"ion-item",7)(48,"ion-label"),Ce(49,"Show statistics"),L(),je(50,"ion-toggle",15),L(),G(51,"ion-item",7)(52,"ion-label"),Ce(53,"Open from remote sources"),L(),je(54,"ion-toggle",16),L(),zt(55,eY,10,4,"ion-item",11)(56,tY,7,0,"ng-container",17),L()()()),2&n&&(me(14),Se("formGroup",o.formGroup),me(17),Se("ngIf",o.clipboardService.isSupported()),me(5),Se("ngIf",o.showProxyServer),me(19),Se("ngIf",o.isIndicatorFixApplicable),me(1),Se("ngIf",o.showDebugOptions))},dependencies:[No,ic,rc,oc,Yi,Ki,Xi,Qi,Wo,ac,Io,Ji,N0,Sh,wh,es,Dh,ts,vf,Ch,sc,cv,Ba,El],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}ion-select[_ngcontent-%COMP%]{margin-right:.5em}"]}),t})(),DS=(()=>{var e;class t{transform(n){return void 0!==n?`${Math.round(n/1024/1024)} MB`:""}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Po({name:"cardSize",type:e,pure:!0}),t})();function rY(e,t){1&e&&(G(0,"div",13)(1,"b"),Ce(2,"WARNING:"),L(),Ce(3," This image cannot be used as a memory stick image."),L())}let xP=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value&&i.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Xc({name:new bs("",{nonNullable:!0,validators:[uh.required,this.validateNameUnique]}),size:new bs({value:"dummy",disabled:!0}),checkAutomatically:new bs(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2,this.onCancel=()=>{},this.onSave=()=>{}}ngOnInit(){this.card&&(this.formGroup.controls.name.setValue(this.card.name),this.formGroup.controls.checkAutomatically.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return(e=t).\u0275fac=function(n){return new(n||e)(v(xf))},e.\u0275cmp=Ze({type:e,selectors:[["app-edit-card-dialog"]],inputs:{card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel",onCancel:"onCancel",onSave:"onSave"},decls:28,vars:7,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(n,o){1&n&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),G(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.save()}),Ce(6,"Save"),L()(),G(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),G(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),G(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),L(),je(15,"ion-input",8),L(),G(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),L(),G(19,"ion-select",9)(20,"ion-select-option",10),Ce(21),ml(22,"cardSize"),L()()(),G(23,"ion-item",6)(24,"ion-label"),Ce(25,"Check for errors automatically"),L(),je(26,"ion-toggle",11),L()(),zt(27,rY,4,0,"div",12),L()),2&n&&(me(3),Ui(o.newCard?"New memory card":"Edit memory card"),me(2),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(10),Ci("",gl(22,5,null==o.card?null:o.card.size)," "),me(6),Se("ngIf",!o.memoryStickSupported))},dependencies:[No,Yi,Ki,Xi,Qi,ac,Io,Ji,Sh,wh,es,Dh,ts,vf,Ch,sc,ic,rc,oc,Ba,El,DS],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function oY(e,t){if(1&e&&(G(0,"ion-select-option",12),Ce(1),ml(2,"cardSize"),L()),2&e){const r=t.$implicit,n=ct();Se("value",r),me(1),Ci("",gl(2,2,n.sizeBytes(r))," ")}}const iY=[Zo.mb4,Zo.mb8,Zo.mb16,Zo.mb32,Zo.mb64,Zo.mb128];let sY=(()=>{var e;class t{constructor(n){this.storageCardService=n,this.validateNameUnique=o=>this.storageCardService.getAllCards().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Xc({name:new bs("",{nonNullable:!0,validators:[uh.required,this.validateNameUnique]}),size:new bs(Zo.mb32,{nonNullable:!0}),checkAutomatically:new bs(!0,{nonNullable:!0})})}get sizes(){return iY}sizeBytes(n){return function xZ(e){switch(e){case Zo.mb4:return 4046848;case Zo.mb8:return 8110080;case Zo.mb16:return 16220160;case Zo.mb32:return 32473088;case Zo.mb64:return 64978944;case Zo.mb128:return 129990656;default:throw new Error(`bad card size ${e}`)}}(n)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return(e=t).\u0275fac=function(n){return new(n||e)(v(xf))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(n,o){1&n&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"New memory card"),L(),G(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.create()}),Ce(6,"Create"),L()(),G(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancel()}),Ce(9,"Cancel"),L()()()(),G(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),G(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Card name"),L(),je(15,"ion-input",8),L(),G(16,"ion-item",6)(17,"ion-label",7),Ce(18,"Card size"),L(),G(19,"ion-select",9),zt(20,oY,3,4,"ion-select-option",10),L()(),G(21,"ion-item",6)(22,"ion-label"),Ce(23,"Check for errors automatically"),L(),je(24,"ion-toggle",11),L()()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup),me(9),Se("ngForOf",o.sizes))},dependencies:[jc,Yi,Ki,Xi,Qi,ac,Io,Ji,Sh,wh,es,Dh,ts,vf,Ch,sc,ic,rc,oc,Ba,El,DS]}),t})();function ou(e,t,r){return()=>{const n=r();n!==t&&(e.markForCheck(),t=n)}}const aY=C.p+"assets/doc/cards-75195154c07dfe52.md";let lY=(()=>{var e;class t{constructor(){this.cardCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-action-menu-cards"]],inputs:{cardCount:"cardCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(G(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return null==o.onExport?null:o.onExport()}),je(2,"ion-icon",1),Ce(3," Export "),L(),G(4,"ion-item",0),Ne("click",function(){return null==o.onDelete?null:o.onDelete()}),je(5,"ion-icon",2),Ce(6," Delete "),L(),G(7,"ion-item",3),Ne("click",function(){return null==o.onHelp?null:o.onHelp()}),je(8,"ion-icon",4),Ce(9," Help "),L()()),2&n&&(me(1),Se("detail",!1)("disabled",0===o.cardCount),me(3),Se("detail",!1)("disabled",0===o.cardCount),me(3),Se("detail",!1))},dependencies:[Wo,Io,zs]}),t})(),cY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(G(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Ce(3," Edit "),L(),G(4,"ion-item",0),Ne("click",function(){return o.onSave()}),je(5,"ion-icon",2),Ce(6," Export "),L(),G(7,"ion-item",0),Ne("click",function(){return o.onCheck()}),je(8,"ion-icon",3),Ce(9," Check "),L(),G(10,"ion-item",4),Ne("click",function(){return o.onDelete()}),je(11,"ion-icon",5),Ce(12," Delete "),L()()),2&n&&(me(1),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1))},dependencies:[Wo,Io,zs]}),t})();function uY(e,t){1&e&&je(0,"ion-icon",15)}function dY(e,t){1&e&&je(0,"ion-icon",16)}let fY=(()=>{var e;class t{constructor(n,o,i,s){this.storageCardService=n,this.popoverController=o,this.cd=s,this.touched=!1,this.interaction=new en,this.selecting=!1,this.selectedForExport=!1,this.selectCard=new en,this.edit=new en,this.check=new en,this.delete=new en,this.save=new en,this.checkSessions=ou(s,[],()=>i.getSessions())}ngDoCheck(){this.checkSessions()}onContextmenu(n){var o=this;return(0,V.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:cY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(o.card),onSave:()=>o.save.emit(o.card),onCheck:()=>o.check.emit(),onDelete:()=>o.delete.emit()},reference:"event"})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const n=this.storageCardService.mountedInSession(this.card?.id);if(n)return`attached to '${n.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case mr.dirty:return"needs check";case mr.clean:return"no errors";case mr.unformatted:return"no filesystem";case mr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return(e=t).\u0275fac=function(n){return new(n||e)(v(xf),v(lc),v(dc),v(ut))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:21,vars:10,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Ln();G(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.card)}),G(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return Dt(i),js(1).close(),It(o.edit.emit(o.card))}),je(4,"ion-icon",4),L(),G(5,"ion-item-option",5),Ne("click",function(){return Dt(i),js(1).close(),It(o.save.emit(o.card))}),je(6,"ion-icon",6),L()(),G(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return Dt(i),js(1).close(),It(o.check.emit(o.card))}),je(9,"ion-icon",9),L(),G(10,"ion-item-option",10),Ne("click",function(){return Dt(i),js(1).close(),It(o.delete.emit(o.card))}),je(11,"ion-icon",11),L()(),G(12,"ion-item",12),Ne("click",function(){return o.selectCard.emit(),o.interaction.emit()}),G(13,"ion-label")(14,"h2"),Ce(15),L(),G(16,"p"),Ce(17),ml(18,"cardSize"),L()(),zt(19,uY,1,0,"ion-icon",13)(20,dY,1,0,"ion-icon",14),L()()}2&n&&(me(12),Se("color",o.color),me(1),sa("selecting",o.selecting),me(2),Ui(null==o.card?null:o.card.name),me(2),Op("",gl(18,8,null==o.card?null:o.card.size),", ",o.status,""),me(2),Se("ngIf",o.selecting&&!o.selectedForExport),me(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[No,Wo,Io,V_,j_,G_,Ji,DS],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var $h;function pY(e,t){if(1&e){const r=Ln();G(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Memory cards"),L(),G(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Dt(r),It(ct().addCardImage())}),je(5,"ion-icon",8),L()(),G(6,"ion-buttons",9)(7,"ion-button",7),Ne("click",function(o){return Dt(r),It(ct().openActionMenu(o))}),je(8,"ion-icon",10),L(),je(9,"app-pwa-prompt"),L()()}}function hY(e,t){1&e&&(G(0,"ion-title"),Ce(1,"Export"),L())}function mY(e,t){1&e&&(G(0,"ion-title"),Ce(1,"Delete"),L())}function gY(e,t){if(1&e){const r=Ln();G(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Dt(r),It(ct(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function _Y(e,t){if(1&e){const r=Ln();G(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Dt(r),It(ct(2).selection.clear())}),Ce(2,"Clear"),L()()}}function vY(e,t){if(1&e){const r=Ln();G(0,"ion-toolbar"),zt(1,hY,2,0,"ion-title",0)(2,mY,2,0,"ion-title",0),G(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Dt(r),It(ct().onSelectionDone())}),Ce(5),L()(),zt(6,gY,3,0,"ion-buttons",11)(7,_Y,3,0,"ion-buttons",11),L()}if(2&e){const r=ct();me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(3),Ui(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),me(1),Se("ngIf",r.selection.size!==r.cards.length),me(1),Se("ngIf",r.selection.size===r.cards.length)}}function yY(e,t){1&e&&(G(0,"ion-title",12),Ce(1,"Memory cards"),L())}function bY(e,t){1&e&&(G(0,"ion-title",12),Ce(1,"Select for export"),L())}function CY(e,t){1&e&&(G(0,"ion-title",12),Ce(1,"Select for delete"),L())}function SY(e,t){1&e&&(G(0,"div",13),je(1,"ion-spinner"),L())}function wY(e,t){1&e&&(G(0,"div",14)(1,"div",15),Ce(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),L()())}function EY(e,t){if(1&e){const r=Ln();G(0,"app-storage-card",17),Ne("delete",function(){const i=Dt(r).$implicit;return It(ct(2).deleteCard(i))})("selectCard",function(){const i=Dt(r).$implicit,s=ct(2);return It("manage"===s.mode?s.browseCard(i):s.toggleSelection(i))})("edit",function(){const i=Dt(r).$implicit;return It(ct(2).editCard(i))})("check",function(){const i=Dt(r).$implicit;return It(ct(2).checkCard(i))})("interaction",function(){const i=Dt(r).$implicit;return It(ct(2).lastCardTouched=i.id)})("save",function(){const i=Dt(r).$implicit;return It(ct(2).saveCard(i))}),L()}if(2&e){const r=t.$implicit,n=ct(2);Se("card",r)("touched",r.id===n.lastCardTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function DY(e,t){if(1&e&&(G(0,"ion-list"),zt(1,EY,1,4,"app-storage-card",16),L()),2&e){const r=ct();me(1),Se("ngForOf",r.cards)("ngForTrackBy",r.trackCardBy)}}class Al{constructor(t,r,n,o,i,s,a,l,d,f,h,m){var b=this;this.actionSheetController=t,this.storageCardService=r,this.modalController=n,this.cloudpilotService=o,this.alertService=i,this.errorService=s,this.fileService=a,this.loadingController=l,this.fstools=d,this.popoverController=f,this.cd=m,this.handleCardImport=function(){var U=(0,V.Z)(function*(ee){if(!/\.((bin|img)(|\.gz)|zip)$/i.test(ee.name))return void b.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .bin.gz, .img, .img.gz and .zip");if(ee.name.endsWith(".zip")){let vt=!1;return yield b.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all card images in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser\n                    or cause spurious errors if memory is exhausted.\n                    Are you sure you want to continue?\n                ",{Continue:()=>vt=!0},"Cancel"),void(vt&&(yield b.storageCardService.addAllCardsFromArchive(yield ee.getContent())))}const he=yield b.cloudpilotService.cloudpilot;let ye;try{ye=yield ee.getContent()}catch(vt){return console.warn(vt),void(yield b.alertService.errorMessage(`Unable to open ${ee.name}".`))}if(/\.gz$/.test(ee.name)){const vt=yield b.loadingController.create({message:"Unpacking..."});yield vt.present();try{ye=yield b.fstools.gunzip(ye)}finally{yield vt.dismiss()}}const De=ye?he.getCardSupportLevel(ye.length):0;if(void 0===ye||0===De)return void b.alertService.errorMessage("This is not a supported card image.");const bt=yield new Promise(function(){var vt=(0,V.Z)(function*(pt){const Mn=yield b.modalController.create({component:xP,backdropDismiss:!1,componentProps:{card:{name:b.disambiguateName(ee.name.replace(/\.gz$/,"")),size:ye.length},cardSupportLevel:De,newCard:!0,onCancel:()=>{Mn.dismiss(),pt(void 0)},onSave:Pn=>{pt(Pn),Mn.dismiss()}}});yield Mn.present()});return function(pt){return vt.apply(this,arguments)}}());bt&&(yield b.storageCardService.createCardFromImage(bt.name,ye,!!bt.dontFsckAutomatically))});return function(ee){return U.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{},this.mode="manage",this.selection=new Set,this.checkCards=ou(m,[],()=>this.storageCardService.getAllCards()),this.checkSessions=ou(m,void 0,()=>h.getSessions())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkCards(),this.checkSessions()}ionViewDidLeave(){this.mode="manage",this.cd.markForCheck()}get cards(){return this.storageCardService.getAllCards()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleFilesFromDrop.bind(this))}addCardImage(){var t=this;return(0,V.Z)(function*(){(yield t.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>t.createNewCardImage()},{text:"Import an existing image",handler:()=>t.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:Hu,componentProps:{url:aY}})).present()})()}browseCard(t){var r=this;return(0,V.Z)(function*(){(yield r.storageCardService.browseCard(t))&&r.onMountForBrowse(t)})()}editCard(t){var r=this;return(0,V.Z)(function*(){const n=yield r.cloudpilotService.cloudpilot,o=yield r.modalController.create({component:xP,backdropDismiss:!1,componentProps:{card:t,cardSupportLevel:n.getCardSupportLevel(t.size),onCancel:()=>o.dismiss(),onSave:(i=(0,V.Z)(function*(s){yield r.storageCardService.updateCard(t.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(t){var r=this;return(0,V.Z)(function*(){const n=`${If(t.name.replace(/\.img$/,""))}.img`;yield(yield r.actionSheetController.create({header:"How do you want to export the image?",buttons:[{text:"Export gzip compressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!0)},{text:"Export uncompressed image",handler:()=>r.storageCardService.saveCard(t.id,n,!1)},{text:"Cancel"}]})).present()})()}checkCard(t){return this.storageCardService.checkCard(t)}deleteCard(t){var r=this;return(0,V.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the card '${t.name}' cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.storageCardService.deleteCard(t.id)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}})()}trackCardBy(t,r){return r.id}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,V.Z)(function*(){const r=t.mode;switch(t.mode="manage",r){case"select-for-export":yield t.executeMassExport(Array.from(t.selection));break;case"select-for-delete":yield t.executeMassDelete(Array.from(t.selection))}})()}onSelectAll(){this.cards.forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,V.Z)(function*(){const o=yield n.popoverController.create({component:lY,event:t,componentProps:{cardCount:n.cards.length,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,V.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.saveCard(n));break}default:yield r.exportSelection(t)}})()}executeMassDelete(t){var r=this;return(0,V.Z)(function*(){switch(t.length){case 0:break;case 1:{const n=yield r.storageCardService.getCard(t[0]);n&&(yield r.deleteCard(n));break}default:{let n=!0;if(yield r.alertService.message("Warning",`You are about to delete ${t.length} cards. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.storageCardService.deleteCard(i)}catch(i){r.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}finally{o.dismiss()}}}})()}exportSelection(t){var r=this;return(0,V.Z)(function*(){const n=new Map(yield r.storageCardService.getAllCards().map(i=>[i.id,i]));if(t.map(i=>n.get(i)?.size).reduce((i,s)=>i+(s??0),0)>268435456){let i=!0;if(yield r.alertService.message("Warning","\n                    You are about to export a large amount of data. This may consume a lot of memory and can crash the browser.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!1},"Cancel"),i)return}yield r.storageCardService.saveCards(t)})()}handleFilesFromDrop(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single file system image in order to import it as a new memory card.");this.handleCardImport(t[0])}}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var t=this;return(0,V.Z)(function*(){const r=yield t.modalController.create({component:sY,backdropDismiss:!1,componentProps:{onCancel:()=>r.dismiss(),onCreate:(n=(0,V.Z)(function*(o,i,s){yield t.storageCardService.createEmptyCard(o,i,s),yield r.dismiss()}),function(i,s,a){return n.apply(this,arguments)})}});var n;yield r.present()})()}disambiguateName(t){const r=this.storageCardService.getAllCards();return Df(t,n=>r.some(o=>o.name===n))}}function IY(e,t){1&e&&je(0,"ion-icon",8)}function xY(e,t){1&e&&je(0,"ion-icon",9)}function TY(e,t){1&e&&je(0,"ion-icon",10)}function MY(e,t){if(1&e){const r=Ln();G(0,"ion-item",2),Ne("click",function(){const i=Dt(r).index;return It(ct(2).onSelect(i))}),Vd(1,3),zt(2,IY,1,0,"ion-icon",4)(3,xY,1,0,"ion-icon",5)(4,TY,1,0,"ion-icon",6),jd(),G(5,"div",7),Ce(6),L()()}if(2&e){const r=t.$implicit,n=t.index,o=ct(2);Se("detail",!1)("lines",n===o.entries.length-1?"none":"full"),me(1),Se("ngSwitch",o.entries.length),me(1),Se("ngSwitchCase",n+1),me(1),Se("ngSwitchCase",n+2),me(3),Ui(r)}}function AY(e,t){if(1&e&&(G(0,"ion-list"),zt(1,MY,7,6,"ion-item",1),L()),2&e){const r=ct();me(1),Se("ngForOf",r.entries)}}($h=Al).\u0275fac=function(t){return new(t||$h)(v(xh),v(xf),v(Cs),v(Va),v(ao),v(Gu),v(ru),v(da),v(iv),v(lc),v(dc),v(ut))},$h.\u0275cmp=Ze({type:$h,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse",selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","selecting","selectedForExport","delete","selectCard","edit","check","interaction","save"]],template:function(t,r){1&t&&(G(0,"ion-header"),zt(1,pY,10,0,"ion-toolbar",0)(2,vY,8,5,"ion-toolbar",0),L(),G(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),G(4,"ion-header",2)(5,"ion-toolbar"),zt(6,yY,2,0,"ion-title",3)(7,bY,2,0,"ion-title",3)(8,CY,2,0,"ion-title",3),L()(),zt(9,SY,2,0,"div",4)(10,wY,3,0,"div",5)(11,DY,2,2,"ion-list",0),L()),2&t&&(me(1),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","manage"!==r.mode),me(4),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(1),Se("ngIf",r.storageCardService.isLoading()),me(1),Se("ngIf",!r.storageCardService.isLoading()&&0===r.cards.length),me(1),Se("ngIf",!r.storageCardService.isLoading()&&r.cards.length>0))},dependencies:[jc,No,Yi,Ki,Xi,Qi,Wo,zs,Eh,es,ts,cv,fY],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),re([zn()],Al.prototype,"addCardImage",null),re([zn()],Al.prototype,"browseCard",null),re([zn()],Al.prototype,"editCard",null),re([zn()],Al.prototype,"saveCard",null),re([zn()],Al.prototype,"checkCard",null),re([zn()],Al.prototype,"deleteCard",null),re([zn()],Al.prototype,"onSelectionDone",null),re([zn()],Al.prototype,"openActionMenu",null);let kY=(()=>{var e;class t{constructor(){this.onSelect=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(n,o){1&n&&zt(0,AY,2,1,"ion-list",0),2&n&&Se("ngIf",o.entries)},dependencies:[jc,No,Jg,wT,ET,Wo,Io,zs],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(var(--cp-breadcrumb-menu-width) - 30px)}.ios[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{max-width:calc(var(--cp-breadcrumb-menu-width) - 70px)}"]}),t})(),RY=(()=>{var e;class t{constructor(n){this.vfsService=n,this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Zu))},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(G(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onStartSelection()}),je(2,"ion-icon",1),Ce(3," Start selection "),L(),G(4,"ion-item",2),Ne("click",function(){return o.onAddFiles()}),je(5,"ion-icon",3),Ce(6," Add files "),L(),G(7,"ion-item",2),Ne("click",function(){return o.onCreateDirectry()}),je(8,"ion-icon",4),Ce(9," Add directory "),L(),G(10,"ion-item",2),Ne("click",function(){return o.onExtractZipfile()}),je(11,"ion-icon",5),Ce(12," Extract zip "),L(),G(13,"ion-item",0),Ne("click",function(){return o.onPaste()}),je(14,"ion-icon",6),Ce(15," Paste "),L(),G(16,"ion-item",7),Ne("click",function(){return o.onHelp()}),je(17,"ion-icon",8),Ce(18," Help "),L()()),2&n&&(me(1),Se("detail",!1)("disabled",o.emptyDirectory),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1)("disabled",!o.vfsService.isClipboardPopulated()),me(3),Se("detail",!1))},dependencies:[Wo,Io,zs]}),t})();var Bh;class dv{constructor(t,r){this.modalController=t,this.vfsService=r,this.validateNameUnique=n=>this.entry&&this.vfsService.readdir(this.vfsService.dirname(this.entry.path)).some(o=>o.name.toLocaleLowerCase()===n.value.toLocaleLowerCase()&&o.name.toLocaleLowerCase()!==this.entry?.name?.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=n=>this.vfsService.isFilenameValid(n.value)?null:{name:"invalid file name"},this.onSave=()=>{},this.formGroup=new Xc({name:new bs("",{nonNullable:!0,validators:[uh.required,this.validateNameUnique,this.validateNameValid]}),attrReadonly:new bs(!1,{nonNullable:!0}),attrHidden:new bs(!1,{nonNullable:!0}),attrSystem:new bs(!1,{nonNullable:!0})})}ngOnInit(){this.entry&&(this.formGroup.controls.name.setValue(this.entry.name),this.formGroup.controls.attrHidden.setValue(this.entry.attributes.hidden),this.formGroup.controls.attrReadonly.setValue(this.entry.attributes.readonly),this.formGroup.controls.attrSystem.setValue(this.entry.attributes.system))}get subjectName(){return this.entry?.isDirectory?"Directory":"File"}onSaveClick(){var t=this;return(0,V.Z)(function*(){yield t.save()})()}onCancelClick(){this.modalController.dismiss()}onEnter(){var t=this;return(0,V.Z)(function*(){yield t.save()})()}save(){var t=this;return(0,V.Z)(function*(){t.entry&&t.formGroup.valid&&(yield t.vfsService.updateFileEntry(t.entry.path,{name:t.formGroup.controls.name.value??"",attributes:{hidden:!!t.formGroup.controls.attrHidden.value,readonly:!!t.formGroup.controls.attrReadonly.value,system:!!t.formGroup.controls.attrSystem.value}}),t.onSave(),t.modalController.dismiss())})()}}(Bh=dv).\u0275fac=function(t){return new(t||Bh)(v(Cs),v(Zu))},Bh.\u0275cmp=Ze({type:Bh,selectors:[["app-edit-file-dialog"]],inputs:{entry:"entry"},decls:34,vars:5,consts:[["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["formControlName","name",3,"placeholder"],["name","lock-closed-outline","size","small"],["formControlName","attrReadonly"],["name","eye-off-outline","size","small"],["formControlName","attrHidden"],["name","cog-outline","size","small"],["formControlName","attrSystem"]],template:function(t,r){1&t&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3),L(),G(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return r.onSaveClick()}),Ce(6,"Save"),L()(),G(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return r.onCancelClick()}),Ce(9,"Cancel"),L()()()(),G(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return r.onEnter()}),G(12,"ion-item",6)(13,"ion-label",7),Ce(14),L(),je(15,"ion-input",8),L(),G(16,"ion-item",6)(17,"h2"),Ce(18,"Attributes"),L()(),G(19,"ion-item",6)(20,"ion-label"),je(21,"ion-icon",9),Ce(22,"Readonly"),L(),je(23,"ion-checkbox",10),L(),G(24,"ion-item",6)(25,"ion-label"),je(26,"ion-icon",11),Ce(27,"Hidden"),L(),je(28,"ion-checkbox",12),L(),G(29,"ion-item",6)(30,"ion-label"),je(31,"ion-icon",13),Ce(32,"System"),L(),je(33,"ion-checkbox",14),L()()()),2&t&&(me(3),Ci("Edit ",r.subjectName.toLowerCase(),""),me(2),Se("disabled",r.formGroup.invalid),me(6),Se("formGroup",r.formGroup),me(3),Ci("",r.subjectName," name"),me(1),Dg("placeholder","Enter ",r.subjectName.toLowerCase()," name"))},dependencies:[Yi,Ki,rR,Xi,Qi,Wo,ac,Io,Ji,es,ts,vf,sc,ic,rc,oc,Ba,El],styles:["ion-icon[_ngcontent-%COMP%]{margin-right:1em;position:relative;top:2px}"]}),re([zn()],dv.prototype,"onSaveClick",null),re([zn()],dv.prototype,"onEnter",null);let PY=(()=>{var e;class t{constructor(n,o){this.el=n,this.zone=o;const i=n.nativeElement.querySelector("input");i?i.focus():this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}ngOnDestroy(){this.observer?.disconnect()}update(){const n=this.el.nativeElement.querySelector("input");n&&(setTimeout(()=>n.focus(),100),this.observer?.disconnect())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(rt),v(Ue))},e.\u0275dir=kt({type:e,selectors:[["","appAutofocus",""]]}),t})(),OY=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.modalController=o,this.validateNameUnique=i=>this.parentPath&&this.vfsService.readdir(this.parentPath).some(s=>s.name.toLocaleLowerCase()===i.value.toLocaleLowerCase())?{name:"already taken"}:null,this.validateNameValid=i=>this.vfsService.isFilenameValid(i.value)?null:{name:"invalid file name"},this.onCreate=()=>{},this.formGroup=new Xc({name:new bs("",{nonNullable:!0,validators:[uh.required,this.validateNameUnique,this.validateNameValid]})})}onCreateClick(){this.createDir()}onEnter(){this.createDir()}onCancelClick(){this.modalController.dismiss()}createDir(){this.formGroup.controls.name.valid&&(this.onCreate(this.formGroup.controls.name.value),this.modalController.dismiss())}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Zu),v(Cs))},e.\u0275cmp=Ze({type:e,selectors:[["app-new-directory-dialog"]],inputs:{parentPath:"parentPath",onCreate:"onCreate"},decls:16,vars:2,consts:[["slot","primary"],["tabindex","-1",3,"disabled","click"],["slot","secondary"],["tabindex","-1",3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter directory name","formControlName","name","appAutofocus","","tabindex","1"]],template:function(n,o){1&n&&(G(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Ce(3,"Create directory"),L(),G(4,"ion-buttons",0)(5,"ion-button",1),Ne("click",function(){return o.onCreateClick()}),Ce(6,"Create"),L()(),G(7,"ion-buttons",2)(8,"ion-button",3),Ne("click",function(){return o.onCancelClick()}),Ce(9,"Cancel"),L()()()(),G(10,"ion-content",4)(11,"form",5),Ne("keydown.enter",function(){return o.onEnter()}),G(12,"ion-item",6)(13,"ion-label",7),Ce(14,"Directory name"),L(),je(15,"ion-input",8),L()()()),2&n&&(me(5),Se("disabled",o.formGroup.invalid),me(6),Se("formGroup",o.formGroup))},dependencies:[Yi,Ki,Xi,Qi,ac,Io,Ji,es,ts,sc,ic,rc,oc,Ba,El,PY]}),t})();function TP(e){let t,r,n=!1;return o=>((!n||o!==t)&&(t=o,n=!0,r=e(o)),r)}const FY=C.p+"assets/doc/card-browser-5a0261814255810d.md";let NY=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(G(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Ce(3," Edit "),L(),G(4,"ion-item",0),Ne("click",function(){return o.onSave()}),je(5,"ion-icon",2),Ce(6," Save "),L(),G(7,"ion-item",0),Ne("click",function(){return o.onCopy()}),je(8,"ion-icon",3),Ce(9," Copy "),L(),G(10,"ion-item",0),Ne("click",function(){return o.onCut()}),je(11,"ion-icon",4),Ce(12," Cut "),L(),G(13,"ion-item",5),Ne("click",function(){return o.onDelete()}),je(14,"ion-icon",6),Ce(15," Delete "),L()()),2&n&&(me(1),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1))},dependencies:[Wo,Io,zs]}),t})(),MP=(()=>{var e;class t{transform(n){return void 0===n?"":n<1024?`${n} bytes`:n<1048576?`${(n/1024).toFixed(1)} kB`:`${(n/1024/1024).toFixed(1)} MB`}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Po({name:"fileSize",type:e,pure:!0}),t})();const LY=["slidingItem"];function $Y(e,t){1&e&&je(0,"ion-icon",24)}function BY(e,t){1&e&&je(0,"ion-icon",25)}function VY(e,t){1&e&&je(0,"ion-icon",26)}function jY(e,t){1&e&&je(0,"ion-icon",27)}function GY(e,t){1&e&&je(0,"ion-icon",28)}function UY(e,t){1&e&&je(0,"ion-icon",29)}function HY(e,t){1&e&&je(0,"ion-icon",30)}function zY(e,t){1&e&&je(0,"ion-icon",31)}function WY(e,t){1&e&&je(0,"ion-icon",32)}function ZY(e,t){if(1&e&&(Vd(0),Ce(1),ml(2,"fileSize"),jd()),2&e){const r=ct();me(1),Ci(" - ",gl(2,1,null==r.entry?null:r.entry.size)," ")}}let qY=(()=>{var e;class t{constructor(n,o,i){this.actionSheetController=n,this.popoverController=o,this.vfsService=i,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new en,this.selectEntry=new en,this.editEntry=new en,this.copyEntry=new en,this.cutEntry=new en,this.deleteEntry=new en,this.saveEntry=new en,this.isIOS=!!document.querySelector("html.ios")}ngOnChanges(n){n.selecting&&n.selecting.currentValue&&!n.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(n){var o=this;return(0,V.Z)(function*(){o.selecting||(n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:NY,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.editEntry.emit(o.entry),onSave:()=>o.saveEntry.emit(o.entry),onCopy:()=>o.copyEntry.emit(o.entry),onCut:()=>o.cutEntry.emit(o.entry),onDelete:()=>o.deleteEntry.emit(o.entry)},reference:"event"})).present())})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}get markedForCut(){return!!this.entry&&"cut"===this.vfsService.isEntryInClipboard(this.entry)}get markedForCopy(){return!!this.entry&&"copy"===this.vfsService.isEntryInClipboard(this.entry)}cutOrCopyEntry(){var n=this;return(0,V.Z)(function*(){const o=n.entry?.isDirectory?"directory":"file";(yield n.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${o}`,handler:()=>n.copyEntry.emit(n.entry)},{text:`Cut ${o}`,handler:()=>n.cutEntry.emit(n.entry)},{text:"Cancel"}]})).present()})()}get safetyMargin(){let n=0;return this.entry?.attributes.readonly&&(n+=1.7),this.entry?.attributes.hidden&&(n+=1.7),this.entry?.attributes.system&&(n+=1.7),(this.markedForCopy||this.markedForCut)&&(n+=1.7),0===n?"0":(n+=this.selecting?this.isIOS?1.25:1:this.entry?.isDirectory?2:3.5,n+"em")}}return(e=t).\u0275fac=function(n){return new(n||e)(v(xh),v(lc),v(Zu))},e.\u0275cmp=Ze({type:e,selectors:[["app-file-entry"]],viewQuery:function(n,o){if(1&n&&Lc(LY,5),2&n){let i;Gs(i=Us())&&(o.slidingItem=i.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[nr],decls:29,vars:23,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["slot","end",1,"attribute-icon-container"],["class","attribute-icon","name","lock-closed-outline","size","small",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small",4,"ngIf"],["class","attribute-icon","name","clipboard-outline","size","small",4,"ngIf"],["class","attribute-icon","name","cut-outline","size","small",4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small",1,"attribute-icon"],["name","eye-off-outline","size","small",1,"attribute-icon"],["name","cog-outline","size","small",1,"attribute-icon"],["name","clipboard-outline","size","small",1,"attribute-icon"],["name","cut-outline","size","small",1,"attribute-icon"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Ln();G(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit(o.entry)}),G(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return Dt(i),js(1).close(),It(o.editEntry.emit(o.entry))}),je(4,"ion-icon",4),L(),G(5,"ion-item-option",5),Ne("click",function(){return Dt(i),js(1).close(),It(o.saveEntry.emit(o.entry))}),je(6,"ion-icon",6),L()(),G(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return Dt(i),js(1).close(),It(o.cutOrCopyEntry())}),je(9,"ion-icon",9),L(),G(10,"ion-item-option",10),Ne("click",function(){return Dt(i),js(1).close(),It(o.deleteEntry.emit(o.entry))}),je(11,"ion-icon",11),L()(),G(12,"ion-item",12),Ne("click",function(){return o.selectEntry.emit(),o.interaction.emit()}),zt(13,$Y,1,0,"ion-icon",13)(14,BY,1,0,"ion-icon",14),G(15,"div",15),zt(16,VY,1,0,"ion-icon",16)(17,jY,1,0,"ion-icon",17)(18,GY,1,0,"ion-icon",18)(19,UY,1,0,"ion-icon",19)(20,HY,1,0,"ion-icon",20),L(),zt(21,zY,1,0,"ion-icon",21)(22,WY,1,0,"ion-icon",22),G(23,"ion-label")(24,"h2"),Ce(25),L(),G(26,"p"),Ce(27),zt(28,ZY,3,3,"ng-container",23),L()()()()}2&n&&(Se("disabled",o.selecting),me(12),Cu("opacity",o.touched?1:.99999),sa("is-directory",null==o.entry?null:o.entry.isDirectory),Se("color",o.color)("detail",(null==o.entry?null:o.entry.isDirectory)&&!o.selecting),me(1),Se("ngIf",null==o.entry?null:o.entry.isDirectory),me(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)),me(2),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.readonly),me(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.hidden),me(1),Se("ngIf",null==o.entry||null==o.entry.attributes?null:o.entry.attributes.system),me(1),Se("ngIf",o.markedForCopy),me(1),Se("ngIf",o.markedForCut),me(1),Se("ngIf",o.selecting&&!o.selected),me(1),Se("ngIf",o.selecting&&o.selected),me(1),Cu("padding-right",o.safetyMargin),sa("selecting",o.selecting),me(2),Ui(null==o.entry?null:o.entry.name),me(2),Ci(" ",null==o.entry?null:o.entry.lastModifiedLocalDate," "),me(1),Se("ngIf",!(null!=o.entry&&o.entry.isDirectory)))},dependencies:[No,Wo,Io,V_,j_,G_,Ji,MP],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white);position:relative}ion-icon.item-detail-icon[_ngcontent-%COMP%]{min-width:1em}ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7em)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 8em)}.ios[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 6.5em)}.ios[_ngcontent-%COMP%]   ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 7.5em)}.attribute-icon-container[_ngcontent-%COMP%]{position:absolute;top:0;right:3.25em;display:flex;flex-direction:row;align-items:center;height:100%}.ios[_ngcontent-%COMP%]   .attribute-icon-container[_ngcontent-%COMP%]{right:3.5em}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em!important}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}.ios[_ngcontent-%COMP%]   .selection-icon[_ngcontent-%COMP%]{margin-left:.5em}"],changeDetection:0}),t})();var Vh;function YY(e,t){if(1&e){const r=Ln();G(0,"ion-toolbar")(1,"ion-title")(2,"app-breadcrumb",6),Ne("trigger",function(o){return Dt(r),It(ct().openBreadcrumbMenu(o))}),Ce(3),L()(),G(4,"ion-buttons",7),je(5,"ion-back-button"),L(),G(6,"ion-buttons",8)(7,"ion-button",9),Ne("click",function(o){return Dt(r),It(ct().openContextMenu(o,"trigger"))}),je(8,"ion-icon",10),L()()()}if(2&e){const r=ct();me(3),Ui(r.title)}}function KY(e,t){if(1&e){const r=Ln();G(0,"ion-buttons",12)(1,"ion-button",9),Ne("click",function(){return Dt(r),It(ct(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function XY(e,t){if(1&e){const r=Ln();G(0,"ion-buttons",12)(1,"ion-button",9),Ne("click",function(){return Dt(r),It(ct(2).selection.clear())}),Ce(2,"Clear"),L()()}}function QY(e,t){if(1&e){const r=Ln();G(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Selection"),L(),G(3,"ion-buttons",8)(4,"ion-button",9),Ne("click",function(){return Dt(r),It(ct().onSelectionDone())}),Ce(5),L()(),zt(6,KY,3,0,"ion-buttons",11)(7,XY,3,0,"ion-buttons",11),L()}if(2&e){const r=ct();me(5),Ui(0===r.selection.size?"Cancel":"Done"),me(1),Se("ngIf",r.selection.size!==(null==r.entries?null:r.entries.length)),me(1),Se("ngIf",r.selection.size===(null==r.entries?null:r.entries.length))}}function JY(e,t){if(1&e&&(G(0,"div",13)(1,"div",14),Ce(2),L()()),2&e){const r=ct();me(2),Ci("empty ",r.isRoot?"card":"directory","")}}function eK(e,t){if(1&e){const r=Ln();G(0,"app-file-entry",15),Ne("selectEntry",function(){const i=Dt(r).$implicit;return It(ct().onSelect(i))})("editEntry",function(){const i=Dt(r).$implicit;return It(ct().onEditEntry(i))})("saveEntry",function(){const i=Dt(r).$implicit;return It(ct().onSaveEntry(i))})("copyEntry",function(){const i=Dt(r).$implicit;return It(ct().onCopyEntry(i))})("cutEntry",function(){const i=Dt(r).$implicit;return It(ct().onCutEntry(i))})("deleteEntry",function(){const i=Dt(r).$implicit;return It(ct().onDeleteEntry(i))})("interaction",function(){const i=Dt(r).$implicit;return It(ct().lastEntryTouched=i.name)}),L()}if(2&e){const r=t.$implicit,n=ct();Se("entry",r)("selecting","select"===n.mode)("selected",n.selection.has(r.name))("touched",r.name===n.lastEntryTouched)}}function tK(e,t){if(1&e&&(G(0,"p"),Ce(1),ml(2,"fileSize"),ml(3,"fileSize"),L()),2&e){const r=ct(2);me(1),Op("",gl(2,2,r.bytesFree)," free, ",gl(3,4,r.bytesTotal)," total")}}function nK(e,t){if(1&e&&(G(0,"p"),Ce(1),ml(2,"fileSize"),L()),2&e){const r=ct(2);me(1),mb(" ",gl(2,3,r.bytesInFiles)," in ",r.fileCount," ",1===r.fileCount?"file":"files"," ")}}function rK(e,t){if(1&e&&(G(0,"ion-item",16)(1,"ion-label"),zt(2,tK,4,6,"p",0)(3,nK,3,5,"p",0),L()()),2&e){const r=ct();me(2),Se("ngIf",r.isRoot),me(1),Se("ngIf",r.fileCount>0)}}function oK(e,t){return e.isDirectory&&!t.isDirectory?-1:!e.isDirectory&&t.isDirectory?1:e.name.localeCompare(t.name)}class Ua{constructor(t,r,n,o,i,s,a,l){this.vfsService=t,this.popoverController=r,this.config=n,this.alertService=o,this.actionSheetController=i,this.modalController=s,this.fileService=a,this.cd=l,this.bytesInFilesMemoized=TP(d=>d?.reduce((f,h)=>f+(h.isDirectory?0:h.size),0)??0),this.fileCountMemoized=TP(d=>d?.filter(f=>!f.isDirectory)?.length??0),this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.checkEntries=ou(l,void 0,()=>void 0!==this.path?t.readdir(this.path):void 0),this.checkBytesFree=ou(l,void 0,()=>this.vfsService.getBytesFree())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkEntries(),this.checkBytesFree()}handleDragDropEvent(t){this.fileService.openFromDrop(t,r=>this.vfsService.addFiles(r,this.path||""))}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const t=this.vfsService.splitPath(this.path);return t[t.length-1]??""}}}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}get bytesInFiles(){return this.bytesInFilesMemoized(this.entries)}get isRoot(){return"/"===this.path}get fileCount(){return this.fileCountMemoized(this.entries)}get entries(){return void 0!==this.path?[...this.vfsService.readdir(this.path)].sort(oK):[]}trackEntryBy(t,r){return r.name}onSelect(t){"browse"===this.mode?t.isDirectory&&this.onNavigate(t.path):this.selection?.has(t.name)?this.selection.delete(t.name):this.selection.add(t.name)}onEditEntry(t){var r=this;return(0,V.Z)(function*(){yield(yield r.modalController.create({component:dv,backdropDismiss:!1,componentProps:{entry:t}})).present()})()}onSaveEntry(t){var r=this;return(0,V.Z)(function*(){r.path&&(t.isDirectory?yield r.vfsService.archiveFiles([t],r.path):yield r.vfsService.saveFile(t))})()}onCopyEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"copy")}onCutEntry(t){this.path&&this.vfsService.copyToClipboard(this.path,[t.name],"cut")}onDeleteEntry(t){var r=this;return(0,V.Z)(function*(){t.isDirectory?yield r.vfsService.deleteRecursive([t]):yield r.vfsService.unlinkEntry(t)})()}onAddFiles(){this.fileService.openFiles(t=>this.vfsService.addFiles(t,this.path||"/"))}onCreateDirectory(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:OY,backdropDismiss:!1,componentProps:{parentPath:t.path,onCreate:n=>t.vfsService.mkdir(`${t.path}/${n}`)}})).present()})()}onExtractZipfile(){this.fileService.openFile(this.extractZipArchive.bind(this))}onPaste(){var t=this;return(0,V.Z)(function*(){t.path&&(yield t.vfsService.paste(t.path))})()}onHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:Hu,componentProps:{url:FY}})).present()})()}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select",this.cd.markForCheck())}onSelectionDone(){var t=this;return(0,V.Z)(function*(){if(!t.entries)return;const r=Array.from(t.selection),n=new Map(t.entries.map(a=>[a.name,a])),o=r.every(a=>!n.get(a)?.isDirectory),i=r.every(a=>n.get(a)?.isDirectory);let s=`${t.selection.size} items`;if(o&&(s=1===t.selection.size?"file":`${t.selection.size} files`),i&&(s=1===t.selection.size?"directory":`${t.selection.size} directories`),0!==t.selection.size){const a=yield t.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${s}`,handler:t.onCopySelection.bind(t)},{text:`Cut ${s}`,handler:t.onCutSelection.bind(t)},{text:`Save ${s} as zip`,handler:t.onSaveZip.bind(t)},{text:`Delete ${s}`,handler:t.onDeleteSelection.bind(t)},{text:"Cancel"}]});yield a.present(),yield a.onWillDismiss()}t.mode="browse",t.cd.markForCheck()})()}onSelectAll(){this.entries?.forEach(t=>this.selection.add(t.name))}onCopySelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"copy")}onCutSelection(){this.path&&this.vfsService.copyToClipboard(this.path,Array.from(this.selection),"cut")}onSaveZip(){var t=this;return(0,V.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.archiveFiles(r,t.path))})()}onDeleteSelection(){var t=this;return(0,V.Z)(function*(){const r=t.materializeSelection();!r||!t.path||(yield t.vfsService.deleteRecursive(r))})()}openBreadcrumbMenu(t){var r=this;return(0,V.Z)(function*(){if(!r.card||!r.path)return;const n=[..."/"===r.path?[]:[...r.vfsService.splitPath(r.path).reverse().slice(1),r.card.name],"Memory cards"];(yield r.popoverController.create({component:kY,componentProps:{entries:n,onSelect:i=>r.onNavigateBreadcrumb(n.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===r.config.get("mode")?"center":"start",trigger:t,cssClass:"cp-breadcrumb-menu"})).present()})()}openContextMenu(t,r){var n=this;return(0,V.Z)(function*(){(yield n.popoverController.create({component:RY,componentProps:{emptyDirectory:0===n.entries?.length,onStartSelection:n.onStartSelection.bind(n),onAddFiles:n.onAddFiles.bind(n),onCreateDirectry:n.onCreateDirectory.bind(n),onExtractZipfile:n.onExtractZipfile.bind(n),onPaste:n.onPaste.bind(n),onHelp:n.onHelp.bind(n)},event:t,dismissOnSelect:!0,arrow:!1,reference:r})).present()})()}onContextMenu(t){"select"!==this.mode&&(t.preventDefault(),this.openContextMenu(t,"event"))}ionViewDidLeave(){this.mode="browse",this.cd.markForCheck()}materializeSelection(){if(!this.path)return;const t=new Map(this.vfsService.readdir(this.path).map(r=>[r.name,r]));return Array.from(this.selection).map(r=>t.get(r)).filter(r=>!!r)}extractZipArchive(t){var r=this;return(0,V.Z)(function*(){/\.zip$/.test(t.name)?r.vfsService.unpackArchive(yield t.getContent(),r.path||"/"):yield r.alertService.errorMessage("File does not have the correct extension. Only .zip files are supported")})()}}(Vh=Ua).\u0275fac=function(t){return new(t||Vh)(v(Zu),v(lc),v(gh),v(ao),v(xh),v(Cs),v(ru),v(ut))},Vh.\u0275cmp=Ze({type:Vh,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",selfReference:"selfReference",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:9,vars:6,consts:[[4,"ngIf"],[3,"contextmenu"],[1,"container"],["class","placeholder-wrapper",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["class","metadata","lines","none",4,"ngIf"],[3,"trigger"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-wrapper"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"],["lines","none",1,"metadata"]],template:function(t,r){1&t&&(G(0,"ion-header"),zt(1,YY,9,1,"ion-toolbar",0)(2,QY,8,3,"ion-toolbar",0),L(),G(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),G(4,"div",2),zt(5,JY,3,1,"div",3),G(6,"ion-list"),zt(7,eK,1,4,"app-file-entry",4)(8,rK,4,2,"ion-item",5),L()()()),2&t&&(me(1),Se("ngIf","browse"===r.mode),me(1),Se("ngIf","select"===r.mode),me(3),Se("ngIf",0===(null==r.entries?null:r.entries.length)),me(2),Se("ngForOf",r.entries)("ngForTrackBy",r.trackEntryBy),me(1),Se("ngIf",r.isRoot||r.fileCount>0))},dependencies:[jc,No,Yi,Ki,Xi,Qi,Wo,Io,Ji,zs,es,ts,sR,_P,qY,MP],styles:[".container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.placeholder-wrapper[_ngcontent-%COMP%]{flex:1;width:100%;display:flex;align-items:center;justify-content:center}.placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}ion-list[_ngcontent-%COMP%]{background:none;flex:0}ion-item.metadata[_ngcontent-%COMP%]{text-align:center}"],changeDetection:0}),re([zn()],Ua.prototype,"onSaveEntry",null),re([zn()],Ua.prototype,"onDeleteEntry",null),re([zn()],Ua.prototype,"onCreateDirectory",null),re([zn()],Ua.prototype,"onPaste",null),re([zn()],Ua.prototype,"onHelp",null),re([zn()],Ua.prototype,"onSelectionDone",null),re([zn()],Ua.prototype,"onSaveZip",null),re([zn()],Ua.prototype,"onDeleteSelection",null);const iK=["nav"];let sK=(()=>{var e;class t{constructor(n,o){this.vfsService=n,this.dragDropService=o,this.navRootProps={onMountForBrowse:i=>this.browseCard(i),selfReference:{}},this.onNavigate=i=>{this.currentlyBrowsingCard&&this.nav?.push(Ua,{card:this.currentlyBrowsingCard,path:i,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})},this.onNavigateBreadcrumb=i=>{this.currentlyBrowsingCard&&this.nav?.popTo(i,{animated:this.animateNav})},this.navRoot=Al,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidLeave(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewDidEnter(){this.isVisible=!0,this.dragDropService.registerClient(this)}ionViewWillLeave(){this.isVisible=!1,this.dragDropService.unregisterClient(this)}handleDragDropEvent(n){var o=this;return(0,V.Z)(function*(){yield(yield o.nav?.getActive())?.params?.selfReference?.ref?.handleDragDropEvent?.(n)})()}get animateNav(){return!LW}browseCard(n){this.currentlyBrowsingCard=n,this.nav?.push(Ua,{card:n,path:"/",onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb,selfReference:{}},{animated:this.animateNav})}onReleaseCard(n){n!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=this.animateNav)))}}return(e=t).\u0275fac=function(n){return new(n||e)(v(Zu),v(ES))},e.\u0275cmp=Ze({type:e,selectors:[["app-storage"]],viewQuery:function(n,o){if(1&n&&Lc(iK,5),2&n){let i;Gs(i=Us())&&(o.nav=i.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&je(0,"ion-nav",0,1),2&n&&Se("animated",o.animateNav)("root",o.navRoot)("rootParams",o.navRootProps)},dependencies:[L0]}),t})();const aK=C.p+"assets/doc/sessions-868d7e6c0550348b.md";let lK=(()=>{var e;class t{constructor(){this.sessionCount=0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-action-menu"]],inputs:{sessionCount:"sessionCount",onExport:"onExport",onDelete:"onDelete",onHelp:"onHelp"},decls:10,vars:5,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","share-outline","slot","end"],["name","trash-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(n,o){1&n&&(G(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return null==o.onExport?null:o.onExport()}),je(2,"ion-icon",1),Ce(3," Export "),L(),G(4,"ion-item",0),Ne("click",function(){return null==o.onDelete?null:o.onDelete()}),je(5,"ion-icon",2),Ce(6," Delete "),L(),G(7,"ion-item",3),Ne("click",function(){return null==o.onHelp?null:o.onHelp()}),je(8,"ion-icon",4),Ce(9," Help "),L()()),2&n&&(me(1),Se("detail",!1)("disabled",0===o.sessionCount),me(3),Se("detail",!1)("disabled",0===o.sessionCount),me(3),Se("detail",!1))},dependencies:[Wo,Io,zs]}),t})(),cK=(()=>{var e;class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(n,o){1&n&&(G(0,"ion-list")(1,"ion-item",0),Ne("click",function(){return o.onEdit()}),je(2,"ion-icon",1),Ce(3," Edit "),L(),G(4,"ion-item",0),Ne("click",function(){return o.onSave()}),je(5,"ion-icon",2),Ce(6," Export "),L(),G(7,"ion-item",0),Ne("click",function(){return o.onReset()}),je(8,"ion-icon",3),Ce(9," Reset "),L(),G(10,"ion-item",4),Ne("click",function(){return o.onDelete()}),je(11,"ion-icon",5),Ce(12," Delete "),L()()),2&n&&(me(1),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1),me(3),Se("detail",!1))},dependencies:[Wo,Io,zs]}),t})();const dK=["slidingItem"];function fK(e,t){if(1&e&&(G(0,"span"),Ce(1),L()),2&e){const r=ct();me(1),Ci(", OS ",r.decodeVersion(null==r.session?null:r.session.osVersion),"")}}function pK(e,t){1&e&&je(0,"ion-icon",16)}function hK(e,t){1&e&&je(0,"ion-icon",17)}let mK=(()=>{var e;class t{constructor(n){this.popoverController=n,this.selected=!1,this.touched=!1,this.selecting=!1,this.selectedForExport=!1,this.delete=new en,this.resetSession=new en,this.edit=new en,this.save=new en,this.selectItem=new en,this.interaction=new en}get device(){return this.session?GR(this.session.device):""}onContextmenu(n){var o=this;return(0,V.Z)(function*(){n.stopPropagation(),n.preventDefault(),o.interaction.emit(),(yield o.popoverController.create({component:cK,event:n,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>o.edit.emit(),onSave:()=>o.save.emit(),onDelete:()=>o.delete.emit(),onReset:()=>o.resetSession.emit()},reference:"event"})).present()})()}decodeVersion(n){if(void 0===n)return"";const o=function uK(e){return{major:e>>>24&255,minor:e>>>20&15,fix:e>>>16&15,stage:e>>>12&15,build:4095&e}}(n);return`${o.major}.${o.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return(e=t).\u0275fac=function(n){return new(n||e)(v(lc))},e.\u0275cmp=Ze({type:e,selectors:[["app-session-item"]],viewQuery:function(n,o){if(1&n&&Lc(dK,5),2&n){let i;Gs(i=Us())&&(o.slidingItem=i.first)}},inputs:{session:"session",selected:"selected",touched:"touched",selecting:"selecting",selectedForExport:"selectedForExport"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:21,vars:12,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"],["class","selection-icon","name","radio-button-off-outline","slot","end",4,"ngIf"],["class","selection-icon","name","radio-button-on-outline","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",1,"selection-icon"],["name","radio-button-on-outline","slot","end",1,"selection-icon"]],template:function(n,o){if(1&n){const i=Ln();G(0,"ion-item-sliding",0,1),Ne("contextmenu",function(a){return o.onContextmenu(a)})("ionDrag",function(){return o.interaction.emit()}),G(2,"ion-item-options",2)(3,"ion-item-option",3),Ne("click",function(){return Dt(i),js(1).close(),It(o.edit.emit(o.session))}),je(4,"ion-icon",4),L(),G(5,"ion-item-option",5),Ne("click",function(){return Dt(i),js(1).close(),It(o.save.emit(o.session))}),je(6,"ion-icon",6),L()(),G(7,"ion-item-options",7)(8,"ion-item-option",8),Ne("click",function(){return Dt(i),js(1).close(),It(o.resetSession.emit(o.session))}),je(9,"ion-icon",9),L(),G(10,"ion-item-option",10),Ne("click",function(){return Dt(i),js(1).close(),It(o.delete.emit(o.session))}),je(11,"ion-icon",11),L()(),G(12,"ion-item",12),Ne("click",function(){return o.selectItem.emit()}),G(13,"ion-label")(14,"h2"),Ce(15),L(),G(16,"p"),Ce(17),zt(18,fK,2,1,"span",13),L()(),zt(19,pK,1,0,"ion-icon",14)(20,hK,1,0,"ion-icon",15),L()()}2&n&&(Se("disabled",o.selecting),me(12),Se("color",o.color),me(1),sa("in-item-color",o.selected)("selecting",o.selecting),me(2),Ui(null==o.session?null:o.session.name),me(2),Op("",o.device,", ",null==o.session?null:o.session.ram,"MB RAM"),me(1),Se("ngIf",null==o.session?null:o.session.osVersion),me(1),Se("ngIf",o.selecting&&!o.selectedForExport),me(1),Se("ngIf",o.selecting&&o.selectedForExport))},dependencies:[No,Wo,Io,V_,j_,G_,Ji],styles:["ion-item[_ngcontent-%COMP%]{background-color:var(--ion-background-color, white)}ion-label.selecting[_ngcontent-%COMP%]{max-width:calc(min(var(--cp-page-width),100vw) - 4.5em)}"],changeDetection:0}),t})();var jh;function gK(e,t){if(1&e){const r=Ln();G(0,"ion-toolbar")(1,"ion-title"),Ce(2,"Sessions"),L(),G(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Dt(r),It(ct().importSession())}),je(5,"ion-icon",8),L()(),G(6,"ion-buttons",9)(7,"ion-button",7),Ne("click",function(o){return Dt(r),It(ct().openActionMenu(o))}),je(8,"ion-icon",10),L(),je(9,"app-pwa-prompt"),L()()}}function _K(e,t){1&e&&(G(0,"ion-title"),Ce(1,"Export"),L())}function vK(e,t){1&e&&(G(0,"ion-title"),Ce(1,"Delete"),L())}function yK(e,t){if(1&e){const r=Ln();G(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Dt(r),It(ct(2).onSelectAll())}),Ce(2,"Select all"),L()()}}function bK(e,t){if(1&e){const r=Ln();G(0,"ion-buttons",9)(1,"ion-button",7),Ne("click",function(){return Dt(r),It(ct(2).selection.clear())}),Ce(2,"Clear"),L()()}}function CK(e,t){if(1&e){const r=Ln();G(0,"ion-toolbar"),zt(1,_K,2,0,"ion-title",0)(2,vK,2,0,"ion-title",0),G(3,"ion-buttons",6)(4,"ion-button",7),Ne("click",function(){return Dt(r),It(ct().onSelectionDone())}),Ce(5),L()(),zt(6,yK,3,0,"ion-buttons",11)(7,bK,3,0,"ion-buttons",11),L()}if(2&e){const r=ct();me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(3),Ui(0===r.selection.size?"Cancel":"select-for-export"===r.mode?"Export":"Delete"),me(1),Se("ngIf",r.selection.size!==r.sessionCount),me(1),Se("ngIf",r.selection.size===r.sessionCount)}}function SK(e,t){1&e&&(G(0,"ion-title",12),Ce(1,"Sessions"),L())}function wK(e,t){1&e&&(G(0,"ion-title",12),Ce(1,"Select for export"),L())}function EK(e,t){1&e&&(G(0,"ion-title",12),Ce(1,"Select for delete"),L())}function DK(e,t){1&e&&(G(0,"div",13),je(1,"ion-spinner"),L())}function IK(e,t){1&e&&(G(0,"div",14)(1,"div",15),Ce(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),je(3,"br")(4,"br"),Ce(5," You can find a collection of compatible ROMs on "),G(6,"a",16),Ce(7,"PalmDB"),L(),Ce(8,". "),L()())}function xK(e,t){if(1&e){const r=Ln();G(0,"app-session-item",18),Ne("delete",function(){const i=Dt(r).$implicit;return It(ct(2).deleteSession(i))})("selectItem",function(){const i=Dt(r).$implicit,s=ct(2);return It("manage"===s.mode?s.launchSession(i):s.toggleSelection(i))})("edit",function(){const i=Dt(r).$implicit;return It(ct(2).editSession(i))})("save",function(){const i=Dt(r).$implicit;return It(ct(2).saveSession(i))})("resetSession",function(){const i=Dt(r).$implicit;return It(ct(2).resetSession(i))})("interaction",function(){const i=Dt(r).$implicit;return It(ct(2).lastSessionTouched=i.id)}),L()}if(2&e){const r=t.$implicit,n=ct(2);Se("session",r)("selected",n.currentSessionId===r.id)("touched",r.id===n.lastSessionTouched)("selecting","manage"!==n.mode)("selectedForExport",n.selection.has(r.id))}}function TK(e,t){if(1&e&&(G(0,"ion-list"),zt(1,xK,1,5,"app-session-item",17),L()),2&e){const r=ct();me(1),Se("ngForOf",r.sessions)("ngForTrackBy",r.trackSessionBy)}}class fc{constructor(t,r,n,o,i,s,a,l,d,f,h,m,b,U){this.sessionService=t,this.fileService=r,this.alertService=n,this.emulationService=o,this.emulationState=i,this.storageService=s,this.modalController=a,this.linkApi=l,this.router=d,this.cloudpilotService=f,this.dragDropService=h,this.popoverController=m,this.loadingController=b,this.cd=U,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const ee=this.linkApi.import.receivePendingUrl();ee&&this.alertService.message("Import request",`Do you want to import<br>${ee} ?`,{OK:()=>this.fileService.openUrl(ee,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1,this.mode="manage",this.selection=new Set,this.checkSessions=ou(U,[],()=>this.sessionService.getSessions()),this.checkCurrentSessionId=ou(U,void 0,()=>this.emulationState.getCurrentSession()?.id),this.checkLoading=ou(U,!0,()=>this.sessionService.isLoading())}ngOnInit(){this.selfReference&&(this.selfReference.ref=this)}ngDoCheck(){this.checkSessions(),this.checkCurrentSessionId(),this.checkLoading()}ionViewDidEnter_(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest(),this.dragDropService.registerClient(this)}ionViewWillLeave(){this.dragDropService.unregisterClient(this),this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}ionViewDidLeave(){this.mode="manage",this.cd.detectChanges()}get sessions(){return this.sessionService.getSessions().sort((t,r)=>t.name.localeCompare(r.name))}get sessionCount(){return this.sessionService.getSessions().length}deleteSession(t){var r=this;return(0,V.Z)(function*(){let n=!0;if(yield r.alertService.message("Warning",`Deleting the session '${t.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{yield r.sessionService.deleteSession(t)}finally{o.dismiss()}})()}editSession(t){var r=this;return(0,V.Z)(function*(){const n={...t};(yield r.editSettings(t))&&!sP()(t,n)&&(yield r.sessionService.updateSession(t))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(t){return this.sessionService.saveSession(t)}trackSessionBy(t,r){return r.id}launchSession(t){var r=this;return(0,V.Z)(function*(){r.lastSessionTouched=t.id,r.currentSessionOverride=t.id,r.cd.markForCheck();const n=yield r.emulationService.switchSession(t.id);r.currentSessionOverride=void 0,r.cd.markForCheck(),n&&r.router.navigateByUrl("/tab/emulation")})()}resetSession(t){var r=this;return(0,V.Z)(function*(){const n=t.id===r.emulationState.getCurrentSession()?.id;n&&(yield r.emulationService.stop()),yield r.storageService.deleteStateForSession(t),yield r.storageService.updateSessionPartial(t.id,{wasResetForcefully:!0}),n&&(yield r.emulationService.switchSession(t.id)),yield r.alertService.message("Done",`Session ${t.name} has been reset.`)})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var t=this;return(0,V.Z)(function*(){yield(yield t.modalController.create({component:Hu,componentProps:{url:aK}})).present()})()}handleDragDropEvent(t){this.fileService.openFromDrop(t,this.handleDropFiles.bind(this))}startMassExport(){this.selection.clear(),this.mode="select-for-export"}startMassDelete(){this.selection.clear(),this.mode="select-for-delete"}onSelectionDone(){var t=this;return(0,V.Z)(function*(){const r=new Map(t.sessionService.getSessions().map(i=>[i.id,i])),n=Array.from(t.selection).map(i=>r.get(i)).filter(i=>void 0!==i),o=t.mode;switch(t.mode="manage",o){case"select-for-delete":yield t.executeMassDelete(n);break;case"select-for-export":yield t.executeMassExport(n)}})()}onSelectAll(){this.sessionService.getSessions().forEach(t=>this.selection.add(t.id))}toggleSelection(t){this.selection.has(t.id)?this.selection.delete(t.id):this.selection.add(t.id)}openActionMenu(t,r="trigger"){var n=this;return(0,V.Z)(function*(){const o=yield n.popoverController.create({component:lK,event:t,componentProps:{sessionCount:n.sessionCount,onExport:()=>{o.dismiss(),n.startMassExport(),n.cd.markForCheck()},onDelete:()=>{o.dismiss(),n.startMassDelete(),n.cd.markForCheck()},onHelp:()=>{o.dismiss(),n.showHelp()}},arrow:!1,translucent:!0,reference:r});o.present()})()}onContextMenu(t){"manage"===this.mode&&(t.preventDefault(),this.openActionMenu(t,"event"))}executeMassExport(t){var r=this;return(0,V.Z)(function*(){1===t.length&&(yield r.sessionService.saveSession(t[0])),t.length>1&&(yield r.sessionService.saveSessions(t))})()}executeMassDelete(t){var r=this;return(0,V.Z)(function*(){if(1===t.length&&(yield r.deleteSession(t[0])),t.length>1){let n=!0;if(yield r.alertService.message("Warning",`\n                    You are about to delete ${t.length} sessions, which will destroy all data associated with these sessions.\n                    This cannot be undone. Are you sure you want to continue?`,{Delete:()=>n=!1},"Cancel"),n)return;const o=yield r.loadingController.create({message:"Deleting..."});yield o.present();try{for(const i of t)yield r.sessionService.deleteSession(i)}finally{o.dismiss()}}})()}handleDropFiles(t){if(0!==t.length){if(t.length>1)return void this.alertService.errorMessage("Drop a single ROM or session image in order to create a new session, or drop a zip archive with sessions to import.");this.processFile(t[0])}}processFile(t){var r=this;return(0,V.Z)(function*(){if(!/\.(img|rom|bin|zip)$/i.test(t.name))return void r.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img, .rom. and .zip");let n;try{n=yield t.getContent()}catch(i){return console.warn(i),void(yield r.alertService.errorMessage(`Unable to open ${t.name}.`))}if(t.name.endsWith(".zip")){let i=!1;return yield r.alertService.message("Mass import","\n                    CloudpilotEmu will attempt to import all sessions in the selected zip archive.\n                    Importing large archives (several 100MB) requires a lot of memory and may crash the browser if the archive is too large.\n                    Are you sure you want to continue?\n                ",{Continue:()=>i=!0},"Cancel"),void(i&&(yield r.sessionService.addSessionsFromArchive(n)))}const o=(yield r.cloudpilotService.cloudpilot).deserializeSessionImage(n);if(o){const i={name:r.disambiguateSessionName(o.metadata?.name??t.name),hotsyncName:o.metadata?.hotsyncName,device:o.deviceId,dontManageHotsyncName:o.metadata?.dontManageHotsyncName,speed:o.metadata?.speed,deviceOrientation:o.metadata?.deviceOrientation};if(yield r.editSettings(i)){const s=yield r.sessionService.addSessionFromImage(o,i.name,i);r.lastSessionTouched=s.id}}else{const i=(yield r.cloudpilotService.cloudpilot).getRomInfo(n);if(!i)return void r.alertService.errorMessage("Not a valid session file or ROM image.");if(0===i.supportedDevices.length)return void r.alertService.errorMessage("No supported device for this ROM.");const s={name:r.disambiguateSessionName(t.name),hotsyncName:"",device:i.supportedDevices[0]};if(yield r.editSettings(s,i.supportedDevices)){const a=yield r.sessionService.addSessionFromRom(n,s.name,s.device,s);r.lastSessionTouched=a.id}}})()}editSettings(t,r=[t.device]){return new Promise(n=>{let o;this.modalController.create({component:pP,backdropDismiss:!1,componentProps:{session:t,availableDevices:r,onSave:()=>{o.dismiss(),n(!0)},onCancel:()=>{o.dismiss(),n(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(t){const r=this.sessionService.getSessions();return Df(t,n=>r.some(o=>o.name===n))}}(jh=fc).\u0275fac=function(t){return new(t||jh)(v(dc),v(ru),v(ao),v(ja),v(cc),v(rr),v(Cs),v(EC),v(zo),v(Va),v(ES),v(lc),v(da),v(ut))},jh.\u0275cmp=Ze({type:jh,selectors:[["app-sessions"]],inputs:{selfReference:"selfReference"},decls:12,vars:8,consts:[[4,"ngIf"],[3,"contextmenu"],["collapse","condense"],["size","large",4,"ngIf"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","ellipsis-vertical-outline"],["slot","secondary",4,"ngIf"],["size","large"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","selecting","selectedForExport","delete","selectItem","edit","save","resetSession","interaction"]],template:function(t,r){1&t&&(G(0,"ion-header"),zt(1,gK,10,0,"ion-toolbar",0)(2,CK,8,5,"ion-toolbar",0),L(),G(3,"ion-content",1),Ne("contextmenu",function(o){return r.onContextMenu(o)}),G(4,"ion-header",2)(5,"ion-toolbar"),zt(6,SK,2,0,"ion-title",3)(7,wK,2,0,"ion-title",3)(8,EK,2,0,"ion-title",3),L()(),zt(9,DK,2,0,"div",4)(10,IK,9,0,"div",5)(11,TK,2,2,"ion-list",0),L()),2&t&&(me(1),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","manage"!==r.mode),me(4),Se("ngIf","manage"===r.mode),me(1),Se("ngIf","select-for-export"===r.mode),me(1),Se("ngIf","select-for-delete"===r.mode),me(1),Se("ngIf",r.sessionService.isLoading()),me(1),Se("ngIf",!r.sessionService.isLoading()&&0===r.sessionCount),me(1),Se("ngIf",!r.sessionService.isLoading()&&r.sessionCount>0))},dependencies:[jc,No,Yi,Ki,Xi,Qi,Wo,zs,Eh,es,ts,cv,mK],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"],changeDetection:0}),re([zn()],fc.prototype,"deleteSession",null),re([zn()],fc.prototype,"editSession",null),re([zn()],fc.prototype,"saveSession",null),re([zn()],fc.prototype,"launchSession",null),re([zn()],fc.prototype,"resetSession",null),re([zn()],fc.prototype,"onSelectionDone",null),re([zn()],fc.prototype,"openActionMenu",null);const MK=["nav"],AK=()=>({}),kK=e=>({selfReference:e}),RK=[{path:"tab",component:CS,children:[{path:"emulation",component:Ga},{path:"sessions",component:(()=>{var e;class t{constructor(){this.navRoot=fc}ionViewDidLeave(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidLeave?.()})()}ionViewWillLeave(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewWillLeave?.()})()}ionViewDidEnter(){var n=this;return(0,V.Z)(function*(){(yield n.nav?.getActive())?.params?.selfReference?.ref?.ionViewDidEnter_?.()})()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Ze({type:e,selectors:[["app-sessions-wrapper"]],viewQuery:function(n,o){if(1&n&&Lc(MK,5),2&n){let i;Gs(i=Us())&&(o.nav=i.first)}},decls:2,vars:6,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(n,o){1&n&&je(0,"ion-nav",0,1),2&n&&Se("animated",!1)("root",o.navRoot)("rootParams",function WI(e,t,r,n){return ZI(ze(),ji(),e,t,r,n)}(4,kK,function zI(e,t,r){const n=ji()+e,o=ze();return o[n]===wn?fl(o,n,r?t.call(r):t()):function _p(e,t){return e[t]}(o,n)}(3,AK)))},dependencies:[L0],encapsulation:2}),t})()},{path:"storage",component:sK},{path:"settings",component:nY},{path:"about",component:tq},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let PK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[D_.forChild(RK),D_]}),t})(),OK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({imports:[Qc,vl,Lu,PK,ZZ,qZ,YZ,KZ,WZ]}),t})(),FK=(()=>{var e;class t extends lT{pushState(n,o,i,s){this.replaceState(n,o,i,s)}}return(e=t).\u0275fac=(()=>{let r;return function(o){return(r||(r=zr(e)))(o||e)}})(),e.\u0275prov=M({token:e,factory:e.\u0275fac}),t})();const NK=[{path:"install",component:uP,canActivate:[dP]},{path:"import",component:uP,canActivate:[dP]},{path:"",component:CS}];let LK=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jr({type:e}),e.\u0275inj=tt({providers:[{provide:_l,useClass:FK}],imports:[D_.forRoot(NK,{preloadingStrategy:y5,useHash:!0}),OK,D_]}),t})();const AP=["touch","click","keydown"];let $K=(()=>{var e;class t{constructor(n,o){this.kvsService=n,this.audioService=o,this.initialize()}initialize(){var n=this;return(0,V.Z)(function*(){if(yield n.kvsService.initialize(),!n.kvsService.kvs.enableAudioOnFirstInteraction)return;const o=()=>{AP.forEach(i=>window.removeEventListener(i,o,!0)),n.audioService.initialize()};AP.forEach(i=>window.addEventListener(i,o,!0))})()}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(Ri),ue(wS))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const BK=()=>{const e=new Bu;return e.link=(t,r,n)=>`<a href="${t}" target="_blank" rel="external">${n||t}</a>`,{renderer:e,gfm:!0,breaks:!1,pedantic:!1}};let VK=(()=>{var e;class t{constructor(n,o,i,s,a,l,d,f){}}return(e=t).\u0275fac=function(n){return new(n||e)(ue(rr),ue(ja),ue(wS),ue(dc),ue(Ri),ue(cP),ue($K),ue(yS))},e.\u0275mod=Jr({type:e,bootstrap:[PZ]}),e.\u0275inj=tt({providers:[{provide:bA,useClass:F8},{provide:Bp,multi:!0,useFactory:r=>r.initialize.bind(r),deps:[Ri]}],imports:[cU,Qc.forRoot({...bP()?{actionSheetEnter:Zq,loadingEnter:qq,alertEnter:Yq}:{},innerHTMLTemplatesEnabled:!0}),LK,Z0.forRoot({loader:xC,markedOptions:{provide:CR,useFactory:BK}}),ZU]}),t})();window.global=window,document.body.addEventListener("dblclick",e=>e.preventDefault()),function vU(){n_=QT("#/install?"),r_=QT("#/import?")}(),function zW(){return!!localStorage.getItem(Y_)}()&&!JT()||function yU(){return void 0!==n_}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),Si&&(CSS.supports("height","100dvh")?document.body.style.height="100dvh":window.addEventListener("orientationchange",()=>[100,300,500].forEach(e=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},e))),IP()),window.addEventListener("scroll",()=>window.scrollTo(0,0)),document.body.addEventListener("contextmenu",e=>e.preventDefault()),aU().bootstrapModule(VK).then(e=>true).catch(e=>console.log(e))},2227:ve=>{var C,Ee=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Y,K,u=S;u.ready=new Promise((c,y)=>{Y=c,K=y});var be,z=Object.assign({},u),x="./this.program",T=(c,y)=>{throw y},Q="object"==typeof window,$="function"==typeof importScripts,O=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Q||$)&&($?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),C&&(O=C),O=0!==O.indexOf("blob:")?O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$&&(be=c=>{var y=new XMLHttpRequest;return y.open("GET",c,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}));var k,se=u.print||console.log.bind(console),Z=u.printErr||console.error.bind(console);Object.assign(u,z),z=null,u.thisProgram&&(x=u.thisProgram),u.quit&&(T=u.quit),u.wasmBinary&&(k=u.wasmBinary),"object"!=typeof WebAssembly&&ot("no native wasm support detected");var te,ae,ke,F,I,X,ge,le=!1;function Me(c,y){c||ot(y)}function Be(){var c=te.buffer;u.HEAP8=ke=new Int8Array(c),u.HEAP16=new Int16Array(c),u.HEAPU8=F=new Uint8Array(c),u.HEAPU16=new Uint16Array(c),u.HEAP32=I=new Int32Array(c),u.HEAPU32=X=new Uint32Array(c),u.HEAPF32=new Float32Array(c),u.HEAPF64=ge=new Float64Array(c)}function Tt(){if(!le){var c=$r();0==c&&(c+=4);var y=X[c>>2],W=X[c+4>>2];(34821223!=y||2310721022!=W)&&ot(`Stack overflow! Stack cookie has been overwritten at ${lo(c)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${lo(W)} ${lo(y)}`),1668509029!=X[0]&&ot("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Fe=[],We=[],Re=[],Ge=[],At=0,Ie=null,_e=null;function ot(c){u.onAbort&&u.onAbort(c),Z(c="Aborted("+c+")"),le=!0,ae=1,c+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(c);throw K(y),y}var $t,rn=c=>c.startsWith("data:application/octet-stream;base64,");function on(c){if(c==$t&&k)return new Uint8Array(k);if(be)return be(c);throw"both async and sync fetching of the wasm failed"}function gr(c,y,W){return function Cn(c){return k||!Q&&!$||"function"!=typeof fetch?Promise.resolve().then(()=>on(c)):fetch(c,{credentials:"same-origin"}).then(y=>{if(!y.ok)throw"failed to load wasm binary file at '"+c+"'";return y.arrayBuffer()}).catch(()=>on(c))}(c).then(Pe=>WebAssembly.instantiate(Pe,y)).then(Pe=>Pe).then(W,Pe=>{Z(`failed to asynchronously prepare wasm: ${Pe}`),ot(Pe)})}rn($t="cloudpilot_web.wasm")||($t=function A(c){return u.locateFile?u.locateFile(c,O):O+c}($t));var Vr,vo={425368:c=>{E.grow(65536);for(let y=0;y<=65535;y++)E.set(E.length-65535-1+y,E.get(X[(c>>>2)+y]));return E.length-65535-1}};function Or(c){this.name="ExitStatus",this.message=`Program terminated with exit(${c})`,this.status=c}var Xn=c=>{for(;c.length>0;)c.shift()(u)},To=u.noExitRuntime||!0,lo=c=>"0x"+(c>>>=0).toString(16).padStart(8,"0"),yo=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,jr=(c,y,W)=>{for(var Pe=y+W,St=y;c[St]&&!(St>=Pe);)++St;if(St-y>16&&c.buffer&&yo)return yo.decode(c.subarray(y,St));for(var nn="";y<St;){var fn=c[y++];if(128&fn){var Nn=63&c[y++];if(192!=(224&fn)){var Mr=63&c[y++];if((fn=224==(240&fn)?(15&fn)<<12|Nn<<6|Mr:(7&fn)<<18|Nn<<12|Mr<<6|63&c[y++])<65536)nn+=String.fromCharCode(fn);else{var bi=fn-65536;nn+=String.fromCharCode(55296|bi>>10,56320|1023&bi)}}else nn+=String.fromCharCode((31&fn)<<6|Nn)}else nn+=String.fromCharCode(fn)}return nn},de=(c,y)=>c?jr(F,c,y):"",Ht=(c,y)=>y+2097152>>>0<4194305-!!c?(c>>>0)+4294967296*y:NaN,Wn=c=>c%4==0&&(c%100!=0||c%400==0),Yr=[0,31,60,91,121,152,182,213,244,274,305,335],bo=[0,31,59,90,120,151,181,212,243,273,304,334],Dn=c=>(Wn(c.getFullYear())?Yr:bo)[c.getMonth()]+c.getDate()-1,$o=c=>{for(var y=0,W=0;W<c.length;++W){var Pe=c.charCodeAt(W);Pe<=127?y++:Pe<=2047?y+=2:Pe>=55296&&Pe<=57343?(y+=4,++W):y+=3}return y},Fn=(c,y,W,Pe)=>{if(!(Pe>0))return 0;for(var St=W,nn=W+Pe-1,fn=0;fn<c.length;++fn){var Nn=c.charCodeAt(fn);if(Nn>=55296&&Nn<=57343&&(Nn=65536+((1023&Nn)<<10)|1023&c.charCodeAt(++fn)),Nn<=127){if(W>=nn)break;y[W++]=Nn}else if(Nn<=2047){if(W+1>=nn)break;y[W++]=192|Nn>>6,y[W++]=128|63&Nn}else if(Nn<=65535){if(W+2>=nn)break;y[W++]=224|Nn>>12,y[W++]=128|Nn>>6&63,y[W++]=128|63&Nn}else{if(W+3>=nn)break;y[W++]=240|Nn>>18,y[W++]=128|Nn>>12&63,y[W++]=128|Nn>>6&63,y[W++]=128|63&Nn}}return y[W]=0,W-St},vr=c=>{var y=$o(c)+1,W=ur(y);return W&&((c,y,W)=>{Fn(c,F,y,W)})(c,W,y),W},Yo=[],Fi=c=>{var W=(c-te.buffer.byteLength+65535)/65536;try{return te.grow(W),Be(),1}catch{}},_i={},vi=()=>{if(!vi.strings){var y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(var W in _i)void 0===_i[W]?delete y[W]:y[W]=_i[W];var Pe=[];for(var W in y)Pe.push(`${W}=${y[W]}`);vi.strings=Pe}return vi.strings},ws=[null,[],[]],Ys=(c,y)=>{var W=ws[c];0===y||10===y?((1===c?se:Z)(jr(W,0)),W.length=0):W.push(y)},Xo=[31,29,31,30,31,30,31,31,30,31,30,31],yr=[31,28,31,30,31,30,31,31,30,31,30,31];function Ks(c,y,W){var Pe=W>0?W:$o(c)+1,St=new Array(Pe),nn=Fn(c,St,0,St.length);return y&&(St.length=nn),St}var E,ce,Ul,Ts=(c,y)=>{ae=c,(c=>{ae=c,To||(u.onExit&&u.onExit(c),le=!0),T(c,new Or(c))})(c)},et=(c,y)=>{c<128?y.push(c):y.push(c%128|128,c>>7)},w=[],ie=c=>{var y=w[c];return y||(c>=w.length&&(w.length=c+1),w[c]=y=E.get(c)),y},Ke=[],Ve=(c,y)=>{E.set(c,y),w[c]=E.get(c)},Et={b:(c,y,W,Pe)=>{ot(`Assertion failed: ${de(c)}, at: `+[y?de(y):"unknown filename",W,Pe?de(Pe):"unknown function"])},i:function Pr(c){const y=new Error(de(c));throw y.isAssert=!0,y},m:function vn(c,y,W){Ht(y,W)},h:()=>1,j:function co(c,y,W){var Pe=Ht(c,y),St=new Date(1e3*Pe);I[W>>2]=St.getSeconds(),I[W+4>>2]=St.getMinutes(),I[W+8>>2]=St.getHours(),I[W+12>>2]=St.getDate(),I[W+16>>2]=St.getMonth(),I[W+20>>2]=St.getFullYear()-1900,I[W+24>>2]=St.getDay();var nn=0|Dn(St);I[W+28>>2]=nn,I[W+36>>2]=-60*St.getTimezoneOffset();var fn=new Date(St.getFullYear(),0,1),Nn=new Date(St.getFullYear(),6,1).getTimezoneOffset(),Mr=fn.getTimezoneOffset(),bi=0|(Nn!=Mr&&St.getTimezoneOffset()==Math.min(Mr,Nn));I[W+32>>2]=bi},k:function(c){var y=(()=>{var W=new Date(I[c+20>>2]+1900,I[c+16>>2],I[c+12>>2],I[c+8>>2],I[c+4>>2],I[c>>2],0),Pe=I[c+32>>2],St=W.getTimezoneOffset(),nn=new Date(W.getFullYear(),0,1),fn=new Date(W.getFullYear(),6,1).getTimezoneOffset(),Nn=nn.getTimezoneOffset(),Mr=Math.min(Nn,fn);if(Pe<0)I[c+32>>2]=+(fn!=Nn&&Mr==St);else if(Pe>0!=(Mr==St)){var bi=Math.max(Nn,fn),hs=Pe>0?Mr:bi;W.setTime(W.getTime()+6e4*(hs-St))}I[c+24>>2]=W.getDay();var Ec=0|Dn(W);I[c+28>>2]=Ec,I[c>>2]=W.getSeconds(),I[c+4>>2]=W.getMinutes(),I[c+8>>2]=W.getHours(),I[c+12>>2]=W.getDate(),I[c+16>>2]=W.getMonth(),I[c+20>>2]=W.getYear();var nr=W.getTime();return isNaN(nr)?(I[jl()>>2]=61,-1):nr/1e3})();return cn((Vr=y,+Math.abs(Vr)>=1?Vr>0?+Math.floor(Vr/4294967296)>>>0:~~+Math.ceil((Vr-+(~~Vr>>>0))/4294967296)>>>0:0)),y>>>0},r:(c,y,W)=>{var Pe=(new Date).getFullYear(),St=new Date(Pe,0,1),nn=new Date(Pe,6,1),fn=St.getTimezoneOffset(),Nn=nn.getTimezoneOffset(),Mr=Math.max(fn,Nn);function bi(Xu){var uu=Xu.toTimeString().match(/\(([A-Za-z ]+)\)$/);return uu?uu[1]:"GMT"}X[c>>2]=60*Mr,I[y>>2]=+(fn!=Nn);var hs=bi(St),Ec=bi(nn),nr=vr(hs),Dc=vr(Ec);Nn<fn?(X[W>>2]=nr,X[W+4>>2]=Dc):(X[W>>2]=Dc,X[W+4>>2]=nr)},a:()=>{ot("")},s:(c,y,W)=>((c,y,W)=>{var Pe=((c,y)=>{Yo.length=0;for(var W;W=F[c++];){var Pe=105!=W;y+=(Pe&=112!=W)&&y%8?4:0,Yo.push(112==W?X[y>>2]:105==W?I[y>>2]:ge[y>>3]),y+=Pe?8:4}return Yo})(y,W);return vo[c].apply(null,Pe)})(c,y,W),c:()=>Date.now(),d:(c,y,W)=>F.copyWithin(c,y,y+W),q:c=>{var Mr,y=F.length,W=2147483648;if((c>>>=0)>W)return!1;for(var St=1;St<=4;St*=2){var nn=y*(1+.2/St);nn=Math.min(nn,c+100663296);var fn=Math.min(W,(Mr=Math.max(c,nn))+(65536-Mr%65536)%65536);if(Fi(fn))return!0}return!1},o:(c,y)=>{var W=0;return vi().forEach((Pe,St)=>{var nn=y+W;X[c+4*St>>2]=nn,((c,y)=>{for(var W=0;W<c.length;++W)ke[y++>>0]=c.charCodeAt(W);ke[y>>0]=0})(Pe,nn),W+=Pe.length+1}),0},p:(c,y)=>{var W=vi();X[c>>2]=W.length;var Pe=0;return W.forEach(St=>Pe+=St.length+1),X[y>>2]=Pe,0},e:c=>52,g:(c,y,W,Pe)=>52,l:function Co(c,y,W,Pe,St){return Ht(y,W),70},f:(c,y,W,Pe)=>{for(var St=0,nn=0;nn<W;nn++){var fn=X[y>>2],Nn=X[y+4>>2];y+=8;for(var Mr=0;Mr<Nn;Mr++)Ys(c,F[fn+Mr]);St+=Nn}return X[Pe>>2]=St,0},n:(c,y,W,Pe,St)=>((c,y,W,Pe)=>{var St=X[Pe+40>>2],nn={tm_sec:I[Pe>>2],tm_min:I[Pe+4>>2],tm_hour:I[Pe+8>>2],tm_mday:I[Pe+12>>2],tm_mon:I[Pe+16>>2],tm_year:I[Pe+20>>2],tm_wday:I[Pe+24>>2],tm_yday:I[Pe+28>>2],tm_isdst:I[Pe+32>>2],tm_gmtoff:I[Pe+36>>2],tm_zone:St?de(St):""},fn=de(W),Nn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Mr in Nn)fn=fn.replace(new RegExp(Mr,"g"),Nn[Mr]);var bi=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],hs=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ec(mt,pn,ms){for(var no="number"==typeof mt?mt.toString():mt||"";no.length<pn;)no=ms[0]+no;return no}function nr(mt,pn){return Ec(mt,pn,"0")}function Dc(mt,pn){function ms(du){return du<0?-1:du>0?1:0}var no;return 0===(no=ms(mt.getFullYear()-pn.getFullYear()))&&0===(no=ms(mt.getMonth()-pn.getMonth()))&&(no=ms(mt.getDate()-pn.getDate())),no}function Xu(mt){switch(mt.getDay()){case 0:return new Date(mt.getFullYear()-1,11,29);case 1:return mt;case 2:return new Date(mt.getFullYear(),0,3);case 3:return new Date(mt.getFullYear(),0,2);case 4:return new Date(mt.getFullYear(),0,1);case 5:return new Date(mt.getFullYear()-1,11,31);case 6:return new Date(mt.getFullYear()-1,11,30)}}function uu(mt){var pn=((c,y)=>{for(var W=new Date(c.getTime());y>0;){var Pe=Wn(W.getFullYear()),St=W.getMonth(),nn=(Pe?Xo:yr)[St];if(!(y>nn-W.getDate()))return W.setDate(W.getDate()+y),W;y-=nn-W.getDate()+1,W.setDate(1),St<11?W.setMonth(St+1):(W.setMonth(0),W.setFullYear(W.getFullYear()+1))}return W})(new Date(mt.tm_year+1900,0,1),mt.tm_yday),ms=new Date(pn.getFullYear(),0,4),no=new Date(pn.getFullYear()+1,0,4),du=Xu(ms),cm=Xu(no);return Dc(du,pn)<=0?Dc(cm,pn)<=0?pn.getFullYear()+1:pn.getFullYear():pn.getFullYear()-1}var Gf={"%a":mt=>bi[mt.tm_wday].substring(0,3),"%A":mt=>bi[mt.tm_wday],"%b":mt=>hs[mt.tm_mon].substring(0,3),"%B":mt=>hs[mt.tm_mon],"%C":mt=>nr((mt.tm_year+1900)/100|0,2),"%d":mt=>nr(mt.tm_mday,2),"%e":mt=>Ec(mt.tm_mday,2," "),"%g":mt=>uu(mt).toString().substring(2),"%G":mt=>uu(mt),"%H":mt=>nr(mt.tm_hour,2),"%I":mt=>{var pn=mt.tm_hour;return 0==pn?pn=12:pn>12&&(pn-=12),nr(pn,2)},"%j":mt=>nr(mt.tm_mday+((c,y)=>{for(var W=0,Pe=0;Pe<=y;W+=c[Pe++]);return W})(Wn(mt.tm_year+1900)?Xo:yr,mt.tm_mon-1),3),"%m":mt=>nr(mt.tm_mon+1,2),"%M":mt=>nr(mt.tm_min,2),"%n":()=>"\n","%p":mt=>mt.tm_hour>=0&&mt.tm_hour<12?"AM":"PM","%S":mt=>nr(mt.tm_sec,2),"%t":()=>"\t","%u":mt=>mt.tm_wday||7,"%U":mt=>nr(Math.floor((mt.tm_yday+7-mt.tm_wday)/7),2),"%V":mt=>{var pn=Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7);if((mt.tm_wday+371-mt.tm_yday-2)%7<=2&&pn++,pn){if(53==pn){var no=(mt.tm_wday+371-mt.tm_yday)%7;4!=no&&(3!=no||!Wn(mt.tm_year))&&(pn=1)}}else{pn=52;var ms=(mt.tm_wday+7-mt.tm_yday-1)%7;(4==ms||5==ms&&Wn(mt.tm_year%400-1))&&pn++}return nr(pn,2)},"%w":mt=>mt.tm_wday,"%W":mt=>nr(Math.floor((mt.tm_yday+7-(mt.tm_wday+6)%7)/7),2),"%y":mt=>(mt.tm_year+1900).toString().substring(2),"%Y":mt=>mt.tm_year+1900,"%z":mt=>{var pn=mt.tm_gmtoff;return(pn>=0?"+":"-")+("0000"+(pn=(pn=Math.abs(pn)/60)/60*100+pn%60)).slice(-4)},"%Z":mt=>mt.tm_zone,"%%":()=>"%"};for(var Mr in fn=fn.replace(/%%/g,"\0\0"),Gf)fn.includes(Mr)&&(fn=fn.replace(new RegExp(Mr,"g"),Gf[Mr](nn)));var Qu=Ks(fn=fn.replace(/\0\0/g,"%"),!1);return Qu.length>y?0:(((c,y)=>{ke.set(c,y)})(Qu,c),Qu.length-1)})(c,y,W,Pe)},B=function qo(){var c={a:Et};function y(Pe,St){return te=(B=Pe.exports).t,Be(),E=B.Wc,function Ft(c){We.unshift(c)}(B.u),function Je(c){if(At--,u.monitorRunDependencies&&u.monitorRunDependencies(At),0==At&&(null!==Ie&&(clearInterval(Ie),Ie=null),_e)){var y=_e;_e=null,y()}}(),B}if(function xe(c){At++,u.monitorRunDependencies&&u.monitorRunDependencies(At)}(),u.instantiateWasm)try{return u.instantiateWasm(c,y)}catch(Pe){Z(`Module.instantiateWasm callback failed with error: ${Pe}`),K(Pe)}return function On(c,y,W,Pe){return c||"function"!=typeof WebAssembly.instantiateStreaming||rn(y)||"function"!=typeof fetch?gr(y,W,Pe):fetch(y,{credentials:"same-origin"}).then(St=>WebAssembly.instantiateStreaming(St,W).then(Pe,function(fn){return Z(`wasm streaming compile failed: ${fn}`),Z("falling back to ArrayBuffer instantiation"),gr(y,W,Pe)}))}(k,$t,c,function W(Pe){y(Pe.instance)}).catch(K),{}}(),ur=u._malloc=c=>(ur=u._malloc=B.v)(c),Gr=(u._free=c=>(u._free=B.w)(c),u._main=(c,y)=>(Gr=u._main=B.x)(c,y)),jn=(u._webidl_free=c=>(u._webidl_free=B.y)(c),u._webidl_malloc=c=>(u._webidl_malloc=B.z)(c),u._emscripten_bind_VoidPtr___destroy___0=c=>(jn=u._emscripten_bind_VoidPtr___destroy___0=B.A)(c)),Bo=u._emscripten_bind_Cloudpilot_Cloudpilot_0=()=>(Bo=u._emscripten_bind_Cloudpilot_Cloudpilot_0=B.B)(),Ao=u._emscripten_bind_Cloudpilot_Malloc_1=(c,y)=>(Ao=u._emscripten_bind_Cloudpilot_Malloc_1=B.C)(c,y),is=u._emscripten_bind_Cloudpilot_Free_1=(c,y)=>(is=u._emscripten_bind_Cloudpilot_Free_1=B.D)(c,y),Ha=u._emscripten_bind_Cloudpilot_Nullptr_0=c=>(Ha=u._emscripten_bind_Cloudpilot_Nullptr_0=B.E)(c),ga=u._emscripten_bind_Cloudpilot_InitializeSession_3=(c,y,W,Pe)=>(ga=u._emscripten_bind_Cloudpilot_InitializeSession_3=B.F)(c,y,W,Pe),Xs=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=c=>(Xs=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=B.G)(c),_a=u._emscripten_bind_Cloudpilot_RunEmulation_1=(c,y)=>(_a=u._emscripten_bind_Cloudpilot_RunEmulation_1=B.H)(c,y),ss=u._emscripten_bind_Cloudpilot_SetClockFactor_1=(c,y)=>(ss=u._emscripten_bind_Cloudpilot_SetClockFactor_1=B.I)(c,y),za=u._emscripten_bind_Cloudpilot_CopyFrame_0=c=>(za=u._emscripten_bind_Cloudpilot_CopyFrame_0=B.J)(c),va=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=c=>(va=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=B.K)(c),ya=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=c=>(ya=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=B.L)(c),Wa=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=(c,y)=>(Wa=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=B.M)(c,y),Za=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=(c,y)=>(Za=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=B.N)(c,y),qa=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=(c,y)=>(qa=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=B.O)(c,y),Ya=u._emscripten_bind_Cloudpilot_QueuePenMove_2=(c,y,W)=>(Ya=u._emscripten_bind_Cloudpilot_QueuePenMove_2=B.P)(c,y,W),ba=u._emscripten_bind_Cloudpilot_QueuePenUp_0=c=>(ba=u._emscripten_bind_Cloudpilot_QueuePenUp_0=B.Q)(c),Ka=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=(c,y)=>(Ka=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=B.R)(c,y),Xa=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=(c,y)=>(Xa=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=B.S)(c,y),br=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=(c,y,W)=>(br=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=B.T)(c,y,W),Ca=u._emscripten_bind_Cloudpilot_IsPowerOff_0=c=>(Ca=u._emscripten_bind_Cloudpilot_IsPowerOff_0=B.U)(c),fo=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=c=>(fo=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=B.V)(c),Bt=u._emscripten_bind_Cloudpilot_GetOSVersion_0=c=>(Bt=u._emscripten_bind_Cloudpilot_GetOSVersion_0=B.W)(c),Sa=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=c=>(Sa=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=B.X)(c),Qs=u._emscripten_bind_Cloudpilot_Reset_0=c=>(Qs=u._emscripten_bind_Cloudpilot_Reset_0=B.Y)(c),Qr=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=c=>(Qr=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=B.Z)(c),Js=u._emscripten_bind_Cloudpilot_ResetHard_0=c=>(Js=u._emscripten_bind_Cloudpilot_ResetHard_0=B._)(c),Qa=u._emscripten_bind_Cloudpilot_InstallDb_2=(c,y,W)=>(Qa=u._emscripten_bind_Cloudpilot_InstallDb_2=B.$)(c,y,W),Gn=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=c=>(Gn=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=B.aa)(c),As=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=c=>(As=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=B.ba)(c),Cr=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=c=>(Cr=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=B.ca)(c),ea=u._emscripten_bind_Cloudpilot_GetMemorySize_0=c=>(ea=u._emscripten_bind_Cloudpilot_GetMemorySize_0=B.da)(c),Rl=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=(c,y,W)=>(Rl=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=B.ea)(c,y,W),Ja=u._emscripten_bind_Cloudpilot_GetRomPtr_0=c=>(Ja=u._emscripten_bind_Cloudpilot_GetRomPtr_0=B.fa)(c),Un=u._emscripten_bind_Cloudpilot_GetRomSize_0=c=>(Un=u._emscripten_bind_Cloudpilot_GetRomSize_0=B.ga)(c),Vt=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=c=>(Vt=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=B.ha)(c),ks=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=c=>(ks=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=B.ia)(c),ta=u._emscripten_bind_Cloudpilot_SaveState_0=c=>(ta=u._emscripten_bind_Cloudpilot_SaveState_0=B.ja)(c),Pl=u._emscripten_bind_Cloudpilot_LoadState_2=(c,y,W)=>(Pl=u._emscripten_bind_Cloudpilot_LoadState_2=B.ka)(c,y,W),wa=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=c=>(wa=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=B.la)(c),Xe=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=(c,y)=>(Xe=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=B.ma)(c,y),Li=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=(c,y)=>(Li=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=B.na)(c,y),as=u._emscripten_bind_Cloudpilot_StartBackup_0=c=>(as=u._emscripten_bind_Cloudpilot_StartBackup_0=B.oa)(c),na=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=(c,y)=>(na=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=B.pa)(c,y),Ea=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=c=>(Ea=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=B.qa)(c),el=u._emscripten_bind_Cloudpilot_IsSuspended_0=c=>(el=u._emscripten_bind_Cloudpilot_IsSuspended_0=B.ra)(c),Qo=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=c=>(Qo=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=B.sa)(c),ls=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=(c,y)=>(ls=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=B.ta)(c,y),tl=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=c=>(tl=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=B.ua)(c),qt=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=(c,y)=>(qt=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=B.va)(c,y),Bn=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=(c,y)=>(Bn=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=B.wa)(c,y),Da=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=(c,y)=>(Da=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=B.xa)(c,y),Ol=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=(c,y,W)=>(Ol=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=B.ya)(c,y,W),Fl=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=(c,y)=>(Fl=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=B.za)(c,y),Nl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=c=>(Nl=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=B.Aa)(c),nl=u._emscripten_bind_Cloudpilot_AllocateCard_2=(c,y,W)=>(nl=u._emscripten_bind_Cloudpilot_AllocateCard_2=B.Ba)(c,y,W),Ir=u._emscripten_bind_Cloudpilot_AdoptCard_3=(c,y,W,Pe)=>(Ir=u._emscripten_bind_Cloudpilot_AdoptCard_3=B.Ca)(c,y,W,Pe),dr=u._emscripten_bind_Cloudpilot_MountCard_1=(c,y)=>(dr=u._emscripten_bind_Cloudpilot_MountCard_1=B.Da)(c,y),So=u._emscripten_bind_Cloudpilot_RemoveCard_1=(c,y)=>(So=u._emscripten_bind_Cloudpilot_RemoveCard_1=B.Ea)(c,y),Ll=u._emscripten_bind_Cloudpilot_GetCardData_1=(c,y)=>(Ll=u._emscripten_bind_Cloudpilot_GetCardData_1=B.Fa)(c,y),pc=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=(c,y)=>(pc=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=B.Ga)(c,y),xi=u._emscripten_bind_Cloudpilot_GetCardSize_1=(c,y)=>(xi=u._emscripten_bind_Cloudpilot_GetCardSize_1=B.Ha)(c,y),hc=u._emscripten_bind_Cloudpilot_RemountCards_0=c=>(hc=u._emscripten_bind_Cloudpilot_RemountCards_0=B.Ia)(c),iu=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=(c,y)=>(iu=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=B.Ja)(c,y),Jn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=c=>(Jn=u._emscripten_bind_Cloudpilot_GetMountedKey_0=B.Ka)(c),Ia=u._emscripten_bind_Cloudpilot_GetTransportIR_0=c=>(Ia=u._emscripten_bind_Cloudpilot_GetTransportIR_0=B.La)(c),Nr=u._emscripten_bind_Cloudpilot_GetTransportSerial_0=c=>(Nr=u._emscripten_bind_Cloudpilot_GetTransportSerial_0=B.Ma)(c),wo=u._emscripten_bind_Cloudpilot___destroy___0=c=>(wo=u._emscripten_bind_Cloudpilot___destroy___0=B.Na)(c),po=u._emscripten_bind_RomInfo_RomInfo_2=(c,y)=>(po=u._emscripten_bind_RomInfo_RomInfo_2=B.Oa)(c,y),Ur=u._emscripten_bind_RomInfo_IsValid_0=c=>(Ur=u._emscripten_bind_RomInfo_IsValid_0=B.Pa)(c),yn=u._emscripten_bind_RomInfo_CardVersion_0=c=>(yn=u._emscripten_bind_RomInfo_CardVersion_0=B.Qa)(c),yt=u._emscripten_bind_RomInfo_CardName_0=c=>(yt=u._emscripten_bind_RomInfo_CardName_0=B.Ra)(c),xr=u._emscripten_bind_RomInfo_RomVersion_0=c=>(xr=u._emscripten_bind_RomInfo_RomVersion_0=B.Sa)(c),Sr=u._emscripten_bind_RomInfo_RomVersionString_0=c=>(Sr=u._emscripten_bind_RomInfo_RomVersionString_0=B.Ta)(c),_=u._emscripten_bind_RomInfo_Supports_1=(c,y)=>(_=u._emscripten_bind_RomInfo_Supports_1=B.Ua)(c,y),H=u._emscripten_bind_RomInfo___destroy___0=c=>(H=u._emscripten_bind_RomInfo___destroy___0=B.Va)(c),M=u._emscripten_bind_Frame_GetLineWidth_0=c=>(M=u._emscripten_bind_Frame_GetLineWidth_0=B.Wa)(c),Oe=u._emscripten_bind_Frame_GetBpp_0=c=>(Oe=u._emscripten_bind_Frame_GetBpp_0=B.Xa)(c),tt=u._emscripten_bind_Frame_GetLines_0=c=>(tt=u._emscripten_bind_Frame_GetLines_0=B.Ya)(c),tn=u._emscripten_bind_Frame_GetMargin_0=c=>(tn=u._emscripten_bind_Frame_GetMargin_0=B.Za)(c),Yt=u._emscripten_bind_Frame_GetBytesPerLine_0=c=>(Yt=u._emscripten_bind_Frame_GetBytesPerLine_0=B._a)(c),an=u._emscripten_bind_Frame_GetFirstDirtyLine_0=c=>(an=u._emscripten_bind_Frame_GetFirstDirtyLine_0=B.$a)(c),er=u._emscripten_bind_Frame_GetLastDirtyLine_0=c=>(er=u._emscripten_bind_Frame_GetLastDirtyLine_0=B.ab)(c),Lt=u._emscripten_bind_Frame_GetHasChanges_0=c=>(Lt=u._emscripten_bind_Frame_GetHasChanges_0=B.bb)(c),or=u._emscripten_bind_Frame_GetBuffer_0=c=>(or=u._emscripten_bind_Frame_GetBuffer_0=B.cb)(c),fr=u._emscripten_bind_Frame_GetBufferSize_0=c=>(fr=u._emscripten_bind_Frame_GetBufferSize_0=B.db)(c),bn=u._emscripten_bind_Frame_GetScaleX_0=c=>(bn=u._emscripten_bind_Frame_GetScaleX_0=B.eb)(c),Mt=u._emscripten_bind_Frame_GetScaleY_0=c=>(Mt=u._emscripten_bind_Frame_GetScaleY_0=B.fb)(c),Nt=u._emscripten_bind_Frame___destroy___0=c=>(Nt=u._emscripten_bind_Frame___destroy___0=B.gb)(c),Vn=u._emscripten_bind_DbBackup_Init_1=(c,y)=>(Vn=u._emscripten_bind_DbBackup_Init_1=B.hb)(c,y),Tr=u._emscripten_bind_DbBackup_IsInProgress_0=c=>(Tr=u._emscripten_bind_DbBackup_IsInProgress_0=B.ib)(c),hn=u._emscripten_bind_DbBackup_IsDone_0=c=>(hn=u._emscripten_bind_DbBackup_IsDone_0=B.jb)(c),qe=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=c=>(qe=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=B.kb)(c),p=u._emscripten_bind_DbBackup_Save_0=c=>(p=u._emscripten_bind_DbBackup_Save_0=B.lb)(c),D=u._emscripten_bind_DbBackup_Skip_0=c=>(D=u._emscripten_bind_DbBackup_Skip_0=B.mb)(c),oe=u._emscripten_bind_DbBackup_GetArchivePtr_0=c=>(oe=u._emscripten_bind_DbBackup_GetArchivePtr_0=B.nb)(c),$e=u._emscripten_bind_DbBackup_GetArchiveSize_0=c=>($e=u._emscripten_bind_DbBackup_GetArchiveSize_0=B.ob)(c),Te=u._emscripten_bind_DbBackup___destroy___0=c=>(Te=u._emscripten_bind_DbBackup___destroy___0=B.pb)(c),Sn=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=c=>(Sn=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=B.qb)(c),Qt=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=c=>(Qt=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=B.rb)(c),mn=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=c=>(mn=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=B.sb)(c),tr=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=c=>(tr=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=B.tb)(c),ko=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=c=>(ko=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=B.ub)(c),Rs=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=(c,y)=>(Rs=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=B.vb)(c,y),rl=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=c=>(rl=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=B.wb)(c),Ro=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=c=>(Ro=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=B.xb)(c),$l=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=(c,y)=>($l=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=B.yb)(c,y),mc=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=c=>(mc=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=B.zb)(c),Bl=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=c=>(Bl=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=B.Ab)(c),xa=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=c=>(xa=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=B.Bb)(c),ol=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=c=>(ol=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=B.Cb)(c),lt=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=(c,y,W)=>(lt=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=B.Db)(c,y,W),ln=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=c=>(ln=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=B.Eb)(c),yi=u._emscripten_bind_SuspendContextSerialSync_Cancel_0=c=>(yi=u._emscripten_bind_SuspendContextSerialSync_Cancel_0=B.Fb)(c),Jo=u._emscripten_bind_SuspendContextSerialSync_Resume_0=c=>(Jo=u._emscripten_bind_SuspendContextSerialSync_Resume_0=B.Gb)(c),il=u._emscripten_bind_SuspendContextSerialSync___destroy___0=c=>(il=u._emscripten_bind_SuspendContextSerialSync___destroy___0=B.Hb)(c),Ta=u._emscripten_bind_SuspendContext_GetKind_0=c=>(Ta=u._emscripten_bind_SuspendContext_GetKind_0=B.Ib)(c),Gh=u._emscripten_bind_SuspendContext_Cancel_0=c=>(Gh=u._emscripten_bind_SuspendContext_Cancel_0=B.Jb)(c),Ma=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=c=>(Ma=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=B.Kb)(c),Uh=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=c=>(Uh=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=B.Lb)(c),ue=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=c=>(ue=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=B.Mb)(c),Mf=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=c=>(Mf=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=B.Nb)(c),it=u._emscripten_bind_SuspendContext_AsContextSerialSync_0=c=>(it=u._emscripten_bind_SuspendContext_AsContextSerialSync_0=B.Ob)(c),su=u._emscripten_bind_SuspendContext___destroy___0=c=>(su=u._emscripten_bind_SuspendContext___destroy___0=B.Pb)(c),qu=u._emscripten_bind_SessionImage_SessionImage_0=()=>(qu=u._emscripten_bind_SessionImage_SessionImage_0=B.Qb)(),gc=u._emscripten_bind_SessionImage_GetDeviceId_0=c=>(gc=u._emscripten_bind_SessionImage_GetDeviceId_0=B.Rb)(c),Hh=u._emscripten_bind_SessionImage_SetDeviceId_1=(c,y)=>(Hh=u._emscripten_bind_SessionImage_SetDeviceId_1=B.Sb)(c,y),zh=u._emscripten_bind_SessionImage_GetRomImage_0=c=>(zh=u._emscripten_bind_SessionImage_GetRomImage_0=B.Tb)(c),Wh=u._emscripten_bind_SessionImage_GetRomImageSize_0=c=>(Wh=u._emscripten_bind_SessionImage_GetRomImageSize_0=B.Ub)(c),ra=u._emscripten_bind_SessionImage_SetRomImage_2=(c,y,W)=>(ra=u._emscripten_bind_SessionImage_SetRomImage_2=B.Vb)(c,y,W),au=u._emscripten_bind_SessionImage_GetMemoryImage_0=c=>(au=u._emscripten_bind_SessionImage_GetMemoryImage_0=B.Wb)(c),cs=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=c=>(cs=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=B.Xb)(c),Ps=u._emscripten_bind_SessionImage_SetMemoryImage_2=(c,y,W)=>(Ps=u._emscripten_bind_SessionImage_SetMemoryImage_2=B.Yb)(c,y,W),qn=u._emscripten_bind_SessionImage_GetMetadata_0=c=>(qn=u._emscripten_bind_SessionImage_GetMetadata_0=B.Zb)(c),Af=u._emscripten_bind_SessionImage_GetMetadataSize_0=c=>(Af=u._emscripten_bind_SessionImage_GetMetadataSize_0=B._b)(c),Yu=u._emscripten_bind_SessionImage_SetMetadata_2=(c,y,W)=>(Yu=u._emscripten_bind_SessionImage_SetMetadata_2=B.$b)(c,y,W),kf=u._emscripten_bind_SessionImage_GetSavestate_0=c=>(kf=u._emscripten_bind_SessionImage_GetSavestate_0=B.ac)(c),Rf=u._emscripten_bind_SessionImage_GetSavestateSize_0=c=>(Rf=u._emscripten_bind_SessionImage_GetSavestateSize_0=B.bc)(c),_c=u._emscripten_bind_SessionImage_SetSavestate_2=(c,y,W)=>(_c=u._emscripten_bind_SessionImage_SetSavestate_2=B.cc)(c,y,W),Pf=u._emscripten_bind_SessionImage_GetVersion_0=c=>(Pf=u._emscripten_bind_SessionImage_GetVersion_0=B.dc)(c),Of=u._emscripten_bind_SessionImage_Serialize_0=c=>(Of=u._emscripten_bind_SessionImage_Serialize_0=B.ec)(c),Zh=u._emscripten_bind_SessionImage_GetSerializedImage_0=c=>(Zh=u._emscripten_bind_SessionImage_GetSerializedImage_0=B.fc)(c),Ff=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=c=>(Ff=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=B.gc)(c),qh=u._emscripten_bind_SessionImage_Deserialize_2=(c,y,W)=>(qh=u._emscripten_bind_SessionImage_Deserialize_2=B.hc)(c,y,W),Yh=u._emscripten_bind_SessionImage___destroy___0=c=>(Yh=u._emscripten_bind_SessionImage___destroy___0=B.ic)(c),us=u._emscripten_bind_SkinLoader_SkinLoader_1=c=>(us=u._emscripten_bind_SkinLoader_SkinLoader_1=B.jc)(c),Kh=u._emscripten_bind_SkinLoader_GetData_0=c=>(Kh=u._emscripten_bind_SkinLoader_GetData_0=B.kc)(c),Nf=u._emscripten_bind_SkinLoader_GetSize_0=c=>(Nf=u._emscripten_bind_SkinLoader_GetSize_0=B.lc)(c),Xh=u._emscripten_bind_SkinLoader___destroy___0=c=>(Xh=u._emscripten_bind_SkinLoader___destroy___0=B.mc)(c),Qh=u._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=c=>(Qh=u._emscripten_bind_EmTransportSerialBuffer_RxBytesPending_0=B.nc)(c),Jh=u._emscripten_bind_EmTransportSerialBuffer_Receive_0=c=>(Jh=u._emscripten_bind_EmTransportSerialBuffer_Receive_0=B.oc)(c),em=u._emscripten_bind_EmTransportSerialBuffer_Send_3=(c,y,W,Pe)=>(em=u._emscripten_bind_EmTransportSerialBuffer_Send_3=B.pc)(c,y,W,Pe),Lf=u._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=c=>(Lf=u._emscripten_bind_EmTransportSerialBuffer_IsOpen_0=B.qc)(c),tm=u._emscripten_bind_EmTransportSerialBuffer_Rts_0=c=>(tm=u._emscripten_bind_EmTransportSerialBuffer_Rts_0=B.rc)(c),nm=u._emscripten_bind_EmTransportSerialBuffer_Dtr_0=c=>(nm=u._emscripten_bind_EmTransportSerialBuffer_Dtr_0=B.sc)(c),rm=u._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=c=>(rm=u._emscripten_bind_EmTransportSerialBuffer_IsBreak_0=B.tc)(c),Ze=u._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=c=>(Ze=u._emscripten_bind_EmTransportSerialBuffer_BufferSize_0=B.uc)(c),om=u._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=c=>(om=u._emscripten_bind_EmTransportSerialBuffer_GetBaud_0=B.vc)(c),im=u._emscripten_bind_EmTransportSerialBuffer_GetParity_0=c=>(im=u._emscripten_bind_EmTransportSerialBuffer_GetParity_0=B.wc)(c),Jr=u._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=c=>(Jr=u._emscripten_bind_EmTransportSerialBuffer_GetStopBits_0=B.xc)(c),$f=u._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=c=>($f=u._emscripten_bind_EmTransportSerialBuffer_GetDataBits_0=B.yc)(c),kt=u._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=c=>(kt=u._emscripten_bind_EmTransportSerialBuffer_GetHwrHandshake_0=B.zc)(c),Po=u._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=c=>(Po=u._emscripten_bind_EmTransportSerialBuffer_GetModeSync_0=B.Ac)(c),kn=u._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=(c,y)=>(kn=u._emscripten_bind_EmTransportSerialBuffer_SetModeSync_1=B.Bc)(c,y),Eo=u._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=c=>(Eo=u._emscripten_bind_EmTransportSerialBuffer_IsFrameComplete_0=B.Cc)(c),Vo=u._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=(c,y)=>(Vo=u._emscripten_bind_EmTransportSerialBuffer_SetRequestTransferCallback_1=B.Dc)(c,y),Aa=u._emscripten_bind_EmTransportSerialBuffer___destroy___0=c=>(Aa=u._emscripten_bind_EmTransportSerialBuffer___destroy___0=B.Ec)(c),ei=u._emscripten_bind_GunzipContext_GunzipContext_3=(c,y,W)=>(ei=u._emscripten_bind_GunzipContext_GunzipContext_3=B.Fc)(c,y,W),Bf=u._emscripten_bind_GunzipContext_GetState_0=c=>(Bf=u._emscripten_bind_GunzipContext_GetState_0=B.Gc)(c),Vf=u._emscripten_bind_GunzipContext_Continue_0=c=>(Vf=u._emscripten_bind_GunzipContext_Continue_0=B.Hc)(c),lu=u._emscripten_bind_GunzipContext_GetUncompressedData_0=c=>(lu=u._emscripten_bind_GunzipContext_GetUncompressedData_0=B.Ic)(c),sm=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=c=>(sm=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=B.Jc)(c),am=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=c=>(am=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=B.Kc)(c),eo=u._emscripten_bind_GunzipContext_GetError_0=c=>(eo=u._emscripten_bind_GunzipContext_GetError_0=B.Lc)(c),dt=u._emscripten_bind_GunzipContext___destroy___0=c=>(dt=u._emscripten_bind_GunzipContext___destroy___0=B.Mc)(c),jt=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(c,y)=>(jt=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=B.Nc)(c,y),Lr=u._emscripten_bind_ZipfileWalker_GetState_0=c=>(Lr=u._emscripten_bind_ZipfileWalker_GetState_0=B.Oc)(c),ds=u._emscripten_bind_ZipfileWalker_Next_0=c=>(ds=u._emscripten_bind_ZipfileWalker_Next_0=B.Pc)(c),ti=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=c=>(ti=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=B.Qc)(c),fs=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=c=>(fs=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=B.Rc)(c),Vl=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=c=>(Vl=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=B.Sc)(c),wr=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=c=>(wr=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=B.Tc)(c),fi=u._emscripten_bind_ZipfileWalker___destroy___0=c=>(fi=u._emscripten_bind_ZipfileWalker___destroy___0=B.Uc)(c),jl=()=>(jl=B.Vc)(),cn=c=>(cn=B.Xc)(c),vc=()=>(vc=B.Yc)(),$r=()=>($r=B.Zc)(),bc=()=>(bc=B._c)();function Ku(){function c(){Ul||(Ul=!0,u.calledRun=!0,!le&&(function pe(){Tt(),Xn(We)}(),function He(){Tt(),Xn(Re)}(),Y(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Sc&&function Hl(){var c=Gr;try{var Pe=c(0,0);return Ts(Pe),Pe}catch(St){return(c=>{if(c instanceof Or||"unwind"==c)return ae;Tt(),c instanceof WebAssembly.RuntimeError&&bc()<=0&&Z("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),T(1,c)})(St)}}(),function at(){if(Tt(),u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)c=u.postRun.shift(),Ge.unshift(c);var c;Xn(Ge)}()))}At>0||(function dn(){vc(),function ht(){var c=$r();0==c&&(c+=4),X[c>>2]=34821223,X[c+4>>2]=2310721022,X[0]=1668509029}()}(),function Pt(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)c=u.preRun.shift(),Fe.unshift(c);var c;Xn(Fe)}(),At>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),c()},1)):c(),Tt())}if(u.___original_main=()=>(u.___original_main=B.$c)(),u.___start_em_js=425559,u.___stop_em_js=425658,u.addFunction=(c,y)=>{var W=(c=>(ce||(ce=new WeakMap,((c,y)=>{if(ce)for(var W=0;W<0+y;W++){var Pe=ie(W);Pe&&ce.set(Pe,W)}})(0,E.length)),ce.get(c)||0))(c);if(W)return W;var Pe=(()=>{if(Ke.length)return Ke.pop();try{E.grow(1)}catch(c){throw c instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":c}return E.length-1})();try{Ve(Pe,c)}catch(nn){if(!(nn instanceof TypeError))throw nn;var St=((c,y)=>{if("function"==typeof WebAssembly.Function)return new WebAssembly.Function((c=>{for(var y={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},W={parameters:[],results:"v"==c[0]?[]:[y[c[0]]]},Pe=1;Pe<c.length;++Pe)W.parameters.push(y[c[Pe]]);return W})(y),c);var W=[1];((c,y)=>{var W=c.slice(0,1),Pe=c.slice(1),St={i:127,p:127,j:126,f:125,d:124,e:111};y.push(96),et(Pe.length,y);for(var nn=0;nn<Pe.length;++nn)y.push(St[Pe[nn]]);"v"==W?y.push(0):y.push(1,St[W])})(y,W);var Pe=[0,97,115,109,1,0,0,0,1];et(W.length,Pe),Pe.push.apply(Pe,W),Pe.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var St=new WebAssembly.Module(new Uint8Array(Pe));return new WebAssembly.Instance(St,{e:{f:c}}).exports.f})(c,y);Ve(Pe,St)}return ce.set(c,Pe),Pe},u.UTF8ToString=de,_e=function c(){Ul||Ku(),Ul||(_e=c)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Sc=!0;function Hn(){}function ps(c){return(c||Hn).__cache__}function gn(c,y){var W=ps(y),Pe=W[c];return Pe||((Pe=Object.create((y||Hn).prototype)).ptr=c,W[c]=Pe)}u.noInitialRun&&(Sc=!1),Ku(),(Hn.prototype=Object.create(Hn.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},u.WrapperObject=Hn,u.getCache=ps,u.wrapPointer=gn,u.castObject=function ho(c,y){return gn(c.ptr,y)},u.NULL=gn(0),u.destroy=function wc(c){if(!c.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";c.__destroy__(),delete ps(c.__class__)[c.ptr]},u.compare=function ni(c,y){return c.ptr===y.ptr},u.getPointer=function jo(c){return c.ptr},u.getClass=function jf(c){return c.__class__};var Jt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Jt.needed){for(var c=0;c<Jt.temps.length;c++)u._webidl_free(Jt.temps[c]);Jt.temps.length=0,u._webidl_free(Jt.buffer),Jt.buffer=0,Jt.size+=Jt.needed,Jt.needed=0}Jt.buffer||(Jt.size+=128,Jt.buffer=u._webidl_malloc(Jt.size),Me(Jt.buffer)),Jt.pos=0},alloc(c,y){Me(Jt.buffer);var St,Pe=c.length*y.BYTES_PER_ELEMENT;return Jt.pos+(Pe=Pe+7&-8)>=Jt.size?(Me(Pe>0),Jt.needed+=Pe,St=u._webidl_malloc(Pe),Jt.temps.push(St)):(St=Jt.buffer+Jt.pos,Jt.pos+=Pe),St},copy(c,y,W){switch(W>>>=0,y.BYTES_PER_ELEMENT){case 2:W>>>=1;break;case 4:W>>>=2;break;case 8:W>>>=3}for(var St=0;St<c.length;St++)y[W+St]=c[St]}};function mo(c){if("string"==typeof c){var y=Ks(c),W=Jt.alloc(y,ke);return Jt.copy(y,ke,W),W}return c}function Rn(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Le(){this.ptr=Bo(),ps(Le)[this.ptr]=this}function oo(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=po(c,y),ps(oo)[this.ptr]=this}function Zn(){throw"cannot construct a Frame, no constructor in IDL"}function pr(){throw"cannot construct a DbBackup, no constructor in IDL"}function ri(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function Ti(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function pi(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function oi(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function $i(){throw"cannot construct a SuspendContextSerialSync, no constructor in IDL"}function to(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Zt(){this.ptr=qu(),ps(Zt)[this.ptr]=this}function Bi(c){Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),this.ptr=us(c),ps(Bi)[this.ptr]=this}function _n(){throw"cannot construct a EmTransportSerialBuffer, no constructor in IDL"}function go(c,y,W){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),W&&"object"==typeof W&&(W=W.ptr),this.ptr=ei(c,y,W),ps(go)[this.ptr]=this}function _o(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),this.ptr=jt(c,y),ps(_o)[this.ptr]=this}return(Rn.prototype=Object.create(Hn.prototype)).constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},u.VoidPtr=Rn,Rn.prototype.__destroy__=Rn.prototype.__destroy__=function(){jn(this.ptr)},(Le.prototype=Object.create(Hn.prototype)).constructor=Le,Le.prototype.__class__=Le,Le.__cache__={},u.Cloudpilot=Le,Le.prototype.Malloc=Le.prototype.Malloc=function(c){return c&&"object"==typeof c&&(c=c.ptr),gn(Ao(this.ptr,c),Rn)},Le.prototype.Free=Le.prototype.Free=function(c){c&&"object"==typeof c&&(c=c.ptr),is(this.ptr,c)},Le.prototype.Nullptr=Le.prototype.Nullptr=function(){return gn(Ha(this.ptr),Rn)},Le.prototype.InitializeSession=Le.prototype.InitializeSession=function(c,y,W){var Pe=this.ptr;return Jt.prepare(),c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),W=W&&"object"==typeof W?W.ptr:mo(W),!!ga(Pe,c,y,W)},Le.prototype.GetCyclesPerSecond=Le.prototype.GetCyclesPerSecond=function(){return Xs(this.ptr)},Le.prototype.RunEmulation=Le.prototype.RunEmulation=function(c){return c&&"object"==typeof c&&(c=c.ptr),_a(this.ptr,c)},Le.prototype.SetClockFactor=Le.prototype.SetClockFactor=function(c){c&&"object"==typeof c&&(c=c.ptr),ss(this.ptr,c)},Le.prototype.CopyFrame=Le.prototype.CopyFrame=function(){return gn(za(this.ptr),Zn)},Le.prototype.IsScreenDirty=Le.prototype.IsScreenDirty=function(){return!!va(this.ptr)},Le.prototype.MarkScreenClean=Le.prototype.MarkScreenClean=function(){ya(this.ptr)},Le.prototype.MinMemoryForDevice=Le.prototype.MinMemoryForDevice=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Wa(y,c)},Le.prototype.FramebufferSizeForDevice=Le.prototype.FramebufferSizeForDevice=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Za(y,c)},Le.prototype.TotalMemoryForDevice=Le.prototype.TotalMemoryForDevice=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),qa(y,c)},Le.prototype.QueuePenMove=Le.prototype.QueuePenMove=function(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),Ya(this.ptr,c,y)},Le.prototype.QueuePenUp=Le.prototype.QueuePenUp=function(){ba(this.ptr)},Le.prototype.QueueButtonDown=Le.prototype.QueueButtonDown=function(c){c&&"object"==typeof c&&(c=c.ptr),Ka(this.ptr,c)},Le.prototype.QueueButtonUp=Le.prototype.QueueButtonUp=function(c){c&&"object"==typeof c&&(c=c.ptr),Xa(this.ptr,c)},Le.prototype.QueueKeyboardEvent=Le.prototype.QueueKeyboardEvent=function(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),br(this.ptr,c,y)},Le.prototype.IsPowerOff=Le.prototype.IsPowerOff=function(){return!!Ca(this.ptr)},Le.prototype.IsUIInitialized=Le.prototype.IsUIInitialized=function(){return!!fo(this.ptr)},Le.prototype.GetOSVersion=Le.prototype.GetOSVersion=function(){return Bt(this.ptr)},Le.prototype.IsSetupComplete=Le.prototype.IsSetupComplete=function(){return!!Sa(this.ptr)},Le.prototype.Reset=Le.prototype.Reset=function(){Qs(this.ptr)},Le.prototype.ResetNoExtensions=Le.prototype.ResetNoExtensions=function(){Qr(this.ptr)},Le.prototype.ResetHard=Le.prototype.ResetHard=function(){Js(this.ptr)},Le.prototype.InstallDb=Le.prototype.InstallDb=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),Qa(this.ptr,c,y)},Le.prototype.GetPalette2bitMapping=Le.prototype.GetPalette2bitMapping=function(){return Gn(this.ptr)},Le.prototype.GetMemoryPtr=Le.prototype.GetMemoryPtr=function(){return gn(As(this.ptr),Rn)},Le.prototype.GetDirtyPagesPtr=Le.prototype.GetDirtyPagesPtr=function(){return gn(Cr(this.ptr),Rn)},Le.prototype.GetMemorySize=Le.prototype.GetMemorySize=function(){return ea(this.ptr)},Le.prototype.ImportMemoryImage=Le.prototype.ImportMemoryImage=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Rl(this.ptr,c,y)},Le.prototype.GetRomPtr=Le.prototype.GetRomPtr=function(){return gn(Ja(this.ptr),Rn)},Le.prototype.GetRomSize=Le.prototype.GetRomSize=function(){return Un(this.ptr)},Le.prototype.GetSavestatePtr=Le.prototype.GetSavestatePtr=function(){return gn(Vt(this.ptr),Rn)},Le.prototype.GetSavestateSize=Le.prototype.GetSavestateSize=function(){return ks(this.ptr)},Le.prototype.SaveState=Le.prototype.SaveState=function(){return!!ta(this.ptr)},Le.prototype.LoadState=Le.prototype.LoadState=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Pl(this.ptr,c,y)},Le.prototype.GetHotsyncName=Le.prototype.GetHotsyncName=function(){return de(wa(this.ptr))},Le.prototype.SetHotsyncName=Le.prototype.SetHotsyncName=function(c){var y=this.ptr;Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Xe(y,c)},Le.prototype.RegisterPwmHandler=Le.prototype.RegisterPwmHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),Li(this.ptr,c)},Le.prototype.StartBackup=Le.prototype.StartBackup=function(){return gn(as(this.ptr),pr)},Le.prototype.SetClipboardIntegration=Le.prototype.SetClipboardIntegration=function(c){c&&"object"==typeof c&&(c=c.ptr),na(this.ptr,c)},Le.prototype.GetClipboardIntegration=Le.prototype.GetClipboardIntegration=function(){return!!Ea(this.ptr)},Le.prototype.IsSuspended=Le.prototype.IsSuspended=function(){return!!el(this.ptr)},Le.prototype.GetSuspendContext=Le.prototype.GetSuspendContext=function(){return gn(Qo(this.ptr),to)},Le.prototype.SetNetworkRedirection=Le.prototype.SetNetworkRedirection=function(c){c&&"object"==typeof c&&(c=c.ptr),ls(this.ptr,c)},Le.prototype.GetNetworkRedirection=Le.prototype.GetNetworkRedirection=function(){return!!tl(this.ptr)},Le.prototype.RegisterProxyDisconnectHandler=Le.prototype.RegisterProxyDisconnectHandler=function(c){c&&"object"==typeof c&&(c=c.ptr),qt(this.ptr,c)},Le.prototype.SetHotsyncNameManagement=Le.prototype.SetHotsyncNameManagement=function(c){c&&"object"==typeof c&&(c=c.ptr),Bn(this.ptr,c)},Le.prototype.LaunchAppByName=Le.prototype.LaunchAppByName=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),!!Da(y,c)},Le.prototype.LaunchAppByDbHeader=Le.prototype.LaunchAppByDbHeader=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),!!Ol(this.ptr,c,y)},Le.prototype.DeviceSupportsCardSize=Le.prototype.DeviceSupportsCardSize=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!Fl(this.ptr,c)},Le.prototype.ClearExternalStorage=Le.prototype.ClearExternalStorage=function(){Nl(this.ptr)},Le.prototype.AllocateCard=Le.prototype.AllocateCard=function(c,y){var W=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),y&&"object"==typeof y&&(y=y.ptr),!!nl(W,c,y)},Le.prototype.AdoptCard=Le.prototype.AdoptCard=function(c,y,W){var Pe=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),y&&"object"==typeof y&&(y=y.ptr),W&&"object"==typeof W&&(W=W.ptr),!!Ir(Pe,c,y,W)},Le.prototype.MountCard=Le.prototype.MountCard=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),!!dr(y,c)},Le.prototype.RemoveCard=Le.prototype.RemoveCard=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),!!So(y,c)},Le.prototype.GetCardData=Le.prototype.GetCardData=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),gn(Ll(y,c),Rn)},Le.prototype.GetCardDirtyPages=Le.prototype.GetCardDirtyPages=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),gn(pc(y,c),Rn)},Le.prototype.GetCardSize=Le.prototype.GetCardSize=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),xi(y,c)},Le.prototype.RemountCards=Le.prototype.RemountCards=function(){hc(this.ptr)},Le.prototype.GetSupportLevel=Le.prototype.GetSupportLevel=function(c){return c&&"object"==typeof c&&(c=c.ptr),iu(this.ptr,c)},Le.prototype.GetMountedKey=Le.prototype.GetMountedKey=function(){return de(Jn(this.ptr))},Le.prototype.GetTransportIR=Le.prototype.GetTransportIR=function(){return gn(Ia(this.ptr),_n)},Le.prototype.GetTransportSerial=Le.prototype.GetTransportSerial=function(){return gn(Nr(this.ptr),_n)},Le.prototype.__destroy__=Le.prototype.__destroy__=function(){wo(this.ptr)},(oo.prototype=Object.create(Hn.prototype)).constructor=oo,oo.prototype.__class__=oo,oo.__cache__={},u.RomInfo=oo,oo.prototype.IsValid=oo.prototype.IsValid=function(){return!!Ur(this.ptr)},oo.prototype.CardVersion=oo.prototype.CardVersion=function(){return yn(this.ptr)},oo.prototype.CardName=oo.prototype.CardName=function(){return de(yt(this.ptr))},oo.prototype.RomVersion=oo.prototype.RomVersion=function(){return xr(this.ptr)},oo.prototype.RomVersionString=oo.prototype.RomVersionString=function(){return de(Sr(this.ptr))},oo.prototype.Supports=oo.prototype.Supports=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),!!_(y,c)},oo.prototype.__destroy__=oo.prototype.__destroy__=function(){H(this.ptr)},(Zn.prototype=Object.create(Hn.prototype)).constructor=Zn,Zn.prototype.__class__=Zn,Zn.__cache__={},u.Frame=Zn,Zn.prototype.GetLineWidth=Zn.prototype.GetLineWidth=function(){return M(this.ptr)},Zn.prototype.GetBpp=Zn.prototype.GetBpp=function(){return Oe(this.ptr)},Zn.prototype.GetLines=Zn.prototype.GetLines=function(){return tt(this.ptr)},Zn.prototype.GetMargin=Zn.prototype.GetMargin=function(){return tn(this.ptr)},Zn.prototype.GetBytesPerLine=Zn.prototype.GetBytesPerLine=function(){return Yt(this.ptr)},Zn.prototype.GetFirstDirtyLine=Zn.prototype.GetFirstDirtyLine=function(){return an(this.ptr)},Zn.prototype.GetLastDirtyLine=Zn.prototype.GetLastDirtyLine=function(){return er(this.ptr)},Zn.prototype.GetHasChanges=Zn.prototype.GetHasChanges=function(){return!!Lt(this.ptr)},Zn.prototype.GetBuffer=Zn.prototype.GetBuffer=function(){return gn(or(this.ptr),Rn)},Zn.prototype.GetBufferSize=Zn.prototype.GetBufferSize=function(){return fr(this.ptr)},Zn.prototype.GetScaleX=Zn.prototype.GetScaleX=function(){return bn(this.ptr)},Zn.prototype.GetScaleY=Zn.prototype.GetScaleY=function(){return Mt(this.ptr)},Zn.prototype.__destroy__=Zn.prototype.__destroy__=function(){Nt(this.ptr)},(pr.prototype=Object.create(Hn.prototype)).constructor=pr,pr.prototype.__class__=pr,pr.__cache__={},u.DbBackup=pr,pr.prototype.Init=pr.prototype.Init=function(c){return c&&"object"==typeof c&&(c=c.ptr),!!Vn(this.ptr,c)},pr.prototype.IsInProgress=pr.prototype.IsInProgress=function(){return!!Tr(this.ptr)},pr.prototype.IsDone=pr.prototype.IsDone=function(){return!!hn(this.ptr)},pr.prototype.GetCurrentDatabase=pr.prototype.GetCurrentDatabase=function(){return de(qe(this.ptr))},pr.prototype.Save=pr.prototype.Save=function(){return!!p(this.ptr)},pr.prototype.Skip=pr.prototype.Skip=function(){D(this.ptr)},pr.prototype.GetArchivePtr=pr.prototype.GetArchivePtr=function(){return gn(oe(this.ptr),Rn)},pr.prototype.GetArchiveSize=pr.prototype.GetArchiveSize=function(){return $e(this.ptr)},pr.prototype.__destroy__=pr.prototype.__destroy__=function(){Te(this.ptr)},(ri.prototype=Object.create(Hn.prototype)).constructor=ri,ri.prototype.__class__=ri,ri.__cache__={},u.SuspendContextClipboardCopy=ri,ri.prototype.Cancel=ri.prototype.Cancel=function(){Sn(this.ptr)},ri.prototype.Resume=ri.prototype.Resume=function(){Qt(this.ptr)},ri.prototype.GetClipboardContent=ri.prototype.GetClipboardContent=function(){return de(mn(this.ptr))},ri.prototype.__destroy__=ri.prototype.__destroy__=function(){tr(this.ptr)},(Ti.prototype=Object.create(Hn.prototype)).constructor=Ti,Ti.prototype.__class__=Ti,Ti.__cache__={},u.SuspendContextClipboardPaste=Ti,Ti.prototype.Cancel=Ti.prototype.Cancel=function(){ko(this.ptr)},Ti.prototype.Resume=Ti.prototype.Resume=function(c){var y=this.ptr;Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),Rs(y,c)},Ti.prototype.__destroy__=Ti.prototype.__destroy__=function(){rl(this.ptr)},(pi.prototype=Object.create(Hn.prototype)).constructor=pi,pi.prototype.__class__=pi,pi.__cache__={},u.SuspendContextNetworkConnect=pi,pi.prototype.Cancel=pi.prototype.Cancel=function(){Ro(this.ptr)},pi.prototype.Resume=pi.prototype.Resume=function(c){var y=this.ptr;Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),$l(y,c)},pi.prototype.__destroy__=pi.prototype.__destroy__=function(){mc(this.ptr)},(oi.prototype=Object.create(Hn.prototype)).constructor=oi,oi.prototype.__class__=oi,oi.__cache__={},u.SuspendContextNetworkRpc=oi,oi.prototype.Cancel=oi.prototype.Cancel=function(){Bl(this.ptr)},oi.prototype.GetRequestSize=oi.prototype.GetRequestSize=function(){return xa(this.ptr)},oi.prototype.GetRequestData=oi.prototype.GetRequestData=function(){return gn(ol(this.ptr),Rn)},oi.prototype.ReceiveResponse=oi.prototype.ReceiveResponse=function(c,y){c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),lt(this.ptr,c,y)},oi.prototype.__destroy__=oi.prototype.__destroy__=function(){ln(this.ptr)},($i.prototype=Object.create(Hn.prototype)).constructor=$i,$i.prototype.__class__=$i,$i.__cache__={},u.SuspendContextSerialSync=$i,$i.prototype.Cancel=$i.prototype.Cancel=function(){yi(this.ptr)},$i.prototype.Resume=$i.prototype.Resume=function(){Jo(this.ptr)},$i.prototype.__destroy__=$i.prototype.__destroy__=function(){il(this.ptr)},(to.prototype=Object.create(Hn.prototype)).constructor=to,to.prototype.__class__=to,to.__cache__={},u.SuspendContext=to,to.prototype.GetKind=to.prototype.GetKind=function(){return Ta(this.ptr)},to.prototype.Cancel=to.prototype.Cancel=function(){Gh(this.ptr)},to.prototype.AsContextClipboardCopy=to.prototype.AsContextClipboardCopy=function(){return gn(Ma(this.ptr),ri)},to.prototype.AsContextClipboardPaste=to.prototype.AsContextClipboardPaste=function(){return gn(Uh(this.ptr),Ti)},to.prototype.AsContextNetworkConnect=to.prototype.AsContextNetworkConnect=function(){return gn(ue(this.ptr),pi)},to.prototype.AsContextNetworkRpc=to.prototype.AsContextNetworkRpc=function(){return gn(Mf(this.ptr),oi)},to.prototype.AsContextSerialSync=to.prototype.AsContextSerialSync=function(){return gn(it(this.ptr),$i)},to.prototype.__destroy__=to.prototype.__destroy__=function(){su(this.ptr)},(Zt.prototype=Object.create(Hn.prototype)).constructor=Zt,Zt.prototype.__class__=Zt,Zt.__cache__={},u.SessionImage=Zt,Zt.prototype.GetDeviceId=Zt.prototype.GetDeviceId=function(){return de(gc(this.ptr))},Zt.prototype.SetDeviceId=Zt.prototype.SetDeviceId=function(c){var y=this.ptr;return Jt.prepare(),c=c&&"object"==typeof c?c.ptr:mo(c),gn(Hh(y,c),Zt)},Zt.prototype.GetRomImage=Zt.prototype.GetRomImage=function(){return gn(zh(this.ptr),Rn)},Zt.prototype.GetRomImageSize=Zt.prototype.GetRomImageSize=function(){return Wh(this.ptr)},Zt.prototype.SetRomImage=Zt.prototype.SetRomImage=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),gn(ra(this.ptr,c,y),Zt)},Zt.prototype.GetMemoryImage=Zt.prototype.GetMemoryImage=function(){return gn(au(this.ptr),Rn)},Zt.prototype.GetMemoryImageSize=Zt.prototype.GetMemoryImageSize=function(){return cs(this.ptr)},Zt.prototype.SetMemoryImage=Zt.prototype.SetMemoryImage=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),gn(Ps(this.ptr,c,y),Zt)},Zt.prototype.GetMetadata=Zt.prototype.GetMetadata=function(){return gn(qn(this.ptr),Rn)},Zt.prototype.GetMetadataSize=Zt.prototype.GetMetadataSize=function(){return Af(this.ptr)},Zt.prototype.SetMetadata=Zt.prototype.SetMetadata=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),gn(Yu(this.ptr,c,y),Zt)},Zt.prototype.GetSavestate=Zt.prototype.GetSavestate=function(){return gn(kf(this.ptr),Rn)},Zt.prototype.GetSavestateSize=Zt.prototype.GetSavestateSize=function(){return Rf(this.ptr)},Zt.prototype.SetSavestate=Zt.prototype.SetSavestate=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),gn(_c(this.ptr,c,y),Zt)},Zt.prototype.GetVersion=Zt.prototype.GetVersion=function(){return Pf(this.ptr)},Zt.prototype.Serialize=Zt.prototype.Serialize=function(){return!!Of(this.ptr)},Zt.prototype.GetSerializedImage=Zt.prototype.GetSerializedImage=function(){return gn(Zh(this.ptr),Rn)},Zt.prototype.GetSerializedImageSize=Zt.prototype.GetSerializedImageSize=function(){return Ff(this.ptr)},Zt.prototype.Deserialize=Zt.prototype.Deserialize=function(c,y){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),!!qh(this.ptr,c,y)},Zt.prototype.__destroy__=Zt.prototype.__destroy__=function(){Yh(this.ptr)},(Bi.prototype=Object.create(Hn.prototype)).constructor=Bi,Bi.prototype.__class__=Bi,Bi.__cache__={},u.SkinLoader=Bi,Bi.prototype.GetData=Bi.prototype.GetData=function(){return gn(Kh(this.ptr),Rn)},Bi.prototype.GetSize=Bi.prototype.GetSize=function(){return Nf(this.ptr)},Bi.prototype.__destroy__=Bi.prototype.__destroy__=function(){Xh(this.ptr)},(_n.prototype=Object.create(Hn.prototype)).constructor=_n,_n.prototype.__class__=_n,_n.__cache__={},u.EmTransportSerialBuffer=_n,_n.prototype.RxBytesPending=_n.prototype.RxBytesPending=function(){return Qh(this.ptr)},_n.prototype.Receive=_n.prototype.Receive=function(){return gn(Jh(this.ptr),Rn)},_n.prototype.Send=_n.prototype.Send=function(c,y,W){return c&&"object"==typeof c&&(c=c.ptr),y&&"object"==typeof y&&(y=y.ptr),W&&"object"==typeof W&&(W=W.ptr),em(this.ptr,c,y,W)},_n.prototype.IsOpen=_n.prototype.IsOpen=function(){return!!Lf(this.ptr)},_n.prototype.Rts=_n.prototype.Rts=function(){return tm(this.ptr)},_n.prototype.Dtr=_n.prototype.Dtr=function(){return!!nm(this.ptr)},_n.prototype.IsBreak=_n.prototype.IsBreak=function(){return!!rm(this.ptr)},_n.prototype.BufferSize=_n.prototype.BufferSize=function(){return Ze(this.ptr)},_n.prototype.GetBaud=_n.prototype.GetBaud=function(){return om(this.ptr)},_n.prototype.GetParity=_n.prototype.GetParity=function(){return im(this.ptr)},_n.prototype.GetStopBits=_n.prototype.GetStopBits=function(){return Jr(this.ptr)},_n.prototype.GetDataBits=_n.prototype.GetDataBits=function(){return $f(this.ptr)},_n.prototype.GetHwrHandshake=_n.prototype.GetHwrHandshake=function(){return kt(this.ptr)},_n.prototype.GetModeSync=_n.prototype.GetModeSync=function(){return!!Po(this.ptr)},_n.prototype.SetModeSync=_n.prototype.SetModeSync=function(c){c&&"object"==typeof c&&(c=c.ptr),kn(this.ptr,c)},_n.prototype.IsFrameComplete=_n.prototype.IsFrameComplete=function(){return!!Eo(this.ptr)},_n.prototype.SetRequestTransferCallback=_n.prototype.SetRequestTransferCallback=function(c){c&&"object"==typeof c&&(c=c.ptr),Vo(this.ptr,c)},_n.prototype.__destroy__=_n.prototype.__destroy__=function(){Aa(this.ptr)},(go.prototype=Object.create(Hn.prototype)).constructor=go,go.prototype.__class__=go,go.__cache__={},u.GunzipContext=go,go.prototype.GetState=go.prototype.GetState=function(){return Bf(this.ptr)},go.prototype.Continue=go.prototype.Continue=function(){return Vf(this.ptr)},go.prototype.GetUncompressedData=go.prototype.GetUncompressedData=function(){return gn(lu(this.ptr),Rn)},go.prototype.ReleaseUncompressedData=go.prototype.ReleaseUncompressedData=function(){return gn(sm(this.ptr),Rn)},go.prototype.GetUncompressedSize=go.prototype.GetUncompressedSize=function(){return am(this.ptr)},go.prototype.GetError=go.prototype.GetError=function(){return de(eo(this.ptr))},go.prototype.__destroy__=go.prototype.__destroy__=function(){dt(this.ptr)},(_o.prototype=Object.create(Hn.prototype)).constructor=_o,_o.prototype.__class__=_o,_o.__cache__={},u.ZipfileWalker=_o,_o.prototype.GetState=_o.prototype.GetState=function(){return Lr(this.ptr)},_o.prototype.Next=_o.prototype.Next=function(){return ds(this.ptr)},_o.prototype.GetTotalEntries=_o.prototype.GetTotalEntries=function(){return ti(this.ptr)},_o.prototype.GetCurrentEntrySize=_o.prototype.GetCurrentEntrySize=function(){return fs(this.ptr)},_o.prototype.GetCurrentEntryName=_o.prototype.GetCurrentEntryName=function(){return de(Vl(this.ptr))},_o.prototype.GetCurrentEntryContent=_o.prototype.GetCurrentEntryContent=function(){return gn(wr(this.ptr),Rn)},_o.prototype.__destroy__=_o.prototype.__destroy__=function(){fi(this.ptr)},S.ready});ve.exports=Ee},3097:ve=>{var C,Ee=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Y,K,u=S;u.ready=new Promise((_,H)=>{Y=_,K=H});var be,z=Object.assign({},u),x="./this.program",T=(_,H)=>{throw H},Q="object"==typeof window,$="function"==typeof importScripts,O=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Q||$)&&($?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),C&&(O=C),O=0!==O.indexOf("blob:")?O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$&&(be=_=>{var H=new XMLHttpRequest;return H.open("GET",_,!1),H.responseType="arraybuffer",H.send(null),new Uint8Array(H.response)}));var k,se=u.print||console.log.bind(console),Z=u.printErr||console.error.bind(console);Object.assign(u,z),z=null,u.thisProgram&&(x=u.thisProgram),u.quit&&(T=u.quit),u.wasmBinary&&(k=u.wasmBinary),"object"!=typeof WebAssembly&&ot("no native wasm support detected");var te,ae,ke,F,I,X,ge,le=!1;function Me(_,H){_||ot(H)}function Be(){var _=te.buffer;u.HEAP8=ke=new Int8Array(_),u.HEAP16=new Int16Array(_),u.HEAPU8=F=new Uint8Array(_),u.HEAPU16=new Uint16Array(_),u.HEAP32=I=new Int32Array(_),u.HEAPU32=X=new Uint32Array(_),u.HEAPF32=new Float32Array(_),u.HEAPF64=ge=new Float64Array(_)}function Tt(){if(!le){var _=Qo();0==_&&(_+=4);var H=X[_>>2],M=X[_+4>>2];(34821223!=H||2310721022!=M)&&ot(`Stack overflow! Stack cookie has been overwritten at ${de(_)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${de(M)} ${de(H)}`),1668509029!=X[0]&&ot("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Fe=[],We=[],Re=[],Ge=[],At=0,Ie=null,_e=null;function ot(_){u.onAbort&&u.onAbort(_),Z(_="Aborted("+_+")"),le=!0,ae=1,_+=". Build with -sASSERTIONS for more info.";var H=new WebAssembly.RuntimeError(_);throw K(H),H}var On,rn=_=>_.startsWith("data:application/octet-stream;base64,"),$t=0;function on(_){return function(){if(le)throw"program has already aborted!";$t+=1;try{return _.apply(null,arguments)}catch(H){if(le||$t>1||H===1/0||"unwind"===H)throw H;ot("unhandled exception: "+[H,H.stack])}finally{$t-=1}}}function qo(_){if(_==On&&k)return new Uint8Array(k);if(be)return be(_);throw"both async and sync fetching of the wasm failed"}function vo(_,H,M){return function Vr(_){return k||!Q&&!$||"function"!=typeof fetch?Promise.resolve().then(()=>qo(_)):fetch(_,{credentials:"same-origin"}).then(H=>{if(!H.ok)throw"failed to load wasm binary file at '"+_+"'";return H.arrayBuffer()}).catch(()=>qo(_))}(_).then(Oe=>WebAssembly.instantiate(Oe,H)).then(Oe=>Oe).then(M,Oe=>{Z(`failed to asynchronously prepare wasm: ${Oe}`),ot(Oe)})}rn(On="fstools_web.wasm")||(On=function A(_){return u.locateFile?u.locateFile(_,O):O+_}(On));var Xn,To={45550:()=>{throw new Error("terminated")}};function lo(_){this.name="ExitStatus",this.message=`Program terminated with exit(${_})`,this.status=_}var we,yo=_=>{for(;_.length>0;)_.shift()(u)},jr=u.noExitRuntime||!0,de=_=>"0x"+(_>>>=0).toString(16).padStart(8,"0"),Xt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ht=(_,H,M)=>{for(var Oe=H+M,tt=H;_[tt]&&!(tt>=Oe);)++tt;if(tt-H>16&&_.buffer&&Xt)return Xt.decode(_.subarray(H,tt));for(var tn="";H<tt;){var Yt=_[H++];if(128&Yt){var an=63&_[H++];if(192!=(224&Yt)){var er=63&_[H++];if((Yt=224==(240&Yt)?(15&Yt)<<12|an<<6|er:(7&Yt)<<18|an<<12|er<<6|63&_[H++])<65536)tn+=String.fromCharCode(Yt);else{var Lt=Yt-65536;tn+=String.fromCharCode(55296|Lt>>10,56320|1023&Lt)}}else tn+=String.fromCharCode((31&Yt)<<6|an)}else tn+=String.fromCharCode(Yt)}return tn},vn=(_,H)=>_?Ht(F,_,H):"",Dr={varargs:void 0,get(){var _=I[+Dr.varargs>>2];return Dr.varargs+=4,_},getp:()=>Dr.get(),getStr:_=>vn(_)},Wn=(_,H)=>H+2097152>>>0<4194305-!!_?(_>>>0)+4294967296*H:NaN,co=_=>_%4==0&&(_%100!=0||_%400==0),uo=[0,31,60,91,121,152,182,213,244,274,305,335],Pi=[0,31,59,90,120,151,181,212,243,273,304,334],$o=_=>(co(_.getFullYear())?uo:Pi)[_.getMonth()]+_.getDate()-1,In=_=>{for(var H=0,M=0;M<_.length;++M){var Oe=_.charCodeAt(M);Oe<=127?H++:Oe<=2047?H+=2:Oe>=55296&&Oe<=57343?(H+=4,++M):H+=3}return H},$n=(_,H,M,Oe)=>{if(!(Oe>0))return 0;for(var tt=M,tn=M+Oe-1,Yt=0;Yt<_.length;++Yt){var an=_.charCodeAt(Yt);if(an>=55296&&an<=57343&&(an=65536+((1023&an)<<10)|1023&_.charCodeAt(++Yt)),an<=127){if(M>=tn)break;H[M++]=an}else if(an<=2047){if(M+1>=tn)break;H[M++]=192|an>>6,H[M++]=128|63&an}else if(an<=65535){if(M+2>=tn)break;H[M++]=224|an>>12,H[M++]=128|an>>6&63,H[M++]=128|63&an}else{if(M+3>=tn)break;H[M++]=240|an>>18,H[M++]=128|an>>12&63,H[M++]=128|an>>6&63,H[M++]=128|63&an}}return H[M]=0,M-tt},sn=_=>{var H=In(_)+1,M=Qe(H);return M&&((_,H,M)=>{$n(_,F,H,M)})(_,M,H),M},ui=[],Di=_=>{var M=(_-te.buffer.byteLength+65535)/65536;try{return te.grow(M),Be(),1}catch{}},Ii={},di=()=>{if(!di.strings){var H={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(var M in Ii)void 0===Ii[M]?delete H[M]:H[M]=Ii[M];var Oe=[];for(var M in H)Oe.push(`${M}=${H[M]}`);di.strings=Oe}return di.strings},Mo=(_,H)=>{ae=_,(_=>{ae=_,jr||(u.onExit&&u.onExit(_),le=!0),T(_,new lo(_))})(_)},ha=[null,[],[]],Es=(_,H)=>{var M=ha[_];0===H||10===H?((1===_?se:Z)(Ht(M,0)),M.length=0):M.push(H)},Is=[31,29,31,30,31,30,31,31,30,31,30,31],xs=[31,28,31,30,31,30,31,31,30,31,30,31];function rs(_,H,M){var Oe=M>0?M:In(_)+1,tt=new Array(Oe),tn=$n(_,tt,0,tt.length);return H&&(tt.length=tn),tt}var Da,w={b:(_,H,M,Oe)=>{ot(`Assertion failed: ${vn(_)}, at: `+[H?vn(H):"unknown filename",M,Oe?vn(Oe):"unknown function"])},n:function Yr(_,H,M){Wn(H,M)},i:function bo(_,H,M,Oe){Dr.varargs=Oe},j:function Dn(_,H,M){var Oe=Wn(_,H),tt=new Date(1e3*Oe);I[M>>2]=tt.getUTCSeconds(),I[M+4>>2]=tt.getUTCMinutes(),I[M+8>>2]=tt.getUTCHours(),I[M+12>>2]=tt.getUTCDate(),I[M+16>>2]=tt.getUTCMonth(),I[M+20>>2]=tt.getUTCFullYear()-1900,I[M+24>>2]=tt.getUTCDay();var tn=Date.UTC(tt.getUTCFullYear(),0,1,0,0,0,0),Yt=(tt.getTime()-tn)/864e5|0;I[M+28>>2]=Yt},k:function Fn(_,H,M){var Oe=Wn(_,H),tt=new Date(1e3*Oe);I[M>>2]=tt.getSeconds(),I[M+4>>2]=tt.getMinutes(),I[M+8>>2]=tt.getHours(),I[M+12>>2]=tt.getDate(),I[M+16>>2]=tt.getMonth(),I[M+20>>2]=tt.getFullYear()-1900,I[M+24>>2]=tt.getDay();var tn=0|$o(tt);I[M+28>>2]=tn,I[M+36>>2]=-60*tt.getTimezoneOffset();var Yt=new Date(tt.getFullYear(),0,1),an=new Date(tt.getFullYear(),6,1).getTimezoneOffset(),er=Yt.getTimezoneOffset(),Lt=0|(an!=er&&tt.getTimezoneOffset()==Math.min(er,an));I[M+32>>2]=Lt},l:function(_){var H=(()=>{var M=new Date(I[_+20>>2]+1900,I[_+16>>2],I[_+12>>2],I[_+8>>2],I[_+4>>2],I[_>>2],0),Oe=I[_+32>>2],tt=M.getTimezoneOffset(),tn=new Date(M.getFullYear(),0,1),Yt=new Date(M.getFullYear(),6,1).getTimezoneOffset(),an=tn.getTimezoneOffset(),er=Math.min(an,Yt);if(Oe<0)I[_+32>>2]=+(Yt!=an&&er==tt);else if(Oe>0!=(er==tt)){var Lt=Math.max(an,Yt),or=Oe>0?er:Lt;M.setTime(M.getTime()+6e4*(or-tt))}I[_+24>>2]=M.getDay();var fr=0|$o(M);I[_+28>>2]=fr,I[_>>2]=M.getSeconds(),I[_+4>>2]=M.getMinutes(),I[_+8>>2]=M.getHours(),I[_+12>>2]=M.getDate(),I[_+16>>2]=M.getMonth(),I[_+20>>2]=M.getYear();var bn=M.getTime();return isNaN(bn)?(I[Ae()>>2]=61,-1):bn/1e3})();return as((Xn=H,+Math.abs(Xn)>=1?Xn>0?+Math.floor(Xn/4294967296)>>>0:~~+Math.ceil((Xn-+(~~Xn>>>0))/4294967296)>>>0:0)),H>>>0},q:(_,H,M)=>{var Oe=(new Date).getFullYear(),tt=new Date(Oe,0,1),tn=new Date(Oe,6,1),Yt=tt.getTimezoneOffset(),an=tn.getTimezoneOffset(),er=Math.max(Yt,an);function Lt(Nt){var Vn=Nt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Vn?Vn[1]:"GMT"}X[_>>2]=60*er,I[H>>2]=+(Yt!=an);var or=Lt(tt),fr=Lt(tn),bn=sn(or),Mt=sn(fr);an<Yt?(X[M>>2]=bn,X[M+4>>2]=Mt):(X[M>>2]=Mt,X[M+4>>2]=bn)},c:()=>{ot("")},a:(_,H,M)=>((_,H,M)=>{var Oe=((_,H)=>{ui.length=0;for(var M;M=F[_++];){var Oe=105!=M;H+=(Oe&=112!=M)&&H%8?4:0,ui.push(112==M?X[H>>2]:105==M?I[H>>2]:ge[H>>3]),H+=Oe?8:4}return ui})(H,M);return To[_].apply(null,Oe)})(_,H,M),e:()=>Date.now(),g:(_,H,M)=>F.copyWithin(_,H,H+M),p:_=>{var er,H=F.length,M=2147483648;if((_>>>=0)>M)return!1;for(var tt=1;tt<=4;tt*=2){var tn=H*(1+.2/tt);tn=Math.min(tn,_+100663296);var Yt=Math.min(M,(er=Math.max(_,tn))+(65536-er%65536)%65536);if(Di(Yt))return!0}return!1},r:(_,H)=>{var M=0;return di().forEach((Oe,tt)=>{var tn=H+M;X[_+4*tt>>2]=tn,((_,H)=>{for(var M=0;M<_.length;++M)ke[H++>>0]=_.charCodeAt(M);ke[H>>0]=0})(Oe,tn),M+=Oe.length+1}),0},s:(_,H)=>{var M=di();X[_>>2]=M.length;var Oe=0;return M.forEach(tt=>Oe+=tt.length+1),X[H>>2]=Oe,0},t:Mo,f:_=>52,d:(_,H,M,Oe)=>52,m:function Ks(_,H,M,Oe,tt){return Wn(H,M),70},h:(_,H,M,Oe)=>{for(var tt=0,tn=0;tn<M;tn++){var Yt=X[H>>2],an=X[H+4>>2];H+=8;for(var er=0;er<an;er++)Es(_,F[Yt+er]);tt+=an}return X[Oe>>2]=tt,0},o:(_,H,M,Oe,tt)=>((_,H,M,Oe)=>{var tt=X[Oe+40>>2],tn={tm_sec:I[Oe>>2],tm_min:I[Oe+4>>2],tm_hour:I[Oe+8>>2],tm_mday:I[Oe+12>>2],tm_mon:I[Oe+16>>2],tm_year:I[Oe+20>>2],tm_wday:I[Oe+24>>2],tm_yday:I[Oe+28>>2],tm_isdst:I[Oe+32>>2],tm_gmtoff:I[Oe+36>>2],tm_zone:tt?vn(tt):""},Yt=vn(M),an={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var er in an)Yt=Yt.replace(new RegExp(er,"g"),an[er]);var Lt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],or=["January","February","March","April","May","June","July","August","September","October","November","December"];function fr(qe,p,D){for(var oe="number"==typeof qe?qe.toString():qe||"";oe.length<p;)oe=D[0]+oe;return oe}function bn(qe,p){return fr(qe,p,"0")}function Mt(qe,p){function D($e){return $e<0?-1:$e>0?1:0}var oe;return 0===(oe=D(qe.getFullYear()-p.getFullYear()))&&0===(oe=D(qe.getMonth()-p.getMonth()))&&(oe=D(qe.getDate()-p.getDate())),oe}function Nt(qe){switch(qe.getDay()){case 0:return new Date(qe.getFullYear()-1,11,29);case 1:return qe;case 2:return new Date(qe.getFullYear(),0,3);case 3:return new Date(qe.getFullYear(),0,2);case 4:return new Date(qe.getFullYear(),0,1);case 5:return new Date(qe.getFullYear()-1,11,31);case 6:return new Date(qe.getFullYear()-1,11,30)}}function Vn(qe){var p=((_,H)=>{for(var M=new Date(_.getTime());H>0;){var Oe=co(M.getFullYear()),tt=M.getMonth(),tn=(Oe?Is:xs)[tt];if(!(H>tn-M.getDate()))return M.setDate(M.getDate()+H),M;H-=tn-M.getDate()+1,M.setDate(1),tt<11?M.setMonth(tt+1):(M.setMonth(0),M.setFullYear(M.getFullYear()+1))}return M})(new Date(qe.tm_year+1900,0,1),qe.tm_yday),D=new Date(p.getFullYear(),0,4),oe=new Date(p.getFullYear()+1,0,4),$e=Nt(D),Te=Nt(oe);return Mt($e,p)<=0?Mt(Te,p)<=0?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var Tr={"%a":qe=>Lt[qe.tm_wday].substring(0,3),"%A":qe=>Lt[qe.tm_wday],"%b":qe=>or[qe.tm_mon].substring(0,3),"%B":qe=>or[qe.tm_mon],"%C":qe=>bn((qe.tm_year+1900)/100|0,2),"%d":qe=>bn(qe.tm_mday,2),"%e":qe=>fr(qe.tm_mday,2," "),"%g":qe=>Vn(qe).toString().substring(2),"%G":qe=>Vn(qe),"%H":qe=>bn(qe.tm_hour,2),"%I":qe=>{var p=qe.tm_hour;return 0==p?p=12:p>12&&(p-=12),bn(p,2)},"%j":qe=>bn(qe.tm_mday+((_,H)=>{for(var M=0,Oe=0;Oe<=H;M+=_[Oe++]);return M})(co(qe.tm_year+1900)?Is:xs,qe.tm_mon-1),3),"%m":qe=>bn(qe.tm_mon+1,2),"%M":qe=>bn(qe.tm_min,2),"%n":()=>"\n","%p":qe=>qe.tm_hour>=0&&qe.tm_hour<12?"AM":"PM","%S":qe=>bn(qe.tm_sec,2),"%t":()=>"\t","%u":qe=>qe.tm_wday||7,"%U":qe=>bn(Math.floor((qe.tm_yday+7-qe.tm_wday)/7),2),"%V":qe=>{var p=Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7);if((qe.tm_wday+371-qe.tm_yday-2)%7<=2&&p++,p){if(53==p){var oe=(qe.tm_wday+371-qe.tm_yday)%7;4!=oe&&(3!=oe||!co(qe.tm_year))&&(p=1)}}else{p=52;var D=(qe.tm_wday+7-qe.tm_yday-1)%7;(4==D||5==D&&co(qe.tm_year%400-1))&&p++}return bn(p,2)},"%w":qe=>qe.tm_wday,"%W":qe=>bn(Math.floor((qe.tm_yday+7-(qe.tm_wday+6)%7)/7),2),"%y":qe=>(qe.tm_year+1900).toString().substring(2),"%Y":qe=>qe.tm_year+1900,"%z":qe=>{var p=qe.tm_gmtoff;return(p>=0?"+":"-")+("0000"+(p=(p=Math.abs(p)/60)/60*100+p%60)).slice(-4)},"%Z":qe=>qe.tm_zone,"%%":()=>"%"};for(var er in Yt=Yt.replace(/%%/g,"\0\0"),Tr)Yt.includes(er)&&(Yt=Yt.replace(new RegExp(er,"g"),Tr[er](tn)));var hn=rs(Yt=Yt.replace(/\0\0/g,"%"),!1);return hn.length>H?0:(((_,H)=>{ke.set(_,H)})(hn,_),hn.length-1)})(_,H,M,Oe)},E=function Or(){var _={a:w};function H(Oe,tt){return E=function Cn(_){var H={};for(var M in _){var Oe=_[M];H[M]="function"==typeof Oe?on(Oe):Oe}return H}(E=Oe.exports),te=E.u,Be(),we=E.za,function Ft(_){We.unshift(_)}(E.v),function gr(){var _=we.get,H={};we.get=M=>{var Oe=_.call(we,M),tt=H[M];return(!tt||tt.func!==Oe)&&(tt=H[M]={func:Oe,wrapper:on(Oe)}),tt.wrapper}}(),function Je(_){if(At--,u.monitorRunDependencies&&u.monitorRunDependencies(At),0==At&&(null!==Ie&&(clearInterval(Ie),Ie=null),_e)){var H=_e;_e=null,H()}}(),E}if(function xe(_){At++,u.monitorRunDependencies&&u.monitorRunDependencies(At)}(),u.instantiateWasm)try{return u.instantiateWasm(_,H)}catch(Oe){Z(`Module.instantiateWasm callback failed with error: ${Oe}`),K(Oe)}return function Pr(_,H,M,Oe){return _||"function"!=typeof WebAssembly.instantiateStreaming||rn(H)||"function"!=typeof fetch?vo(H,M,Oe):fetch(H,{credentials:"same-origin"}).then(tt=>WebAssembly.instantiateStreaming(tt,M).then(Oe,function(Yt){return Z(`wasm streaming compile failed: ${Yt}`),Z("falling back to ArrayBuffer instantiation"),vo(H,M,Oe)}))}(k,On,_,function M(Oe){H(Oe.instance)}).catch(K),{}}(),Ae=()=>(Ae=E.w)(),Qe=(u._free=_=>(u._free=E.x)(_),u._malloc=_=>(Qe=u._malloc=E.y)(_)),Ve=(u._webidl_free=_=>(u._webidl_free=E.z)(_),u._webidl_malloc=_=>(u._webidl_malloc=E.A)(_),u._emscripten_bind_VoidPtr___destroy___0=_=>(Ve=u._emscripten_bind_VoidPtr___destroy___0=E.B)(_)),ft=u._emscripten_bind_FSTools_FSTools_0=()=>(ft=u._emscripten_bind_FSTools_FSTools_0=E.C)(),Et=u._emscripten_bind_FSTools_Malloc_1=(_,H)=>(Et=u._emscripten_bind_FSTools_Malloc_1=E.D)(_,H),B=u._emscripten_bind_FSTools_Free_1=(_,H)=>(B=u._emscripten_bind_FSTools_Free_1=E.E)(_,H),An=u._emscripten_bind_FSTools_Nullptr_0=_=>(An=u._emscripten_bind_FSTools_Nullptr_0=E.F)(_),ur=u._emscripten_bind_FSTools___destroy___0=_=>(ur=u._emscripten_bind_FSTools___destroy___0=E.G)(_),Fr=u._emscripten_bind_MkfsContext_MkfsContext_0=()=>(Fr=u._emscripten_bind_MkfsContext_MkfsContext_0=E.H)(),Gr=u._emscripten_bind_MkfsContext_Mkfs_2=(_,H,M)=>(Gr=u._emscripten_bind_MkfsContext_Mkfs_2=E.I)(_,H,M),Qn=u._emscripten_bind_MkfsContext_GetImage_0=_=>(Qn=u._emscripten_bind_MkfsContext_GetImage_0=E.J)(_),Ms=u._emscripten_bind_MkfsContext_GetImageSize_0=_=>(Ms=u._emscripten_bind_MkfsContext_GetImageSize_0=E.K)(_),jn=u._emscripten_bind_MkfsContext___destroy___0=_=>(jn=u._emscripten_bind_MkfsContext___destroy___0=E.L)(_),Bo=u._emscripten_bind_FsckContext_FsckContext_1=_=>(Bo=u._emscripten_bind_FsckContext_FsckContext_1=E.M)(_),Ao=u._emscripten_bind_FsckContext_GetImage_0=_=>(Ao=u._emscripten_bind_FsckContext_GetImage_0=E.N)(_),is=u._emscripten_bind_FsckContext_GetDirtyPages_0=_=>(is=u._emscripten_bind_FsckContext_GetDirtyPages_0=E.O)(_),Ha=u._emscripten_bind_FsckContext_GetImageSize_0=_=>(Ha=u._emscripten_bind_FsckContext_GetImageSize_0=E.P)(_),ga=u._emscripten_bind_FsckContext_Fsck_0=_=>(ga=u._emscripten_bind_FsckContext_Fsck_0=E.Q)(_),Xs=u._emscripten_bind_FsckContext_GetResult_0=_=>(Xs=u._emscripten_bind_FsckContext_GetResult_0=E.R)(_),_a=u._emscripten_bind_FsckContext___destroy___0=_=>(_a=u._emscripten_bind_FsckContext___destroy___0=E.S)(_),ss=u._emscripten_bind_GunzipContext_GunzipContext_3=(_,H,M)=>(ss=u._emscripten_bind_GunzipContext_GunzipContext_3=E.T)(_,H,M),za=u._emscripten_bind_GunzipContext_GetState_0=_=>(za=u._emscripten_bind_GunzipContext_GetState_0=E.U)(_),va=u._emscripten_bind_GunzipContext_Continue_0=_=>(va=u._emscripten_bind_GunzipContext_Continue_0=E.V)(_),ya=u._emscripten_bind_GunzipContext_GetUncompressedData_0=_=>(ya=u._emscripten_bind_GunzipContext_GetUncompressedData_0=E.W)(_),Wa=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=_=>(Wa=u._emscripten_bind_GunzipContext_ReleaseUncompressedData_0=E.X)(_),Za=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=_=>(Za=u._emscripten_bind_GunzipContext_GetUncompressedSize_0=E.Y)(_),qa=u._emscripten_bind_GunzipContext_GetError_0=_=>(qa=u._emscripten_bind_GunzipContext_GetError_0=E.Z)(_),Ya=u._emscripten_bind_GunzipContext___destroy___0=_=>(Ya=u._emscripten_bind_GunzipContext___destroy___0=E._)(_),ba=u._emscripten_bind_GzipContext_GzipContext_3=(_,H,M)=>(ba=u._emscripten_bind_GzipContext_GzipContext_3=E.$)(_,H,M),Ka=u._emscripten_bind_GzipContext_SetFilename_1=(_,H)=>(Ka=u._emscripten_bind_GzipContext_SetFilename_1=E.aa)(_,H),Xa=u._emscripten_bind_GzipContext_SetMtime_1=(_,H)=>(Xa=u._emscripten_bind_GzipContext_SetMtime_1=E.ba)(_,H),br=u._emscripten_bind_GzipContext_Continue_0=_=>(br=u._emscripten_bind_GzipContext_Continue_0=E.ca)(_),Ca=u._emscripten_bind_GzipContext_GetState_0=_=>(Ca=u._emscripten_bind_GzipContext_GetState_0=E.da)(_),fo=u._emscripten_bind_GzipContext_GetGzipData_0=_=>(fo=u._emscripten_bind_GzipContext_GetGzipData_0=E.ea)(_),Bt=u._emscripten_bind_GzipContext_GetGzipSize_0=_=>(Bt=u._emscripten_bind_GzipContext_GetGzipSize_0=E.fa)(_),Sa=u._emscripten_bind_GzipContext_GetError_0=_=>(Sa=u._emscripten_bind_GzipContext_GetError_0=E.ga)(_),Qs=u._emscripten_bind_GzipContext___destroy___0=_=>(Qs=u._emscripten_bind_GzipContext___destroy___0=E.ha)(_),Qr=u._emscripten_bind_CreateZipContext_CreateZipContext_0=()=>(Qr=u._emscripten_bind_CreateZipContext_CreateZipContext_0=E.ia)(),Js=u._emscripten_bind_CreateZipContext_Initialize_1=(_,H)=>(Js=u._emscripten_bind_CreateZipContext_Initialize_1=E.ja)(_,H),Qa=u._emscripten_bind_CreateZipContext_AddEntry_1=(_,H)=>(Qa=u._emscripten_bind_CreateZipContext_AddEntry_1=E.ka)(_,H),Gn=u._emscripten_bind_CreateZipContext_WriteData_2=(_,H,M)=>(Gn=u._emscripten_bind_CreateZipContext_WriteData_2=E.la)(_,H,M),As=u._emscripten_bind_CreateZipContext_GetZipData_0=_=>(As=u._emscripten_bind_CreateZipContext_GetZipData_0=E.ma)(_),Cr=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=_=>(Cr=u._emscripten_bind_CreateZipContext_GetZipDataSize_0=E.na)(_),ea=u._emscripten_bind_CreateZipContext_GetLastError_0=_=>(ea=u._emscripten_bind_CreateZipContext_GetLastError_0=E.oa)(_),Rl=u._emscripten_bind_CreateZipContext___destroy___0=_=>(Rl=u._emscripten_bind_CreateZipContext___destroy___0=E.pa)(_),Ja=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=(_,H)=>(Ja=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=E.qa)(_,H),Un=u._emscripten_bind_ZipfileWalker_GetState_0=_=>(Un=u._emscripten_bind_ZipfileWalker_GetState_0=E.ra)(_),Vt=u._emscripten_bind_ZipfileWalker_Next_0=_=>(Vt=u._emscripten_bind_ZipfileWalker_Next_0=E.sa)(_),ks=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=_=>(ks=u._emscripten_bind_ZipfileWalker_GetTotalEntries_0=E.ta)(_),ta=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=_=>(ta=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=E.ua)(_),Pl=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=_=>(Pl=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=E.va)(_),wa=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=_=>(wa=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=E.wa)(_),Xe=u._emscripten_bind_ZipfileWalker___destroy___0=_=>(Xe=u._emscripten_bind_ZipfileWalker___destroy___0=E.xa)(_),Li=u._main=(_,H)=>(Li=u._main=E.ya)(_,H),as=_=>(as=E.Aa)(_),na=()=>(na=E.Ba)(),Qo=()=>(Qo=E.Ca)(),ls=()=>(ls=E.Da)();function Nl(){function _(){Da||(Da=!0,u.calledRun=!0,!le&&(function pe(){Tt(),yo(We)}(),function He(){Tt(),yo(Re)}(),Y(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),nl&&function Ol(){var _=Li;try{$t+=1;var Oe=_(0,0);return Mo(Oe),Oe}catch(tt){return(_=>{if(_ instanceof lo||"unwind"==_)return ae;Tt(),_ instanceof WebAssembly.RuntimeError&&ls()<=0&&Z("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),T(1,_)})(tt)}finally{$t-=1}}(),function at(){if(Tt(),u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)_=u.postRun.shift(),Ge.unshift(_);var _;yo(Ge)}()))}At>0||(function Fl(){na(),function ht(){var _=Qo();0==_&&(_+=4),X[_>>2]=34821223,X[_+4>>2]=2310721022,X[0]=1668509029}()}(),function Pt(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)_=u.preRun.shift(),Fe.unshift(_);var _;yo(Fe)}(),At>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),_()},1)):_(),Tt())}if(u.___original_main=()=>(u.___original_main=E.Ea)(),_e=function _(){Da||Nl(),Da||(_e=_)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var nl=!0;function Ir(){}function dr(_){return(_||Ir).__cache__}function So(_,H){var M=dr(H),Oe=M[_];return Oe||((Oe=Object.create((H||Ir).prototype)).ptr=_,M[_]=Oe)}u.noInitialRun&&(nl=!1),Nl(),(Ir.prototype=Object.create(Ir.prototype)).constructor=Ir,Ir.prototype.__class__=Ir,Ir.__cache__={},u.WrapperObject=Ir,u.getCache=dr,u.wrapPointer=So,u.castObject=function Ll(_,H){return So(_.ptr,H)},u.NULL=So(0),u.destroy=function pc(_){if(!_.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";_.__destroy__(),delete dr(_.__class__)[_.ptr]},u.compare=function xi(_,H){return _.ptr===H.ptr},u.getPointer=function hc(_){return _.ptr},u.getClass=function iu(_){return _.__class__};var Jn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Jn.needed){for(var _=0;_<Jn.temps.length;_++)u._webidl_free(Jn.temps[_]);Jn.temps.length=0,u._webidl_free(Jn.buffer),Jn.buffer=0,Jn.size+=Jn.needed,Jn.needed=0}Jn.buffer||(Jn.size+=128,Jn.buffer=u._webidl_malloc(Jn.size),Me(Jn.buffer)),Jn.pos=0},alloc(_,H){Me(Jn.buffer);var tt,Oe=_.length*H.BYTES_PER_ELEMENT;return Jn.pos+(Oe=Oe+7&-8)>=Jn.size?(Me(Oe>0),Jn.needed+=Oe,tt=u._webidl_malloc(Oe),Jn.temps.push(tt)):(tt=Jn.buffer+Jn.pos,Jn.pos+=Oe),tt},copy(_,H,M){switch(M>>>=0,H.BYTES_PER_ELEMENT){case 2:M>>>=1;break;case 4:M>>>=2;break;case 8:M>>>=3}for(var tt=0;tt<_.length;tt++)H[M+tt]=_[tt]}};function Ia(_){if("string"==typeof _){var H=rs(_),M=Jn.alloc(H,ke);return Jn.copy(H,ke,M),M}return _}function Nr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function wo(){this.ptr=ft(),dr(wo)[this.ptr]=this}function po(){this.ptr=Fr(),dr(po)[this.ptr]=this}function Ur(_){_&&"object"==typeof _&&(_=_.ptr),this.ptr=Bo(_),dr(Ur)[this.ptr]=this}function yn(_,H,M){_&&"object"==typeof _&&(_=_.ptr),H&&"object"==typeof H&&(H=H.ptr),M&&"object"==typeof M&&(M=M.ptr),this.ptr=ss(_,H,M),dr(yn)[this.ptr]=this}function yt(_,H,M){_&&"object"==typeof _&&(_=_.ptr),H&&"object"==typeof H&&(H=H.ptr),M&&"object"==typeof M&&(M=M.ptr),this.ptr=ba(_,H,M),dr(yt)[this.ptr]=this}function xr(){this.ptr=Qr(),dr(xr)[this.ptr]=this}function Sr(_,H){_&&"object"==typeof _&&(_=_.ptr),H&&"object"==typeof H&&(H=H.ptr),this.ptr=Ja(_,H),dr(Sr)[this.ptr]=this}return(Nr.prototype=Object.create(Ir.prototype)).constructor=Nr,Nr.prototype.__class__=Nr,Nr.__cache__={},u.VoidPtr=Nr,Nr.prototype.__destroy__=Nr.prototype.__destroy__=function(){Ve(this.ptr)},(wo.prototype=Object.create(Ir.prototype)).constructor=wo,wo.prototype.__class__=wo,wo.__cache__={},u.FSTools=wo,wo.prototype.Malloc=wo.prototype.Malloc=function(_){return _&&"object"==typeof _&&(_=_.ptr),So(Et(this.ptr,_),Nr)},wo.prototype.Free=wo.prototype.Free=function(_){_&&"object"==typeof _&&(_=_.ptr),B(this.ptr,_)},wo.prototype.Nullptr=wo.prototype.Nullptr=function(){return So(An(this.ptr),Nr)},wo.prototype.__destroy__=wo.prototype.__destroy__=function(){ur(this.ptr)},(po.prototype=Object.create(Ir.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},u.MkfsContext=po,po.prototype.Mkfs=po.prototype.Mkfs=function(_,H){var M=this.ptr;return Jn.prepare(),_&&"object"==typeof _&&(_=_.ptr),H=H&&"object"==typeof H?H.ptr:Ia(H),!!Gr(M,_,H)},po.prototype.GetImage=po.prototype.GetImage=function(){return So(Qn(this.ptr),Nr)},po.prototype.GetImageSize=po.prototype.GetImageSize=function(){return Ms(this.ptr)},po.prototype.__destroy__=po.prototype.__destroy__=function(){jn(this.ptr)},(Ur.prototype=Object.create(Ir.prototype)).constructor=Ur,Ur.prototype.__class__=Ur,Ur.__cache__={},u.FsckContext=Ur,Ur.prototype.GetImage=Ur.prototype.GetImage=function(){return So(Ao(this.ptr),Nr)},Ur.prototype.GetDirtyPages=Ur.prototype.GetDirtyPages=function(){return So(is(this.ptr),Nr)},Ur.prototype.GetImageSize=Ur.prototype.GetImageSize=function(){return Ha(this.ptr)},Ur.prototype.Fsck=Ur.prototype.Fsck=function(){return ga(this.ptr)},Ur.prototype.GetResult=Ur.prototype.GetResult=function(){return Xs(this.ptr)},Ur.prototype.__destroy__=Ur.prototype.__destroy__=function(){_a(this.ptr)},(yn.prototype=Object.create(Ir.prototype)).constructor=yn,yn.prototype.__class__=yn,yn.__cache__={},u.GunzipContext=yn,yn.prototype.GetState=yn.prototype.GetState=function(){return za(this.ptr)},yn.prototype.Continue=yn.prototype.Continue=function(){return va(this.ptr)},yn.prototype.GetUncompressedData=yn.prototype.GetUncompressedData=function(){return So(ya(this.ptr),Nr)},yn.prototype.ReleaseUncompressedData=yn.prototype.ReleaseUncompressedData=function(){return So(Wa(this.ptr),Nr)},yn.prototype.GetUncompressedSize=yn.prototype.GetUncompressedSize=function(){return Za(this.ptr)},yn.prototype.GetError=yn.prototype.GetError=function(){return vn(qa(this.ptr))},yn.prototype.__destroy__=yn.prototype.__destroy__=function(){Ya(this.ptr)},(yt.prototype=Object.create(Ir.prototype)).constructor=yt,yt.prototype.__class__=yt,yt.__cache__={},u.GzipContext=yt,yt.prototype.SetFilename=yt.prototype.SetFilename=function(_){var H=this.ptr;return Jn.prepare(),_=_&&"object"==typeof _?_.ptr:Ia(_),So(Ka(H,_),yt)},yt.prototype.SetMtime=yt.prototype.SetMtime=function(_){return _&&"object"==typeof _&&(_=_.ptr),So(Xa(this.ptr,_),yt)},yt.prototype.Continue=yt.prototype.Continue=function(){return br(this.ptr)},yt.prototype.GetState=yt.prototype.GetState=function(){return Ca(this.ptr)},yt.prototype.GetGzipData=yt.prototype.GetGzipData=function(){return So(fo(this.ptr),Nr)},yt.prototype.GetGzipSize=yt.prototype.GetGzipSize=function(){return Bt(this.ptr)},yt.prototype.GetError=yt.prototype.GetError=function(){return vn(Sa(this.ptr))},yt.prototype.__destroy__=yt.prototype.__destroy__=function(){Qs(this.ptr)},(xr.prototype=Object.create(Ir.prototype)).constructor=xr,xr.prototype.__class__=xr,xr.__cache__={},u.CreateZipContext=xr,xr.prototype.Initialize=xr.prototype.Initialize=function(_){return _&&"object"==typeof _&&(_=_.ptr),!!Js(this.ptr,_)},xr.prototype.AddEntry=xr.prototype.AddEntry=function(_){var H=this.ptr;return Jn.prepare(),_=_&&"object"==typeof _?_.ptr:Ia(_),!!Qa(H,_)},xr.prototype.WriteData=xr.prototype.WriteData=function(_,H){return _&&"object"==typeof _&&(_=_.ptr),H&&"object"==typeof H&&(H=H.ptr),!!Gn(this.ptr,_,H)},xr.prototype.GetZipData=xr.prototype.GetZipData=function(){return So(As(this.ptr),Nr)},xr.prototype.GetZipDataSize=xr.prototype.GetZipDataSize=function(){return Cr(this.ptr)},xr.prototype.GetLastError=xr.prototype.GetLastError=function(){return vn(ea(this.ptr))},xr.prototype.__destroy__=xr.prototype.__destroy__=function(){Rl(this.ptr)},(Sr.prototype=Object.create(Ir.prototype)).constructor=Sr,Sr.prototype.__class__=Sr,Sr.__cache__={},u.ZipfileWalker=Sr,Sr.prototype.GetState=Sr.prototype.GetState=function(){return Un(this.ptr)},Sr.prototype.Next=Sr.prototype.Next=function(){return Vt(this.ptr)},Sr.prototype.GetTotalEntries=Sr.prototype.GetTotalEntries=function(){return ks(this.ptr)},Sr.prototype.GetCurrentEntrySize=Sr.prototype.GetCurrentEntrySize=function(){return ta(this.ptr)},Sr.prototype.GetCurrentEntryName=Sr.prototype.GetCurrentEntryName=function(){return vn(Pl(this.ptr))},Sr.prototype.GetCurrentEntryContent=Sr.prototype.GetCurrentEntryContent=function(){return So(wa(this.ptr),Nr)},Sr.prototype.__destroy__=Sr.prototype.__destroy__=function(){Xe(this.ptr)},S.ready});ve.exports=Ee},8886:ve=>{var C,Ee=(C=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(S={}){var Y,K,u=S;u.ready=new Promise((p,D)=>{Y=p,K=D});var be,z=Object.assign({},u),x="./this.program",T=(p,D)=>{throw D},Q="object"==typeof window,$="function"==typeof importScripts,O=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Q||$)&&($?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),C&&(O=C),O=0!==O.indexOf("blob:")?O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1):"",$&&(be=p=>{var D=new XMLHttpRequest;return D.open("GET",p,!1),D.responseType="arraybuffer",D.send(null),new Uint8Array(D.response)}));var k,se=u.print||console.log.bind(console),Z=u.printErr||console.error.bind(console);Object.assign(u,z),z=null,u.thisProgram&&(x=u.thisProgram),u.quit&&(T=u.quit),u.wasmBinary&&(k=u.wasmBinary),"object"!=typeof WebAssembly&&ot("no native wasm support detected");var te,ae,ke,F,I,X,le=!1;function Me(p,D){p||ot(D)}function Be(){var p=te.buffer;u.HEAP8=ke=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAPU8=F=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAP32=I=new Int32Array(p),u.HEAPU32=X=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=new Float64Array(p)}function Tt(){if(!le){var p=Ia();0==p&&(p+=4);var D=X[p>>2],oe=X[p+4>>2];(34821223!=D||2310721022!=oe)&&ot(`Stack overflow! Stack cookie has been overwritten at ${jr(p)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${jr(oe)} ${jr(D)}`),1668509029!=X[0]&&ot("Runtime error: The application has corrupted its heap memory area (address zero)!")}}var Fe=[],We=[],Re=[],Ge=[],At=0,Ie=null,_e=null;function ot(p){u.onAbort&&u.onAbort(p),Z(p="Aborted("+p+")"),le=!0,ae=1,p+=". Build with -sASSERTIONS for more info.";var D=new WebAssembly.RuntimeError(p);throw K(D),D}var On,Xn,rn=p=>p.startsWith("data:application/octet-stream;base64,"),$t=0;function on(p){return function(){if(le)throw"program has already aborted!";$t+=1;try{return p.apply(null,arguments)}catch(D){if(le||$t>1||D===1/0||"unwind"===D)throw D;ot("unhandled exception: "+[D,D.stack])}finally{$t-=1}}}function qo(p){if(p==On&&k)return new Uint8Array(k);if(be)return be(p);throw"both async and sync fetching of the wasm failed"}function vo(p,D,oe){return function Vr(p){return k||!Q&&!$||"function"!=typeof fetch?Promise.resolve().then(()=>qo(p)):fetch(p,{credentials:"same-origin"}).then(D=>{if(!D.ok)throw"failed to load wasm binary file at '"+p+"'";return D.arrayBuffer()}).catch(()=>qo(p))}(p).then($e=>WebAssembly.instantiate($e,D)).then($e=>$e).then(oe,$e=>{Z(`failed to asynchronously prepare wasm: ${$e}`),ot($e)})}function To(p){this.name="ExitStatus",this.message=`Program terminated with exit(${p})`,this.status=p}rn(On="vfs_web.wasm")||(On=function A(p){return u.locateFile?u.locateFile(p,O):O+p}(On));var de,lo=p=>{for(;p.length>0;)p.shift()(u)},yo=u.noExitRuntime||!0,jr=p=>"0x"+(p>>>=0).toString(16).padStart(8,"0"),we=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Xt=(p,D,oe)=>{for(var $e=D+oe,Te=D;p[Te]&&!(Te>=$e);)++Te;if(Te-D>16&&p.buffer&&we)return we.decode(p.subarray(D,Te));for(var Sn="";D<Te;){var Qt=p[D++];if(128&Qt){var mn=63&p[D++];if(192!=(224&Qt)){var tr=63&p[D++];if((Qt=224==(240&Qt)?(15&Qt)<<12|mn<<6|tr:(7&Qt)<<18|mn<<12|tr<<6|63&p[D++])<65536)Sn+=String.fromCharCode(Qt);else{var ko=Qt-65536;Sn+=String.fromCharCode(55296|ko>>10,56320|1023&ko)}}else Sn+=String.fromCharCode((31&Qt)<<6|mn)}else Sn+=String.fromCharCode(Qt)}return Sn},Ht=(p,D)=>p?Xt(F,p,D):"",Dr=(p,D)=>D+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*D:NaN,Dn=p=>p%4==0&&(p%100!=0||p%400==0),co=[0,31,60,91,121,152,182,213,244,274,305,335],uo=[0,31,59,90,120,151,181,212,243,273,304,334],Pi=p=>(Dn(p.getFullYear())?co:uo)[p.getMonth()]+p.getDate()-1,vr=p=>{for(var D=0,oe=0;oe<p.length;++oe){var $e=p.charCodeAt(oe);$e<=127?D++:$e<=2047?D+=2:$e>=55296&&$e<=57343?(D+=4,++oe):D+=3}return D},In=(p,D,oe,$e)=>{if(!($e>0))return 0;for(var Te=oe,Sn=oe+$e-1,Qt=0;Qt<p.length;++Qt){var mn=p.charCodeAt(Qt);if(mn>=55296&&mn<=57343&&(mn=65536+((1023&mn)<<10)|1023&p.charCodeAt(++Qt)),mn<=127){if(oe>=Sn)break;D[oe++]=mn}else if(mn<=2047){if(oe+1>=Sn)break;D[oe++]=192|mn>>6,D[oe++]=128|63&mn}else if(mn<=65535){if(oe+2>=Sn)break;D[oe++]=224|mn>>12,D[oe++]=128|mn>>6&63,D[oe++]=128|63&mn}else{if(oe+3>=Sn)break;D[oe++]=240|mn>>18,D[oe++]=128|mn>>12&63,D[oe++]=128|mn>>6&63,D[oe++]=128|63&mn}}return D[oe]=0,oe-Te},Yo=p=>{var D=vr(p)+1,oe=os(D);return oe&&((p,D,oe)=>{In(p,F,D,oe)})(p,oe,D),oe},Ss=p=>{var oe=(p-te.buffer.byteLength+65535)/65536;try{return te.grow(oe),Be(),1}catch{}},Ko={},Di=()=>{if(!Di.strings){var D={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:x||"./this.program"};for(var oe in Ko)void 0===Ko[oe]?delete D[oe]:D[oe]=Ko[oe];var $e=[];for(var oe in D)$e.push(`${oe}=${D[oe]}`);Di.strings=$e}return Di.strings},Co=[null,[],[]],ws=(p,D)=>{var oe=Co[p];0===D||10===D?((1===p?se:Z)(Xt(oe,0)),oe.length=0):oe.push(D)},Mo=[31,29,31,30,31,30,31,31,30,31,30,31],Xo=[31,28,31,30,31,30,31,31,30,31,30,31];function xn(p,D,oe){var $e=oe>0?oe:vr(p)+1,Te=new Array($e),Sn=In(p,Te,0,Te.length);return D&&(Te.length=Sn),Te}var yn,xs=(p,D)=>{ae=p,(p=>{ae=p,yo||(u.onExit&&u.onExit(p),le=!0),T(p,new To(p))})(p)},rs={a:(p,D,oe,$e)=>{ot(`Assertion failed: ${Ht(p)}, at: `+[D?Ht(D):"unknown filename",oe,$e?Ht($e):"unknown function"])},n:function Wn(p,D,oe){Dr(D,oe)},j:()=>1,k:function $o(p,D,oe){var $e=Dr(p,D),Te=new Date(1e3*$e);I[oe>>2]=Te.getSeconds(),I[oe+4>>2]=Te.getMinutes(),I[oe+8>>2]=Te.getHours(),I[oe+12>>2]=Te.getDate(),I[oe+16>>2]=Te.getMonth(),I[oe+20>>2]=Te.getFullYear()-1900,I[oe+24>>2]=Te.getDay();var Sn=0|Pi(Te);I[oe+28>>2]=Sn,I[oe+36>>2]=-60*Te.getTimezoneOffset();var Qt=new Date(Te.getFullYear(),0,1),mn=new Date(Te.getFullYear(),6,1).getTimezoneOffset(),tr=Qt.getTimezoneOffset(),ko=0|(mn!=tr&&Te.getTimezoneOffset()==Math.min(tr,mn));I[oe+32>>2]=ko},l:function(p){var D=(()=>{var oe=new Date(I[p+20>>2]+1900,I[p+16>>2],I[p+12>>2],I[p+8>>2],I[p+4>>2],I[p>>2],0),$e=I[p+32>>2],Te=oe.getTimezoneOffset(),Sn=new Date(oe.getFullYear(),0,1),Qt=new Date(oe.getFullYear(),6,1).getTimezoneOffset(),mn=Sn.getTimezoneOffset(),tr=Math.min(mn,Qt);if($e<0)I[p+32>>2]=+(Qt!=mn&&tr==Te);else if($e>0!=(tr==Te)){var ko=Math.max(mn,Qt),Rs=$e>0?tr:ko;oe.setTime(oe.getTime()+6e4*(Rs-Te))}I[p+24>>2]=oe.getDay();var rl=0|Pi(oe);I[p+28>>2]=rl,I[p>>2]=oe.getSeconds(),I[p+4>>2]=oe.getMinutes(),I[p+8>>2]=oe.getHours(),I[p+12>>2]=oe.getDate(),I[p+16>>2]=oe.getMonth(),I[p+20>>2]=oe.getYear();var Ro=oe.getTime();return isNaN(Ro)?(I[pc()>>2]=61,-1):Ro/1e3})();return xi((Xn=D,+Math.abs(Xn)>=1?Xn>0?+Math.floor(Xn/4294967296)>>>0:~~+Math.ceil((Xn-+(~~Xn>>>0))/4294967296)>>>0:0)),D>>>0},e:(p,D,oe)=>{var $e=(new Date).getFullYear(),Te=new Date($e,0,1),Sn=new Date($e,6,1),Qt=Te.getTimezoneOffset(),mn=Sn.getTimezoneOffset(),tr=Math.max(Qt,mn);function ko(mc){var Bl=mc.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Bl?Bl[1]:"GMT"}X[p>>2]=60*tr,I[D>>2]=+(Qt!=mn);var Rs=ko(Te),rl=ko(Sn),Ro=Yo(Rs),$l=Yo(rl);mn<Qt?(X[oe>>2]=Ro,X[oe+4>>2]=$l):(X[oe>>2]=$l,X[oe+4>>2]=Ro)},b:()=>{ot("")},c:()=>Date.now(),f:(p,D,oe)=>F.copyWithin(p,D,D+oe),d:p=>{var tr,D=F.length,oe=2147483648;if((p>>>=0)>oe)return!1;for(var Te=1;Te<=4;Te*=2){var Sn=D*(1+.2/Te);Sn=Math.min(Sn,p+100663296);var Qt=Math.min(oe,(tr=Math.max(p,Sn))+(65536-tr%65536)%65536);if(Ss(Qt))return!0}return!1},p:(p,D)=>{var oe=0;return Di().forEach(($e,Te)=>{var Sn=D+oe;X[p+4*Te>>2]=Sn,((p,D)=>{for(var oe=0;oe<p.length;++oe)ke[D++>>0]=p.charCodeAt(oe);ke[D>>0]=0})($e,Sn),oe+=$e.length+1}),0},q:(p,D)=>{var oe=Di();X[p>>2]=oe.length;var $e=0;return oe.forEach(Te=>$e+=Te.length+1),X[D>>2]=$e,0},g:p=>52,i:(p,D,oe,$e)=>52,m:function Ni(p,D,oe,$e,Te){return Dr(D,oe),70},h:(p,D,oe,$e)=>{for(var Te=0,Sn=0;Sn<oe;Sn++){var Qt=X[D>>2],mn=X[D+4>>2];D+=8;for(var tr=0;tr<mn;tr++)ws(p,F[Qt+tr]);Te+=mn}return X[$e>>2]=Te,0},o:(p,D,oe,$e,Te)=>((p,D,oe,$e)=>{var Te=X[$e+40>>2],Sn={tm_sec:I[$e>>2],tm_min:I[$e+4>>2],tm_hour:I[$e+8>>2],tm_mday:I[$e+12>>2],tm_mon:I[$e+16>>2],tm_year:I[$e+20>>2],tm_wday:I[$e+24>>2],tm_yday:I[$e+28>>2],tm_isdst:I[$e+32>>2],tm_gmtoff:I[$e+36>>2],tm_zone:Te?Ht(Te):""},Qt=Ht(oe),mn={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var tr in mn)Qt=Qt.replace(new RegExp(tr,"g"),mn[tr]);var ko=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Rs=["January","February","March","April","May","June","July","August","September","October","November","December"];function rl(lt,ln,yi){for(var Jo="number"==typeof lt?lt.toString():lt||"";Jo.length<ln;)Jo=yi[0]+Jo;return Jo}function Ro(lt,ln){return rl(lt,ln,"0")}function $l(lt,ln){function yi(il){return il<0?-1:il>0?1:0}var Jo;return 0===(Jo=yi(lt.getFullYear()-ln.getFullYear()))&&0===(Jo=yi(lt.getMonth()-ln.getMonth()))&&(Jo=yi(lt.getDate()-ln.getDate())),Jo}function mc(lt){switch(lt.getDay()){case 0:return new Date(lt.getFullYear()-1,11,29);case 1:return lt;case 2:return new Date(lt.getFullYear(),0,3);case 3:return new Date(lt.getFullYear(),0,2);case 4:return new Date(lt.getFullYear(),0,1);case 5:return new Date(lt.getFullYear()-1,11,31);case 6:return new Date(lt.getFullYear()-1,11,30)}}function Bl(lt){var ln=((p,D)=>{for(var oe=new Date(p.getTime());D>0;){var $e=Dn(oe.getFullYear()),Te=oe.getMonth(),Sn=($e?Mo:Xo)[Te];if(!(D>Sn-oe.getDate()))return oe.setDate(oe.getDate()+D),oe;D-=Sn-oe.getDate()+1,oe.setDate(1),Te<11?oe.setMonth(Te+1):(oe.setMonth(0),oe.setFullYear(oe.getFullYear()+1))}return oe})(new Date(lt.tm_year+1900,0,1),lt.tm_yday),yi=new Date(ln.getFullYear(),0,4),Jo=new Date(ln.getFullYear()+1,0,4),il=mc(yi),Ta=mc(Jo);return $l(il,ln)<=0?$l(Ta,ln)<=0?ln.getFullYear()+1:ln.getFullYear():ln.getFullYear()-1}var xa={"%a":lt=>ko[lt.tm_wday].substring(0,3),"%A":lt=>ko[lt.tm_wday],"%b":lt=>Rs[lt.tm_mon].substring(0,3),"%B":lt=>Rs[lt.tm_mon],"%C":lt=>Ro((lt.tm_year+1900)/100|0,2),"%d":lt=>Ro(lt.tm_mday,2),"%e":lt=>rl(lt.tm_mday,2," "),"%g":lt=>Bl(lt).toString().substring(2),"%G":lt=>Bl(lt),"%H":lt=>Ro(lt.tm_hour,2),"%I":lt=>{var ln=lt.tm_hour;return 0==ln?ln=12:ln>12&&(ln-=12),Ro(ln,2)},"%j":lt=>Ro(lt.tm_mday+((p,D)=>{for(var oe=0,$e=0;$e<=D;oe+=p[$e++]);return oe})(Dn(lt.tm_year+1900)?Mo:Xo,lt.tm_mon-1),3),"%m":lt=>Ro(lt.tm_mon+1,2),"%M":lt=>Ro(lt.tm_min,2),"%n":()=>"\n","%p":lt=>lt.tm_hour>=0&&lt.tm_hour<12?"AM":"PM","%S":lt=>Ro(lt.tm_sec,2),"%t":()=>"\t","%u":lt=>lt.tm_wday||7,"%U":lt=>Ro(Math.floor((lt.tm_yday+7-lt.tm_wday)/7),2),"%V":lt=>{var ln=Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7);if((lt.tm_wday+371-lt.tm_yday-2)%7<=2&&ln++,ln){if(53==ln){var Jo=(lt.tm_wday+371-lt.tm_yday)%7;4!=Jo&&(3!=Jo||!Dn(lt.tm_year))&&(ln=1)}}else{ln=52;var yi=(lt.tm_wday+7-lt.tm_yday-1)%7;(4==yi||5==yi&&Dn(lt.tm_year%400-1))&&ln++}return Ro(ln,2)},"%w":lt=>lt.tm_wday,"%W":lt=>Ro(Math.floor((lt.tm_yday+7-(lt.tm_wday+6)%7)/7),2),"%y":lt=>(lt.tm_year+1900).toString().substring(2),"%Y":lt=>lt.tm_year+1900,"%z":lt=>{var ln=lt.tm_gmtoff;return(ln>=0?"+":"-")+("0000"+(ln=(ln=Math.abs(ln)/60)/60*100+ln%60)).slice(-4)},"%Z":lt=>lt.tm_zone,"%%":()=>"%"};for(var tr in Qt=Qt.replace(/%%/g,"\0\0"),xa)Qt.includes(tr)&&(Qt=Qt.replace(new RegExp(tr,"g"),xa[tr](Sn)));var ol=xn(Qt=Qt.replace(/\0\0/g,"%"),!1);return ol.length>D?0:(((p,D)=>{ke.set(p,D)})(ol,p),ol.length-1)})(p,D,oe,$e)},et=function Or(){var p={a:rs};function D($e,Te){return et=function Cn(p){var D={};for(var oe in p){var $e=p[oe];D[oe]="function"==typeof $e?on($e):$e}return D}(et=$e.exports),te=et.r,Be(),de=et.Ua,function Ft(p){We.unshift(p)}(et.s),function gr(){var p=de.get,D={};de.get=oe=>{var $e=p.call(de,oe),Te=D[oe];return(!Te||Te.func!==$e)&&(Te=D[oe]={func:$e,wrapper:on($e)}),Te.wrapper}}(),function Je(p){if(At--,u.monitorRunDependencies&&u.monitorRunDependencies(At),0==At&&(null!==Ie&&(clearInterval(Ie),Ie=null),_e)){var D=_e;_e=null,D()}}(),et}if(function xe(p){At++,u.monitorRunDependencies&&u.monitorRunDependencies(At)}(),u.instantiateWasm)try{return u.instantiateWasm(p,D)}catch($e){Z(`Module.instantiateWasm callback failed with error: ${$e}`),K($e)}return function Pr(p,D,oe,$e){return p||"function"!=typeof WebAssembly.instantiateStreaming||rn(D)||"function"!=typeof fetch?vo(D,oe,$e):fetch(D,{credentials:"same-origin"}).then(Te=>WebAssembly.instantiateStreaming(Te,oe).then($e,function(Qt){return Z(`wasm streaming compile failed: ${Qt}`),Z("falling back to ArrayBuffer instantiation"),vo(D,oe,$e)}))}(k,On,p,function oe($e){D($e.instance)}).catch(K),{}}(),os=u._malloc=p=>(os=u._malloc=et.t)(p),ie=(u._free=p=>(u._free=et.u)(p),u._webidl_free=p=>(u._webidl_free=et.v)(p),u._webidl_malloc=p=>(u._webidl_malloc=et.w)(p),u._emscripten_bind_VoidPtr___destroy___0=p=>(ie=u._emscripten_bind_VoidPtr___destroy___0=et.x)(p)),Ae=u._emscripten_bind_FileEntry_GetName_0=p=>(Ae=u._emscripten_bind_FileEntry_GetName_0=et.y)(p),ce=u._emscripten_bind_FileEntry_IsDirectory_0=p=>(ce=u._emscripten_bind_FileEntry_IsDirectory_0=et.z)(p),Qe=u._emscripten_bind_FileEntry_GetSize_0=p=>(Qe=u._emscripten_bind_FileEntry_GetSize_0=et.A)(p),Ke=u._emscripten_bind_FileEntry_GetModifiedTS_0=p=>(Ke=u._emscripten_bind_FileEntry_GetModifiedTS_0=et.B)(p),nt=u._emscripten_bind_FileEntry_GetAttributes_0=p=>(nt=u._emscripten_bind_FileEntry_GetAttributes_0=et.C)(p),Ve=u._emscripten_bind_FileEntry___destroy___0=p=>(Ve=u._emscripten_bind_FileEntry___destroy___0=et.D)(p),ft=u._emscripten_bind_Vfs_Vfs_0=()=>(ft=u._emscripten_bind_Vfs_Vfs_0=et.E)(),Et=u._emscripten_bind_Vfs_Malloc_1=(p,D)=>(Et=u._emscripten_bind_Vfs_Malloc_1=et.F)(p,D),B=u._emscripten_bind_Vfs_Free_1=(p,D)=>(B=u._emscripten_bind_Vfs_Free_1=et.G)(p,D),An=u._emscripten_bind_Vfs_Nullptr_0=p=>(An=u._emscripten_bind_Vfs_Nullptr_0=et.H)(p),ur=u._emscripten_bind_Vfs_AllocateImage_1=(p,D)=>(ur=u._emscripten_bind_Vfs_AllocateImage_1=et.I)(p,D),Fr=u._emscripten_bind_Vfs_MountImage_1=(p,D)=>(Fr=u._emscripten_bind_Vfs_MountImage_1=et.J)(p,D),Gr=u._emscripten_bind_Vfs_UnmountImage_1=(p,D)=>(Gr=u._emscripten_bind_Vfs_UnmountImage_1=et.K)(p,D),Qn=u._emscripten_bind_Vfs_SwitchSlot_1=(p,D)=>(Qn=u._emscripten_bind_Vfs_SwitchSlot_1=et.L)(p,D),Ms=u._emscripten_bind_Vfs_GetPendingImageSize_0=p=>(Ms=u._emscripten_bind_Vfs_GetPendingImageSize_0=et.M)(p),jn=u._emscripten_bind_Vfs_GetSize_1=(p,D)=>(jn=u._emscripten_bind_Vfs_GetSize_1=et.N)(p,D),Bo=u._emscripten_bind_Vfs_GetPendingImage_0=p=>(Bo=u._emscripten_bind_Vfs_GetPendingImage_0=et.O)(p),Ao=u._emscripten_bind_Vfs_GetImage_1=(p,D)=>(Ao=u._emscripten_bind_Vfs_GetImage_1=et.P)(p,D),is=u._emscripten_bind_Vfs_GetDirtyPages_1=(p,D)=>(is=u._emscripten_bind_Vfs_GetDirtyPages_1=et.Q)(p,D),Ha=u._emscripten_bind_Vfs_RenameFile_2=(p,D,oe)=>(Ha=u._emscripten_bind_Vfs_RenameFile_2=et.R)(p,D,oe),ga=u._emscripten_bind_Vfs_ChmodFile_3=(p,D,oe,$e)=>(ga=u._emscripten_bind_Vfs_ChmodFile_3=et.S)(p,D,oe,$e),Xs=u._emscripten_bind_Vfs_StatFile_1=(p,D)=>(Xs=u._emscripten_bind_Vfs_StatFile_1=et.T)(p,D),_a=u._emscripten_bind_Vfs_UnlinkFile_1=(p,D)=>(_a=u._emscripten_bind_Vfs_UnlinkFile_1=et.U)(p,D),ss=u._emscripten_bind_Vfs_Mkdir_1=(p,D)=>(ss=u._emscripten_bind_Vfs_Mkdir_1=et.V)(p,D),za=u._emscripten_bind_Vfs_GetEntry_0=p=>(za=u._emscripten_bind_Vfs_GetEntry_0=et.W)(p),va=u._emscripten_bind_Vfs_BytesFree_1=(p,D)=>(va=u._emscripten_bind_Vfs_BytesFree_1=et.X)(p,D),ya=u._emscripten_bind_Vfs_BytesTotal_1=(p,D)=>(ya=u._emscripten_bind_Vfs_BytesTotal_1=et.Y)(p,D),Wa=u._emscripten_bind_Vfs_ReadFile_1=(p,D)=>(Wa=u._emscripten_bind_Vfs_ReadFile_1=et.Z)(p,D),Za=u._emscripten_bind_Vfs_GetCurrentFileSize_0=p=>(Za=u._emscripten_bind_Vfs_GetCurrentFileSize_0=et._)(p),qa=u._emscripten_bind_Vfs_GetCurrentFileContent_0=p=>(qa=u._emscripten_bind_Vfs_GetCurrentFileContent_0=et.$)(p),Ya=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=p=>(Ya=u._emscripten_bind_Vfs_ReleaseCurrentFile_0=et.aa)(p),ba=u._emscripten_bind_Vfs_WriteFile_3=(p,D,oe,$e)=>(ba=u._emscripten_bind_Vfs_WriteFile_3=et.ba)(p,D,oe,$e),Ka=u._emscripten_bind_Vfs___destroy___0=p=>(Ka=u._emscripten_bind_Vfs___destroy___0=et.ca)(p),Xa=u._emscripten_bind_ReaddirContext_ReaddirContext_1=p=>(Xa=u._emscripten_bind_ReaddirContext_ReaddirContext_1=et.da)(p),br=u._emscripten_bind_ReaddirContext_Next_0=p=>(br=u._emscripten_bind_ReaddirContext_Next_0=et.ea)(p),Ca=u._emscripten_bind_ReaddirContext_GetEntry_0=p=>(Ca=u._emscripten_bind_ReaddirContext_GetEntry_0=et.fa)(p),fo=u._emscripten_bind_ReaddirContext_GetStatus_0=p=>(fo=u._emscripten_bind_ReaddirContext_GetStatus_0=et.ga)(p),Bt=u._emscripten_bind_ReaddirContext_GetError_0=p=>(Bt=u._emscripten_bind_ReaddirContext_GetError_0=et.ha)(p),Sa=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=p=>(Sa=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=et.ia)(p),Qs=u._emscripten_bind_ReaddirContext___destroy___0=p=>(Qs=u._emscripten_bind_ReaddirContext___destroy___0=et.ja)(p),Qr=u._emscripten_bind_ExportZipContext_ExportZipContext_2=(p,D)=>(Qr=u._emscripten_bind_ExportZipContext_ExportZipContext_2=et.ka)(p,D),Js=u._emscripten_bind_ExportZipContext_AddFile_1=(p,D)=>(Js=u._emscripten_bind_ExportZipContext_AddFile_1=et.la)(p,D),Qa=u._emscripten_bind_ExportZipContext_AddDirectory_1=(p,D)=>(Qa=u._emscripten_bind_ExportZipContext_AddDirectory_1=et.ma)(p,D),Gn=u._emscripten_bind_ExportZipContext_Continue_0=p=>(Gn=u._emscripten_bind_ExportZipContext_Continue_0=et.na)(p),As=u._emscripten_bind_ExportZipContext_GetState_0=p=>(As=u._emscripten_bind_ExportZipContext_GetState_0=et.oa)(p),Cr=u._emscripten_bind_ExportZipContext_GetZipContent_0=p=>(Cr=u._emscripten_bind_ExportZipContext_GetZipContent_0=et.pa)(p),ea=u._emscripten_bind_ExportZipContext_GetZipSize_0=p=>(ea=u._emscripten_bind_ExportZipContext_GetZipSize_0=et.qa)(p),Rl=u._emscripten_bind_ExportZipContext_GetErrorItem_0=p=>(Rl=u._emscripten_bind_ExportZipContext_GetErrorItem_0=et.ra)(p),Ja=u._emscripten_bind_ExportZipContext___destroy___0=p=>(Ja=u._emscripten_bind_ExportZipContext___destroy___0=et.sa)(p),Un=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=p=>(Un=u._emscripten_bind_DeleteRecursiveContext_DeleteRecursiveContext_1=et.ta)(p),Vt=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=(p,D)=>(Vt=u._emscripten_bind_DeleteRecursiveContext_AddFile_1=et.ua)(p,D),ks=u._emscripten_bind_DeleteRecursiveContext_Continue_0=p=>(ks=u._emscripten_bind_DeleteRecursiveContext_Continue_0=et.va)(p),ta=u._emscripten_bind_DeleteRecursiveContext_GetState_0=p=>(ta=u._emscripten_bind_DeleteRecursiveContext_GetState_0=et.wa)(p),Pl=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=p=>(Pl=u._emscripten_bind_DeleteRecursiveContext_GetFailingPath_0=et.xa)(p),wa=u._emscripten_bind_DeleteRecursiveContext___destroy___0=p=>(wa=u._emscripten_bind_DeleteRecursiveContext___destroy___0=et.ya)(p),Xe=u._emscripten_bind_UnzipContext_UnzipContext_4=(p,D,oe,$e)=>(Xe=u._emscripten_bind_UnzipContext_UnzipContext_4=et.za)(p,D,oe,$e),Li=u._emscripten_bind_UnzipContext_GetState_0=p=>(Li=u._emscripten_bind_UnzipContext_GetState_0=et.Aa)(p),as=u._emscripten_bind_UnzipContext_Continue_0=p=>(as=u._emscripten_bind_UnzipContext_Continue_0=et.Ba)(p),na=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=p=>(na=u._emscripten_bind_UnzipContext_ContinueWithOverwrite_0=et.Ca)(p),Ea=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=p=>(Ea=u._emscripten_bind_UnzipContext_GetCurrentEntry_0=et.Da)(p),el=u._emscripten_bind_UnzipContext_GetCollisionPath_0=p=>(el=u._emscripten_bind_UnzipContext_GetCollisionPath_0=et.Ea)(p),Qo=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=p=>(Qo=u._emscripten_bind_UnzipContext_GetEntriesTotal_0=et.Fa)(p),ls=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=p=>(ls=u._emscripten_bind_UnzipContext_GetEntriesSuccess_0=et.Ga)(p),tl=u._emscripten_bind_UnzipContext___destroy___0=p=>(tl=u._emscripten_bind_UnzipContext___destroy___0=et.Ha)(p),qt=u._emscripten_bind_PasteContext_PasteContext_3=(p,D,oe)=>(qt=u._emscripten_bind_PasteContext_PasteContext_3=et.Ia)(p,D,oe),Bn=u._emscripten_bind_PasteContext_AddFile_1=(p,D)=>(Bn=u._emscripten_bind_PasteContext_AddFile_1=et.Ja)(p,D),Da=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=(p,D)=>(Da=u._emscripten_bind_PasteContext_SetDeleteAfterCopy_1=et.Ka)(p,D),Ol=u._emscripten_bind_PasteContext_GetState_0=p=>(Ol=u._emscripten_bind_PasteContext_GetState_0=et.La)(p),Fl=u._emscripten_bind_PasteContext_Continue_0=p=>(Fl=u._emscripten_bind_PasteContext_Continue_0=et.Ma)(p),Nl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=p=>(Nl=u._emscripten_bind_PasteContext_ContinueWithOverwrite_0=et.Na)(p),nl=u._emscripten_bind_PasteContext_GetCurrentEntry_0=p=>(nl=u._emscripten_bind_PasteContext_GetCurrentEntry_0=et.Oa)(p),Ir=u._emscripten_bind_PasteContext_GetCollisionPath_0=p=>(Ir=u._emscripten_bind_PasteContext_GetCollisionPath_0=et.Pa)(p),dr=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=p=>(dr=u._emscripten_bind_PasteContext_GetEntriesSuccess_0=et.Qa)(p),So=u._emscripten_bind_PasteContext___destroy___0=p=>(So=u._emscripten_bind_PasteContext___destroy___0=et.Ra)(p),Ll=u._main=(p,D)=>(Ll=u._main=et.Sa)(p,D),pc=()=>(pc=et.Ta)(),xi=p=>(xi=et.Va)(p),hc=()=>(hc=et.Wa)(),Ia=()=>(Ia=et.Xa)(),Nr=()=>(Nr=et.Ya)();function Sr(){function p(){yn||(yn=!0,u.calledRun=!0,!le&&(function pe(){Tt(),lo(We)}(),function He(){Tt(),lo(Re)}(),Y(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),_&&function yt(){var p=Ll;try{$t+=1;var $e=p(0,0);return xs($e),$e}catch(Te){return(p=>{if(p instanceof To||"unwind"==p)return ae;Tt(),p instanceof WebAssembly.RuntimeError&&Nr()<=0&&Z("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 1048576)"),T(1,p)})(Te)}finally{$t-=1}}(),function at(){if(Tt(),u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),Ge.unshift(p);var p;lo(Ge)}()))}At>0||(function xr(){hc(),function ht(){var p=Ia();0==p&&(p+=4),X[p>>2]=34821223,X[p+4>>2]=2310721022,X[0]=1668509029}()}(),function Pt(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),Fe.unshift(p);var p;lo(Fe)}(),At>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),p()},1)):p(),Tt())}if(u.___original_main=()=>(u.___original_main=et.Za)(),_e=function p(){yn||Sr(),yn||(_e=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var _=!0;function H(){}function M(p){return(p||H).__cache__}function Oe(p,D){var oe=M(D),$e=oe[p];return $e||(($e=Object.create((D||H).prototype)).ptr=p,oe[p]=$e)}u.noInitialRun&&(_=!1),Sr(),(H.prototype=Object.create(H.prototype)).constructor=H,H.prototype.__class__=H,H.__cache__={},u.WrapperObject=H,u.getCache=M,u.wrapPointer=Oe,u.castObject=function tt(p,D){return Oe(p.ptr,D)},u.NULL=Oe(0),u.destroy=function tn(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete M(p.__class__)[p.ptr]},u.compare=function Yt(p,D){return p.ptr===D.ptr},u.getPointer=function an(p){return p.ptr},u.getClass=function er(p){return p.__class__};var Lt={buffer:0,size:0,pos:0,temps:[],needed:0,prepare(){if(Lt.needed){for(var p=0;p<Lt.temps.length;p++)u._webidl_free(Lt.temps[p]);Lt.temps.length=0,u._webidl_free(Lt.buffer),Lt.buffer=0,Lt.size+=Lt.needed,Lt.needed=0}Lt.buffer||(Lt.size+=128,Lt.buffer=u._webidl_malloc(Lt.size),Me(Lt.buffer)),Lt.pos=0},alloc(p,D){Me(Lt.buffer);var Te,$e=p.length*D.BYTES_PER_ELEMENT;return Lt.pos+($e=$e+7&-8)>=Lt.size?(Me($e>0),Lt.needed+=$e,Te=u._webidl_malloc($e),Lt.temps.push(Te)):(Te=Lt.buffer+Lt.pos,Lt.pos+=$e),Te},copy(p,D,oe){switch(oe>>>=0,D.BYTES_PER_ELEMENT){case 2:oe>>>=1;break;case 4:oe>>>=2;break;case 8:oe>>>=3}for(var Te=0;Te<p.length;Te++)D[oe+Te]=p[Te]}};function or(p){if("string"==typeof p){var D=xn(p),oe=Lt.alloc(D,ke);return Lt.copy(D,ke,oe),oe}return p}function fr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function bn(){throw"cannot construct a FileEntry, no constructor in IDL"}function Mt(){this.ptr=ft(),M(Mt)[this.ptr]=this}function Nt(p){Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),this.ptr=Xa(p),M(Nt)[this.ptr]=this}function Vn(p,D){Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),D&&"object"==typeof D&&(D=D.ptr),this.ptr=Qr(p,D),M(Vn)[this.ptr]=this}function Tr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Un(p),M(Tr)[this.ptr]=this}function hn(p,D,oe,$e){Lt.prepare(),p&&"object"==typeof p&&(p=p.ptr),D=D&&"object"==typeof D?D.ptr:or(D),oe&&"object"==typeof oe&&(oe=oe.ptr),$e&&"object"==typeof $e&&($e=$e.ptr),this.ptr=Xe(p,D,oe,$e),M(hn)[this.ptr]=this}function qe(p,D,oe){Lt.prepare(),p&&"object"==typeof p&&(p=p.ptr),D=D&&"object"==typeof D?D.ptr:or(D),oe=oe&&"object"==typeof oe?oe.ptr:or(oe),this.ptr=qt(p,D,oe),M(qe)[this.ptr]=this}return(fr.prototype=Object.create(H.prototype)).constructor=fr,fr.prototype.__class__=fr,fr.__cache__={},u.VoidPtr=fr,fr.prototype.__destroy__=fr.prototype.__destroy__=function(){ie(this.ptr)},(bn.prototype=Object.create(H.prototype)).constructor=bn,bn.prototype.__class__=bn,bn.__cache__={},u.FileEntry=bn,bn.prototype.GetName=bn.prototype.GetName=function(){return Ht(Ae(this.ptr))},bn.prototype.IsDirectory=bn.prototype.IsDirectory=function(){return!!ce(this.ptr)},bn.prototype.GetSize=bn.prototype.GetSize=function(){return Qe(this.ptr)},bn.prototype.GetModifiedTS=bn.prototype.GetModifiedTS=function(){return Ke(this.ptr)},bn.prototype.GetAttributes=bn.prototype.GetAttributes=function(){return nt(this.ptr)},bn.prototype.__destroy__=bn.prototype.__destroy__=function(){Ve(this.ptr)},(Mt.prototype=Object.create(H.prototype)).constructor=Mt,Mt.prototype.__class__=Mt,Mt.__cache__={},u.Vfs=Mt,Mt.prototype.Malloc=Mt.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Et(this.ptr,p),fr)},Mt.prototype.Free=Mt.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),B(this.ptr,p)},Mt.prototype.Nullptr=Mt.prototype.Nullptr=function(){return Oe(An(this.ptr),fr)},Mt.prototype.AllocateImage=Mt.prototype.AllocateImage=function(p){p&&"object"==typeof p&&(p=p.ptr),ur(this.ptr,p)},Mt.prototype.MountImage=Mt.prototype.MountImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),!!Fr(this.ptr,p)},Mt.prototype.UnmountImage=Mt.prototype.UnmountImage=function(p){p&&"object"==typeof p&&(p=p.ptr),Gr(this.ptr,p)},Mt.prototype.SwitchSlot=Mt.prototype.SwitchSlot=function(p){p&&"object"==typeof p&&(p=p.ptr),Qn(this.ptr,p)},Mt.prototype.GetPendingImageSize=Mt.prototype.GetPendingImageSize=function(){return Ms(this.ptr)},Mt.prototype.GetSize=Mt.prototype.GetSize=function(p){return p&&"object"==typeof p&&(p=p.ptr),jn(this.ptr,p)},Mt.prototype.GetPendingImage=Mt.prototype.GetPendingImage=function(){return Oe(Bo(this.ptr),fr)},Mt.prototype.GetImage=Mt.prototype.GetImage=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Ao(this.ptr,p),fr)},Mt.prototype.GetDirtyPages=Mt.prototype.GetDirtyPages=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(is(this.ptr,p),fr)},Mt.prototype.RenameFile=Mt.prototype.RenameFile=function(p,D){var oe=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),D=D&&"object"==typeof D?D.ptr:or(D),Ha(oe,p,D)},Mt.prototype.ChmodFile=Mt.prototype.ChmodFile=function(p,D,oe){var $e=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),D&&"object"==typeof D&&(D=D.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),ga($e,p,D,oe)},Mt.prototype.StatFile=Mt.prototype.StatFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),Xs(D,p)},Mt.prototype.UnlinkFile=Mt.prototype.UnlinkFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),_a(D,p)},Mt.prototype.Mkdir=Mt.prototype.Mkdir=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),ss(D,p)},Mt.prototype.GetEntry=Mt.prototype.GetEntry=function(){return Oe(za(this.ptr),bn)},Mt.prototype.BytesFree=Mt.prototype.BytesFree=function(p){return p&&"object"==typeof p&&(p=p.ptr),va(this.ptr,p)},Mt.prototype.BytesTotal=Mt.prototype.BytesTotal=function(p){return p&&"object"==typeof p&&(p=p.ptr),ya(this.ptr,p)},Mt.prototype.ReadFile=Mt.prototype.ReadFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),!!Wa(D,p)},Mt.prototype.GetCurrentFileSize=Mt.prototype.GetCurrentFileSize=function(){return Za(this.ptr)},Mt.prototype.GetCurrentFileContent=Mt.prototype.GetCurrentFileContent=function(){return Oe(qa(this.ptr),fr)},Mt.prototype.ReleaseCurrentFile=Mt.prototype.ReleaseCurrentFile=function(){Ya(this.ptr)},Mt.prototype.WriteFile=Mt.prototype.WriteFile=function(p,D,oe){var $e=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),D&&"object"==typeof D&&(D=D.ptr),oe&&"object"==typeof oe&&(oe=oe.ptr),ba($e,p,D,oe)},Mt.prototype.__destroy__=Mt.prototype.__destroy__=function(){Ka(this.ptr)},(Nt.prototype=Object.create(H.prototype)).constructor=Nt,Nt.prototype.__class__=Nt,Nt.__cache__={},u.ReaddirContext=Nt,Nt.prototype.Next=Nt.prototype.Next=function(){return br(this.ptr)},Nt.prototype.GetEntry=Nt.prototype.GetEntry=function(){return Oe(Ca(this.ptr),bn)},Nt.prototype.GetStatus=Nt.prototype.GetStatus=function(){return fo(this.ptr)},Nt.prototype.GetError=Nt.prototype.GetError=function(){return Bt(this.ptr)},Nt.prototype.GetErrorDescription=Nt.prototype.GetErrorDescription=function(){return Ht(Sa(this.ptr))},Nt.prototype.__destroy__=Nt.prototype.__destroy__=function(){Qs(this.ptr)},(Vn.prototype=Object.create(H.prototype)).constructor=Vn,Vn.prototype.__class__=Vn,Vn.__cache__={},u.ExportZipContext=Vn,Vn.prototype.AddFile=Vn.prototype.AddFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),Oe(Js(D,p),Vn)},Vn.prototype.AddDirectory=Vn.prototype.AddDirectory=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),Oe(Qa(D,p),Vn)},Vn.prototype.Continue=Vn.prototype.Continue=function(){return Gn(this.ptr)},Vn.prototype.GetState=Vn.prototype.GetState=function(){return As(this.ptr)},Vn.prototype.GetZipContent=Vn.prototype.GetZipContent=function(){return Oe(Cr(this.ptr),fr)},Vn.prototype.GetZipSize=Vn.prototype.GetZipSize=function(){return ea(this.ptr)},Vn.prototype.GetErrorItem=Vn.prototype.GetErrorItem=function(){return Ht(Rl(this.ptr))},Vn.prototype.__destroy__=Vn.prototype.__destroy__=function(){Ja(this.ptr)},(Tr.prototype=Object.create(H.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},u.DeleteRecursiveContext=Tr,Tr.prototype.AddFile=Tr.prototype.AddFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),Oe(Vt(D,p),Tr)},Tr.prototype.Continue=Tr.prototype.Continue=function(){return ks(this.ptr)},Tr.prototype.GetState=Tr.prototype.GetState=function(){return ta(this.ptr)},Tr.prototype.GetFailingPath=Tr.prototype.GetFailingPath=function(){return Ht(Pl(this.ptr))},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){wa(this.ptr)},(hn.prototype=Object.create(H.prototype)).constructor=hn,hn.prototype.__class__=hn,hn.__cache__={},u.UnzipContext=hn,hn.prototype.GetState=hn.prototype.GetState=function(){return Li(this.ptr)},hn.prototype.Continue=hn.prototype.Continue=function(){return as(this.ptr)},hn.prototype.ContinueWithOverwrite=hn.prototype.ContinueWithOverwrite=function(){return na(this.ptr)},hn.prototype.GetCurrentEntry=hn.prototype.GetCurrentEntry=function(){return Ht(Ea(this.ptr))},hn.prototype.GetCollisionPath=hn.prototype.GetCollisionPath=function(){return Ht(el(this.ptr))},hn.prototype.GetEntriesTotal=hn.prototype.GetEntriesTotal=function(){return Qo(this.ptr)},hn.prototype.GetEntriesSuccess=hn.prototype.GetEntriesSuccess=function(){return ls(this.ptr)},hn.prototype.__destroy__=hn.prototype.__destroy__=function(){tl(this.ptr)},(qe.prototype=Object.create(H.prototype)).constructor=qe,qe.prototype.__class__=qe,qe.__cache__={},u.PasteContext=qe,qe.prototype.AddFile=qe.prototype.AddFile=function(p){var D=this.ptr;return Lt.prepare(),p=p&&"object"==typeof p?p.ptr:or(p),Oe(Bn(D,p),qe)},qe.prototype.SetDeleteAfterCopy=qe.prototype.SetDeleteAfterCopy=function(p){return p&&"object"==typeof p&&(p=p.ptr),Oe(Da(this.ptr,p),qe)},qe.prototype.GetState=qe.prototype.GetState=function(){return Ol(this.ptr)},qe.prototype.Continue=qe.prototype.Continue=function(){return Fl(this.ptr)},qe.prototype.ContinueWithOverwrite=qe.prototype.ContinueWithOverwrite=function(){return Nl(this.ptr)},qe.prototype.GetCurrentEntry=qe.prototype.GetCurrentEntry=function(){return Ht(nl(this.ptr))},qe.prototype.GetCollisionPath=qe.prototype.GetCollisionPath=function(){return Ht(Ir(this.ptr))},qe.prototype.GetEntriesSuccess=qe.prototype.GetEntriesSuccess=function(){return dr(this.ptr)},qe.prototype.__destroy__=qe.prototype.__destroy__=function(){So(this.ptr)},S.ready});ve.exports=Ee},276:(ve,Ee,C)=>{"use strict";C.d(Ee,{c:()=>Y,r:()=>R});const Y=(F,N)=>{F.componentOnReady?F.componentOnReady().then(ne=>N(ne)):R(()=>N(F))},R=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F)},7687:(ve,Ee,C)=>{"use strict";C.d(Ee,{L:()=>S,a:()=>u,b:()=>Y,c:()=>K,d:()=>z,g:()=>F});const S="ionViewWillEnter",u="ionViewDidEnter",Y="ionViewWillLeave",K="ionViewDidLeave",z="ionViewWillUnload",F=N=>N.classList.contains("ion-page")?N:N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||N},2723:(ve,Ee,C)=>{"use strict";C.d(Ee,{c:()=>be});var S=C(6940),u=C(4675);let Y;const z=se=>se.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),P=se=>(void 0===Y&&(Y=void 0===se.style.animationName&&void 0!==se.style.webkitAnimationName?"-webkit-":""),Y),x=(se,Z,k)=>{const te=Z.startsWith("animation")?P(se):"";se.style.setProperty(te+Z,k)},T=(se,Z)=>{const k=Z.startsWith("animation")?P(se):"";se.style.removeProperty(k+Z)},R=[],fe=(se=[],Z)=>{if(void 0!==Z){const k=Array.isArray(Z)?Z:[Z];return[...se,...k]}return se},be=se=>{let Z,k,te,le,ae,Me,I,We,Re,Ge,st,at,Ye,ke=[],F=[],N=[],ne=!1,X={},q=[],ge=[],Be={},ht=0,Tt=!1,Fe=!1,Pt=!0,pe=!1,He=!0,Ft=!1;const Gt=se,At=[],Ie=[],_e=[],xe=[],Je=[],ot=[],Ut=[],rn=[],$t=[],on=[],Cn=[],gr="function"==typeof AnimationEffect||void 0!==S.w&&"function"==typeof S.w.AnimationEffect,On="function"==typeof Element&&"function"==typeof Element.prototype.animate&&gr,Vr=()=>Cn,To=(g,w)=>{const E=w.findIndex(ie=>ie.c===g);E>-1&&w.splice(E,1)},yo=(g,w)=>((w?.oneTimeCallback?Ie:At).push({c:g,o:w}),Ye),de=()=>{if(On)Cn.forEach(g=>{g.cancel()}),Cn.length=0;else{const g=xe.slice();(0,u.r)(()=>{g.forEach(w=>{T(w,"animation-name"),T(w,"animation-duration"),T(w,"animation-timing-function"),T(w,"animation-iteration-count"),T(w,"animation-delay"),T(w,"animation-play-state"),T(w,"animation-fill-mode"),T(w,"animation-direction")})})}},we=()=>{ot.forEach(g=>{g?.parentNode&&g.parentNode.removeChild(g)}),ot.length=0},$o=()=>void 0!==ae?ae:I?I.getFill():"both",Fn=()=>void 0!==Re?Re:void 0!==Me?Me:I?I.getDirection():"normal",_r=()=>Tt?"linear":void 0!==te?te:I?I.getEasing():"linear",vr=()=>Fe?0:void 0!==Ge?Ge:void 0!==k?k:I?I.getDuration():0,In=()=>void 0!==le?le:I?I.getIterations():1,$n=()=>void 0!==st?st:void 0!==Z?Z:I?I.getDelay():0,Kr=()=>{0!==ht&&(ht--,0===ht&&((()=>{Es(),$t.forEach(Ae=>Ae()),on.forEach(Ae=>Ae());const g=Pt?1:0,w=q,E=ge,ie=Be;xe.forEach(Ae=>{const ce=Ae.classList;w.forEach(Qe=>ce.add(Qe)),E.forEach(Qe=>ce.remove(Qe));for(const Qe in ie)ie.hasOwnProperty(Qe)&&x(Ae,Qe,ie[Qe])}),Ge=void 0,Re=void 0,st=void 0,At.forEach(Ae=>Ae.c(g,Ye)),Ie.forEach(Ae=>Ae.c(g,Ye)),Ie.length=0,He=!0,Pt&&(pe=!0),Pt=!0})(),I&&I.animationFinish()))},di=(g=!0)=>{we();const w=(se=>(se.forEach(Z=>{for(const k in Z)if(Z.hasOwnProperty(k)){const te=Z[k];if("easing"===k)Z["animation-timing-function"]=te,delete Z[k];else{const le=z(k);le!==k&&(Z[le]=te,delete Z[k])}}}),se))(ke);xe.forEach(E=>{if(w.length>0){const ie=((se=[])=>se.map(Z=>{const k=Z.offset,te=[];for(const le in Z)Z.hasOwnProperty(le)&&"offset"!==le&&te.push(`${le}: ${Z[le]};`);return`${100*k}% { ${te.join(" ")} }`}).join(" "))(w);at=void 0!==se?se:(se=>{let Z=R.indexOf(se);return Z<0&&(Z=R.push(se)-1),`ion-animation-${Z}`})(ie);const Ae=((se,Z,k)=>{var te;const le=(se=>{const Z=void 0!==se.getRootNode?se.getRootNode():se;return Z.head||Z})(k),ae=P(k),Me=le.querySelector("#"+se);if(Me)return Me;const ke=(null!==(te=k.ownerDocument)&&void 0!==te?te:document).createElement("style");return ke.id=se,ke.textContent=`@${ae}keyframes ${se} { ${Z} } @${ae}keyframes ${se}-alt { ${Z} }`,le.appendChild(ke),ke})(at,ie,E);ot.push(Ae),x(E,"animation-duration",`${vr()}ms`),x(E,"animation-timing-function",_r()),x(E,"animation-delay",`${$n()}ms`),x(E,"animation-fill-mode",$o()),x(E,"animation-direction",Fn());const ce=In()===1/0?"infinite":In().toString();x(E,"animation-iteration-count",ce),x(E,"animation-play-state","paused"),g&&x(E,"animation-name",`${Ae.id}-alt`),(0,u.r)(()=>{x(E,"animation-name",Ae.id||null)})}})},Ni=(g=!0)=>{(()=>{Ut.forEach(ie=>ie()),rn.forEach(ie=>ie());const g=F,w=N,E=X;xe.forEach(ie=>{const Ae=ie.classList;g.forEach(ce=>Ae.add(ce)),w.forEach(ce=>Ae.remove(ce));for(const ce in E)E.hasOwnProperty(ce)&&x(ie,ce,E[ce])})})(),ke.length>0&&(On?(xe.forEach(g=>{const w=g.animate(ke,{id:Gt,delay:$n(),duration:vr(),easing:_r(),iterations:In(),fill:$o(),direction:Fn()});w.pause(),Cn.push(w)}),Cn.length>0&&(Cn[0].onfinish=()=>{Kr()})):di(g)),ne=!0},Co=g=>{if(g=Math.min(Math.max(g,0),.9999),On)Cn.forEach(w=>{w.currentTime=w.effect.getComputedTiming().delay+vr()*g,w.pause()});else{const w=`-${vr()*g}ms`;xe.forEach(E=>{ke.length>0&&(x(E,"animation-delay",w),x(E,"animation-play-state","paused"))})}},ws=g=>{Cn.forEach(w=>{w.effect.updateTiming({delay:$n(),duration:vr(),easing:_r(),iterations:In(),fill:$o(),direction:Fn()})}),void 0!==g&&Co(g)},Ys=(g=!0,w)=>{(0,u.r)(()=>{xe.forEach(E=>{x(E,"animation-name",at||null),x(E,"animation-duration",`${vr()}ms`),x(E,"animation-timing-function",_r()),x(E,"animation-delay",void 0!==w?`-${w*vr()}ms`:`${$n()}ms`),x(E,"animation-fill-mode",$o()||null),x(E,"animation-direction",Fn()||null);const ie=In()===1/0?"infinite":In().toString();x(E,"animation-iteration-count",ie),g&&x(E,"animation-name",`${at}-alt`),(0,u.r)(()=>{x(E,"animation-name",at||null)})})})},Xr=(g=!1,w=!0,E)=>(g&&Je.forEach(ie=>{ie.update(g,w,E)}),On?ws(E):Ys(w,E),Ye),xn=()=>{ne&&(On?Cn.forEach(g=>{g.pause()}):xe.forEach(g=>{x(g,"animation-play-state","paused")}),Ft=!0)},ha=()=>{We=void 0,Kr()},Es=()=>{We&&clearTimeout(We)},Ts=g=>new Promise(w=>{g?.sync&&(Fe=!0,yo(()=>Fe=!1,{oneTimeCallback:!0})),ne||Ni(),pe&&(On?(Co(0),ws()):Ys(),pe=!1),He&&(ht=Je.length+1,He=!1);const E=()=>{To(ie,Ie),w()},ie=()=>{To(E,_e),w()};yo(ie,{oneTimeCallback:!0}),((g,w)=>{_e.push({c:g,o:{oneTimeCallback:!0}})})(E),Je.forEach(Ae=>{Ae.play()}),On?(Cn.forEach(g=>{g.play()}),(0===ke.length||0===xe.length)&&Kr()):(()=>{if(Es(),(0,u.r)(()=>{xe.forEach(g=>{ke.length>0&&x(g,"animation-play-state","running")})}),0===ke.length||0===xe.length)Kr();else{const g=$n()||0,w=vr()||0,E=In()||1;isFinite(E)&&(We=setTimeout(ha,g+w*E+100)),((se,Z)=>{let k;const te={passive:!0},ae=Me=>{se===Me.target&&(k&&k(),Es(),(0,u.r)(()=>{xe.forEach(g=>{T(g,"animation-duration"),T(g,"animation-delay"),T(g,"animation-play-state")}),(0,u.r)(Kr)}))};se&&(se.addEventListener("webkitAnimationEnd",ae,te),se.addEventListener("animationend",ae,te),k=()=>{se.removeEventListener("webkitAnimationEnd",ae,te),se.removeEventListener("animationend",ae,te)})})(xe[0])}})(),Ft=!1}),et=(g,w)=>{const E=ke[0];return void 0===E||void 0!==E.offset&&0!==E.offset?ke=[{offset:0,[g]:w},...ke]:E[g]=w,Ye};return Ye={parentAnimation:I,elements:xe,childAnimations:Je,id:Gt,animationFinish:Kr,from:et,to:(g,w)=>{const E=ke[ke.length-1];return void 0===E||void 0!==E.offset&&1!==E.offset?ke=[...ke,{offset:1,[g]:w}]:E[g]=w,Ye},fromTo:(g,w,E)=>et(g,w).to(g,E),parent:g=>(I=g,Ye),play:Ts,pause:()=>(Je.forEach(g=>{g.pause()}),xn(),Ye),stop:()=>{Je.forEach(g=>{g.stop()}),ne&&(de(),ne=!1),Tt=!1,Fe=!1,He=!0,Re=void 0,Ge=void 0,st=void 0,ht=0,pe=!1,Pt=!0,Ft=!1,_e.forEach(g=>g.c(0,Ye)),_e.length=0},destroy:g=>(Je.forEach(w=>{w.destroy(g)}),(g=>{de(),g&&we()})(g),xe.length=0,Je.length=0,ke.length=0,At.length=0,Ie.length=0,ne=!1,He=!0,Ye),keyframes:g=>{const w=ke!==g;return ke=g,w&&(g=>{On?Vr().forEach(w=>{const E=w.effect;if(E.setKeyframes)E.setKeyframes(g);else{const ie=new KeyframeEffect(E.target,g,E.getTiming());w.effect=ie}}):di()})(ke),Ye},addAnimation:g=>{if(null!=g)if(Array.isArray(g))for(const w of g)w.parent(Ye),Je.push(w);else g.parent(Ye),Je.push(g);return Ye},addElement:g=>{if(null!=g)if(1===g.nodeType)xe.push(g);else if(g.length>=0)for(let w=0;w<g.length;w++)xe.push(g[w]);else console.error("Invalid addElement value");return Ye},update:Xr,fill:g=>(ae=g,Xr(!0),Ye),direction:g=>(Me=g,Xr(!0),Ye),iterations:g=>(le=g,Xr(!0),Ye),duration:g=>(!On&&0===g&&(g=1),k=g,Xr(!0),Ye),easing:g=>(te=g,Xr(!0),Ye),delay:g=>(Z=g,Xr(!0),Ye),getWebAnimations:Vr,getKeyframes:()=>ke,getFill:$o,getDirection:Fn,getDelay:$n,getIterations:In,getEasing:_r,getDuration:vr,afterAddRead:g=>($t.push(g),Ye),afterAddWrite:g=>(on.push(g),Ye),afterClearStyles:(g=[])=>{for(const w of g)Be[w]="";return Ye},afterStyles:(g={})=>(Be=g,Ye),afterRemoveClass:g=>(ge=fe(ge,g),Ye),afterAddClass:g=>(q=fe(q,g),Ye),beforeAddRead:g=>(Ut.push(g),Ye),beforeAddWrite:g=>(rn.push(g),Ye),beforeClearStyles:(g=[])=>{for(const w of g)X[w]="";return Ye},beforeStyles:(g={})=>(X=g,Ye),beforeRemoveClass:g=>(N=fe(N,g),Ye),beforeAddClass:g=>(F=fe(F,g),Ye),onFinish:yo,isRunning:()=>0!==ht&&!Ft,progressStart:(g=!1,w)=>(Je.forEach(E=>{E.progressStart(g,w)}),xn(),Tt=g,ne||Ni(),Xr(!1,!0,w),Ye),progressStep:g=>(Je.forEach(w=>{w.progressStep(g)}),Co(g),Ye),progressEnd:(g,w,E)=>(Tt=!1,Je.forEach(ie=>{ie.progressEnd(g,w,E)}),void 0!==E&&(Ge=E),pe=!1,Pt=!0,0===g?(Re="reverse"===Fn()?"normal":"reverse","reverse"===Re&&(Pt=!1),On?(Xr(),Co(1-w)):(st=(1-w)*vr()*-1,Xr(!1,!1))):1===g&&(On?(Xr(),Co(w)):(st=w*vr()*-1,Xr(!1,!1))),void 0!==g&&!I&&Ts(),Ye)}}},2984:(ve,Ee,C)=>{"use strict";C.d(Ee,{E:()=>$,I:()=>x,a:()=>S,s:()=>T});const S=R=>{try{if(R instanceof x)return R.value;if(!K()||"string"!=typeof R||""===R)return R;if(R.includes("onload="))return"";const O=document.createDocumentFragment(),A=document.createElement("div");O.appendChild(A),A.innerHTML=R,P.forEach(se=>{const Z=O.querySelectorAll(se);for(let k=Z.length-1;k>=0;k--){const te=Z[k];te.parentNode?te.parentNode.removeChild(te):O.removeChild(te);const le=Y(te);for(let ae=0;ae<le.length;ae++)u(le[ae])}});const j=Y(O);for(let se=0;se<j.length;se++)u(j[se]);const fe=document.createElement("div");fe.appendChild(O);const be=fe.querySelector("div");return null!==be?be.innerHTML:fe.innerHTML}catch(O){return console.error(O),""}},u=R=>{if(R.nodeType&&1!==R.nodeType)return;if(typeof NamedNodeMap<"u"&&!(R.attributes instanceof NamedNodeMap))return void R.remove();for(let A=R.attributes.length-1;A>=0;A--){const j=R.attributes.item(A),fe=j.name;if(!z.includes(fe.toLowerCase())){R.removeAttribute(fe);continue}const be=j.value,se=R[fe];(null!=be&&be.toLowerCase().includes("javascript:")||null!=se&&se.toLowerCase().includes("javascript:"))&&R.removeAttribute(fe)}const O=Y(R);for(let A=0;A<O.length;A++)u(O[A])},Y=R=>null!=R.children?R.children:R.childNodes,K=()=>{var R;const O=window,A=null===(R=O?.Ionic)||void 0===R?void 0:R.config;return!A||(A.get?A.get("sanitizerEnabled",!0):!0===A.sanitizerEnabled||void 0===A.sanitizerEnabled)},z=["class","id","href","src","name","slot"],P=["script","style","iframe","meta","link","object","embed"];class x{constructor(O){this.value=O}}const T=R=>{const O=window,A=O.Ionic;if(!A||!A.config||"Object"===A.config.constructor.name)return O.Ionic=O.Ionic||{},O.Ionic.config=Object.assign(Object.assign({},O.Ionic.config),R),O.Ionic.config},$=!1},8573:(ve,Ee,C)=>{"use strict";C.d(Ee,{C:()=>z,a:()=>Y,d:()=>K});var S=C(3918),u=C(4675);const Y=function(){var P=(0,S.Z)(function*(x,T,Q,$,R,O){var A;if(x)return x.attachViewToDom(T,Q,R,$);if(!(O||"string"==typeof Q||Q instanceof HTMLElement))throw new Error("framework delegate is missing");const j="string"==typeof Q?null===(A=T.ownerDocument)||void 0===A?void 0:A.createElement(Q):Q;return $&&$.forEach(fe=>j.classList.add(fe)),R&&Object.assign(j,R),T.appendChild(j),yield new Promise(fe=>(0,u.c)(j,fe)),j});return function(T,Q,$,R,O,A){return P.apply(this,arguments)}}(),K=(P,x)=>{if(x){if(P)return P.removeViewFromDom(x.parentElement,x);x.remove()}return Promise.resolve()},z=()=>{let P,x;return{attachViewToDom:function(){var $=(0,S.Z)(function*(R,O,A={},j=[]){var fe,be;let se;if(P=R,O){const k="string"==typeof O?null===(fe=P.ownerDocument)||void 0===fe?void 0:fe.createElement(O):O;j.forEach(te=>k.classList.add(te)),Object.assign(k,A),P.appendChild(k),se=k,yield new Promise(te=>(0,u.c)(k,te))}else if(P.children.length>0&&("ION-MODAL"===P.tagName||"ION-POPOVER"===P.tagName)&&!(se=P.children[0]).classList.contains("ion-delegate-host")){const te=null===(be=P.ownerDocument)||void 0===be?void 0:be.createElement("div");te.classList.add("ion-delegate-host"),j.forEach(le=>te.classList.add(le)),te.append(...P.children),P.appendChild(te),se=te}const Z=document.querySelector("ion-app")||document.body;return x=document.createComment("ionic teleport"),P.parentNode.insertBefore(x,P),Z.appendChild(P),se??P});return function(O,A){return $.apply(this,arguments)}}(),removeViewFromDom:()=>(P&&x&&(x.parentNode.insertBefore(P,x),x.remove()),Promise.resolve())}}},4967:(ve,Ee,C)=>{"use strict";C.d(Ee,{G:()=>z});class u{constructor(x,T,Q,$,R){this.id=T,this.name=Q,this.disableScroll=R,this.priority=1e6*$+T,this.ctrl=x}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const x=this.ctrl.capture(this.name,this.id,this.priority);return x&&this.disableScroll&&this.ctrl.disableScroll(this.id),x}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Y{constructor(x,T,Q,$){this.id=T,this.disable=Q,this.disableScroll=$,this.ctrl=x}block(){if(this.ctrl){if(this.disable)for(const x of this.disable)this.ctrl.disableGesture(x,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const x of this.disable)this.ctrl.enableGesture(x,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const K="backdrop-no-scroll",z=new class S{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(x){var T;return new u(this,this.newID(),x.name,null!==(T=x.priority)&&void 0!==T?T:0,!!x.disableScroll)}createBlocker(x={}){return new Y(this,this.newID(),x.disable,!!x.disableScroll)}start(x,T,Q){return this.canStart(x)?(this.requestedStart.set(T,Q),!0):(this.requestedStart.delete(T),!1)}capture(x,T,Q){if(!this.start(x,T,Q))return!1;const $=this.requestedStart;let R=-1e4;if($.forEach(O=>{R=Math.max(R,O)}),R===Q){this.capturedId=T,$.clear();const O=new CustomEvent("ionGestureCaptured",{detail:{gestureName:x}});return document.dispatchEvent(O),!0}return $.delete(T),!1}release(x){this.requestedStart.delete(x),this.capturedId===x&&(this.capturedId=void 0)}disableGesture(x,T){let Q=this.disabledGestures.get(x);void 0===Q&&(Q=new Set,this.disabledGestures.set(x,Q)),Q.add(T)}enableGesture(x,T){const Q=this.disabledGestures.get(x);void 0!==Q&&Q.delete(T)}disableScroll(x){this.disabledScroll.add(x),1===this.disabledScroll.size&&document.body.classList.add(K)}enableScroll(x){this.disabledScroll.delete(x),0===this.disabledScroll.size&&document.body.classList.remove(K)}canStart(x){return!(void 0!==this.capturedId||this.isDisabled(x))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(x){const T=this.disabledGestures.get(x);return!!(T&&T.size>0)}newID(){return this.gestureId++,this.gestureId}}},1940:(ve,Ee,C)=>{"use strict";C.r(Ee),C.d(Ee,{MENU_BACK_BUTTON_PRIORITY:()=>z,OVERLAY_BACK_BUTTON_PRIORITY:()=>K,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>Y});var S=C(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},Y=()=>{const P=document;let x=!1;P.addEventListener("backbutton",()=>{if(x)return;let T=0,Q=[];const $=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(A,j){Q.push({priority:A,handler:j,id:T++})}}});P.dispatchEvent($);const R=function(){var A=(0,S.Z)(function*(j){try{if(j?.handler){const fe=j.handler(O);null!=fe&&(yield fe)}}catch(fe){console.error(fe)}});return function(fe){return A.apply(this,arguments)}}(),O=()=>{if(Q.length>0){let A={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Q.forEach(j=>{j.priority>=A.priority&&(A=j)}),x=!0,Q=Q.filter(j=>j.id!==A.id),R(A).then(()=>x=!1)}};O()})},K=100,z=99},4675:(ve,Ee,C)=>{"use strict";C.d(Ee,{a:()=>T,b:()=>Q,c:()=>Y,d:()=>be,e:()=>fe,f:()=>j,g:()=>$,h:()=>A,i:()=>x,j:()=>ae,k:()=>z,l:()=>se,m:()=>K,n:()=>O,o:()=>Z,p:()=>le,q:()=>Me,r:()=>R,s:()=>ke,t:()=>S,u:()=>k,v:()=>te});const S=(F,N=0)=>new Promise(ne=>{u(F,N,ne)}),u=(F,N=0,ne)=>{let I,X;const q={passive:!0},Be=()=>{I&&I()},ht=Tt=>{(void 0===Tt||F===Tt.target)&&(Be(),ne(Tt))};return F&&(F.addEventListener("webkitTransitionEnd",ht,q),F.addEventListener("transitionend",ht,q),X=setTimeout(ht,N+500),I=()=>{X&&(clearTimeout(X),X=void 0),F.removeEventListener("webkitTransitionEnd",ht,q),F.removeEventListener("transitionend",ht,q)}),Be},Y=(F,N)=>{F.componentOnReady?F.componentOnReady().then(ne=>N(ne)):R(()=>N(F))},K=F=>void 0!==F.componentOnReady,z=(F,N=[])=>{const ne={};return N.forEach(I=>{F.hasAttribute(I)&&(null!==F.getAttribute(I)&&(ne[I]=F.getAttribute(I)),F.removeAttribute(I))}),ne},P=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],x=(F,N)=>{let ne=P;return N&&N.length>0&&(ne=ne.filter(I=>!N.includes(I))),z(F,ne)},T=(F,N,ne,I)=>{var X;if(typeof window<"u"){const q=window,ge=null===(X=q?.Ionic)||void 0===X?void 0:X.config;if(ge){const Be=ge.get("_ael");if(Be)return Be(F,N,ne,I);if(ge._ael)return ge._ael(F,N,ne,I)}}return F.addEventListener(N,ne,I)},Q=(F,N,ne,I)=>{var X;if(typeof window<"u"){const q=window,ge=null===(X=q?.Ionic)||void 0===X?void 0:X.config;if(ge){const Be=ge.get("_rel");if(Be)return Be(F,N,ne,I);if(ge._rel)return ge._rel(F,N,ne,I)}}return F.removeEventListener(N,ne,I)},$=(F,N=F)=>F.shadowRoot||N,R=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F),O=F=>!!F.shadowRoot&&!!F.attachShadow,A=F=>{const N=F.closest("ion-item");return N?N.querySelector("ion-label"):null},j=F=>{if(F.focus(),F.classList.contains("ion-focusable")){const N=F.closest("ion-app");N&&N.setFocus([F])}},fe=(F,N)=>{let ne;const I=F.getAttribute("aria-labelledby"),X=F.id;let q=null!==I&&""!==I.trim()?I:N+"-lbl",ge=null!==I&&""!==I.trim()?document.getElementById(I):A(F);return ge?(null===I&&(ge.id=q),ne=ge.textContent,ge.setAttribute("aria-hidden","true")):""!==X.trim()&&(ge=document.querySelector(`label[for="${X}"]`),ge&&(""!==ge.id?q=ge.id:ge.id=q=`${X}-lbl`,ne=ge.textContent)),{label:ge,labelId:q,labelText:ne}},be=(F,N,ne,I,X)=>{if(F||O(N)){let q=N.querySelector("input.aux-input");q||(q=N.ownerDocument.createElement("input"),q.type="hidden",q.classList.add("aux-input"),N.appendChild(q)),q.disabled=X,q.name=ne,q.value=I||""}},se=(F,N,ne)=>Math.max(F,Math.min(N,ne)),Z=(F,N)=>{if(!F){const ne="ASSERT: "+N;throw console.error(ne),new Error(ne)}},k=F=>F.timeStamp||Date.now(),te=F=>{if(F){const N=F.changedTouches;if(N&&N.length>0){const ne=N[0];return{x:ne.clientX,y:ne.clientY}}if(void 0!==F.pageX)return{x:F.pageX,y:F.pageY}}return{x:0,y:0}},le=F=>{const N="rtl"===document.dir;switch(F){case"start":return N;case"end":return!N;default:throw new Error(`"${F}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ae=(F,N)=>{const ne=F._original||F;return{_original:F,emit:Me(ne.emit.bind(ne),N)}},Me=(F,N=0)=>{let ne;return(...I)=>{clearTimeout(ne),ne=setTimeout(F,N,...I)}},ke=(F,N)=>{if(F??(F={}),N??(N={}),F===N)return!0;const ne=Object.keys(F);if(ne.length!==Object.keys(N).length)return!1;for(const I of ne)if(!(I in N)||F[I]!==N[I])return!1;return!0}},4656:(ve,Ee,C)=>{"use strict";C.d(Ee,{m:()=>A});var S=C(3918),u=C(6940),Y=C(1940),K=C(6240),z=C(4675),P=C(5194),x=C(2723);const T=j=>(0,x.c)().duration(j?400:300),Q=j=>{let fe,be;const se=j.width+8,Z=(0,x.c)(),k=(0,x.c)();j.isEndSide?(fe=se+"px",be="0px"):(fe=-se+"px",be="0px"),Z.addElement(j.menuInnerEl).fromTo("transform",`translateX(${fe})`,`translateX(${be})`);const le="ios"===(0,P.b)(j),ae=le?.2:.25;return k.addElement(j.backdropEl).fromTo("opacity",.01,ae),T(le).addAnimation([Z,k])},$=j=>{let fe,be;const se=(0,P.b)(j),Z=j.width;j.isEndSide?(fe=-Z+"px",be=Z+"px"):(fe=Z+"px",be=-Z+"px");const k=(0,x.c)().addElement(j.menuInnerEl).fromTo("transform",`translateX(${be})`,"translateX(0px)"),te=(0,x.c)().addElement(j.contentEl).fromTo("transform","translateX(0px)",`translateX(${fe})`),le=(0,x.c)().addElement(j.backdropEl).fromTo("opacity",.01,.32);return T("ios"===se).addAnimation([k,te,le])},R=j=>{const fe=(0,P.b)(j),be=j.width*(j.isEndSide?-1:1)+"px",se=(0,x.c)().addElement(j.contentEl).fromTo("transform","translateX(0px)",`translateX(${be})`);return T("ios"===fe).addAnimation(se)},A=(()=>{const j=new Map,fe=[],be=function(){var Re=(0,S.Z)(function*(Ge){const st=yield Me(Ge,!0);return!!st&&st.open()});return function(st){return Re.apply(this,arguments)}}(),se=function(){var Re=(0,S.Z)(function*(Ge){const st=yield void 0!==Ge?Me(Ge,!0):ke();return void 0!==st&&st.close()});return function(st){return Re.apply(this,arguments)}}(),Z=function(){var Re=(0,S.Z)(function*(Ge){const st=yield Me(Ge,!0);return!!st&&st.toggle()});return function(st){return Re.apply(this,arguments)}}(),k=function(){var Re=(0,S.Z)(function*(Ge,st){const Pt=yield Me(st);return Pt&&(Pt.disabled=!Ge),Pt});return function(st,Pt){return Re.apply(this,arguments)}}(),te=function(){var Re=(0,S.Z)(function*(Ge,st){const Pt=yield Me(st);return Pt&&(Pt.swipeGesture=Ge),Pt});return function(st,Pt){return Re.apply(this,arguments)}}(),le=function(){var Re=(0,S.Z)(function*(Ge){if(null!=Ge){const st=yield Me(Ge);return void 0!==st&&st.isOpen()}return void 0!==(yield ke())});return function(st){return Re.apply(this,arguments)}}(),ae=function(){var Re=(0,S.Z)(function*(Ge){const st=yield Me(Ge);return!!st&&!st.disabled});return function(st){return Re.apply(this,arguments)}}(),Me=function(){var Re=(0,S.Z)(function*(Ge,st=!1){if(yield We(),"start"===Ge||"end"===Ge){const pe=fe.filter(at=>at.side===Ge&&!at.disabled);if(pe.length>=1)return pe.length>1&&st&&(0,K.p)(`menuController queried for a menu on the "${Ge}" side, but ${pe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,pe.map(at=>at.el)),pe[0].el;const He=fe.filter(at=>at.side===Ge);if(He.length>=1)return He.length>1&&st&&(0,K.p)(`menuController queried for a menu on the "${Ge}" side, but ${He.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,He.map(at=>at.el)),He[0].el}else if(null!=Ge)return Fe(pe=>pe.menuId===Ge);return Fe(pe=>!pe.disabled)||(fe.length>0?fe[0].el:void 0)});return function(st){return Re.apply(this,arguments)}}(),ke=function(){var Re=(0,S.Z)(function*(){return yield We(),Be()});return function(){return Re.apply(this,arguments)}}(),F=function(){var Re=(0,S.Z)(function*(){return yield We(),ht()});return function(){return Re.apply(this,arguments)}}(),N=function(){var Re=(0,S.Z)(function*(){return yield We(),Tt()});return function(){return Re.apply(this,arguments)}}(),ne=(Re,Ge)=>{j.set(Re,Ge)},q=function(){var Re=(0,S.Z)(function*(Ge,st,Pt){if(Tt())return!1;if(st){const pe=yield ke();pe&&Ge.el!==pe&&(yield pe.setOpen(!1,!1))}return Ge._setOpen(st,Pt)});return function(st,Pt,pe){return Re.apply(this,arguments)}}(),Be=()=>Fe(Re=>Re._isOpen),ht=()=>fe.map(Re=>Re.el),Tt=()=>fe.some(Re=>Re.isAnimating),Fe=Re=>{const Ge=fe.find(Re);if(void 0!==Ge)return Ge.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Re=>new Promise(Ge=>(0,z.c)(Re,Ge))));return ne("reveal",R),ne("push",$),ne("overlay",Q),null==u.d||u.d.addEventListener("ionBackButton",Re=>{const Ge=Be();Ge&&Re.detail.register(Y.MENU_BACK_BUTTON_PRIORITY,()=>Ge.close())}),{registerAnimation:ne,get:Me,getMenus:F,getOpen:ke,isEnabled:ae,swipeGesture:te,isAnimating:N,isOpen:le,enable:k,toggle:Z,close:se,open:be,_getOpenSync:Be,_createAnimation:(Re,Ge)=>{const st=j.get(Re);if(!st)throw new Error("animation not registered");return st(Ge)},_register:Re=>{fe.indexOf(Re)<0&&fe.push(Re)},_unregister:Re=>{const Ge=fe.indexOf(Re);Ge>-1&&fe.splice(Ge,1)},_setOpen:q}})()},4923:(ve,Ee,C)=>{"use strict";C.r(Ee),C.d(Ee,{GESTURE_CONTROLLER:()=>S.G,createGesture:()=>Q});var S=C(4967);const u=(A,j,fe,be)=>{const se=Y(A)?{capture:!!be.capture,passive:!!be.passive}:!!be.capture;let Z,k;return A.__zone_symbol__addEventListener?(Z="__zone_symbol__addEventListener",k="__zone_symbol__removeEventListener"):(Z="addEventListener",k="removeEventListener"),A[Z](j,fe,se),()=>{A[k](j,fe,se)}},Y=A=>{if(void 0===K)try{const j=Object.defineProperty({},"passive",{get:()=>{K=!0}});A.addEventListener("optsTest",()=>{},j)}catch{K=!1}return!!K};let K;const x=A=>A instanceof Document?A:A.ownerDocument,Q=A=>{let j=!1,fe=!1,be=!0,se=!1;const Z=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},A),k=Z.canStart,te=Z.onWillStart,le=Z.onStart,ae=Z.onEnd,Me=Z.notCaptured,ke=Z.onMove,F=Z.threshold,N=Z.passive,ne=Z.blurOnStart,I={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},X=((A,j,fe)=>{const be=fe*(Math.PI/180),se="x"===A,Z=Math.cos(be),k=j*j;let te=0,le=0,ae=!1,Me=0;return{start(ke,F){te=ke,le=F,Me=0,ae=!0},detect(ke,F){if(!ae)return!1;const N=ke-te,ne=F-le,I=N*N+ne*ne;if(I<k)return!1;const X=Math.sqrt(I),q=(se?N:ne)/X;return Me=q>Z?1:q<-Z?-1:0,ae=!1,!0},isGesture:()=>0!==Me,getDirection:()=>Me}})(Z.direction,Z.threshold,Z.maxAngle),q=S.G.createGesture({name:A.gestureName,priority:A.gesturePriority,disableScroll:A.disableScroll}),ht=()=>{j&&(se=!1,ke&&ke(I))},Tt=()=>!!q.capture()&&(j=!0,be=!1,I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime,te?te(I).then(We):We(),!0),We=()=>{ne&&(()=>{if(typeof document<"u"){const pe=document.activeElement;pe?.blur&&pe.blur()}})(),le&&le(I),be=!0},Re=()=>{j=!1,fe=!1,se=!1,be=!0,q.release()},Ge=pe=>{const He=j,at=be;if(Re(),at){if($(I,pe),He)return void(ae&&ae(I));Me&&Me(I)}},st=((A,j,fe,be,se)=>{let Z,k,te,le,ae,Me,ke,F=0;const N=Fe=>{F=Date.now()+2e3,j(Fe)&&(!k&&fe&&(k=u(A,"touchmove",fe,se)),te||(te=u(Fe.target,"touchend",I,se)),le||(le=u(Fe.target,"touchcancel",I,se)))},ne=Fe=>{F>Date.now()||j(Fe)&&(!Me&&fe&&(Me=u(x(A),"mousemove",fe,se)),ke||(ke=u(x(A),"mouseup",X,se)))},I=Fe=>{q(),be&&be(Fe)},X=Fe=>{ge(),be&&be(Fe)},q=()=>{k&&k(),te&&te(),le&&le(),k=te=le=void 0},ge=()=>{Me&&Me(),ke&&ke(),Me=ke=void 0},Be=()=>{q(),ge()},ht=(Fe=!0)=>{Fe?(Z||(Z=u(A,"touchstart",N,se)),ae||(ae=u(A,"mousedown",ne,se))):(Z&&Z(),ae&&ae(),Z=ae=void 0,Be())};return{enable:ht,stop:Be,destroy:()=>{ht(!1),be=fe=j=void 0}}})(Z.el,pe=>{const He=O(pe);return!(fe||!be||(R(pe,I),I.startX=I.currentX,I.startY=I.currentY,I.startTime=I.currentTime=He,I.velocityX=I.velocityY=I.deltaX=I.deltaY=0,I.event=pe,k&&!1===k(I))||(q.release(),!q.start()))&&(fe=!0,0===F?Tt():(X.start(I.startX,I.startY),!0))},pe=>{j?!se&&be&&(se=!0,$(I,pe),requestAnimationFrame(ht)):($(I,pe),X.detect(I.currentX,I.currentY)&&(!X.isGesture()||!Tt())&&Pt())},Ge,{capture:!1,passive:N}),Pt=()=>{Re(),st.stop(),Me&&Me(I)};return{enable(pe=!0){pe||(j&&Ge(void 0),Re()),st.enable(pe)},destroy(){q.destroy(),st.destroy()}}},$=(A,j)=>{if(!j)return;const fe=A.currentX,be=A.currentY,se=A.currentTime;R(j,A);const Z=A.currentX,k=A.currentY,le=(A.currentTime=O(j))-se;if(le>0&&le<100){const Me=(k-be)/le;A.velocityX=(Z-fe)/le*.7+.3*A.velocityX,A.velocityY=.7*Me+.3*A.velocityY}A.deltaX=Z-A.startX,A.deltaY=k-A.startY,A.event=j},R=(A,j)=>{let fe=0,be=0;if(A){const se=A.changedTouches;if(se&&se.length>0){const Z=se[0];fe=Z.clientX,be=Z.clientY}else void 0!==A.pageX&&(fe=A.pageX,be=A.pageY)}j.currentX=fe,j.currentY=be},O=A=>A.timeStamp||Date.now()},8044:(ve,Ee,C)=>{"use strict";C.d(Ee,{b:()=>P,c:()=>x,d:()=>T,e:()=>F,g:()=>I,l:()=>Me,s:()=>N,t:()=>R,w:()=>ke});var S=C(3918),u=C(3426),Y=C(4675);const P="ionViewWillLeave",x="ionViewDidLeave",T="ionViewWillUnload",R=X=>new Promise((q,ge)=>{(0,u.w)(()=>{O(X),A(X).then(Be=>{Be.animation&&Be.animation.destroy(),j(X),q(Be)},Be=>{j(X),ge(Be)})})}),O=X=>{const q=X.enteringEl,ge=X.leavingEl;ne(q,ge,X.direction),X.showGoBack?q.classList.add("can-go-back"):q.classList.remove("can-go-back"),N(q,!1),q.style.setProperty("pointer-events","none"),ge&&(N(ge,!1),ge.style.setProperty("pointer-events","none"))},A=function(){var X=(0,S.Z)(function*(q){const ge=yield fe(q);return ge&&u.B.isBrowser?be(ge,q):se(q)});return function(ge){return X.apply(this,arguments)}}(),j=X=>{const q=X.enteringEl,ge=X.leavingEl;q.classList.remove("ion-page-invisible"),q.style.removeProperty("pointer-events"),void 0!==ge&&(ge.classList.remove("ion-page-invisible"),ge.style.removeProperty("pointer-events"))},fe=function(){var X=(0,S.Z)(function*(q){return q.leavingEl&&q.animated&&0!==q.duration?q.animationBuilder?q.animationBuilder:"ios"===q.mode?(yield Promise.resolve().then(C.bind(C,5444))).iosTransitionAnimation:(yield Promise.resolve().then(C.bind(C,5922))).mdTransitionAnimation:void 0});return function(ge){return X.apply(this,arguments)}}(),be=function(){var X=(0,S.Z)(function*(q,ge){yield Z(ge,!0);const Be=q(ge.baseEl,ge);le(ge.enteringEl,ge.leavingEl);const ht=yield te(Be,ge);return ge.progressCallback&&ge.progressCallback(void 0),ht&&ae(ge.enteringEl,ge.leavingEl),{hasCompleted:ht,animation:Be}});return function(ge,Be){return X.apply(this,arguments)}}(),se=function(){var X=(0,S.Z)(function*(q){const ge=q.enteringEl,Be=q.leavingEl;return yield Z(q,!1),le(ge,Be),ae(ge,Be),{hasCompleted:!0}});return function(ge){return X.apply(this,arguments)}}(),Z=function(){var X=(0,S.Z)(function*(q,ge){(void 0!==q.deepWait?q.deepWait:ge)&&(yield Promise.all([F(q.enteringEl),F(q.leavingEl)])),yield k(q.viewIsReady,q.enteringEl)});return function(ge,Be){return X.apply(this,arguments)}}(),k=function(){var X=(0,S.Z)(function*(q,ge){q&&(yield q(ge))});return function(ge,Be){return X.apply(this,arguments)}}(),te=(X,q)=>{const ge=q.progressCallback,Be=new Promise(ht=>{X.onFinish(Tt=>ht(1===Tt))});return ge?(X.progressStart(!0),ge(X)):X.play(),Be},le=(X,q)=>{Me(q,P),Me(X,"ionViewWillEnter")},ae=(X,q)=>{Me(X,"ionViewDidEnter"),Me(q,x)},Me=(X,q)=>{if(X){const ge=new CustomEvent(q,{bubbles:!1,cancelable:!1});X.dispatchEvent(ge)}},ke=()=>new Promise(X=>(0,Y.r)(()=>(0,Y.r)(()=>X()))),F=function(){var X=(0,S.Z)(function*(q){const ge=q;if(ge){if(null!=ge.componentOnReady){if(null!=(yield ge.componentOnReady()))return}else if(null!=ge.__registerHost)return void(yield new Promise(ht=>(0,Y.r)(ht)));yield Promise.all(Array.from(ge.children).map(F))}});return function(ge){return X.apply(this,arguments)}}(),N=(X,q)=>{q?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},ne=(X,q,ge)=>{void 0!==X&&(X.style.zIndex="back"===ge?"99":"101"),void 0!==q&&(q.style.zIndex="100")},I=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},6240:(ve,Ee,C)=>{"use strict";C.d(Ee,{a:()=>u,b:()=>Y,p:()=>S});const S=(K,...z)=>console.warn(`[Ionic Warning]: ${K}`,...z),u=(K,...z)=>console.error(`[Ionic Error]: ${K}`,...z),Y=(K,...z)=>console.error(`<${K.tagName.toLowerCase()}> must be used inside ${z.join(" or ")}.`)},6940:(ve,Ee,C)=>{"use strict";C.d(Ee,{d:()=>u,w:()=>S});const S=typeof window<"u"?window:void 0,u=typeof document<"u"?document:void 0},3426:(ve,Ee,C)=>{"use strict";C.d(Ee,{B:()=>O,H:()=>Tt,a:()=>Ks,b:()=>Ss,c:()=>at,d:()=>At,e:()=>kl,f:()=>Gt,g:()=>Ye,h:()=>Be,i:()=>$o,j:()=>A,r:()=>di,w:()=>os});var S=C(3918);let K,z,P,x=!1,T=!1,Q=!1,$=!1,R=!1;const O={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},A=g=>{const w=new URL(g,xn.$resourcesUrl$);return w.origin!==Xo.location.origin?w.href:w.pathname},te="s-id",le="sty-id",ke="slot-fb{display:contents}slot-fb[hidden]{display:none}",F="http://www.w3.org/1999/xlink",N={},q=g=>"object"==(g=typeof g)||"function"===g;function ge(g){var w,E,ie;return null!==(ie=null===(E=null===(w=g.head)||void 0===w?void 0:w.querySelector('meta[name="csp-nonce"]'))||void 0===E?void 0:E.getAttribute("content"))&&void 0!==ie?ie:void 0}const Be=(g,w,...E)=>{let ie=null,Ae=null,ce=null,Qe=!1,Ke=!1;const nt=[],Ve=Et=>{for(let B=0;B<Et.length;B++)ie=Et[B],Array.isArray(ie)?Ve(ie):null!=ie&&"boolean"!=typeof ie&&((Qe="function"!=typeof g&&!q(ie))&&(ie=String(ie)),Qe&&Ke?nt[nt.length-1].$text$+=ie:nt.push(Qe?ht(null,ie):ie),Ke=Qe)};if(Ve(E),w){w.key&&(Ae=w.key),w.name&&(ce=w.name);{const Et=w.className||w.class;Et&&(w.class="object"!=typeof Et?Et:Object.keys(Et).filter(B=>Et[B]).join(" "))}}if("function"==typeof g)return g(null===w?{}:w,nt,We);const ft=ht(g,null);return ft.$attrs$=w,nt.length>0&&(ft.$children$=nt),ft.$key$=Ae,ft.$name$=ce,ft},ht=(g,w)=>({$flags$:0,$tag$:g,$text$:w,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Tt={},We={forEach:(g,w)=>g.map(Re).forEach(w),map:(g,w)=>g.map(Re).map(w).map(Ge)},Re=g=>({vattrs:g.$attrs$,vchildren:g.$children$,vkey:g.$key$,vname:g.$name$,vtag:g.$tag$,vtext:g.$text$}),Ge=g=>{if("function"==typeof g.vtag){const E=Object.assign({},g.vattrs);return g.vkey&&(E.key=g.vkey),g.vname&&(E.name=g.vname),Be(g.vtag,E,...g.vchildren||[])}const w=ht(g.vtag,g.vtext);return w.$attrs$=g.vattrs,w.$children$=g.vchildren,w.$key$=g.vkey,w.$name$=g.vname,w},Pt=(g,w,E,ie,Ae,ce,Qe)=>{let Ke,nt,Ve,ft;if(1===ce.nodeType){for(Ke=ce.getAttribute("c-id"),Ke&&(nt=Ke.split("."),(nt[0]===Qe||"0"===nt[0])&&(Ve={$flags$:0,$hostId$:nt[0],$nodeId$:nt[1],$depth$:nt[2],$index$:nt[3],$tag$:ce.tagName.toLowerCase(),$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},w.push(Ve),ce.removeAttribute("c-id"),g.$children$||(g.$children$=[]),g.$children$[Ve.$index$]=Ve,g=Ve,ie&&"0"===Ve.$depth$&&(ie[Ve.$index$]=Ve.$elm$))),ft=ce.childNodes.length-1;ft>=0;ft--)Pt(g,w,E,ie,Ae,ce.childNodes[ft],Qe);if(ce.shadowRoot)for(ft=ce.shadowRoot.childNodes.length-1;ft>=0;ft--)Pt(g,w,E,ie,Ae,ce.shadowRoot.childNodes[ft],Qe)}else if(8===ce.nodeType)nt=ce.nodeValue.split("."),(nt[1]===Qe||"0"===nt[1])&&(Ke=nt[0],Ve={$flags$:0,$hostId$:nt[1],$nodeId$:nt[2],$depth$:nt[3],$index$:nt[4],$elm$:ce,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ke?(Ve.$elm$=ce.nextSibling,Ve.$elm$&&3===Ve.$elm$.nodeType&&(Ve.$text$=Ve.$elm$.textContent,w.push(Ve),ce.remove(),g.$children$||(g.$children$=[]),g.$children$[Ve.$index$]=Ve,ie&&"0"===Ve.$depth$&&(ie[Ve.$index$]=Ve.$elm$))):Ve.$hostId$===Qe&&("s"===Ke?(Ve.$tag$="slot",ce["s-sn"]=nt[5]?Ve.$name$=nt[5]:"",ce["s-sr"]=!0,ie&&(Ve.$elm$=yr.createElement(Ve.$tag$),Ve.$name$&&Ve.$elm$.setAttribute("name",Ve.$name$),ce.parentNode.insertBefore(Ve.$elm$,ce),ce.remove(),"0"===Ve.$depth$&&(ie[Ve.$index$]=Ve.$elm$)),E.push(Ve),g.$children$||(g.$children$=[]),g.$children$[Ve.$index$]=Ve):"r"===Ke&&(ie?ce.remove():(Ae["s-cr"]=ce,ce["s-cn"]=!0))));else if(g&&"style"===g.$tag$){const Et=ht(null,ce.textContent);Et.$elm$=ce,Et.$index$="0",g.$children$=[Et]}},pe=(g,w)=>{if(1===g.nodeType){let E=0;for(;E<g.childNodes.length;E++)pe(g.childNodes[E],w);if(g.shadowRoot)for(E=0;E<g.shadowRoot.childNodes.length;E++)pe(g.shadowRoot.childNodes[E],w)}else if(8===g.nodeType){const E=g.nodeValue.split(".");"o"===E[0]&&(w.set(E[1]+"."+E[2],g),g.nodeValue="",g["s-en"]=E[3])}},at=g=>Mo.push(g),Ye=g=>Kr(g).$modeName$,Gt=g=>Kr(g).$hostElement$,At=(g,w,E)=>{const ie=Gt(g);return{emit:Ae=>Ie(ie,w,{bubbles:!!(4&E),composed:!!(2&E),cancelable:!!(1&E),detail:Ae})}},Ie=(g,w,E)=>{const ie=xn.ce(w,E);return g.dispatchEvent(ie),ie},_e=new WeakMap,xe=(g,w,E)=>{let ie=Xr.get(g);ma&&E?(ie=ie||new CSSStyleSheet,"string"==typeof ie?ie=w:ie.replaceSync(w)):ie=w,Xr.set(g,ie)},Je=(g,w,E)=>{var ie;const Ae=Ut(w,E),ce=Xr.get(Ae);if(g=11===g.nodeType?g:yr,ce)if("string"==typeof ce){let Ke,Qe=_e.get(g=g.head||g);if(Qe||_e.set(g,Qe=new Set),!Qe.has(Ae)){if(g.host&&(Ke=g.querySelector(`[${le}="${Ae}"]`)))Ke.innerHTML=ce;else{Ke=yr.createElement("style"),Ke.innerHTML=ce;const nt=null!==(ie=xn.$nonce$)&&void 0!==ie?ie:ge(yr);null!=nt&&Ke.setAttribute("nonce",nt),g.insertBefore(Ke,g.querySelector("link"))}4&w.$flags$&&(Ke.innerHTML+=ke),Qe&&Qe.add(Ae)}}else g.adoptedStyleSheets.includes(ce)||(g.adoptedStyleSheets=[...g.adoptedStyleSheets,ce]);return Ae},Ut=(g,w)=>"sc-"+(w&&32&g.$flags$?g.$tagName$+"-"+w:g.$tagName$),rn=g=>g.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),$t=(g,w,E,ie,Ae,ce)=>{if(E!==ie){let Qe=Ni(g,w),Ke=w.toLowerCase();if("class"===w){const nt=g.classList,Ve=Cn(E),ft=Cn(ie);nt.remove(...Ve.filter(Et=>Et&&!ft.includes(Et))),nt.add(...ft.filter(Et=>Et&&!Ve.includes(Et)))}else if("style"===w){for(const nt in E)(!ie||null==ie[nt])&&(nt.includes("-")?g.style.removeProperty(nt):g.style[nt]="");for(const nt in ie)(!E||ie[nt]!==E[nt])&&(nt.includes("-")?g.style.setProperty(nt,ie[nt]):g.style[nt]=ie[nt])}else if("key"!==w)if("ref"===w)ie&&ie(g);else if(Qe||"o"!==w[0]||"n"!==w[1]){const nt=q(ie);if((Qe||nt&&null!==ie)&&!Ae)try{if(g.tagName.includes("-"))g[w]=ie;else{const ft=ie??"";"list"===w?Qe=!1:(null==E||g[w]!=ft)&&(g[w]=ft)}}catch{}let Ve=!1;Ke!==(Ke=Ke.replace(/^xlink\:?/,""))&&(w=Ke,Ve=!0),null==ie||!1===ie?(!1!==ie||""===g.getAttribute(w))&&(Ve?g.removeAttributeNS(F,w):g.removeAttribute(w)):(!Qe||4&ce||Ae)&&!nt&&(ie=!0===ie?"":ie,Ve?g.setAttributeNS(F,w,ie):g.setAttribute(w,ie))}else if(w="-"===w[2]?w.slice(3):Ni(Xo,Ke)?Ke.slice(2):Ke[2]+w.slice(3),E||ie){const nt=w.endsWith(gr);w=w.replace(On,""),E&&xn.rel(g,w,E,nt),ie&&xn.ael(g,w,ie,nt)}}},on=/\s/,Cn=g=>g?g.split(on):[],gr="Capture",On=new RegExp(gr+"$"),qo=(g,w,E,ie)=>{const Ae=11===w.$elm$.nodeType&&w.$elm$.host?w.$elm$.host:w.$elm$,ce=g&&g.$attrs$||N,Qe=w.$attrs$||N;for(ie in ce)ie in Qe||$t(Ae,ie,ce[ie],void 0,E,w.$flags$);for(ie in Qe)$t(Ae,ie,ce[ie],Qe[ie],E,w.$flags$)},Vr=(g,w,E,ie)=>{var Ae;const ce=w.$children$[E];let Ke,nt,Ve,Qe=0;if(x||(Q=!0,"slot"===ce.$tag$&&(K&&ie.classList.add(K+"-s"),ce.$flags$|=ce.$children$?2:1)),null!==ce.$text$)Ke=ce.$elm$=yr.createTextNode(ce.$text$);else if(1&ce.$flags$)Ke=ce.$elm$=yr.createTextNode("");else{if($||($="svg"===ce.$tag$),Ke=ce.$elm$=yr.createElementNS($?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&ce.$flags$?"slot-fb":ce.$tag$),$&&"foreignObject"===ce.$tag$&&($=!1),qo(null,ce,$),(g=>null!=g)(K)&&Ke["s-si"]!==K&&Ke.classList.add(Ke["s-si"]=K),ce.$children$)for(Qe=0;Qe<ce.$children$.length;++Qe)nt=Vr(g,ce,Qe,Ke),nt&&Ke.appendChild(nt);"svg"===ce.$tag$?$=!1:"foreignObject"===Ke.tagName&&($=!0)}return Ke["s-hn"]=P,3&ce.$flags$&&(Ke["s-sr"]=!0,Ke["s-fs"]=null===(Ae=ce.$attrs$)||void 0===Ae?void 0:Ae.slot,Ke["s-cr"]=z,Ke["s-sn"]=ce.$name$||"",Ve=g&&g.$children$&&g.$children$[E],Ve&&Ve.$tag$===ce.$tag$&&g.$elm$&&vo(g.$elm$,!1)),Ke},vo=(g,w)=>{var E;xn.$flags$|=1;const ie=g.childNodes;for(let Ae=ie.length-1;Ae>=0;Ae--){const ce=ie[Ae];ce["s-hn"]!==P&&ce["s-ol"]&&(yo(ce).insertBefore(ce,lo(ce)),ce["s-ol"].remove(),ce["s-ol"]=void 0,ce["s-sh"]=void 0,1===ce.nodeType&&ce.setAttribute("slot",null!==(E=ce["s-sn"])&&void 0!==E?E:""),Q=!0),w&&vo(ce,w)}xn.$flags$&=-2},Pr=(g,w,E,ie,Ae,ce)=>{let Ke,Qe=g["s-cr"]&&g["s-cr"].parentNode||g;for(Qe.shadowRoot&&Qe.tagName===P&&(Qe=Qe.shadowRoot);Ae<=ce;++Ae)ie[Ae]&&(Ke=Vr(null,E,Ae,g),Ke&&(ie[Ae].$elm$=Ke,Qe.insertBefore(Ke,lo(w))))},Or=(g,w,E)=>{for(let ie=w;ie<=E;++ie){const Ae=g[ie];if(Ae){const ce=Ae.$elm$;vn(Ae),ce&&(T=!0,ce["s-ol"]?ce["s-ol"].remove():vo(ce,!0),ce.remove())}}},To=(g,w)=>g.$tag$===w.$tag$&&("slot"===g.$tag$?g.$name$===w.$name$:g.$key$===w.$key$),lo=g=>g&&g["s-ol"]||g,yo=g=>(g["s-ol"]?g["s-ol"]:g).parentNode,jr=(g,w)=>{const E=w.$elm$=g.$elm$,ie=g.$children$,Ae=w.$children$,ce=w.$tag$,Qe=w.$text$;let Ke;null===Qe?($="svg"===ce||"foreignObject"!==ce&&$,"slot"===ce||qo(g,w,$),null!==ie&&null!==Ae?((g,w,E,ie)=>{let ur,Fr,Ae=0,ce=0,Qe=0,Ke=0,nt=w.length-1,Ve=w[0],ft=w[nt],Et=ie.length-1,B=ie[0],An=ie[Et];for(;Ae<=nt&&ce<=Et;)if(null==Ve)Ve=w[++Ae];else if(null==ft)ft=w[--nt];else if(null==B)B=ie[++ce];else if(null==An)An=ie[--Et];else if(To(Ve,B))jr(Ve,B),Ve=w[++Ae],B=ie[++ce];else if(To(ft,An))jr(ft,An),ft=w[--nt],An=ie[--Et];else if(To(Ve,An))("slot"===Ve.$tag$||"slot"===An.$tag$)&&vo(Ve.$elm$.parentNode,!1),jr(Ve,An),g.insertBefore(Ve.$elm$,ft.$elm$.nextSibling),Ve=w[++Ae],An=ie[--Et];else if(To(ft,B))("slot"===Ve.$tag$||"slot"===An.$tag$)&&vo(ft.$elm$.parentNode,!1),jr(ft,B),g.insertBefore(ft.$elm$,Ve.$elm$),ft=w[--nt],B=ie[++ce];else{for(Qe=-1,Ke=Ae;Ke<=nt;++Ke)if(w[Ke]&&null!==w[Ke].$key$&&w[Ke].$key$===B.$key$){Qe=Ke;break}Qe>=0?(Fr=w[Qe],Fr.$tag$!==B.$tag$?ur=Vr(w&&w[ce],E,Qe,g):(jr(Fr,B),w[Qe]=void 0,ur=Fr.$elm$),B=ie[++ce]):(ur=Vr(w&&w[ce],E,ce,g),B=ie[++ce]),ur&&yo(Ve.$elm$).insertBefore(ur,lo(Ve.$elm$))}Ae>nt?Pr(g,null==ie[Et+1]?null:ie[Et+1].$elm$,E,ie,ce,Et):ce>Et&&Or(w,Ae,nt)})(E,ie,w,Ae):null!==Ae?(null!==g.$text$&&(E.textContent=""),Pr(E,null,w,Ae,0,Ae.length-1)):null!==ie&&Or(ie,0,ie.length-1),$&&"svg"===ce&&($=!1)):(Ke=E["s-cr"])?Ke.parentNode.textContent=Qe:g.$text$!==Qe&&(E.data=Qe)},de=g=>{const w=g.childNodes;for(const E of w)if(1===E.nodeType){if(E["s-sr"]){const ie=E["s-sn"];E.hidden=!1;for(const Ae of w)if(Ae!==E)if(Ae["s-hn"]!==E["s-hn"]||""!==ie){if(1===Ae.nodeType&&(ie===Ae.getAttribute("slot")||ie===Ae["s-sn"])){E.hidden=!0;break}}else if(1===Ae.nodeType||3===Ae.nodeType&&""!==Ae.textContent.trim()){E.hidden=!0;break}}de(E)}},we=[],Xt=g=>{let w,E,ie;for(const Ae of g.childNodes){if(Ae["s-sr"]&&(w=Ae["s-cr"])&&w.parentNode){E=w.parentNode.childNodes;const ce=Ae["s-sn"];for(ie=E.length-1;ie>=0;ie--)if(w=E[ie],!w["s-cn"]&&!w["s-nr"]&&w["s-hn"]!==Ae["s-hn"])if(Ht(w,ce)){let Qe=we.find(Ke=>Ke.$nodeToRelocate$===w);T=!0,w["s-sn"]=w["s-sn"]||ce,Qe?(Qe.$nodeToRelocate$["s-sh"]=Ae["s-hn"],Qe.$slotRefNode$=Ae):(w["s-sh"]=Ae["s-hn"],we.push({$slotRefNode$:Ae,$nodeToRelocate$:w})),w["s-sr"]&&we.map(Ke=>{Ht(Ke.$nodeToRelocate$,w["s-sn"])&&(Qe=we.find(nt=>nt.$nodeToRelocate$===w),Qe&&!Ke.$slotRefNode$&&(Ke.$slotRefNode$=Qe.$slotRefNode$))})}else we.some(Qe=>Qe.$nodeToRelocate$===w)||we.push({$nodeToRelocate$:w})}1===Ae.nodeType&&Xt(Ae)}},Ht=(g,w)=>1===g.nodeType?null===g.getAttribute("slot")&&""===w||g.getAttribute("slot")===w:g["s-sn"]===w||""===w,vn=g=>{g.$attrs$&&g.$attrs$.ref&&g.$attrs$.ref(null),g.$children$&&g.$children$.map(vn)},Dr=(g,w)=>{w&&!g.$onRenderResolve$&&w["s-p"]&&w["s-p"].push(new Promise(E=>g.$onRenderResolve$=E))},Wn=(g,w)=>{if(g.$flags$|=16,!(4&g.$flags$))return Dr(g,g.$ancestorComponent$),os(()=>Yr(g,w));g.$flags$|=512},Yr=(g,w)=>{const ie=g.$lazyInstance$;let Ae;return w&&(g.$flags$|=256,g.$queuedListeners$&&(g.$queuedListeners$.map(([ce,Qe])=>_r(ie,ce,Qe)),g.$queuedListeners$=void 0),Ae=_r(ie,"componentWillLoad")),Ae=bo(Ae,()=>_r(ie,"componentWillRender")),bo(Ae,()=>co(g,ie,w))},bo=(g,w)=>Dn(g)?g.then(w):w(),Dn=g=>g instanceof Promise||g&&g.then&&"function"==typeof g.then,co=function(){var g=(0,S.Z)(function*(w,E,ie){var Ae;const ce=w.$hostElement$,Ke=ce["s-rc"];ie&&(g=>{const w=g.$cmpMeta$,E=g.$hostElement$,ie=w.$flags$,ce=Je(E.shadowRoot?E.shadowRoot:E.getRootNode(),w,g.$modeName$);10&ie&&(E["s-sc"]=ce,E.classList.add(ce+"-h"),2&ie&&E.classList.add(ce+"-s"))})(w);uo(w,E,ce,ie),Ke&&(Ke.map(Ve=>Ve()),ce["s-rc"]=void 0);{const Ve=null!==(Ae=ce["s-p"])&&void 0!==Ae?Ae:[],ft=()=>Pi(w);0===Ve.length?ft():(Promise.all(Ve).then(ft),w.$flags$|=4,Ve.length=0)}});return function(E,ie,Ae){return g.apply(this,arguments)}}(),uo=(g,w,E,ie)=>{try{w=w.render&&w.render(),g.$flags$&=-17,g.$flags$|=2,((g,w,E=!1)=>{var ie,Ae,ce,Qe;const Ke=g.$hostElement$,nt=g.$cmpMeta$,Ve=g.$vnode$||ht(null,null),ft=(g=>g&&g.$tag$===Tt)(w)?w:Be(null,null,w);if(P=Ke.tagName,nt.$attrsToReflect$&&(ft.$attrs$=ft.$attrs$||{},nt.$attrsToReflect$.map(([Et,B])=>ft.$attrs$[B]=Ke[Et])),E&&ft.$attrs$)for(const Et of Object.keys(ft.$attrs$))Ke.hasAttribute(Et)&&!["key","ref","style","class"].includes(Et)&&(ft.$attrs$[Et]=Ke[Et]);if(ft.$tag$=null,ft.$flags$|=4,g.$vnode$=ft,ft.$elm$=Ve.$elm$=Ke.shadowRoot||Ke,K=Ke["s-sc"],z=Ke["s-cr"],x=0!=(1&nt.$flags$),T=!1,jr(Ve,ft),xn.$flags$|=1,Q){Xt(ft.$elm$);for(const Et of we){const B=Et.$nodeToRelocate$;if(!B["s-ol"]){const An=yr.createTextNode("");An["s-nr"]=B,B.parentNode.insertBefore(B["s-ol"]=An,B)}}for(const Et of we){const B=Et.$nodeToRelocate$,An=Et.$slotRefNode$;if(An){const ur=An.parentNode;let Fr=An.nextSibling;{let Gr=null===(ie=B["s-ol"])||void 0===ie?void 0:ie.previousSibling;for(;Gr;){let Qn=null!==(Ae=Gr["s-nr"])&&void 0!==Ae?Ae:null;if(Qn&&Qn["s-sn"]===B["s-sn"]&&ur===Qn.parentNode&&(Qn=Qn.nextSibling,!Qn||!Qn["s-nr"])){Fr=Qn;break}Gr=Gr.previousSibling}}(!Fr&&ur!==B.parentNode||B.nextSibling!==Fr)&&B!==Fr&&(!B["s-hn"]&&B["s-ol"]&&(B["s-hn"]=B["s-ol"].parentNode.nodeName),ur.insertBefore(B,Fr),1===B.nodeType&&(B.hidden=null!==(ce=B["s-ih"])&&void 0!==ce&&ce))}else 1===B.nodeType&&(E&&(B["s-ih"]=null!==(Qe=B.hidden)&&void 0!==Qe&&Qe),B.hidden=!0)}}T&&de(ft.$elm$),xn.$flags$&=-2,we.length=0})(g,w,ie)}catch(Ae){Co(Ae,g.$hostElement$)}return null},Pi=g=>{const E=g.$hostElement$,Ae=g.$lazyInstance$,ce=g.$ancestorComponent$;_r(Ae,"componentDidRender"),64&g.$flags$?_r(Ae,"componentDidUpdate"):(g.$flags$|=64,vr(E),_r(Ae,"componentDidLoad"),g.$onReadyResolve$(E),ce||Fn()),g.$onInstanceResolve$(E),g.$onRenderResolve$&&(g.$onRenderResolve$(),g.$onRenderResolve$=void 0),512&g.$flags$&&et(()=>Wn(g,!1)),g.$flags$&=-517},$o=g=>{{const w=Kr(g),E=w.$hostElement$.isConnected;return E&&2==(18&w.$flags$)&&Wn(w,!1),E}},Fn=g=>{vr(yr.documentElement),et(()=>Ie(Xo,"appload",{detail:{namespace:"ionic"}}))},_r=(g,w,E)=>{if(g&&g[w])try{return g[w](E)}catch(ie){Co(ie)}},vr=g=>g.classList.add("hydrated"),Yo=(g,w,E)=>{var ie;const Ae=g.prototype;if(w.$members$){g.watchers&&(w.$watchers$=g.watchers);const ce=Object.entries(w.$members$);if(ce.map(([Qe,[Ke]])=>{31&Ke||2&E&&32&Ke?Object.defineProperty(Ae,Qe,{get(){return((g,w)=>Kr(this).$instanceValues$.get(w))(0,Qe)},set(nt){((g,w,E,ie)=>{const Ae=Kr(g),ce=Ae.$hostElement$,Qe=Ae.$instanceValues$.get(w),Ke=Ae.$flags$,nt=Ae.$lazyInstance$;E=((g,w)=>null==g||q(g)?g:4&w?"false"!==g&&(""===g||!!g):2&w?parseFloat(g):1&w?String(g):g)(E,ie.$members$[w][0]);const Ve=Number.isNaN(Qe)&&Number.isNaN(E);if((!(8&Ke)||void 0===Qe)&&E!==Qe&&!Ve&&(Ae.$instanceValues$.set(w,E),nt)){if(ie.$watchers$&&128&Ke){const Et=ie.$watchers$[w];Et&&Et.map(B=>{try{nt[B](E,Qe,w)}catch(An){Co(An,ce)}})}2==(18&Ke)&&Wn(Ae,!1)}})(this,Qe,nt,w)},configurable:!0,enumerable:!0}):1&E&&64&Ke&&Object.defineProperty(Ae,Qe,{value(...nt){var Ve;const ft=Kr(this);return null===(Ve=ft?.$onInstancePromise$)||void 0===Ve?void 0:Ve.then(()=>{var Et;return null===(Et=ft.$lazyInstance$)||void 0===Et?void 0:Et[Qe](...nt)})}})}),1&E){const Qe=new Map;Ae.attributeChangedCallback=function(Ke,nt,Ve){xn.jmp(()=>{var ft;const Et=Qe.get(Ke);if(this.hasOwnProperty(Et))Ve=this[Et],delete this[Et];else{if(Ae.hasOwnProperty(Et)&&"number"==typeof this[Et]&&this[Et]==Ve)return;if(null==Et){const B=Kr(this),An=B?.$flags$;if(An&&!(8&An)&&128&An&&Ve!==nt){const ur=B.$lazyInstance$,Fr=null===(ft=w.$watchers$)||void 0===ft?void 0:ft[Ke];Fr?.forEach(Gr=>{null!=ur[Gr]&&ur[Gr].call(ur,Ve,nt,Ke)})}return}}this[Et]=(null!==Ve||"boolean"!=typeof this[Et])&&Ve})},g.observedAttributes=Array.from(new Set([...Object.keys(null!==(ie=w.$watchers$)&&void 0!==ie?ie:{}),...ce.filter(([Ke,nt])=>15&nt[0]).map(([Ke,nt])=>{var Ve;const ft=nt[1]||Ke;return Qe.set(ft,Ke),512&nt[0]&&(null===(Ve=w.$attrsToReflect$)||void 0===Ve||Ve.push([Ke,ft])),ft})]))}}return g},sn=function(){var g=(0,S.Z)(function*(w,E,ie,Ae){let ce;if(!(32&E.$flags$)){E.$flags$|=32;{if(ce=Ys(ie),ce.then){const Ve=()=>{};ce=yield ce,Ve()}ce.isProxied||(ie.$watchers$=ce.watchers,Yo(ce,ie,2),ce.isProxied=!0);const nt=()=>{};E.$flags$|=8;try{new ce(E)}catch(Ve){Co(Ve)}E.$flags$&=-9,E.$flags$|=128,nt(),ci(E.$lazyInstance$)}if(ce.style){let nt=ce.style;"string"!=typeof nt&&(nt=nt[E.$modeName$=(g=>Mo.map(w=>w(g)).find(w=>!!w))(w)]);const Ve=Ut(ie,E.$modeName$);if(!Xr.has(Ve)){const ft=()=>{};xe(Ve,nt,!!(1&ie.$flags$)),ft()}}}const Qe=E.$ancestorComponent$,Ke=()=>Wn(E,!0);Qe&&Qe["s-rc"]?Qe["s-rc"].push(Ke):Ke()});return function(E,ie,Ae,ce){return g.apply(this,arguments)}}(),ci=g=>{_r(g,"connectedCallback")},ui=g=>{const w=g["s-cr"]=yr.createComment("");w["s-cn"]=!0,g.insertBefore(w,g.firstChild)},Ei=g=>{_r(g,"disconnectedCallback")},re=function(){var g=(0,S.Z)(function*(w){if(!(1&xn.$flags$)){const E=Kr(w);E.$rmListeners$&&(E.$rmListeners$.map(ie=>ie()),E.$rmListeners$=void 0),E?.$lazyInstance$?Ei(E.$lazyInstance$):E?.$onReadyPromise$&&E.$onReadyPromise$.then(()=>Ei(E.$lazyInstance$))}});return function(E){return g.apply(this,arguments)}}(),Ss=(g,w={})=>{var E;const Ae=[],ce=w.exclude||[],Qe=Xo.customElements,Ke=yr.head,nt=Ke.querySelector("meta[charset]"),Ve=yr.createElement("style"),ft=[],Et=yr.querySelectorAll(`[${le}]`);let B,An=!0,ur=0;for(Object.assign(xn,w),xn.$resourcesUrl$=new URL(w.resourcesUrl||"./",yr.baseURI).href,xn.$flags$|=2;ur<Et.length;ur++)xe(Et[ur].getAttribute(le),rn(Et[ur].innerHTML),!0);let Fr=!1;if(g.map(Gr=>{Gr[1].map(Qn=>{var Ms;const jn={$flags$:Qn[0],$tagName$:Qn[1],$members$:Qn[2],$listeners$:Qn[3]};4&jn.$flags$&&(Fr=!0),jn.$members$=Qn[2],jn.$listeners$=Qn[3],jn.$attrsToReflect$=[],jn.$watchers$=null!==(Ms=Qn[4])&&void 0!==Ms?Ms:{};const Bo=jn.$tagName$,Ao=class extends HTMLElement{constructor(is){super(is),pa(is=this,jn),1&jn.$flags$&&is.attachShadow({mode:"open",delegatesFocus:!!(16&jn.$flags$)})}connectedCallback(){B&&(clearTimeout(B),B=null),An?ft.push(this):xn.jmp(()=>(g=>{if(!(1&xn.$flags$)){const w=Kr(g),E=w.$cmpMeta$,ie=()=>{};if(1&w.$flags$)Fi(g,w,E.$listeners$),w?.$lazyInstance$?ci(w.$lazyInstance$):w?.$onReadyPromise$&&w.$onReadyPromise$.then(()=>ci(w.$lazyInstance$));else{let Ae;if(w.$flags$|=1,Ae=g.getAttribute(te),Ae){if(1&E.$flags$){const ce=Je(g.shadowRoot,E,g.getAttribute("s-mode"));g.classList.remove(ce+"-h",ce+"-s")}((g,w,E,ie)=>{const ce=g.shadowRoot,Qe=[],nt=ce?[]:null,Ve=ie.$vnode$=ht(w,null);xn.$orgLocNodes$||pe(yr.body,xn.$orgLocNodes$=new Map),g[te]=E,g.removeAttribute(te),Pt(Ve,Qe,[],nt,g,g,E),Qe.map(ft=>{const Et=ft.$hostId$+"."+ft.$nodeId$,B=xn.$orgLocNodes$.get(Et),An=ft.$elm$;B&&ha&&""===B["s-en"]&&B.parentNode.insertBefore(An,B.nextSibling),ce||(An["s-hn"]=w,B&&(An["s-ol"]=B,An["s-ol"]["s-nr"]=An)),xn.$orgLocNodes$.delete(Et)}),ce&&nt.map(ft=>{ft&&ce.appendChild(ft)})})(g,E.$tagName$,Ae,w)}Ae||12&E.$flags$&&ui(g);{let ce=g;for(;ce=ce.parentNode||ce.host;)if(1===ce.nodeType&&ce.hasAttribute("s-id")&&ce["s-p"]||ce["s-p"]){Dr(w,w.$ancestorComponent$=ce);break}}E.$members$&&Object.entries(E.$members$).map(([ce,[Qe]])=>{if(31&Qe&&g.hasOwnProperty(ce)){const Ke=g[ce];delete g[ce],g[ce]=Ke}}),sn(g,w,E)}ie()}})(this))}disconnectedCallback(){xn.jmp(()=>re(this))}componentOnReady(){return Kr(this).$onReadyPromise$}};jn.$lazyBundleId$=Gr[0],!ce.includes(Bo)&&!Qe.get(Bo)&&(Ae.push(Bo),Qe.define(Bo,Yo(Ao,jn,1)))})}),Fr&&(Ve.innerHTML+=ke),Ve.innerHTML+=Ae+"{visibility:hidden}.hydrated{visibility:inherit}",Ve.innerHTML.length){Ve.setAttribute("data-styles","");const Gr=null!==(E=xn.$nonce$)&&void 0!==E?E:ge(yr);null!=Gr&&Ve.setAttribute("nonce",Gr),Ke.insertBefore(Ve,nt?nt.nextSibling:Ke.firstChild)}An=!1,ft.length?ft.map(Gr=>Gr.connectedCallback()):xn.jmp(()=>B=setTimeout(Fn,30))},Fi=(g,w,E,ie)=>{E&&E.map(([Ae,ce,Qe])=>{const Ke=_i(g,Ae),nt=Ko(w,Qe),Ve=Di(Ae);xn.ael(Ke,ce,nt,Ve),(w.$rmListeners$=w.$rmListeners$||[]).push(()=>xn.rel(Ke,ce,nt,Ve))})},Ko=(g,w)=>E=>{try{256&g.$flags$?g.$lazyInstance$[w](E):(g.$queuedListeners$=g.$queuedListeners$||[]).push([w,E])}catch(ie){Co(ie)}},_i=(g,w)=>4&w?yr:8&w?Xo:16&w?yr.body:g,Di=g=>0!=(2&g),Ii=new WeakMap,Kr=g=>Ii.get(g),di=(g,w)=>Ii.set(w.$lazyInstance$=g,w),pa=(g,w)=>{const E={$flags$:0,$hostElement$:g,$cmpMeta$:w,$instanceValues$:new Map};return E.$onInstancePromise$=new Promise(ie=>E.$onInstanceResolve$=ie),E.$onReadyPromise$=new Promise(ie=>E.$onReadyResolve$=ie),g["s-p"]=[],g["s-rc"]=[],Fi(g,E,w.$listeners$),Ii.set(g,E)},Ni=(g,w)=>w in g,Co=(g,w)=>(0,console.error)(g,w),ws=new Map,Ys=(g,w,E)=>{const ie=g.$tagName$.replace(/-/g,"_"),Ae=g.$lazyBundleId$,ce=ws.get(Ae);return ce?ce[ie]:C(863)(`./${Ae}.entry.js`).then(Qe=>(ws.set(Ae,Qe),Qe[ie]),Co)},Xr=new Map,Mo=[],Xo=typeof window<"u"?window:{},yr=Xo.document||{head:{}},xn={$flags$:0,$resourcesUrl$:"",jmp:g=>g(),raf:g=>requestAnimationFrame(g),ael:(g,w,E,ie)=>g.addEventListener(w,E,ie),rel:(g,w,E,ie)=>g.removeEventListener(w,E,ie),ce:(g,w)=>new CustomEvent(g,w)},Ks=g=>{Object.assign(xn,g)},ha=!0,ma=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ds=[],Is=[],xs=(g,w)=>E=>{g.push(E),R||(R=!0,w&&4&xn.$flags$?et(rs):xn.raf(rs))},Ts=g=>{for(let w=0;w<g.length;w++)try{g[w](performance.now())}catch(E){Co(E)}g.length=0},rs=()=>{Ts(Ds),Ts(Is),(R=Ds.length>0)&&xn.raf(rs)},et=g=>Promise.resolve(void 0).then(g),kl=xs(Ds,!1),os=xs(Is,!0)},5194:(ve,Ee,C)=>{"use strict";C.d(Ee,{a:()=>R,b:()=>ht,c:()=>Y,i:()=>Tt});var S=C(3426);class u{constructor(){this.m=new Map}reset(We){this.m=new Map(Object.entries(We))}get(We,Re){const Ge=this.m.get(We);return void 0!==Ge?Ge:Re}getBoolean(We,Re=!1){const Ge=this.m.get(We);return void 0===Ge?Re:"string"==typeof Ge?"true"===Ge:!!Ge}getNumber(We,Re){const Ge=parseFloat(this.m.get(We));return isNaN(Ge)?void 0!==Re?Re:NaN:Ge}set(We,Re){this.m.set(We,Re)}}const Y=new u,T="ionic:",Q="ionic-persist-config",R=(Fe,We)=>("string"==typeof Fe&&(We=Fe,Fe=void 0),(Fe=>O(Fe))(Fe).includes(We)),O=(Fe=window)=>{if(typeof Fe>"u")return[];Fe.Ionic=Fe.Ionic||{};let We=Fe.Ionic.platforms;return null==We&&(We=Fe.Ionic.platforms=A(Fe),We.forEach(Re=>Fe.document.documentElement.classList.add(`plt-${Re}`))),We},A=Fe=>{const We=Y.get("platform");return Object.keys(ge).filter(Re=>{const Ge=We?.[Re];return"function"==typeof Ge?Ge(Fe):ge[Re](Fe)})},fe=Fe=>!!(X(Fe,/iPad/i)||X(Fe,/Macintosh/i)&&ae(Fe)),Z=Fe=>X(Fe,/android|sink/i),ae=Fe=>q(Fe,"(any-pointer:coarse)"),ke=Fe=>F(Fe)||N(Fe),F=Fe=>!!(Fe.cordova||Fe.phonegap||Fe.PhoneGap),N=Fe=>{const We=Fe.Capacitor;return!!We?.isNative},X=(Fe,We)=>We.test(Fe.navigator.userAgent),q=(Fe,We)=>{var Re;return null===(Re=Fe.matchMedia)||void 0===Re?void 0:Re.call(Fe,We).matches},ge={ipad:fe,iphone:Fe=>X(Fe,/iPhone/i),ios:Fe=>X(Fe,/iPhone|iPod/i)||fe(Fe),android:Z,phablet:Fe=>{const We=Fe.innerWidth,Re=Fe.innerHeight,Ge=Math.min(We,Re),st=Math.max(We,Re);return Ge>390&&Ge<520&&st>620&&st<800},tablet:Fe=>{const We=Fe.innerWidth,Re=Fe.innerHeight,Ge=Math.min(We,Re),st=Math.max(We,Re);return fe(Fe)||(Fe=>Z(Fe)&&!X(Fe,/mobile/i))(Fe)||Ge>460&&Ge<820&&st>780&&st<1400},cordova:F,capacitor:N,electron:Fe=>X(Fe,/electron/i),pwa:Fe=>{var We;return!!(null!==(We=Fe.matchMedia)&&void 0!==We&&We.call(Fe,"(display-mode: standalone)").matches||Fe.navigator.standalone)},mobile:ae,mobileweb:Fe=>ae(Fe)&&!ke(Fe),desktop:Fe=>!ae(Fe),hybrid:ke};let Be;const ht=Fe=>Fe&&(0,S.g)(Fe)||Be,Tt=(Fe={})=>{if(typeof window>"u")return;const We=window.document,Re=window,Ge=Re.Ionic=Re.Ionic||{},st={};Fe._ael&&(st.ael=Fe._ael),Fe._rel&&(st.rel=Fe._rel),Fe._ce&&(st.ce=Fe._ce),(0,S.a)(st);const Pt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Fe=>{try{const We=Fe.sessionStorage.getItem(Q);return null!==We?JSON.parse(We):{}}catch{return{}}})(Re)),{persistConfig:!1}),Ge.config),(Fe=>{const We={};return Fe.location.search.slice(1).split("&").map(Re=>Re.split("=")).map(([Re,Ge])=>[decodeURIComponent(Re),decodeURIComponent(Ge)]).filter(([Re])=>((Fe,We)=>Fe.substr(0,We.length)===We)(Re,T)).map(([Re,Ge])=>[Re.slice(6),Ge]).forEach(([Re,Ge])=>{We[Re]=Ge}),We})(Re)),Fe);Y.reset(Pt),Y.getBoolean("persistConfig")&&((Fe,We)=>{try{Fe.sessionStorage.setItem(Q,JSON.stringify(We))}catch{return}})(Re,Pt),O(Re),Ge.config=Y,Ge.mode=Be=Y.get("mode",We.documentElement.getAttribute("mode")||(R(Re,"ios")?"ios":"md")),Y.set("mode",Be),We.documentElement.setAttribute("mode",Be),We.documentElement.classList.add(Be),Y.getBoolean("_testing")&&Y.set("animated",!1);const pe=at=>{var Ye;return null===(Ye=at.tagName)||void 0===Ye?void 0:Ye.startsWith("ION-")},He=at=>["ios","md"].includes(at);(0,S.c)(at=>{for(;at;){const Ye=at.mode||at.getAttribute("mode");if(Ye){if(He(Ye))return Ye;pe(at)&&console.warn('Invalid ionic mode: "'+Ye+'", expected: "ios" or "md"')}at=at.parentElement}return Be})}},5444:(ve,Ee,C)=>{"use strict";C.r(Ee),C.d(Ee,{iosTransitionAnimation:()=>A,shadow:()=>x});var S=C(2723),u=C(8044);C(6940),C(3426);const P=fe=>document.querySelector(`${fe}.ion-cloned-element`),x=fe=>fe.shadowRoot||fe,T=fe=>{const be="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs"),se="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=be){const Z=be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Z?Z.querySelector(se):null}return fe.querySelector(se)},Q=(fe,be)=>{const se="ION-TABS"===fe.tagName?fe:fe.querySelector("ion-tabs");let Z=[];if(null!=se){const k=se.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=k&&(Z=k.querySelectorAll("ion-buttons"))}else Z=fe.querySelectorAll("ion-buttons");for(const k of Z){const te=k.closest("ion-header"),le=te&&!te.classList.contains("header-collapse-condense-inactive"),ae=k.querySelector("ion-back-button"),Me=k.classList.contains("buttons-collapse");if(null!==ae&&("start"===k.slot||""===k.slot)&&(Me&&le&&be||!Me))return ae}return null},R=(fe,be,se,Z,k,te,le,ae,Me)=>{var ke,F;const N=be?`calc(100% - ${k.right+4}px)`:k.left-4+"px",ne=be?"right":"left",I=be?"left":"right",X=be?"right":"left",q=(null===(ke=te.textContent)||void 0===ke?void 0:ke.trim())===(null===(F=ae.textContent)||void 0===F?void 0:F.trim()),Be=(Me.height-j)/le.height,ht=q?`scale(${Me.width/le.width}, ${Be})`:`scale(${Be})`,Tt="scale(1)",We=x(Z).querySelector("ion-icon").getBoundingClientRect(),Re=be?We.width/2-(We.right-k.right)+"px":k.left-We.width/2+"px",Ge=be?`-${window.innerWidth-k.right}px`:`${k.left}px`,st=`${Me.top}px`,Pt=`${k.top}px`,at=se?[{offset:0,transform:`translate3d(${Ge}, ${Pt}, 0)`},{offset:1,transform:`translate3d(${Re}, ${st}, 0)`}]:[{offset:0,transform:`translate3d(${Re}, ${st}, 0)`},{offset:1,transform:`translate3d(${Ge}, ${Pt}, 0)`}],Gt=se?[{offset:0,opacity:1,transform:Tt},{offset:1,opacity:0,transform:ht}]:[{offset:0,opacity:0,transform:ht},{offset:1,opacity:1,transform:Tt}],_e=se?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],xe=(0,S.c)(),Je=(0,S.c)(),ot=(0,S.c)(),Ut=P("ion-back-button"),rn=x(Ut).querySelector(".button-text"),$t=x(Ut).querySelector("ion-icon");Ut.text=Z.text,Ut.mode=Z.mode,Ut.icon=Z.icon,Ut.color=Z.color,Ut.disabled=Z.disabled,Ut.style.setProperty("display","block"),Ut.style.setProperty("position","fixed"),Je.addElement($t),xe.addElement(rn),ot.addElement(Ut),ot.beforeStyles({position:"absolute",top:"0px",[X]:"0px"}).keyframes(at),xe.beforeStyles({"transform-origin":`${ne} top`}).beforeAddWrite(()=>{Z.style.setProperty("display","none"),Ut.style.setProperty(ne,N)}).afterAddWrite(()=>{Z.style.setProperty("display",""),Ut.style.setProperty("display","none"),Ut.style.removeProperty(ne)}).keyframes(Gt),Je.beforeStyles({"transform-origin":`${I} center`}).keyframes(_e),fe.addAnimation([xe,Je,ot])},O=(fe,be,se,Z,k,te,le,ae)=>{var Me,ke;const F=be?"right":"left",N=be?`calc(100% - ${k.right}px)`:`${k.left}px`,I=`${k.top}px`,q=be?`-${window.innerWidth-ae.right-8}px`:ae.x-8+"px",Be=ae.y-2+"px",ht=(null===(Me=le.textContent)||void 0===Me?void 0:Me.trim())===(null===(ke=Z.textContent)||void 0===ke?void 0:ke.trim()),Fe=ae.height/(te.height-j),We="scale(1)",Re=ht?`scale(${ae.width/te.width}, ${Fe})`:`scale(${Fe})`,Pt=se?[{offset:0,opacity:0,transform:`translate3d(${q}, ${Be}, 0) ${Re}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${I}, 0) ${We}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${I}, 0) ${We}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${q}, ${Be}, 0) ${Re}`}],pe=P("ion-title"),He=(0,S.c)();pe.innerText=Z.innerText,pe.size=Z.size,pe.color=Z.color,He.addElement(pe),He.beforeStyles({"transform-origin":`${F} top`,height:`${k.height}px`,display:"",position:"relative",[F]:N}).beforeAddWrite(()=>{Z.style.setProperty("opacity","0")}).afterAddWrite(()=>{Z.style.setProperty("opacity",""),pe.style.setProperty("display","none")}).keyframes(Pt),fe.addAnimation(He)},A=(fe,be)=>{var se;try{const Z="cubic-bezier(0.32,0.72,0,1)",k="opacity",te="transform",le="0%",Me="rtl"===fe.ownerDocument.dir,ke=Me?"-99.5%":"99.5%",F=Me?"33%":"-33%",N=be.enteringEl,ne=be.leavingEl,I="back"===be.direction,X=N.querySelector(":scope > ion-content"),q=N.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ge=N.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=(0,S.c)(),ht=(0,S.c)();if(Be.addElement(N).duration((null!==(se=be.duration)&&void 0!==se?se:0)||540).easing(be.easing||Z).fill("both").beforeRemoveClass("ion-page-invisible"),ne&&null!=fe){const Re=(0,S.c)();Re.addElement(fe),Be.addAnimation(Re)}if(X||0!==ge.length||0!==q.length?(ht.addElement(X),ht.addElement(q)):ht.addElement(N.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(ht),I?ht.beforeClearStyles([k]).fromTo("transform",`translateX(${F})`,`translateX(${le})`).fromTo(k,.8,1):ht.beforeClearStyles([k]).fromTo("transform",`translateX(${ke})`,`translateX(${le})`),X){const Re=x(X).querySelector(".transition-effect");if(Re){const Ge=Re.querySelector(".transition-cover"),st=Re.querySelector(".transition-shadow"),Pt=(0,S.c)(),pe=(0,S.c)(),He=(0,S.c)();Pt.addElement(Re).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pe.addElement(Ge).beforeClearStyles([k]).fromTo(k,0,.1),He.addElement(st).beforeClearStyles([k]).fromTo(k,.03,.7),Pt.addAnimation([pe,He]),ht.addAnimation([Pt])}}const Tt=N.querySelector("ion-header.header-collapse-condense"),{forward:Fe,backward:We}=((fe,be,se,Z,k)=>{const te=Q(Z,se),le=T(k),ae=T(Z),Me=Q(k,se),ke=null!==te&&null!==le&&!se,F=null!==ae&&null!==Me&&se;if(ke){const N=le.getBoundingClientRect(),ne=te.getBoundingClientRect(),I=x(te).querySelector(".button-text"),X=I.getBoundingClientRect(),ge=x(le).querySelector(".toolbar-title").getBoundingClientRect();O(fe,be,se,le,N,ge,I,X),R(fe,be,se,te,ne,I,X,le,ge)}else if(F){const N=ae.getBoundingClientRect(),ne=Me.getBoundingClientRect(),I=x(Me).querySelector(".button-text"),X=I.getBoundingClientRect(),ge=x(ae).querySelector(".toolbar-title").getBoundingClientRect();O(fe,be,se,ae,N,ge,I,X),R(fe,be,se,Me,ne,I,X,ae,ge)}return{forward:ke,backward:F}})(Be,Me,I,N,ne);if(ge.forEach(Re=>{const Ge=(0,S.c)();Ge.addElement(Re),Be.addAnimation(Ge);const st=(0,S.c)();st.addElement(Re.querySelector("ion-title"));const Pt=(0,S.c)(),pe=Array.from(Re.querySelectorAll("ion-buttons,[menuToggle]")),He=Re.closest("ion-header"),at=He?.classList.contains("header-collapse-condense-inactive");let Ye;Ye=pe.filter(I?_e=>{const xe=_e.classList.contains("buttons-collapse");return xe&&!at||!xe}:_e=>!_e.classList.contains("buttons-collapse")),Pt.addElement(Ye);const Ft=(0,S.c)();Ft.addElement(Re.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Gt=(0,S.c)();Gt.addElement(x(Re).querySelector(".toolbar-background"));const At=(0,S.c)(),Ie=Re.querySelector("ion-back-button");if(Ie&&At.addElement(Ie),Ge.addAnimation([st,Pt,Ft,Gt,At]),Pt.fromTo(k,.01,1),Ft.fromTo(k,.01,1),I)at||st.fromTo("transform",`translateX(${F})`,`translateX(${le})`).fromTo(k,.01,1),Ft.fromTo("transform",`translateX(${F})`,`translateX(${le})`),At.fromTo(k,.01,1);else if(Tt||st.fromTo("transform",`translateX(${ke})`,`translateX(${le})`).fromTo(k,.01,1),Ft.fromTo("transform",`translateX(${ke})`,`translateX(${le})`),Gt.beforeClearStyles([k,"transform"]),He?.translucent?Gt.fromTo("transform",Me?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Gt.fromTo(k,.01,"var(--opacity)"),Fe||At.fromTo(k,.01,1),Ie&&!Fe){const xe=(0,S.c)();xe.addElement(x(Ie).querySelector(".button-text")).fromTo("transform",Me?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ge.addAnimation(xe)}}),ne){const Re=(0,S.c)(),Ge=ne.querySelector(":scope > ion-content"),st=ne.querySelectorAll(":scope > ion-header > ion-toolbar"),Pt=ne.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ge||0!==st.length||0!==Pt.length?(Re.addElement(Ge),Re.addElement(Pt)):Re.addElement(ne.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Be.addAnimation(Re),I){Re.beforeClearStyles([k]).fromTo("transform",`translateX(${le})`,Me?"translateX(-100%)":"translateX(100%)");const pe=(0,u.g)(ne);Be.afterAddWrite(()=>{"normal"===Be.getDirection()&&pe.style.setProperty("display","none")})}else Re.fromTo("transform",`translateX(${le})`,`translateX(${F})`).fromTo(k,1,.8);if(Ge){const pe=x(Ge).querySelector(".transition-effect");if(pe){const He=pe.querySelector(".transition-cover"),at=pe.querySelector(".transition-shadow"),Ye=(0,S.c)(),Ft=(0,S.c)(),Gt=(0,S.c)();Ye.addElement(pe).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ft.addElement(He).beforeClearStyles([k]).fromTo(k,.1,0),Gt.addElement(at).beforeClearStyles([k]).fromTo(k,.7,.03),Ye.addAnimation([Ft,Gt]),Re.addAnimation([Ye])}}st.forEach(pe=>{const He=(0,S.c)();He.addElement(pe);const at=(0,S.c)();at.addElement(pe.querySelector("ion-title"));const Ye=(0,S.c)(),Ft=pe.querySelectorAll("ion-buttons,[menuToggle]"),Gt=pe.closest("ion-header"),At=Gt?.classList.contains("header-collapse-condense-inactive"),Ie=Array.from(Ft).filter(rn=>{const $t=rn.classList.contains("buttons-collapse");return $t&&!At||!$t});Ye.addElement(Ie);const _e=(0,S.c)(),xe=pe.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");xe.length>0&&_e.addElement(xe);const Je=(0,S.c)();Je.addElement(x(pe).querySelector(".toolbar-background"));const ot=(0,S.c)(),Ut=pe.querySelector("ion-back-button");if(Ut&&ot.addElement(Ut),He.addAnimation([at,Ye,_e,ot,Je]),Be.addAnimation(He),ot.fromTo(k,.99,0),Ye.fromTo(k,.99,0),_e.fromTo(k,.99,0),I){if(At||at.fromTo("transform",`translateX(${le})`,Me?"translateX(-100%)":"translateX(100%)").fromTo(k,.99,0),_e.fromTo("transform",`translateX(${le})`,Me?"translateX(-100%)":"translateX(100%)"),Je.beforeClearStyles([k,"transform"]),Gt?.translucent?Je.fromTo("transform","translateX(0px)",Me?"translateX(-100%)":"translateX(100%)"):Je.fromTo(k,"var(--opacity)",0),Ut&&!We){const $t=(0,S.c)();$t.addElement(x(Ut).querySelector(".button-text")).fromTo("transform",`translateX(${le})`,`translateX(${(Me?-124:124)+"px"})`),He.addAnimation($t)}}else At||at.fromTo("transform",`translateX(${le})`,`translateX(${F})`).fromTo(k,.99,0).afterClearStyles([te,k]),_e.fromTo("transform",`translateX(${le})`,`translateX(${F})`).afterClearStyles([te,k]),ot.afterClearStyles([k]),at.afterClearStyles([k]),Ye.afterClearStyles([k])})}return Be}catch(Z){throw Z}},j=10},5922:(ve,Ee,C)=>{"use strict";C.r(Ee),C.d(Ee,{mdTransitionAnimation:()=>z});var S=C(2723),u=C(8044);C(6940),C(3426);const z=(P,x)=>{var T,Q,$;const R="40px",A="back"===x.direction,fe=x.leavingEl,be=(0,u.g)(x.enteringEl),se=be.querySelector("ion-toolbar"),Z=(0,S.c)();if(Z.addElement(be).fill("both").beforeRemoveClass("ion-page-invisible"),A?Z.duration((null!==(T=x.duration)&&void 0!==T?T:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Z.duration((null!==(Q=x.duration)&&void 0!==Q?Q:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform",`translateY(${R})`,"translateY(0px)").fromTo("opacity",.01,1),se){const k=(0,S.c)();k.addElement(se),Z.addAnimation(k)}if(fe&&A){Z.duration((null!==($=x.duration)&&void 0!==$?$:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const k=(0,S.c)();k.addElement((0,u.g)(fe)).onFinish(te=>{1===te&&k.elements.length>0&&k.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)",`translateY(${R})`).fromTo("opacity",1,0),Z.addAnimation(k)}return Z}},7261:(ve,Ee,C)=>{"use strict";C.d(Ee,{B:()=>at,G:()=>Ye,O:()=>Ft,a:()=>O,b:()=>A,c:()=>se,d:()=>Gt,e:()=>At,f:()=>ht,g:()=>Fe,h:()=>Ge,i:()=>Pt,j:()=>k,k:()=>te,l:()=>j,m:()=>fe,n:()=>$,o:()=>Me,q:()=>ge,s:()=>He});var S=C(3918),u=C(6940),Y=C(5194),K=C(8573),z=C(1940),P=C(4675),x=C(6240);let T=0,Q=0;const $=new WeakMap,R=Ie=>({create:_e=>le(Ie,_e),dismiss:(_e,xe,Je)=>I(document,_e,xe,Ie,Je),getTop:()=>(0,S.Z)(function*(){return ge(document,Ie)})()}),O=R("ion-alert"),A=R("ion-action-sheet"),j=R("ion-loading"),fe=R("ion-modal"),se=R("ion-popover"),k=Ie=>{typeof document<"u"&&ne(document);const _e=T++;Ie.overlayIndex=_e},te=Ie=>(Ie.hasAttribute("id")||(Ie.id="ion-overlay-"+ ++Q),Ie.id),le=(Ie,_e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ie).then(()=>{const xe=document.createElement(Ie);return xe.classList.add("overlay-hidden"),Object.assign(xe,Object.assign(Object.assign({},_e),{hasController:!0})),We(document).appendChild(xe),new Promise(Je=>(0,P.c)(xe,Je))}):Promise.resolve(),ae='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Me=(Ie,_e)=>{let xe=Ie.querySelector(ae);const Je=xe?.shadowRoot;Je&&(xe=Je.querySelector(ae)||xe),xe?(0,P.f)(xe):_e.focus()},F=(Ie,_e)=>{const xe=Array.from(Ie.querySelectorAll(ae));let Je=xe.length>0?xe[xe.length-1]:null;const ot=Je?.shadowRoot;ot&&(Je=ot.querySelector(ae)||Je),Je?Je.focus():_e.focus()},ne=Ie=>{0===T&&(T=1,Ie.addEventListener("focus",_e=>{((Ie,_e)=>{const xe=ge(_e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Je=Ie.target;xe&&Je&&!xe.classList.contains("ion-disable-focus-trap")&&(xe.shadowRoot?(()=>{if(xe.contains(Je))xe.lastFocus=Je;else{const rn=xe.lastFocus;Me(xe,xe),rn===_e.activeElement&&F(xe,xe),xe.lastFocus=_e.activeElement}})():(()=>{if(xe===Je)xe.lastFocus=void 0;else{const rn=(0,P.g)(xe);if(!rn.contains(Je))return;const $t=rn.querySelector(".ion-overlay-wrapper");if(!$t)return;if($t.contains(Je)||Je===rn.querySelector("ion-backdrop"))xe.lastFocus=Je;else{const on=xe.lastFocus;Me($t,xe),on===_e.activeElement&&F($t,xe),xe.lastFocus=_e.activeElement}}})())})(_e,Ie)},!0),Ie.addEventListener("ionBackButton",_e=>{const xe=ge(Ie);xe?.backdropDismiss&&_e.detail.register(z.OVERLAY_BACK_BUTTON_PRIORITY,()=>xe.dismiss(void 0,at))}),Ie.addEventListener("keydown",_e=>{if("Escape"===_e.key){const xe=ge(Ie);xe?.backdropDismiss&&xe.dismiss(void 0,at)}}))},I=(Ie,_e,xe,Je,ot)=>{const Ut=ge(Ie,Je,ot);return Ut?Ut.dismiss(_e,xe):Promise.reject("overlay does not exist")},q=(Ie,_e)=>((Ie,_e)=>(void 0===_e&&(_e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ie.querySelectorAll(_e)).filter(xe=>xe.overlayIndex>0)))(Ie,_e).filter(xe=>!(Ie=>Ie.classList.contains("overlay-hidden"))(xe)),ge=(Ie,_e,xe)=>{const Je=q(Ie,_e);return void 0===xe?Je[Je.length-1]:Je.find(ot=>ot.id===xe)},Be=(Ie=!1)=>{const xe=We(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");xe&&(Ie?xe.setAttribute("aria-hidden","true"):xe.removeAttribute("aria-hidden"))},ht=function(){var Ie=(0,S.Z)(function*(_e,xe,Je,ot,Ut){var rn,$t;if(_e.presented)return;Be(!0),_e.presented=!0,_e.willPresent.emit(),null===(rn=_e.willPresentShorthand)||void 0===rn||rn.emit();const on=(0,Y.b)(_e),Cn=_e.enterAnimation?_e.enterAnimation:Y.c.get(xe,"ios"===on?Je:ot);(yield Re(_e,Cn,_e.el,Ut))&&(_e.didPresent.emit(),null===($t=_e.didPresentShorthand)||void 0===$t||$t.emit()),"ION-TOAST"!==_e.el.tagName&&Tt(_e.el),_e.keyboardClose&&(null===document.activeElement||!_e.el.contains(document.activeElement))&&_e.el.focus()});return function(xe,Je,ot,Ut,rn){return Ie.apply(this,arguments)}}(),Tt=function(){var Ie=(0,S.Z)(function*(_e){let xe=document.activeElement;if(!xe)return;const Je=xe?.shadowRoot;Je&&(xe=Je.querySelector(ae)||xe),yield _e.onDidDismiss(),xe.focus()});return function(xe){return Ie.apply(this,arguments)}}(),Fe=function(){var Ie=(0,S.Z)(function*(_e,xe,Je,ot,Ut,rn,$t){var on,Cn;if(!_e.presented)return!1;void 0!==u.d&&1===q(u.d).length&&Be(!1),_e.presented=!1;try{_e.el.style.setProperty("pointer-events","none"),_e.willDismiss.emit({data:xe,role:Je}),null===(on=_e.willDismissShorthand)||void 0===on||on.emit({data:xe,role:Je});const gr=(0,Y.b)(_e),On=_e.leaveAnimation?_e.leaveAnimation:Y.c.get(ot,"ios"===gr?Ut:rn);Je!==Ye&&(yield Re(_e,On,_e.el,$t)),_e.didDismiss.emit({data:xe,role:Je}),null===(Cn=_e.didDismissShorthand)||void 0===Cn||Cn.emit({data:xe,role:Je}),$.delete(_e),_e.el.classList.add("overlay-hidden"),_e.el.style.removeProperty("pointer-events"),void 0!==_e.el.lastFocus&&(_e.el.lastFocus=void 0)}catch(gr){console.error(gr)}return _e.el.remove(),!0});return function(xe,Je,ot,Ut,rn,$t,on){return Ie.apply(this,arguments)}}(),We=Ie=>Ie.querySelector("ion-app")||Ie.body,Re=function(){var Ie=(0,S.Z)(function*(_e,xe,Je,ot){Je.classList.remove("overlay-hidden");const rn=xe(_e.el,ot);(!_e.animated||!Y.c.getBoolean("animated",!0))&&rn.duration(0),_e.keyboardClose&&rn.beforeAddWrite(()=>{const on=Je.ownerDocument.activeElement;on?.matches("input,ion-input, ion-textarea")&&on.blur()});const $t=$.get(_e)||[];return $.set(_e,[...$t,rn]),yield rn.play(),!0});return function(xe,Je,ot,Ut){return Ie.apply(this,arguments)}}(),Ge=(Ie,_e)=>{let xe;const Je=new Promise(ot=>xe=ot);return st(Ie,_e,ot=>{xe(ot.detail)}),Je},st=(Ie,_e,xe)=>{const Je=ot=>{(0,P.b)(Ie,_e,Je),xe(ot)};(0,P.a)(Ie,_e,Je)},Pt=Ie=>"cancel"===Ie||Ie===at,pe=Ie=>Ie(),He=(Ie,_e)=>{if("function"==typeof Ie)return Y.c.get("_zoneGate",pe)(()=>{try{return Ie(_e)}catch(Je){throw Je}})},at="backdrop",Ye="gesture",Ft=39,Gt=Ie=>{let xe,_e=!1;const Je=(0,K.C)(),ot=($t=!1)=>{if(xe&&!$t)return{delegate:xe,inline:_e};const{el:on,hasController:Cn,delegate:gr}=Ie;return _e=null!==on.parentNode&&!Cn,xe=_e?gr||Je:gr,{inline:_e,delegate:xe}};return{attachViewToDom:function(){var $t=(0,S.Z)(function*(on){const{delegate:Cn}=ot(!0);if(Cn)return yield Cn.attachViewToDom(Ie.el,on);const{hasController:gr}=Ie;if(gr&&void 0!==on)throw new Error("framework delegate is missing");return null});return function(Cn){return $t.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:$t}=ot();$t&&void 0!==Ie.el&&$t.removeViewFromDom(Ie.el.parentElement,Ie.el)}}},At=()=>{let Ie;const _e=()=>{Ie&&(Ie(),Ie=void 0)};return{addClickListener:(Je,ot)=>{_e();const Ut=void 0!==ot?document.getElementById(ot):null;Ut?Ie=(($t,on)=>{const Cn=()=>{on.present()};return $t.addEventListener("click",Cn),()=>{$t.removeEventListener("click",Cn)}})(Ut,Je):(0,x.p)(`A trigger element with the ID "${ot}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Je)},removeClickListener:_e}}},2410:(ve,Ee,C)=>{"use strict";var u=C(1491)("ArrayBuffer.prototype.byteLength",!0),Y=C(9850);ve.exports=function(z){return Y(z)?u?u(z):z.byteLength:NaN}},1491:(ve,Ee,C)=>{"use strict";var S=C(3485),u=C(1773),Y=u(S("String.prototype.indexOf"));ve.exports=function(z,P){var x=S(z,!!P);return"function"==typeof x&&Y(z,".prototype.")>-1?u(x):x}},1773:(ve,Ee,C)=>{"use strict";var S=C(8956),u=C(3485),Y=C(3931),K=u("%TypeError%"),z=u("%Function.prototype.apply%"),P=u("%Function.prototype.call%"),x=u("%Reflect.apply%",!0)||S.call(P,z),T=u("%Object.defineProperty%",!0),Q=u("%Math.max%");if(T)try{T({},"a",{value:1})}catch{T=null}ve.exports=function(O){if("function"!=typeof O)throw new K("a function is required");var A=x(S,P,arguments);return Y(A,1+Q(0,O.length-(arguments.length-1)),!0)};var $=function(){return x(S,z,arguments)};T?T(ve.exports,"apply",{value:$}):ve.exports.apply=$},7303:ve=>{var Ee={utf8:{stringToBytes:function(C){return Ee.bin.stringToBytes(unescape(encodeURIComponent(C)))},bytesToString:function(C){return decodeURIComponent(escape(Ee.bin.bytesToString(C)))}},bin:{stringToBytes:function(C){for(var S=[],u=0;u<C.length;u++)S.push(255&C.charCodeAt(u));return S},bytesToString:function(C){for(var S=[],u=0;u<C.length;u++)S.push(String.fromCharCode(C[u]));return S.join("")}}};ve.exports=Ee},3754:ve=>{var Ee,C;Ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ve.exports=C={rotl:function(S,u){return S<<u|S>>>32-u},rotr:function(S,u){return S<<32-u|S>>>u},endian:function(S){if(S.constructor==Number)return 16711935&C.rotl(S,8)|4278255360&C.rotl(S,24);for(var u=0;u<S.length;u++)S[u]=C.endian(S[u]);return S},randomBytes:function(S){for(var u=[];S>0;S--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(S){for(var u=[],Y=0,K=0;Y<S.length;Y++,K+=8)u[K>>>5]|=S[Y]<<24-K%32;return u},wordsToBytes:function(S){for(var u=[],Y=0;Y<32*S.length;Y+=8)u.push(S[Y>>>5]>>>24-Y%32&255);return u},bytesToHex:function(S){for(var u=[],Y=0;Y<S.length;Y++)u.push((S[Y]>>>4).toString(16)),u.push((15&S[Y]).toString(16));return u.join("")},hexToBytes:function(S){for(var u=[],Y=0;Y<S.length;Y+=2)u.push(parseInt(S.substr(Y,2),16));return u},bytesToBase64:function(S){for(var u=[],Y=0;Y<S.length;Y+=3)for(var K=S[Y]<<16|S[Y+1]<<8|S[Y+2],z=0;z<4;z++)u.push(8*Y+6*z<=8*S.length?Ee.charAt(K>>>6*(3-z)&63):"=");return u.join("")},base64ToBytes:function(S){S=S.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],Y=0,K=0;Y<S.length;K=++Y%4)0!=K&&u.push((Ee.indexOf(S.charAt(Y-1))&Math.pow(2,-2*K+8)-1)<<2*K|Ee.indexOf(S.charAt(Y))>>>6-2*K);return u}}},307:(ve,Ee,C)=>{"use strict";var S=C(5747),u=C(1491),Y=C(4300),K=C(3485),z=C(1324),P=C(4355),x=C(500),T=C(1568),Q=C(9604),$=C(9850),R=C(6994),O=C(9649),A=C(5327),j=C(5692),fe=C(8460),be=C(9148),se=C(927),Z=C(2410),k=u("SharedArrayBuffer.prototype.byteLength",!0),te=u("Date.prototype.getTime"),le=Object.getPrototypeOf,ae=u("Object.prototype.toString"),Me=K("%Set%",!0),ke=u("Map.prototype.has",!0),F=u("Map.prototype.get",!0),N=u("Map.prototype.size",!0),ne=u("Set.prototype.add",!0),I=u("Set.prototype.delete",!0),X=u("Set.prototype.has",!0),q=u("Set.prototype.size",!0);function ge(pe,He,at,Ye){for(var Gt,Ft=z(pe);(Gt=Ft.next())&&!Gt.done;)if(We(He,Gt.value,at,Ye))return I(pe,Gt.value),!0;return!1}function Be(pe){return typeof pe>"u"?null:"object"!=typeof pe?"symbol"!=typeof pe&&("string"!=typeof pe&&"number"!=typeof pe||+pe==+pe):void 0}function ht(pe,He,at,Ye,Ft,Gt){var At=Be(at);if(null!=At)return At;var Ie=F(He,At),_e=S({},Ft,{strict:!1});return!(typeof Ie>"u"&&!ke(He,At)||!We(Ye,Ie,_e,Gt))&&!ke(pe,At)&&We(Ye,Ie,_e,Gt)}function Tt(pe,He,at){var Ye=Be(at);return Ye??(X(He,Ye)&&!X(pe,Ye))}function Fe(pe,He,at,Ye,Ft,Gt){for(var Ie,_e,At=z(pe);(Ie=At.next())&&!Ie.done;)if(We(at,_e=Ie.value,Ft,Gt)&&We(Ye,F(He,_e),Ft,Gt))return I(pe,_e),!0;return!1}function We(pe,He,at,Ye){var Ft=at||{};if(Ft.strict?x(pe,He):pe===He)return!0;if(fe(pe)!==fe(He))return!1;if(!pe||!He||"object"!=typeof pe&&"object"!=typeof He)return Ft.strict?x(pe,He):pe==He;var xe,Ie=Ye.has(pe),_e=Ye.has(He);if(Ie&&_e){if(Ye.get(pe)===Ye.get(He))return!0}else xe={};return Ie||Ye.set(pe,xe),_e||Ye.set(He,xe),function Pt(pe,He,at,Ye){var Ft,Gt;if(typeof pe!=typeof He||null==pe||null==He||ae(pe)!==ae(He)||T(pe)!==T(He))return!1;if(Q(pe)!==Q(He))return!1;var _e=pe instanceof Error,xe=He instanceof Error;if(_e!==xe||(_e||xe)&&(pe.name!==He.name||pe.message!==He.message))return!1;var Je=O(pe),ot=O(He);if(Je!==ot||(Je||ot)&&(pe.source!==He.source||Y(pe)!==Y(He)))return!1;var Ut=R(pe),rn=R(He);if(Ut!==rn||(Ut||rn)&&te(pe)!==te(He)||at.strict&&le&&le(pe)!==le(He))return!1;var $t=se(pe),on=se(He);if($t!==on)return!1;if($t||on){if(pe.length!==He.length)return!1;for(Ft=0;Ft<pe.length;Ft++)if(pe[Ft]!==He[Ft])return!1;return!0}var Cn=Re(pe),gr=Re(He);if(Cn!==gr)return!1;if(Cn||gr){if(pe.length!==He.length)return!1;for(Ft=0;Ft<pe.length;Ft++)if(pe[Ft]!==He[Ft])return!1;return!0}var On=$(pe),qo=$(He);if(On!==qo)return!1;if(On||qo)return Z(pe)===Z(He)&&"function"==typeof Uint8Array&&We(new Uint8Array(pe),new Uint8Array(He),at,Ye);var Vr=A(pe),vo=A(He);if(Vr!==vo)return!1;if(Vr||vo)return k(pe)===k(He)&&"function"==typeof Uint8Array&&We(new Uint8Array(pe),new Uint8Array(He),at,Ye);if(typeof pe!=typeof He)return!1;var Pr=j(pe),Or=j(He);if(Pr.length!==Or.length)return!1;for(Pr.sort(),Or.sort(),Ft=Pr.length-1;Ft>=0;Ft--)if(Pr[Ft]!=Or[Ft])return!1;for(Ft=Pr.length-1;Ft>=0;Ft--)if(!We(pe[Gt=Pr[Ft]],He[Gt],at,Ye))return!1;var Xn=be(pe),To=be(He);return Xn===To&&("Set"===Xn||"Set"===To?function Ge(pe,He,at,Ye){if(q(pe)!==q(He))return!1;for(var At,Ie,_e,Ft=z(pe),Gt=z(He);(At=Ft.next())&&!At.done;)if(At.value&&"object"==typeof At.value)_e||(_e=new Me),ne(_e,At.value);else if(!X(He,At.value)){if(at.strict||!Tt(pe,He,At.value))return!1;_e||(_e=new Me),ne(_e,At.value)}if(_e){for(;(Ie=Gt.next())&&!Ie.done;)if(Ie.value&&"object"==typeof Ie.value){if(!ge(_e,Ie.value,at.strict,Ye))return!1}else if(!at.strict&&!X(pe,Ie.value)&&!ge(_e,Ie.value,at.strict,Ye))return!1;return 0===q(_e)}return!0}(pe,He,at,Ye):"Map"!==Xn||function st(pe,He,at,Ye){if(N(pe)!==N(He))return!1;for(var At,Ie,_e,xe,Je,ot,Ft=z(pe),Gt=z(He);(At=Ft.next())&&!At.done;)if(Je=At.value[1],(xe=At.value[0])&&"object"==typeof xe)_e||(_e=new Me),ne(_e,xe);else if(typeof(ot=F(He,xe))>"u"&&!ke(He,xe)||!We(Je,ot,at,Ye)){if(at.strict||!ht(pe,He,xe,Je,at,Ye))return!1;_e||(_e=new Me),ne(_e,xe)}if(_e){for(;(Ie=Gt.next())&&!Ie.done;)if(ot=Ie.value[1],(xe=Ie.value[0])&&"object"==typeof xe){if(!Fe(_e,pe,xe,ot,at,Ye))return!1}else if(!(at.strict||pe.has(xe)&&We(F(pe,xe),ot,at,Ye)||Fe(_e,pe,xe,ot,S({},at,{strict:!1}),Ye)))return!1;return 0===q(_e)}return!0}(pe,He,at,Ye))}(pe,He,Ft,Ye)}function Re(pe){return!(!pe||"object"!=typeof pe||"number"!=typeof pe.length||"function"!=typeof pe.copy||"function"!=typeof pe.slice||pe.length>0&&"number"!=typeof pe[0]||!(pe.constructor&&pe.constructor.isBuffer&&pe.constructor.isBuffer(pe)))}ve.exports=function(He,at,Ye){return We(He,at,Ye,P())}},4467:(ve,Ee,C)=>{"use strict";var S=C(7811)(),u=C(3485),Y=S&&u("%Object.defineProperty%",!0);if(Y)try{Y({},"a",{value:1})}catch{Y=!1}var K=u("%SyntaxError%"),z=u("%TypeError%"),P=C(6078);ve.exports=function(T,Q,$){if(!T||"object"!=typeof T&&"function"!=typeof T)throw new z("`obj` must be an object or a function`");if("string"!=typeof Q&&"symbol"!=typeof Q)throw new z("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new z("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new z("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new z("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new z("`loose`, if provided, must be a boolean");var R=arguments.length>3?arguments[3]:null,O=arguments.length>4?arguments[4]:null,A=arguments.length>5?arguments[5]:null,j=arguments.length>6&&arguments[6],fe=!!P&&P(T,Q);if(Y)Y(T,Q,{configurable:null===A&&fe?fe.configurable:!A,enumerable:null===R&&fe?fe.enumerable:!R,value:$,writable:null===O&&fe?fe.writable:!O});else{if(!j&&(R||O||A))throw new K("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");T[Q]=$}}},9567:(ve,Ee,C)=>{"use strict";var S=C(5692),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),Y=Object.prototype.toString,K=Array.prototype.concat,z=C(4467),x=C(7811)(),T=function($,R,O,A){if(R in $)if(!0===A){if($[R]===O)return}else if(!function($){return"function"==typeof $&&"[object Function]"===Y.call($)}(A)||!A())return;x?z($,R,O,!0):z($,R,O)},Q=function($,R){var O=arguments.length>2?arguments[2]:{},A=S(R);u&&(A=K.call(A,Object.getOwnPropertySymbols(R)));for(var j=0;j<A.length;j+=1)T($,A[j],R[A[j]],O[A[j]])};Q.supportsDescriptors=!!x,ve.exports=Q},1633:function(ve,Ee){!function(C){"use strict";var O,Y=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,K=536870912,z=2*K,x=new WeakMap,Q=function(O,A){return function(j){var fe=A.get(j),be=void 0===fe?j.size:fe<z?fe+1:0;if(!j.has(be))return O(j,be);if(j.size<K){for(;j.has(be);)be=Math.floor(Math.random()*z);return O(j,be)}if(j.size>Y)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;j.has(be);)be=Math.floor(Math.random()*Y);return O(j,be)}}((O=x,function(A,j){return O.set(A,j),j}),x),$=function(O){return function(A){var j=O(A);return A.add(j),j}}(Q);C.addUniqueNumber=$,C.generateUniqueNumber=Q}(Ee)},2418:(ve,Ee,C)=>{"use strict";var S=C(5487),u=Object.prototype.toString,Y=Object.prototype.hasOwnProperty;ve.exports=function(Q,$,R){if(!S($))throw new TypeError("iterator must be a function");var O;arguments.length>=3&&(O=R),"[object Array]"===u.call(Q)?function(Q,$,R){for(var O=0,A=Q.length;O<A;O++)Y.call(Q,O)&&(null==R?$(Q[O],O,Q):$.call(R,Q[O],O,Q))}(Q,$,O):"string"==typeof Q?function(Q,$,R){for(var O=0,A=Q.length;O<A;O++)null==R?$(Q.charAt(O),O,Q):$.call(R,Q.charAt(O),O,Q)}(Q,$,O):function(Q,$,R){for(var O in Q)Y.call(Q,O)&&(null==R?$(Q[O],O,Q):$.call(R,Q[O],O,Q))}(Q,$,O)}},8026:ve=>{"use strict";var C=Object.prototype.toString,S=Math.max,Y=function(x,T){for(var Q=[],$=0;$<x.length;$+=1)Q[$]=x[$];for(var R=0;R<T.length;R+=1)Q[R+x.length]=T[R];return Q};ve.exports=function(x){var T=this;if("function"!=typeof T||"[object Function]"!==C.apply(T))throw new TypeError("Function.prototype.bind called on incompatible "+T);for(var $,Q=function(x,T){for(var Q=[],$=1,R=0;$<x.length;$+=1,R+=1)Q[R]=x[$];return Q}(arguments),O=S(0,T.length-Q.length),A=[],j=0;j<O;j++)A[j]="$"+j;if($=Function("binder","return function ("+function(P,x){for(var T="",Q=0;Q<P.length;Q+=1)T+=P[Q],Q+1<P.length&&(T+=",");return T}(A)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof $){var be=T.apply(this,Y(Q,arguments));return Object(be)===be?be:this}return T.apply(x,Y(Q,arguments))}),T.prototype){var fe=function(){};fe.prototype=T.prototype,$.prototype=new fe,fe.prototype=null}return $}},8956:(ve,Ee,C)=>{"use strict";var S=C(8026);ve.exports=Function.prototype.bind||S},7688:ve=>{"use strict";var Ee=function(){return"string"==typeof function(){}.name},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch{C=null}Ee.functionsHaveConfigurableNames=function(){if(!Ee()||!C)return!1;var Y=C(function(){},"name");return!!Y&&!!Y.configurable};var S=Function.prototype.bind;Ee.boundFunctionsHaveNames=function(){return Ee()&&"function"==typeof S&&""!==function(){}.bind().name},ve.exports=Ee},3485:(ve,Ee,C)=>{"use strict";var S,u=SyntaxError,Y=Function,K=TypeError,z=function(X){try{return Y('"use strict"; return ('+X+").constructor;")()}catch{}},P=Object.getOwnPropertyDescriptor;if(P)try{P({},"")}catch{P=null}var x=function(){throw new K},T=P?function(){try{return x}catch{try{return P(arguments,"callee").get}catch{return x}}}():x,Q=C(2337)(),$=C(1441)(),R=Object.getPrototypeOf||($?function(X){return X.__proto__}:null),O={},A=typeof Uint8Array>"u"||!R?S:R(Uint8Array),j={"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&R?R([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":O,"%AsyncGenerator%":O,"%AsyncGeneratorFunction%":O,"%AsyncIteratorPrototype%":O,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":Y,"%GeneratorFunction%":O,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&R?R(R([][Symbol.iterator]())):S,"%JSON%":"object"==typeof JSON?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!R?S:R((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!R?S:R((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&R?R(""[Symbol.iterator]()):S,"%Symbol%":Q?Symbol:S,"%SyntaxError%":u,"%ThrowTypeError%":T,"%TypedArray%":A,"%TypeError%":K,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet};if(R)try{null.error}catch(X){var fe=R(R(X));j["%Error.prototype%"]=fe}var be=function X(q){var ge;if("%AsyncFunction%"===q)ge=z("async function () {}");else if("%GeneratorFunction%"===q)ge=z("function* () {}");else if("%AsyncGeneratorFunction%"===q)ge=z("async function* () {}");else if("%AsyncGenerator%"===q){var Be=X("%AsyncGeneratorFunction%");Be&&(ge=Be.prototype)}else if("%AsyncIteratorPrototype%"===q){var ht=X("%AsyncGenerator%");ht&&R&&(ge=R(ht.prototype))}return j[q]=ge,ge},se={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Z=C(8956),k=C(7528),te=Z.call(Function.call,Array.prototype.concat),le=Z.call(Function.apply,Array.prototype.splice),ae=Z.call(Function.call,String.prototype.replace),Me=Z.call(Function.call,String.prototype.slice),ke=Z.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,I=function(q,ge){var ht,Be=q;if(k(se,Be)&&(Be="%"+(ht=se[Be])[0]+"%"),k(j,Be)){var Tt=j[Be];if(Tt===O&&(Tt=be(Be)),typeof Tt>"u"&&!ge)throw new K("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:ht,name:Be,value:Tt}}throw new u("intrinsic "+q+" does not exist!")};ve.exports=function(q,ge){if("string"!=typeof q||0===q.length)throw new K("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof ge)throw new K('"allowMissing" argument must be a boolean');if(null===ke(/^%?[^%]*%?$/,q))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Be=function(q){var ge=Me(q,0,1),Be=Me(q,-1);if("%"===ge&&"%"!==Be)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===Be&&"%"!==ge)throw new u("invalid intrinsic syntax, expected opening `%`");var ht=[];return ae(q,F,function(Tt,Fe,We,Re){ht[ht.length]=We?ae(Re,N,"$1"):Fe||Tt}),ht}(q),ht=Be.length>0?Be[0]:"",Tt=I("%"+ht+"%",ge),Fe=Tt.name,We=Tt.value,Re=!1,Ge=Tt.alias;Ge&&(ht=Ge[0],le(Be,te([0,1],Ge)));for(var st=1,Pt=!0;st<Be.length;st+=1){var pe=Be[st],He=Me(pe,0,1),at=Me(pe,-1);if(('"'===He||"'"===He||"`"===He||'"'===at||"'"===at||"`"===at)&&He!==at)throw new u("property names with quotes must have matching quotes");if(("constructor"===pe||!Pt)&&(Re=!0),k(j,Fe="%"+(ht+="."+pe)+"%"))We=j[Fe];else if(null!=We){if(!(pe in We)){if(!ge)throw new K("base intrinsic for "+q+" exists, but the property is not available.");return}if(P&&st+1>=Be.length){var Ye=P(We,pe);We=(Pt=!!Ye)&&"get"in Ye&&!("originalValue"in Ye.get)?Ye.get:We[pe]}else Pt=k(We,pe),We=We[pe];Pt&&!Re&&(j[Fe]=We)}}return We}},6078:(ve,Ee,C)=>{"use strict";var u=C(3485)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}ve.exports=u},5112:ve=>{"use strict";var Ee=typeof BigInt<"u"&&BigInt;ve.exports=function(){return"function"==typeof Ee&&"function"==typeof BigInt&&"bigint"==typeof Ee(42)&&"bigint"==typeof BigInt(42)}},7811:(ve,Ee,C)=>{"use strict";var u=C(3485)("%Object.defineProperty%",!0),Y=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};Y.hasArrayLengthDefineBug=function(){if(!Y())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},ve.exports=Y},1441:ve=>{"use strict";var Ee={foo:{}},C=Object;ve.exports=function(){return{__proto__:Ee}.foo===Ee.foo&&!({__proto__:null}instanceof C)}},2337:(ve,Ee,C)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,u=C(2759);ve.exports=function(){return"function"==typeof S&&"function"==typeof Symbol&&"symbol"==typeof S("foo")&&"symbol"==typeof Symbol("bar")&&u()}},2759:ve=>{"use strict";ve.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var C={},S=Symbol("test"),u=Object(S);if("string"==typeof S||"[object Symbol]"!==Object.prototype.toString.call(S)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(S in C[S]=42,C)return!1;if("function"==typeof Object.keys&&0!==Object.keys(C).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(C).length)return!1;var K=Object.getOwnPropertySymbols(C);if(1!==K.length||K[0]!==S||!Object.prototype.propertyIsEnumerable.call(C,S))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var z=Object.getOwnPropertyDescriptor(C,S);if(42!==z.value||!0!==z.enumerable)return!1}return!0}},6518:(ve,Ee,C)=>{"use strict";var S=C(2759);ve.exports=function(){return S()&&!!Symbol.toStringTag}},7528:(ve,Ee,C)=>{"use strict";var S=Function.prototype.call,u=Object.prototype.hasOwnProperty,Y=C(8956);ve.exports=Y.call(S,u)},2605:(ve,Ee,C)=>{"use strict";var S=C(3485),u=C(7528),Y=C(4355)(),K=S("%TypeError%"),z={assert:function(P,x){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new K("`O` is not an object");if("string"!=typeof x)throw new K("`slot` must be a string");if(Y.assert(P),!z.has(P,x))throw new K("`"+x+"` is not present on `O`")},get:function(P,x){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new K("`O` is not an object");if("string"!=typeof x)throw new K("`slot` must be a string");var T=Y.get(P);return T&&T["$"+x]},has:function(P,x){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new K("`O` is not an object");if("string"!=typeof x)throw new K("`slot` must be a string");var T=Y.get(P);return!!T&&u(T,"$"+x)},set:function(P,x,T){if(!P||"object"!=typeof P&&"function"!=typeof P)throw new K("`O` is not an object");if("string"!=typeof x)throw new K("`slot` must be a string");var Q=Y.get(P);Q||Y.set(P,Q={}),Q["$"+x]=T}};Object.freeze&&Object.freeze(z),ve.exports=z},1568:(ve,Ee,C)=>{"use strict";var S=C(6518)(),Y=C(1491)("Object.prototype.toString"),K=function(T){return!(S&&T&&"object"==typeof T&&Symbol.toStringTag in T)&&"[object Arguments]"===Y(T)},z=function(T){return!!K(T)||null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Array]"!==Y(T)&&"[object Function]"===Y(T.callee)},P=function(){return K(arguments)}();K.isLegacyArguments=z,ve.exports=P?K:z},9850:(ve,Ee,C)=>{"use strict";var S=C(1773),u=C(1491),Y=C(3485),K=C(3631),z=Y("ArrayBuffer",!0),P=Y("Float32Array",!0),x=u("ArrayBuffer.prototype.byteLength",!0),T=z&&!x&&(new z).slice,Q=T&&S(T);ve.exports=x||Q?function(R){if(!R||"object"!=typeof R)return!1;try{return x?x(R):Q(R,0),!0}catch{return!1}}:P?function(R){try{return new P(R).buffer===R&&!K(R)}catch(O){return"object"==typeof R&&"RangeError"===O.name}}:function(R){return!1}},7050:(ve,Ee,C)=>{"use strict";if(C(5112)()){var u=BigInt.prototype.valueOf;ve.exports=function(z){return!(null===z||typeof z>"u"||"boolean"==typeof z||"string"==typeof z||"number"==typeof z||"symbol"==typeof z||"function"==typeof z)&&("bigint"==typeof z||function(z){try{return u.call(z),!0}catch{}return!1}(z))}}else ve.exports=function(z){return!1}},2856:(ve,Ee,C)=>{"use strict";var S=C(1491),u=S("Boolean.prototype.toString"),Y=S("Object.prototype.toString"),P=C(6518)();ve.exports=function(T){return"boolean"==typeof T||null!==T&&"object"==typeof T&&(P&&Symbol.toStringTag in T?function(T){try{return u(T),!0}catch{return!1}}(T):"[object Boolean]"===Y(T))}},7617:ve=>{function Ee(S){return!!S.constructor&&"function"==typeof S.constructor.isBuffer&&S.constructor.isBuffer(S)}ve.exports=function(S){return null!=S&&(Ee(S)||function C(S){return"function"==typeof S.readFloatLE&&"function"==typeof S.slice&&Ee(S.slice(0,0))}(S)||!!S._isBuffer)}},5487:ve=>{"use strict";var S,u,Ee=Function.prototype.toString,C="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof C&&"function"==typeof Object.defineProperty)try{S=Object.defineProperty({},"length",{get:function(){throw u}}),u={},C(function(){throw 42},null,S)}catch(se){se!==u&&(C=null)}else C=null;var Y=/^\s*class\b/,K=function(Z){try{var k=Ee.call(Z);return Y.test(k)}catch{return!1}},z=function(Z){try{return!K(Z)&&(Ee.call(Z),!0)}catch{return!1}},P=Object.prototype.toString,A="function"==typeof Symbol&&!!Symbol.toStringTag,j=!(0 in[,]),fe=function(){return!1};if("object"==typeof document){var be=document.all;P.call(be)===P.call(document.all)&&(fe=function(Z){if((j||!Z)&&(typeof Z>"u"||"object"==typeof Z))try{var k=P.call(Z);return("[object HTMLAllCollection]"===k||"[object HTML document.all class]"===k||"[object HTMLCollection]"===k||"[object Object]"===k)&&null==Z("")}catch{}return!1})}ve.exports=C?function(Z){if(fe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;try{C(Z,null,S)}catch(k){if(k!==u)return!1}return!K(Z)&&z(Z)}:function(Z){if(fe(Z))return!0;if(!Z||"function"!=typeof Z&&"object"!=typeof Z)return!1;if(A)return z(Z);if(K(Z))return!1;var k=P.call(Z);return!("[object Function]"!==k&&"[object GeneratorFunction]"!==k&&!/^\[object HTML/.test(k))&&z(Z)}},6994:(ve,Ee,C)=>{"use strict";var S=Date.prototype.getDay,Y=Object.prototype.toString,z=C(6518)();ve.exports=function(x){return"object"==typeof x&&null!==x&&(z?function(x){try{return S.call(x),!0}catch{return!1}}(x):"[object Date]"===Y.call(x))}},6128:ve=>{"use strict";var S,Ee="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;Ee||(S=function(z){return!1});var u=Ee?Map.prototype.has:null,Y=C?Set.prototype.has:null;!S&&!u&&(S=function(z){return!1}),ve.exports=S||function(z){if(!z||"object"!=typeof z)return!1;try{if(u.call(z),Y)try{Y.call(z)}catch{return!0}return z instanceof Ee}catch{}return!1}},9065:(ve,Ee,C)=>{"use strict";var S=Number.prototype.toString,Y=Object.prototype.toString,z=C(6518)();ve.exports=function(x){return"number"==typeof x||"object"==typeof x&&(z?function(x){try{return S.call(x),!0}catch{return!1}}(x):"[object Number]"===Y.call(x))}},9649:(ve,Ee,C)=>{"use strict";var Y,K,z,P,S=C(1491),u=C(6518)();if(u){Y=S("Object.prototype.hasOwnProperty"),K=S("RegExp.prototype.exec"),z={};var x=function(){throw z};P={toString:x,valueOf:x},"symbol"==typeof Symbol.toPrimitive&&(P[Symbol.toPrimitive]=x)}var T=S("Object.prototype.toString"),Q=Object.getOwnPropertyDescriptor;ve.exports=u?function(O){if(!O||"object"!=typeof O)return!1;var A=Q(O,"lastIndex");if(!A||!Y(A,"value"))return!1;try{K(O,P)}catch(fe){return fe===z}}:function(O){return!(!O||"object"!=typeof O&&"function"!=typeof O)&&"[object RegExp]"===T(O)}},5918:ve=>{"use strict";var S,Ee="function"==typeof Map&&Map.prototype?Map:null,C="function"==typeof Set&&Set.prototype?Set:null;C||(S=function(z){return!1});var u=Ee?Map.prototype.has:null,Y=C?Set.prototype.has:null;!S&&!Y&&(S=function(z){return!1}),ve.exports=S||function(z){if(!z||"object"!=typeof z)return!1;try{if(Y.call(z),u)try{u.call(z)}catch{return!0}return z instanceof C}catch{}return!1}},5327:(ve,Ee,C)=>{"use strict";var u=C(1491)("SharedArrayBuffer.prototype.byteLength",!0);ve.exports=u?function(K){if(!K||"object"!=typeof K)return!1;try{return u(K),!0}catch{return!1}}:function(K){return!1}},2706:(ve,Ee,C)=>{"use strict";var S=String.prototype.valueOf,Y=Object.prototype.toString,z=C(6518)();ve.exports=function(x){return"string"==typeof x||"object"==typeof x&&(z?function(x){try{return S.call(x),!0}catch{return!1}}(x):"[object String]"===Y.call(x))}},2630:(ve,Ee,C)=>{"use strict";var S=Object.prototype.toString;if(C(2337)()){var Y=Symbol.prototype.toString,K=/^Symbol\(.*\)$/;ve.exports=function(x){if("symbol"==typeof x)return!0;if("[object Symbol]"!==S.call(x))return!1;try{return function(x){return"symbol"==typeof x.valueOf()&&K.test(Y.call(x))}(x)}catch{return!1}}}else ve.exports=function(x){return!1}},3631:(ve,Ee,C)=>{"use strict";var S=C(927);ve.exports=function(Y){return!!S(Y)}},1545:ve=>{"use strict";var S,Ee="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,C="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;Ee||(S=function(z){return!1});var u=Ee?Ee.prototype.has:null,Y=C?C.prototype.has:null;!S&&!u&&(S=function(z){return!1}),ve.exports=S||function(z){if(!z||"object"!=typeof z)return!1;try{if(u.call(z,u),Y)try{Y.call(z,Y)}catch{return!0}return z instanceof Ee}catch{}return!1}},9043:(ve,Ee,C)=>{"use strict";var S=C(3485),u=C(1491),Y=S("%WeakSet%",!0),K=u("WeakSet.prototype.has",!0);if(K){var z=u("WeakMap.prototype.has",!0);ve.exports=function(x){if(!x||"object"!=typeof x)return!1;try{if(K(x,K),z)try{z(x,z)}catch{return!0}return x instanceof Y}catch{}return!1}}else ve.exports=function(x){return!1}},9604:ve=>{var Ee={}.toString;ve.exports=Array.isArray||function(C){return"[object Array]"==Ee.call(C)}},3219:(ve,Ee,C)=>{var S,u,Y,K,z;S=C(3754),u=C(7303).utf8,Y=C(7617),K=C(7303).bin,(z=function(P,x){P.constructor==String?P=x&&"binary"===x.encoding?K.stringToBytes(P):u.stringToBytes(P):Y(P)?P=Array.prototype.slice.call(P,0):!Array.isArray(P)&&P.constructor!==Uint8Array&&(P=P.toString());for(var T=S.bytesToWords(P),Q=8*P.length,$=1732584193,R=-271733879,O=-1732584194,A=271733878,j=0;j<T.length;j++)T[j]=16711935&(T[j]<<8|T[j]>>>24)|4278255360&(T[j]<<24|T[j]>>>8);T[Q>>>5]|=128<<Q%32,T[14+(Q+64>>>9<<4)]=Q;var fe=z._ff,be=z._gg,se=z._hh,Z=z._ii;for(j=0;j<T.length;j+=16){var k=$,te=R,le=O,ae=A;$=fe($,R,O,A,T[j+0],7,-680876936),A=fe(A,$,R,O,T[j+1],12,-389564586),O=fe(O,A,$,R,T[j+2],17,606105819),R=fe(R,O,A,$,T[j+3],22,-1044525330),$=fe($,R,O,A,T[j+4],7,-176418897),A=fe(A,$,R,O,T[j+5],12,1200080426),O=fe(O,A,$,R,T[j+6],17,-1473231341),R=fe(R,O,A,$,T[j+7],22,-45705983),$=fe($,R,O,A,T[j+8],7,1770035416),A=fe(A,$,R,O,T[j+9],12,-1958414417),O=fe(O,A,$,R,T[j+10],17,-42063),R=fe(R,O,A,$,T[j+11],22,-1990404162),$=fe($,R,O,A,T[j+12],7,1804603682),A=fe(A,$,R,O,T[j+13],12,-40341101),O=fe(O,A,$,R,T[j+14],17,-1502002290),$=be($,R=fe(R,O,A,$,T[j+15],22,1236535329),O,A,T[j+1],5,-165796510),A=be(A,$,R,O,T[j+6],9,-1069501632),O=be(O,A,$,R,T[j+11],14,643717713),R=be(R,O,A,$,T[j+0],20,-373897302),$=be($,R,O,A,T[j+5],5,-701558691),A=be(A,$,R,O,T[j+10],9,38016083),O=be(O,A,$,R,T[j+15],14,-660478335),R=be(R,O,A,$,T[j+4],20,-405537848),$=be($,R,O,A,T[j+9],5,568446438),A=be(A,$,R,O,T[j+14],9,-1019803690),O=be(O,A,$,R,T[j+3],14,-187363961),R=be(R,O,A,$,T[j+8],20,1163531501),$=be($,R,O,A,T[j+13],5,-1444681467),A=be(A,$,R,O,T[j+2],9,-51403784),O=be(O,A,$,R,T[j+7],14,1735328473),$=se($,R=be(R,O,A,$,T[j+12],20,-1926607734),O,A,T[j+5],4,-378558),A=se(A,$,R,O,T[j+8],11,-2022574463),O=se(O,A,$,R,T[j+11],16,1839030562),R=se(R,O,A,$,T[j+14],23,-35309556),$=se($,R,O,A,T[j+1],4,-1530992060),A=se(A,$,R,O,T[j+4],11,1272893353),O=se(O,A,$,R,T[j+7],16,-155497632),R=se(R,O,A,$,T[j+10],23,-1094730640),$=se($,R,O,A,T[j+13],4,681279174),A=se(A,$,R,O,T[j+0],11,-358537222),O=se(O,A,$,R,T[j+3],16,-722521979),R=se(R,O,A,$,T[j+6],23,76029189),$=se($,R,O,A,T[j+9],4,-640364487),A=se(A,$,R,O,T[j+12],11,-421815835),O=se(O,A,$,R,T[j+15],16,530742520),$=Z($,R=se(R,O,A,$,T[j+2],23,-995338651),O,A,T[j+0],6,-198630844),A=Z(A,$,R,O,T[j+7],10,1126891415),O=Z(O,A,$,R,T[j+14],15,-1416354905),R=Z(R,O,A,$,T[j+5],21,-57434055),$=Z($,R,O,A,T[j+12],6,1700485571),A=Z(A,$,R,O,T[j+3],10,-1894986606),O=Z(O,A,$,R,T[j+10],15,-1051523),R=Z(R,O,A,$,T[j+1],21,-2054922799),$=Z($,R,O,A,T[j+8],6,1873313359),A=Z(A,$,R,O,T[j+15],10,-30611744),O=Z(O,A,$,R,T[j+6],15,-1560198380),R=Z(R,O,A,$,T[j+13],21,1309151649),$=Z($,R,O,A,T[j+4],6,-145523070),A=Z(A,$,R,O,T[j+11],10,-1120210379),O=Z(O,A,$,R,T[j+2],15,718787259),R=Z(R,O,A,$,T[j+9],21,-343485551),$=$+k>>>0,R=R+te>>>0,O=O+le>>>0,A=A+ae>>>0}return S.endian([$,R,O,A])})._ff=function(P,x,T,Q,$,R,O){var A=P+(x&T|~x&Q)+($>>>0)+O;return(A<<R|A>>>32-R)+x},z._gg=function(P,x,T,Q,$,R,O){var A=P+(x&Q|T&~Q)+($>>>0)+O;return(A<<R|A>>>32-R)+x},z._hh=function(P,x,T,Q,$,R,O){var A=P+(x^T^Q)+($>>>0)+O;return(A<<R|A>>>32-R)+x},z._ii=function(P,x,T,Q,$,R,O){var A=P+(T^(x|~Q))+($>>>0)+O;return(A<<R|A>>>32-R)+x},z._blocksize=16,z._digestsize=16,ve.exports=function(P,x){if(null==P)throw new Error("Illegal argument "+P);var T=S.wordsToBytes(z(P,x));return x&&x.asBytes?T:x&&x.asString?K.bytesToString(T):S.bytesToHex(T)}},5580:(ve,Ee)=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});var C=[];C[0]=function(){return function(){}},C[1]=function(K,z){return typeof z>"u"?K:function(x){K(x,z)}};var Y=function(){function K(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return K.prototype.addHandler=function(z,P){return this.isHandlerAttached(z,P)||(this._handlers.push(z),this._contexts.push(P),this._createDispatcher(),this._updateHasHandlers()),this},K.prototype.removeHandler=function(z,P){var x=this._getHandlerIndex(z,P);return typeof x<"u"&&(this._handlers.splice(x,1),this._contexts.splice(x,1),this._createDispatcher(),this._updateHasHandlers()),this},K.prototype.isHandlerAttached=function(z,P){return typeof this._getHandlerIndex(z,P)<"u"},K.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},K.prototype._getHandlerIndex=function(z,P){var T,x=this._handlers.length;for(T=0;T<x&&(this._handlers[T]!==z||this._contexts[T]!==P);T++);return T<x?T:void 0},K.prototype._createDispatcher=function(){this.dispatch=function S(K){return C[K]||(C[K]=function u(K){for(var z="return function dispatcher"+K+"(payload) {\n",P=[],x=[],T=0;T<K;T++)P.push("cb"+T),x.push("ctx"+T),z+="    cb"+T+"(payload, ctx"+T+");\n";return z+="};",new(Function.bind.apply(Function,[void 0].concat(P.concat(x),[z])))}(K)),C[K]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},K}();Ee.default=Y},5861:(ve,Ee,C)=>{"use strict";var u=C(5580);Ee.j=u.default},2720:(ve,Ee,C)=>{var S="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&S?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Y=S&&u&&"function"==typeof u.get?u.get:null,K=S&&Map.prototype.forEach,z="function"==typeof Set&&Set.prototype,P=Object.getOwnPropertyDescriptor&&z?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,x=z&&P&&"function"==typeof P.get?P.get:null,T=z&&Set.prototype.forEach,$="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,O="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,j="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,fe=Boolean.prototype.valueOf,be=Object.prototype.toString,se=Function.prototype.toString,Z=String.prototype.match,k=String.prototype.slice,te=String.prototype.replace,le=String.prototype.toUpperCase,ae=String.prototype.toLowerCase,Me=RegExp.prototype.test,ke=Array.prototype.concat,F=Array.prototype.join,N=Array.prototype.slice,ne=Math.floor,I="function"==typeof BigInt?BigInt.prototype.valueOf:null,X=Object.getOwnPropertySymbols,q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ge="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Be="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,ht=Object.prototype.propertyIsEnumerable,Tt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(de){return de.__proto__}:null);function Fe(de,we){if(de===1/0||de===-1/0||de!=de||de&&de>-1e3&&de<1e3||Me.call(/e/,we))return we;var Xt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof de){var Ht=de<0?-ne(-de):ne(de);if(Ht!==de){var vn=String(Ht),Kt=k.call(we,vn.length+1);return te.call(vn,Xt,"$&_")+"."+te.call(te.call(Kt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return te.call(we,Xt,"$&_")}var We=C(4654),Re=We.custom,Ge=Ie(Re)?Re:null;function st(de,we,Xt){var Ht="double"===(Xt.quoteStyle||we)?'"':"'";return Ht+de+Ht}function Pt(de){return te.call(String(de),/"/g,"&quot;")}function pe(de){return!("[object Array]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}function at(de){return!("[object RegExp]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}function Ie(de){if(ge)return de&&"object"==typeof de&&de instanceof Symbol;if("symbol"==typeof de)return!0;if(!de||"object"!=typeof de||!q)return!1;try{return q.call(de),!0}catch{}return!1}ve.exports=function de(we,Xt,Ht,vn){var Kt=Xt||{};if(Je(Kt,"quoteStyle")&&"single"!==Kt.quoteStyle&&"double"!==Kt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Je(Kt,"maxStringLength")&&("number"==typeof Kt.maxStringLength?Kt.maxStringLength<0&&Kt.maxStringLength!==1/0:null!==Kt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Dr=!Je(Kt,"customInspect")||Kt.customInspect;if("boolean"!=typeof Dr&&"symbol"!==Dr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Je(Kt,"indent")&&null!==Kt.indent&&"\t"!==Kt.indent&&!(parseInt(Kt.indent,10)===Kt.indent&&Kt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Je(Kt,"numericSeparator")&&"boolean"!=typeof Kt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Wn=Kt.numericSeparator;if(typeof we>"u")return"undefined";if(null===we)return"null";if("boolean"==typeof we)return we?"true":"false";if("string"==typeof we)return Vr(we,Kt);if("number"==typeof we){if(0===we)return 1/0/we>0?"0":"-0";var Yr=String(we);return Wn?Fe(we,Yr):Yr}if("bigint"==typeof we){var bo=String(we)+"n";return Wn?Fe(we,bo):bo}var Dn=typeof Kt.depth>"u"?5:Kt.depth;if(typeof Ht>"u"&&(Ht=0),Ht>=Dn&&Dn>0&&"object"==typeof we)return pe(we)?"[Array]":"[Object]";var co=function lo(de,we){var Xt;if("\t"===de.indent)Xt="\t";else{if(!("number"==typeof de.indent&&de.indent>0))return null;Xt=F.call(Array(de.indent+1)," ")}return{base:Xt,prev:F.call(Array(we+1),Xt)}}(Kt,Ht);if(typeof vn>"u")vn=[];else if(rn(vn,we)>=0)return"[Circular]";function uo(Ko,_i,Di){if(_i&&(vn=N.call(vn)).push(_i),Di){var vi={depth:Kt.depth};return Je(Kt,"quoteStyle")&&(vi.quoteStyle=Kt.quoteStyle),de(Ko,vi,Ht+1,vn)}return de(Ko,Kt,Ht+1,vn)}if("function"==typeof we&&!at(we)){var Pi=function Ut(de){if(de.name)return de.name;var we=Z.call(se.call(de),/^function\s*([\w$]+)/);return we?we[1]:null}(we),$o=jr(we,uo);return"[Function"+(Pi?": "+Pi:" (anonymous)")+"]"+($o.length>0?" { "+F.call($o,", ")+" }":"")}if(Ie(we)){var Fn=ge?te.call(String(we),/^(Symbol\(.*\))_[^)]*$/,"$1"):q.call(we);return"object"!=typeof we||ge?Fn:Pr(Fn)}if(function qo(de){return!(!de||"object"!=typeof de)&&(typeof HTMLElement<"u"&&de instanceof HTMLElement||"string"==typeof de.nodeName&&"function"==typeof de.getAttribute)}(we)){for(var _r="<"+ae.call(String(we.nodeName)),vr=we.attributes||[],In=0;In<vr.length;In++)_r+=" "+vr[In].name+"="+st(Pt(vr[In].value),"double",Kt);return _r+=">",we.childNodes&&we.childNodes.length&&(_r+="..."),_r+"</"+ae.call(String(we.nodeName))+">"}if(pe(we)){if(0===we.length)return"[]";var $n=jr(we,uo);return co&&!function To(de){for(var we=0;we<de.length;we++)if(rn(de[we],"\n")>=0)return!1;return!0}($n)?"["+yo($n,co)+"]":"[ "+F.call($n,", ")+" ]"}if(function Ye(de){return!("[object Error]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we)){var Yo=jr(we,uo);return"cause"in Error.prototype||!("cause"in we)||ht.call(we,"cause")?0===Yo.length?"["+String(we)+"]":"{ ["+String(we)+"] "+F.call(Yo,", ")+" }":"{ ["+String(we)+"] "+F.call(ke.call("[cause]: "+uo(we.cause),Yo),", ")+" }"}if("object"==typeof we&&Dr){if(Ge&&"function"==typeof we[Ge]&&We)return We(we,{depth:Dn-Ht});if("symbol"!==Dr&&"function"==typeof we.inspect)return we.inspect()}if(function $t(de){if(!Y||!de||"object"!=typeof de)return!1;try{Y.call(de);try{x.call(de)}catch{return!0}return de instanceof Map}catch{}return!1}(we)){var sn=[];return K&&K.call(we,function(Ko,_i){sn.push(uo(_i,we,!0)+" => "+uo(Ko,we))}),Xn("Map",Y.call(we),sn,co)}if(function gr(de){if(!x||!de||"object"!=typeof de)return!1;try{x.call(de);try{Y.call(de)}catch{return!0}return de instanceof Set}catch{}return!1}(we)){var ci=[];return T&&T.call(we,function(Ko){ci.push(uo(Ko,we))}),Xn("Set",x.call(we),ci,co)}if(function on(de){if(!$||!de||"object"!=typeof de)return!1;try{$.call(de,$);try{O.call(de,O)}catch{return!0}return de instanceof WeakMap}catch{}return!1}(we))return Or("WeakMap");if(function On(de){if(!O||!de||"object"!=typeof de)return!1;try{O.call(de,O);try{$.call(de,$)}catch{return!0}return de instanceof WeakSet}catch{}return!1}(we))return Or("WeakSet");if(function Cn(de){if(!j||!de||"object"!=typeof de)return!1;try{return j.call(de),!0}catch{}return!1}(we))return Or("WeakRef");if(function Gt(de){return!("[object Number]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we))return Pr(uo(Number(we)));if(function _e(de){if(!de||"object"!=typeof de||!I)return!1;try{return I.call(de),!0}catch{}return!1}(we))return Pr(uo(I.call(we)));if(function At(de){return!("[object Boolean]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we))return Pr(fe.call(we));if(function Ft(de){return!("[object String]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we))return Pr(uo(String(we)));if(typeof window<"u"&&we===window)return"{ [object Window] }";if(we===global)return"{ [object globalThis] }";if(!function He(de){return!("[object Date]"!==ot(de)||Be&&"object"==typeof de&&Be in de)}(we)&&!at(we)){var Oi=jr(we,uo),ui=Tt?Tt(we)===Object.prototype:we instanceof Object||we.constructor===Object,Ei=we instanceof Object?"":"null prototype",re=!ui&&Be&&Object(we)===we&&Be in we?k.call(ot(we),8,-1):Ei?"Object":"",Fi=(ui||"function"!=typeof we.constructor?"":we.constructor.name?we.constructor.name+" ":"")+(re||Ei?"["+F.call(ke.call([],re||[],Ei||[]),": ")+"] ":"");return 0===Oi.length?Fi+"{}":co?Fi+"{"+yo(Oi,co)+"}":Fi+"{ "+F.call(Oi,", ")+" }"}return String(we)};var xe=Object.prototype.hasOwnProperty||function(de){return de in this};function Je(de,we){return xe.call(de,we)}function ot(de){return be.call(de)}function rn(de,we){if(de.indexOf)return de.indexOf(we);for(var Xt=0,Ht=de.length;Xt<Ht;Xt++)if(de[Xt]===we)return Xt;return-1}function Vr(de,we){if(de.length>we.maxStringLength){var Xt=de.length-we.maxStringLength,Ht="... "+Xt+" more character"+(Xt>1?"s":"");return Vr(k.call(de,0,we.maxStringLength),we)+Ht}return st(te.call(te.call(de,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,vo),"single",we)}function vo(de){var we=de.charCodeAt(0),Xt={8:"b",9:"t",10:"n",12:"f",13:"r"}[we];return Xt?"\\"+Xt:"\\x"+(we<16?"0":"")+le.call(we.toString(16))}function Pr(de){return"Object("+de+")"}function Or(de){return de+" { ? }"}function Xn(de,we,Xt,Ht){return de+" ("+we+") {"+(Ht?yo(Xt,Ht):F.call(Xt,", "))+"}"}function yo(de,we){if(0===de.length)return"";var Xt="\n"+we.prev+we.base;return Xt+F.call(de,","+Xt)+"\n"+we.prev}function jr(de,we){var Xt=pe(de),Ht=[];if(Xt){Ht.length=de.length;for(var vn=0;vn<de.length;vn++)Ht[vn]=Je(de,vn)?we(de[vn],de):""}var Dr,Kt="function"==typeof X?X(de):[];if(ge){Dr={};for(var Wn=0;Wn<Kt.length;Wn++)Dr["$"+Kt[Wn]]=Kt[Wn]}for(var Yr in de)Je(de,Yr)&&(Xt&&String(Number(Yr))===Yr&&Yr<de.length||ge&&Dr["$"+Yr]instanceof Symbol||(Me.call(/[^\w$]/,Yr)?Ht.push(we(Yr,de)+": "+we(de[Yr],de)):Ht.push(Yr+": "+we(de[Yr],de))));if("function"==typeof X)for(var bo=0;bo<Kt.length;bo++)ht.call(de,Kt[bo])&&Ht.push("["+we(Kt[bo])+"]: "+we(de[Kt[bo]],de));return Ht}},5376:ve=>{"use strict";var Ee=function(C){return C!=C};ve.exports=function(S,u){return 0===S&&0===u?1/S==1/u:!!(S===u||Ee(S)&&Ee(u))}},500:(ve,Ee,C)=>{"use strict";var S=C(9567),u=C(1773),Y=C(5376),K=C(8204),z=C(2688),P=u(K(),Object);S(P,{getPolyfill:K,implementation:Y,shim:z}),ve.exports=P},8204:(ve,Ee,C)=>{"use strict";var S=C(5376);ve.exports=function(){return"function"==typeof Object.is?Object.is:S}},2688:(ve,Ee,C)=>{"use strict";var S=C(8204),u=C(9567);ve.exports=function(){var K=S();return u(Object,{is:K},{is:function(){return Object.is!==K}}),K}},1601:(ve,Ee,C)=>{"use strict";var S;if(!Object.keys){var u=Object.prototype.hasOwnProperty,Y=Object.prototype.toString,K=C(6755),z=Object.prototype.propertyIsEnumerable,P=!z.call({toString:null},"toString"),x=z.call(function(){},"prototype"),T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Q=function(A){var j=A.constructor;return j&&j.prototype===A},$={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},R=function(){if(typeof window>"u")return!1;for(var A in window)try{if(!$["$"+A]&&u.call(window,A)&&null!==window[A]&&"object"==typeof window[A])try{Q(window[A])}catch{return!0}}catch{return!0}return!1}();S=function(j){var fe=null!==j&&"object"==typeof j,be="[object Function]"===Y.call(j),se=K(j),Z=fe&&"[object String]"===Y.call(j),k=[];if(!fe&&!be&&!se)throw new TypeError("Object.keys called on a non-object");var te=x&&be;if(Z&&j.length>0&&!u.call(j,0))for(var le=0;le<j.length;++le)k.push(String(le));if(se&&j.length>0)for(var ae=0;ae<j.length;++ae)k.push(String(ae));else for(var Me in j)(!te||"prototype"!==Me)&&u.call(j,Me)&&k.push(String(Me));if(P)for(var ke=function(A){if(typeof window>"u"||!R)return Q(A);try{return Q(A)}catch{return!1}}(j),F=0;F<T.length;++F)(!ke||"constructor"!==T[F])&&u.call(j,T[F])&&k.push(T[F]);return k}}ve.exports=S},5692:(ve,Ee,C)=>{"use strict";var S=Array.prototype.slice,u=C(6755),Y=Object.keys,K=Y?function(x){return Y(x)}:C(1601),z=Object.keys;K.shim=function(){if(Object.keys){var x=function(){var T=Object.keys(arguments);return T&&T.length===arguments.length}(1,2);x||(Object.keys=function(Q){return u(Q)?z(S.call(Q)):z(Q)})}else Object.keys=K;return Object.keys||K},ve.exports=K},6755:ve=>{"use strict";var Ee=Object.prototype.toString;ve.exports=function(S){var u=Ee.call(S),Y="[object Arguments]"===u;return Y||(Y="[object Array]"!==u&&null!==S&&"object"==typeof S&&"number"==typeof S.length&&S.length>=0&&"[object Function]"===Ee.call(S.callee)),Y}},8032:(ve,Ee,C)=>{"use strict";var S=C(5692),u=C(2759)(),Y=C(1491),K=Object,z=Y("Array.prototype.push"),P=Y("Object.prototype.propertyIsEnumerable"),x=u?Object.getOwnPropertySymbols:null;ve.exports=function(Q,$){if(null==Q)throw new TypeError("target must be an object");var R=K(Q);if(1===arguments.length)return R;for(var O=1;O<arguments.length;++O){var A=K(arguments[O]),j=S(A),fe=u&&(Object.getOwnPropertySymbols||x);if(fe)for(var be=fe(A),se=0;se<be.length;++se){var Z=be[se];P(A,Z)&&z(j,Z)}for(var k=0;k<j.length;++k){var te=j[k];P(A,te)&&(R[te]=A[te])}}return R}},5747:(ve,Ee,C)=>{"use strict";var S=C(9567),u=C(1773),Y=C(8032),K=C(9530),z=C(4096),P=u.apply(K()),x=function(Q,$){return P(Object,arguments)};S(x,{getPolyfill:K,implementation:Y,shim:z}),ve.exports=x},9530:(ve,Ee,C)=>{"use strict";var S=C(8032);ve.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var K="abcdefghijklmnopqrst",z=K.split(""),P={},x=0;x<z.length;++x)P[z[x]]=z[x];var T=Object.assign({},P),Q="";for(var $ in T)Q+=$;return K!==Q}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var K=Object.preventExtensions({1:2});try{Object.assign(K,"xy")}catch{return"y"===K[1]}return!1}()?S:Object.assign}},4096:(ve,Ee,C)=>{"use strict";var S=C(9567),u=C(9530);ve.exports=function(){var K=u();return S(Object,{assign:K},{assign:function(){return Object.assign!==K}}),K}},6716:(ve,Ee)=>{"use strict";var C=Object.prototype.hasOwnProperty;function u(P){try{return decodeURIComponent(P.replace(/\+/g," "))}catch{return null}}function Y(P){try{return encodeURIComponent(P)}catch{return null}}Ee.stringify=function z(P,x){x=x||"";var Q,$,T=[];for($ in"string"!=typeof x&&(x="?"),P)if(C.call(P,$)){if(!(Q=P[$])&&(null==Q||isNaN(Q))&&(Q=""),$=Y($),Q=Y(Q),null===$||null===Q)continue;T.push($+"="+Q)}return T.length?x+T.join("&"):""},Ee.parse=function K(P){for(var Q,x=/([^=?#&]+)=?([^&]*)/g,T={};Q=x.exec(P);){var $=u(Q[1]),R=u(Q[2]);null===$||null===R||$ in T||(T[$]=R)}return T}},7732:(ve,Ee,C)=>{"use strict";var S=C(2562),u=Object,Y=TypeError;ve.exports=S(function(){if(null!=this&&this!==u(this))throw new Y("RegExp.prototype.flags getter called on non-object");var z="";return this.hasIndices&&(z+="d"),this.global&&(z+="g"),this.ignoreCase&&(z+="i"),this.multiline&&(z+="m"),this.dotAll&&(z+="s"),this.unicode&&(z+="u"),this.unicodeSets&&(z+="v"),this.sticky&&(z+="y"),z},"get flags",!0)},4300:(ve,Ee,C)=>{"use strict";var S=C(9567),u=C(1773),Y=C(7732),K=C(5848),z=C(6472),P=u(K());S(P,{getPolyfill:K,implementation:Y,shim:z}),ve.exports=P},5848:(ve,Ee,C)=>{"use strict";var S=C(7732),u=C(9567).supportsDescriptors,Y=Object.getOwnPropertyDescriptor;ve.exports=function(){if(u&&"gim"===/a/gim.flags){var z=Y(RegExp.prototype,"flags");if(z&&"function"==typeof z.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var P="",x={};if(Object.defineProperty(x,"hasIndices",{get:function(){P+="d"}}),Object.defineProperty(x,"sticky",{get:function(){P+="y"}}),"dy"===P)return z.get}}return S}},6472:(ve,Ee,C)=>{"use strict";var S=C(9567).supportsDescriptors,u=C(5848),Y=Object.getOwnPropertyDescriptor,K=Object.defineProperty,z=TypeError,P=Object.getPrototypeOf,x=/a/;ve.exports=function(){if(!S||!P)throw new z("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Q=u(),$=P(x),R=Y($,"flags");return(!R||R.get!==Q)&&K($,"flags",{configurable:!0,enumerable:!1,get:Q}),Q}},716:ve=>{"use strict";ve.exports=function(C,S){if(S=S.split(":")[0],!(C=+C))return!1;switch(S){case"http":case"ws":return 80!==C;case"https":case"wss":return 443!==C;case"ftp":return 21!==C;case"gopher":return 70!==C;case"file":return!1}return 0!==C}},3931:(ve,Ee,C)=>{"use strict";var S=C(3485),u=C(4467),Y=C(7811)(),K=C(6078),z=S("%TypeError%"),P=S("%Math.floor%");ve.exports=function(T,Q){if("function"!=typeof T)throw new z("`fn` is not a function");if("number"!=typeof Q||Q<0||Q>4294967295||P(Q)!==Q)throw new z("`length` must be a positive 32-bit integer");var $=arguments.length>2&&!!arguments[2],R=!0,O=!0;if("length"in T&&K){var A=K(T,"length");A&&!A.configurable&&(R=!1),A&&!A.writable&&(O=!1)}return(R||O||!$)&&(Y?u(T,"length",Q,!0,!0):u(T,"length",Q)),T}},2562:(ve,Ee,C)=>{"use strict";var S=C(4467),u=C(7811)(),Y=C(7688).functionsHaveConfigurableNames(),K=TypeError;ve.exports=function(P,x){if("function"!=typeof P)throw new K("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||Y)&&(u?S(P,"name",x,!0,!0):S(P,"name",x)),P}},4355:(ve,Ee,C)=>{"use strict";var S=C(3485),u=C(1491),Y=C(2720),K=S("%TypeError%"),z=S("%WeakMap%",!0),P=S("%Map%",!0),x=u("WeakMap.prototype.get",!0),T=u("WeakMap.prototype.set",!0),Q=u("WeakMap.prototype.has",!0),$=u("Map.prototype.get",!0),R=u("Map.prototype.set",!0),O=u("Map.prototype.has",!0),A=function(se,Z){for(var te,k=se;null!==(te=k.next);k=te)if(te.key===Z)return k.next=te.next,te.next=se.next,se.next=te,te};ve.exports=function(){var Z,k,te,le={assert:function(ae){if(!le.has(ae))throw new K("Side channel does not contain "+Y(ae))},get:function(ae){if(z&&ae&&("object"==typeof ae||"function"==typeof ae)){if(Z)return x(Z,ae)}else if(P){if(k)return $(k,ae)}else if(te)return function(se,Z){var k=A(se,Z);return k&&k.value}(te,ae)},has:function(ae){if(z&&ae&&("object"==typeof ae||"function"==typeof ae)){if(Z)return Q(Z,ae)}else if(P){if(k)return O(k,ae)}else if(te)return function(se,Z){return!!A(se,Z)}(te,ae);return!1},set:function(ae,Me){z&&ae&&("object"==typeof ae||"function"==typeof ae)?(Z||(Z=new z),T(Z,ae,Me)):P?(k||(k=new P),R(k,ae,Me)):(te||(te={key:{},next:null}),function(se,Z,k){var te=A(se,Z);te?te.value=k:se.next={key:Z,next:se.next,value:k}}(te,ae,Me))}};return le}},118:(ve,Ee,C)=>{"use strict";var S=C(2605),u=SyntaxError,Y="object"==typeof StopIteration?StopIteration:null;ve.exports=function(z){if(!Y)throw new u("this environment lacks StopIteration");S.set(z,"[[Done]]",!1);var P={next:function(){var T=S.get(this,"[[Iterator]]"),Q=S.get(T,"[[Done]]");try{return{done:Q,value:Q?void 0:T.next()}}catch($){if(S.set(T,"[[Done]]",!0),$!==Y)throw $;return{done:!0,value:void 0}}}};return S.set(P,"[[Iterator]]",z),P}},6299:(ve,Ee,C)=>{"use strict";var S=C(716),u=C(6716),Y=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,K=/[\n\r\t]/g,z=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,P=/:\d+$/,x=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,T=/^[a-zA-Z]:/;function Q(k){return(k||"").toString().replace(Y,"")}var $=[["#","hash"],["?","query"],function(te,le){return A(le.protocol)?te.replace(/\\/g,"/"):te},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],R={hash:1,query:1};function O(k){var te;te=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ke,ae={},Me=typeof(k=k||te.location||{});if("blob:"===k.protocol)ae=new be(unescape(k.pathname),{});else if("string"===Me)for(ke in ae=new be(k,{}),R)delete ae[ke];else if("object"===Me){for(ke in k)ke in R||(ae[ke]=k[ke]);void 0===ae.slashes&&(ae.slashes=z.test(k.href))}return ae}function A(k){return"file:"===k||"ftp:"===k||"http:"===k||"https:"===k||"ws:"===k||"wss:"===k}function j(k,te){k=(k=Q(k)).replace(K,""),te=te||{};var N,le=x.exec(k),ae=le[1]?le[1].toLowerCase():"",Me=!!le[2],ke=!!le[3],F=0;return Me?ke?(N=le[2]+le[3]+le[4],F=le[2].length+le[3].length):(N=le[2]+le[4],F=le[2].length):ke?(N=le[3]+le[4],F=le[3].length):N=le[4],"file:"===ae?F>=2&&(N=N.slice(2)):A(ae)?N=le[4]:ae?Me&&(N=N.slice(2)):F>=2&&A(te.protocol)&&(N=le[4]),{protocol:ae,slashes:Me||A(ae),slashesCount:F,rest:N}}function be(k,te,le){if(k=(k=Q(k)).replace(K,""),!(this instanceof be))return new be(k,te,le);var ae,Me,ke,F,N,ne,I=$.slice(),X=typeof te,q=this,ge=0;for("object"!==X&&"string"!==X&&(le=te,te=null),le&&"function"!=typeof le&&(le=u.parse),ae=!(Me=j(k||"",te=O(te))).protocol&&!Me.slashes,q.slashes=Me.slashes||ae&&te.slashes,q.protocol=Me.protocol||te.protocol||"",k=Me.rest,("file:"===Me.protocol&&(2!==Me.slashesCount||T.test(k))||!Me.slashes&&(Me.protocol||Me.slashesCount<2||!A(q.protocol)))&&(I[3]=[/(.*)/,"pathname"]);ge<I.length;ge++)"function"!=typeof(F=I[ge])?(ne=F[1],(ke=F[0])!=ke?q[ne]=k:"string"==typeof ke?~(N="@"===ke?k.lastIndexOf(ke):k.indexOf(ke))&&("number"==typeof F[2]?(q[ne]=k.slice(0,N),k=k.slice(N+F[2])):(q[ne]=k.slice(N),k=k.slice(0,N))):(N=ke.exec(k))&&(q[ne]=N[1],k=k.slice(0,N.index)),q[ne]=q[ne]||ae&&F[3]&&te[ne]||"",F[4]&&(q[ne]=q[ne].toLowerCase())):k=F(k,q);le&&(q.query=le(q.query)),ae&&te.slashes&&"/"!==q.pathname.charAt(0)&&(""!==q.pathname||""!==te.pathname)&&(q.pathname=function fe(k,te){if(""===k)return te;for(var le=(te||"/").split("/").slice(0,-1).concat(k.split("/")),ae=le.length,Me=le[ae-1],ke=!1,F=0;ae--;)"."===le[ae]?le.splice(ae,1):".."===le[ae]?(le.splice(ae,1),F++):F&&(0===ae&&(ke=!0),le.splice(ae,1),F--);return ke&&le.unshift(""),("."===Me||".."===Me)&&le.push(""),le.join("/")}(q.pathname,te.pathname)),"/"!==q.pathname.charAt(0)&&A(q.protocol)&&(q.pathname="/"+q.pathname),S(q.port,q.protocol)||(q.host=q.hostname,q.port=""),q.username=q.password="",q.auth&&(~(N=q.auth.indexOf(":"))?(q.username=q.auth.slice(0,N),q.username=encodeURIComponent(decodeURIComponent(q.username)),q.password=q.auth.slice(N+1),q.password=encodeURIComponent(decodeURIComponent(q.password))):q.username=encodeURIComponent(decodeURIComponent(q.auth)),q.auth=q.password?q.username+":"+q.password:q.username),q.origin="file:"!==q.protocol&&A(q.protocol)&&q.host?q.protocol+"//"+q.host:"null",q.href=q.toString()}be.prototype={set:function se(k,te,le){var ae=this;switch(k){case"query":"string"==typeof te&&te.length&&(te=(le||u.parse)(te)),ae[k]=te;break;case"port":ae[k]=te,S(te,ae.protocol)?te&&(ae.host=ae.hostname+":"+te):(ae.host=ae.hostname,ae[k]="");break;case"hostname":ae[k]=te,ae.port&&(te+=":"+ae.port),ae.host=te;break;case"host":ae[k]=te,P.test(te)?(te=te.split(":"),ae.port=te.pop(),ae.hostname=te.join(":")):(ae.hostname=te,ae.port="");break;case"protocol":ae.protocol=te.toLowerCase(),ae.slashes=!le;break;case"pathname":case"hash":if(te){var Me="pathname"===k?"/":"#";ae[k]=te.charAt(0)!==Me?Me+te:te}else ae[k]=te;break;case"username":case"password":ae[k]=encodeURIComponent(te);break;case"auth":var ke=te.indexOf(":");~ke?(ae.username=te.slice(0,ke),ae.username=encodeURIComponent(decodeURIComponent(ae.username)),ae.password=te.slice(ke+1),ae.password=encodeURIComponent(decodeURIComponent(ae.password))):ae.username=encodeURIComponent(decodeURIComponent(te))}for(var F=0;F<$.length;F++){var N=$[F];N[4]&&(ae[N[1]]=ae[N[1]].toLowerCase())}return ae.auth=ae.password?ae.username+":"+ae.password:ae.username,ae.origin="file:"!==ae.protocol&&A(ae.protocol)&&ae.host?ae.protocol+"//"+ae.host:"null",ae.href=ae.toString(),ae},toString:function Z(k){(!k||"function"!=typeof k)&&(k=u.stringify);var te,le=this,ae=le.host,Me=le.protocol;Me&&":"!==Me.charAt(Me.length-1)&&(Me+=":");var ke=Me+(le.protocol&&le.slashes||A(le.protocol)?"//":"");return le.username?(ke+=le.username,le.password&&(ke+=":"+le.password),ke+="@"):le.password?(ke+=":"+le.password,ke+="@"):"file:"!==le.protocol&&A(le.protocol)&&!ae&&"/"!==le.pathname&&(ke+="@"),(":"===ae[ae.length-1]||P.test(le.hostname)&&!le.port)&&(ae+=":"),ke+=ae+le.pathname,(te="object"==typeof le.query?k(le.query):le.query)&&(ke+="?"!==te.charAt(0)?"?"+te:te),le.hash&&(ke+=le.hash),ke}},be.extractProtocol=j,be.location=O,be.trimLeft=Q,be.qs=u,ve.exports=be},8460:(ve,Ee,C)=>{"use strict";var S=C(2706),u=C(9065),Y=C(2856),K=C(2630),z=C(7050);ve.exports=function(x){return null==x||"object"!=typeof x&&"function"!=typeof x?null:S(x)?"String":u(x)?"Number":Y(x)?"Boolean":K(x)?"Symbol":z(x)?"BigInt":void 0}},927:(ve,Ee,C)=>{"use strict";var S=C(2418),u=C(1001),Y=C(1773),K=C(1491),z=C(6078),P=K("Object.prototype.toString"),x=C(6518)(),T=typeof globalThis>"u"?global:globalThis,Q=u(),$=K("String.prototype.slice"),R=Object.getPrototypeOf,O=K("Array.prototype.indexOf",!0)||function(se,Z){for(var k=0;k<se.length;k+=1)if(se[k]===Z)return k;return-1},A={__proto__:null};S(Q,x&&z&&R?function(be){var se=new T[be];if(Symbol.toStringTag in se){var Z=R(se),k=z(Z,Symbol.toStringTag);if(!k){var te=R(Z);k=z(te,Symbol.toStringTag)}A["$"+be]=Y(k.get)}}:function(be){var se=new T[be],Z=se.slice||se.set;Z&&(A["$"+be]=Y(Z))}),ve.exports=function(se){if(!se||"object"!=typeof se)return!1;if(!x){var Z=$(P(se),8,-1);return O(Q,Z)>-1?Z:"Object"===Z&&function(se){var Z=!1;return S(A,function(k,te){if(!Z)try{k(se),Z=$(te,1)}catch{}}),Z}(se)}return z?function(se){var Z=!1;return S(A,function(k,te){if(!Z)try{"$"+k(se)===te&&(Z=$(te,1))}catch{}}),Z}(se):null}},863:(ve,Ee,C)=>{var S={"./ion-accordion_2.entry.js":[7512,8592,7512],"./ion-action-sheet.entry.js":[6470,8592,6470],"./ion-alert.entry.js":[5690,8592,5690],"./ion-app_8.entry.js":[8508,8592,8508],"./ion-avatar_3.entry.js":[3438,3438],"./ion-back-button.entry.js":[9119,8592,9119],"./ion-backdrop.entry.js":[2319,2319],"./ion-breadcrumb_2.entry.js":[4848,8592,4848],"./ion-button_2.entry.js":[4752,4752],"./ion-card_5.entry.js":[9870,8162],"./ion-checkbox.entry.js":[5892,8592,5892],"./ion-chip.entry.js":[9118,9118],"./ion-col_3.entry.js":[9538,9538],"./ion-datetime-button.entry.js":[4969,5869,4969],"./ion-datetime_3.entry.js":[1835,5869,8592,1835],"./ion-fab_3.entry.js":[6719,8592,6719],"./ion-img.entry.js":[3121,3121],"./ion-infinite-scroll_2.entry.js":[3025,8592,3025],"./ion-input.entry.js":[3914,8592,3914],"./ion-item-option_3.entry.js":[3761,8592,3761],"./ion-item_8.entry.js":[6138,8592,6138],"./ion-loading.entry.js":[2063,8592,2063],"./ion-menu_3.entry.js":[4950,8592,4950],"./ion-modal.entry.js":[9707,8592,9707],"./ion-nav_2.entry.js":[234,8592,234],"./ion-picker-column-internal.entry.js":[7209,8592,7209],"./ion-picker-internal.entry.js":[3068,3068],"./ion-popover.entry.js":[9215,8592,9215],"./ion-progress-bar.entry.js":[5635,5635],"./ion-radio_2.entry.js":[1497,8592,1497],"./ion-range.entry.js":[9964,8592,5922],"./ion-refresher_2.entry.js":[6199,8592,6199],"./ion-reorder_2.entry.js":[3549,8592,3549],"./ion-ripple-effect.entry.js":[5966,5966],"./ion-route_4.entry.js":[3187,3187],"./ion-searchbar.entry.js":[9092,8592,9092],"./ion-segment_2.entry.js":[7600,8592,7600],"./ion-select_3.entry.js":[1449,8592,9870],"./ion-spinner.entry.js":[1657,8592,1657],"./ion-split-pane.entry.js":[8394,8394],"./ion-tab-bar_2.entry.js":[4574,8592,4574],"./ion-tab_2.entry.js":[3514,3514],"./ion-text.entry.js":[7502,7502],"./ion-textarea.entry.js":[7832,8592,7832],"./ion-toast.entry.js":[9805,8592,9805],"./ion-toggle.entry.js":[7393,8592,7393]};function u(Y){if(!C.o(S,Y))return Promise.resolve().then(()=>{var P=new Error("Cannot find module '"+Y+"'");throw P.code="MODULE_NOT_FOUND",P});var K=S[Y],z=K[0];return Promise.all(K.slice(1).map(C.e)).then(()=>C(z))}u.keys=()=>Object.keys(S),u.id=863,ve.exports=u},4654:()=>{},1001:ve=>{"use strict";var Ee=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],C=typeof globalThis>"u"?global:globalThis;ve.exports=function(){for(var u=[],Y=0;Y<Ee.length;Y++)"function"==typeof C[Ee[Y]]&&(u[u.length]=Ee[Y]);return u}},1324:(ve,Ee,C)=>{"use strict";var S=C(1568),u=C(118);if(C(2337)()||C(2759)()){var Y=Symbol.iterator;ve.exports=function(N){return null!=N&&typeof N[Y]<"u"?N[Y]():S(N)?Array.prototype[Y].call(N):void 0}}else{var K=C(9604),z=C(2706),P=C(3485),x=P("%Map%",!0),T=P("%Set%",!0),Q=C(1491),$=Q("Array.prototype.push"),R=Q("String.prototype.charCodeAt"),O=Q("String.prototype.slice"),j=function(N){var ne=0;return{next:function(){var q,X=ne>=N.length;return X||(q=N[ne],ne+=1),{done:X,value:q}}}},fe=function(N,ne){if(K(N)||S(N))return j(N);if(z(N)){var I=0;return{next:function(){var q=function(N,ne){if(ne+1>=N.length)return ne+1;var X=R(N,ne);if(X<55296||X>56319)return ne+1;var q=R(N,ne+1);return q<56320||q>57343?ne+1:ne+2}(N,I),ge=O(N,I,q);return I=q,{done:q>N.length,value:ge}}}}return ne&&typeof N["_es6-shim iterator_"]<"u"?N["_es6-shim iterator_"]():void 0};if(x||T){var be=C(6128),se=C(5918),Z=Q("Map.prototype.forEach",!0),k=Q("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var te=Q("Map.prototype.iterator",!0),le=Q("Set.prototype.iterator",!0);var ae=Q("Map.prototype.@@iterator",!0)||Q("Map.prototype._es6-shim iterator_",!0),Me=Q("Set.prototype.@@iterator",!0)||Q("Set.prototype._es6-shim iterator_",!0);ve.exports=function(N){return function(N){if(be(N)){if(te)return u(te(N));if(ae)return ae(N);if(Z){var ne=[];return Z(N,function(X,q){$(ne,[q,X])}),j(ne)}}if(se(N)){if(le)return u(le(N));if(Me)return Me(N);if(k){var I=[];return k(N,function(X){$(I,X)}),j(I)}}}(N)||fe(N)}}else ve.exports=function(N){if(null!=N)return fe(N,!0)}}},9148:(ve,Ee,C)=>{"use strict";var S=C(6128),u=C(5918),Y=C(1545),K=C(9043);ve.exports=function(P){if(P&&"object"==typeof P){if(S(P))return"Map";if(u(P))return"Set";if(Y(P))return"WeakMap";if(K(P))return"WeakSet"}return!1}},3918:(ve,Ee,C)=>{"use strict";function S(Y,K,z,P,x,T,Q){try{var $=Y[T](Q),R=$.value}catch(O){return void z(O)}$.done?K(R):Promise.resolve(R).then(P,x)}function u(Y){return function(){var K=this,z=arguments;return new Promise(function(P,x){var T=Y.apply(K,z);function Q(R){S(T,P,x,Q,$,"next",R)}function $(R){S(T,P,x,Q,$,"throw",R)}Q(void 0)})}}C.d(Ee,{Z:()=>u})}},ve=>{ve(ve.s=1581)}]);
//# sourceMappingURL=main.1871294b5d2cf49d.js.map