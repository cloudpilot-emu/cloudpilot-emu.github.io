(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{8389:(Be,qe,F)=>{"use strict";function k(t){return"function"==typeof t}function u(t){const e=t(r=>{Error.call(r),r.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ae=u(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function oe(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class q{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const i of e)i.remove(this);else e.remove(this);const{initialTeardown:r}=this;if(k(r))try{r()}catch(i){n=i instanceof ae?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{z(i)}catch(s){n=n??[],s instanceof ae?n=[...n,...s.errors]:n.push(s)}}if(n)throw new ae(n)}}add(n){var e;if(n&&n!==this)if(this.closed)z(n);else{if(n instanceof q){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&oe(e,n)}remove(n){const{_finalizers:e}=this;e&&oe(e,n),n instanceof q&&n._removeParent(this)}}q.EMPTY=(()=>{const t=new q;return t.closed=!0,t})();const K=q.EMPTY;function G(t){return t instanceof q||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function z(t){k(t)?t():t.unsubscribe()}const Se={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Z={setTimeout(t,n,...e){const{delegate:r}=Z;return r?.setTimeout?r.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=Z;return(n?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ie(t){Z.setTimeout(()=>{const{onUnhandledError:n}=Se;if(!n)throw t;n(t)})}function B(){}const O=Q("C",void 0,void 0);function Q(t,n,e){return{kind:t,value:n,error:e}}let Ee=null;function Ce(t){if(Se.useDeprecatedSynchronousErrorHandling){const n=!Ee;if(n&&(Ee={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:r}=Ee;if(Ee=null,e)throw r}}else t()}class he extends q{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,G(n)&&n.add(this)):this.destination=Ve}static create(n,e,r){return new be(n,e,r)}next(n){this.isStopped?ze(function Fe(t){return Q("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?ze(function H(t){return Q("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ze(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function me(t,n){return Ne.call(t,n)}class Ye{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(r){Ie(r)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(r){Ie(r)}else Ie(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){Ie(e)}}}class be extends he{constructor(n,e,r){let o;if(super(),k(n)||!n)o={next:n??void 0,error:e??void 0,complete:r??void 0};else{let i;this&&Se.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&me(n.next,i),error:n.error&&me(n.error,i),complete:n.complete&&me(n.complete,i)}):o=n}this.destination=new Ye(o)}}function Ie(t){Se.useDeprecatedSynchronousErrorHandling?function ce(t){Se.useDeprecatedSynchronousErrorHandling&&Ee&&(Ee.errorThrown=!0,Ee.error=t)}(t):ie(t)}function ze(t,n){const{onStoppedNotification:e}=Se;e&&Z.setTimeout(()=>e(t,n))}const Ve={closed:!0,next:B,error:function Ae(t){throw t},complete:B},Pe="function"==typeof Symbol&&Symbol.observable||"@@observable";function X(t){return t}let _t=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const r=new t;return r.source=this,r.operator=e,r}subscribe(e,r,o){const i=function L(t){return t&&t instanceof he||function We(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}(t)&&G(t)}(e)?e:new be(e,r,o);return Ce(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(e){try{return this._subscribe(e)}catch(r){e.error(r)}}forEach(e,r){return new(r=Rt(r))((o,i)=>{const s=new be({next:a=>{try{e(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(e){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(e)}[Pe](){return this}pipe(...e){return function Ke(t){return 0===t.length?X:1===t.length?t[0]:function(e){return t.reduce((r,o)=>o(r),e)}}(e)(this)}toPromise(e){return new(e=Rt(e))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=n=>new t(n),t})();function Rt(t){var n;return null!==(n=t??Se.Promise)&&void 0!==n?n:Promise}const V=u(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let W=(()=>{class t extends _t{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const r=new _e(this,this);return r.operator=e,r}_throwIfClosed(){if(this.closed)throw new V}next(e){Ce(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(e)}})}error(e){Ce(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:r}=this;for(;r.length;)r.shift().error(e)}})}complete(){Ce(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:r,isStopped:o,observers:i}=this;return r||o?K:(this.currentObservers=null,i.push(e),new q(()=>{this.currentObservers=null,oe(i,e)}))}_checkFinalizedStatuses(e){const{hasError:r,thrownError:o,isStopped:i}=this;r?e.error(o):i&&e.complete()}asObservable(){const e=new _t;return e.source=this,e}}return t.create=(n,e)=>new _e(n,e),t})();class _e extends W{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===r||r.call(e,n)}error(n){var e,r;null===(r=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===r||r.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,r;return null!==(r=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==r?r:K}}function Re(t){return k(t?.lift)}function $e(t){return n=>{if(Re(n))return n.lift(function(e){try{return t(e,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(t,n,e,r,o){return new ot(t,n,e,r,o)}class ot extends he{constructor(n,e,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function at(t,n){return $e((e,r)=>{let o=0;e.subscribe(ct(r,i=>{r.next(t.call(n,i,o++))}))})}function ue(t,n,e,r){var s,o=arguments.length,i=o<3?n:null===r?r=Object.getOwnPropertyDescriptor(n,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(n,e,i):s(n,e))||i);return o>3&&i&&Object.defineProperty(n,e,i),i}function Qn(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(g){try{f(r.next(g))}catch(y){s(y)}}function c(g){try{f(r.throw(g))}catch(y){s(y)}}function f(g){g.done?i(g.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(g.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}function ur(t){return this instanceof ur?(this.v=t,this):new ur(t)}function tr(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=e.apply(t,n||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(E){r[E]&&(o[E]=function(A){return new Promise(function(J,xe){i.push([E,A,J,xe])>1||a(E,A)})})}function a(E,A){try{!function c(E){E.value instanceof ur?Promise.resolve(E.value.v).then(f,g):y(i[0][2],E)}(r[E](A))}catch(J){y(i[0][3],J)}}function f(E){a("next",E)}function g(E){a("throw",E)}function y(E,A){E(A),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Hr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function Gn(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(f){i({value:f,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}const yn=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function En(t){return k(t?.then)}function Ht(t){return k(t[Pe])}function pn(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function rr(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Jn=function an(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function dr(t){return k(t?.[Jn])}function Wt(t){return tr(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:r,done:o}=yield ur(e.read());if(o)return yield ur(void 0);yield yield ur(r)}}finally{e.releaseLock()}})}function or(t){return k(t?.getReader)}function S(t){if(t instanceof _t)return t;if(null!=t){if(Ht(t))return function Ft(t){return new _t(n=>{const e=t[Pe]();if(k(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(yn(t))return function _r(t){return new _t(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(En(t))return function I(t){return new _t(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,ie)})}(t);if(pn(t))return co(t);if(dr(t))return function Fr(t){return new _t(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(or(t))return function uo(t){return co(Wt(t))}(t)}throw rr(t)}function co(t){return new _t(n=>{(function No(t,n){var e,r,o,i;return Qn(this,void 0,void 0,function*(){try{for(e=Hr(t);!(r=yield e.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=e.return)&&(yield i.call(e))}finally{if(o)throw o.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function Sr(t,n,e,r=0,o=!1){const i=n.schedule(function(){e(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Kt(t,n,e=1/0){return k(n)?Kt((r,o)=>at((i,s)=>n(r,i,o,s))(S(t(r,o))),e):("number"==typeof n&&(e=n),$e((r,o)=>function xo(t,n,e,r,o,i,s,a){const c=[];let f=0,g=0,y=!1;const E=()=>{y&&!c.length&&!f&&n.complete()},A=xe=>f<r?J(xe):c.push(xe),J=xe=>{i&&n.next(xe),f++;let Xe=!1;S(e(xe,g++)).subscribe(ct(n,Ge=>{o?.(Ge),i?A(Ge):n.next(Ge)},()=>{Xe=!0},void 0,()=>{if(Xe)try{for(f--;c.length&&f<r;){const Ge=c.shift();s?Sr(n,s,()=>J(Ge)):J(Ge)}E()}catch(Ge){n.error(Ge)}}))};return t.subscribe(ct(n,A,()=>{y=!0,E()})),()=>{a?.()}}(r,o,t,e)))}function oo(t=1/0){return Kt(X,t)}const ir=new _t(t=>t.complete());function Ko(t){return t&&k(t.schedule)}function on(t){return t[t.length-1]}function Co(t){return k(on(t))?t.pop():void 0}function D(t){return Ko(on(t))?t.pop():void 0}function jr(t,n=0){return $e((e,r)=>{e.subscribe(ct(r,o=>Sr(r,t,()=>r.next(o),n),()=>Sr(r,t,()=>r.complete(),n),o=>Sr(r,t,()=>r.error(o),n)))})}function di(t,n=0){return $e((e,r)=>{r.add(t.schedule(()=>e.subscribe(r),n))})}function os(t,n){if(!t)throw new Error("Iterable cannot be null");return new _t(e=>{Sr(e,n,()=>{const r=t[Symbol.asyncIterator]();Sr(e,n,()=>{r.next().then(o=>{o.done?e.complete():e.next(o.value)})},0,!0)})})}function qn(t,n){return n?function $i(t,n){if(null!=t){if(Ht(t))return function fi(t,n){return S(t).pipe(di(n),jr(n))}(t,n);if(yn(t))return function Ao(t,n){return new _t(e=>{let r=0;return n.schedule(function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())})})}(t,n);if(En(t))return function Lo(t,n){return S(t).pipe(di(n),jr(n))}(t,n);if(pn(t))return os(t,n);if(dr(t))return function Ur(t,n){return new _t(e=>{let r;return Sr(e,n,()=>{r=t[Jn](),Sr(e,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void e.error(s)}i?e.complete():e.next(o)},0,!0)}),()=>k(r?.return)&&r.return()})}(t,n);if(or(t))return function Xo(t,n){return os(Wt(t),n)}(t,n)}throw rr(t)}(t,n):S(t)}function Qo(...t){const n=D(t),e=function Kr(t,n){return"number"==typeof on(t)?t.pop():n}(t,1/0),r=t;return r.length?1===r.length?S(r[0]):oo(e)(qn(r,n)):ir}function Si(t={}){const{connector:n=(()=>new W),resetOnError:e=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=t;return i=>{let s,a,c,f=0,g=!1,y=!1;const E=()=>{a?.unsubscribe(),a=void 0},A=()=>{E(),s=c=void 0,g=y=!1},J=()=>{const xe=s;A(),xe?.unsubscribe()};return $e((xe,Xe)=>{f++,!y&&!g&&E();const Ge=c=c??n();Xe.add(()=>{f--,0===f&&!y&&!g&&(a=Jo(J,o))}),Ge.subscribe(Xe),!s&&f>0&&(s=new be({next:yt=>Ge.next(yt),error:yt=>{y=!0,E(),a=Jo(A,e,yt),Ge.error(yt)},complete:()=>{g=!0,E(),a=Jo(A,r),Ge.complete()}}),S(xe).subscribe(s))})(i)}}function Jo(t,n,...e){if(!0===n)return void t();if(!1===n)return;const r=new be({next:()=>{r.unsubscribe(),t()}});return n(...e).subscribe(r)}function Nn(t){for(let n in t)if(t[n]===Nn)return n;throw Error("Could not find renamed property on target object.")}function ei(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Bn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Bn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function Ei(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const is=Nn({__forward_ref__:Nn});function T(t){return t.__forward_ref__=T,t.toString=function(){return Bn(this())},t}function N(t){return pe(t)?t():t}function pe(t){return"function"==typeof t&&t.hasOwnProperty(is)&&t.__forward_ref__===T}class R extends Error{constructor(n,e){super(function Y(t,n){return`NG0${Math.abs(t)}${n?": "+n.trim():""}`}(n,e)),this.code=n}}function ee(t){return"string"==typeof t?t:null==t?"":String(t)}function Xt(t,n){throw new R(-201,!1)}function Nr(t,n){null==t&&function Ln(t,n,e,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${e} ${r} ${n} <=Actual]`))}(n,t,null,"!=")}function wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function ms(t){return xs(t,ss)||xs(t,gs)}function xs(t,n){return t.hasOwnProperty(n)?t[n]:null}function Vi(t){return t&&(t.hasOwnProperty(as)||t.hasOwnProperty(Xr))?t[as]:null}const ss=Nn({\u0275prov:Nn}),as=Nn({\u0275inj:Nn}),gs=Nn({ngInjectableDef:Nn}),Xr=Nn({ngInjectorDef:Nn});var Zt=(()=>((Zt=Zt||{})[Zt.Default=0]="Default",Zt[Zt.Host=1]="Host",Zt[Zt.Self=2]="Self",Zt[Zt.SkipSelf=4]="SkipSelf",Zt[Zt.Optional=8]="Optional",Zt))();let $o;function ni(t){const n=$o;return $o=t,n}function ls(t,n,e){const r=ms(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:e&Zt.Optional?null:void 0!==n?n:void Xt(Bn(t))}function ri(t){return{toString:t}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),Rn=(()=>{return(t=Rn||(Rn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Rn;var t})();const gn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),_={},b=[],x=Nn({\u0275cmp:Nn}),U=Nn({\u0275dir:Nn}),ge=Nn({\u0275pipe:Nn}),ve=Nn({\u0275mod:Nn}),ye=Nn({\u0275fac:Nn}),dt=Nn({__NG_ELEMENT_ID__:Nn});let d=0;function m(t){return ri(()=>{const e=!0===t.standalone,r={},o={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||b,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Rn.Emulated,id:"c"+d++,styles:t.styles||b,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.dependencies,s=t.features;return o.inputs=gt(t.inputs,r),o.outputs=gt(t.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(M).filter($):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(St).filter($):null,o})}function M(t){return It(t)||bt(t)}function $(t){return null!==t}const te={};function ne(t){return ri(()=>{const n={type:t.type,bootstrap:t.bootstrap||b,declarations:t.declarations||b,imports:t.imports||b,exports:t.exports||b,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(te[t.id]=t.type),n})}function gt(t,n){if(null==t)return _;const e={};for(const r in t)if(t.hasOwnProperty(r)){let o=t[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),e[o]=r,n&&(n[o]=i)}return e}const se=m;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function It(t){return t[x]||null}function bt(t){return t[U]||null}function St(t){return t[ge]||null}function Nt(t,n){const e=t[ve]||null;if(!e&&!0===n)throw new Error(`Type ${Bn(t)} does not have '\u0275mod' property.`);return e}function Bo(t){return Array.isArray(t)&&"object"==typeof t[1]}function Mi(t){return Array.isArray(t)&&!0===t[1]}function nc(t){return 0!=(8&t.flags)}function vl(t){return 2==(2&t.flags)}function bl(t){return 1==(1&t.flags)}function ki(t){return null!==t.template}function tf(t){return 0!=(256&t[2])}function Rs(t,n){return t.hasOwnProperty(ye)?t[ye]:null}class sf{constructor(n,e,r){this.previousValue=n,this.currentValue=e,this.firstChange=r}isFirstChange(){return this.firstChange}}function ho(){return hu}function hu(t){return t.type.prototype.ngOnChanges&&(t.setInput=lf),af}function af(){const t=gu(this),n=t?.current;if(n){const e=t.previous;if(e===_)t.previous=n;else for(let r in n)e[r]=n[r];t.current=null,this.ngOnChanges(n)}}function lf(t,n,e,r){const o=gu(t)||function cf(t,n){return t[mu]=n}(t,{previous:_,current:null}),i=o.current||(o.current={}),s=o.previous,a=this.declaredInputs[e],c=s[a];i[a]=new sf(c&&c.currentValue,n,s===_),t[r]=n}ho.ngInherit=!0;const mu="__ngSimpleChanges__";function gu(t){return t[mu]||null}function Gr(t){for(;Array.isArray(t);)t=t[0];return t}function wl(t,n){return Gr(n[t])}function hi(t,n){return Gr(n[t.index])}function ac(t,n){return t.data[n]}function ra(t,n){return t[n]}function oi(t,n){const e=n[t];return Bo(e)?e:e[0]}function yu(t){return 4==(4&t[2])}function lc(t){return 64==(64&t[2])}function ys(t,n){return null==n?null:t[n]}function _u(t){t[18]=0}function cc(t,n){t[5]+=n;let e=t,r=t[3];for(;null!==r&&(1===n&&1===e[5]||-1===n&&0===e[5]);)r[5]+=n,e=r,r=r[3]}const bn={lFrame:Te(null),bindingsEnabled:!0};function Kh(){return bn.bindingsEnabled}function mt(){return bn.lFrame.lView}function Vn(){return bn.lFrame.tView}function Qt(t){return bn.lFrame.contextLView=t,t[8]}function Mt(t){return bn.lFrame.contextLView=null,t}function Er(){let t=Zn();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zn(){return bn.lFrame.currentTNode}function cs(t,n){const e=bn.lFrame;e.currentTNode=t,e.isParent=n}function bu(){return bn.lFrame.isParent}function wu(){bn.lFrame.isParent=!1}function er(){return bn.lFrame.bindingIndex++}function Tr(t){const n=bn.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function mo(t,n){const e=bn.lFrame;e.bindingIndex=e.bindingRootIndex=t,Br(n)}function Br(t){bn.lFrame.currentDirectiveIndex=t}function l(){return bn.lFrame.currentQueryIndex}function h(t){bn.lFrame.currentQueryIndex=t}function v(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function P(t,n,e){if(e&Zt.SkipSelf){let o=n,i=t;for(;!(o=o.parent,null!==o||e&Zt.Host||(o=v(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;n=o,t=i}const r=bn.lFrame=De();return r.currentTNode=n,r.lView=t,!0}function j(t){const n=De(),e=t[1];bn.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function De(){const t=bn.lFrame,n=null===t?null:t.child;return null===n?Te(t):n}function Te(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function He(){const t=bn.lFrame;return bn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Dt=He;function sn(){const t=He();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bt(){return bn.lFrame.selectedIndex}function Gt(t){bn.lFrame.selectedIndex=t}function rn(){const t=bn.lFrame;return ac(t.tView,t.selectedIndex)}function fr(t,n){for(let e=n.directiveStart,r=n.directiveEnd;e<r;e++){const i=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:f,ngOnDestroy:g}=i;s&&(t.contentHooks||(t.contentHooks=[])).push(-e,s),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),c&&(t.viewHooks||(t.viewHooks=[])).push(-e,c),f&&((t.viewHooks||(t.viewHooks=[])).push(e,f),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,f)),null!=g&&(t.destroyHooks||(t.destroyHooks=[])).push(e,g)}}function si(t,n,e){Nv(t,n,3,e)}function Vr(t,n,e,r){(3&t[2])===e&&Nv(t,n,e,r)}function Xh(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function Nv(t,n,e,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&t[18]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(t[18]+=65536),(a<i||-1==i)&&(ek(t,e,n,c),t[18]=(4294901760&t[18])+c+2),c++}function ek(t,n,e,r){const o=e[r]<0,i=e[r+1],a=t[o?-e[r]:e[r]];if(o){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Cu{constructor(n,e,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=r}}function _f(t,n,e){let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const i=e[r++],s=e[r++],a=e[r++];t.setAttribute(n,s,a,i)}else{const i=o,s=e[++r];$v(i)?t.setProperty(n,i,s):t.setAttribute(n,i,s),r++}}return r}function Lv(t){return 3===t||4===t||6===t}function $v(t){return 64===t.charCodeAt(0)}function vf(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?e=o:0===e||Bv(t,e,o,null,-1===e||2===e?n[++r]:null)}}return t}function Bv(t,n,e,r,o){let i=0,s=t.length;if(-1===n)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===e){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,n),i=s+1),t.splice(i++,0,e),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}function Vv(t){return-1!==t}function dc(t){return 32767&t}function fc(t,n){let e=function ik(t){return t>>16}(t),r=n;for(;e>0;)r=r[15],e--;return r}let Jh=!0;function bf(t){const n=Jh;return Jh=t,n}let sk=0;const Fs={};function Eu(t,n){const e=tm(t,n);if(-1!==e)return e;const r=n[1];r.firstCreatePass&&(t.injectorIndex=n.length,em(r.data,t),em(n,null),em(r.blueprint,null));const o=wf(t,n),i=t.injectorIndex;if(Vv(o)){const s=dc(o),a=fc(o,n),c=a[1].data;for(let f=0;f<8;f++)n[i+f]=a[s+f]|c[s+f]}return n[i+8]=o,i}function em(t,n){t.push(0,0,0,0,0,0,0,0,n)}function tm(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function wf(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,r=null,o=n;for(;null!==o;){if(r=Yv(o),null===r)return-1;if(e++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|e<<16}return-1}function Cf(t,n,e){!function ak(t,n,e){let r;"string"==typeof e?r=e.charCodeAt(0)||0:e.hasOwnProperty(dt)&&(r=e[dt]),null==r&&(r=e[dt]=sk++);const o=255&r;n.data[t+(o>>5)]|=1<<o}(t,n,e)}function Uv(t,n,e){if(e&Zt.Optional)return t;Xt()}function Gv(t,n,e,r){if(e&Zt.Optional&&void 0===r&&(r=null),0==(e&(Zt.Self|Zt.Host))){const o=t[9],i=ni(void 0);try{return o?o.get(n,r,e&Zt.Optional):ls(n,r,e&Zt.Optional)}finally{ni(i)}}return Uv(r,0,e)}function zv(t,n,e,r=Zt.Default,o){if(null!==t){if(1024&n[2]){const s=function fk(t,n,e,r,o){let i=t,s=n;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=Wv(i,s,e,r|Zt.Self,Fs);if(a!==Fs)return a;let c=i.parent;if(!c){const f=s[21];if(f){const g=f.get(e,Fs,r);if(g!==Fs)return g}c=Yv(s),s=s[15]}i=c}return o}(t,n,e,r,Fs);if(s!==Fs)return s}const i=Wv(t,n,e,r,Fs);if(i!==Fs)return i}return Gv(n,e,r,o)}function Wv(t,n,e,r,o){const i=function uk(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(dt)?t[dt]:void 0;return"number"==typeof n?n>=0?255&n:dk:n}(e);if("function"==typeof i){if(!P(n,t,r))return r&Zt.Host?Uv(o,0,r):Gv(n,e,r,o);try{const s=i(r);if(null!=s||r&Zt.Optional)return s;Xt()}finally{Dt()}}else if("number"==typeof i){let s=null,a=tm(t,n),c=-1,f=r&Zt.Host?n[16][6]:null;for((-1===a||r&Zt.SkipSelf)&&(c=-1===a?wf(t,n):n[a+8],-1!==c&&Zv(r,!1)?(s=n[1],a=dc(c),n=fc(c,n)):a=-1);-1!==a;){const g=n[1];if(qv(i,a,g.data)){const y=ck(a,n,e,s,r,f);if(y!==Fs)return y}c=n[a+8],-1!==c&&Zv(r,n[1].data[a+8]===f)&&qv(i,a,n)?(s=g,a=dc(c),n=fc(c,n)):a=-1}}return o}function ck(t,n,e,r,o,i){const s=n[1],a=s.data[t+8],g=Sf(a,s,e,null==r?vl(a)&&Jh:r!=s&&0!=(3&a.type),o&Zt.Host&&i===a);return null!==g?Du(n,s,g,a):Fs}function Sf(t,n,e,r,o){const i=t.providerIndexes,s=n.data,a=1048575&i,c=t.directiveStart,g=i>>20,E=o?a+g:t.directiveEnd;for(let A=r?a:a+g;A<E;A++){const J=s[A];if(A<c&&e===J||A>=c&&J.type===e)return A}if(o){const A=s[c];if(A&&ki(A)&&A.type===e)return c}return null}function Du(t,n,e,r){let o=t[e];const i=n.data;if(function tk(t){return t instanceof Cu}(o)){const s=o;s.resolving&&function Qe(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new R(-200,`Circular dependency in DI detected for ${t}${e}`)}(function Le(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ee(t)}(i[e]));const a=bf(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?ni(s.injectImpl):null;P(t,r,Zt.Default);try{o=t[e]=s.factory(void 0,i,t,r),n.firstCreatePass&&e>=r.directiveStart&&function go(t,n,e){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=hu(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s)}o&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,o),i&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,i),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,i))}(e,i[e],n)}finally{null!==c&&ni(c),bf(a),s.resolving=!1,Dt()}}return o}function qv(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Zv(t,n){return!(t&Zt.Self||t&Zt.Host&&n)}class pc{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,r){return zv(this._tNode,this._lView,n,r,e)}}function dk(){return new pc(Er(),mt())}function Uo(t){return ri(()=>{const n=t.prototype.constructor,e=n[ye]||nm(n),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[ye]||nm(o);if(i&&i!==e)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function nm(t){return pe(t)?()=>{const n=nm(N(t));return n&&n()}:Rs(t)}function Yv(t){const n=t[1],e=n.type;return 2===e?n.declTNode:1===e?t[6]:null}function Sl(t){return function lk(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const r=e.length;let o=0;for(;o<r;){const i=e[o];if(Lv(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof e[o];)o++;else{if(i===n)return e[o+1];o+=2}}}return null}(Er(),t)}const mc="__parameters__";function yc(t,n,e){return ri(()=>{const r=function rm(t){return function(...e){if(t){const r=t(...e);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,f,g){const y=c.hasOwnProperty(mc)?c[mc]:Object.defineProperty(c,mc,{value:[]})[mc];for(;y.length<=g;)y.push(null);return(y[g]=y[g]||[]).push(s),c}}return e&&(o.prototype=Object.create(e.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class dn{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=wt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const hk=new dn("AnalyzeForEntryComponents");function Hi(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let r=t[e];Array.isArray(r)?(n===t&&(n=t.slice(0,e)),Hi(r,n)):n!==t&&n.push(r)}return n}function oa(t,n){t.forEach(e=>Array.isArray(e)?oa(e,n):n(e))}function Xv(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function Ef(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function ku(t,n){const e=[];for(let r=0;r<t;r++)e.push(n);return e}function ji(t,n,e){let r=_c(t,n);return r>=0?t[1|r]=e:(r=~r,function yk(t,n,e,r){let o=t.length;if(o==n)t.push(e,r);else if(1===o)t.push(r,t[0]),t[0]=e;else{for(o--,t.push(t[o-1],t[o]);o>n;)t[o]=t[o-2],o--;t[n]=e,t[n+1]=r}}(t,r,n,e)),r}function im(t,n){const e=_c(t,n);if(e>=0)return t[1|e]}function _c(t,n){return function e0(t,n,e){let r=0,o=t.length>>e;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<e];if(n===s)return i<<e;s>n?o=i:r=i+1}return~(o<<e)}(t,n,1)}const Tu={},am="__NG_DI_FLAG__",If="ngTempTokenPath",Dk=/\n/gm,t0="__source";let xu;function Mf(t){const n=xu;return xu=t,n}function Mk(t,n=Zt.Default){if(void 0===xu)throw new R(-203,!1);return null===xu?ls(t,void 0,n):xu.get(t,n&Zt.Optional?null:void 0,n)}function we(t,n=Zt.Default){return(function hl(){return $o}()||Mk)(N(t),n)}function El(t,n=Zt.Default){return we(t,n)}function lm(t){const n=[];for(let e=0;e<t.length;e++){const r=N(t[e]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);let o,i=Zt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=kk(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(we(o,i))}else n.push(we(r))}return n}function Au(t,n){return t[am]=n,t.prototype[am]=n,t}function kk(t){return t[am]}const Ua=Au(yc("Optional"),8),Pu=Au(yc("SkipSelf"),4);let um,xf;function bc(t){var n;return(null===(n=function dm(){if(void 0===xf&&(xf=null,gn.trustedTypes))try{xf=gn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xf}())||void 0===n?void 0:n.createHTML(t))||t}class Dl{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Uk extends Dl{getTypeName(){return"HTML"}}class Gk extends Dl{getTypeName(){return"Style"}}class zk extends Dl{getTypeName(){return"Script"}}class Wk extends Dl{getTypeName(){return"URL"}}class qk extends Dl{getTypeName(){return"ResourceURL"}}function Ui(t){return t instanceof Dl?t.changingThisBreaksApplicationSecurity:t}function Os(t,n){const e=function Zk(t){return t instanceof Dl&&t.getTypeName()||null}(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}class eT{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(bc(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch{return null}}}class tT{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const r=this.inertDocument.createElement("body");e.appendChild(r)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=bc(n),e;const r=this.inertDocument.createElement("body");return r.innerHTML=bc(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const e=n.attributes;for(let o=e.length-1;0<o;o--){const s=e.item(o).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&n.removeAttribute(s)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const rT=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,oT=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ou(t){return(t=String(t)).match(rT)||t.match(oT)?t:"unsafe:"+t}function g0(t){return(t=String(t)).split(",").map(n=>Ou(n.trim())).join(", ")}function Ns(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Nu(...t){const n={};for(const e of t)for(const r in e)e.hasOwnProperty(r)&&(n[r]=!0);return n}const y0=Ns("area,br,col,hr,img,wbr"),_0=Ns("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v0=Ns("rp,rt"),pm=Nu(y0,Nu(_0,Ns("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Nu(v0,Ns("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Nu(v0,_0)),hm=Ns("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mm=Ns("srcset"),b0=Nu(hm,mm,Ns("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ns("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),iT=Ns("script,style,template");class sT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,r=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=this.checkClobberedElement(e,e.nextSibling);if(o){e=o;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!pm.hasOwnProperty(e))return this.sanitizedSomething=!0,!iT.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!b0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;hm[a]&&(c=Ou(c)),mm[a]&&(c=g0(c)),this.buf.push(" ",s,'="',w0(c),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();pm.hasOwnProperty(e)&&!y0.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(w0(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const aT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lT=/([^\#-~ |!])/g;function w0(t){return t.replace(/&/g,"&amp;").replace(aT,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(lT,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pf;function C0(t,n){let e=null;try{Pf=Pf||function m0(t){const n=new tT(t);return function nT(){try{return!!(new window.DOMParser).parseFromString(bc(""),"text/html")}catch{return!1}}()?new eT(n):n}(t);let r=n?String(n):"";e=Pf.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=e.innerHTML,e=Pf.getInertBodyElement(r)}while(r!==i);return bc((new sT).sanitizeChildren(gm(e)||e))}finally{if(e){const r=gm(e)||e;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function gm(t){return"content"in t&&function cT(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Dr=(()=>((Dr=Dr||{})[Dr.NONE=0]="NONE",Dr[Dr.HTML=1]="HTML",Dr[Dr.STYLE=2]="STYLE",Dr[Dr.SCRIPT=3]="SCRIPT",Dr[Dr.URL=4]="URL",Dr[Dr.RESOURCE_URL=5]="RESOURCE_URL",Dr))();function vm(t){return t.ngOriginalError}class wc{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n);this._console.error("ERROR",n),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&vm(n);for(;e&&vm(e);)e=vm(e);return e||null}}const bm=new Map;let DT=0;const Cm="__ngContext__";function ai(t,n){Bo(n)?(t[Cm]=n[20],function MT(t){bm.set(t[20],t)}(n)):t[Cm]=n}function $u(t){const n=t[Cm];return"number"==typeof n?function D0(t){return bm.get(t)||null}(n):n||null}function Sm(t){const n=$u(t);return n?Bo(n)?n:n.lView:null}const NT=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(gn))();function ia(t){return t instanceof Function?t():t}var xi=(()=>((xi=xi||{})[xi.Important=1]="Important",xi[xi.DashCase=2]="DashCase",xi))();function Dm(t,n){return undefined(t,n)}function Bu(t){const n=t[3];return Mi(n)?n[3]:n}function Im(t){return R0(t[13])}function Mm(t){return R0(t[4])}function R0(t){for(;null!==t&&!Mi(t);)t=t[4];return t}function Sc(t,n,e,r,o){if(null!=r){let i,s=!1;Mi(r)?i=r:Bo(r)&&(s=!0,r=r[0]);const a=Gr(r);0===t&&null!==e?null==o?B0(n,e,a):Il(n,e,a,o||null,!0):1===t&&null!==e?Il(n,e,a,o||null,!0):2===t?function W0(t,n,e){const r=Rf(t,n);r&&function JT(t,n,e,r){t.removeChild(n,e,r)}(t,r,n,e)}(n,a,s):3===t&&n.destroyNode(a),null!=i&&function nx(t,n,e,r,o){const i=e[7];i!==Gr(e)&&Sc(n,t,r,i,o);for(let a=10;a<e.length;a++){const c=e[a];Vu(c[1],c,t,n,r,i)}}(n,t,i,e,o)}}function Tm(t,n,e){return t.createElement(n,e)}function O0(t,n){const e=t[9],r=e.indexOf(n),o=n[3];512&n[2]&&(n[2]&=-513,cc(o,-1)),e.splice(r,1)}function xm(t,n){if(t.length<=10)return;const e=10+n,r=t[e];if(r){const o=r[17];null!==o&&o!==t&&O0(o,r),n>0&&(t[e-1][4]=r[4]);const i=Ef(t,10+n);!function zT(t,n){Vu(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function N0(t,n){if(!(128&n[2])){const e=n[11];e.destroyNode&&Vu(t,n,e,3,null,null),function ZT(t){let n=t[13];if(!n)return Am(t[1],t);for(;n;){let e=null;if(Bo(n))e=n[13];else{const r=n[10];r&&(e=r)}if(!e){for(;n&&!n[4]&&n!==t;)Bo(n)&&Am(n[1],n),n=n[3];null===n&&(n=t),Bo(n)&&Am(n[1],n),e=n&&n[4]}n=e}}(n)}}function Am(t,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function QT(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let r=0;r<e.length;r+=2){const o=n[e[r]];if(!(o instanceof Cu)){const i=e[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];try{c.call(a)}finally{}}else try{i.call(o)}finally{}}}}(t,n),function XT(t,n){const e=t.cleanup,r=n[7];let o=-1;if(null!==e)for(let i=0;i<e.length-1;i+=2)if("string"==typeof e[i]){const s=e[i+1],a="function"==typeof s?s(n):Gr(n[s]),c=r[o=e[i+2]],f=e[i+3];"boolean"==typeof f?a.removeEventListener(e[i],c,f):f>=0?r[o=f]():r[o=-f].unsubscribe(),i+=2}else{const s=r[o=e[i+1]];e[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)r[i]();n[7]=null}}(t,n),1===n[1].type&&n[11].destroy();const e=n[17];if(null!==e&&Mi(n[3])){e!==n[3]&&O0(e,n);const r=n[19];null!==r&&r.detachView(t)}!function kT(t){bm.delete(t[20])}(n)}}function L0(t,n,e){return function $0(t,n,e){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return e[0];if(2&r.flags){const o=t.data[r.directiveStart].encapsulation;if(o===Rn.None||o===Rn.Emulated)return null}return hi(r,e)}(t,n.parent,e)}function Il(t,n,e,r,o){t.insertBefore(n,e,r,o)}function B0(t,n,e){t.appendChild(n,e)}function V0(t,n,e,r,o){null!==r?Il(t,n,e,r,o):B0(t,n,e)}function Rf(t,n){return t.parentNode(n)}function H0(t,n,e){return U0(t,n,e)}let U0=function j0(t,n,e){return 40&t.type?hi(t,e):null};function Ff(t,n,e,r){const o=L0(t,r,n),i=n[11],a=H0(r.parent||n[6],r,n);if(null!=o)if(Array.isArray(e))for(let c=0;c<e.length;c++)V0(i,o,e[c],a,!1);else V0(i,o,e,a,!1)}function Of(t,n){if(null!==n){const e=n.type;if(3&e)return hi(n,t);if(4&e)return Rm(-1,t[n.index]);if(8&e){const r=n.child;if(null!==r)return Of(t,r);{const o=t[n.index];return Mi(o)?Rm(-1,o):Gr(o)}}if(32&e)return Dm(n,t)()||Gr(t[n.index]);{const r=z0(t,n);return null!==r?Array.isArray(r)?r[0]:Of(Bu(t[16]),r):Of(t,n.next)}}return null}function z0(t,n){return null!==n?t[16][6].projection[n.projection]:null}function Rm(t,n){const e=10+t+1;if(e<n.length){const r=n[e],o=r[1].firstChild;if(null!==o)return Of(r,o)}return n[7]}function Fm(t,n,e,r,o,i,s){for(;null!=e;){const a=r[e.index],c=e.type;if(s&&0===n&&(a&&ai(Gr(a),r),e.flags|=4),64!=(64&e.flags))if(8&c)Fm(t,n,e.child,r,o,i,!1),Sc(n,t,o,a,i);else if(32&c){const f=Dm(e,r);let g;for(;g=f();)Sc(n,t,o,g,i);Sc(n,t,o,a,i)}else 16&c?q0(t,n,r,e,o,i):Sc(n,t,o,a,i);e=s?e.projectionNext:e.next}}function Vu(t,n,e,r,o,i){Fm(e,r,t.firstChild,n,o,i,!1)}function q0(t,n,e,r,o,i){const s=e[16],c=s[6].projection[r.projection];if(Array.isArray(c))for(let f=0;f<c.length;f++)Sc(n,t,o,c[f],i);else Fm(t,n,c,s[3],o,i,!0)}function Z0(t,n,e){t.setAttribute(n,"style",e)}function Om(t,n,e){""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e)}function Y0(t,n,e){let r=t.length;for(;;){const o=t.indexOf(n,e);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}e=o+1}}const K0="ng-template";function ox(t,n,e){let r=0;for(;r<t.length;){let o=t[r++];if(e&&"class"===o){if(o=t[r],-1!==Y0(o.toLowerCase(),n,0))return!0}else if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===n)return!0;return!1}}return!1}function X0(t){return 4===t.type&&t.value!==K0}function ix(t,n,e){return n===(4!==t.type||e?t.value:K0)}function sx(t,n,e){let r=4;const o=t.attrs||[],i=function cx(t){for(let n=0;n<t.length;n++)if(Lv(t[n]))return n;return t.length}(o);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!ix(t,c,e)||""===c&&1===n.length){if(_s(r))return!1;s=!0}}else{const f=8&r?c:n[++a];if(8&r&&null!==t.attrs){if(!ox(t.attrs,f,e)){if(_s(r))return!1;s=!0}continue}const y=ax(8&r?"class":c,o,X0(t),e);if(-1===y){if(_s(r))return!1;s=!0;continue}if(""!==f){let E;E=y>i?"":o[y+1].toLowerCase();const A=8&r?E:null;if(A&&-1!==Y0(A,f,0)||2&r&&f!==E){if(_s(r))return!1;s=!0}}}}else{if(!s&&!_s(r)&&!_s(c))return!1;if(s&&_s(c))continue;s=!1,r=c|1&r}}return _s(r)||s}function _s(t){return 0==(1&t)}function ax(t,n,e,r){if(null===n)return-1;let o=0;if(r||!e){let i=!1;for(;o<n.length;){const s=n[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function ux(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const r=t[e];if("number"==typeof r)return-1;if(r===n)return e;e++}return-1}(n,t)}function Q0(t,n,e=!1){for(let r=0;r<n.length;r++)if(sx(t,n[r],e))return!0;return!1}function dx(t,n){e:for(let e=0;e<n.length;e++){const r=n[e];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function J0(t,n){return t?":not("+n.trim()+")":n}function fx(t){let n=t[0],e=1,r=2,o="",i=!1;for(;e<t.length;){let s=t[e];if("string"==typeof s)if(2&r){const a=t[++e];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!_s(s)&&(n+=J0(i,o),o=""),r=s,i=i||!_s(r);e++}return""!==o&&(n+=J0(i,o)),n}const kn={};function tt(t){eb(Vn(),mt(),Bt()+t,!1)}function eb(t,n,e,r){if(!r)if(3==(3&n[2])){const i=t.preOrderCheckHooks;null!==i&&si(n,i,e)}else{const i=t.preOrderHooks;null!==i&&Vr(n,i,0,e)}Gt(e)}const Nm=new dn("ENVIRONMENT_INITIALIZER"),ob=new dn("INJECTOR_DEF_TYPES");function bx(...t){return{\u0275providers:ib(0,t)}}function ib(t,...n){const e=[],r=new Set;let o;return oa(n,i=>{const s=i;Lm(s,e,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&sb(o,e),e}function sb(t,n){for(let e=0;e<t.length;e++){const{providers:o}=t[e];oa(o,i=>{n.push(i)})}}function Lm(t,n,e,r){if(!(t=N(t)))return!1;let o=null,i=Vi(t);const s=!i&&It(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=Vi(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of c)Lm(f,n,e,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;r.add(o);try{oa(i.imports,g=>{Lm(g,n,e,r)&&(f||(f=[]),f.push(g))})}finally{}void 0!==f&&sb(f,n)}if(!a){const f=Rs(o)||(()=>new o);n.push({provide:o,useFactory:f,deps:b},{provide:ob,useValue:o,multi:!0},{provide:Nm,useValue:()=>we(o),multi:!0})}const c=i.providers;null==c||a||oa(c,g=>{n.push(g)})}}return o!==t&&void 0!==t.providers}const wx=Nn({provide:String,useValue:Nn});function $m(t){return null!==t&&"object"==typeof t&&wx in t}function Ml(t){return"function"==typeof t}const Bm=new dn("INJECTOR",-1);class cb{get(n,e=Tu){if(e===Tu){const r=new Error(`NullInjectorError: No provider for ${Bn(n)}!`);throw r.name="NullInjectorError",r}return e}}const Vm=new dn("Set Injector scope."),Nf={},Sx={};let Hm;function jm(){return void 0===Hm&&(Hm=new cb),Hm}class kl{}class ub extends kl{constructor(n,e,r,o){super(),this.parent=e,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gm(n,s=>this.processProvider(s)),this.records.set(Bm,Ec(void 0,this)),o.has("environment")&&this.records.set(kl,Ec(void 0,this));const i=this.records.get(Vm);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(ob.multi,b,Zt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}get(n,e=Tu,r=Zt.Default){this.assertNotDestroyed();const o=Mf(this),i=ni(void 0);try{if(!(r&Zt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const c=function kx(t){return"function"==typeof t||"object"==typeof t&&t instanceof dn}(n)&&ms(n);a=c&&this.injectableDefInScope(c)?Ec(Um(n),Nf):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Zt.Self?jm():this.parent).get(n,e=r&Zt.Optional&&e===Tu?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[If]=s[If]||[]).unshift(Bn(n)),o)throw s;return function Tk(t,n,e,r){const o=t[If];throw n[t0]&&o.unshift(n[t0]),t.message=function xk(t,n,e,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Bn(n);if(Array.isArray(n))o=n.map(Bn).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Bn(a)))}o=`{${i.join(", ")}}`}return`${e}${r?"("+r+")":""}[${o}]: ${t.replace(Dk,"\n  ")}`}("\n"+t.message,o,e,r),t.ngTokenPath=o,t[If]=null,t}(s,n,"R3InjectorError",this.source)}throw s}finally{ni(i),Mf(o)}}resolveInjectorInitializers(){const n=Mf(this),e=ni(void 0);try{const r=this.get(Nm.multi,b,Zt.Self);for(const o of r)o()}finally{Mf(n),ni(e)}}toString(){const n=[],e=this.records;for(const r of e.keys())n.push(Bn(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(n){let e=Ml(n=N(n))?n:N(n&&n.provide);const r=function Dx(t){return $m(t)?Ec(void 0,t.useValue):Ec(db(t),Nf)}(n);if(Ml(n)||!0!==n.multi)this.records.get(e);else{let o=this.records.get(e);o||(o=Ec(void 0,Nf,!0),o.factory=()=>lm(o.multi),this.records.set(e,o)),e=n,o.multi.push(n)}this.records.set(e,r)}hydrate(n,e){return e.value===Nf&&(e.value=Sx,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Mx(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=N(n.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Um(t){const n=ms(t),e=null!==n?n.factory:Rs(t);if(null!==e)return e;if(t instanceof dn)throw new R(204,!1);if(t instanceof Function)return function Ex(t){const n=t.length;if(n>0)throw ku(n,"?"),new R(204,!1);const e=function La(t){const n=t&&(t[ss]||t[gs]);if(n){const e=function $a(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new R(204,!1)}function db(t,n,e){let r;if(Ml(t)){const o=N(t);return Rs(o)||Um(o)}if($m(t))r=()=>N(t.useValue);else if(function lb(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...lm(t.deps||[]));else if(function ab(t){return!(!t||!t.useExisting)}(t))r=()=>we(N(t.useExisting));else{const o=N(t&&(t.useClass||t.provide));if(!function Ix(t){return!!t.deps}(t))return Rs(o)||Um(o);r=()=>new o(...lm(t.deps))}return r}function Ec(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function Tx(t){return!!t.\u0275providers}function Gm(t,n){for(const e of t)Array.isArray(e)?Gm(e,n):Tx(e)?Gm(e.\u0275providers,n):n(e)}function fb(t,n=null,e=null,r){const o=pb(t,n,e,r);return o.resolveInjectorInitializers(),o}function pb(t,n=null,e=null,r,o=new Set){const i=[e||b,bx(t)];return r=r||("object"==typeof t?void 0:Bn(t)),new ub(i,n||jm(),r||null,o)}let br=(()=>{class t{static create(e,r){if(Array.isArray(e))return fb({name:""},r,e,"");{var o;const i=null!==(o=e.name)&&void 0!==o?o:"";return fb({name:i},e.parent,e.providers,i)}}}return t.THROW_IF_NOT_FOUND=Tu,t.NULL=new cb,t.\u0275prov=wt({token:t,providedIn:"any",factory:()=>we(Bm)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,n=Zt.Default){const e=mt();return null===e?we(t,n):zv(Er(),e,N(t),n)}function Ym(){throw new Error("invalid")}function $f(t,n){return t<<17|n<<2}function vs(t){return t>>17&32767}function Jm(t){return 2|t}function sa(t){return(131068&t)>>2}function eg(t,n){return-131069&t|n<<2}function tg(t){return 1|t}function Rb(t,n){const e=t.contentQueries;if(null!==e)for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];if(-1!==i){const s=t.data[i];h(o),s.contentQueries(2,n[i],i)}}}function Hf(t,n,e,r,o,i,s,a,c,f,g){const y=n.blueprint.slice();return y[0]=o,y[2]=76|r,(null!==g||t&&1024&t[2])&&(y[2]|=1024),_u(y),y[3]=y[15]=t,y[8]=e,y[10]=s||t&&t[10],y[11]=a||t&&t[11],y[12]=c||t&&t[12]||null,y[9]=f||t&&t[9]||null,y[6]=i,y[20]=function IT(){return DT++}(),y[21]=g,y[16]=2==n.type?t[16]:y,y}function Ic(t,n,e,r,o){let i=t.data[n];if(null===i)i=function ug(t,n,e,r,o){const i=Zn(),s=bu(),c=t.data[n]=function lA(t,n,e,r,o,i){return{type:e,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,e,n,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c)),c}(t,n,e,r,o),function ii(){return bn.lFrame.inI18n}()&&(i.flags|=64);else if(64&i.type){i.type=e,i.value=r,i.attrs=o;const s=function Cl(){const t=bn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return cs(i,!0),i}function Mc(t,n,e,r){if(0===e)return-1;const o=n.length;for(let i=0;i<e;i++)n.push(r),t.blueprint.push(r),t.data.push(null);return o}function jf(t,n,e){j(n);try{const r=t.viewQuery;null!==r&&vg(1,r,e);const o=t.template;null!==o&&Fb(t,n,o,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Rb(t,n),t.staticViewQueries&&vg(2,t.viewQuery,e);const i=t.components;null!==i&&function oA(t,n){for(let e=0;e<n.length;e++)IA(t,n[e])}(n,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{n[2]&=-5,sn()}}function Hu(t,n,e,r){const o=n[2];if(128!=(128&o)){j(n);try{_u(n),function Hn(t){return bn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&Fb(t,n,e,2,r);const s=3==(3&o);if(s){const f=t.preOrderCheckHooks;null!==f&&si(n,f,null)}else{const f=t.preOrderHooks;null!==f&&Vr(n,f,0,null),Xh(n,0)}if(function EA(t){for(let n=Im(t);null!==n;n=Mm(n)){if(!n[2])continue;const e=n[9];for(let r=0;r<e.length;r++){const o=e[r],i=o[3];0==(512&o[2])&&cc(i,1),o[2]|=512}}}(n),function SA(t){for(let n=Im(t);null!==n;n=Mm(n))for(let e=10;e<n.length;e++){const r=n[e],o=r[1];lc(r)&&Hu(o,r,o.template,r[8])}}(n),null!==t.contentQueries&&Rb(t,n),s){const f=t.contentCheckHooks;null!==f&&si(n,f)}else{const f=t.contentHooks;null!==f&&Vr(n,f,1),Xh(n,1)}!function nA(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)Gt(~o);else{const i=o,s=e[++r],a=e[++r];mo(s,i),a(2,n[i])}}}finally{Gt(-1)}}(t,n);const a=t.components;null!==a&&function rA(t,n){for(let e=0;e<n.length;e++)DA(t,n[e])}(n,a);const c=t.viewQuery;if(null!==c&&vg(2,c,r),s){const f=t.viewCheckHooks;null!==f&&si(n,f)}else{const f=t.viewHooks;null!==f&&Vr(n,f,2),Xh(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,cc(n[3],-1))}finally{sn()}}}function iA(t,n,e,r){const o=n[10],s=yu(n);try{!s&&o.begin&&o.begin(),s&&jf(t,n,r),Hu(t,n,e,r)}finally{!s&&o.end&&o.end()}}function Fb(t,n,e,r,o){const i=Bt(),s=2&r;try{Gt(-1),s&&n.length>22&&eb(t,n,22,!1),e(r,o)}finally{Gt(i)}}function Ob(t,n,e){if(nc(n)){const o=n.directiveEnd;for(let i=n.directiveStart;i<o;i++){const s=t.data[i];s.contentQueries&&s.contentQueries(1,e[i],i)}}}function dg(t,n,e){!Kh()||(function mA(t,n,e,r){const o=e.directiveStart,i=e.directiveEnd;t.firstCreatePass||Eu(e,n),ai(r,n);const s=e.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],f=ki(c);f&&bA(n,e,c);const g=Du(n,t,a,e);ai(g,n),null!==s&&wA(0,a-o,g,c,0,s),f&&(oi(e.index,n)[8]=g)}}(t,n,e,hi(e,n)),128==(128&e.flags)&&function gA(t,n,e){const r=e.directiveStart,o=e.directiveEnd,i=e.index,s=function $r(){return bn.lFrame.currentDirectiveIndex}();try{Gt(i);for(let a=r;a<o;a++){const c=t.data[a],f=n[a];Br(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Vb(c,f)}}finally{Gt(-1),Br(s)}}(t,n,e))}function fg(t,n,e=hi){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?e(n,t):t[s];t[o++]=a}}}function Nb(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=pg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function pg(t,n,e,r,o,i,s,a,c,f){const g=22+r,y=g+o,E=function sA(t,n){const e=[];for(let r=0;r<n;r++)e.push(r<t?null:kn);return e}(g,y),A="function"==typeof f?f():f;return E[1]={type:t,blueprint:E,template:e,queries:null,viewQuery:a,declTNode:n,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:A,incompleteFirstPass:!1}}function Lb(t,n,e,r){const o=qb(n);null===e?o.push(r):(o.push(e),t.firstCreatePass&&Zb(t).push(r,o.length-1))}function $b(t,n,e){for(let r in t)if(t.hasOwnProperty(r)){const o=t[r];(e=null===e?{}:e).hasOwnProperty(r)?e[r].push(n,o):e[r]=[n,o]}return e}function hg(t,n,e,r){let o=!1;if(Kh()){const i=function yA(t,n,e){const r=t.directiveRegistry;let o=null;if(r)for(let i=0;i<r.length;i++){const s=r[i];Q0(e,s.selectors,!1)&&(o||(o=[]),Cf(Eu(e,n),t,s.type),ki(s)?(Hb(t,e),o.unshift(s)):o.push(s))}return o}(t,n,e),s=null===r?null:{"":-1};if(null!==i){o=!0,jb(e,t.data.length,i.length);for(let g=0;g<i.length;g++){const y=i[g];y.providersResolver&&y.providersResolver(y)}let a=!1,c=!1,f=Mc(t,n,i.length,null);for(let g=0;g<i.length;g++){const y=i[g];e.mergedAttrs=vf(e.mergedAttrs,y.hostAttrs),Ub(t,e,n,f,y),vA(f,y,s),null!==y.contentQueries&&(e.flags|=8),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(e.flags|=128);const E=y.type.prototype;!a&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!c&&(E.ngOnChanges||E.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),c=!0),f++}!function cA(t,n){const r=n.directiveEnd,o=t.data,i=n.attrs,s=[];let a=null,c=null;for(let f=n.directiveStart;f<r;f++){const g=o[f],y=g.inputs,E=null===i||X0(n)?null:CA(y,i);s.push(E),a=$b(y,f,a),c=$b(g.outputs,f,c)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=s,n.inputs=a,n.outputs=c}(t,e)}s&&function _A(t,n,e){if(n){const r=t.localNames=[];for(let o=0;o<n.length;o+=2){const i=e[n[o+1]];if(null==i)throw new R(-301,!1);r.push(n[o],i)}}}(e,r,s)}return e.mergedAttrs=vf(e.mergedAttrs,e.attrs),o}function Bb(t,n,e,r,o,i){const s=i.hostBindings;if(s){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const c=~n.index;(function hA(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=c&&a.push(c),a.push(r,o,s)}}function Vb(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Hb(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function vA(t,n,e){if(e){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)e[n.exportAs[r]]=t;ki(n)&&(e[""]=t)}}function jb(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function Ub(t,n,e,r,o){t.data[r]=o;const i=o.factory||(o.factory=Rs(o.type)),s=new Cu(i,ki(o),C);t.blueprint[r]=s,e[r]=s,Bb(t,n,0,r,Mc(t,e,o.hostVars,kn),o)}function bA(t,n,e){const r=hi(n,t),o=Nb(e),i=t[10],s=Uf(t,Hf(t,o,null,e.onPush?32:16,r,n,i,i.createRenderer(r,e),null,null,null));t[n.index]=s}function Ls(t,n,e,r,o,i){const s=hi(t,n);!function mg(t,n,e,r,o,i,s){if(null==i)t.removeAttribute(n,o,e);else{const a=null==s?ee(i):s(i,r||"",o);t.setAttribute(n,o,a,e)}}(n[11],s,i,t.value,e,r,o)}function wA(t,n,e,r,o,i){const s=i[n];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const f=s[c++],g=s[c++],y=s[c++];null!==a?r.setInput(e,y,f,g):e[g]=y}}}function CA(t,n){let e=null,r=0;for(;r<n.length;){const o=n[r];if(0!==o)if(5!==o){if("number"==typeof o)break;t.hasOwnProperty(o)&&(null===e&&(e=[]),e.push(o,t[o],n[r+1])),r+=2}else r+=2;else r+=4}return e}function Gb(t,n,e,r){return new Array(t,!0,!1,n,null,0,r,e,null,null)}function DA(t,n){const e=oi(n,t);if(lc(e)){const r=e[1];48&e[2]?Hu(r,e,r.template,e[8]):e[5]>0&&gg(e)}}function gg(t){for(let r=Im(t);null!==r;r=Mm(r))for(let o=10;o<r.length;o++){const i=r[o];if(512&i[2]){const s=i[1];Hu(s,i,s.template,i[8])}else i[5]>0&&gg(i)}const e=t[1].components;if(null!==e)for(let r=0;r<e.length;r++){const o=oi(e[r],t);lc(o)&&o[5]>0&&gg(o)}}function IA(t,n){const e=oi(n,t),r=e[1];(function MA(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(r,e),jf(r,e,e[8])}function Uf(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function yg(t){for(;t;){t[2]|=32;const n=Bu(t);if(tf(t)&&!n)return t;t=n}return null}function Wb(t){!function zb(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],r=Sm(e);if(null!==r){const o=r[1];iA(o,r,o.template,e)}}}(t[8])}function vg(t,n,e){h(0),n(t,e)}const TA=(()=>Promise.resolve(null))();function qb(t){return t[7]||(t[7]=[])}function Zb(t){return t.cleanup||(t.cleanup=[])}function Kb(t,n){const e=t[9],r=e?e.get(wc,null):null;r&&r.handleError(n)}function Xb(t,n,e,r,o){for(let i=0;i<e.length;){const s=e[i++],a=e[i++],c=n[s],f=t.data[s];null!==f.setInput?f.setInput(c,o,r,a):c[a]=o}}function aa(t,n,e){const r=wl(n,t);!function F0(t,n,e){t.setValue(n,e)}(t[11],r,e)}function Gf(t,n,e){let r=e?t.styles:null,o=e?t.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=Ei(o,a):2==i&&(r=Ei(r,a+": "+n[++s]+";"))}e?t.styles=r:t.stylesWithoutHost=r,e?t.classes=o:t.classesWithoutHost=o}function RA(){const t=Er();fr(mt()[1],t)}function Xn(t){let n=function Qb(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const r=[t];for(;n;){let o;if(ki(t))o=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new R(903,!1);o=n.\u0275dir}if(o){if(e){r.push(o);const s=t;s.inputs=bg(t.inputs),s.declaredInputs=bg(t.declaredInputs),s.outputs=bg(t.outputs);const a=o.hostBindings;a&&LA(t,a);const c=o.viewQuery,f=o.contentQueries;if(c&&OA(t,c),f&&NA(t,f),ei(t.inputs,o.inputs),ei(t.declaredInputs,o.declaredInputs),ei(t.outputs,o.outputs),ki(o)&&o.data.animation){const g=t.data;g.animation=(g.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===Xn&&(e=!1)}}n=Object.getPrototypeOf(n)}!function FA(t){let n=0,e=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=n+=o.hostVars,o.hostAttrs=vf(o.hostAttrs,e=vf(e,o.hostAttrs))}}(r)}function bg(t){return t===_?{}:t===b?[]:t}function OA(t,n){const e=t.viewQuery;t.viewQuery=e?(r,o)=>{n(r,o),e(r,o)}:n}function NA(t,n){const e=t.contentQueries;t.contentQueries=e?(r,o,i)=>{n(r,o,i),e(r,o,i)}:n}function LA(t,n){const e=t.hostBindings;t.hostBindings=e?(r,o)=>{n(r,o),e(r,o)}:n}let zf=null;function Tl(){if(!zf){const t=gn.Symbol;if(t&&t.iterator)zf=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const r=n[e];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(zf=r)}}}return zf}function ju(t){return!!function wg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Tl()in t)}function li(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function Bs(t,n,e,r){const o=mt();return li(o,er(),n)&&(Vn(),Ls(rn(),o,t,n,e,r)),Bs}function xc(t,n,e,r,o,i){const a=function xl(t,n,e,r){const o=li(t,n,e);return li(t,n+1,r)||o}(t,function nr(){return bn.lFrame.bindingIndex}(),e,o);return Tr(2),a?n+ee(e)+r+ee(o)+i:kn}function en(t,n,e,r,o,i,s,a){const c=mt(),f=Vn(),g=t+22,y=f.firstCreatePass?function WA(t,n,e,r,o,i,s,a,c){const f=n.consts,g=Ic(n,t,4,s||null,ys(f,a));hg(n,e,g,ys(f,c)),fr(n,g);const y=g.tViews=pg(2,g,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,f);return null!==n.queries&&(n.queries.template(n,g),y.queries=n.queries.embeddedTView(g)),g}(g,f,c,n,e,r,o,i,s):f.data[g];cs(y,!1);const E=c[11].createComment("");Ff(f,c,E,y),ai(E,c),Uf(c,c[g]=Gb(E,c,E,y)),bl(y)&&dg(f,c,y),null!=s&&fg(c,y,a)}function zi(t){return ra(function xn(){return bn.lFrame.contextLView}(),22+t)}function rt(t,n,e){const r=mt();return li(r,er(),n)&&function Gi(t,n,e,r,o,i,s,a){const c=hi(n,e);let g,f=n.inputs;!a&&null!=f&&(g=f[r])?(Xb(t,e,g,r,o),vl(n)&&function dA(t,n){const e=oi(n,t);16&e[2]||(e[2]|=32)}(e,n.index)):3&n.type&&(r=function uA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}(Vn(),rn(),r,t,n,r[11],e,!1),rt}function Cg(t,n,e,r,o){const s=o?"class":"style";Xb(t,e,n.inputs[s],s,r)}function de(t,n,e,r){const o=mt(),i=Vn(),s=22+t,a=o[11],c=o[s]=Tm(a,n,function cn(){return bn.lFrame.currentNamespace}()),f=i.firstCreatePass?function ZA(t,n,e,r,o,i,s){const a=n.consts,f=Ic(n,t,2,o,ys(a,i));return hg(n,e,f,ys(a,s)),null!==f.attrs&&Gf(f,f.attrs,!1),null!==f.mergedAttrs&&Gf(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}(s,i,o,0,n,e,r):i.data[s];cs(f,!0);const g=f.mergedAttrs;null!==g&&_f(a,c,g);const y=f.classes;null!==y&&Om(a,c,y);const E=f.styles;return null!==E&&Z0(a,c,E),64!=(64&f.flags)&&Ff(i,o,c,f),0===function gf(){return bn.lFrame.elementDepthCount}()&&ai(c,o),function yf(){bn.lFrame.elementDepthCount++}(),bl(f)&&(dg(i,o,f),Ob(i,f,o)),null!==r&&fg(o,f),de}function re(){let t=Er();bu()?wu():(t=t.parent,cs(t,!1));const n=t;!function Yh(){bn.lFrame.elementDepthCount--}();const e=Vn();return e.firstCreatePass&&(fr(e,t),nc(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function rk(t){return 0!=(16&t.flags)}(n)&&Cg(e,n,mt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function ok(t){return 0!=(32&t.flags)}(n)&&Cg(e,n,mt(),n.stylesWithoutHost,!1),re}function pt(t,n,e,r){return de(t,n,e,r),re(),pt}function Gu(t,n,e){const r=mt(),o=Vn(),i=t+22,s=o.firstCreatePass?function YA(t,n,e,r,o){const i=n.consts,s=ys(i,r),a=Ic(n,t,8,"ng-container",s);return null!==s&&Gf(a,s,!0),hg(n,e,a,ys(i,o)),null!==n.queries&&n.queries.elementStart(n,a),a}(i,o,r,n,e):o.data[i];cs(s,!0);const a=r[i]=r[11].createComment("");return Ff(o,r,a,s),ai(a,r),bl(s)&&(dg(o,r,s),Ob(o,s,r)),null!=e&&fg(r,s),Gu}function zu(){let t=Er();const n=Vn();return bu()?wu():(t=t.parent,cs(t,!1)),n.firstCreatePass&&(fr(n,t),nc(t)&&n.queries.elementEnd(t)),zu}function pr(){return mt()}function Wu(t){return!!t&&"function"==typeof t.then}function lw(t){return!!t&&"function"==typeof t.subscribe}const Sg=lw;function lt(t,n,e,r){const o=mt(),i=Vn(),s=Er();return function uw(t,n,e,r,o,i,s,a){const c=bl(r),g=t.firstCreatePass&&Zb(t),y=n[8],E=qb(n);let A=!0;if(3&r.type||a){const Xe=hi(r,n),Ge=a?a(Xe):Xe,yt=E.length,et=a?tn=>a(Gr(tn[r.index])):r.index;let ht=null;if(!a&&c&&(ht=function KA(t,n,e,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===e&&o[i+1]===r){const a=n[7],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,n,o,r.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=i,ht.__ngLastListenerFn__=i,A=!1;else{i=fw(r,n,y,i,!1);const tn=e.listen(Ge,o,i);E.push(i,tn),g&&g.push(o,et,yt,yt+1)}}else i=fw(r,n,y,i,!1);const J=r.outputs;let xe;if(A&&null!==J&&(xe=J[o])){const Xe=xe.length;if(Xe)for(let Ge=0;Ge<Xe;Ge+=2){const fn=n[xe[Ge]][xe[Ge+1]].subscribe(i),To=E.length;E.push(i,fn),g&&g.push(o,r.index,To,-(To+1))}}}(i,o,o[11],s,t,n,0,r),lt}function dw(t,n,e,r){try{return!1!==e(r)}catch(o){return Kb(t,o),!1}}function fw(t,n,e,r,o){return function i(s){if(s===Function)return r;yg(2&t.flags?oi(t.index,n):n);let c=dw(n,0,r,s),f=i.__ngNextListenerFn__;for(;f;)c=dw(n,0,f,s)&&c,f=f.__ngNextListenerFn__;return o&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function jt(t=1){return function An(t){return(bn.lFrame.contextLView=function jn(t,n){for(;t>0;)n=n[15],t--;return n}(t,bn.lFrame.contextLView))[8]}(t)}function XA(t,n){let e=null;const r=function lx(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let o=0;o<n.length;o++){const i=n[o];if("*"!==i){if(null===r?Q0(t,i,!0):dx(r,i))return o}else e=o}return e}function At(t){const n=mt()[16][6];if(!n.projection){const r=n.projection=ku(t?t.length:1,null),o=r.slice();let i=n.child;for(;null!==i;){const s=t?XA(i,t):0;null!==s&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i),i=i.next}}}function xt(t,n=0,e){const r=mt(),o=Vn(),i=Ic(o,22+t,16,null,e||null);null===i.projection&&(i.projection=n),wu(),64!=(64&i.flags)&&function tx(t,n,e){q0(n[11],0,n,e,L0(t,e,n),H0(e.parent||n[6],e,n))}(o,r,i)}function Cw(t,n,e,r,o){const i=t[e+1],s=null===n;let a=r?vs(i):sa(i),c=!1;for(;0!==a&&(!1===c||s);){const g=t[a+1];eP(t[a],n)&&(c=!0,t[a+1]=r?tg(g):Jm(g)),a=r?vs(g):sa(g)}c&&(t[e+1]=r?Jm(i):tg(i))}function eP(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&_c(t,n)>=0}function qu(t,n,e){return bs(t,n,e,!1),qu}function la(t,n){return bs(t,n,null,!0),la}function bs(t,n,e,r){const o=mt(),i=Vn(),s=Tr(2);i.firstUpdatePass&&function xw(t,n,e,r){const o=t.data;if(null===o[e+1]){const i=o[Bt()],s=function Tw(t,n){return n>=t.expandoStartIndex}(t,e);(function Fw(t,n){return 0!=(t.flags&(n?16:32))})(i,r)&&null===n&&!s&&(n=!1),n=function cP(t,n,e,r){const o=function ln(t){const n=bn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(e=Zu(e=Dg(null,t,n,e,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||t[s]!==o)if(e=Dg(o,t,n,e,r),null===i){let c=function uP(t,n,e){const r=e?n.classBindings:n.styleBindings;if(0!==sa(r))return t[vs(r)]}(t,n,r);void 0!==c&&Array.isArray(c)&&(c=Dg(null,t,n,c[1],r),c=Zu(c,n.attrs,r),function dP(t,n,e,r){t[vs(e?n.classBindings:n.styleBindings)]=r}(t,n,r,c))}else i=function fP(t,n,e){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Zu(r,t[i].hostAttrs,e);return Zu(r,n.attrs,e)}(t,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),e}(o,i,n,r),function QA(t,n,e,r,o,i){let s=i?n.classBindings:n.styleBindings,a=vs(s),c=sa(s);t[r]=e;let g,f=!1;if(Array.isArray(e)){const y=e;g=y[1],(null===g||_c(y,g)>0)&&(f=!0)}else g=e;if(o)if(0!==c){const E=vs(t[a+1]);t[r+1]=$f(E,a),0!==E&&(t[E+1]=eg(t[E+1],r)),t[a+1]=function Wx(t,n){return 131071&t|n<<17}(t[a+1],r)}else t[r+1]=$f(a,0),0!==a&&(t[a+1]=eg(t[a+1],r)),a=r;else t[r+1]=$f(c,0),0===a?a=r:t[c+1]=eg(t[c+1],r),c=r;f&&(t[r+1]=Jm(t[r+1])),Cw(t,g,r,!0),Cw(t,g,r,!1),function JA(t,n,e,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof n&&_c(i,n)>=0&&(e[r+1]=tg(e[r+1]))}(n,g,t,r,i),s=$f(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,e,s,r)}}(i,t,s,r),n!==kn&&li(o,s,n)&&function Pw(t,n,e,r,o,i,s,a){if(!(3&n.type))return;const c=t.data,f=c[a+1];Zf(function Db(t){return 1==(1&t)}(f)?Rw(c,n,e,o,sa(f),s):void 0)||(Zf(i)||function Eb(t){return 2==(2&t)}(f)&&(i=Rw(c,null,e,o,a,s)),function rx(t,n,e,r,o){if(n)o?t.addClass(e,r):t.removeClass(e,r);else{let i=-1===r.indexOf("-")?void 0:xi.DashCase;null==o?t.removeStyle(e,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=xi.Important),t.setStyle(e,r,o,i))}}(r,s,wl(Bt(),e),o,i))}(i,i.data[Bt()],o,o[11],t,o[s+1]=function mP(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Bn(Ui(t)))),t}(n,e),r,s)}function Dg(t,n,e,r,o){let i=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(i=n[a],r=Zu(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(e.directiveStylingLast=a),r}function Zu(t,n,e){const r=e?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ji(t,s,!!e||n[++i]))}return void 0===t?null:t}function Rw(t,n,e,r,o,i){const s=null===n;let a;for(;o>0;){const c=t[o],f=Array.isArray(c),g=f?c[1]:c,y=null===g;let E=e[o+1];E===kn&&(E=y?b:void 0);let A=y?im(E,r):g===r?E:void 0;if(f&&!Zf(A)&&(A=im(c,r)),Zf(A)&&(a=A,s))return a;const J=t[o+1];o=s?vs(J):sa(J)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=im(c,r))}return a}function Zf(t){return void 0!==t}function Je(t,n=""){const e=mt(),r=Vn(),o=t+22,i=r.firstCreatePass?Ic(r,o,1,n,null):r.data[o],s=e[o]=function km(t,n){return t.createText(n)}(e[11],n);Ff(r,e,s,i),cs(i,!1)}function Wi(t){return Ai("",t,""),Wi}function Ai(t,n,e){const r=mt(),o=function Tc(t,n,e,r){return li(t,er(),e)?n+ee(e)+r:kn}(r,t,n,e);return o!==kn&&aa(r,Bt(),o),Ai}function Yu(t,n,e,r,o){const i=mt(),s=xc(i,t,n,e,r,o);return s!==kn&&aa(i,Bt(),s),Yu}const Bc="en-US";let tC=Bc;function kg(t,n,e,r,o){if(t=N(t),Array.isArray(t))for(let i=0;i<t.length;i++)kg(t[i],n,e,r,o);else{const i=Vn(),s=mt();let a=Ml(t)?t:N(t.provide),c=db(t);const f=Er(),g=1048575&f.providerIndexes,y=f.directiveStart,E=f.providerIndexes>>20;if(Ml(t)||!t.multi){const A=new Cu(c,o,C),J=xg(a,n,o?g:g+E,y);-1===J?(Cf(Eu(f,s),i,a),Tg(i,t,n.length),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(A),s.push(A)):(e[J]=A,s[J]=A)}else{const A=xg(a,n,g+E,y),J=xg(a,n,g,g+E),xe=A>=0&&e[A],Xe=J>=0&&e[J];if(o&&!Xe||!o&&!xe){Cf(Eu(f,s),i,a);const Ge=function RR(t,n,e,r,o){const i=new Cu(t,e,C);return i.multi=[],i.index=n,i.componentProviders=0,IC(i,o,r&&!e),i}(o?PR:AR,e.length,o,r,c);!o&&Xe&&(e[J].providerFactory=Ge),Tg(i,t,n.length,0),n.push(a),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),e.push(Ge),s.push(Ge)}else Tg(i,t,A>-1?A:J,IC(e[o?J:A],c,!o&&r));!o&&r&&Xe&&e[J].componentProviders++}}}function Tg(t,n,e,r){const o=Ml(n),i=function Cx(t){return!!t.useClass}(n);if(o||i){const c=(i?N(n.useClass):n).prototype.ngOnDestroy;if(c){const f=t.destroyHooks||(t.destroyHooks=[]);if(!o&&n.multi){const g=f.indexOf(e);-1===g?f.push(e,[r,c]):f[g+1].push(r,c)}else f.push(e,c)}}}function IC(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function xg(t,n,e,r){for(let o=e;o<r;o++)if(n[o]===t)return o;return-1}function AR(t,n,e,r){return Ag(this.multi,[])}function PR(t,n,e,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Du(e,e[1],this.providerFactory.index,r);i=a.slice(0,s),Ag(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Ag(o,i);return i}function Ag(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function yr(t,n=[]){return e=>{e.providersResolver=(r,o)=>function xR(t,n,e){const r=Vn();if(r.firstCreatePass){const o=ki(t);kg(e,r.data,r.blueprint,o,!0),kg(n,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,n)}}class OR{resolveComponentFactory(n){throw function FR(t){const n=Error(`No component factory found for ${Bn(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let ca=(()=>{class t{}return t.NULL=new OR,t})();class Wa{}class kC{}class TC{}function LR(){return Hc(Er(),mt())}function Hc(t,n){return new vt(hi(t,n))}let vt=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=LR,t})();function $R(t){return t instanceof vt?t.nativeElement:t}class xC{}let ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function BR(){const t=mt(),e=oi(Er().index,t);return(Bo(e)?e:t)[11]}(),t})(),VR=(()=>{class t{}return t.\u0275prov=wt({token:t,providedIn:"root",factory:()=>null}),t})();class ed{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const HR=new ed("14.0.6"),Pg={};function Jf(t,n,e,r,o=!1){for(;null!==e;){const i=n[e.index];if(null!==i&&r.push(Gr(i)),Mi(i))for(let a=10;a<i.length;a++){const c=i[a],f=c[1].firstChild;null!==f&&Jf(c[1],c,f,r)}const s=e.type;if(8&s)Jf(t,n,e.child,r);else if(32&s){const a=Dm(e,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=z0(n,e);if(Array.isArray(a))r.push(...a);else{const c=Bu(n[16]);Jf(c[1],c,a,r,!0)}}e=o?e.projectionNext:e.next}return r}class td{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return Jf(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Mi(n)){const e=n[8],r=e?e.indexOf(this):-1;r>-1&&(xm(n,r),Ef(e,r))}this._attachedToViewContainer=!1}N0(this._lView[1],this._lView)}onDestroy(n){Lb(this._lView[1],this._lView,null,n)}markForCheck(){yg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function _g(t,n,e){const r=n[10];r.begin&&r.begin();try{Hu(t,n,t.template,e)}catch(o){throw Kb(n,o),o}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qT(t,n){Vu(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=n}}class jR extends td{constructor(n){super(n),this._view=n}detectChanges(){Wb(this._view)}checkNoChanges(){}get context(){return null}}class Rg extends ca{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=It(n);return new Fg(e,this.ngModule)}}function AC(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class GR{constructor(n,e){this.injector=n,this.parentInjector=e}get(n,e,r){const o=this.injector.get(n,Pg,r);return o!==Pg||e===Pg?o:this.parentInjector.get(n,e,r)}}class Fg extends TC{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function px(t){return t.map(fx).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return AC(this.componentDef.inputs)}get outputs(){return AC(this.componentDef.outputs)}create(n,e,r,o){var i;let s=(o=o||this.ngModule)instanceof kl?o:null===(i=o)||void 0===i?void 0:i.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new GR(n,s):n,c=a.get(xC,null);if(null===c)throw new R(407,!1);const f=a.get(VR,null),g=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",E=r?function aA(t,n,e){return t.selectRootElement(n,e===Rn.ShadowDom)}(g,r,this.componentDef.encapsulation):Tm(c.createRenderer(null,this.componentDef),y,function UR(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(y)),A=this.componentDef.onPush?288:272,J=function PA(t,n){return{components:[],scheduler:t||NT,clean:TA,playerHandler:n||null,flags:0}}(),xe=pg(0,null,null,1,0,null,null,null,null,null),Xe=Hf(null,xe,J,A,null,null,c,g,f,a,null);let Ge,yt;j(Xe);try{const et=function xA(t,n,e,r,o,i){const s=e[1];e[22]=t;const c=Ic(s,22,2,"#host",null),f=c.mergedAttrs=n.hostAttrs;null!==f&&(Gf(c,f,!0),null!==t&&(_f(o,t,f),null!==c.classes&&Om(o,t,c.classes),null!==c.styles&&Z0(o,t,c.styles)));const g=r.createRenderer(t,n),y=Hf(e,Nb(n),null,n.onPush?32:16,e[22],c,r,g,i||null,null,null);return s.firstCreatePass&&(Cf(Eu(c,e),s,n.type),Hb(s,c),jb(c,e.length,1)),Uf(e,y),e[22]=y}(E,this.componentDef,Xe,c,g);if(E)if(r)_f(g,E,["ng-version",HR.full]);else{const{attrs:ht,classes:tn}=function hx(t){const n=[],e=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&n.push(i,t[++r]):8===o&&e.push(i);else{if(!_s(o))break;o=i}r++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);ht&&_f(g,E,ht),tn&&tn.length>0&&Om(g,E,tn.join(" "))}if(yt=ac(xe,22),void 0!==e){const ht=yt.projection=[];for(let tn=0;tn<this.ngContentSelectors.length;tn++){const fn=e[tn];ht.push(null!=fn?Array.from(fn):null)}}Ge=function AA(t,n,e,r,o){const i=e[1],s=function pA(t,n,e){const r=Er();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Ub(t,r,n,Mc(t,n,1,null),e));const o=Du(n,t,r.directiveStart,r);ai(o,n);const i=hi(r,n);return i&&ai(i,n),o}(i,e,n);if(r.components.push(s),t[8]=s,null!==o)for(const c of o)c(s,n);if(n.contentQueries){const c=Er();n.contentQueries(1,s,c.directiveStart)}const a=Er();return!i.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Gt(a.index),Bb(e[1],a,0,a.directiveStart,a.directiveEnd,n),Vb(n,s)),s}(et,this.componentDef,Xe,J,[RA]),jf(xe,Xe,null)}finally{sn()}return new WR(this.componentType,Ge,Hc(yt,Xe),Xe,yt)}}class WR extends class NR{}{constructor(n,e,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new jR(o),this.componentType=n}get injector(){return new pc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class PC extends Wa{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Rg(this);const r=Nt(n);this._bootstrapComponents=ia(r.bootstrap),this._r3Injector=pb(n,e,[{provide:Wa,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],Bn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(n)}get(n,e=br.THROW_IF_NOT_FOUND,r=Zt.Default){return n===br||n===Wa||n===Bm?this:this._r3Injector.get(n,e,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Og extends kC{constructor(n){super(),this.moduleType=n}create(n){return new PC(this.moduleType,n)}}class ZR extends Wa{constructor(n,e,r){super(),this.componentFactoryResolver=new Rg(this),this.instance=null;const o=new ub([...n,{provide:Wa,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],e||jm(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function ep(t,n=null,e=null){return new ZR(t,n,e).injector}function BC(t,n,e,r,o,i){const s=n+e;return li(t,s,o)?function $s(t,n,e){return t[n]=e}(t,s+1,i?r.call(i,o):r(o)):function nd(t,n){const e=t[n];return e===kn?void 0:e}(t,s+1)}function da(t,n){const e=Vn();let r;const o=t+22;e.firstCreatePass?(r=function m2(t,n){if(n)for(let e=n.length-1;e>=0;e--){const r=n[e];if(t===r.name)return r}}(n,e.pipeRegistry),e.data[o]=r,r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(o,r.onDestroy)):r=e.data[o];const i=r.factory||(r.factory=Rs(r.type)),s=ni(C);try{const a=bf(!1),c=i();return bf(a),function qA(t,n,e,r){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=r}(e,mt(),o,c),c}finally{ni(s)}}function fa(t,n,e){const r=t+22,o=mt(),i=ra(o,r);return function rd(t,n){return t[1].data[n].pure}(o,r)?BC(o,function Ue(){const t=bn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}(),n,i.transform,e,i):i.transform(e)}function Lg(t){return n=>{setTimeout(t,void 0,n)}}const _n=class b2 extends W{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,r){let o=n,i=e||(()=>null),s=r;if(n&&"object"==typeof n){var a,c,f;const y=n;o=null===(a=y.next)||void 0===a?void 0:a.bind(y),i=null===(c=y.error)||void 0===c?void 0:c.bind(y),s=null===(f=y.complete)||void 0===f?void 0:f.bind(y)}this.__isAsync&&(i=Lg(i),o&&(o=Lg(o)),s&&(s=Lg(s)));const g=super.subscribe({next:o,error:i,complete:s});return n instanceof q&&n.add(g),g}};function w2(){return this._results[Tl()]()}class $g{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Tl(),r=$g.prototype;r[e]||(r[e]=w2)}get changes(){return this._changes||(this._changes=new _n)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const r=this;r.dirty=!1;const o=Hi(n);(this._changesDetected=!function mk(t,n,e){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++){let o=t[r],i=n[r];if(e&&(o=e(o),i=e(i)),i!==o)return!1}return!0}(r._results,o,e))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Pi=(()=>{class t{}return t.__NG_ELEMENT_ID__=E2,t})();const C2=Pi,S2=class extends C2{constructor(n,e,r){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=r}createEmbeddedView(n,e){const r=this._declarationTContainer.tViews,o=Hf(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,e||null);o[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(o[19]=s.createEmbeddedView(r)),jf(r,o,n),new td(o)}};function E2(){return tp(Er(),mt())}function tp(t,n){return 4&t.type?new S2(n,t,Hc(t,n)):null}let ci=(()=>{class t{}return t.__NG_ELEMENT_ID__=D2,t})();function D2(){return WC(Er(),mt())}const I2=ci,GC=class extends I2{constructor(n,e,r){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=r}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new pc(this._hostTNode,this._hostLView)}get parentInjector(){const n=wf(this._hostTNode,this._hostLView);if(Vv(n)){const e=fc(n,this._hostLView),r=dc(n);return new pc(e[1].data[r+8],e)}return new pc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=zC(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=n.createEmbeddedView(e||{},i);return this.insert(s,o),s}createComponent(n,e,r,o,i){const s=n&&!function Mu(t){return"function"==typeof t}(n);let a;if(s)a=e;else{const y=e||{};a=y.index,r=y.injector,o=y.projectableNodes,i=y.environmentInjector||y.ngModuleRef}const c=s?n:new Fg(It(n)),f=r||this.parentInjector;if(!i&&null==c.ngModule){const E=(s?f:this.parentInjector).get(kl,null);E&&(i=E)}const g=c.create(f,o,void 0,i);return this.insert(g.hostView,a),g}insert(n,e){const r=n._lView,o=r[1];if(function mf(t){return Mi(t[3])}(r)){const g=this.indexOf(n);if(-1!==g)this.detach(g);else{const y=r[3],E=new GC(y,y[6],y[3]);E.detach(E.indexOf(n))}}const i=this._adjustIndex(e),s=this._lContainer;!function YT(t,n,e,r){const o=10+r,i=e.length;r>0&&(e[o-1][4]=n),r<i-10?(n[4]=e[o],Xv(e,10+r,n)):(e.push(n),n[4]=null),n[3]=e;const s=n[17];null!==s&&e!==s&&function KT(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(s,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=64}(o,r,s,i);const a=Rm(i,s),c=r[11],f=Rf(c,s[7]);return null!==f&&function WT(t,n,e,r,o,i){r[0]=o,r[6]=n,Vu(t,r,e,1,o,i)}(o,s[6],c,r,f,a),n.attachToViewContainerRef(),Xv(Bg(s),i,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=zC(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),r=xm(this._lContainer,e);r&&(Ef(Bg(this._lContainer),e),N0(r[1],r))}detach(n){const e=this._adjustIndex(n,-1),r=xm(this._lContainer,e);return r&&null!=Ef(Bg(this._lContainer),e)?new td(r):null}_adjustIndex(n,e=0){return n??this.length+e}};function zC(t){return t[8]}function Bg(t){return t[8]||(t[8]=[])}function WC(t,n){let e;const r=n[t.index];if(Mi(r))e=r;else{let o;if(8&t.type)o=Gr(r);else{const i=n[11];o=i.createComment("");const s=hi(t,n);Il(i,Rf(i,s),o,function ex(t,n){return t.nextSibling(n)}(i,s),!1)}n[t.index]=e=Gb(r,n,o,t),Uf(n,e)}return new GC(e,t,n)}class Vg{constructor(n){this.queryList=n,this.matches=null}clone(){return new Vg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const r=null!==n.contentQueries?n.contentQueries[0]:e.length,o=[];for(let i=0;i<r;i++){const s=e.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new Hg(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==XC(n,e).matches&&this.queries[e].setDirty()}}class qC{constructor(n,e,r=null){this.predicate=n,this.flags=e,this.read=r}}class jg{constructor(n=[]){this.queries=n}elementStart(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let r=0;r<this.length;r++){const o=null!==e?e.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==e?e.push(i):e=[i])}return null!==e?new jg(e):null}template(n,e){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Ug{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Ug(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==e;)r=r.parent;return e===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,e,T2(e,i)),this.matchTNodeWithReadOption(n,e,Sf(e,n,i,!1,!1))}else r===Pi?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Sf(e,n,r,!1,!1))}matchTNodeWithReadOption(n,e,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===vt||o===ci||o===Pi&&4&e.type)this.addMatch(e.index,-2);else{const i=Sf(e,n,o,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,r)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function T2(t,n){const e=t.localNames;if(null!==e)for(let r=0;r<e.length;r+=2)if(e[r]===n)return e[r+1];return null}function A2(t,n,e,r){return-1===e?function x2(t,n){return 11&t.type?Hc(t,n):4&t.type?tp(t,n):null}(n,t):-2===e?function P2(t,n,e){return e===vt?Hc(n,t):e===Pi?tp(n,t):e===ci?WC(n,t):void 0}(t,n,r):Du(t,t[1],e,n)}function ZC(t,n,e,r){const o=n[19].queries[r];if(null===o.matches){const i=t.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const f=s[c];a.push(f<0?null:A2(n,i[f],s[c+1],e.metadata.read))}o.matches=a}return o.matches}function Gg(t,n,e,r){const o=t.queries.getByIndex(e),i=o.matches;if(null!==i){const s=ZC(t,n,o,e);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const f=i[a+1],g=n[-c];for(let y=10;y<g.length;y++){const E=g[y];E[17]===E[3]&&Gg(E[1],E,f,r)}if(null!==g[9]){const y=g[9];for(let E=0;E<y.length;E++){const A=y[E];Gg(A[1],A,f,r)}}}}}return r}function Ri(t){const n=mt(),e=Vn(),r=l();h(r+1);const o=XC(e,r);if(t.dirty&&yu(n)===(2==(2&o.metadata.flags))){if(null===o.matches)t.reset([]);else{const i=o.crossesNgTemplate?Gg(e,n,r,[]):ZC(e,n,o,r);t.reset(i,$R),t.notifyOnChanges()}return!0}return!1}function jc(t,n,e){const r=Vn();r.firstCreatePass&&(KC(r,new qC(t,n,e),-1),2==(2&n)&&(r.staticViewQueries=!0)),YC(r,mt(),n)}function Fi(){return function R2(t,n){return t[19].queries[n].queryList}(mt(),l())}function YC(t,n,e){const r=new $g(4==(4&e));Lb(t,n,r,r.destroy),null===n[19]&&(n[19]=new Hg),n[19].queries.push(new Vg(r))}function KC(t,n,e){null===t.queries&&(t.queries=new jg),t.queries.track(new Ug(n,e))}function XC(t,n){return t.queries.getByIndex(n)}function rp(...t){}const Pl=new dn("Application Initializer");let op=(()=>{class t{constructor(e){this.appInits=e,this.resolve=rp,this.reject=rp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const e=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Wu(i))e.push(i);else if(Sg(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});e.push(s)}}Promise.all(e).then(()=>{r()}).catch(o=>{this.reject(o)}),0===e.length&&r(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(we(Pl,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const id=new dn("AppId",{providedIn:"root",factory:function gS(){return`${Yg()}${Yg()}${Yg()}`}});function Yg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yS=new dn("Platform Initializer"),Wc=new dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_S=new dn("appBootstrapListener");let tF=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ha=new dn("LocaleId",{providedIn:"root",factory:()=>El(ha,Zt.Optional|Zt.SkipSelf)||function nF(){return typeof $localize<"u"&&$localize.locale||Bc}()});class oF{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let Kg=(()=>{class t{compileModuleSync(e){return new Og(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const r=this.compileModuleSync(e),i=ia(Nt(e).declarations).reduce((s,a)=>{const c=It(a);return c&&s.push(new Fg(c)),s},[]);return new oF(r,i)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const aF=(()=>Promise.resolve(0))();function Xg(t){typeof Zone>"u"?aF.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ft{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _n(!1),this.onMicrotaskEmpty=new _n(!1),this.onStable=new _n(!1),this.onError=new _n(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&e,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function lF(){let t=gn.requestAnimationFrame,n=gn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function dF(t){const n=()=>{!function uF(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(gn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Jg(t),t.isCheckStableRunning=!0,Qg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Jg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,r,o,i,s,a)=>{try{return wS(t),e.invokeTask(o,i,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||t.shouldCoalesceRunChangeDetection)&&n(),CS(t)}},onInvoke:(e,r,o,i,s,a,c)=>{try{return wS(t),e.invoke(o,i,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&n(),CS(t)}},onHasTask:(e,r,o,i)=>{e.hasTask(o,i),r===o&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Jg(t),Qg(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,r,o,i)=>(e.handleError(o,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ft.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new R(909,!1)}run(n,e,r){return this._inner.run(n,e,r)}runTask(n,e,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,cF,rp,rp);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}}runGuarded(n,e,r){return this._inner.runGuarded(n,e,r)}runOutsideAngular(n){return this._outer.run(n)}}const cF={};function Qg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Jg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CS(t){t._nesting--,Qg(t)}class fF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _n,this.onMicrotaskEmpty=new _n,this.onStable=new _n,this.onError=new _n}run(n,e,r){return n.apply(e,r)}runGuarded(n,e,r){return n.apply(e,r)}runOutsideAngular(n){return n()}runTask(n,e,r,o){return n.apply(e,r)}}const SS=new dn(""),ip=new dn("");let ny,ey=(()=>{class t{constructor(e,r,o){this._ngZone=e,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ny||(function pF(t){ny=t}(o),o.addToWindow(r)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),Xg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Xg(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(e)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),e(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:o})}whenStable(e,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,r,o){return[]}}return t.\u0275fac=function(e){return new(e||t)(we(ft),we(ty),we(ip))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),ty=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,r){this._applications.set(e,r)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,r=!0){var o,i;return null!==(o=null===(i=ny)||void 0===i?void 0:i.findTestabilityInTree(this,e,r))&&void 0!==o?o:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),qa=null;const ES=new dn("AllowMultipleToken"),ry=new dn("PlatformDestroyListeners");class DS{constructor(n,e){this.name=n,this.token=e}}function MS(t,n,e=[]){const r=`Platform: ${n}`,o=new dn(r);return(i=[])=>{let s=oy();if(!s||s.injector.get(ES,!1)){const a=[...e,...i,{provide:o,useValue:!0}];t?t(a):function gF(t){if(qa&&!qa.get(ES,!1))throw new R(400,!1);qa=t;const n=t.get(TS);(function IS(t){const n=t.get(yS,null);n&&n.forEach(e=>e())})(t)}(function kS(t=[],n){return br.create({name:n,providers:[{provide:Vm,useValue:"platform"},{provide:ry,useValue:new Set([()=>qa=null])},...t]})}(a,r))}return function _F(t){const n=oy();if(!n)throw new R(401,!1);return n}()}}function oy(){var t,n;return null!==(t=null===(n=qa)||void 0===n?void 0:n.get(TS))&&void 0!==t?t:null}let TS=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,r){const o=function vF(t,n){let e;return e="noop"===t?new fF:("zone.js"===t?void 0:t)||new ft(n),e}(r?.ngZone,function xS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),i=[{provide:ft,useValue:o}];return o.run(()=>{const s=br.create({providers:i,parent:this.injector,name:e.moduleType.name}),a=e.create(s),c=a.injector.get(wc,null);if(!c)throw new R(402,!1);return o.runOutsideAngular(()=>{const f=o.onError.subscribe({next:g=>{c.handleError(g)}});a.onDestroy(()=>{sp(this._modules,a),f.unsubscribe()})}),function AS(t,n,e){try{const r=e();return Wu(r)?r.catch(o=>{throw n.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>t.handleError(r)),r}}(c,o,()=>{const f=a.injector.get(op);return f.runInitializers(),f.donePromise.then(()=>(function nC(t){Nr(t,"Expected localeId to be defined"),"string"==typeof t&&(tC=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(ha,Bc)||Bc),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,r=[]){const o=PS({},r);return function hF(t,n,e){const r=new Og(e);return Promise.resolve(r)}(0,0,e).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(e){const r=e.injector.get(Za);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new R(403,!1);e.instance.ngDoBootstrap(r)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const e=this._injector.get(ry,null);e&&(e.forEach(r=>r()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(we(br))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function PS(t,n){return Array.isArray(n)?n.reduce(PS,t):{...t,...n}}let Za=(()=>{class t{constructor(e,r,o){this._zone=e,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new _t(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new _t(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),Xg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),f.unsubscribe()}});this.isStable=Qo(i,s.pipe(Si()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,r){const o=e instanceof TC;if(!this._injector.get(op).done)throw!o&&function Gc(t){const n=It(t)||bt(t)||St(t);return null!==n&&n.standalone}(e),new R(405,false);let s;s=o?e:this._injector.get(ca).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function mF(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Wa),f=s.create(br.NULL,[],r||s.selector,a),g=f.location.nativeElement,y=f.injector.get(SS,null);return y?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),sp(this.components,f),y?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const r=e;this._views.push(r),r.attachToAppRef(this)}detachView(e){const r=e;sp(this._views,r),r.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(_S,[]).concat(this._bootstrapListeners).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>sp(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new R(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(e){return new(e||t)(we(ft),we(br),we(wc))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function sp(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let FS=!0,kt=(()=>{class t{}return t.__NG_ELEMENT_ID__=CF,t})();function CF(t){return function SF(t,n,e){if(vl(t)&&!e){const r=oi(t.index,n);return new td(r,r)}return 47&t.type?new td(n[16],n):null}(Er(),mt(),16==(16&t))}class BS{constructor(){}supports(n){return ju(n)}create(n){return new TF(n)}}const kF=(t,n)=>n;class TF{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||kF}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,r=this._removalsHead,o=0,i=null;for(;e||r;){const s=!r||e&&e.currentIndex<HS(r,o,i)?e:r,a=HS(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)o++;else{i||(i=[]);const f=a-o,g=c-o;if(f!=g){for(let E=0;E<f;E++){const A=E<i.length?i[E]:i[E]=0,J=A+E;g<=J&&J<f&&(i[E]=A+1)}i[s.previousIndex]=g-f}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!ju(n))throw new R(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,e=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,i,s,a)),Object.is(e.item,i)||this._addIdentityChange(e,i)):(e=this._mismatch(e,i,s,a),r=!0),e=e._next}else o=0,function jA(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[Tl()]();let r;for(;!(r=e.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==e&&Object.is(e.trackById,s)?(r&&(e=this._verifyReinsertion(e,a,s,o)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,o),r=!0),e=e._next,o++}),this.length=o;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,i,o)):n=this._addAfter(new xF(e,r),i,o),n}_verifyReinsertion(n,e,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,e,r),this._addToMoves(n,r),n}_moveAfter(n,e,r){return this._unlink(n),this._insertAfter(n,e,r),this._addToMoves(n,r),n}_addAfter(n,e,r){return this._insertAfter(n,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,r){const o=null===e?this._itHead:e._next;return n._next=o,n._prev=e,null===o?this._itTail=n:o._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new VS),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,r=n._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class xF{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AF{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const e=n._prevDup,r=n._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head}}class VS{constructor(){this.map=new Map}put(n){const e=n.trackById;let r=this.map.get(e);r||(r=new AF,this.map.set(e,r)),r.add(n)}get(n,e){const o=this.map.get(n);return o?o.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HS(t,n,e){const r=t.previousIndex;if(null===r)return r;let o=0;return e&&r<e.length&&(o=e[r]),r+n+o}function US(){return new sd([new BS])}let sd=(()=>{class t{constructor(e){this.factories=e}static create(e,r){if(null!=r){const o=r.factories.slice();e=e.concat(o)}return new t(e)}static extend(e){return{provide:t,useFactory:r=>t.create(e,r||US()),deps:[[t,new Pu,new Ua]]}}find(e){const r=this.factories.find(o=>o.supports(e));if(null!=r)return r;throw new R(901,!1)}}return t.\u0275prov=wt({token:t,providedIn:"root",factory:US}),t})();const NF=MS(null,"core",[]);let LF=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(we(Za))},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({}),t})(),cp=null;function js(){return cp}const Mo=new dn("DocumentToken");let up=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:function(){return function HF(){return we(zS)}()},providedIn:"platform"}),t})();const jF=new dn("Location Initialized");let zS=(()=>{class t extends up{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return js().getBaseHref(this._doc)}onPopState(e){const r=js().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=js().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){WS()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){WS()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(we(Mo))},t.\u0275prov=wt({token:t,factory:function(){return function UF(){return new zS(we(Mo))}()},providedIn:"platform"}),t})();function WS(){return!!window.history.pushState}function cy(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function qS(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ya(t){return t&&"?"!==t[0]?"?"+t:t}let Us=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:function(){return function GF(){const t=we(Mo).location;return new YS(we(up),t&&t.origin||"")}()},providedIn:"root"}),t})();const ZS=new dn("appBaseHref");let YS=(()=>{class t extends Us{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return cy(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+ya(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,i){const s=this.prepareExternalUrl(o+ya(i));this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){const s=this.prepareExternalUrl(o+ya(i));this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(we(up),we(ZS,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),KS=(()=>{class t extends Us{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=cy(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,i){let s=this.prepareExternalUrl(o+ya(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,r,s)}replaceState(e,r,o,i){let s=this.prepareExternalUrl(o+ya(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){var r,o;null===(r=(o=this._platformLocation).historyGo)||void 0===r||r.call(o,e)}}return t.\u0275fac=function(e){return new(e||t)(we(up),we(ZS,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),ld=(()=>{class t{constructor(e){this._subject=new _n,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._baseHref=qS(XS(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var e;null===(e=this._urlChangeSubscription)||void 0===e||e.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+ya(r))}normalize(e){return t.stripTrailingSlash(function WF(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,XS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ya(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ya(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){var r,o;null===(r=(o=this._locationStrategy).historyGo)||void 0===r||r.call(o,e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(e);var o;this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(o=this._urlChangeSubscription)||void 0===o||o.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return t.normalizeQueryParams=ya,t.joinWithSlash=cy,t.stripTrailingSlash=qS,t.\u0275fac=function(e){return new(e||t)(we(Us))},t.\u0275prov=wt({token:t,factory:function(){return function zF(){return new ld(we(Us))}()},providedIn:"root"}),t})();function XS(t){return t.replace(/\/index.html$/,"")}function sE(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const r=e.indexOf("="),[o,i]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class AO{constructor(n,e,r,o){this.$implicit=n,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fl=(()=>{class t{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new AO(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),cE(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{cE(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(ci),C(Pi),C(sd))},t.\u0275dir=se({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function cE(t,n){t.context.$implicit=n.item}let Po=(()=>{class t{constructor(e,r){this._viewContainer=e,this._context=new RO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){uE("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){uE("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return t.\u0275fac=function(e){return new(e||t)(C(ci),C(Pi))},t.\u0275dir=se({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class RO{constructor(){this.$implicit=null,this.ngIf=null}}function uE(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Bn(n)}'.`)}class vy{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let bp=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=se({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),dE=(()=>{class t{constructor(e,r,o){this.ngSwitch=o,o._addCase(),this._view=new vy(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(C(ci),C(Pi),C(bp,9))},t.\u0275dir=se({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),fE=(()=>{class t{constructor(e,r,o){o._addDefault(new vy(e,r))}}return t.\u0275fac=function(e){return new(e||t)(C(ci),C(Pi),C(bp,9))},t.\u0275dir=se({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();class NO{createSubscription(n,e){return n.subscribe({next:e,error:r=>{throw r}})}dispose(n){n.unsubscribe()}}class LO{createSubscription(n,e){return n.then(e,r=>{throw r})}dispose(n){}}const $O=new LO,BO=new NO;let hE=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if(Wu(e))return $O;if(lw(e))return BO;throw function Es(t,n){return new R(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(C(kt,16))},t.\u0275pipe=ut({name:"async",type:t,pure:!1}),t})(),Gs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({}),t})();const gE="browser";function va(t){return t===gE}let iN=(()=>{class t{}return t.\u0275prov=wt({token:t,providedIn:"root",factory:()=>new sN(we(Mo),window)}),t})();class sN{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function aN(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=yE(this.window.history)||yE(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function yE(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class _E{}class Sy extends class lN extends class VF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function BF(t){cp||(cp=t)}(new Sy)}onAndCancel(n,e,r){return n.addEventListener(e,r,!1),()=>{n.removeEventListener(e,r,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function cN(){return dd=dd||document.querySelector("base"),dd?dd.getAttribute("href"):null}();return null==e?null:function uN(t){wp=wp||document.createElement("a"),wp.setAttribute("href",t);const n=wp.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){dd=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return sE(document.cookie,n)}}let wp,dd=null;const vE=new dn("TRANSITION_ID"),fN=[{provide:Pl,useFactory:function dN(t,n,e){return()=>{e.get(op).donePromise.then(()=>{const r=js(),o=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let i=0;i<o.length;i++)r.remove(o[i])})}},deps:[vE,Mo,br],multi:!0}];let hN=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const Cp=new dn("EventManagerPlugins");let Sp=(()=>{class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(we(Cp),we(ft))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();class bE{constructor(n){this._doc=n}addGlobalEventListener(n,e,r){const o=js().getGlobalEventTarget(this._doc,n);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let wE=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),fd=(()=>{class t extends wE{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(CE),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(CE))}}return t.\u0275fac=function(e){return new(e||t)(we(Mo))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();function CE(t){js().remove(t)}const Ey={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Dy=/%COMP%/g;function Ep(t,n,e){for(let r=0;r<n.length;r++){let o=n[r];Array.isArray(o)?Ep(t,o,e):(o=o.replace(Dy,t),e.push(o))}return e}function DE(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let Iy=(()=>{class t{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new My(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case Rn.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new bN(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case Rn.ShadowDom:return new wN(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ep(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(we(Sp),we(fd),we(id))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();class My{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(Ey[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){(ME(n)?n.content:n).appendChild(e)}insertBefore(n,e,r){n&&(ME(n)?n.content:n).insertBefore(e,r)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return e||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,r,o){if(o){e=o+":"+e;const i=Ey[o];i?n.setAttributeNS(i,e,r):n.setAttribute(e,r)}else n.setAttribute(e,r)}removeAttribute(n,e,r){if(r){const o=Ey[r];o?n.removeAttributeNS(o,e):n.removeAttribute(`${r}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,r,o){o&(xi.DashCase|xi.Important)?n.style.setProperty(e,r,o&xi.Important?"important":""):n.style[e]=r}removeStyle(n,e,r){r&xi.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,r){n[e]=r}setValue(n,e){n.nodeValue=e}listen(n,e,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,DE(r)):this.eventManager.addEventListener(n,e,DE(r))}}function ME(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class bN extends My{constructor(n,e,r,o){super(n),this.component=r;const i=Ep(o+"-"+r.id,r.styles,[]);e.addStyles(i),this.contentAttr=function yN(t){return"_ngcontent-%COMP%".replace(Dy,t)}(o+"-"+r.id),this.hostAttr=function _N(t){return"_nghost-%COMP%".replace(Dy,t)}(o+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const r=super.createElement(n,e);return super.setAttribute(r,this.contentAttr,""),r}}class wN extends My{constructor(n,e,r,o){super(n),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Ep(o.id,o.styles,[]);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,r){return super.insertBefore(this.nodeOrShadowRoot(n),e,r)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let CN=(()=>{class t extends bE{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return t.\u0275fac=function(e){return new(e||t)(we(Mo))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const kE=["alt","control","meta","shift"],EN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TE={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},DN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let IN=(()=>{class t extends bE{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>js().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="";if(kE.forEach(c=>{const f=r.indexOf(c);f>-1&&(r.splice(f,1),s+=c+".")}),s+=i,0!=r.length||0===i.length)return null;const a={};return a.domEventName=o,a.fullKey=s,a}static getEventFullKey(e){let r="",o=function MN(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&TE.hasOwnProperty(n)&&(n=TE[n]))}return EN[n]||n}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),kE.forEach(i=>{i!=o&&DN[i](e)&&(r+=i+".")}),r+=o,r}static eventCallback(e,r,o){return i=>{t.getEventFullKey(i)===e&&o.runGuarded(()=>r(i))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(we(Mo))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const xE=[{provide:Wc,useValue:gE},{provide:yS,useValue:function kN(){Sy.makeCurrent()},multi:!0},{provide:Mo,useFactory:function xN(){return function Vk(t){um=t}(document),document},deps:[]}],AN=MS(NF,"browser",xE),AE=new dn(""),PE=[{provide:ip,useClass:class pN{addToWindow(n){gn.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new Error("Could not find testability for element.");return i},gn.getAllAngularTestabilities=()=>n.getAllTestabilities(),gn.getAllAngularRootElements=()=>n.getAllRootElements(),gn.frameworkStabilizers||(gn.frameworkStabilizers=[]),gn.frameworkStabilizers.push(r=>{const o=gn.getAllAngularTestabilities();let i=o.length,s=!1;const a=function(c){s=s||c,i--,0==i&&r(s)};o.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(n,e,r){return null==e?null:n.getTestability(e)??(r?js().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:SS,useClass:ey,deps:[ft,ty,ip]},{provide:ey,useClass:ey,deps:[ft,ty,ip]}],RE=[{provide:Vm,useValue:"root"},{provide:wc,useFactory:function TN(){return new wc},deps:[]},{provide:Cp,useClass:CN,multi:!0,deps:[Mo,ft,Wc]},{provide:Cp,useClass:IN,multi:!0,deps:[Mo]},{provide:Iy,useClass:Iy,deps:[Sp,fd,id]},{provide:xC,useExisting:Iy},{provide:wE,useExisting:fd},{provide:fd,useClass:fd,deps:[Mo]},{provide:Sp,useClass:Sp,deps:[Cp,ft]},{provide:_E,useClass:hN,deps:[]},[]];let PN=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:id,useValue:e.appId},{provide:vE,useExisting:id},fN]}}}return t.\u0275fac=function(e){return new(e||t)(we(AE,12))},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({providers:[...RE,...PE],imports:[Gs,LF]}),t})(),FE=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return t.\u0275fac=function(e){return new(e||t)(we(Mo))},t.\u0275prov=wt({token:t,factory:function(e){let r=null;return r=e?new e:function FN(){return new FE(we(Mo))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;let xy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:function(e){let r=null;return r=e?new(e||t):we(LE),r},providedIn:"root"}),t})(),LE=(()=>{class t extends xy{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case Dr.NONE:return r;case Dr.HTML:return Os(r,"HTML")?Ui(r):C0(this._doc,String(r)).toString();case Dr.STYLE:return Os(r,"Style")?Ui(r):r;case Dr.SCRIPT:if(Os(r,"Script"))return Ui(r);throw new Error("unsafe value used in a script context");case Dr.URL:return Os(r,"URL")?Ui(r):Ou(String(r));case Dr.RESOURCE_URL:if(Os(r,"ResourceURL"))return Ui(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function Yk(t){return new Uk(t)}(e)}bypassSecurityTrustStyle(e){return function Kk(t){return new Gk(t)}(e)}bypassSecurityTrustScript(e){return function Xk(t){return new zk(t)}(e)}bypassSecurityTrustUrl(e){return function Qk(t){return new Wk(t)}(e)}bypassSecurityTrustResourceUrl(e){return function Jk(t){return new qk(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(we(Mo))},t.\u0275prov=wt({token:t,factory:function(e){let r=null;return r=e?new e:function jN(t){return new LE(t.get(Mo))}(we(br)),r},providedIn:"root"}),t})();var Ro=F(1158),UN=F(9233),qc=F.n(UN);let Dp,Ip;function $E(t){if(!window.location.hash.startsWith(t))return;const n=window.location.hash.split("?")[1];if(!n)return;const e=n.split("&").map(r=>r.split("="));for(const[r,o]of e)if("url"===r&&o)try{return decodeURIComponent(o)}catch{continue}}function BE(){return void 0!==Ip}class VE{constructor(){this.requestEvent=new Ro.j}dispatchRequest(n){if(n){try{n=new(qc())(n).toString()}catch{return void console.error(`invalid URL: ${n}`)}this.url=n,this.requestEvent.dispatch()}}hasPendingRequest(){return void 0!==this.url}receivePendingUrl(){const n=this.url;return this.url=void 0,n}}let Ay=(()=>{class t{constructor(){this.installation=new VE,this.import=new VE,Dp&&this.installation.dispatchRequest(Dp),Ip&&this.import.dispatchRequest(Ip)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function wn(...t){return qn(t,D(t))}function Zc(t,n){return k(n)?Kt(t,n,1):Kt(t,1)}function Go(t,n){return $e((e,r)=>{let o=0;e.subscribe(ct(r,i=>t.call(n,i,o++)&&r.next(i)))})}class HE{}class jE{}class ba{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),i=o.toLowerCase(),s=e.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let r=n[e];const o=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(e,o))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof ba?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new ba;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ba?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,e);const o=("a"===n.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class WN{encodeKey(n){return UE(n)}encodeValue(n){return UE(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const ZN=/%(\d[a-f0-9])/gi,YN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function UE(t){return encodeURIComponent(t).replace(ZN,(n,e)=>{var r;return null!==(r=YN[e])&&void 0!==r?r:n})}function Mp(t){return`${t}`}class Ka{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new WN,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function qN(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const r=n.fromObject[e],o=Array.isArray(r)?r.map(Mp):[Mp(r)];this.map.set(e,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{e.push({param:r,value:i,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Ka({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(Mp(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(Mp(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class KN{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function GE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function zE(t){return typeof Blob<"u"&&t instanceof Blob}function WE(t){return typeof FormData<"u"&&t instanceof FormData}class pd{constructor(n,e,r,o){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function XN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new ba),this.context||(this.context=new KN),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Ka,this.urlWithParams=e}serializeBody(){return null===this.body?null:GE(this.body)||zE(this.body)||WE(this.body)||function QN(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ka?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WE(this.body)?null:zE(this.body)?this.body.type||null:GE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ka?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const r=n.method||this.method,o=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,c=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let f=n.headers||this.headers,g=n.params||this.params;const y=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(f=Object.keys(n.setHeaders).reduce((E,A)=>E.set(A,n.setHeaders[A]),f)),n.setParams&&(g=Object.keys(n.setParams).reduce((E,A)=>E.set(A,n.setParams[A]),g)),new pd(r,o,s,{params:g,headers:f,context:y,reportProgress:c,responseType:i,withCredentials:a})}}var vo=(()=>((vo=vo||{})[vo.Sent=0]="Sent",vo[vo.UploadProgress=1]="UploadProgress",vo[vo.ResponseHeader=2]="ResponseHeader",vo[vo.DownloadProgress=3]="DownloadProgress",vo[vo.Response=4]="Response",vo[vo.User=5]="User",vo))();class Py{constructor(n,e=200,r="OK"){this.headers=n.headers||new ba,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Ry extends Py{constructor(n={}){super(n),this.type=vo.ResponseHeader}clone(n={}){return new Ry({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class kp extends Py{constructor(n={}){super(n),this.type=vo.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new kp({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class qE extends Py{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Fy(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Oy=(()=>{class t{constructor(e){this.handler=e}request(e,r,o={}){let i;if(e instanceof pd)i=e;else{let c,f;c=o.headers instanceof ba?o.headers:new ba(o.headers),o.params&&(f=o.params instanceof Ka?o.params:new Ka({fromObject:o.params})),i=new pd(e,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const s=wn(i).pipe(Zc(c=>this.handler.handle(c)));if(e instanceof pd||"events"===o.observe)return s;const a=s.pipe(Go(c=>c instanceof kp));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(at(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(at(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(at(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(at(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Ka).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Fy(o,r))}post(e,r,o={}){return this.request("POST",e,Fy(o,r))}put(e,r,o={}){return this.request("PUT",e,Fy(o,r))}}return t.\u0275fac=function(e){return new(e||t)(we(HE))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();class ZE{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const YE=new dn("HTTP_INTERCEPTORS");let JN=(()=>{class t{intercept(e,r){return r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const eL=/^\)\]\}',?\n/;let KE=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _t(r=>{const o=this.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((A,J)=>o.setRequestHeader(A,J.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const A=e.detectContentTypeHeader();null!==A&&o.setRequestHeader("Content-Type",A)}if(e.responseType){const A=e.responseType.toLowerCase();o.responseType="json"!==A?A:"text"}const i=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const A=o.statusText||"OK",J=new ba(o.getAllResponseHeaders()),xe=function tL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new Ry({headers:J,status:o.status,statusText:A,url:xe}),s},c=()=>{let{headers:A,status:J,statusText:xe,url:Xe}=a(),Ge=null;204!==J&&(Ge=typeof o.response>"u"?o.responseText:o.response),0===J&&(J=Ge?200:0);let yt=J>=200&&J<300;if("json"===e.responseType&&"string"==typeof Ge){const et=Ge;Ge=Ge.replace(eL,"");try{Ge=""!==Ge?JSON.parse(Ge):null}catch(ht){Ge=et,yt&&(yt=!1,Ge={error:ht,text:Ge})}}yt?(r.next(new kp({body:Ge,headers:A,status:J,statusText:xe,url:Xe||void 0})),r.complete()):r.error(new qE({error:Ge,headers:A,status:J,statusText:xe,url:Xe||void 0}))},f=A=>{const{url:J}=a(),xe=new qE({error:A,status:o.status||0,statusText:o.statusText||"Unknown Error",url:J||void 0});r.error(xe)};let g=!1;const y=A=>{g||(r.next(a()),g=!0);let J={type:vo.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(J.total=A.total),"text"===e.responseType&&!!o.responseText&&(J.partialText=o.responseText),r.next(J)},E=A=>{let J={type:vo.UploadProgress,loaded:A.loaded};A.lengthComputable&&(J.total=A.total),r.next(J)};return o.addEventListener("load",c),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),e.reportProgress&&(o.addEventListener("progress",y),null!==i&&o.upload&&o.upload.addEventListener("progress",E)),o.send(i),r.next({type:vo.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",c),o.removeEventListener("timeout",f),e.reportProgress&&(o.removeEventListener("progress",y),null!==i&&o.upload&&o.upload.removeEventListener("progress",E)),o.readyState!==o.DONE&&o.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(we(_E))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const Ny=new dn("XSRF_COOKIE_NAME"),Ly=new dn("XSRF_HEADER_NAME");class XE{}let nL=(()=>{class t{constructor(e,r,o){this.doc=e,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=sE(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(we(Mo),we(Wc),we(Ny))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),$y=(()=>{class t{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const o=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(e);const i=this.tokenService.getToken();return null!==i&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,i)})),r.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(we(XE),we(Ly))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),rL=(()=>{class t{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(YE,[]);this.chain=r.reduceRight((o,i)=>new ZE(o,i),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(we(jE),we(br))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),oL=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:$y,useClass:JN}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Ny,useValue:e.cookieName}:[],e.headerName?{provide:Ly,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({providers:[$y,{provide:YE,useExisting:$y,multi:!0},{provide:XE,useClass:nL},{provide:Ny,useValue:"XSRF-TOKEN"},{provide:Ly,useValue:"X-XSRF-TOKEN"}]}),t})(),iL=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({providers:[Oy,{provide:HE,useClass:rL},KE,{provide:jE,useExisting:KE}],imports:[oL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),t})();const{isArray:sL}=Array,{getPrototypeOf:aL,prototype:lL,keys:cL}=Object;function QE(t){if(1===t.length){const n=t[0];if(sL(n))return{args:n,keys:null};if(function uL(t){return t&&"object"==typeof t&&aL(t)===lL}(n)){const e=cL(n);return{args:e.map(r=>n[r]),keys:e}}}return{args:t,keys:null}}const{isArray:dL}=Array;function By(t){return at(n=>function fL(t,n){return dL(n)?t(...n):t(n)}(t,n))}function JE(t,n){return t.reduce((e,r,o)=>(e[r]=n[o],e),{})}let eD=(()=>{class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(C(ua),C(vt))},t.\u0275dir=se({type:t}),t})(),Ol=(()=>{class t extends eD{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Uo(t)))(r||t)}}(),t.\u0275dir=se({type:t,features:[Xn]}),t})();const _i=new dn("NgValueAccessor"),mL={provide:_i,useExisting:T(()=>Vy),multi:!0},yL=new dn("CompositionEventMode");let Vy=(()=>{class t extends eD{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gL(){const t=js()?js().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(C(ua),C(vt),C(yL,8))},t.\u0275dir=se({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&lt("input",function(i){return r._handleInput(i.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(i){return r._compositionEnd(i.target.value)})},features:[yr([mL]),Xn]}),t})();function Xa(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function nD(t){return null!=t&&"number"==typeof t.length}const ui=new dn("NgValidators"),Qa=new dn("NgAsyncValidators"),vL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Hy{static min(n){return function rD(t){return n=>{if(Xa(n.value)||Xa(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function oD(t){return n=>{if(Xa(n.value)||Xa(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function iD(t){return Xa(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function sD(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function aD(t){return Xa(t.value)||vL.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function lD(t){return n=>Xa(n.value)||!nD(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return cD(n)}static pattern(n){return function uD(t){if(!t)return Tp;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),r=>{if(Xa(r.value))return null;const o=r.value;return n.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(n)}static nullValidator(n){return null}static compose(n){return gD(n)}static composeAsync(n){return yD(n)}}function cD(t){return n=>nD(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}function Tp(t){return null}function dD(t){return null!=t}function fD(t){return Wu(t)?qn(t):t}function pD(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function hD(t,n){return n.map(e=>e(t))}function mD(t){return t.map(n=>function bL(t){return!t.validate}(n)?n:e=>n.validate(e))}function gD(t){if(!t)return null;const n=t.filter(dD);return 0==n.length?null:function(e){return pD(hD(e,n))}}function jy(t){return null!=t?gD(mD(t)):null}function yD(t){if(!t)return null;const n=t.filter(dD);return 0==n.length?null:function(e){return function pL(...t){const n=Co(t),{args:e,keys:r}=QE(t),o=new _t(i=>{const{length:s}=e;if(!s)return void i.complete();const a=new Array(s);let c=s,f=s;for(let g=0;g<s;g++){let y=!1;S(e[g]).subscribe(ct(i,E=>{y||(y=!0,f--),a[g]=E},()=>c--,void 0,()=>{(!c||!y)&&(f||i.next(r?JE(r,a):a),i.complete())}))}});return n?o.pipe(By(n)):o}(hD(e,n).map(fD)).pipe(at(pD))}}function Uy(t){return null!=t?yD(mD(t)):null}function _D(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function vD(t){return t._rawValidators}function bD(t){return t._rawAsyncValidators}function Gy(t){return t?Array.isArray(t)?t:[t]:[]}function xp(t,n){return Array.isArray(t)?t.includes(n):t===n}function wD(t,n){const e=Gy(n);return Gy(t).forEach(o=>{xp(e,o)||e.push(o)}),e}function CD(t,n){return Gy(n).filter(e=>!xp(t,e))}class SD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=jy(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Uy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class vi extends SD{get formDirective(){return null}get path(){return null}}class wa extends SD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ED{constructor(n){this._cd=n}get isTouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.touched)}get isUntouched(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.untouched)}get isPristine(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pristine)}get isDirty(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.dirty)}get isValid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.valid)}get isInvalid(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.invalid)}get isPending(){var n,e;return!(null===(n=this._cd)||void 0===n||null===(e=n.control)||void 0===e||!e.pending)}get isSubmitted(){var n;return!(null===(n=this._cd)||void 0===n||!n.submitted)}}let Nl=(()=>{class t extends ED{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(wa,2))},t.\u0275dir=se({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&la("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Xn]}),t})(),Ll=(()=>{class t extends ED{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(C(vi,10))},t.\u0275dir=se({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&la("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Xn]}),t})();const hd="VALID",Pp="INVALID",Yc="PENDING",md="DISABLED";function Zy(t){return(Rp(t)?t.validators:t)||null}function ID(t){return Array.isArray(t)?jy(t):t||null}function Yy(t,n){return(Rp(n)?n.asyncValidators:t)||null}function MD(t){return Array.isArray(t)?Uy(t):t||null}function Rp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xD{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=ID(this._rawValidators),this._composedAsyncValidatorFn=MD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===hd}get invalid(){return this.status===Pp}get pending(){return this.status==Yc}get disabled(){return this.status===md}get enabled(){return this.status!==md}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=ID(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=MD(n)}addValidators(n){this.setValidators(wD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(wD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(CD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(CD(n,this._rawAsyncValidators))}hasValidator(n){return xp(this._rawValidators,n)}hasAsyncValidator(n){return xp(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Yc,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=md,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=hd,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hd||this.status===Yc)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?md:hd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Yc,this._hasOwnPendingAsyncValidator=!0;const e=fD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(n,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new _n,this.statusChanges=new _n}_calculateStatus(){return this._allControlsDisabled()?md:this.errors?Pp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yc)?Yc:this._anyControlsHaveStatus(Pp)?Pp:hd}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Rp(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class Kc extends xD{constructor(n,e,r){super(Zy(e),Yy(r,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,r={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){(function TD(t,n,e){t._forEachChild((r,o)=>{if(void 0===e[o])throw new R(1002,"")})})(this,0,n),Object.keys(n).forEach(r=>{(function kD(t,n,e){const r=t.controls;if(!(n?Object.keys(r):r).length)throw new R(1e3,"");if(!r[e])throw new R(1001,"")})(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(r=>{const o=this.controls[r];o&&o.patchValue(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((r,o)=>{r.reset(n[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,r)=>(n[r]=e.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&n(r,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(n,e){let r=n;return this._forEachChild((o,i)=>{r=e(r,o,i)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Fp=Kc;function gd(t,n){var e,r;Ky(t,n),n.valueAccessor.writeValue(t.value),t.disabled&&(null===(e=(r=n.valueAccessor).setDisabledState)||void 0===e||e.call(r,!0)),function TL(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&AD(t,n)})}(t,n),function AL(t,n){const e=(r,o)=>{n.valueAccessor.writeValue(r),o&&n.viewToModelUpdate(r)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function xL(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&AD(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function kL(t,n){if(n.valueAccessor.setDisabledState){const e=r=>{n.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Np(t,n,e=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),$p(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lp(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Ky(t,n){const e=vD(t);null!==n.validator?t.setValidators(_D(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const r=bD(t);null!==n.asyncValidator?t.setAsyncValidators(_D(r,n.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();Lp(n._rawValidators,o),Lp(n._rawAsyncValidators,o)}function $p(t,n){let e=!1;if(null!==t){if(null!==n.validator){const o=vD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.validator);i.length!==o.length&&(e=!0,t.setValidators(i))}}if(null!==n.asyncValidator){const o=bD(t);if(Array.isArray(o)&&o.length>0){const i=o.filter(s=>s!==n.asyncValidator);i.length!==o.length&&(e=!0,t.setAsyncValidators(i))}}}const r=()=>{};return Lp(n._rawValidators,r),Lp(n._rawAsyncValidators,r),e}function AD(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function OD(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function ND(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Ca=class extends xD{constructor(n=null,e,r){super(Zy(e),Yy(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rp(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ND(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){OD(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){OD(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){ND(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Fo=Ca;let $l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=se({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),jD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({}),t})();const e_=new dn("NgModelWithFormControlWarning"),zL={provide:vi,useExisting:T(()=>Sa)};let Sa=(()=>{class t extends vi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _n,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($p(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return gd(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Np(e.control||null,e,!1),function OL(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function FD(t,n){t._syncPendingControls(),n.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(Np(r||null,e),(t=>t instanceof Ca)(o)&&(gd(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function PD(t,n){Ky(t,n)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function PL(t,n){return $p(t,n)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ky(this.form,this),this._oldForm&&$p(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(C(ui,10),C(Qa,10))},t.\u0275dir=se({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&lt("submit",function(i){return r.onSubmit(i)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yr([zL]),Xn,ho]}),t})();const ZL={provide:wa,useExisting:T(()=>Ja)};let Ja=(()=>{class t extends wa{constructor(e,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new _n,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Qy(t,n){if(!n)return null;let e,r,o;return Array.isArray(n),n.forEach(i=>{i.constructor===Vy?e=i:function FL(t){return Object.getPrototypeOf(t.constructor)===Ol}(i)?r=i:o=i}),o||r||e||null}(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Xy(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Op(t,n){return[...n.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(C(vi,13),C(ui,10),C(Qa,10),C(_i,10),C(e_,8))},t.\u0275dir=se({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[yr([ZL]),Xn,ho]}),t})();let Bl=(()=>{class t{constructor(){this._validator=Tp}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Tp,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=se({type:t,features:[ho]}),t})();const a3={provide:ui,useExisting:T(()=>s_),multi:!0};let s_=(()=>{class t extends Bl{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function YD(t){return"number"==typeof t?t:parseInt(t,10)}(e),this.createValidator=e=>cD(e)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Uo(t)))(r||t)}}(),t.\u0275dir=se({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,r){2&e&&Bs("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[yr([a3]),Xn]}),t})(),r1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[jD]}),t})(),Vl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[r1]}),t})(),Bp=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:e_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[r1]}),t})();const u3=["addListener","removeListener"],d3=["addEventListener","removeEventListener"],f3=["on","off"];function _d(t,n,e,r){if(k(e)&&(r=e,e=void 0),r)return _d(t,n,e).pipe(By(r));const[o,i]=function m3(t){return k(t.addEventListener)&&k(t.removeEventListener)}(t)?d3.map(s=>a=>t[s](n,a,e)):function p3(t){return k(t.addListener)&&k(t.removeListener)}(t)?u3.map(o1(t,n)):function h3(t){return k(t.on)&&k(t.off)}(t)?f3.map(o1(t,n)):[];if(!o&&yn(t))return Kt(s=>_d(s,n,e))(S(t));if(!o)throw new TypeError("Invalid event target");return new _t(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function o1(t,n){return e=>r=>t[e](n,r)}class qi extends W{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:r}=this;if(n)throw e;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function i1(...t){const n=D(t),e=Co(t),{args:r,keys:o}=QE(t);if(0===r.length)return qn([],n);const i=new _t(function g3(t,n,e=X){return r=>{s1(n,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)s1(n,()=>{const f=qn(t[c],n);let g=!1;f.subscribe(ct(r,y=>{i[c]=y,g||(g=!0,a--),a||r.next(e(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>JE(o,s):X));return e?i.pipe(By(e)):i}function s1(t,n,e){t?Sr(e,t,n):n()}function Xc(t,n){const e=k(t)?t:()=>t,r=o=>o.error(e());return new _t(n?o=>n.schedule(r,0,o):r)}const vd=u(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function bd(...t){return function y3(){return oo(1)}()(qn(t,D(t)))}function Vp(t){return new _t(n=>{S(t()).subscribe(n)})}function a_(){return $e((t,n)=>{let e=null;t._refCount++;const r=ct(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,i=e;e=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(r),r.closed||(e=t.connect())})}class l_ extends _t{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Re(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new q;const e=this.getSubject();n.add(this.source.subscribe(ct(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=q.EMPTY)}return n}refCount(){return a_()(this)}}function Ni(t,n){return $e((e,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();e.subscribe(ct(r,c=>{o?.unsubscribe();let f=0;const g=i++;S(t(c,g)).subscribe(o=ct(r,y=>r.next(n?n(c,y,g,f++):y),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Zi(t){return t<=0?()=>ir:$e((n,e)=>{let r=0;n.subscribe(ct(e,o=>{++r<=t&&(e.next(o),t<=r&&e.complete())}))})}function a1(...t){const n=D(t);return $e((e,r)=>{(n?bd(t,e,n):bd(t,e)).subscribe(r)})}function _3(t,n,e,r,o){return(i,s)=>{let a=e,c=n,f=0;i.subscribe(ct(s,g=>{const y=f++;c=a?t(c,g,y):(a=!0,g),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function l1(t,n){return $e(_3(t,n,arguments.length>=2,!0))}function el(t){return $e((n,e)=>{let i,r=null,o=!1;r=n.subscribe(ct(e,void 0,void 0,s=>{i=S(t(s,el(t)(n))),r?(r.unsubscribe(),r=null,i.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(e))})}function c_(t){return t<=0?()=>ir:$e((n,e)=>{let r=[];n.subscribe(ct(e,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function c1(t=v3){return $e((n,e)=>{let r=!1;n.subscribe(ct(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(t())))})}function v3(){return new vd}function u_(t){return $e((n,e)=>{let r=!1;n.subscribe(ct(e,o=>{r=!0,e.next(o)},()=>{r||e.next(t),e.complete()}))})}function tl(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Go((o,i)=>t(o,i,r)):X,Zi(1),e?u_(n):c1(()=>new vd))}function zo(t,n,e){const r=k(t)||n||e?{next:t,error:n,complete:e}:t;return r?$e((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(ct(i,c=>{var f;null===(f=r.next)||void 0===f||f.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var f;a=!1,null===(f=r.error)||void 0===f||f.call(r,c),i.error(c)},()=>{var c,f;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(f=r.finalize)||void 0===f||f.call(r)}))}):X}function d_(t){return at(()=>t)}function f_(t){return $e((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class Ea{constructor(n,e){this.id=n,this.url=e}}class Hp extends Ea{constructor(n,e,r="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hl extends Ea{constructor(n,e,r){super(n,e),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jp extends Ea{constructor(n,e,r){super(n,e),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class u1 extends Ea{constructor(n,e,r){super(n,e),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class w3 extends Ea{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C3 extends Ea{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S3 extends Ea{constructor(n,e,r,o,i){super(n,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class E3 extends Ea{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class D3 extends Ea{constructor(n,e,r,o){super(n,e),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I3{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class M3{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class k3{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T3{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class x3{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A3{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d1{constructor(n,e,r){this.routerEvent=n,this.position=e,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const On="primary";class R3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Qc(t){return new R3(t)}const p_="Redirecting to ",f1="ngNavigationCancelingError";function h_(t){const n=Error("NavigationCancelingError: "+(t||""));return n[f1]=!0,n}function O3(t,n,e){const r=e.path.split("/");if(r.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function zs(t,n){const e=t?Object.keys(t):void 0,r=n?Object.keys(n):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let i=0;i<e.length;i++)if(o=e[i],!p1(t[o],n[o]))return!1;return!0}function p1(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),r=[...n].sort();return e.every((o,i)=>r[i]===o)}return t===n}function h1(t){return Array.prototype.concat.apply([],t)}function m1(t){return t.length>0?t[t.length-1]:null}function Wo(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function nl(t){return Sg(t)?t:Wu(t)?qn(Promise.resolve(t)):wn(t)}const $3={exact:function _1(t,n,e){if(!Ul(t.segments,n.segments)||!Up(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!t.children[r]||!_1(t.children[r],n.children[r],e))return!1;return!0},subset:v1},g1={exact:function B3(t,n){return zs(t,n)},subset:function V3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>p1(t[e],n[e]))},ignored:()=>!0};function y1(t,n,e){return $3[e.paths](t.root,n.root,e.matrixParams)&&g1[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function v1(t,n,e){return b1(t,n,n.segments,e)}function b1(t,n,e,r){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Ul(o,e)||n.hasChildren()||!Up(o,e,r))}if(t.segments.length===e.length){if(!Ul(t.segments,e)||!Up(t.segments,e,r))return!1;for(const o in n.children)if(!t.children[o]||!v1(t.children[o],n.children[o],r))return!1;return!0}{const o=e.slice(0,t.segments.length),i=e.slice(t.segments.length);return!!(Ul(t.segments,o)&&Up(t.segments,o,r)&&t.children[On])&&b1(t.children[On],n,i,r)}}function Up(t,n,e){return n.every((r,o)=>g1[e](t[o].parameters,r.parameters))}class jl{constructor(n,e,r){this.root=n,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return U3.serialize(this)}}class Wn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Wo(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gp(this)}}class wd{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Qc(this.parameters)),this._parameterMap}toString(){return E1(this)}}function Ul(t,n){return t.length===n.length&&t.every((e,r)=>e.path===n[r].path)}class g_{}class w1{parse(n){const e=new Q3(n);return new jl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${Cd(n.root,!0)}`,r=function W3(t){const n=Object.keys(t).map(e=>{const r=t[e];return Array.isArray(r)?r.map(o=>`${zp(e)}=${zp(o)}`).join("&"):`${zp(e)}=${zp(r)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${r}${"string"==typeof n.fragment?`#${function G3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const U3=new w1;function Gp(t){return t.segments.map(n=>E1(n)).join("/")}function Cd(t,n){if(!t.hasChildren())return Gp(t);if(n){const e=t.children[On]?Cd(t.children[On],!1):"",r=[];return Wo(t.children,(o,i)=>{i!==On&&r.push(`${i}:${Cd(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function j3(t,n){let e=[];return Wo(t.children,(r,o)=>{o===On&&(e=e.concat(n(r,o)))}),Wo(t.children,(r,o)=>{o!==On&&(e=e.concat(n(r,o)))}),e}(t,(r,o)=>o===On?[Cd(t.children[On],!1)]:[`${o}:${Cd(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[On]?`${Gp(t)}/${e[0]}`:`${Gp(t)}/(${e.join("//")})`}}function C1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zp(t){return C1(t).replace(/%3B/gi,";")}function y_(t){return C1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wp(t){return decodeURIComponent(t)}function S1(t){return Wp(t.replace(/\+/g,"%20"))}function E1(t){return`${y_(t.path)}${function z3(t){return Object.keys(t).map(n=>`;${y_(n)}=${y_(t[n])}`).join("")}(t.parameters)}`}const q3=/^[^\/()?;=#]+/;function qp(t){const n=t.match(q3);return n?n[0]:""}const Z3=/^[^=?&#]+/,K3=/^[^&#]+/;class Q3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(r[On]=new Wn(n,e)),r}parseSegment(){const n=qp(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new R(4009,!1);return this.capture(n),new wd(Wp(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=qp(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=qp(this.remaining);o&&(r=o,this.capture(r))}n[Wp(e)]=Wp(r)}parseQueryParam(n){const e=function Y3(t){const n=t.match(Z3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const s=function X3(t){const n=t.match(K3);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=S1(e),i=S1(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=qp(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new R(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=On);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[On]:new Wn([],s),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new R(4011,!1)}}class D1{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=__(n,this._root);return e?e.children.map(r=>r.value):[]}firstChild(n){const e=__(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=v_(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return v_(n,this._root).map(e=>e.value)}}function __(t,n){if(t===n.value)return n;for(const e of n.children){const r=__(t,e);if(r)return r}return null}function v_(t,n){if(t===n.value)return[n];for(const e of n.children){const r=v_(t,e);if(r.length)return r.unshift(n),r}return[]}class Da{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jc(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class I1 extends D1{constructor(n,e){super(n),this.snapshot=e,b_(this,n)}toString(){return this.snapshot.toString()}}function M1(t,n){const e=function J3(t,n){const s=new Zp([],{},{},"",{},On,n,null,t.root,-1,{});return new T1("",new Da(s,[]))}(t,n),r=new qi([new wd("",{})]),o=new qi({}),i=new qi({}),s=new qi({}),a=new qi(""),c=new Ia(r,o,s,a,i,On,n,e.root);return c.snapshot=e.root,new I1(new Da(c,[]),e)}class Ia{constructor(n,e,r,o,i,s,a,c){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(at(n=>Qc(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(at(n=>Qc(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function k1(t,n="emptyOnly"){const e=t.pathFromRoot;let r=0;if("always"!==n)for(r=e.length-1;r>=1;){const o=e[r],i=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(i.component)break;r--}}return function e$(t){return t.reduce((n,e)=>{var r;return{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...null===(r=e.routeConfig)||void 0===r?void 0:r.data,...e._resolvedData}}},{params:{},data:{},resolve:{}})}(e.slice(r))}class Zp{constructor(n,e,r,o,i,s,a,c,f,g,y,E){this.url=n,this.params=e,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=f,this._lastPathIndex=g,this._correctedLastPathIndex=E??g,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Qc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Qc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class T1 extends D1{constructor(n,e){super(e),this.url=n,b_(this,e)}toString(){return x1(this._root)}}function b_(t,n){n.value._routerState=t,n.children.forEach(e=>b_(t,e))}function x1(t){const n=t.children.length>0?` { ${t.children.map(x1).join(", ")} } `:"";return`${t.value}${n}`}function w_(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,zs(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),zs(n.params,e.params)||t.params.next(e.params),function N3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!zs(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),zs(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function C_(t,n){const e=zs(t.params,n.params)&&function H3(t,n){return Ul(t,n)&&t.every((e,r)=>zs(e.parameters,n[r].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||C_(t.parent,n.parent))}function Sd(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=n.value;const o=function n$(t,n,e){return n.children.map(r=>{for(const o of e.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Sd(t,r,o);return Sd(t,r)})}(t,n,e);return new Da(r,o)}{if(t.shouldAttach(n.value)){const i=t.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Sd(t,a)),s}}const r=function r$(t){return new Ia(new qi(t.url),new qi(t.params),new qi(t.queryParams),new qi(t.fragment),new qi(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(i=>Sd(t,i));return new Da(r,o)}}function Yp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ed(t){return"object"==typeof t&&null!=t&&t.outlets}function E_(t,n,e,r,o){let i={};if(r&&Wo(r,(a,c)=>{i[c]=Array.isArray(a)?a.map(f=>`${f}`):`${a}`}),t===n)return new jl(e,i,o);const s=A1(t,n,e);return new jl(s,i,o)}function A1(t,n,e){const r={};return Wo(t.children,(o,i)=>{r[i]=o===n?e:A1(o,n,e)}),new Wn(t.segments,r)}class P1{constructor(n,e,r){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=r,n&&r.length>0&&Yp(r[0]))throw new R(4003,false);const o=r.find(Ed);if(o&&o!==m1(r))throw new R(4004,false)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class D_{constructor(n,e,r){this.segmentGroup=n,this.processChildren=e,this.index=r}}function R1(t,n,e){if(t||(t=new Wn([],{})),0===t.segments.length&&t.hasChildren())return Kp(t,n,e);const r=function c$(t,n,e){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=e.length)return i;const s=t.segments[o],a=e[r];if(Ed(a))break;const c=`${a}`,f=r<e.length-1?e[r+1]:null;if(o>0&&void 0===c)break;if(c&&f&&"object"==typeof f&&void 0===f.outlets){if(!O1(c,f,s))return i;r+=2}else{if(!O1(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,n,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new Wn(t.segments.slice(0,r.pathIndex),{});return i.children[On]=new Wn(t.segments.slice(r.pathIndex),t.children),Kp(i,0,o)}return r.match&&0===o.length?new Wn(t.segments,{}):r.match&&!t.hasChildren()?I_(t,n,e):r.match?Kp(t,0,o):I_(t,n,e)}function Kp(t,n,e){if(0===e.length)return new Wn(t.segments,{});{const r=function l$(t){return Ed(t[0])?t[0].outlets:{[On]:t}}(e),o={};return Wo(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(o[s]=R1(t.children[s],n,i))}),Wo(t.children,(i,s)=>{void 0===r[s]&&(o[s]=i)}),new Wn(t.segments,o)}}function I_(t,n,e){const r=t.segments.slice(0,n);let o=0;for(;o<e.length;){const i=e[o];if(Ed(i)){const c=u$(i.outlets);return new Wn(r,c)}if(0===o&&Yp(e[0])){r.push(new wd(t.segments[n].path,F1(e[0]))),o++;continue}const s=Ed(i)?i.outlets[On]:`${i}`,a=o<e.length-1?e[o+1]:null;s&&a&&Yp(a)?(r.push(new wd(s,F1(a))),o+=2):(r.push(new wd(s,{})),o++)}return new Wn(r,{})}function u$(t){const n={};return Wo(t,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[r]=I_(new Wn([],{}),0,e))}),n}function F1(t){const n={};return Wo(t,(e,r)=>n[r]=`${e}`),n}function O1(t,n,e){return t==e.path&&zs(n,e.parameters)}class d${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gl,this.attachRef=null}}class Gl{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const r=this.getOrCreateContext(n);r.outlet=e,this.contexts.set(n,r)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new d$,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}const Xp=!1;let N1=(()=>{class t{constructor(e,r,o,i,s){this.parentContexts=e,this.location=r,this.changeDetector=i,this.environmentInjector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new _n,this.deactivateEvents=new _n,this.attachEvents=new _n,this.detachEvents=new _n,this.name=o||On,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){var e;(null===(e=this.parentContexts.getContext(this.name))||void 0===e?void 0:e.outlet)===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new R(4012,Xp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new R(4012,Xp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new R(4012,Xp);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new R(4013,Xp);this._activatedRoute=e;const o=this.location,s=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new f$(e,a,o.injector);if(r&&function p$(t){return!!t.resolveComponentFactory}(r)){const f=r.resolveComponentFactory(s);this.activated=o.createComponent(f,o.length,c)}else this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(C(Gl),C(ci),Sl("name"),C(kt),C(kl))},t.\u0275dir=se({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class f${constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ia?this.route:n===Gl?this.childContexts:this.parent.get(n,e)}}let L1=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&pt(0,"router-outlet")},dependencies:[N1],encapsulation:2}),t})();function $1(t,n){var e;return t.providers&&!t._injector&&(t._injector=ep(t.providers,n,`Route: ${t.path}`)),null!==(e=t._injector)&&void 0!==e?e:n}function k_(t){const n=t.children&&t.children.map(k_),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==On&&(e.component=L1),e}function ps(t){return t.outlet||On}function B1(t,n){const e=t.filter(r=>ps(r)===n);return e.push(...t.filter(r=>ps(r)!==n)),e}function V1(t){var n;if(!t)return null;if(null!==(n=t.routeConfig)&&void 0!==n&&n._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const r=e.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class _${constructor(n,e,r,o){this.routeReuseStrategy=n,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(n){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,n),w_(this.futureState.root),this.activateChildRoutes(e,r,n)}deactivateChildRoutes(n,e,r){const o=Jc(e);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Wo(o,(i,s)=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,e,s.children)}else this.deactivateChildRoutes(n,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Jc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const r=e.getContext(n.value.outlet),o=r&&n.value.component?r.children:e,i=Jc(n);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,e,r){const o=Jc(e);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new A3(i.value.snapshot))}),n.children.length&&this.forwardEvent(new T3(n.value.snapshot))}activateRoutes(n,e,r){const o=n.value,i=e?e.value:null;if(w_(o),o===i)if(o.component){const a=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,a.children)}else this.activateChildRoutes(n,e,r);else if(o.component){const a=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),w_(c.route.value),this.activateChildRoutes(n,null,a.children)}else{var s;const c=V1(o.snapshot),f=null!==(s=c?.get(ca))&&void 0!==s?s:null;a.attachRef=null,a.route=o,a.resolver=f,a.injector=c,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(n,null,a.children)}}else this.activateChildRoutes(n,null,r)}}function Qp(t){return"function"==typeof t}function zl(t){return t instanceof jl}const Dd=Symbol("INITIAL_VALUE");function Id(){return Ni(t=>i1(t.map(n=>n.pipe(Zi(1),a1(Dd)))).pipe(l1((n,e)=>{let r=!1;return e.reduce((o,i,s)=>o!==Dd?o:(i===Dd&&(r=!0),r||!1!==i&&s!==e.length-1&&!zl(i)?o:i),n)},Dd),Go(n=>n!==Dd),at(n=>zl(n)?n:!0===n),Zi(1)))}const H1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jp(t,n,e){var r;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...H1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(n.matcher||O3)(e,t,n);if(!i)return{...H1};const s={};Wo(i.posParams,(c,f)=>{s[f]=c.path});const a=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function eh(t,n,e,r,o="corrected"){if(e.length>0&&function I$(t,n,e){return e.some(r=>th(t,n,r)&&ps(r)!==On)}(t,e,r)){const s=new Wn(n,function D$(t,n,e,r){const o={};o[On]=r,r._sourceSegment=t,r._segmentIndexShift=n.length;for(const i of e)if(""===i.path&&ps(i)!==On){const s=new Wn([],{});s._sourceSegment=t,s._segmentIndexShift=n.length,o[ps(i)]=s}return o}(t,n,r,new Wn(e,t.children)));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function M$(t,n,e){return e.some(r=>th(t,n,r))}(t,e,r)){const s=new Wn(t.segments,function E$(t,n,e,r,o,i){const s={};for(const a of r)if(th(t,e,a)&&!o[ps(a)]){const c=new Wn([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===i?t.segments.length:n.length,s[ps(a)]=c}return{...o,...s}}(t,n,e,r,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}const i=new Wn(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=n.length,{segmentGroup:i,slicedSegments:e}}function th(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function j1(t,n,e,r){return!!(ps(t)===r||r!==On&&th(n,e,t))&&("**"===t.path||Jp(n,t,e).matched)}function U1(t,n,e){return 0===n.length&&!t.children[e]}const nh=!1;class rh{constructor(n){this.segmentGroup=n||null}}class G1{constructor(n){this.urlTree=n}}function Md(t){return Xc(new rh(t))}function z1(t){return Xc(new G1(t))}class A${constructor(n,e,r,o,i){this.injector=n,this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=i,this.allowRedirects=!0}apply(){const n=eh(this.urlTree.root,[],[],this.config).segmentGroup,e=new Wn(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,e,On).pipe(at(i=>this.createUrlTree(T_(i),this.urlTree.queryParams,this.urlTree.fragment))).pipe(el(i=>{if(i instanceof G1)return this.allowRedirects=!1,this.match(i.urlTree);throw i instanceof rh?this.noMatchError(i):i}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,On).pipe(at(o=>this.createUrlTree(T_(o),n.queryParams,n.fragment))).pipe(el(o=>{throw o instanceof rh?this.noMatchError(o):o}))}noMatchError(n){return new R(4002,nh)}createUrlTree(n,e,r){const o=n.segments.length>0?new Wn([],{[On]:n}):n;return new jl(o,e,r)}expandSegmentGroup(n,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,e,r).pipe(at(i=>new Wn([],i))):this.expandSegment(n,r,e,r.segments,o,!0)}expandChildren(n,e,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return qn(o).pipe(Zc(i=>{const s=r.children[i],a=B1(e,i);return this.expandSegmentGroup(n,a,s,i).pipe(at(c=>({segment:c,outlet:i})))}),l1((i,s)=>(i[s.outlet]=s.segment,i),{}),function b3(t,n){const e=arguments.length>=2;return r=>r.pipe(t?Go((o,i)=>t(o,i,r)):X,c_(1),e?u_(n):c1(()=>new vd))}())}expandSegment(n,e,r,o,i,s){return qn(r).pipe(Zc(a=>this.expandSegmentAgainstRoute(n,e,r,a,o,i,s).pipe(el(f=>{if(f instanceof rh)return wn(null);throw f}))),tl(a=>!!a),el((a,c)=>{if(a instanceof vd||"EmptyError"===a.name)return U1(e,o,i)?wn(new Wn([],{})):Md(e);throw a}))}expandSegmentAgainstRoute(n,e,r,o,i,s,a){return j1(o,e,i,s)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(n,e,o,i,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s):Md(e):Md(e)}expandSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,o,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,r,o){const i=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?z1(i):this.lineralizeSegments(r,i).pipe(Kt(s=>{const a=new Wn(s,{});return this.expandSegment(n,a,e,s,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,r,o,i,s){const{matched:a,consumedSegments:c,remainingSegments:f,positionalParamSegments:g}=Jp(e,o,i);if(!a)return Md(e);const y=this.applyRedirectCommands(c,o.redirectTo,g);return o.redirectTo.startsWith("/")?z1(y):this.lineralizeSegments(o,y).pipe(Kt(E=>this.expandSegment(n,e,r,E.concat(f),s,!1)))}matchSegmentAgainstRoute(n,e,r,o,i){if("**"===r.path)return n=$1(r,n),r.loadChildren?(r._loadedRoutes?wn({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(at(y=>(r._loadedRoutes=y.routes,r._loadedInjector=y.injector,new Wn(o,{})))):wn(new Wn(o,{}));const{matched:s,consumedSegments:a,remainingSegments:c}=Jp(e,r,o);return s?(n=$1(r,n),this.getChildConfig(n,r,o).pipe(Kt(g=>{var y;const E=null!==(y=g.injector)&&void 0!==y?y:n,A=g.routes,{segmentGroup:J,slicedSegments:xe}=eh(e,a,c,A),Xe=new Wn(J.segments,J.children);if(0===xe.length&&Xe.hasChildren())return this.expandChildren(E,A,Xe).pipe(at(ht=>new Wn(a,ht)));if(0===A.length&&0===xe.length)return wn(new Wn(a,{}));const Ge=ps(r)===i;return this.expandSegment(E,Xe,A,xe,Ge?On:i,!0).pipe(at(et=>new Wn(a.concat(et.segments),et.children)))}))):Md(e)}getChildConfig(n,e,r){return e.children?wn({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?wn({routes:e._loadedRoutes,injector:e._loadedInjector}):this.runCanLoadGuards(n,e,r).pipe(Kt(o=>o?this.configLoader.loadChildren(n,e).pipe(zo(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):function T$(t){return Xc(h_(nh))}())):wn({routes:[],injector:n})}runCanLoadGuards(n,e,r){const o=e.canLoad;return o&&0!==o.length?wn(o.map(s=>{const a=n.get(s);return nl(function b$(t){return t&&Qp(t.canLoad)}(a)?a.canLoad(e,r):a(e,r))})).pipe(Id(),zo(s=>{if(!zl(s))return;const a=h_(p_+this.urlSerializer.serialize(s));throw a.url=s,a}),at(s=>!0===s)):wn(!0)}lineralizeSegments(n,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return wn(r);if(o.numberOfChildren>1||!o.children[On])return Xc(new R(4e3,nh));o=o.children[On]}}applyRedirectCommands(n,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,r)}applyRedirectCreatreUrlTree(n,e,r,o){const i=this.createSegmentGroup(n,e.root,r,o);return new jl(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const r={};return Wo(n,(o,i)=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=e[a]}else r[i]=o}),r}createSegmentGroup(n,e,r,o){const i=this.createSegments(n,e.segments,r,o);let s={};return Wo(e.children,(a,c)=>{s[c]=this.createSegmentGroup(n,a,r,o)}),new Wn(i,s)}createSegments(n,e,r,o){return e.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,e,r){const o=r[e.path.substring(1)];if(!o)throw new R(4001,nh);return o}findOrReturn(n,e){let r=0;for(const o of e){if(o.path===n.path)return e.splice(r),o;r++}return n}}function T_(t){const n={};for(const r of Object.keys(t.children)){const i=T_(t.children[r]);(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function P$(t){if(1===t.numberOfChildren&&t.children[On]){const n=t.children[On];return new Wn(t.segments.concat(n.segments),n.children)}return t}(new Wn(t.segments,n))}class W1{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class oh{constructor(n,e){this.component=n,this.route=e}}function F$(t,n,e){const r=t._root;return kd(r,n?n._root:null,e,[r.value])}function ih(t,n,e){return(V1(n)??e).get(t)}function kd(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Jc(n);return t.children.forEach(s=>{(function N$(t,n,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function L$(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Ul(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Ul(t.url,n.url)||!zs(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!C_(t,n)||!zs(t.queryParams,n.queryParams);default:return!C_(t,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new W1(r)):(i.data=s.data,i._resolvedData=s._resolvedData),kd(t,n,i.component?a?a.children:null:e,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new oh(a.outlet.component,s))}else s&&Td(n,a,o),o.canActivateChecks.push(new W1(r)),kd(t,null,i.component?a?a.children:null:e,r,o)})(s,i[s.value.outlet],e,r.concat([s.value]),o),delete i[s.value.outlet]}),Wo(i,(s,a)=>Td(s,e.getContext(a),o)),o}function Td(t,n,e){const r=Jc(t),o=t.value;Wo(r,(i,s)=>{Td(i,o.component?n?n.children.getContext(s):null:n,e)}),e.canDeactivateChecks.push(new oh(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}class W${}function q1(t){return new _t(n=>n.error(t))}class Z${constructor(n,e,r,o,i,s){this.rootComponentType=n,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const n=eh(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,On);if(null===e)return null;const r=new Zp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},On,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Da(r,e),i=new T1(this.url,o);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(n){const e=n.value,r=k1(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,r)}processChildren(n,e){const r=[];for(const i of Object.keys(e.children)){const s=e.children[i],a=B1(n,i),c=this.processSegmentGroup(a,s,i);if(null===c)return null;r.push(...c)}const o=Z1(r);return function Y$(t){t.sort((n,e)=>n.value.outlet===On?-1:e.value.outlet===On?1:n.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(n,e,r,o){for(const i of n){const s=this.processSegmentAgainstRoute(i,e,r,o);if(null!==s)return s}return U1(e,r,o)?[]:null}processSegmentAgainstRoute(n,e,r,o){if(n.redirectTo||!j1(n,e,r,o))return null;let i,s=[],a=[];if("**"===n.path){var c,f;const Ge=r.length>0?m1(r).parameters:{},yt=K1(e)+r.length;i=new Zp(r,Ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Q1(n),ps(n),null!==(c=null!==(f=n.component)&&void 0!==f?f:n._loadedComponent)&&void 0!==c?c:null,n,Y1(e),yt,J1(n),yt)}else{var g,y;const Ge=Jp(e,n,r);if(!Ge.matched)return null;s=Ge.consumedSegments,a=Ge.remainingSegments;const yt=K1(e)+s.length;i=new Zp(s,Ge.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Q1(n),ps(n),null!==(g=null!==(y=n.component)&&void 0!==y?y:n._loadedComponent)&&void 0!==g?g:null,n,Y1(e),yt,J1(n),yt)}const E=function K$(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:A,slicedSegments:J}=eh(e,s,a,E.filter(Ge=>void 0===Ge.redirectTo),this.relativeLinkResolution);if(0===J.length&&A.hasChildren()){const Ge=this.processChildren(E,A);return null===Ge?null:[new Da(i,Ge)]}if(0===E.length&&0===J.length)return[new Da(i,[])];const xe=ps(n)===o,Xe=this.processSegment(E,A,J,xe?On:o);return null===Xe?null:[new Da(i,Xe)]}}function X$(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Z1(t){const n=[],e=new Set;for(const r of t){if(!X$(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):n.push(r)}for(const r of e){const o=Z1(r.children);n.push(new Da(r.value,o))}return n.filter(r=>!e.has(r))}function Y1(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function K1(t){var n;let e=t,r=null!==(n=e._segmentIndexShift)&&void 0!==n?n:0;for(;e._sourceSegment;){var o;e=e._sourceSegment,r+=null!==(o=e._segmentIndexShift)&&void 0!==o?o:0}return r-1}function Q1(t){return t.data||{}}function J1(t){return t.resolve||{}}const A_=Symbol("RouteTitle");function eI(t){return"string"==typeof t.title||null===t.title}function P_(t){return Ni(n=>{const e=t(n);return e?qn(e).pipe(at(()=>n)):wn(n)})}class tI{}class i4 extends class o4{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const R_=new dn("ROUTES");let F_=(()=>{class t{constructor(e,r){this.injector=e,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return wn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=nl(e.loadComponent()).pipe(zo(i=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=i}),f_(()=>{this.componentLoaders.delete(e)})),o=new l_(r,()=>new W).pipe(a_());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return wn({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(at(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,f,g=!1;Array.isArray(a)?f=a:(c=a.create(e).injector,f=h1(c.get(R_,[],Zt.Self|Zt.Optional)));return{routes:f.map(k_),injector:c}}),f_(()=>{this.childrenLoaders.delete(r)})),s=new l_(i,()=>new W).pipe(a_());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(e){return nl(e()).pipe(Kt(r=>r instanceof kC||Array.isArray(r)?wn(r):qn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(e){return new(e||t)(we(br),we(Kg))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();class a4{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function l4(t){throw t}function c4(t,n,e){return n.parse("/")}const u4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},d4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class t{constructor(e,r,o,i,s,a,c){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new W,this.errorHandler=l4,this.malformedUriErrorHandler=c4,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>wn(void 0),this.urlHandlingStrategy=new a4,this.routeReuseStrategy=new i4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=s.get(F_),this.configLoader.onLoadEndListener=E=>this.triggerEvent(new M3(E)),this.configLoader.onLoadStartListener=E=>this.triggerEvent(new I3(E)),this.ngModule=s.get(Wa),this.console=s.get(tF);const y=s.get(ft);this.isNgZoneEnabled=y instanceof ft&&ft.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function L3(){return new jl(new Wn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=M1(this.currentUrlTree,this.rootComponentType),this.transitions=new qi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Go(o=>0!==o.id),at(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ni(o=>{let i=!1,s=!1;return wn(o).pipe(zo(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ni(a=>{const c=this.browserUrlTree.toString(),f=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||f)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return oI(a.source)&&(this.browserUrlTree=a.extractedUrl),wn(a).pipe(Ni(y=>{const E=this.transitions.getValue();return r.next(new Hp(y.id,this.serializeUrl(y.extractedUrl),y.source,y.restoredState)),E!==this.transitions.getValue()?ir:Promise.resolve(y)}),function R$(t,n,e,r){return Ni(o=>function x$(t,n,e,r,o){return new A$(t,n,e,r,o).apply()}(t,n,e,o.extractedUrl,r).pipe(at(i=>({...o,urlAfterRedirects:i}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),zo(y=>{this.currentNavigation={...this.currentNavigation,finalUrl:y.urlAfterRedirects}}),function Q$(t,n,e,r,o){return Kt(i=>function q$(t,n,e,r,o="emptyOnly",i="legacy"){try{const s=new Z$(t,n,e,r,o,i).recognize();return null===s?q1(new W$):wn(s)}catch(s){return q1(s)}}(t,n,i.urlAfterRedirects,e(i.urlAfterRedirects),r,o).pipe(at(s=>({...i,targetSnapshot:s}))))}(this.rootComponentType,this.config,y=>this.serializeUrl(y),this.paramsInheritanceStrategy,this.relativeLinkResolution),zo(y=>{if("eager"===this.urlUpdateStrategy){if(!y.extras.skipLocationChange){const A=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl);this.setBrowserUrl(A,y)}this.browserUrlTree=y.urlAfterRedirects}const E=new w3(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);r.next(E)}));if(f&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:A,source:J,restoredState:xe,extras:Xe}=a,Ge=new Hp(E,this.serializeUrl(A),J,xe);r.next(Ge);const yt=M1(A,this.rootComponentType).snapshot;return wn({...a,targetSnapshot:yt,urlAfterRedirects:A,extras:{...Xe,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ir}),zo(a=>{const c=new C3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),at(a=>({...a,guards:F$(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function $$(t,n){return Kt(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=e;return 0===s.length&&0===i.length?wn({...e,guardsResult:!0}):function B$(t,n,e,r){return qn(t).pipe(Kt(o=>function z$(t,n,e,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?wn(i.map(a=>{const c=ih(a,n,o);return nl(function S$(t){return t&&Qp(t.canDeactivate)}(c)?c.canDeactivate(t,n,e,r):c(t,n,e,r)).pipe(tl())})).pipe(Id()):wn(!0)}(o.component,o.route,e,n,r)),tl(o=>!0!==o,!0))}(s,r,o,t).pipe(Kt(a=>a&&function v$(t){return"boolean"==typeof t}(a)?function V$(t,n,e,r){return qn(n).pipe(Zc(o=>bd(function j$(t,n){return null!==t&&n&&n(new k3(t)),wn(!0)}(o.route.parent,r),function H$(t,n){return null!==t&&n&&n(new x3(t)),wn(!0)}(o.route,r),function G$(t,n,e){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function O$(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Vp(()=>wn(s.guards.map(c=>{const f=ih(c,s.node,e);return nl(function C$(t){return t&&Qp(t.canActivateChild)}(f)?f.canActivateChild(r,t):f(r,t)).pipe(tl())})).pipe(Id())));return wn(i).pipe(Id())}(t,o.path,e),function U$(t,n,e){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return wn(!0);const o=r.map(i=>Vp(()=>{const s=ih(i,n,e);return nl(function w$(t){return t&&Qp(t.canActivate)}(s)?s.canActivate(n,t):s(n,t)).pipe(tl())}));return wn(o).pipe(Id())}(t,o.route,e))),tl(o=>!0!==o,!0))}(r,i,t,n):wn(a)),at(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),zo(a=>{if(zl(a.guardsResult)){const f=h_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw f.url=a.guardsResult,f}const c=new S3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),Go(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),P_(a=>{if(a.guards.canActivateChecks.length)return wn(a).pipe(zo(c=>{const f=new E3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}),Ni(c=>{let f=!1;return wn(c).pipe(function J$(t,n){return Kt(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return wn(e);let i=0;return qn(o).pipe(Zc(s=>function e4(t,n,e,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!eI(o)&&(i[A_]=o.title),function t4(t,n,e,r){const o=function n4(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return wn({});const i={};return qn(o).pipe(Kt(s=>function r4(t,n,e,r){const o=ih(t,n,r);return nl(o.resolve?o.resolve(n,e):o(n,e))}(t[s],n,e,r).pipe(tl(),zo(a=>{i[s]=a}))),c_(1),d_(i),el(s=>s instanceof vd?ir:Xc(s)))}(i,t,n,r).pipe(at(s=>(t._resolvedData=s,t.data=k1(t,e).resolve,o&&eI(o)&&(t.data[A_]=o.title),null)))}(s.route,r,t,n)),zo(()=>i++),c_(1),Kt(s=>i===o.length?wn(e):ir))})}(this.paramsInheritanceStrategy,this.ngModule.injector),zo({next:()=>f=!0,complete:()=>{f||(this.restoreHistory(c),this.cancelNavigationTransition(c,"At least one route resolver didn't emit any value."))}}))}),zo(c=>{const f=new D3(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(f)}))}),P_(a=>{const c=f=>{var g;const y=[];null!==(g=f.routeConfig)&&void 0!==g&&g.loadComponent&&!f.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(f.routeConfig).pipe(zo(E=>{f.component=E}),at(()=>{})));for(const E of f.children)y.push(...c(E));return y};return i1(c(a.targetSnapshot.root)).pipe(u_(),Zi(1))}),P_(()=>this.afterPreactivation()),at(a=>{const c=function t$(t,n,e){const r=Sd(t,n._root,e?e._root:void 0);return new I1(r,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:c}}),zo(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>at(r=>(new _$(n,r.targetRouterState,r.currentRouterState,e).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),zo({next(){i=!0},complete(){i=!0}}),f_(()=>{var a;i||s||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===o.id&&(this.currentNavigation=null)}),el(a=>{if(s=!0,function F3(t){return t&&t[f1]}(a)){const c=zl(a.url);c||(this.navigated=!0,this.restoreHistory(o,!0));const f=new jp(o.id,this.serializeUrl(o.extractedUrl),a.message);if(r.next(f),c){const g=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),y={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||oI(o.source)};this.scheduleNavigation(g,"imperative",null,y,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const c=new u1(o.id,this.serializeUrl(o.extractedUrl),a);r.next(c);try{o.resolve(this.errorHandler(a))}catch(f){o.reject(f)}}return ir}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const i={replaceUrl:!0},s=null!==(o=e.state)&&void 0!==o&&o.navigationId?e.state:null;if(s){const c={...s};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(k_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,f=o||this.routerState.root,g=c?this.currentUrlTree.fragment:s;let y=null;switch(a){case"merge":y={...this.currentUrlTree.queryParams,...i};break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=i||null}return null!==y&&(y=this.removeEmptyProps(y)),function o$(t,n,e,r,o){var i;if(0===e.length)return E_(n.root,n.root,n.root,r,o);const s=function i$(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new P1(!0,0,t);let n=0,e=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Wo(i.outlets,(c,f)=>{a[f]="string"==typeof c?c.split("/"):c}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new P1(e,n,r)}(e);if(s.toRoot())return E_(n.root,n.root,new Wn([],{}),r,o);const c=function a(g){var y;const E=function s$(t,n,e,r){return t.isAbsolute?new D_(n.root,!0,0):-1===r?new D_(e,e===n.root,0):function a$(t,n,e){let r=t,o=n,i=e;for(;i>o;){if(i-=o,r=r.parent,!r)throw new R(4005,!1);o=r.segments.length}return new D_(r,!1,o-i)}(e,r+(Yp(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,n,null===(y=t.snapshot)||void 0===y?void 0:y._urlSegment,g),A=E.processChildren?Kp(E.segmentGroup,E.index,s.commands):R1(E.segmentGroup,E.index,s.commands);return E_(n.root,E.segmentGroup,A,r,o)}(null===(i=t.snapshot)||void 0===i?void 0:i._lastPathIndex);return c}(f,this.currentUrlTree,e,y,g??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=zl(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function f4(t){for(let n=0;n<t.length;n++){if(null==t[n])throw new R(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?{...u4}:!1===r?{...d4}:r,zl(e))return y1(this.currentUrlTree,e,o);const i=this.parseUrl(e);return y1(this.currentUrlTree,i,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const i=e[o];return null!=i&&(r[o]=i),r},{})}processNavigations(){this.navigations.subscribe(e=>{var r;this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Hl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,null===(r=this.titleStrategy)||void 0===r||r.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,f;s?(a=s.resolve,c=s.reject,f=s.promise):f=new Promise((J,xe)=>{a=J,c=xe});const g=++this.navigationId;let y;if("computed"===this.canceledNavigationResolution)if(0===this.currentPageId&&(o=this.location.getState()),o&&o.\u0275routerPageId)y=o.\u0275routerPageId;else if(i.replaceUrl||i.skipLocationChange){var E;y=null!==(E=this.browserPageId)&&void 0!==E?E:0}else{var A;y=(null!==(A=this.browserPageId)&&void 0!==A?A:0)+1}else y=0;return this.setTransition({id:g,targetPageId:y,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:a,reject:c,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(J=>Promise.reject(J))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),i={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",i):this.location.go(o,"",i)}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){var o,i;const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===s?this.currentUrlTree===(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new jp(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return t.\u0275fac=function(e){Ym()},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();function oI(t){return"imperative"!==t}class iI{buildTitle(n){let e,r=n.root;for(;void 0!==r;){var o;e=null!==(o=this.getResolvedTitleForRoute(r))&&void 0!==o?o:e,r=r.children.find(i=>i.outlet===On)}return e}getResolvedTitleForRoute(n){return n.data[A_]}}let m4=(()=>{class t extends iI{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(e){return new(e||t)(we(FE))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class sI{}let g4=(()=>{class t{preload(e,r){return r().pipe(el(()=>wn(null)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aI=(()=>{class t{constructor(e,r,o,i,s){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Go(e=>e instanceof Hl),Zc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r){var i,s;c.providers&&!c._injector&&(c._injector=ep(c.providers,e,`Route: ${c.path}`));const f=null!==(i=c._injector)&&void 0!==i?i:e,g=null!==(s=c._loadedInjector)&&void 0!==s?s:f;if(c.loadChildren&&!c._loadedRoutes||c.loadComponent&&!c._loadedComponent)o.push(this.preloadConfig(f,c));else if(c.children||c._loadedRoutes){var a;o.push(this.processRoutes(g,null!==(a=c.children)&&void 0!==a?a:c._loadedRoutes))}}return qn(o).pipe(oo())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):wn(null);const i=o.pipe(Kt(s=>{var a;return null===s?wn(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(null!==(a=s.injector)&&void 0!==a?a:e,s.routes))}));return r.loadComponent&&!r._loadedComponent?qn([i,this.loader.loadComponent(r)]).pipe(oo()):i})}}return t.\u0275fac=function(e){return new(e||t)(we(Wr),we(Kg),we(kl),we(sI),we(F_))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const lI=new dn("");let y4=(()=>{class t{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Hl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof d1&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new d1(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Ym()},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const N_=new dn("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),cI=new dn("ROUTER_FORROOT_GUARD"),uI=new dn(""),_4=[ld,{provide:g_,useClass:w1},{provide:Wr,useFactory:function E4(t,n,e,r,o,i,s={},a,c,f,g){const y=new Wr(null,t,n,e,r,o,h1(i));return f&&(y.urlHandlingStrategy=f),g&&(y.routeReuseStrategy=g),y.titleStrategy=c??a,function D4(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(s,y),y},deps:[g_,Gl,ld,br,Kg,R_,N_,m4,[iI,new Ua],[class s4{},new Ua],[tI,new Ua]]},Gl,{provide:Ia,useFactory:function I4(t){return t.routerState.root},deps:[Wr]},F_];function v4(){return new DS("Router",Wr)}let sh=(()=>{class t{constructor(e,r){}static forRoot(e,r){return{ngModule:t,providers:[_4,[],dI(e),{provide:cI,useFactory:S4,deps:[[Wr,new Ua,new Pu]]},{provide:N_,useValue:r||{}},null!=r&&r.useHash?{provide:Us,useClass:KS}:{provide:Us,useClass:YS},{provide:lI,useFactory:()=>{const t=El(Wr),n=El(iN),e=El(N_);return e.scrollOffset&&n.setOffset(e.scrollOffset),new y4(t,n,e)}},null!=r&&r.preloadingStrategy?R4(r.preloadingStrategy):[],{provide:DS,multi:!0,useFactory:v4},null!=r&&r.initialNavigation?k4(r):[],[{provide:fI,useFactory:M4},{provide:_S,multi:!0,useExisting:fI}]]}}static forChild(e){return{ngModule:t,providers:[dI(e)]}}}return t.\u0275fac=function(e){return new(e||t)(we(cI,8),we(Wr,8))},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({}),t})();function S4(t){return"guarded"}function dI(t){return[{provide:hk,multi:!0,useValue:t},{provide:R_,multi:!0,useValue:t}]}function M4(){const t=El(br);return n=>{var e,r;const o=t.get(Za);if(n!==o.components[0])return;const i=t.get(Wr),s=t.get(pI);null===t.get(L_,null,Zt.Optional)&&i.initialNavigation(),null===(e=t.get(uI,null,Zt.Optional))||void 0===e||e.setUpPreloading(),null===(r=t.get(lI,null,Zt.Optional))||void 0===r||r.init(),i.resetRootComponentType(o.componentTypes[0]),s.next(),s.complete()}}const fI=new dn("");function k4(t){return["disabled"===t.initialNavigation?[{provide:Pl,multi:!0,useFactory:()=>{const t=El(Wr);return()=>{t.setUpLocationChangeListener()}}},{provide:L_,useValue:"disabled"}]:[],"enabledBlocking"===t.initialNavigation?[{provide:L_,useValue:"enabledBlocking"},{provide:Pl,multi:!0,deps:[br],useFactory:t=>{const n=t.get(jF,Promise.resolve(null));let e=!1;return()=>n.then(()=>new Promise(o=>{const i=t.get(Wr),s=t.get(pI);(function r(o){const i=t.get(Wr);i.events.pipe(Go(s=>s instanceof Hl||s instanceof jp||s instanceof u1),at(s=>{if(s instanceof Hl)return!0;const a=i.navigationId!==s.id,c=s instanceof jp&&-1!==s.reason.indexOf(p_);return!(!a&&!c)&&null}),Go(s=>null!==s),Zi(1)).subscribe(()=>{o()})})(()=>{o(!0),e=!0}),i.afterPreactivation=()=>(o(!0),e||s.closed?wn(void 0):s),i.initialNavigation()}))}}]:[]]}const pI=new dn("",{factory:()=>new W}),L_=new dn("");function R4(t){return[aI,{provide:uI,useExisting:aI},{provide:sI,useExisting:t}]}F(5794),F(932),F(2172);var $_=F(537),eu=F(9158),Ad=F(4736),Pd=(F(9506),F(9703)),hI=(F(607),F(9479));function gI(t,n=X){return t=t??O4,$e((e,r)=>{let o,i=!0;e.subscribe(ct(r,s=>{const a=n(s);(i||!t(o,a))&&(i=!1,o=a,r.next(s))}))})}function O4(t,n){return t===n}const L4=$_.i,Ot=["*"],V4=["outlet"],H4=[[["","slot","top"]],"*"],j4=["[slot=top]","*"],yI=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t),_I=t=>!!t.resolveComponentFactory;let Rd=(()=>{class t{constructor(e,r){this.injector=e,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=e??"",tu(this.el)}handleChangeEvent(e,r){e===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),tu(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),tu(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(wa)}catch{}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>tu(this.el)));const r=e.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(i=>{if(typeof r[i]<"u"){const s=r[i].bind(r);r[i]=(...a)=>{s(...a),tu(this.el)}}})}}return t.\u0275fac=function(e){return new(e||t)(C(br),C(vt))},t.\u0275dir=se({type:t,hostBindings:function(e,r){1&e&&lt("ionBlur",function(i){return r._handleBlurEvent(i.target)})}}),t})();const tu=t=>{yI(()=>{const n=t.nativeElement,e=null!=n.value&&n.value.toString().length>0,r=z4(n);B_(n,r);const o=n.closest("ion-item");o&&B_(o,e?[...r,"item-has-value"]:r)})},z4=t=>{const n=t.classList,e=[];for(let r=0;r<n.length;r++){const o=n.item(r);null!==o&&W4(o,"ng-")&&e.push(`ion-${o.substring(3)}`)}return e},B_=(t,n)=>{const e=t.classList;e.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),e.add(...n)},W4=(t,n)=>t.substring(0,n.length)===n;let Fd=(()=>{class t extends Rd{constructor(e,r){super(e,r)}writeValue(e){this.el.nativeElement.checked=this.lastValue=e??!1,tu(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}}return t.\u0275fac=function(e){return new(e||t)(C(br),C(vt))},t.\u0275dir=se({type:t,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,r){1&e&&lt("ionChange",function(i){return r._handleIonChange(i.target)})},features:[yr([{provide:_i,useExisting:t,multi:!0}]),Xn]}),t})(),Od=(()=>{class t extends Rd{constructor(e,r){super(e,r)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(br),C(vt))},t.\u0275dir=se({type:t,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,r){1&e&&lt("ionChange",function(i){return r._handleChangeEvent(i.target)})},features:[yr([{provide:_i,useExisting:t,multi:!0}]),Xn]}),t})(),Wl=(()=>{class t extends Rd{constructor(e,r){super(e,r)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}}return t.\u0275fac=function(e){return new(e||t)(C(br),C(vt))},t.\u0275dir=se({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,r){1&e&&lt("ionChange",function(i){return r._handleInputEvent(i.target)})},features:[yr([{provide:_i,useExisting:t,multi:!0}]),Xn]}),t})();const Y4=(t,n)=>{const e=t.prototype;n.forEach(r=>{Object.defineProperty(e,r,{get(){return this.el[r]},set(o){this.z.runOutsideAngular(()=>this.el[r]=o)}})})},K4=(t,n)=>{const e=t.prototype;n.forEach(r=>{e[r]=function(){const o=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,o))}})},lr=(t,n,e)=>{e.forEach(r=>t[r]=_d(n,r))};function Pt(t){return function(e){const{defineCustomElementFn:r,inputs:o,methods:i}=t;return void 0!==r&&r(),o&&Y4(e,o),i&&K4(e,i),e}}let vI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-app"]],ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0})],t),t})(),bI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],t),t})(),Yi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,lr(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),Ki=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["collapse"]})],t),t})(),Xi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,lr(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),Qi=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],t),t})(),qo=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),ql=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,lr(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],t),t})(),Zo=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),ah=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],t),t})(),lh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,lr(this,this.el,["ionSwipe"])}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["side"]})],t),t})(),ch=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,lr(this,this.el,["ionDrag"])}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],t),t})(),Ji=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],t),t})(),Ws=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),wI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,lr(this,this.el,["ionNavWillChange","ionNavDidChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-nav"]],inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})(),V_=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-range"]],inputs:{color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],t),t})(),uh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],t),t})(),dh=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],t),t})(),Nd=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-spinner"]],inputs:{color:"color",duration:"duration",name:"name",paused:"paused"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","duration","name","paused"]})],t),t})(),H_=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","mode","selectedTab","translucent"]})],t),t})(),CI=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],t),t})(),es=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","size"]})],t),t})(),Ld=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement,lr(this,this.el,["ionChange","ionFocus","ionBlur"])}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],t),t})(),ts=(()=>{let t=class{constructor(e,r,o){this.z=o,e.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(e){return new(e||t)(C(kt),C(vt),C(ft))},t.\u0275cmp=m({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ot,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2,changeDetection:0}),t=ue([Pt({defineCustomElementFn:void 0,inputs:["color","mode"]})],t),t})();class SI{constructor(n={}){this.data=n}get(n){return this.data[n]}}let fh=(()=>{class t{constructor(e,r){this.zone=e,this.appRef=r}create(e,r,o){return new ZB(e,r,o,this.appRef,this.zone)}}return t.\u0275fac=function(e){return new(e||t)(we(ft),we(Za))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();class ZB{constructor(n,e,r,o,i){this.resolverOrInjector=n,this.injector=e,this.location=r,this.appRef=o,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(n,e,r,o){return this.zone.run(()=>new Promise(i=>{i(YB(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,n,e,r,o))}))}removeViewFromDom(n,e){return this.zone.run(()=>new Promise(r=>{const o=this.elRefMap.get(e);if(o){o.destroy(),this.elRefMap.delete(e);const i=this.elEventsMap.get(e);i&&(i(),this.elEventsMap.delete(e))}r()}))}}const YB=(t,n,e,r,o,i,s,a,c,f,g)=>{let y;const E=br.create({providers:XB(f),parent:e});if(n&&_I(n)){const Xe=n.resolveComponentFactory(c);y=r?r.createComponent(Xe,r.length,E):Xe.create(E)}else{if(!r)return null;y=r.createComponent(c,{index:r.indexOf,injector:E,environmentInjector:n})}const A=y.instance,J=y.location.nativeElement;if(f&&Object.assign(A,f),g)for(const Xe of g)J.classList.add(Xe);const xe=EI(t,A,J);return a.appendChild(J),r||o.attachView(y.hostView),y.changeDetectorRef.reattach(),i.set(J,y),s.set(J,xe),J},KB=[Ad.L,Ad.a,Ad.b,Ad.c,Ad.d],EI=(t,n,e)=>t.run(()=>{const r=KB.filter(o=>"function"==typeof n[o]).map(o=>{const i=s=>n[o](s.detail);return e.addEventListener(o,i),()=>e.removeEventListener(o,i)});return()=>r.forEach(o=>o())}),DI=new dn("NavParamsToken"),XB=t=>[{provide:DI,useValue:t},{provide:SI,useFactory:QB,deps:[DI]}],QB=t=>new SI(t),II=(t,n)=>((t=t.filter(e=>e.stackId!==n.stackId)).push(n),t),j_=(t,n)=>{const e=t.createUrlTree(["."],{relativeTo:n});return t.serializeUrl(e)},rV=(t,n)=>{if(!t)return;const e=MI(n);for(let r=0;r<e.length;r++){if(r>=t.length)return e[r];if(e[r]!==t[r])return}},MI=t=>t.split("/").map(n=>n.trim()).filter(n=>""!==n),kI=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class oV{constructor(n,e,r,o,i,s){this.containerEl=e,this.router=r,this.navCtrl=o,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==n?MI(n):void 0}createView(n,e){var r;const o=j_(this.router,e),i=null===(r=n?.location)||void 0===r?void 0:r.nativeElement,s=EI(this.zone,n.instance,i);return{id:this.nextId++,stackId:rV(this.tabsPrefix,o),unlistenEvents:s,element:i,ref:n,url:o}}getExistingView(n){const e=j_(this.router,n),r=this.views.find(o=>o.url===e);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(n){var e,r;const o=this.navCtrl.consumeTransition();let{direction:i,animation:s,animationBuilder:a}=o;const c=this.activeView,f=((t,n)=>!n||t.stackId!==n.stackId)(n,c);f&&(i="back",s=void 0);const g=this.views.slice();let y;const E=this.router;E.getCurrentNavigation?y=E.getCurrentNavigation():!(null===(e=E.navigations)||void 0===e)&&e.value&&(y=E.navigations.value),null!==(r=y?.extras)&&void 0!==r&&r.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const A=this.views.includes(n),J=this.insertView(n,i);A||n.ref.changeDetectorRef.detectChanges();const xe=n.animationBuilder;return void 0===a&&"back"===i&&!f&&void 0!==xe&&(a=xe),c&&(c.animationBuilder=a),this.zone.runOutsideAngular(()=>this.wait(()=>(c&&c.ref.changeDetectorRef.detach(),n.ref.changeDetectorRef.reattach(),this.transition(n,c,s,this.canGoBack(1),!1,a).then(()=>iV(n,J,g,this.location,this.zone)).then(()=>({enteringView:n,direction:i,animation:s,tabSwitch:f})))))}canGoBack(n,e=this.getActiveStackId()){return this.getStack(e).length>n}pop(n,e=this.getActiveStackId()){return this.zone.run(()=>{var r,o;const i=this.getStack(e);if(i.length<=n)return Promise.resolve(!1);const s=i[i.length-n-1];let a=s.url;const c=s.savedData;if(c){const g=c.get("primary");null!==(o=null===(r=g?.route)||void 0===r?void 0:r._routerState)&&void 0!==o&&o.snapshot.url&&(a=g.route._routerState.snapshot.url)}const{animationBuilder:f}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(a,Object.assign(Object.assign({},s.savedExtras),{animation:f})).then(()=>!0)})}startBackTransition(){const n=this.activeView;if(n){const e=this.getStack(n.stackId),r=e[e.length-2],o=r.animationBuilder;return this.wait(()=>this.transition(r,n,"back",this.canGoBack(2),!0,o))}return Promise.resolve()}endBackTransition(n){n?(this.skipTransition=!0,this.pop(1)):this.activeView&&TI(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(n){const e=this.getStack(n);return e.length>0?e[e.length-1]:void 0}getRootUrl(n){const e=this.getStack(n);return e.length>0?e[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(kI),this.activeView=void 0,this.views=[]}getStack(n){return this.views.filter(e=>e.stackId===n)}insertView(n,e){return this.activeView=n,this.views=((t,n,e)=>"root"===e?II(t,n):"forward"===e?((t,n)=>(t.indexOf(n)>=0?t=t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):t.push(n),t))(t,n):((t,n)=>t.indexOf(n)>=0?t.filter(r=>r.stackId!==n.stackId||r.id<=n.id):II(t,n))(t,n))(this.views,n,e),this.views.slice()}transition(n,e,r,o,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(e===n)return Promise.resolve(!1);const a=n?n.element:void 0,c=e?e.element:void 0,f=this.containerEl;return a&&a!==c&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==f&&f.appendChild(a),f.commit)?f.commit(a,c,{deepWait:!0,duration:void 0===r?0:void 0,direction:r,showGoBack:o,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(n){return Qn(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const e=this.runningTask=n();return e.finally(()=>this.runningTask=void 0),e})}}const iV=(t,n,e,r,o)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{TI(t,n,e,r,o),i()})}):Promise.resolve(),TI=(t,n,e,r,o)=>{o.run(()=>e.filter(i=>!n.includes(i)).forEach(kI)),n.forEach(i=>{const a=r.path().split("?")[0].split("#")[0];if(i!==t&&i.url!==a){const c=i.element;c.setAttribute("aria-hidden","true"),c.classList.add("ion-page-hidden"),i.ref.changeDetectorRef.detach()}})};let U_=(()=>{class t{get(e,r){const o=G_();return o?o.get(e,r):null}getBoolean(e,r){const o=G_();return!!o&&o.getBoolean(e,r)}getNumber(e,r){const o=G_();return o?o.getNumber(e,r):0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xI=new dn("USERCONFIG"),G_=()=>{if(typeof window<"u"){const t=window.Ionic;if(t?.config)return t.config}return null};let sV=(()=>{class t{constructor(e,r){this.doc=e,this.backButton=new W,this.keyboardDidShow=new W,this.keyboardDidHide=new W,this.pause=new W,this.resume=new W,this.resize=new W,r.run(()=>{var o;let i;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(s,a){return this.subscribe(c=>c.register(s,f=>r.run(()=>a(f))))},nu(this.pause,e,"pause"),nu(this.resume,e,"resume"),nu(this.backButton,e,"ionBackButton"),nu(this.resize,this.win,"resize"),nu(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),nu(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(s=>{i=s}),null!==(o=this.win)&&void 0!==o&&o.cordova?e.addEventListener("deviceready",()=>{i("cordova")},{once:!0}):i("dom")})}is(e){return(0,$_.a)(this.win,e)}platforms(){return(0,$_.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return aV(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){var e,r;return null===(r=(e=this.win).matchMedia)||void 0===r?void 0:r.call(e,"(orientation: portrait)").matches}testUserAgent(e){const r=this.win.navigator;return!!(r?.userAgent&&r.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(e){return new(e||t)(we(Mo),we(ft))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const aV=(t,n)=>{n=n.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},nu=(t,n,e)=>{n&&n.addEventListener(e,r=>{t.next(r?.detail)})};let $d=(()=>{class t{constructor(e,r,o,i){this.location=r,this.serializer=o,this.router=i,this.direction=AI,this.animated=PI,this.guessDirection="forward",this.lastNavId=-1,i&&i.events.subscribe(s=>{if(s instanceof Hp){const a=s.restoredState?s.restoredState.navigationId:s.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=s.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?s.id:a}}),e.backButton.subscribeWithPriority(0,s=>{this.pop(),s()})}navigateForward(e,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateBack(e,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}navigateRoot(e,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(e,r)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return Qn(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,r,o,i){this.direction=e,this.animated=lV(e,r,o),this.animationBuilder=i}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let r,e="root";const o=this.animationBuilder;return"auto"===this.direction?(e=this.guessDirection,r=this.guessAnimation):(r=this.animated,e=this.direction),this.direction=AI,this.animated=PI,this.animationBuilder=void 0,{direction:e,animation:r,animationBuilder:o}}navigate(e,r){if(Array.isArray(e))return this.router.navigate(e,r);{const o=this.serializer.parse(e.toString());return void 0!==r.queryParams&&(o.queryParams=Object.assign({},r.queryParams)),void 0!==r.fragment&&(o.fragment=r.fragment),this.router.navigateByUrl(o,r)}}}return t.\u0275fac=function(e){return new(e||t)(we(sV),we(ld),we(g_),we(Wr,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lV=(t,n,e)=>{if(!1!==n){if(void 0!==e)return e;if("forward"===t||"back"===t)return t;if("root"===t&&!0===n)return"forward"}},AI="auto",PI=void 0;class z_{}let Bd=(()=>{class t{constructor(e,r,o,i,s,a,c,f,g,y,E,A,J,xe){this.parentContexts=e,this.location=r,this.config=s,this.navCtrl=a,this.environmentInjector=c,this.componentFactoryResolver=f,this.parentOutlet=xe,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new qi(null),this.stackEvents=new _n,this.activateEvents=new _n,this.deactivateEvents=new _n,this.nativeEl=y.nativeElement,this.name=o||On,this.tabsPrefix="true"===i?j_(E,J):void 0,this.stackCtrl=new oV(this.tabsPrefix,this.nativeEl,E,a,A,g),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e?.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,eu.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const o=this.activatedView.savedData.get("primary");if(o&&r.route&&(o.route=Object.assign({},r.route)),this.activatedView.savedExtras={},r.route){const i=r.route.snapshot;this.activatedView.savedExtras.queryParams=i.queryParams,this.activatedView.savedExtras.fragment=i.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;let o,i=this.stackCtrl.getExistingView(e);if(i){o=this.activated=i.ref;const s=i.savedData;s&&(this.getContext().children.contexts=s),this.updateActivatedRouteProxy(o.instance,e)}else{const s=e._futureSnapshot,a=s.routeConfig.component;if(null==a&&s.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const c=this.parentContexts.getOrCreateContext(this.name).children,f=new qi(null),g=this.createActivatedRouteProxy(f,e),y=new cV(g,c,this.location.injector);if((r=r||this.componentFactoryResolver)&&_I(r)){const E=r.resolveComponentFactory(a);o=this.activated=this.location.createComponent(E,this.location.length,y)}else o=this.activated=this.location.createComponent(a,{index:this.location.length,injector:y,environmentInjector:r??this.environmentInjector});f.next(o.instance),i=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(o.instance,g),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:e})}this.activatedView=i,this.stackCtrl.setActive(i).then(s=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(o.instance),this.stackEvents.emit(s)})}canGoBack(e=1,r){return this.stackCtrl.canGoBack(e,r)}pop(e=1,r){return this.stackCtrl.pop(e,r)}getLastUrl(e){const r=this.stackCtrl.getLastUrl(e);return r?r.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,r){const o=new Ia;return o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,o._paramMap=this.proxyObservable(e,"paramMap"),o._queryParamMap=this.proxyObservable(e,"queryParamMap"),o.url=this.proxyObservable(e,"url"),o.params=this.proxyObservable(e,"params"),o.queryParams=this.proxyObservable(e,"queryParams"),o.fragment=this.proxyObservable(e,"fragment"),o.data=this.proxyObservable(e,"data"),o}proxyObservable(e,r){return e.pipe(Go(o=>!!o),Ni(o=>this.currentActivatedRoute$.pipe(Go(i=>null!==i&&i.component===o),Ni(i=>i&&i.activatedRoute[r]),gI())))}updateActivatedRouteProxy(e,r){const o=this.proxyMap.get(e);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=r._futureSnapshot,o._routerState=r._routerState,o.snapshot=r.snapshot,o.outlet=r.outlet,o.component=r.component,this.currentActivatedRoute$.next({component:e,activatedRoute:r})}}return t.\u0275fac=function(e){return new(e||t)(C(Gl),C(ci),Sl("name"),Sl("tabs"),C(U_),C($d),C(z_,8),C(ca,8),C(ld),C(vt),C(Wr),C(ft),C(Ia),C(t,12))},t.\u0275dir=se({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class cV{constructor(n,e,r){this.route=n,this.childContexts=e,this.parent=r}get(n,e){return n===Ia?this.route:n===Gl?this.childContexts:this.parent.get(n,e)}}let RI=(()=>{class t{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new _n,this.ionTabsDidChange=new _n}onPageSelected(e){const r=e.enteringView.stackId;e.tabSwitch&&void 0!==r&&(this.ionTabsWillChange.emit({tab:r}),this.tabBar&&(this.tabBar.selectedTab=r),this.ionTabsDidChange.emit({tab:r}))}select(e){const r="string"==typeof e,o=r?e:e.detail.tab,i=this.outlet.getActiveStackId()===o,s=`${this.outlet.tabsPrefix}/${o}`;if(r||e.stopPropagation(),i){const a=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(a)?.url===s)return;const f=this.outlet.getRootView(o);return this.navCtrl.navigateRoot(s,Object.assign(Object.assign({},f&&s===f.url&&f.savedExtras),{animated:!0,animationDirection:"back"}))}{const a=this.outlet.getLastRouteView(o),f=a?.savedExtras;return this.navCtrl.navigateRoot(a?.url||s,Object.assign(Object.assign({},f),{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}}return t.\u0275fac=function(e){return new(e||t)(C($d))},t.\u0275cmp=m({type:t,selectors:[["ion-tabs"]],contentQueries:function(e,r,o){if(1&e&&function pa(t,n,e,r){const o=Vn();if(o.firstCreatePass){const i=Er();KC(o,new qC(n,e,r),i.index),function F2(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(o,t),2==(2&e)&&(o.staticContentQueries=!0)}YC(o,mt(),e)}(o,H_,5),2&e){let i;Ri(i=Fi())&&(r.tabBar=i.first)}},viewQuery:function(e,r){if(1&e&&jc(V4,5,Bd),2&e){let o;Ri(o=Fi())&&(r.outlet=o.first)}},hostBindings:function(e,r){1&e&&lt("ionTabButtonClick",function(i){return r.select(i)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:j4,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(e,r){1&e&&(At(H4),xt(0),de(1,"div",0)(2,"ion-router-outlet",1,2),lt("stackEvents",function(i){return r.onPageSelected(i)}),re()(),xt(4,1))},dependencies:[Bd],styles:["[_nghost-%COMP%] {\n        display: flex;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n\n        flex-direction: column;\n\n        width: 100%;\n        height: 100%;\n\n        contain: layout size style;\n        z-index: $z-index-page-container;\n      }\n      .tabs-inner[_ngcontent-%COMP%] {\n        position: relative;\n\n        flex: 1;\n\n        contain: layout size style;\n      }"]}),t})(),FI=(()=>{class t{constructor(e,r,o){this.routerOutlet=e,this.navCtrl=r,this.config=o}onClick(e){var r;const o=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(r=this.routerOutlet)&&void 0!==r&&r.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),e.preventDefault()):null!=o&&(this.navCtrl.navigateBack(o,{animation:this.routerAnimation}),e.preventDefault())}}return t.\u0275fac=function(e){return new(e||t)(C(Bd,8),C($d),C(U_))},t.\u0275dir=se({type:t,selectors:[["ion-back-button"]],hostBindings:function(e,r){1&e&&lt("click",function(i){return r.onClick(i)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),t})(),OI=(()=>{let t=class{constructor(e,r,o,i,s){this.el=e.nativeElement,e.nativeElement.delegate=i.create(r,o,s),lr(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return t.\u0275fac=function(e){return new(e||t)(C(vt),C(ca),C(br),C(fh),C(ci))},t.\u0275dir=se({type:t,selectors:[["ion-nav"]]}),t=ue([Pt({inputs:["animated","animation","root","rootParams","swipeGesture"],methods:["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]})],t),t})();class Vd{constructor(n){this.ctrl=n}create(n){return this.ctrl.create(n||{})}dismiss(n,e,r){return this.ctrl.dismiss(n,e,r)}getTop(){return this.ctrl.getTop()}}let Hd=(()=>{class t extends Vd{constructor(){super(Pd.b)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ru=(()=>{class t extends Vd{constructor(){super(Pd.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Zl=(()=>{class t extends Vd{constructor(){super(Pd.l)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Ds=(()=>{class t extends Vd{constructor(e,r,o,i){super(Pd.m),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(we(fh),we(ca),we(br),we(z_,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),Yl=(()=>{class t extends Vd{constructor(e,r,o,i){super(Pd.c),this.angularDelegate=e,this.resolver=r,this.injector=o,this.environmentInjector=i}create(e){var r;return super.create(Object.assign(Object.assign({},e),{delegate:this.angularDelegate.create(null!==(r=this.resolver)&&void 0!==r?r:this.environmentInjector,this.injector)}))}}return t.\u0275fac=function(e){return new(e||t)(we(fh),we(ca),we(br),we(z_,8))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();class gV{shouldDetach(n){return!1}shouldAttach(n){return!1}store(n,e){}retrieve(n){return null}shouldReuseRoute(n,e){if(n.routeConfig!==e.routeConfig)return!1;const r=n.params,o=e.params,i=Object.keys(r),s=Object.keys(o);if(i.length!==s.length)return!1;for(const a of i)if(o[a]!==r[a])return!1;return!0}}const yV=(t,n,e)=>()=>{if(n.defaultView&&typeof window<"u"){(t=>{const n=window,e=n.Ionic;e&&e.config&&"Object"!==e.config.constructor.name||(n.Ionic=n.Ionic||{},n.Ionic.config=Object.assign(Object.assign({},n.Ionic.config),t))})(Object.assign(Object.assign({},t),{_zoneGate:i=>e.run(i)}));const o="__zone_symbol__addEventListener"in n.body?"__zone_symbol__addEventListener":"addEventListener";return function N4(){var t=[];if(typeof window<"u"){var n=window;(!n.customElements||n.Element&&(!n.Element.prototype.closest||!n.Element.prototype.matches||!n.Element.prototype.remove||!n.Element.prototype.getRootNode))&&t.push(F.e(6748).then(F.t.bind(F,3314,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||n.NodeList&&!n.NodeList.prototype.forEach||!n.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(F.e(2214).then(F.t.bind(F,7320,23)))}return Promise.all(t)}().then(()=>((t,n)=>typeof window>"u"?Promise.resolve():(0,hI.p)().then(()=>(L4(),(0,hI.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),n))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:yI,jmp:i=>e.runOutsideAngular(i),ael(i,s,a,c){i[o](s,a,c)},rel(i,s,a,c){i.removeEventListener(s,a,c)}}))}};let rl=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:xI,useValue:e},{provide:Pl,useFactory:yV,multi:!0,deps:[xI,Mo,ft]}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({providers:[fh,Ds,Yl],imports:[[Gs]]}),t})();class _V extends q{constructor(n,e){super()}schedule(n,e=0){return this}}const ph={setInterval(t,n,...e){const{delegate:r}=ph;return r?.setInterval?r.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=ph;return(n?.clearInterval||clearInterval)(t)},delegate:void 0},W_={now:()=>(W_.delegate||Date).now(),delegate:void 0};class jd{constructor(n,e=jd.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,r){return new this.schedulerActionCtor(this,n).schedule(r,e)}}jd.now=W_.now;const BI=new class bV extends jd{constructor(n,e=jd.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,r){for(;n=e.shift();)n.unsubscribe();throw r}}}(class vV extends _V{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this}requestAsyncId(n,e,r=0){return ph.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;ph.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,oe(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}),wV=BI;function VI(t=0,n,e=wV){let r=-1;return null!=n&&(Ko(n)?e=n:r=n),new _t(o=>{let i=function CV(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;i<0&&(i=0);let s=0;return e.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}class SV extends W{constructor(n=1/0,e=1/0,r=W_){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;e||(r.push(n),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!n.closed;s+=r?1:2)n.next(i[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*n;if(n<1/0&&i<r.length&&r.splice(0,r.length-i),!o){const s=e.now();let a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}}let ou={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const MV=/[&<>"']/,kV=/[&<>"']/g,TV=/[<>"']|&(?!#?\w+;)/,xV=/[<>"']|&(?!#?\w+;)/g,AV={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jI=t=>AV[t];function Oo(t,n){if(n){if(MV.test(t))return t.replace(kV,jI)}else if(TV.test(t))return t.replace(xV,jI);return t}const PV=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function UI(t){return t.replace(PV,(n,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):"")}const RV=/(^|[^\[])\^/g;function Ir(t,n){t="string"==typeof t?t:t.source,n=n||"";const e={replace:(r,o)=>(o=(o=o.source||o).replace(RV,"$1"),t=t.replace(r,o),e),getRegex:()=>new RegExp(t,n)};return e}const FV=/[^\w:]/g,OV=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function GI(t,n,e){if(t){let r;try{r=decodeURIComponent(UI(e)).replace(FV,"").toLowerCase()}catch{return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}n&&!OV.test(e)&&(e=function BV(t,n){hh[" "+t]||(hh[" "+t]=NV.test(t)?t+"/":gh(t,"/",!0));const e=-1===(t=hh[" "+t]).indexOf(":");return"//"===n.substring(0,2)?e?n:t.replace(LV,"$1")+n:"/"===n.charAt(0)?e?n:t.replace($V,"$1")+n:t+n}(n,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const hh={},NV=/^[^:]+:\/*[^/]*$/,LV=/^([^:]+:)[\s\S]*$/,$V=/^([^:]+:\/*[^/]*)[\s\S]*$/,mh={exec:function(){}};function Is(t){let e,r,n=1;for(;n<arguments.length;n++)for(r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}function zI(t,n){const r=t.replace(/\|/g,(i,s,a)=>{let c=!1,f=s;for(;--f>=0&&"\\"===a[f];)c=!c;return c?"|":" |"}).split(/ \|/);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>n)r.splice(n);else for(;r.length<n;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(/\\\|/g,"|");return r}function gh(t,n,e){const r=t.length;if(0===r)return"";let o=0;for(;o<r;){const i=t.charAt(r-o-1);if(i!==n||e){if(i===n||!e)break;o++}else o++}return t.slice(0,r-o)}function WI(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function qI(t,n){if(n<1)return"";let e="";for(;n>1;)1&n&&(e+=t),n>>=1,t+=t;return e+t}function ZI(t,n,e,r){const o=n.href,i=n.title?Oo(n.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){r.state.inLink=!0;const a={type:"link",raw:e,href:o,title:i,text:s,tokens:r.inlineTokens(s,[])};return r.state.inLink=!1,a}return{type:"image",raw:e,href:o,title:i,text:Oo(s)}}class q_{constructor(n){this.options=n||ou}space(n){const e=this.rules.block.newline.exec(n);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(n){const e=this.rules.block.code.exec(n);if(e){const r=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:gh(r,"\n")}}}fences(n){const e=this.rules.block.fences.exec(n);if(e){const r=e[0],o=function HV(t,n){const e=t.match(/^(\s+)(?:```)/);if(null===e)return n;const r=e[1];return n.split("\n").map(o=>{const i=o.match(/^\s+/);if(null===i)return o;const[s]=i;return s.length>=r.length?o.slice(r.length):o}).join("\n")}(r,e[3]||"");return{type:"code",raw:r,lang:e[2]?e[2].trim():e[2],text:o}}}heading(n){const e=this.rules.block.heading.exec(n);if(e){let r=e[2].trim();if(/#$/.test(r)){const i=gh(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}const o={type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:[]};return this.lexer.inline(o.text,o.tokens),o}}hr(n){const e=this.rules.block.hr.exec(n);if(e)return{type:"hr",raw:e[0]}}blockquote(n){const e=this.rules.block.blockquote.exec(n);if(e){const r=e[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:e[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(n){let e=this.rules.block.list.exec(n);if(e){let r,o,i,s,a,c,f,g,y,E,A,J,xe=e[1].trim();const Xe=xe.length>1,Ge={type:"list",raw:"",ordered:Xe,start:Xe?+xe.slice(0,-1):"",loose:!1,items:[]};xe=Xe?`\\d{1,9}\\${xe.slice(-1)}`:`\\${xe}`,this.options.pedantic&&(xe=Xe?xe:"[*+-]");const yt=new RegExp(`^( {0,3}${xe})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(J=!1,(e=yt.exec(n))&&!this.rules.block.hr.test(n));){if(r=e[0],n=n.substring(r.length),g=e[2].split("\n",1)[0],y=n.split("\n",1)[0],this.options.pedantic?(s=2,A=g.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,A=g.slice(s),s+=e[1].length),c=!1,!g&&/^ *$/.test(y)&&(r+=y+"\n",n=n.substring(y.length+1),J=!0),!J){const ht=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),tn=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fn=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),To=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;n&&(E=n.split("\n",1)[0],g=E,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(fn.test(g)||To.test(g)||ht.test(g)||tn.test(n)));){if(g.search(/[^ ]/)>=s||!g.trim())A+="\n"+g.slice(s);else{if(c)break;A+="\n"+g}!c&&!g.trim()&&(c=!0),r+=E+"\n",n=n.substring(E.length+1)}}Ge.loose||(f?Ge.loose=!0:/\n *\n *$/.test(r)&&(f=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(A),o&&(i="[ ] "!==o[0],A=A.replace(/^\[[ xX]\] +/,""))),Ge.items.push({type:"list_item",raw:r,task:!!o,checked:i,loose:!1,text:A}),Ge.raw+=r}Ge.items[Ge.items.length-1].raw=r.trimRight(),Ge.items[Ge.items.length-1].text=A.trimRight(),Ge.raw=Ge.raw.trimRight();const et=Ge.items.length;for(a=0;a<et;a++){this.lexer.state.top=!1,Ge.items[a].tokens=this.lexer.blockTokens(Ge.items[a].text,[]);const ht=Ge.items[a].tokens.filter(fn=>"space"===fn.type),tn=ht.every(fn=>{const To=fn.raw.split("");let rs=0;for(const Jl of To)if("\n"===Jl&&(rs+=1),rs>1)return!0;return!1});!Ge.loose&&ht.length&&tn&&(Ge.loose=!0,Ge.items[a].loose=!0)}return Ge}}html(n){const e=this.rules.block.html.exec(n);if(e){const r={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};return this.options.sanitize&&(r.type="paragraph",r.text=this.options.sanitizer?this.options.sanitizer(e[0]):Oo(e[0]),r.tokens=[],this.lexer.inline(r.text,r.tokens)),r}}def(n){const e=this.rules.block.def.exec(n);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}}table(n){const e=this.rules.block.table.exec(n);if(e){const r={type:"table",header:zI(e[1]).map(o=>({text:o})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(r.header.length===r.align.length){r.raw=e[0];let i,s,a,c,o=r.align.length;for(i=0;i<o;i++)r.align[i]=/^ *-+: *$/.test(r.align[i])?"right":/^ *:-+: *$/.test(r.align[i])?"center":/^ *:-+ *$/.test(r.align[i])?"left":null;for(o=r.rows.length,i=0;i<o;i++)r.rows[i]=zI(r.rows[i],r.header.length).map(f=>({text:f}));for(o=r.header.length,s=0;s<o;s++)r.header[s].tokens=[],this.lexer.inline(r.header[s].text,r.header[s].tokens);for(o=r.rows.length,s=0;s<o;s++)for(c=r.rows[s],a=0;a<c.length;a++)c[a].tokens=[],this.lexer.inline(c[a].text,c[a].tokens);return r}}}lheading(n){const e=this.rules.block.lheading.exec(n);if(e){const r={type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}paragraph(n){const e=this.rules.block.paragraph.exec(n);if(e){const r={type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}text(n){const e=this.rules.block.text.exec(n);if(e){const r={type:"text",raw:e[0],text:e[0],tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}escape(n){const e=this.rules.inline.escape.exec(n);if(e)return{type:"escape",raw:e[0],text:Oo(e[1])}}tag(n){const e=this.rules.inline.tag.exec(n);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):Oo(e[0]):e[0]}}link(n){const e=this.rules.inline.link.exec(n);if(e){const r=e[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=gh(r.slice(0,-1),"\\");if((r.length-s.length)%2==0)return}else{const s=function VV(t,n){if(-1===t.indexOf(n[1]))return-1;const e=t.length;let r=0,o=0;for(;o<e;o++)if("\\"===t[o])o++;else if(t[o]===n[0])r++;else if(t[o]===n[1]&&(r--,r<0))return o;return-1}(e[2],"()");if(s>-1){const c=(0===e[0].indexOf("!")?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,c).trim(),e[3]=""}}let o=e[2],i="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);s&&(o=s[1],i=s[3])}else i=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(r)?o.slice(1):o.slice(1,-1)),ZI(e,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(n,e){let r;if((r=this.rules.inline.reflink.exec(n))||(r=this.rules.inline.nolink.exec(n))){let o=(r[2]||r[1]).replace(/\s+/g," ");if(o=e[o.toLowerCase()],!o||!o.href){const i=r[0].charAt(0);return{type:"text",raw:i,text:i}}return ZI(r,o,r[0],this.lexer)}}emStrong(n,e,r=""){let o=this.rules.inline.emStrong.lDelim.exec(n);if(!o||o[3]&&r.match(/[\p{L}\p{N}]/u))return;const i=o[1]||o[2]||"";if(!i||i&&(""===r||this.rules.inline.punctuation.exec(r))){const s=o[0].length-1;let a,c,f=s,g=0;const y="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(y.lastIndex=0,e=e.slice(-1*n.length+s);null!=(o=y.exec(e));){if(a=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!a)continue;if(c=a.length,o[3]||o[4]){f+=c;continue}if((o[5]||o[6])&&s%3&&!((s+c)%3)){g+=c;continue}if(f-=c,f>0)continue;if(c=Math.min(c,c+f+g),Math.min(s,c)%2){const A=n.slice(1,s+o.index+c);return{type:"em",raw:n.slice(0,s+o.index+c+1),text:A,tokens:this.lexer.inlineTokens(A,[])}}const E=n.slice(2,s+o.index+c-1);return{type:"strong",raw:n.slice(0,s+o.index+c+1),text:E,tokens:this.lexer.inlineTokens(E,[])}}}}codespan(n){const e=this.rules.inline.code.exec(n);if(e){let r=e[2].replace(/\n/g," ");const o=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return o&&i&&(r=r.substring(1,r.length-1)),r=Oo(r,!0),{type:"codespan",raw:e[0],text:r}}}br(n){const e=this.rules.inline.br.exec(n);if(e)return{type:"br",raw:e[0]}}del(n){const e=this.rules.inline.del.exec(n);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2],[])}}autolink(n,e){const r=this.rules.inline.autolink.exec(n);if(r){let o,i;return"@"===r[2]?(o=Oo(this.options.mangle?e(r[1]):r[1]),i="mailto:"+o):(o=Oo(r[1]),i=o),{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(n,e){let r;if(r=this.rules.inline.url.exec(n)){let o,i;if("@"===r[2])o=Oo(this.options.mangle?e(r[0]):r[0]),i="mailto:"+o;else{let s;do{s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0]}while(s!==r[0]);o=Oo(r[0]),i="www."===r[1]?"http://"+o:o}return{type:"link",raw:r[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(n,e){const r=this.rules.inline.text.exec(n);if(r){let o;return o=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Oo(r[0]):r[0]:Oo(this.options.smartypants?e(r[0]):r[0]),{type:"text",raw:r[0],text:o}}}}const hn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:mh,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};hn.def=Ir(hn.def).replace("label",hn._label).replace("title",hn._title).getRegex(),hn.bullet=/(?:[*+-]|\d{1,9}[.)])/,hn.listItemStart=Ir(/^( *)(bull) */).replace("bull",hn.bullet).getRegex(),hn.list=Ir(hn.list).replace(/bull/g,hn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+hn.def.source+")").getRegex(),hn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",hn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,hn.html=Ir(hn.html,"i").replace("comment",hn._comment).replace("tag",hn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),hn.paragraph=Ir(hn._paragraph).replace("hr",hn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hn._tag).getRegex(),hn.blockquote=Ir(hn.blockquote).replace("paragraph",hn.paragraph).getRegex(),hn.normal=Is({},hn),hn.gfm=Is({},hn.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),hn.gfm.table=Ir(hn.gfm.table).replace("hr",hn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hn._tag).getRegex(),hn.gfm.paragraph=Ir(hn._paragraph).replace("hr",hn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",hn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hn._tag).getRegex(),hn.pedantic=Is({},hn.normal,{html:Ir("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",hn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mh,paragraph:Ir(hn.normal._paragraph).replace("hr",hn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",hn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const qt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:mh,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:mh,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function jV(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function YI(t){let e,r,n="";const o=t.length;for(e=0;e<o;e++)r=t.charCodeAt(e),Math.random()>.5&&(r="x"+r.toString(16)),n+="&#"+r+";";return n}qt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",qt.punctuation=Ir(qt.punctuation).replace(/punctuation/g,qt._punctuation).getRegex(),qt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,qt.escapedEmSt=/\\\*|\\_/g,qt._comment=Ir(hn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),qt.emStrong.lDelim=Ir(qt.emStrong.lDelim).replace(/punct/g,qt._punctuation).getRegex(),qt.emStrong.rDelimAst=Ir(qt.emStrong.rDelimAst,"g").replace(/punct/g,qt._punctuation).getRegex(),qt.emStrong.rDelimUnd=Ir(qt.emStrong.rDelimUnd,"g").replace(/punct/g,qt._punctuation).getRegex(),qt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,qt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,qt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,qt.autolink=Ir(qt.autolink).replace("scheme",qt._scheme).replace("email",qt._email).getRegex(),qt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,qt.tag=Ir(qt.tag).replace("comment",qt._comment).replace("attribute",qt._attribute).getRegex(),qt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,qt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,qt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,qt.link=Ir(qt.link).replace("label",qt._label).replace("href",qt._href).replace("title",qt._title).getRegex(),qt.reflink=Ir(qt.reflink).replace("label",qt._label).replace("ref",hn._label).getRegex(),qt.nolink=Ir(qt.nolink).replace("ref",hn._label).getRegex(),qt.reflinkSearch=Ir(qt.reflinkSearch,"g").replace("reflink",qt.reflink).replace("nolink",qt.nolink).getRegex(),qt.normal=Is({},qt),qt.pedantic=Is({},qt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ir(/^!?\[(label)\]\((.*?)\)/).replace("label",qt._label).getRegex(),reflink:Ir(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",qt._label).getRegex()}),qt.gfm=Is({},qt.normal,{escape:Ir(qt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),qt.gfm.url=Ir(qt.gfm.url,"i").replace("email",qt.gfm._extended_email).getRegex(),qt.breaks=Is({},qt.gfm,{br:Ir(qt.br).replace("{2,}","*").getRegex(),text:Ir(qt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class ka{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||ou,this.options.tokenizer=this.options.tokenizer||new q_,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:hn.normal,inline:qt.normal};this.options.pedantic?(e.block=hn.pedantic,e.inline=qt.pedantic):this.options.gfm&&(e.block=hn.gfm,e.inline=this.options.breaks?qt.breaks:qt.gfm),this.tokenizer.rules=e}static get rules(){return{block:hn,inline:qt}}static lex(n,e){return new ka(e).lex(n)}static lexInline(n,e){return new ka(e).inlineTokens(n)}lex(n){let e;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(n,e=[]){let r,o,i,s;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(a,c,f)=>c+"    ".repeat(f.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(r=a.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.space(n)){n=n.substring(r.raw.length),1===r.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(r);continue}if(r=this.tokenizer.code(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(r):(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.fences(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.heading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.hr(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.blockquote(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.list(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.html(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.def(n)){n=n.substring(r.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title}):(o.raw+="\n"+r.raw,o.text+="\n"+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);continue}if(r=this.tokenizer.table(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.lheading(n)){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=n.slice(1);let f;this.options.extensions.startBlock.forEach(function(g){f=g.call({lexer:this},c),"number"==typeof f&&f>=0&&(a=Math.min(a,f))}),a<1/0&&a>=0&&(i=n.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r),s=i.length!==n.length,n=n.substring(r.raw.length);continue}if(r=this.tokenizer.text(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(r);continue}if(n){const a="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,e}inline(n,e){this.inlineQueue.push({src:n,tokens:e})}inlineTokens(n,e=[]){let r,o,i,a,c,f,s=n;if(this.tokens.links){const g=Object.keys(this.tokens.links);if(g.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)g.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+qI("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+qI("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(g=>!!(r=g.call({lexer:this},n,e))&&(n=n.substring(r.raw.length),e.push(r),!0)))){if(r=this.tokenizer.escape(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.tag(n)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.link(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(r.raw.length),o=e[e.length-1],o&&"text"===r.type&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(r=this.tokenizer.emStrong(n,s,f)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.codespan(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.br(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.del(n)){n=n.substring(r.raw.length),e.push(r);continue}if(r=this.tokenizer.autolink(n,YI)){n=n.substring(r.raw.length),e.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(n,YI))){n=n.substring(r.raw.length),e.push(r);continue}if(i=n,this.options.extensions&&this.options.extensions.startInline){let g=1/0;const y=n.slice(1);let E;this.options.extensions.startInline.forEach(function(A){E=A.call({lexer:this},y),"number"==typeof E&&E>=0&&(g=Math.min(g,E))}),g<1/0&&g>=0&&(i=n.substring(0,g+1))}if(r=this.tokenizer.inlineText(i,jV)){n=n.substring(r.raw.length),"_"!==r.raw.slice(-1)&&(f=r.raw.slice(-1)),c=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=r.raw,o.text+=r.text):e.push(r);continue}if(n){const g="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(g);break}throw new Error(g)}}return e}}class iu{constructor(n){this.options=n||ou}code(n,e,r){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const i=this.options.highlight(n,o);null!=i&&i!==n&&(r=!0,n=i)}return n=n.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+Oo(o,!0)+'">'+(r?n:Oo(n,!0))+"</code></pre>\n":"<pre><code>"+(r?n:Oo(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,e,r,o){return this.options.headerIds?`<h${e} id="${this.options.headerPrefix+o.slug(r)}">${n}</h${e}>\n`:`<h${e}>${n}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,e,r){const o=e?"ol":"ul";return"<"+o+(e&&1!==r?' start="'+r+'"':"")+">\n"+n+"</"+o+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+e+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,e){const r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,e,r){if(null===(n=GI(this.options.sanitize,this.options.baseUrl,n)))return r;let o='<a href="'+Oo(n)+'"';return e&&(o+=' title="'+e+'"'),o+=">"+r+"</a>",o}image(n,e,r){if(null===(n=GI(this.options.sanitize,this.options.baseUrl,n)))return r;let o=`<img src="${n}" alt="${r}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(n){return n}}class KI{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,e,r){return""+r}image(n,e,r){return""+r}br(){return""}}class XI{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,e){let r=n,o=0;if(this.seen.hasOwnProperty(r)){o=this.seen[n];do{o++,r=n+"-"+o}while(this.seen.hasOwnProperty(r))}return e||(this.seen[n]=o,this.seen[r]=0),r}slug(n,e={}){const r=this.serialize(n);return this.getNextSafeSlug(r,e.dryrun)}}class Ta{constructor(n){this.options=n||ou,this.options.renderer=this.options.renderer||new iu,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new KI,this.slugger=new XI}static parse(n,e){return new Ta(e).parse(n)}static parseInline(n,e){return new Ta(e).parseInline(n)}parse(n,e=!0){let o,i,s,a,c,f,g,y,E,A,J,xe,Xe,Ge,yt,et,ht,tn,fn,r="";const To=n.length;for(o=0;o<To;o++)if(A=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[A.type]&&(fn=this.options.extensions.renderers[A.type].call({parser:this},A),!1!==fn||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(A.type)))r+=fn||"";else switch(A.type){case"space":continue;case"hr":r+=this.renderer.hr();continue;case"heading":r+=this.renderer.heading(this.parseInline(A.tokens),A.depth,UI(this.parseInline(A.tokens,this.textRenderer)),this.slugger);continue;case"code":r+=this.renderer.code(A.text,A.lang,A.escaped);continue;case"table":for(y="",g="",a=A.header.length,i=0;i<a;i++)g+=this.renderer.tablecell(this.parseInline(A.header[i].tokens),{header:!0,align:A.align[i]});for(y+=this.renderer.tablerow(g),E="",a=A.rows.length,i=0;i<a;i++){for(f=A.rows[i],g="",c=f.length,s=0;s<c;s++)g+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:A.align[s]});E+=this.renderer.tablerow(g)}r+=this.renderer.table(y,E);continue;case"blockquote":E=this.parse(A.tokens),r+=this.renderer.blockquote(E);continue;case"list":for(J=A.ordered,xe=A.start,Xe=A.loose,a=A.items.length,E="",i=0;i<a;i++)yt=A.items[i],et=yt.checked,ht=yt.task,Ge="",yt.task&&(tn=this.renderer.checkbox(et),Xe?yt.tokens.length>0&&"paragraph"===yt.tokens[0].type?(yt.tokens[0].text=tn+" "+yt.tokens[0].text,yt.tokens[0].tokens&&yt.tokens[0].tokens.length>0&&"text"===yt.tokens[0].tokens[0].type&&(yt.tokens[0].tokens[0].text=tn+" "+yt.tokens[0].tokens[0].text)):yt.tokens.unshift({type:"text",text:tn}):Ge+=tn),Ge+=this.parse(yt.tokens,Xe),E+=this.renderer.listitem(Ge,ht,et);r+=this.renderer.list(E,J,xe);continue;case"html":r+=this.renderer.html(A.text);continue;case"paragraph":r+=this.renderer.paragraph(this.parseInline(A.tokens));continue;case"text":for(E=A.tokens?this.parseInline(A.tokens):A.text;o+1<To&&"text"===n[o+1].type;)A=n[++o],E+="\n"+(A.tokens?this.parseInline(A.tokens):A.text);r+=e?this.renderer.paragraph(E):E;continue;default:{const rs='Token with "'+A.type+'" type was not found.';if(this.options.silent)return void console.error(rs);throw new Error(rs)}}return r}parseInline(n,e){e=e||this.renderer;let o,i,s,r="";const a=n.length;for(o=0;o<a;o++)if(i=n[o],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(s=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))r+=s||"";else switch(i.type){case"escape":case"text":r+=e.text(i.text);break;case"html":r+=e.html(i.text);break;case"link":r+=e.link(i.href,i.title,this.parseInline(i.tokens,e));break;case"image":r+=e.image(i.href,i.title,i.text);break;case"strong":r+=e.strong(this.parseInline(i.tokens,e));break;case"em":r+=e.em(this.parseInline(i.tokens,e));break;case"codespan":r+=e.codespan(i.text);break;case"br":r+=e.br();break;case"del":r+=e.del(this.parseInline(i.tokens,e));break;default:{const c='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(c);throw new Error(c)}}return r}}function Cn(t,n,e){if(typeof t>"u"||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof n&&(e=n,n=null),WI(n=Is({},Cn.defaults,n||{})),e){const r=n.highlight;let o;try{o=ka.lex(t,n)}catch(a){return e(a)}const i=function(a){let c;if(!a)try{n.walkTokens&&Cn.walkTokens(o,n.walkTokens),c=Ta.parse(o,n)}catch(f){a=f}return n.highlight=r,a?e(a):e(null,c)};if(!r||r.length<3||(delete n.highlight,!o.length))return i();let s=0;return Cn.walkTokens(o,function(a){"code"===a.type&&(s++,setTimeout(()=>{r(a.text,a.lang,function(c,f){if(c)return i(c);null!=f&&f!==a.text&&(a.text=f,a.escaped=!0),s--,0===s&&i()})},0))}),void(0===s&&i())}try{const r=ka.lex(t,n);return n.walkTokens&&Cn.walkTokens(r,n.walkTokens),Ta.parse(r,n)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Oo(r.message+"",!0)+"</pre>";throw r}}Cn.options=Cn.setOptions=function(t){return Is(Cn.defaults,t),function IV(t){ou=t}(Cn.defaults),Cn},Cn.getDefaults=function HI(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},Cn.defaults=ou,Cn.use=function(...t){const n=Is({},...t),e=Cn.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(o=>{if(o.extensions&&(r=!0,o.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if(i.renderer){const s=e.renderers?e.renderers[i.name]:null;e.renderers[i.name]=s?function(...a){let c=i.renderer.apply(this,a);return!1===c&&(c=s.apply(this,a)),c}:i.renderer}if(i.tokenizer){if(!i.level||"block"!==i.level&&"inline"!==i.level)throw new Error("extension level must be 'block' or 'inline'");e[i.level]?e[i.level].unshift(i.tokenizer):e[i.level]=[i.tokenizer],i.start&&("block"===i.level?e.startBlock?e.startBlock.push(i.start):e.startBlock=[i.start]:"inline"===i.level&&(e.startInline?e.startInline.push(i.start):e.startInline=[i.start]))}i.childTokens&&(e.childTokens[i.name]=i.childTokens)})),o.renderer){const i=Cn.defaults.renderer||new iu;for(const s in o.renderer){const a=i[s];i[s]=(...c)=>{let f=o.renderer[s].apply(i,c);return!1===f&&(f=a.apply(i,c)),f}}n.renderer=i}if(o.tokenizer){const i=Cn.defaults.tokenizer||new q_;for(const s in o.tokenizer){const a=i[s];i[s]=(...c)=>{let f=o.tokenizer[s].apply(i,c);return!1===f&&(f=a.apply(i,c)),f}}n.tokenizer=i}if(o.walkTokens){const i=Cn.defaults.walkTokens;n.walkTokens=function(s){o.walkTokens.call(this,s),i&&i.call(this,s)}}r&&(n.extensions=e),Cn.setOptions(n)})},Cn.walkTokens=function(t,n){for(const e of t)switch(n.call(Cn,e),e.type){case"table":for(const r of e.header)Cn.walkTokens(r.tokens,n);for(const r of e.rows)for(const o of r)Cn.walkTokens(o.tokens,n);break;case"list":Cn.walkTokens(e.items,n);break;default:Cn.defaults.extensions&&Cn.defaults.extensions.childTokens&&Cn.defaults.extensions.childTokens[e.type]?Cn.defaults.extensions.childTokens[e.type].forEach(function(r){Cn.walkTokens(e[r],n)}):e.tokens&&Cn.walkTokens(e.tokens,n)}},Cn.parseInline=function(t,n){if(typeof t>"u"||null===t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");WI(n=Is({},Cn.defaults,n||{}));try{const e=ka.lexInline(t,n);return n.walkTokens&&Cn.walkTokens(e,n.walkTokens),Ta.parseInline(e,n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Oo(e.message+"",!0)+"</pre>";throw e}},Cn.Parser=Ta,Cn.parser=Ta.parse,Cn.Renderer=iu,Cn.TextRenderer=KI,Cn.Lexer=ka,Cn.lexer=ka.lex,Cn.Tokenizer=q_,Cn.Slugger=XI,Cn.parse=Cn;const UV=["*"];let Z_=(()=>{class t{constructor(){this._buttonClick$=new W,this.copied$=this._buttonClick$.pipe(Ni(()=>Qo(wn(!0),VI(3e3).pipe(d_(!1)))),gI(),function EV(t,n,e){let r,o=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):r=t??1/0,Si({connector:()=>new SV(r,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}(1)),this.copiedText$=this.copied$.pipe(a1(!1),at(e=>e?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(e,r){1&e&&(de(0,"button",0),lt("click",function(){return r.onCopyToClipboardClick()}),da(1,"async"),Je(2),da(3,"async"),re()),2&e&&(la("copied",fa(1,3,r.copied$)),tt(2),Wi(fa(3,5,r.copiedText$)))},dependencies:[hE],encapsulation:2,changeDetection:0}),t})();class WV{}var Ud=(()=>{return(t=Ud||(Ud={})).CommandLine="command-line",t.LineHighlight="line-highlight",t.LineNumbers="line-numbers",Ud;var t})();class QI{}const JI=new dn("SECURITY_CONTEXT");let Y_=(()=>{class t{constructor(e,r,o,i,s,a){this.platform=e,this.securityContext=r,this.http=o,this.clipboardOptions=i,this.sanitizer=a,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new iu},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new W,this.reload$=this._reload$.asObservable(),this.options=s}get options(){return this._options}set options(e){this._options={...this.DEFAULT_MARKED_OPTIONS,...e}}get renderer(){return this.options.renderer}set renderer(e){this.options.renderer=e}parse(e,r=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:o,inline:i,emoji:s,mermaid:a,markedOptions:c=this.options}=r;a&&(this.renderer=this.extendRenderer(c.renderer||new iu));const f=this.trimIndentation(e),g=o?this.decodeHtml(f):f,y=s?this.parseEmoji(g):g,E=this.parseMarked(y,c,i);return this.sanitizer.sanitize(this.securityContext,E)||""}render(e,r=this.DEFAULT_RENDER_OPTIONS,o){const{clipboard:i,clipboardOptions:s,katex:a,katexOptions:c,mermaid:f,mermaidOptions:g}=r;i&&this.renderClipboard(e,o,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(e,{...this.DEFAULT_KATEX_OPTIONS,...c}),f&&this.renderMermaid(e,{...this.DEFAULT_MERMAID_OPTIONS,...g}),this.highlight(e)}reload(){this._reload$.next()}getSource(e){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(e,{responseType:"text"}).pipe(at(r=>this.handleExtension(e,r)))}highlight(e){if(!va(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;e||(e=document);const r=e.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,o=>o.classList.add("language-none")),Prism.highlightAllUnder(e)}decodeHtml(e){if(!va(this.platform))return e;const r=document.createElement("textarea");return r.innerHTML=e,r.value}extendRenderer(e){const r=e;if(!0===r.\u0275NgxMarkdownRendererExtended)return e;const o=e.code;return e.code=function(i,s,a){return"mermaid"===s?`<div class="mermaid">${i}</div>`:o.call(this,i,s,a)},r.\u0275NgxMarkdownRendererExtended=!0,e}handleExtension(e,r){const o=e.lastIndexOf("://"),i=o>-1?e.substring(o+4):e,s=i.lastIndexOf("/"),a=s>-1?i.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),f=c>-1?a.substring(c+1):"";return f&&"md"!==f?"```"+f+"\n"+r+"\n```":r}parseMarked(e,r,o=!1){return va(this.platform)?o?Cn.parseInline(e,r):Cn.parse(e,r):e}parseEmoji(e){if(!va(this.platform))return e;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(e)}renderKatex(e,r){if(va(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(e,r)}}renderClipboard(e,r,o){if(!va(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!r)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:i,buttonTemplate:s}=o,a=e.querySelectorAll("pre");for(let c=0;c<a.length;c++){const f=a.item(c),g=document.createElement("div");g.style.position="relative",f.parentNode.insertBefore(g,f),g.appendChild(f);const y=document.createElement("div");let E,A;y.style.position="absolute",y.style.top=".5em",y.style.right=".5em",y.style.opacity="0",y.style.transition="opacity 250ms ease-out",g.insertAdjacentElement("beforeend",y),f.onmouseover=()=>y.style.opacity="1",f.onmouseout=()=>y.style.opacity="0",E=i?r.createComponent(i).hostView:s?r.createEmbeddedView(s):r.createComponent(Z_).hostView,E.rootNodes.forEach(J=>{J.onmouseover=()=>y.style.opacity="1",y.appendChild(J),A=new ClipboardJS(J,{text:()=>f.innerText})}),E.onDestroy(()=>A.destroy())}}renderMermaid(e,r=this.DEFAULT_MERMAID_OPTIONS){if(!va(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const o=e.querySelectorAll(".mermaid");0!==o.length&&(mermaid.initialize(r),mermaid.init(o))}trimIndentation(e){if(!e)return"";let r;return e.split("\n").map(o=>{let i=r;return o.length>0&&(i=isNaN(i)?o.search(/\S|$/):Math.min(o.search(/\S|$/),i)),isNaN(r)&&(r=i),i?o.substring(i):o}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(we(Wc),we(JI),we(Oy,8),we(WV,8),we(QI,8),we(xy))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),K_=(()=>{class t{constructor(e,r,o){this.element=e,this.markdownService=r,this.viewContainerRef=o,this.error=new _n,this.load=new _n,this.ready=new _n,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new W}get inline(){return this._inline}set inline(e){this._inline=this.coerceBooleanProperty(e)}get clipboard(){return this._clipboard}set clipboard(e){this._clipboard=this.coerceBooleanProperty(e)}get emoji(){return this._emoji}set emoji(e){this._emoji=this.coerceBooleanProperty(e)}get katex(){return this._katex}set katex(e){this._katex=this.coerceBooleanProperty(e)}get mermaid(){return this._mermaid}set mermaid(e){this._mermaid=this.coerceBooleanProperty(e)}get lineHighlight(){return this._lineHighlight}set lineHighlight(e){this._lineHighlight=this.coerceBooleanProperty(e)}get lineNumbers(){return this._lineNumbers}set lineNumbers(e){this._lineNumbers=this.coerceBooleanProperty(e)}get commandLine(){return this._commandLine}set commandLine(e){this._commandLine=this.coerceBooleanProperty(e)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(function DV(t){return $e((n,e)=>{S(t).subscribe(ct(e,()=>e.complete(),B)),!e.closed&&n.subscribe(e)})}(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(e,r=!1){const i={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=this.markdownService.parse(e,{decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,i,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(e){return null!=e&&"false"!=`${String(e)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:e=>{this.render(e),this.load.emit(e)},error:e=>this.error.emit(e)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Ud.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Ud.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++){const s=r instanceof Array?r:[r];o.item(i).classList.add(...s)}}setPluginOptions(e,r){const o=e.querySelectorAll("pre");for(let i=0;i<o.length;i++)Object.keys(r).forEach(s=>{const a=r[s];if(a){const c=this.toLispCase(s);o.item(i).setAttribute(c,a.toString())}})}toLispCase(e){const r=e.match(/([A-Z])/g);if(!r)return e;let o=e.toString();for(let i=0,s=r.length;i<s;i++)o=o.replace(new RegExp(r[i]),"-"+r[i].toLowerCase());return"-"===o.slice(0,1)&&(o=o.slice(1)),o}}return t.\u0275fac=function(e){return new(e||t)(C(vt),C(Y_),C(ci))},t.\u0275cmp=m({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[ho],ngContentSelectors:UV,decls:1,vars:0,template:function(e,r){1&e&&(At(),xt(0))},encapsulation:2}),t})(),X_=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[Y_,e&&e.loader||[],e&&e.clipboardOptions||[],e&&e.markedOptions||[],{provide:JI,useValue:e&&null!=e.sanitize?e.sanitize:Dr.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[Gs]}),t})();var eM;!function(t){let n;var o;let e,r;(o=n=t.SecurityLevel||(t.SecurityLevel={})).Strict="strict",o.Loose="loose",o.Antiscript="antiscript",o.Sandbox="sandbox",function(o){o.Base="base",o.Forest="forest",o.Dark="dark",o.Default="default",o.Neutral="neutral"}(e=t.Theme||(t.Theme={})),function(o){o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warn=3]="Warn",o[o.Error=4]="Error",o[o.Fatal=5]="Fatal"}(r=t.LogLevel||(t.LogLevel={}))}(eM||(eM={}));var Me=F(3918);window;const tM=!navigator.userAgent.match(/(crios)|(fxios)/i),qs=!!navigator.platform.match(/iPhone|iPad|iPod/)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,nM=!!navigator.userAgent.match(/android/i);var ol=(()=>{return(t=ol||(ol={})).web="web",t.pwa="pwa",t.twa="twa",ol;var t})();new Error("timeout while waiting for mutex to become available"),new Error("mutex already locked");const nH=new Error("request for lock canceled");var rM=function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(g){try{f(r.next(g))}catch(y){s(y)}}function c(g){try{f(r.throw(g))}catch(y){s(y)}}function f(g){g.done?i(g.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(g.value).then(a,c)}f((r=r.apply(t,n||[])).next())})};class rH{constructor(n,e=nH){if(this._maxConcurrency=n,this._cancelError=e,this._queue=[],this._waiters=[],n<=0)throw new Error("semaphore must be initialized to a positive value");this._value=n}acquire(){const n=this.isLocked(),e=new Promise((r,o)=>this._queue.push({resolve:r,reject:o}));return n||this._dispatch(),e}runExclusive(n){return rM(this,void 0,void 0,function*(){const[e,r]=yield this.acquire();try{return yield n(e)}finally{r()}})}waitForUnlock(){return rM(this,void 0,void 0,function*(){return this.isLocked()?new Promise(e=>this._waiters.push({resolve:e})):Promise.resolve()})}isLocked(){return this._value<=0}release(){if(this._maxConcurrency>1)throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){const n=this._currentReleaser;this._currentReleaser=void 0,n()}}cancel(){this._queue.forEach(n=>n.reject(this._cancelError)),this._queue=[]}_dispatch(){const n=this._queue.shift();if(!n)return;let e=!1;this._currentReleaser=()=>{e||(e=!0,this._value++,this._resolveWaiters(),this._dispatch())},n.resolve([this._value--,this._currentReleaser])}_resolveWaiters(){this._waiters.forEach(n=>n.resolve()),this._waiters=[]}}class Zs{constructor(n){this._semaphore=new rH(1,n)}acquire(){return function(t,n,e,r){return new(e||(e=Promise))(function(i,s){function a(g){try{f(r.next(g))}catch(y){s(y)}}function c(g){try{f(r.throw(g))}catch(y){s(y)}}function f(g){g.done?i(g.value):function o(i){return i instanceof e?i:new e(function(s){s(i)})}(g.value).then(a,c)}f((r=r.apply(t,n||[])).next())})}(this,void 0,void 0,function*(){const[,n]=yield this._semaphore.acquire();return n})}runExclusive(n){return this._semaphore.runExclusive(()=>n())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.release()}cancel(){return this._semaphore.cancel()}}const yh="cloudpilot-session-preview";function iM(){localStorage.removeItem(yh)}function bi(){return(t,n,e)=>{const r=e.value;let o=!1;return e.value=(0,Me.Z)(function*(){if(!o){o=!0;try{return yield r.apply(this,arguments)}finally{o=!1}}}),e}}let xa=(()=>{class t{constructor(){}getCurrentSession(){return this.currentSession}setCurrentSession(e){this.currentSession=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Pr{constructor(n,e){this.alertController=n,this.emulationState=e,this.emergencySaveEvent=new Ro.j}errorMessage(n){var e=this;return(0,Me.Z)(function*(){yield(yield e.alertController.create({header:"Error",backdropDismiss:!1,message:n,buttons:[{text:"Close",role:"cancel"}]})).present()})()}message(n,e,r={},o="Close"){var i=this;return(0,Me.Z)(function*(){const s=yield i.alertController.create({header:n,message:e,backdropDismiss:!1,buttons:[...Object.keys(r).map(a=>({text:a,handler:()=>{r[a](),s.dismiss()}})),{text:o,role:"cancel"}]});yield s.present(),yield s.onDidDismiss()})()}updateAvailable(){var n=this;return(0,Me.Z)(function*(){const e=yield n.alertController.create({header:"Update available",message:"An update is available. Please close CloudpilotEmu and reload in order to update.",backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()},{text:"Close",role:"cancel"}]});yield e.present(),yield e.onDidDismiss()})()}fatalError(n,e=!0){var r=this;return(0,Me.Z)(function*(){const o=!!r.emulationState.getCurrentSession(),i=yield r.alertController.create({header:"Error",message:`\n                ${n}\n                <br/><br/>\n                Please close or reload this window.\n                ${o&&e?" You may save an image of your current session before reloading.":""}\n            `,backdropDismiss:!1,buttons:[...o&&e?[{text:"Save image",handler:()=>(r.emergencySaveEvent.dispatch(),!1)}]:[],{text:"Reload",handler:()=>window.location.reload()}],cssClass:"fatal-error"});yield i.present(),yield i.onDidDismiss()})()}errorInNativeCode(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.alertController.create({header:"Error",message:`\n                You encountered a bug in CloudpilotEmu:\n                <br/><br/>\n                ${n}.\n                <br/><br/>\n                Please close or reload this window.\n            `,backdropDismiss:!1,buttons:[{text:"Reload",handler:()=>window.location.reload()}]});yield r.present(),yield r.onDidDismiss()})()}proxyVersionMismatchError(){return this.errorMessage("\n            Server version does not match CloudpilotEmu. Please make sure that you are using the latest\n            versions of CloudpilotEmu and of the server.\n        ")}cardHasNoValidFileSystem(){return this.message("No filesystem","This card does not contain a valid filesystem.",{},"Continue")}cardHasUncorrectableErrors(){return this.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors.",{},"Continue")}cardIsClean(){return this.message("Card clean","No filesystem errors were found.",{},"Continue")}}Pr.\u0275fac=function(n){return new(n||Pr)(we(ru),we(xa))},Pr.\u0275prov=wt({token:Pr,factory:Pr.\u0275fac,providedIn:"root"}),ue([bi()],Pr.prototype,"updateAvailable",null),ue([bi()],Pr.prototype,"fatalError",null),ue([bi()],Pr.prototype,"errorInNativeCode",null);let Kl=(()=>{class t{constructor(e,r){this.alertService=e,this.ngZone=r,this.fatalPageLockLost=()=>this.fatalWithMessage("CloudpilotEmu was opened in another tab or window.",!1),this.fatalIDBDead=()=>this.fatalWithMessage("IndexedDB access failed. This is most likely a browser bug.",!1),this.fatalVersionMismatch=()=>this.fatalWithMessage("\n        Database was written by a newer version of CloudpilotEmu. Please wait for a few seconds before reloading\n        while the latest version downloads in the background.\n    ",!1),this.fatalBug=o=>this.fatalWithMessage(`You encountered a bug in CloudpilotEmu:<br/><br/>${o}.`),this.fatalInNativeCode=o=>this.fatalWithMessage(o.message,!0,!1),this.fatalWithMessage=(o,i=!0,s=!0)=>this.ngZone.run(()=>{this.fatalErrorTriggered||(this.fatalErrorTriggered=!0,i&&iM(),this.fatalErrorEvent.dispatch(),this.alertService.fatalError(o,s))}),this.fatalErrorEvent=new Ro.j,this.fatalErrorTriggered=!1}hasFatalError(){return this.fatalErrorTriggered}}return t.\u0275fac=function(e){return new(e||t)(we(Pr),we(ft))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var qr=(()=>{return(t=qr||(qr={})).cloudpilot="cloudpilot",t.fstools="fstools",t.vfs="vfs",t.none="none",qr;var t})();let su=(()=>{class t{constructor(e){this.errorService=e,this.ownershipMmap=new Map}getOwner(e){return this.ownershipMmap.get(e)??qr.none}claim(e,r){this.assertOwnership(e,qr.none),this.ownershipMmap.set(e,r)}release(e,r){this.assertOwnership(e,r),this.ownershipMmap.delete(e)}assertOwnership(e,r){if(this.getOwner(e)===r)return;const o=`Card is already claimed for ${this.getOwner(e)}.`;throw this.errorService.fatalBug(o),new Error(o)}transferOwnership(e,r,o){this.assertOwnership(e,r),this.ownershipMmap.set(e,o)}}return t.\u0275fac=function(e){return new(e||t)(we(Kl))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sl="session",au="rom",al="memory",Aa="state",_h="kvs",ll="memory-meta",Ys="storage",ns="storage-card",Gd="lock";class lu extends Error{constructor(n){super(n)}}function Yn(t){return new Promise((n,e)=>{!function uH(t){return!!t.abort}(t)?t.onsuccess=()=>n(t.result):t.oncomplete=()=>n(void 0),t.onerror=()=>e(new lu(t.error?.message))})}function aM(t){let n=255&t[0];n|=n<<8,n|=n<<16;for(let e=1;e<256;e++)if(t[e]!==n)return t;return 255&t[0]}function dH(t){const n=t[0];for(let e=1;e<2048;e++)if(t[e]!==n)return t;return n}const vh="session",J_="memory",pH="memory-meta",hH="storage",cM="storage-meta",uM="storage-card",gH="storageId";function ev(){return(ev=(0,Me.Z)(function*(t,n){function e(i){switch(i){case"PalmIIIc":case"PalmM505":case"PalmM515":return 81920;case"PalmI710":case"PalmM130":return 262144;default:return 0}}if(!n)throw new Error("no version change transaction!");const o=n.objectStore(vh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value,f={...c,totalMemory:1024*c.ram*1024+e(c.device)};a.update(f),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function tv(){return(tv=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=n.objectStore("kvs"),r=yield new Promise((o,i)=>{const s=e.get("proxyCredentials");s.onsuccess=()=>o(s.result),s.onerror=()=>i(new Error(s.error?.message))});r&&(e.put(r,"credentials"),e.delete("proxyCredentials"))})).apply(this,arguments)}function nv(){return(nv=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");const e=t.createObjectStore(pH,{keyPath:"sessionId"});t.createObjectStore(hH),t.createObjectStore(cM,{keyPath:"id",autoIncrement:!0});const o=n.objectStore(vh).openCursor();return new Promise((i,s)=>{o.onsuccess=()=>{const a=o.result;if(!a)return void i();const c=a.value;void 0!==c.totalMemory&&(e.put({sessionId:c.id,totalSize:c.totalMemory}),delete c.totalMemory,a.update(c)),a.continue()},o.onerror=a=>s(a)})})).apply(this,arguments)}function rv(){return(rv=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(cM).name=uM})).apply(this,arguments)}function ov(){return(ov=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");n.objectStore(uM).createIndex(gH,"storageId")})).apply(this,arguments)}function iv(){return(iv=(0,Me.Z)(function*(t,n){if(!n)throw new Error("no version change transaction!");t.createObjectStore("lock")})).apply(this,arguments)}var DH=F(5023),IH=F.n(DH);const dM={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let bh;const MH=new Uint8Array(16);function kH(){if(!bh&&(bh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bh(MH)}const Yo=[];for(let t=0;t<256;++t)Yo.push((t+256).toString(16).slice(1));const sv=function TH(t,n,e){if(dM.randomUUID&&!n&&!t)return dM.randomUUID();const r=(t=t||{}).random||(t.rng||kH)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){e=e||0;for(let o=0;o<16;++o)n[e+o]=r[o];return n}return function fM(t,n=0){return(Yo[t[n+0]]+Yo[t[n+1]]+Yo[t[n+2]]+Yo[t[n+3]]+"-"+Yo[t[n+4]]+Yo[t[n+5]]+"-"+Yo[t[n+6]]+Yo[t[n+7]]+"-"+Yo[t[n+8]]+Yo[t[n+9]]+"-"+Yo[t[n+10]]+Yo[t[n+11]]+Yo[t[n+12]]+Yo[t[n+13]]+Yo[t[n+14]]+Yo[t[n+15]]).toLowerCase()}(r)},av=new Error("page lock lost"),pM=new Error("version mismatch"),hM=sv();function to(){return(t,n,e)=>{const r=e.value;return e.value=(0,Me.Z)(function*(){const o=this.errorService;try{return yield r.apply(this,arguments)}catch(i){throw i instanceof lu?o.fatalIDBDead():i===pM?o.fatalVersionMismatch():i===av?o.fatalPageLockLost():o.fatalBug(i?.message),i}}),e}}class $n{constructor(n,e,r){this.ngZone=n,this.errorService=e,this.storageCardContext=r,this.saveMemory=(o,i,s)=>this.ngZone.runOutsideAngular(()=>{const a=o.objectStore(al),c=o.objectStore(ll),f=new Uint32Array(256),g=new Uint8Array(f.buffer);a.delete(IDBKeyRange.bound([i,0],[i+1,0],!1,!0)),c.put({sessionId:i,totalSize:s.length});const E=s.length>>>10;for(let A=0;A<E;A++){g.set(s.subarray(1024*A,1024*(A+1)));const J=aM(f);if("number"==typeof J)a.put(J,[i,A]);else{const xe=new Uint32Array(256);xe.set(J),a.put(xe,[i,A])}}}),this.loadMemory=(o,i)=>this.ngZone.runOutsideAngular((0,Me.Z)(function*(){const s=o.objectStore(ll),a=yield Yn(s.get(i));if(a)return new Promise(function(){var c=(0,Me.Z)(function*(f,g){const y=o.objectStore(al),E=new Uint32Array(a.totalSize>>>2),A=y.openCursor(IDBKeyRange.bound([i,0],[i+1,0],!1,!0));A.onsuccess=()=>{const J=A.result;if(!J)return f(new Uint8Array(E.buffer));const xe=J.value,[,Xe]=J.key;"number"==typeof xe?E.subarray(256*Xe,256*(Xe+1)).fill(xe|xe<<8|xe<<16|xe<<24):E.subarray(256*Xe,256*(Xe+1)).set(1024===xe.length?new Uint32Array(xe.buffer):xe),J.continue()},A.onerror=()=>g(new lu(A.error?.message))});return function(f,g){return c.apply(this,arguments)}}())})),this.sessionChangeEvent=new Ro.j,this.storageCardChangeEvent=new Ro.j,this.sessionUpdateMutex=new Zs,this.db=this.requestPersistentStorage().then(()=>n.runOutsideAngular(()=>this.setupDb()))}getDb(){return this.db}addSession(n,e,r,o){var i=this;return(0,Me.Z)(function*(){const s=IH()(e),a=yield i.newTransaction(sl,au,Aa,al,ll),c=a.objectStore(sl),f=a.objectStore(au);(yield Yn(f.get(s)))||f.put(e,s);const{id:y,...E}=n,A=yield Yn(c.add({...E,rom:s})),J=yield Yn(c.get(A));return r&&i.saveMemory(a,J.id,r),o&&i.saveState(a,J.id,o),yield Yn(a),J})()}getAllSessions(){var n=this;return(0,Me.Z)(function*(){const[e]=yield n.prepareObjectStore(sl);return yield Yn(e.getAll())})()}getSession(n){var e=this;return(0,Me.Z)(function*(){const[r]=yield e.prepareObjectStore(sl);return yield Yn(r.get(n))})()}deleteSession(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.newTransaction(sl,au,Aa,al,ll),o=r.objectStore(sl),i=r.objectStore(au);(n=yield Yn(o.get(n.id)))&&(o.delete(n.id),0===(yield Yn(o.index("rom").getAll(n.rom))).length&&i.delete(n.rom),e.deleteMemory(r,n.id),e.deleteState(r,n.id),yield Yn(r),e.sessionChangeEvent.dispatch([n.id,void 0]))})()}updateSessionPartial(n,e){var r=this;return this.sessionUpdateMutex.runExclusive((0,Me.Z)(function*(){const{id:o,rom:i,ram:s,device:a,...c}=e,[f,g]=yield r.prepareObjectStore(sl),y=yield Yn(f.get(n));if(!y)throw new Error(`no session with id ${n}`);const E={...y,...c};f.put(E),yield Yn(g),r.sessionChangeEvent.dispatch([y.id,E])}))}updateSession(n){var e=this;return this.sessionUpdateMutex.runExclusive((0,Me.Z)(function*(){const[r,o]=yield e.prepareObjectStore(sl),i=yield Yn(r.get(n.id));if(!i)throw new Error(`no session with id ${n.id}`);if(i.rom!==n.rom)throw new Error("attempt to change ROM reference");if(i.ram!==n.ram)throw new Error("attempt to change RAM size");if(i.device!==n.device)throw new Error("attempt to change device type");r.put(n),yield Yn(o),e.sessionChangeEvent.dispatch([n.id,n])}))}loadSession(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.newTransaction(au,Aa,al,ll),o=r.objectStore(au);return[yield Yn(o.get(n.rom)),yield e.loadMemory(r,n.id),yield e.loadState(r,n.id)]})()}deleteStateForSession(n){var e=this;return(0,Me.Z)(function*(){const[r,o]=yield e.prepareObjectStore(Aa);r.delete(n.id),yield Yn(o)})()}addEmptyStorageCard(n){var e=this;return(0,Me.Z)(function*(){const[r]=yield e.prepareObjectStore(ns),o=yield Yn(r.add(n)),i=yield Yn(r.get(o));return e.storageCardChangeEvent.dispatch(i.id),i})()}importStorageCard(n,e){var r=this;return(0,Me.Z)(function*(){return r.ngZone.runOutsideAngular((0,Me.Z)(function*(){const o=yield r.newTransaction(ns,Ys),i=o.objectStore(ns),s=o.objectStore(Ys),a=yield Yn(i.add(n)),c=(n.size>>>13)+(e.length%8192==0?0:1),f=new Uint32Array(2048);for(let y=0;y<c;y++){const E=e.subarray(2048*y,2048*(y+1));y===c-1&&f.set(E);const A=dH(y===c-1?f:E);0!==A&&s.put("number"==typeof A?A:A?.slice(),[a,y])}const g=yield Yn(i.get(a));return yield Yn(o),r.storageCardChangeEvent.dispatch(g.id),g}))})()}getAllStorageCards(){var n=this;return(0,Me.Z)(function*(){const[e]=yield n.prepareObjectStore(ns);return Yn(e.getAll())})()}getCard(n){var e=this;return(0,Me.Z)(function*(){const[r]=yield e.prepareObjectStore(ns);return Yn(r.get(n))})()}updateStorageCardPartial(n,e){var r=this;return(0,Me.Z)(function*(){const{storageId:o,size:i,id:s,...a}=e,[c,f]=yield r.prepareObjectStore(ns),g=yield Yn(c.get(n));if(!g)throw new Error(`no card with id ${n}`);const y={...g,...a};c.put(y),yield Yn(f),r.storageCardChangeEvent.dispatch(n)})()}deleteStorageCard(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.newTransaction(ns,Ys);e.storageCardContext.assertOwnership(n,qr.none);const o=r.objectStore(ns),i=r.objectStore(Ys);o.delete(n),i.delete(IDBKeyRange.bound([n,0],[n+1,0],!1,!0)),yield Yn(r),e.storageCardChangeEvent.dispatch(n)})()}loadCardData(n,e,r){var o=this;return this.ngZone.runOutsideAngular((0,Me.Z)(function*(){const i=yield o.newTransaction(ns,Ys);o.storageCardContext.assertOwnership(n,r);const s=i.objectStore(Ys);yield new Promise(function(){var a=(0,Me.Z)(function*(c,f){const g=s.openCursor(IDBKeyRange.bound([n,0],[n+1,0],!1,!0));g.onsuccess=()=>{const y=g.result;if(!y)return c();let E=y.value;const[,A]=y.key;"number"==typeof E?e.subarray(2048*A,2048*(A+1)).fill(E):(2048*(A+1)>e.length&&(E=E.subarray(0,2048-2048*(A+1)+e.length)),e.subarray(2048*A,2048*(A+1)).set(E)),y.continue()},g.onerror=()=>f(new lu(g.error?.message))});return function(c,f){return a.apply(this,arguments)}}())}))}updateCardData(n,e,r,o){var i=this;return this.ngZone.runOutsideAngular((0,Me.Z)(function*(){const s=yield i.newTransaction(ns,Ys);i.storageCardContext.assertOwnership(n,o);const a=s.objectStore(ns),c=s.objectStore(Ys),f=yield Yn(a.get(n));if(!f)throw new Error(`no card with ID ${n}`);if(e.length!==f.size>>>2)throw new Error("data size mismatch");const g=(f.size>>>13)+(f.size%8192>0?1:0);if((g>>>3)+(g%8>0?1:0)!==r.length)throw new Error("dirty pages size mismatch");let y=0;for(let E=0;E<r.length;E++)for(let A=1;A<256&&!(y>=g);A<<=1)r[E]&A&&c.put(e.subarray(2048*y,2048*(y+1)).slice(),[f.id,y]),y++;yield Yn(s)}))}kvsGet(n){var e=this;return(0,Me.Z)(function*(){const[r]=yield e.prepareObjectStore(_h);return Yn(r.get(n))})()}kvsSet(n){var e=this;return(0,Me.Z)(function*(){const[r,o]=yield e.prepareObjectStore(_h);for(const i of Object.keys(n))r.put(n[i],i);yield Yn(o)})()}kvsLoad(){var n=this;return(0,Me.Z)(function*(){const[e]=yield n.prepareObjectStore(_h);return new Promise((r,o)=>{const i={},s=e.openCursor();s.onsuccess=()=>{const a=s.result;if(!a)return r(i);i[a.key]=a.value,a.continue()},s.onerror=()=>o(new lu(s.error?.message))})})()}kvsDelete(n){var e=this;return(0,Me.Z)(function*(){const[r,o]=yield e.prepareObjectStore(_h);r.delete(n),yield Yn(o)})()}acquireLock(n){var e=this;return(0,Me.Z)(function*(){if(e.errorService.hasFatalError())throw new Error("fatal error detected --- refusing DB access");if((yield Yn(n.objectStore(Gd).get(0)))!==hM)throw n.abort(),n.db.close(),av})()}newTransaction(...n){var e=this;return(0,Me.Z)(function*(){const r=(yield e.db).transaction([Gd,...n],"readwrite");return yield e.acquireLock(r),r})()}prepareObjectStore(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.newTransaction(n);return[r.objectStore(n),r]})()}saveState(n,e,r){const o=n.objectStore(Aa);r?o.put(r,e):o.delete(e)}deleteState(n,e){n.objectStore(Aa).delete(e)}loadState(n,e){return Yn(n.objectStore(Aa).get(e))}deleteMemory(n,e){const r=n.objectStore(al),o=n.objectStore(ll);r.delete(IDBKeyRange.bound([e,0],[e+1,0],!1,!0)),o.delete(e)}initializeLock(n){return(0,Me.Z)(function*(){const e=n.transaction(Gd,"readwrite");yield Yn(e.objectStore(Gd).put(hM,0))})()}setupDb(){var n=this;return(0,Me.Z)(function*(){const e=setTimeout(()=>qs&&window.location.reload(),500);try{if(indexedDB.databases){const o=(yield indexedDB.databases()).find(i=>"cloudpilot-preview"===i.name);if(clearTimeout(e),o&&void 0!==o.version&&o.version>9)throw pM}const r=yield new Promise((o,i)=>{const s=indexedDB.open("cloudpilot-preview",9);s.onerror=()=>{i(new lu("failed to open DB"))},s.onsuccess=()=>{o(s.result)},s.onupgradeneeded=function(){var a=(0,Me.Z)(function*(c){clearTimeout(e),c.oldVersion<1&&function yH(t){t.createObjectStore(vh,{keyPath:"id",autoIncrement:!0}).createIndex("rom","rom"),t.createObjectStore("state")}(s.result),c.oldVersion<2&&function _H(t,n){if(!n)throw new Error("no version change transaction!");t.objectStoreNames.contains("rom")&&t.deleteObjectStore("rom"),t.objectStoreNames.contains(J_)&&t.deleteObjectStore(J_),n.objectStore(vh).clear(),t.createObjectStore("rom"),t.createObjectStore(J_),t.createObjectStore("kvs")}(s.result,s.transaction),c.oldVersion<4&&(yield function vH(t,n){return ev.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<5&&(yield function bH(t,n){return tv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<6&&(yield function wH(t,n){return nv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<7&&(yield function CH(t,n){return rv.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<8&&(yield function SH(t,n){return ov.apply(this,arguments)}(s.result,s.transaction)),c.oldVersion<9&&(yield function EH(t,n){return iv.apply(this,arguments)}(s.result,s.transaction))});return function(c){return a.apply(this,arguments)}}()});return yield n.initializeLock(r),r}finally{clearTimeout(e)}})()}requestPersistentStorage(){return(0,Me.Z)(function*(){(!navigator.storage?.persist||!navigator.storage?.persisted)&&console.log("storage manager not supported; unable to request persistent storage");try{(yield navigator.storage.persisted())||(yield navigator.storage.persist())?console.log("persistent storage enabled"):console.log("request for persistent storage denied by browser")}catch(n){console.warn(n),console.log("failed to request persistent storage")}})()}}$n.\u0275fac=function(n){return new(n||$n)(we(ft),we(Kl),we(su))},$n.\u0275prov=wt({token:$n,factory:$n.\u0275fac,providedIn:"root"}),ue([to()],$n.prototype,"addSession",null),ue([to()],$n.prototype,"getAllSessions",null),ue([to()],$n.prototype,"getSession",null),ue([to()],$n.prototype,"deleteSession",null),ue([to()],$n.prototype,"updateSessionPartial",null),ue([to()],$n.prototype,"updateSession",null),ue([to()],$n.prototype,"loadSession",null),ue([to()],$n.prototype,"deleteStateForSession",null),ue([to()],$n.prototype,"addEmptyStorageCard",null),ue([to()],$n.prototype,"importStorageCard",null),ue([to()],$n.prototype,"getAllStorageCards",null),ue([to()],$n.prototype,"getCard",null),ue([to()],$n.prototype,"updateStorageCardPartial",null),ue([to()],$n.prototype,"deleteStorageCard",null),ue([to()],$n.prototype,"loadCardData",null),ue([to()],$n.prototype,"kvsGet",null),ue([to()],$n.prototype,"kvsSet",null),ue([to()],$n.prototype,"kvsDelete",null),ue([to()],$n.prototype,"newTransaction",null),ue([to()],$n.prototype,"prepareObjectStore",null),ue([to()],$n.prototype,"initializeLock",null),ue([to()],$n.prototype,"setupDb",null);const mM={volume:.5,showStatistics:!1,clipboardIntegration:!1,networkRedirection:!1,proxyServer:"",credentials:{},runHidden:!1,autoLockUI:!1,enableRemoteInstall:!1,enableAudioOnFirstInteraction:!1};let Li=(()=>{class t{constructor(e){var r=this;this.storageService=e,this.set=o=>this.storageMutex.runExclusive((0,Me.Z)(function*(){yield r.storageService.kvsSet(o);for(const i of Object.keys(o))r.rawKvs[i]=o[i];r.updateEvent.dispatch()})),this.updateEvent=new Ro.j,this.mutex=new Zs,this.storageMutex=new Zs,this.initializationPromise=this.startInitialiation()}initialize(){var e=this;return(0,Me.Z)(function*(){return e.initializationPromise})()}get kvs(){return this.kvsProxy}startInitialiation(){var e=this;return(0,Me.Z)(function*(){const r=e;try{const o={...mM,...yield e.storageService.kvsLoad()};e.rawKvs=o,e.kvsProxy=new Proxy(o,{set:(i,s,a)=>(i[s]=a,r.storageMutex.runExclusive(()=>r.storageService.kvsSet({[s]:a})),r.updateEvent.dispatch(),!0),deleteProperty:(i,s)=>(delete i[s],r.storageMutex.runExclusive(()=>r.storageService.kvsDelete(s)),r.updateEvent.dispatch(),!0)})}catch(o){console.error("failed to load KVS"),console.error(o),e.kvsProxy={...mM}}})()}}return t.\u0275fac=function(e){return new(e||t)(we($n))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gM=(()=>{class t{constructor(e,r){var o=this;this.kvsService=e,this.alertService=r,this.serviceWorkerKeepalive=(0,Me.Z)(function*(){if(navigator.serviceWorker)try{const i=yield navigator.serviceWorker.getRegistration();i?.active?.postMessage&&i.active.postMessage({})}catch{}setTimeout(o.serviceWorkerKeepalive,9e5)}),this.installationMode=this.determineInstallationMode(),this.serviceWorkerKeepalive()}promptForInstall(){return(qs||nM)&&this.installationMode===ol.web}getInstallationMode(){return this.installationMode}install(){this.alertService.message("Install app",this.getInstallMessage())}invite(){!this.promptForInstall()||this.kvsService.kvs.didShowInvitation||(this.kvsService.kvs.didShowInvitation=!0,window.hasOwnProperty("onbeforeinstallprompt")||this.alertService.message("App available",this.getInviteMessage()))}getInstallMessage(){return qs&&tM?'\n    Tap the "Share" icon on the bottom of the screen (the little box with the arrow)\n    and select "Add to Home Screen" in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':qs?'\n    Open CloudpilotEmu in Safari, tap the "Share" icon on the bottom of the screen\n    (the little box with the arrow) and select "Add to Home Screen" in order to install\n    CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Open your browser\'s menu and tap "Add to Home screen" or "Install App"\n    in order to install CloudpilotEmu as an app.\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}getInviteMessage(){return qs&&tM?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by tapping the "Share" icon\n    at the bottom of the screen (the little box with the arrow) and selecting\n    "Add to Home Screen".\n    <br/><br/>\n    This removes the browser UI and makes sure that Safari never deletes your sessions.\n':qs?'\n    Howdy! It seems that you are using CloudpilotEmu on an iPhone or iPad. You can\n    install CloudpilotEmu as an app by opening it in Safari,\n    tapping the "Share" icon at the bottom of the screen (the little box with the arrow)\n    and selecting "Add to Home Screen"\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n':'\n    Howdy! It seems that you are using CloudpilotEmu on an Android device. You can\n    install CloudpilotEmu as an app by opening your browser\'s menu\n    and tapping "Add to Home screen".\n    <br/><br/>\n    This removes the browser UI and gives you a native app experience.\n'}determineInstallationMode(){return window.navigator.standalone?ol.pwa:document.referrer.startsWith("android-app://")?ol.twa:window.matchMedia("(display-mode: standalone)").matches?ol.pwa:ol.web}}return t.\u0275fac=function(e){return new(e||t)(we(Li),we(Pr))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function LH(t,n){1&t&&(de(0,"div",6),pt(1,"ion-spinner"),re())}let zd=(()=>{class t{constructor(e){this.modalController=e,this.title="Help",this.loading=!0}}return t.\u0275fac=function(e){return new(e||t)(C(Ds))},t.\u0275cmp=m({type:t,selectors:[["app-help"]],inputs:{url:"url",title:"title"},decls:10,vars:3,consts:[["translucent",""],["slot","primary"],[3,"click"],["fullscreen",""],["class","loader",4,"ngIf"],[3,"src","load"],[1,"loader"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Je(3),re(),de(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.modalController.dismiss()}),Je(6,"Close"),re()()()(),de(7,"ion-content",3),en(8,LH,2,0,"div",4),de(9,"markdown",5),lt("load",function(){return r.loading=!1}),re()()),2&e&&(tt(3),Wi(r.title),tt(5),rt("ngIf",r.loading),tt(1),rt("src",r.url))},dependencies:[Po,K_,Yi,Ki,Xi,Qi,Nd,ts,es],styles:["markdown[_ngcontent-%COMP%]{display:block;padding-left:1em;padding-right:1em}.loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]}),t})();const Xl="1.7.9-efd08b9 (preview)";var wh=F(9897);let Wd=null;const Ch=(t=t=>{const n=new Map([[0,()=>{}]]),e=new Map([[0,()=>{}]]),r=new Map,o=new Worker(t);return o.addEventListener("message",({data:f})=>{if((t=>void 0!==t.method&&"call"===t.method)(f)){const{params:{timerId:g,timerType:y}}=f;if("interval"===y){const E=n.get(g);if("number"==typeof E){const A=r.get(E);if(void 0===A||A.timerId!==g||A.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof E<"u"))throw new Error("The timer is in an undefined state.");E()}}else if("timeout"===y){const E=e.get(g);if("number"==typeof E){const A=r.get(E);if(void 0===A||A.timerId!==g||A.timerType!==y)throw new Error("The timer is in an undefined state.")}else{if(!(typeof E<"u"))throw new Error("The timer is in an undefined state.");E(),e.delete(g)}}}else{if(!(t=>null===t.error&&"number"==typeof t.id)(f)){const{error:{message:g}}=f;throw new Error(g)}{const{id:g}=f,y=r.get(g);if(void 0===y)throw new Error("The timer is in an undefined state.");const{timerId:E,timerType:A}=y;r.delete(g),"interval"===A?n.delete(E):e.delete(E)}}}),{clearInterval:f=>{const g=(0,wh.generateUniqueNumber)(r);r.set(g,{timerId:f,timerType:"interval"}),n.set(f,g),o.postMessage({id:g,method:"clear",params:{timerId:f,timerType:"interval"}})},clearTimeout:f=>{const g=(0,wh.generateUniqueNumber)(r);r.set(g,{timerId:f,timerType:"timeout"}),e.set(f,g),o.postMessage({id:g,method:"clear",params:{timerId:f,timerType:"timeout"}})},setInterval:(f,g)=>{const y=(0,wh.generateUniqueNumber)(n);return n.set(y,()=>{f(),"function"==typeof n.get(y)&&o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:y,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:y,timerType:"interval"}}),y},setTimeout:(f,g)=>{const y=(0,wh.generateUniqueNumber)(e);return e.set(y,f),o.postMessage({id:null,method:"set",params:{delay:g,now:performance.now(),timerId:y,timerType:"timeout"}}),y}}},()=>{if(null!==Wd)return Wd;const e=new Blob(['(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error(\'There is no interval scheduled with the given id "\'.concat(t,\'".\'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error(\'The given type "\'.concat(i,\'" is not supported\'));(e=>{const r=t.get(e);if(void 0===r)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error(\'The given method "\'.concat(s.method,\'" is not supported\'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error(\'The given type "\'.concat(d,\'" is not supported\'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();'],{type:"application/javascript; charset=utf-8"}),r=URL.createObjectURL(e);return Wd=t(r),Wd.setTimeout(()=>URL.revokeObjectURL(r),0),Wd});var t,cl=(()=>(function(t){t[t.animationFrame=0]="animationFrame",t[t.timeout=1]="timeout"}(cl||(cl={})),cl))();class _M{constructor(n){this.callback=n}schedule(){void 0===this.handle&&(this.handle=requestAnimationFrame(n=>{this.handle=void 0,this.callback(n)}))}cancel(){void 0!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return cl.animationFrame}}class GH{constructor(n,e=60){this.callback=n,this.fps=e}schedule(){if(void 0!==this.handle)return;const n=performance.now(),e=1e3*Math.ceil(n/1e3*this.fps)/this.fps;this.handle=((t,n)=>Ch().setTimeout(t,n))(()=>{this.handle=void 0,this.callback(performance.now())},Math.max(e-n,0))}cancel(){void 0!==this.handle&&((t=>{Ch().clearTimeout(t)})(this.handle),this.handle=void 0)}isScheduled(){return void 0!==this.handle}getKind(){return cl.timeout}}const zH=[135,135,105],WH=[0,0,0],ul=new Array(16).fill(0).map((t,n)=>WH.map((e,r)=>Math.floor((n*e+(15-n)*zH[r])/15))).map(([t,n,e])=>4278190080|e<<16|n<<8|t),lv=ul.map(t=>"#"+(16777215&t).toString(16).padStart(6,"0").match(/(..?)/g)?.reverse().join(""));var fe=(()=>(function(t){t.palmPilot="PalmPilot",t.pilot="Pilot",t.iii="PalmIII",t.palmVx="PalmVx",t.palmV="PalmV",t.palmVII="PalmVII",t.palmVIIEZ="PalmVIIEZ",t.palmVIIx="PalmVIIx",t.iiic="PalmIIIc",t.iiix="PalmIIIx",t.iiixe="PalmIIIxe",t.iiie="PalmIIIe",t.m500="PalmM500",t.m505="PalmM505",t.m515="PalmM515",t.m100="PalmM100",t.m105="PalmM105",t.m125="PalmM125",t.m130="PalmM130",t.i705="Palmi705",t.i710="PalmI710",t.handera330="HandEra330",t.pegS300="PEG-S300",t.pegS320="PEG-S320",t.pegS500c="PEG-S500C",t.pegT400="PEG-T400",t.pegN600c="PEG-N600C/N610C",t.pegT600c="PEG-T600",t.pegN700c="PEG-N700C/N710C",t.pegT650c="YSX1230",t.pegNR70="NR70"}(fe||(fe={})),fe))(),dl=(()=>(function(t){t.sdcard="sdcard",t.memorystick="memorystick",t.none="none"}(dl||(dl={})),dl))();function qd(t){switch(t){case fe.i710:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case fe.handera330:return{screenSize:2,width:240,height:320,silkscreenHeight:0};case fe.pegS300:case fe.pegS320:case fe.pegS500c:return{screenSize:0,width:160,height:160,silkscreenHeight:76};case fe.pegT600c:case fe.pegT400:case fe.pegT650c:return{screenSize:1,width:320,height:320,silkscreenHeight:140,silkscreenOvershoot:10};case fe.pegN600c:case fe.pegN700c:return{screenSize:1,width:320,height:320,silkscreenHeight:120};case fe.pegNR70:return{screenSize:3,width:320,height:480,silkscreenHeight:0};default:return{screenSize:0,width:160,height:160,silkscreenHeight:60}}}function cv(t){switch(t){case fe.pilot:case fe.palmPilot:case fe.iii:case fe.palmV:case fe.palmVx:case fe.iiix:case fe.iiixe:case fe.iiie:case fe.m100:case fe.m105:case fe.m125:case fe.m500:case fe.palmVII:case fe.palmVIIEZ:case fe.palmVIIx:case fe.i705:case fe.handera330:case fe.pegS300:case fe.pegS320:case fe.pegT400:return!1;default:return!0}}function vM(t){switch(t){case fe.pilot:return"Pilot";case fe.palmPilot:return"Palm Pilot";case fe.iii:return"Palm III";case fe.m500:return"Palm m500";case fe.m505:return"Palm m505";case fe.m515:return"Palm m515";case fe.palmVx:return"Palm Vx";case fe.iiix:return"Palm IIIx";case fe.iiixe:return"Palm IIIxe";case fe.iiie:return"Palm IIIe";case fe.palmV:return"Palm V";case fe.palmVII:return"Palm VII";case fe.palmVIIEZ:return"Palm VII EZ";case fe.palmVIIx:return"Palm VIIx";case fe.iiic:return"Palm IIIc";case fe.m100:return"Palm m100";case fe.m105:return"Palm m105";case fe.m125:return"Palm m125";case fe.m130:return"Palm m130";case fe.i705:return"Palm i705";case fe.i710:return"Tungsten W";case fe.handera330:return"Handera 330";case fe.pegS300:return"Sony PEG-S300";case fe.pegS320:return"Sony PEG-S320";case fe.pegT400:return"Sony PEG-T400 series";case fe.pegN600c:return"Sony PEG-N600C series";case fe.pegT600c:return"Sony PEG-T600C series";case fe.pegN700c:return"Sony PEG-N700C series";case fe.pegT650c:return"Sony PEG-T650C series";case fe.pegNR70:return"Sony PEG-NR70 series";case fe.pegS500c:return"Sony PEG-S500C series";default:throw new Error("bad device ID")}}function bM(t){switch(t){case fe.m500:case fe.m505:case fe.m515:case fe.m125:case fe.m130:case fe.i705:case fe.i710:case fe.handera330:return dl.sdcard;case fe.pegS300:case fe.pegS500c:case fe.pegS320:case fe.pegT400:case fe.pegN600c:case fe.pegT600c:case fe.pegN700c:case fe.pegT650c:case fe.pegNR70:return dl.memorystick;default:return dl.none}}class wM{constructor(n,e){this.queue=new Array(n).fill(0),this.reset(e)}reset(n=0){this.next=1,this.size=1,this.queue[0]=n}push(n){return this.queue[this.next]=n,this.next=(this.next+1)%this.queue.length,this.size<this.queue.length&&this.size++,this}calculateAverage(){let n=0;for(let e=0;e<this.size;e++)n+=this.queue[e];return n/this.size}}class YH{constructor(n){this.start=0,this.size=0,this.buffer=new Array(n)}push(n){return this.size<this.buffer.length?this.buffer[(this.start+this.size++)%this.buffer.length]=n:(this.start=(this.start+1)%this.buffer.length,this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}pop(){if(0===this.size)return;const n=this.buffer[this.start];return this.start=(this.start+1)%this.buffer.length,this.size--,n}peekLast(){if(0!==this.size)return this.buffer[(this.start+this.size-1)%this.buffer.length]}replaceLast(n){return this.size>0&&(this.buffer[(this.start+this.size-1)%this.buffer.length]=n),this}count(){return this.size}flush(){return this.start=0,this.size=0,this}}const i6=new Error("transaction timeout"),SM=new Error("session does not match emulation");let Zd=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.storageService=e,this.emulationState=r,this.errorService=o,this.storageCardContext=i,this.ngZone=s,this.triggerSnapshot=()=>this.ngZone.runOutsideAngular(()=>this.sessionId<0||this.cloudpilot.isSuspended()?Promise.resolve():this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():(this.snapshotInProgress=!0,this.pendingSnapshotPromise=(0,Me.Z)(function*(){try{yield a.triggerSnapshotUnguarded()}finally{a.snapshotInProgress=!1}})(),this.pendingSnapshotPromise)),this.snapshotEvent=new Ro.j,this.sessionId=-1,this.consecutiveErrorCount=0,this.snapshotInProgress=!1,this.pendingSnapshotPromise=Promise.resolve(void 0),this.cardPagePool=[]}initialize(e,r){var o=this;return(0,Me.Z)(function*(){o.errorService.hasFatalError()||(o.sessionId=e.id,o.dirtyPages=void 0,o.pages=void 0,o.state=void 0,o.db=yield o.storageService.getDb(),o.cloudpilot=r,o.resetCard())})()}resetCard(){this.cardPagePool=[],this.cardDirtyPages=void 0}waitForPendingSnapshot(){return this.snapshotInProgress?this.pendingSnapshotPromise:this.errorService.hasFatalError()?Promise.reject():Promise.resolve()}triggerSnapshotUnguarded(){var e=this;return(0,Me.Z)(function*(){for(;;)try{return yield e.triggerSnapshotOnce(),void(e.consecutiveErrorCount=0)}catch(r){if(console.error("snapshot error",r),r===SM)throw e.errorService.fatalBug("attempting to snapshot a session that is not currently running"),r;if(r===av)throw e.errorService.fatalPageLockLost(),r;if(++e.consecutiveErrorCount>3)throw e.errorService.fatalIDBDead(),r}})()}triggerSnapshotOnce(){var e=this;return(0,Me.Z)(function*(){const r=e.db.transaction([al,ll,Aa,Ys,ns,Gd],"readwrite",{durability:"relaxed"});if(yield e.storageService.acquireLock(r),e.cloudpilot.isSuspended())return;if(e.emulationState.getCurrentSession()?.id!==e.sessionId)throw SM;let o;const i=e.cloudpilot.getMountedKey();i&&(o=yield Yn(r.objectStore(ns).index("storageId").get(i)));const s=yield new Promise((a,c)=>{let f=!1;const g=performance.now();let y=0,E=0,A=0;const J=setTimeout(()=>{f=!0;try{r.abort()}catch{}c(i6)},6e3);r.oncomplete=()=>{clearTimeout(J),e.dirtyPages?.fill(0),e.cardDirtyPages?.fill(0),a({timestamp:Date.now(),pages:A,timeBlocking:E-y,timeTotal:performance.now()-g})},r.onerror=()=>{clearTimeout(J),c(new Error(r.error?.message))};try{y=performance.now(),A=e.saveDirtyMemory(r),o&&(A+=e.saveDirtyStorage(o,r)),e.saveSession(r),E=performance.now()}catch(xe){throw f||(clearTimeout(J),r.abort()),xe}});e.snapshotEvent.dispatch(s)})()}saveDirtyMemory(e){let r=0;const o=e.objectStore(al),i=e.objectStore(ll),s=this.cloudpilot.getDirtyPages(),a=this.cloudpilot.getMemory32();let c=0;if(!this.dirtyPages||!this.pages){const g=a.length>>>8;this.dirtyPages=new Uint8Array(s.length),this.pages=new Array(g);for(let y=0;y<g;y++)this.pages[y]=new Uint32Array(256)}i.put({sessionId:this.sessionId,totalSize:a.length<<2});for(let g=0;g<s.length;g++)if(this.dirtyPages[g]|=s[g],s[g]=0,0!==this.dirtyPages[g])for(let y=1;y<256&&!(r>=this.pages.length);y<<=1){if(this.dirtyPages[g]&y){const E=aM(a.subarray(256*r,256*(r+1)));"number"==typeof E?o.put(E,[this.sessionId,r]):(this.pages[r].set(E),o.put(this.pages[r],[this.sessionId,r])),c++}r++}else r+=8;return c}saveDirtyStorage(e,r){const o=this.cloudpilot.getCardDirtyPages(e.storageId),i=this.cloudpilot.getCardData(e.storageId);if(!i)return console.log(`seems ${e.name} was unmounted`),0;if(this.storageCardContext.assertOwnership(e.id,qr.cloudpilot),!o)throw new Error(`failed to retrieve dirty pages for card ${e.name}`);if(i.length!==e.size>>>2)throw new Error("card size mismatch");if(this.cardDirtyPages||(this.cardDirtyPages=new Uint8Array(o.length)),this.cardDirtyPages.length!==o.length)throw new Error("card size has changed without notification");let s=0,a=0,c=0;const f=r.objectStore(Ys),g=(i.length>>11)+(i.length%2048>0?1:0);for(let y=0;y<o.length;y++)if(this.cardDirtyPages[y]|=o[y],o[y]=0,0!==this.cardDirtyPages[y])for(let E=1;E<256&&!(s>=g);E<<=1){if(this.cardDirtyPages[y]&E){a>=this.cardPagePool.length&&this.cardPagePool.push(new Uint32Array(2048));const A=this.cardPagePool[a++];A.set(i.subarray(2048*s,2048*(s+1))),f.put(A,[e.id,s]),c++}s++}else s+=8;return 8*c}saveSession(e){const r=e.objectStore(Aa);if(this.cloudpilot.saveState()){const o=this.cloudpilot.getSavestate();this.state||(this.state=new Uint8Array(o.length)),this.state.set(o),r.put(this.state,this.sessionId)}else console.log("save state failed"),r.delete(this.sessionId)}}return t.\u0275fac=function(e){return new(e||t)(we($n),we(xa),we(Kl),we(su),we(ft))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function s6(t,n){1&t&&(de(0,"p",11),Je(1," ERROR: URL must be served via HTTPS. "),re())}function a6(t){if(!t.value)return{url:"URL empty"};let n;try{n=new(qc())(t.value)}catch{return{url:"URL invalid"}}return"https:"===location.protocol&&"https:"!==n.protocol?{url:"mixed content"}:null}let l6=(()=>{class t{constructor(){this.onContinue=()=>{},this.onCancel=()=>{}}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.continue()}continue(){this.onContinue(new(qc())(this.formGroup.get("url")?.value).toString())}get isMixedContent(){const e=this.formGroup.get("url")?.value;if(!e)return!1;try{const r=new(qc())(e);return"https:"===location.protocol&&"https:"!==r.protocol}catch{}return!1}createFormGroup(){this.formGroup=new Fp({url:new Fo("",a6)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-remote-url-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel"},decls:21,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter URL","formControlName","url"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Je(3,"Enter download URL"),re(),de(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.continue()}),Je(6,"OK"),re()(),de(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),Je(9,"Cancel"),re()()()(),de(10,"ion-content",5)(11,"form",6),lt("keydown",function(i){return r.formKeyDown(i)}),de(12,"p"),Je(13," Please enter the URL from which to download: "),re(),de(14,"ion-item",7)(15,"ion-label",8),Je(16,"URL"),re(),pt(17,"ion-input",9),re(),en(18,s6,2,0,"p",10),de(19,"p"),Je(20," Note that the remote server needs to support the CORS protocol. "),re()()()),2&e&&(tt(5),rt("disabled",r.formGroup.invalid),tt(6),rt("formGroup",r.formGroup),tt(7),rt("ngIf",r.isMixedContent))},dependencies:[Po,Yi,Ki,Xi,Qi,ql,Zo,Ji,ts,es,Wl,$l,Nl,Ll,Sa,Ja],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}.error[_ngcontent-%COMP%]{color:var(--ion-color-danger)}"]}),t})();function uv(t){const n=new Date;return`${t}_${n.getFullYear()}${(n.getMonth()+1).toString().padStart(2,"0")}${n.getDate().toString().padStart(2,"0")}-${n.getHours().toString().padStart(2,"0")}${n.getMinutes().toString().padStart(2,"0")}${n.getSeconds().toString().padStart(2,"0")}`}function EM(t){return`${uv(t.name)}.bin`}function DM(t,n){return`backup_${uv(t.name)}${n?"_with_rom":""}.zip`}function dv(t,n=3){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length>n?n:t.length-1).join(", ")} and ${t.length>n?t.length-n+" more files":t[t.length-1]}`}function IM(t){const{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}=t;return{name:n,hotsyncName:e,osVersion:r,dontManageHotsyncName:o,speed:i,deviceOrientation:s}}let c6=(()=>{class t{constructor(e){this.kvs=e,this.onContinue=()=>{},this.onCancel=()=>{},this.origin=""}ngOnInit(){this.createFormGroup()}formKeyDown(e){"Enter"===e.key&&this.saveAndContinue()}saveAndContinue(){this.kvs.kvs.credentials={...this.kvs.kvs.credentials,[this.origin]:{username:this.formGroup.get("username")?.value??"",password:this.formGroup.get("password")?.value??""}},this.onContinue()}createFormGroup(){const e=this.kvs.kvs.credentials[this.origin];this.formGroup=new Fp({username:new Fo(e?.username??""),password:new Fo(e?.password??"")})}}return t.\u0275fac=function(e){return new(e||t)(C(Li))},t.\u0275cmp=m({type:t,selectors:[["app-credentials-prompt"]],inputs:{onContinue:"onContinue",onCancel:"onCancel",origin:"origin"},decls:22,vars:1,consts:[["translucent",""],["slot","primary"],[3,"click"],["slot","secondary"],["fullscreen",""],[3,"formGroup","keydown"],["lines","inset"],["position","stacked"],["placeholder","Enter username","formControlName","username"],["placeholder","Enter password","formControlName","password","type","password"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Je(3,"Authenticate"),re(),de(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.saveAndContinue()}),Je(6,"OK"),re()(),de(7,"ion-buttons",3)(8,"ion-button",2),lt("click",function(){return r.onCancel()}),Je(9,"Cancel"),re()()()(),de(10,"ion-content",4)(11,"form",5),lt("keydown",function(i){return r.formKeyDown(i)}),de(12,"p"),Je(13," The server requires authentication. "),re(),de(14,"ion-item",6)(15,"ion-label",7),Je(16,"Username"),re(),pt(17,"ion-input",8),re(),de(18,"ion-item",6)(19,"ion-label",7),Je(20,"Password"),re(),pt(21,"ion-input",9),re()()()),2&e&&(tt(11),rt("formGroup",r.formGroup))},dependencies:[Yi,Ki,Xi,Qi,ql,Zo,Ji,ts,es,Wl,$l,Nl,Ll,Sa,Ja],styles:["p[_ngcontent-%COMP%]{margin-left:1em;margin-right:1em}"]}),t})(),MM=(()=>{class t{constructor(e,r,o){this.loadingController=e,this.kvsService=r,this.modalController=o}fetch(e,r){var o=this;return(0,Me.Z)(function*(){let i=r?.loaderDelay;const s=void 0===r?.timeout?5e3:r?.timeout,a=new(qc())("string"==typeof e?e:e.url);let c,f,g=!1;for(;;)try{void 0!==i&&i>=0&&!c&&(c=yield o.loadingController.create({message:"Loading..."}),f=window.setTimeout(()=>c.present(),i));const y=o.kvsService.kvs.credentials[a.origin],E=new AbortController,A=window.setTimeout(()=>E.abort(),s),J=yield fetch(e,{...o.requestInit(r),signal:E.signal,headers:{...r?.headers||{},...g&&y?{Authorization:"Basic "+btoa(`${y.username}:${y.password}`)}:{}}});if(clearTimeout(A),401===J.status){if(!g&&y){g=!0;continue}if(c&&(c.dismiss(),clearTimeout(f),i=0,c=void 0),g=!0,yield o.authenticate(a.origin))continue}return J}finally{c&&(yield c.dismiss()),clearTimeout(f)}})()}requestInit(e){if(!e)return;const{timeout:r,loaderDelay:o,...i}=e;return i}authenticate(e){var r=this;return(0,Me.Z)(function*(){const o=yield new Promise(i=>r.modalController.create({component:c6,backdropDismiss:!1,componentProps:{origin:e,onContinue:()=>i(!0),onCancel:()=>i(!1)}}).then(s=>s.present()));return r.modalController.dismiss(),o})()}}return t.\u0275fac=function(e){return new(e||t)(we(Zl),we(Li),we(Ds))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d6=F(3272),f6=F.n(d6);function fv(t){const n=(t>>>13)+(t%8192>0?1:0);return(n>>>3)+(n%8>0?1:0)}const kM=[fe.palmPilot,fe.pilot,fe.iii,fe.palmVx,fe.palmV,fe.palmVII,fe.palmVIIEZ,fe.palmVIIx,fe.iiixe,fe.iiix,fe.iiie,fe.m500,fe.m505,fe.m515,fe.iiic,fe.m100,fe.m105,fe.m125,fe.m130,fe.i705,fe.i710,fe.handera330,fe.pegS300,fe.pegS320,fe.pegS500c,fe.pegT400,fe.pegN600c,fe.pegT600c,fe.pegN700c,fe.pegT650c,fe.pegNR70];function Yt(){return(t,n,e)=>{const r=e.value;return e.value=function(o,i){return this.guard(()=>r.call(this,o,i))},e}}class zt{constructor(n){this.module=n,this.fatalErrorEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.proxyDisconnectEvent=new Ro.j,this.amIdead=!1,this.cloudpilot=new n.Cloudpilot,this.cloudpilot.RegisterPwmHandler(n.addFunction((e,r)=>this.pwmUpdateEvent.dispatch({frequency:e,dutyCycle:r}),"vdd")),this.cloudpilot.RegisterProxyDisconnectHandler(n.addFunction(e=>this.proxyDisconnectEvent.dispatch(n.UTF8ToString(e)),"vi"))}static create(n){return(0,Me.Z)(function*(){return new zt(yield f6()({print:e=>console.log(e),printErr:e=>console.error(e),...void 0!==n?{locateFile:()=>n}:{}}))})()}destroy(){this.module.destroy(this.cloudpilot)}hasFatalError(){return this.amIdead}getRomInfo(n){const e=this.copyIn(n),r=new this.module.RomInfo(e,n.length);let o;return r.IsValid()&&(o={cardVersion:r.CardVersion(),cardName:r.CardName(),romVersion:r.RomVersion(),romVersionString:r.RomVersionString(),supportedDevices:kM.filter(r.Supports.bind(r))}),this.cloudpilot.Free(e),this.module.destroy(r),o}initializeSession(n,e){const r=this.copyIn(n),o=this.cloudpilot.InitializeSession(r,n.length,e);return this.cloudpilot.Free(r),o}cyclesPerSecond(){return this.cloudpilot.GetCyclesPerSecond()}runEmulation(n){return this.cloudpilot.RunEmulation(n)}getFrame(){const n=this.cloudpilot.CopyFrame(),e=this.module.getPointer(n.GetBuffer());return{bpp:n.GetBpp(),bytesPerLine:n.GetBytesPerLine(),lines:n.GetLines(),lineWidth:n.GetLineWidth(),margin:n.GetMargin(),firstDirtyLine:n.GetFirstDirtyLine(),lastDirtyLine:n.GetLastDirtyLine(),hasChanges:n.GetHasChanges(),scaleX:n.GetScaleX(),scaleY:n.GetScaleY(),buffer:this.module.HEAPU8.subarray(e,e+n.GetBufferSize())}}isScreenDirty(){return this.cloudpilot.IsScreenDirty()}markScreenClean(){this.cloudpilot.MarkScreenClean()}minRamForDevice(n){return 1024*this.cloudpilot.MinMemoryForDevice(n)}framebufferSizeForDevice(n){return 1024*this.cloudpilot.FramebufferSizeForDevice(n)}totalMemorySizeForDevice(n){return 1024*this.cloudpilot.TotalMemoryForDevice(n)}queuePenMove(n,e){this.cloudpilot.QueuePenMove(n,e)}queuePenUp(){this.cloudpilot.QueuePenUp()}queueButtonDown(n){this.cloudpilot.QueueButtonDown(n)}queueButtonUp(n){this.cloudpilot.QueueButtonUp(n)}queueKeyboardEvent(n,e){this.cloudpilot.QueueKeyboardEvent(n,e)}isPowerOff(){return!!this.cloudpilot.IsPowerOff()}isUiInitialized(){return!!this.cloudpilot.IsUIInitialized()}isSetupComplete(){return!!this.cloudpilot.IsSetupComplete()}getOSVersion(){return this.cloudpilot.GetOSVersion()}reset(){this.cloudpilot.Reset()}resetNoExtensions(){this.cloudpilot.ResetNoExtensions()}resetHard(){this.cloudpilot.ResetHard()}installDb(n){const e=this.copyIn(n),r=this.cloudpilot.InstallDb(e,n.length);return this.cloudpilot.Free(e),r}getPalette2bitMapping(){return this.cloudpilot.GetPalette2bitMapping()}getMemory(){const n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetMemorySize())}getMemory32(){let n=this.module.getPointer(this.cloudpilot.GetMemoryPtr());if(3&n)throw new Error("unaligned pointer");return n>>>=2,this.module.HEAPU32.subarray(n,n+(this.cloudpilot.GetMemorySize()>>>2))}getDirtyPages(){const n=this.module.getPointer(this.cloudpilot.GetDirtyPagesPtr()),e=this.cloudpilot.GetMemorySize();return this.module.HEAPU8.subarray(n,n+((e>>>13)+(e%8192==0?0:1)))}loadMemory(n){const e=this.getMemory32();if((()=>{if(n.length!==e.length||n.length<256)return!1;for(let o=256;o>0;o--){if(n[n.length-o]!==e[e.length-o])return!1;if(4294967295===e[e.length-o])break}return!0})())return e.set(n),!0;{const o=this.copyIn32(n),i=this.cloudpilot.ImportMemoryImage(o,n.length<<2);return this.cloudpilot.Free(o),i}}getRomImage(){const n=this.module.getPointer(this.cloudpilot.GetRomPtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetRomSize())}getSavestate(){const n=this.module.getPointer(this.cloudpilot.GetSavestatePtr());return this.module.HEAPU8.subarray(n,n+this.cloudpilot.GetSavestateSize())}saveState(){return!!this.cloudpilot.SaveState()}loadState(n){const e=this.copyIn(n),r=this.cloudpilot.LoadState(e,n.length);return this.cloudpilot.Free(e),r}getHotsyncName(){return this.cloudpilot.GetHotsyncName()}setClockFactor(n){this.cloudpilot.SetClockFactor(n)}setHotsyncName(n){this.cloudpilot.SetHotsyncName(n)}backup(n){var e=this;return(0,Me.Z)(function*(){const r=e.guard(()=>e.cloudpilot.StartBackup());try{return yield n(e.wrap(r))}finally{e.module.destroy(r)}})()}getArchive(n){const e=n.GetArchiveSize();return this.copyOut(n.GetArchivePtr(),e)}setClipboardIntegration(n){this.cloudpilot.SetClipboardIntegration(n)}getClipboardIntegration(){return this.cloudpilot.GetClipboardIntegration()}isSuspended(){return this.cloudpilot.IsSuspended()}getSuspendKind(){return this.cloudpilot.GetSuspendContext().GetKind()}cancelSuspend(){this.cloudpilot.GetSuspendContext().Cancel()}getSuspendContextClipboardCopy(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardCopy())}getSuspendContextClipboardPaste(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextClipboardPaste())}setNetworkRedirection(n){this.cloudpilot.SetNetworkRedirection(n)}getNetworkRedirection(){return this.cloudpilot.GetNetworkRedirection()}getSuspendContextNetworkConnect(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkConnect())}getSuspendContextNetworkRpc(){return this.wrap(this.cloudpilot.GetSuspendContext().AsContextNetworkRpc())}copyBuffer(n){return this.copyIn(n)}freeBuffer(n){this.cloudpilot.Free(n)}setHotsyncNameManagement(n){this.cloudpilot.SetHotsyncNameManagement(n)}resolveBuffer(n,e){const r=this.module.getPointer(n);return this.module.HEAPU8.subarray(r,r+e)}withZipfileWalker(n,e){var r=this;return(0,Me.Z)(function*(){const o=r.guard(()=>{const i=r.copyIn(n),s=new r.module.ZipfileWalker(n.length,i);return r.cloudpilot.Free(i),s});try{return yield e(r.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>r.copyOut(o.GetCurrentEntryContent(),o.GetCurrentEntrySize())},o)))}finally{r.module.destroy(o)}})()}withZipfileWalkerSync(n,e){const r=this.guard(()=>{const o=this.copyIn(n),i=new this.module.ZipfileWalker(n.length,o);return this.cloudpilot.Free(o),i});try{return e(this.wrap(Object.setPrototypeOf({GetCurrentEntryContent:()=>this.copyOut(r.GetCurrentEntryContent(),r.GetCurrentEntrySize())},r)))}finally{this.module.destroy(r)}}serializeSessionImage(n){const e=new this.module.SessionImage,r=this.cloudpilot.Nullptr(),o=this.copyIn(n.rom),i=n.memory?this.copyIn(n.memory):r,s=void 0!==n.savestate?this.copyIn(n.savestate):r;let a=r,c=0;if(void 0!==n.metadata){const g=(new TextEncoder).encode(JSON.stringify(n.metadata));c=g.length,a=this.copyIn(g)}e.SetRomImage(o,n.rom.length),e.SetMemoryImage(i,n.memory?.length||0),e.SetDeviceId(n.deviceId),e.SetSavestate(s,n.savestate?.length||0),e.SetMetadata(a,c);const f=e.Serialize()?this.copyOut(e.GetSerializedImage(),e.GetSerializedImageSize()):void 0;return this.module.destroy(e),[o,i,s,a].forEach(g=>this.cloudpilot.Free(g)),f}deserializeSessionImage(n){const e=new this.module.SessionImage,r=this.copyIn(n),o=(()=>{if(!e.Deserialize(r,n.length))return;const i=this.copyOut(e.GetRomImage(),e.GetRomImageSize()),s=this.copyOut(e.GetMemoryImage(),e.GetMemoryImageSize()),a=this.copyOut(e.GetSavestate(),e.GetSavestateSize()),c=e.GetDeviceId();if(!kM.includes(c))return void console.warn(`unsupported device ${c}`);let f;const g=this.copyOut(e.GetMetadata(),e.GetMetadataSize());if(g)try{f=JSON.parse((new TextDecoder).decode(g))}catch(y){console.warn("invalid metadata",y)}return{deviceId:c,rom:i,memory:s,savestate:a,metadata:f,version:e.GetVersion()}})();return this.module.destroy(e),this.cloudpilot.Free(r),o}launchAppByName(n){return this.cloudpilot.LaunchAppByName(n)}launchAppByDbHeader(n){if(n.length<32)return!1;const e=this.copyIn(n.subarray(0,32)),r=this.cloudpilot.LaunchAppByDbHeader(e,32);return this.cloudpilot.Free(e),r}deviceSupportsCardSize(n){return this.cloudpilot.DeviceSupportsCardSize(n)}clearExternalStorage(){this.cloudpilot.ClearExternalStorage()}allocateCard(n,e){return this.cloudpilot.AllocateCard(n,e>>>9)}getCardData(n){const e=this.module.getPointer(this.cloudpilot.GetCardData(n));if(0!==e)return this.module.HEAPU32.subarray(e>>>2,e+this.cloudpilot.GetCardSize(n)>>2)}getCardDirtyPages(n){const e=this.module.getPointer(this.cloudpilot.GetCardDirtyPages(n));if(0===e)return;const r=fv(this.cloudpilot.GetCardSize(n));return this.module.HEAPU8.subarray(e,e+r)}getMountedKey(){return this.cloudpilot.GetMountedKey()}mountCard(n){return this.cloudpilot.MountCard(n)}removeCard(n){return this.cloudpilot.RemoveCard(n)}remountCards(){this.cloudpilot.RemountCards()}getCardSupportLevel(n){return this.cloudpilot.GetSupportLevel(n)}copyIn(n){const e=this.cloudpilot.Malloc(n.length),r=this.module.getPointer(e);return this.module.HEAP8.subarray(r,r+n.length).set(n),e}copyIn32(n){const e=this.cloudpilot.Malloc(n.length<<2),r=this.module.getPointer(e);return this.module.HEAP32.subarray(r>>>2,(r>>>2)+n.length).set(n),e}copyOut(n,e){const r=this.module.getPointer(n);return r>0&&e>0?this.module.HEAPU8.subarray(r,r+e).slice():void 0}wrap(n){return new Proxy(n,{get:(e,r)=>{const o=e[r];return"function"!=typeof o?o:(...i)=>this.guard(()=>o.apply(e,i))}})}guard(n){if(this.amIdead)throw new Error("cloudpilot instance is dead");try{return n()}catch(e){throw this.amIdead=!0,this.cloudpilot=void 0,this.fatalErrorEvent.dispatch(e instanceof Error?e:new Error("unknown error")),e}}}ue([Yt()],zt.prototype,"getRomInfo",null),ue([Yt()],zt.prototype,"initializeSession",null),ue([Yt()],zt.prototype,"cyclesPerSecond",null),ue([Yt()],zt.prototype,"runEmulation",null),ue([Yt()],zt.prototype,"getFrame",null),ue([Yt()],zt.prototype,"isScreenDirty",null),ue([Yt()],zt.prototype,"markScreenClean",null),ue([Yt()],zt.prototype,"minRamForDevice",null),ue([Yt()],zt.prototype,"framebufferSizeForDevice",null),ue([Yt()],zt.prototype,"totalMemorySizeForDevice",null),ue([Yt()],zt.prototype,"queuePenMove",null),ue([Yt()],zt.prototype,"queuePenUp",null),ue([Yt()],zt.prototype,"queueButtonDown",null),ue([Yt()],zt.prototype,"queueButtonUp",null),ue([Yt()],zt.prototype,"queueKeyboardEvent",null),ue([Yt()],zt.prototype,"isPowerOff",null),ue([Yt()],zt.prototype,"isUiInitialized",null),ue([Yt()],zt.prototype,"isSetupComplete",null),ue([Yt()],zt.prototype,"getOSVersion",null),ue([Yt()],zt.prototype,"reset",null),ue([Yt()],zt.prototype,"resetNoExtensions",null),ue([Yt()],zt.prototype,"resetHard",null),ue([Yt()],zt.prototype,"installDb",null),ue([Yt()],zt.prototype,"getPalette2bitMapping",null),ue([Yt()],zt.prototype,"getMemory",null),ue([Yt()],zt.prototype,"getMemory32",null),ue([Yt()],zt.prototype,"getDirtyPages",null),ue([Yt()],zt.prototype,"loadMemory",null),ue([Yt()],zt.prototype,"getRomImage",null),ue([Yt()],zt.prototype,"getSavestate",null),ue([Yt()],zt.prototype,"saveState",null),ue([Yt()],zt.prototype,"loadState",null),ue([Yt()],zt.prototype,"getHotsyncName",null),ue([Yt()],zt.prototype,"setClockFactor",null),ue([Yt()],zt.prototype,"setHotsyncName",null),ue([Yt()],zt.prototype,"setClipboardIntegration",null),ue([Yt()],zt.prototype,"getClipboardIntegration",null),ue([Yt()],zt.prototype,"isSuspended",null),ue([Yt()],zt.prototype,"getSuspendKind",null),ue([Yt()],zt.prototype,"cancelSuspend",null),ue([Yt()],zt.prototype,"getSuspendContextClipboardCopy",null),ue([Yt()],zt.prototype,"getSuspendContextClipboardPaste",null),ue([Yt()],zt.prototype,"setNetworkRedirection",null),ue([Yt()],zt.prototype,"getNetworkRedirection",null),ue([Yt()],zt.prototype,"getSuspendContextNetworkConnect",null),ue([Yt()],zt.prototype,"getSuspendContextNetworkRpc",null),ue([Yt()],zt.prototype,"copyBuffer",null),ue([Yt()],zt.prototype,"freeBuffer",null),ue([Yt()],zt.prototype,"setHotsyncNameManagement",null),ue([Yt()],zt.prototype,"resolveBuffer",null),ue([Yt()],zt.prototype,"serializeSessionImage",null),ue([Yt()],zt.prototype,"deserializeSessionImage",null),ue([Yt()],zt.prototype,"launchAppByName",null),ue([Yt()],zt.prototype,"launchAppByDbHeader",null),ue([Yt()],zt.prototype,"deviceSupportsCardSize",null),ue([Yt()],zt.prototype,"clearExternalStorage",null),ue([Yt()],zt.prototype,"allocateCard",null),ue([Yt()],zt.prototype,"getCardData",null),ue([Yt()],zt.prototype,"getCardDirtyPages",null),ue([Yt()],zt.prototype,"getMountedKey",null),ue([Yt()],zt.prototype,"mountCard",null),ue([Yt()],zt.prototype,"removeCard",null),ue([Yt()],zt.prototype,"remountCards",null),ue([Yt()],zt.prototype,"getCardSupportLevel",null);let Ks=(()=>{class t{constructor(){this.cloudpilot=zt.create()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),cu=(()=>{class t{constructor(e,r,o,i,s,a,c,f){this.storageService=e,this.loadingController=r,this.actionSheetController=o,this.kvsService=i,this.modalController=s,this.alertService=a,this.fetchService=c,this.cloudpilotService=f}openFile(e){this.openFilesImpl(!1,r=>{r.length>0&&e(r[0])})}openFiles(e){this.openFilesImpl(!0,e)}saveSession(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.loadingController.create({message:"Exporting..."});yield o.present();try{const[i,s,a]=yield r.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);const c={deviceId:e.device,metadata:IM(e),rom:i,memory:s,savestate:a},f=(yield r.cloudpilotService.cloudpilot).serializeSessionImage(c);f?r.saveFile(EM(e),f):(yield o.dismiss(),r.alertService.errorMessage("Failed to save session."))}finally{o.dismiss()}})()}emergencySaveSession(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.loadingController.create({message:"Exporting..."});i.style.zIndex="10000000",yield i.present();try{const s=r.getRomImage().slice(),a=r.getMemory().slice(),c=r.saveState()?r.getSavestate().slice():void 0;if(r.framebufferSizeForDevice(e.device)<0)throw new Error(`invalid device ID ${e.device}`);const g={deviceId:e.device,metadata:IM(e),rom:s,memory:a,savestate:c},y=(yield o.cloudpilotService.cloudpilot).serializeSessionImage(g);y&&o.saveFile(EM(e),y)}finally{i.dismiss()}})()}saveFile(e,r){const o=new Blob([r],{type:"application/octet-stream"}),i=URL.createObjectURL(o),s=document.createElement("a");s.href=i,s.download=e,s.click()}openUrl(e,r){var o=this;return(0,Me.Z)(function*(){let i;try{i=new(qc())(e)}catch{return void(yield o.alertService.errorMessage(`Invalid URL: ${e}`))}try{const s=yield o.fetchService.fetch(e);if(!s.ok)throw new Error("request failed");return void r({name:i.pathname.replace(/.*\//,""),content:new Uint8Array(yield s.arrayBuffer())})}catch{yield o.alertService.errorMessage(`Download from ${e} failed.`)}})()}openFilesImpl(e,r){var o=this;return(0,Me.Z)(function*(){o.kvsService.kvs.enableRemoteInstall?(yield o.actionSheetController.create({header:"What source do you want to open?",buttons:[{text:"Local files",handler:()=>o.openFilesLocal(e,r)},{text:"File on remote server",handler:()=>o.queryAndOpenFileRemote(r)},{text:"Cancel"}]})).present():o.openFilesLocal(e,r)})()}queryAndOpenFileRemote(e){var r=this;return(0,Me.Z)(function*(){let o;try{o=yield new Promise((i,s)=>r.modalController.create({component:l6,backdropDismiss:!1,componentProps:{onContinue:i,onCancel:s}}).then(a=>a.present()))}catch{return}finally{r.modalController.dismiss()}yield r.openUrl(o,i=>e([i]))})()}openFilesLocal(e,r){this.input&&document.body.removeChild(this.input),this.input=document.createElement("input"),this.input.style.display="none",this.input.multiple=e,this.input.type="file",this.input.addEventListener("change",function(){var o=(0,Me.Z)(function*(i){const s=i.target;if(!s?.files?.length)return[];const a=[];for(let c=0;c<s.files?.length;c++){const f=s.files.item(c);if(!f)continue;const g=new Promise((y,E)=>{const A=new FileReader;A.onload=()=>y({content:new Uint8Array(A.result),name:f.name}),A.onerror=()=>E(A.error),A.readAsArrayBuffer(f)});a.push(g)}r(yield Promise.all(a))});return function(i){return o.apply(this,arguments)}}()),document.body.appendChild(this.input),this.input.click()}}return t.\u0275fac=function(e){return new(e||t)(we($n),we(Zl),we(Hd),we(Li),we(Ds),we(Pr),we(MM),we(Ks))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),pv=(()=>{class t{constructor(e){this.zone=e,this.modalVisibilityChangeEvent=new Ro.j,this.modalActive=!1,this.update(),this.zone.runOutsideAngular(()=>{this.observer=new MutationObserver(this.update.bind(this)),this.observer.observe(document.body,{subtree:!0,childList:!0})})}isModalActive(){return this.modalActive}update(){const e=document.querySelectorAll("ion-alert, ion-modal").length>0;e!==this.modalActive&&this.zone.run(()=>{this.modalActive=e,this.modalVisibilityChangeEvent.dispatch(e)})}}return t.\u0275fac=function(e){return new(e||t)(we(ft))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Sh=new Error("permission denied");let TM=(()=>{class t{constructor(e,r){this.alertController=e,this.alertService=r,this.clipboardContent="",this.lastClipboardReadAt=performance.now()}isSupported(){return!!navigator.clipboard?.readText&&!!navigator.clipboard?.writeText}handleSuspend(e){if(e.isSuspended())switch(e.getSuspendKind()){case 1:this.handleCopy(e);break;case 2:this.handlePaste(e)}}handleCopy(e){var r=this;return(0,Me.Z)(function*(){const o=e.getSuspendContextClipboardCopy(),i=o.GetClipboardContent();try{return yield r.tryCopyDirect(i),void o.Resume()}catch(s){if(s===Sh)return o.Cancel(),r.msgPermissionDenied()}try{yield r.tryCopyWithInteraction(i),o.Resume()}catch{yield r.msgCopyFailed(),o.Cancel()}})()}tryCopyDirect(e){var r=this;return(0,Me.Z)(function*(){try{yield navigator.clipboard.writeText(e)}catch(o){throw(yield r.isPermissionDenied("clipboard-write"))?Sh:o}})()}tryCopyWithInteraction(e){var r=this;return new Promise(function(){var o=(0,Me.Z)(function*(i,s){try{const a=yield r.alertController.create({header:"Confirm Copy",message:"Please confirm that you want to copy to the host clipboard",backdropDismiss:!1,buttons:[{text:"Copy",handler:(c=(0,Me.Z)(function*(){a.dismiss();try{yield navigator.clipboard.writeText(e),i(!0)}catch(f){s(f)}}),function(){return c.apply(this,arguments)})},{text:"Cancel",handler:()=>{a.dismiss(),i(!1)}}]});a.present()}catch(a){s(a)}var c});return function(i,s){return o.apply(this,arguments)}}())}handlePaste(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.tryPaste();e.getSuspendContextClipboardPaste().Resume(o??""),void 0!==o&&(r.clipboardContent=o,r.lastClipboardReadAt=performance.now())})()}tryPaste(){var e=this;return(0,Me.Z)(function*(){if(performance.now()-e.lastClipboardReadAt<3e3)return e.clipboardContent;try{return yield e.tryPasteDirect()}catch(r){if(r===Sh)return void(yield e.msgPermissionDenied())}try{return yield e.tryPasteWithInteraction()}catch{return void(yield e.msgPasteFailed())}})()}tryPasteDirect(){var e=this;return(0,Me.Z)(function*(){try{return yield navigator.clipboard.readText()}catch(r){throw(yield e.isPermissionDenied("clipboard-read"))?Sh:r}})()}tryPasteWithInteraction(){var e=this;return new Promise(function(){var r=(0,Me.Z)(function*(o,i){try{const s=yield e.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard",backdropDismiss:!1,buttons:[{text:"Paste",handler:(a=(0,Me.Z)(function*(){s.dismiss();try{o(yield navigator.clipboard.readText())}catch(c){i(c)}}),function(){return a.apply(this,arguments)})},{text:"Cancel",handler:()=>{s.dismiss(),o(void 0)}}]});s.present()}catch(s){i(s)}var a});return function(o,i){return r.apply(this,arguments)}}())}handlePasteSafari(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.alertController.create({header:"Confirm Paste",message:"Please confirm that you want to paste from the host clipboard.",backdropDismiss:!1,buttons:[{text:"Paste",handler:(i=(0,Me.Z)(function*(){try{r.clipboardContent=yield navigator.clipboard.readText(),r.lastClipboardReadAt=performance.now(),o.dismiss(),e.Resume(r.clipboardContent)}catch{o.dismiss(),yield r.alertService.errorMessage("Paste from host clipboard failed."),e.Resume("")}}),function(){return i.apply(this,arguments)})},{text:"Cancel",handler:()=>{o.dismiss(),e.Resume("")}}]});var i;yield o.present()})()}isPermissionDenied(e){return(0,Me.Z)(function*(){if(navigator.permissions)try{return"denied"===(yield navigator.permissions.query({name:e}))?.state}catch{return!1}return!1})()}msgPermissionDenied(){return this.alertService.errorMessage(`\n        CloudpilotEmu has no permission to access the clipboard. Please check your browser's settings\n        and grant the necessary permission to ${location.origin} .\n    `)}msgCopyFailed(){return this.alertService.errorMessage("Failed to copy to the host clipboard.")}msgPasteFailed(){return this.alertService.errorMessage("Failed to paste from the host clipboard.")}}return t.\u0275fac=function(e){return new(e||t)(we(ru),we(Pr))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const h6="https:"===window.location.protocol?8667:8666,m6=/^[\da-z\-\.]+$/i,g6=/^[\da-z\-\.]+:\d+$/i;function hv(t){if(!t)return;const n=window.location.protocol;if(t.match(m6))return`${n}//${t}:${h6}`;if(t.match(g6))return`${n}//${t}`;try{const e=new URL(t);if("https:"===e.protocol||"http:"===e.protocol)return e.toString().replace(/\/+$/,"")}catch{}}function y6(t){return void 0!==hv(t.value)?null:{proxyAddress:"invalid"}}let mv=(()=>{class t{constructor(e,r,o,i){var s=this;this.kvsService=e,this.alertService=r,this.ngZone=o,this.fetchService=i,this.handleConnect=()=>this.mutex.runExclusive((0,Me.Z)(function*(){s.socket&&s.disconnect(s.socket);const a=hv(s.kvsService.kvs.proxyServer);if(!a)return yield s.alertService.errorMessage(`Invalid proxy address: ${s.kvsService.kvs.proxyServer}`),void s.cloudpilot.getSuspendContextNetworkConnect().Cancel();const c=yield s.handshake(void 0,500);switch(c.status){case"failed":return void s.onSocketError(void 0);case"version_mismatch":return yield s.alertService.proxyVersionMismatchError(),void s.cancelSuspend();case"success":break;default:throw new Error("unreachable")}s.socket=new WebSocket(`${a.replace(/^http/,"ws")}/network-proxy/connect?token=${encodeURIComponent(c.token)}`),s.socket.binaryType="arraybuffer",s.bindListeners(s.socket),s.ngZone.run(()=>s.connectTimeoutHandle=setTimeout(s.onSocketError,5e3))})),this.onSocketOpen=()=>{if(this.cancelConnectTimeout(),!this.cloudpilot.isSuspended()||4!==this.cloudpilot.getSuspendKind())return console.error("ERROR: socket connected, but emulation is not waiting for connect"),void this.disconnect(this.socket);this.sessionId=sv(),this.cloudpilot.getSuspendContextNetworkConnect().Resume(this.sessionId),this.resumeEvent.dispatch()},this.onSocketMessage=a=>{if(!this.cloudpilot.isSuspended()||3!==this.cloudpilot.getSuspendKind())return void console.error("ERROR: socket received message, but emulation is not waiting for rpc");if(!(a.data instanceof ArrayBuffer))return console.error("ERROR: socket received a text frame"),this.disconnect(this.socket),this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),void this.cancelSuspend();const c=this.cloudpilot.copyBuffer(new Uint8Array(a.data));this.cloudpilot.getSuspendContextNetworkRpc().ReceiveResponse(c,a.data.byteLength),this.cloudpilot.freeBuffer(c),this.resumeEvent.dispatch()},this.onSocketError=a=>{this.cancelConnectTimeout(),this.cloudpilot.isSuspended()&&4===this.cloudpilot.getSuspendKind()?this.alertService.errorMessage("Failed to connect to proxy."):this.alertService.errorMessage("Connection to proxy closed unexpectedly due to an error."),this.disconnect(this.socket),this.cancelSuspend(),console.error("ERROR: socket error",a)},this.onSocketClose=()=>{this.cancelConnectTimeout(),this.alertService.errorMessage("Connection to proxy closed unexpectedly"),this.unbindListeners(this.socket),this.cancelSuspend(),this.sessionId="",this.socket=void 0},this.onProxyDisconnect=a=>{a!==this.sessionId||!this.socket||this.ngZone.run(()=>this.disconnect(this.socket))},this.resumeEvent=new Ro.j,this.mutex=new Zs,this.sessionId=""}initialize(e){this.cloudpilot=e,e.proxyDisconnectEvent.addHandler(this.onProxyDisconnect)}reset(){this.socket&&this.disconnect(this.socket)}handleSuspend(){if(this.cloudpilot&&this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:this.handleConnect();break;case 3:this.handleRpc()}}isConnected(){return!!this.socket}handshake(e=this.kvsService.kvs.proxyServer,r=-1){var o=this;return(0,Me.Z)(function*(){const i=hv(e);if(!i)return{status:"failed"};try{const s=yield o.fetchService.fetch(`${i}/network-proxy/handshake`,{method:"POST",loaderDelay:r});if(!s.ok)return{status:"failed"};const a=yield s.json();return a.version<3||a.compatVersion>3?{status:"version_mismatch"}:{status:"success",token:a.token}}catch{return{status:"failed"}}})()}handleRpc(){const e=this.cloudpilot.getSuspendContextNetworkRpc();this.socket?this.socket.send(this.cloudpilot.resolveBuffer(e.GetRequestData(),e.GetRequestSize())):e.Cancel()}disconnect(e){e&&(this.unbindListeners(e),e.close()),this.sessionId="",this.socket=void 0}bindListeners(e){this.ngZone.run(()=>{e.addEventListener("open",this.onSocketOpen),e.addEventListener("error",this.onSocketError),e.addEventListener("close",this.onSocketClose)}),this.ngZone.runOutsideAngular(()=>e.addEventListener("message",this.onSocketMessage))}unbindListeners(e){!e||(e.removeEventListener("message",this.onSocketMessage),e.removeEventListener("open",this.onSocketOpen),e.removeEventListener("error",this.onSocketError),e.removeEventListener("close",this.onSocketClose))}cancelSuspend(){if(this.cloudpilot.isSuspended())switch(this.cloudpilot.getSuspendKind()){case 4:case 3:this.cloudpilot.cancelSuspend()}}cancelConnectTimeout(){void 0!==this.connectTimeoutHandle&&clearTimeout(this.connectTimeoutHandle),this.connectTimeoutHandle=void 0}}return t.\u0275fac=function(e){return new(e||t)(we(Li),we(Pr),we(ft),we(MM))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),AM=(()=>{class t{constructor(){this.buttons=new Map}reset(e){this.cloudpilot=e,this.buttons.clear(),[6,7].forEach(r=>e.queueButtonUp(r))}engage(e){!this.cloudpilot||(this.buttons.has(e)?this.buttons.get(e).timer=0:(this.buttons.set(e,{button:e,timer:0}),this.cloudpilot?.queueButtonDown(e)))}tick(e){if(this.cloudpilot)for(const[r,o]of this.buttons)o.timer+=1e3*e,o.timer>250&&(this.cloudpilot.queueButtonUp(r),this.buttons.delete(r))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),PM=(()=>{class t{constructor(){this.hasRenderedPromise=new Promise(e=>this.hasRenderedResolve=e)}notifyHasRendered(){this.hasRenderedResolve()}hasRendered(){return this.hasRenderedPromise}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var w6=F(9084),RM=F.n(w6);function gv(){return gv=(0,Me.Z)(function*(t){const n=yield yv.create();if(n.mkfs(t))return n.getImage()}),gv.apply(this,arguments)}const FM="fstools_web.wasm",OM=WebAssembly.compileStreaming?WebAssembly.compileStreaming(fetch(FM)):fetch(FM).then(t=>t.arrayBuffer()).then(t=>WebAssembly.compile(t));class yv{constructor(n){this.module=n,this.nativeContext=new n.MkfsContext}static create(){return(0,Me.Z)(function*(){return new yv(yield RM()({print:n=>console.log(n),printErr:n=>console.error(n),instantiateWasm:(n=(0,Me.Z)(function*(e,r){return r(yield WebAssembly.instantiate(yield OM,e))}),function(r,o){return n.apply(this,arguments)})}));var n})()}mkfs(n){return this.nativeContext.Mkfs(n,"card")}getImage(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());if(0!==n&&0!==e)return this.module.HEAPU32.subarray(e>>>2,e+n>>>2)}}class Eh{constructor(n,e){this.module=n,this.result=0,this.nativeContext=new n.FsckContext(e>>>9)}static create(n){return(0,Me.Z)(function*(){const e=yield RM()({print:r=>console.log(r),printErr:r=>console.error(r),instantiateWasm:(r=(0,Me.Z)(function*(o,i){return i(yield WebAssembly.instantiate(yield OM,o))}),function(i,s){return r.apply(this,arguments)})});var r;return new Eh(e,n)})()}getImageData(){const n=this.nativeContext.GetImageSize(),e=this.module.getPointer(this.nativeContext.GetImage());return this.module.HEAPU32.subarray(e>>>2,e+n>>2)}getDirtyPages(){const n=this.module.getPointer(this.nativeContext.GetDirtyPages()),e=fv(this.nativeContext.GetImageSize());return this.module.HEAPU8.subarray(n,n+e)}fsck(){if(0!==this.result)return this.result;try{return this.result=this.nativeContext.Fsck(),this.result}catch(n){return console.warn("fsck failed",n),this.result=4,this.result}}getResult(){return this.result}}var wr=(()=>(function(t){t.dirty="dirty",t.clean="clean",t.unformatted="unformatted",t.unfixable="unfixable"}(wr||(wr={})),wr))(),hr=(()=>(function(t){t.portrait="portrait",t.landscape90="landscape90",t.landscape270="landscape270",t.portrait180="portrait180"}(hr||(hr={})),hr))();let Yd=(()=>{class t{constructor(e,r,o){this.cloudpilotService=e,this.storageService=r,this.loadingController=o,this.sessions=[],this.loading=!0,this.updateMutex=new Zs,this.updateSessionsFromStorage().then(()=>this.loading=!1),this.storageService.sessionChangeEvent.addHandler(this.updateSessionsFromStorage.bind(this))}isLoading(){return this.loading}addSessionFromImage(e,r,o={}){var i=this;return(0,Me.Z)(function*(){const s={hotsyncName:e.metadata?.hotsyncName,dontManageHotsyncName:!1,speed:1,deviceOrientation:hr.portrait,...o,id:-1,name:r,device:e.deviceId,ram:(yield i.cloudpilotService.cloudpilot).minRamForDevice(e.deviceId)/1024/1024,rom:"",osVersion:e?.metadata?.osVersion},a=yield i.loadingController.create({message:"Importing..."});yield a.present();const c=yield i.storageService.addSession(s,e.rom,e.memory,e.savestate);return yield i.updateSessionsFromStorage(),yield a.dismiss(),c})()}addSessionFromRom(e,r,o,i={}){var s=this;return(0,Me.Z)(function*(){const a={hotsyncName:"",dontManageHotsyncName:!1,speed:1,deviceOrientation:hr.portrait,...i,id:-1,name:r,device:o,ram:(yield s.cloudpilotService.cloudpilot).minRamForDevice(o)/1024/1024,rom:""},c=yield s.loadingController.create({message:"Importing..."});yield c.present();const f=yield s.storageService.addSession(a,e);return yield s.updateSessionsFromStorage(),yield c.dismiss(),f})()}getSessions(){return this.sessions}deleteSession(e){var r=this;return(0,Me.Z)(function*(){yield r.storageService.deleteSession(e)})()}updateSession(e){var r=this;return(0,Me.Z)(function*(){yield r.storageService.updateSession(e)})()}updateSessionsFromStorage(){var e=this;return(0,Me.Z)(function*(){e.sessions=yield e.updateMutex.runExclusive((0,Me.Z)(function*(){return(yield e.storageService.getAllSessions()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}}return t.\u0275fac=function(e){return new(e||t)(we(Ks),we($n),we(Zl))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var S6=F(7971),E6=F.n(S6);function D6(t){return{readonly:0!=(1&t),hidden:0!=(2&t),system:0!=(4&t)}}class _v{constructor(n){this.module=n,this.vfsNative=new n.Vfs}static create(){return(0,Me.Z)(function*(){return new _v(yield E6()({print:n=>console.log(n),printErr:n=>console.error(n)}))})()}allocateImage(n){this.vfsNative.AllocateImage(n>>>9)}mountImage(n){return this.vfsNative.MountImage(n)}unmountImage(n){this.vfsNative.UnmountImage(n)}getPendingImage(){const n=this.module.getPointer(this.vfsNative.GetPendingImage()),e=this.vfsNative.GetPendingImageSize();if(0!==n&&0!==e)return this.module.HEAPU32.subarray(n>>>2,n+e>>>2)}getImageInSlot(n){const e=this.module.getPointer(this.vfsNative.GetImage(n)),r=this.vfsNative.GetSize(n);if(0!==e&&0!==r)return this.module.HEAPU32.subarray(e>>>2,e+r>>>2)}getDirtyPagesForSlot(n){const e=this.module.getPointer(this.vfsNative.GetDirtyPages(n));if(0===e)return;const r=fv(this.vfsNative.GetSize(n));return this.module.HEAPU8.subarray(e,e+r)}readdir(n){const e=new this.module.ReaddirContext(n);try{const r=[];for(;0===e.GetStatus();){const o=e.GetEntry(),i=o.GetName(),s=o.GetModifiedTS();r.push({path:`${n.replace(/\/*$/,"")}/${i}`,name:i,size:o.GetSize(),lastModifiedTS:s,lastModifiedLocalDate:new Date(1e3*s).toLocaleDateString(),isDirectory:o.IsDirectory(),attributes:D6(o.GetAttributes())}),e.Next()}if(2===e.GetStatus()){console.warn(`readdir failed: ${e.GetErrorDescription()}`);const o=e.GetError();return{error:0===o?2:o,reason:e.GetErrorDescription()}}return{error:0,entries:r}}finally{this.module.destroy(e)}}rename(n,e){return this.vfsNative.RenameFile(n,e)}chmod(n,e){let r=0,o=0,i=(s,a)=>{void 0!==s&&(o|=a,s&&(r|=a))};return i(e.hidden,2),i(e.readonly,1),i(e.system,4),this.vfsNative.ChmodFile(n,r,o)}bytesFree(n){return this.vfsNative.BytesFree(n)}bytesTotal(n){return this.vfsNative.BytesTotal(n)}}let vv=(()=>{class t{constructor(e,r){this.storageService=e,this.storageCardContext=r,this.onReleaseCard=new Ro.j,this.vfs=_v.create(),this.directoryCache=new Map,this.bytesFree=0,this.bytesTotal=0}normalizePath(e){return("/"+e).replace(/\/{2,}/g,"/").replace(/\/*$/,"")}splitPath(e){return this.normalizePath(e).replace(/^\/+/,"").split("/")}mountCardUnchecked(e,r,o){var i=this;return(0,Me.Z)(function*(){const s=yield i.storageService.getCard(e);if(!s)throw new Error(`no card with id ${e}`);if(i.storageCardContext.claim(e,qr.vfs),i.directoryCache.clear(),i.mountedCard?.id===e)return!0;i.mountedCard&&(yield i.releaseCard(i.mountedCard.id));const a=yield i.vfs;a.allocateImage(s.size);const c=a.getPendingImage();if(!c)throw new Error("failed to allocate image");return o?c.set(o):yield i.storageService.loadCardData(e,c,qr.vfs),!!a.mountImage(0)&&(i.mountedCard=s,i.bytesFree=a.bytesFree(0),i.bytesTotal=a.bytesTotal(0),!0)})()}releaseCard(e=this.mountedCard?.id){var r=this;return(0,Me.Z)(function*(){void 0===e||e!==r.mountedCard?.id||((yield r.vfs).unmountImage(0),r.mountedCard=void 0,r.storageCardContext.release(e,qr.vfs),r.onReleaseCard.dispatch(e))})()}readdir(e){var r=this;return(0,Me.Z)(function*(){const o=r.normalizePath(e);if(!r.directoryCache.has(o)){const i=(yield r.vfs).readdir(e);0===i.error&&r.directoryCache.set(o,i.entries)}return r.directoryCache.get(o)})()}currentCard(){return this.mountedCard}getBytesFree(){return this.bytesFree}getBytesTotal(){return this.bytesTotal}}return t.\u0275fac=function(e){return new(e||t)(we($n),we(su))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var no=(()=>(function(t){t[t.mb4=0]="mb4",t[t.mb8=1]="mb8",t[t.mb16=2]="mb16",t[t.mb32=3]="mb32",t[t.mb64=4]="mb64",t[t.mb128=5]="mb128"}(no||(no={})),no))();function NM(){return sv().replace(/-/g,"")}let uu=(()=>{class t{constructor(e,r,o,i,s,a,c,f,g,y,E){this.sessionService=e,this.storageService=r,this.emulationStateService=o,this.cloudpilotService=i,this.loadingController=s,this.snapshotService=a,this.alertService=c,this.errorService=f,this.fileService=g,this.vfsService=y,this.storageCardContext=E,this.loading=!0,this.cards=[],this.updateMutex=new Zs,this.updateCardsFromDB().then(()=>this.loading=!1),r.storageCardChangeEvent.addHandler(()=>this.updateCardsFromDB())}getAllCards(){return this.cards}createEmptyCard(e,r,o){var i=this;return(0,Me.Z)(function*(){const s=yield i.loadingController.create({message:"Formatting..."});try{yield s.present();const a=yield function C6(t){return gv.apply(this,arguments)}(function I6(t){switch(t){case no.mb4:return 4;case no.mb8:return 8;case no.mb16:return 16;case no.mb32:return 32;case no.mb64:return 64;case no.mb128:return 128;default:throw new Error(`bad card size ${t}`)}}(r));if(!a)throw new Error("failed to create image");const c={storageId:NM(),name:e,size:4*a.length,status:wr.clean,dontFsckAutomatically:o};return yield i.storageService.importStorageCard(c,a)}finally{s.dismiss()}})()}createCardFromFile(e,r,o){var i=this;return(0,Me.Z)(function*(){const s={storageId:NM(),name:e,size:r.content.length,status:wr.clean,dontFsckAutomatically:o},a=new Uint32Array(r.content.buffer,r.content.byteOffset,r.content.byteLength>>>2),c=yield i.loadingController.create({message:"Importing..."});try{if(o)yield c.present(),yield i.storageService.importStorageCard(s,a);else{const[f,g]=yield i.fsckNewCard(a,s);yield c.present(),yield i.storageService.importStorageCard(g,f)}}finally{c.dismiss()}})()}onEmulatorStop(){const e=this.emulationStateService.getCurrentSession()?.mountedCard;void 0!==e&&this.storageCardContext.release(e,qr.cloudpilot)}loadCardInEmulator(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield o.vfsService.releaseCard(e);const s=yield o.cloudpilotService.cloudpilot;if(s.getMountedKey())throw new Error("attempt to mount a card while another card is mounted");if(!s.allocateCard(i.storageId,i.size))throw new Error("failed to allocate card");const a=s.getCardData(i.storageId);if(!a)throw new Error("failed to access card data");return o.storageCardContext.claim(e,qr.cloudpilot),r?a.set(r):yield o.storageService.loadCardData(i.id,a,qr.cloudpilot),i})()}ejectCurrentCard(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)throw new Error("no running session");const o=r?.mountedCard;if(void 0===o)throw new Error("no mounted card");const i=yield e.storageService.getCard(o);if(!i)throw new Error(`no card with id ${o}`);yield e.storageService.updateStorageCardPartial(o,{status:wr.dirty}),yield e.snapshotService.waitForPendingSnapshot(),yield e.snapshotService.triggerSnapshot(),yield e.storageService.updateSessionPartial(r.id,{mountedCard:void 0}),(yield e.cloudpilotService.cloudpilot).removeCard(i.storageId),e.snapshotService.resetCard(),e.storageCardContext.release(o,qr.cloudpilot)})()}checkCard(e){var r=this;return(0,Me.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let s=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be checked.`,{"Eject now":()=>s=!0},"Cancel"),!s)return;yield r.ejectCard(e.id)}const i=yield r.executeFsckAndUpdateCard(e.id);switch(i.getResult()){case 1:return void r.alertService.cardIsClean();case 3:return void r.alertService.cardHasNoValidFileSystem();case 4:r.alertService.cardHasUncorrectableErrors();break;case 2:{let s=!1;return yield r.alertService.message("Filesystem errors",`The filesystem on this card contains errors${e.dontFsckAutomatically?"":"  that need to be fixed before it can be used"}. Do you want to fix them now?`,{"Fix now":()=>s=!0},"Cancel"),void(s?yield r.applyFsckResult(e.id,i):r.storageCardContext.release(e.id,qr.fstools))}}})()}insertCard(e){return this.checkAndClaimCard(e,"insert")}browseCard(e){var r=this;return(0,Me.Z)(function*(){const o=r.mountedInSession(e.id);if(o){let i=!1;if(yield r.alertService.message("Card is attached",`This card needs to be ejected from session '${o.name}' before it can be browsed.`,{"Eject now":()=>i=!0},"Cancel"),!i)return!1;yield r.ejectCard(e.id)}return r.checkAndClaimCard(e.id,"vfs")})()}updateCard(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);return!r.dontFsckAutomatically&&i.dontFsckAutomatically&&(r.status=wr.dirty),o.storageService.updateStorageCardPartial(e,r)})()}deleteCard(e){var r=this;return(0,Me.Z)(function*(){yield r.vfsService.releaseCard(e),yield r.ejectCard(e),yield r.storageService.deleteStorageCard(e)})()}saveCard(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);const s=yield o.loadingController.create({message:"Exporting..."});let a;try{yield s.present();const c=o.mountedInSession(e);c&&c.id===o.emulationStateService.getCurrentSession()?.id&&(yield o.snapshotService.waitForPendingSnapshot(),yield o.snapshotService.triggerSnapshot(),a=(yield o.cloudpilotService.cloudpilot).getCardData(i.storageId)),a||(a=new Uint32Array(i.size>>>2),yield o.storageService.loadCardData(i.id,a,o.storageCardContext.getOwner(e)))}finally{s.dismiss()}o.fileService.saveFile(r,new Uint8Array(a.buffer,a.byteOffset,a.length<<2))})()}getCard(e){var r=this;return(0,Me.Z)(function*(){return r.storageService.getCard(e)})()}mountedInSession(e){return this.sessionService.getSessions().find(r=>r.mountedCard===e)}isLoading(){return this.loading}updateCardsFromDB(){var e=this;return(0,Me.Z)(function*(){e.cards=yield e.updateMutex.runExclusive((0,Me.Z)(function*(){return(yield e.storageService.getAllStorageCards()).sort((r,o)=>r.name.localeCompare(o.name))}))})()}cardIsMounted(e){var r=this;return(0,Me.Z)(function*(){return(yield r.storageService.getAllSessions()).some(i=>i.mountedCard===e)})()}checkAndClaimCard(e,r){var o=this;return(0,Me.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");let i=yield o.getCard(e);if(!i)throw new Error(`no card with id ${e}`);let s,a=!0,c=!1;if(!i.dontFsckAutomatically){if(i.status===wr.dirty){if(s=yield o.executeFsckAndUpdateCard(e),2===s.getResult()){if(a=!1,yield o.alertService.message("Filesystem errors",`The filesystem on this card contains errors that have to fixed before it can be ${"insert"===r?"inserted":"browsed"}. Do you want to fix them now?`,{"Fix now":()=>a=!0},"Cancel"),!a)return o.storageCardContext.release(e,qr.fstools),!1;yield o.applyFsckResult(i.id,s)}if(i=yield o.getCard(e),!i)throw new Error(`no card with id ${e}`)}switch(i.status){case wr.clean:break;case wr.unformatted:if("vfs"===r)return yield o.alertService.message("Card unformatted","This card is unformatted and cannot be browsed. Insert it into a device and format it."),!1;case wr.dirty:return yield o.alertService.message("Card requires check",`This card needs to be checked before it can be ${"insert"===r?"inserted":"browsed"}.`),!1;case wr.unfixable:if(a=!1,c=!0,yield o.alertService.message("Uncorrectable errors","The filesystem on this card contains uncorrectable errors. "+("insert"===r?"Writing could cause further damage. Do you want to insert it nevertheless?":"The card will be mounted read-only in order to prevent further damage."),{"Insert card":()=>a=!0},"Cancel"),!a)return!1;break;default:throw new Error("unreachable: bad card status")}}try{"insert"===r?(yield o.vfsService.releaseCard(e),yield o.mountCardInEmulator(e,s?.getImageData())):(yield o.mountCardForBrowsing(e,c,s?.getImageData()))||(yield o.alertService.message("Failed to mount card","The card could not be mounted for browsing."))}catch(f){return o.errorService.fatalBug(f instanceof Error?f.message:"mount failed"),!1}return!0})()}executeFsckAndUpdateCard(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.loadingController.create({message:"Checking card..."});try{if(yield o.present(),yield r.cardIsMounted(e))throw new Error("attempt to fsck a mounted card");const i=yield r.storageService.getCard(e);if(!i)throw new Error(`no card with id ${e}`);yield r.vfsService.releaseCard(e),r.storageCardContext.claim(e,qr.fstools);const s=yield Eh.create(i.size);switch(yield r.storageService.loadCardData(i.id,s.getImageData(),qr.fstools),s.fsck()){case 1:yield r.storageService.updateStorageCardPartial(e,{status:wr.clean}),r.storageCardContext.release(e,qr.fstools);break;case 3:yield r.storageService.updateStorageCardPartial(e,{status:wr.unformatted}),r.storageCardContext.release(e,qr.fstools);break;case 2:yield r.storageService.updateStorageCardPartial(e,{status:wr.dirty});break;case 4:yield r.storageService.updateStorageCardPartial(e,{status:wr.unfixable}),r.storageCardContext.release(e,qr.fstools);break;default:throw new Error("unrachable: invalid fsck result")}return s}finally{o.dismiss()}})()}applyFsckResult(e,r){var o=this;return(0,Me.Z)(function*(){if(2!==r.getResult())return;const i=yield o.loadingController.create({message:"Fixing errors..."});try{yield i.present(),yield o.storageService.updateCardData(e,r.getImageData(),r.getDirtyPages(),qr.fstools),yield o.storageService.updateStorageCardPartial(e,{status:wr.clean}),o.storageCardContext.release(e,qr.fstools)}finally{i.dismiss()}})()}fsckNewCard(e,r){var o=this;return(0,Me.Z)(function*(){const i=yield o.loadingController.create({message:"Checking card..."});let s,a;try{yield i.present(),s=yield Eh.create(r.size),s.getImageData().set(e),a=s.fsck()}finally{i.dismiss()}switch(a){case 1:return[e,{...r,status:wr.clean}];case 2:{let c=!1;return yield o.alertService.message("Filesystem errors","The filesystem on this card contains errors that must be fixed before the card can be used. Do you want to fix them now?",{"Fix now":()=>c=!0},"Skip"),c?[s.getImageData(),{...r,status:wr.clean}]:[e,{...r,status:wr.dirty}]}case 3:return yield o.alertService.cardHasNoValidFileSystem(),[e,{...r,status:wr.unformatted}];case 4:return yield o.alertService.cardHasUncorrectableErrors(),[e,{...r,status:wr.unfixable}];default:throw new Error("unreachable: bad fsck result")}})()}ejectCard(e){var r=this;return(0,Me.Z)(function*(){const o=r.mountedInSession(e),i=yield r.storageService.getCard(e);!o||!i||(o.id===r.emulationStateService.getCurrentSession()?.id?yield r.ejectCurrentCard():(yield r.storageService.updateSessionPartial(o.id,{mountedCard:void 0}),yield r.storageService.updateStorageCardPartial(e,{status:wr.dirty})))})()}mountCardInEmulator(e,r){var o=this;return(0,Me.Z)(function*(){if(yield o.cardIsMounted(e))throw new Error("card already mounted");const i=yield o.loadingController.create({message:"Inserting..."});try{yield i.present(),yield o.vfsService.releaseCard(e);const s=o.emulationStateService.getCurrentSession();if(!s)throw new Error("no current session");if(void 0!==s.mountedCard)throw new Error("session already has a mounted card");const a=yield o.loadCardInEmulator(e,r),c=yield o.cloudpilotService.cloudpilot;if(yield o.storageService.updateStorageCardPartial(e,{status:wr.dirty}),yield o.storageService.updateSessionPartial(s.id,{mountedCard:e}),!c.mountCard(a.storageId))throw c.removeCard(a.storageId),new Error("failed to mount card");return a}finally{i.dismiss()}})()}mountCardForBrowsing(e,r,o){var i=this;return(0,Me.Z)(function*(){if(i.vfsService.currentCard()?.id===e)return!0;const s=yield i.loadingController.create({message:"Mounting..."});try{return yield s.present(),yield i.vfsService.mountCardUnchecked(e,r,o)}finally{s.dismiss()}})()}}return t.\u0275fac=function(e){return new(e||t)(we(Yd),we($n),we(xa),we(Ks),we(Zl),we(Zd),we(Pr),we(Kl),we(cu),we(vv),we(su))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xs=(()=>{class t extends class n6{constructor(){this.onPwmUpdate=n=>{this.pendingPwmUpdates.count()>0&&this.pendingPwmUpdates.peekLast().frequency<0?this.pendingPwmUpdates.replaceLast(n):this.pendingPwmUpdates.push(n)},this.advanceEmulation=n=>{if(this.isDirty=!1,!this.cloudpilotInstance||this.hasFatalError()||n<this.clockEmulator)return;const e=this.cloudpilotInstance.isSuspended();let r=!1;this.cloudpilotInstance.setClockFactor(this.emulationSpeed*this.getConfiguredSpeed()),n-this.clockEmulator>1e3/30&&(this.clockEmulator=n-1e3/30);const o=(n-this.clockEmulator)/1e3*this.cloudpilotInstance.cyclesPerSecond(),i=performance.now();let s=0;for(;s<o;)if(s+=this.cloudpilotInstance.runEmulation(Math.ceil(o-s)),this.cloudpilotInstance.isSuspended()){r=!0;break}const a=s/this.cloudpilotInstance.cyclesPerSecond()*1e3,c=performance.now()-i;if(this.clockEmulator+=Math.max(a,c),this.speedAverage.push(a/(c>0?c:a/1e3)*this.emulationSpeed),this.updateEmulationSpeed(this.speedAverage.calculateAverage()),r&&!e)return void this.handleSuspend();const f=this.cloudpilotInstance.isPowerOff(),g=this.cloudpilotInstance.isUiInitialized();if(f!==this.powerOff||g!==this.uiInitialized){const y=this.powerOff;this.powerOff=f,this.uiInitialized=g,y!==this.powerOff&&this.powerOffChangeEvent.dispatch(this.powerOff),this.isDirty=!0}g&&!f&&this.manageHotsyncName()&&this.checkAndUpdateHotsyncName(),this.onAfterAdvanceEmulation(n,s)},this.newFrameEvent=new Ro.j,this.pwmUpdateEvent=new Ro.j,this.emulationStateChangeEvent=new Ro.j,this.powerOffChangeEvent=new Ro.j,this.deviceId=fe.m515,this.clockEmulator=0,this.scheduler=new _M(n=>this.onSchedule(n)),this.canvas=document.createElement("canvas"),this.canvasTmp=document.createElement("canvas"),this.lastPenUpdate=0,this.penDown=!1,this.running=!1,this.powerOff=!1,this.uiInitialized=!1,this.pendingPwmUpdates=new YH(10),this.lastPwmUpdateEvent=0,this.emulationSpeed=1,this.speedAverage=new wM(20),this.timePerFrameAverage=new wM(60),this.timestampLastFrame=0,this.frameCounter=0,this.isDirty=!1}handlePointerMove(n,e,r){if(!this.handleInput())return;const o=performance.now();this.penDown=!0,!(o-this.lastPenUpdate<25)&&this.cloudpilotInstance&&(r&&(n=this.transformSilkscreenX(n)),this.cloudpilotInstance.queuePenMove(Math.floor(n),Math.floor(e)),this.lastPenUpdate=o)}handlePointerUp(){!this.handleInput()||(this.cloudpilotInstance&&this.penDown&&this.cloudpilotInstance.queuePenUp(),this.lastPenUpdate=0,this.penDown=!1)}handleButtonDown(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonDown(n)}handleButtonUp(n){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueButtonUp(n)}handleKeyDown(n,e=!1){!this.handleInput()||this.cloudpilotInstance&&this.cloudpilotInstance.queueKeyboardEvent(n,e)}reset(){this.cloudpilotInstance&&this.cloudpilotInstance.reset()}resetNoExtensions(){this.cloudpilotInstance&&this.cloudpilotInstance.resetNoExtensions()}resetHard(){this.cloudpilotInstance&&this.cloudpilotInstance.resetHard()}isRunning(){return this.running}isPowerOff(){return this.powerOff}isUiInitialized(){return this.uiInitialized}getCanvas(){return this.canvas}getStatistics(){return{hostSpeed:this.speedAverage.calculateAverage(),emulationSpeed:this.emulationSpeed,averageFps:this.calculateFPS()}}getEmulationSpeed(){return this.emulationSpeed}isSuspended(){return!!this.cloudpilotInstance&&this.cloudpilotInstance.isSuspended()}onAfterAdvanceEmulation(n,e){}handleSuspend(){}callScheduler(){this.scheduler.schedule()}handleInput(){return!0}openSession(n,e,r,o,i){let s=!1;return!!n.initializeSession(e,r)&&(o&&(o.length%4!=0?console.warn("memory size is not a multiple of 4; ignoring image"):(s=n.loadMemory(new Uint32Array(o.buffer,o.byteOffset,o.length>>>2)),s||console.warn("failed to load memory"))),s&&i&&n.loadState(i),n.remountCards(),this.cloudpilotInstance&&this.cloudpilotInstance.pwmUpdateEvent.removeHandler(this.onPwmUpdate),n.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.cloudpilotInstance=n,this.deviceId=r,this.resetCanvas(),this.pendingPwmUpdates.flush(),this.lastPwmUpdateEvent=0,this.deviceHotsyncName=void 0,this.emulationSpeed=1,this.frameCounter=0,this.speedAverage.reset(1),this.powerOff=n.isPowerOff(),this.uiInitialized=n.isUiInitialized(),this.frameCounter=0,!0)}resetCanvas(){const n=qd(this.deviceId);this.canvas.width=this.canvasTmp.width=n.width,this.canvas.height=this.canvasTmp.height=n.height;const e=this.canvas.getContext("2d");if(!e)throw new Error("get a new browser");this.context=e;const r=this.canvasTmp.getContext("2d");if(!r)throw new Error("get a new browser");this.contextTmp=r,this.clearCanvas(),this.imageData=void 0}doResume(){!this.cloudpilotInstance||(this.clockEmulator=performance.now(),this.schedule(),this.setRunning(!0),this.resetFPS())}doPause(){this.stopLoop()}doStop(){this.stopLoop()}stopLoop(){!this.running||(this.scheduler.cancel(),void 0!==this.advanceEmulationHandle&&(window.clearTimeout(this.advanceEmulationHandle),this.advanceEmulationHandle=void 0),this.setRunning(!1))}resetFPS(){this.timePerFrameAverage.reset(),this.timestampLastFrame=performance.now()}calculateFPS(){const n=this.timePerFrameAverage.calculateAverage();return n&&1e3/n}transformSilkscreenX(n){const e=qd(this.deviceId);return void 0===e.silkscreenOvershoot?n:(n-e.width/2)/(e.width/(e.width+2*e.silkscreenOvershoot))+e.width/2}setRunning(n){n!==this.running&&(this.running=n,this.emulationStateChangeEvent.dispatch(n))}updateEmulationSpeed(n){if(n>=1&&this.emulationSpeed>=1)return;const e=Math.min(Math.max(Math.floor(10*n)/10,.1),1);this.emulationSpeed=e<=this.emulationSpeed||n-e>=.05?e:this.emulationSpeed}performScreenUpdate(){this.cloudpilotInstance?.isScreenDirty()&&(this.updateScreen(),this.cloudpilotInstance.markScreenClean(),this.frameCounter++)}onSchedule(n){this.hasFatalError()||(this.skipEmulationUpdate()||(this.performScreenUpdate(),this.pendingPwmUpdates.count()>0&&n-this.lastPwmUpdateEvent>10&&(this.pwmUpdateEvent.dispatch(this.pendingPwmUpdates.pop()),this.lastPwmUpdateEvent=n),void 0===this.advanceEmulationHandle&&(this.advanceEmulationHandle=window.setTimeout(()=>{this.advanceEmulationHandle=void 0,this.advanceEmulation(n)},0)),this.timePerFrameAverage.push(Math.max(0,n-this.timestampLastFrame)),this.timestampLastFrame=n),this.schedule())}schedule(){this.scheduler.cancel(),this.getConfiguredSchdedulerKind()!==this.scheduler.getKind()&&(this.scheduler=this.getConfiguredSchdedulerKind()===cl.animationFrame?new _M(n=>this.onSchedule(n)):new GH(n=>this.onSchedule(n))),this.callScheduler()}checkAndUpdateHotsyncName(){if(!this.cloudpilotInstance)return;void 0===this.deviceHotsyncName&&(this.deviceHotsyncName=this.cloudpilotInstance.getHotsyncName());const n=this.getConfiguredHotsyncName();void 0===n?this.updateConfiguredHotsyncName(this.deviceHotsyncName):n!==this.deviceHotsyncName&&n.length<=40&&this.cloudpilotInstance.isSetupComplete()&&(this.cloudpilotInstance.setHotsyncName(n),this.deviceHotsyncName=n)}clearCanvas(){const n=this.deviceId,e=qd(n);this.context.beginPath(),this.context.rect(0,0,e.width,e.height),this.context.fillStyle=cv(n)?"white":lv[0],this.context.fill()}updateScreen(){if(!this.cloudpilotInstance)return;const n=this.cloudpilotInstance.getFrame();if(this.cloudpilotInstance.isPowerOff())return this.clearCanvas(),void this.newFrameEvent.dispatch(this.canvas);if(!n.hasChanges)return;if(n.lines*n.scaleY===this.canvas.height&&n.lineWidth*n.scaleX===this.canvas.width){(!this.imageData||this.imageData.width!==n.lineWidth||this.imageData.height!==n.lines)&&(this.imageData=new ImageData(n.lineWidth,n.lines));const r=new Uint32Array(this.imageData.data.buffer);switch(n.bpp){case 1:{const o=ul[15],i=ul[0];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=n.buffer[c+(f>>>3)]&128>>>(7&f)?o:i}break}case 2:{const o=this.cloudpilotInstance.getPalette2bitMapping(),i=[ul[15&o],ul[o>>>4&15],ul[o>>>8&15],ul[o>>>12&15]];let s=0;for(let a=n.firstDirtyLine;a<=n.lastDirtyLine;a++){const c=a*n.bytesPerLine;for(let f=n.margin;f<n.lineWidth+n.margin;f++)r[s++]=i[n.buffer[c+(f>>>2)]>>6-2*(3&f)&3]}break}case 4:{let o=0;for(let i=n.firstDirtyLine;i<=n.lastDirtyLine;i++){const s=i*n.bytesPerLine;for(let a=n.margin;a<n.lineWidth+n.margin;a++)r[o++]=ul[n.buffer[s+(a>>>1)]>>>4-4*(1&a)&15]}break}case 24:{const o=new Uint32Array(n.buffer.buffer,n.buffer.byteOffset,n.buffer.byteLength>>>2);if(0===n.margin)r.subarray(0,n.lineWidth*(n.lastDirtyLine-n.firstDirtyLine+1)).set(o.subarray(n.firstDirtyLine*n.lineWidth,n.lineWidth*(n.lastDirtyLine+1)));else{let i=0;for(let s=n.firstDirtyLine;s<=n.lastDirtyLine;s++){let a=s*(n.bytesPerLine>>>2)+n.margin;for(let c=0;c<n.lineWidth;c++)r[i++]=o[a++]}}}}}if(!this.imageData)return;const e=1!==n.scaleX||1!==n.scaleY;(e?this.contextTmp:this.context).putImageData(this.imageData,0,n.firstDirtyLine,0,0,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1),e&&(this.context.imageSmoothingEnabled=!1,this.context.drawImage(this.canvasTmp,0,n.firstDirtyLine,n.lineWidth,n.lastDirtyLine-n.firstDirtyLine+1,0,n.firstDirtyLine*n.scaleY,n.lineWidth*n.scaleX,(n.lastDirtyLine-n.firstDirtyLine+1)*n.scaleY)),this.newFrameEvent.dispatch(this.canvas)}}{constructor(e,r,o,i,s,a,c,f,g,y,E,A,J,xe,Xe,Ge,yt,et){var ht;super(),ht=this,this.storageService=e,this.ngZone=r,this.loadingController=o,this.emulationState=i,this.snapshotService=s,this.errorService=a,this.fileService=c,this.alertService=f,this.modalWatcher=g,this.clipboardService=y,this.kvsService=E,this.proxyService=A,this.buttonService=J,this.bootstrapService=xe,this.cloudpilotService=Xe,this.storageCardService=Ge,this.storageCardContext=yt,this.app=et,this.switchSession=fn=>this.mutex.runExclusive((0,Me.Z)(function*(){if(fn===ht.emulationState.getCurrentSession()?.id)return;yield ht.stopUnchecked(),yield ht.bootstrapService.hasRendered();const To=yield ht.loadingController.create({message:"Loading..."});yield To.present();try{const rs=yield ht.storageService.getSession(fn);if(ht.emulationState.setCurrentSession(rs),!rs)throw new Error(`invalid session ${fn}`);const Jl=yield ht.cloudpilotService.cloudpilot;yield ht.restoreSession(rs,Jl),function lH(t){localStorage.setItem(yh,t+"")}(fn)}finally{yield To.dismiss()}})),this.resume=()=>this.mutex.runExclusive((0,Me.Z)(function*(){!ht.emulationState.getCurrentSession()||ht.running||ht.errorService.hasFatalError()||!ht.cloudpilotInstance||(yield ht.kvsService.mutex.runExclusive(()=>ht.updateFeatures()),ht.doResume(),ht.lastSnapshotAt=performance.now())})),this.pause=()=>this.mutex.runExclusive((0,Me.Z)(function*(){ht.doPause(),!ht.errorService.hasFatalError()&&ht.emulationState.getCurrentSession()&&(yield ht.snapshotService.waitForPendingSnapshot(),yield ht.snapshotService.triggerSnapshot())})),this.stop=()=>this.mutex.runExclusive(()=>this.stopUnchecked()),this.onSessionChange=([fn,To])=>this.mutex.runExclusive((0,Me.Z)(function*(){fn===ht.emulationState.getCurrentSession()?.id&&(ht.emulationState.setCurrentSession(To),ht.emulationState.getCurrentSession()||(iM(),ht.stopLoop()))})),this.onEmergencySave=()=>this.mutex.runExclusive((0,Me.Z)(function*(){const fn=ht.emulationState.getCurrentSession();fn&&ht.fileService.emergencySaveSession(fn,yield ht.cloudpilotService.cloudpilot)})),this.mutex=new Zs,this.lastSnapshotAt=0,e.sessionChangeEvent.addHandler(this.onSessionChange),a.fatalErrorEvent.addHandler(this.pause),this.alertService.emergencySaveEvent.addHandler(this.onEmergencySave),this.cloudpilotService.cloudpilot.then(fn=>{fn.fatalErrorEvent.addHandler(this.errorService.fatalInNativeCode),this.proxyService.initialize(fn),this.proxyService.resumeEvent.addHandler(()=>this.running&&this.advanceEmulation(performance.now()))});const tn=function aH(){const t=localStorage.getItem(yh);return t?parseInt(t,10):void 0}();this.bootstrapCompletePromise=Promise.resolve(),void 0!==tn&&!BE()&&(this.bootstrapCompletePromise=this.recoverStoredSession(tn))}bootstrapComplete(){return this.bootstrapCompletePromise}getConfiguredSpeed(){return this.emulationState.getCurrentSession()?.speed||1}manageHotsyncName(){return!this.emulationState.getCurrentSession()?.dontManageHotsyncName}getConfiguredHotsyncName(){return this.emulationState.getCurrentSession()?.hotsyncName}updateConfiguredHotsyncName(e){const r=this.emulationState.getCurrentSession();!r||this.storageService.updateSessionPartial(r.id,{hotsyncName:e})}getConfiguredSchdedulerKind(){return this.kvsService.kvs.runHidden?cl.timeout:cl.animationFrame}hasFatalError(){return this.errorService.hasFatalError()}skipEmulationUpdate(){return this.modalWatcher.isModalActive()&&0!==this.frameCounter}onAfterAdvanceEmulation(e,r){if(!this.cloudpilotInstance)return;const o=this.emulationState.getCurrentSession();this.uiInitialized&&o&&void 0===o.osVersion&&this.storageService.updateSessionPartial(o.id,{osVersion:this.cloudpilotInstance.getOSVersion()}),this.buttonService.tick(r/this.cloudpilotInstance.cyclesPerSecond()),e-this.lastSnapshotAt>1e3&&this.isUiInitialized()&&!this.cloudpilotInstance.isSuspended()&&(this.snapshotService.triggerSnapshot(),this.lastSnapshotAt=e),this.isDirty&&this.app.tick()}handleSuspend(){!this.cloudpilotInstance||(this.clipboardService.handleSuspend(this.cloudpilotInstance),this.proxyService.handleSuspend())}callScheduler(){this.ngZone.runOutsideAngular(()=>this.scheduler.schedule())}stopUnchecked(){var e=this;return(0,Me.Z)(function*(){!e.emulationState.getCurrentSession()||(e.doStop(),yield e.snapshotService.waitForPendingSnapshot(),e.storageCardService.onEmulatorStop(),e.emulationState.setCurrentSession(void 0))})()}updateFeatures(){if(!this.cloudpilotInstance)return;const e=this.kvsService.kvs.clipboardIntegration&&this.clipboardService.isSupported();this.cloudpilotInstance.getClipboardIntegration()!==e&&this.cloudpilotInstance.setClipboardIntegration(e),this.cloudpilotInstance.getNetworkRedirection()!==this.kvsService.kvs.networkRedirection&&(this.cloudpilotInstance.setNetworkRedirection(this.kvsService.kvs.networkRedirection),this.proxyService.reset()),this.cloudpilotInstance.setHotsyncNameManagement(!this.emulationState.getCurrentSession()?.dontManageHotsyncName)}recoverStoredSession(e){var r=this;return(0,Me.Z)(function*(){try{yield r.switchSession(e)}catch{qs&&r.alertService.message("Possible iOS bug","It seems that you hit an iOS bug that ocassionally\ncauses the database to come up empty when the app starts. If this happens to you, please force close\nthe app in the app switcher and reopen it; your data will be back on the second attempt.\n<br/><br/>\nSorry for the inconvenience.")}})()}restoreSession(e,r){var o=this;return(0,Me.Z)(function*(){const[i,s,a]=yield o.storageService.loadSession(e);if(!i)throw new Error(`invalid ROM ${e.rom}`);if(r.clearExternalStorage(),void 0!==e.mountedCard&&(yield o.storageCardService.loadCardInEmulator(e.mountedCard)),!o.openSession(r,i,e.device,s,a))throw new Error("failed to open session");o.proxyService.reset(),o.buttonService.reset(r),yield o.snapshotService.initialize(e,yield o.cloudpilotService.cloudpilot)})()}}return t.\u0275fac=function(e){return new(e||t)(we($n),we(ft),we(Zl),we(xa),we(Zd),we(Kl),we(cu),we(Pr),we(pv),we(TM),we(Li),we(mv),we(AM),we(PM),we(Ks),we(uu),we(su),we(Za))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fl=new _t(B),x6={connector:()=>new W};function LM(t,n=x6){const{connector:e}=n;return $e((r,o)=>{const i=e();S(t(function T6(t){return new _t(n=>t.subscribe(n))}(i))).subscribe(o),o.add(r.subscribe(i))})}function $M(t,n){return n?e=>bd(n.pipe(Zi(1),function R6(){return $e((t,n)=>{t.subscribe(ct(n,B))})}()),e.pipe($M(t))):Kt((e,r)=>t(e,r).pipe(Zi(1),d_(e)))}const Kd="Service workers are disabled or not supported by this browser";class Dh{constructor(n){if(this.serviceWorker=n,n){const r=_d(n,"controllerchange").pipe(at(()=>n.controller)),i=bd(Vp(()=>wn(n.controller)),r);this.worker=i.pipe(Go(g=>!!g)),this.registration=this.worker.pipe(Ni(()=>n.getRegistration()));const f=_d(n,"message").pipe(at(g=>g.data)).pipe(Go(g=>g&&g.type)).pipe(function P6(t){return t?n=>LM(t)(n):n=>function A6(t,n){const e=k(t)?t:()=>t;return k(n)?LM(n,{connector:e}):r=>new l_(r,e)}(new W)(n)}());f.connect(),this.events=f}else this.worker=this.events=this.registration=function O6(t){return Vp(()=>Xc(new Error(t)))}(Kd)}postMessage(n,e){return this.worker.pipe(Zi(1),zo(r=>{r.postMessage({action:n,...e})})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(n,e);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe(Go(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(Zi(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(Go(e=>e.nonce===n),Zi(1),at(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let N6=(()=>{class t{constructor(e){if(this.sw=e,this.subscriptionChanges=new W,!e.isEnabled)return this.messages=fl,this.notificationClicks=fl,void(this.subscription=fl);this.messages=this.sw.eventsOfType("PUSH").pipe(at(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(at(o=>o.data)),this.pushManager=this.sw.registration.pipe(at(o=>o.pushManager));const r=this.pushManager.pipe(Ni(o=>o.getSubscription()));this.subscription=Qo(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(Kd));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Ni(s=>s.subscribe(r)),Zi(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Zi(1),Ni(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Kd))}decodeBase64(e){return atob(e)}}return t.\u0275fac=function(e){return new(e||t)(we(Dh))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})(),bv=(()=>{class t{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=fl,this.available=fl,this.activated=fl,void(this.unrecoverable=fl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Go(r=>"VERSION_READY"===r.type),at(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Kd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Kd));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return t.\u0275fac=function(e){return new(e||t)(we(Dh))},t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();class wv{}const BM=new dn("NGSW_REGISTER_SCRIPT");function L6(t,n,e,r){return()=>{if(!va(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)i=e.registrationStrategy();else{const[a,...c]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":i=wn(null);break;case"registerWithDelay":i=VM(+c[0]||0);break;case"registerWhenStable":i=c[0]?Qo(HM(t),VM(+c[0])):HM(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(ft).runOutsideAngular(()=>i.pipe(Zi(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function VM(t){return wn(null).pipe(function F6(t,n=BI){const e=VI(t,n);return $M(()=>e)}(t))}function HM(t){return t.get(Za).isStable.pipe(Go(e=>e))}function $6(t,n){return new Dh(va(n)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let B6=(()=>{class t{static register(e,r={}){return{ngModule:t,providers:[{provide:BM,useValue:e},{provide:wv,useValue:r},{provide:Dh,useFactory:$6,deps:[wv,Wc]},{provide:Pl,useFactory:L6,deps:[br,BM,wv,Wc],multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({providers:[N6,bv]}),t})(),jM=(()=>{class t{constructor(e,r,o,i,s){var a=this;this.kvsService=e,this.emulationService=r,this.alertService=o,this.modalController=i,this.updates=s,this.checkForUpgrade=()=>this.mutex.runExclusive((0,Me.Z)(function*(){const c=a.kvsService.kvs.version;void 0!==c?c!==Xl&&(yield a.kvsService.set({version:Xl,previousVersion:c,latestVersion:Xl}),yield a.emulationService.bootstrapComplete(),a.alertService.message("Update complete",`CloudpilotEmu was updated to version ${Xl}.`,{Changes:()=>a.showChangelog()})):a.kvsService.kvs.version=Xl})),this.mutex=new Zs,this.mutex.runExclusive(this.checkForDowngrade.bind(this))}start(){this.checkForUpgrade(),this.startUpdateCheck(),this.registerForUpdates()}startUpdateCheck(){this.scheduleUpdateCheck()}registerForUpdates(){var e=this;this.updates.available.subscribe((0,Me.Z)(function*(){yield e.emulationService.bootstrapComplete(),e.alertService.updateAvailable()}))}checkForDowngrade(){var e=this;return(0,Me.Z)(function*(){if(yield e.kvsService.initialize(),e.kvsService.kvs.previousVersion===Xl){const r=yield window.navigator.serviceWorker.getRegistration();console.log("downgrade detected"),r&&(yield r.unregister())&&(yield e.kvsService.set({previousVersion:void 0}),console.log("worker derigstered, reloading..."),window.location.reload())}})()}showChangelog(){var e=this;return(0,Me.Z)(function*(){yield(yield e.modalController.create({component:zd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}scheduleUpdateCheck(){setTimeout(()=>{this.updates.checkForUpdate(),this.scheduleUpdateCheck()},9e5)}}return t.\u0275fac=function(e){return new(e||t)(we(Li),we(Xs),we(Pr),we(Ds),we(bv))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),H6=(()=>{class t{constructor(e,r,o){this.pwaService=e,this.updateService=r,this.bootstrapService=o}ngAfterViewInit(){this.bootstrapService.notifyHasRendered(),this.pwaService.invite(),this.updateService.start()}}return t.\u0275fac=function(e){return new(e||t)(C(gM),C(jM),C(PM))},t.\u0275cmp=m({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,r){1&e&&(de(0,"ion-app"),pt(1,"ion-router-outlet"),re())},dependencies:[vI,Bd]}),t})(),UM=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-dummy"]],decls:2,vars:0,template:function(e,r){1&e&&(de(0,"div"),Je(1,"Dummy"),re())},encapsulation:2}),t})(),GM=(()=>{class t{constructor(e,r){this.linkApi=e,this.router=r}canActivate(e){return e.url[0]?.path?.startsWith("install")?(this.linkApi.installation.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/emulation"),!1):!e.url[0]?.path?.startsWith("import")||(this.linkApi.import.dispatchRequest(e.queryParams.url),this.router.navigateByUrl("/tab/sessions"),!1)}}return t.\u0275fac=function(e){return new(e||t)(we(Ay),we(Wr))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Cv=fe.m515,j6=lv[2],U6=lv[0],du="rgba(0,0,0,0.2)";function zM(t){const n=qd(t),e=(0===n.screenSize?3:2)*devicePixelRatio,r={frameDevice:1,frameCanvas:e},o=c=>({frameDevice:c,frameCanvas:c*e}),i=c=>({frameDevice:c,frameCanvas:r.frameCanvas+c*e}),s=o(n.silkscreenHeight>0?1:0),a=o(function q6(t){switch(t){case 3:case 1:return 60;case 2:return 45;default:return 30}}(n.screenSize));return{scale:e,borderWidth:r,height:o(2*r.frameDevice+n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice),width:o(2*r.frameDevice+n.width),screenHeight:o(n.height),screenWidth:o(n.width),screenLeft:i(0),screenTop:i(0),screenBottom:i(n.height),separatorHeight:s,silkscreenHeight:o(n.silkscreenHeight),silkscreenTop:i(n.height+s.frameDevice),silkscreenBottom:i(n.height+s.frameDevice+n.silkscreenHeight),softSilkscreenHeight:o(n.silkscreenHeight>0?0:n.height-n.width),buttonHeight:a,buttonWidth:a,buttonTop:i(n.height+s.frameDevice+n.silkscreenHeight),buttonBottom:i(n.height+s.frameDevice+n.silkscreenHeight+a.frameDevice)}}const Q6=["SILKSCREEN_V","SILKSCREEN_M500","SILKSCREEN_M515","SILKSCREEN_IIIC","SILKSCREEN_M100","SILKSCREEN_M130","SILKSCREEN_TUNGSTEN_W","SILKSCREEN_PILOT","SILKSCREEN_I705","SILKSCREEN_PEG_S300","SILKSCREEN_PEG_S500","SILKSCREEN_PEG_T415","SILKSCREEN_PEG_N610","SILKSCREEN_PEG_T600","HARD_BUTTONS_PALM_V","HARD_BUTTONS_M515","HARD_BUTTONS_M500","HARD_BUTTONS_IIIC","HARD_BUTTONS_IIIX","HARD_BUTTONS_IIIE","HARD_BUTTONS_M100","HARD_BUTTONS_M125","HARD_BUTTONS_M130","HARD_BUTTONS_TUNGSTEN_W","HARD_BUTTONS_PILOT","HARD_BUTTONS_I705","HARD_BUTTONS_HANDERA330","HARD_BUTTONS_PEG_S300","HARD_BUTTONS_PEG_S500","HARD_BUTTONS_PEG_S320","HARD_BUTTONS_PEG_T415","HARD_BUTTONS_PEG_N610","HARD_BUTTONS_PEG_N700","HARD_BUTTONS_PEG_NR70"];function J6(t){const e=o=>function Y6(t){let n,e;const r=document.createElement("canvas");return function(){var o=(0,Me.Z)(function*(i,s){if(n===i&&e===s)return r;r.width=i,r.height=s;const a=r.getContext("2d");if(!a)throw new Error("get a new browser");return a.drawImage(yield t(),0,0,r.width,r.height),n=i,e=s,r});return function(i,s){return o.apply(this,arguments)}}()}(function n(o){let i;return(0,Me.Z)(function*(){if(!i){const s=(yield t)[o];i=function K6(t){return()=>new Promise((n,e)=>{const r=new Image;r.onload=()=>n(r),r.onerror=()=>e(),r.src=t})}((t=>`data:image/svg+xml;base64,${btoa(t)}`)(s))()}return i})}(o)),r={};for(const o of Q6)r[o]=e(o);return r}let Ih=(()=>{class t extends class Z6{constructor(n){this.skin=n,this.layout=zM(Cv),this.onResize=new Ro.j}get width(){switch(this.getOrientation()){case hr.portrait:case hr.portrait180:case void 0:return this.layout.width.frameCanvas;default:return this.layout.height.frameCanvas}}get height(){switch(this.getOrientation()){case hr.portrait:case hr.portrait180:case void 0:return this.layout.height.frameCanvas;default:return this.layout.width.frameCanvas}}updateEmulationCanvas(n){this.drawEmulationCanvas(n),this.onAfterUpdateCanvas()}eventToPalmCoordinates(n,e=!1){if(!this.ctx)return;const r=this.ctx.canvas.getBoundingClientRect();let o,i,s,a;r.width/r.height>this.width/this.height?(a=r.height,s=this.width/this.height*r.height,i=r.top,o=r.left+(r.width-s)/2):(s=r.width,a=this.height/this.width*r.width,o=r.left,i=r.top+(r.height-a)/2);let c=(n.clientX-o)/s*this.width/this.layout.scale,f=(n.clientY-i)/a*this.height/this.layout.scale;switch(this.getOrientation()){case hr.landscape90:{const y=f;f=this.layout.height.frameDevice-c,c=y;break}case hr.landscape270:{const y=f;f=c,c=this.layout.width.frameDevice-y;break}case hr.portrait180:c=this.layout.width.frameDevice-c,f=this.layout.height.frameDevice-f}c-=this.layout.borderWidth.frameDevice,f-=this.layout.borderWidth.frameDevice,f>=this.layout.screenHeight.frameDevice&&(f<=this.layout.screenHeight.frameDevice+this.layout.separatorHeight.frameDevice?f=this.layout.screenHeight.frameDevice:f-=this.layout.separatorHeight.frameDevice);const g=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice;if(e)c<0&&(c=0),c>=this.layout.screenWidth.frameDevice&&(c=this.layout.screenWidth.frameDevice-1),f<0&&(f=0),f>=g&&(f=g-1);else if(c<0||c>=this.layout.screenWidth.frameDevice||f<0||f>=g)return;return[c,f]}isSilkscreen(n){const[,e]=n;return!this.isButtons(n)&&e>=this.layout.screenHeight.frameDevice}isButtons([,n]){return n>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice}determineButton([n,e]){return n>=this.layout.screenWidth.frameDevice-this.layout.buttonWidth.frameDevice?3:n>=this.layout.screenWidth.frameDevice-2*this.layout.buttonWidth.frameDevice?2:n>=2*this.layout.buttonWidth.frameDevice?e>=this.layout.screenHeight.frameDevice+this.layout.silkscreenHeight.frameDevice+this.layout.buttonHeight.frameDevice/2?5:4:n>=this.layout.buttonWidth.frameDevice?1:0}initWithCanvas(n=this.ctx?.canvas){var e=this;return(0,Me.Z)(function*(){if(!n)return;e.layout=zM(e.getDeviceId()),e.onResize.dispatch(),n.width=e.width,n.height=e.height;const r=n.getContext("2d");if(!r)throw new Error("canvas not supported - get a new browser");e.ctx=r,e.setupTransformation(),e.fillCanvasRect(0,0,e.layout.width.frameCanvas,e.layout.height.frameCanvas,e.frameColor()),e.fillRect(0,0,e.layout.screenWidth.frameDevice,e.layout.screenHeight.frameDevice+e.layout.silkscreenHeight.frameDevice+e.layout.separatorHeight.frameDevice+e.layout.buttonHeight.frameDevice,e.backgroundColor()),e.drawEmulationCanvas(),yield Promise.all([e.drawSilkscreen(),e.drawButtons()])})()}drawButtons(n=[]){var e=this;return(0,Me.Z)(function*(){!e.ctx||(e.setupTransformation(),e.ctx.imageSmoothingEnabled=!0,e.ctx.imageSmoothingQuality="high",e.ctx.drawImage(yield e.buttonsImage()(e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),e.layout.screenLeft.frameCanvas,e.layout.buttonTop.frameCanvas,e.layout.screenWidth.frameCanvas,e.layout.buttonHeight.frameCanvas),n.includes(0)&&e.fillRect(0,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,du),n.includes(1)&&e.fillRect(e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,du),n.includes(2)&&e.fillRect(e.layout.screenWidth.frameDevice-2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,du),n.includes(3)&&e.fillRect(e.layout.screenWidth.frameDevice-e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice,du),n.includes(4)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,du),n.includes(5)&&e.fillRect(2*e.layout.buttonWidth.frameDevice,e.layout.buttonTop.frameDevice+e.layout.buttonHeight.frameDevice/2,e.layout.screenWidth.frameDevice-4*e.layout.buttonWidth.frameDevice,e.layout.buttonHeight.frameDevice/2,du))})()}onAfterUpdateCanvas(){}setupTransformation(){if(this.ctx)switch(this.ctx?.resetTransform(),this.getOrientation()){case hr.portrait:case void 0:break;case hr.landscape90:this.ctx.translate(this.layout.height.frameCanvas,0),this.ctx.rotate(Math.PI/2);break;case hr.landscape270:this.ctx.translate(0,this.layout.width.frameCanvas),this.ctx.rotate(3*Math.PI/2);break;case hr.portrait180:this.ctx.translate(this.layout.width.frameCanvas,this.layout.height.frameCanvas),this.ctx.rotate(Math.PI)}}drawSilkscreen(){var n=this;return(0,Me.Z)(function*(){0===n.layout.silkscreenHeight.frameCanvas||!n.ctx||(n.setupTransformation(),n.fillRect(n.layout.screenLeft.frameDevice,n.layout.silkscreenTop.frameDevice,n.layout.screenWidth.frameDevice,n.layout.silkscreenHeight.frameDevice,j6),n.ctx.imageSmoothingEnabled=!0,n.ctx.imageSmoothingQuality="high",n.ctx.drawImage(yield n.silkscreenImage()(n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas),n.layout.borderWidth.frameCanvas,n.layout.silkscreenTop.frameCanvas,n.layout.screenWidth.frameCanvas,n.layout.silkscreenHeight.frameCanvas))})()}drawEmulationCanvas(n=this.lastEmulationCanvas){!n||!this.ctx||(this.lastEmulationCanvas=n,this.ctx.imageSmoothingEnabled=!1,this.ctx.drawImage(n,this.layout.screenLeft.frameCanvas,this.layout.screenTop.frameCanvas,this.layout.screenWidth.frameCanvas,this.layout.screenHeight.frameCanvas))}fillRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(this.layout.borderWidth.frameCanvas+this.layout.scale*n,this.layout.borderWidth.frameCanvas+this.layout.scale*e,this.layout.scale*r,this.layout.scale*o),this.ctx.fillStyle=i,this.ctx.fill())}fillCanvasRect(n,e,r,o,i){!this.ctx||(this.ctx.beginPath(),this.ctx.rect(n,e,r,o),this.ctx.fillStyle=i,this.ctx.fill())}silkscreenImage(){switch(this.getDeviceId()){case fe.pegT600c:case fe.pegT650c:return this.skin.SILKSCREEN_PEG_T600;case fe.pegN700c:case fe.pegN600c:return this.skin.SILKSCREEN_PEG_N610;case fe.pegS320:case fe.pegS300:return this.skin.SILKSCREEN_PEG_S300;case fe.pegS500c:return this.skin.SILKSCREEN_PEG_S500;case fe.pegT400:return this.skin.SILKSCREEN_PEG_T415;case fe.palmPilot:case fe.pilot:case fe.iii:case fe.palmVII:return this.skin.SILKSCREEN_PILOT;case fe.m500:return this.skin.SILKSCREEN_M500;case fe.m505:case fe.m515:return this.skin.SILKSCREEN_M515;case fe.iiic:return this.skin.SILKSCREEN_IIIC;case fe.m100:case fe.m105:case fe.m125:return this.skin.SILKSCREEN_M100;case fe.m130:return this.skin.SILKSCREEN_M130;case fe.i710:return this.skin.SILKSCREEN_TUNGSTEN_W;case fe.i705:return this.skin.SILKSCREEN_I705;default:return this.skin.SILKSCREEN_V}}buttonsImage(){switch(this.getDeviceId()){case fe.pegNR70:return this.skin.HARD_BUTTONS_PEG_NR70;case fe.pegN700c:return this.skin.HARD_BUTTONS_PEG_N700;case fe.pegN600c:return this.skin.HARD_BUTTONS_PEG_N610;case fe.pegS300:return this.skin.HARD_BUTTONS_PEG_S300;case fe.pegS500c:return this.skin.HARD_BUTTONS_PEG_S500;case fe.pegS320:return this.skin.HARD_BUTTONS_PEG_S320;case fe.pegT400:case fe.pegT600c:case fe.pegT650c:return this.skin.HARD_BUTTONS_PEG_T415;case fe.pilot:case fe.palmPilot:return this.skin.HARD_BUTTONS_PILOT;case fe.m500:return this.skin.HARD_BUTTONS_M500;case fe.m505:case fe.m515:return this.skin.HARD_BUTTONS_M515;case fe.iiic:return this.skin.HARD_BUTTONS_IIIC;case fe.m100:case fe.m105:return this.skin.HARD_BUTTONS_M100;case fe.m125:return this.skin.HARD_BUTTONS_M125;case fe.m130:return this.skin.HARD_BUTTONS_M130;case fe.i710:return this.skin.HARD_BUTTONS_TUNGSTEN_W;case fe.iii:case fe.iiix:case fe.iiixe:case fe.palmVII:case fe.palmVIIEZ:case fe.palmVIIx:return this.skin.HARD_BUTTONS_IIIX;case fe.iiie:return this.skin.HARD_BUTTONS_IIIE;case fe.i705:return this.skin.HARD_BUTTONS_I705;case fe.handera330:return this.skin.HARD_BUTTONS_HANDERA330;default:return this.skin.HARD_BUTTONS_PALM_V}}backgroundColor(){return cv(this.getDeviceId())?"white":U6}frameColor(){return cv(this.getDeviceId())?"white":"#ccc"}}{constructor(){super(J6(F.e(4907).then(F.bind(F,4907)))),this.statisticsVisible=!1}initialize(e,r=this.session){var o=this;return(0,Me.Z)(function*(){o.session=r,yield o.initWithCanvas(e)})()}clearStatistics(){var e=this;return(0,Me.Z)(function*(){e.statisticsVisible=!1,e.layout.silkscreenHeight.frameCanvas>0?yield e.drawSilkscreen():yield e.drawEmulationCanvas()})()}updateStatistics(e,r){var o=this;return(0,Me.Z)(function*(){yield o.clearStatistics(),o.drawStatistics(e,r),o.lastEmulationStatistics=r,o.lastSnapshotStatistics=e,o.statisticsVisible=!0})()}getDeviceId(){return this.session?.device??Cv}getOrientation(){return this.session?.deviceOrientation??hr.portrait}onAfterUpdateCanvas(){this.statisticsVisible&&0===this.layout.silkscreenHeight.frameCanvas&&this.drawStatistics(this.lastSnapshotStatistics,this.lastEmulationStatistics)}drawStatistics(e,r){if(!this.ctx)return;this.setupTransformation();const o=this.layout.silkscreenHeight.frameDevice>0?this.layout.silkscreenHeight:this.layout.softSilkscreenHeight,i=this.layout.silkscreenHeight.frameCanvas>0?this.layout.silkscreenTop:{frameCanvas:this.layout.screenBottom.frameCanvas-o.frameCanvas,frameDevice:this.layout.screenBottom.frameDevice-o.frameDevice};this.ctx.beginPath(),this.fillRect(this.layout.screenLeft.frameDevice,i.frameDevice,this.layout.screenWidth.frameDevice,o.frameDevice,"rgba(255,255,255,0.6)");const a=function ej(t){switch(t){case 1:case 3:return 2;case 2:return 1.5;default:return 1}}(qd(this.session?.device??Cv).screenSize);this.ctx.font=6*this.layout.scale*a+"px monospace",this.ctx.fillStyle="black",[...e||r?[]:["collecting statistics..."],...e?[`last snapshot          : ${new Date(e.timestamp).toLocaleTimeString()}`,`snapshot pages         : ${e.pages}`,`snapshot time total    : ${e.timeTotal.toFixed(2)} msec`,`snapshot time blocking : ${e.timeBlocking.toFixed(2)} msec`]:[],...r?[`host speed             : ${r.hostSpeed.toFixed(2)}x`,`emulation speed        : ${r.emulationSpeed.toFixed(2)}x`,`average FPS            : ${r.averageFps.toFixed(2)}`]:[]].forEach((c,f)=>this.ctx.fillText(c,this.layout.screenLeft.frameCanvas+a*this.layout.scale,i.frameCanvas+a*this.layout.scale*(8+6*f)))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sv=(()=>{class t{constructor(e,r,o){this.router=e,this.canvasDisplayService=r,this.emulationStateService=o,this.updateUseSmallUI=()=>{const i=!!document.querySelector("html.md"),s=i?56:44;this.useSmallUI=this.canvasArea(window.innerHeight-s-(i?57:51)-6,window.innerWidth-6)<this.canvasArea(window.innerHeight-s-25-6,window.innerWidth-6)},this.useSmallUI=!1,this.isLockedFlag=!1,window.addEventListener("resize",this.updateUseSmallUI),window.addEventListener("orientationchange",this.updateUseSmallUI),r.onResize.addHandler(()=>this.updateUseSmallUI()),this.updateUseSmallUI()}get smallUI(){return"/tab/emulation"===this.router.url&&this.useSmallUI&&void 0!==this.emulationStateService.getCurrentSession()}lock(){this.isLockedFlag=!0}unlock(){this.isLockedFlag=!1}isLocked(){return this.isLockedFlag}canvasArea(e,r){let o,i;return e=Math.min(e,this.canvasDisplayService.height/devicePixelRatio),(r=Math.min(r,this.canvasDisplayService.width/devicePixelRatio))/e>this.canvasDisplayService.width/this.canvasDisplayService.height?(i=e,o=e/this.canvasDisplayService.height*this.canvasDisplayService.width):(o=r,i=r/this.canvasDisplayService.width*this.canvasDisplayService.height),o*i}}return t.\u0275fac=function(e){return new(e||t)(C(Wr),C(Ih),C(xa))},t.\u0275cmp=m({type:t,selectors:[["app-tabs"]],decls:23,vars:4,consts:[[1,"overflow-wrapper"],["slot","bottom"],["tab","emulation"],["name","phone-portrait-outline"],["tab","sessions"],["name","albums-outline"],["tab","storage"],["name","folder-outline"],["tab","settings"],["name","cog-outline"],["tab","about"],["name","help-outline"]],template:function(e,r){1&e&&(de(0,"ion-tabs")(1,"div",0)(2,"ion-tab-bar",1)(3,"ion-tab-button",2),pt(4,"ion-icon",3),de(5,"ion-label"),Je(6,"Emulator"),re()(),de(7,"ion-tab-button",4),pt(8,"ion-icon",5),de(9,"ion-label"),Je(10,"Sessions"),re()(),de(11,"ion-tab-button",6),pt(12,"ion-icon",7),de(13,"ion-label"),Je(14,"Cards"),re()(),de(15,"ion-tab-button",8),pt(16,"ion-icon",9),de(17,"ion-label"),Je(18,"Settings"),re()(),de(19,"ion-tab-button",10),pt(20,"ion-icon",11),de(21,"ion-label"),Je(22,"About"),re()()()()()),2&e&&(tt(2),la("small-ui",r.smallUI)("disabled",r.isLocked()))},dependencies:[qo,Ji,H_,CI,RI],styles:["ion-tab-bar[_ngcontent-%COMP%]{min-width:280px}ion-tab-bar.small-ui[_ngcontent-%COMP%]{height:25px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{height:21px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-icon.md[_ngcontent-%COMP%]{margin-top:3px}ion-tab-bar.small-ui[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:none}ion-tab-bar.disabled[_ngcontent-%COMP%]{display:none}.overflow-wrapper[_ngcontent-%COMP%]{overflow-x:auto}ion-icon[_ngcontent-%COMP%]{font-size:25px}"]}),t})(),Xd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[Gs,X_.forChild(),rl,Vl,Bp]}),t})(),tj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[Gs,Vl,rl,Xd,X_.forChild()]}),t})(),nj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[Gs,Vl,rl,Xd]}),t})(),rj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[Gs,Vl,rl,Bp,Xd]}),t})(),oj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[Gs,Vl,rl,Xd,Bp]}),t})(),ij=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[Gs,rl,Vl,Bp,Xd]}),t})();function sj(t,n){if(1&t){const e=pr();de(0,"ion-button",1),lt("click",function(){return Qt(e),Mt(jt().onClick())}),pt(1,"ion-icon",2),re()}if(2&t){const e=jt();tt(1),rt("name",e.iconName)}}let Mh=(()=>{class t{constructor(e){this.pwaService=e}onClick(){this.pwaService.install()}get iconName(){return qs?"logo-apple-appstore":nM?"logo-google-playstore":"apps-outline"}get show(){return this.pwaService.promptForInstall()}}return t.\u0275fac=function(e){return new(e||t)(C(gM))},t.\u0275cmp=m({type:t,selectors:[["app-pwa-prompt"]],decls:1,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"],[3,"name"]],template:function(e,r){1&e&&en(0,sj,2,1,"ion-button",0),2&e&&rt("ngIf",r.show)},dependencies:[Po,Yi,qo]}),t})();function aj(t,n){1&t&&(de(0,"div",11),pt(1,"ion-spinner"),re())}function lj(t,n){1&t&&(de(0,"div"),Je(1,"app cached for offline use"),re())}let cj=(()=>{class t{constructor(e,r){this.modalController=e,this.updates=r,this.loading=!0}get version(){return Xl}showChangelog(){var e=this;return(0,Me.Z)(function*(){yield(yield e.modalController.create({component:zd,componentProps:{url:"assets/doc/CHANGELOG.md",title:"Changelog"}})).present()})()}get serviceWorkerAvailable(){return this.updates.isEnabled}}return t.\u0275fac=function(e){return new(e||t)(C(Ds),C(bv))},t.\u0275cmp=m({type:t,selectors:[["app-about"]],decls:21,vars:4,consts:[[3,"translucent"],["slot","secondary"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],[1,"markdown-container"],["src","assets/doc/about.md",3,"load"],[1,"version"],["href","javascript:",3,"click"],[4,"ngIf"],["src","assets/logo.svg",1,"logo"],[1,"loader"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Je(3,"About"),re(),de(4,"ion-buttons",1),pt(5,"app-pwa-prompt"),re()()(),de(6,"ion-content")(7,"ion-header",2)(8,"ion-toolbar")(9,"ion-title",3),Je(10,"About"),re()()(),en(11,aj,2,0,"div",4),de(12,"div",5)(13,"markdown",6),lt("load",function(){return r.loading=!1}),re()(),de(14,"div",7),Je(15),pt(16,"br"),de(17,"a",8),lt("click",function(){return r.showChangelog()}),Je(18,"Changelog"),re(),en(19,lj,2,0,"div",9),re(),pt(20,"img",10),re()),2&e&&(rt("translucent",!0),tt(11),rt("ngIf",r.loading),tt(4),Ai(" CloudpilotEmu version ",r.version," "),tt(4),rt("ngIf",r.serviceWorkerAvailable))},dependencies:[Po,Ki,Xi,Qi,Nd,ts,es,Mh,K_],styles:[".version[_ngcontent-%COMP%]{width:100%;bottom:1em;text-align:center;font-size:.75em;margin-top:3em;margin-bottom:1em}.markdown-container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;justify-content:center}markdown[_ngcontent-%COMP%]{display:block;margin-left:.5em;margin-right:.5em;max-width:40em}.loader[_ngcontent-%COMP%]{width:100%;height:10em;display:flex;align-items:center;justify-content:center}.logo[_ngcontent-%COMP%]{width:10em;height:10em;margin:1em auto;display:block}@media (prefers-color-scheme: dark){.logo[_ngcontent-%COMP%]{filter:invert(100%)}}"]}),t})();function uj(t,n){if(1&t&&(de(0,"ion-select-option",17),Je(1),re()),2&t){const e=n.$implicit;rt("value",e[0]),tt(1),Ai("",e[1]," ")}}function dj(t,n){if(1&t&&(de(0,"ion-select-option",17),Je(1),re()),2&t){const e=n.$implicit;rt("value",e[0]),tt(1),Ai("",e[1]," ")}}function fj(t,n){if(1&t&&(de(0,"ion-item",7)(1,"ion-label",8),Je(2,"Hotsync name"),re(),pt(3,"ion-input",18),re()),2&t){const e=jt();tt(3),rt("placeholder",e.placeholder)}}let WM=(()=>{class t{constructor(e,r){this.sessionService=e,this.alertService=r,this.validateNameUnique=o=>o.value!==this.session.name&&this.sessionService.getSessions().some(i=>i.name===o.value)?{name:"already taken"}:null,this.onSave=()=>{},this.onCancel=()=>{},this.orientations=[[hr.portrait,"Portrait"],[hr.landscape90,"Landscape 90\xb0"],[hr.landscape270,"Landscape 270\xb0"],[hr.portrait180,"Upside down"]]}get formControlName(){return this.formGroup.get("name")}get formControlHotsyncName(){return this.formGroup.get("hotsyncName")}get formControlDevice(){return this.formGroup.get("device")}get formControlManageHotsyncName(){return this.formGroup.get("manageHotsyncName")}get formControlSpeed(){return this.formGroup.get("speed")}get formControlOrientation(){return this.formGroup.get("orientation")}get showHotsyncNameInput(){return this.formControlManageHotsyncName.value}get placeholder(){return this.formControlHotsyncName.value?this.formControlName.value:void 0!==this.session.hotsyncName||this.session.dontManageHotsyncName?"Enter hotsync name":"use setting from device"}get deviceList(){return this.availableDevices.map(e=>[e,vM(e)])}ngOnInit(){this.createFormGroup()}save(){this.formGroup.invalid||(this.session.name=this.formControlName.value,this.formControlManageHotsyncName.value?this.session.dontManageHotsyncName?(this.session.dontManageHotsyncName=!1,this.session.hotsyncName=this.formControlHotsyncName.value||"",this.alertService.message("Reset required","Please reset the virtual device in order to make sure that the hotsync name is synced properly again.")):this.session.hotsyncName=this.formControlHotsyncName.value||(void 0===this.session.hotsyncName?void 0:""):this.session.dontManageHotsyncName=!0,this.session.device=this.formControlDevice.value,this.session.speed=this.speedValue,this.session.deviceOrientation=this.formControlOrientation.value,this.onSave())}onEnter(){this.save()}get speedValue(){const e=this.formControlSpeed.value||0;return e>=0?1+e:1/(1-e)}get speedLabel(){return"Clock: "+(0===this.formControlSpeed.value?"default":`${Math.round(this.speedValue*function qH(t){switch(t){case fe.palmPilot:case fe.pilot:case fe.iii:case fe.palmVII:case fe.palmVx:case fe.palmV:case fe.palmVIIEZ:case fe.palmVIIx:case fe.iiic:case fe.iiix:case fe.iiixe:case fe.iiie:case fe.m100:case fe.m105:case fe.pegS300:case fe.pegS500c:return 16;case fe.m500:case fe.m505:case fe.m515:case fe.m125:case fe.m130:case fe.i705:case fe.i710:case fe.handera330:case fe.pegS320:case fe.pegT400:case fe.pegN600c:case fe.pegT600c:case fe.pegN700c:return 33;case fe.pegT650c:case fe.pegNR70:return 66}}(this.formControlDevice.value))}MHz`)}createFormGroup(){this.formGroup=new Fp({name:new Fo(this.session.name,{validators:[Hy.required,this.validateNameUnique]}),manageHotsyncName:new Fo(!this.session.dontManageHotsyncName),hotsyncName:new Fo(this.session.hotsyncName||""),device:new Fo({value:this.session.device,disabled:1===this.availableDevices.length}),speed:new Fo((this.session.speed||1)>=1?(this.session.speed||1)-1:1-1/this.session.speed),orientation:new Fo(this.session.deviceOrientation||hr.portrait)})}}return t.\u0275fac=function(e){return new(e||t)(C(Yd),C(Pr))},t.\u0275cmp=m({type:t,selectors:[["app-session-settings"]],inputs:{onSave:"onSave",onCancel:"onCancel",session:"session",availableDevices:"availableDevices"},decls:41,vars:6,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter session name","formControlName","name"],["formControlName","device"],[3,"value",4,"ngFor","ngForOf"],["formControlName","orientation"],[1,"label-speed"],["min","-4","max","4","step","0.25","snaps","true","ticks","false","formControlName","speed"],["formControlName","manageHotsyncName"],["lines","none",4,"ngIf"],[3,"value"],["formControlName","hotsyncName","maxlength","40",3,"placeholder"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Je(3,"Session settings"),re(),de(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.save()}),Je(6,"Save"),re()(),de(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),Je(9,"Cancel"),re()()()(),de(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return r.onEnter()}),de(12,"h1"),Je(13,"Session"),re(),de(14,"ion-item",7)(15,"ion-label",8),Je(16,"Session name"),re(),pt(17,"ion-input",9),re(),de(18,"h1"),Je(19,"Device"),re(),de(20,"ion-item",7)(21,"ion-label",8),Je(22,"Device type"),re(),de(23,"ion-select",10),en(24,uj,2,2,"ion-select-option",11),re()(),de(25,"ion-item",7)(26,"ion-label",8),Je(27,"Orientation"),re(),de(28,"ion-select",12),en(29,dj,2,2,"ion-select-option",11),re()(),de(30,"ion-item",7)(31,"ion-label",13),Je(32),re(),pt(33,"ion-range",14),re(),de(34,"h1"),Je(35,"Hotsync"),re(),de(36,"ion-item",7)(37,"ion-label"),Je(38,"Manage hotsync name"),re(),pt(39,"ion-toggle",15),re(),en(40,fj,4,1,"ion-item",16),re()()),2&e&&(tt(5),rt("disabled",r.formGroup.invalid),tt(6),rt("formGroup",r.formGroup),tt(13),rt("ngForOf",r.deviceList),tt(5),rt("ngForOf",r.orientations),tt(3),Wi(r.speedLabel),tt(8),rt("ngIf",r.showHotsyncNameInput))},dependencies:[Fl,Po,Yi,Ki,Xi,Qi,ql,Zo,Ji,V_,uh,dh,Ld,ts,es,Fd,Od,Wl,$l,Nl,Ll,s_,Sa,Ja],styles:["ion-item[_ngcontent-%COMP%]{--highlight-color-valid: var(--highlight-color-focused);--background: none}.label-speed[_ngcontent-%COMP%]{min-width:7.5rem}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}"]}),t})(),pj=(()=>{class t{constructor(e,r,o,i,s,a,c){this.emulationService=e,this.loadingController=r,this.snapshotService=o,this.fileService=i,this.emulationStateService=s,this.alertService=a,this.cloudpilotService=c}saveBackup(e){var r=this;return(0,Me.Z)(function*(){const o=r.emulationStateService.getCurrentSession();if(!o)return;const i=yield r.loadingController.create({message:"Backing up..."});yield i.present();let a,s=[];yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();try{const c=yield r.cloudpilotService.cloudpilot;yield c.backup(function(){var f=(0,Me.Z)(function*(g){for(g.Init(e);g.IsInProgress();){const y=g.GetCurrentDatabase();g.Save()||s.push(y),yield new Promise(E=>setTimeout(E,0))}a=c.getArchive(g)});return function(g){return f.apply(this,arguments)}}())}finally{yield i.dismiss(),yield r.emulationService.resume()}a?s.length>0?yield r.alertService.message("Backup complete",`\n                    ${dv(s)} failed  to backup.\n                    <br/><br/>\n                    Open databases cannot be backuped. Please run backup from the launcher\n                    in order to backup all databases.\n                `,{"Save Backup":()=>r.fileService.saveFile(DM(o,e),a)},"Cancel"):r.fileService.saveFile(DM(o,e),a):yield r.alertService.errorMessage("Backup failed.")})()}}return t.\u0275fac=function(e){return new(e||t)(we(Xs),we(Zl),we(Zd),we(cu),we(xa),we(Pr),we(Ks))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hj=window.AudioContext||window.webkitAudioContext;function Ev(t,n=100){return new Promise((e,r)=>{setTimeout(()=>r(new Error("timeout")),n),t.then(e,r)})}let Dv=(()=>{class t extends class mj{constructor(n){var e=this;this.emulationService=n,this.initialize=()=>this.mutex.runExclusive((0,Me.Z)(function*(){if(!e.initialized){try{e.context=new hj}catch(r){return console.error(r),void console.error("web audio not available")}try{e.context.destination.channelCount=1}catch{console.warn("audio driver: failed to set channel count")}try{yield e.start()}catch(r){return console.error(r),void console.error("failed to initialize audio context")}e.context.addEventListener("statechange",()=>{"interrupted"===e.context?.state&&e.updateState()}),e.gainNode=e.context.createGain(),e.gainNode.channelCount=1,e.gainNode.channelInterpretation="speakers",e.gainNode.gain.value=e.gain(),e.gainNode.connect(e.context.destination),e.applyPwmUpdate(),e.initialized=!0}})),this.updateState=(r=!1)=>this.mutex.runExclusive((0,Me.Z)(function*(){if(!e.context||e.isRunning()===e.shouldRun())return;!r&&!e.isRunning()&&e.shouldRun()&&e.applyPwmUpdate();const o=e.context.state;if(e.shouldRun())try{e.updateGain(),yield Ev(e.context.resume()),console.log("resume audio context")}catch{console.error(`failed to resume audio from state ${o}`)}else try{yield Ev(e.context.suspend()),console.log("suspend audio context")}catch{console.error(`failed to suspend audio from state ${o}`)}console.log(`audio context state change ${o} -> ${e.context.state}`)})),this.onPwmUpdate=function(){var r=(0,Me.Z)(function*(o){e.pendingPwmUpdate=o,e.initialized&&(e.shouldRun()!==e.isRunning()&&e.updateState(!0),e.shouldRun()&&e.applyPwmUpdate())});return function(o){return r.apply(this,arguments)}}(),this.mutex=new Zs,this.initialized=!1,this.muted=!1,this.emulationService.pwmUpdateEvent.addHandler(this.onPwmUpdate),this.emulationService.emulationStateChangeEvent.addHandler(()=>this.updateState()),this.emulationService.powerOffChangeEvent.addHandler(()=>this.updateState()),qs||document.addEventListener("visibilitychange",()=>this.updateState())}isInitialized(){return this.initialized}mute(n){this.muted=n,this.updateState()}isMuted(){return this.muted}shouldRun(){return this.emulationService.isRunning()&&!this.emulationService.isPowerOff()&&!this.muted&&this.gain()>0&&("hidden"!==document.visibilityState||qs||this.runHidden())}updateGain(){this.gainNode&&(this.gainNode.gain.value=this.gain())}start(){var n=this;return(0,Me.Z)(function*(){!n.context||(yield Ev(n.context.resume()),n.updateState(),console.log("audio context initialized"))})()}isRunning(){return"running"===this.context?.state}applyPwmUpdate(){if(!this.context||!this.pendingPwmUpdate)return;const{frequency:n,dutyCycle:e}=this.pendingPwmUpdate,r=this.context.sampleRate;if(this.pendingPwmUpdate=void 0,n<=0||e<=0||n>=r)return void this.disconnectSource();const o=this.context.createBuffer(1,Math.round(r/n),r),i=o.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=a/i.length<e?1:0;const s=this.context.createBufferSource();s.channelCount=1,s.channelInterpretation="speakers",s.loop=!0,s.buffer=o,this.disconnectSource(),s.connect(this.gainNode),s.start(),this.bufferSourceNode=s,this.pendingPwmUpdate=void 0}disconnectSource(){this.bufferSourceNode&&(this.bufferSourceNode.stop(),this.bufferSourceNode.disconnect(),this.bufferSourceNode=void 0)}gain(){return this.getVolume()/2}}{constructor(e,r,o){super(e),this.kvs=r,this.modalWatcher=o,this.modalWatcher.modalVisibilityChangeEvent.addHandler(()=>this.updateState())}getVolume(){return this.kvs.kvs.volume}runHidden(){return this.kvs.kvs.runHidden}shouldRun(){return!this.modalWatcher.isModalActive()&&super.shouldRun()}}return t.\u0275fac=function(e){return new(e||t)(we(Xs),we(Li),we(pv))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZM=(()=>{class t{constructor(e,r){this.emulationService=e,this.ngZone=r,this.onInterval=()=>{this.emulationService.getEmulationSpeed()<1?(this.level<3&&this.level++,3===this.level&&this.ngZone.run(()=>this.slowdownDetected=!0)):(this.level>0&&this.level--,0===this.level&&this.ngZone.run(()=>this.slowdownDetected=!1))},this.onEmulationStateChanged=o=>{this.reset(),o&&void 0===this.intervalHandle&&(this.onInterval(),this.ngZone.runOutsideAngular(()=>this.intervalHandle=window.setInterval(this.onInterval,1e3))),!o&&void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)},this.slowdownDetected=!1,this.level=0,this.onEmulationStateChanged(this.emulationService.isRunning()),this.emulationService.emulationStateChangeEvent.addHandler(this.onEmulationStateChanged)}isSlowdownDetected(){return this.slowdownDetected}reset(){this.slowdownDetected=!1,this.level=0}ngOnDestroy(){this.emulationService.emulationStateChangeEvent.removeHandler(this.onEmulationStateChanged),void 0!==this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=void 0)}}return t.\u0275fac=function(e){return new(e||t)(we(Xs),we(ft))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yj(t,n){if(1&t){const e=pr();de(0,"ion-item",4),lt("click",function(){return Qt(e),Mt(jt().power())}),de(1,"ion-label"),Je(2,"Power"),re(),pt(3,"ion-icon",5),re()}if(2&t){const e=jt();rt("detail",!1)("disabled",!e.emulationService.isRunning())}}function _j(t,n){if(1&t){const e=pr();de(0,"ion-item",4),lt("click",function(){return Qt(e),Mt(jt().hotsync())}),de(1,"ion-label"),Je(2,"Hotsync"),re(),pt(3,"ion-icon",6),re()}if(2&t){const e=jt();rt("detail",!1)("disabled",!e.emulationService.isRunning())}}function vj(t,n){if(1&t){const e=pr();de(0,"ion-item",4),lt("click",function(){return Qt(e),Mt(jt().reset())}),de(1,"ion-label"),Je(2,"Reset"),re(),pt(3,"ion-icon",7),re()}if(2&t){const e=jt();rt("detail",!1)("disabled",!e.emulationService.isRunning())}}function bj(t,n){if(1&t){const e=pr();de(0,"ion-item",8),lt("click",function(){return Qt(e),Mt(jt().insertCard())}),de(1,"ion-label"),Je(2),re(),pt(3,"ion-icon",9),re()}if(2&t){const e=jt();rt("detail",!1),tt(2),Ai("Insert ",e.hasMemorystick?"stick":"SD card","")}}function wj(t,n){if(1&t){const e=pr();de(0,"ion-item",8),lt("click",function(){return Qt(e),Mt(jt().ejectCard())}),de(1,"ion-label"),Je(2),re(),pt(3,"ion-icon",10),re()}if(2&t){const e=jt();rt("detail",!1),tt(2),Ai("Eject ",e.hasMemorystick?"stick":"SD card","")}}function Cj(t,n){if(1&t){const e=pr();de(0,"ion-item",8),lt("click",function(){return Qt(e),Mt(jt().mute(!1))}),de(1,"ion-label"),Je(2,"Enable audio"),re(),pt(3,"ion-icon",11),re()}2&t&&rt("detail",!1)}function Sj(t,n){if(1&t){const e=pr();de(0,"ion-item",8),lt("click",function(){return Qt(e),Mt(jt().mute(!0))}),de(1,"ion-label"),Je(2,"Disable audio"),re(),pt(3,"ion-icon",12),re()}2&t&&rt("detail",!1)}function Ej(t,n){if(1&t){const e=pr();de(0,"ion-item",4),lt("click",function(){return Qt(e),Mt(jt().backup())}),de(1,"ion-label"),Je(2,"Save backup"),re(),pt(3,"ion-icon",13),re()}if(2&t){const e=jt();rt("detail",!1)("disabled",e.backupDisabled)}}function Dj(t,n){if(1&t){const e=pr();de(0,"ion-item",8),lt("click",function(){return Qt(e),Mt(jt().rotate())}),de(1,"ion-label"),Je(2,"Rotate"),re(),pt(3,"ion-icon",14),re()}2&t&&rt("detail",!1)}function Ij(t,n){if(1&t){const e=pr();de(0,"ion-item",8),lt("click",function(){return Qt(e),Mt(jt().editSettings())}),de(1,"ion-label"),Je(2,"Settings"),re(),pt(3,"ion-icon",15),re()}2&t&&rt("detail",!1)}function Mj(t){switch(t){case hr.portrait:case void 0:return hr.landscape90;case hr.landscape90:return hr.portrait180;case hr.portrait180:return hr.landscape270;case hr.landscape270:return hr.portrait;default:throw new Error("cannot happen")}}let kj=(()=>{class t{constructor(e,r,o,i,s,a,c,f,g,y,E,A,J,xe,Xe,Ge,yt,et){this.emulationService=e,this.emulationStateService=r,this.backupService=o,this.buttonService=i,this.actionSheetController=s,this.popoverController=a,this.audioService=c,this.kvsService=f,this.modalController=g,this.sessionService=y,this.performanceWatchdogService=E,this.canvasDisplayService=A,this.cloudpilotService=J,this.storageCardService=xe,this.alertService=Xe,this.alertController=Ge,this.storageService=yt,this.errorService=et,this.showHelp=()=>{}}reset(){var e=this;return(0,Me.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"How do you want to reset?",buttons:[{text:"Normal boot",handler:()=>e.emulationService.reset()},{text:"No extensions",handler:()=>e.emulationService.resetNoExtensions()},{text:"Hard reset",handler:()=>e.emulationService.resetHard()},{text:"Cancel",role:"cancel"}]})).present()})()}power(){this.buttonService.engage(6),this.popoverController.dismiss()}hotsync(){this.buttonService.engage(7),this.popoverController.dismiss()}help(){this.showHelp(),this.popoverController.dismiss()}backup(){var e=this;return(0,Me.Z)(function*(){e.popoverController.dismiss(),(yield e.actionSheetController.create({header:"What do you want to backup?",buttons:[{text:"Only RAM (default)",handler:()=>e.backupService.saveBackup(!1)},{text:"Include ROM",handler:()=>e.backupService.saveBackup(!0)},{text:"Cancel",role:"cancel"}]})).present()})()}get isMuted(){return!this.audioService.isInitialized()||this.audioService.isMuted()}get isAudioOff(){return this.kvsService.kvs.volume<=0}mute(e){e?this.audioService.mute(!0):this.audioService.isInitialized()?this.audioService.mute(!1):this.audioService.initialize()}get backupDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get powerDisabled(){const e=this.emulationStateService.getCurrentSession();return!!e&&function ZH(t){return[fe.i705,fe.i710,fe.pegNR70,fe.pegT650c].includes(t)}(e.device)}get hasActiveSession(){return!!this.emulationStateService.getCurrentSession()}get supportsStorageCard(){const e=this.emulationStateService.getCurrentSession();return!!e&&bM(e.device)!==dl.none}get hasMemorystick(){const e=this.emulationStateService.getCurrentSession();return!!e&&bM(e.device)===dl.memorystick}get hasMountedCard(){return void 0!==this.emulationStateService.getCurrentSession()?.mountedCard}editSettings(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;const o=r.speed,i=r.deviceOrientation,s=yield e.modalController.create({component:WM,backdropDismiss:!1,componentProps:{session:r,availableDevices:[r.device],onSave:(a=(0,Me.Z)(function*(){o!==r.speed&&e.performanceWatchdogService.reset(),i!==r.deviceOrientation&&(e.canvasDisplayService.initialize(void 0,r),e.canvasDisplayService.updateEmulationCanvas()),yield e.sessionService.updateSession(r),s.dismiss()}),function(){return a.apply(this,arguments)}),onCancel:()=>s.dismiss()}});var a;yield e.popoverController.dismiss(),yield s.present()})()}rotate(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationStateService.getCurrentSession();if(!r)return;yield e.storageService.updateSessionPartial(r.id,{deviceOrientation:Mj(r.deviceOrientation)});const o=e.emulationStateService.getCurrentSession();yield e.canvasDisplayService.initialize(void 0,o),e.canvasDisplayService.updateEmulationCanvas()})()}insertCard(){var e=this;return(0,Me.Z)(function*(){if(e.popoverController.dismiss(),void 0===e.emulationStateService.getCurrentSession()?.device)return;const o=yield e.cloudpilotService.cloudpilot,i=e.storageCardService.getAllCards().filter(a=>o.deviceSupportsCardSize(a.size)&&!e.storageCardService.mountedInSession(a.id));0!==i.length?yield(yield e.alertController.create({header:"Choose image for insertion",buttons:[{text:"Cancel",role:"cancel"},{text:"Insert",handler:a=>e.storageCardService.insertCard(a)}],inputs:i.map((a,c)=>({label:a.name,type:"radio",value:a.id,checked:0===c})),backdropDismiss:!1})).present():e.alertService.message("No image available",`There is no ${e.hasMemorystick?"memory stick":"SD card"} image available. Please go to the "Storage" tab in order to create new one.`)})()}ejectCard(){var e=this;return(0,Me.Z)(function*(){try{yield e.storageCardService.ejectCurrentCard()}catch(r){e.errorService.fatalBug(r instanceof Error?r.message:"eject failed")}e.popoverController.dismiss()})()}}return t.\u0275fac=function(e){return new(e||t)(C(Xs),C(xa),C(pj),C(AM),C(Hd),C(Yl),C(Dv),C(Li),C(Ds),C(Yd),C(ZM),C(Ih),C(Ks),C(uu),C(Pr),C(ru),C($n),C(Kl))},t.\u0275cmp=m({type:t,selectors:[["app-emulation-context-menu"]],inputs:{showHelp:"showHelp"},decls:15,vars:11,consts:[["lines","full","button","",3,"detail","disabled","click",4,"ngIf"],["lines","full","button","",3,"detail","click",4,"ngIf"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"],["lines","full","button","",3,"detail","disabled","click"],["name","power-outline","slot","end"],["name","sync-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","log-in-outline","slot","end"],["name","log-out-outline","slot","end"],["name","volume-high-outline"],["name","volume-mute-outline"],["name","share-outline","slot","end"],["name","reload-outline","slot","end"],["name","cog-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list"),en(1,yj,4,2,"ion-item",0),en(2,_j,4,2,"ion-item",0),en(3,vj,4,2,"ion-item",0),en(4,bj,4,2,"ion-item",1),en(5,wj,4,2,"ion-item",1),en(6,Cj,4,1,"ion-item",1),en(7,Sj,4,1,"ion-item",1),en(8,Ej,4,2,"ion-item",0),en(9,Dj,4,1,"ion-item",1),en(10,Ij,4,1,"ion-item",1),de(11,"ion-item",2),lt("click",function(){return r.help()}),de(12,"ion-label"),Je(13,"Help"),re(),pt(14,"ion-icon",3),re()()),2&e&&(tt(1),rt("ngIf",r.hasActiveSession&&!r.powerDisabled),tt(1),rt("ngIf",r.hasActiveSession),tt(1),rt("ngIf",r.hasActiveSession),tt(1),rt("ngIf",r.supportsStorageCard&&!r.hasMountedCard),tt(1),rt("ngIf",r.supportsStorageCard&&r.hasMountedCard),tt(1),rt("ngIf",r.isMuted&&!r.isAudioOff),tt(1),rt("ngIf",!r.isMuted&&!r.isAudioOff),tt(1),rt("ngIf",r.hasActiveSession),tt(1),rt("ngIf",r.hasActiveSession),tt(1),rt("ngIf",r.hasActiveSession),tt(1),rt("detail",!1))},dependencies:[Po,qo,Zo,Ji,Ws]}),t})(),xj=(()=>{class t extends class Tj{constructor(n,e){this.emulationService=n,this.canvasDisplayService=e,this.handleMouseDown=r=>{if(0!==r.button)return;const o=this.canvasDisplayService.eventToPalmCoordinates(r);if(!o)return;const i=this.determineArea(o);if(2===i){const s=this.canvasDisplayService.determineButton(o);this.interactionMouse={area:i,buttonPrimary:s},this.handleButtonDown(s)}else this.interactionMouse={area:i},this.emulationService.handlePointerMove(...o,1===i)},this.handleMouseMove=r=>{if(!(1&r.buttons&&this.interactionMouse&&2!==this.interactionMouse?.area))return;const o=this.canvasDisplayService.eventToPalmCoordinates(r,!0);!o||this.emulationService.handlePointerMove(...o,1===this.interactionMouse?.area)},this.handeMouseUp=r=>{if(0!==r.button)return;const o=this.interactionMouse;switch(this.interactionMouse=void 0,o?.area){case 2:this.handleButtonUp(o.buttonPrimary);break;case 0:case 1:this.emulationService.handlePointerUp()}},this.handleTouchStart=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.canvasDisplayService.eventToPalmCoordinates(s);if(!a)continue;o=!0;const c=this.determineArea(a);if(2===c){const f=this.canvasDisplayService.determineButton(a);this.interactionsTouch.set(s.identifier,{area:c,buttonPrimary:f}),this.handleButtonDown(f)}else this.interactionsTouch.set(s.identifier,{area:c}),this.emulationService.handlePointerMove(...a,1===c)}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchMove=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);if(!a)continue;o=!0;const c=a.area;switch(c){case 2:{const f=this.canvasDisplayService.eventToPalmCoordinates(s);if(!f||2!==this.determineArea(f)){this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0;break}const g=this.canvasDisplayService.determineButton(f);g===a.buttonPrimary?(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=void 0):g!==a.buttonSecondary&&(this.handleButtonUp(a.buttonSecondary),a.buttonSecondary=g,this.handleButtonDown(g));break}case 0:case 1:{const f=this.canvasDisplayService.eventToPalmCoordinates(s,!0);if(!f)continue;this.emulationService.handlePointerMove(...f,1===c);break}default:continue}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleTouchEnd=r=>{let o=!1;for(let i=0;i<r.changedTouches.length;i++){const s=r.changedTouches.item(i);if(!s)continue;const a=this.interactionsTouch.get(s.identifier);switch(a&&(o=!0),this.interactionsTouch.delete(s.identifier),a?.area){case 2:this.handleButtonUp(a.buttonPrimary),this.handleButtonUp(a.buttonSecondary);break;case 0:case 1:this.emulationService.handlePointerUp()}}o&&!1!==r.cancelable&&r.preventDefault()},this.handleKeyDown=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;if(this.isToggleGameMode(r))return r.preventDefault(),this.gameMode=!this.gameMode,void this.onToggleGameMode();const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonDown(o),void r.preventDefault();const i=this.keyCodeFromEvent(r);void 0!==i&&(this.emulationService.handleKeyDown(i),r.preventDefault())},this.handleKeyUp=r=>{if(this.emulationService.isSuspended()||!this.enableKeyboardEvents())return;const o=this.buttonFromEvent(r);if(void 0!==o)return this.handleButtonUp(o),void r.preventDefault();if("Control"===r.key){for(const i of this.activeButtons)this.emulationService.handleButtonUp(i);this.activeButtons.clear(),this.canvasDisplayService.drawButtons([])}},this.keyEventTarget=window,this.interactionsTouch=new Map,this.activeButtons=new Set,this.gameMode=!1,this.enableGamemodeHotkey=!0}bind(n,e=window){this.pointerEventTarget&&this.release(),this.pointerEventTarget=n,this.keyEventTarget=e||window,this.addEventListener(n,"mousedown",this.handleMouseDown),this.addEventListener(window,"mouseup",this.handeMouseUp),this.addEventListener(window,"mousemove",this.handleMouseMove),this.addEventListener(n,"touchstart",this.handleTouchStart),this.addEventListener(n,"touchmove",this.handleTouchMove),this.addEventListener(n,"touchend",this.handleTouchEnd),this.addEventListener(n,"touchcancel",this.handleTouchEnd),this.addEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.addEventListener(this.keyEventTarget,"keyup",this.handleKeyUp)}release(){if(this.pointerEventTarget){this.removeEventListener(this.pointerEventTarget,"mousedown",this.handleMouseDown),this.removeEventListener(window,"mouseup",this.handeMouseUp),this.removeEventListener(window,"mousemove",this.handleMouseMove),this.removeEventListener(this.pointerEventTarget,"touchstart",this.handleTouchStart),this.removeEventListener(this.pointerEventTarget,"touchmove",this.handleTouchMove),this.removeEventListener(this.pointerEventTarget,"touchend",this.handleTouchEnd),this.removeEventListener(this.pointerEventTarget,"touchcancel",this.handleTouchEnd),this.removeEventListener(this.keyEventTarget,"keydown",this.handleKeyDown),this.removeEventListener(this.keyEventTarget,"keyup",this.handleKeyUp);for(const n of this.activeButtons)this.handleButtonUp(n);this.activeButtons.clear(),this.interactionsTouch.clear(),this.interactionMouse=void 0,this.pointerEventTarget=void 0}}isGameMode(){return this.gameMode}setGameMode(n){this.gameMode=n,this.onToggleGameMode()}setGameModeHotkeyEnabled(n){this.enableGamemodeHotkey=n}isGameModeHotkeyEnabled(){return this.enableGamemodeHotkey}enableKeyboardEvents(){return!0}onToggleGameMode(){}addEventListener(n,e,r,o){n.addEventListener(e,r,o)}removeEventListener(n,e,r,o){n.removeEventListener(e,r,o)}determineArea(n){return this.canvasDisplayService.isButtons(n)?2:this.canvasDisplayService.isSilkscreen(n)?1:0}handleButtonDown(n){this.activeButtons.has(n)||(this.activeButtons.add(n),this.emulationService.handleButtonDown(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}handleButtonUp(n){void 0===n||!this.activeButtons.has(n)||(this.activeButtons.delete(n),this.emulationService.handleButtonUp(n),this.canvasDisplayService.drawButtons(Array.from(this.activeButtons.values())))}isToggleGameMode(n){return this.isGameModeHotkeyEnabled()&&("Shift"===n.key&&n.ctrlKey||"Control"===n.key&&n.shiftKey)}isGameModeActive(n){return!this.gameMode&&n.ctrlKey||this.gameMode&&!n.ctrlKey}buttonFromEvent(n){switch(n.key){case"PageUp":return 4;case"PageDown":return 5}if(this.isGameModeActive(n))switch(n.key){case"w":case"i":case"ArrowUp":return 4;case"s":case"k":case"ArrowDown":return 5;case"a":case"j":case"y":case"z":case"ArrowLeft":return 0;case"q":case"u":case"x":return 1;case"e":case"o":case"c":return 2;case"d":case"l":case"v":case"ArrowRight":return 3}}keyCodeFromEvent(n){if(!this.isGameModeActive(n)){if(1===n.key.length&&n.key.charCodeAt(0)<=255)return n.key.charCodeAt(0);switch(n.key){case"ArrowLeft":return 28;case"ArrowRight":return 29;case"ArrowUp":return 30;case"ArrowDown":return 31;case"Backspace":return 8;case"Tab":return 9;case"Enter":return 10;default:return}}}}{constructor(e,r,o,i,s){super(e,r),this.modalWatcher=o,this.ngZone=i,this.app=s}enableKeyboardEvents(){return!this.modalWatcher.isModalActive()}onToggleGameMode(){this.app.tick()}addEventListener(e,r,o,i){this.ngZone.runOutsideAngular(()=>e.addEventListener(r,o,i))}}return t.\u0275fac=function(e){return new(e||t)(we(Xs),we(Ih),we(pv),we(ft),we(Za))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function YM(t){return/\.(prc|pdb|pqa)$/i.test(t)}class Oj{constructor(n,e,r,o){this.cloudpilotService=n,this.alertController=e,this.snapshotService=r,this.files=o,this.filesSuccess=[],this.filesFail=[],this.filesRequireReset=[],this.sizeInstalledSinceLastsnapshot=0,this.skipErrors=!1,this.errors=0,this.installedDatabases=new Map}run(){var n=this;return(0,Me.Z)(function*(){for(const e of n.files)if(/\.zip/i.test(e.name)&&e.content.length<33554432)try{yield n.installZip(e)}catch{n.filesFail.push(e.name)}else YM(e.name)?yield n.installOne(e.name,e.content):n.filesFail.push(e.name);return[n.filesSuccess,n.filesRequireReset,n.filesFail]})()}installOne(n,e){var r=this;return(0,Me.Z)(function*(){const i=yield(yield r.cloudpilotService.cloudpilot).installDb(e);switch(i){case 2:r.filesRequireReset.push(n),r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;case 1:r.filesSuccess.push(n),r.sizeInstalledSinceLastsnapshot+=e.length;break;default:r.filesFail.push(n),yield r.reportError(n,i)}if(2===i||1===i)try{const s=function Fj(t){if(t.length<32)throw new Error("not a database");let n;for(n=0;n<32&&0!==t[n];n++);if(n>31)throw new Error("not a database");return new TextDecoder("latin1",{fatal:!1}).decode(t.subarray(0,n))}(e);r.installedDatabases.has(s)&&(yield r.errorDialog("Duplicate item",`${n} overwrites previously installed database ${r.installedDatabases.get(s)}`)),r.installedDatabases.set(s,n)}catch{}r.sizeInstalledSinceLastsnapshot>4194304&&(yield r.snapshotService.triggerSnapshot(),r.sizeInstalledSinceLastsnapshot=0),yield new Promise(s=>setTimeout(s,0))})()}installZip(n){var e=this;return(0,Me.Z)(function*(){yield(yield e.cloudpilotService.cloudpilot).withZipfileWalker(n.content,function(){var o=(0,Me.Z)(function*(i){let s=0;for(;0===i.GetState();){const a=i.GetCurrentEntryName().replace(/^.*\//,"");if(!YM(i.GetCurrentEntryName())){i.Next();continue}const c=i.GetCurrentEntryContent();c?(yield e.installOne(a,c),s++):e.filesFail.push(a),i.Next()}if(0===s)throw new Error("no installable files in archive")});return function(i){return o.apply(this,arguments)}}())})()}reportError(n,e){return this.errorDialog("Item failed to install",`Could not install ${n}: ${function Rj(t){switch(t){case-6:return"database exists on device and could not be overwritten";case-4:return"database file is corrupt";case-3:return"database is open on device";case-5:return"internal PalmOS error";case-2:return"not enough memory on device";default:return"unknown reason"}}(e)}.`)}errorDialog(n,e){return this.skipErrors?Promise.resolve():new Promise(r=>{this.alertController.create({header:n,backdropDismiss:!1,cssClass:"alert-checkbox-no-border installation-error",message:e,buttons:[{text:"Continue",role:"cancel",handler:()=>{this.alertController.dismiss(),r()}}],inputs:++this.errors>=3?[{type:"checkbox",label:"Skip any remaining errors",checked:!1,handler:i=>this.skipErrors=!0===i.checked}]:[]}).then(i=>i.present())})}}let Nj=(()=>{class t{constructor(e,r,o,i,s,a){this.cloudpilotService=e,this.emulationService=r,this.loadingController=o,this.snapshotService=i,this.alertService=s,this.alertController=a}installFiles(e){var r=this;return(0,Me.Z)(function*(){const o=yield r.loadingController.create({message:"Installing..."});yield o.present(),yield r.emulationService.pause(),yield r.snapshotService.waitForPendingSnapshot();let i=[],s=[],a=[];try{[i,a,s]=yield new Oj(r.cloudpilotService,r.alertController,r.snapshotService,e).run()}finally{o.dismiss(),r.emulationService.resume()}const c=[r.messageSucces(i),r.messageFailed(s),r.messageRequireReset(a)].filter(g=>!!g).join("<br/><br/>");let f;f=0===s.length?"Installation successful":0===i.length?"Installation failed":"Installation errors",r.alertService.message(f,c,a.length>0?{"Reset now":()=>r.emulationService.reset()}:void 0)})()}messageSucces(e){switch(e.length){case 0:return;case 1:return`Installation of ${e[0]} successful.`;default:return`Installation of ${e.length} items successful.`}}messageFailed(e){return e.length>0?`Installation of  ${dv(e)} failed.`:void 0}messageRequireReset(e){return e.length>0?`${dv(e)} require a device reset.`:void 0}}return t.\u0275fac=function(e){return new(e||t)(we(Ks),we(Xs),we(Zl),we(Zd),we(Pr),we(ru))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Lj=["canvas"];function $j(t,n){if(1&t){const e=pr();de(0,"ion-button",5),lt("click",function(){return Qt(e),Mt(jt().navigation.lock())}),pt(1,"ion-icon",10),re()}}function Bj(t,n){if(1&t){const e=pr();de(0,"ion-button",5),lt("click",function(){return Qt(e),Mt(jt().navigation.unlock())}),pt(1,"ion-icon",11),re()}}function Vj(t,n){if(1&t){const e=pr();de(0,"ion-button",5),lt("click",function(){return Qt(e),Mt(jt().showGameModeHint())}),pt(1,"ion-icon",12),re()}}function Hj(t,n){if(1&t){const e=pr();de(0,"ion-button",5),lt("click",function(){return Qt(e),Mt(jt().showProxyConnectedHint())}),pt(1,"ion-icon",13),re()}}function jj(t,n){if(1&t){const e=pr();de(0,"ion-button",5),lt("click",function(){return Qt(e),Mt(jt().showSlowdowndHint())}),pt(1,"ion-icon",14),re()}}function Uj(t,n){if(1&t){const e=pr();de(0,"div",15),Je(1," The device was reset forcefully. How do you want to boot? "),de(2,"ion-button",16),lt("click",function(){return Qt(e),Mt(jt().bootAfterForcefulReset())}),Je(3,"Normal boot"),re(),de(4,"ion-button",16),lt("click",function(){return Qt(e),Mt(jt().bootAfterForcefulResetNoExtensions())}),Je(5,"No extensions"),re(),de(6,"ion-button",16),lt("click",function(){return Qt(e),Mt(jt().bootAfterForcefulResetHardReset())}),Je(7,"Hard reset"),re()()}}function Gj(t,n){1&t&&(de(0,"div",15)(1,"div"),Je(2,"No session selected"),re()())}let zj=(()=>{class t{constructor(e,r,o,i,s,a,c,f,g,y,E,A,J,xe,Xe,Ge,yt){var et=this;this.emulationService=e,this.emulationState=r,this.storageService=o,this.eventHandlingService=i,this.canvasDisplayService=s,this.kvsService=a,this.popoverController=c,this.modalController=f,this.alertService=g,this.fileService=y,this.snapshotService=E,this.installlationService=A,this.proxyService=J,this.navigation=xe,this.linkApi=Xe,this.performanceWatchdogService=Ge,this.cloudpilotService=yt,this.ionViewDidEnter=()=>this.mutex.runExclusive((0,Me.Z)(function*(){yield et.emulationService.bootstrapComplete(),et.boostrapComplete=!0;const ht=et.emulationState.getCurrentSession();ht&&!ht.wasResetForcefully&&(yield et.launchEmulator()),et.linkApi.installation.requestEvent.addHandler(et.handleLinkApiInstallationRequest),et.handleLinkApiInstallationRequest()})),this.ionViewWillLeave=()=>this.mutex.runExclusive(()=>{this.linkApi.installation.requestEvent.removeHandler(this.handleLinkApiInstallationRequest),this.emulationService.isRunning()&&(this.autoLockUI=!1),this.emulationService.pause(),this.emulationService.newFrameEvent.removeHandler(this.onNewFrame),this.snapshotService.snapshotEvent.removeHandler(this.onSnapshot),this.kvsService.updateEvent.removeHandler(this.onKvsUpdate),this.eventHandlingService.release(),this.navigation.unlock()}),this.onKvsUpdate=()=>{this.kvsService.kvs.showStatistics?this.canvasDisplayService.updateStatistics():this.canvasDisplayService.clearStatistics()},this.onSnapshot=ht=>{this.kvsService.kvs.showStatistics&&this.canvasDisplayService.updateStatistics(ht,this.emulationService.getStatistics())},this.onNewFrame=ht=>{this.canvasDisplayService.updateEmulationCanvas(ht)},this.handleLinkApiInstallationRequest=()=>{if(!this.linkApi.installation.hasPendingRequest())return;const ht=this.linkApi.installation.receivePendingUrl();ht&&(this.installFileDisabled?this.alertService.message("Unable to install","Installation is currently not possible.",{},"Cancel"):this.emulationState.getCurrentSession()&&this.emulationService.isRunning()?this.alertService.message("Installation request",`Do you want to install<br>${ht} ?`,{OK:()=>this.fileService.openUrl(ht,fn=>this.installlationService.installFiles([fn]))},"Cancel"):this.alertService.message("Unable to install",`Please start a session in order to install ${ht} .`,{},"Cancel"))},this.boostrapComplete=!1,this.autoLockUI=!0,this.mutex=new Zs}get cssWidth(){return this.canvasDisplayService.width/devicePixelRatio+"px"}get cssHeight(){return this.canvasDisplayService.height/devicePixelRatio+"px"}openContextMenu(e){var r=this;return(0,Me.Z)(function*(){(yield r.popoverController.create({component:kj,event:e,componentProps:{showHelp:()=>r.showHelp()},arrow:!1})).present()})()}installFiles(){this.fileService.openFiles(this.installlationService.installFiles.bind(this.installlationService))}showHelp(){var e=this;return(0,Me.Z)(function*(){yield(yield e.modalController.create({component:zd,componentProps:{url:"assets/doc/emulation.md"}})).present()})()}showGameModeHint(){var e=this;return(0,Me.Z)(function*(){yield e.alertService.message("Game mode","\n                The keyboard is in game mode and controls the hardware buttons.\n                Press ctrl-shift in order to exit game mode.\n                <br/><br/>\n                Check the help page for a description of the different keyboard mappings.\n            ",{Help:()=>e.showHelp()})})()}showProxyConnectedHint(){var e=this;return(0,Me.Z)(function*(){yield e.alertService.message("Proxy connected","Network proxy connected.")})()}showSlowdowndHint(){var e=this;return(0,Me.Z)(function*(){yield e.alertService.message("Speed throttled","\n                Your host is too slow to run your virtual device at full speed, and the clock\n                has been throttled in order to compensate. You can avoid this by reducing the speed of your\n                virtual device in the session settings.\n        ")})()}get installFileDisabled(){return!this.emulationService.isRunning()||this.emulationService.isPowerOff()||!this.emulationService.isUiInitialized()}get title(){return this.emulationState.getCurrentSession()?.name||""}bootAfterForcefulReset(){var e=this;return(0,Me.Z)(function*(){yield e.clearForcefulReset(),yield e.launchEmulator()})()}bootAfterForcefulResetNoExtensions(){var e=this;return(0,Me.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetNoExtensions(),yield e.launchEmulator()})()}bootAfterForcefulResetHardReset(){var e=this;return(0,Me.Z)(function*(){yield e.clearForcefulReset(),(yield e.cloudpilotService.cloudpilot).resetHard(),yield e.launchEmulator()})()}cancelIfEmulationActive(e){this.emulationState.getCurrentSession()&&!this.emulationState.getCurrentSession()?.wasResetForcefully&&e.cancelable&&e.preventDefault()}clearForcefulReset(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.storageService.updateSessionPartial(r.id,{wasResetForcefully:!1}))})()}launchEmulator(){var e=this;return(0,Me.Z)(function*(){const r=e.emulationState.getCurrentSession();!r||(yield e.kvsService.mutex.runExclusive(()=>e.kvsService.kvs.autoLockUI&&e.autoLockUI&&e.navigation.lock()),e.canvasDisplayService.initialize(e.canvasRef.nativeElement,r).then(()=>{e.onKvsUpdate(),e.kvsService.updateEvent.addHandler(e.onKvsUpdate)}),e.onNewFrame(e.emulationService.getCanvas()),e.emulationService.newFrameEvent.addHandler(e.onNewFrame),e.snapshotService.snapshotEvent.addHandler(e.onSnapshot),yield e.emulationService.resume(),e.eventHandlingService.bind(e.canvasRef.nativeElement))})()}}return t.\u0275fac=function(e){return new(e||t)(C(Xs),C(xa),C($n),C(xj),C(Ih),C(Li),C(Yl),C(Ds),C(Pr),C(cu),C(Zd),C(Nj),C(mv),C(Sv),C(Ay),C(ZM),C(Ks))},t.\u0275cmp=m({type:t,selectors:[["app-emulation"]],viewQuery:function(e,r){if(1&e&&jc(Lj,5),2&e){let o;Ri(o=Fi())&&(r.canvasRef=o.first)}},decls:21,vars:19,consts:[["slot","end"],[3,"disabled","click"],["name","download-outline"],[3,"click",4,"ngIf"],["slot","start"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"container","running-session",3,"touchstart","touchmove"],["canvas",""],["class","container no-session",4,"ngIf"],["name","lock-open-outline"],["name","lock-closed-outline"],["name","game-controller-outline"],["name","swap-vertical-outline"],["name","speedometer-outline"],[1,"container","no-session"],["type","button","color","light",3,"click"]],template:function(e,r){if(1&e&&(de(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Je(3),re(),de(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return r.installFiles()}),pt(6,"ion-icon",2),re(),en(7,$j,2,0,"ion-button",3),en(8,Bj,2,0,"ion-button",3),re(),de(9,"ion-buttons",4)(10,"ion-button",5),lt("click",function(i){return r.openContextMenu(i)}),pt(11,"ion-icon",6),re(),en(12,Vj,2,0,"ion-button",3),en(13,Hj,2,0,"ion-button",3),en(14,jj,2,0,"ion-button",3),re()()(),de(15,"ion-content")(16,"div",7),lt("touchstart",function(i){return r.cancelIfEmulationActive(i)})("touchmove",function(i){return r.cancelIfEmulationActive(i)}),pt(17,"canvas",null,8),re(),en(19,Uj,8,0,"div",9),en(20,Gj,3,0,"div",9),re()),2&e){let o,i;tt(3),Wi(r.title),tt(2),rt("disabled",r.installFileDisabled),tt(2),rt("ngIf",!r.navigation.isLocked()),tt(1),rt("ngIf",r.navigation.isLocked()),tt(4),rt("ngIf",r.eventHandlingService.isGameMode()),tt(1),rt("ngIf",r.proxyService.isConnected()),tt(1),rt("ngIf",r.performanceWatchdogService.isSlowdownDetected()),tt(1),la("locked",r.navigation.isLocked()),tt(1),qu("display",!r.emulationState.getCurrentSession()||null!=(o=r.emulationState.getCurrentSession())&&o.wasResetForcefully?"none":void 0),tt(1),qu("width",r.cssWidth)("height",r.cssHeight)("display",r.emulationState.getCurrentSession()?"block":"none"),tt(2),rt("ngIf",null!=(i=r.emulationState.getCurrentSession())&&i.wasResetForcefully?"none":void 0),tt(1),rt("ngIf",!r.emulationState.getCurrentSession()&&r.boostrapComplete)}},dependencies:[Po,Yi,Ki,Xi,Qi,qo,ts,es],styles:["ion-title[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:3px}.container.no-session[_ngcontent-%COMP%]{text-align:center;padding:1em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin-top:1em;width:100%;max-width:20em}.container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{margin-top:3em}ion-content.locked[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-bottom:0;padding-bottom:var(--ion-safe-area-bottom, 0)}.container.running-session[_ngcontent-%COMP%]{background:var(--ion-color-light)}@media (prefers-color-scheme: dark){.container.running-session[_ngcontent-%COMP%]{background:none}}canvas[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:contain;object-fit:contain}"]}),t})();var Wj=F(5541),qj=F.n(Wj);function KM(t,n){let e=t,r=1;for(;n(e);)e=`${t} (${r++})`;return e}let Zj=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onDelete=()=>{},this.onReset=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-session-context-menu"]],inputs:{onEdit:"onEdit",onSave:"onSave",onDelete:"onDelete",onReset:"onReset"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","refresh-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onEdit()}),pt(2,"ion-icon",1),Je(3," Edit "),re(),de(4,"ion-item",0),lt("click",function(){return r.onSave()}),pt(5,"ion-icon",2),Je(6," Save "),re(),de(7,"ion-item",0),lt("click",function(){return r.onReset()}),pt(8,"ion-icon",3),Je(9," Reset "),re(),de(10,"ion-item",4),lt("click",function(){return r.onDelete()}),pt(11,"ion-icon",5),Je(12," Delete "),re()()),2&e&&(tt(1),rt("detail",!1),tt(3),rt("detail",!1),tt(3),rt("detail",!1),tt(3),rt("detail",!1))},dependencies:[qo,Zo,Ws]}),t})();const Kj=["slidingItem"];function Xj(t,n){if(1&t&&(de(0,"span"),Je(1),re()),2&t){const e=jt();tt(1),Ai(", OS ",e.decodeVersion(null==e.session?null:e.session.osVersion),"")}}let Qj=(()=>{class t{constructor(e){this.popoverController=e,this.selected=!1,this.touched=!1,this.delete=new _n,this.resetSession=new _n,this.edit=new _n,this.save=new _n,this.selectItem=new _n,this.interaction=new _n}get device(){return this.session?vM(this.session.device):""}onContextmenu(e){var r=this;return(0,Me.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:Zj,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(),onSave:()=>r.save.emit(),onDelete:()=>r.delete.emit(),onReset:()=>r.resetSession.emit()}})).present()})()}decodeVersion(e){if(void 0===e)return"";const r=function Yj(t){return{major:t>>>24&255,minor:t>>>20&15,fix:t>>>16&15,stage:t>>>12&15,build:4095&t}}(e);return`${r.major}.${r.minor}`}get color(){return this.selected?"primary":this.touched?"light":void 0}}return t.\u0275fac=function(e){return new(e||t)(C(Yl))},t.\u0275cmp=m({type:t,selectors:[["app-session-item"]],viewQuery:function(e,r){if(1&e&&jc(Kj,5),2&e){let o;Ri(o=Fi())&&(r.slidingItem=o.first)}},inputs:{session:"session",selected:"selected",touched:"touched"},outputs:{delete:"delete",resetSession:"resetSession",edit:"edit",save:"save",selectItem:"selectItem",interaction:"interaction"},decls:19,vars:7,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","refresh-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"],[4,"ngIf"]],template:function(e,r){if(1&e){const o=pr();de(0,"ion-item-sliding",0,1),lt("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit()}),de(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.edit.emit(r.session))}),pt(4,"ion-icon",4),re(),de(5,"ion-item-option",5),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.save.emit(r.session))}),pt(6,"ion-icon",6),re()(),de(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.resetSession.emit(r.session))}),pt(9,"ion-icon",9),re(),de(10,"ion-item-option",10),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.delete.emit(r.session))}),pt(11,"ion-icon",11),re()(),de(12,"ion-item",12),lt("click",function(){return r.selectItem.emit()}),de(13,"ion-label")(14,"h2"),Je(15),re(),de(16,"p"),Je(17),en(18,Xj,2,1,"span",13),re()()()()}2&e&&(tt(12),rt("color",r.color),tt(1),la("in-item-color",r.selected),tt(2),Wi(null==r.session?null:r.session.name),tt(2),Yu("",r.device,", ",null==r.session?null:r.session.ram,"MB RAM"),tt(1),rt("ngIf",null==r.session?null:r.session.osVersion))},dependencies:[Po,qo,Zo,ah,lh,ch,Ji],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function Jj(t,n){1&t&&(de(0,"div",10),pt(1,"ion-spinner"),re())}function eU(t,n){1&t&&(de(0,"div",11)(1,"div",12),Je(2," No sessions. Select the \u201e+\u201c icon in the upper right corner in order to import a ROM file or a session image. "),pt(3,"br")(4,"br"),Je(5," You can find a collection of compatible ROMs on "),de(6,"a",13),Je(7,"PalmDB"),re(),Je(8,". "),re()())}function tU(t,n){if(1&t){const e=pr();de(0,"app-session-item",15),lt("delete",function(){const i=Qt(e).$implicit;return Mt(jt(2).deleteSession(i))})("selectItem",function(){const i=Qt(e).$implicit;return Mt(jt(2).launchSession(i))})("edit",function(){const i=Qt(e).$implicit;return Mt(jt(2).editSession(i))})("save",function(){const i=Qt(e).$implicit;return Mt(jt(2).saveSession(i))})("resetSession",function(){const i=Qt(e).$implicit;return Mt(jt(2).resetSession(i))})("interaction",function(){const i=Qt(e).$implicit;return Mt(jt(2).lastSessionTouched=i.id)}),re()}if(2&t){const e=n.$implicit,r=jt(2);rt("session",e)("selected",r.currentSessionId===e.id)("touched",e.id===r.lastSessionTouched)}}function nU(t,n){if(1&t&&(de(0,"ion-list"),en(1,tU,1,3,"app-session-item",14),re()),2&t){const e=jt();tt(1),rt("ngForOf",e.sessions)("ngForTrackBy",e.trackSessionBy)}}class Qs{constructor(n,e,r,o,i,s,a,c,f,g,y){this.sessionService=n,this.fileService=e,this.alertController=r,this.alertService=o,this.emulationService=i,this.emulationState=s,this.storageService=a,this.modalController=c,this.linkApi=f,this.router=g,this.cloudpilotService=y,this.handleLinkApiImportRequest=()=>{if(!this.linkApi.import.hasPendingRequest())return;const E=this.linkApi.import.receivePendingUrl();!E||this.alertService.message("Import request",`Do you want to import<br>${E} ?`,{OK:()=>this.fileService.openUrl(E,this.processFile.bind(this))},"Cancel")},this.lastSessionTouched=-1}ionViewDidEnter(){this.linkApi.import.requestEvent.addHandler(this.handleLinkApiImportRequest),this.handleLinkApiImportRequest()}ionViewWillLeave(){this.linkApi.import.requestEvent.removeHandler(this.handleLinkApiImportRequest)}get sessions(){return this.sessionService.getSessions().sort((n,e)=>n.name.localeCompare(e.name))}deleteSession(n){var e=this;return(0,Me.Z)(function*(){yield(yield e.alertController.create({header:"Warning",message:`Deleting the session '${n.name}' will remove all associated data. This cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:()=>e.sessionService.deleteSession(n)}],backdropDismiss:!1})).present()})()}editSession(n){var e=this;return(0,Me.Z)(function*(){const r={...n};(yield e.editSettings(n))&&!qj()(n,r)&&(yield e.sessionService.updateSession(n))})()}importSession(){this.fileService.openFile(this.processFile.bind(this))}saveSession(n){return this.fileService.saveSession(n)}trackSessionBy(n,e){return e.id}launchSession(n){var e=this;return(0,Me.Z)(function*(){e.lastSessionTouched=n.id,e.currentSessionOverride=n.id,yield e.emulationService.switchSession(n.id),e.currentSessionOverride=void 0,e.router.navigateByUrl("/tab/emulation")})()}resetSession(n){var e=this;return(0,Me.Z)(function*(){const r=n.id===e.emulationState.getCurrentSession()?.id;r&&(yield e.emulationService.stop()),yield e.storageService.deleteStateForSession(n),yield e.storageService.updateSessionPartial(n.id,{wasResetForcefully:!0}),r&&(yield e.emulationService.switchSession(n.id)),yield(yield e.alertController.create({header:"Done",message:`Session ${n.name} has been reset.`,buttons:[{text:"Close",role:"cancel"}],backdropDismiss:!1})).present()})()}get currentSessionId(){return this.currentSessionOverride??this.emulationState.getCurrentSession()?.id}showHelp(){var n=this;return(0,Me.Z)(function*(){yield(yield n.modalController.create({component:zd,componentProps:{url:"assets/doc/sessions.md"}})).present()})()}processFile(n){var e=this;return(0,Me.Z)(function*(){if(!/\.(img|rom|bin)$/i.test(n.name))return void e.alertService.errorMessage("Unsupported file suffix. Supported suffixes are .bin, .img and .rom.");const r=(yield e.cloudpilotService.cloudpilot).deserializeSessionImage(n.content);if(r){const o={name:e.disambiguateSessionName(r.metadata?.name??n.name),hotsyncName:r.metadata?.hotsyncName,device:r.deviceId,dontManageHotsyncName:r.metadata?.dontManageHotsyncName,speed:r.metadata?.speed,deviceOrientation:r.metadata?.deviceOrientation};if(yield e.editSettings(o)){const i=yield e.sessionService.addSessionFromImage(r,o.name,o);e.lastSessionTouched=i.id}}else{const o=(yield e.cloudpilotService.cloudpilot).getRomInfo(n.content);if(!o)return void e.alertService.errorMessage("Not a valid session file or ROM image.");if(0===o.supportedDevices.length)return void e.alertService.errorMessage("No supported device for this ROM.");const i={name:e.disambiguateSessionName(n.name),hotsyncName:"",device:o.supportedDevices[0]};if(yield e.editSettings(i,o.supportedDevices)){const s=yield e.sessionService.addSessionFromRom(n.content,i.name,i.device,i);e.lastSessionTouched=s.id}}})()}editSettings(n,e=[n.device]){return new Promise(r=>{let o;this.modalController.create({component:WM,backdropDismiss:!1,componentProps:{session:n,availableDevices:e,onSave:()=>{o.dismiss(),r(!0)},onCancel:()=>{o.dismiss(),r(!1)}}}).then(i=>{o=i,o.present()})})}disambiguateSessionName(n){const e=this.sessionService.getSessions();return KM(n,r=>e.some(o=>o.name===r))}}function rU(t,n){1&t&&(de(0,"ion-item",8)(1,"ion-label"),Je(2,"Clipboard integration"),re(),pt(3,"ion-toggle",17),re())}function oU(t,n){if(1&t){const e=pr();de(0,"ion-item",8)(1,"ion-label",18),Je(2,"Proxy server"),re(),de(3,"div",19),pt(4,"ion-input",20),de(5,"ion-button",21),lt("click",function(o){Qt(e);const i=jt();return o.preventDefault(),o.stopPropagation(),Mt(i.testProxyConnection())})("touchstart",function(o){Qt(e);const i=jt();return o.preventDefault(),o.stopPropagation(),Mt(i.testProxyConnection())}),Je(6," Test "),re()()()}if(2&t){const e=jt();tt(5),rt("disabled",!e.proxyServerValid)}}Qs.\u0275fac=function(n){return new(n||Qs)(C(Yd),C(cu),C(ru),C(Pr),C(Xs),C(xa),C($n),C(Ds),C(Ay),C(Wr),C(Ks))},Qs.\u0275cmp=m({type:Qs,selectors:[["app-sessions"]],decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],["href","https://palmdb.net/app/palm-roms-complete","target","_blank","rel","external"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction",4,"ngFor","ngForOf","ngForTrackBy"],[3,"session","selected","touched","delete","selectItem","edit","save","resetSession","interaction"]],template:function(n,e){1&n&&(de(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Je(3,"Sessions"),re(),de(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return e.importSession()}),pt(6,"ion-icon",2),re()(),de(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return e.showHelp()}),pt(9,"ion-icon",4),re(),pt(10,"app-pwa-prompt"),re()()(),de(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Je(15,"Sessions"),re()()(),en(16,Jj,2,0,"div",7),en(17,eU,9,0,"div",8),en(18,nU,2,2,"ion-list",9),re()),2&n&&(tt(16),rt("ngIf",e.sessionService.isLoading()),tt(1),rt("ngIf",!e.sessionService.isLoading()&&0===e.sessions.length),tt(1),rt("ngIf",!e.sessionService.isLoading()&&e.sessions.length>0))},dependencies:[Fl,Po,Yi,Ki,Xi,Qi,qo,Ws,Nd,ts,es,Mh,Qj],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),ue([bi()],Qs.prototype,"deleteSession",null),ue([bi()],Qs.prototype,"editSession",null),ue([bi()],Qs.prototype,"saveSession",null),ue([bi()],Qs.prototype,"launchSession",null),ue([bi()],Qs.prototype,"resetSession",null);let iU=(()=>{class t{constructor(e,r,o,i,s){this.modalController=e,this.kvsService=r,this.clipboardService=o,this.alertService=i,this.proxyService=s,this.onAudioOnStartChange=a=>{this.kvsService.kvs.enableAudioOnFirstInteraction=a,a&&this.alertService.message("Enable audio on start","\n            Audio will automatically turn on after the first interaction with the application\n            (i.e. touch, click or keyboard event). This option will only take effect the next time\n            Coudpilot is restarts.\n        ")},this.connectionTestInProgress=!1}ngOnInit(){this.createFormGroup()}showHelp(){var e=this;return(0,Me.Z)(function*(){yield(yield e.modalController.create({component:zd,componentProps:{url:"assets/doc/settings.md"}})).present()})()}ionViewWillEnter(){this.mutexReleasePromise=this.kvsService.mutex.acquire()}ionViewWillLeave(){var e=this;return(0,Me.Z)(function*(){e.formGroup.get("networkRedirection")?.value&&!e.formGroup.get("proxyServer")?.valid&&(e.alertService.message("Invalid proxy server","The proxy server you specified is invalid. Network redirection will be disabled."),e.formGroup.get("networkRedirection").setValue(!1)),e.formGroup.get("networkRedirection")?.value||e.formGroup.get("proxyServer")?.setValue(e.kvsService.kvs.proxyServer),yield e.kvsService.set({volume:e.formGroup.get("volume").value,showStatistics:e.formGroup.get("showStatistics").value,clipboardIntegration:e.formGroup.get("clipboardIntegration")?.value,networkRedirection:e.formGroup.get("networkRedirection")?.value,proxyServer:e.formGroup.get("proxyServer")?.value,runHidden:e.formGroup.get("runHidden")?.value,autoLockUI:e.formGroup.get("autoLockUI")?.value,enableRemoteInstall:e.formGroup.get("enableRemoteInstall")?.value,enableAudioOnFirstInteraction:e.formGroup.get("audioOnStart")?.value}),e.mutexReleasePromise&&(yield e.mutexReleasePromise)()})()}testProxyConnection(){var e=this;return(0,Me.Z)(function*(){if(!e.connectionTestInProgress){e.connectionTestInProgress=!0;try{switch((yield e.proxyService.handshake(e.formGroup.get("proxyServer")?.value,0)).status){case"failed":e.alertService.errorMessage("Unable to connect to proxy");break;case"version_mismatch":e.alertService.proxyVersionMismatchError();break;default:e.alertService.message("Success","Connection to proxy successful.")}}finally{e.connectionTestInProgress=!1}}})()}get showProxyServer(){return this.formGroup.get("networkRedirection")?.value}get proxyServerValid(){const e=this.formGroup.get("proxyServer");return!(!e?.value||!e?.valid)}createFormGroup(){this.formGroup=new Fp({volume:new Fo(this.kvsService.kvs.volume),showStatistics:new Fo(this.kvsService.kvs.showStatistics),runHidden:new Fo(this.kvsService.kvs.runHidden),clipboardIntegration:new Fo(this.kvsService.kvs.clipboardIntegration),networkRedirection:new Fo(this.kvsService.kvs.networkRedirection),proxyServer:new Fo(this.kvsService.kvs.proxyServer,{validators:[y6]}),autoLockUI:new Fo(this.kvsService.kvs.autoLockUI),enableRemoteInstall:new Fo(this.kvsService.kvs.enableRemoteInstall),audioOnStart:new Fo(this.kvsService.kvs.enableAudioOnFirstInteraction)}),this.formGroup.get("audioOnStart")?.valueChanges.subscribe(this.onAudioOnStartChange)}}return t.\u0275fac=function(e){return new(e||t)(C(Ds),C(Li),C(TM),C(Pr),C(mv))},t.\u0275cmp=m({type:t,selectors:[["app-settings"]],decls:51,vars:4,consts:[[3,"translucent"],["slot","secondary"],[3,"click"],["name","help-outline"],["collapse","condense"],["size","large"],[1,"settings-container"],[1,"settings-form",3,"formGroup"],["lines","none"],["min","0","max","1","step","0.1","formControlName","volume"],["formControlName","audioOnStart"],["formControlName","runHidden"],["lines","none",4,"ngIf"],["formControlName","networkRedirection"],["formControlName","autoLockUI"],["formControlName","showStatistics"],["formControlName","enableRemoteInstall"],["formControlName","clipboardIntegration"],["position","stacked"],[1,"server-container"],["placeholder","Proxy server host or URL","formControlName","proxyServer"],[3,"disabled","click","touchstart"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Je(3,"Settings"),re(),de(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.showHelp()}),pt(6,"ion-icon",3),re(),pt(7,"app-pwa-prompt"),re()()(),de(8,"ion-content")(9,"ion-header",4)(10,"ion-toolbar")(11,"ion-title",5),Je(12,"Settings"),re()()(),de(13,"div",6)(14,"form",7)(15,"h1"),Je(16,"Emulation"),re(),de(17,"ion-item",8)(18,"ion-label"),Je(19,"Volume"),re(),pt(20,"ion-range",9),re(),de(21,"ion-item",8)(22,"ion-label"),Je(23,"Enable audio on start"),re(),pt(24,"ion-toggle",10),re(),de(25,"ion-item",8)(26,"ion-label"),Je(27,"Run when hidden"),re(),pt(28,"ion-toggle",11),re(),de(29,"h1"),Je(30,"Host integration"),re(),en(31,rU,4,0,"ion-item",12),de(32,"ion-item",8)(33,"ion-label"),Je(34,"Network redirection"),re(),pt(35,"ion-toggle",13),re(),en(36,oU,7,1,"ion-item",12),de(37,"h1"),Je(38,"UI"),re(),de(39,"ion-item",8)(40,"ion-label"),Je(41,"Auto-lock UI"),re(),pt(42,"ion-toggle",14),re(),de(43,"ion-item",8)(44,"ion-label"),Je(45,"Show statistics"),re(),pt(46,"ion-toggle",15),re(),de(47,"ion-item",8)(48,"ion-label"),Je(49,"Open from remote sources"),re(),pt(50,"ion-toggle",16),re()()()()),2&e&&(rt("translucent",!0),tt(14),rt("formGroup",r.formGroup),tt(17),rt("ngIf",r.clipboardService.isSupported()),tt(5),rt("ngIf",r.showProxyServer))},dependencies:[Po,$l,Nl,Ll,Yi,Ki,Xi,Qi,qo,ql,Zo,Ji,V_,Ld,ts,es,Fd,Od,Wl,Mh,Sa,Ja],styles:[".server-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.server-container[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{flex-grow:1}h1[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.settings-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center}.settings-form[_ngcontent-%COMP%]{max-width:40em;flex-basis:100%}ion-item[_ngcontent-%COMP%]{--background: none}"]}),t})(),Iv=(()=>{class t{transform(e){return void 0!==e?`${Math.round(e/1024/1024)} MB`:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ut({name:"cardSize",type:t,pure:!0}),t})();function sU(t,n){1&t&&(de(0,"div",14)(1,"b"),Je(2,"WARNING:"),re(),Je(3," This image cannot be used as a memory stick image."),re())}let XM=(()=>{class t{constructor(e){this.storageCardService=e,this.onCancel=()=>{},this.onSave=()=>{},this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value&&o.name!==this.card?.name)?{name:"already taken"}:null,this.formGroup=new Kc({name:new Ca("",{nonNullable:!0,validators:[Hy.required,this.validateNameUnique]}),size:new Ca({value:"dummy",disabled:!0}),checkAutomatically:new Ca(!0,{nonNullable:!0})}),this.newCard=!1,this.cardSupportLevel=2}ngOnInit(){!this.card||(this.formGroup.get("name")?.setValue(this.card.name),this.formGroup.get("checkAutomatically")?.setValue(!this.card.dontFsckAutomatically))}save(){!this.formGroup.valid||!this.formGroup.value.name||!this.card||this.onSave({name:this.formGroup.value.name,dontFsckAutomatically:!this.formGroup.value.checkAutomatically})}onEnter(){this.save()}get memoryStickSupported(){return 2===this.cardSupportLevel}}return t.\u0275fac=function(e){return new(e||t)(C(uu))},t.\u0275cmp=m({type:t,selectors:[["app-edit-card-dialog"]],inputs:{onCancel:"onCancel",onSave:"onSave",card:"card",newCard:"newCard",cardSupportLevel:"cardSupportLevel"},decls:28,vars:7,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],["value","dummy"],["formControlName","checkAutomatically"],["class","sd-only-warning",4,"ngIf"],[1,"sd-only-warning"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Je(3),re(),de(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.save()}),Je(6,"Save"),re()(),de(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),Je(9,"Cancel"),re()()()(),de(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return r.onEnter()}),de(12,"ion-item",7)(13,"ion-label",8),Je(14,"Card name"),re(),pt(15,"ion-input",9),re(),de(16,"ion-item",7)(17,"ion-label",8),Je(18,"Card size"),re(),de(19,"ion-select",10)(20,"ion-select-option",11),Je(21),da(22,"cardSize"),re()()(),de(23,"ion-item",7)(24,"ion-label"),Je(25,"Check for errors automatically"),re(),pt(26,"ion-toggle",12),re()(),en(27,sU,4,0,"div",13),re()),2&e&&(tt(3),Wi(r.newCard?"New memory card":"Edit memory card"),tt(2),rt("disabled",r.formGroup.invalid),tt(6),rt("formGroup",r.formGroup),tt(10),Ai("",fa(22,5,null==r.card?null:r.card.size)," "),tt(6),rt("ngIf",!r.memoryStickSupported))},dependencies:[Po,Yi,Ki,Xi,Qi,ql,Zo,Ji,uh,dh,Ld,ts,es,Fd,Od,Wl,$l,Nl,Ll,Sa,Ja,Iv],styles:[".sd-only-warning[_ngcontent-%COMP%]{padding:2em 1em}"]}),t})();function aU(t,n){if(1&t&&(de(0,"ion-select-option",13),Je(1),da(2,"cardSize"),re()),2&t){const e=n.$implicit,r=jt();rt("value",e),tt(1),Ai("",fa(2,2,r.sizeBytes(e))," ")}}const lU=[no.mb4,no.mb8,no.mb16,no.mb32,no.mb64,no.mb128];let cU=(()=>{class t{constructor(e){this.storageCardService=e,this.validateNameUnique=r=>this.storageCardService.getAllCards().some(o=>o.name===r.value)?{name:"already taken"}:null,this.onCreate=()=>{},this.onCancel=()=>{},this.formGroup=new Kc({name:new Ca("",{nonNullable:!0,validators:[Hy.required,this.validateNameUnique]}),size:new Ca(no.mb32,{nonNullable:!0}),checkAutomatically:new Ca(!0,{nonNullable:!0})})}get sizes(){return lU}sizeBytes(e){return function M6(t){switch(t){case no.mb4:return 4046848;case no.mb8:return 8110080;case no.mb16:return 16220160;case no.mb32:return 32473088;case no.mb64:return 64978944;case no.mb128:return 129990656;default:throw new Error(`bad card size ${t}`)}}(e)}create(){!this.formGroup.valid||void 0===this.formGroup.value.name||void 0===this.formGroup.value.size||this.onCreate(this.formGroup.value.name,this.formGroup.value.size,!this.formGroup.value.checkAutomatically)}onEnter(){this.create()}}return t.\u0275fac=function(e){return new(e||t)(C(uu))},t.\u0275cmp=m({type:t,selectors:[["app-new-card-dialog"]],inputs:{onCreate:"onCreate",onCancel:"onCancel"},decls:25,vars:3,consts:[["translucent",""],["slot","primary"],[3,"disabled","click"],["slot","secondary"],[3,"click"],["fullscreen",""],[3,"formGroup","keydown.enter"],["lines","none"],["position","stacked"],["placeholder","Enter card name","formControlName","name"],["formControlName","size"],[3,"value",4,"ngFor","ngForOf"],["formControlName","checkAutomatically"],[3,"value"]],template:function(e,r){1&e&&(de(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),Je(3,"New memory card"),re(),de(4,"ion-buttons",1)(5,"ion-button",2),lt("click",function(){return r.create()}),Je(6,"Create"),re()(),de(7,"ion-buttons",3)(8,"ion-button",4),lt("click",function(){return r.onCancel()}),Je(9,"Cancel"),re()()()(),de(10,"ion-content",5)(11,"form",6),lt("keydown.enter",function(){return r.onEnter()}),de(12,"ion-item",7)(13,"ion-label",8),Je(14,"Card name"),re(),pt(15,"ion-input",9),re(),de(16,"ion-item",7)(17,"ion-label",8),Je(18,"Card size"),re(),de(19,"ion-select",10),en(20,aU,3,4,"ion-select-option",11),re()(),de(21,"ion-item",7)(22,"ion-label"),Je(23,"Check for errors automatically"),re(),pt(24,"ion-toggle",12),re()()()),2&e&&(tt(5),rt("disabled",r.formGroup.invalid),tt(6),rt("formGroup",r.formGroup),tt(9),rt("ngForOf",r.sizes))},dependencies:[Fl,Yi,Ki,Xi,Qi,ql,Zo,Ji,uh,dh,Ld,ts,es,Fd,Od,Wl,$l,Nl,Ll,Sa,Ja,Iv]}),t})(),uU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCheck=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-storage-context-menu-card"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCheck:"onCheck",onDelete:"onDelete"},decls:13,vars:4,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","medkit-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onEdit()}),pt(2,"ion-icon",1),Je(3," Edit "),re(),de(4,"ion-item",0),lt("click",function(){return r.onSave()}),pt(5,"ion-icon",2),Je(6," Save "),re(),de(7,"ion-item",0),lt("click",function(){return r.onCheck()}),pt(8,"ion-icon",3),Je(9," Check "),re(),de(10,"ion-item",4),lt("click",function(){return r.onDelete()}),pt(11,"ion-icon",5),Je(12," Delete "),re()()),2&e&&(tt(1),rt("detail",!1),tt(3),rt("detail",!1),tt(3),rt("detail",!1),tt(3),rt("detail",!1))},dependencies:[qo,Zo,Ws]}),t})(),dU=(()=>{class t{constructor(e,r){this.storageCardService=e,this.popoverController=r,this.touched=!1,this.interaction=new _n,this.selectCard=new _n,this.edit=new _n,this.check=new _n,this.delete=new _n,this.save=new _n}onContextmenu(e){var r=this;return(0,Me.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:uU,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.edit.emit(r.card),onSave:()=>r.save.emit(r.card),onCheck:()=>r.check.emit(),onDelete:()=>r.delete.emit()}})).present()})()}get color(){if(this.touched)return"light"}get status(){if(!this.card)return"";const e=this.storageCardService.mountedInSession(this.card?.id);if(e)return`attached to '${e.name}'`;if(this.card.dontFsckAutomatically)return"not checked automatically";switch(this.card.status){case wr.dirty:return"needs check";case wr.clean:return"no errors";case wr.unformatted:return"no filesystem";case wr.unfixable:return"uncorrectable errors";default:throw new Error("unreachable")}}}return t.\u0275fac=function(e){return new(e||t)(C(uu),C(Yl))},t.\u0275cmp=m({type:t,selectors:[["app-storage-card"]],inputs:{card:"card",touched:"touched"},outputs:{interaction:"interaction",selectCard:"selectCard",edit:"edit",check:"check",delete:"delete",save:"save"},decls:19,vars:6,consts:[[3,"contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","medkit-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","click"]],template:function(e,r){if(1&e){const o=pr();de(0,"ion-item-sliding",0,1),lt("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.card)}),de(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.edit.emit(r.card))}),pt(4,"ion-icon",4),re(),de(5,"ion-item-option",5),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.save.emit(r.card))}),pt(6,"ion-icon",6),re()(),de(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.check.emit(r.card))}),pt(9,"ion-icon",9),re(),de(10,"ion-item-option",10),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.delete.emit(r.card))}),pt(11,"ion-icon",11),re()(),de(12,"ion-item",12),lt("click",function(){return r.selectCard.emit(),r.interaction.emit()}),de(13,"ion-label")(14,"h2"),Je(15),re(),de(16,"p"),Je(17),da(18,"cardSize"),re()()()()}2&e&&(tt(12),rt("color",r.color),tt(3),Wi(null==r.card?null:r.card.name),tt(2),Yu("",fa(18,4,null==r.card?null:r.card.size),", ",r.status,""))},dependencies:[qo,Zo,ah,lh,ch,Ji,Iv],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}"]}),t})();function fU(t,n){1&t&&(de(0,"div",10),pt(1,"ion-spinner"),re())}function pU(t,n){1&t&&(de(0,"div",11)(1,"div",12),Je(2," No memory cards. Select the \u201e+\u201c icon in the upper right corner in order to create a new card. "),re()())}function hU(t,n){if(1&t){const e=pr();de(0,"app-storage-card",14),lt("delete",function(){const i=Qt(e).$implicit;return Mt(jt(2).deleteCard(i))})("selectCard",function(){const i=Qt(e).$implicit;return Mt(jt(2).selectCard(i))})("edit",function(){const i=Qt(e).$implicit;return Mt(jt(2).editCard(i))})("check",function(){const i=Qt(e).$implicit;return Mt(jt(2).checkCard(i))})("interaction",function(){const i=Qt(e).$implicit;return Mt(jt(2).lastCardTouched=i.id)})("save",function(){const i=Qt(e).$implicit;return Mt(jt(2).saveCard(i))}),re()}if(2&t){const e=n.$implicit,r=jt(2);rt("card",e)("touched",e.id===r.lastCardTouched)}}function mU(t,n){if(1&t&&(de(0,"ion-list"),en(1,hU,1,2,"app-storage-card",13),re()),2&t){const e=jt();tt(1),rt("ngForOf",e.cards)("ngForTrackBy",e.trackCardBy)}}class Ms{constructor(n,e,r,o,i,s,a,c,f){var g=this;this.actionSheetController=n,this.storageCardService=e,this.modalController=r,this.alertController=o,this.cloudpilotService=i,this.alertService=s,this.errorService=a,this.fileService=c,this.storaceCarcContext=f,this.handleCardImport=function(){var y=(0,Me.Z)(function*(E){const J=(yield g.cloudpilotService.cloudpilot).getCardSupportLevel(E.content.length);if(0===J)return void g.alertService.errorMessage("This is not a supported card image.");const xe=yield new Promise(function(){var Xe=(0,Me.Z)(function*(Ge){const yt=yield g.modalController.create({component:XM,backdropDismiss:!1,componentProps:{card:{name:g.disambiguateName(E.name),size:E.content.length},cardSupportLevel:J,newCard:!0,onCancel:()=>{yt.dismiss(),Ge(void 0)},onSave:et=>{Ge(et),yt.dismiss()}}});yield yt.present()});return function(Ge){return Xe.apply(this,arguments)}}());xe&&(yield g.storageCardService.createCardFromFile(xe.name,E,!!xe.dontFsckAutomatically))});return function(E){return y.apply(this,arguments)}}(),this.lastCardTouched=void 0,this.onMountForBrowse=()=>{}}get cards(){return this.storageCardService.getAllCards()}addCardImage(){var n=this;return(0,Me.Z)(function*(){(yield n.actionSheetController.create({header:"What type of image do you want to create?",buttons:[{text:"Empty image",handler:()=>n.createNewCardImage()},{text:"Import an existing image",handler:()=>n.importCardImage()},{text:"Cancel"}]})).present()})()}showHelp(){}selectCard(n){var e=this;return(0,Me.Z)(function*(){(yield e.storageCardService.browseCard(n))&&e.onMountForBrowse(n)})()}editCard(n){var e=this;return(0,Me.Z)(function*(){const r=yield e.cloudpilotService.cloudpilot,o=yield e.modalController.create({component:XM,backdropDismiss:!1,componentProps:{card:n,cardSupportLevel:r.getCardSupportLevel(n.size),onCancel:()=>o.dismiss(),onSave:(i=(0,Me.Z)(function*(s){yield e.storageCardService.updateCard(n.id,s),yield o.dismiss()}),function(a){return i.apply(this,arguments)})}});var i;yield o.present()})()}saveCard(n){return this.storageCardService.saveCard(n.id,`${uv(n.name.replace(/\.img$/,""))}.img`)}checkCard(n){return this.storageCardService.checkCard(n)}deleteCard(n){var e=this;return(0,Me.Z)(function*(){var o;yield(yield e.alertController.create({header:"Warning",backdropDismiss:!1,message:`Deleting the card '${n.name}' cannot be undone. Are you sure you want to continue?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:(o=(0,Me.Z)(function*(){try{yield e.storageCardService.deleteCard(n.id)}catch(i){e.errorService.fatalBug(i instanceof Error?i.message:"delete failed")}}),function(){return o.apply(this,arguments)})}]})).present()})()}trackCardBy(n,e){return e.id}importCardImage(){this.fileService.openFile(this.handleCardImport)}createNewCardImage(){var n=this;return(0,Me.Z)(function*(){const e=yield n.modalController.create({component:cU,backdropDismiss:!1,componentProps:{onCancel:()=>e.dismiss(),onCreate:(r=(0,Me.Z)(function*(o,i,s){yield n.storageCardService.createEmptyCard(o,i,s),yield e.dismiss()}),function(i,s,a){return r.apply(this,arguments)})}});var r;yield e.present()})()}disambiguateName(n){const e=this.storageCardService.getAllCards();return KM(n,r=>e.some(o=>o.name===r))}}function gU(t,n){1&t&&pt(0,"ion-icon",8)}function yU(t,n){1&t&&pt(0,"ion-icon",9)}function _U(t,n){1&t&&pt(0,"ion-icon",10)}function vU(t,n){if(1&t){const e=pr();de(0,"ion-item",2),lt("click",function(){const i=Qt(e).index;return Mt(jt(2).onSelect(i))}),Gu(1,3),en(2,gU,1,0,"ion-icon",4),en(3,yU,1,0,"ion-icon",5),en(4,_U,1,0,"ion-icon",6),zu(),de(5,"div",7),Je(6),re()()}if(2&t){const e=n.$implicit,r=n.index,o=jt(2);rt("detail",!1)("lines",r===o.entries.length-1?"none":"full"),tt(1),rt("ngSwitch",o.entries.length),tt(1),rt("ngSwitchCase",r+1),tt(1),rt("ngSwitchCase",r+2),tt(3),Wi(e)}}function bU(t,n){if(1&t&&(de(0,"ion-list"),en(1,vU,7,6,"ion-item",1),re()),2&t){const e=jt();tt(1),rt("ngForOf",e.entries)}}Ms.\u0275fac=function(n){return new(n||Ms)(C(Hd),C(uu),C(Ds),C(ru),C(Ks),C(Pr),C(Kl),C(cu),C(su))},Ms.\u0275cmp=m({type:Ms,selectors:[["app-subpage-cards"]],inputs:{onMountForBrowse:"onMountForBrowse"},decls:19,vars:3,consts:[["slot","primary"],[3,"click"],["name","add-outline"],["slot","secondary"],["name","help-outline"],["collapse","condense"],["size","large"],["class","loader",4,"ngIf"],["class","placeholder-container",4,"ngIf"],[4,"ngIf"],[1,"loader"],[1,"placeholder-container"],[1,"placeholder"],[3,"card","touched","delete","selectCard","edit","check","interaction","save",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","touched","delete","selectCard","edit","check","interaction","save"]],template:function(n,e){1&n&&(de(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),Je(3,"Memory cards"),re(),de(4,"ion-buttons",0)(5,"ion-button",1),lt("click",function(){return e.addCardImage()}),pt(6,"ion-icon",2),re()(),de(7,"ion-buttons",3)(8,"ion-button",1),lt("click",function(){return e.showHelp()}),pt(9,"ion-icon",4),re(),pt(10,"app-pwa-prompt"),re()()(),de(11,"ion-content")(12,"ion-header",5)(13,"ion-toolbar")(14,"ion-title",6),Je(15,"Memory cards"),re()()(),en(16,fU,2,0,"div",7),en(17,pU,3,0,"div",8),en(18,mU,2,2,"ion-list",9),re()),2&n&&(tt(16),rt("ngIf",e.storageCardService.isLoading()),tt(1),rt("ngIf",!e.storageCardService.isLoading()&&0===e.cards.length),tt(1),rt("ngIf",!e.storageCardService.isLoading()&&e.cards.length>0))},dependencies:[Fl,Po,Yi,Ki,Xi,Qi,qo,Ws,Nd,ts,es,Mh,dU],styles:[".placeholder-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}.loader[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;margin-top:calc(50vh - 5em)}.md[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:calc(50vh - 4em)}ion-list[_ngcontent-%COMP%]{background:none}"]}),ue([bi()],Ms.prototype,"addCardImage",null),ue([bi()],Ms.prototype,"selectCard",null),ue([bi()],Ms.prototype,"editCard",null),ue([bi()],Ms.prototype,"saveCard",null),ue([bi()],Ms.prototype,"checkCard",null),ue([bi()],Ms.prototype,"deleteCard",null);let wU=(()=>{class t{constructor(){this.onSelect=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-context-menu-breadcrumb"]],inputs:{entries:"entries"},decls:1,vars:1,consts:[[4,"ngIf"],["button","",3,"detail","lines","click",4,"ngFor","ngForOf"],["button","",3,"detail","lines","click"],[3,"ngSwitch"],["name","list-outline","slot","end",4,"ngSwitchCase"],["name","file-tray-outline","slot","end",4,"ngSwitchCase"],["name","folder-outline","slot","end",4,"ngSwitchDefault"],[1,"text-wrapper"],["name","list-outline","slot","end"],["name","file-tray-outline","slot","end"],["name","folder-outline","slot","end"]],template:function(e,r){1&e&&en(0,bU,2,1,"ion-list",0),2&e&&rt("ngIf",r.entries)},dependencies:[Fl,Po,bp,dE,fE,qo,Zo,Ws],styles:[".text-wrapper[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})(),CU=(()=>{class t{constructor(){this.onStartSelection=()=>{},this.onAddFiles=()=>{},this.onCreateDirectry=()=>{},this.onExtractZipfile=()=>{},this.onPaste=()=>{},this.onHelp=()=>{},this.emptyDirectory=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-context-menu-directory"]],inputs:{onStartSelection:"onStartSelection",onAddFiles:"onAddFiles",onCreateDirectry:"onCreateDirectry",onExtractZipfile:"onExtractZipfile",onPaste:"onPaste",onHelp:"onHelp",emptyDirectory:"emptyDirectory"},decls:19,vars:8,consts:[["lines","full","button","",3,"detail","disabled","click"],["name","checkmark-circle-outline","slot","end"],["lines","full","button","",3,"detail","click"],["name","document-outline","slot","end"],["name","folder-outline","slot","end"],["name","download-outline","slot","end"],["name","clipboard-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","help-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onStartSelection()}),pt(2,"ion-icon",1),Je(3," Start selection "),re(),de(4,"ion-item",2),lt("click",function(){return r.onAddFiles()}),pt(5,"ion-icon",3),Je(6," Add files "),re(),de(7,"ion-item",2),lt("click",function(){return r.onCreateDirectry()}),pt(8,"ion-icon",4),Je(9," Add directory "),re(),de(10,"ion-item",2),lt("click",function(){return r.onExtractZipfile()}),pt(11,"ion-icon",5),Je(12," Extract zip "),re(),de(13,"ion-item",0),lt("click",function(){return r.onPaste()}),pt(14,"ion-icon",6),Je(15," Paste "),re(),de(16,"ion-item",7),lt("click",function(){return r.onHelp()}),pt(17,"ion-icon",8),Je(18," Help "),re()()),2&e&&(tt(1),rt("detail",!1)("disabled",r.emptyDirectory),tt(3),rt("detail",!1),tt(3),rt("detail",!1),tt(3),rt("detail",!1),tt(3),rt("detail",!1)("disabled",!0),tt(3),rt("detail",!1))},dependencies:[qo,Zo,Ws]}),t})();const SU=["zero","one","two","three","four","five","six","seven","eight","nine"];let DU=(()=>{class t{constructor(){this.onEdit=()=>{},this.onSave=()=>{},this.onCopy=()=>{},this.onCut=()=>{},this.onDelete=()=>{}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-context-menu-file-entry"]],inputs:{onEdit:"onEdit",onSave:"onSave",onCopy:"onCopy",onCut:"onCut",onDelete:"onDelete"},decls:16,vars:5,consts:[["lines","full","button","",3,"detail","click"],["name","create-outline","slot","end"],["name","share-outline","slot","end"],["name","copy-outline","slot","end"],["name","cut-outline","slot","end"],["lines","none","button","",3,"detail","click"],["name","trash-outline","slot","end"]],template:function(e,r){1&e&&(de(0,"ion-list")(1,"ion-item",0),lt("click",function(){return r.onEdit()}),pt(2,"ion-icon",1),Je(3," Edit "),re(),de(4,"ion-item",0),lt("click",function(){return r.onSave()}),pt(5,"ion-icon",2),Je(6," Save "),re(),de(7,"ion-item",0),lt("click",function(){return r.onCopy()}),pt(8,"ion-icon",3),Je(9," Copy "),re(),de(10,"ion-item",0),lt("click",function(){return r.onCut()}),pt(11,"ion-icon",4),Je(12," Cut "),re(),de(13,"ion-item",5),lt("click",function(){return r.onDelete()}),pt(14,"ion-icon",6),Je(15," Delete "),re()()),2&e&&(tt(1),rt("detail",!1),tt(3),rt("detail",!1),tt(3),rt("detail",!1),tt(3),rt("detail",!1),tt(3),rt("detail",!1))},dependencies:[qo,Zo,Ws]}),t})(),QM=(()=>{class t{transform(e){return void 0===e?"":e<1024?`${e} bytes`:e<1048576?`${(e/1024).toFixed(1)} kB`:`${(e/1024/1024).toFixed(1)} MB`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=ut({name:"fileSize",type:t,pure:!0}),t})();const IU=["slidingItem"];function MU(t,n){1&t&&pt(0,"ion-icon",21)}function kU(t,n){1&t&&pt(0,"ion-icon",22)}function TU(t,n){1&t&&pt(0,"ion-icon",23)}function xU(t,n){1&t&&pt(0,"ion-icon",24)}function AU(t,n){1&t&&pt(0,"ion-icon",25)}function PU(t,n){1&t&&pt(0,"ion-icon",26)}function RU(t,n){1&t&&pt(0,"ion-icon",27)}function FU(t,n){if(1&t&&(Gu(0),Je(1),da(2,"fileSize"),zu()),2&t){const e=jt();tt(1),Ai(" - ",fa(2,1,null==e.entry?null:e.entry.size)," ")}}let OU=(()=>{class t{constructor(e,r){this.actionSheetController=e,this.popoverController=r,this.touched=!1,this.selecting=!1,this.selected=!1,this.interaction=new _n,this.selectEntry=new _n,this.editEntry=new _n,this.copyEntry=new _n,this.cutEntry=new _n,this.deleteEntry=new _n,this.saveEntry=new _n}ngOnChanges(e){e.selecting&&e.selecting.currentValue&&!e.selecting.previousValue&&this.slidingItem?.close()}onContextmenu(e){var r=this;return(0,Me.Z)(function*(){e.stopPropagation(),e.preventDefault(),r.interaction.emit(),(yield r.popoverController.create({component:DU,event:e,arrow:!1,dismissOnSelect:!0,componentProps:{onEdit:()=>r.editEntry.emit(r.entry),onSave:()=>r.saveEntry.emit(r.entry),onCopy:()=>r.copyEntry.emit(r.entry),onCut:()=>r.cutEntry.emit(r.entry),onDelete:()=>r.deleteEntry.emit(r.entry)}})).present()})()}get color(){if(!this.selecting&&this.touched||this.selecting&&this.selected)return"light"}cutOrCopyEntry(){var e=this;return(0,Me.Z)(function*(){const r=e.entry?.isDirectory?"directory":"file";(yield e.actionSheetController.create({header:"Do you want to cut or copy?",buttons:[{text:`Copy ${r}`,handler:()=>e.copyEntry.emit(e.entry)},{text:`Cut ${r}`,handler:()=>e.cutEntry.emit(e.entry)},{text:"Cancel"}]})).present()})()}}return t.\u0275fac=function(e){return new(e||t)(C(Hd),C(Yl))},t.\u0275cmp=m({type:t,selectors:[["app-file-entry"]],viewQuery:function(e,r){if(1&e&&jc(IU,5),2&e){let o;Ri(o=Fi())&&(r.slidingItem=o.first)}},inputs:{entry:"entry",touched:"touched",selecting:"selecting",selected:"selected"},outputs:{interaction:"interaction",selectEntry:"selectEntry",editEntry:"editEntry",copyEntry:"copyEntry",cutEntry:"cutEntry",deleteEntry:"deleteEntry",saveEntry:"saveEntry"},features:[ho],decls:26,vars:17,consts:[[3,"disabled","contextmenu","ionDrag"],["slidingItem",""],["side","start"],["color","primary","icon-only","",3,"click"],["name","create-outline"],["color","secondary","icon-only","",3,"click"],["name","share-outline"],["side","end"],["color","tertiary","icon-only","",3,"click"],["name","copy-outline"],["color","danger","icon-only","",3,"click"],["name","trash-outline"],[3,"color","detail","click"],["name","folder-outline","slot","start",4,"ngIf"],["name","document-outline","slot","start",4,"ngIf"],["class","attribute-icon","name","lock-closed-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","eye-off-outline","size","small","slot","end",4,"ngIf"],["class","attribute-icon","name","cog-outline","size","small","slot","end",4,"ngIf"],["name","radio-button-off-outline","slot","end",4,"ngIf"],["name","radio-button-on-outline","slot","end",4,"ngIf"],[4,"ngIf"],["name","folder-outline","slot","start"],["name","document-outline","slot","start"],["name","lock-closed-outline","size","small","slot","end",1,"attribute-icon"],["name","eye-off-outline","size","small","slot","end",1,"attribute-icon"],["name","cog-outline","size","small","slot","end",1,"attribute-icon"],["name","radio-button-off-outline","slot","end"],["name","radio-button-on-outline","slot","end"]],template:function(e,r){if(1&e){const o=pr();de(0,"ion-item-sliding",0,1),lt("contextmenu",function(s){return r.onContextmenu(s)})("ionDrag",function(){return r.interaction.emit(r.entry)}),de(2,"ion-item-options",2)(3,"ion-item-option",3),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.editEntry.emit(r.entry))}),pt(4,"ion-icon",4),re(),de(5,"ion-item-option",5),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.saveEntry.emit(r.entry))}),pt(6,"ion-icon",6),re()(),de(7,"ion-item-options",7)(8,"ion-item-option",8),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.cutOrCopyEntry())}),pt(9,"ion-icon",9),re(),de(10,"ion-item-option",10),lt("click",function(){return Qt(o),zi(1).close(),Mt(r.deleteEntry.emit(r.entry))}),pt(11,"ion-icon",11),re()(),de(12,"ion-item",12),lt("click",function(){return r.selectEntry.emit(),r.interaction.emit()}),en(13,MU,1,0,"ion-icon",13),en(14,kU,1,0,"ion-icon",14),en(15,TU,1,0,"ion-icon",15),en(16,xU,1,0,"ion-icon",16),en(17,AU,1,0,"ion-icon",17),en(18,PU,1,0,"ion-icon",18),en(19,RU,1,0,"ion-icon",19),de(20,"ion-label")(21,"h2"),Je(22),re(),de(23,"p"),Je(24),en(25,FU,3,3,"ng-container",20),re()()()()}2&e&&(rt("disabled",r.selecting),tt(12),qu("opacity",r.touched?1:.99999),la("is-directory",null==r.entry?null:r.entry.isDirectory),rt("color",r.color)("detail",(null==r.entry?null:r.entry.isDirectory)&&!r.selecting),tt(1),rt("ngIf",null==r.entry?null:r.entry.isDirectory),tt(1),rt("ngIf",!(null!=r.entry&&r.entry.isDirectory)),tt(1),rt("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.readonly),tt(1),rt("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.hidden),tt(1),rt("ngIf",null==r.entry||null==r.entry.attributes?null:r.entry.attributes.system),tt(1),rt("ngIf",r.selecting&&!r.selected),tt(1),rt("ngIf",r.selecting&&r.selected),tt(3),Wi(null==r.entry?null:r.entry.name),tt(2),Ai(" ",null==r.entry?null:r.entry.lastModifiedLocalDate," "),tt(1),rt("ngIf",!(null!=r.entry&&r.entry.isDirectory)))},dependencies:[Po,qo,Zo,ah,lh,ch,Ji,QM],styles:["ion-item[_ngcontent-%COMP%]{background-color:#fff;background-color:var(--ion-background-color, white)}ion-icon.attribute-icon[_ngcontent-%COMP%]{color:var(--ion-color-step-600);margin-left:.7em}ion-icon.attribute-icon[name=lock-closed-outline][_ngcontent-%COMP%]{position:relative;top:-2px}.ios[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]{color:#0006;color:rgba(var(--ion-text-color-rgb, 0, 0, 0),.4);margin-left:0}ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:1.75em}.is-directory[_ngcontent-%COMP%]   ion-icon.attribute-icon[_ngcontent-%COMP%]:last-of-type{margin-right:.75em}"]}),t})();function NU(t,n){1&t&&pt(0,"div",10)}function LU(t,n){if(1&t){const e=pr();de(0,"ion-toolbar")(1,"ion-title",4),lt("click",function(o){return Qt(e),Mt(jt().openBreadcrumbMenu(o))}),Je(2),en(3,NU,1,0,"div",5),re(),de(4,"ion-buttons",6),pt(5,"ion-back-button"),re(),de(6,"ion-buttons",7)(7,"ion-button",8),lt("click",function(o){return Qt(e),Mt(jt().openContextMenu(o))}),pt(8,"ion-icon",9),re()()()}if(2&t){const e=jt();tt(1),rt("id",e.breadcrumbTriggerId),tt(1),Wi(e.title),tt(1),rt("ngIf",e.showBreadcrumb)}}function $U(t,n){if(1&t){const e=pr();de(0,"ion-buttons",12)(1,"ion-button",8),lt("click",function(){return Qt(e),Mt(jt(2).onSelectAll())}),Je(2,"Select all"),re()()}}function BU(t,n){if(1&t){const e=pr();de(0,"ion-buttons",12)(1,"ion-button",8),lt("click",function(){return Qt(e),Mt(jt(2).selection.clear())}),Je(2,"Clear"),re()()}}function VU(t,n){if(1&t){const e=pr();de(0,"ion-toolbar")(1,"ion-title"),Je(2,"Selection"),re(),de(3,"ion-buttons",7)(4,"ion-button",8),lt("click",function(){return Qt(e),Mt(jt().onSelectionDone())}),Je(5),re()(),en(6,$U,3,0,"ion-buttons",11),en(7,BU,3,0,"ion-buttons",11),re()}if(2&t){const e=jt();tt(5),Wi(0===e.selection.size?"Cancel":"Done"),tt(1),rt("ngIf",e.selection.size!==(null==e.entries?null:e.entries.length)),tt(1),rt("ngIf",e.selection.size===(null==e.entries?null:e.entries.length))}}function HU(t,n){if(1&t&&(de(0,"div",13)(1,"div",14),Je(2),re()()),2&t){const e=jt();tt(2),Ai(" empty ","/"===e.path?"card":"directory"," ")}}function jU(t,n){if(1&t){const e=pr();de(0,"app-file-entry",15),lt("selectEntry",function(){const i=Qt(e).$implicit;return Mt(jt().onSelect(i))})("editEntry",function(){const i=Qt(e).$implicit;return Mt(jt().onEditEntry(i))})("saveEntry",function(){const i=Qt(e).$implicit;return Mt(jt().onSaveEntry(i))})("copyEntry",function(){const i=Qt(e).$implicit;return Mt(jt().onCopyEntry(i))})("cutEntry",function(){const i=Qt(e).$implicit;return Mt(jt().onCutEntry(i))})("deleteEntry",function(){const i=Qt(e).$implicit;return Mt(jt().onDeleteEntry(i))})("interaction",function(){const i=Qt(e).$implicit;return Mt(jt().lastEntryTouched=i.name)}),re()}if(2&t){const e=n.$implicit,r=jt();rt("entry",e)("selecting","select"===r.mode)("selected",r.selection.has(e.name))("touched",e.name===r.lastEntryTouched)}}function UU(t,n){return t.isDirectory&&!n.isDirectory?-1:!t.isDirectory&&n.isDirectory?1:t.name.localeCompare(n.name)}let GU=0;class Ql{constructor(n,e,r,o,i){this.vfsService=n,this.popoverController=e,this.config=r,this.alertService=o,this.actionSheetController=i,this.onNavigate=()=>{},this.onNavigateBreadcrumb=()=>{},this.lastEntryTouched=void 0,this.mode="browse",this.selection=new Set,this.breadcrumbTriggerId="breadcrumb-trigger-"+GU++}get title(){switch(this.path){case"/":return this.card?.name??"";case void 0:return"";default:{const n=this.vfsService.splitPath(this.path);return n[n.length-1]??""}}}get showBreadcrumb(){return!!this.path&&"/"!==this.path}get bytesFree(){return this.vfsService.getBytesFree()}get bytesTotal(){return this.vfsService.getBytesTotal()}ngOnInit(){this.updateEntries()}trackEntryBy(n,e){return e.name}onSelect(n){"browse"===this.mode?n.isDirectory&&this.onNavigate(n.path):this.selection?.has(n.name)?this.selection.delete(n.name):this.selection.add(n.name)}onEditEntry(n){this.alertService.message("Not implemented",`Edit ${n.name}: not implemented.`)}onSaveEntry(n){this.alertService.message("Not implemented",`Save ${n.name}: not implemented.`)}onCopyEntry(n){this.alertService.message("Not implemented",`Copy ${n.name}: not implemented.`)}onCutEntry(n){this.alertService.message("Not implemented",`Cut ${n.name}: not implemented.`)}onDeleteEntry(n){this.alertService.message("Not implemented",`Delete ${n.name}: not implemented.`)}onAddFiles(){this.alertService.message("Not implemented","Add files: not implemented.")}onCreateDirectory(){this.alertService.message("Not implemented","Create directory: not implemented.")}onExtractZipfile(){this.alertService.message("Not implemented","Extract zipfile: not implemented.")}onPaste(){this.alertService.message("Not implemented","Paste: not implemented.")}onHelp(){this.alertService.message("Not implemented","Help: not implemented.")}onStartSelection(){0!==this.entries?.length&&(this.selection.clear(),this.mode="select")}onSelectionDone(){var n=this;return(0,Me.Z)(function*(){if(!n.entries)return;const e=Array.from(n.selection),r=new Map(n.entries.map(c=>[c.name,c])),o=e.every(c=>!r.get(c)?.isDirectory),i=e.every(c=>r.get(c)?.isDirectory),s=function EU(t){return t<10?SU[t]:t+""}(n.selection.size);let a=`${s} items`;if(o&&(a=1===n.selection.size?"file":`${s} files`),i&&(a=1===n.selection.size?"directory":`${s} directories`),0!==n.selection.size){const c=yield n.actionSheetController.create({header:"What do you want to do?",buttons:[{text:`Copy ${a}`,handler:n.onCopySelection.bind(n)},{text:`Cut ${a}`,handler:n.onCutSelection.bind(n)},{text:`Save ${a} as zip`,handler:n.onSaveZip.bind(n)},{text:`Delete ${a}`,handler:n.onDeleteSelection.bind(n)},{text:"Cancel"}]});yield c.present(),yield c.onWillDismiss()}n.mode="browse"})()}onSelectAll(){this.entries?.forEach(n=>this.selection.add(n.name))}onCopySelection(){this.alertService.message("Not implemented","Copy selection: not implemented.")}onCutSelection(){this.alertService.message("Not implemented","Cut selection: not implemented.")}onSaveZip(){this.alertService.message("Not implemented","Save zip: not implemented.")}onDeleteSelection(){this.alertService.message("Not implemented","Delete selection: not implemented.")}openBreadcrumbMenu(n){var e=this;return(0,Me.Z)(function*(){if(!e.card||!e.path||"/"===e.path)return;const r=[...e.vfsService.splitPath(e.path).reverse().slice(1),e.card.name,"Memory cards"];(yield e.popoverController.create({component:wU,event:n,componentProps:{entries:r,onSelect:i=>e.onNavigateBreadcrumb(r.length-1-i)},dismissOnSelect:!0,arrow:!1,side:"bottom",alignment:"ios"===e.config.get("mode")?"center":"start",trigger:e.breadcrumbTriggerId})).present()})()}openContextMenu(n){var e=this;return(0,Me.Z)(function*(){(yield e.popoverController.create({component:CU,componentProps:{emptyDirectory:0===e.entries?.length,onStartSelection:e.onStartSelection.bind(e),onAddFiles:e.onAddFiles.bind(e),onCreateDirectry:e.onCreateDirectory.bind(e),onExtractZipfile:e.onExtractZipfile.bind(e),onPaste:e.onPaste.bind(e),onHelp:e.onHelp.bind(e)},event:n,dismissOnSelect:!0,arrow:!1})).present()})()}updateEntries(){void 0!==this.path?this.vfsService.readdir(this.path).then(n=>this.entries=n?[...n].sort(UU):[]):this.entries=[]}}Ql.\u0275fac=function(n){return new(n||Ql)(C(vv),C(Yl),C(U_),C(Pr),C(Hd))},Ql.\u0275cmp=m({type:Ql,selectors:[["app-subpage-directory"]],inputs:{card:"card",path:"path",onNavigate:"onNavigate",onNavigateBreadcrumb:"onNavigateBreadcrumb"},decls:13,vars:11,consts:[[4,"ngIf"],["class","placeholder-container",4,"ngIf"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction",4,"ngFor","ngForOf","ngForTrackBy"],["lines","none",1,"free-space"],[3,"id","click"],["class","select-arrow",4,"ngIf"],["slot","start"],["slot","primary"],[3,"click"],["name","ellipsis-vertical-outline"],[1,"select-arrow"],["slot","secondary",4,"ngIf"],["slot","secondary"],[1,"placeholder-container"],[1,"placeholder"],[3,"entry","selecting","selected","touched","selectEntry","editEntry","saveEntry","copyEntry","cutEntry","deleteEntry","interaction"]],template:function(n,e){1&n&&(de(0,"ion-header"),en(1,LU,9,3,"ion-toolbar",0),en(2,VU,8,3,"ion-toolbar",0),re(),de(3,"ion-content"),en(4,HU,3,1,"div",1),de(5,"ion-list"),en(6,jU,1,4,"app-file-entry",2),de(7,"ion-item",3)(8,"ion-label")(9,"p"),Je(10),da(11,"fileSize"),da(12,"fileSize"),re()()()()()),2&n&&(tt(1),rt("ngIf","browse"===e.mode),tt(1),rt("ngIf","select"===e.mode),tt(2),rt("ngIf",void 0!==e.entries&&0===e.entries.length),tt(2),rt("ngForOf",e.entries)("ngForTrackBy",e.trackEntryBy),tt(4),Yu(" ",fa(11,7,e.bytesFree)," free, ",fa(12,9,e.bytesTotal)," total "))},dependencies:[Fl,Po,bI,Yi,Ki,Xi,Qi,qo,Zo,Ji,Ws,ts,es,FI,OU,QM],styles:[".placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 64px);width:100%;display:flex;align-items:center;justify-content:center}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 44px)}.placeholder-container[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{text-align:center;max-width:30em;padding:0 2em}.ios[_ngcontent-%COMP%]   .placeholder-container[_ngcontent-%COMP%]{height:calc(100% - 4em)}ion-list[_ngcontent-%COMP%]{background:none}.select-arrow[_ngcontent-%COMP%]{border-top:5px solid;border-left:5px solid transparent;border-right:5px solid transparent;display:inline-block;opacity:.33;margin-left:.5em;vertical-align:middle}.md[_ngcontent-%COMP%]   .select-arrow[_ngcontent-%COMP%]{opacity:.55}ion-item.free-space[_ngcontent-%COMP%]{text-align:center}"]}),ue([bi()],Ql.prototype,"onSelectionDone",null);const zU=["nav"],WU=[{path:"tab",component:Sv,children:[{path:"emulation",component:zj},{path:"sessions",component:Qs},{path:"storage",component:(()=>{class t{constructor(e){this.vfsService=e,this.navRootProps={onMountForBrowse:r=>this.browseCard(r)},this.onNavigate=r=>{!this.currentlyBrowsingCard||this.nav?.push(Ql,{card:this.currentlyBrowsingCard,path:r,onNavigate:this.onNavigate,onNavigateBreadcrumb:this.onNavigateBreadcrumb})},this.onNavigateBreadcrumb=r=>{!this.currentlyBrowsingCard||this.nav?.popTo(r)},this.navRoot=Ms,this.isVisible=!1}ngOnInit(){this.vfsService.onReleaseCard.addHandler(this.onReleaseCard.bind(this))}ionViewDidEnter(){this.isVisible=!0}ionViewWillLeave(){this.isVisible=!1}browseCard(e){this.currentlyBrowsingCard=e,this.nav?.push(Ql,{card:e,path:"/",onNavigate:this.onNavigate})}onReleaseCard(e){e!==this.currentlyBrowsingCard?.id||!this.nav||(this.isVisible||(this.nav.animated=!1),this.nav.popToRoot(void 0,()=>this.nav&&(this.nav.animated=!0)))}}return t.\u0275fac=function(e){return new(e||t)(C(vv))},t.\u0275cmp=m({type:t,selectors:[["app-storage"]],viewQuery:function(e,r){if(1&e&&jc(zU,5),2&e){let o;Ri(o=Fi())&&(r.nav=o.first)}},decls:2,vars:3,consts:[[3,"animated","root","rootParams"],["nav",""]],template:function(e,r){1&e&&pt(0,"ion-nav",0,1),2&e&&rt("animated",!0)("root",r.navRoot)("rootParams",r.navRootProps)},dependencies:[wI,OI]}),t})()},{path:"settings",component:iU},{path:"about",component:cj},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}]},{path:"",redirectTo:"/tab/sessions",pathMatch:"full"}];let qU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[sh.forChild(WU),sh]}),t})(),ZU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({imports:[rl,Gs,Vl,qU,nj,rj,oj,ij,tj]}),t})(),YU=(()=>{class t extends KS{pushState(e,r,o,i){this.replaceState(e,r,o,i)}}return t.\u0275fac=function(){let n;return function(r){return(n||(n=Uo(t)))(r||t)}}(),t.\u0275prov=wt({token:t,factory:t.\u0275fac}),t})();const KU=[{path:"install",component:UM,canActivate:[GM]},{path:"import",component:UM,canActivate:[GM]},{path:"",component:Sv}];let XU=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=ne({type:t}),t.\u0275inj=Kn({providers:[{provide:Us,useClass:YU}],imports:[sh.forRoot(KU,{preloadingStrategy:g4,useHash:!0}),ZU,sh]}),t})();const JM=["touch","click","keydown"];let QU=(()=>{class t{constructor(e,r){this.kvsService=e,this.audioService=r,this.initialize()}initialize(){var e=this;return(0,Me.Z)(function*(){if(yield e.kvsService.initialize(),!e.kvsService.kvs.enableAudioOnFirstInteraction)return;const r=()=>{JM.forEach(o=>window.removeEventListener(o,r,!0)),e.audioService.initialize()};JM.forEach(o=>window.addEventListener(o,r,!0))})()}}return t.\u0275fac=function(e){return new(e||t)(we(Li),we(Dv))},t.\u0275prov=wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const JU=()=>{const t=new iu;return t.link=(n,e,r)=>`<a href="${n}" target="_blank" rel="external">${r||n}</a>`,{renderer:t,gfm:!0,breaks:!1,pedantic:!1,smartLists:!0,smartypants:!1}};let e8=(()=>{class t{constructor(e,r,o,i,s,a,c){}}return t.\u0275fac=function(e){return new(e||t)(we($n),we(Xs),we(Dv),we(Yd),we(Li),we(jM),we(QU))},t.\u0275mod=ne({type:t,bootstrap:[H6]}),t.\u0275inj=Kn({providers:[{provide:tI,useClass:gV},{provide:Pl,multi:!0,useFactory:n=>n.initialize.bind(n),deps:[Li]}],imports:[PN,rl.forRoot(),XU,B6.register("ngsw-worker.js",{enabled:true}),X_.forRoot({loader:Oy,markedOptions:{provide:QI,useFactory:JU}}),iL]}),t})();window.global=window,function GN(){Dp=$E("#/install?"),Ip=$E("#/import?")}(),function sH(){return!!localStorage.getItem(yh)}()&&!BE()||function zN(){return void 0!==Dp}()?location.replace(`${location.origin}${location.pathname}#/tab/emulation`):location.replace(`${location.origin}${location.pathname}#/tab/sessions`),function wF(){FS=!1}(),window.addEventListener("orientationchange",()=>setTimeout(()=>{document.body.style.height=window.innerHeight+"px"},100)),window.addEventListener("scroll",()=>window.scrollTo(0,0)),AN().bootstrapModule(e8).catch(t=>console.log(t))},3272:Be=>{var F,qe=(F=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ae,oe,u=typeof(k=k||{})<"u"?k:{};u.ready=new Promise(function(l,h){ae=l,oe=h});var H,Fe,Q,q=Object.assign({},u),K=[],G="./this.program",z=(l,h)=>{throw h},Se="object"==typeof window,Z="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Se||Z)&&(Z?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),F&&(B=F),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.send(null),h.responseText},Z&&(Q=l=>{var h=new XMLHttpRequest;return h.open("GET",l,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),Fe=(l,h,v)=>{var P=new XMLHttpRequest;P.open("GET",l,!0),P.responseType="arraybuffer",P.onload=()=>{200==P.status||0==P.status&&P.response?h(P.response):v()},P.onerror=v,P.send(null)});var he,Ce=u.print||console.log.bind(console),ce=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(K=u.arguments),u.thisProgram&&(G=u.thisProgram),u.quit&&(z=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Ne=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&tr("no native wasm support detected");var me,be,Ye=!1;function Ie(l,h){l||tr(h)}var Ze,Ke,_t,L,V,_e,Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ze(l,h,v){for(var P=h+v,j=h;l[j]&&!(j>=P);)++j;if(j-h>16&&l.buffer&&Ae)return Ae.decode(l.subarray(h,j));for(var De="";h<j;){var Te=l[h++];if(128&Te){var He=63&l[h++];if(192!=(224&Te)){var Dt=63&l[h++];if((Te=224==(240&Te)?(15&Te)<<12|He<<6|Dt:(7&Te)<<18|He<<12|Dt<<6|63&l[h++])<65536)De+=String.fromCharCode(Te);else{var sn=Te-65536;De+=String.fromCharCode(55296|sn>>10,56320|1023&sn)}}else De+=String.fromCharCode((31&Te)<<6|He)}else De+=String.fromCharCode(Te)}return De}function Ve(l,h){return l?ze(_t,l,h):""}function Pe(l,h,v,P){if(!(P>0))return 0;for(var j=v,De=v+P-1,Te=0;Te<l.length;++Te){var He=l.charCodeAt(Te);if(He>=55296&&He<=57343&&(He=65536+((1023&He)<<10)|1023&l.charCodeAt(++Te)),He<=127){if(v>=De)break;h[v++]=He}else if(He<=2047){if(v+1>=De)break;h[v++]=192|He>>6,h[v++]=128|63&He}else if(He<=65535){if(v+2>=De)break;h[v++]=224|He>>12,h[v++]=128|He>>6&63,h[v++]=128|63&He}else{if(v+3>=De)break;h[v++]=240|He>>18,h[v++]=128|He>>12&63,h[v++]=128|He>>6&63,h[v++]=128|63&He}}return h[v]=0,v-j}function X(l){for(var h=0,v=0;v<l.length;++v){var P=l.charCodeAt(v);P<=127?h++:P<=2047?h+=2:P>=55296&&P<=57343?(h+=4,++v):h+=3}return h}function Re(l){Ze=l,u.HEAP8=Ke=new Int8Array(l),u.HEAP16=new Int16Array(l),u.HEAP32=L=new Int32Array(l),u.HEAPU8=_t=new Uint8Array(l),u.HEAPU16=new Uint16Array(l),u.HEAPU32=V=new Uint32Array(l),u.HEAPF32=new Float32Array(l),u.HEAPF64=_e=new Float64Array(l)}var ct,In,ot=[],at=[],Lt=[],Ut=[],Gn=0,cr=null,Cr=null;function bo(l){Gn++,u.monitorRunDependencies&&u.monitorRunDependencies(Gn)}function ur(l){if(Gn--,u.monitorRunDependencies&&u.monitorRunDependencies(Gn),0==Gn&&(null!==cr&&(clearInterval(cr),cr=null),Cr)){var h=Cr;Cr=null,h()}}function tr(l){u.onAbort&&u.onAbort(l),ce(l="Aborted("+l+")"),Ye=!0,be=1,l+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(l);throw oe(h),h}function Hr(l){return l.startsWith("data:application/octet-stream;base64,")}function Yr(l){try{if(l==In&&he)return new Uint8Array(he);if(Q)return Q(l);throw"both async and sync fetching of the wasm failed"}catch(h){tr(h)}}Hr(In="cloudpilot_web.wasm")||(In=function O(l){return u.locateFile?u.locateFile(l,B):B+l}(In));var st,le,je={242196:l=>{ct.grow(65536);for(let h=0;h<=65535;h++)ct.set(ct.length-65535-1+h,ct.get(V[(l>>>2)+h]));return ct.length-65535-1}};function En(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}function Ht(l){for(;l.length>0;)l.shift()(u)}function rr(l,h){return h+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*h:NaN}var an={isAbs:l=>"/"===l.charAt(0),splitPath:l=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(l).slice(1),normalizeArray:(l,h)=>{for(var v=0,P=l.length-1;P>=0;P--){var j=l[P];"."===j?l.splice(P,1):".."===j?(l.splice(P,1),v++):v&&(l.splice(P,1),v--)}if(h)for(;v;v--)l.unshift("..");return l},normalize:l=>{var h=an.isAbs(l),v="/"===l.substr(-1);return!(l=an.normalizeArray(l.split("/").filter(P=>!!P),!h).join("/"))&&!h&&(l="."),l&&v&&(l+="/"),(h?"/":"")+l},dirname:l=>{var h=an.splitPath(l),v=h[0],P=h[1];return v||P?(P&&(P=P.substr(0,P.length-1)),v+P):"."},basename:l=>{if("/"===l)return"/";var h=(l=(l=an.normalize(l)).replace(/\/$/,"")).lastIndexOf("/");return-1===h?l:l.substr(h+1)},join:function(){var l=Array.prototype.slice.call(arguments);return an.normalize(l.join("/"))},join2:(l,h)=>an.normalize(l+"/"+h)},dr={resolve:function(){for(var l="",h=!1,v=arguments.length-1;v>=-1&&!h;v--){var P=v>=0?arguments[v]:I.cwd();if("string"!=typeof P)throw new TypeError("Arguments to path.resolve must be strings");if(!P)return"";l=P+"/"+l,h=an.isAbs(P)}return(h?"/":"")+(l=an.normalizeArray(l.split("/").filter(j=>!!j),!h).join("/"))||"."},relative:(l,h)=>{function v(sn){for(var An=0;An<sn.length&&""===sn[An];An++);for(var jn=sn.length-1;jn>=0&&""===sn[jn];jn--);return An>jn?[]:sn.slice(An,jn-An+1)}l=dr.resolve(l).substr(1),h=dr.resolve(h).substr(1);for(var P=v(l.split("/")),j=v(h.split("/")),De=Math.min(P.length,j.length),Te=De,He=0;He<De;He++)if(P[He]!==j[He]){Te=He;break}var Dt=[];for(He=Te;He<P.length;He++)Dt.push("..");return(Dt=Dt.concat(j.slice(Te))).join("/")}};function Wt(l,h,v){var P=v>0?v:X(l)+1,j=new Array(P),De=Pe(l,j,0,j.length);return h&&(j.length=De),j}var or={ttys:[],init:function(){},shutdown:function(){},register:function(l,h){or.ttys[l]={input:[],output:[],ops:h},I.registerDevice(l,or.stream_ops)},stream_ops:{open:function(l){var h=or.ttys[l.node.rdev];if(!h)throw new I.ErrnoError(43);l.tty=h,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,h,v,P,j){if(!l.tty||!l.tty.ops.get_char)throw new I.ErrnoError(60);for(var De=0,Te=0;Te<P;Te++){var He;try{He=l.tty.ops.get_char(l.tty)}catch{throw new I.ErrnoError(29)}if(void 0===He&&0===De)throw new I.ErrnoError(6);if(null==He)break;De++,h[v+Te]=He}return De&&(l.node.timestamp=Date.now()),De},write:function(l,h,v,P,j){if(!l.tty||!l.tty.ops.put_char)throw new I.ErrnoError(60);try{for(var De=0;De<P;De++)l.tty.ops.put_char(l.tty,h[v+De])}catch{throw new I.ErrnoError(29)}return P&&(l.node.timestamp=Date.now()),De}},default_tty_ops:{get_char:function(l){if(!l.input.length){var h=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(h=window.prompt("Input: "))&&(h+="\n"):"function"==typeof readline&&null!==(h=readline())&&(h+="\n"),!h)return null;l.input=Wt(h,!0)}return l.input.shift()},put_char:function(l,h){null===h||10===h?(Ce(ze(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(Ce(ze(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,h){null===h||10===h?(ce(ze(l.output,0)),l.output=[]):0!=h&&l.output.push(h)},fsync:function(l){l.output&&l.output.length>0&&(ce(ze(l.output,0)),l.output=[])}}};function S(l){tr()}var Ft={ops_table:null,mount:function(l){return Ft.createNode(null,"/",16895,0)},createNode:function(l,h,v,P){if(I.isBlkdev(v)||I.isFIFO(v))throw new I.ErrnoError(63);Ft.ops_table||(Ft.ops_table={dir:{node:{getattr:Ft.node_ops.getattr,setattr:Ft.node_ops.setattr,lookup:Ft.node_ops.lookup,mknod:Ft.node_ops.mknod,rename:Ft.node_ops.rename,unlink:Ft.node_ops.unlink,rmdir:Ft.node_ops.rmdir,readdir:Ft.node_ops.readdir,symlink:Ft.node_ops.symlink},stream:{llseek:Ft.stream_ops.llseek}},file:{node:{getattr:Ft.node_ops.getattr,setattr:Ft.node_ops.setattr},stream:{llseek:Ft.stream_ops.llseek,read:Ft.stream_ops.read,write:Ft.stream_ops.write,allocate:Ft.stream_ops.allocate,mmap:Ft.stream_ops.mmap,msync:Ft.stream_ops.msync}},link:{node:{getattr:Ft.node_ops.getattr,setattr:Ft.node_ops.setattr,readlink:Ft.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ft.node_ops.getattr,setattr:Ft.node_ops.setattr},stream:I.chrdev_stream_ops}});var j=I.createNode(l,h,v,P);return I.isDir(j.mode)?(j.node_ops=Ft.ops_table.dir.node,j.stream_ops=Ft.ops_table.dir.stream,j.contents={}):I.isFile(j.mode)?(j.node_ops=Ft.ops_table.file.node,j.stream_ops=Ft.ops_table.file.stream,j.usedBytes=0,j.contents=null):I.isLink(j.mode)?(j.node_ops=Ft.ops_table.link.node,j.stream_ops=Ft.ops_table.link.stream):I.isChrdev(j.mode)&&(j.node_ops=Ft.ops_table.chrdev.node,j.stream_ops=Ft.ops_table.chrdev.stream),j.timestamp=Date.now(),l&&(l.contents[h]=j,l.timestamp=j.timestamp),j},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,h){var v=l.contents?l.contents.length:0;if(!(v>=h)){h=Math.max(h,v*(v<1048576?2:1.125)>>>0),0!=v&&(h=Math.max(h,256));var j=l.contents;l.contents=new Uint8Array(h),l.usedBytes>0&&l.contents.set(j.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,h){if(l.usedBytes!=h)if(0==h)l.contents=null,l.usedBytes=0;else{var v=l.contents;l.contents=new Uint8Array(h),v&&l.contents.set(v.subarray(0,Math.min(h,l.usedBytes))),l.usedBytes=h}},node_ops:{getattr:function(l){var h={};return h.dev=I.isChrdev(l.mode)?l.id:1,h.ino=l.id,h.mode=l.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=l.rdev,h.size=I.isDir(l.mode)?4096:I.isFile(l.mode)?l.usedBytes:I.isLink(l.mode)?l.link.length:0,h.atime=new Date(l.timestamp),h.mtime=new Date(l.timestamp),h.ctime=new Date(l.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr:function(l,h){void 0!==h.mode&&(l.mode=h.mode),void 0!==h.timestamp&&(l.timestamp=h.timestamp),void 0!==h.size&&Ft.resizeFileStorage(l,h.size)},lookup:function(l,h){throw I.genericErrors[44]},mknod:function(l,h,v,P){return Ft.createNode(l,h,v,P)},rename:function(l,h,v){if(I.isDir(l.mode)){var P;try{P=I.lookupNode(h,v)}catch{}if(P)for(var j in P.contents)throw new I.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=v,h.contents[v]=l,h.timestamp=l.parent.timestamp,l.parent=h},unlink:function(l,h){delete l.contents[h],l.timestamp=Date.now()},rmdir:function(l,h){var v=I.lookupNode(l,h);for(var P in v.contents)throw new I.ErrnoError(55);delete l.contents[h],l.timestamp=Date.now()},readdir:function(l){var h=[".",".."];for(var v in l.contents)!l.contents.hasOwnProperty(v)||h.push(v);return h},symlink:function(l,h,v){var P=Ft.createNode(l,h,41471,0);return P.link=v,P},readlink:function(l){if(!I.isLink(l.mode))throw new I.ErrnoError(28);return l.link}},stream_ops:{read:function(l,h,v,P,j){var De=l.node.contents;if(j>=l.node.usedBytes)return 0;var Te=Math.min(l.node.usedBytes-j,P);if(Te>8&&De.subarray)h.set(De.subarray(j,j+Te),v);else for(var He=0;He<Te;He++)h[v+He]=De[j+He];return Te},write:function(l,h,v,P,j,De){if(h.buffer===Ke.buffer&&(De=!1),!P)return 0;var Te=l.node;if(Te.timestamp=Date.now(),h.subarray&&(!Te.contents||Te.contents.subarray)){if(De)return Te.contents=h.subarray(v,v+P),Te.usedBytes=P,P;if(0===Te.usedBytes&&0===j)return Te.contents=h.slice(v,v+P),Te.usedBytes=P,P;if(j+P<=Te.usedBytes)return Te.contents.set(h.subarray(v,v+P),j),P}if(Ft.expandFileStorage(Te,j+P),Te.contents.subarray&&h.subarray)Te.contents.set(h.subarray(v,v+P),j);else for(var He=0;He<P;He++)Te.contents[j+He]=h[v+He];return Te.usedBytes=Math.max(Te.usedBytes,j+P),P},llseek:function(l,h,v){var P=h;if(1===v?P+=l.position:2===v&&I.isFile(l.node.mode)&&(P+=l.node.usedBytes),P<0)throw new I.ErrnoError(28);return P},allocate:function(l,h,v){Ft.expandFileStorage(l.node,h+v),l.node.usedBytes=Math.max(l.node.usedBytes,h+v)},mmap:function(l,h,v,P,j){if(!I.isFile(l.node.mode))throw new I.ErrnoError(43);var De,Te,He=l.node.contents;if(2&j||He.buffer!==Ze){if((v>0||v+h<He.length)&&(He=He.subarray?He.subarray(v,v+h):Array.prototype.slice.call(He,v,v+h)),Te=!0,!(De=S()))throw new I.ErrnoError(48);Ke.set(He,De)}else Te=!1,De=He.byteOffset;return{ptr:De,allocated:Te}},msync:function(l,h,v,P,j){return Ft.stream_ops.write(l,h,0,P,v,!1),0}}},I={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,h={})=>{if(!(l=dr.resolve(l)))return{path:"",node:null};if((h=Object.assign({follow_mount:!0,recurse_count:0},h)).recurse_count>8)throw new I.ErrnoError(32);for(var P=l.split("/").filter(jn=>!!jn),j=I.root,De="/",Te=0;Te<P.length;Te++){var He=Te===P.length-1;if(He&&h.parent)break;if(j=I.lookupNode(j,P[Te]),De=an.join2(De,P[Te]),I.isMountpoint(j)&&(!He||He&&h.follow_mount)&&(j=j.mounted.root),!He||h.follow)for(var Dt=0;I.isLink(j.mode);){var sn=I.readlink(De);if(De=dr.resolve(an.dirname(De),sn),j=I.lookupPath(De,{recurse_count:h.recurse_count+1}).node,Dt++>40)throw new I.ErrnoError(32)}}return{path:De,node:j}},getPath:l=>{for(var h;;){if(I.isRoot(l)){var v=l.mount.mountpoint;return h?"/"!==v[v.length-1]?v+"/"+h:v+h:v}h=h?l.name+"/"+h:l.name,l=l.parent}},hashName:(l,h)=>{for(var v=0,P=0;P<h.length;P++)v=(v<<5)-v+h.charCodeAt(P)|0;return(l+v>>>0)%I.nameTable.length},hashAddNode:l=>{var h=I.hashName(l.parent.id,l.name);l.name_next=I.nameTable[h],I.nameTable[h]=l},hashRemoveNode:l=>{var h=I.hashName(l.parent.id,l.name);if(I.nameTable[h]===l)I.nameTable[h]=l.name_next;else for(var v=I.nameTable[h];v;){if(v.name_next===l){v.name_next=l.name_next;break}v=v.name_next}},lookupNode:(l,h)=>{var v=I.mayLookup(l);if(v)throw new I.ErrnoError(v,l);for(var P=I.hashName(l.id,h),j=I.nameTable[P];j;j=j.name_next)if(j.parent.id===l.id&&j.name===h)return j;return I.lookup(l,h)},createNode:(l,h,v,P)=>{var j=new I.FSNode(l,h,v,P);return I.hashAddNode(j),j},destroyNode:l=>{I.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>32768==(61440&l),isDir:l=>16384==(61440&l),isLink:l=>40960==(61440&l),isChrdev:l=>8192==(61440&l),isBlkdev:l=>24576==(61440&l),isFIFO:l=>4096==(61440&l),isSocket:l=>49152==(49152&l),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var h=I.flagModes[l];if(typeof h>"u")throw new Error("Unknown file open mode: "+l);return h},flagsToPermissionString:l=>{var h=["r","w","rw"][3&l];return 512&l&&(h+="w"),h},nodePermissions:(l,h)=>I.ignorePermissions?0:h.includes("r")&&!(292&l.mode)||h.includes("w")&&!(146&l.mode)||h.includes("x")&&!(73&l.mode)?2:0,mayLookup:l=>I.nodePermissions(l,"x")||(l.node_ops.lookup?0:2),mayCreate:(l,h)=>{try{return I.lookupNode(l,h),20}catch{}return I.nodePermissions(l,"wx")},mayDelete:(l,h,v)=>{var P;try{P=I.lookupNode(l,h)}catch(De){return De.errno}var j=I.nodePermissions(l,"wx");if(j)return j;if(v){if(!I.isDir(P.mode))return 54;if(I.isRoot(P)||I.getPath(P)===I.cwd())return 10}else if(I.isDir(P.mode))return 31;return 0},mayOpen:(l,h)=>l?I.isLink(l.mode)?32:I.isDir(l.mode)&&("r"!==I.flagsToPermissionString(h)||512&h)?31:I.nodePermissions(l,I.flagsToPermissionString(h)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,h=I.MAX_OPEN_FDS)=>{for(var v=l;v<=h;v++)if(!I.streams[v])return v;throw new I.ErrnoError(33)},getStream:l=>I.streams[l],createStream:(l,h,v)=>{I.FSStream||(I.FSStream=function(){this.shared={}},I.FSStream.prototype={},Object.defineProperties(I.FSStream.prototype,{object:{get:function(){return this.node},set:function(j){this.node=j}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(j){this.shared.flags=j}},position:{get:function(){return this.shared.position},set:function(j){this.shared.position=j}}})),l=Object.assign(new I.FSStream,l);var P=I.nextfd(h,v);return l.fd=P,I.streams[P]=l,l},closeStream:l=>{I.streams[l]=null},chrdev_stream_ops:{open:l=>{var h=I.getDevice(l.node.rdev);l.stream_ops=h.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new I.ErrnoError(70)}},major:l=>l>>8,minor:l=>255&l,makedev:(l,h)=>l<<8|h,registerDevice:(l,h)=>{I.devices[l]={stream_ops:h}},getDevice:l=>I.devices[l],getMounts:l=>{for(var h=[],v=[l];v.length;){var P=v.pop();h.push(P),v.push.apply(v,P.mounts)}return h},syncfs:(l,h)=>{"function"==typeof l&&(h=l,l=!1),I.syncFSRequests++,I.syncFSRequests>1&&ce("warning: "+I.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var v=I.getMounts(I.root.mount),P=0;function j(Te){return I.syncFSRequests--,h(Te)}function De(Te){if(Te)return De.errored?void 0:(De.errored=!0,j(Te));++P>=v.length&&j(null)}v.forEach(Te=>{if(!Te.type.syncfs)return De(null);Te.type.syncfs(Te,l,De)})},mount:(l,h,v)=>{var De,P="/"===v,j=!v;if(P&&I.root)throw new I.ErrnoError(10);if(!P&&!j){var Te=I.lookupPath(v,{follow_mount:!1});if(v=Te.path,I.isMountpoint(De=Te.node))throw new I.ErrnoError(10);if(!I.isDir(De.mode))throw new I.ErrnoError(54)}var He={type:l,opts:h,mountpoint:v,mounts:[]},Dt=l.mount(He);return Dt.mount=He,He.root=Dt,P?I.root=Dt:De&&(De.mounted=He,De.mount&&De.mount.mounts.push(He)),Dt},unmount:l=>{var h=I.lookupPath(l,{follow_mount:!1});if(!I.isMountpoint(h.node))throw new I.ErrnoError(28);var v=h.node,P=v.mounted,j=I.getMounts(P);Object.keys(I.nameTable).forEach(Te=>{for(var He=I.nameTable[Te];He;){var Dt=He.name_next;j.includes(He.mount)&&I.destroyNode(He),He=Dt}}),v.mounted=null;var De=v.mount.mounts.indexOf(P);v.mount.mounts.splice(De,1)},lookup:(l,h)=>l.node_ops.lookup(l,h),mknod:(l,h,v)=>{var j=I.lookupPath(l,{parent:!0}).node,De=an.basename(l);if(!De||"."===De||".."===De)throw new I.ErrnoError(28);var Te=I.mayCreate(j,De);if(Te)throw new I.ErrnoError(Te);if(!j.node_ops.mknod)throw new I.ErrnoError(63);return j.node_ops.mknod(j,De,h,v)},create:(l,h)=>(h=void 0!==h?h:438,h&=4095,I.mknod(l,h|=32768,0)),mkdir:(l,h)=>(h=void 0!==h?h:511,h&=1023,I.mknod(l,h|=16384,0)),mkdirTree:(l,h)=>{for(var v=l.split("/"),P="",j=0;j<v.length;++j)if(v[j]){P+="/"+v[j];try{I.mkdir(P,h)}catch(De){if(20!=De.errno)throw De}}},mkdev:(l,h,v)=>(typeof v>"u"&&(v=h,h=438),I.mknod(l,h|=8192,v)),symlink:(l,h)=>{if(!dr.resolve(l))throw new I.ErrnoError(44);var P=I.lookupPath(h,{parent:!0}).node;if(!P)throw new I.ErrnoError(44);var j=an.basename(h),De=I.mayCreate(P,j);if(De)throw new I.ErrnoError(De);if(!P.node_ops.symlink)throw new I.ErrnoError(63);return P.node_ops.symlink(P,j,l)},rename:(l,h)=>{var He,Dt,v=an.dirname(l),P=an.dirname(h),j=an.basename(l),De=an.basename(h);if(He=I.lookupPath(l,{parent:!0}).node,Dt=I.lookupPath(h,{parent:!0}).node,!He||!Dt)throw new I.ErrnoError(44);if(He.mount!==Dt.mount)throw new I.ErrnoError(75);var jn,sn=I.lookupNode(He,j),An=dr.relative(l,P);if("."!==An.charAt(0))throw new I.ErrnoError(28);if("."!==(An=dr.relative(h,v)).charAt(0))throw new I.ErrnoError(55);try{jn=I.lookupNode(Dt,De)}catch{}if(sn!==jn){var Bt=I.isDir(sn.mode),Gt=I.mayDelete(He,j,Bt);if(Gt)throw new I.ErrnoError(Gt);if(Gt=jn?I.mayDelete(Dt,De,Bt):I.mayCreate(Dt,De))throw new I.ErrnoError(Gt);if(!He.node_ops.rename)throw new I.ErrnoError(63);if(I.isMountpoint(sn)||jn&&I.isMountpoint(jn))throw new I.ErrnoError(10);if(Dt!==He&&(Gt=I.nodePermissions(He,"w")))throw new I.ErrnoError(Gt);I.hashRemoveNode(sn);try{He.node_ops.rename(sn,Dt,De)}catch(rn){throw rn}finally{I.hashAddNode(sn)}}},rmdir:l=>{var v=I.lookupPath(l,{parent:!0}).node,P=an.basename(l),j=I.lookupNode(v,P),De=I.mayDelete(v,P,!0);if(De)throw new I.ErrnoError(De);if(!v.node_ops.rmdir)throw new I.ErrnoError(63);if(I.isMountpoint(j))throw new I.ErrnoError(10);v.node_ops.rmdir(v,P),I.destroyNode(j)},readdir:l=>{var v=I.lookupPath(l,{follow:!0}).node;if(!v.node_ops.readdir)throw new I.ErrnoError(54);return v.node_ops.readdir(v)},unlink:l=>{var v=I.lookupPath(l,{parent:!0}).node;if(!v)throw new I.ErrnoError(44);var P=an.basename(l),j=I.lookupNode(v,P),De=I.mayDelete(v,P,!1);if(De)throw new I.ErrnoError(De);if(!v.node_ops.unlink)throw new I.ErrnoError(63);if(I.isMountpoint(j))throw new I.ErrnoError(10);v.node_ops.unlink(v,P),I.destroyNode(j)},readlink:l=>{var v=I.lookupPath(l).node;if(!v)throw new I.ErrnoError(44);if(!v.node_ops.readlink)throw new I.ErrnoError(28);return dr.resolve(I.getPath(v.parent),v.node_ops.readlink(v))},stat:(l,h)=>{var P=I.lookupPath(l,{follow:!h}).node;if(!P)throw new I.ErrnoError(44);if(!P.node_ops.getattr)throw new I.ErrnoError(63);return P.node_ops.getattr(P)},lstat:l=>I.stat(l,!0),chmod:(l,h,v)=>{var P;if(!(P="string"==typeof l?I.lookupPath(l,{follow:!v}).node:l).node_ops.setattr)throw new I.ErrnoError(63);P.node_ops.setattr(P,{mode:4095&h|-4096&P.mode,timestamp:Date.now()})},lchmod:(l,h)=>{I.chmod(l,h,!0)},fchmod:(l,h)=>{var v=I.getStream(l);if(!v)throw new I.ErrnoError(8);I.chmod(v.node,h)},chown:(l,h,v,P)=>{var j;if(!(j="string"==typeof l?I.lookupPath(l,{follow:!P}).node:l).node_ops.setattr)throw new I.ErrnoError(63);j.node_ops.setattr(j,{timestamp:Date.now()})},lchown:(l,h,v)=>{I.chown(l,h,v,!0)},fchown:(l,h,v)=>{var P=I.getStream(l);if(!P)throw new I.ErrnoError(8);I.chown(P.node,h,v)},truncate:(l,h)=>{if(h<0)throw new I.ErrnoError(28);var v;if(!(v="string"==typeof l?I.lookupPath(l,{follow:!0}).node:l).node_ops.setattr)throw new I.ErrnoError(63);if(I.isDir(v.mode))throw new I.ErrnoError(31);if(!I.isFile(v.mode))throw new I.ErrnoError(28);var j=I.nodePermissions(v,"w");if(j)throw new I.ErrnoError(j);v.node_ops.setattr(v,{size:h,timestamp:Date.now()})},ftruncate:(l,h)=>{var v=I.getStream(l);if(!v)throw new I.ErrnoError(8);if(0==(2097155&v.flags))throw new I.ErrnoError(28);I.truncate(v.node,h)},utime:(l,h,v)=>{var j=I.lookupPath(l,{follow:!0}).node;j.node_ops.setattr(j,{timestamp:Math.max(h,v)})},open:(l,h,v)=>{if(""===l)throw new I.ErrnoError(44);var P;if(v=typeof v>"u"?438:v,v=64&(h="string"==typeof h?I.modeStringToFlags(h):h)?4095&v|32768:0,"object"==typeof l)P=l;else{l=an.normalize(l);try{P=I.lookupPath(l,{follow:!(131072&h)}).node}catch{}}var De=!1;if(64&h)if(P){if(128&h)throw new I.ErrnoError(20)}else P=I.mknod(l,v,0),De=!0;if(!P)throw new I.ErrnoError(44);if(I.isChrdev(P.mode)&&(h&=-513),65536&h&&!I.isDir(P.mode))throw new I.ErrnoError(54);if(!De){var Te=I.mayOpen(P,h);if(Te)throw new I.ErrnoError(Te)}512&h&&!De&&I.truncate(P,0),h&=-131713;var He=I.createStream({node:P,path:I.getPath(P),flags:h,seekable:!0,position:0,stream_ops:P.stream_ops,ungotten:[],error:!1});return He.stream_ops.open&&He.stream_ops.open(He),u.logReadFiles&&!(1&h)&&(I.readFiles||(I.readFiles={}),l in I.readFiles||(I.readFiles[l]=1)),He},close:l=>{if(I.isClosed(l))throw new I.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(h){throw h}finally{I.closeStream(l.fd)}l.fd=null},isClosed:l=>null===l.fd,llseek:(l,h,v)=>{if(I.isClosed(l))throw new I.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new I.ErrnoError(70);if(0!=v&&1!=v&&2!=v)throw new I.ErrnoError(28);return l.position=l.stream_ops.llseek(l,h,v),l.ungotten=[],l.position},read:(l,h,v,P,j)=>{if(P<0||j<0)throw new I.ErrnoError(28);if(I.isClosed(l))throw new I.ErrnoError(8);if(1==(2097155&l.flags))throw new I.ErrnoError(8);if(I.isDir(l.node.mode))throw new I.ErrnoError(31);if(!l.stream_ops.read)throw new I.ErrnoError(28);var De=typeof j<"u";if(De){if(!l.seekable)throw new I.ErrnoError(70)}else j=l.position;var Te=l.stream_ops.read(l,h,v,P,j);return De||(l.position+=Te),Te},write:(l,h,v,P,j,De)=>{if(P<0||j<0)throw new I.ErrnoError(28);if(I.isClosed(l))throw new I.ErrnoError(8);if(0==(2097155&l.flags))throw new I.ErrnoError(8);if(I.isDir(l.node.mode))throw new I.ErrnoError(31);if(!l.stream_ops.write)throw new I.ErrnoError(28);l.seekable&&1024&l.flags&&I.llseek(l,0,2);var Te=typeof j<"u";if(Te){if(!l.seekable)throw new I.ErrnoError(70)}else j=l.position;var He=l.stream_ops.write(l,h,v,P,j,De);return Te||(l.position+=He),He},allocate:(l,h,v)=>{if(I.isClosed(l))throw new I.ErrnoError(8);if(h<0||v<=0)throw new I.ErrnoError(28);if(0==(2097155&l.flags))throw new I.ErrnoError(8);if(!I.isFile(l.node.mode)&&!I.isDir(l.node.mode))throw new I.ErrnoError(43);if(!l.stream_ops.allocate)throw new I.ErrnoError(138);l.stream_ops.allocate(l,h,v)},mmap:(l,h,v,P,j)=>{if(0!=(2&P)&&0==(2&j)&&2!=(2097155&l.flags))throw new I.ErrnoError(2);if(1==(2097155&l.flags))throw new I.ErrnoError(2);if(!l.stream_ops.mmap)throw new I.ErrnoError(43);return l.stream_ops.mmap(l,h,v,P,j)},msync:(l,h,v,P,j)=>l.stream_ops.msync?l.stream_ops.msync(l,h,v,P,j):0,munmap:l=>0,ioctl:(l,h,v)=>{if(!l.stream_ops.ioctl)throw new I.ErrnoError(59);return l.stream_ops.ioctl(l,h,v)},readFile:(l,h={})=>{if(h.flags=h.flags||0,h.encoding=h.encoding||"binary","utf8"!==h.encoding&&"binary"!==h.encoding)throw new Error('Invalid encoding type "'+h.encoding+'"');var v,P=I.open(l,h.flags),De=I.stat(l).size,Te=new Uint8Array(De);return I.read(P,Te,0,De,0),"utf8"===h.encoding?v=ze(Te,0):"binary"===h.encoding&&(v=Te),I.close(P),v},writeFile:(l,h,v={})=>{v.flags=v.flags||577;var P=I.open(l,v.flags,v.mode);if("string"==typeof h){var j=new Uint8Array(X(h)+1),De=Pe(h,j,0,j.length);I.write(P,j,0,De,void 0,v.canOwn)}else{if(!ArrayBuffer.isView(h))throw new Error("Unsupported data type");I.write(P,h,0,h.byteLength,void 0,v.canOwn)}I.close(P)},cwd:()=>I.currentPath,chdir:l=>{var h=I.lookupPath(l,{follow:!0});if(null===h.node)throw new I.ErrnoError(44);if(!I.isDir(h.node.mode))throw new I.ErrnoError(54);var v=I.nodePermissions(h.node,"x");if(v)throw new I.ErrnoError(v);I.currentPath=h.path},createDefaultDirectories:()=>{I.mkdir("/tmp"),I.mkdir("/home"),I.mkdir("/home/web_user")},createDefaultDevices:()=>{I.mkdir("/dev"),I.registerDevice(I.makedev(1,3),{read:()=>0,write:(h,v,P,j,De)=>j}),I.mkdev("/dev/null",I.makedev(1,3)),or.register(I.makedev(5,0),or.default_tty_ops),or.register(I.makedev(6,0),or.default_tty1_ops),I.mkdev("/dev/tty",I.makedev(5,0)),I.mkdev("/dev/tty1",I.makedev(6,0));var l=function Jn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}return()=>tr("randomDevice")}();I.createDevice("/dev","random",l),I.createDevice("/dev","urandom",l),I.mkdir("/dev/shm"),I.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{I.mkdir("/proc");var l=I.mkdir("/proc/self");I.mkdir("/proc/self/fd"),I.mount({mount:()=>{var h=I.createNode(l,"fd",16895,73);return h.node_ops={lookup:(v,P)=>{var De=I.getStream(+P);if(!De)throw new I.ErrnoError(8);var Te={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>De.path}};return Te.parent=Te,Te}},h}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?I.createDevice("/dev","stdin",u.stdin):I.symlink("/dev/tty","/dev/stdin"),u.stdout?I.createDevice("/dev","stdout",null,u.stdout):I.symlink("/dev/tty","/dev/stdout"),u.stderr?I.createDevice("/dev","stderr",null,u.stderr):I.symlink("/dev/tty1","/dev/stderr"),I.open("/dev/stdin",0),I.open("/dev/stdout",1),I.open("/dev/stderr",1)},ensureErrnoError:()=>{I.ErrnoError||(I.ErrnoError=function(h,v){this.node=v,this.setErrno=function(P){this.errno=P},this.setErrno(h),this.message="FS error"},I.ErrnoError.prototype=new Error,I.ErrnoError.prototype.constructor=I.ErrnoError,[44].forEach(l=>{I.genericErrors[l]=new I.ErrnoError(l),I.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{I.ensureErrnoError(),I.nameTable=new Array(4096),I.mount(Ft,{},"/"),I.createDefaultDirectories(),I.createDefaultDevices(),I.createSpecialDirectories(),I.filesystems={MEMFS:Ft}},init:(l,h,v)=>{I.init.initialized=!0,I.ensureErrnoError(),u.stdin=l||u.stdin,u.stdout=h||u.stdout,u.stderr=v||u.stderr,I.createStandardStreams()},quit:()=>{I.init.initialized=!1;for(var l=0;l<I.streams.length;l++){var h=I.streams[l];!h||I.close(h)}},getMode:(l,h)=>{var v=0;return l&&(v|=365),h&&(v|=146),v},findObject:(l,h)=>{var v=I.analyzePath(l,h);return v.exists?v.object:null},analyzePath:(l,h)=>{try{l=(v=I.lookupPath(l,{follow:!h})).path}catch{}var P={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var v=I.lookupPath(l,{parent:!0});P.parentExists=!0,P.parentPath=v.path,P.parentObject=v.node,P.name=an.basename(l),v=I.lookupPath(l,{follow:!h}),P.exists=!0,P.path=v.path,P.object=v.node,P.name=v.node.name,P.isRoot="/"===v.path}catch(j){P.error=j.errno}return P},createPath:(l,h,v,P)=>{l="string"==typeof l?l:I.getPath(l);for(var j=h.split("/").reverse();j.length;){var De=j.pop();if(De){var Te=an.join2(l,De);try{I.mkdir(Te)}catch{}l=Te}}return Te},createFile:(l,h,v,P,j)=>{var De=an.join2("string"==typeof l?l:I.getPath(l),h),Te=I.getMode(P,j);return I.create(De,Te)},createDataFile:(l,h,v,P,j,De)=>{var Te=h;l&&(l="string"==typeof l?l:I.getPath(l),Te=h?an.join2(l,h):l);var He=I.getMode(P,j),Dt=I.create(Te,He);if(v){if("string"==typeof v){for(var sn=new Array(v.length),An=0,jn=v.length;An<jn;++An)sn[An]=v.charCodeAt(An);v=sn}I.chmod(Dt,146|He);var Bt=I.open(Dt,577);I.write(Bt,v,0,v.length,0,De),I.close(Bt),I.chmod(Dt,He)}return Dt},createDevice:(l,h,v,P)=>{var j=an.join2("string"==typeof l?l:I.getPath(l),h),De=I.getMode(!!v,!!P);I.createDevice.major||(I.createDevice.major=64);var Te=I.makedev(I.createDevice.major++,0);return I.registerDevice(Te,{open:He=>{He.seekable=!1},close:He=>{P&&P.buffer&&P.buffer.length&&P(10)},read:(He,Dt,sn,An,jn)=>{for(var Bt=0,Gt=0;Gt<An;Gt++){var rn;try{rn=v()}catch{throw new I.ErrnoError(29)}if(void 0===rn&&0===Bt)throw new I.ErrnoError(6);if(null==rn)break;Bt++,Dt[sn+Gt]=rn}return Bt&&(He.node.timestamp=Date.now()),Bt},write:(He,Dt,sn,An,jn)=>{for(var Bt=0;Bt<An;Bt++)try{P(Dt[sn+Bt])}catch{throw new I.ErrnoError(29)}return An&&(He.node.timestamp=Date.now()),Bt}}),I.mkdev(j,De,Te)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{l.contents=Wt(H(l.url),!0),l.usedBytes=l.contents.length}catch{throw new I.ErrnoError(29)}},createLazyFile:(l,h,v,P,j)=>{function De(){this.lengthKnown=!1,this.chunks=[]}if(De.prototype.get=function(Gt){if(!(Gt>this.length-1||Gt<0)){var rn=Gt%this.chunkSize;return this.getter(Gt/this.chunkSize|0)[rn]}},De.prototype.setDataGetter=function(Gt){this.getter=Gt},De.prototype.cacheLength=function(){var Gt=new XMLHttpRequest;if(Gt.open("HEAD",v,!1),Gt.send(null),!(Gt.status>=200&&Gt.status<300||304===Gt.status))throw new Error("Couldn't load "+v+". Status: "+Gt.status);var Jr,rn=Number(Gt.getResponseHeader("Content-length")),Ti=(Jr=Gt.getResponseHeader("Accept-Ranges"))&&"bytes"===Jr,jo=(Jr=Gt.getResponseHeader("Content-Encoding"))&&"gzip"===Jr,Ct=1048576;Ti||(Ct=rn);var go=this;go.setDataGetter(fr=>{var si=fr*Ct,Vr=(fr+1)*Ct-1;if(Vr=Math.min(Vr,rn-1),typeof go.chunks[fr]>"u"&&(go.chunks[fr]=((fr,si)=>{if(fr>si)throw new Error("invalid range ("+fr+", "+si+") or no bytes requested!");if(si>rn-1)throw new Error("only "+rn+" bytes available! programmer error!");var Vr=new XMLHttpRequest;if(Vr.open("GET",v,!1),rn!==Ct&&Vr.setRequestHeader("Range","bytes="+fr+"-"+si),Vr.responseType="arraybuffer",Vr.overrideMimeType&&Vr.overrideMimeType("text/plain; charset=x-user-defined"),Vr.send(null),!(Vr.status>=200&&Vr.status<300||304===Vr.status))throw new Error("Couldn't load "+v+". Status: "+Vr.status);return void 0!==Vr.response?new Uint8Array(Vr.response||[]):Wt(Vr.responseText||"",!0)})(si,Vr)),typeof go.chunks[fr]>"u")throw new Error("doXHR failed!");return go.chunks[fr]}),(jo||!rn)&&(Ct=rn=1,rn=this.getter(0).length,Ct=rn,Ce("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=rn,this._chunkSize=Ct,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var Te=new De;Object.defineProperties(Te,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var He={isDevice:!1,contents:Te}}else He={isDevice:!1,url:v};var Dt=I.createFile(l,h,He,P,j);He.contents?Dt.contents=He.contents:He.url&&(Dt.contents=null,Dt.url=He.url),Object.defineProperties(Dt,{usedBytes:{get:function(){return this.contents.length}}});var sn={};function jn(Bt,Gt,rn,Jr,Ti){var jo=Bt.node.contents;if(Ti>=jo.length)return 0;var Ct=Math.min(jo.length-Ti,Jr);if(jo.slice)for(var cn=0;cn<Ct;cn++)Gt[rn+cn]=jo[Ti+cn];else for(cn=0;cn<Ct;cn++)Gt[rn+cn]=jo.get(Ti+cn);return Ct}return Object.keys(Dt.stream_ops).forEach(Bt=>{var Gt=Dt.stream_ops[Bt];sn[Bt]=function(){return I.forceLoadFile(Dt),Gt.apply(null,arguments)}}),sn.read=(Bt,Gt,rn,Jr,Ti)=>(I.forceLoadFile(Dt),jn(Bt,Gt,rn,Jr,Ti)),sn.mmap=(Bt,Gt,rn,Jr,Ti)=>{I.forceLoadFile(Dt);var jo=S();if(!jo)throw new I.ErrnoError(48);return jn(Bt,Ke,jo,Gt,rn),{ptr:jo,allocated:!0}},Dt.stream_ops=sn,Dt},createPreloadedFile:(l,h,v,P,j,De,Te,He,Dt,sn)=>{var An=h?dr.resolve(an.join2(l,h)):l;function Bt(Gt){function rn(Jr){sn&&sn(),He||I.createDataFile(l,h,Jr,P,j,Dt),De&&De(),ur()}Browser.handledByPreloadPlugin(Gt,An,rn,()=>{Te&&Te(),ur()})||rn(Gt)}bo(),"string"==typeof v?function _r(l,h,v,P){var j=P?"":"al "+l;Fe(l,De=>{Ie(De,'Loading data file "'+l+'" failed (no arrayBuffer).'),h(new Uint8Array(De)),j&&ur()},De=>{if(!v)throw'Loading data file "'+l+'" failed.';v()}),j&&bo()}(v,Gt=>Bt(Gt),Te):Bt(v)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var P=I.indexedDB();try{var j=P.open(I.DB_NAME(),I.DB_VERSION)}catch(De){return v(De)}j.onupgradeneeded=()=>{Ce("creating db"),j.result.createObjectStore(I.DB_STORE_NAME)},j.onsuccess=()=>{var Te=j.result.transaction([I.DB_STORE_NAME],"readwrite"),He=Te.objectStore(I.DB_STORE_NAME),Dt=0,sn=0,An=l.length;function jn(){0==sn?h():v()}l.forEach(Bt=>{var Gt=He.put(I.analyzePath(Bt).object.contents,Bt);Gt.onsuccess=()=>{++Dt+sn==An&&jn()},Gt.onerror=()=>{sn++,Dt+sn==An&&jn()}}),Te.onerror=v},j.onerror=v},loadFilesFromDB:(l,h,v)=>{h=h||(()=>{}),v=v||(()=>{});var P=I.indexedDB();try{var j=P.open(I.DB_NAME(),I.DB_VERSION)}catch(De){return v(De)}j.onupgradeneeded=v,j.onsuccess=()=>{var De=j.result;try{var Te=De.transaction([I.DB_STORE_NAME],"readonly")}catch(Bt){return void v(Bt)}var He=Te.objectStore(I.DB_STORE_NAME),Dt=0,sn=0,An=l.length;function jn(){0==sn?h():v()}l.forEach(Bt=>{var Gt=He.get(Bt);Gt.onsuccess=()=>{I.analyzePath(Bt).exists&&I.unlink(Bt),I.createDataFile(an.dirname(Bt),an.basename(Bt),Gt.result,!0,!0,!0),++Dt+sn==An&&jn()},Gt.onerror=()=>{sn++,Dt+sn==An&&jn()}}),Te.onerror=v},j.onerror=v}},Fr={DEFAULT_POLLMASK:5,calculateAt:function(l,h,v){if(an.isAbs(h))return h;var P;if(P=-100===l?I.cwd():Fr.getStreamFromFD(l).path,0==h.length){if(!v)throw new I.ErrnoError(44);return P}return an.join2(P,h)},doStat:function(l,h,v){try{var P=l(h)}catch(j){if(j&&j.node&&an.normalize(h)!==an.normalize(I.getPath(j.node)))return-54;throw j}return L[v>>2]=P.dev,L[v+8>>2]=P.ino,L[v+12>>2]=P.mode,V[v+16>>2]=P.nlink,L[v+20>>2]=P.uid,L[v+24>>2]=P.gid,L[v+28>>2]=P.rdev,le=[P.size>>>0,(st=P.size,+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[v+40>>2]=le[0],L[v+44>>2]=le[1],L[v+48>>2]=4096,L[v+52>>2]=P.blocks,le=[Math.floor(P.atime.getTime()/1e3)>>>0,(st=Math.floor(P.atime.getTime()/1e3),+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[v+56>>2]=le[0],L[v+60>>2]=le[1],V[v+64>>2]=0,le=[Math.floor(P.mtime.getTime()/1e3)>>>0,(st=Math.floor(P.mtime.getTime()/1e3),+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[v+72>>2]=le[0],L[v+76>>2]=le[1],V[v+80>>2]=0,le=[Math.floor(P.ctime.getTime()/1e3)>>>0,(st=Math.floor(P.ctime.getTime()/1e3),+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[v+88>>2]=le[0],L[v+92>>2]=le[1],V[v+96>>2]=0,le=[P.ino>>>0,(st=P.ino,+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[v+104>>2]=le[0],L[v+108>>2]=le[1],0},doMsync:function(l,h,v,P,j){if(!I.isFile(h.node.mode))throw new I.ErrnoError(43);if(2&P)return 0;var De=_t.slice(l,l+v);I.msync(h,De,j,v,P)},varargs:void 0,get:function(){return Fr.varargs+=4,L[Fr.varargs-4>>2]},getStr:function(l){return Ve(l)},getStreamFromFD:function(l){var h=I.getStream(l);if(!h)throw new I.ErrnoError(8);return h}};function xo(l){return l%4==0&&(l%100!=0||l%400==0)}var Kt=[0,31,60,91,121,152,182,213,244,274,305,335],oo=[0,31,59,90,120,151,181,212,243,273,304,334];function ir(l){return(xo(l.getFullYear())?Kt:oo)[l.getMonth()]+l.getDate()-1}function Ko(l){var h=X(l)+1,v=wt(h);return v&&Pe(l,Ke,v,h),v}var D=[];function Ur(l){try{return me.grow(l-Ze.byteLength+65535>>>16),Re(me.buffer),1}catch{}}var Xo={};function qn(){if(!qn.strings){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var v in Xo)void 0===Xo[v]?delete h[v]:h[v]=Xo[v];var P=[];for(var v in h)P.push(v+"="+h[v]);qn.strings=P}return qn.strings}var pe=[31,29,31,30,31,30,31,31,30,31,30,31],ke=[31,28,31,30,31,30,31,31,30,31,30,31];function Xt(l,h){l<128?h.push(l):h.push(l%128|128,l>>7)}var Or=[];function vr(l){var h=Or[l];return h||(l>=Or.length&&(Or.length=l+1),Or[l]=h=ct.get(l)),h}var ti=void 0,Di=[];function ks(l,h){ct.set(l,h),Or[l]=ct.get(l)}var Ts=function(l,h,v,P){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=I.nextInode++,this.name=h,this.mode=v,this.node_ops={},this.stream_ops={},this.rdev=P};Object.defineProperties(Ts.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(l){l?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(l){l?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return I.isDir(this.mode)}},isDevice:{get:function(){return I.isChrdev(this.mode)}}}),I.FSNode=Ts,I.staticInit();var uc,Ln={b:function pn(l,h,v,P){tr("Assertion failed: "+Ve(l)+", at: "+[h?Ve(h):"unknown filename",v,P?Ve(P):"unknown function"])},i:function yn(l){const h=new Error(Ve(l));throw h.isAssert=!0,h},l:function co(l,h,v){try{var P=rr(h,v);return isNaN(P)?-61:(I.ftruncate(l,P),0)}catch(j){if(typeof I>"u"||!(j instanceof I.ErrnoError))throw j;return-j.errno}},e:function No(){return!0},f:function io(l,h){var v=new Date(1e3*function Sr(l){return V[l>>2]+4294967296*L[l+4>>2]}(l));L[h>>2]=v.getSeconds(),L[h+4>>2]=v.getMinutes(),L[h+8>>2]=v.getHours(),L[h+12>>2]=v.getDate(),L[h+16>>2]=v.getMonth(),L[h+20>>2]=v.getFullYear()-1900,L[h+24>>2]=v.getDay();var P=0|ir(v);L[h+28>>2]=P,L[h+36>>2]=-60*v.getTimezoneOffset();var j=new Date(v.getFullYear(),0,1),De=new Date(v.getFullYear(),6,1).getTimezoneOffset(),Te=j.getTimezoneOffset(),He=0|(De!=Te&&v.getTimezoneOffset()==Math.min(Te,De));L[h+32>>2]=He},g:function so(l){var h=new Date(L[l+20>>2]+1900,L[l+16>>2],L[l+12>>2],L[l+8>>2],L[l+4>>2],L[l>>2],0),v=L[l+32>>2],P=h.getTimezoneOffset(),j=new Date(h.getFullYear(),0,1),De=new Date(h.getFullYear(),6,1).getTimezoneOffset(),Te=j.getTimezoneOffset(),He=Math.min(Te,De);if(v<0)L[l+32>>2]=Number(De!=Te&&He==P);else if(v>0!=(He==P)){var Dt=Math.max(Te,De),sn=v>0?He:Dt;h.setTime(h.getTime()+6e4*(sn-P))}L[l+24>>2]=h.getDay();var An=0|ir(h);return L[l+28>>2]=An,L[l>>2]=h.getSeconds(),L[l+4>>2]=h.getMinutes(),L[l+8>>2]=h.getHours(),L[l+12>>2]=h.getDate(),L[l+16>>2]=h.getMonth(),L[l+20>>2]=h.getYear(),h.getTime()/1e3|0},h:function on(l,h,v){var P=(new Date).getFullYear(),j=new Date(P,0,1),De=new Date(P,6,1),Te=j.getTimezoneOffset(),He=De.getTimezoneOffset(),Dt=Math.max(Te,He);function sn(rn){var Jr=rn.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Jr?Jr[1]:"GMT"}V[l>>2]=60*Dt,L[h>>2]=Number(Te!=He);var An=sn(j),jn=sn(De),Bt=Ko(An),Gt=Ko(jn);He<Te?(V[v>>2]=Bt,V[v+4>>2]=Gt):(V[v>>2]=Gt,V[v+4>>2]=Bt)},a:function Co(){tr("")},j:function jr(l,h,v){var P=function Kr(l,h){var v;for(D.length=0,h>>=2;v=_t[l++];)h+=105!=v&h,D.push(105==v?L[h]:_e[h++>>1]),++h;return D}(h,v);return je[l].apply(null,P)},c:function di(){return Date.now()},q:function Lo(l,h,v){_t.copyWithin(l,h,h+v)},p:function os(l){var Dt,h=_t.length,v=2147483648;if((l>>>=0)>v)return!1;for(var j=1;j<=4;j*=2){var De=h*(1+.2/j);if(De=Math.min(De,l+100663296),Ur(Math.min(v,(Dt=Math.max(l,De))+(65536-Dt%65536)%65536)))return!0}return!1},n:function Si(l,h){var v=0;return qn().forEach(function(P,j){var De=h+v;V[l+4*j>>2]=De,function Qo(l,h,v){for(var P=0;P<l.length;++P)Ke[h++>>0]=l.charCodeAt(P);v||(Ke[h>>0]=0)}(P,De),v+=P.length+1}),0},o:function Jo(l,h){var v=qn();V[l>>2]=v.length;var P=0;return v.forEach(function(j){P+=j.length+1}),V[h>>2]=P,0},r:function Nn(l){try{var h=Fr.getStreamFromFD(l);return I.close(h),0}catch(v){if(typeof I>"u"||!(v instanceof I.ErrnoError))throw v;return v.errno}},d:function Bn(l,h,v,P){try{var De=function ei(l,h,v,P){for(var j=0,De=0;De<v;De++){var Te=V[h>>2],He=V[h+4>>2];h+=8;var Dt=I.read(l,Ke,Te,He,P);if(Dt<0)return-1;if(j+=Dt,Dt<He)break}return j}(Fr.getStreamFromFD(l),h,v);return V[P>>2]=De,0}catch(Te){if(typeof I>"u"||!(Te instanceof I.ErrnoError))throw Te;return Te.errno}},k:function Ei(l,h,v,P,j){try{var De=rr(h,v);if(isNaN(De))return 61;var Te=Fr.getStreamFromFD(l);return I.llseek(Te,De,P),le=[Te.position>>>0,(st=Te.position,+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[j>>2]=le[0],L[j+4>>2]=le[1],Te.getdents&&0===De&&0===P&&(Te.getdents=null),0}catch(He){if(typeof I>"u"||!(He instanceof I.ErrnoError))throw He;return He.errno}},s:function T(l,h,v,P){try{var De=function is(l,h,v,P){for(var j=0,De=0;De<v;De++){var Te=V[h>>2],He=V[h+4>>2];h+=8;var Dt=I.write(l,Ke,Te,He,P);if(Dt<0)return-1;j+=Dt}return j}(Fr.getStreamFromFD(l),h,v);return V[P>>2]=De,0}catch(Te){if(typeof I>"u"||!(Te instanceof I.ErrnoError))throw Te;return Te.errno}},m:function Le(l,h,v,P,j){return function ee(l,h,v,P){var j=L[P+40>>2],De={tm_sec:L[P>>2],tm_min:L[P+4>>2],tm_hour:L[P+8>>2],tm_mday:L[P+12>>2],tm_mon:L[P+16>>2],tm_year:L[P+20>>2],tm_wday:L[P+24>>2],tm_yday:L[P+28>>2],tm_isdst:L[P+32>>2],tm_gmtoff:L[P+36>>2],tm_zone:j?Ve(j):""},Te=Ve(v),He={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Dt in He)Te=Te.replace(new RegExp(Dt,"g"),He[Dt]);var sn=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],An=["January","February","March","April","May","June","July","August","September","October","November","December"];function jn(Ct,cn,go){for(var fr="number"==typeof Ct?Ct.toString():Ct||"";fr.length<cn;)fr=go[0]+fr;return fr}function Bt(Ct,cn){return jn(Ct,cn,"0")}function Gt(Ct,cn){function go(si){return si<0?-1:si>0?1:0}var fr;return 0===(fr=go(Ct.getFullYear()-cn.getFullYear()))&&0===(fr=go(Ct.getMonth()-cn.getMonth()))&&(fr=go(Ct.getDate()-cn.getDate())),fr}function rn(Ct){switch(Ct.getDay()){case 0:return new Date(Ct.getFullYear()-1,11,29);case 1:return Ct;case 2:return new Date(Ct.getFullYear(),0,3);case 3:return new Date(Ct.getFullYear(),0,2);case 4:return new Date(Ct.getFullYear(),0,1);case 5:return new Date(Ct.getFullYear()-1,11,31);case 6:return new Date(Ct.getFullYear()-1,11,30)}}function Jr(Ct){var cn=function R(l,h){for(var v=new Date(l.getTime());h>0;){var P=xo(v.getFullYear()),j=v.getMonth(),De=(P?pe:ke)[j];if(!(h>De-v.getDate()))return v.setDate(v.getDate()+h),v;h-=De-v.getDate()+1,v.setDate(1),j<11?v.setMonth(j+1):(v.setMonth(0),v.setFullYear(v.getFullYear()+1))}return v}(new Date(Ct.tm_year+1900,0,1),Ct.tm_yday),go=new Date(cn.getFullYear(),0,4),fr=new Date(cn.getFullYear()+1,0,4),si=rn(go),Vr=rn(fr);return Gt(si,cn)<=0?Gt(Vr,cn)<=0?cn.getFullYear()+1:cn.getFullYear():cn.getFullYear()-1}var Ti={"%a":function(Ct){return sn[Ct.tm_wday].substring(0,3)},"%A":function(Ct){return sn[Ct.tm_wday]},"%b":function(Ct){return An[Ct.tm_mon].substring(0,3)},"%B":function(Ct){return An[Ct.tm_mon]},"%C":function(Ct){return Bt((Ct.tm_year+1900)/100|0,2)},"%d":function(Ct){return Bt(Ct.tm_mday,2)},"%e":function(Ct){return jn(Ct.tm_mday,2," ")},"%g":function(Ct){return Jr(Ct).toString().substring(2)},"%G":function(Ct){return Jr(Ct)},"%H":function(Ct){return Bt(Ct.tm_hour,2)},"%I":function(Ct){var cn=Ct.tm_hour;return 0==cn?cn=12:cn>12&&(cn-=12),Bt(cn,2)},"%j":function(Ct){return Bt(Ct.tm_mday+function N(l,h){for(var v=0,P=0;P<=h;v+=l[P++]);return v}(xo(Ct.tm_year+1900)?pe:ke,Ct.tm_mon-1),3)},"%m":function(Ct){return Bt(Ct.tm_mon+1,2)},"%M":function(Ct){return Bt(Ct.tm_min,2)},"%n":function(){return"\n"},"%p":function(Ct){return Ct.tm_hour>=0&&Ct.tm_hour<12?"AM":"PM"},"%S":function(Ct){return Bt(Ct.tm_sec,2)},"%t":function(){return"\t"},"%u":function(Ct){return Ct.tm_wday||7},"%U":function(Ct){return Bt(Math.floor((Ct.tm_yday+7-Ct.tm_wday)/7),2)},"%V":function(Ct){var cn=Math.floor((Ct.tm_yday+7-(Ct.tm_wday+6)%7)/7);if((Ct.tm_wday+371-Ct.tm_yday-2)%7<=2&&cn++,cn){if(53==cn){var fr=(Ct.tm_wday+371-Ct.tm_yday)%7;4!=fr&&(3!=fr||!xo(Ct.tm_year))&&(cn=1)}}else{cn=52;var go=(Ct.tm_wday+7-Ct.tm_yday-1)%7;(4==go||5==go&&xo(Ct.tm_year%400-1))&&cn++}return Bt(cn,2)},"%w":function(Ct){return Ct.tm_wday},"%W":function(Ct){return Bt(Math.floor((Ct.tm_yday+7-(Ct.tm_wday+6)%7)/7),2)},"%y":function(Ct){return(Ct.tm_year+1900).toString().substring(2)},"%Y":function(Ct){return Ct.tm_year+1900},"%z":function(Ct){var cn=Ct.tm_gmtoff,go=cn>=0;return cn=(cn=Math.abs(cn)/60)/60*100+cn%60,(go?"+":"-")+String("0000"+cn).slice(-4)},"%Z":function(Ct){return Ct.tm_zone},"%%":function(){return"%"}};for(var Dt in Te=Te.replace(/%%/g,"\0\0"),Ti)Te.includes(Dt)&&(Te=Te.replace(new RegExp(Dt,"g"),Ti[Dt](De)));var jo=Wt(Te=Te.replace(/\0\0/g,"%"),!1);return jo.length>h?0:(function Y(l,h){Ke.set(l,h)}(jo,l),jo.length-1)}(l,h,v,P)}},wt=(function Rr(){var l={a:Ln};function h(Te,He){u.asm=Te.exports,Re((me=u.asm.t).buffer),ct=u.asm.hc,function ro(l){at.unshift(l)}(u.asm.u),ur()}function v(Te){h(Te.instance)}function P(Te){return function Ci(){return he||!Se&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return Yr(In)}):fetch(In,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+In+"'";return l.arrayBuffer()}).catch(function(){return Yr(In)})}().then(function(He){return WebAssembly.instantiate(He,l)}).then(function(He){return He}).then(Te,function(He){ce("failed to asynchronously prepare wasm: "+He),tr(He)})}if(bo(),u.instantiateWasm)try{return u.instantiateWasm(l,h)}catch(Te){ce("Module.instantiateWasm callback failed with error: "+Te),oe(Te)}(function j(){return he||"function"!=typeof WebAssembly.instantiateStreaming||Hr(In)||"function"!=typeof fetch?P(v):fetch(In,{credentials:"same-origin"}).then(function(Te){return WebAssembly.instantiateStreaming(Te,l).then(v,function(Dt){return ce("wasm streaming compile failed: "+Dt),ce("falling back to ArrayBuffer instantiation"),P(v)})})})().catch(oe)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.u).apply(null,arguments)},u._free=function(){return(u._free=u.asm.v).apply(null,arguments)},u._malloc=function(){return(wt=u._malloc=u.asm.w).apply(null,arguments)}),Kn=(u._main=function(){return(u._main=u.asm.x).apply(null,arguments)},u._emscripten_bind_VoidPtr___destroy___0=function(){return(Kn=u._emscripten_bind_VoidPtr___destroy___0=u.asm.y).apply(null,arguments)}),ms=u._emscripten_bind_Cloudpilot_Cloudpilot_0=function(){return(ms=u._emscripten_bind_Cloudpilot_Cloudpilot_0=u.asm.z).apply(null,arguments)},xs=u._emscripten_bind_Cloudpilot_Malloc_1=function(){return(xs=u._emscripten_bind_Cloudpilot_Malloc_1=u.asm.A).apply(null,arguments)},La=u._emscripten_bind_Cloudpilot_Free_1=function(){return(La=u._emscripten_bind_Cloudpilot_Free_1=u.asm.B).apply(null,arguments)},$a=u._emscripten_bind_Cloudpilot_Nullptr_0=function(){return($a=u._emscripten_bind_Cloudpilot_Nullptr_0=u.asm.C).apply(null,arguments)},Vi=u._emscripten_bind_Cloudpilot_InitializeSession_3=function(){return(Vi=u._emscripten_bind_Cloudpilot_InitializeSession_3=u.asm.D).apply(null,arguments)},ss=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=function(){return(ss=u._emscripten_bind_Cloudpilot_GetCyclesPerSecond_0=u.asm.E).apply(null,arguments)},as=u._emscripten_bind_Cloudpilot_RunEmulation_1=function(){return(as=u._emscripten_bind_Cloudpilot_RunEmulation_1=u.asm.F).apply(null,arguments)},gs=u._emscripten_bind_Cloudpilot_SetClockFactor_1=function(){return(gs=u._emscripten_bind_Cloudpilot_SetClockFactor_1=u.asm.G).apply(null,arguments)},Xr=u._emscripten_bind_Cloudpilot_CopyFrame_0=function(){return(Xr=u._emscripten_bind_Cloudpilot_CopyFrame_0=u.asm.H).apply(null,arguments)},Zt=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=function(){return(Zt=u._emscripten_bind_Cloudpilot_IsScreenDirty_0=u.asm.I).apply(null,arguments)},$o=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=function(){return($o=u._emscripten_bind_Cloudpilot_MarkScreenClean_0=u.asm.J).apply(null,arguments)},hl=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=function(){return(hl=u._emscripten_bind_Cloudpilot_MinMemoryForDevice_1=u.asm.K).apply(null,arguments)},ni=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=function(){return(ni=u._emscripten_bind_Cloudpilot_FramebufferSizeForDevice_1=u.asm.L).apply(null,arguments)},ls=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=function(){return(ls=u._emscripten_bind_Cloudpilot_TotalMemoryForDevice_1=u.asm.M).apply(null,arguments)},ml=u._emscripten_bind_Cloudpilot_QueuePenMove_2=function(){return(ml=u._emscripten_bind_Cloudpilot_QueuePenMove_2=u.asm.N).apply(null,arguments)},ri=u._emscripten_bind_Cloudpilot_QueuePenUp_0=function(){return(ri=u._emscripten_bind_Cloudpilot_QueuePenUp_0=u.asm.O).apply(null,arguments)},Mn=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=function(){return(Mn=u._emscripten_bind_Cloudpilot_QueueButtonDown_1=u.asm.P).apply(null,arguments)},po=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=function(){return(po=u._emscripten_bind_Cloudpilot_QueueButtonUp_1=u.asm.Q).apply(null,arguments)},Lr=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=function(){return(Lr=u._emscripten_bind_Cloudpilot_QueueKeyboardEvent_2=u.asm.R).apply(null,arguments)},Rn=u._emscripten_bind_Cloudpilot_IsPowerOff_0=function(){return(Rn=u._emscripten_bind_Cloudpilot_IsPowerOff_0=u.asm.S).apply(null,arguments)},gn=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=function(){return(gn=u._emscripten_bind_Cloudpilot_IsUIInitialized_0=u.asm.T).apply(null,arguments)},kr=u._emscripten_bind_Cloudpilot_GetOSVersion_0=function(){return(kr=u._emscripten_bind_Cloudpilot_GetOSVersion_0=u.asm.U).apply(null,arguments)},p=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=function(){return(p=u._emscripten_bind_Cloudpilot_IsSetupComplete_0=u.asm.V).apply(null,arguments)},_=u._emscripten_bind_Cloudpilot_Reset_0=function(){return(_=u._emscripten_bind_Cloudpilot_Reset_0=u.asm.W).apply(null,arguments)},b=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=function(){return(b=u._emscripten_bind_Cloudpilot_ResetNoExtensions_0=u.asm.X).apply(null,arguments)},x=u._emscripten_bind_Cloudpilot_ResetHard_0=function(){return(x=u._emscripten_bind_Cloudpilot_ResetHard_0=u.asm.Y).apply(null,arguments)},U=u._emscripten_bind_Cloudpilot_InstallDb_2=function(){return(U=u._emscripten_bind_Cloudpilot_InstallDb_2=u.asm.Z).apply(null,arguments)},ge=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=function(){return(ge=u._emscripten_bind_Cloudpilot_GetPalette2bitMapping_0=u.asm._).apply(null,arguments)},ve=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=function(){return(ve=u._emscripten_bind_Cloudpilot_GetMemoryPtr_0=u.asm.$).apply(null,arguments)},ye=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=function(){return(ye=u._emscripten_bind_Cloudpilot_GetDirtyPagesPtr_0=u.asm.aa).apply(null,arguments)},dt=u._emscripten_bind_Cloudpilot_GetMemorySize_0=function(){return(dt=u._emscripten_bind_Cloudpilot_GetMemorySize_0=u.asm.ba).apply(null,arguments)},d=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=function(){return(d=u._emscripten_bind_Cloudpilot_ImportMemoryImage_2=u.asm.ca).apply(null,arguments)},m=u._emscripten_bind_Cloudpilot_GetRomPtr_0=function(){return(m=u._emscripten_bind_Cloudpilot_GetRomPtr_0=u.asm.da).apply(null,arguments)},w=u._emscripten_bind_Cloudpilot_GetRomSize_0=function(){return(w=u._emscripten_bind_Cloudpilot_GetRomSize_0=u.asm.ea).apply(null,arguments)},M=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=function(){return(M=u._emscripten_bind_Cloudpilot_GetSavestatePtr_0=u.asm.fa).apply(null,arguments)},$=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=function(){return($=u._emscripten_bind_Cloudpilot_GetSavestateSize_0=u.asm.ga).apply(null,arguments)},te=u._emscripten_bind_Cloudpilot_SaveState_0=function(){return(te=u._emscripten_bind_Cloudpilot_SaveState_0=u.asm.ha).apply(null,arguments)},ne=u._emscripten_bind_Cloudpilot_LoadState_2=function(){return(ne=u._emscripten_bind_Cloudpilot_LoadState_2=u.asm.ia).apply(null,arguments)},Oe=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=function(){return(Oe=u._emscripten_bind_Cloudpilot_GetHotsyncName_0=u.asm.ja).apply(null,arguments)},gt=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=function(){return(gt=u._emscripten_bind_Cloudpilot_SetHotsyncName_1=u.asm.ka).apply(null,arguments)},se=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=function(){return(se=u._emscripten_bind_Cloudpilot_RegisterPwmHandler_1=u.asm.la).apply(null,arguments)},ut=u._emscripten_bind_Cloudpilot_StartBackup_0=function(){return(ut=u._emscripten_bind_Cloudpilot_StartBackup_0=u.asm.ma).apply(null,arguments)},It=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=function(){return(It=u._emscripten_bind_Cloudpilot_SetClipboardIntegration_1=u.asm.na).apply(null,arguments)},bt=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=function(){return(bt=u._emscripten_bind_Cloudpilot_GetClipboardIntegration_0=u.asm.oa).apply(null,arguments)},St=u._emscripten_bind_Cloudpilot_IsSuspended_0=function(){return(St=u._emscripten_bind_Cloudpilot_IsSuspended_0=u.asm.pa).apply(null,arguments)},Nt=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=function(){return(Nt=u._emscripten_bind_Cloudpilot_GetSuspendContext_0=u.asm.qa).apply(null,arguments)},zn=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=function(){return(zn=u._emscripten_bind_Cloudpilot_SetNetworkRedirection_1=u.asm.ra).apply(null,arguments)},Et=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=function(){return(Et=u._emscripten_bind_Cloudpilot_GetNetworkRedirection_0=u.asm.sa).apply(null,arguments)},Jt=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=function(){return(Jt=u._emscripten_bind_Cloudpilot_RegisterProxyDisconnectHandler_1=u.asm.ta).apply(null,arguments)},nt=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=function(){return(nt=u._emscripten_bind_Cloudpilot_SetHotsyncNameManagement_1=u.asm.ua).apply(null,arguments)},$t=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=function(){return($t=u._emscripten_bind_Cloudpilot_LaunchAppByName_1=u.asm.va).apply(null,arguments)},mr=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=function(){return(mr=u._emscripten_bind_Cloudpilot_LaunchAppByDbHeader_2=u.asm.wa).apply(null,arguments)},Sn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=function(){return(Sn=u._emscripten_bind_Cloudpilot_DeviceSupportsCardSize_1=u.asm.xa).apply(null,arguments)},Qr=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=function(){return(Qr=u._emscripten_bind_Cloudpilot_ClearExternalStorage_0=u.asm.ya).apply(null,arguments)},Dn=u._emscripten_bind_Cloudpilot_AllocateCard_2=function(){return(Dn=u._emscripten_bind_Cloudpilot_AllocateCard_2=u.asm.za).apply(null,arguments)},Ba=u._emscripten_bind_Cloudpilot_MountCard_1=function(){return(Ba=u._emscripten_bind_Cloudpilot_MountCard_1=u.asm.Aa).apply(null,arguments)},Js=u._emscripten_bind_Cloudpilot_RemoveCard_1=function(){return(Js=u._emscripten_bind_Cloudpilot_RemoveCard_1=u.asm.Ba).apply(null,arguments)},Tn=u._emscripten_bind_Cloudpilot_GetCardData_1=function(){return(Tn=u._emscripten_bind_Cloudpilot_GetCardData_1=u.asm.Ca).apply(null,arguments)},gl=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=function(){return(gl=u._emscripten_bind_Cloudpilot_GetCardDirtyPages_1=u.asm.Da).apply(null,arguments)},ea=u._emscripten_bind_Cloudpilot_GetCardSize_1=function(){return(ea=u._emscripten_bind_Cloudpilot_GetCardSize_1=u.asm.Ea).apply(null,arguments)},ec=u._emscripten_bind_Cloudpilot_RemountCards_0=function(){return(ec=u._emscripten_bind_Cloudpilot_RemountCards_0=u.asm.Fa).apply(null,arguments)},As=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=function(){return(As=u._emscripten_bind_Cloudpilot_GetSupportLevel_1=u.asm.Ga).apply(null,arguments)},So=u._emscripten_bind_Cloudpilot_GetMountedKey_0=function(){return(So=u._emscripten_bind_Cloudpilot_GetMountedKey_0=u.asm.Ha).apply(null,arguments)},Va=u._emscripten_bind_Cloudpilot___destroy___0=function(){return(Va=u._emscripten_bind_Cloudpilot___destroy___0=u.asm.Ia).apply(null,arguments)},ta=u._emscripten_bind_RomInfo_RomInfo_2=function(){return(ta=u._emscripten_bind_RomInfo_RomInfo_2=u.asm.Ja).apply(null,arguments)},Ii=u._emscripten_bind_RomInfo_IsValid_0=function(){return(Ii=u._emscripten_bind_RomInfo_IsValid_0=u.asm.Ka).apply(null,arguments)},na=u._emscripten_bind_RomInfo_CardVersion_0=function(){return(na=u._emscripten_bind_RomInfo_CardVersion_0=u.asm.La).apply(null,arguments)},fu=u._emscripten_bind_RomInfo_CardName_0=function(){return(fu=u._emscripten_bind_RomInfo_CardName_0=u.asm.Ma).apply(null,arguments)},gr=u._emscripten_bind_RomInfo_RomVersion_0=function(){return(gr=u._emscripten_bind_RomInfo_RomVersion_0=u.asm.Na).apply(null,arguments)},Qd=u._emscripten_bind_RomInfo_RomVersionString_0=function(){return(Qd=u._emscripten_bind_RomInfo_RomVersionString_0=u.asm.Oa).apply(null,arguments)},Jd=u._emscripten_bind_RomInfo_Supports_1=function(){return(Jd=u._emscripten_bind_RomInfo_Supports_1=u.asm.Pa).apply(null,arguments)},yl=u._emscripten_bind_RomInfo___destroy___0=function(){return(yl=u._emscripten_bind_RomInfo___destroy___0=u.asm.Qa).apply(null,arguments)},tc=u._emscripten_bind_Frame_GetLineWidth_0=function(){return(tc=u._emscripten_bind_Frame_GetLineWidth_0=u.asm.Ra).apply(null,arguments)},Ha=u._emscripten_bind_Frame_GetBpp_0=function(){return(Ha=u._emscripten_bind_Frame_GetBpp_0=u.asm.Sa).apply(null,arguments)},_l=u._emscripten_bind_Frame_GetLines_0=function(){return(_l=u._emscripten_bind_Frame_GetLines_0=u.asm.Ta).apply(null,arguments)},Ps=u._emscripten_bind_Frame_GetMargin_0=function(){return(Ps=u._emscripten_bind_Frame_GetMargin_0=u.asm.Ua).apply(null,arguments)},Eo=u._emscripten_bind_Frame_GetBytesPerLine_0=function(){return(Eo=u._emscripten_bind_Frame_GetBytesPerLine_0=u.asm.Va).apply(null,arguments)},ef=u._emscripten_bind_Frame_GetFirstDirtyLine_0=function(){return(ef=u._emscripten_bind_Frame_GetFirstDirtyLine_0=u.asm.Wa).apply(null,arguments)},Bo=u._emscripten_bind_Frame_GetLastDirtyLine_0=function(){return(Bo=u._emscripten_bind_Frame_GetLastDirtyLine_0=u.asm.Xa).apply(null,arguments)},Mi=u._emscripten_bind_Frame_GetHasChanges_0=function(){return(Mi=u._emscripten_bind_Frame_GetHasChanges_0=u.asm.Ya).apply(null,arguments)},nc=u._emscripten_bind_Frame_GetBuffer_0=function(){return(nc=u._emscripten_bind_Frame_GetBuffer_0=u.asm.Za).apply(null,arguments)},vl=u._emscripten_bind_Frame_GetBufferSize_0=function(){return(vl=u._emscripten_bind_Frame_GetBufferSize_0=u.asm._a).apply(null,arguments)},bl=u._emscripten_bind_Frame_GetScaleX_0=function(){return(bl=u._emscripten_bind_Frame_GetScaleX_0=u.asm.$a).apply(null,arguments)},ki=u._emscripten_bind_Frame_GetScaleY_0=function(){return(ki=u._emscripten_bind_Frame_GetScaleY_0=u.asm.ab).apply(null,arguments)},tf=u._emscripten_bind_Frame___destroy___0=function(){return(tf=u._emscripten_bind_Frame___destroy___0=u.asm.bb).apply(null,arguments)},kh=u._emscripten_bind_DbBackup_Init_1=function(){return(kh=u._emscripten_bind_DbBackup_Init_1=u.asm.cb).apply(null,arguments)},nf=u._emscripten_bind_DbBackup_IsInProgress_0=function(){return(nf=u._emscripten_bind_DbBackup_IsInProgress_0=u.asm.db).apply(null,arguments)},rf=u._emscripten_bind_DbBackup_IsDone_0=function(){return(rf=u._emscripten_bind_DbBackup_IsDone_0=u.asm.eb).apply(null,arguments)},Th=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=function(){return(Th=u._emscripten_bind_DbBackup_GetCurrentDatabase_0=u.asm.fb).apply(null,arguments)},xh=u._emscripten_bind_DbBackup_Save_0=function(){return(xh=u._emscripten_bind_DbBackup_Save_0=u.asm.gb).apply(null,arguments)},Ah=u._emscripten_bind_DbBackup_Skip_0=function(){return(Ah=u._emscripten_bind_DbBackup_Skip_0=u.asm.hb).apply(null,arguments)},Ph=u._emscripten_bind_DbBackup_GetArchivePtr_0=function(){return(Ph=u._emscripten_bind_DbBackup_GetArchivePtr_0=u.asm.ib).apply(null,arguments)},Rh=u._emscripten_bind_DbBackup_GetArchiveSize_0=function(){return(Rh=u._emscripten_bind_DbBackup_GetArchiveSize_0=u.asm.jb).apply(null,arguments)},Fh=u._emscripten_bind_DbBackup___destroy___0=function(){return(Fh=u._emscripten_bind_DbBackup___destroy___0=u.asm.kb).apply(null,arguments)},Oh=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=function(){return(Oh=u._emscripten_bind_SuspendContextClipboardCopy_Cancel_0=u.asm.lb).apply(null,arguments)},Nh=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=function(){return(Nh=u._emscripten_bind_SuspendContextClipboardCopy_Resume_0=u.asm.mb).apply(null,arguments)},Lh=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=function(){return(Lh=u._emscripten_bind_SuspendContextClipboardCopy_GetClipboardContent_0=u.asm.nb).apply(null,arguments)},$h=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=function(){return($h=u._emscripten_bind_SuspendContextClipboardCopy___destroy___0=u.asm.ob).apply(null,arguments)},Bh=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=function(){return(Bh=u._emscripten_bind_SuspendContextClipboardPaste_Cancel_0=u.asm.pb).apply(null,arguments)},Vh=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=function(){return(Vh=u._emscripten_bind_SuspendContextClipboardPaste_Resume_1=u.asm.qb).apply(null,arguments)},Hh=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=function(){return(Hh=u._emscripten_bind_SuspendContextClipboardPaste___destroy___0=u.asm.rb).apply(null,arguments)},jh=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=function(){return(jh=u._emscripten_bind_SuspendContextNetworkConnect_Cancel_0=u.asm.sb).apply(null,arguments)},pu=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=function(){return(pu=u._emscripten_bind_SuspendContextNetworkConnect_Resume_1=u.asm.tb).apply(null,arguments)},rc=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=function(){return(rc=u._emscripten_bind_SuspendContextNetworkConnect___destroy___0=u.asm.ub).apply(null,arguments)},Uh=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=function(){return(Uh=u._emscripten_bind_SuspendContextNetworkRpc_Cancel_0=u.asm.vb).apply(null,arguments)},Gh=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=function(){return(Gh=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestSize_0=u.asm.wb).apply(null,arguments)},zh=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=function(){return(zh=u._emscripten_bind_SuspendContextNetworkRpc_GetRequestData_0=u.asm.xb).apply(null,arguments)},Rs=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=function(){return(Rs=u._emscripten_bind_SuspendContextNetworkRpc_ReceiveResponse_2=u.asm.yb).apply(null,arguments)},sf=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=function(){return(sf=u._emscripten_bind_SuspendContextNetworkRpc___destroy___0=u.asm.zb).apply(null,arguments)},ho=u._emscripten_bind_SuspendContext_GetKind_0=function(){return(ho=u._emscripten_bind_SuspendContext_GetKind_0=u.asm.Ab).apply(null,arguments)},hu=u._emscripten_bind_SuspendContext_Cancel_0=function(){return(hu=u._emscripten_bind_SuspendContext_Cancel_0=u.asm.Bb).apply(null,arguments)},af=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=function(){return(af=u._emscripten_bind_SuspendContext_AsContextClipboardCopy_0=u.asm.Cb).apply(null,arguments)},lf=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=function(){return(lf=u._emscripten_bind_SuspendContext_AsContextClipboardPaste_0=u.asm.Db).apply(null,arguments)},mu=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=function(){return(mu=u._emscripten_bind_SuspendContext_AsContextNetworkConnect_0=u.asm.Eb).apply(null,arguments)},gu=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=function(){return(gu=u._emscripten_bind_SuspendContext_AsContextNetworkRpc_0=u.asm.Fb).apply(null,arguments)},cf=u._emscripten_bind_SuspendContext___destroy___0=function(){return(cf=u._emscripten_bind_SuspendContext___destroy___0=u.asm.Gb).apply(null,arguments)},oc=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=function(){return(oc=u._emscripten_bind_ZipfileWalker_ZipfileWalker_2=u.asm.Hb).apply(null,arguments)},uf=u._emscripten_bind_ZipfileWalker_GetState_0=function(){return(uf=u._emscripten_bind_ZipfileWalker_GetState_0=u.asm.Ib).apply(null,arguments)},pi=u._emscripten_bind_ZipfileWalker_Next_0=function(){return(pi=u._emscripten_bind_ZipfileWalker_Next_0=u.asm.Jb).apply(null,arguments)},ic=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=function(){return(ic=u._emscripten_bind_ZipfileWalker_GetCurrentEntrySize_0=u.asm.Kb).apply(null,arguments)},df=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=function(){return(df=u._emscripten_bind_ZipfileWalker_GetCurrentEntryName_0=u.asm.Lb).apply(null,arguments)},sc=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=function(){return(sc=u._emscripten_bind_ZipfileWalker_GetCurrentEntryContent_0=u.asm.Mb).apply(null,arguments)},ff=u._emscripten_bind_ZipfileWalker___destroy___0=function(){return(ff=u._emscripten_bind_ZipfileWalker___destroy___0=u.asm.Nb).apply(null,arguments)},Wh=u._emscripten_bind_SessionImage_SessionImage_0=function(){return(Wh=u._emscripten_bind_SessionImage_SessionImage_0=u.asm.Ob).apply(null,arguments)},Gr=u._emscripten_bind_SessionImage_GetDeviceId_0=function(){return(Gr=u._emscripten_bind_SessionImage_GetDeviceId_0=u.asm.Pb).apply(null,arguments)},pf=u._emscripten_bind_SessionImage_SetDeviceId_1=function(){return(pf=u._emscripten_bind_SessionImage_SetDeviceId_1=u.asm.Qb).apply(null,arguments)},qh=u._emscripten_bind_SessionImage_GetRomImage_0=function(){return(qh=u._emscripten_bind_SessionImage_GetRomImage_0=u.asm.Rb).apply(null,arguments)},wl=u._emscripten_bind_SessionImage_GetRomImageSize_0=function(){return(wl=u._emscripten_bind_SessionImage_GetRomImageSize_0=u.asm.Sb).apply(null,arguments)},hi=u._emscripten_bind_SessionImage_SetRomImage_2=function(){return(hi=u._emscripten_bind_SessionImage_SetRomImage_2=u.asm.Tb).apply(null,arguments)},hf=u._emscripten_bind_SessionImage_GetMemoryImage_0=function(){return(hf=u._emscripten_bind_SessionImage_GetMemoryImage_0=u.asm.Ub).apply(null,arguments)},ac=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=function(){return(ac=u._emscripten_bind_SessionImage_GetMemoryImageSize_0=u.asm.Vb).apply(null,arguments)},ra=u._emscripten_bind_SessionImage_SetMemoryImage_2=function(){return(ra=u._emscripten_bind_SessionImage_SetMemoryImage_2=u.asm.Wb).apply(null,arguments)},oi=u._emscripten_bind_SessionImage_GetMetadata_0=function(){return(oi=u._emscripten_bind_SessionImage_GetMetadata_0=u.asm.Xb).apply(null,arguments)},yu=u._emscripten_bind_SessionImage_GetMetadataSize_0=function(){return(yu=u._emscripten_bind_SessionImage_GetMetadataSize_0=u.asm.Yb).apply(null,arguments)},lc=u._emscripten_bind_SessionImage_SetMetadata_2=function(){return(lc=u._emscripten_bind_SessionImage_SetMetadata_2=u.asm.Zb).apply(null,arguments)},mf=u._emscripten_bind_SessionImage_GetSavestate_0=function(){return(mf=u._emscripten_bind_SessionImage_GetSavestate_0=u.asm._b).apply(null,arguments)},ys=u._emscripten_bind_SessionImage_GetSavestateSize_0=function(){return(ys=u._emscripten_bind_SessionImage_GetSavestateSize_0=u.asm.$b).apply(null,arguments)},_u=u._emscripten_bind_SessionImage_SetSavestate_2=function(){return(_u=u._emscripten_bind_SessionImage_SetSavestate_2=u.asm.ac).apply(null,arguments)},cc=u._emscripten_bind_SessionImage_GetVersion_0=function(){return(cc=u._emscripten_bind_SessionImage_GetVersion_0=u.asm.bc).apply(null,arguments)},bn=u._emscripten_bind_SessionImage_Serialize_0=function(){return(bn=u._emscripten_bind_SessionImage_Serialize_0=u.asm.cc).apply(null,arguments)},vu=u._emscripten_bind_SessionImage_GetSerializedImage_0=function(){return(vu=u._emscripten_bind_SessionImage_GetSerializedImage_0=u.asm.dc).apply(null,arguments)},Zh=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=function(){return(Zh=u._emscripten_bind_SessionImage_GetSerializedImageSize_0=u.asm.ec).apply(null,arguments)},gf=u._emscripten_bind_SessionImage_Deserialize_2=function(){return(gf=u._emscripten_bind_SessionImage_Deserialize_2=u.asm.fc).apply(null,arguments)},yf=u._emscripten_bind_SessionImage___destroy___0=function(){return(yf=u._emscripten_bind_SessionImage___destroy___0=u.asm.gc).apply(null,arguments)};function mt(l){var h=u._main;try{var j=h(0,0);return function it(l,h){be=l,function Qe(l){be=l,function un(){return Ne}()||(u.onExit&&u.onExit(l),Ye=!0),z(l,new En(l))}(l)}(j),j}catch(De){return function Tt(l){if(l instanceof En||"unwind"==l)return be;z(1,l)}(De)}}function Vn(l){function h(){uc||(uc=!0,u.calledRun=!0,!Ye&&(function Zr(){!u.noFSInit&&!I.init.initialized&&I.init(),I.ignorePermissions=!1,or.init(),Ht(at)}(),function Mr(){Ht(Lt)}(),ae(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Qt&&mt(),function Qn(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)l=u.postRun.shift(),Ut.unshift(l);var l;Ht(Ut)}()))}l=l||K,Gn>0||(function ue(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)l=u.preRun.shift(),ot.unshift(l);var l;Ht(ot)}(),Gn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),h()},1)):h())}if(u.___original_main=function(){return(u.___original_main=u.asm.ic).apply(null,arguments)},u.___start_em_js=242387,u.___stop_em_js=242584,u.UTF8ToString=Ve,u.addFunction=function Ra(l,h){if(ti||(ti=new WeakMap,function Bi(l,h){if(ti)for(var v=l;v<l+h;v++){var P=vr(v);P&&ti.set(P,v)}}(0,ct.length)),ti.has(l))return ti.get(l);var v=function Pa(){if(Di.length)return Di.pop();try{ct.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return ct.length-1}();try{ks(v,l)}catch(j){if(!(j instanceof TypeError))throw j;ks(v,function fo(l,h){if("function"==typeof WebAssembly.Function)return new WebAssembly.Function(function nn(l){for(var h={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},v={parameters:[],results:"v"==l[0]?[]:[h[l[0]]]},P=1;P<l.length;++P)v.parameters.push(h[l[P]]),"j"===l[P]&&v.parameters.push("i32");return v}(h),l);var v=[1];!function sr(l,h){var v=l.slice(0,1),P=l.slice(1),j={i:127,p:127,j:126,f:125,d:124};h.push(96),Xt(P.length,h);for(var De=0;De<P.length;++De)h.push(j[P[De]]);"v"==v?h.push(0):h.push(1,j[v])}(h,v);var P=[0,97,115,109,1,0,0,0,1];Xt(v.length,P),P.push.apply(P,v),P.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var j=new WebAssembly.Module(new Uint8Array(P));return new WebAssembly.Instance(j,{e:{f:l}}).exports.f}(l,h))}return ti.set(l,v),v},Cr=function l(){uc||Vn(),uc||(Cr=l)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Qt=!0;function Mt(){}function Er(l){return(l||Mt).__cache__}function Zn(l,h){var v=Er(h),P=v[l];return P||((P=Object.create((h||Mt).prototype)).ptr=l,v[l]=P)}u.noInitialRun&&(Qt=!1),Vn(),(Mt.prototype=Object.create(Mt.prototype)).constructor=Mt,Mt.prototype.__class__=Mt,Mt.__cache__={},u.WrapperObject=Mt,u.getCache=Er,u.wrapPointer=Zn,u.castObject=function Cl(l,h){return Zn(l.ptr,h)},u.NULL=Zn(0),u.destroy=function cs(l){if(!l.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";l.__destroy__(),delete Er(l.__class__)[l.ptr]},u.compare=function bu(l,h){return l.ptr===h.ptr},u.getPointer=function wu(l){return l.ptr},u.getClass=function Ov(l){return l.__class__};var xn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(xn.needed){for(var l=0;l<xn.temps.length;l++)u._free(xn.temps[l]);xn.temps.length=0,u._free(xn.buffer),xn.buffer=0,xn.size+=xn.needed,xn.needed=0}xn.buffer||(xn.size+=128,xn.buffer=u._malloc(xn.size),Ie(xn.buffer)),xn.pos=0},alloc:function(l,h){Ie(xn.buffer);var j,P=l.length*h.BYTES_PER_ELEMENT;return xn.pos+(P=P+7&-8)>=xn.size?(Ie(P>0),xn.needed+=P,j=u._malloc(P),xn.temps.push(j)):(j=xn.buffer+xn.pos,xn.pos+=P),j},copy:function(l,h,v){switch(v>>>=0,h.BYTES_PER_ELEMENT){case 2:v>>>=1;break;case 4:v>>>=2;break;case 8:v>>>=3}for(var j=0;j<l.length;j++)h[v+j]=l[j]}};function Vo(l){if("string"==typeof l){var h=Wt(l),v=xn.alloc(h,Ke);return xn.copy(h,Ke,v),v}return l}function ar(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ue(){this.ptr=ms(),Er(Ue)[this.ptr]=this}function nr(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=ta(l,h),Er(nr)[this.ptr]=this}function Hn(){throw"cannot construct a Frame, no constructor in IDL"}function er(){throw"cannot construct a DbBackup, no constructor in IDL"}function Tr(){throw"cannot construct a SuspendContextClipboardCopy, no constructor in IDL"}function ii(){throw"cannot construct a SuspendContextClipboardPaste, no constructor in IDL"}function Ho(){throw"cannot construct a SuspendContextNetworkConnect, no constructor in IDL"}function mo(){throw"cannot construct a SuspendContextNetworkRpc, no constructor in IDL"}function $r(){throw"cannot construct a SuspendContext, no constructor in IDL"}function Br(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),this.ptr=oc(l,h),Er(Br)[this.ptr]=this}function ln(){this.ptr=Wh(),Er(ln)[this.ptr]=this}return(ar.prototype=Object.create(Mt.prototype)).constructor=ar,ar.prototype.__class__=ar,ar.__cache__={},u.VoidPtr=ar,ar.prototype.__destroy__=ar.prototype.__destroy__=function(){Kn(this.ptr)},(Ue.prototype=Object.create(Mt.prototype)).constructor=Ue,Ue.prototype.__class__=Ue,Ue.__cache__={},u.Cloudpilot=Ue,Ue.prototype.Malloc=Ue.prototype.Malloc=function(l){return l&&"object"==typeof l&&(l=l.ptr),Zn(xs(this.ptr,l),ar)},Ue.prototype.Free=Ue.prototype.Free=function(l){l&&"object"==typeof l&&(l=l.ptr),La(this.ptr,l)},Ue.prototype.Nullptr=Ue.prototype.Nullptr=function(){return Zn($a(this.ptr),ar)},Ue.prototype.InitializeSession=Ue.prototype.InitializeSession=function(l,h,v){var P=this.ptr;return xn.prepare(),l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),v=v&&"object"==typeof v?v.ptr:Vo(v),!!Vi(P,l,h,v)},Ue.prototype.GetCyclesPerSecond=Ue.prototype.GetCyclesPerSecond=function(){return ss(this.ptr)},Ue.prototype.RunEmulation=Ue.prototype.RunEmulation=function(l){return l&&"object"==typeof l&&(l=l.ptr),as(this.ptr,l)},Ue.prototype.SetClockFactor=Ue.prototype.SetClockFactor=function(l){l&&"object"==typeof l&&(l=l.ptr),gs(this.ptr,l)},Ue.prototype.CopyFrame=Ue.prototype.CopyFrame=function(){return Zn(Xr(this.ptr),Hn)},Ue.prototype.IsScreenDirty=Ue.prototype.IsScreenDirty=function(){return!!Zt(this.ptr)},Ue.prototype.MarkScreenClean=Ue.prototype.MarkScreenClean=function(){$o(this.ptr)},Ue.prototype.MinMemoryForDevice=Ue.prototype.MinMemoryForDevice=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),hl(h,l)},Ue.prototype.FramebufferSizeForDevice=Ue.prototype.FramebufferSizeForDevice=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),ni(h,l)},Ue.prototype.TotalMemoryForDevice=Ue.prototype.TotalMemoryForDevice=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),ls(h,l)},Ue.prototype.QueuePenMove=Ue.prototype.QueuePenMove=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),ml(this.ptr,l,h)},Ue.prototype.QueuePenUp=Ue.prototype.QueuePenUp=function(){ri(this.ptr)},Ue.prototype.QueueButtonDown=Ue.prototype.QueueButtonDown=function(l){l&&"object"==typeof l&&(l=l.ptr),Mn(this.ptr,l)},Ue.prototype.QueueButtonUp=Ue.prototype.QueueButtonUp=function(l){l&&"object"==typeof l&&(l=l.ptr),po(this.ptr,l)},Ue.prototype.QueueKeyboardEvent=Ue.prototype.QueueKeyboardEvent=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Lr(this.ptr,l,h)},Ue.prototype.IsPowerOff=Ue.prototype.IsPowerOff=function(){return!!Rn(this.ptr)},Ue.prototype.IsUIInitialized=Ue.prototype.IsUIInitialized=function(){return!!gn(this.ptr)},Ue.prototype.GetOSVersion=Ue.prototype.GetOSVersion=function(){return kr(this.ptr)},Ue.prototype.IsSetupComplete=Ue.prototype.IsSetupComplete=function(){return!!p(this.ptr)},Ue.prototype.Reset=Ue.prototype.Reset=function(){_(this.ptr)},Ue.prototype.ResetNoExtensions=Ue.prototype.ResetNoExtensions=function(){b(this.ptr)},Ue.prototype.ResetHard=Ue.prototype.ResetHard=function(){x(this.ptr)},Ue.prototype.InstallDb=Ue.prototype.InstallDb=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),U(this.ptr,l,h)},Ue.prototype.GetPalette2bitMapping=Ue.prototype.GetPalette2bitMapping=function(){return ge(this.ptr)},Ue.prototype.GetMemoryPtr=Ue.prototype.GetMemoryPtr=function(){return Zn(ve(this.ptr),ar)},Ue.prototype.GetDirtyPagesPtr=Ue.prototype.GetDirtyPagesPtr=function(){return Zn(ye(this.ptr),ar)},Ue.prototype.GetMemorySize=Ue.prototype.GetMemorySize=function(){return dt(this.ptr)},Ue.prototype.ImportMemoryImage=Ue.prototype.ImportMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!d(this.ptr,l,h)},Ue.prototype.GetRomPtr=Ue.prototype.GetRomPtr=function(){return Zn(m(this.ptr),ar)},Ue.prototype.GetRomSize=Ue.prototype.GetRomSize=function(){return w(this.ptr)},Ue.prototype.GetSavestatePtr=Ue.prototype.GetSavestatePtr=function(){return Zn(M(this.ptr),ar)},Ue.prototype.GetSavestateSize=Ue.prototype.GetSavestateSize=function(){return $(this.ptr)},Ue.prototype.SaveState=Ue.prototype.SaveState=function(){return!!te(this.ptr)},Ue.prototype.LoadState=Ue.prototype.LoadState=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!ne(this.ptr,l,h)},Ue.prototype.GetHotsyncName=Ue.prototype.GetHotsyncName=function(){return Ve(Oe(this.ptr))},Ue.prototype.SetHotsyncName=Ue.prototype.SetHotsyncName=function(l){var h=this.ptr;xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),gt(h,l)},Ue.prototype.RegisterPwmHandler=Ue.prototype.RegisterPwmHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),se(this.ptr,l)},Ue.prototype.StartBackup=Ue.prototype.StartBackup=function(){return Zn(ut(this.ptr),er)},Ue.prototype.SetClipboardIntegration=Ue.prototype.SetClipboardIntegration=function(l){l&&"object"==typeof l&&(l=l.ptr),It(this.ptr,l)},Ue.prototype.GetClipboardIntegration=Ue.prototype.GetClipboardIntegration=function(){return!!bt(this.ptr)},Ue.prototype.IsSuspended=Ue.prototype.IsSuspended=function(){return!!St(this.ptr)},Ue.prototype.GetSuspendContext=Ue.prototype.GetSuspendContext=function(){return Zn(Nt(this.ptr),$r)},Ue.prototype.SetNetworkRedirection=Ue.prototype.SetNetworkRedirection=function(l){l&&"object"==typeof l&&(l=l.ptr),zn(this.ptr,l)},Ue.prototype.GetNetworkRedirection=Ue.prototype.GetNetworkRedirection=function(){return!!Et(this.ptr)},Ue.prototype.RegisterProxyDisconnectHandler=Ue.prototype.RegisterProxyDisconnectHandler=function(l){l&&"object"==typeof l&&(l=l.ptr),Jt(this.ptr,l)},Ue.prototype.SetHotsyncNameManagement=Ue.prototype.SetHotsyncNameManagement=function(l){l&&"object"==typeof l&&(l=l.ptr),nt(this.ptr,l)},Ue.prototype.LaunchAppByName=Ue.prototype.LaunchAppByName=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),!!$t(h,l)},Ue.prototype.LaunchAppByDbHeader=Ue.prototype.LaunchAppByDbHeader=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!mr(this.ptr,l,h)},Ue.prototype.DeviceSupportsCardSize=Ue.prototype.DeviceSupportsCardSize=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!Sn(this.ptr,l)},Ue.prototype.ClearExternalStorage=Ue.prototype.ClearExternalStorage=function(){Qr(this.ptr)},Ue.prototype.AllocateCard=Ue.prototype.AllocateCard=function(l,h){var v=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),h&&"object"==typeof h&&(h=h.ptr),!!Dn(v,l,h)},Ue.prototype.MountCard=Ue.prototype.MountCard=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),!!Ba(h,l)},Ue.prototype.RemoveCard=Ue.prototype.RemoveCard=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),!!Js(h,l)},Ue.prototype.GetCardData=Ue.prototype.GetCardData=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),Zn(Tn(h,l),ar)},Ue.prototype.GetCardDirtyPages=Ue.prototype.GetCardDirtyPages=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),Zn(gl(h,l),ar)},Ue.prototype.GetCardSize=Ue.prototype.GetCardSize=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),ea(h,l)},Ue.prototype.RemountCards=Ue.prototype.RemountCards=function(){ec(this.ptr)},Ue.prototype.GetSupportLevel=Ue.prototype.GetSupportLevel=function(l){return l&&"object"==typeof l&&(l=l.ptr),As(this.ptr,l)},Ue.prototype.GetMountedKey=Ue.prototype.GetMountedKey=function(){return Ve(So(this.ptr))},Ue.prototype.__destroy__=Ue.prototype.__destroy__=function(){Va(this.ptr)},(nr.prototype=Object.create(Mt.prototype)).constructor=nr,nr.prototype.__class__=nr,nr.__cache__={},u.RomInfo=nr,nr.prototype.IsValid=nr.prototype.IsValid=function(){return!!Ii(this.ptr)},nr.prototype.CardVersion=nr.prototype.CardVersion=function(){return na(this.ptr)},nr.prototype.CardName=nr.prototype.CardName=function(){return Ve(fu(this.ptr))},nr.prototype.RomVersion=nr.prototype.RomVersion=function(){return gr(this.ptr)},nr.prototype.RomVersionString=nr.prototype.RomVersionString=function(){return Ve(Qd(this.ptr))},nr.prototype.Supports=nr.prototype.Supports=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),!!Jd(h,l)},nr.prototype.__destroy__=nr.prototype.__destroy__=function(){yl(this.ptr)},(Hn.prototype=Object.create(Mt.prototype)).constructor=Hn,Hn.prototype.__class__=Hn,Hn.__cache__={},u.Frame=Hn,Hn.prototype.GetLineWidth=Hn.prototype.GetLineWidth=function(){return tc(this.ptr)},Hn.prototype.GetBpp=Hn.prototype.GetBpp=function(){return Ha(this.ptr)},Hn.prototype.GetLines=Hn.prototype.GetLines=function(){return _l(this.ptr)},Hn.prototype.GetMargin=Hn.prototype.GetMargin=function(){return Ps(this.ptr)},Hn.prototype.GetBytesPerLine=Hn.prototype.GetBytesPerLine=function(){return Eo(this.ptr)},Hn.prototype.GetFirstDirtyLine=Hn.prototype.GetFirstDirtyLine=function(){return ef(this.ptr)},Hn.prototype.GetLastDirtyLine=Hn.prototype.GetLastDirtyLine=function(){return Bo(this.ptr)},Hn.prototype.GetHasChanges=Hn.prototype.GetHasChanges=function(){return!!Mi(this.ptr)},Hn.prototype.GetBuffer=Hn.prototype.GetBuffer=function(){return Zn(nc(this.ptr),ar)},Hn.prototype.GetBufferSize=Hn.prototype.GetBufferSize=function(){return vl(this.ptr)},Hn.prototype.GetScaleX=Hn.prototype.GetScaleX=function(){return bl(this.ptr)},Hn.prototype.GetScaleY=Hn.prototype.GetScaleY=function(){return ki(this.ptr)},Hn.prototype.__destroy__=Hn.prototype.__destroy__=function(){tf(this.ptr)},(er.prototype=Object.create(Mt.prototype)).constructor=er,er.prototype.__class__=er,er.__cache__={},u.DbBackup=er,er.prototype.Init=er.prototype.Init=function(l){return l&&"object"==typeof l&&(l=l.ptr),!!kh(this.ptr,l)},er.prototype.IsInProgress=er.prototype.IsInProgress=function(){return!!nf(this.ptr)},er.prototype.IsDone=er.prototype.IsDone=function(){return!!rf(this.ptr)},er.prototype.GetCurrentDatabase=er.prototype.GetCurrentDatabase=function(){return Ve(Th(this.ptr))},er.prototype.Save=er.prototype.Save=function(){return!!xh(this.ptr)},er.prototype.Skip=er.prototype.Skip=function(){Ah(this.ptr)},er.prototype.GetArchivePtr=er.prototype.GetArchivePtr=function(){return Zn(Ph(this.ptr),ar)},er.prototype.GetArchiveSize=er.prototype.GetArchiveSize=function(){return Rh(this.ptr)},er.prototype.__destroy__=er.prototype.__destroy__=function(){Fh(this.ptr)},(Tr.prototype=Object.create(Mt.prototype)).constructor=Tr,Tr.prototype.__class__=Tr,Tr.__cache__={},u.SuspendContextClipboardCopy=Tr,Tr.prototype.Cancel=Tr.prototype.Cancel=function(){Oh(this.ptr)},Tr.prototype.Resume=Tr.prototype.Resume=function(){Nh(this.ptr)},Tr.prototype.GetClipboardContent=Tr.prototype.GetClipboardContent=function(){return Ve(Lh(this.ptr))},Tr.prototype.__destroy__=Tr.prototype.__destroy__=function(){$h(this.ptr)},(ii.prototype=Object.create(Mt.prototype)).constructor=ii,ii.prototype.__class__=ii,ii.__cache__={},u.SuspendContextClipboardPaste=ii,ii.prototype.Cancel=ii.prototype.Cancel=function(){Bh(this.ptr)},ii.prototype.Resume=ii.prototype.Resume=function(l){var h=this.ptr;xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),Vh(h,l)},ii.prototype.__destroy__=ii.prototype.__destroy__=function(){Hh(this.ptr)},(Ho.prototype=Object.create(Mt.prototype)).constructor=Ho,Ho.prototype.__class__=Ho,Ho.__cache__={},u.SuspendContextNetworkConnect=Ho,Ho.prototype.Cancel=Ho.prototype.Cancel=function(){jh(this.ptr)},Ho.prototype.Resume=Ho.prototype.Resume=function(l){var h=this.ptr;xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),pu(h,l)},Ho.prototype.__destroy__=Ho.prototype.__destroy__=function(){rc(this.ptr)},(mo.prototype=Object.create(Mt.prototype)).constructor=mo,mo.prototype.__class__=mo,mo.__cache__={},u.SuspendContextNetworkRpc=mo,mo.prototype.Cancel=mo.prototype.Cancel=function(){Uh(this.ptr)},mo.prototype.GetRequestSize=mo.prototype.GetRequestSize=function(){return Gh(this.ptr)},mo.prototype.GetRequestData=mo.prototype.GetRequestData=function(){return Zn(zh(this.ptr),ar)},mo.prototype.ReceiveResponse=mo.prototype.ReceiveResponse=function(l,h){l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Rs(this.ptr,l,h)},mo.prototype.__destroy__=mo.prototype.__destroy__=function(){sf(this.ptr)},($r.prototype=Object.create(Mt.prototype)).constructor=$r,$r.prototype.__class__=$r,$r.__cache__={},u.SuspendContext=$r,$r.prototype.GetKind=$r.prototype.GetKind=function(){return ho(this.ptr)},$r.prototype.Cancel=$r.prototype.Cancel=function(){hu(this.ptr)},$r.prototype.AsContextClipboardCopy=$r.prototype.AsContextClipboardCopy=function(){return Zn(af(this.ptr),Tr)},$r.prototype.AsContextClipboardPaste=$r.prototype.AsContextClipboardPaste=function(){return Zn(lf(this.ptr),ii)},$r.prototype.AsContextNetworkConnect=$r.prototype.AsContextNetworkConnect=function(){return Zn(mu(this.ptr),Ho)},$r.prototype.AsContextNetworkRpc=$r.prototype.AsContextNetworkRpc=function(){return Zn(gu(this.ptr),mo)},$r.prototype.__destroy__=$r.prototype.__destroy__=function(){cf(this.ptr)},(Br.prototype=Object.create(Mt.prototype)).constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},u.ZipfileWalker=Br,Br.prototype.GetState=Br.prototype.GetState=function(){return uf(this.ptr)},Br.prototype.Next=Br.prototype.Next=function(){return pi(this.ptr)},Br.prototype.GetCurrentEntrySize=Br.prototype.GetCurrentEntrySize=function(){return ic(this.ptr)},Br.prototype.GetCurrentEntryName=Br.prototype.GetCurrentEntryName=function(){return Ve(df(this.ptr))},Br.prototype.GetCurrentEntryContent=Br.prototype.GetCurrentEntryContent=function(){return Zn(sc(this.ptr),ar)},Br.prototype.__destroy__=Br.prototype.__destroy__=function(){ff(this.ptr)},(ln.prototype=Object.create(Mt.prototype)).constructor=ln,ln.prototype.__class__=ln,ln.__cache__={},u.SessionImage=ln,ln.prototype.GetDeviceId=ln.prototype.GetDeviceId=function(){return Ve(Gr(this.ptr))},ln.prototype.SetDeviceId=ln.prototype.SetDeviceId=function(l){var h=this.ptr;return xn.prepare(),l=l&&"object"==typeof l?l.ptr:Vo(l),Zn(pf(h,l),ln)},ln.prototype.GetRomImage=ln.prototype.GetRomImage=function(){return Zn(qh(this.ptr),ar)},ln.prototype.GetRomImageSize=ln.prototype.GetRomImageSize=function(){return wl(this.ptr)},ln.prototype.SetRomImage=ln.prototype.SetRomImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Zn(hi(this.ptr,l,h),ln)},ln.prototype.GetMemoryImage=ln.prototype.GetMemoryImage=function(){return Zn(hf(this.ptr),ar)},ln.prototype.GetMemoryImageSize=ln.prototype.GetMemoryImageSize=function(){return ac(this.ptr)},ln.prototype.SetMemoryImage=ln.prototype.SetMemoryImage=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Zn(ra(this.ptr,l,h),ln)},ln.prototype.GetMetadata=ln.prototype.GetMetadata=function(){return Zn(oi(this.ptr),ar)},ln.prototype.GetMetadataSize=ln.prototype.GetMetadataSize=function(){return yu(this.ptr)},ln.prototype.SetMetadata=ln.prototype.SetMetadata=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Zn(lc(this.ptr,l,h),ln)},ln.prototype.GetSavestate=ln.prototype.GetSavestate=function(){return Zn(mf(this.ptr),ar)},ln.prototype.GetSavestateSize=ln.prototype.GetSavestateSize=function(){return ys(this.ptr)},ln.prototype.SetSavestate=ln.prototype.SetSavestate=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),Zn(_u(this.ptr,l,h),ln)},ln.prototype.GetVersion=ln.prototype.GetVersion=function(){return cc(this.ptr)},ln.prototype.Serialize=ln.prototype.Serialize=function(){return!!bn(this.ptr)},ln.prototype.GetSerializedImage=ln.prototype.GetSerializedImage=function(){return Zn(vu(this.ptr),ar)},ln.prototype.GetSerializedImageSize=ln.prototype.GetSerializedImageSize=function(){return Zh(this.ptr)},ln.prototype.Deserialize=ln.prototype.Deserialize=function(l,h){return l&&"object"==typeof l&&(l=l.ptr),h&&"object"==typeof h&&(h=h.ptr),!!gf(this.ptr,l,h)},ln.prototype.__destroy__=ln.prototype.__destroy__=function(){yf(this.ptr)},k.ready});Be.exports=qe},9084:Be=>{var F,qe=(F=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ae,oe,u=typeof(k=k||{})<"u"?k:{};u.ready=new Promise(function(p,_){ae=p,oe=_});var H,Fe,Q,q=Object.assign({},u),K=[],G="./this.program",z=(p,_)=>{throw _},Se="object"==typeof window,Z="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Se||Z)&&(Z?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),F&&(B=F),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=p=>{var _=new XMLHttpRequest;return _.open("GET",p,!1),_.send(null),_.responseText},Z&&(Q=p=>{var _=new XMLHttpRequest;return _.open("GET",p,!1),_.responseType="arraybuffer",_.send(null),new Uint8Array(_.response)}),Fe=(p,_,b)=>{var x=new XMLHttpRequest;x.open("GET",p,!0),x.responseType="arraybuffer",x.onload=()=>{200==x.status||0==x.status&&x.response?_(x.response):b()},x.onerror=b,x.send(null)});var he,Ce=u.print||console.log.bind(console),ce=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(K=u.arguments),u.thisProgram&&(G=u.thisProgram),u.quit&&(z=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Ne=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&tr("no native wasm support detected");var me,be,Ye=!1;function Ie(p,_){p||tr(_)}var Ze,Ke,_t,L,V,_e,Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ze(p,_,b){for(var x=_+b,U=_;p[U]&&!(U>=x);)++U;if(U-_>16&&p.buffer&&Ae)return Ae.decode(p.subarray(_,U));for(var ge="";_<U;){var ve=p[_++];if(128&ve){var ye=63&p[_++];if(192!=(224&ve)){var dt=63&p[_++];if((ve=224==(240&ve)?(15&ve)<<12|ye<<6|dt:(7&ve)<<18|ye<<12|dt<<6|63&p[_++])<65536)ge+=String.fromCharCode(ve);else{var d=ve-65536;ge+=String.fromCharCode(55296|d>>10,56320|1023&d)}}else ge+=String.fromCharCode((31&ve)<<6|ye)}else ge+=String.fromCharCode(ve)}return ge}function Ve(p,_){return p?ze(_t,p,_):""}function Pe(p,_,b,x){if(!(x>0))return 0;for(var U=b,ge=b+x-1,ve=0;ve<p.length;++ve){var ye=p.charCodeAt(ve);if(ye>=55296&&ye<=57343&&(ye=65536+((1023&ye)<<10)|1023&p.charCodeAt(++ve)),ye<=127){if(b>=ge)break;_[b++]=ye}else if(ye<=2047){if(b+1>=ge)break;_[b++]=192|ye>>6,_[b++]=128|63&ye}else if(ye<=65535){if(b+2>=ge)break;_[b++]=224|ye>>12,_[b++]=128|ye>>6&63,_[b++]=128|63&ye}else{if(b+3>=ge)break;_[b++]=240|ye>>18,_[b++]=128|ye>>12&63,_[b++]=128|ye>>6&63,_[b++]=128|63&ye}}return _[b]=0,b-U}function X(p){for(var _=0,b=0;b<p.length;++b){var x=p.charCodeAt(b);x<=127?_++:x<=2047?_+=2:x>=55296&&x<=57343?(_+=4,++b):_+=3}return _}function Re(p){Ze=p,u.HEAP8=Ke=new Int8Array(p),u.HEAP16=new Int16Array(p),u.HEAP32=L=new Int32Array(p),u.HEAPU8=_t=new Uint8Array(p),u.HEAPU16=new Uint16Array(p),u.HEAPU32=V=new Uint32Array(p),u.HEAPF32=new Float32Array(p),u.HEAPF64=_e=new Float64Array(p)}var In,ot=[],at=[],Lt=[],Ut=[],Gn=0,cr=null,Cr=null;function bo(p){Gn++,u.monitorRunDependencies&&u.monitorRunDependencies(Gn)}function ur(p){if(Gn--,u.monitorRunDependencies&&u.monitorRunDependencies(Gn),0==Gn&&(null!==cr&&(clearInterval(cr),cr=null),Cr)){var _=Cr;Cr=null,_()}}function tr(p){u.onAbort&&u.onAbort(p),ce(p="Aborted("+p+")"),Ye=!0,be=1,p+=". Build with -sASSERTIONS for more info.";var _=new WebAssembly.RuntimeError(p);throw oe(_),_}function Hr(p){return p.startsWith("data:application/octet-stream;base64,")}function Yr(p){try{if(p==In&&he)return new Uint8Array(he);if(Q)return Q(p);throw"both async and sync fetching of the wasm failed"}catch(_){tr(_)}}Hr(In="fstools_web.wasm")||(In=function O(p){return u.locateFile?u.locateFile(p,B):B+p}(In));var st,le,je={40302:()=>{throw new Error("terminated")}};function yn(p){this.name="ExitStatus",this.message="Program terminated with exit("+p+")",this.status=p}function En(p){for(;p.length>0;)p.shift()(u)}var Ht={isAbs:p=>"/"===p.charAt(0),splitPath:p=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1),normalizeArray:(p,_)=>{for(var b=0,x=p.length-1;x>=0;x--){var U=p[x];"."===U?p.splice(x,1):".."===U?(p.splice(x,1),b++):b&&(p.splice(x,1),b--)}if(_)for(;b;b--)p.unshift("..");return p},normalize:p=>{var _=Ht.isAbs(p),b="/"===p.substr(-1);return!(p=Ht.normalizeArray(p.split("/").filter(x=>!!x),!_).join("/"))&&!_&&(p="."),p&&b&&(p+="/"),(_?"/":"")+p},dirname:p=>{var _=Ht.splitPath(p),b=_[0],x=_[1];return b||x?(x&&(x=x.substr(0,x.length-1)),b+x):"."},basename:p=>{if("/"===p)return"/";var _=(p=(p=Ht.normalize(p)).replace(/\/$/,"")).lastIndexOf("/");return-1===_?p:p.substr(_+1)},join:function(){var p=Array.prototype.slice.call(arguments);return Ht.normalize(p.join("/"))},join2:(p,_)=>Ht.normalize(p+"/"+_)},rr={resolve:function(){for(var p="",_=!1,b=arguments.length-1;b>=-1&&!_;b--){var x=b>=0?arguments[b]:S.cwd();if("string"!=typeof x)throw new TypeError("Arguments to path.resolve must be strings");if(!x)return"";p=x+"/"+p,_=Ht.isAbs(x)}return(_?"/":"")+(p=Ht.normalizeArray(p.split("/").filter(U=>!!U),!_).join("/"))||"."},relative:(p,_)=>{function b(d){for(var m=0;m<d.length&&""===d[m];m++);for(var w=d.length-1;w>=0&&""===d[w];w--);return m>w?[]:d.slice(m,w-m+1)}p=rr.resolve(p).substr(1),_=rr.resolve(_).substr(1);for(var x=b(p.split("/")),U=b(_.split("/")),ge=Math.min(x.length,U.length),ve=ge,ye=0;ye<ge;ye++)if(x[ye]!==U[ye]){ve=ye;break}var dt=[];for(ye=ve;ye<x.length;ye++)dt.push("..");return(dt=dt.concat(U.slice(ve))).join("/")}};function an(p,_,b){var x=b>0?b:X(p)+1,U=new Array(x),ge=Pe(p,U,0,U.length);return _&&(U.length=ge),U}var Jn={ttys:[],init:function(){},shutdown:function(){},register:function(p,_){Jn.ttys[p]={input:[],output:[],ops:_},S.registerDevice(p,Jn.stream_ops)},stream_ops:{open:function(p){var _=Jn.ttys[p.node.rdev];if(!_)throw new S.ErrnoError(43);p.tty=_,p.seekable=!1},close:function(p){p.tty.ops.fsync(p.tty)},fsync:function(p){p.tty.ops.fsync(p.tty)},read:function(p,_,b,x,U){if(!p.tty||!p.tty.ops.get_char)throw new S.ErrnoError(60);for(var ge=0,ve=0;ve<x;ve++){var ye;try{ye=p.tty.ops.get_char(p.tty)}catch{throw new S.ErrnoError(29)}if(void 0===ye&&0===ge)throw new S.ErrnoError(6);if(null==ye)break;ge++,_[b+ve]=ye}return ge&&(p.node.timestamp=Date.now()),ge},write:function(p,_,b,x,U){if(!p.tty||!p.tty.ops.put_char)throw new S.ErrnoError(60);try{for(var ge=0;ge<x;ge++)p.tty.ops.put_char(p.tty,_[b+ge])}catch{throw new S.ErrnoError(29)}return x&&(p.node.timestamp=Date.now()),ge}},default_tty_ops:{get_char:function(p){if(!p.input.length){var _=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(_=window.prompt("Input: "))&&(_+="\n"):"function"==typeof readline&&null!==(_=readline())&&(_+="\n"),!_)return null;p.input=an(_,!0)}return p.input.shift()},put_char:function(p,_){null===_||10===_?(Ce(ze(p.output,0)),p.output=[]):0!=_&&p.output.push(_)},fsync:function(p){p.output&&p.output.length>0&&(Ce(ze(p.output,0)),p.output=[])}},default_tty1_ops:{put_char:function(p,_){null===_||10===_?(ce(ze(p.output,0)),p.output=[]):0!=_&&p.output.push(_)},fsync:function(p){p.output&&p.output.length>0&&(ce(ze(p.output,0)),p.output=[])}}};function dr(p){tr()}var Wt={ops_table:null,mount:function(p){return Wt.createNode(null,"/",16895,0)},createNode:function(p,_,b,x){if(S.isBlkdev(b)||S.isFIFO(b))throw new S.ErrnoError(63);Wt.ops_table||(Wt.ops_table={dir:{node:{getattr:Wt.node_ops.getattr,setattr:Wt.node_ops.setattr,lookup:Wt.node_ops.lookup,mknod:Wt.node_ops.mknod,rename:Wt.node_ops.rename,unlink:Wt.node_ops.unlink,rmdir:Wt.node_ops.rmdir,readdir:Wt.node_ops.readdir,symlink:Wt.node_ops.symlink},stream:{llseek:Wt.stream_ops.llseek}},file:{node:{getattr:Wt.node_ops.getattr,setattr:Wt.node_ops.setattr},stream:{llseek:Wt.stream_ops.llseek,read:Wt.stream_ops.read,write:Wt.stream_ops.write,allocate:Wt.stream_ops.allocate,mmap:Wt.stream_ops.mmap,msync:Wt.stream_ops.msync}},link:{node:{getattr:Wt.node_ops.getattr,setattr:Wt.node_ops.setattr,readlink:Wt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Wt.node_ops.getattr,setattr:Wt.node_ops.setattr},stream:S.chrdev_stream_ops}});var U=S.createNode(p,_,b,x);return S.isDir(U.mode)?(U.node_ops=Wt.ops_table.dir.node,U.stream_ops=Wt.ops_table.dir.stream,U.contents={}):S.isFile(U.mode)?(U.node_ops=Wt.ops_table.file.node,U.stream_ops=Wt.ops_table.file.stream,U.usedBytes=0,U.contents=null):S.isLink(U.mode)?(U.node_ops=Wt.ops_table.link.node,U.stream_ops=Wt.ops_table.link.stream):S.isChrdev(U.mode)&&(U.node_ops=Wt.ops_table.chrdev.node,U.stream_ops=Wt.ops_table.chrdev.stream),U.timestamp=Date.now(),p&&(p.contents[_]=U,p.timestamp=U.timestamp),U},getFileDataAsTypedArray:function(p){return p.contents?p.contents.subarray?p.contents.subarray(0,p.usedBytes):new Uint8Array(p.contents):new Uint8Array(0)},expandFileStorage:function(p,_){var b=p.contents?p.contents.length:0;if(!(b>=_)){_=Math.max(_,b*(b<1048576?2:1.125)>>>0),0!=b&&(_=Math.max(_,256));var U=p.contents;p.contents=new Uint8Array(_),p.usedBytes>0&&p.contents.set(U.subarray(0,p.usedBytes),0)}},resizeFileStorage:function(p,_){if(p.usedBytes!=_)if(0==_)p.contents=null,p.usedBytes=0;else{var b=p.contents;p.contents=new Uint8Array(_),b&&p.contents.set(b.subarray(0,Math.min(_,p.usedBytes))),p.usedBytes=_}},node_ops:{getattr:function(p){var _={};return _.dev=S.isChrdev(p.mode)?p.id:1,_.ino=p.id,_.mode=p.mode,_.nlink=1,_.uid=0,_.gid=0,_.rdev=p.rdev,_.size=S.isDir(p.mode)?4096:S.isFile(p.mode)?p.usedBytes:S.isLink(p.mode)?p.link.length:0,_.atime=new Date(p.timestamp),_.mtime=new Date(p.timestamp),_.ctime=new Date(p.timestamp),_.blksize=4096,_.blocks=Math.ceil(_.size/_.blksize),_},setattr:function(p,_){void 0!==_.mode&&(p.mode=_.mode),void 0!==_.timestamp&&(p.timestamp=_.timestamp),void 0!==_.size&&Wt.resizeFileStorage(p,_.size)},lookup:function(p,_){throw S.genericErrors[44]},mknod:function(p,_,b,x){return Wt.createNode(p,_,b,x)},rename:function(p,_,b){if(S.isDir(p.mode)){var x;try{x=S.lookupNode(_,b)}catch{}if(x)for(var U in x.contents)throw new S.ErrnoError(55)}delete p.parent.contents[p.name],p.parent.timestamp=Date.now(),p.name=b,_.contents[b]=p,_.timestamp=p.parent.timestamp,p.parent=_},unlink:function(p,_){delete p.contents[_],p.timestamp=Date.now()},rmdir:function(p,_){var b=S.lookupNode(p,_);for(var x in b.contents)throw new S.ErrnoError(55);delete p.contents[_],p.timestamp=Date.now()},readdir:function(p){var _=[".",".."];for(var b in p.contents)!p.contents.hasOwnProperty(b)||_.push(b);return _},symlink:function(p,_,b){var x=Wt.createNode(p,_,41471,0);return x.link=b,x},readlink:function(p){if(!S.isLink(p.mode))throw new S.ErrnoError(28);return p.link}},stream_ops:{read:function(p,_,b,x,U){var ge=p.node.contents;if(U>=p.node.usedBytes)return 0;var ve=Math.min(p.node.usedBytes-U,x);if(ve>8&&ge.subarray)_.set(ge.subarray(U,U+ve),b);else for(var ye=0;ye<ve;ye++)_[b+ye]=ge[U+ye];return ve},write:function(p,_,b,x,U,ge){if(_.buffer===Ke.buffer&&(ge=!1),!x)return 0;var ve=p.node;if(ve.timestamp=Date.now(),_.subarray&&(!ve.contents||ve.contents.subarray)){if(ge)return ve.contents=_.subarray(b,b+x),ve.usedBytes=x,x;if(0===ve.usedBytes&&0===U)return ve.contents=_.slice(b,b+x),ve.usedBytes=x,x;if(U+x<=ve.usedBytes)return ve.contents.set(_.subarray(b,b+x),U),x}if(Wt.expandFileStorage(ve,U+x),ve.contents.subarray&&_.subarray)ve.contents.set(_.subarray(b,b+x),U);else for(var ye=0;ye<x;ye++)ve.contents[U+ye]=_[b+ye];return ve.usedBytes=Math.max(ve.usedBytes,U+x),x},llseek:function(p,_,b){var x=_;if(1===b?x+=p.position:2===b&&S.isFile(p.node.mode)&&(x+=p.node.usedBytes),x<0)throw new S.ErrnoError(28);return x},allocate:function(p,_,b){Wt.expandFileStorage(p.node,_+b),p.node.usedBytes=Math.max(p.node.usedBytes,_+b)},mmap:function(p,_,b,x,U){if(!S.isFile(p.node.mode))throw new S.ErrnoError(43);var ge,ve,ye=p.node.contents;if(2&U||ye.buffer!==Ze){if((b>0||b+_<ye.length)&&(ye=ye.subarray?ye.subarray(b,b+_):Array.prototype.slice.call(ye,b,b+_)),ve=!0,!(ge=dr()))throw new S.ErrnoError(48);Ke.set(ye,ge)}else ve=!1,ge=ye.byteOffset;return{ptr:ge,allocated:ve}},msync:function(p,_,b,x,U){return Wt.stream_ops.write(p,_,0,x,b,!1),0}}},S={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(p,_={})=>{if(!(p=rr.resolve(p)))return{path:"",node:null};if((_=Object.assign({follow_mount:!0,recurse_count:0},_)).recurse_count>8)throw new S.ErrnoError(32);for(var x=p.split("/").filter(w=>!!w),U=S.root,ge="/",ve=0;ve<x.length;ve++){var ye=ve===x.length-1;if(ye&&_.parent)break;if(U=S.lookupNode(U,x[ve]),ge=Ht.join2(ge,x[ve]),S.isMountpoint(U)&&(!ye||ye&&_.follow_mount)&&(U=U.mounted.root),!ye||_.follow)for(var dt=0;S.isLink(U.mode);){var d=S.readlink(ge);if(ge=rr.resolve(Ht.dirname(ge),d),U=S.lookupPath(ge,{recurse_count:_.recurse_count+1}).node,dt++>40)throw new S.ErrnoError(32)}}return{path:ge,node:U}},getPath:p=>{for(var _;;){if(S.isRoot(p)){var b=p.mount.mountpoint;return _?"/"!==b[b.length-1]?b+"/"+_:b+_:b}_=_?p.name+"/"+_:p.name,p=p.parent}},hashName:(p,_)=>{for(var b=0,x=0;x<_.length;x++)b=(b<<5)-b+_.charCodeAt(x)|0;return(p+b>>>0)%S.nameTable.length},hashAddNode:p=>{var _=S.hashName(p.parent.id,p.name);p.name_next=S.nameTable[_],S.nameTable[_]=p},hashRemoveNode:p=>{var _=S.hashName(p.parent.id,p.name);if(S.nameTable[_]===p)S.nameTable[_]=p.name_next;else for(var b=S.nameTable[_];b;){if(b.name_next===p){b.name_next=p.name_next;break}b=b.name_next}},lookupNode:(p,_)=>{var b=S.mayLookup(p);if(b)throw new S.ErrnoError(b,p);for(var x=S.hashName(p.id,_),U=S.nameTable[x];U;U=U.name_next)if(U.parent.id===p.id&&U.name===_)return U;return S.lookup(p,_)},createNode:(p,_,b,x)=>{var U=new S.FSNode(p,_,b,x);return S.hashAddNode(U),U},destroyNode:p=>{S.hashRemoveNode(p)},isRoot:p=>p===p.parent,isMountpoint:p=>!!p.mounted,isFile:p=>32768==(61440&p),isDir:p=>16384==(61440&p),isLink:p=>40960==(61440&p),isChrdev:p=>8192==(61440&p),isBlkdev:p=>24576==(61440&p),isFIFO:p=>4096==(61440&p),isSocket:p=>49152==(49152&p),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:p=>{var _=S.flagModes[p];if(typeof _>"u")throw new Error("Unknown file open mode: "+p);return _},flagsToPermissionString:p=>{var _=["r","w","rw"][3&p];return 512&p&&(_+="w"),_},nodePermissions:(p,_)=>S.ignorePermissions?0:_.includes("r")&&!(292&p.mode)||_.includes("w")&&!(146&p.mode)||_.includes("x")&&!(73&p.mode)?2:0,mayLookup:p=>S.nodePermissions(p,"x")||(p.node_ops.lookup?0:2),mayCreate:(p,_)=>{try{return S.lookupNode(p,_),20}catch{}return S.nodePermissions(p,"wx")},mayDelete:(p,_,b)=>{var x;try{x=S.lookupNode(p,_)}catch(ge){return ge.errno}var U=S.nodePermissions(p,"wx");if(U)return U;if(b){if(!S.isDir(x.mode))return 54;if(S.isRoot(x)||S.getPath(x)===S.cwd())return 10}else if(S.isDir(x.mode))return 31;return 0},mayOpen:(p,_)=>p?S.isLink(p.mode)?32:S.isDir(p.mode)&&("r"!==S.flagsToPermissionString(_)||512&_)?31:S.nodePermissions(p,S.flagsToPermissionString(_)):44,MAX_OPEN_FDS:4096,nextfd:(p=0,_=S.MAX_OPEN_FDS)=>{for(var b=p;b<=_;b++)if(!S.streams[b])return b;throw new S.ErrnoError(33)},getStream:p=>S.streams[p],createStream:(p,_,b)=>{S.FSStream||(S.FSStream=function(){this.shared={}},S.FSStream.prototype={},Object.defineProperties(S.FSStream.prototype,{object:{get:function(){return this.node},set:function(U){this.node=U}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function(U){this.shared.flags=U}},position:{get:function(){return this.shared.position},set:function(U){this.shared.position=U}}})),p=Object.assign(new S.FSStream,p);var x=S.nextfd(_,b);return p.fd=x,S.streams[x]=p,p},closeStream:p=>{S.streams[p]=null},chrdev_stream_ops:{open:p=>{var _=S.getDevice(p.node.rdev);p.stream_ops=_.stream_ops,p.stream_ops.open&&p.stream_ops.open(p)},llseek:()=>{throw new S.ErrnoError(70)}},major:p=>p>>8,minor:p=>255&p,makedev:(p,_)=>p<<8|_,registerDevice:(p,_)=>{S.devices[p]={stream_ops:_}},getDevice:p=>S.devices[p],getMounts:p=>{for(var _=[],b=[p];b.length;){var x=b.pop();_.push(x),b.push.apply(b,x.mounts)}return _},syncfs:(p,_)=>{"function"==typeof p&&(_=p,p=!1),S.syncFSRequests++,S.syncFSRequests>1&&ce("warning: "+S.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var b=S.getMounts(S.root.mount),x=0;function U(ve){return S.syncFSRequests--,_(ve)}function ge(ve){if(ve)return ge.errored?void 0:(ge.errored=!0,U(ve));++x>=b.length&&U(null)}b.forEach(ve=>{if(!ve.type.syncfs)return ge(null);ve.type.syncfs(ve,p,ge)})},mount:(p,_,b)=>{var ge,x="/"===b,U=!b;if(x&&S.root)throw new S.ErrnoError(10);if(!x&&!U){var ve=S.lookupPath(b,{follow_mount:!1});if(b=ve.path,S.isMountpoint(ge=ve.node))throw new S.ErrnoError(10);if(!S.isDir(ge.mode))throw new S.ErrnoError(54)}var ye={type:p,opts:_,mountpoint:b,mounts:[]},dt=p.mount(ye);return dt.mount=ye,ye.root=dt,x?S.root=dt:ge&&(ge.mounted=ye,ge.mount&&ge.mount.mounts.push(ye)),dt},unmount:p=>{var _=S.lookupPath(p,{follow_mount:!1});if(!S.isMountpoint(_.node))throw new S.ErrnoError(28);var b=_.node,x=b.mounted,U=S.getMounts(x);Object.keys(S.nameTable).forEach(ve=>{for(var ye=S.nameTable[ve];ye;){var dt=ye.name_next;U.includes(ye.mount)&&S.destroyNode(ye),ye=dt}}),b.mounted=null;var ge=b.mount.mounts.indexOf(x);b.mount.mounts.splice(ge,1)},lookup:(p,_)=>p.node_ops.lookup(p,_),mknod:(p,_,b)=>{var U=S.lookupPath(p,{parent:!0}).node,ge=Ht.basename(p);if(!ge||"."===ge||".."===ge)throw new S.ErrnoError(28);var ve=S.mayCreate(U,ge);if(ve)throw new S.ErrnoError(ve);if(!U.node_ops.mknod)throw new S.ErrnoError(63);return U.node_ops.mknod(U,ge,_,b)},create:(p,_)=>(_=void 0!==_?_:438,_&=4095,S.mknod(p,_|=32768,0)),mkdir:(p,_)=>(_=void 0!==_?_:511,_&=1023,S.mknod(p,_|=16384,0)),mkdirTree:(p,_)=>{for(var b=p.split("/"),x="",U=0;U<b.length;++U)if(b[U]){x+="/"+b[U];try{S.mkdir(x,_)}catch(ge){if(20!=ge.errno)throw ge}}},mkdev:(p,_,b)=>(typeof b>"u"&&(b=_,_=438),S.mknod(p,_|=8192,b)),symlink:(p,_)=>{if(!rr.resolve(p))throw new S.ErrnoError(44);var x=S.lookupPath(_,{parent:!0}).node;if(!x)throw new S.ErrnoError(44);var U=Ht.basename(_),ge=S.mayCreate(x,U);if(ge)throw new S.ErrnoError(ge);if(!x.node_ops.symlink)throw new S.ErrnoError(63);return x.node_ops.symlink(x,U,p)},rename:(p,_)=>{var ye,dt,b=Ht.dirname(p),x=Ht.dirname(_),U=Ht.basename(p),ge=Ht.basename(_);if(ye=S.lookupPath(p,{parent:!0}).node,dt=S.lookupPath(_,{parent:!0}).node,!ye||!dt)throw new S.ErrnoError(44);if(ye.mount!==dt.mount)throw new S.ErrnoError(75);var w,d=S.lookupNode(ye,U),m=rr.relative(p,x);if("."!==m.charAt(0))throw new S.ErrnoError(28);if("."!==(m=rr.relative(_,b)).charAt(0))throw new S.ErrnoError(55);try{w=S.lookupNode(dt,ge)}catch{}if(d!==w){var M=S.isDir(d.mode),$=S.mayDelete(ye,U,M);if($)throw new S.ErrnoError($);if($=w?S.mayDelete(dt,ge,M):S.mayCreate(dt,ge))throw new S.ErrnoError($);if(!ye.node_ops.rename)throw new S.ErrnoError(63);if(S.isMountpoint(d)||w&&S.isMountpoint(w))throw new S.ErrnoError(10);if(dt!==ye&&($=S.nodePermissions(ye,"w")))throw new S.ErrnoError($);S.hashRemoveNode(d);try{ye.node_ops.rename(d,dt,ge)}catch(te){throw te}finally{S.hashAddNode(d)}}},rmdir:p=>{var b=S.lookupPath(p,{parent:!0}).node,x=Ht.basename(p),U=S.lookupNode(b,x),ge=S.mayDelete(b,x,!0);if(ge)throw new S.ErrnoError(ge);if(!b.node_ops.rmdir)throw new S.ErrnoError(63);if(S.isMountpoint(U))throw new S.ErrnoError(10);b.node_ops.rmdir(b,x),S.destroyNode(U)},readdir:p=>{var b=S.lookupPath(p,{follow:!0}).node;if(!b.node_ops.readdir)throw new S.ErrnoError(54);return b.node_ops.readdir(b)},unlink:p=>{var b=S.lookupPath(p,{parent:!0}).node;if(!b)throw new S.ErrnoError(44);var x=Ht.basename(p),U=S.lookupNode(b,x),ge=S.mayDelete(b,x,!1);if(ge)throw new S.ErrnoError(ge);if(!b.node_ops.unlink)throw new S.ErrnoError(63);if(S.isMountpoint(U))throw new S.ErrnoError(10);b.node_ops.unlink(b,x),S.destroyNode(U)},readlink:p=>{var b=S.lookupPath(p).node;if(!b)throw new S.ErrnoError(44);if(!b.node_ops.readlink)throw new S.ErrnoError(28);return rr.resolve(S.getPath(b.parent),b.node_ops.readlink(b))},stat:(p,_)=>{var x=S.lookupPath(p,{follow:!_}).node;if(!x)throw new S.ErrnoError(44);if(!x.node_ops.getattr)throw new S.ErrnoError(63);return x.node_ops.getattr(x)},lstat:p=>S.stat(p,!0),chmod:(p,_,b)=>{var x;if(!(x="string"==typeof p?S.lookupPath(p,{follow:!b}).node:p).node_ops.setattr)throw new S.ErrnoError(63);x.node_ops.setattr(x,{mode:4095&_|-4096&x.mode,timestamp:Date.now()})},lchmod:(p,_)=>{S.chmod(p,_,!0)},fchmod:(p,_)=>{var b=S.getStream(p);if(!b)throw new S.ErrnoError(8);S.chmod(b.node,_)},chown:(p,_,b,x)=>{var U;if(!(U="string"==typeof p?S.lookupPath(p,{follow:!x}).node:p).node_ops.setattr)throw new S.ErrnoError(63);U.node_ops.setattr(U,{timestamp:Date.now()})},lchown:(p,_,b)=>{S.chown(p,_,b,!0)},fchown:(p,_,b)=>{var x=S.getStream(p);if(!x)throw new S.ErrnoError(8);S.chown(x.node,_,b)},truncate:(p,_)=>{if(_<0)throw new S.ErrnoError(28);var b;if(!(b="string"==typeof p?S.lookupPath(p,{follow:!0}).node:p).node_ops.setattr)throw new S.ErrnoError(63);if(S.isDir(b.mode))throw new S.ErrnoError(31);if(!S.isFile(b.mode))throw new S.ErrnoError(28);var U=S.nodePermissions(b,"w");if(U)throw new S.ErrnoError(U);b.node_ops.setattr(b,{size:_,timestamp:Date.now()})},ftruncate:(p,_)=>{var b=S.getStream(p);if(!b)throw new S.ErrnoError(8);if(0==(2097155&b.flags))throw new S.ErrnoError(28);S.truncate(b.node,_)},utime:(p,_,b)=>{var U=S.lookupPath(p,{follow:!0}).node;U.node_ops.setattr(U,{timestamp:Math.max(_,b)})},open:(p,_,b)=>{if(""===p)throw new S.ErrnoError(44);var x;if(b=typeof b>"u"?438:b,b=64&(_="string"==typeof _?S.modeStringToFlags(_):_)?4095&b|32768:0,"object"==typeof p)x=p;else{p=Ht.normalize(p);try{x=S.lookupPath(p,{follow:!(131072&_)}).node}catch{}}var ge=!1;if(64&_)if(x){if(128&_)throw new S.ErrnoError(20)}else x=S.mknod(p,b,0),ge=!0;if(!x)throw new S.ErrnoError(44);if(S.isChrdev(x.mode)&&(_&=-513),65536&_&&!S.isDir(x.mode))throw new S.ErrnoError(54);if(!ge){var ve=S.mayOpen(x,_);if(ve)throw new S.ErrnoError(ve)}512&_&&!ge&&S.truncate(x,0),_&=-131713;var ye=S.createStream({node:x,path:S.getPath(x),flags:_,seekable:!0,position:0,stream_ops:x.stream_ops,ungotten:[],error:!1});return ye.stream_ops.open&&ye.stream_ops.open(ye),u.logReadFiles&&!(1&_)&&(S.readFiles||(S.readFiles={}),p in S.readFiles||(S.readFiles[p]=1)),ye},close:p=>{if(S.isClosed(p))throw new S.ErrnoError(8);p.getdents&&(p.getdents=null);try{p.stream_ops.close&&p.stream_ops.close(p)}catch(_){throw _}finally{S.closeStream(p.fd)}p.fd=null},isClosed:p=>null===p.fd,llseek:(p,_,b)=>{if(S.isClosed(p))throw new S.ErrnoError(8);if(!p.seekable||!p.stream_ops.llseek)throw new S.ErrnoError(70);if(0!=b&&1!=b&&2!=b)throw new S.ErrnoError(28);return p.position=p.stream_ops.llseek(p,_,b),p.ungotten=[],p.position},read:(p,_,b,x,U)=>{if(x<0||U<0)throw new S.ErrnoError(28);if(S.isClosed(p))throw new S.ErrnoError(8);if(1==(2097155&p.flags))throw new S.ErrnoError(8);if(S.isDir(p.node.mode))throw new S.ErrnoError(31);if(!p.stream_ops.read)throw new S.ErrnoError(28);var ge=typeof U<"u";if(ge){if(!p.seekable)throw new S.ErrnoError(70)}else U=p.position;var ve=p.stream_ops.read(p,_,b,x,U);return ge||(p.position+=ve),ve},write:(p,_,b,x,U,ge)=>{if(x<0||U<0)throw new S.ErrnoError(28);if(S.isClosed(p))throw new S.ErrnoError(8);if(0==(2097155&p.flags))throw new S.ErrnoError(8);if(S.isDir(p.node.mode))throw new S.ErrnoError(31);if(!p.stream_ops.write)throw new S.ErrnoError(28);p.seekable&&1024&p.flags&&S.llseek(p,0,2);var ve=typeof U<"u";if(ve){if(!p.seekable)throw new S.ErrnoError(70)}else U=p.position;var ye=p.stream_ops.write(p,_,b,x,U,ge);return ve||(p.position+=ye),ye},allocate:(p,_,b)=>{if(S.isClosed(p))throw new S.ErrnoError(8);if(_<0||b<=0)throw new S.ErrnoError(28);if(0==(2097155&p.flags))throw new S.ErrnoError(8);if(!S.isFile(p.node.mode)&&!S.isDir(p.node.mode))throw new S.ErrnoError(43);if(!p.stream_ops.allocate)throw new S.ErrnoError(138);p.stream_ops.allocate(p,_,b)},mmap:(p,_,b,x,U)=>{if(0!=(2&x)&&0==(2&U)&&2!=(2097155&p.flags))throw new S.ErrnoError(2);if(1==(2097155&p.flags))throw new S.ErrnoError(2);if(!p.stream_ops.mmap)throw new S.ErrnoError(43);return p.stream_ops.mmap(p,_,b,x,U)},msync:(p,_,b,x,U)=>p.stream_ops.msync?p.stream_ops.msync(p,_,b,x,U):0,munmap:p=>0,ioctl:(p,_,b)=>{if(!p.stream_ops.ioctl)throw new S.ErrnoError(59);return p.stream_ops.ioctl(p,_,b)},readFile:(p,_={})=>{if(_.flags=_.flags||0,_.encoding=_.encoding||"binary","utf8"!==_.encoding&&"binary"!==_.encoding)throw new Error('Invalid encoding type "'+_.encoding+'"');var b,x=S.open(p,_.flags),ge=S.stat(p).size,ve=new Uint8Array(ge);return S.read(x,ve,0,ge,0),"utf8"===_.encoding?b=ze(ve,0):"binary"===_.encoding&&(b=ve),S.close(x),b},writeFile:(p,_,b={})=>{b.flags=b.flags||577;var x=S.open(p,b.flags,b.mode);if("string"==typeof _){var U=new Uint8Array(X(_)+1),ge=Pe(_,U,0,U.length);S.write(x,U,0,ge,void 0,b.canOwn)}else{if(!ArrayBuffer.isView(_))throw new Error("Unsupported data type");S.write(x,_,0,_.byteLength,void 0,b.canOwn)}S.close(x)},cwd:()=>S.currentPath,chdir:p=>{var _=S.lookupPath(p,{follow:!0});if(null===_.node)throw new S.ErrnoError(44);if(!S.isDir(_.node.mode))throw new S.ErrnoError(54);var b=S.nodePermissions(_.node,"x");if(b)throw new S.ErrnoError(b);S.currentPath=_.path},createDefaultDirectories:()=>{S.mkdir("/tmp"),S.mkdir("/home"),S.mkdir("/home/web_user")},createDefaultDevices:()=>{S.mkdir("/dev"),S.registerDevice(S.makedev(1,3),{read:()=>0,write:(_,b,x,U,ge)=>U}),S.mkdev("/dev/null",S.makedev(1,3)),Jn.register(S.makedev(5,0),Jn.default_tty_ops),Jn.register(S.makedev(6,0),Jn.default_tty1_ops),S.mkdev("/dev/tty",S.makedev(5,0)),S.mkdev("/dev/tty1",S.makedev(6,0));var p=function pn(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}return()=>tr("randomDevice")}();S.createDevice("/dev","random",p),S.createDevice("/dev","urandom",p),S.mkdir("/dev/shm"),S.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{S.mkdir("/proc");var p=S.mkdir("/proc/self");S.mkdir("/proc/self/fd"),S.mount({mount:()=>{var _=S.createNode(p,"fd",16895,73);return _.node_ops={lookup:(b,x)=>{var ge=S.getStream(+x);if(!ge)throw new S.ErrnoError(8);var ve={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>ge.path}};return ve.parent=ve,ve}},_}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?S.createDevice("/dev","stdin",u.stdin):S.symlink("/dev/tty","/dev/stdin"),u.stdout?S.createDevice("/dev","stdout",null,u.stdout):S.symlink("/dev/tty","/dev/stdout"),u.stderr?S.createDevice("/dev","stderr",null,u.stderr):S.symlink("/dev/tty1","/dev/stderr"),S.open("/dev/stdin",0),S.open("/dev/stdout",1),S.open("/dev/stderr",1)},ensureErrnoError:()=>{S.ErrnoError||(S.ErrnoError=function(_,b){this.node=b,this.setErrno=function(x){this.errno=x},this.setErrno(_),this.message="FS error"},S.ErrnoError.prototype=new Error,S.ErrnoError.prototype.constructor=S.ErrnoError,[44].forEach(p=>{S.genericErrors[p]=new S.ErrnoError(p),S.genericErrors[p].stack="<generic error, no stack>"}))},staticInit:()=>{S.ensureErrnoError(),S.nameTable=new Array(4096),S.mount(Wt,{},"/"),S.createDefaultDirectories(),S.createDefaultDevices(),S.createSpecialDirectories(),S.filesystems={MEMFS:Wt}},init:(p,_,b)=>{S.init.initialized=!0,S.ensureErrnoError(),u.stdin=p||u.stdin,u.stdout=_||u.stdout,u.stderr=b||u.stderr,S.createStandardStreams()},quit:()=>{S.init.initialized=!1;for(var p=0;p<S.streams.length;p++){var _=S.streams[p];!_||S.close(_)}},getMode:(p,_)=>{var b=0;return p&&(b|=365),_&&(b|=146),b},findObject:(p,_)=>{var b=S.analyzePath(p,_);return b.exists?b.object:null},analyzePath:(p,_)=>{try{p=(b=S.lookupPath(p,{follow:!_})).path}catch{}var x={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=S.lookupPath(p,{parent:!0});x.parentExists=!0,x.parentPath=b.path,x.parentObject=b.node,x.name=Ht.basename(p),b=S.lookupPath(p,{follow:!_}),x.exists=!0,x.path=b.path,x.object=b.node,x.name=b.node.name,x.isRoot="/"===b.path}catch(U){x.error=U.errno}return x},createPath:(p,_,b,x)=>{p="string"==typeof p?p:S.getPath(p);for(var U=_.split("/").reverse();U.length;){var ge=U.pop();if(ge){var ve=Ht.join2(p,ge);try{S.mkdir(ve)}catch{}p=ve}}return ve},createFile:(p,_,b,x,U)=>{var ge=Ht.join2("string"==typeof p?p:S.getPath(p),_),ve=S.getMode(x,U);return S.create(ge,ve)},createDataFile:(p,_,b,x,U,ge)=>{var ve=_;p&&(p="string"==typeof p?p:S.getPath(p),ve=_?Ht.join2(p,_):p);var ye=S.getMode(x,U),dt=S.create(ve,ye);if(b){if("string"==typeof b){for(var d=new Array(b.length),m=0,w=b.length;m<w;++m)d[m]=b.charCodeAt(m);b=d}S.chmod(dt,146|ye);var M=S.open(dt,577);S.write(M,b,0,b.length,0,ge),S.close(M),S.chmod(dt,ye)}return dt},createDevice:(p,_,b,x)=>{var U=Ht.join2("string"==typeof p?p:S.getPath(p),_),ge=S.getMode(!!b,!!x);S.createDevice.major||(S.createDevice.major=64);var ve=S.makedev(S.createDevice.major++,0);return S.registerDevice(ve,{open:ye=>{ye.seekable=!1},close:ye=>{x&&x.buffer&&x.buffer.length&&x(10)},read:(ye,dt,d,m,w)=>{for(var M=0,$=0;$<m;$++){var te;try{te=b()}catch{throw new S.ErrnoError(29)}if(void 0===te&&0===M)throw new S.ErrnoError(6);if(null==te)break;M++,dt[d+$]=te}return M&&(ye.node.timestamp=Date.now()),M},write:(ye,dt,d,m,w)=>{for(var M=0;M<m;M++)try{x(dt[d+M])}catch{throw new S.ErrnoError(29)}return m&&(ye.node.timestamp=Date.now()),M}}),S.mkdev(U,ge,ve)},forceLoadFile:p=>{if(p.isDevice||p.isFolder||p.link||p.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{p.contents=an(H(p.url),!0),p.usedBytes=p.contents.length}catch{throw new S.ErrnoError(29)}},createLazyFile:(p,_,b,x,U)=>{function ge(){this.lengthKnown=!1,this.chunks=[]}if(ge.prototype.get=function($){if(!($>this.length-1||$<0)){var te=$%this.chunkSize;return this.getter($/this.chunkSize|0)[te]}},ge.prototype.setDataGetter=function($){this.getter=$},ge.prototype.cacheLength=function(){var $=new XMLHttpRequest;if($.open("HEAD",b,!1),$.send(null),!($.status>=200&&$.status<300||304===$.status))throw new Error("Couldn't load "+b+". Status: "+$.status);var ne,te=Number($.getResponseHeader("Content-length")),Oe=(ne=$.getResponseHeader("Accept-Ranges"))&&"bytes"===ne,gt=(ne=$.getResponseHeader("Content-Encoding"))&&"gzip"===ne,se=1048576;Oe||(se=te);var It=this;It.setDataGetter(bt=>{var St=bt*se,Nt=(bt+1)*se-1;if(Nt=Math.min(Nt,te-1),typeof It.chunks[bt]>"u"&&(It.chunks[bt]=((bt,St)=>{if(bt>St)throw new Error("invalid range ("+bt+", "+St+") or no bytes requested!");if(St>te-1)throw new Error("only "+te+" bytes available! programmer error!");var Nt=new XMLHttpRequest;if(Nt.open("GET",b,!1),te!==se&&Nt.setRequestHeader("Range","bytes="+bt+"-"+St),Nt.responseType="arraybuffer",Nt.overrideMimeType&&Nt.overrideMimeType("text/plain; charset=x-user-defined"),Nt.send(null),!(Nt.status>=200&&Nt.status<300||304===Nt.status))throw new Error("Couldn't load "+b+". Status: "+Nt.status);return void 0!==Nt.response?new Uint8Array(Nt.response||[]):an(Nt.responseText||"",!0)})(St,Nt)),typeof It.chunks[bt]>"u")throw new Error("doXHR failed!");return It.chunks[bt]}),(gt||!te)&&(se=te=1,te=this.getter(0).length,se=te,Ce("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=te,this._chunkSize=se,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ve=new ge;Object.defineProperties(ve,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var ye={isDevice:!1,contents:ve}}else ye={isDevice:!1,url:b};var dt=S.createFile(p,_,ye,x,U);ye.contents?dt.contents=ye.contents:ye.url&&(dt.contents=null,dt.url=ye.url),Object.defineProperties(dt,{usedBytes:{get:function(){return this.contents.length}}});var d={};function w(M,$,te,ne,Oe){var gt=M.node.contents;if(Oe>=gt.length)return 0;var se=Math.min(gt.length-Oe,ne);if(gt.slice)for(var ut=0;ut<se;ut++)$[te+ut]=gt[Oe+ut];else for(ut=0;ut<se;ut++)$[te+ut]=gt.get(Oe+ut);return se}return Object.keys(dt.stream_ops).forEach(M=>{var $=dt.stream_ops[M];d[M]=function(){return S.forceLoadFile(dt),$.apply(null,arguments)}}),d.read=(M,$,te,ne,Oe)=>(S.forceLoadFile(dt),w(M,$,te,ne,Oe)),d.mmap=(M,$,te,ne,Oe)=>{S.forceLoadFile(dt);var gt=dr();if(!gt)throw new S.ErrnoError(48);return w(M,Ke,gt,$,te),{ptr:gt,allocated:!0}},dt.stream_ops=d,dt},createPreloadedFile:(p,_,b,x,U,ge,ve,ye,dt,d)=>{var m=_?rr.resolve(Ht.join2(p,_)):p;function M($){function te(ne){d&&d(),ye||S.createDataFile(p,_,ne,x,U,dt),ge&&ge(),ur()}Browser.handledByPreloadPlugin($,m,te,()=>{ve&&ve(),ur()})||te($)}bo(),"string"==typeof b?function or(p,_,b,x){var U=x?"":"al "+p;Fe(p,ge=>{Ie(ge,'Loading data file "'+p+'" failed (no arrayBuffer).'),_(new Uint8Array(ge)),U&&ur()},ge=>{if(!b)throw'Loading data file "'+p+'" failed.';b()}),U&&bo()}(b,$=>M($),ve):M(b)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(p,_,b)=>{_=_||(()=>{}),b=b||(()=>{});var x=S.indexedDB();try{var U=x.open(S.DB_NAME(),S.DB_VERSION)}catch(ge){return b(ge)}U.onupgradeneeded=()=>{Ce("creating db"),U.result.createObjectStore(S.DB_STORE_NAME)},U.onsuccess=()=>{var ve=U.result.transaction([S.DB_STORE_NAME],"readwrite"),ye=ve.objectStore(S.DB_STORE_NAME),dt=0,d=0,m=p.length;function w(){0==d?_():b()}p.forEach(M=>{var $=ye.put(S.analyzePath(M).object.contents,M);$.onsuccess=()=>{++dt+d==m&&w()},$.onerror=()=>{d++,dt+d==m&&w()}}),ve.onerror=b},U.onerror=b},loadFilesFromDB:(p,_,b)=>{_=_||(()=>{}),b=b||(()=>{});var x=S.indexedDB();try{var U=x.open(S.DB_NAME(),S.DB_VERSION)}catch(ge){return b(ge)}U.onupgradeneeded=b,U.onsuccess=()=>{var ge=U.result;try{var ve=ge.transaction([S.DB_STORE_NAME],"readonly")}catch(M){return void b(M)}var ye=ve.objectStore(S.DB_STORE_NAME),dt=0,d=0,m=p.length;function w(){0==d?_():b()}p.forEach(M=>{var $=ye.get(M);$.onsuccess=()=>{S.analyzePath(M).exists&&S.unlink(M),S.createDataFile(Ht.dirname(M),Ht.basename(M),$.result,!0,!0,!0),++dt+d==m&&w()},$.onerror=()=>{d++,dt+d==m&&w()}}),ve.onerror=b},U.onerror=b}},Ft={DEFAULT_POLLMASK:5,calculateAt:function(p,_,b){if(Ht.isAbs(_))return _;var x;if(x=-100===p?S.cwd():Ft.getStreamFromFD(p).path,0==_.length){if(!b)throw new S.ErrnoError(44);return x}return Ht.join2(x,_)},doStat:function(p,_,b){try{var x=p(_)}catch(U){if(U&&U.node&&Ht.normalize(_)!==Ht.normalize(S.getPath(U.node)))return-54;throw U}return L[b>>2]=x.dev,L[b+8>>2]=x.ino,L[b+12>>2]=x.mode,V[b+16>>2]=x.nlink,L[b+20>>2]=x.uid,L[b+24>>2]=x.gid,L[b+28>>2]=x.rdev,le=[x.size>>>0,(st=x.size,+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[b+40>>2]=le[0],L[b+44>>2]=le[1],L[b+48>>2]=4096,L[b+52>>2]=x.blocks,le=[Math.floor(x.atime.getTime()/1e3)>>>0,(st=Math.floor(x.atime.getTime()/1e3),+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[b+56>>2]=le[0],L[b+60>>2]=le[1],V[b+64>>2]=0,le=[Math.floor(x.mtime.getTime()/1e3)>>>0,(st=Math.floor(x.mtime.getTime()/1e3),+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[b+72>>2]=le[0],L[b+76>>2]=le[1],V[b+80>>2]=0,le=[Math.floor(x.ctime.getTime()/1e3)>>>0,(st=Math.floor(x.ctime.getTime()/1e3),+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[b+88>>2]=le[0],L[b+92>>2]=le[1],V[b+96>>2]=0,le=[x.ino>>>0,(st=x.ino,+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[b+104>>2]=le[0],L[b+108>>2]=le[1],0},doMsync:function(p,_,b,x,U){if(!S.isFile(_.node.mode))throw new S.ErrnoError(43);if(2&x)return 0;var ge=_t.slice(p,p+b);S.msync(_,ge,U,b,x)},varargs:void 0,get:function(){return Ft.varargs+=4,L[Ft.varargs-4>>2]},getStr:function(p){return Ve(p)},getStreamFromFD:function(p){var _=S.getStream(p);if(!_)throw new S.ErrnoError(8);return _}};function I(p){return V[p>>2]+4294967296*L[p+4>>2]}function co(p){return p%4==0&&(p%100!=0||p%400==0)}var uo=[0,31,60,91,121,152,182,213,244,274,305,335],No=[0,31,59,90,120,151,181,212,243,273,304,334];function Kt(p){var _=X(p)+1,b=fo(_);return b&&Pe(p,Ke,b,_),b}var io=[];function Kr(p){try{return me.grow(p-Ze.byteLength+65535>>>16),Re(me.buffer),1}catch{}}var di={};function Lo(){if(!Lo.strings){var _={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var b in di)void 0===di[b]?delete _[b]:_[b]=di[b];var x=[];for(var b in _)x.push(b+"="+_[b]);Lo.strings=x}return Lo.strings}function $i(p,_){be=p,function Xo(p){be=p,function un(){return Ne}()||(u.onExit&&u.onExit(p),Ye=!0),z(p,new yn(p))}(p)}var qn=$i,T=[31,29,31,30,31,30,31,31,30,31,30,31],N=[31,28,31,30,31,30,31,31,30,31,30,31];var Le=function(p,_,b,x){p||(p=this),this.parent=p,this.mount=p.mount,this.mounted=null,this.id=S.nextInode++,this.name=_,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=x};Object.defineProperties(Le.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(p){p?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return S.isDir(this.mode)}},isDevice:{get:function(){return S.isChrdev(this.mode)}}}),S.FSNode=Le,S.staticInit();var Vi,Tt={o:function _r(p,_,b,x){Ft.varargs=x;try{_=Ft.getStr(_),_=Ft.calculateAt(p,_);var U=x?Ft.get():0;return S.open(_,b,U).fd}catch(ge){if(typeof S>"u"||!(ge instanceof S.ErrnoError))throw ge;return-ge.errno}},h:function Fr(p,_){var b=new Date(1e3*I(p));L[_>>2]=b.getUTCSeconds(),L[_+4>>2]=b.getUTCMinutes(),L[_+8>>2]=b.getUTCHours(),L[_+12>>2]=b.getUTCDate(),L[_+16>>2]=b.getUTCMonth(),L[_+20>>2]=b.getUTCFullYear()-1900,L[_+24>>2]=b.getUTCDay();var x=Date.UTC(b.getUTCFullYear(),0,1,0,0,0,0),U=(b.getTime()-x)/864e5|0;L[_+28>>2]=U},i:function xo(p,_){var b=new Date(1e3*I(p));L[_>>2]=b.getSeconds(),L[_+4>>2]=b.getMinutes(),L[_+8>>2]=b.getHours(),L[_+12>>2]=b.getDate(),L[_+16>>2]=b.getMonth(),L[_+20>>2]=b.getFullYear()-1900,L[_+24>>2]=b.getDay();var x=0|function Sr(p){return(co(p.getFullYear())?uo:No)[p.getMonth()]+p.getDate()-1}(b);L[_+28>>2]=x,L[_+36>>2]=-60*b.getTimezoneOffset();var U=new Date(b.getFullYear(),0,1),ge=new Date(b.getFullYear(),6,1).getTimezoneOffset(),ve=U.getTimezoneOffset(),ye=0|(ge!=ve&&b.getTimezoneOffset()==Math.min(ve,ge));L[_+32>>2]=ye},j:function oo(p,_,b){var x=(new Date).getFullYear(),U=new Date(x,0,1),ge=new Date(x,6,1),ve=U.getTimezoneOffset(),ye=ge.getTimezoneOffset(),dt=Math.max(ve,ye);function d(te){var ne=te.toTimeString().match(/\(([A-Za-z ]+)\)$/);return ne?ne[1]:"GMT"}V[p>>2]=60*dt,L[_>>2]=Number(ve!=ye);var m=d(U),w=d(ge),M=Kt(m),$=Kt(w);ye<ve?(V[b>>2]=M,V[b+4>>2]=$):(V[b>>2]=$,V[b+4>>2]=M)},b:function ir(){tr("")},a:function Ko(p,_,b){var x=function so(p,_){var b;for(io.length=0,_>>=2;b=_t[p++];)_+=105!=b&_,io.push(105==b?L[_]:_e[_++>>1]),++_;return io}(_,b);return je[p].apply(null,x)},c:function on(){return Date.now()},g:function Co(p,_,b){_t.copyWithin(p,_,_+b)},m:function jr(p){var dt,_=_t.length,b=2147483648;if((p>>>=0)>b)return!1;for(var U=1;U<=4;U*=2){var ge=_*(1+.2/U);if(ge=Math.min(ge,p+100663296),Kr(Math.min(b,(dt=Math.max(p,ge))+(65536-dt%65536)%65536)))return!0}return!1},p:function Ur(p,_){var b=0;return Lo().forEach(function(x,U){var ge=_+b;V[p+4*U>>2]=ge,function Ao(p,_,b){for(var x=0;x<p.length;++x)Ke[_++>>0]=p.charCodeAt(x);b||(Ke[_>>0]=0)}(x,ge),b+=x.length+1}),0},f:function os(p,_){var b=Lo();V[p>>2]=b.length;var x=0;return b.forEach(function(U){x+=U.length+1}),V[_>>2]=x,0},q:qn,d:function Qo(p){try{var _=Ft.getStreamFromFD(p);return S.close(_),0}catch(b){if(typeof S>"u"||!(b instanceof S.ErrnoError))throw b;return b.errno}},e:function Jo(p,_,b,x){try{var ge=function Si(p,_,b,x){for(var U=0,ge=0;ge<b;ge++){var ve=V[_>>2],ye=V[_+4>>2];_+=8;var dt=S.read(p,Ke,ve,ye,x);if(dt<0)return-1;if(U+=dt,dt<ye)break}return U}(Ft.getStreamFromFD(p),_,b);return V[x>>2]=ge,0}catch(ve){if(typeof S>"u"||!(ve instanceof S.ErrnoError))throw ve;return ve.errno}},k:function ei(p,_,b,x,U){try{var ge=function Nn(p,_){return _+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*_:NaN}(_,b);if(isNaN(ge))return 61;var ve=Ft.getStreamFromFD(p);return S.llseek(ve,ge,x),le=[ve.position>>>0,(st=ve.position,+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[U>>2]=le[0],L[U+4>>2]=le[1],ve.getdents&&0===ge&&0===x&&(ve.getdents=null),0}catch(ye){if(typeof S>"u"||!(ye instanceof S.ErrnoError))throw ye;return ye.errno}},n:function Ei(p,_,b,x){try{var ge=function Bn(p,_,b,x){for(var U=0,ge=0;ge<b;ge++){var ve=V[_>>2],ye=V[_+4>>2];_+=8;var dt=S.write(p,Ke,ve,ye,x);if(dt<0)return-1;U+=dt}return U}(Ft.getStreamFromFD(p),_,b);return V[x>>2]=ge,0}catch(ve){if(typeof S>"u"||!(ve instanceof S.ErrnoError))throw ve;return ve.errno}},l:function Y(p,_,b,x,U){return function R(p,_,b,x){var U=L[x+40>>2],ge={tm_sec:L[x>>2],tm_min:L[x+4>>2],tm_hour:L[x+8>>2],tm_mday:L[x+12>>2],tm_mon:L[x+16>>2],tm_year:L[x+20>>2],tm_wday:L[x+24>>2],tm_yday:L[x+28>>2],tm_isdst:L[x+32>>2],tm_gmtoff:L[x+36>>2],tm_zone:U?Ve(U):""},ve=Ve(b),ye={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var dt in ye)ve=ve.replace(new RegExp(dt,"g"),ye[dt]);var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=["January","February","March","April","May","June","July","August","September","October","November","December"];function w(se,ut,It){for(var bt="number"==typeof se?se.toString():se||"";bt.length<ut;)bt=It[0]+bt;return bt}function M(se,ut){return w(se,ut,"0")}function $(se,ut){function It(St){return St<0?-1:St>0?1:0}var bt;return 0===(bt=It(se.getFullYear()-ut.getFullYear()))&&0===(bt=It(se.getMonth()-ut.getMonth()))&&(bt=It(se.getDate()-ut.getDate())),bt}function te(se){switch(se.getDay()){case 0:return new Date(se.getFullYear()-1,11,29);case 1:return se;case 2:return new Date(se.getFullYear(),0,3);case 3:return new Date(se.getFullYear(),0,2);case 4:return new Date(se.getFullYear(),0,1);case 5:return new Date(se.getFullYear()-1,11,31);case 6:return new Date(se.getFullYear()-1,11,30)}}function ne(se){var ut=function pe(p,_){for(var b=new Date(p.getTime());_>0;){var x=co(b.getFullYear()),U=b.getMonth(),ge=(x?T:N)[U];if(!(_>ge-b.getDate()))return b.setDate(b.getDate()+_),b;_-=ge-b.getDate()+1,b.setDate(1),U<11?b.setMonth(U+1):(b.setMonth(0),b.setFullYear(b.getFullYear()+1))}return b}(new Date(se.tm_year+1900,0,1),se.tm_yday),It=new Date(ut.getFullYear(),0,4),bt=new Date(ut.getFullYear()+1,0,4),St=te(It),Nt=te(bt);return $(St,ut)<=0?$(Nt,ut)<=0?ut.getFullYear()+1:ut.getFullYear():ut.getFullYear()-1}var Oe={"%a":function(se){return d[se.tm_wday].substring(0,3)},"%A":function(se){return d[se.tm_wday]},"%b":function(se){return m[se.tm_mon].substring(0,3)},"%B":function(se){return m[se.tm_mon]},"%C":function(se){return M((se.tm_year+1900)/100|0,2)},"%d":function(se){return M(se.tm_mday,2)},"%e":function(se){return w(se.tm_mday,2," ")},"%g":function(se){return ne(se).toString().substring(2)},"%G":function(se){return ne(se)},"%H":function(se){return M(se.tm_hour,2)},"%I":function(se){var ut=se.tm_hour;return 0==ut?ut=12:ut>12&&(ut-=12),M(ut,2)},"%j":function(se){return M(se.tm_mday+function is(p,_){for(var b=0,x=0;x<=_;b+=p[x++]);return b}(co(se.tm_year+1900)?T:N,se.tm_mon-1),3)},"%m":function(se){return M(se.tm_mon+1,2)},"%M":function(se){return M(se.tm_min,2)},"%n":function(){return"\n"},"%p":function(se){return se.tm_hour>=0&&se.tm_hour<12?"AM":"PM"},"%S":function(se){return M(se.tm_sec,2)},"%t":function(){return"\t"},"%u":function(se){return se.tm_wday||7},"%U":function(se){return M(Math.floor((se.tm_yday+7-se.tm_wday)/7),2)},"%V":function(se){var ut=Math.floor((se.tm_yday+7-(se.tm_wday+6)%7)/7);if((se.tm_wday+371-se.tm_yday-2)%7<=2&&ut++,ut){if(53==ut){var bt=(se.tm_wday+371-se.tm_yday)%7;4!=bt&&(3!=bt||!co(se.tm_year))&&(ut=1)}}else{ut=52;var It=(se.tm_wday+7-se.tm_yday-1)%7;(4==It||5==It&&co(se.tm_year%400-1))&&ut++}return M(ut,2)},"%w":function(se){return se.tm_wday},"%W":function(se){return M(Math.floor((se.tm_yday+7-(se.tm_wday+6)%7)/7),2)},"%y":function(se){return(se.tm_year+1900).toString().substring(2)},"%Y":function(se){return se.tm_year+1900},"%z":function(se){var ut=se.tm_gmtoff,It=ut>=0;return ut=(ut=Math.abs(ut)/60)/60*100+ut%60,(It?"+":"-")+String("0000"+ut).slice(-4)},"%Z":function(se){return se.tm_zone},"%%":function(){return"%"}};for(var dt in ve=ve.replace(/%%/g,"\0\0"),Oe)ve.includes(dt)&&(ve=ve.replace(new RegExp(dt,"g"),Oe[dt](ge)));var gt=an(ve=ve.replace(/\0\0/g,"%"),!1);return gt.length>_?0:(function ke(p,_){Ke.set(p,_)}(gt,p),gt.length-1)}(p,_,b,x)}},fo=(function Rr(){var p={a:Tt};function _(ve,ye){u.asm=ve.exports,Re((me=u.asm.r).buffer),function ro(p){at.unshift(p)}(u.asm.s),ur()}function b(ve){_(ve.instance)}function x(ve){return function Ci(){return he||!Se&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return Yr(In)}):fetch(In,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+In+"'";return p.arrayBuffer()}).catch(function(){return Yr(In)})}().then(function(ye){return WebAssembly.instantiate(ye,p)}).then(function(ye){return ye}).then(ve,function(ye){ce("failed to asynchronously prepare wasm: "+ye),tr(ye)})}if(bo(),u.instantiateWasm)try{return u.instantiateWasm(p,_)}catch(ve){ce("Module.instantiateWasm callback failed with error: "+ve),oe(ve)}(function U(){return he||"function"!=typeof WebAssembly.instantiateStreaming||Hr(In)||"function"!=typeof fetch?x(b):fetch(In,{credentials:"same-origin"}).then(function(ve){return WebAssembly.instantiateStreaming(ve,p).then(b,function(dt){return ce("wasm streaming compile failed: "+dt),ce("falling back to ArrayBuffer instantiation"),x(b)})})})().catch(oe)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.s).apply(null,arguments)},u._free=function(){return(u._free=u.asm.t).apply(null,arguments)},u._malloc=function(){return(fo=u._malloc=u.asm.u).apply(null,arguments)}),Or=u._emscripten_bind_VoidPtr___destroy___0=function(){return(Or=u._emscripten_bind_VoidPtr___destroy___0=u.asm.v).apply(null,arguments)},vr=u._emscripten_bind_FSTools_FSTools_0=function(){return(vr=u._emscripten_bind_FSTools_FSTools_0=u.asm.w).apply(null,arguments)},Bi=u._emscripten_bind_FSTools_Malloc_1=function(){return(Bi=u._emscripten_bind_FSTools_Malloc_1=u.asm.x).apply(null,arguments)},ti=u._emscripten_bind_FSTools_Free_1=function(){return(ti=u._emscripten_bind_FSTools_Free_1=u.asm.y).apply(null,arguments)},Di=u._emscripten_bind_FSTools_Nullptr_0=function(){return(Di=u._emscripten_bind_FSTools_Nullptr_0=u.asm.z).apply(null,arguments)},Pa=u._emscripten_bind_FSTools___destroy___0=function(){return(Pa=u._emscripten_bind_FSTools___destroy___0=u.asm.A).apply(null,arguments)},ks=u._emscripten_bind_MkfsContext_MkfsContext_0=function(){return(ks=u._emscripten_bind_MkfsContext_MkfsContext_0=u.asm.B).apply(null,arguments)},Ra=u._emscripten_bind_MkfsContext_Mkfs_2=function(){return(Ra=u._emscripten_bind_MkfsContext_Mkfs_2=u.asm.C).apply(null,arguments)},Ts=u._emscripten_bind_MkfsContext_GetImage_0=function(){return(Ts=u._emscripten_bind_MkfsContext_GetImage_0=u.asm.D).apply(null,arguments)},hs=u._emscripten_bind_MkfsContext_GetImageSize_0=function(){return(hs=u._emscripten_bind_MkfsContext_GetImageSize_0=u.asm.E).apply(null,arguments)},Nr=u._emscripten_bind_MkfsContext___destroy___0=function(){return(Nr=u._emscripten_bind_MkfsContext___destroy___0=u.asm.F).apply(null,arguments)},Ln=u._emscripten_bind_FsckContext_FsckContext_1=function(){return(Ln=u._emscripten_bind_FsckContext_FsckContext_1=u.asm.G).apply(null,arguments)},pl=u._emscripten_bind_FsckContext_GetImage_0=function(){return(pl=u._emscripten_bind_FsckContext_GetImage_0=u.asm.H).apply(null,arguments)},Fa=u._emscripten_bind_FsckContext_GetDirtyPages_0=function(){return(Fa=u._emscripten_bind_FsckContext_GetDirtyPages_0=u.asm.I).apply(null,arguments)},Oa=u._emscripten_bind_FsckContext_GetImageSize_0=function(){return(Oa=u._emscripten_bind_FsckContext_GetImageSize_0=u.asm.J).apply(null,arguments)},wt=u._emscripten_bind_FsckContext_Fsck_0=function(){return(wt=u._emscripten_bind_FsckContext_Fsck_0=u.asm.K).apply(null,arguments)},Na=u._emscripten_bind_FsckContext_GetResult_0=function(){return(Na=u._emscripten_bind_FsckContext_GetResult_0=u.asm.L).apply(null,arguments)},Kn=u._emscripten_bind_FsckContext___destroy___0=function(){return(Kn=u._emscripten_bind_FsckContext___destroy___0=u.asm.M).apply(null,arguments)};function as(p){function _(){Vi||(Vi=!0,u.calledRun=!0,!Ye&&(function Zr(){!u.noFSInit&&!S.init.initialized&&S.init(),S.ignorePermissions=!1,Jn.init(),En(at)}(),function Mr(){En(Lt)}(),ae(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),gs&&function ss(p){var _=u._main;try{var U=_(0,0);return $i(U),U}catch(ge){return function ee(p){if(p instanceof yn||"unwind"==p)return be;z(1,p)}(ge)}}(),function Qn(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)p=u.postRun.shift(),Ut.unshift(p);var p;En(Ut)}()))}p=p||K,Gn>0||(function ue(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)p=u.preRun.shift(),ot.unshift(p);var p;En(ot)}(),Gn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),_()},1)):_())}if(u._main=function(){return(u._main=u.asm.N).apply(null,arguments)},u.___original_main=function(){return(u.___original_main=u.asm.P).apply(null,arguments)},u.___start_em_js=40204,u.___stop_em_js=40302,Cr=function p(){Vi||as(),Vi||(Cr=p)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var gs=!0;function Xr(){}function Zt(p){return(p||Xr).__cache__}function $o(p,_){var b=Zt(_),x=b[p];return x||((x=Object.create((_||Xr).prototype)).ptr=p,b[p]=x)}u.noInitialRun&&(gs=!1),as(),(Xr.prototype=Object.create(Xr.prototype)).constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},u.WrapperObject=Xr,u.getCache=Zt,u.wrapPointer=$o,u.castObject=function hl(p,_){return $o(p.ptr,_)},u.NULL=$o(0),u.destroy=function ni(p){if(!p.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";p.__destroy__(),delete Zt(p.__class__)[p.ptr]},u.compare=function ls(p,_){return p.ptr===_.ptr},u.getPointer=function ml(p){return p.ptr},u.getClass=function ri(p){return p.__class__};var Mn={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Mn.needed){for(var p=0;p<Mn.temps.length;p++)u._free(Mn.temps[p]);Mn.temps.length=0,u._free(Mn.buffer),Mn.buffer=0,Mn.size+=Mn.needed,Mn.needed=0}Mn.buffer||(Mn.size+=128,Mn.buffer=u._malloc(Mn.size),Ie(Mn.buffer)),Mn.pos=0},alloc:function(p,_){Ie(Mn.buffer);var U,x=p.length*_.BYTES_PER_ELEMENT;return Mn.pos+(x=x+7&-8)>=Mn.size?(Ie(x>0),Mn.needed+=x,U=u._malloc(x),Mn.temps.push(U)):(U=Mn.buffer+Mn.pos,Mn.pos+=x),U},copy:function(p,_,b){switch(b>>>=0,_.BYTES_PER_ELEMENT){case 2:b>>>=1;break;case 4:b>>>=2;break;case 8:b>>>=3}for(var U=0;U<p.length;U++)_[b+U]=p[U]}};function Lr(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Rn(){this.ptr=vr(),Zt(Rn)[this.ptr]=this}function gn(){this.ptr=ks(),Zt(gn)[this.ptr]=this}function kr(p){p&&"object"==typeof p&&(p=p.ptr),this.ptr=Ln(p),Zt(kr)[this.ptr]=this}return(Lr.prototype=Object.create(Xr.prototype)).constructor=Lr,Lr.prototype.__class__=Lr,Lr.__cache__={},u.VoidPtr=Lr,Lr.prototype.__destroy__=Lr.prototype.__destroy__=function(){Or(this.ptr)},(Rn.prototype=Object.create(Xr.prototype)).constructor=Rn,Rn.prototype.__class__=Rn,Rn.__cache__={},u.FSTools=Rn,Rn.prototype.Malloc=Rn.prototype.Malloc=function(p){return p&&"object"==typeof p&&(p=p.ptr),$o(Bi(this.ptr,p),Lr)},Rn.prototype.Free=Rn.prototype.Free=function(p){p&&"object"==typeof p&&(p=p.ptr),ti(this.ptr,p)},Rn.prototype.Nullptr=Rn.prototype.Nullptr=function(){return $o(Di(this.ptr),Lr)},Rn.prototype.__destroy__=Rn.prototype.__destroy__=function(){Pa(this.ptr)},(gn.prototype=Object.create(Xr.prototype)).constructor=gn,gn.prototype.__class__=gn,gn.__cache__={},u.MkfsContext=gn,gn.prototype.Mkfs=gn.prototype.Mkfs=function(p,_){var b=this.ptr;return Mn.prepare(),p&&"object"==typeof p&&(p=p.ptr),_=_&&"object"==typeof _?_.ptr:function po(p){if("string"==typeof p){var _=an(p),b=Mn.alloc(_,Ke);return Mn.copy(_,Ke,b),b}return p}(_),!!Ra(b,p,_)},gn.prototype.GetImage=gn.prototype.GetImage=function(){return $o(Ts(this.ptr),Lr)},gn.prototype.GetImageSize=gn.prototype.GetImageSize=function(){return hs(this.ptr)},gn.prototype.__destroy__=gn.prototype.__destroy__=function(){Nr(this.ptr)},(kr.prototype=Object.create(Xr.prototype)).constructor=kr,kr.prototype.__class__=kr,kr.__cache__={},u.FsckContext=kr,kr.prototype.GetImage=kr.prototype.GetImage=function(){return $o(pl(this.ptr),Lr)},kr.prototype.GetDirtyPages=kr.prototype.GetDirtyPages=function(){return $o(Fa(this.ptr),Lr)},kr.prototype.GetImageSize=kr.prototype.GetImageSize=function(){return Oa(this.ptr)},kr.prototype.Fsck=kr.prototype.Fsck=function(){return wt(this.ptr)},kr.prototype.GetResult=kr.prototype.GetResult=function(){return Na(this.ptr)},kr.prototype.__destroy__=kr.prototype.__destroy__=function(){Kn(this.ptr)},k.ready});Be.exports=qe},7971:Be=>{var F,qe=(F=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(k){var ae,oe,u=typeof(k=k||{})<"u"?k:{};u.ready=new Promise(function(d,m){ae=d,oe=m});var H,Fe,Q,q=Object.assign({},u),K=[],G="./this.program",z=(d,m)=>{throw m},Se="object"==typeof window,Z="function"==typeof importScripts,B=("object"==typeof process&&"object"==typeof process.versions&&process,"");(Se||Z)&&(Z?B=self.location.href:typeof document<"u"&&document.currentScript&&(B=document.currentScript.src),F&&(B=F),B=0!==B.indexOf("blob:")?B.substr(0,B.replace(/[?#].*/,"").lastIndexOf("/")+1):"",H=d=>{var m=new XMLHttpRequest;return m.open("GET",d,!1),m.send(null),m.responseText},Z&&(Q=d=>{var m=new XMLHttpRequest;return m.open("GET",d,!1),m.responseType="arraybuffer",m.send(null),new Uint8Array(m.response)}),Fe=(d,m,w)=>{var M=new XMLHttpRequest;M.open("GET",d,!0),M.responseType="arraybuffer",M.onload=()=>{200==M.status||0==M.status&&M.response?m(M.response):w()},M.onerror=w,M.send(null)});var he,Ce=u.print||console.log.bind(console),ce=u.printErr||console.warn.bind(console);Object.assign(u,q),q=null,u.arguments&&(K=u.arguments),u.thisProgram&&(G=u.thisProgram),u.quit&&(z=u.quit),u.wasmBinary&&(he=u.wasmBinary);var Ne=u.noExitRuntime||!0;"object"!=typeof WebAssembly&&tr("no native wasm support detected");var me,be,Ye=!1;function Ie(d,m){d||tr(m)}var Ze,Ke,_t,L,V,Ae=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ze(d,m,w){for(var M=m+w,$=m;d[$]&&!($>=M);)++$;if($-m>16&&d.buffer&&Ae)return Ae.decode(d.subarray(m,$));for(var te="";m<$;){var ne=d[m++];if(128&ne){var Oe=63&d[m++];if(192!=(224&ne)){var gt=63&d[m++];if((ne=224==(240&ne)?(15&ne)<<12|Oe<<6|gt:(7&ne)<<18|Oe<<12|gt<<6|63&d[m++])<65536)te+=String.fromCharCode(ne);else{var se=ne-65536;te+=String.fromCharCode(55296|se>>10,56320|1023&se)}}else te+=String.fromCharCode((31&ne)<<6|Oe)}else te+=String.fromCharCode(ne)}return te}function Ve(d,m){return d?ze(_t,d,m):""}function Pe(d,m,w,M){if(!(M>0))return 0;for(var $=w,te=w+M-1,ne=0;ne<d.length;++ne){var Oe=d.charCodeAt(ne);if(Oe>=55296&&Oe<=57343&&(Oe=65536+((1023&Oe)<<10)|1023&d.charCodeAt(++ne)),Oe<=127){if(w>=te)break;m[w++]=Oe}else if(Oe<=2047){if(w+1>=te)break;m[w++]=192|Oe>>6,m[w++]=128|63&Oe}else if(Oe<=65535){if(w+2>=te)break;m[w++]=224|Oe>>12,m[w++]=128|Oe>>6&63,m[w++]=128|63&Oe}else{if(w+3>=te)break;m[w++]=240|Oe>>18,m[w++]=128|Oe>>12&63,m[w++]=128|Oe>>6&63,m[w++]=128|63&Oe}}return m[w]=0,w-$}function X(d){for(var m=0,w=0;w<d.length;++w){var M=d.charCodeAt(w);M<=127?m++:M<=2047?m+=2:M>=55296&&M<=57343?(m+=4,++w):m+=3}return m}function Re(d){Ze=d,u.HEAP8=Ke=new Int8Array(d),u.HEAP16=new Int16Array(d),u.HEAP32=L=new Int32Array(d),u.HEAPU8=_t=new Uint8Array(d),u.HEAPU16=new Uint16Array(d),u.HEAPU32=V=new Uint32Array(d),u.HEAPF32=new Float32Array(d),u.HEAPF64=new Float64Array(d)}var In,st,le,ot=[],at=[],Lt=[],Ut=[],Gn=0,cr=null,Cr=null;function bo(d){Gn++,u.monitorRunDependencies&&u.monitorRunDependencies(Gn)}function ur(d){if(Gn--,u.monitorRunDependencies&&u.monitorRunDependencies(Gn),0==Gn&&(null!==cr&&(clearInterval(cr),cr=null),Cr)){var m=Cr;Cr=null,m()}}function tr(d){u.onAbort&&u.onAbort(d),ce(d="Aborted("+d+")"),Ye=!0,be=1,d+=". Build with -sASSERTIONS for more info.";var m=new WebAssembly.RuntimeError(d);throw oe(m),m}function Hr(d){return d.startsWith("data:application/octet-stream;base64,")}function Yr(d){try{if(d==In&&he)return new Uint8Array(he);if(Q)return Q(d);throw"both async and sync fetching of the wasm failed"}catch(m){tr(m)}}function je(d){this.name="ExitStatus",this.message="Program terminated with exit("+d+")",this.status=d}function yn(d){for(;d.length>0;)d.shift()(u)}function Ht(d){return d%4==0&&(d%100!=0||d%400==0)}Hr(In="vfs_web.wasm")||(In=function O(d){return u.locateFile?u.locateFile(d,B):B+d}(In));var pn=[0,31,60,91,121,152,182,213,244,274,305,335],rr=[0,31,59,90,120,151,181,212,243,273,304,334];function an(d){return(Ht(d.getFullYear())?pn:rr)[d.getMonth()]+d.getDate()-1}function Wt(d){var m=X(d)+1,w=Le(m);return w&&Pe(d,Ke,w,m),w}function Fr(d){try{return me.grow(d-Ze.byteLength+65535>>>16),Re(me.buffer),1}catch{}}var uo={};function Sr(){if(!Sr.strings){var m={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:G||"./this.program"};for(var w in uo)void 0===uo[w]?delete m[w]:m[w]=uo[w];var M=[];for(var w in m)M.push(w+"="+m[w]);Sr.strings=M}return Sr.strings}var Kt={isAbs:d=>"/"===d.charAt(0),splitPath:d=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(d).slice(1),normalizeArray:(d,m)=>{for(var w=0,M=d.length-1;M>=0;M--){var $=d[M];"."===$?d.splice(M,1):".."===$?(d.splice(M,1),w++):w&&(d.splice(M,1),w--)}if(m)for(;w;w--)d.unshift("..");return d},normalize:d=>{var m=Kt.isAbs(d),w="/"===d.substr(-1);return!(d=Kt.normalizeArray(d.split("/").filter(M=>!!M),!m).join("/"))&&!m&&(d="."),d&&w&&(d+="/"),(m?"/":"")+d},dirname:d=>{var m=Kt.splitPath(d),w=m[0],M=m[1];return w||M?(M&&(M=M.substr(0,M.length-1)),w+M):"."},basename:d=>{if("/"===d)return"/";var m=(d=(d=Kt.normalize(d)).replace(/\/$/,"")).lastIndexOf("/");return-1===m?d:d.substr(m+1)},join:function(){var d=Array.prototype.slice.call(arguments);return Kt.normalize(d.join("/"))},join2:(d,m)=>Kt.normalize(d+"/"+m)},ir={resolve:function(){for(var d="",m=!1,w=arguments.length-1;w>=-1&&!m;w--){var M=w>=0?arguments[w]:D.cwd();if("string"!=typeof M)throw new TypeError("Arguments to path.resolve must be strings");if(!M)return"";d=M+"/"+d,m=Kt.isAbs(M)}return(m?"/":"")+(d=Kt.normalizeArray(d.split("/").filter($=>!!$),!m).join("/"))||"."},relative:(d,m)=>{function w(se){for(var ut=0;ut<se.length&&""===se[ut];ut++);for(var It=se.length-1;It>=0&&""===se[It];It--);return ut>It?[]:se.slice(ut,It-ut+1)}d=ir.resolve(d).substr(1),m=ir.resolve(m).substr(1);for(var M=w(d.split("/")),$=w(m.split("/")),te=Math.min(M.length,$.length),ne=te,Oe=0;Oe<te;Oe++)if(M[Oe]!==$[Oe]){ne=Oe;break}var gt=[];for(Oe=ne;Oe<M.length;Oe++)gt.push("..");return(gt=gt.concat($.slice(ne))).join("/")}};function io(d,m,w){var M=w>0?w:X(d)+1,$=new Array(M),te=Pe(d,$,0,$.length);return m&&($.length=te),$}var so={ttys:[],init:function(){},shutdown:function(){},register:function(d,m){so.ttys[d]={input:[],output:[],ops:m},D.registerDevice(d,so.stream_ops)},stream_ops:{open:function(d){var m=so.ttys[d.node.rdev];if(!m)throw new D.ErrnoError(43);d.tty=m,d.seekable=!1},close:function(d){d.tty.ops.fsync(d.tty)},fsync:function(d){d.tty.ops.fsync(d.tty)},read:function(d,m,w,M,$){if(!d.tty||!d.tty.ops.get_char)throw new D.ErrnoError(60);for(var te=0,ne=0;ne<M;ne++){var Oe;try{Oe=d.tty.ops.get_char(d.tty)}catch{throw new D.ErrnoError(29)}if(void 0===Oe&&0===te)throw new D.ErrnoError(6);if(null==Oe)break;te++,m[w+ne]=Oe}return te&&(d.node.timestamp=Date.now()),te},write:function(d,m,w,M,$){if(!d.tty||!d.tty.ops.put_char)throw new D.ErrnoError(60);try{for(var te=0;te<M;te++)d.tty.ops.put_char(d.tty,m[w+te])}catch{throw new D.ErrnoError(29)}return M&&(d.node.timestamp=Date.now()),te}},default_tty_ops:{get_char:function(d){if(!d.input.length){var m=null;if(typeof window<"u"&&"function"==typeof window.prompt?null!==(m=window.prompt("Input: "))&&(m+="\n"):"function"==typeof readline&&null!==(m=readline())&&(m+="\n"),!m)return null;d.input=io(m,!0)}return d.input.shift()},put_char:function(d,m){null===m||10===m?(Ce(ze(d.output,0)),d.output=[]):0!=m&&d.output.push(m)},fsync:function(d){d.output&&d.output.length>0&&(Ce(ze(d.output,0)),d.output=[])}},default_tty1_ops:{put_char:function(d,m){null===m||10===m?(ce(ze(d.output,0)),d.output=[]):0!=m&&d.output.push(m)},fsync:function(d){d.output&&d.output.length>0&&(ce(ze(d.output,0)),d.output=[])}}};function Ko(d){tr()}var on={ops_table:null,mount:function(d){return on.createNode(null,"/",16895,0)},createNode:function(d,m,w,M){if(D.isBlkdev(w)||D.isFIFO(w))throw new D.ErrnoError(63);on.ops_table||(on.ops_table={dir:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr,lookup:on.node_ops.lookup,mknod:on.node_ops.mknod,rename:on.node_ops.rename,unlink:on.node_ops.unlink,rmdir:on.node_ops.rmdir,readdir:on.node_ops.readdir,symlink:on.node_ops.symlink},stream:{llseek:on.stream_ops.llseek}},file:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr},stream:{llseek:on.stream_ops.llseek,read:on.stream_ops.read,write:on.stream_ops.write,allocate:on.stream_ops.allocate,mmap:on.stream_ops.mmap,msync:on.stream_ops.msync}},link:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr,readlink:on.node_ops.readlink},stream:{}},chrdev:{node:{getattr:on.node_ops.getattr,setattr:on.node_ops.setattr},stream:D.chrdev_stream_ops}});var $=D.createNode(d,m,w,M);return D.isDir($.mode)?($.node_ops=on.ops_table.dir.node,$.stream_ops=on.ops_table.dir.stream,$.contents={}):D.isFile($.mode)?($.node_ops=on.ops_table.file.node,$.stream_ops=on.ops_table.file.stream,$.usedBytes=0,$.contents=null):D.isLink($.mode)?($.node_ops=on.ops_table.link.node,$.stream_ops=on.ops_table.link.stream):D.isChrdev($.mode)&&($.node_ops=on.ops_table.chrdev.node,$.stream_ops=on.ops_table.chrdev.stream),$.timestamp=Date.now(),d&&(d.contents[m]=$,d.timestamp=$.timestamp),$},getFileDataAsTypedArray:function(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage:function(d,m){var w=d.contents?d.contents.length:0;if(!(w>=m)){m=Math.max(m,w*(w<1048576?2:1.125)>>>0),0!=w&&(m=Math.max(m,256));var $=d.contents;d.contents=new Uint8Array(m),d.usedBytes>0&&d.contents.set($.subarray(0,d.usedBytes),0)}},resizeFileStorage:function(d,m){if(d.usedBytes!=m)if(0==m)d.contents=null,d.usedBytes=0;else{var w=d.contents;d.contents=new Uint8Array(m),w&&d.contents.set(w.subarray(0,Math.min(m,d.usedBytes))),d.usedBytes=m}},node_ops:{getattr:function(d){var m={};return m.dev=D.isChrdev(d.mode)?d.id:1,m.ino=d.id,m.mode=d.mode,m.nlink=1,m.uid=0,m.gid=0,m.rdev=d.rdev,m.size=D.isDir(d.mode)?4096:D.isFile(d.mode)?d.usedBytes:D.isLink(d.mode)?d.link.length:0,m.atime=new Date(d.timestamp),m.mtime=new Date(d.timestamp),m.ctime=new Date(d.timestamp),m.blksize=4096,m.blocks=Math.ceil(m.size/m.blksize),m},setattr:function(d,m){void 0!==m.mode&&(d.mode=m.mode),void 0!==m.timestamp&&(d.timestamp=m.timestamp),void 0!==m.size&&on.resizeFileStorage(d,m.size)},lookup:function(d,m){throw D.genericErrors[44]},mknod:function(d,m,w,M){return on.createNode(d,m,w,M)},rename:function(d,m,w){if(D.isDir(d.mode)){var M;try{M=D.lookupNode(m,w)}catch{}if(M)for(var $ in M.contents)throw new D.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=w,m.contents[w]=d,m.timestamp=d.parent.timestamp,d.parent=m},unlink:function(d,m){delete d.contents[m],d.timestamp=Date.now()},rmdir:function(d,m){var w=D.lookupNode(d,m);for(var M in w.contents)throw new D.ErrnoError(55);delete d.contents[m],d.timestamp=Date.now()},readdir:function(d){var m=[".",".."];for(var w in d.contents)!d.contents.hasOwnProperty(w)||m.push(w);return m},symlink:function(d,m,w){var M=on.createNode(d,m,41471,0);return M.link=w,M},readlink:function(d){if(!D.isLink(d.mode))throw new D.ErrnoError(28);return d.link}},stream_ops:{read:function(d,m,w,M,$){var te=d.node.contents;if($>=d.node.usedBytes)return 0;var ne=Math.min(d.node.usedBytes-$,M);if(ne>8&&te.subarray)m.set(te.subarray($,$+ne),w);else for(var Oe=0;Oe<ne;Oe++)m[w+Oe]=te[$+Oe];return ne},write:function(d,m,w,M,$,te){if(m.buffer===Ke.buffer&&(te=!1),!M)return 0;var ne=d.node;if(ne.timestamp=Date.now(),m.subarray&&(!ne.contents||ne.contents.subarray)){if(te)return ne.contents=m.subarray(w,w+M),ne.usedBytes=M,M;if(0===ne.usedBytes&&0===$)return ne.contents=m.slice(w,w+M),ne.usedBytes=M,M;if($+M<=ne.usedBytes)return ne.contents.set(m.subarray(w,w+M),$),M}if(on.expandFileStorage(ne,$+M),ne.contents.subarray&&m.subarray)ne.contents.set(m.subarray(w,w+M),$);else for(var Oe=0;Oe<M;Oe++)ne.contents[$+Oe]=m[w+Oe];return ne.usedBytes=Math.max(ne.usedBytes,$+M),M},llseek:function(d,m,w){var M=m;if(1===w?M+=d.position:2===w&&D.isFile(d.node.mode)&&(M+=d.node.usedBytes),M<0)throw new D.ErrnoError(28);return M},allocate:function(d,m,w){on.expandFileStorage(d.node,m+w),d.node.usedBytes=Math.max(d.node.usedBytes,m+w)},mmap:function(d,m,w,M,$){if(!D.isFile(d.node.mode))throw new D.ErrnoError(43);var te,ne,Oe=d.node.contents;if(2&$||Oe.buffer!==Ze){if((w>0||w+m<Oe.length)&&(Oe=Oe.subarray?Oe.subarray(w,w+m):Array.prototype.slice.call(Oe,w,w+m)),ne=!0,!(te=Ko()))throw new D.ErrnoError(48);Ke.set(Oe,te)}else ne=!1,te=Oe.byteOffset;return{ptr:te,allocated:ne}},msync:function(d,m,w,M,$){return on.stream_ops.write(d,m,0,M,w,!1),0}}},D={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(d,m={})=>{if(!(d=ir.resolve(d)))return{path:"",node:null};if((m=Object.assign({follow_mount:!0,recurse_count:0},m)).recurse_count>8)throw new D.ErrnoError(32);for(var M=d.split("/").filter(It=>!!It),$=D.root,te="/",ne=0;ne<M.length;ne++){var Oe=ne===M.length-1;if(Oe&&m.parent)break;if($=D.lookupNode($,M[ne]),te=Kt.join2(te,M[ne]),D.isMountpoint($)&&(!Oe||Oe&&m.follow_mount)&&($=$.mounted.root),!Oe||m.follow)for(var gt=0;D.isLink($.mode);){var se=D.readlink(te);if(te=ir.resolve(Kt.dirname(te),se),$=D.lookupPath(te,{recurse_count:m.recurse_count+1}).node,gt++>40)throw new D.ErrnoError(32)}}return{path:te,node:$}},getPath:d=>{for(var m;;){if(D.isRoot(d)){var w=d.mount.mountpoint;return m?"/"!==w[w.length-1]?w+"/"+m:w+m:w}m=m?d.name+"/"+m:d.name,d=d.parent}},hashName:(d,m)=>{for(var w=0,M=0;M<m.length;M++)w=(w<<5)-w+m.charCodeAt(M)|0;return(d+w>>>0)%D.nameTable.length},hashAddNode:d=>{var m=D.hashName(d.parent.id,d.name);d.name_next=D.nameTable[m],D.nameTable[m]=d},hashRemoveNode:d=>{var m=D.hashName(d.parent.id,d.name);if(D.nameTable[m]===d)D.nameTable[m]=d.name_next;else for(var w=D.nameTable[m];w;){if(w.name_next===d){w.name_next=d.name_next;break}w=w.name_next}},lookupNode:(d,m)=>{var w=D.mayLookup(d);if(w)throw new D.ErrnoError(w,d);for(var M=D.hashName(d.id,m),$=D.nameTable[M];$;$=$.name_next)if($.parent.id===d.id&&$.name===m)return $;return D.lookup(d,m)},createNode:(d,m,w,M)=>{var $=new D.FSNode(d,m,w,M);return D.hashAddNode($),$},destroyNode:d=>{D.hashRemoveNode(d)},isRoot:d=>d===d.parent,isMountpoint:d=>!!d.mounted,isFile:d=>32768==(61440&d),isDir:d=>16384==(61440&d),isLink:d=>40960==(61440&d),isChrdev:d=>8192==(61440&d),isBlkdev:d=>24576==(61440&d),isFIFO:d=>4096==(61440&d),isSocket:d=>49152==(49152&d),flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:d=>{var m=D.flagModes[d];if(typeof m>"u")throw new Error("Unknown file open mode: "+d);return m},flagsToPermissionString:d=>{var m=["r","w","rw"][3&d];return 512&d&&(m+="w"),m},nodePermissions:(d,m)=>D.ignorePermissions?0:m.includes("r")&&!(292&d.mode)||m.includes("w")&&!(146&d.mode)||m.includes("x")&&!(73&d.mode)?2:0,mayLookup:d=>D.nodePermissions(d,"x")||(d.node_ops.lookup?0:2),mayCreate:(d,m)=>{try{return D.lookupNode(d,m),20}catch{}return D.nodePermissions(d,"wx")},mayDelete:(d,m,w)=>{var M;try{M=D.lookupNode(d,m)}catch(te){return te.errno}var $=D.nodePermissions(d,"wx");if($)return $;if(w){if(!D.isDir(M.mode))return 54;if(D.isRoot(M)||D.getPath(M)===D.cwd())return 10}else if(D.isDir(M.mode))return 31;return 0},mayOpen:(d,m)=>d?D.isLink(d.mode)?32:D.isDir(d.mode)&&("r"!==D.flagsToPermissionString(m)||512&m)?31:D.nodePermissions(d,D.flagsToPermissionString(m)):44,MAX_OPEN_FDS:4096,nextfd:(d=0,m=D.MAX_OPEN_FDS)=>{for(var w=d;w<=m;w++)if(!D.streams[w])return w;throw new D.ErrnoError(33)},getStream:d=>D.streams[d],createStream:(d,m,w)=>{D.FSStream||(D.FSStream=function(){this.shared={}},D.FSStream.prototype={},Object.defineProperties(D.FSStream.prototype,{object:{get:function(){return this.node},set:function($){this.node=$}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}},flags:{get:function(){return this.shared.flags},set:function($){this.shared.flags=$}},position:{get:function(){return this.shared.position},set:function($){this.shared.position=$}}})),d=Object.assign(new D.FSStream,d);var M=D.nextfd(m,w);return d.fd=M,D.streams[M]=d,d},closeStream:d=>{D.streams[d]=null},chrdev_stream_ops:{open:d=>{var m=D.getDevice(d.node.rdev);d.stream_ops=m.stream_ops,d.stream_ops.open&&d.stream_ops.open(d)},llseek:()=>{throw new D.ErrnoError(70)}},major:d=>d>>8,minor:d=>255&d,makedev:(d,m)=>d<<8|m,registerDevice:(d,m)=>{D.devices[d]={stream_ops:m}},getDevice:d=>D.devices[d],getMounts:d=>{for(var m=[],w=[d];w.length;){var M=w.pop();m.push(M),w.push.apply(w,M.mounts)}return m},syncfs:(d,m)=>{"function"==typeof d&&(m=d,d=!1),D.syncFSRequests++,D.syncFSRequests>1&&ce("warning: "+D.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var w=D.getMounts(D.root.mount),M=0;function $(ne){return D.syncFSRequests--,m(ne)}function te(ne){if(ne)return te.errored?void 0:(te.errored=!0,$(ne));++M>=w.length&&$(null)}w.forEach(ne=>{if(!ne.type.syncfs)return te(null);ne.type.syncfs(ne,d,te)})},mount:(d,m,w)=>{var te,M="/"===w,$=!w;if(M&&D.root)throw new D.ErrnoError(10);if(!M&&!$){var ne=D.lookupPath(w,{follow_mount:!1});if(w=ne.path,D.isMountpoint(te=ne.node))throw new D.ErrnoError(10);if(!D.isDir(te.mode))throw new D.ErrnoError(54)}var Oe={type:d,opts:m,mountpoint:w,mounts:[]},gt=d.mount(Oe);return gt.mount=Oe,Oe.root=gt,M?D.root=gt:te&&(te.mounted=Oe,te.mount&&te.mount.mounts.push(Oe)),gt},unmount:d=>{var m=D.lookupPath(d,{follow_mount:!1});if(!D.isMountpoint(m.node))throw new D.ErrnoError(28);var w=m.node,M=w.mounted,$=D.getMounts(M);Object.keys(D.nameTable).forEach(ne=>{for(var Oe=D.nameTable[ne];Oe;){var gt=Oe.name_next;$.includes(Oe.mount)&&D.destroyNode(Oe),Oe=gt}}),w.mounted=null;var te=w.mount.mounts.indexOf(M);w.mount.mounts.splice(te,1)},lookup:(d,m)=>d.node_ops.lookup(d,m),mknod:(d,m,w)=>{var $=D.lookupPath(d,{parent:!0}).node,te=Kt.basename(d);if(!te||"."===te||".."===te)throw new D.ErrnoError(28);var ne=D.mayCreate($,te);if(ne)throw new D.ErrnoError(ne);if(!$.node_ops.mknod)throw new D.ErrnoError(63);return $.node_ops.mknod($,te,m,w)},create:(d,m)=>(m=void 0!==m?m:438,m&=4095,D.mknod(d,m|=32768,0)),mkdir:(d,m)=>(m=void 0!==m?m:511,m&=1023,D.mknod(d,m|=16384,0)),mkdirTree:(d,m)=>{for(var w=d.split("/"),M="",$=0;$<w.length;++$)if(w[$]){M+="/"+w[$];try{D.mkdir(M,m)}catch(te){if(20!=te.errno)throw te}}},mkdev:(d,m,w)=>(typeof w>"u"&&(w=m,m=438),D.mknod(d,m|=8192,w)),symlink:(d,m)=>{if(!ir.resolve(d))throw new D.ErrnoError(44);var M=D.lookupPath(m,{parent:!0}).node;if(!M)throw new D.ErrnoError(44);var $=Kt.basename(m),te=D.mayCreate(M,$);if(te)throw new D.ErrnoError(te);if(!M.node_ops.symlink)throw new D.ErrnoError(63);return M.node_ops.symlink(M,$,d)},rename:(d,m)=>{var Oe,gt,w=Kt.dirname(d),M=Kt.dirname(m),$=Kt.basename(d),te=Kt.basename(m);if(Oe=D.lookupPath(d,{parent:!0}).node,gt=D.lookupPath(m,{parent:!0}).node,!Oe||!gt)throw new D.ErrnoError(44);if(Oe.mount!==gt.mount)throw new D.ErrnoError(75);var It,se=D.lookupNode(Oe,$),ut=ir.relative(d,M);if("."!==ut.charAt(0))throw new D.ErrnoError(28);if("."!==(ut=ir.relative(m,w)).charAt(0))throw new D.ErrnoError(55);try{It=D.lookupNode(gt,te)}catch{}if(se!==It){var bt=D.isDir(se.mode),St=D.mayDelete(Oe,$,bt);if(St)throw new D.ErrnoError(St);if(St=It?D.mayDelete(gt,te,bt):D.mayCreate(gt,te))throw new D.ErrnoError(St);if(!Oe.node_ops.rename)throw new D.ErrnoError(63);if(D.isMountpoint(se)||It&&D.isMountpoint(It))throw new D.ErrnoError(10);if(gt!==Oe&&(St=D.nodePermissions(Oe,"w")))throw new D.ErrnoError(St);D.hashRemoveNode(se);try{Oe.node_ops.rename(se,gt,te)}catch(Nt){throw Nt}finally{D.hashAddNode(se)}}},rmdir:d=>{var w=D.lookupPath(d,{parent:!0}).node,M=Kt.basename(d),$=D.lookupNode(w,M),te=D.mayDelete(w,M,!0);if(te)throw new D.ErrnoError(te);if(!w.node_ops.rmdir)throw new D.ErrnoError(63);if(D.isMountpoint($))throw new D.ErrnoError(10);w.node_ops.rmdir(w,M),D.destroyNode($)},readdir:d=>{var w=D.lookupPath(d,{follow:!0}).node;if(!w.node_ops.readdir)throw new D.ErrnoError(54);return w.node_ops.readdir(w)},unlink:d=>{var w=D.lookupPath(d,{parent:!0}).node;if(!w)throw new D.ErrnoError(44);var M=Kt.basename(d),$=D.lookupNode(w,M),te=D.mayDelete(w,M,!1);if(te)throw new D.ErrnoError(te);if(!w.node_ops.unlink)throw new D.ErrnoError(63);if(D.isMountpoint($))throw new D.ErrnoError(10);w.node_ops.unlink(w,M),D.destroyNode($)},readlink:d=>{var w=D.lookupPath(d).node;if(!w)throw new D.ErrnoError(44);if(!w.node_ops.readlink)throw new D.ErrnoError(28);return ir.resolve(D.getPath(w.parent),w.node_ops.readlink(w))},stat:(d,m)=>{var M=D.lookupPath(d,{follow:!m}).node;if(!M)throw new D.ErrnoError(44);if(!M.node_ops.getattr)throw new D.ErrnoError(63);return M.node_ops.getattr(M)},lstat:d=>D.stat(d,!0),chmod:(d,m,w)=>{var M;if(!(M="string"==typeof d?D.lookupPath(d,{follow:!w}).node:d).node_ops.setattr)throw new D.ErrnoError(63);M.node_ops.setattr(M,{mode:4095&m|-4096&M.mode,timestamp:Date.now()})},lchmod:(d,m)=>{D.chmod(d,m,!0)},fchmod:(d,m)=>{var w=D.getStream(d);if(!w)throw new D.ErrnoError(8);D.chmod(w.node,m)},chown:(d,m,w,M)=>{var $;if(!($="string"==typeof d?D.lookupPath(d,{follow:!M}).node:d).node_ops.setattr)throw new D.ErrnoError(63);$.node_ops.setattr($,{timestamp:Date.now()})},lchown:(d,m,w)=>{D.chown(d,m,w,!0)},fchown:(d,m,w)=>{var M=D.getStream(d);if(!M)throw new D.ErrnoError(8);D.chown(M.node,m,w)},truncate:(d,m)=>{if(m<0)throw new D.ErrnoError(28);var w;if(!(w="string"==typeof d?D.lookupPath(d,{follow:!0}).node:d).node_ops.setattr)throw new D.ErrnoError(63);if(D.isDir(w.mode))throw new D.ErrnoError(31);if(!D.isFile(w.mode))throw new D.ErrnoError(28);var $=D.nodePermissions(w,"w");if($)throw new D.ErrnoError($);w.node_ops.setattr(w,{size:m,timestamp:Date.now()})},ftruncate:(d,m)=>{var w=D.getStream(d);if(!w)throw new D.ErrnoError(8);if(0==(2097155&w.flags))throw new D.ErrnoError(28);D.truncate(w.node,m)},utime:(d,m,w)=>{var $=D.lookupPath(d,{follow:!0}).node;$.node_ops.setattr($,{timestamp:Math.max(m,w)})},open:(d,m,w)=>{if(""===d)throw new D.ErrnoError(44);var M;if(w=typeof w>"u"?438:w,w=64&(m="string"==typeof m?D.modeStringToFlags(m):m)?4095&w|32768:0,"object"==typeof d)M=d;else{d=Kt.normalize(d);try{M=D.lookupPath(d,{follow:!(131072&m)}).node}catch{}}var te=!1;if(64&m)if(M){if(128&m)throw new D.ErrnoError(20)}else M=D.mknod(d,w,0),te=!0;if(!M)throw new D.ErrnoError(44);if(D.isChrdev(M.mode)&&(m&=-513),65536&m&&!D.isDir(M.mode))throw new D.ErrnoError(54);if(!te){var ne=D.mayOpen(M,m);if(ne)throw new D.ErrnoError(ne)}512&m&&!te&&D.truncate(M,0),m&=-131713;var Oe=D.createStream({node:M,path:D.getPath(M),flags:m,seekable:!0,position:0,stream_ops:M.stream_ops,ungotten:[],error:!1});return Oe.stream_ops.open&&Oe.stream_ops.open(Oe),u.logReadFiles&&!(1&m)&&(D.readFiles||(D.readFiles={}),d in D.readFiles||(D.readFiles[d]=1)),Oe},close:d=>{if(D.isClosed(d))throw new D.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(m){throw m}finally{D.closeStream(d.fd)}d.fd=null},isClosed:d=>null===d.fd,llseek:(d,m,w)=>{if(D.isClosed(d))throw new D.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new D.ErrnoError(70);if(0!=w&&1!=w&&2!=w)throw new D.ErrnoError(28);return d.position=d.stream_ops.llseek(d,m,w),d.ungotten=[],d.position},read:(d,m,w,M,$)=>{if(M<0||$<0)throw new D.ErrnoError(28);if(D.isClosed(d))throw new D.ErrnoError(8);if(1==(2097155&d.flags))throw new D.ErrnoError(8);if(D.isDir(d.node.mode))throw new D.ErrnoError(31);if(!d.stream_ops.read)throw new D.ErrnoError(28);var te=typeof $<"u";if(te){if(!d.seekable)throw new D.ErrnoError(70)}else $=d.position;var ne=d.stream_ops.read(d,m,w,M,$);return te||(d.position+=ne),ne},write:(d,m,w,M,$,te)=>{if(M<0||$<0)throw new D.ErrnoError(28);if(D.isClosed(d))throw new D.ErrnoError(8);if(0==(2097155&d.flags))throw new D.ErrnoError(8);if(D.isDir(d.node.mode))throw new D.ErrnoError(31);if(!d.stream_ops.write)throw new D.ErrnoError(28);d.seekable&&1024&d.flags&&D.llseek(d,0,2);var ne=typeof $<"u";if(ne){if(!d.seekable)throw new D.ErrnoError(70)}else $=d.position;var Oe=d.stream_ops.write(d,m,w,M,$,te);return ne||(d.position+=Oe),Oe},allocate:(d,m,w)=>{if(D.isClosed(d))throw new D.ErrnoError(8);if(m<0||w<=0)throw new D.ErrnoError(28);if(0==(2097155&d.flags))throw new D.ErrnoError(8);if(!D.isFile(d.node.mode)&&!D.isDir(d.node.mode))throw new D.ErrnoError(43);if(!d.stream_ops.allocate)throw new D.ErrnoError(138);d.stream_ops.allocate(d,m,w)},mmap:(d,m,w,M,$)=>{if(0!=(2&M)&&0==(2&$)&&2!=(2097155&d.flags))throw new D.ErrnoError(2);if(1==(2097155&d.flags))throw new D.ErrnoError(2);if(!d.stream_ops.mmap)throw new D.ErrnoError(43);return d.stream_ops.mmap(d,m,w,M,$)},msync:(d,m,w,M,$)=>d.stream_ops.msync?d.stream_ops.msync(d,m,w,M,$):0,munmap:d=>0,ioctl:(d,m,w)=>{if(!d.stream_ops.ioctl)throw new D.ErrnoError(59);return d.stream_ops.ioctl(d,m,w)},readFile:(d,m={})=>{if(m.flags=m.flags||0,m.encoding=m.encoding||"binary","utf8"!==m.encoding&&"binary"!==m.encoding)throw new Error('Invalid encoding type "'+m.encoding+'"');var w,M=D.open(d,m.flags),te=D.stat(d).size,ne=new Uint8Array(te);return D.read(M,ne,0,te,0),"utf8"===m.encoding?w=ze(ne,0):"binary"===m.encoding&&(w=ne),D.close(M),w},writeFile:(d,m,w={})=>{w.flags=w.flags||577;var M=D.open(d,w.flags,w.mode);if("string"==typeof m){var $=new Uint8Array(X(m)+1),te=Pe(m,$,0,$.length);D.write(M,$,0,te,void 0,w.canOwn)}else{if(!ArrayBuffer.isView(m))throw new Error("Unsupported data type");D.write(M,m,0,m.byteLength,void 0,w.canOwn)}D.close(M)},cwd:()=>D.currentPath,chdir:d=>{var m=D.lookupPath(d,{follow:!0});if(null===m.node)throw new D.ErrnoError(44);if(!D.isDir(m.node.mode))throw new D.ErrnoError(54);var w=D.nodePermissions(m.node,"x");if(w)throw new D.ErrnoError(w);D.currentPath=m.path},createDefaultDirectories:()=>{D.mkdir("/tmp"),D.mkdir("/home"),D.mkdir("/home/web_user")},createDefaultDevices:()=>{D.mkdir("/dev"),D.registerDevice(D.makedev(1,3),{read:()=>0,write:(m,w,M,$,te)=>$}),D.mkdev("/dev/null",D.makedev(1,3)),so.register(D.makedev(5,0),so.default_tty_ops),so.register(D.makedev(6,0),so.default_tty1_ops),D.mkdev("/dev/tty",D.makedev(5,0)),D.mkdev("/dev/tty1",D.makedev(6,0));var d=function oo(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var d=new Uint8Array(1);return()=>(crypto.getRandomValues(d),d[0])}return()=>tr("randomDevice")}();D.createDevice("/dev","random",d),D.createDevice("/dev","urandom",d),D.mkdir("/dev/shm"),D.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{D.mkdir("/proc");var d=D.mkdir("/proc/self");D.mkdir("/proc/self/fd"),D.mount({mount:()=>{var m=D.createNode(d,"fd",16895,73);return m.node_ops={lookup:(w,M)=>{var te=D.getStream(+M);if(!te)throw new D.ErrnoError(8);var ne={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>te.path}};return ne.parent=ne,ne}},m}},{},"/proc/self/fd")},createStandardStreams:()=>{u.stdin?D.createDevice("/dev","stdin",u.stdin):D.symlink("/dev/tty","/dev/stdin"),u.stdout?D.createDevice("/dev","stdout",null,u.stdout):D.symlink("/dev/tty","/dev/stdout"),u.stderr?D.createDevice("/dev","stderr",null,u.stderr):D.symlink("/dev/tty1","/dev/stderr"),D.open("/dev/stdin",0),D.open("/dev/stdout",1),D.open("/dev/stderr",1)},ensureErrnoError:()=>{D.ErrnoError||(D.ErrnoError=function(m,w){this.node=w,this.setErrno=function(M){this.errno=M},this.setErrno(m),this.message="FS error"},D.ErrnoError.prototype=new Error,D.ErrnoError.prototype.constructor=D.ErrnoError,[44].forEach(d=>{D.genericErrors[d]=new D.ErrnoError(d),D.genericErrors[d].stack="<generic error, no stack>"}))},staticInit:()=>{D.ensureErrnoError(),D.nameTable=new Array(4096),D.mount(on,{},"/"),D.createDefaultDirectories(),D.createDefaultDevices(),D.createSpecialDirectories(),D.filesystems={MEMFS:on}},init:(d,m,w)=>{D.init.initialized=!0,D.ensureErrnoError(),u.stdin=d||u.stdin,u.stdout=m||u.stdout,u.stderr=w||u.stderr,D.createStandardStreams()},quit:()=>{D.init.initialized=!1;for(var d=0;d<D.streams.length;d++){var m=D.streams[d];!m||D.close(m)}},getMode:(d,m)=>{var w=0;return d&&(w|=365),m&&(w|=146),w},findObject:(d,m)=>{var w=D.analyzePath(d,m);return w.exists?w.object:null},analyzePath:(d,m)=>{try{d=(w=D.lookupPath(d,{follow:!m})).path}catch{}var M={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var w=D.lookupPath(d,{parent:!0});M.parentExists=!0,M.parentPath=w.path,M.parentObject=w.node,M.name=Kt.basename(d),w=D.lookupPath(d,{follow:!m}),M.exists=!0,M.path=w.path,M.object=w.node,M.name=w.node.name,M.isRoot="/"===w.path}catch($){M.error=$.errno}return M},createPath:(d,m,w,M)=>{d="string"==typeof d?d:D.getPath(d);for(var $=m.split("/").reverse();$.length;){var te=$.pop();if(te){var ne=Kt.join2(d,te);try{D.mkdir(ne)}catch{}d=ne}}return ne},createFile:(d,m,w,M,$)=>{var te=Kt.join2("string"==typeof d?d:D.getPath(d),m),ne=D.getMode(M,$);return D.create(te,ne)},createDataFile:(d,m,w,M,$,te)=>{var ne=m;d&&(d="string"==typeof d?d:D.getPath(d),ne=m?Kt.join2(d,m):d);var Oe=D.getMode(M,$),gt=D.create(ne,Oe);if(w){if("string"==typeof w){for(var se=new Array(w.length),ut=0,It=w.length;ut<It;++ut)se[ut]=w.charCodeAt(ut);w=se}D.chmod(gt,146|Oe);var bt=D.open(gt,577);D.write(bt,w,0,w.length,0,te),D.close(bt),D.chmod(gt,Oe)}return gt},createDevice:(d,m,w,M)=>{var $=Kt.join2("string"==typeof d?d:D.getPath(d),m),te=D.getMode(!!w,!!M);D.createDevice.major||(D.createDevice.major=64);var ne=D.makedev(D.createDevice.major++,0);return D.registerDevice(ne,{open:Oe=>{Oe.seekable=!1},close:Oe=>{M&&M.buffer&&M.buffer.length&&M(10)},read:(Oe,gt,se,ut,It)=>{for(var bt=0,St=0;St<ut;St++){var Nt;try{Nt=w()}catch{throw new D.ErrnoError(29)}if(void 0===Nt&&0===bt)throw new D.ErrnoError(6);if(null==Nt)break;bt++,gt[se+St]=Nt}return bt&&(Oe.node.timestamp=Date.now()),bt},write:(Oe,gt,se,ut,It)=>{for(var bt=0;bt<ut;bt++)try{M(gt[se+bt])}catch{throw new D.ErrnoError(29)}return ut&&(Oe.node.timestamp=Date.now()),bt}}),D.mkdev($,te,ne)},forceLoadFile:d=>{if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!H)throw new Error("Cannot load without read() or XMLHttpRequest.");try{d.contents=io(H(d.url),!0),d.usedBytes=d.contents.length}catch{throw new D.ErrnoError(29)}},createLazyFile:(d,m,w,M,$)=>{function te(){this.lengthKnown=!1,this.chunks=[]}if(te.prototype.get=function(St){if(!(St>this.length-1||St<0)){var Nt=St%this.chunkSize;return this.getter(St/this.chunkSize|0)[Nt]}},te.prototype.setDataGetter=function(St){this.getter=St},te.prototype.cacheLength=function(){var St=new XMLHttpRequest;if(St.open("HEAD",w,!1),St.send(null),!(St.status>=200&&St.status<300||304===St.status))throw new Error("Couldn't load "+w+". Status: "+St.status);var zn,Nt=Number(St.getResponseHeader("Content-length")),Et=(zn=St.getResponseHeader("Accept-Ranges"))&&"bytes"===zn,Jt=(zn=St.getResponseHeader("Content-Encoding"))&&"gzip"===zn,nt=1048576;Et||(nt=Nt);var mr=this;mr.setDataGetter(Sn=>{var Qr=Sn*nt,Dn=(Sn+1)*nt-1;if(Dn=Math.min(Dn,Nt-1),typeof mr.chunks[Sn]>"u"&&(mr.chunks[Sn]=((Sn,Qr)=>{if(Sn>Qr)throw new Error("invalid range ("+Sn+", "+Qr+") or no bytes requested!");if(Qr>Nt-1)throw new Error("only "+Nt+" bytes available! programmer error!");var Dn=new XMLHttpRequest;if(Dn.open("GET",w,!1),Nt!==nt&&Dn.setRequestHeader("Range","bytes="+Sn+"-"+Qr),Dn.responseType="arraybuffer",Dn.overrideMimeType&&Dn.overrideMimeType("text/plain; charset=x-user-defined"),Dn.send(null),!(Dn.status>=200&&Dn.status<300||304===Dn.status))throw new Error("Couldn't load "+w+". Status: "+Dn.status);return void 0!==Dn.response?new Uint8Array(Dn.response||[]):io(Dn.responseText||"",!0)})(Qr,Dn)),typeof mr.chunks[Sn]>"u")throw new Error("doXHR failed!");return mr.chunks[Sn]}),(Jt||!Nt)&&(nt=Nt=1,Nt=this.getter(0).length,nt=Nt,Ce("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Nt,this._chunkSize=nt,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!Z)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ne=new te;Object.defineProperties(ne,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var Oe={isDevice:!1,contents:ne}}else Oe={isDevice:!1,url:w};var gt=D.createFile(d,m,Oe,M,$);Oe.contents?gt.contents=Oe.contents:Oe.url&&(gt.contents=null,gt.url=Oe.url),Object.defineProperties(gt,{usedBytes:{get:function(){return this.contents.length}}});var se={};function It(bt,St,Nt,zn,Et){var Jt=bt.node.contents;if(Et>=Jt.length)return 0;var nt=Math.min(Jt.length-Et,zn);if(Jt.slice)for(var $t=0;$t<nt;$t++)St[Nt+$t]=Jt[Et+$t];else for($t=0;$t<nt;$t++)St[Nt+$t]=Jt.get(Et+$t);return nt}return Object.keys(gt.stream_ops).forEach(bt=>{var St=gt.stream_ops[bt];se[bt]=function(){return D.forceLoadFile(gt),St.apply(null,arguments)}}),se.read=(bt,St,Nt,zn,Et)=>(D.forceLoadFile(gt),It(bt,St,Nt,zn,Et)),se.mmap=(bt,St,Nt,zn,Et)=>{D.forceLoadFile(gt);var Jt=Ko();if(!Jt)throw new D.ErrnoError(48);return It(bt,Ke,Jt,St,Nt),{ptr:Jt,allocated:!0}},gt.stream_ops=se,gt},createPreloadedFile:(d,m,w,M,$,te,ne,Oe,gt,se)=>{var ut=m?ir.resolve(Kt.join2(d,m)):d;function bt(St){function Nt(zn){se&&se(),Oe||D.createDataFile(d,m,zn,M,$,gt),te&&te(),ur()}Browser.handledByPreloadPlugin(St,ut,Nt,()=>{ne&&ne(),ur()})||Nt(St)}bo(),"string"==typeof w?function Co(d,m,w,M){var $=M?"":"al "+d;Fe(d,te=>{Ie(te,'Loading data file "'+d+'" failed (no arrayBuffer).'),m(new Uint8Array(te)),$&&ur()},te=>{if(!w)throw'Loading data file "'+d+'" failed.';w()}),$&&bo()}(w,St=>bt(St),ne):bt(w)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(d,m,w)=>{m=m||(()=>{}),w=w||(()=>{});var M=D.indexedDB();try{var $=M.open(D.DB_NAME(),D.DB_VERSION)}catch(te){return w(te)}$.onupgradeneeded=()=>{Ce("creating db"),$.result.createObjectStore(D.DB_STORE_NAME)},$.onsuccess=()=>{var ne=$.result.transaction([D.DB_STORE_NAME],"readwrite"),Oe=ne.objectStore(D.DB_STORE_NAME),gt=0,se=0,ut=d.length;function It(){0==se?m():w()}d.forEach(bt=>{var St=Oe.put(D.analyzePath(bt).object.contents,bt);St.onsuccess=()=>{++gt+se==ut&&It()},St.onerror=()=>{se++,gt+se==ut&&It()}}),ne.onerror=w},$.onerror=w},loadFilesFromDB:(d,m,w)=>{m=m||(()=>{}),w=w||(()=>{});var M=D.indexedDB();try{var $=M.open(D.DB_NAME(),D.DB_VERSION)}catch(te){return w(te)}$.onupgradeneeded=w,$.onsuccess=()=>{var te=$.result;try{var ne=te.transaction([D.DB_STORE_NAME],"readonly")}catch(bt){return void w(bt)}var Oe=ne.objectStore(D.DB_STORE_NAME),gt=0,se=0,ut=d.length;function It(){0==se?m():w()}d.forEach(bt=>{var St=Oe.get(bt);St.onsuccess=()=>{D.analyzePath(bt).exists&&D.unlink(bt),D.createDataFile(Kt.dirname(bt),Kt.basename(bt),St.result,!0,!0,!0),++gt+se==ut&&It()},St.onerror=()=>{se++,gt+se==ut&&It()}}),ne.onerror=w},$.onerror=w}},Kr={DEFAULT_POLLMASK:5,calculateAt:function(d,m,w){if(Kt.isAbs(m))return m;var M;if(M=-100===d?D.cwd():Kr.getStreamFromFD(d).path,0==m.length){if(!w)throw new D.ErrnoError(44);return M}return Kt.join2(M,m)},doStat:function(d,m,w){try{var M=d(m)}catch($){if($&&$.node&&Kt.normalize(m)!==Kt.normalize(D.getPath($.node)))return-54;throw $}return L[w>>2]=M.dev,L[w+8>>2]=M.ino,L[w+12>>2]=M.mode,V[w+16>>2]=M.nlink,L[w+20>>2]=M.uid,L[w+24>>2]=M.gid,L[w+28>>2]=M.rdev,le=[M.size>>>0,(st=M.size,+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[w+40>>2]=le[0],L[w+44>>2]=le[1],L[w+48>>2]=4096,L[w+52>>2]=M.blocks,le=[Math.floor(M.atime.getTime()/1e3)>>>0,(st=Math.floor(M.atime.getTime()/1e3),+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[w+56>>2]=le[0],L[w+60>>2]=le[1],V[w+64>>2]=0,le=[Math.floor(M.mtime.getTime()/1e3)>>>0,(st=Math.floor(M.mtime.getTime()/1e3),+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[w+72>>2]=le[0],L[w+76>>2]=le[1],V[w+80>>2]=0,le=[Math.floor(M.ctime.getTime()/1e3)>>>0,(st=Math.floor(M.ctime.getTime()/1e3),+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[w+88>>2]=le[0],L[w+92>>2]=le[1],V[w+96>>2]=0,le=[M.ino>>>0,(st=M.ino,+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[w+104>>2]=le[0],L[w+108>>2]=le[1],0},doMsync:function(d,m,w,M,$){if(!D.isFile(m.node.mode))throw new D.ErrnoError(43);if(2&M)return 0;var te=_t.slice(d,d+w);D.msync(m,te,$,w,M)},varargs:void 0,get:function(){return Kr.varargs+=4,L[Kr.varargs-4>>2]},getStr:function(d){return Ve(d)},getStreamFromFD:function(d){var m=D.getStream(d);if(!m)throw new D.ErrnoError(8);return m}},Qo=[31,29,31,30,31,30,31,31,30,31,30,31],Si=[31,28,31,30,31,30,31,31,30,31,30,31];var N=function(d,m,w,M){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=D.nextInode++,this.name=m,this.mode=w,this.node_ops={},this.stream_ops={},this.rdev=M};Object.defineProperties(N.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(d){d?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(d){d?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return D.isDir(this.mode)}},isDevice:{get:function(){return D.isChrdev(this.mode)}}}),D.FSNode=N,D.staticInit();var ls,R={h:function Jn(d,m){var w=new Date(1e3*function En(d){return V[d>>2]+4294967296*L[d+4>>2]}(d));L[m>>2]=w.getSeconds(),L[m+4>>2]=w.getMinutes(),L[m+8>>2]=w.getHours(),L[m+12>>2]=w.getDate(),L[m+16>>2]=w.getMonth(),L[m+20>>2]=w.getFullYear()-1900,L[m+24>>2]=w.getDay();var M=0|an(w);L[m+28>>2]=M,L[m+36>>2]=-60*w.getTimezoneOffset();var $=new Date(w.getFullYear(),0,1),te=new Date(w.getFullYear(),6,1).getTimezoneOffset(),ne=$.getTimezoneOffset(),Oe=0|(te!=ne&&w.getTimezoneOffset()==Math.min(ne,te));L[m+32>>2]=Oe},i:function dr(d){var m=new Date(L[d+20>>2]+1900,L[d+16>>2],L[d+12>>2],L[d+8>>2],L[d+4>>2],L[d>>2],0),w=L[d+32>>2],M=m.getTimezoneOffset(),$=new Date(m.getFullYear(),0,1),te=new Date(m.getFullYear(),6,1).getTimezoneOffset(),ne=$.getTimezoneOffset(),Oe=Math.min(ne,te);if(w<0)L[d+32>>2]=Number(te!=ne&&Oe==M);else if(w>0!=(Oe==M)){var gt=Math.max(ne,te),se=w>0?Oe:gt;m.setTime(m.getTime()+6e4*(se-M))}L[d+24>>2]=m.getDay();var ut=0|an(m);return L[d+28>>2]=ut,L[d>>2]=m.getSeconds(),L[d+4>>2]=m.getMinutes(),L[d+8>>2]=m.getHours(),L[d+12>>2]=m.getDate(),L[d+16>>2]=m.getMonth(),L[d+20>>2]=m.getYear(),m.getTime()/1e3|0},n:function or(d,m,w){var M=(new Date).getFullYear(),$=new Date(M,0,1),te=new Date(M,6,1),ne=$.getTimezoneOffset(),Oe=te.getTimezoneOffset(),gt=Math.max(ne,Oe);function se(Nt){var zn=Nt.toTimeString().match(/\(([A-Za-z ]+)\)$/);return zn?zn[1]:"GMT"}V[d>>2]=60*gt,L[m>>2]=Number(ne!=Oe);var ut=se($),It=se(te),bt=Wt(ut),St=Wt(It);Oe<ne?(V[w>>2]=bt,V[w+4>>2]=St):(V[w>>2]=St,V[w+4>>2]=bt)},a:function S(){tr("")},g:function Ft(){return Date.now()},f:function _r(d,m,w){_t.copyWithin(d,m,m+w)},e:function co(d){var gt,m=_t.length,w=2147483648;if((d>>>=0)>w)return!1;for(var $=1;$<=4;$*=2){var te=m*(1+.2/$);if(te=Math.min(te,d+100663296),Fr(Math.min(w,(gt=Math.max(d,te))+(65536-gt%65536)%65536)))return!0}return!1},l:function jr(d,m){var w=0;return Sr().forEach(function(M,$){var te=m+w;V[d+4*$>>2]=te,function xo(d,m,w){for(var M=0;M<d.length;++M)Ke[m++>>0]=d.charCodeAt(M);w||(Ke[m>>0]=0)}(M,te),w+=M.length+1}),0},m:function di(d,m){var w=Sr();V[d>>2]=w.length;var M=0;return w.forEach(function($){M+=$.length+1}),V[m>>2]=M,0},b:function fi(d){try{var m=Kr.getStreamFromFD(d);return D.close(m),0}catch(w){if(typeof D>"u"||!(w instanceof D.ErrnoError))throw w;return w.errno}},d:function Ao(d,m,w,M){try{var te=function Lo(d,m,w,M){for(var $=0,te=0;te<w;te++){var ne=V[m>>2],Oe=V[m+4>>2];m+=8;var gt=D.read(d,Ke,ne,Oe,M);if(gt<0)return-1;if($+=gt,gt<Oe)break}return $}(Kr.getStreamFromFD(d),m,w);return V[M>>2]=te,0}catch(ne){if(typeof D>"u"||!(ne instanceof D.ErrnoError))throw ne;return ne.errno}},j:function os(d,m,w,M,$){try{var te=function Ur(d,m){return m+2097152>>>0<4194305-!!d?(d>>>0)+4294967296*m:NaN}(m,w);if(isNaN(te))return 61;var ne=Kr.getStreamFromFD(d);return D.llseek(ne,te,M),le=[ne.position>>>0,(st=ne.position,+Math.abs(st)>=1?st>0?(0|Math.min(+Math.floor(st/4294967296),4294967295))>>>0:~~+Math.ceil((st-+(~~st>>>0))/4294967296)>>>0:0)],L[$>>2]=le[0],L[$+4>>2]=le[1],ne.getdents&&0===te&&0===M&&(ne.getdents=null),0}catch(Oe){if(typeof D>"u"||!(Oe instanceof D.ErrnoError))throw Oe;return Oe.errno}},c:function $i(d,m,w,M){try{var te=function Xo(d,m,w,M){for(var $=0,te=0;te<w;te++){var ne=V[m>>2],Oe=V[m+4>>2];m+=8;var gt=D.write(d,Ke,ne,Oe,M);if(gt<0)return-1;$+=gt}return $}(Kr.getStreamFromFD(d),m,w);return V[M>>2]=te,0}catch(ne){if(typeof D>"u"||!(ne instanceof D.ErrnoError))throw ne;return ne.errno}},k:function Bn(d,m,w,M,$){return function ei(d,m,w,M){var $=L[M+40>>2],te={tm_sec:L[M>>2],tm_min:L[M+4>>2],tm_hour:L[M+8>>2],tm_mday:L[M+12>>2],tm_mon:L[M+16>>2],tm_year:L[M+20>>2],tm_wday:L[M+24>>2],tm_yday:L[M+28>>2],tm_isdst:L[M+32>>2],tm_gmtoff:L[M+36>>2],tm_zone:$?Ve($):""},ne=Ve(w),Oe={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var gt in Oe)ne=ne.replace(new RegExp(gt,"g"),Oe[gt]);var se=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ut=["January","February","March","April","May","June","July","August","September","October","November","December"];function It(nt,$t,mr){for(var Sn="number"==typeof nt?nt.toString():nt||"";Sn.length<$t;)Sn=mr[0]+Sn;return Sn}function bt(nt,$t){return It(nt,$t,"0")}function St(nt,$t){function mr(Qr){return Qr<0?-1:Qr>0?1:0}var Sn;return 0===(Sn=mr(nt.getFullYear()-$t.getFullYear()))&&0===(Sn=mr(nt.getMonth()-$t.getMonth()))&&(Sn=mr(nt.getDate()-$t.getDate())),Sn}function Nt(nt){switch(nt.getDay()){case 0:return new Date(nt.getFullYear()-1,11,29);case 1:return nt;case 2:return new Date(nt.getFullYear(),0,3);case 3:return new Date(nt.getFullYear(),0,2);case 4:return new Date(nt.getFullYear(),0,1);case 5:return new Date(nt.getFullYear()-1,11,31);case 6:return new Date(nt.getFullYear()-1,11,30)}}function zn(nt){var $t=function Jo(d,m){for(var w=new Date(d.getTime());m>0;){var M=Ht(w.getFullYear()),$=w.getMonth(),te=(M?Qo:Si)[$];if(!(m>te-w.getDate()))return w.setDate(w.getDate()+m),w;m-=te-w.getDate()+1,w.setDate(1),$<11?w.setMonth($+1):(w.setMonth(0),w.setFullYear(w.getFullYear()+1))}return w}(new Date(nt.tm_year+1900,0,1),nt.tm_yday),mr=new Date($t.getFullYear(),0,4),Sn=new Date($t.getFullYear()+1,0,4),Qr=Nt(mr),Dn=Nt(Sn);return St(Qr,$t)<=0?St(Dn,$t)<=0?$t.getFullYear()+1:$t.getFullYear():$t.getFullYear()-1}var Et={"%a":function(nt){return se[nt.tm_wday].substring(0,3)},"%A":function(nt){return se[nt.tm_wday]},"%b":function(nt){return ut[nt.tm_mon].substring(0,3)},"%B":function(nt){return ut[nt.tm_mon]},"%C":function(nt){return bt((nt.tm_year+1900)/100|0,2)},"%d":function(nt){return bt(nt.tm_mday,2)},"%e":function(nt){return It(nt.tm_mday,2," ")},"%g":function(nt){return zn(nt).toString().substring(2)},"%G":function(nt){return zn(nt)},"%H":function(nt){return bt(nt.tm_hour,2)},"%I":function(nt){var $t=nt.tm_hour;return 0==$t?$t=12:$t>12&&($t-=12),bt($t,2)},"%j":function(nt){return bt(nt.tm_mday+function qn(d,m){for(var w=0,M=0;M<=m;w+=d[M++]);return w}(Ht(nt.tm_year+1900)?Qo:Si,nt.tm_mon-1),3)},"%m":function(nt){return bt(nt.tm_mon+1,2)},"%M":function(nt){return bt(nt.tm_min,2)},"%n":function(){return"\n"},"%p":function(nt){return nt.tm_hour>=0&&nt.tm_hour<12?"AM":"PM"},"%S":function(nt){return bt(nt.tm_sec,2)},"%t":function(){return"\t"},"%u":function(nt){return nt.tm_wday||7},"%U":function(nt){return bt(Math.floor((nt.tm_yday+7-nt.tm_wday)/7),2)},"%V":function(nt){var $t=Math.floor((nt.tm_yday+7-(nt.tm_wday+6)%7)/7);if((nt.tm_wday+371-nt.tm_yday-2)%7<=2&&$t++,$t){if(53==$t){var Sn=(nt.tm_wday+371-nt.tm_yday)%7;4!=Sn&&(3!=Sn||!Ht(nt.tm_year))&&($t=1)}}else{$t=52;var mr=(nt.tm_wday+7-nt.tm_yday-1)%7;(4==mr||5==mr&&Ht(nt.tm_year%400-1))&&$t++}return bt($t,2)},"%w":function(nt){return nt.tm_wday},"%W":function(nt){return bt(Math.floor((nt.tm_yday+7-(nt.tm_wday+6)%7)/7),2)},"%y":function(nt){return(nt.tm_year+1900).toString().substring(2)},"%Y":function(nt){return nt.tm_year+1900},"%z":function(nt){var $t=nt.tm_gmtoff,mr=$t>=0;return $t=($t=Math.abs($t)/60)/60*100+$t%60,(mr?"+":"-")+String("0000"+$t).slice(-4)},"%Z":function(nt){return nt.tm_zone},"%%":function(){return"%"}};for(var gt in ne=ne.replace(/%%/g,"\0\0"),Et)ne.includes(gt)&&(ne=ne.replace(new RegExp(gt,"g"),Et[gt](te)));var Jt=io(ne=ne.replace(/\0\0/g,"%"),!1);return Jt.length>m?0:(function Nn(d,m){Ke.set(d,m)}(Jt,d),Jt.length-1)}(d,m,w,M)}},Le=(function Rr(){var d={a:R};function m(ne,Oe){u.asm=ne.exports,Re((me=u.asm.o).buffer),function ro(d){at.unshift(d)}(u.asm.p),ur()}function w(ne){m(ne.instance)}function M(ne){return function Ci(){return he||!Se&&!Z||"function"!=typeof fetch?Promise.resolve().then(function(){return Yr(In)}):fetch(In,{credentials:"same-origin"}).then(function(d){if(!d.ok)throw"failed to load wasm binary file at '"+In+"'";return d.arrayBuffer()}).catch(function(){return Yr(In)})}().then(function(Oe){return WebAssembly.instantiate(Oe,d)}).then(function(Oe){return Oe}).then(ne,function(Oe){ce("failed to asynchronously prepare wasm: "+Oe),tr(Oe)})}if(bo(),u.instantiateWasm)try{return u.instantiateWasm(d,m)}catch(ne){ce("Module.instantiateWasm callback failed with error: "+ne),oe(ne)}(function $(){return he||"function"!=typeof WebAssembly.instantiateStreaming||Hr(In)||"function"!=typeof fetch?M(w):fetch(In,{credentials:"same-origin"}).then(function(ne){return WebAssembly.instantiateStreaming(ne,d).then(w,function(gt){return ce("wasm streaming compile failed: "+gt),ce("falling back to ArrayBuffer instantiation"),M(w)})})})().catch(oe)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.p).apply(null,arguments)},u._malloc=function(){return(Le=u._malloc=u.asm.q).apply(null,arguments)}),it=(u._free=function(){return(u._free=u.asm.r).apply(null,arguments)},u._emscripten_bind_VoidPtr___destroy___0=function(){return(it=u._emscripten_bind_VoidPtr___destroy___0=u.asm.s).apply(null,arguments)}),Tt=u._emscripten_bind_FileEntry_GetName_0=function(){return(Tt=u._emscripten_bind_FileEntry_GetName_0=u.asm.t).apply(null,arguments)},Xt=u._emscripten_bind_FileEntry_IsDirectory_0=function(){return(Xt=u._emscripten_bind_FileEntry_IsDirectory_0=u.asm.u).apply(null,arguments)},nn=u._emscripten_bind_FileEntry_GetSize_0=function(){return(nn=u._emscripten_bind_FileEntry_GetSize_0=u.asm.v).apply(null,arguments)},sr=u._emscripten_bind_FileEntry_GetModifiedTS_0=function(){return(sr=u._emscripten_bind_FileEntry_GetModifiedTS_0=u.asm.w).apply(null,arguments)},fo=u._emscripten_bind_FileEntry_GetAttributes_0=function(){return(fo=u._emscripten_bind_FileEntry_GetAttributes_0=u.asm.x).apply(null,arguments)},Or=u._emscripten_bind_FileEntry___destroy___0=function(){return(Or=u._emscripten_bind_FileEntry___destroy___0=u.asm.y).apply(null,arguments)},vr=u._emscripten_bind_Vfs_Vfs_0=function(){return(vr=u._emscripten_bind_Vfs_Vfs_0=u.asm.z).apply(null,arguments)},Bi=u._emscripten_bind_Vfs_Malloc_1=function(){return(Bi=u._emscripten_bind_Vfs_Malloc_1=u.asm.A).apply(null,arguments)},ti=u._emscripten_bind_Vfs_Free_1=function(){return(ti=u._emscripten_bind_Vfs_Free_1=u.asm.B).apply(null,arguments)},Di=u._emscripten_bind_Vfs_Nullptr_0=function(){return(Di=u._emscripten_bind_Vfs_Nullptr_0=u.asm.C).apply(null,arguments)},Pa=u._emscripten_bind_Vfs_AllocateImage_1=function(){return(Pa=u._emscripten_bind_Vfs_AllocateImage_1=u.asm.D).apply(null,arguments)},ks=u._emscripten_bind_Vfs_MountImage_1=function(){return(ks=u._emscripten_bind_Vfs_MountImage_1=u.asm.E).apply(null,arguments)},Ra=u._emscripten_bind_Vfs_UnmountImage_1=function(){return(Ra=u._emscripten_bind_Vfs_UnmountImage_1=u.asm.F).apply(null,arguments)},Ts=u._emscripten_bind_Vfs_GetPendingImageSize_0=function(){return(Ts=u._emscripten_bind_Vfs_GetPendingImageSize_0=u.asm.G).apply(null,arguments)},hs=u._emscripten_bind_Vfs_GetSize_1=function(){return(hs=u._emscripten_bind_Vfs_GetSize_1=u.asm.H).apply(null,arguments)},Nr=u._emscripten_bind_Vfs_GetPendingImage_0=function(){return(Nr=u._emscripten_bind_Vfs_GetPendingImage_0=u.asm.I).apply(null,arguments)},Ln=u._emscripten_bind_Vfs_GetImage_1=function(){return(Ln=u._emscripten_bind_Vfs_GetImage_1=u.asm.J).apply(null,arguments)},pl=u._emscripten_bind_Vfs_GetDirtyPages_1=function(){return(pl=u._emscripten_bind_Vfs_GetDirtyPages_1=u.asm.K).apply(null,arguments)},Fa=u._emscripten_bind_Vfs_RenameFile_2=function(){return(Fa=u._emscripten_bind_Vfs_RenameFile_2=u.asm.L).apply(null,arguments)},Oa=u._emscripten_bind_Vfs_ChmodFile_3=function(){return(Oa=u._emscripten_bind_Vfs_ChmodFile_3=u.asm.M).apply(null,arguments)},wt=u._emscripten_bind_Vfs_StatFile_1=function(){return(wt=u._emscripten_bind_Vfs_StatFile_1=u.asm.N).apply(null,arguments)},Na=u._emscripten_bind_Vfs_GetEntry_0=function(){return(Na=u._emscripten_bind_Vfs_GetEntry_0=u.asm.O).apply(null,arguments)},Kn=u._emscripten_bind_Vfs_BytesFree_1=function(){return(Kn=u._emscripten_bind_Vfs_BytesFree_1=u.asm.P).apply(null,arguments)},ms=u._emscripten_bind_Vfs_BytesTotal_1=function(){return(ms=u._emscripten_bind_Vfs_BytesTotal_1=u.asm.Q).apply(null,arguments)},xs=u._emscripten_bind_Vfs___destroy___0=function(){return(xs=u._emscripten_bind_Vfs___destroy___0=u.asm.R).apply(null,arguments)},La=u._emscripten_bind_ReaddirContext_ReaddirContext_1=function(){return(La=u._emscripten_bind_ReaddirContext_ReaddirContext_1=u.asm.S).apply(null,arguments)},$a=u._emscripten_bind_ReaddirContext_Next_0=function(){return($a=u._emscripten_bind_ReaddirContext_Next_0=u.asm.T).apply(null,arguments)},Vi=u._emscripten_bind_ReaddirContext_GetEntry_0=function(){return(Vi=u._emscripten_bind_ReaddirContext_GetEntry_0=u.asm.U).apply(null,arguments)},ss=u._emscripten_bind_ReaddirContext_GetStatus_0=function(){return(ss=u._emscripten_bind_ReaddirContext_GetStatus_0=u.asm.V).apply(null,arguments)},as=u._emscripten_bind_ReaddirContext_GetError_0=function(){return(as=u._emscripten_bind_ReaddirContext_GetError_0=u.asm.W).apply(null,arguments)},gs=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=function(){return(gs=u._emscripten_bind_ReaddirContext_GetErrorDescription_0=u.asm.X).apply(null,arguments)},Xr=u._emscripten_bind_ReaddirContext___destroy___0=function(){return(Xr=u._emscripten_bind_ReaddirContext___destroy___0=u.asm.Y).apply(null,arguments)};function ml(d){var m=u._main;try{var $=m(0,0);return function is(d,m){be=d,function Ei(d){be=d,function un(){return Ne}()||(u.onExit&&u.onExit(d),Ye=!0),z(d,new je(d))}(d)}($),$}catch(te){return function T(d){if(d instanceof je||"unwind"==d)return be;z(1,d)}(te)}}function ri(d){function m(){ls||(ls=!0,u.calledRun=!0,!Ye&&(function Zr(){!u.noFSInit&&!D.init.initialized&&D.init(),D.ignorePermissions=!1,so.init(),yn(at)}(),function Mr(){yn(Lt)}(),ae(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),Mn&&ml(),function Qn(){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;)d=u.postRun.shift(),Ut.unshift(d);var d;yn(Ut)}()))}d=d||K,Gn>0||(function ue(){if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)d=u.preRun.shift(),ot.unshift(d);var d;yn(ot)}(),Gn>0)||(u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),m()},1)):m())}if(u._main=function(){return(u._main=u.asm.Z).apply(null,arguments)},u.___original_main=function(){return(u.___original_main=u.asm.$).apply(null,arguments)},u.___start_em_js=16120,u.___stop_em_js=16218,Cr=function d(){ls||ri(),ls||(Cr=d)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();var Mn=!0;function po(){}function Lr(d){return(d||po).__cache__}function Rn(d,m){var w=Lr(m),M=w[d];return M||((M=Object.create((m||po).prototype)).ptr=d,w[d]=M)}u.noInitialRun&&(Mn=!1),ri(),(po.prototype=Object.create(po.prototype)).constructor=po,po.prototype.__class__=po,po.__cache__={},u.WrapperObject=po,u.getCache=Lr,u.wrapPointer=Rn,u.castObject=function gn(d,m){return Rn(d.ptr,m)},u.NULL=Rn(0),u.destroy=function kr(d){if(!d.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";d.__destroy__(),delete Lr(d.__class__)[d.ptr]},u.compare=function p(d,m){return d.ptr===m.ptr},u.getPointer=function _(d){return d.ptr},u.getClass=function b(d){return d.__class__};var x={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(x.needed){for(var d=0;d<x.temps.length;d++)u._free(x.temps[d]);x.temps.length=0,u._free(x.buffer),x.buffer=0,x.size+=x.needed,x.needed=0}x.buffer||(x.size+=128,x.buffer=u._malloc(x.size),Ie(x.buffer)),x.pos=0},alloc:function(d,m){Ie(x.buffer);var $,M=d.length*m.BYTES_PER_ELEMENT;return x.pos+(M=M+7&-8)>=x.size?(Ie(M>0),x.needed+=M,$=u._malloc(M),x.temps.push($)):($=x.buffer+x.pos,x.pos+=M),$},copy:function(d,m,w){switch(w>>>=0,m.BYTES_PER_ELEMENT){case 2:w>>>=1;break;case 4:w>>>=2;break;case 8:w>>>=3}for(var $=0;$<d.length;$++)m[w+$]=d[$]}};function U(d){if("string"==typeof d){var m=io(d),w=x.alloc(m,Ke);return x.copy(m,Ke,w),w}return d}function ge(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ve(){throw"cannot construct a FileEntry, no constructor in IDL"}function ye(){this.ptr=vr(),Lr(ye)[this.ptr]=this}function dt(d){x.prepare(),d=d&&"object"==typeof d?d.ptr:U(d),this.ptr=La(d),Lr(dt)[this.ptr]=this}return(ge.prototype=Object.create(po.prototype)).constructor=ge,ge.prototype.__class__=ge,ge.__cache__={},u.VoidPtr=ge,ge.prototype.__destroy__=ge.prototype.__destroy__=function(){it(this.ptr)},(ve.prototype=Object.create(po.prototype)).constructor=ve,ve.prototype.__class__=ve,ve.__cache__={},u.FileEntry=ve,ve.prototype.GetName=ve.prototype.GetName=function(){return Ve(Tt(this.ptr))},ve.prototype.IsDirectory=ve.prototype.IsDirectory=function(){return!!Xt(this.ptr)},ve.prototype.GetSize=ve.prototype.GetSize=function(){return nn(this.ptr)},ve.prototype.GetModifiedTS=ve.prototype.GetModifiedTS=function(){return sr(this.ptr)},ve.prototype.GetAttributes=ve.prototype.GetAttributes=function(){return fo(this.ptr)},ve.prototype.__destroy__=ve.prototype.__destroy__=function(){Or(this.ptr)},(ye.prototype=Object.create(po.prototype)).constructor=ye,ye.prototype.__class__=ye,ye.__cache__={},u.Vfs=ye,ye.prototype.Malloc=ye.prototype.Malloc=function(d){return d&&"object"==typeof d&&(d=d.ptr),Rn(Bi(this.ptr,d),ge)},ye.prototype.Free=ye.prototype.Free=function(d){d&&"object"==typeof d&&(d=d.ptr),ti(this.ptr,d)},ye.prototype.Nullptr=ye.prototype.Nullptr=function(){return Rn(Di(this.ptr),ge)},ye.prototype.AllocateImage=ye.prototype.AllocateImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Pa(this.ptr,d)},ye.prototype.MountImage=ye.prototype.MountImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),!!ks(this.ptr,d)},ye.prototype.UnmountImage=ye.prototype.UnmountImage=function(d){d&&"object"==typeof d&&(d=d.ptr),Ra(this.ptr,d)},ye.prototype.GetPendingImageSize=ye.prototype.GetPendingImageSize=function(){return Ts(this.ptr)},ye.prototype.GetSize=ye.prototype.GetSize=function(d){return d&&"object"==typeof d&&(d=d.ptr),hs(this.ptr,d)},ye.prototype.GetPendingImage=ye.prototype.GetPendingImage=function(){return Rn(Nr(this.ptr),ge)},ye.prototype.GetImage=ye.prototype.GetImage=function(d){return d&&"object"==typeof d&&(d=d.ptr),Rn(Ln(this.ptr,d),ge)},ye.prototype.GetDirtyPages=ye.prototype.GetDirtyPages=function(d){return d&&"object"==typeof d&&(d=d.ptr),Rn(pl(this.ptr,d),ge)},ye.prototype.RenameFile=ye.prototype.RenameFile=function(d,m){var w=this.ptr;return x.prepare(),d=d&&"object"==typeof d?d.ptr:U(d),m=m&&"object"==typeof m?m.ptr:U(m),Fa(w,d,m)},ye.prototype.ChmodFile=ye.prototype.ChmodFile=function(d,m,w){var M=this.ptr;return x.prepare(),d=d&&"object"==typeof d?d.ptr:U(d),m&&"object"==typeof m&&(m=m.ptr),w&&"object"==typeof w&&(w=w.ptr),Oa(M,d,m,w)},ye.prototype.StatFile=ye.prototype.StatFile=function(d){var m=this.ptr;return x.prepare(),d=d&&"object"==typeof d?d.ptr:U(d),wt(m,d)},ye.prototype.GetEntry=ye.prototype.GetEntry=function(){return Rn(Na(this.ptr),ve)},ye.prototype.BytesFree=ye.prototype.BytesFree=function(d){return d&&"object"==typeof d&&(d=d.ptr),Kn(this.ptr,d)},ye.prototype.BytesTotal=ye.prototype.BytesTotal=function(d){return d&&"object"==typeof d&&(d=d.ptr),ms(this.ptr,d)},ye.prototype.__destroy__=ye.prototype.__destroy__=function(){xs(this.ptr)},(dt.prototype=Object.create(po.prototype)).constructor=dt,dt.prototype.__class__=dt,dt.__cache__={},u.ReaddirContext=dt,dt.prototype.Next=dt.prototype.Next=function(){return $a(this.ptr)},dt.prototype.GetEntry=dt.prototype.GetEntry=function(){return Rn(Vi(this.ptr),ve)},dt.prototype.GetStatus=dt.prototype.GetStatus=function(){return ss(this.ptr)},dt.prototype.GetError=dt.prototype.GetError=function(){return as(this.ptr)},dt.prototype.GetErrorDescription=dt.prototype.GetErrorDescription=function(){return Ve(gs(this.ptr))},dt.prototype.__destroy__=dt.prototype.__destroy__=function(){Xr(this.ptr)},k.ready});Be.exports=qe},2597:(Be,qe,F)=>{"use strict";F.d(qe,{c:()=>Fe});var k=F(9158);let u;const oe=Q=>Q.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q=Q=>{if(void 0===u){const Ce=void 0!==Q.style.webkitAnimationName;u=void 0===Q.style.animationName&&Ce?"-webkit-":""}return u},K=(Q,Ee,Ce)=>{const ce=Ee.startsWith("animation")?q(Q):"";Q.style.setProperty(ce+Ee,Ce)},G=(Q,Ee)=>{const Ce=Ee.startsWith("animation")?q(Q):"";Q.style.removeProperty(Ce+Ee)},Z=[],H=(Q=[],Ee)=>{if(void 0!==Ee){const Ce=Array.isArray(Ee)?Ee:[Ee];return[...Q,...Ce]}return Q},Fe=Q=>{let Ee,Ce,ce,he,Ne,me,ze,We,L,V,W,ct,ot,Ye=[],be=[],Ie=[],Ae=!1,Ve={},Pe=[],X=[],Ze={},Ke=0,_t=!1,Rt=!1,_e=!0,Re=!1,$e=!0,at=!1;const Lt=Q,Ut=[],Pn=[],un=[],ue=[],Zr=[],Mr=[],Qn=[],lo=[],ro=[],Ar=[],Gn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,cr="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Gn,wi=()=>Ar,Hr=(R,Y)=>((Y?.oneTimeCallback?Pn:Ut).push({c:R,o:Y}),ot),Yr=()=>{if(cr)Ar.forEach(R=>{R.cancel()}),Ar.length=0;else{const R=un.slice();(0,k.r)(()=>{R.forEach(Y=>{G(Y,"animation-name"),G(Y,"animation-duration"),G(Y,"animation-timing-function"),G(Y,"animation-iteration-count"),G(Y,"animation-delay"),G(Y,"animation-play-state"),G(Y,"animation-fill-mode"),G(Y,"animation-direction")})})}},Ci=()=>{Zr.forEach(R=>{R?.parentNode&&R.parentNode.removeChild(R)}),Zr.length=0},Wt=()=>void 0!==Ne?Ne:ze?ze.getFill():"both",or=()=>void 0!==L?L:void 0!==me?me:ze?ze.getDirection():"normal",S=()=>_t?"linear":void 0!==ce?ce:ze?ze.getEasing():"linear",Ft=()=>Rt?0:void 0!==V?V:void 0!==Ce?Ce:ze?ze.getDuration():0,_r=()=>void 0!==he?he:ze?ze.getIterations():1,I=()=>void 0!==W?W:void 0!==Ee?Ee:ze?ze.getDelay():0,D=()=>{0!==Ke&&(Ke--,0===Ke&&((()=>{Jo(),lo.forEach(Qe=>Qe()),ro.forEach(Qe=>Qe());const R=_e?1:0,Y=Pe,ee=X,Le=Ze;un.forEach(Qe=>{const it=Qe.classList;Y.forEach(Tt=>it.add(Tt)),ee.forEach(Tt=>it.remove(Tt));for(const Tt in Le)Le.hasOwnProperty(Tt)&&K(Qe,Tt,Le[Tt])}),Ut.forEach(Qe=>Qe.c(R,ot)),Pn.forEach(Qe=>Qe.c(R,ot)),Pn.length=0,$e=!0,_e&&(Re=!0),_e=!0})(),ze&&ze.animationFinish()))},Kr=(R=!0)=>{Ci();const Y=(Q=>(Q.forEach(Ee=>{for(const Ce in Ee)if(Ee.hasOwnProperty(Ce)){const ce=Ee[Ce];if("easing"===Ce)Ee["animation-timing-function"]=ce,delete Ee[Ce];else{const he=oe(Ce);he!==Ce&&(Ee[he]=ce,delete Ee[Ce])}}}),Q))(Ye);un.forEach(ee=>{if(Y.length>0){const Le=((Q=[])=>Q.map(Ee=>{const Ce=Ee.offset,ce=[];for(const he in Ee)Ee.hasOwnProperty(he)&&"offset"!==he&&ce.push(`${he}: ${Ee[he]};`);return`${100*Ce}% { ${ce.join(" ")} }`}).join(" "))(Y);ct=void 0!==Q?Q:(Q=>{let Ee=Z.indexOf(Q);return Ee<0&&(Ee=Z.push(Q)-1),`ion-animation-${Ee}`})(Le);const Qe=((Q,Ee,Ce)=>{const ce=(Q=>{const Ee=Q.getRootNode();return Ee.head||Ee})(Ce),he=q(Ce),Ne=ce.querySelector("#"+Q);if(Ne)return Ne;const me=(Ce.ownerDocument||document).createElement("style");return me.id=Q,me.textContent=`@${he}keyframes ${Q} { ${Ee} } @${he}keyframes ${Q}-alt { ${Ee} }`,ce.appendChild(me),me})(ct,Le,ee);Zr.push(Qe),K(ee,"animation-duration",`${Ft()}ms`),K(ee,"animation-timing-function",S()),K(ee,"animation-delay",`${I()}ms`),K(ee,"animation-fill-mode",Wt()),K(ee,"animation-direction",or());const it=_r()===1/0?"infinite":_r().toString();K(ee,"animation-iteration-count",it),K(ee,"animation-play-state","paused"),R&&K(ee,"animation-name",`${Qe.id}-alt`),(0,k.r)(()=>{K(ee,"animation-name",Qe.id||null)})}})},di=(R=!0)=>{(()=>{Mr.forEach(Le=>Le()),Qn.forEach(Le=>Le());const R=be,Y=Ie,ee=Ve;un.forEach(Le=>{const Qe=Le.classList;R.forEach(it=>Qe.add(it)),Y.forEach(it=>Qe.remove(it));for(const it in ee)ee.hasOwnProperty(it)&&K(Le,it,ee[it])})})(),Ye.length>0&&(cr?(un.forEach(R=>{const Y=R.animate(Ye,{id:Lt,delay:I(),duration:Ft(),easing:S(),iterations:_r(),fill:Wt(),direction:or()});Y.pause(),Ar.push(Y)}),Ar.length>0&&(Ar[0].onfinish=()=>{D()})):Kr(R)),Ae=!0},fi=R=>{if(R=Math.min(Math.max(R,0),.9999),cr)Ar.forEach(Y=>{Y.currentTime=Y.effect.getComputedTiming().delay+Ft()*R,Y.pause()});else{const Y=`-${Ft()*R}ms`;un.forEach(ee=>{Ye.length>0&&(K(ee,"animation-delay",Y),K(ee,"animation-play-state","paused"))})}},Lo=R=>{Ar.forEach(Y=>{Y.effect.updateTiming({delay:I(),duration:Ft(),easing:S(),iterations:_r(),fill:Wt(),direction:or()})}),void 0!==R&&fi(R)},Ao=(R=!0,Y)=>{(0,k.r)(()=>{un.forEach(ee=>{K(ee,"animation-name",ct||null),K(ee,"animation-duration",`${Ft()}ms`),K(ee,"animation-timing-function",S()),K(ee,"animation-delay",void 0!==Y?`-${Y*Ft()}ms`:`${I()}ms`),K(ee,"animation-fill-mode",Wt()||null),K(ee,"animation-direction",or()||null);const Le=_r()===1/0?"infinite":_r().toString();K(ee,"animation-iteration-count",Le),R&&K(ee,"animation-name",`${ct}-alt`),(0,k.r)(()=>{K(ee,"animation-name",ct||null)})})})},Ur=(R=!1,Y=!0,ee)=>(R&&ue.forEach(Le=>{Le.update(R,Y,ee)}),cr?Lo(ee):Ao(Y,ee),ot),qn=()=>{Ae&&(cr?Ar.forEach(R=>{R.pause()}):un.forEach(R=>{K(R,"animation-play-state","paused")}),at=!0)},Si=()=>{We=void 0,D()},Jo=()=>{We&&clearTimeout(We)},is=R=>new Promise(Y=>{R?.sync&&(Rt=!0,Hr(()=>Rt=!1,{oneTimeCallback:!0})),Ae||di(),Re&&(cr?(fi(0),Lo()):Ao(),Re=!1),$e&&(Ke=ue.length+1,$e=!1),Hr(()=>Y(),{oneTimeCallback:!0}),ue.forEach(ee=>{ee.play()}),cr?(Ar.forEach(R=>{R.play()}),(0===Ye.length||0===un.length)&&D()):(()=>{if(Jo(),(0,k.r)(()=>{un.forEach(R=>{Ye.length>0&&K(R,"animation-play-state","running")})}),0===Ye.length||0===un.length)D();else{const R=I()||0,Y=Ft()||0,ee=_r()||1;isFinite(ee)&&(We=setTimeout(Si,R+Y*ee+100)),((Q,Ee)=>{let Ce;const ce={passive:!0},Ne=me=>{Q===me.target&&(Ce&&Ce(),Jo(),(0,k.r)(()=>{un.forEach(R=>{G(R,"animation-duration"),G(R,"animation-delay"),G(R,"animation-play-state")}),(0,k.r)(D)}))};Q&&(Q.addEventListener("webkitAnimationEnd",Ne,ce),Q.addEventListener("animationend",Ne,ce),Ce=()=>{Q.removeEventListener("webkitAnimationEnd",Ne,ce),Q.removeEventListener("animationend",Ne,ce)})})(un[0])}})(),at=!1}),N=(R,Y)=>{const ee=Ye[0];return void 0===ee||void 0!==ee.offset&&0!==ee.offset?Ye=[{offset:0,[R]:Y},...Ye]:ee[R]=Y,ot};return ot={parentAnimation:ze,elements:un,childAnimations:ue,id:Lt,animationFinish:D,from:N,to:(R,Y)=>{const ee=Ye[Ye.length-1];return void 0===ee||void 0!==ee.offset&&1!==ee.offset?Ye=[...Ye,{offset:1,[R]:Y}]:ee[R]=Y,ot},fromTo:(R,Y,ee)=>N(R,Y).to(R,ee),parent:R=>(ze=R,ot),play:is,pause:()=>(ue.forEach(R=>{R.pause()}),qn(),ot),stop:()=>{ue.forEach(R=>{R.stop()}),Ae&&(Yr(),Ae=!1),_t=!1,Rt=!1,$e=!0,L=void 0,V=void 0,W=void 0,Ke=0,Re=!1,_e=!0,at=!1},destroy:R=>(ue.forEach(Y=>{Y.destroy(R)}),(R=>{Yr(),R&&Ci()})(R),un.length=0,ue.length=0,Ye.length=0,Ut.length=0,Pn.length=0,Ae=!1,$e=!0,ot),keyframes:R=>{const Y=Ye!==R;return Ye=R,Y&&(R=>{cr?wi().forEach(Y=>{if(Y.effect.setKeyframes)Y.effect.setKeyframes(R);else{const ee=new KeyframeEffect(Y.effect.target,R,Y.effect.getTiming());Y.effect=ee}}):Kr()})(Ye),ot},addAnimation:R=>{if(null!=R)if(Array.isArray(R))for(const Y of R)Y.parent(ot),ue.push(Y);else R.parent(ot),ue.push(R);return ot},addElement:R=>{if(null!=R)if(1===R.nodeType)un.push(R);else if(R.length>=0)for(let Y=0;Y<R.length;Y++)un.push(R[Y]);else console.error("Invalid addElement value");return ot},update:Ur,fill:R=>(Ne=R,Ur(!0),ot),direction:R=>(me=R,Ur(!0),ot),iterations:R=>(he=R,Ur(!0),ot),duration:R=>(!cr&&0===R&&(R=1),Ce=R,Ur(!0),ot),easing:R=>(ce=R,Ur(!0),ot),delay:R=>(Ee=R,Ur(!0),ot),getWebAnimations:wi,getKeyframes:()=>Ye,getFill:Wt,getDirection:or,getDelay:I,getIterations:_r,getEasing:S,getDuration:Ft,afterAddRead:R=>(lo.push(R),ot),afterAddWrite:R=>(ro.push(R),ot),afterClearStyles:(R=[])=>{for(const Y of R)Ze[Y]="";return ot},afterStyles:(R={})=>(Ze=R,ot),afterRemoveClass:R=>(X=H(X,R),ot),afterAddClass:R=>(Pe=H(Pe,R),ot),beforeAddRead:R=>(Mr.push(R),ot),beforeAddWrite:R=>(Qn.push(R),ot),beforeClearStyles:(R=[])=>{for(const Y of R)Ve[Y]="";return ot},beforeStyles:(R={})=>(Ve=R,ot),beforeRemoveClass:R=>(Ie=H(Ie,R),ot),beforeAddClass:R=>(be=H(be,R),ot),onFinish:Hr,isRunning:()=>0!==Ke&&!at,progressStart:(R=!1,Y)=>(ue.forEach(ee=>{ee.progressStart(R,Y)}),qn(),_t=R,Ae||di(),Ur(!1,!0,Y),ot),progressStep:R=>(ue.forEach(Y=>{Y.progressStep(R)}),fi(R),ot),progressEnd:(R,Y,ee)=>(_t=!1,ue.forEach(Le=>{Le.progressEnd(R,Y,ee)}),void 0!==ee&&(V=ee),Re=!1,_e=!0,0===R?(L="reverse"===or()?"normal":"reverse","reverse"===L&&(_e=!1),cr?(Ur(),fi(1-Y)):(W=(1-Y)*Ft()*-1,Ur(!1,!1))):1===R&&(cr?(Ur(),fi(Y)):(W=Y*Ft()*-1,Ur(!1,!1))),void 0!==R&&(Hr(()=>{V=void 0,L=void 0,W=void 0},{oneTimeCallback:!0}),ze||is()),ot)}}},607:(Be,qe,F)=>{"use strict";F.d(qe,{G:()=>q});class u{constructor(G,z,Se,Z,ie){this.id=z,this.name=Se,this.disableScroll=ie,this.priority=1e6*Z+z,this.ctrl=G}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const G=this.ctrl.capture(this.name,this.id,this.priority);return G&&this.disableScroll&&this.ctrl.disableScroll(this.id),G}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ae{constructor(G,z,Se,Z){this.id=z,this.disable=Se,this.disableScroll=Z,this.ctrl=G}block(){if(this.ctrl){if(this.disable)for(const G of this.disable)this.ctrl.disableGesture(G,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const G of this.disable)this.ctrl.enableGesture(G,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const oe="backdrop-no-scroll",q=new class k{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(G){return new u(this,this.newID(),G.name,G.priority||0,!!G.disableScroll)}createBlocker(G={}){return new ae(this,this.newID(),G.disable,!!G.disableScroll)}start(G,z,Se){return this.canStart(G)?(this.requestedStart.set(z,Se),!0):(this.requestedStart.delete(z),!1)}capture(G,z,Se){if(!this.start(G,z,Se))return!1;const Z=this.requestedStart;let ie=-1e4;if(Z.forEach(B=>{ie=Math.max(ie,B)}),ie===Se){this.capturedId=z,Z.clear();const B=new CustomEvent("ionGestureCaptured",{detail:{gestureName:G}});return document.dispatchEvent(B),!0}return Z.delete(z),!1}release(G){this.requestedStart.delete(G),this.capturedId===G&&(this.capturedId=void 0)}disableGesture(G,z){let Se=this.disabledGestures.get(G);void 0===Se&&(Se=new Set,this.disabledGestures.set(G,Se)),Se.add(z)}enableGesture(G,z){const Se=this.disabledGestures.get(G);void 0!==Se&&Se.delete(z)}disableScroll(G){this.disabledScroll.add(G),1===this.disabledScroll.size&&document.body.classList.add(oe)}enableScroll(G){this.disabledScroll.delete(G),0===this.disabledScroll.size&&document.body.classList.remove(oe)}canStart(G){return!(void 0!==this.capturedId||this.isDisabled(G))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(G){const z=this.disabledGestures.get(G);return!!(z&&z.size>0)}newID(){return this.gestureId++,this.gestureId}}},159:(Be,qe,F)=>{"use strict";F.r(qe),F.d(qe,{MENU_BACK_BUTTON_PRIORITY:()=>q,OVERLAY_BACK_BUTTON_PRIORITY:()=>oe,blockHardwareBackButton:()=>u,startHardwareBackButton:()=>ae});var k=F(3918);const u=()=>{document.addEventListener("backbutton",()=>{})},ae=()=>{const K=document;let G=!1;K.addEventListener("backbutton",()=>{if(G)return;let z=0,Se=[];const Z=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(O,H){Se.push({priority:O,handler:H,id:z++})}}});K.dispatchEvent(Z);const ie=function(){var O=(0,k.Z)(function*(H){try{if(H?.handler){const Fe=H.handler(B);null!=Fe&&(yield Fe)}}catch(Fe){console.error(Fe)}});return function(Fe){return O.apply(this,arguments)}}(),B=()=>{if(Se.length>0){let O={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Se.forEach(H=>{H.priority>=O.priority&&(O=H)}),G=!0,Se=Se.filter(H=>H.id!==O.id),ie(O).then(()=>G=!1)}};B()})},oe=100,q=99},9158:(Be,qe,F)=>{"use strict";F.d(qe,{a:()=>G,b:()=>z,c:()=>ae,d:()=>H,e:()=>Fe,f:()=>O,g:()=>Se,h:()=>Ne,i:()=>K,j:()=>oe,k:()=>B,l:()=>Q,m:()=>ie,n:()=>Ee,o:()=>he,p:()=>ce,q:()=>me,r:()=>Z,s:()=>Ye,t:()=>k,u:()=>Ce});const k=(be,Ie=0)=>new Promise(Ae=>{u(be,Ie,Ae)}),u=(be,Ie=0,Ae)=>{let ze,Ve;const Pe={passive:!0},Ze=()=>{ze&&ze()},Ke=_t=>{(void 0===_t||be===_t.target)&&(Ze(),Ae(_t))};return be&&(be.addEventListener("webkitTransitionEnd",Ke,Pe),be.addEventListener("transitionend",Ke,Pe),Ve=setTimeout(Ke,Ie+500),ze=()=>{Ve&&(clearTimeout(Ve),Ve=void 0),be.removeEventListener("webkitTransitionEnd",Ke,Pe),be.removeEventListener("transitionend",Ke,Pe)}),Ze},ae=(be,Ie)=>{be.componentOnReady?be.componentOnReady().then(Ae=>Ie(Ae)):Z(()=>Ie(be))},oe=(be,Ie=[])=>{const Ae={};return Ie.forEach(ze=>{be.hasAttribute(ze)&&(null!==be.getAttribute(ze)&&(Ae[ze]=be.getAttribute(ze)),be.removeAttribute(ze))}),Ae},q=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],K=be=>oe(be,q),G=(be,Ie,Ae,ze)=>{var Ve;if(typeof window<"u"){const X=null===(Ve=window?.Ionic)||void 0===Ve?void 0:Ve.config;if(X){const Ze=X.get("_ael");if(Ze)return Ze(be,Ie,Ae,ze);if(X._ael)return X._ael(be,Ie,Ae,ze)}}return be.addEventListener(Ie,Ae,ze)},z=(be,Ie,Ae,ze)=>{var Ve;if(typeof window<"u"){const X=null===(Ve=window?.Ionic)||void 0===Ve?void 0:Ve.config;if(X){const Ze=X.get("_rel");if(Ze)return Ze(be,Ie,Ae,ze);if(X._rel)return X._rel(be,Ie,Ae,ze)}}return be.removeEventListener(Ie,Ae,ze)},Se=(be,Ie=be)=>be.shadowRoot||Ie,Z=be=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(be):"function"==typeof requestAnimationFrame?requestAnimationFrame(be):setTimeout(be),ie=be=>!!be.shadowRoot&&!!be.attachShadow,B=be=>{const Ie=be.closest("ion-item");return Ie?Ie.querySelector("ion-label"):null},O=be=>{if(be.focus(),be.classList.contains("ion-focusable")){const Ie=be.closest("ion-app");Ie&&Ie.setFocus([be])}},H=(be,Ie)=>{let Ae;const ze=be.getAttribute("aria-labelledby"),Ve=be.id;let Pe=null!==ze&&""!==ze.trim()?ze:Ie+"-lbl",X=null!==ze&&""!==ze.trim()?document.getElementById(ze):B(be);return X?(null===ze&&(X.id=Pe),Ae=X.textContent,X.setAttribute("aria-hidden","true")):""!==Ve.trim()&&(X=document.querySelector(`label[for="${Ve}"]`),X&&(""!==X.id?Pe=X.id:X.id=Pe=`${Ve}-lbl`,Ae=X.textContent)),{label:X,labelId:Pe,labelText:Ae}},Fe=(be,Ie,Ae,ze,Ve)=>{if(be||ie(Ie)){let Pe=Ie.querySelector("input.aux-input");Pe||(Pe=Ie.ownerDocument.createElement("input"),Pe.type="hidden",Pe.classList.add("aux-input"),Ie.appendChild(Pe)),Pe.disabled=Ve,Pe.name=Ae,Pe.value=ze||""}},Q=(be,Ie,Ae)=>Math.max(be,Math.min(Ie,Ae)),Ee=(be,Ie)=>{if(!be){const Ae="ASSERT: "+Ie;throw console.error(Ae),new Error(Ae)}},Ce=be=>be.timeStamp||Date.now(),ce=be=>{if(be){const Ie=be.changedTouches;if(Ie&&Ie.length>0){const Ae=Ie[0];return{x:Ae.clientX,y:Ae.clientY}}if(void 0!==be.pageX)return{x:be.pageX,y:be.pageY}}return{x:0,y:0}},he=be=>{const Ie="rtl"===document.dir;switch(be){case"start":return Ie;case"end":return!Ie;default:throw new Error(`"${be}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Ne=(be,Ie)=>{const Ae=be._original||be;return{_original:be,emit:me(Ae.emit.bind(Ae),Ie)}},me=(be,Ie=0)=>{let Ae;return(...ze)=>{clearTimeout(Ae),Ae=setTimeout(be,Ie,...ze)}},Ye=(be,Ie)=>{if(be??(be={}),Ie??(Ie={}),be===Ie)return!0;const Ae=Object.keys(be);if(Ae.length!==Object.keys(Ie).length)return!1;for(const ze of Ae)if(!(ze in Ie)||be[ze]!==Ie[ze])return!1;return!0}},2172:(Be,qe,F)=>{"use strict";F.r(qe),F.d(qe,{GESTURE_CONTROLLER:()=>k.G,createGesture:()=>Se});var k=F(607);const u=(O,H,Fe,Q)=>{const Ee=ae(O)?{capture:!!Q.capture,passive:!!Q.passive}:!!Q.capture;let Ce,ce;return O.__zone_symbol__addEventListener?(Ce="__zone_symbol__addEventListener",ce="__zone_symbol__removeEventListener"):(Ce="addEventListener",ce="removeEventListener"),O[Ce](H,Fe,Ee),()=>{O[ce](H,Fe,Ee)}},ae=O=>{if(void 0===oe)try{const H=Object.defineProperty({},"passive",{get:()=>{oe=!0}});O.addEventListener("optsTest",()=>{},H)}catch{oe=!1}return!!oe};let oe;const G=O=>O instanceof Document?O:O.ownerDocument,Se=O=>{let H=!1,Fe=!1,Q=!0,Ee=!1;const Ce=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},O),ce=Ce.canStart,he=Ce.onWillStart,Ne=Ce.onStart,me=Ce.onEnd,Ye=Ce.notCaptured,be=Ce.onMove,Ie=Ce.threshold,Ae=Ce.passive,ze=Ce.blurOnStart,Ve={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Pe=((O,H,Fe)=>{const Q=Fe*(Math.PI/180),Ee="x"===O,Ce=Math.cos(Q),ce=H*H;let he=0,Ne=0,me=!1,Ye=0;return{start(be,Ie){he=be,Ne=Ie,Ye=0,me=!0},detect(be,Ie){if(!me)return!1;const Ae=be-he,ze=Ie-Ne,Ve=Ae*Ae+ze*ze;if(Ve<ce)return!1;const Pe=Math.sqrt(Ve),X=(Ee?Ae:ze)/Pe;return Ye=X>Ce?1:X<-Ce?-1:0,me=!1,!0},isGesture:()=>0!==Ye,getDirection:()=>Ye}})(Ce.direction,Ce.threshold,Ce.maxAngle),X=k.G.createGesture({name:O.gestureName,priority:O.gesturePriority,disableScroll:O.disableScroll}),_t=()=>{!H||(Ee=!1,be&&be(Ve))},Rt=()=>!(X&&!X.capture()||(H=!0,Q=!1,Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime,he?he(Ve).then(L):L(),0)),L=()=>{ze&&(()=>{if(typeof document<"u"){const $e=document.activeElement;$e?.blur&&$e.blur()}})(),Ne&&Ne(Ve),Q=!0},V=()=>{H=!1,Fe=!1,Ee=!1,Q=!0,X.release()},W=$e=>{const ct=H,ot=Q;if(V(),ot){if(Z(Ve,$e),ct)return void(me&&me(Ve));Ye&&Ye(Ve)}},_e=((O,H,Fe,Q,Ee)=>{let Ce,ce,he,Ne,me,Ye,be,Ie=0;const Ae=We=>{Ie=Date.now()+2e3,H(We)&&(!ce&&Fe&&(ce=u(O,"touchmove",Fe,Ee)),he||(he=u(We.target,"touchend",Ve,Ee)),Ne||(Ne=u(We.target,"touchcancel",Ve,Ee)))},ze=We=>{Ie>Date.now()||!H(We)||(!Ye&&Fe&&(Ye=u(G(O),"mousemove",Fe,Ee)),be||(be=u(G(O),"mouseup",Pe,Ee)))},Ve=We=>{X(),Q&&Q(We)},Pe=We=>{Ze(),Q&&Q(We)},X=()=>{ce&&ce(),he&&he(),Ne&&Ne(),ce=he=Ne=void 0},Ze=()=>{Ye&&Ye(),be&&be(),Ye=be=void 0},Ke=()=>{X(),Ze()},_t=(We=!0)=>{We?(Ce||(Ce=u(O,"touchstart",Ae,Ee)),me||(me=u(O,"mousedown",ze,Ee))):(Ce&&Ce(),me&&me(),Ce=me=void 0,Ke())};return{enable:_t,stop:Ke,destroy:()=>{_t(!1),Q=Fe=H=void 0}}})(Ce.el,$e=>{const ct=B($e);return!(Fe||!Q||(ie($e,Ve),Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime=ct,Ve.velocityX=Ve.velocityY=Ve.deltaX=Ve.deltaY=0,Ve.event=$e,ce&&!1===ce(Ve))||(X.release(),!X.start()))&&(Fe=!0,0===Ie?Rt():(Pe.start(Ve.startX,Ve.startY),!0))},$e=>{H?!Ee&&Q&&(Ee=!0,Z(Ve,$e),requestAnimationFrame(_t)):(Z(Ve,$e),Pe.detect(Ve.currentX,Ve.currentY)&&(!Pe.isGesture()||!Rt())&&Re())},W,{capture:!1,passive:Ae}),Re=()=>{V(),_e.stop(),Ye&&Ye(Ve)};return{enable($e=!0){$e||(H&&W(void 0),V()),_e.enable($e)},destroy(){X.destroy(),_e.destroy()}}},Z=(O,H)=>{if(!H)return;const Fe=O.currentX,Q=O.currentY,Ee=O.currentTime;ie(H,O);const Ce=O.currentX,ce=O.currentY,Ne=(O.currentTime=B(H))-Ee;if(Ne>0&&Ne<100){const Ye=(ce-Q)/Ne;O.velocityX=(Ce-Fe)/Ne*.7+.3*O.velocityX,O.velocityY=.7*Ye+.3*O.velocityY}O.deltaX=Ce-O.startX,O.deltaY=ce-O.startY,O.event=H},ie=(O,H)=>{let Fe=0,Q=0;if(O){const Ee=O.changedTouches;if(Ee&&Ee.length>0){const Ce=Ee[0];Fe=Ce.clientX,Q=Ce.clientY}else void 0!==O.pageX&&(Fe=O.pageX,Q=O.pageY)}H.currentX=Fe,H.currentY=Q},B=O=>O.timeStamp||Date.now()},4736:(Be,qe,F)=>{"use strict";F.d(qe,{L:()=>oe,a:()=>q,b:()=>K,c:()=>G,d:()=>z,e:()=>Ie,g:()=>Ve,l:()=>Ye,s:()=>Ae,t:()=>ie});var k=F(3918),u=F(9479),ae=F(9158);const oe="ionViewWillEnter",q="ionViewDidEnter",K="ionViewWillLeave",G="ionViewDidLeave",z="ionViewWillUnload",ie=Pe=>new Promise((X,Ze)=>{(0,u.c)(()=>{B(Pe),O(Pe).then(Ke=>{Ke.animation&&Ke.animation.destroy(),H(Pe),X(Ke)},Ke=>{H(Pe),Ze(Ke)})})}),B=Pe=>{const X=Pe.enteringEl,Ze=Pe.leavingEl;ze(X,Ze,Pe.direction),Pe.showGoBack?X.classList.add("can-go-back"):X.classList.remove("can-go-back"),Ae(X,!1),X.style.setProperty("pointer-events","none"),Ze&&(Ae(Ze,!1),Ze.style.setProperty("pointer-events","none"))},O=function(){var Pe=(0,k.Z)(function*(X){const Ze=yield Fe(X);return Ze&&u.B.isBrowser?Q(Ze,X):Ee(X)});return function(Ze){return Pe.apply(this,arguments)}}(),H=Pe=>{const X=Pe.enteringEl,Ze=Pe.leavingEl;X.classList.remove("ion-page-invisible"),X.style.removeProperty("pointer-events"),void 0!==Ze&&(Ze.classList.remove("ion-page-invisible"),Ze.style.removeProperty("pointer-events"))},Fe=function(){var Pe=(0,k.Z)(function*(X){return X.leavingEl&&X.animated&&0!==X.duration?X.animationBuilder?X.animationBuilder:"ios"===X.mode?(yield Promise.resolve().then(F.bind(F,5794))).iosTransitionAnimation:(yield Promise.resolve().then(F.bind(F,932))).mdTransitionAnimation:void 0});return function(Ze){return Pe.apply(this,arguments)}}(),Q=function(){var Pe=(0,k.Z)(function*(X,Ze){yield Ce(Ze,!0);const Ke=X(Ze.baseEl,Ze);Ne(Ze.enteringEl,Ze.leavingEl);const _t=yield he(Ke,Ze);return Ze.progressCallback&&Ze.progressCallback(void 0),_t&&me(Ze.enteringEl,Ze.leavingEl),{hasCompleted:_t,animation:Ke}});return function(Ze,Ke){return Pe.apply(this,arguments)}}(),Ee=function(){var Pe=(0,k.Z)(function*(X){const Ze=X.enteringEl,Ke=X.leavingEl;return yield Ce(X,!1),Ne(Ze,Ke),me(Ze,Ke),{hasCompleted:!0}});return function(Ze){return Pe.apply(this,arguments)}}(),Ce=function(){var Pe=(0,k.Z)(function*(X,Ze){const _t=(void 0!==X.deepWait?X.deepWait:Ze)?[Ie(X.enteringEl),Ie(X.leavingEl)]:[be(X.enteringEl),be(X.leavingEl)];yield Promise.all(_t),yield ce(X.viewIsReady,X.enteringEl)});return function(Ze,Ke){return Pe.apply(this,arguments)}}(),ce=function(){var Pe=(0,k.Z)(function*(X,Ze){X&&(yield X(Ze))});return function(Ze,Ke){return Pe.apply(this,arguments)}}(),he=(Pe,X)=>{const Ze=X.progressCallback,Ke=new Promise(_t=>{Pe.onFinish(Rt=>_t(1===Rt))});return Ze?(Pe.progressStart(!0),Ze(Pe)):Pe.play(),Ke},Ne=(Pe,X)=>{Ye(X,K),Ye(Pe,oe)},me=(Pe,X)=>{Ye(Pe,q),Ye(X,G)},Ye=(Pe,X)=>{if(Pe){const Ze=new CustomEvent(X,{bubbles:!1,cancelable:!1});Pe.dispatchEvent(Ze)}},be=Pe=>Pe?new Promise(X=>(0,ae.c)(Pe,X)):Promise.resolve(),Ie=function(){var Pe=(0,k.Z)(function*(X){const Ze=X;if(Ze){if(null!=Ze.componentOnReady){if(null!=(yield Ze.componentOnReady()))return}else if(null!=Ze.__registerHost)return void(yield new Promise(_t=>(0,ae.r)(_t)));yield Promise.all(Array.from(Ze.children).map(Ie))}});return function(Ze){return Pe.apply(this,arguments)}}(),Ae=(Pe,X)=>{X?(Pe.setAttribute("aria-hidden","true"),Pe.classList.add("ion-page-hidden")):(Pe.hidden=!1,Pe.removeAttribute("aria-hidden"),Pe.classList.remove("ion-page-hidden"))},ze=(Pe,X,Ze)=>{void 0!==Pe&&(Pe.style.zIndex="back"===Ze?"99":"101"),void 0!==X&&(X.style.zIndex="100")},Ve=Pe=>Pe.classList.contains("ion-page")?Pe:Pe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Pe},9479:(Be,qe,F)=>{"use strict";F.d(qe,{B:()=>is,H:()=>ue,a:()=>Re,b:()=>Co,c:()=>Ei,e:()=>Ht,f:()=>Bn,g:()=>$e,h:()=>Pn,i:()=>En,j:()=>S,k:()=>D,p:()=>Q,r:()=>di,s:()=>H});var k=F(3918);let ae,oe,q,K=!1,G=!1,z=!1,Se=!1,Z=!1;const ie=typeof window<"u"?window:{},B=ie.document||{head:{}},O={$flags$:0,$resourcesUrl$:"",jmp:T=>T(),raf:T=>requestAnimationFrame(T),ael:(T,N,pe,ke)=>T.addEventListener(N,pe,ke),rel:(T,N,pe,ke)=>T.removeEventListener(N,pe,ke),ce:(T,N)=>new CustomEvent(T,N)},H=T=>{Object.assign(O,T)},Q=T=>Promise.resolve(T),Ee=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),Ce=(T,N,pe,ke)=>{pe&&pe.map(([R,Y,ee])=>{const Le=he(T,R),Qe=ce(N,ee),it=Ne(R);O.ael(Le,Y,Qe,it),(N.$rmListeners$=N.$rmListeners$||[]).push(()=>O.rel(Le,Y,Qe,it))})},ce=(T,N)=>pe=>{try{256&T.$flags$?T.$lazyInstance$[N](pe):(T.$queuedListeners$=T.$queuedListeners$||[]).push([N,pe])}catch(ke){Ao(ke)}},he=(T,N)=>4&N?B:8&N?ie:16&N?B.body:T,Ne=T=>0!=(2&T),Ae="s-id",ze="sty-id",X="http://www.w3.org/1999/xlink",_t=new WeakMap,Rt=(T,N,pe)=>{let ke=Xo.get(T);Ee&&pe?(ke=ke||new CSSStyleSheet,ke.replace(N)):ke=N,Xo.set(T,ke)},We=(T,N,pe,ke)=>{let R=V(N,pe);const Y=Xo.get(R);if(T=11===T.nodeType?T:B,Y)if("string"==typeof Y){let Le,ee=_t.get(T=T.head||T);ee||_t.set(T,ee=new Set),ee.has(R)||(T.host&&(Le=T.querySelector(`[${ze}="${R}"]`))?Le.innerHTML=Y:(Le=B.createElement("style"),Le.innerHTML=Y,T.insertBefore(Le,T.querySelector("link"))),ee&&ee.add(R))}else T.adoptedStyleSheets.includes(Y)||(T.adoptedStyleSheets=[...T.adoptedStyleSheets,Y]);return R},V=(T,N)=>"sc-"+(N&&32&T.$flags$?T.$tagName$+"-"+N:T.$tagName$),W=T=>T.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Re=T=>$i.push(T),$e=T=>jr(T).$modeName$,ct={},Ut=T=>"object"==(T=typeof T)||"function"===T,Pn=(T,N,...pe)=>{let ke=null,R=null,Y=null,ee=!1,Le=!1;const Qe=[],it=Xt=>{for(let nn=0;nn<Xt.length;nn++)ke=Xt[nn],Array.isArray(ke)?it(ke):null!=ke&&"boolean"!=typeof ke&&((ee="function"!=typeof T&&!Ut(ke))&&(ke=String(ke)),ee&&Le?Qe[Qe.length-1].$text$+=ke:Qe.push(ee?un(null,ke):ke),Le=ee)};if(it(pe),N){N.key&&(R=N.key),N.name&&(Y=N.name);{const Xt=N.className||N.class;Xt&&(N.class="object"!=typeof Xt?Xt:Object.keys(Xt).filter(nn=>Xt[nn]).join(" "))}}if("function"==typeof T)return T(null===N?{}:N,Qe,Mr);const Tt=un(T,null);return Tt.$attrs$=N,Qe.length>0&&(Tt.$children$=Qe),Tt.$key$=R,Tt.$name$=Y,Tt},un=(T,N)=>({$flags$:0,$tag$:T,$text$:N,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),ue={},Mr={forEach:(T,N)=>T.map(Qn).forEach(N),map:(T,N)=>T.map(Qn).map(N).map(lo)},Qn=T=>({vattrs:T.$attrs$,vchildren:T.$children$,vkey:T.$key$,vname:T.$name$,vtag:T.$tag$,vtext:T.$text$}),lo=T=>{if("function"==typeof T.vtag){const pe=Object.assign({},T.vattrs);return T.vkey&&(pe.key=T.vkey),T.vname&&(pe.name=T.vname),Pn(T.vtag,pe,...T.vchildren||[])}const N=un(T.vtag,T.vtext);return N.$attrs$=T.vattrs,N.$children$=T.vchildren,N.$key$=T.vkey,N.$name$=T.vname,N},ro=(T,N,pe,ke,R,Y)=>{if(pe!==ke){let ee=Lo(T,N),Le=N.toLowerCase();if("class"===N){const Qe=T.classList,it=Gn(pe),Tt=Gn(ke);Qe.remove(...it.filter(Xt=>Xt&&!Tt.includes(Xt))),Qe.add(...Tt.filter(Xt=>Xt&&!it.includes(Xt)))}else if("style"===N){for(const Qe in pe)(!ke||null==ke[Qe])&&(Qe.includes("-")?T.style.removeProperty(Qe):T.style[Qe]="");for(const Qe in ke)(!pe||ke[Qe]!==pe[Qe])&&(Qe.includes("-")?T.style.setProperty(Qe,ke[Qe]):T.style[Qe]=ke[Qe])}else if("key"!==N)if("ref"===N)ke&&ke(T);else if(ee||"o"!==N[0]||"n"!==N[1]){const Qe=Ut(ke);if((ee||Qe&&null!==ke)&&!R)try{if(T.tagName.includes("-"))T[N]=ke;else{const Tt=ke??"";"list"===N?ee=!1:(null==pe||T[N]!=Tt)&&(T[N]=Tt)}}catch{}let it=!1;Le!==(Le=Le.replace(/^xlink\:?/,""))&&(N=Le,it=!0),null==ke||!1===ke?(!1!==ke||""===T.getAttribute(N))&&(it?T.removeAttributeNS(X,N):T.removeAttribute(N)):(!ee||4&Y||R)&&!Qe&&(ke=!0===ke?"":ke,it?T.setAttributeNS(X,N,ke):T.setAttribute(N,ke))}else N="-"===N[2]?N.slice(3):Lo(ie,Le)?Le.slice(2):Le[2]+N.slice(3),pe&&O.rel(T,N,pe,!1),ke&&O.ael(T,N,ke,!1)}},Ar=/\s/,Gn=T=>T?T.split(Ar):[],cr=(T,N,pe,ke)=>{const R=11===N.$elm$.nodeType&&N.$elm$.host?N.$elm$.host:N.$elm$,Y=T&&T.$attrs$||ct,ee=N.$attrs$||ct;for(ke in Y)ke in ee||ro(R,ke,Y[ke],void 0,pe,N.$flags$);for(ke in ee)ro(R,ke,Y[ke],ee[ke],pe,N.$flags$)},Cr=(T,N,pe,ke)=>{const R=N.$children$[pe];let ee,Le,Qe,Y=0;if(K||(z=!0,"slot"===R.$tag$&&(ae&&ke.classList.add(ae+"-s"),R.$flags$|=R.$children$?2:1)),null!==R.$text$)ee=R.$elm$=B.createTextNode(R.$text$);else if(1&R.$flags$)ee=R.$elm$=B.createTextNode("");else{if(Se||(Se="svg"===R.$tag$),ee=R.$elm$=B.createElementNS(Se?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&R.$flags$?"slot-fb":R.$tag$),Se&&"foreignObject"===R.$tag$&&(Se=!1),cr(null,R,Se),(T=>null!=T)(ae)&&ee["s-si"]!==ae&&ee.classList.add(ee["s-si"]=ae),R.$children$)for(Y=0;Y<R.$children$.length;++Y)Le=Cr(T,R,Y,ee),Le&&ee.appendChild(Le);"svg"===R.$tag$?Se=!1:"foreignObject"===ee.tagName&&(Se=!0)}return ee["s-hn"]=q,3&R.$flags$&&(ee["s-sr"]=!0,ee["s-cr"]=oe,ee["s-sn"]=R.$name$||"",Qe=T&&T.$children$&&T.$children$[pe],Qe&&Qe.$tag$===R.$tag$&&T.$elm$&&wi(T.$elm$,!1)),ee},wi=(T,N)=>{O.$flags$|=1;const pe=T.childNodes;for(let ke=pe.length-1;ke>=0;ke--){const R=pe[ke];R["s-hn"]!==q&&R["s-ol"]&&(In(R).insertBefore(R,Hr(R)),R["s-ol"].remove(),R["s-ol"]=void 0,z=!0),N&&wi(R,N)}O.$flags$&=-2},bo=(T,N,pe,ke,R,Y)=>{let Le,ee=T["s-cr"]&&T["s-cr"].parentNode||T;for(ee.shadowRoot&&ee.tagName===q&&(ee=ee.shadowRoot);R<=Y;++R)ke[R]&&(Le=Cr(null,pe,R,T),Le&&(ke[R].$elm$=Le,ee.insertBefore(Le,Hr(N))))},ur=(T,N,pe,ke,R)=>{for(;N<=pe;++N)(ke=T[N])&&(R=ke.$elm$,je(ke),G=!0,R["s-ol"]?R["s-ol"].remove():wi(R,!0),R.remove())},wo=(T,N)=>T.$tag$===N.$tag$&&("slot"===T.$tag$?T.$name$===N.$name$:T.$key$===N.$key$),Hr=T=>T&&T["s-ol"]||T,In=T=>(T["s-ol"]?T["s-ol"]:T).parentNode,Yr=(T,N)=>{const pe=N.$elm$=T.$elm$,ke=T.$children$,R=N.$children$,Y=N.$tag$,ee=N.$text$;let Le;null===ee?(Se="svg"===Y||"foreignObject"!==Y&&Se,"slot"===Y||cr(T,N,Se),null!==ke&&null!==R?((T,N,pe,ke)=>{let fo,Or,R=0,Y=0,ee=0,Le=0,Qe=N.length-1,it=N[0],Tt=N[Qe],Xt=ke.length-1,nn=ke[0],sr=ke[Xt];for(;R<=Qe&&Y<=Xt;)if(null==it)it=N[++R];else if(null==Tt)Tt=N[--Qe];else if(null==nn)nn=ke[++Y];else if(null==sr)sr=ke[--Xt];else if(wo(it,nn))Yr(it,nn),it=N[++R],nn=ke[++Y];else if(wo(Tt,sr))Yr(Tt,sr),Tt=N[--Qe],sr=ke[--Xt];else if(wo(it,sr))("slot"===it.$tag$||"slot"===sr.$tag$)&&wi(it.$elm$.parentNode,!1),Yr(it,sr),T.insertBefore(it.$elm$,Tt.$elm$.nextSibling),it=N[++R],sr=ke[--Xt];else if(wo(Tt,nn))("slot"===it.$tag$||"slot"===sr.$tag$)&&wi(Tt.$elm$.parentNode,!1),Yr(Tt,nn),T.insertBefore(Tt.$elm$,it.$elm$),Tt=N[--Qe],nn=ke[++Y];else{for(ee=-1,Le=R;Le<=Qe;++Le)if(N[Le]&&null!==N[Le].$key$&&N[Le].$key$===nn.$key$){ee=Le;break}ee>=0?(Or=N[ee],Or.$tag$!==nn.$tag$?fo=Cr(N&&N[Y],pe,ee,T):(Yr(Or,nn),N[ee]=void 0,fo=Or.$elm$),nn=ke[++Y]):(fo=Cr(N&&N[Y],pe,Y,T),nn=ke[++Y]),fo&&In(it.$elm$).insertBefore(fo,Hr(it.$elm$))}R>Qe?bo(T,null==ke[Xt+1]?null:ke[Xt+1].$elm$,pe,ke,Y,Xt):Y>Xt&&ur(N,R,Qe)})(pe,ke,N,R):null!==R?(null!==T.$text$&&(pe.textContent=""),bo(pe,null,N,R,0,R.length-1)):null!==ke&&ur(ke,0,ke.length-1),Se&&"svg"===Y&&(Se=!1)):(Le=pe["s-cr"])?Le.parentNode.textContent=ee:T.$text$!==ee&&(pe.data=ee)},Ci=T=>{const N=T.childNodes;let pe,ke,R,Y,ee,Le;for(ke=0,R=N.length;ke<R;ke++)if(pe=N[ke],1===pe.nodeType){if(pe["s-sr"])for(ee=pe["s-sn"],pe.hidden=!1,Y=0;Y<R;Y++)if(Le=N[Y].nodeType,N[Y]["s-hn"]!==pe["s-hn"]||""!==ee){if(1===Le&&ee===N[Y].getAttribute("slot")){pe.hidden=!0;break}}else if(1===Le||3===Le&&""!==N[Y].textContent.trim()){pe.hidden=!0;break}Ci(pe)}},Rr=[],st=T=>{let N,pe,ke,R,Y,ee,Le=0;const Qe=T.childNodes,it=Qe.length;for(;Le<it;Le++){if(N=Qe[Le],N["s-sr"]&&(pe=N["s-cr"])&&pe.parentNode)for(ke=pe.parentNode.childNodes,R=N["s-sn"],ee=ke.length-1;ee>=0;ee--)pe=ke[ee],!pe["s-cn"]&&!pe["s-nr"]&&pe["s-hn"]!==N["s-hn"]&&(le(pe,R)?(Y=Rr.find(Tt=>Tt.$nodeToRelocate$===pe),G=!0,pe["s-sn"]=pe["s-sn"]||R,Y?Y.$slotRefNode$=N:Rr.push({$slotRefNode$:N,$nodeToRelocate$:pe}),pe["s-sr"]&&Rr.map(Tt=>{le(Tt.$nodeToRelocate$,pe["s-sn"])&&(Y=Rr.find(Xt=>Xt.$nodeToRelocate$===pe),Y&&!Tt.$slotRefNode$&&(Tt.$slotRefNode$=Y.$slotRefNode$))})):Rr.some(Tt=>Tt.$nodeToRelocate$===pe)||Rr.push({$nodeToRelocate$:pe}));1===N.nodeType&&st(N)}},le=(T,N)=>1===T.nodeType?null===T.getAttribute("slot")&&""===N||T.getAttribute("slot")===N:T["s-sn"]===N||""===N,je=T=>{T.$attrs$&&T.$attrs$.ref&&T.$attrs$.ref(null),T.$children$&&T.$children$.map(je)},En=T=>jr(T).$hostElement$,Ht=(T,N,pe)=>{const ke=En(T);return{emit:R=>pn(ke,N,{bubbles:!!(4&pe),composed:!!(2&pe),cancelable:!!(1&pe),detail:R})}},pn=(T,N,pe)=>{const ke=O.ce(N,pe);return T.dispatchEvent(ke),ke},rr=(T,N)=>{N&&!T.$onRenderResolve$&&N["s-p"]&&N["s-p"].push(new Promise(pe=>T.$onRenderResolve$=pe))},an=(T,N)=>{if(T.$flags$|=16,!(4&T.$flags$))return rr(T,T.$ancestorComponent$),Ei(()=>Jn(T,N));T.$flags$|=512},Jn=(T,N)=>{const ke=T.$lazyInstance$;let R;return N&&(T.$flags$|=256,T.$queuedListeners$&&(T.$queuedListeners$.map(([Y,ee])=>_r(ke,Y,ee)),T.$queuedListeners$=null),R=_r(ke,"componentWillLoad")),R=I(R,()=>_r(ke,"componentWillRender")),I(R,()=>dr(T,ke,N))},dr=function(){var T=(0,k.Z)(function*(N,pe,ke){const R=N.$hostElement$,ee=R["s-rc"];ke&&(T=>{const N=T.$cmpMeta$,pe=T.$hostElement$,ke=N.$flags$,Y=We(pe.shadowRoot?pe.shadowRoot:pe.getRootNode(),N,T.$modeName$);10&ke&&(pe["s-sc"]=Y,pe.classList.add(Y+"-h"),2&ke&&pe.classList.add(Y+"-s"))})(N);Wt(N,pe),ee&&(ee.map(Qe=>Qe()),R["s-rc"]=void 0);{const Qe=R["s-p"],it=()=>or(N);0===Qe.length?it():(Promise.all(Qe).then(it),N.$flags$|=4,Qe.length=0)}});return function(pe,ke,R){return T.apply(this,arguments)}}(),Wt=(T,N,pe)=>{try{N=N.render&&N.render(),T.$flags$&=-17,T.$flags$|=2,((T,N)=>{const pe=T.$hostElement$,ke=T.$cmpMeta$,R=T.$vnode$||un(null,null),Y=(T=>T&&T.$tag$===ue)(N)?N:Pn(null,null,N);if(q=pe.tagName,ke.$attrsToReflect$&&(Y.$attrs$=Y.$attrs$||{},ke.$attrsToReflect$.map(([ee,Le])=>Y.$attrs$[Le]=pe[ee])),Y.$tag$=null,Y.$flags$|=4,T.$vnode$=Y,Y.$elm$=R.$elm$=pe.shadowRoot||pe,ae=pe["s-sc"],oe=pe["s-cr"],K=0!=(1&ke.$flags$),G=!1,Yr(R,Y),O.$flags$|=1,z){st(Y.$elm$);let ee,Le,Qe,it,Tt,Xt,nn=0;for(;nn<Rr.length;nn++)ee=Rr[nn],Le=ee.$nodeToRelocate$,Le["s-ol"]||(Qe=B.createTextNode(""),Qe["s-nr"]=Le,Le.parentNode.insertBefore(Le["s-ol"]=Qe,Le));for(nn=0;nn<Rr.length;nn++)if(ee=Rr[nn],Le=ee.$nodeToRelocate$,ee.$slotRefNode$){for(it=ee.$slotRefNode$.parentNode,Tt=ee.$slotRefNode$.nextSibling,Qe=Le["s-ol"];Qe=Qe.previousSibling;)if(Xt=Qe["s-nr"],Xt&&Xt["s-sn"]===Le["s-sn"]&&it===Xt.parentNode&&(Xt=Xt.nextSibling,!Xt||!Xt["s-nr"])){Tt=Xt;break}(!Tt&&it!==Le.parentNode||Le.nextSibling!==Tt)&&Le!==Tt&&(!Le["s-hn"]&&Le["s-ol"]&&(Le["s-hn"]=Le["s-ol"].parentNode.nodeName),it.insertBefore(Le,Tt))}else 1===Le.nodeType&&(Le.hidden=!0)}G&&Ci(Y.$elm$),O.$flags$&=-2,Rr.length=0})(T,N)}catch(ke){Ao(ke,T.$hostElement$)}return null},or=T=>{const pe=T.$hostElement$,R=T.$lazyInstance$,Y=T.$ancestorComponent$;_r(R,"componentDidRender"),64&T.$flags$?_r(R,"componentDidUpdate"):(T.$flags$|=64,Fr(pe),_r(R,"componentDidLoad"),T.$onReadyResolve$(pe),Y||Ft()),T.$onInstanceResolve$(pe),T.$onRenderResolve$&&(T.$onRenderResolve$(),T.$onRenderResolve$=void 0),512&T.$flags$&&ei(()=>an(T,!1)),T.$flags$&=-517},S=T=>{{const N=jr(T),pe=N.$hostElement$.isConnected;return pe&&2==(18&N.$flags$)&&an(N,!1),pe}},Ft=T=>{Fr(B.documentElement),ei(()=>pn(ie,"appload",{detail:{namespace:"ionic"}}))},_r=(T,N,pe)=>{if(T&&T[N])try{return T[N](pe)}catch(ke){Ao(ke)}},I=(T,N)=>T&&T.then?T.then(N):N(),Fr=T=>T.classList.add("hydrated"),uo=(T,N,pe,ke,R,Y,ee)=>{let Le,Qe,it,Tt;if(1===Y.nodeType){for(Le=Y.getAttribute("c-id"),Le&&(Qe=Le.split("."),(Qe[0]===ee||"0"===Qe[0])&&(it={$flags$:0,$hostId$:Qe[0],$nodeId$:Qe[1],$depth$:Qe[2],$index$:Qe[3],$tag$:Y.tagName.toLowerCase(),$elm$:Y,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},N.push(it),Y.removeAttribute("c-id"),T.$children$||(T.$children$=[]),T.$children$[it.$index$]=it,T=it,ke&&"0"===it.$depth$&&(ke[it.$index$]=it.$elm$))),Tt=Y.childNodes.length-1;Tt>=0;Tt--)uo(T,N,pe,ke,R,Y.childNodes[Tt],ee);if(Y.shadowRoot)for(Tt=Y.shadowRoot.childNodes.length-1;Tt>=0;Tt--)uo(T,N,pe,ke,R,Y.shadowRoot.childNodes[Tt],ee)}else if(8===Y.nodeType)Qe=Y.nodeValue.split("."),(Qe[1]===ee||"0"===Qe[1])&&(Le=Qe[0],it={$flags$:0,$hostId$:Qe[1],$nodeId$:Qe[2],$depth$:Qe[3],$index$:Qe[4],$elm$:Y,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Le?(it.$elm$=Y.nextSibling,it.$elm$&&3===it.$elm$.nodeType&&(it.$text$=it.$elm$.textContent,N.push(it),Y.remove(),T.$children$||(T.$children$=[]),T.$children$[it.$index$]=it,ke&&"0"===it.$depth$&&(ke[it.$index$]=it.$elm$))):it.$hostId$===ee&&("s"===Le?(it.$tag$="slot",Y["s-sn"]=Qe[5]?it.$name$=Qe[5]:"",Y["s-sr"]=!0,ke&&(it.$elm$=B.createElement(it.$tag$),it.$name$&&it.$elm$.setAttribute("name",it.$name$),Y.parentNode.insertBefore(it.$elm$,Y),Y.remove(),"0"===it.$depth$&&(ke[it.$index$]=it.$elm$)),pe.push(it),T.$children$||(T.$children$=[]),T.$children$[it.$index$]=it):"r"===Le&&(ke?Y.remove():(R["s-cr"]=Y,Y["s-cn"]=!0))));else if(T&&"style"===T.$tag$){const Xt=un(null,Y.textContent);Xt.$elm$=Y,Xt.$index$="0",T.$children$=[Xt]}},No=(T,N)=>{if(1===T.nodeType){let pe=0;for(;pe<T.childNodes.length;pe++)No(T.childNodes[pe],N);if(T.shadowRoot)for(pe=0;pe<T.shadowRoot.childNodes.length;pe++)No(T.shadowRoot.childNodes[pe],N)}else if(8===T.nodeType){const pe=T.nodeValue.split(".");"o"===pe[0]&&(N.set(pe[1]+"."+pe[2],T),T.nodeValue="",T["s-en"]=pe[3])}},oo=(T,N,pe)=>{if(N.$members$){T.watchers&&(N.$watchers$=T.watchers);const ke=Object.entries(N.$members$),R=T.prototype;if(ke.map(([Y,[ee]])=>{31&ee||2&pe&&32&ee?Object.defineProperty(R,Y,{get(){return((T,N)=>jr(this).$instanceValues$.get(N))(0,Y)},set(Le){((T,N,pe,ke)=>{const R=jr(T),Y=R.$hostElement$,ee=R.$instanceValues$.get(N),Le=R.$flags$,Qe=R.$lazyInstance$;pe=((T,N)=>null==T||Ut(T)?T:4&N?"false"!==T&&(""===T||!!T):2&N?parseFloat(T):1&N?String(T):T)(pe,ke.$members$[N][0]);const it=Number.isNaN(ee)&&Number.isNaN(pe);if((!(8&Le)||void 0===ee)&&pe!==ee&&!it&&(R.$instanceValues$.set(N,pe),Qe)){if(ke.$watchers$&&128&Le){const Xt=ke.$watchers$[N];Xt&&Xt.map(nn=>{try{Qe[nn](pe,ee,N)}catch(sr){Ao(sr,Y)}})}2==(18&Le)&&an(R,!1)}})(this,Y,Le,N)},configurable:!0,enumerable:!0}):1&pe&&64&ee&&Object.defineProperty(R,Y,{value(...Le){const Qe=jr(this);return Qe.$onInstancePromise$.then(()=>Qe.$lazyInstance$[Y](...Le))}})}),1&pe){const Y=new Map;R.attributeChangedCallback=function(ee,Le,Qe){O.jmp(()=>{const it=Y.get(ee);if(this.hasOwnProperty(it))Qe=this[it],delete this[it];else if(R.hasOwnProperty(it)&&"number"==typeof this[it]&&this[it]==Qe)return;this[it]=(null!==Qe||"boolean"!=typeof this[it])&&Qe})},T.observedAttributes=ke.filter(([ee,Le])=>15&Le[0]).map(([ee,Le])=>{const Qe=Le[1]||ee;return Y.set(Qe,ee),512&Le[0]&&N.$attrsToReflect$.push([ee,Qe]),Qe})}}return T},ir=function(){var T=(0,k.Z)(function*(N,pe,ke,R,Y){if(0==(32&pe.$flags$)){{if(pe.$flags$|=32,(Y=os(ke)).then){const it=()=>{};Y=yield Y,it()}Y.isProxied||(ke.$watchers$=Y.watchers,oo(Y,ke,2),Y.isProxied=!0);const Qe=()=>{};pe.$flags$|=8;try{new Y(pe)}catch(it){Ao(it)}pe.$flags$&=-9,pe.$flags$|=128,Qe(),io(pe.$lazyInstance$)}if(Y.style){let Qe=Y.style;"string"!=typeof Qe&&(Qe=Qe[pe.$modeName$=(T=>$i.map(N=>N(T)).find(N=>!!N))(N)]);const it=V(ke,pe.$modeName$);if(!Xo.has(it)){const Tt=()=>{};Rt(it,Qe,!!(1&ke.$flags$)),Tt()}}}const ee=pe.$ancestorComponent$,Le=()=>an(pe,!0);ee&&ee["s-rc"]?ee["s-rc"].push(Le):Le()});return function(pe,ke,R,Y,ee){return T.apply(this,arguments)}}(),io=T=>{_r(T,"connectedCallback")},Ko=T=>{const N=T["s-cr"]=B.createComment("");N["s-cn"]=!0,T.insertBefore(N,T.firstChild)},Co=(T,N={})=>{const ke=[],R=N.exclude||[],Y=ie.customElements,ee=B.head,Le=ee.querySelector("meta[charset]"),Qe=B.createElement("style"),it=[],Tt=B.querySelectorAll(`[${ze}]`);let Xt,nn=!0,sr=0;for(Object.assign(O,N),O.$resourcesUrl$=new URL(N.resourcesUrl||"./",B.baseURI).href,O.$flags$|=2;sr<Tt.length;sr++)Rt(Tt[sr].getAttribute(ze),W(Tt[sr].innerHTML),!0);T.map(fo=>{fo[1].map(Or=>{const vr={$flags$:Or[0],$tagName$:Or[1],$members$:Or[2],$listeners$:Or[3]};vr.$members$=Or[2],vr.$listeners$=Or[3],vr.$attrsToReflect$=[],vr.$watchers$={};const Bi=vr.$tagName$,ti=class extends HTMLElement{constructor(Di){super(Di),fi(Di=this,vr),1&vr.$flags$&&Di.attachShadow({mode:"open",delegatesFocus:!!(16&vr.$flags$)})}connectedCallback(){Xt&&(clearTimeout(Xt),Xt=null),nn?it.push(this):O.jmp(()=>(T=>{if(0==(1&O.$flags$)){const N=jr(T),pe=N.$cmpMeta$,ke=()=>{};if(1&N.$flags$)Ce(T,N,pe.$listeners$),io(N.$lazyInstance$);else{let R;if(N.$flags$|=1,R=T.getAttribute(Ae),R){if(1&pe.$flags$){const Y=We(T.shadowRoot,pe,T.getAttribute("s-mode"));T.classList.remove(Y+"-h",Y+"-s")}((T,N,pe,ke)=>{const Y=T.shadowRoot,ee=[],Qe=Y?[]:null,it=ke.$vnode$=un(N,null);O.$orgLocNodes$||No(B.body,O.$orgLocNodes$=new Map),T[Ae]=pe,T.removeAttribute(Ae),uo(it,ee,[],Qe,T,T,pe),ee.map(Tt=>{const Xt=Tt.$hostId$+"."+Tt.$nodeId$,nn=O.$orgLocNodes$.get(Xt),sr=Tt.$elm$;nn&&""===nn["s-en"]&&nn.parentNode.insertBefore(sr,nn.nextSibling),Y||(sr["s-hn"]=N,nn&&(sr["s-ol"]=nn,sr["s-ol"]["s-nr"]=sr)),O.$orgLocNodes$.delete(Xt)}),Y&&Qe.map(Tt=>{Tt&&Y.appendChild(Tt)})})(T,pe.$tagName$,R,N)}R||12&pe.$flags$&&Ko(T);{let Y=T;for(;Y=Y.parentNode||Y.host;)if(1===Y.nodeType&&Y.hasAttribute("s-id")&&Y["s-p"]||Y["s-p"]){rr(N,N.$ancestorComponent$=Y);break}}pe.$members$&&Object.entries(pe.$members$).map(([Y,[ee]])=>{if(31&ee&&T.hasOwnProperty(Y)){const Le=T[Y];delete T[Y],T[Y]=Le}}),ei(()=>ir(T,N,pe))}ke()}})(this))}disconnectedCallback(){O.jmp(()=>(T=>{if(0==(1&O.$flags$)){const N=jr(this),pe=N.$lazyInstance$;N.$rmListeners$&&(N.$rmListeners$.map(ke=>ke()),N.$rmListeners$=void 0),_r(pe,"disconnectedCallback")}})())}componentOnReady(){return jr(this).$onReadyPromise$}};vr.$lazyBundleId$=fo[0],!R.includes(Bi)&&!Y.get(Bi)&&(ke.push(Bi),Y.define(Bi,oo(ti,vr,1)))})}),Qe.innerHTML=ke+"{visibility:hidden}.hydrated{visibility:inherit}",Qe.setAttribute("data-styles",""),ee.insertBefore(Qe,Le?Le.nextSibling:ee.firstChild),nn=!1,it.length?it.map(fo=>fo.connectedCallback()):O.jmp(()=>Xt=setTimeout(Ft,30))},D=T=>{const N=new URL(T,O.$resourcesUrl$);return N.origin!==ie.location.origin?N.href:N.pathname},Kr=new WeakMap,jr=T=>Kr.get(T),di=(T,N)=>Kr.set(N.$lazyInstance$=T,N),fi=(T,N)=>{const pe={$flags$:0,$hostElement$:T,$cmpMeta$:N,$instanceValues$:new Map};return pe.$onInstancePromise$=new Promise(ke=>pe.$onInstanceResolve$=ke),pe.$onReadyPromise$=new Promise(ke=>pe.$onReadyResolve$=ke),T["s-p"]=[],T["s-rc"]=[],Ce(T,pe,N.$listeners$),Kr.set(T,pe)},Lo=(T,N)=>N in T,Ao=(T,N)=>(0,console.error)(T,N),Ur=new Map,os=(T,N,pe)=>{const ke=T.$tagName$.replace(/-/g,"_"),R=T.$lazyBundleId$,Y=Ur.get(R);return Y?Y[ke]:F(863)(`./${R}.entry.js`).then(ee=>(Ur.set(R,ee),ee[ke]),Ao)},Xo=new Map,$i=[],qn=[],Qo=[],Si=(T,N)=>pe=>{T.push(pe),Z||(Z=!0,N&&4&O.$flags$?ei(Nn):O.raf(Nn))},Jo=T=>{for(let N=0;N<T.length;N++)try{T[N](performance.now())}catch(pe){Ao(pe)}T.length=0},Nn=()=>{Jo(qn),Jo(Qo),(Z=qn.length>0)&&O.raf(Nn)},ei=T=>Q().then(T),Bn=Si(qn,!1),Ei=Si(Qo,!0),is={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},9506:(Be,qe,F)=>{"use strict";F.d(qe,{m:()=>ie});var k=F(3918),u=F(159),ae=F(9158),oe=F(537),q=F(2597);const K=B=>(0,q.c)().duration(B?400:300),G=B=>{let O,H;const Fe=B.width+8,Q=(0,q.c)(),Ee=(0,q.c)();B.isEndSide?(O=Fe+"px",H="0px"):(O=-Fe+"px",H="0px"),Q.addElement(B.menuInnerEl).fromTo("transform",`translateX(${O})`,`translateX(${H})`);const ce="ios"===(0,oe.b)(B),he=ce?.2:.25;return Ee.addElement(B.backdropEl).fromTo("opacity",.01,he),K(ce).addAnimation([Q,Ee])},z=B=>{let O,H;const Fe=(0,oe.b)(B),Q=B.width;B.isEndSide?(O=-Q+"px",H=Q+"px"):(O=Q+"px",H=-Q+"px");const Ee=(0,q.c)().addElement(B.menuInnerEl).fromTo("transform",`translateX(${H})`,"translateX(0px)"),Ce=(0,q.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${O})`),ce=(0,q.c)().addElement(B.backdropEl).fromTo("opacity",.01,.32);return K("ios"===Fe).addAnimation([Ee,Ce,ce])},Se=B=>{const O=(0,oe.b)(B),H=B.width*(B.isEndSide?-1:1)+"px",Fe=(0,q.c)().addElement(B.contentEl).fromTo("transform","translateX(0px)",`translateX(${H})`);return K("ios"===O).addAnimation(Fe)},ie=(()=>{const B=new Map,O=[],H=function(){var L=(0,k.Z)(function*(V){const W=yield Ne(V);return!!W&&W.open()});return function(W){return L.apply(this,arguments)}}(),Fe=function(){var L=(0,k.Z)(function*(V){const W=yield void 0!==V?Ne(V):me();return void 0!==W&&W.close()});return function(W){return L.apply(this,arguments)}}(),Q=function(){var L=(0,k.Z)(function*(V){const W=yield Ne(V);return!!W&&W.toggle()});return function(W){return L.apply(this,arguments)}}(),Ee=function(){var L=(0,k.Z)(function*(V,W){const _e=yield Ne(W);return _e&&(_e.disabled=!V),_e});return function(W,_e){return L.apply(this,arguments)}}(),Ce=function(){var L=(0,k.Z)(function*(V,W){const _e=yield Ne(W);return _e&&(_e.swipeGesture=V),_e});return function(W,_e){return L.apply(this,arguments)}}(),ce=function(){var L=(0,k.Z)(function*(V){if(null!=V){const W=yield Ne(V);return void 0!==W&&W.isOpen()}return void 0!==(yield me())});return function(W){return L.apply(this,arguments)}}(),he=function(){var L=(0,k.Z)(function*(V){const W=yield Ne(V);return!!W&&!W.disabled});return function(W){return L.apply(this,arguments)}}(),Ne=function(){var L=(0,k.Z)(function*(V){return yield We(),"start"===V||"end"===V?Rt(Re=>Re.side===V&&!Re.disabled)||Rt(Re=>Re.side===V):null!=V?Rt(_e=>_e.menuId===V):Rt(_e=>!_e.disabled)||(O.length>0?O[0].el:void 0)});return function(W){return L.apply(this,arguments)}}(),me=function(){var L=(0,k.Z)(function*(){return yield We(),Ze()});return function(){return L.apply(this,arguments)}}(),Ye=function(){var L=(0,k.Z)(function*(){return yield We(),Ke()});return function(){return L.apply(this,arguments)}}(),be=function(){var L=(0,k.Z)(function*(){return yield We(),_t()});return function(){return L.apply(this,arguments)}}(),Ie=(L,V)=>{B.set(L,V)},Ve=L=>{const V=L.side;O.filter(W=>W.side===V&&W!==L).forEach(W=>W.disabled=!0)},Pe=function(){var L=(0,k.Z)(function*(V,W,_e){if(_t())return!1;if(W){const Re=yield me();Re&&V.el!==Re&&(yield Re.setOpen(!1,!1))}return V._setOpen(W,_e)});return function(W,_e,Re){return L.apply(this,arguments)}}(),Ze=()=>Rt(L=>L._isOpen),Ke=()=>O.map(L=>L.el),_t=()=>O.some(L=>L.isAnimating),Rt=L=>{const V=O.find(L);if(void 0!==V)return V.el},We=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(L=>new Promise(V=>(0,ae.c)(L,V))));return Ie("reveal",Se),Ie("push",z),Ie("overlay",G),typeof document<"u"&&document.addEventListener("ionBackButton",L=>{const V=Ze();V&&L.detail.register(u.MENU_BACK_BUTTON_PRIORITY,()=>V.close())}),{registerAnimation:Ie,get:Ne,getMenus:Ye,getOpen:me,isEnabled:he,swipeGesture:Ce,isAnimating:be,isOpen:ce,enable:Ee,toggle:Q,close:Fe,open:H,_getOpenSync:Ze,_createAnimation:(L,V)=>{const W=B.get(L);if(!W)throw new Error("animation not registered");return W(V)},_register:L=>{O.indexOf(L)<0&&(L.disabled||Ve(L),O.push(L))},_unregister:L=>{const V=O.indexOf(L);V>-1&&O.splice(V,1)},_setOpen:Pe,_setActiveMenu:Ve}})()},537:(Be,qe,F)=>{"use strict";F.d(qe,{a:()=>ie,b:()=>_t,c:()=>ae,g:()=>Z,i:()=>Rt});var k=F(9479);class u{constructor(){this.m=new Map}reset(L){this.m=new Map(Object.entries(L))}get(L,V){const W=this.m.get(L);return void 0!==W?W:V}getBoolean(L,V=!1){const W=this.m.get(L);return void 0===W?V:"string"==typeof W?"true"===W:!!W}getNumber(L,V){const W=parseFloat(this.m.get(L));return isNaN(W)?void 0!==V?V:NaN:W}set(L,V){this.m.set(L,V)}}const ae=new u,z="ionic:",Se="ionic-persist-config",Z=We=>B(We),ie=(We,L)=>("string"==typeof We&&(L=We,We=void 0),Z(We).includes(L)),B=(We=window)=>{if(typeof We>"u")return[];We.Ionic=We.Ionic||{};let L=We.Ionic.platforms;return null==L&&(L=We.Ionic.platforms=O(We),L.forEach(V=>We.document.documentElement.classList.add(`plt-${V}`))),L},O=We=>{const L=ae.get("platform");return Object.keys(Ze).filter(V=>{const W=L?.[V];return"function"==typeof W?W(We):Ze[V](We)})},Fe=We=>!!(Pe(We,/iPad/i)||Pe(We,/Macintosh/i)&&me(We)),Ce=We=>Pe(We,/android|sink/i),me=We=>X(We,"(any-pointer:coarse)"),be=We=>Ie(We)||Ae(We),Ie=We=>!!(We.cordova||We.phonegap||We.PhoneGap),Ae=We=>!!We.Capacitor?.isNative,Pe=(We,L)=>L.test(We.navigator.userAgent),X=(We,L)=>{var V;return null===(V=We.matchMedia)||void 0===V?void 0:V.call(We,L).matches},Ze={ipad:Fe,iphone:We=>Pe(We,/iPhone/i),ios:We=>Pe(We,/iPhone|iPod/i)||Fe(We),android:Ce,phablet:We=>{const L=We.innerWidth,V=We.innerHeight,W=Math.min(L,V),_e=Math.max(L,V);return W>390&&W<520&&_e>620&&_e<800},tablet:We=>{const L=We.innerWidth,V=We.innerHeight,W=Math.min(L,V),_e=Math.max(L,V);return Fe(We)||(We=>Ce(We)&&!Pe(We,/mobile/i))(We)||W>460&&W<820&&_e>780&&_e<1400},cordova:Ie,capacitor:Ae,electron:We=>Pe(We,/electron/i),pwa:We=>{var L;return!(!(null===(L=We.matchMedia)||void 0===L?void 0:L.call(We,"(display-mode: standalone)").matches)&&!We.navigator.standalone)},mobile:me,mobileweb:We=>me(We)&&!be(We),desktop:We=>!me(We),hybrid:be};let Ke;const _t=We=>We&&(0,k.g)(We)||Ke,Rt=(We={})=>{if(typeof window>"u")return;const L=window.document,V=window,W=V.Ionic=V.Ionic||{},_e={};We._ael&&(_e.ael=We._ael),We._rel&&(_e.rel=We._rel),We._ce&&(_e.ce=We._ce),(0,k.s)(_e);const Re=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(We=>{try{const L=We.sessionStorage.getItem(Se);return null!==L?JSON.parse(L):{}}catch{return{}}})(V)),{persistConfig:!1}),W.config),(We=>{const L={};return We.location.search.slice(1).split("&").map(V=>V.split("=")).map(([V,W])=>[decodeURIComponent(V),decodeURIComponent(W)]).filter(([V])=>((We,L)=>We.substr(0,L.length)===L)(V,z)).map(([V,W])=>[V.slice(z.length),W]).forEach(([V,W])=>{L[V]=W}),L})(V)),We);ae.reset(Re),ae.getBoolean("persistConfig")&&((We,L)=>{try{We.sessionStorage.setItem(Se,JSON.stringify(L))}catch{return}})(V,Re),B(V),W.config=ae,W.mode=Ke=ae.get("mode",L.documentElement.getAttribute("mode")||(ie(V,"ios")?"ios":"md")),ae.set("mode",Ke),L.documentElement.setAttribute("mode",Ke),L.documentElement.classList.add(Ke),ae.getBoolean("_testing")&&ae.set("animated",!1);const $e=ot=>{var at;return null===(at=ot.tagName)||void 0===at?void 0:at.startsWith("ION-")},ct=ot=>["ios","md"].includes(ot);(0,k.a)(ot=>{for(;ot;){const at=ot.mode||ot.getAttribute("mode");if(at){if(ct(at))return at;$e(ot)&&console.warn('Invalid ionic mode: "'+at+'", expected: "ios" or "md"')}ot=ot.parentElement}return Ke})}},5794:(Be,qe,F)=>{"use strict";F.r(qe),F.d(qe,{iosTransitionAnimation:()=>B,shadow:()=>K});var k=F(2597),u=F(4736);F(9479);const q=O=>document.querySelector(`${O}.ion-cloned-element`),K=O=>O.shadowRoot||O,G=O=>{const H="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs"),Fe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=H){const Q=H.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Q?Q.querySelector(Fe):null}return O.querySelector(Fe)},z=(O,H)=>{const Fe="ION-TABS"===O.tagName?O:O.querySelector("ion-tabs");let Q=[];if(null!=Fe){const Ee=Fe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ee&&(Q=Ee.querySelectorAll("ion-buttons"))}else Q=O.querySelectorAll("ion-buttons");for(const Ee of Q){const Ce=Ee.closest("ion-header"),ce=Ce&&!Ce.classList.contains("header-collapse-condense-inactive"),he=Ee.querySelector("ion-back-button"),Ne=Ee.classList.contains("buttons-collapse"),me="start"===Ee.slot||""===Ee.slot;if(null!==he&&me&&(Ne&&ce&&H||!Ne))return he}return null},Z=(O,H,Fe,Q,Ee,Ce)=>{const ce=H?`calc(100% - ${Ce.right+4}px)`:Ce.left-4+"px",he=H?"7px":"-7px",Ne=H?"-4px":"4px",me=H?"-4px":"4px",Ye=H?"right":"left",be=H?"left":"right",ze=Fe?[{offset:0,opacity:1,transform:`translate3d(${Ne}, ${Ce.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${he}, ${Ee.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${he}, ${Ee.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ne}, ${Ce.top-46}px, 0) scale(1)`}],X=Fe?[{offset:0,opacity:1,transform:`translate3d(${me}, ${Ce.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${me}, ${Ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${me}, ${Ce.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${me}, ${Ce.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${me}, ${Ce.top-46}px, 0) scale(1)`}],Ze=(0,k.c)(),Ke=(0,k.c)(),_t=q("ion-back-button"),Rt=K(_t).querySelector(".button-text"),We=K(_t).querySelector("ion-icon");_t.text=Q.text,_t.mode=Q.mode,_t.icon=Q.icon,_t.color=Q.color,_t.disabled=Q.disabled,_t.style.setProperty("display","block"),_t.style.setProperty("position","fixed"),Ke.addElement(We),Ze.addElement(Rt),Ze.beforeStyles({"transform-origin":`${Ye} center`}).beforeAddWrite(()=>{Q.style.setProperty("display","none"),_t.style.setProperty(Ye,ce)}).afterAddWrite(()=>{Q.style.setProperty("display",""),_t.style.setProperty("display","none"),_t.style.removeProperty(Ye)}).keyframes(ze),Ke.beforeStyles({"transform-origin":`${be} center`}).keyframes(X),O.addAnimation([Ze,Ke])},ie=(O,H,Fe,Q,Ee,Ce)=>{const ce=H?`calc(100% - ${Ee.right}px)`:`${Ee.left}px`,he=H?"-18px":"18px",Ne=H?"right":"left",be=Fe?[{offset:0,opacity:0,transform:`translate3d(${he}, ${Ce.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ee.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${he}, ${Ce.top-4}px, 0) scale(0.5)`}],Ie=q("ion-title"),Ae=(0,k.c)();Ie.innerText=Q.innerText,Ie.size=Q.size,Ie.color=Q.color,Ae.addElement(Ie),Ae.beforeStyles({"transform-origin":`${Ne} center`,height:"46px",display:"",position:"relative",[Ne]:ce}).beforeAddWrite(()=>{Q.style.setProperty("display","none")}).afterAddWrite(()=>{Q.style.setProperty("display",""),Ie.style.setProperty("display","none")}).keyframes(be),O.addAnimation(Ae)},B=(O,H)=>{try{const Fe="cubic-bezier(0.32,0.72,0,1)",Q="opacity",Ee="transform",Ce="0%",he="rtl"===O.ownerDocument.dir,Ne=he?"-99.5%":"99.5%",me=he?"33%":"-33%",Ye=H.enteringEl,be=H.leavingEl,Ie="back"===H.direction,Ae=Ye.querySelector(":scope > ion-content"),ze=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ve=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),Pe=(0,k.c)(),X=(0,k.c)();if(Pe.addElement(Ye).duration(H.duration||540).easing(H.easing||Fe).fill("both").beforeRemoveClass("ion-page-invisible"),be&&O){const Rt=(0,k.c)();Rt.addElement(O),Pe.addAnimation(Rt)}if(Ae||0!==Ve.length||0!==ze.length?(X.addElement(Ae),X.addElement(ze)):X.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pe.addAnimation(X),Ie?X.beforeClearStyles([Q]).fromTo("transform",`translateX(${me})`,`translateX(${Ce})`).fromTo(Q,.8,1):X.beforeClearStyles([Q]).fromTo("transform",`translateX(${Ne})`,`translateX(${Ce})`),Ae){const Rt=K(Ae).querySelector(".transition-effect");if(Rt){const We=Rt.querySelector(".transition-cover"),L=Rt.querySelector(".transition-shadow"),V=(0,k.c)(),W=(0,k.c)(),_e=(0,k.c)();V.addElement(Rt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),W.addElement(We).beforeClearStyles([Q]).fromTo(Q,0,.1),_e.addElement(L).beforeClearStyles([Q]).fromTo(Q,.03,.7),V.addAnimation([W,_e]),X.addAnimation([V])}}const Ze=Ye.querySelector("ion-header.header-collapse-condense"),{forward:Ke,backward:_t}=((O,H,Fe,Q,Ee)=>{const Ce=z(Q,Fe),ce=G(Ee),he=G(Q),Ne=z(Ee,Fe),me=null!==Ce&&null!==ce&&!Fe,Ye=null!==he&&null!==Ne&&Fe;if(me){const be=ce.getBoundingClientRect(),Ie=Ce.getBoundingClientRect();ie(O,H,Fe,ce,be,Ie),Z(O,H,Fe,Ce,be,Ie)}else if(Ye){const be=he.getBoundingClientRect(),Ie=Ne.getBoundingClientRect();ie(O,H,Fe,he,be,Ie),Z(O,H,Fe,Ne,be,Ie)}return{forward:me,backward:Ye}})(Pe,he,Ie,Ye,be);if(Ve.forEach(Rt=>{const We=(0,k.c)();We.addElement(Rt),Pe.addAnimation(We);const L=(0,k.c)();L.addElement(Rt.querySelector("ion-title"));const V=(0,k.c)(),W=Array.from(Rt.querySelectorAll("ion-buttons,[menuToggle]")),_e=Rt.closest("ion-header"),Re=_e?.classList.contains("header-collapse-condense-inactive");let $e;$e=W.filter(Ie?Ut=>{const Pn=Ut.classList.contains("buttons-collapse");return Pn&&!Re||!Pn}:Ut=>!Ut.classList.contains("buttons-collapse")),V.addElement($e);const ct=(0,k.c)();ct.addElement(Rt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const ot=(0,k.c)();ot.addElement(K(Rt).querySelector(".toolbar-background"));const at=(0,k.c)(),Lt=Rt.querySelector("ion-back-button");if(Lt&&at.addElement(Lt),We.addAnimation([L,V,ct,ot,at]),V.fromTo(Q,.01,1),ct.fromTo(Q,.01,1),Ie)Re||L.fromTo("transform",`translateX(${me})`,`translateX(${Ce})`).fromTo(Q,.01,1),ct.fromTo("transform",`translateX(${me})`,`translateX(${Ce})`),at.fromTo(Q,.01,1);else if(Ze||L.fromTo("transform",`translateX(${Ne})`,`translateX(${Ce})`).fromTo(Q,.01,1),ct.fromTo("transform",`translateX(${Ne})`,`translateX(${Ce})`),ot.beforeClearStyles([Q,"transform"]),_e?.translucent?ot.fromTo("transform",he?"translateX(-100%)":"translateX(100%)","translateX(0px)"):ot.fromTo(Q,.01,"var(--opacity)"),Ke||at.fromTo(Q,.01,1),Lt&&!Ke){const Pn=(0,k.c)();Pn.addElement(K(Lt).querySelector(".button-text")).fromTo("transform",he?"translateX(-100px)":"translateX(100px)","translateX(0px)"),We.addAnimation(Pn)}}),be){const Rt=(0,k.c)(),We=be.querySelector(":scope > ion-content"),L=be.querySelectorAll(":scope > ion-header > ion-toolbar"),V=be.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(We||0!==L.length||0!==V.length?(Rt.addElement(We),Rt.addElement(V)):Rt.addElement(be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Pe.addAnimation(Rt),Ie){Rt.beforeClearStyles([Q]).fromTo("transform",`translateX(${Ce})`,he?"translateX(-100%)":"translateX(100%)");const W=(0,u.g)(be);Pe.afterAddWrite(()=>{"normal"===Pe.getDirection()&&W.style.setProperty("display","none")})}else Rt.fromTo("transform",`translateX(${Ce})`,`translateX(${me})`).fromTo(Q,1,.8);if(We){const W=K(We).querySelector(".transition-effect");if(W){const _e=W.querySelector(".transition-cover"),Re=W.querySelector(".transition-shadow"),$e=(0,k.c)(),ct=(0,k.c)(),ot=(0,k.c)();$e.addElement(W).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ct.addElement(_e).beforeClearStyles([Q]).fromTo(Q,.1,0),ot.addElement(Re).beforeClearStyles([Q]).fromTo(Q,.7,.03),$e.addAnimation([ct,ot]),Rt.addAnimation([$e])}}L.forEach(W=>{const _e=(0,k.c)();_e.addElement(W);const Re=(0,k.c)();Re.addElement(W.querySelector("ion-title"));const $e=(0,k.c)(),ct=W.querySelectorAll("ion-buttons,[menuToggle]"),ot=W.closest("ion-header"),at=ot?.classList.contains("header-collapse-condense-inactive"),Lt=Array.from(ct).filter(Mr=>{const Qn=Mr.classList.contains("buttons-collapse");return Qn&&!at||!Qn});$e.addElement(Lt);const Ut=(0,k.c)(),Pn=W.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Pn.length>0&&Ut.addElement(Pn);const un=(0,k.c)();un.addElement(K(W).querySelector(".toolbar-background"));const ue=(0,k.c)(),Zr=W.querySelector("ion-back-button");if(Zr&&ue.addElement(Zr),_e.addAnimation([Re,$e,Ut,ue,un]),Pe.addAnimation(_e),ue.fromTo(Q,.99,0),$e.fromTo(Q,.99,0),Ut.fromTo(Q,.99,0),Ie){if(at||Re.fromTo("transform",`translateX(${Ce})`,he?"translateX(-100%)":"translateX(100%)").fromTo(Q,.99,0),Ut.fromTo("transform",`translateX(${Ce})`,he?"translateX(-100%)":"translateX(100%)"),un.beforeClearStyles([Q,"transform"]),ot?.translucent?un.fromTo("transform","translateX(0px)",he?"translateX(-100%)":"translateX(100%)"):un.fromTo(Q,"var(--opacity)",0),Zr&&!_t){const Qn=(0,k.c)();Qn.addElement(K(Zr).querySelector(".button-text")).fromTo("transform",`translateX(${Ce})`,`translateX(${(he?-124:124)+"px"})`),_e.addAnimation(Qn)}}else at||Re.fromTo("transform",`translateX(${Ce})`,`translateX(${me})`).fromTo(Q,.99,0).afterClearStyles([Ee,Q]),Ut.fromTo("transform",`translateX(${Ce})`,`translateX(${me})`).afterClearStyles([Ee,Q]),ue.afterClearStyles([Q]),Re.afterClearStyles([Q]),$e.afterClearStyles([Q])})}return Pe}catch(Fe){throw Fe}}},932:(Be,qe,F)=>{"use strict";F.r(qe),F.d(qe,{mdTransitionAnimation:()=>oe});var k=F(2597),u=F(4736);F(9479);const oe=(q,K)=>{const Se="back"===K.direction,ie=K.leavingEl,B=(0,u.g)(K.enteringEl),O=B.querySelector("ion-toolbar"),H=(0,k.c)();if(H.addElement(B).fill("both").beforeRemoveClass("ion-page-invisible"),Se?H.duration(K.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):H.duration(K.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),O){const Fe=(0,k.c)();Fe.addElement(O),H.addAnimation(Fe)}if(ie&&Se){H.duration(K.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Fe=(0,k.c)();Fe.addElement((0,u.g)(ie)).onFinish(Q=>{1===Q&&Fe.elements.length>0&&Fe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),H.addAnimation(Fe)}return H}},9703:(Be,qe,F)=>{"use strict";F.d(qe,{B:()=>V,a:()=>z,b:()=>Se,c:()=>O,d:()=>ze,e:()=>Fe,f:()=>Pe,g:()=>Ke,h:()=>K,i:()=>Rt,j:()=>Ce,k:()=>Ie,l:()=>Z,m:()=>ie,s:()=>L});var k=F(3918),u=F(537),ae=F(159),oe=F(9158);let q=0;const K=new WeakMap,G=W=>({create:_e=>Q(W,_e),dismiss:(_e,Re,$e)=>Ye(document,_e,Re,W,$e),getTop:()=>(0,k.Z)(function*(){return Ie(document,W)})()}),z=G("ion-alert"),Se=G("ion-action-sheet"),Z=G("ion-loading"),ie=G("ion-modal"),O=G("ion-popover"),Fe=W=>{typeof document<"u"&&me(document);const _e=q++;W.overlayIndex=_e,W.hasAttribute("id")||(W.id=`ion-overlay-${_e}`)},Q=(W,_e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(W).then(()=>{const Re=document.createElement(W);return Re.classList.add("overlay-hidden"),Object.assign(Re,Object.assign(Object.assign({},_e),{hasController:!0})),X(document).appendChild(Re),new Promise($e=>(0,oe.c)(Re,$e))}):Promise.resolve(),Ee='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Ce=(W,_e)=>{let Re=W.querySelector(Ee);const $e=Re?.shadowRoot;$e&&(Re=$e.querySelector(Ee)||Re),Re?(0,oe.f)(Re):_e.focus()},he=(W,_e)=>{const Re=Array.from(W.querySelectorAll(Ee));let $e=Re.length>0?Re[Re.length-1]:null;const ct=$e?.shadowRoot;ct&&($e=ct.querySelector(Ee)||$e),$e?$e.focus():_e.focus()},me=W=>{0===q&&(q=1,W.addEventListener("focus",_e=>{((W,_e)=>{const Re=Ie(_e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),$e=W.target;Re&&$e&&!Re.classList.contains("ion-disable-focus-trap")&&(Re.shadowRoot?(()=>{if(Re.contains($e))Re.lastFocus=$e;else{const at=Re.lastFocus;Ce(Re,Re),at===_e.activeElement&&he(Re,Re),Re.lastFocus=_e.activeElement}})():(()=>{if(Re===$e)Re.lastFocus=void 0;else{const at=(0,oe.g)(Re);if(!at.contains($e))return;const Lt=at.querySelector(".ion-overlay-wrapper");if(!Lt)return;if(Lt.contains($e))Re.lastFocus=$e;else{const Ut=Re.lastFocus;Ce(Lt,Re),Ut===_e.activeElement&&he(Lt,Re),Re.lastFocus=_e.activeElement}}})())})(_e,W)},!0),W.addEventListener("ionBackButton",_e=>{const Re=Ie(W);Re?.backdropDismiss&&_e.detail.register(ae.OVERLAY_BACK_BUTTON_PRIORITY,()=>Re.dismiss(void 0,V))}),W.addEventListener("keyup",_e=>{if("Escape"===_e.key){const Re=Ie(W);Re?.backdropDismiss&&Re.dismiss(void 0,V)}}))},Ye=(W,_e,Re,$e,ct)=>{const ot=Ie(W,$e,ct);return ot?ot.dismiss(_e,Re):Promise.reject("overlay does not exist")},Ie=(W,_e,Re)=>{const $e=((W,_e)=>(void 0===_e&&(_e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(W.querySelectorAll(_e)).filter(Re=>Re.overlayIndex>0)))(W,_e).filter(ct=>!(W=>W.classList.contains("overlay-hidden"))(ct));return void 0===Re?$e[$e.length-1]:$e.find(ct=>ct.id===Re)},Ae=(W=!1)=>{const Re=X(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!Re||(W?Re.setAttribute("aria-hidden","true"):Re.removeAttribute("aria-hidden"))},ze=function(){var W=(0,k.Z)(function*(_e,Re,$e,ct,ot){var at,Lt;if(_e.presented)return;Ae(!0),_e.presented=!0,_e.willPresent.emit(),null===(at=_e.willPresentShorthand)||void 0===at||at.emit();const Ut=(0,u.b)(_e),Pn=_e.enterAnimation?_e.enterAnimation:u.c.get(Re,"ios"===Ut?$e:ct);(yield Ze(_e,Pn,_e.el,ot))&&(_e.didPresent.emit(),null===(Lt=_e.didPresentShorthand)||void 0===Lt||Lt.emit()),"ION-TOAST"!==_e.el.tagName&&Ve(_e.el),_e.keyboardClose&&(null===document.activeElement||!_e.el.contains(document.activeElement))&&_e.el.focus()});return function(Re,$e,ct,ot,at){return W.apply(this,arguments)}}(),Ve=function(){var W=(0,k.Z)(function*(_e){let Re=document.activeElement;if(!Re)return;const $e=Re?.shadowRoot;$e&&(Re=$e.querySelector(Ee)||Re),yield _e.onDidDismiss(),Re.focus()});return function(Re){return W.apply(this,arguments)}}(),Pe=function(){var W=(0,k.Z)(function*(_e,Re,$e,ct,ot,at,Lt){var Ut,Pn;if(!_e.presented)return!1;Ae(!1),_e.presented=!1;try{_e.el.style.setProperty("pointer-events","none"),_e.willDismiss.emit({data:Re,role:$e}),null===(Ut=_e.willDismissShorthand)||void 0===Ut||Ut.emit({data:Re,role:$e});const un=(0,u.b)(_e),ue=_e.leaveAnimation?_e.leaveAnimation:u.c.get(ct,"ios"===un?ot:at);"gesture"!==$e&&(yield Ze(_e,ue,_e.el,Lt)),_e.didDismiss.emit({data:Re,role:$e}),null===(Pn=_e.didDismissShorthand)||void 0===Pn||Pn.emit({data:Re,role:$e}),K.delete(_e),_e.el.classList.add("overlay-hidden"),_e.el.style.removeProperty("pointer-events")}catch(un){console.error(un)}return _e.el.remove(),!0});return function(Re,$e,ct,ot,at,Lt,Ut){return W.apply(this,arguments)}}(),X=W=>W.querySelector("ion-app")||W.body,Ze=function(){var W=(0,k.Z)(function*(_e,Re,$e,ct){$e.classList.remove("overlay-hidden");const at=Re(_e.el,ct);(!_e.animated||!u.c.getBoolean("animated",!0))&&at.duration(0),_e.keyboardClose&&at.beforeAddWrite(()=>{const Ut=$e.ownerDocument.activeElement;Ut?.matches("input,ion-input, ion-textarea")&&Ut.blur()});const Lt=K.get(_e)||[];return K.set(_e,[...Lt,at]),yield at.play(),!0});return function(Re,$e,ct,ot){return W.apply(this,arguments)}}(),Ke=(W,_e)=>{let Re;const $e=new Promise(ct=>Re=ct);return _t(W,_e,ct=>{Re(ct.detail)}),$e},_t=(W,_e,Re)=>{const $e=ct=>{(0,oe.b)(W,_e,$e),Re(ct)};(0,oe.a)(W,_e,$e)},Rt=W=>"cancel"===W||W===V,We=W=>W(),L=(W,_e)=>{if("function"==typeof W)return u.c.get("_zoneGate",We)(()=>{try{return W(_e)}catch($e){throw $e}})},V="backdrop"},4263:(Be,qe,F)=>{"use strict";var k=F(9903),u=F(3855),ae=u(k("String.prototype.indexOf"));Be.exports=function(q,K){var G=k(q,!!K);return"function"==typeof G&&ae(q,".prototype.")>-1?u(G):G}},3855:(Be,qe,F)=>{"use strict";var k=F(224),u=F(9903),ae=u("%Function.prototype.apply%"),oe=u("%Function.prototype.call%"),q=u("%Reflect.apply%",!0)||k.call(oe,ae),K=u("%Object.getOwnPropertyDescriptor%",!0),G=u("%Object.defineProperty%",!0),z=u("%Math.max%");if(G)try{G({},"a",{value:1})}catch{G=null}Be.exports=function(ie){var B=q(k,oe,arguments);if(K&&G){var O=K(B,"length");O.configurable&&G(B,"length",{value:1+z(0,ie.length-(arguments.length-1))})}return B};var Se=function(){return q(k,ae,arguments)};G?G(Be.exports,"apply",{value:Se}):Be.exports.apply=Se},5107:Be=>{var qe={utf8:{stringToBytes:function(F){return qe.bin.stringToBytes(unescape(encodeURIComponent(F)))},bytesToString:function(F){return decodeURIComponent(escape(qe.bin.bytesToString(F)))}},bin:{stringToBytes:function(F){for(var k=[],u=0;u<F.length;u++)k.push(255&F.charCodeAt(u));return k},bytesToString:function(F){for(var k=[],u=0;u<F.length;u++)k.push(String.fromCharCode(F[u]));return k.join("")}}};Be.exports=qe},7175:Be=>{var qe,F;qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Be.exports=F={rotl:function(k,u){return k<<u|k>>>32-u},rotr:function(k,u){return k<<32-u|k>>>u},endian:function(k){if(k.constructor==Number)return 16711935&F.rotl(k,8)|4278255360&F.rotl(k,24);for(var u=0;u<k.length;u++)k[u]=F.endian(k[u]);return k},randomBytes:function(k){for(var u=[];k>0;k--)u.push(Math.floor(256*Math.random()));return u},bytesToWords:function(k){for(var u=[],ae=0,oe=0;ae<k.length;ae++,oe+=8)u[oe>>>5]|=k[ae]<<24-oe%32;return u},wordsToBytes:function(k){for(var u=[],ae=0;ae<32*k.length;ae+=8)u.push(k[ae>>>5]>>>24-ae%32&255);return u},bytesToHex:function(k){for(var u=[],ae=0;ae<k.length;ae++)u.push((k[ae]>>>4).toString(16)),u.push((15&k[ae]).toString(16));return u.join("")},hexToBytes:function(k){for(var u=[],ae=0;ae<k.length;ae+=2)u.push(parseInt(k.substr(ae,2),16));return u},bytesToBase64:function(k){for(var u=[],ae=0;ae<k.length;ae+=3)for(var oe=k[ae]<<16|k[ae+1]<<8|k[ae+2],q=0;q<4;q++)u.push(8*ae+6*q<=8*k.length?qe.charAt(oe>>>6*(3-q)&63):"=");return u.join("")},base64ToBytes:function(k){k=k.replace(/[^A-Z0-9+\/]/gi,"");for(var u=[],ae=0,oe=0;ae<k.length;oe=++ae%4)0!=oe&&u.push((qe.indexOf(k.charAt(ae-1))&Math.pow(2,-2*oe+8)-1)<<2*oe|qe.indexOf(k.charAt(ae))>>>6-2*oe);return u}}},5541:(Be,qe,F)=>{"use strict";var k=F(2093),u=F(9102),ae=F(5734),oe=F(6687),q=F(8704),K=F(8266),G=F(4666),z=F(2086),Se=F(9903),Z=F(4263),ie=F(2107),B=F(2069),O=F(8432),H=F(5709),Fe=F(6189),Q=Z("Date.prototype.getTime"),Ee=Object.getPrototypeOf,Ce=Z("Object.prototype.toString"),ce=Se("%Set%",!0),he=Z("Map.prototype.has",!0),Ne=Z("Map.prototype.get",!0),me=Z("Map.prototype.size",!0),Ye=Z("Set.prototype.add",!0),be=Z("Set.prototype.delete",!0),Ie=Z("Set.prototype.has",!0),Ae=Z("Set.prototype.size",!0);function ze(V,W,_e,Re){for(var ct,$e=B(V);(ct=$e.next())&&!ct.done;)if(Ke(W,ct.value,_e,Re))return be(V,ct.value),!0;return!1}function Ve(V){return typeof V>"u"?null:"object"!=typeof V?"symbol"!=typeof V&&("string"!=typeof V&&"number"!=typeof V||+V==+V):void 0}function Pe(V,W,_e,Re,$e,ct){var ot=Ve(_e);if(null!=ot)return ot;var at=Ne(W,ot),Lt=Fe({},$e,{strict:!1});return!(typeof at>"u"&&!he(W,ot)||!Ke(Re,at,Lt,ct))&&!he(V,ot)&&Ke(Re,at,Lt,ct)}function X(V,W,_e){var Re=Ve(_e);return Re??(Ie(W,Re)&&!Ie(V,Re))}function Ze(V,W,_e,Re,$e,ct){for(var at,Lt,ot=B(V);(at=ot.next())&&!at.done;)if(Ke(_e,Lt=at.value,$e,ct)&&Ke(Re,Ne(W,Lt),$e,ct))return be(V,Lt),!0;return!1}function Ke(V,W,_e,Re){var $e=_e||{};if($e.strict?ae(V,W):V===W)return!0;if(z(V)!==z(W))return!1;if(!V||!W||"object"!=typeof V&&"object"!=typeof W)return $e.strict?ae(V,W):V==W;var Ut,at=Re.has(V),Lt=Re.has(W);if(at&&Lt){if(Re.get(V)===Re.get(W))return!0}else Ut={};return at||Re.set(V,Ut),Lt||Re.set(W,Ut),function L(V,W,_e,Re){var $e,ct;if(typeof V!=typeof W||null==V||null==W||Ce(V)!==Ce(W)||u(V)!==u(W))return!1;if(K(V)!==K(W))return!1;var Lt=V instanceof Error,Ut=W instanceof Error;if(Lt!==Ut||(Lt||Ut)&&(V.name!==W.name||V.message!==W.message))return!1;var Pn=oe(V),un=oe(W);if(Pn!==un||(Pn||un)&&(V.source!==W.source||q(V)!==q(W)))return!1;var ue=G(V),Zr=G(W);if(ue!==Zr||(ue||Zr)&&Q(V)!==Q(W)||_e.strict&&Ee&&Ee(V)!==Ee(W)||H(V)!==H(W))return!1;var Mr=_t(V),Qn=_t(W);if(Mr!==Qn)return!1;if(Mr||Qn){if(V.length!==W.length)return!1;for($e=0;$e<V.length;$e++)if(V[$e]!==W[$e])return!1;return!0}if(typeof V!=typeof W)return!1;var lo=k(V),ro=k(W);if(lo.length!==ro.length)return!1;for(lo.sort(),ro.sort(),$e=lo.length-1;$e>=0;$e--)if(lo[$e]!=ro[$e])return!1;for($e=lo.length-1;$e>=0;$e--)if(!Ke(V[ct=lo[$e]],W[ct],_e,Re))return!1;var Ar=ie(V),Gn=ie(W);return Ar===Gn&&("Set"===Ar||"Set"===Gn?function Rt(V,W,_e,Re){if(Ae(V)!==Ae(W))return!1;for(var ot,at,Lt,$e=B(V),ct=B(W);(ot=$e.next())&&!ot.done;)if(ot.value&&"object"==typeof ot.value)Lt||(Lt=new ce),Ye(Lt,ot.value);else if(!Ie(W,ot.value)){if(_e.strict||!X(V,W,ot.value))return!1;Lt||(Lt=new ce),Ye(Lt,ot.value)}if(Lt){for(;(at=ct.next())&&!at.done;)if(at.value&&"object"==typeof at.value){if(!ze(Lt,at.value,_e.strict,Re))return!1}else if(!_e.strict&&!Ie(V,at.value)&&!ze(Lt,at.value,_e.strict,Re))return!1;return 0===Ae(Lt)}return!0}(V,W,_e,Re):"Map"!==Ar||function We(V,W,_e,Re){if(me(V)!==me(W))return!1;for(var ot,at,Lt,Ut,Pn,un,$e=B(V),ct=B(W);(ot=$e.next())&&!ot.done;)if(Pn=ot.value[1],(Ut=ot.value[0])&&"object"==typeof Ut)Lt||(Lt=new ce),Ye(Lt,Ut);else if(typeof(un=Ne(W,Ut))>"u"&&!he(W,Ut)||!Ke(Pn,un,_e,Re)){if(_e.strict||!Pe(V,W,Ut,Pn,_e,Re))return!1;Lt||(Lt=new ce),Ye(Lt,Ut)}if(Lt){for(;(at=ct.next())&&!at.done;)if(un=at.value[1],(Ut=at.value[0])&&"object"==typeof Ut){if(!Ze(Lt,V,Ut,un,_e,Re))return!1}else if(!(_e.strict||V.has(Ut)&&Ke(Ne(V,Ut),un,_e,Re)||Ze(Lt,V,Ut,un,Fe({},_e,{strict:!1}),Re)))return!1;return 0===Ae(Lt)}return!0}(V,W,_e,Re))}(V,W,$e,Re)}function _t(V){return!(!V||"object"!=typeof V||"number"!=typeof V.length||"function"!=typeof V.copy||"function"!=typeof V.slice||V.length>0&&"number"!=typeof V[0]||!(V.constructor&&V.constructor.isBuffer&&V.constructor.isBuffer(V)))}Be.exports=function(W,_e,Re){return Ke(W,_e,Re,O())}},1790:(Be,qe,F)=>{"use strict";var k=F(2093),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),ae=Object.prototype.toString,oe=Array.prototype.concat,q=Object.defineProperty,G=F(9006)(),z=q&&G,Se=function(ie,B,O,H){B in ie&&(!function(ie){return"function"==typeof ie&&"[object Function]"===ae.call(ie)}(H)||!H())||(z?q(ie,B,{configurable:!0,enumerable:!1,value:O,writable:!0}):ie[B]=O)},Z=function(ie,B){var O=arguments.length>2?arguments[2]:{},H=k(B);u&&(H=oe.call(H,Object.getOwnPropertySymbols(B)));for(var Fe=0;Fe<H.length;Fe+=1)Se(ie,H[Fe],B[H[Fe]],O[H[Fe]])};Z.supportsDescriptors=!!z,Be.exports=Z},9897:function(Be,qe){!function(F){"use strict";var B,ae=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,oe=536870912,q=2*oe,G=new WeakMap,Se=function(B,O){return function(H){var Fe=O.get(H),Q=void 0===Fe?H.size:Fe<q?Fe+1:0;if(!H.has(Q))return B(H,Q);if(H.size<oe){for(;H.has(Q);)Q=Math.floor(Math.random()*q);return B(H,Q)}if(H.size>ae)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;H.has(Q);)Q=Math.floor(Math.random()*ae);return B(H,Q)}}((B=G,function(O,H){return B.set(O,H),H}),G),Z=function(B){return function(O){var H=B(O);return O.add(H),H}}(Se);F.addUniqueNumber=Z,F.generateUniqueNumber=Se,Object.defineProperty(F,"__esModule",{value:!0})}(qe)},3037:(Be,qe,F)=>{"use strict";var k=F(8642),u=Object.prototype.toString,ae=Object.prototype.hasOwnProperty,oe=function(Se,Z,ie){for(var B=0,O=Se.length;B<O;B++)ae.call(Se,B)&&(null==ie?Z(Se[B],B,Se):Z.call(ie,Se[B],B,Se))},q=function(Se,Z,ie){for(var B=0,O=Se.length;B<O;B++)null==ie?Z(Se.charAt(B),B,Se):Z.call(ie,Se.charAt(B),B,Se)},K=function(Se,Z,ie){for(var B in Se)ae.call(Se,B)&&(null==ie?Z(Se[B],B,Se):Z.call(ie,Se[B],B,Se))};Be.exports=function(Se,Z,ie){if(!k(Z))throw new TypeError("iterator must be a function");var B;arguments.length>=3&&(B=ie),"[object Array]"===u.call(Se)?oe(Se,Z,B):"string"==typeof Se?q(Se,Z,B):K(Se,Z,B)}},2199:Be=>{"use strict";var qe="Function.prototype.bind called on incompatible ",F=Array.prototype.slice,k=Object.prototype.toString,u="[object Function]";Be.exports=function(oe){var q=this;if("function"!=typeof q||k.call(q)!==u)throw new TypeError(qe+q);for(var G,K=F.call(arguments,1),z=function(){if(this instanceof G){var O=q.apply(this,K.concat(F.call(arguments)));return Object(O)===O?O:this}return q.apply(oe,K.concat(F.call(arguments)))},Se=Math.max(0,q.length-K.length),Z=[],ie=0;ie<Se;ie++)Z.push("$"+ie);if(G=Function("binder","return function ("+Z.join(",")+"){ return binder.apply(this,arguments); }")(z),q.prototype){var B=function(){};B.prototype=q.prototype,G.prototype=new B,B.prototype=null}return G}},224:(Be,qe,F)=>{"use strict";var k=F(2199);Be.exports=Function.prototype.bind||k},3677:Be=>{"use strict";var qe=function(){return"string"==typeof function(){}.name},F=Object.getOwnPropertyDescriptor;if(F)try{F([],"length")}catch{F=null}qe.functionsHaveConfigurableNames=function(){if(!qe()||!F)return!1;var ae=F(function(){},"name");return!!ae&&!!ae.configurable};var k=Function.prototype.bind;qe.boundFunctionsHaveNames=function(){return qe()&&"function"==typeof k&&""!==function(){}.bind().name},Be.exports=qe},9903:(Be,qe,F)=>{"use strict";var k,u=SyntaxError,ae=Function,oe=TypeError,q=function(ze){try{return ae('"use strict"; return ('+ze+").constructor;")()}catch{}},K=Object.getOwnPropertyDescriptor;if(K)try{K({},"")}catch{K=null}var G=function(){throw new oe},z=K?function(){try{return G}catch{try{return K(arguments,"callee").get}catch{return G}}}():G,Se=F(524)(),Z=Object.getPrototypeOf||function(ze){return ze.__proto__},ie={},B=typeof Uint8Array>"u"?k:Z(Uint8Array),O={"%AggregateError%":typeof AggregateError>"u"?k:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?k:ArrayBuffer,"%ArrayIteratorPrototype%":Se?Z([][Symbol.iterator]()):k,"%AsyncFromSyncIteratorPrototype%":k,"%AsyncFunction%":ie,"%AsyncGenerator%":ie,"%AsyncGeneratorFunction%":ie,"%AsyncIteratorPrototype%":ie,"%Atomics%":typeof Atomics>"u"?k:Atomics,"%BigInt%":typeof BigInt>"u"?k:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?k:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?k:Float32Array,"%Float64Array%":typeof Float64Array>"u"?k:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?k:FinalizationRegistry,"%Function%":ae,"%GeneratorFunction%":ie,"%Int8Array%":typeof Int8Array>"u"?k:Int8Array,"%Int16Array%":typeof Int16Array>"u"?k:Int16Array,"%Int32Array%":typeof Int32Array>"u"?k:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Se?Z(Z([][Symbol.iterator]())):k,"%JSON%":"object"==typeof JSON?JSON:k,"%Map%":typeof Map>"u"?k:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Se?k:Z((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?k:Promise,"%Proxy%":typeof Proxy>"u"?k:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?k:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?k:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Se?k:Z((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?k:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Se?Z(""[Symbol.iterator]()):k,"%Symbol%":Se?Symbol:k,"%SyntaxError%":u,"%ThrowTypeError%":z,"%TypedArray%":B,"%TypeError%":oe,"%Uint8Array%":typeof Uint8Array>"u"?k:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?k:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?k:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?k:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?k:WeakMap,"%WeakRef%":typeof WeakRef>"u"?k:WeakRef,"%WeakSet%":typeof WeakSet>"u"?k:WeakSet},H=function ze(Ve){var Pe;if("%AsyncFunction%"===Ve)Pe=q("async function () {}");else if("%GeneratorFunction%"===Ve)Pe=q("function* () {}");else if("%AsyncGeneratorFunction%"===Ve)Pe=q("async function* () {}");else if("%AsyncGenerator%"===Ve){var X=ze("%AsyncGeneratorFunction%");X&&(Pe=X.prototype)}else if("%AsyncIteratorPrototype%"===Ve){var Ze=ze("%AsyncGenerator%");Ze&&(Pe=Z(Ze.prototype))}return O[Ve]=Pe,Pe},Fe={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Q=F(224),Ee=F(4031),Ce=Q.call(Function.call,Array.prototype.concat),ce=Q.call(Function.apply,Array.prototype.splice),he=Q.call(Function.call,String.prototype.replace),Ne=Q.call(Function.call,String.prototype.slice),me=Q.call(Function.call,RegExp.prototype.exec),Ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,be=/\\(\\)?/g,Ie=function(Ve){var Pe=Ne(Ve,0,1),X=Ne(Ve,-1);if("%"===Pe&&"%"!==X)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===X&&"%"!==Pe)throw new u("invalid intrinsic syntax, expected opening `%`");var Ze=[];return he(Ve,Ye,function(Ke,_t,Rt,We){Ze[Ze.length]=Rt?he(We,be,"$1"):_t||Ke}),Ze},Ae=function(Ve,Pe){var Ze,X=Ve;if(Ee(Fe,X)&&(X="%"+(Ze=Fe[X])[0]+"%"),Ee(O,X)){var Ke=O[X];if(Ke===ie&&(Ke=H(X)),typeof Ke>"u"&&!Pe)throw new oe("intrinsic "+Ve+" exists, but is not available. Please file an issue!");return{alias:Ze,name:X,value:Ke}}throw new u("intrinsic "+Ve+" does not exist!")};Be.exports=function(Ve,Pe){if("string"!=typeof Ve||0===Ve.length)throw new oe("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Pe)throw new oe('"allowMissing" argument must be a boolean');if(null===me(/^%?[^%]*%?$/g,Ve))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var X=Ie(Ve),Ze=X.length>0?X[0]:"",Ke=Ae("%"+Ze+"%",Pe),_t=Ke.name,Rt=Ke.value,We=!1,L=Ke.alias;L&&(Ze=L[0],ce(X,Ce([0,1],L)));for(var V=1,W=!0;V<X.length;V+=1){var _e=X[V],Re=Ne(_e,0,1),$e=Ne(_e,-1);if(('"'===Re||"'"===Re||"`"===Re||'"'===$e||"'"===$e||"`"===$e)&&Re!==$e)throw new u("property names with quotes must have matching quotes");if(("constructor"===_e||!W)&&(We=!0),Ee(O,_t="%"+(Ze+="."+_e)+"%"))Rt=O[_t];else if(null!=Rt){if(!(_e in Rt)){if(!Pe)throw new oe("base intrinsic for "+Ve+" exists, but the property is not available.");return}if(K&&V+1>=X.length){var ct=K(Rt,_e);Rt=(W=!!ct)&&"get"in ct&&!("originalValue"in ct.get)?ct.get:Rt[_e]}else W=Ee(Rt,_e),Rt=Rt[_e];W&&!We&&(O[_t]=Rt)}}return Rt}},5861:Be=>{"use strict";var qe=typeof BigInt<"u"&&BigInt;Be.exports=function(){return"function"==typeof qe&&"function"==typeof BigInt&&"bigint"==typeof qe(42)&&"bigint"==typeof BigInt(42)}},9006:(Be,qe,F)=>{"use strict";var u=F(9903)("%Object.defineProperty%",!0),ae=function(){if(u)try{return u({},"a",{value:1}),!0}catch{return!1}return!1};ae.hasArrayLengthDefineBug=function(){if(!ae())return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},Be.exports=ae},524:(Be,qe,F)=>{"use strict";var k=typeof Symbol<"u"&&Symbol,u=F(6858);Be.exports=function(){return"function"==typeof k&&"function"==typeof Symbol&&"symbol"==typeof k("foo")&&"symbol"==typeof Symbol("bar")&&u()}},6858:Be=>{"use strict";Be.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var F={},k=Symbol("test"),u=Object(k);if("string"==typeof k||"[object Symbol]"!==Object.prototype.toString.call(k)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(k in F[k]=42,F)return!1;if("function"==typeof Object.keys&&0!==Object.keys(F).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(F).length)return!1;var oe=Object.getOwnPropertySymbols(F);if(1!==oe.length||oe[0]!==k||!Object.prototype.propertyIsEnumerable.call(F,k))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var q=Object.getOwnPropertyDescriptor(F,k);if(42!==q.value||!0!==q.enumerable)return!1}return!0}},3261:(Be,qe,F)=>{"use strict";var k=F(6858);Be.exports=function(){return k()&&!!Symbol.toStringTag}},4031:(Be,qe,F)=>{"use strict";var k=F(224);Be.exports=k.call(Function.call,Object.prototype.hasOwnProperty)},9102:(Be,qe,F)=>{"use strict";var k=F(3261)(),ae=F(4263)("Object.prototype.toString"),oe=function(z){return!(k&&z&&"object"==typeof z&&Symbol.toStringTag in z)&&"[object Arguments]"===ae(z)},q=function(z){return!!oe(z)||null!==z&&"object"==typeof z&&"number"==typeof z.length&&z.length>=0&&"[object Array]"!==ae(z)&&"[object Function]"===ae(z.callee)},K=function(){return oe(arguments)}();oe.isLegacyArguments=q,Be.exports=K?oe:q},3:(Be,qe,F)=>{"use strict";if(F(5861)()){var u=BigInt.prototype.valueOf;Be.exports=function(q){return!(null===q||typeof q>"u"||"boolean"==typeof q||"string"==typeof q||"number"==typeof q||"symbol"==typeof q||"function"==typeof q)&&("bigint"==typeof q||function(q){try{return u.call(q),!0}catch{}return!1}(q))}}else Be.exports=function(q){return!1}},6180:(Be,qe,F)=>{"use strict";var k=F(4263),u=k("Boolean.prototype.toString"),ae=k("Object.prototype.toString"),K=F(3261)();Be.exports=function(z){return"boolean"==typeof z||null!==z&&"object"==typeof z&&(K&&Symbol.toStringTag in z?function(z){try{return u(z),!0}catch{return!1}}(z):"[object Boolean]"===ae(z))}},5057:Be=>{function qe(k){return!!k.constructor&&"function"==typeof k.constructor.isBuffer&&k.constructor.isBuffer(k)}Be.exports=function(k){return null!=k&&(qe(k)||function F(k){return"function"==typeof k.readFloatLE&&"function"==typeof k.slice&&qe(k.slice(0,0))}(k)||!!k._isBuffer)}},8642:Be=>{"use strict";var k,u,qe=Function.prototype.toString,F="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof F&&"function"==typeof Object.defineProperty)try{k=Object.defineProperty({},"length",{get:function(){throw u}}),u={},F(function(){throw 42},null,k)}catch(ie){ie!==u&&(F=null)}else F=null;var ae=/^\s*class\b/,oe=function(B){try{var O=qe.call(B);return ae.test(O)}catch{return!1}},K=Object.prototype.toString,Se="function"==typeof Symbol&&!!Symbol.toStringTag,Z="object"==typeof document&&typeof document.all>"u"&&void 0!==document.all?document.all:{};Be.exports=F?function(B){if(B===Z)return!0;if(!B||"function"!=typeof B&&"object"!=typeof B)return!1;if("function"==typeof B&&!B.prototype)return!0;try{F(B,null,k)}catch(O){if(O!==u)return!1}return!oe(B)}:function(B){if(B===Z)return!0;if(!B||"function"!=typeof B&&"object"!=typeof B)return!1;if("function"==typeof B&&!B.prototype)return!0;if(Se)return function(B){try{return!oe(B)&&(qe.call(B),!0)}catch{return!1}}(B);if(oe(B))return!1;var O=K.call(B);return"[object Function]"===O||"[object GeneratorFunction]"===O}},4666:(Be,qe,F)=>{"use strict";var k=Date.prototype.getDay,ae=Object.prototype.toString,q=F(3261)();Be.exports=function(G){return"object"==typeof G&&null!==G&&(q?function(G){try{return k.call(G),!0}catch{return!1}}(G):"[object Date]"===ae.call(G))}},9898:Be=>{"use strict";var k,qe="function"==typeof Map&&Map.prototype?Map:null,F="function"==typeof Set&&Set.prototype?Set:null;qe||(k=function(q){return!1});var u=qe?Map.prototype.has:null,ae=F?Set.prototype.has:null;!k&&!u&&(k=function(q){return!1}),Be.exports=k||function(q){if(!q||"object"!=typeof q)return!1;try{if(u.call(q),ae)try{ae.call(q)}catch{return!0}return q instanceof qe}catch{}return!1}},1046:(Be,qe,F)=>{"use strict";var k=Number.prototype.toString,ae=Object.prototype.toString,q=F(3261)();Be.exports=function(G){return"number"==typeof G||"object"==typeof G&&(q?function(G){try{return k.call(G),!0}catch{return!1}}(G):"[object Number]"===ae.call(G))}},6687:(Be,qe,F)=>{"use strict";var ae,oe,q,K,k=F(4263),u=F(3261)();if(u){ae=k("Object.prototype.hasOwnProperty"),oe=k("RegExp.prototype.exec"),q={};var G=function(){throw q};K={toString:G,valueOf:G},"symbol"==typeof Symbol.toPrimitive&&(K[Symbol.toPrimitive]=G)}var z=k("Object.prototype.toString"),Se=Object.getOwnPropertyDescriptor;Be.exports=u?function(B){if(!B||"object"!=typeof B)return!1;var O=Se(B,"lastIndex");if(!O||!ae(O,"value"))return!1;try{oe(B,K)}catch(Fe){return Fe===q}}:function(B){return!(!B||"object"!=typeof B&&"function"!=typeof B)&&"[object RegExp]"===z(B)}},3870:Be=>{"use strict";var k,qe="function"==typeof Map&&Map.prototype?Map:null,F="function"==typeof Set&&Set.prototype?Set:null;F||(k=function(q){return!1});var u=qe?Map.prototype.has:null,ae=F?Set.prototype.has:null;!k&&!ae&&(k=function(q){return!1}),Be.exports=k||function(q){if(!q||"object"!=typeof q)return!1;try{if(ae.call(q),u)try{u.call(q)}catch{return!0}return q instanceof F}catch{}return!1}},4764:(Be,qe,F)=>{"use strict";var k=String.prototype.valueOf,ae=Object.prototype.toString,q=F(3261)();Be.exports=function(G){return"string"==typeof G||"object"==typeof G&&(q?function(G){try{return k.call(G),!0}catch{return!1}}(G):"[object String]"===ae.call(G))}},6434:(Be,qe,F)=>{"use strict";var k=Object.prototype.toString;if(F(524)()){var ae=Symbol.prototype.toString,oe=/^Symbol\(.*\)$/;Be.exports=function(G){if("symbol"==typeof G)return!0;if("[object Symbol]"!==k.call(G))return!1;try{return function(G){return"symbol"==typeof G.valueOf()&&oe.test(ae.call(G))}(G)}catch{return!1}}}else Be.exports=function(G){return!1}},7673:(Be,qe,F)=>{"use strict";var k=F(3037),u=F(5271),ae=F(4263),oe=ae("Object.prototype.toString"),q=F(3261)(),K=typeof globalThis>"u"?global:globalThis,G=u(),z=ae("Array.prototype.indexOf",!0)||function(Fe,Q){for(var Ee=0;Ee<Fe.length;Ee+=1)if(Fe[Ee]===Q)return Ee;return-1},Se=ae("String.prototype.slice"),Z={},ie=F(2292),B=Object.getPrototypeOf;q&&ie&&B&&k(G,function(H){var Fe=new K[H];if(Symbol.toStringTag in Fe){var Q=B(Fe),Ee=ie(Q,Symbol.toStringTag);if(!Ee){var Ce=B(Q);Ee=ie(Ce,Symbol.toStringTag)}Z[H]=Ee.get}}),Be.exports=function(Fe){if(!Fe||"object"!=typeof Fe)return!1;if(!q||!(Symbol.toStringTag in Fe)){var Q=Se(oe(Fe),8,-1);return z(G,Q)>-1}return!!ie&&function(Fe){var Q=!1;return k(Z,function(Ee,Ce){if(!Q)try{Q=Ee.call(Fe)===Ce}catch{}}),Q}(Fe)}},5585:Be=>{"use strict";var k,qe="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,F="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;qe||(k=function(q){return!1});var u=qe?qe.prototype.has:null,ae=F?F.prototype.has:null;!k&&!u&&(k=function(q){return!1}),Be.exports=k||function(q){if(!q||"object"!=typeof q)return!1;try{if(u.call(q,u),ae)try{ae.call(q,ae)}catch{return!0}return q instanceof qe}catch{}return!1}},1902:(Be,qe,F)=>{"use strict";var k=F(9903),u=F(4263),ae=k("%WeakSet%",!0),oe=u("WeakSet.prototype.has",!0);if(oe){var q=u("WeakMap.prototype.has",!0);Be.exports=function(G){if(!G||"object"!=typeof G)return!1;try{if(oe(G,oe),q)try{q(G,q)}catch{return!0}return G instanceof ae}catch{}return!1}}else Be.exports=function(G){return!1}},8266:Be=>{var qe={}.toString;Be.exports=Array.isArray||function(F){return"[object Array]"==qe.call(F)}},5023:(Be,qe,F)=>{var k,u,ae,oe,q;k=F(7175),u=F(5107).utf8,ae=F(5057),oe=F(5107).bin,(q=function(K,G){K.constructor==String?K=G&&"binary"===G.encoding?oe.stringToBytes(K):u.stringToBytes(K):ae(K)?K=Array.prototype.slice.call(K,0):!Array.isArray(K)&&K.constructor!==Uint8Array&&(K=K.toString());for(var z=k.bytesToWords(K),Se=8*K.length,Z=1732584193,ie=-271733879,B=-1732584194,O=271733878,H=0;H<z.length;H++)z[H]=16711935&(z[H]<<8|z[H]>>>24)|4278255360&(z[H]<<24|z[H]>>>8);z[Se>>>5]|=128<<Se%32,z[14+(Se+64>>>9<<4)]=Se;var Fe=q._ff,Q=q._gg,Ee=q._hh,Ce=q._ii;for(H=0;H<z.length;H+=16){var ce=Z,he=ie,Ne=B,me=O;Z=Fe(Z,ie,B,O,z[H+0],7,-680876936),O=Fe(O,Z,ie,B,z[H+1],12,-389564586),B=Fe(B,O,Z,ie,z[H+2],17,606105819),ie=Fe(ie,B,O,Z,z[H+3],22,-1044525330),Z=Fe(Z,ie,B,O,z[H+4],7,-176418897),O=Fe(O,Z,ie,B,z[H+5],12,1200080426),B=Fe(B,O,Z,ie,z[H+6],17,-1473231341),ie=Fe(ie,B,O,Z,z[H+7],22,-45705983),Z=Fe(Z,ie,B,O,z[H+8],7,1770035416),O=Fe(O,Z,ie,B,z[H+9],12,-1958414417),B=Fe(B,O,Z,ie,z[H+10],17,-42063),ie=Fe(ie,B,O,Z,z[H+11],22,-1990404162),Z=Fe(Z,ie,B,O,z[H+12],7,1804603682),O=Fe(O,Z,ie,B,z[H+13],12,-40341101),B=Fe(B,O,Z,ie,z[H+14],17,-1502002290),Z=Q(Z,ie=Fe(ie,B,O,Z,z[H+15],22,1236535329),B,O,z[H+1],5,-165796510),O=Q(O,Z,ie,B,z[H+6],9,-1069501632),B=Q(B,O,Z,ie,z[H+11],14,643717713),ie=Q(ie,B,O,Z,z[H+0],20,-373897302),Z=Q(Z,ie,B,O,z[H+5],5,-701558691),O=Q(O,Z,ie,B,z[H+10],9,38016083),B=Q(B,O,Z,ie,z[H+15],14,-660478335),ie=Q(ie,B,O,Z,z[H+4],20,-405537848),Z=Q(Z,ie,B,O,z[H+9],5,568446438),O=Q(O,Z,ie,B,z[H+14],9,-1019803690),B=Q(B,O,Z,ie,z[H+3],14,-187363961),ie=Q(ie,B,O,Z,z[H+8],20,1163531501),Z=Q(Z,ie,B,O,z[H+13],5,-1444681467),O=Q(O,Z,ie,B,z[H+2],9,-51403784),B=Q(B,O,Z,ie,z[H+7],14,1735328473),Z=Ee(Z,ie=Q(ie,B,O,Z,z[H+12],20,-1926607734),B,O,z[H+5],4,-378558),O=Ee(O,Z,ie,B,z[H+8],11,-2022574463),B=Ee(B,O,Z,ie,z[H+11],16,1839030562),ie=Ee(ie,B,O,Z,z[H+14],23,-35309556),Z=Ee(Z,ie,B,O,z[H+1],4,-1530992060),O=Ee(O,Z,ie,B,z[H+4],11,1272893353),B=Ee(B,O,Z,ie,z[H+7],16,-155497632),ie=Ee(ie,B,O,Z,z[H+10],23,-1094730640),Z=Ee(Z,ie,B,O,z[H+13],4,681279174),O=Ee(O,Z,ie,B,z[H+0],11,-358537222),B=Ee(B,O,Z,ie,z[H+3],16,-722521979),ie=Ee(ie,B,O,Z,z[H+6],23,76029189),Z=Ee(Z,ie,B,O,z[H+9],4,-640364487),O=Ee(O,Z,ie,B,z[H+12],11,-421815835),B=Ee(B,O,Z,ie,z[H+15],16,530742520),Z=Ce(Z,ie=Ee(ie,B,O,Z,z[H+2],23,-995338651),B,O,z[H+0],6,-198630844),O=Ce(O,Z,ie,B,z[H+7],10,1126891415),B=Ce(B,O,Z,ie,z[H+14],15,-1416354905),ie=Ce(ie,B,O,Z,z[H+5],21,-57434055),Z=Ce(Z,ie,B,O,z[H+12],6,1700485571),O=Ce(O,Z,ie,B,z[H+3],10,-1894986606),B=Ce(B,O,Z,ie,z[H+10],15,-1051523),ie=Ce(ie,B,O,Z,z[H+1],21,-2054922799),Z=Ce(Z,ie,B,O,z[H+8],6,1873313359),O=Ce(O,Z,ie,B,z[H+15],10,-30611744),B=Ce(B,O,Z,ie,z[H+6],15,-1560198380),ie=Ce(ie,B,O,Z,z[H+13],21,1309151649),Z=Ce(Z,ie,B,O,z[H+4],6,-145523070),O=Ce(O,Z,ie,B,z[H+11],10,-1120210379),B=Ce(B,O,Z,ie,z[H+2],15,718787259),ie=Ce(ie,B,O,Z,z[H+9],21,-343485551),Z=Z+ce>>>0,ie=ie+he>>>0,B=B+Ne>>>0,O=O+me>>>0}return k.endian([Z,ie,B,O])})._ff=function(K,G,z,Se,Z,ie,B){var O=K+(G&z|~G&Se)+(Z>>>0)+B;return(O<<ie|O>>>32-ie)+G},q._gg=function(K,G,z,Se,Z,ie,B){var O=K+(G&Se|z&~Se)+(Z>>>0)+B;return(O<<ie|O>>>32-ie)+G},q._hh=function(K,G,z,Se,Z,ie,B){var O=K+(G^z^Se)+(Z>>>0)+B;return(O<<ie|O>>>32-ie)+G},q._ii=function(K,G,z,Se,Z,ie,B){var O=K+(z^(G|~Se))+(Z>>>0)+B;return(O<<ie|O>>>32-ie)+G},q._blocksize=16,q._digestsize=16,Be.exports=function(K,G){if(null==K)throw new Error("Illegal argument "+K);var z=k.wordsToBytes(q(K,G));return G&&G.asBytes?z:G&&G.asString?oe.bytesToString(z):k.bytesToHex(z)}},9052:(Be,qe)=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});var F=[];F[0]=function(){return function(){}},F[1]=function(oe,q){return typeof q>"u"?oe:function(G){oe(G,q)}};var ae=function(){function oe(){this.hasHandlers=!1,this._handlers=[],this._contexts=[],this._createDispatcher()}return oe.prototype.addHandler=function(q,K){return this.isHandlerAttached(q,K)||(this._handlers.push(q),this._contexts.push(K),this._createDispatcher(),this._updateHasHandlers()),this},oe.prototype.removeHandler=function(q,K){var G=this._getHandlerIndex(q,K);return typeof G<"u"&&(this._handlers.splice(G,1),this._contexts.splice(G,1),this._createDispatcher(),this._updateHasHandlers()),this},oe.prototype.isHandlerAttached=function(q,K){return typeof this._getHandlerIndex(q,K)<"u"},oe.prototype._updateHasHandlers=function(){this.hasHandlers=!!this._handlers.length},oe.prototype._getHandlerIndex=function(q,K){var z,G=this._handlers.length;for(z=0;z<G&&(this._handlers[z]!==q||this._contexts[z]!==K);z++);return z<G?z:void 0},oe.prototype._createDispatcher=function(){this.dispatch=function k(oe){return F[oe]||(F[oe]=function u(oe){for(var q="return function dispatcher"+oe+"(payload) {\n",K=[],G=[],z=0;z<oe;z++)K.push("cb"+z),G.push("ctx"+z),q+="    cb"+z+"(payload, ctx"+z+");\n";return q+="};",new(Function.bind.apply(Function,[void 0].concat(K.concat(G),[q])))}(oe)),F[oe]}(this._handlers.length).apply(this,this._handlers.concat(this._contexts))},oe}();qe.default=ae},1158:(Be,qe,F)=>{"use strict";var u=F(9052);qe.j=u.default},8597:(Be,qe,F)=>{var k="function"==typeof Map&&Map.prototype,u=Object.getOwnPropertyDescriptor&&k?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ae=k&&u&&"function"==typeof u.get?u.get:null,oe=k&&Map.prototype.forEach,q="function"==typeof Set&&Set.prototype,K=Object.getOwnPropertyDescriptor&&q?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,G=q&&K&&"function"==typeof K.get?K.get:null,z=q&&Set.prototype.forEach,Z="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,B="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,H="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Fe=Boolean.prototype.valueOf,Q=Object.prototype.toString,Ee=Function.prototype.toString,Ce=String.prototype.match,ce=String.prototype.slice,he=String.prototype.replace,Ne=String.prototype.toUpperCase,me=String.prototype.toLowerCase,Ye=RegExp.prototype.test,be=Array.prototype.concat,Ie=Array.prototype.join,Ae=Array.prototype.slice,ze=Math.floor,Ve="function"==typeof BigInt?BigInt.prototype.valueOf:null,Pe=Object.getOwnPropertySymbols,X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Ze="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Ke="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,_t=Object.prototype.propertyIsEnumerable,Rt=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(le){return le.__proto__}:null);function We(le,je){if(le===1/0||le===-1/0||le!=le||le&&le>-1e3&&le<1e3||Ye.call(/e/,je))return je;var yn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof le){var En=le<0?-ze(-le):ze(le);if(En!==le){var Ht=String(En),pn=ce.call(je,Ht.length+1);return he.call(Ht,yn,"$&_")+"."+he.call(he.call(pn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return he.call(je,yn,"$&_")}var L=F(4654),V=L.custom,W=un(V)?V:null;function _e(le,je,yn){var En="double"===(yn.quoteStyle||je)?'"':"'";return En+le+En}function Re(le){return he.call(String(le),/"/g,"&quot;")}function $e(le){return!("[object Array]"!==Qn(le)||Ke&&"object"==typeof le&&Ke in le)}function ot(le){return!("[object RegExp]"!==Qn(le)||Ke&&"object"==typeof le&&Ke in le)}function un(le){if(Ze)return le&&"object"==typeof le&&le instanceof Symbol;if("symbol"==typeof le)return!0;if(!le||"object"!=typeof le||!X)return!1;try{return X.call(le),!0}catch{}return!1}Be.exports=function le(je,yn,En,Ht){var pn=yn||{};if(Mr(pn,"quoteStyle")&&"single"!==pn.quoteStyle&&"double"!==pn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mr(pn,"maxStringLength")&&("number"==typeof pn.maxStringLength?pn.maxStringLength<0&&pn.maxStringLength!==1/0:null!==pn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var rr=!Mr(pn,"customInspect")||pn.customInspect;if("boolean"!=typeof rr&&"symbol"!==rr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mr(pn,"indent")&&null!==pn.indent&&"\t"!==pn.indent&&!(parseInt(pn.indent,10)===pn.indent&&pn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mr(pn,"numericSeparator")&&"boolean"!=typeof pn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var an=pn.numericSeparator;if(typeof je>"u")return"undefined";if(null===je)return"null";if("boolean"==typeof je)return je?"true":"false";if("string"==typeof je)return ur(je,pn);if("number"==typeof je){if(0===je)return 1/0/je>0?"0":"-0";var Jn=String(je);return an?We(je,Jn):Jn}if("bigint"==typeof je){var dr=String(je)+"n";return an?We(je,dr):dr}var Wt=typeof pn.depth>"u"?5:pn.depth;if(typeof En>"u"&&(En=0),En>=Wt&&Wt>0&&"object"==typeof je)return $e(je)?"[Array]":"[Object]";var or=function Ci(le,je){var yn;if("\t"===le.indent)yn="\t";else{if(!("number"==typeof le.indent&&le.indent>0))return null;yn=Ie.call(Array(le.indent+1)," ")}return{base:yn,prev:Ie.call(Array(je+1),yn)}}(pn,En);if(typeof Ht>"u")Ht=[];else if(ro(Ht,je)>=0)return"[Circular]";function S(Co,D,Kr){if(D&&(Ht=Ae.call(Ht)).push(D),Kr){var jr={depth:pn.depth};return Mr(pn,"quoteStyle")&&(jr.quoteStyle=pn.quoteStyle),le(Co,jr,En+1,Ht)}return le(Co,pn,En+1,Ht)}if("function"==typeof je&&!ot(je)){var Ft=function lo(le){if(le.name)return le.name;var je=Ce.call(Ee.call(le),/^function\s*([\w$]+)/);return je?je[1]:null}(je),_r=st(je,S);return"[Function"+(Ft?": "+Ft:" (anonymous)")+"]"+(_r.length>0?" { "+Ie.call(_r,", ")+" }":"")}if(un(je)){var I=Ze?he.call(String(je),/^(Symbol\(.*\))_[^)]*$/,"$1"):X.call(je);return"object"!=typeof je||Ze?I:wo(I)}if(function bo(le){return!(!le||"object"!=typeof le)&&(typeof HTMLElement<"u"&&le instanceof HTMLElement||"string"==typeof le.nodeName&&"function"==typeof le.getAttribute)}(je)){for(var Fr="<"+me.call(String(je.nodeName)),co=je.attributes||[],uo=0;uo<co.length;uo++)Fr+=" "+co[uo].name+"="+_e(Re(co[uo].value),"double",pn);return Fr+=">",je.childNodes&&je.childNodes.length&&(Fr+="..."),Fr+"</"+me.call(String(je.nodeName))+">"}if($e(je)){if(0===je.length)return"[]";var No=st(je,S);return or&&!function Yr(le){for(var je=0;je<le.length;je++)if(ro(le[je],"\n")>=0)return!1;return!0}(No)?"["+Rr(No,or)+"]":"[ "+Ie.call(No,", ")+" ]"}if(function at(le){return!("[object Error]"!==Qn(le)||Ke&&"object"==typeof le&&Ke in le)}(je)){var Sr=st(je,S);return"cause"in Error.prototype||!("cause"in je)||_t.call(je,"cause")?0===Sr.length?"["+String(je)+"]":"{ ["+String(je)+"] "+Ie.call(Sr,", ")+" }":"{ ["+String(je)+"] "+Ie.call(be.call("[cause]: "+S(je.cause),Sr),", ")+" }"}if("object"==typeof je&&rr){if(W&&"function"==typeof je[W]&&L)return L(je,{depth:Wt-En});if("symbol"!==rr&&"function"==typeof je.inspect)return je.inspect()}if(function Ar(le){if(!ae||!le||"object"!=typeof le)return!1;try{ae.call(le);try{G.call(le)}catch{return!0}return le instanceof Map}catch{}return!1}(je)){var xo=[];return oe.call(je,function(Co,D){xo.push(S(D,je,!0)+" => "+S(Co,je))}),In("Map",ae.call(je),xo,or)}if(function Cr(le){if(!G||!le||"object"!=typeof le)return!1;try{G.call(le);try{ae.call(le)}catch{return!0}return le instanceof Set}catch{}return!1}(je)){var Kt=[];return z.call(je,function(Co){Kt.push(S(Co,je))}),In("Set",G.call(je),Kt,or)}if(function Gn(le){if(!Z||!le||"object"!=typeof le)return!1;try{Z.call(le,Z);try{B.call(le,B)}catch{return!0}return le instanceof WeakMap}catch{}return!1}(je))return Hr("WeakMap");if(function wi(le){if(!B||!le||"object"!=typeof le)return!1;try{B.call(le,B);try{Z.call(le,Z)}catch{return!0}return le instanceof WeakSet}catch{}return!1}(je))return Hr("WeakSet");if(function cr(le){if(!H||!le||"object"!=typeof le)return!1;try{return H.call(le),!0}catch{}return!1}(je))return Hr("WeakRef");if(function Ut(le){return!("[object Number]"!==Qn(le)||Ke&&"object"==typeof le&&Ke in le)}(je))return wo(S(Number(je)));if(function ue(le){if(!le||"object"!=typeof le||!Ve)return!1;try{return Ve.call(le),!0}catch{}return!1}(je))return wo(S(Ve.call(je)));if(function Pn(le){return!("[object Boolean]"!==Qn(le)||Ke&&"object"==typeof le&&Ke in le)}(je))return wo(Fe.call(je));if(function Lt(le){return!("[object String]"!==Qn(le)||Ke&&"object"==typeof le&&Ke in le)}(je))return wo(S(String(je)));if(!function ct(le){return!("[object Date]"!==Qn(le)||Ke&&"object"==typeof le&&Ke in le)}(je)&&!ot(je)){var oo=st(je,S),ir=Rt?Rt(je)===Object.prototype:je instanceof Object||je.constructor===Object,io=je instanceof Object?"":"null prototype",so=!ir&&Ke&&Object(je)===je&&Ke in je?ce.call(Qn(je),8,-1):io?"Object":"",on=(ir||"function"!=typeof je.constructor?"":je.constructor.name?je.constructor.name+" ":"")+(so||io?"["+Ie.call(be.call([],so||[],io||[]),": ")+"] ":"");return 0===oo.length?on+"{}":or?on+"{"+Rr(oo,or)+"}":on+"{ "+Ie.call(oo,", ")+" }"}return String(je)};var Zr=Object.prototype.hasOwnProperty||function(le){return le in this};function Mr(le,je){return Zr.call(le,je)}function Qn(le){return Q.call(le)}function ro(le,je){if(le.indexOf)return le.indexOf(je);for(var yn=0,En=le.length;yn<En;yn++)if(le[yn]===je)return yn;return-1}function ur(le,je){if(le.length>je.maxStringLength){var yn=le.length-je.maxStringLength,En="... "+yn+" more character"+(yn>1?"s":"");return ur(ce.call(le,0,je.maxStringLength),je)+En}return _e(he.call(he.call(le,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,tr),"single",je)}function tr(le){var je=le.charCodeAt(0),yn={8:"b",9:"t",10:"n",12:"f",13:"r"}[je];return yn?"\\"+yn:"\\x"+(je<16?"0":"")+Ne.call(je.toString(16))}function wo(le){return"Object("+le+")"}function Hr(le){return le+" { ? }"}function In(le,je,yn,En){return le+" ("+je+") {"+(En?Rr(yn,En):Ie.call(yn,", "))+"}"}function Rr(le,je){if(0===le.length)return"";var yn="\n"+je.prev+je.base;return yn+Ie.call(le,","+yn)+"\n"+je.prev}function st(le,je){var yn=$e(le),En=[];if(yn){En.length=le.length;for(var Ht=0;Ht<le.length;Ht++)En[Ht]=Mr(le,Ht)?je(le[Ht],le):""}var rr,pn="function"==typeof Pe?Pe(le):[];if(Ze){rr={};for(var an=0;an<pn.length;an++)rr["$"+pn[an]]=pn[an]}for(var Jn in le)!Mr(le,Jn)||yn&&String(Number(Jn))===Jn&&Jn<le.length||Ze&&rr["$"+Jn]instanceof Symbol||(Ye.call(/[^\w$]/,Jn)?En.push(je(Jn,le)+": "+je(le[Jn],le)):En.push(Jn+": "+je(le[Jn],le)));if("function"==typeof Pe)for(var dr=0;dr<pn.length;dr++)_t.call(le,pn[dr])&&En.push("["+je(pn[dr])+"]: "+je(le[pn[dr]],le));return En}},6872:Be=>{"use strict";var qe=function(F){return F!=F};Be.exports=function(k,u){return 0===k&&0===u?1/k==1/u:!!(k===u||qe(k)&&qe(u))}},5734:(Be,qe,F)=>{"use strict";var k=F(1790),u=F(3855),ae=F(6872),oe=F(3306),q=F(7715),K=u(oe(),Object);k(K,{getPolyfill:oe,implementation:ae,shim:q}),Be.exports=K},3306:(Be,qe,F)=>{"use strict";var k=F(6872);Be.exports=function(){return"function"==typeof Object.is?Object.is:k}},7715:(Be,qe,F)=>{"use strict";var k=F(3306),u=F(1790);Be.exports=function(){var oe=k();return u(Object,{is:oe},{is:function(){return Object.is!==oe}}),oe}},7010:(Be,qe,F)=>{"use strict";var k;if(!Object.keys){var u=Object.prototype.hasOwnProperty,ae=Object.prototype.toString,oe=F(5185),q=Object.prototype.propertyIsEnumerable,K=!q.call({toString:null},"toString"),G=q.call(function(){},"prototype"),z=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Se=function(O){var H=O.constructor;return H&&H.prototype===O},Z={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ie=function(){if(typeof window>"u")return!1;for(var O in window)try{if(!Z["$"+O]&&u.call(window,O)&&null!==window[O]&&"object"==typeof window[O])try{Se(window[O])}catch{return!0}}catch{return!0}return!1}();k=function(H){var Fe=null!==H&&"object"==typeof H,Q="[object Function]"===ae.call(H),Ee=oe(H),Ce=Fe&&"[object String]"===ae.call(H),ce=[];if(!Fe&&!Q&&!Ee)throw new TypeError("Object.keys called on a non-object");var he=G&&Q;if(Ce&&H.length>0&&!u.call(H,0))for(var Ne=0;Ne<H.length;++Ne)ce.push(String(Ne));if(Ee&&H.length>0)for(var me=0;me<H.length;++me)ce.push(String(me));else for(var Ye in H)(!he||"prototype"!==Ye)&&u.call(H,Ye)&&ce.push(String(Ye));if(K)for(var be=function(O){if(typeof window>"u"||!ie)return Se(O);try{return Se(O)}catch{return!1}}(H),Ie=0;Ie<z.length;++Ie)(!be||"constructor"!==z[Ie])&&u.call(H,z[Ie])&&ce.push(z[Ie]);return ce}}Be.exports=k},2093:(Be,qe,F)=>{"use strict";var k=Array.prototype.slice,u=F(5185),ae=Object.keys,oe=ae?function(G){return ae(G)}:F(7010),q=Object.keys;oe.shim=function(){if(Object.keys){var G=function(){var z=Object.keys(arguments);return z&&z.length===arguments.length}(1,2);G||(Object.keys=function(Se){return u(Se)?q(k.call(Se)):q(Se)})}else Object.keys=oe;return Object.keys||oe},Be.exports=oe},5185:Be=>{"use strict";var qe=Object.prototype.toString;Be.exports=function(k){var u=qe.call(k),ae="[object Arguments]"===u;return ae||(ae="[object Array]"!==u&&null!==k&&"object"==typeof k&&"number"==typeof k.length&&k.length>=0&&"[object Function]"===qe.call(k.callee)),ae}},2461:(Be,qe,F)=>{"use strict";var k=F(2093),u=function(Se){return typeof Se<"u"&&null!==Se},ae=F(6858)(),oe=F(4263),q=Object,K=oe("Array.prototype.push"),G=oe("Object.prototype.propertyIsEnumerable"),z=ae?Object.getOwnPropertySymbols:null;Be.exports=function(Z,ie){if(!u(Z))throw new TypeError("target must be an object");var O,H,Fe,Q,Ee,Ce,ce,B=q(Z);for(O=1;O<arguments.length;++O){H=q(arguments[O]),Q=k(H);var he=ae&&(Object.getOwnPropertySymbols||z);if(he)for(Ee=he(H),Fe=0;Fe<Ee.length;++Fe)G(H,ce=Ee[Fe])&&K(Q,ce);for(Fe=0;Fe<Q.length;++Fe)Ce=H[ce=Q[Fe]],G(H,ce)&&(B[ce]=Ce)}return B}},6189:(Be,qe,F)=>{"use strict";var k=F(1790),u=F(3855),ae=F(2461),oe=F(6255),q=F(152),K=u.apply(oe()),G=function(Se,Z){return K(Object,arguments)};k(G,{getPolyfill:oe,implementation:ae,shim:q}),Be.exports=G},6255:(Be,qe,F)=>{"use strict";var k=F(2461);Be.exports=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var oe="abcdefghijklmnopqrst",q=oe.split(""),K={},G=0;G<q.length;++G)K[q[G]]=q[G];var z=Object.assign({},K),Se="";for(var Z in z)Se+=Z;return oe!==Se}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var oe=Object.preventExtensions({1:2});try{Object.assign(oe,"xy")}catch{return"y"===oe[1]}return!1}()?k:Object.assign}},152:(Be,qe,F)=>{"use strict";var k=F(1790),u=F(6255);Be.exports=function(){var oe=u();return k(Object,{assign:oe},{assign:function(){return Object.assign!==oe}}),oe}},151:(Be,qe)=>{"use strict";var F=Object.prototype.hasOwnProperty;function u(K){try{return decodeURIComponent(K.replace(/\+/g," "))}catch{return null}}function ae(K){try{return encodeURIComponent(K)}catch{return null}}qe.stringify=function q(K,G){G=G||"";var Se,Z,z=[];for(Z in"string"!=typeof G&&(G="?"),K)if(F.call(K,Z)){if(!(Se=K[Z])&&(null==Se||isNaN(Se))&&(Se=""),Z=ae(Z),Se=ae(Se),null===Z||null===Se)continue;z.push(Z+"="+Se)}return z.length?G+z.join("&"):""},qe.parse=function oe(K){for(var Se,G=/([^=?#&]+)=?([^&]*)/g,z={};Se=G.exec(K);){var Z=u(Se[1]),ie=u(Se[2]);null===Z||null===ie||Z in z||(z[Z]=ie)}return z}},4040:(Be,qe,F)=>{"use strict";var k=F(3677).functionsHaveConfigurableNames(),u=Object,ae=TypeError;Be.exports=function(){if(null!=this&&this!==u(this))throw new ae("RegExp.prototype.flags getter called on non-object");var q="";return this.hasIndices&&(q+="d"),this.global&&(q+="g"),this.ignoreCase&&(q+="i"),this.multiline&&(q+="m"),this.dotAll&&(q+="s"),this.unicode&&(q+="u"),this.sticky&&(q+="y"),q},k&&Object.defineProperty&&Object.defineProperty(Be.exports,"name",{value:"get flags"})},8704:(Be,qe,F)=>{"use strict";var k=F(1790),u=F(3855),ae=F(4040),oe=F(9783),q=F(9369),K=u(oe());k(K,{getPolyfill:oe,implementation:ae,shim:q}),Be.exports=K},9783:(Be,qe,F)=>{"use strict";var k=F(4040),u=F(1790).supportsDescriptors,ae=Object.getOwnPropertyDescriptor;Be.exports=function(){if(u&&"gim"===/a/gim.flags){var q=ae(RegExp.prototype,"flags");if(q&&"function"==typeof q.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var K="",G={};if(Object.defineProperty(G,"hasIndices",{get:function(){K+="d"}}),Object.defineProperty(G,"sticky",{get:function(){K+="y"}}),"dy"===K)return q.get}}return k}},9369:(Be,qe,F)=>{"use strict";var k=F(1790).supportsDescriptors,u=F(9783),ae=Object.getOwnPropertyDescriptor,oe=Object.defineProperty,q=TypeError,K=Object.getPrototypeOf,G=/a/;Be.exports=function(){if(!k||!K)throw new q("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var Se=u(),Z=K(G),ie=ae(Z,"flags");return(!ie||ie.get!==Se)&&oe(Z,"flags",{configurable:!0,enumerable:!1,get:Se}),Se}},47:Be=>{"use strict";Be.exports=function(F,k){if(k=k.split(":")[0],!(F=+F))return!1;switch(k){case"http":case"ws":return 80!==F;case"https":case"wss":return 443!==F;case"ftp":return 21!==F;case"gopher":return 70!==F;case"file":return!1}return 0!==F}},8432:(Be,qe,F)=>{"use strict";var k=F(9903),u=F(4263),ae=F(8597),oe=k("%TypeError%"),q=k("%WeakMap%",!0),K=k("%Map%",!0),G=u("WeakMap.prototype.get",!0),z=u("WeakMap.prototype.set",!0),Se=u("WeakMap.prototype.has",!0),Z=u("Map.prototype.get",!0),ie=u("Map.prototype.set",!0),B=u("Map.prototype.has",!0),O=function(Ee,Ce){for(var he,ce=Ee;null!==(he=ce.next);ce=he)if(he.key===Ce)return ce.next=he.next,he.next=Ee.next,Ee.next=he,he};Be.exports=function(){var Ce,ce,he,Ne={assert:function(me){if(!Ne.has(me))throw new oe("Side channel does not contain "+ae(me))},get:function(me){if(q&&me&&("object"==typeof me||"function"==typeof me)){if(Ce)return G(Ce,me)}else if(K){if(ce)return Z(ce,me)}else if(he)return function(Ee,Ce){var ce=O(Ee,Ce);return ce&&ce.value}(he,me)},has:function(me){if(q&&me&&("object"==typeof me||"function"==typeof me)){if(Ce)return Se(Ce,me)}else if(K){if(ce)return B(ce,me)}else if(he)return function(Ee,Ce){return!!O(Ee,Ce)}(he,me);return!1},set:function(me,Ye){q&&me&&("object"==typeof me||"function"==typeof me)?(Ce||(Ce=new q),z(Ce,me,Ye)):K?(ce||(ce=new K),ie(ce,me,Ye)):(he||(he={key:{},next:null}),function(Ee,Ce,ce){var he=O(Ee,Ce);he?he.value=ce:Ee.next={key:Ce,next:Ee.next,value:ce}}(he,me,Ye))}};return Ne}},9233:(Be,qe,F)=>{"use strict";var k=F(47),u=F(151),ae=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,oe=/[\n\r\t]/g,q=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,K=/:\d+$/,G=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,z=/^[a-zA-Z]:/;function Se(ce){return(ce||"").toString().replace(ae,"")}var Z=[["#","hash"],["?","query"],function(he,Ne){return O(Ne.protocol)?he.replace(/\\/g,"/"):he},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ie={hash:1,query:1};function B(ce){var he;he=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var be,me={},Ye=typeof(ce=ce||he.location||{});if("blob:"===ce.protocol)me=new Q(unescape(ce.pathname),{});else if("string"===Ye)for(be in me=new Q(ce,{}),ie)delete me[be];else if("object"===Ye){for(be in ce)be in ie||(me[be]=ce[be]);void 0===me.slashes&&(me.slashes=q.test(ce.href))}return me}function O(ce){return"file:"===ce||"ftp:"===ce||"http:"===ce||"https:"===ce||"ws:"===ce||"wss:"===ce}function H(ce,he){ce=(ce=Se(ce)).replace(oe,""),he=he||{};var Ae,Ne=G.exec(ce),me=Ne[1]?Ne[1].toLowerCase():"",Ye=!!Ne[2],be=!!Ne[3],Ie=0;return Ye?be?(Ae=Ne[2]+Ne[3]+Ne[4],Ie=Ne[2].length+Ne[3].length):(Ae=Ne[2]+Ne[4],Ie=Ne[2].length):be?(Ae=Ne[3]+Ne[4],Ie=Ne[3].length):Ae=Ne[4],"file:"===me?Ie>=2&&(Ae=Ae.slice(2)):O(me)?Ae=Ne[4]:me?Ye&&(Ae=Ae.slice(2)):Ie>=2&&O(he.protocol)&&(Ae=Ne[4]),{protocol:me,slashes:Ye||O(me),slashesCount:Ie,rest:Ae}}function Q(ce,he,Ne){if(ce=(ce=Se(ce)).replace(oe,""),!(this instanceof Q))return new Q(ce,he,Ne);var me,Ye,be,Ie,Ae,ze,Ve=Z.slice(),Pe=typeof he,X=this,Ze=0;for("object"!==Pe&&"string"!==Pe&&(Ne=he,he=null),Ne&&"function"!=typeof Ne&&(Ne=u.parse),me=!(Ye=H(ce||"",he=B(he))).protocol&&!Ye.slashes,X.slashes=Ye.slashes||me&&he.slashes,X.protocol=Ye.protocol||he.protocol||"",ce=Ye.rest,("file:"===Ye.protocol&&(2!==Ye.slashesCount||z.test(ce))||!Ye.slashes&&(Ye.protocol||Ye.slashesCount<2||!O(X.protocol)))&&(Ve[3]=[/(.*)/,"pathname"]);Ze<Ve.length;Ze++)"function"!=typeof(Ie=Ve[Ze])?(ze=Ie[1],(be=Ie[0])!=be?X[ze]=ce:"string"==typeof be?~(Ae="@"===be?ce.lastIndexOf(be):ce.indexOf(be))&&("number"==typeof Ie[2]?(X[ze]=ce.slice(0,Ae),ce=ce.slice(Ae+Ie[2])):(X[ze]=ce.slice(Ae),ce=ce.slice(0,Ae))):(Ae=be.exec(ce))&&(X[ze]=Ae[1],ce=ce.slice(0,Ae.index)),X[ze]=X[ze]||me&&Ie[3]&&he[ze]||"",Ie[4]&&(X[ze]=X[ze].toLowerCase())):ce=Ie(ce,X);Ne&&(X.query=Ne(X.query)),me&&he.slashes&&"/"!==X.pathname.charAt(0)&&(""!==X.pathname||""!==he.pathname)&&(X.pathname=function Fe(ce,he){if(""===ce)return he;for(var Ne=(he||"/").split("/").slice(0,-1).concat(ce.split("/")),me=Ne.length,Ye=Ne[me-1],be=!1,Ie=0;me--;)"."===Ne[me]?Ne.splice(me,1):".."===Ne[me]?(Ne.splice(me,1),Ie++):Ie&&(0===me&&(be=!0),Ne.splice(me,1),Ie--);return be&&Ne.unshift(""),("."===Ye||".."===Ye)&&Ne.push(""),Ne.join("/")}(X.pathname,he.pathname)),"/"!==X.pathname.charAt(0)&&O(X.protocol)&&(X.pathname="/"+X.pathname),k(X.port,X.protocol)||(X.host=X.hostname,X.port=""),X.username=X.password="",X.auth&&(~(Ae=X.auth.indexOf(":"))?(X.username=X.auth.slice(0,Ae),X.username=encodeURIComponent(decodeURIComponent(X.username)),X.password=X.auth.slice(Ae+1),X.password=encodeURIComponent(decodeURIComponent(X.password))):X.username=encodeURIComponent(decodeURIComponent(X.auth)),X.auth=X.password?X.username+":"+X.password:X.username),X.origin="file:"!==X.protocol&&O(X.protocol)&&X.host?X.protocol+"//"+X.host:"null",X.href=X.toString()}Q.prototype={set:function Ee(ce,he,Ne){var me=this;switch(ce){case"query":"string"==typeof he&&he.length&&(he=(Ne||u.parse)(he)),me[ce]=he;break;case"port":me[ce]=he,k(he,me.protocol)?he&&(me.host=me.hostname+":"+he):(me.host=me.hostname,me[ce]="");break;case"hostname":me[ce]=he,me.port&&(he+=":"+me.port),me.host=he;break;case"host":me[ce]=he,K.test(he)?(he=he.split(":"),me.port=he.pop(),me.hostname=he.join(":")):(me.hostname=he,me.port="");break;case"protocol":me.protocol=he.toLowerCase(),me.slashes=!Ne;break;case"pathname":case"hash":if(he){var Ye="pathname"===ce?"/":"#";me[ce]=he.charAt(0)!==Ye?Ye+he:he}else me[ce]=he;break;case"username":case"password":me[ce]=encodeURIComponent(he);break;case"auth":var be=he.indexOf(":");~be?(me.username=he.slice(0,be),me.username=encodeURIComponent(decodeURIComponent(me.username)),me.password=he.slice(be+1),me.password=encodeURIComponent(decodeURIComponent(me.password))):me.username=encodeURIComponent(decodeURIComponent(he))}for(var Ie=0;Ie<Z.length;Ie++){var Ae=Z[Ie];Ae[4]&&(me[Ae[1]]=me[Ae[1]].toLowerCase())}return me.auth=me.password?me.username+":"+me.password:me.username,me.origin="file:"!==me.protocol&&O(me.protocol)&&me.host?me.protocol+"//"+me.host:"null",me.href=me.toString(),me},toString:function Ce(ce){(!ce||"function"!=typeof ce)&&(ce=u.stringify);var he,Ne=this,me=Ne.host,Ye=Ne.protocol;Ye&&":"!==Ye.charAt(Ye.length-1)&&(Ye+=":");var be=Ye+(Ne.protocol&&Ne.slashes||O(Ne.protocol)?"//":"");return Ne.username?(be+=Ne.username,Ne.password&&(be+=":"+Ne.password),be+="@"):Ne.password?(be+=":"+Ne.password,be+="@"):"file:"!==Ne.protocol&&O(Ne.protocol)&&!me&&"/"!==Ne.pathname&&(be+="@"),(":"===me[me.length-1]||K.test(Ne.hostname)&&!Ne.port)&&(me+=":"),be+=me+Ne.pathname,(he="object"==typeof Ne.query?ce(Ne.query):Ne.query)&&(be+="?"!==he.charAt(0)?"?"+he:he),Ne.hash&&(be+=Ne.hash),be}},Q.extractProtocol=H,Q.location=B,Q.trimLeft=Se,Q.qs=u,Be.exports=Q},2086:(Be,qe,F)=>{"use strict";var k=F(4764),u=F(1046),ae=F(6180),oe=F(6434),q=F(3);Be.exports=function(G){return null==G||"object"!=typeof G&&"function"!=typeof G?null:k(G)?"String":u(G)?"Number":ae(G)?"Boolean":oe(G)?"Symbol":q(G)?"BigInt":void 0}},5709:(Be,qe,F)=>{"use strict";var k=F(3037),u=F(5271),ae=F(4263),oe=ae("Object.prototype.toString"),q=F(3261)(),K=typeof globalThis>"u"?global:globalThis,G=u(),z=ae("String.prototype.slice"),Se={},Z=F(2292),ie=Object.getPrototypeOf;q&&Z&&ie&&k(G,function(H){if("function"==typeof K[H]){var Fe=new K[H];if(Symbol.toStringTag in Fe){var Q=ie(Fe),Ee=Z(Q,Symbol.toStringTag);if(!Ee){var Ce=ie(Q);Ee=Z(Ce,Symbol.toStringTag)}Se[H]=Ee.get}}});var O=F(7673);Be.exports=function(Fe){return!!O(Fe)&&(q&&Symbol.toStringTag in Fe?function(Fe){var Q=!1;return k(Se,function(Ee,Ce){if(!Q)try{var ce=Ee.call(Fe);ce===Ce&&(Q=ce)}catch{}}),Q}(Fe):z(oe(Fe),8,-1))}},863:(Be,qe,F)=>{var k={"./ion-accordion_2.entry.js":[79,8592,79],"./ion-action-sheet.entry.js":[5593,8592,5593],"./ion-alert.entry.js":[3225,8592,3225],"./ion-app_8.entry.js":[4812,8592,4812],"./ion-avatar_3.entry.js":[6655,8592,6655],"./ion-back-button.entry.js":[4856,8592,4856],"./ion-backdrop.entry.js":[3059,3059],"./ion-breadcrumb_2.entry.js":[8648,8592,8648],"./ion-button_2.entry.js":[8308,8592,8308],"./ion-card_5.entry.js":[4690,8592,4690],"./ion-checkbox.entry.js":[4090,8592,4090],"./ion-chip.entry.js":[6214,8592,6214],"./ion-col_3.entry.js":[9447,9447],"./ion-datetime_3.entry.js":[9689,8592,9689],"./ion-fab_3.entry.js":[8840,8592,8840],"./ion-img.entry.js":[749,749],"./ion-infinite-scroll_2.entry.js":[9667,8592,9667],"./ion-input.entry.js":[3288,8592,3288],"./ion-item-option_3.entry.js":[5473,8592,5473],"./ion-item_8.entry.js":[3634,8592,3634],"./ion-loading.entry.js":[2855,8592,2855],"./ion-menu_3.entry.js":[495,8592,495],"./ion-modal.entry.js":[8737,8592,8737],"./ion-nav_2.entry.js":[9632,8592,9632],"./ion-picker-column-internal.entry.js":[4446,8592,4446],"./ion-picker-internal.entry.js":[2275,2275],"./ion-popover.entry.js":[8050,8592,8050],"./ion-progress-bar.entry.js":[8994,8592,8994],"./ion-radio_2.entry.js":[3592,8592,3592],"./ion-range.entry.js":[5454,8592,5454],"./ion-refresher_2.entry.js":[290,8592,290],"./ion-reorder_2.entry.js":[2666,8592,2666],"./ion-ripple-effect.entry.js":[4816,4816],"./ion-route_4.entry.js":[5534,8592,5534],"./ion-searchbar.entry.js":[4902,8592,4902],"./ion-segment_2.entry.js":[1938,8592,1938],"./ion-select_3.entry.js":[8179,8592,8179],"./ion-slide_2.entry.js":[668,668],"./ion-spinner.entry.js":[1624,8592,1624],"./ion-split-pane.entry.js":[9989,9989],"./ion-tab-bar_2.entry.js":[8902,8592,8902],"./ion-tab_2.entry.js":[199,8592,199],"./ion-text.entry.js":[8395,8592,8395],"./ion-textarea.entry.js":[6357,8592,6357],"./ion-toast.entry.js":[8268,8592,8268],"./ion-toggle.entry.js":[5269,8592,5269],"./ion-virtual-scroll.entry.js":[2875,2875]};function u(ae){if(!F.o(k,ae))return Promise.resolve().then(()=>{var K=new Error("Cannot find module '"+ae+"'");throw K.code="MODULE_NOT_FOUND",K});var oe=k[ae],q=oe[0];return Promise.all(oe.slice(1).map(F.e)).then(()=>F(q))}u.keys=()=>Object.keys(k),u.id=863,Be.exports=u},4654:()=>{},5271:Be=>{"use strict";var qe=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],F=typeof globalThis>"u"?global:globalThis;Be.exports=function(){for(var u=[],ae=0;ae<qe.length;ae++)"function"==typeof F[qe[ae]]&&(u[u.length]=qe[ae]);return u}},2292:(Be,qe,F)=>{"use strict";var u=F(9903)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}Be.exports=u},2069:(Be,qe,F)=>{"use strict";var k=F(9102);if(F(524)()||F(6858)()){var u=Symbol.iterator;Be.exports=function(Ae){return null!=Ae&&typeof Ae[u]<"u"?Ae[u]():k(Ae)?Array.prototype[u].call(Ae):void 0}}else{var ae=F(8266),oe=F(4764),q=F(9903),K=q("%Map%",!0),G=q("%Set%",!0),z=F(4263),Se=z("Array.prototype.push"),Z=z("String.prototype.charCodeAt"),ie=z("String.prototype.slice"),O=function(Ae){var ze=0;return{next:function(){var X,Pe=ze>=Ae.length;return Pe||(X=Ae[ze],ze+=1),{done:Pe,value:X}}}},H=function(Ae,ze){if(ae(Ae)||k(Ae))return O(Ae);if(oe(Ae)){var Ve=0;return{next:function(){var X=function(Ae,ze){if(ze+1>=Ae.length)return ze+1;var Pe=Z(Ae,ze);if(Pe<55296||Pe>56319)return ze+1;var X=Z(Ae,ze+1);return X<56320||X>57343?ze+1:ze+2}(Ae,Ve),Ze=ie(Ae,Ve,X);return Ve=X,{done:X>Ae.length,value:Ze}}}}return ze&&typeof Ae["_es6-shim iterator_"]<"u"?Ae["_es6-shim iterator_"]():void 0};if(K||G){var Fe=F(9898),Q=F(3870),Ee=z("Map.prototype.forEach",!0),Ce=z("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var ce=z("Map.prototype.iterator",!0),he=z("Set.prototype.iterator",!0),Ne=function(Ie){var Ae=!1;return{next:function(){try{return{done:Ae,value:Ae?void 0:Ie.next()}}catch{return Ae=!0,{done:!0,value:void 0}}}}};var me=z("Map.prototype.@@iterator",!0)||z("Map.prototype._es6-shim iterator_",!0),Ye=z("Set.prototype.@@iterator",!0)||z("Set.prototype._es6-shim iterator_",!0);Be.exports=function(Ae){return function(Ae){if(Fe(Ae)){if(ce)return Ne(ce(Ae));if(me)return me(Ae);if(Ee){var ze=[];return Ee(Ae,function(Pe,X){Se(ze,[X,Pe])}),O(ze)}}if(Q(Ae)){if(he)return Ne(he(Ae));if(Ye)return Ye(Ae);if(Ce){var Ve=[];return Ce(Ae,function(Pe){Se(Ve,Pe)}),O(Ve)}}}(Ae)||H(Ae)}}else Be.exports=function(Ae){if(null!=Ae)return H(Ae,!0)}}},2107:(Be,qe,F)=>{"use strict";var k=F(9898),u=F(3870),ae=F(5585),oe=F(1902);Be.exports=function(K){if(K&&"object"==typeof K){if(k(K))return"Map";if(u(K))return"Set";if(ae(K))return"WeakMap";if(oe(K))return"WeakSet"}return!1}},3918:(Be,qe,F)=>{"use strict";function k(ae,oe,q,K,G,z,Se){try{var Z=ae[z](Se),ie=Z.value}catch(B){return void q(B)}Z.done?oe(ie):Promise.resolve(ie).then(K,G)}function u(ae){return function(){var oe=this,q=arguments;return new Promise(function(K,G){var z=ae.apply(oe,q);function Se(ie){k(z,K,G,Se,Z,"next",ie)}function Z(ie){k(z,K,G,Se,Z,"throw",ie)}Se(void 0)})}}F.d(qe,{Z:()=>u})}},Be=>{Be(Be.s=8389)}]);
//# sourceMappingURL=main.f983fcdbab3e0512.js.map